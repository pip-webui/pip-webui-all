{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/split.ts","src/color_picker/ColorPicker.ts","src/dependencies/TranslateFilter.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","src/toast/index.ts","temp/pip-webui-controls-html.min.js","src/common/ButtonsUpload.ts","src/fail/FileFail.ts","src/model/FileModel.ts","src/select/FileSelect.ts","src/service/FileUploadService.ts","src/service/FileUploadState.ts","src/start/FileStart.ts","src/success/FileSuccess.ts","src/upload/FileUpload.ts","temp/pip-webui-files-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","split","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","thisModule","angular","run","$rootScope","pipSplit","$on","event","toState","toParams","fromState","fromParams","splitElements","$","removeClass","name","forwardTransition","addClass","provider","addTransitionSequence","sequence","_","isArray","transitionSequences","push","toIndex","fromIndex","indexOf","$get","controls","ColorPickerBindings","ngDisabled","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","$scope","$element","$attrs","$timeout","class","prototype","$onChanges","changes","currentValue","currentColorIndex","selectColor","index","_this","$apply","enterSpacePress","pipColorPicker","bindings","templateUrl","controller","component","translateFilter","$injector","pipTranslate","has","get","key","$inject","filter","Object","defineProperty","value","pipImageSliderController_1","$parse","$interval","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","_type","type","_interval","interval","slideTo","slideToPrivate","setIndex","_blocks","find","startInterval","_throttled","throttle","toBlock","_newIndex","_direction","id","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","Number","cancel","bindToController","controllerAs","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","oldIndex","direction","blockIndex","5","on","vm","SliderButtonController_1","scope","6","css","undefined","SliderIndicatorController_1","7","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","8","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","9","setTranslations","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","location","time","MarkdownBindings","text","isList","clamp","rebind","MarkdownController","MarkdownChanges","$postLink","bindText","_text","_$scope","newText","describeAttachments","array","attachTypes","attach","attachString","_pipTranslate","translate","textString","isClamped","height","options","obj","item","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","attr","append","ConfigTranslations","MarkdownComponent","PopoverController","$compile","$templateRequest","backdropElement","backdropClick","params","responsive","position","extend","locals","template","content","init","then","calcHeight","onResize","resize","cancelCallback","closePopover","remove","onPopoverClick","stopPropagation","focus","timeout","element","pos","offset","width","docWidth","document","docHeight","popover","left","top","title","footer","contentHeight","outerHeight","Math","max","PopoverBindings","Popover","PopoverService","popoverTemplate","show","p","hide","$new","isObject","$broadcast","service","./PopoverService","13","RoutingBindings","showProgress","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","14","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","message","actions","actionLenght","toString","onDetails","error","ok","noop","onAction","action","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","splice","showToast","hideDelay","duration","currentToast","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","result","each","cloneDeep","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","16","./Toast","./ToastService","17","$templateCache","put","files","ButtonsUpload","FileFailBindings","buttons","FileFailController","FileFailChanges","$watch","fileFailComponent","./model/FileModel","./select/FileSelect","./service/FileUploadService","./start/FileStart","./success/FileSuccess","./upload/FileUpload","fileModelLink","attrs","model","fileModel","assign","bind","modelSetter","fileModelDirective","restrict","link","FileSelectBindings","localFile","change","FileSelectController","onUploadButtonClick","click","onDeleteButtonClick","forml","getElementById","reset","fileSelectDirective","replace","FileUploadService","$http","upload","file","url","resultCallback","progressCallback","fd","FormData","FileUploadState_1","FileUploadState","Uploading","progress","lengthComputable","loaded","total","headers","Content-Type","success","response","Completed","Failed","10","FileStartBindings","FileStartChanges","FileStartController","fileStartDirective","11","FileSuccessBindings","FileSuccessController","fileSuccessDirective","12","FileUploadBindings","FileUploadButtons","buttonFunction","state","FileUploadChanges","FileUploadController","$onInit","uploadButtons","failButtons","onCancel","onRetry","startButtons","onAbort","retry","abort","fileUploadDirective"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\r\n * @file Split layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSplit', []);\r\n\r\n    thisModule.run( function($rootScope, pipSplit) {\r\n        // Intercept routes\r\n        $rootScope.$on('$stateChangeStart',\r\n            function(event, toState, toParams, fromState, fromParams) {\r\n                // Split animation\r\n                var splitElements = $('.pip-split');\r\n                \r\n                if (splitElements.length > 0) {\r\n                    splitElements.removeClass('pip-transition-forward');\r\n                    splitElements.removeClass('pip-transition-back');\r\n                    if (toState.name != fromState.name) {\r\n                        if (pipSplit.forwardTransition(toState, fromState)) {\r\n                            splitElements.addClass('pip-transition-forward');\r\n                        } else {\r\n                            splitElements.addClass('pip-transition-back');\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n    });\r\n\r\n    thisModule.provider('pipSplit', function(): any {\r\n        var transitionSequences = [];\r\n\r\n        this.addTransitionSequence = addTransitionSequence;\r\n\r\n        this.$get = function () {\r\n            return {\r\n                forwardTransition: forwardTransition\r\n            };\r\n        };\r\n\r\n        return;\r\n\r\n        //----------------------------\r\n\r\n        function addTransitionSequence(sequence) {\r\n            if (!_.isArray(sequence) || sequence.length == 0) {\r\n                throw new Error('Transition sequence must be an array of state names');\r\n            }\r\n\r\n            transitionSequences.push(sequence);\r\n        }\r\n\r\n        function forwardTransition(toState, fromState) {\r\n            var i, toIndex, fromIndex;\r\n\r\n            for (i = 0; i < transitionSequences.length; i++) {\r\n                toIndex = transitionSequences[i].indexOf(toState.name),\r\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\r\n\r\n                if (toIndex > -1) {\r\n                    return toIndex > fromIndex;\r\n                }\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","{\n    interface IColorPickerBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        colors: any;\n        currentColor: any;\n        colorChange: any;\n    }\n\n    interface IColorPickerAttributes extends ng.IAttributes {\n        class: string;\n    }\n\n    const ColorPickerBindings: IColorPickerBindings = {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '&?ngChange'\n    }\n\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\n        currentColor: any;\n\n        ngDisabled: ng.IChangesObject < boolean > ;\n        colors: ng.IChangesObject < string[] > ;\n    }\n\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n    class ColorPickerController implements IColorPickerBindings {\n        public class: string;\n        public colors: string[];\n        public currentColor: string;\n        public currentColorIndex: number;\n        public ngDisabled: boolean;\n        public colorChange: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            $attrs: IColorPickerAttributes,\n            private $timeout: ng.ITimeoutService\n        ) { \n            this.class = $attrs.class || ''; \n        }\n\n        public $onChanges(changes: ColorPickerChanges) {\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\n                changes.colors.currentValue : DEFAULT_COLORS;\n            this.currentColor = this.currentColor || this.colors[0];\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\n\n            this.ngDisabled = changes.ngDisabled.currentValue;\n        }\n\n        public selectColor(index: number) {\n            if (this.ngDisabled) {\n                return;\n            }\n            this.currentColorIndex = index;\n            this.currentColor = this.colors[this.currentColorIndex];\n            this.$timeout(() => {\n                this.$scope.$apply();\n            });\n\n            if (this.colorChange) {\n                this.colorChange();\n            }\n        };\n\n        public enterSpacePress(event): void {\n            this.selectColor(event.index);\n        };\n\n    }\n\n    const pipColorPicker: ng.IComponentOptions = {\n        bindings: ColorPickerBindings,\n        templateUrl: 'color_picker/ColorPicker.html',\n        controller: ColorPickerController\n    }\n\n    angular\n        .module('pipColorPicker', ['pipControls.Templates'])\n        .component('pipColorPicker', pipColorPicker);\n\n}","{\n    function translateFilter($injector: angular.auto.IInjectorService) {\n        let pipTranslate: any = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return (key: string) => {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular\n        .module('pipFiles.Translate', [])\n        .filter('translate', translateFilter);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class pipImageSliderController implements ng.IController {\n        private _blocks: any[];\n        private _index: number = 0;\n        private _newIndex: number;\n        private _direction: string;\n        private _type: string;\n        private DEFAULT_INTERVAL:number = 4500;\n        private _interval: number | string;\n        private _timePromises;\n        private _throttled: Function;\n\n        public swipeStart: number = 0;\n        public sliderIndex: number;\n        public slideTo: Function;\n        public type: Function;\n        public interval: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs,\n            private $parse: ng.IParseService,\n            private $timeout: angular.ITimeoutService,\n            private $interval: angular.IIntervalService,\n            private pipImageSlider: IImageSliderService\n        ) {\n\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\n            this._type = this.type();\n            this._interval = this.interval();\n            this.slideTo = this.slideToPrivate;\n\n            $element.addClass('pip-image-slider');\n            $element.addClass('pip-animation-' + this._type);\n\n            this.setIndex();\n\n            $timeout(() => {\n                this._blocks = <any>$element.find('.pip-animation-block');\n                if (this._blocks.length > 0) {\n                    $(this._blocks[0]).addClass('pip-show');\n                }\n            });\n\n            this.startInterval();\n\n            this._throttled = _.throttle(() => {\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n                this._index = this._newIndex;\n                this.setIndex();\n            }, 700);\n\n            if ($attrs.id) {\n                pipImageSlider.registerSlider($attrs.id, $scope)\n            }\n\n            $scope.$on('$destroy', () => {\n                this.stopInterval();\n                pipImageSlider.removeSlider($attrs.id);\n            });\n\n        }\n\n        public nextBlock() {\n            this.restartInterval();\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }\n\n        public prevBlock() {\n            this.restartInterval();\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n            this._direction = 'prev';\n            this._throttled();\n        }\n\n        private slideToPrivate(nextIndex: number) {\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n                return;\n            }\n\n            this.restartInterval();\n            this._newIndex = nextIndex;\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\n            this._throttled();\n        }\n\n        private setIndex() {\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\n        }\n\n        private startInterval() {\n            this._timePromises = this.$interval(() => {\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n                this._direction = 'next';\n                this._throttled();\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\n        }\n\n        private stopInterval() {\n            this.$interval.cancel(this._timePromises);\n        }\n\n        private restartInterval() {\n            this.stopInterval();\n            this.startInterval();\n        }\n    }\n\n    const ImageSlider = function(): ng.IDirective {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular.module('pipImageSlider')\n        .directive('pipImageSlider', ImageSlider);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class ImageSliderService implements IImageSliderService {\n        private ANIMATION_DURATION: number = 550;\n        private _sliders: Object = {};\n\n        constructor(\n            private $timeout: angular.ITimeoutService\n        ) {}\n\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\n            this._sliders[sliderId] = sliderScope;\n        }\n\n        public removeSlider(sliderId: string): void {\n            delete this._sliders[sliderId];\n        }\n\n        public getSliderScope(sliderId: string) {\n            return this._sliders[sliderId];\n        }\n\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            nextBlock.addClass('pip-next');\n\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                prevBlock.addClass('animated').removeClass('pip-show');\n            }, 100);\n        }\n\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show');\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n            }, 100);\n        }\n\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n            const prevBlock = $(blocks[oldIndex]),\n                blockIndex = nextIndex,\n                nextBlock = $(blocks[blockIndex]);\n\n            if (type === 'carousel') {\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                if (direction && (direction === 'prev' || direction === 'next')) {\n                    if (direction === 'prev') {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                } else {\n                    if (nextIndex && nextIndex < oldIndex) {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                }\n            } else {\n                prevBlock.addClass('animated').removeClass('pip-show');\n                nextBlock.addClass('animated').addClass('pip-show');\n            }\n        }\n    }\n\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderButtonController implements ng.IController {\n        public direction: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.on('click', () => {\n                if (!this.sliderId() || !this.direction()) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\n            });\n        }\n    }\n\n    const SliderButton = function (): ng.IDirective {\n        return {\n            scope: {\n                direction: '&pipButtonType',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderButtonController\n        };\n    }\n\n    angular\n        .module('pipSliderButton', [])\n        .directive('pipSliderButton', SliderButton);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderIndicatorController implements ng.IController {\n        public slideTo: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.css('cursor', 'pointer');\n            $element.on('click', () => {\n                if (!this.sliderId() || this.slideTo() === undefined) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\n            });\n        }\n    }\n\n    const SliderIndicator = function (): ng.IDirective {\n        return {\n            scope: {\n                slideTo: '&pipSlideTo',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderIndicatorController\n        }\n    }\n\n    angular\n        .module('pipSliderIndicator', [])\n        .directive('pipSliderIndicator', SliderIndicator);\n}","angular\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\nimport './ImageSlider';\nimport './ImageSliderService';\nimport './SliderButton';\nimport './SliderIndicator';\n\nexport * from './IImageSliderService';","﻿\nimport './service/FileUploadService';\nimport './model/FileModel';\nimport './success/FileSuccess';\nimport './upload/FileUpload';\nimport './start/FileStart';\nimport './fail/FileFail';\nimport './select/FileSelect';\n\nangular\n    .module('pipFiles', [\n        'pipFiles.Service',\n        'pipFiles.Model',\n        'pipFiles.SuccessUpload',\n        'pipFiles.FileUpload',\n        'pipFiles.StartUpload',\n        'pipFiles.FailUpload',\n        'pipFiles.Select'\n    ]);\n","declare var marked: any;\n\n{\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            (<any>pipTranslate).setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            (<any>pipTranslate).setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\n                'checklist': 'Список',\n                'documents': 'Документы',\n                'pictures': 'Изображения',\n                'location': 'Местонахождение',\n                'time': 'Время'\n            });\n        }\n    }\n\n    interface IMarkdownBindings {\n        [key: string]: any;\n\n        text: any;\n        isList: any;\n        clamp: any;\n        rebind: any;\n    }\n\n    const MarkdownBindings: IMarkdownBindings = {\n        text: '<pipText',\n        isList: '<?pipList',\n        clamp: '<?pipLineCount',\n        rebind: '<?pipRebind'\n    }\n\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        text: ng.IChangesObject < string > ;\n        isList: ng.IChangesObject < boolean > ;\n        clamp: ng.IChangesObject < number | string > ;\n        rebind: ng.IChangesObject < boolean > ;\n    }\n\n    class MarkdownController implements IMarkdownBindings, ng.IController {\n        private _pipTranslate;\n\n        public text: string;\n        public isList: boolean;\n        public clamp: string | number;\n        public rebind: boolean;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $element: JQuery,\n            $injector: ng.auto.IInjectorService\n        ) {\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        }\n\n        public $postLink() {\n            // Fill the text\n            this.bindText(this.text);\n\n            this.$scope.$on('pipWindowResized', function () {\n                if (this.bindText) this.bindText(this._text(this._$scope));\n            });\n\n            // Add class\n            this.$element.addClass('pip-markdown');\n\n        }\n\n        public $onChanges(changes: MarkdownChanges) {\n            const newText = changes.text.currentValue;\n\n            if (this.rebind) {\n                this.text = newText;\n                this.bindText(this.text);\n            }\n        }\n\n        private describeAttachments(array) {\n            var attachString = '',\n                attachTypes = [];\n\n            _.each(array, function (attach) {\n                if (attach.type && attach.type !== 'text') {\n                    if (attachString.length === 0 && this._pipTranslate) {\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                    }\n\n                    if (attachTypes.indexOf(attach.type) < 0) {\n                        attachTypes.push(attach.type);\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\n                        if (this._pipTranslate)\n                            attachString += this._pipTranslate.translate(attach.type);\n                    }\n                }\n            });\n\n            return attachString;\n        }\n\n        private bindText(value) {\n            let textString, isClamped, height, options, obj;\n\n            if (_.isArray(value)) {\n                obj = _.find(value, function (item: any) {\n                    return item.type === 'text' && item.text;\n                });\n\n                textString = obj ? obj.text : this.describeAttachments(value);\n            } else {\n                textString = value;\n            }\n\n            isClamped = this.clamp && _.isNumber(this.clamp);\n            isClamped = isClamped && textString && textString.length > 0;\n            options = {\n                gfm: true,\n                tables: true,\n                breaks: true,\n                sanitize: true,\n                pedantic: true,\n                smartLists: true,\n                smartypents: false\n            };\n            textString = marked(textString || '', options);\n            if (isClamped) {\n                height = 1.5 * Number(this.clamp);\n            }\n            // Assign value as HTML\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n            this.$element.find('a').attr('target', 'blank');\n            if (!this.isList && isClamped) {\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\n            }\n        }\n    }\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: MarkdownBindings\n    }\n\n    angular\n        .module('pipMarkdown', ['ngSanitize'])\n        .run(ConfigTranslations)\n        .component('pipMarkdown', MarkdownComponent);\n}","{\n    interface IPopoverBindings {\n        [key: string]: any;\n\n        params: any;\n    }\n\n    const PopoverBindings: IPopoverBindings = {\n        params: '<pipParams'\n    }\n\n    class PopoverController implements IPopoverBindings, ng.IController {\n        private backdropElement;\n        private content;\n        public params: any;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $compile: ng.ICompileService,\n            private $templateRequest: ng.ITemplateRequestService\n        ) {\n            this.backdropElement = $('.pip-popover-backdrop');\n            this.backdropElement.on('click keydown scroll', () => {\n                this.backdropClick();\n            });\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\n\n            $timeout(() => {\n                this.position();\n                angular.extend($scope, this.params.locals);\n\n                if (this.params.template) {\n                    this.content = $compile(this.params.template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n\n                    this.init();\n                } else {\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\n                        this.content = $compile(html)($scope);\n                        $element.find('.pip-popover').append(this.content);\n\n                        this.init();\n                    });\n                }\n            });\n\n            $timeout(() => {\n                this.calcHeight();\n            }, 200);\n            $rootScope.$on('pipPopoverResize', () => {\n                this.onResize()\n            });\n            $(window).resize(() => {\n                this.onResize()\n            });\n        }\n\n        public backdropClick() {\n            if (this.params.cancelCallback) {\n                this.params.cancelCallback();\n            }\n            this.closePopover();\n        }\n\n        public closePopover() {\n            this.backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                this.backdropElement.remove();\n            }, 100);\n        }\n\n        public onPopoverClick(event) {\n            event.stopPropagation();\n        }\n\n        private init() {\n            this.backdropElement.addClass('opened');\n            $('.pip-popover-backdrop').focus();\n            if (this.params.timeout) {\n                this.$timeout(function () {\n                    this.closePopover();\n                }, this.params.timeout);\n            }\n        }\n\n        private position() {\n            if (this.params.element) {\n                let element = $(this.params.element),\n                    pos = element.offset(),\n                    width = element.width(),\n                    height = element.height(),\n                    docWidth = $(document).width(),\n                    docHeight = $(document).height(),\n                    popover = this.backdropElement.find('.pip-popover');\n\n                if (pos) {\n                    popover\n                        .css('max-width', docWidth - (docWidth - pos.left))\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                        .css('left', pos.left - popover.width() + width / 2)\n                        .css('top', pos.top + height + 16);\n                }\n            }\n        }\n\n        private onResize() {\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n            this.position();\n            this.calcHeight();\n        }\n\n        private calcHeight() {\n            if (this.params.calcHeight === false) {\n                return;\n            }\n            const popover = this.backdropElement.find('.pip-popover'),\n                title = popover.find('.pip-title'),\n                footer = popover.find('.pip-footer'),\n                content = popover.find('.pip-content'),\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n        }\n    }\n\n    const Popover: ng.IComponentOptions = {\n        bindings: PopoverBindings,\n        templateUrl: 'popover/Popover.html',\n        controller: PopoverController\n    }\n\n    angular\n        .module('pipPopover')\n        .component('pipPopover', Popover);\n}","import { IPopoverService } from './IPopoverService';\n\n{\n    interface PopoverTemplateScope extends ng.IScope {\n        params ? : any;\n        locals ? : any;\n    }\n\n    class PopoverService implements IPopoverService {\n        private popoverTemplate: string;\n\n        constructor(\n            private $compile: ng.ICompileService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService\n        ) {\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n        }\n\n        public show(p: Object) {\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\n\n            element = $('body');\n            if (element.find('md-backdrop').length > 0) {\n                return;\n            }\n            this.hide();\n            scope = this.$rootScope.$new();\n            params = p && _.isObject(p) ? p : {};\n            scope.params = params;\n            scope.locals = params.locals;\n            content = this.$compile(this.popoverTemplate)(scope);\n            element.append(content);\n        }\n\n        public hide() {\n            const backdropElement = $('.pip-popover-backdrop');\n            backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                backdropElement.remove();\n            }, 100);\n        }\n\n        public resize() {\n            this.$rootScope.$broadcast('pipPopoverResize');\n        }\n    }\n\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n}","angular.module('pipPopover', ['pipPopover.Service']);\n\nimport './Popover';\nimport './PopoverService';\n\nexport * from './IPopoverService';","{\n    interface IRoutingBindings {\n        [key: string]: any;\n\n        logoUrl: any;\n        showProgress: any;\n    }\n\n    const RoutingBindings: IRoutingBindings = {\n        showProgress: '&',\n        logoUrl: '@'\n    }\n\n    class RoutingController implements ng.IController, IRoutingBindings {\n        private _image: any;\n\n        public logoUrl: string;\n        public showProgress: Function;\n\n        constructor(\n            $scope: ng.IScope,\n            private $element: JQuery\n        ) { }\n\n        public $postLink() {\n            this._image = this.$element.find('img');\n            this.loadProgressImage();\n        }\n\n        public loadProgressImage() {\n            if (this.logoUrl) {\n                this._image.attr('src', this.logoUrl);\n            }\n        }\n    }\n\n    const RoutingProgress: ng.IComponentOptions = {\n        bindings: RoutingBindings,\n        templateUrl: 'progress/RoutingProgress.html',\n        controller: RoutingController\n    }\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n}","export class Toast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n","import { Toast } from './Toast';\nimport { IToastService } from './IToastService';\n\n{\n    class ToastController {\n        private _pipErrorDetailsDialog;\n\n        public message: string;\n        public actions: string[];\n        public actionLenght: number;\n        public showDetails: boolean;\n\n        constructor(\n            private $mdToast: angular.material.IToastService,\n            public toast: Toast,\n            $injector: ng.auto.IInjectorService\n        ) {\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\n                $injector.get('pipErrorDetailsDialog') : null;\n            this.message = toast.message;\n            this.actions = toast.actions;\n\n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n        }\n\n        public onDetails(): void {\n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onAction(action): void {\n            this.$mdToast.hide({\n                action: action,\n                id: this.toast.id,\n                message: this.message\n            });\n        }\n    }\n\n    class ToastService implements IToastService {\n        private SHOW_TIMEOUT: number = 20000;\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n        private toasts: Toast[] = [];\n        private currentToast: any;\n        private sounds: any = {};\n\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            private $mdToast: angular.material.IToastService\n        ) {\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\n        }\n\n        public showNextToast(): void {\n            let toast: Toast;\n\n            if (this.toasts.length > 0) {\n                toast = this.toasts[0];\n                this.toasts.splice(0, 1);\n                this.showToast(toast);\n            }\n        }\n\n        // Show toast\n        public showToast(toast: Toast): void {\n            this.currentToast = toast;\n\n            this.$mdToast.show({\n                    templateUrl: 'toast/Toast.html',\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: ToastController,\n                    controllerAs: 'vm',\n                    locals: {\n                        toast: this.currentToast,\n                        sounds: this.sounds\n                    }\n                })\n                .then(\n                    (action: string) => {\n                        this.showToastOkResult(action);\n                    },\n                    (action: string) => {\n                        this.showToastCancelResult(action);\n                    }\n                );\n        }\n\n        private showToastCancelResult(action: string): void {\n            if (this.currentToast.cancelCallback) {\n                this.currentToast.cancelCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        private showToastOkResult(action: string): void {\n            if (this.currentToast.successCallback) {\n                this.currentToast.successCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        public addToast(toast): void {\n            if (this.currentToast && toast.type !== 'error') {\n                this.toasts.push(toast);\n            } else {\n                this.showToast(toast);\n            }\n        }\n\n        public removeToasts(type: string): void {\n            const result: any[] = [];\n            _.each(this.toasts, (toast) => {\n                if (!toast.type || toast.type !== type) {\n                    result.push(toast);\n                }\n            });\n            this.toasts = _.cloneDeep(result);\n        }\n\n        public removeToastsById(id: string): void {\n            _.remove(this.toasts, {\n                id: id\n            });\n        }\n\n        public getToastById(id: string): Toast {\n            return _.find(this.toasts, {\n                id: id\n            });\n        }\n\n        public onStateChangeSuccess() {}\n\n        public onClearToasts(): void {\n            this.clearToasts(null);\n        }\n\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n            this.addToast({\n                id: id || null,\n                type: 'notification',\n                message: message,\n                actions: actions || ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback,\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n            });\n        }\n\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\n            this.addToast({\n                id: id || null,\n                type: 'message',\n                message: message,\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public hideAllToasts(): void {\n            this.$mdToast.cancel();\n            this.toasts = [];\n        }\n\n        public clearToasts(type ? : string) {\n            if (type) {\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                this.removeToasts(type);\n            } else {\n                this.$mdToast.cancel();\n                this.toasts = [];\n            }\n        }\n\n    }\n\n    angular\n        .module('pipToasts')\n        .service('pipToasts', ToastService);\n}","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n\nimport './ToastService';\nimport './Toast';\n\nexport * from './IToastService';","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/ColorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/Popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/RoutingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/Toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","export class ButtonsUpload {\n    public title: string;\n    public click: Function;\n}","import { ButtonsUpload } from \"../common/ButtonsUpload\";\n\ninterface IFileFailBindings {\n    [key: string]: any;\n\n    buttons: any,\n    name: any,\n    type: any,\n    error: any\n}\n\nconst FileFailBindings: IFileFailBindings = {\n    buttons: '<?pipButtons',\n    name: '<pipName',\n    type: '<?pipType',\n    error: '<pipError'\n}\n\nclass FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n}\n\n\ninterface IFileFailController {\n    name: string;\n    type: string;\n    error: string;\n    buttons: ButtonsUpload[];\n}\n\nclass FileFailController implements IFileFailController, IFileFailBindings {\n    public name: string;\n    public type: string;\n    public error: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n        \n        $scope.$watch('error', (error: string) => {\n            this.error = error;\n        })\n    }\n}\n\nconst fileFailComponent: ng.IComponentOptions = {\n    controller: FileFailController,\n    bindings: FileFailBindings,\n    templateUrl: 'fail/FileFail.html'\n};\n\nangular\n    .module('pipFiles.FailUpload', [])\n    .component('pipFailUpload', fileFailComponent)\n","{\n    function fileModelLink(scope, element, attrs, $parse) {\n        let model = $parse(attrs.fileModel);\n        let modelSetter = model.assign;\n                \n        element.bind('change', () => {\n            scope.$apply(() => {\n                modelSetter(scope, element[0].files[0]);\n            });\n        });\n    }\n\n    function fileModelDirective($parse: ng.IParseProvider) {\n        \"ngInject\";\n\n        return {\n            restrict: 'A',\n            link: (scope: ng.IScope, element, attrs: ng.IAttributes) => { \n                fileModelLink(scope, element, attrs, $parse) \n            }\n        };\n    }\n\n    angular\n        .module('pipFiles.Model', [])\n        .directive('fileModel', fileModelDirective)\n}","{\n\n    interface IFileSelectController {\n        localFile: any;\n        onUploadButtonClick(): void;\n        onDeleteButtonClick(): void;\n    }\n\n    interface IFileSelectBindings {\n        [key: string]: any;\n\n        localFile: any,\n        change: any\n    }\n\n    const FileSelectBindings: IFileSelectBindings = {\n        localFile: '<pipLocalFile',\n        change: '<pipChange'\n    }\n\n    class FileSelectController implements IFileSelectController {\n        public localFile: any;\n        public change: Function;\n\n        constructor($scope: ng.IScope) {\n            \"ngInject\";\n            $scope.$watch('$ctrl.localFile', (item) => {\n                if (this.change) {\n                    this.change(this.localFile);\n                }\n            })\n        }\n\n        public onUploadButtonClick(): void {\n            $('#inp_file').click();\n        }\n\n        public onDeleteButtonClick(): void {\n            this.localFile = null;\n            let forml = document.getElementById('inp_form');\n            (<any>forml).reset();\n\n        }\n    }\n\n    const fileSelectDirective = {\n        restrict: 'E',\n        replace: true,\n        bindings: FileSelectBindings,\n        controller: FileSelectController,\n        templateUrl: 'select/FileSelect.html'\n    }\n\n    angular\n        .module('pipFiles.Select', [])\n        .component('pipFileSelect', fileSelectDirective)\n\n}\n","import { FileUploadState } from './FileUploadState';\nimport { IFileUploadService } from './IFileUploadService';\n\nclass FileUploadService implements IFileUploadService {\n\n    public constructor(private $http: ng.IHttpService) {\n        \"ngInject\";\n    }\n\n    public upload(file: any, url: string,\n        resultCallback?: (data: any, err: any) => void,\n        progressCallback?: (state: FileUploadState, progress: number) => void\n    ): void {\n\n        let fd: FormData = new FormData();\n        fd.append('file', file);\n\n        if (progressCallback)\n            progressCallback(FileUploadState.Uploading, 0);\n\n        this.$http.post(url, fd, <any>{\n            uploadEventHandlers: {\n                progress: (e: any) => {\n                    if (e.lengthComputable && progressCallback) {\n                        progressCallback(FileUploadState.Uploading, (e.loaded / e.total) * 100);\n                    }\n                }\n            },\n            headers: { 'Content-Type': undefined }\n        })\n        .success((response: any) => {\n            if (progressCallback)\n                progressCallback(FileUploadState.Completed, 100);\n\n            if (resultCallback)\n                resultCallback(response, null);\n        })\n        .error((response: any) => {\n            if (progressCallback)\n                progressCallback(FileUploadState.Failed, 0);\n\n            if (resultCallback)\n                resultCallback(null, response.Error || response);\n        });\n    }\n}\n\nangular\n    .module('pipFiles.Service', [])\n    .service('pipFileUpload', FileUploadService);\n","export enum FileUploadState {\n    Uploading,\n    Completed,\n    Failed\n}","import { ButtonsUpload } from \"../common/ButtonsUpload\";\n\ninterface IFileStartBindings {\n    [key: string]: any;\n\n    type: any\n    buttons: any,\n    name: any,\n    progress: any\n}\n\nconst FileStartBindings: IFileStartBindings = {\n    buttons: '<?pipButtons',\n    name: '<pipName',\n    type: '<?pipType',\n    progress: '<?pipProgress'\n};\n\n\nclass FileStartChanges implements ng.IOnChangesObject, IFileStartBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\n    name: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n    progress: ng.IChangesObject<number>;\n}\n\n\ninterface IFileStartController {\n    name: string;\n    type: string;\n    progress: number;\n    buttons: ButtonsUpload[];\n}\n\nclass FileStartController implements IFileStartController {\n    public name: string;\n    public progress: number = 0;\n    public type: string;\n    public buttons: ButtonsUpload[];\n\n    constructor() { }\n\n    public $onChanges(changes: FileStartChanges) {\n        if (changes.progress) {\n            this.progress = changes.progress.currentValue;\n        }\n\n    }\n\n}\n\nconst fileStartDirective = {\n    controller: FileStartController,\n    bindings: FileStartBindings,\n    templateUrl: 'start/FileStart.html'\n};\n\nangular\n    .module('pipFiles.StartUpload', [])\n    .component('pipStartUpload', fileStartDirective)\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\n\ninterface IFileSuccessBindings {\n    [key: string]: any;\n\n    type: any\n    buttons: any,\n    name: any\n}\n\nconst FileSuccessBindings: IFileSuccessBindings = {\n    buttons: '=?pipButtons',\n    name: '=pipName',\n    type: '=?pipType',\n}\n\ninterface IFileSuccessController {\n    name: string;\n    type: string;\n    buttons: ButtonsUpload[];\n}\n\nclass FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\n    public name: string;\n    public type: string = 'file';\n    public buttons: ButtonsUpload[];\n\n    constructor() {}\n\n    public $onChanges(changes) {}\n}\n\nconst fileSuccessDirective = {\n    restrict: 'E',\n    replace: true,\n    controller: FileSuccessController,\n    controllerAs: 'vm',\n    bindings: FileSuccessBindings,\n    templateUrl: 'success/FileSuccess.html'\n}\n\n\nangular\n    .module('pipFiles.SuccessUpload', [])\n    .component('pipSuccesUpload', fileSuccessDirective)\n","import { IFileUploadService } from \"../service/IFileUploadService\";\nimport { ButtonsUpload } from \"../common/ButtonsUpload\";\n\nclass FileUploadButtons {\n    retry: Function;\n    cancel: Function;\n    abort: Function;\n}\n\ninterface IFileUploadController {\n    name: string;\n    type: string;\n    state: string;\n    progress: number;\n    onCancel(): void;\n    onRetry(): void;\n    onAbort(): void;\n}\n\ninterface IFileUploadBindings {\n    [key: string]: any;\n\n    buttonFunction: any,\n    buttons: any,\n    error: any,\n    name: any,\n    state: any,\n    type: any,\n    progress: any\n}\n\nconst FileUploadBindings: IFileUploadBindings = {\n    buttonFunction: '<?pipButtonFunctions',\n    buttons: '<?pipButtons',\n    error: '<?pipError',\n    name: '<pipName',\n    state: '<pipState',\n    type: '<?pipType',\n    progress: '<pipProgress'\n}\n\nclass FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\n    buttons: ng.IChangesObject<boolean>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    state: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n    progress: ng.IChangesObject<number>;\n}\n\n\nclass FileUploadController implements IFileUploadController, IFileUploadBindings {\n    public buttonFunction: FileUploadButtons;\n    public uploadButtons: ButtonsUpload[];\n    public failButtons: ButtonsUpload[];\n    public startButtons: ButtonsUpload[];\n\n    public name: string;\n    public type: string;\n    public state: string;\n    public progress: number;\n    public buttons: boolean;\n    public error: string = null;\n\n    constructor($scope: ng.IScope) { }\n\n    public $onInit() {\n        if (this.buttons) {\n            this.uploadButtons = [];\n            this.failButtons = [\n                { title: 'Cancel', click: () => { this.onCancel() } },\n                { title: 'Retry', click: () => { this.onRetry() } }\n            ];\n            this.startButtons = [\n                { title: 'Abort', click: () => { this.onAbort() } }\n            ];\n        }\n    }\n\n    public $onChanges(changes: FileUploadChanges) {\n        if (changes.state) {\n            this.state = changes.state.currentValue;\n        }\n\n        if (changes.progress) {\n            this.progress = changes.progress.currentValue;\n        }\n\n        if (changes.error) {\n            this.error = changes.error.currentValue;\n        }\n\n    }\n\n    public onCancel(): void {\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\n    }\n\n    public onRetry(): void {\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\n    }\n\n    public onAbort() {\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\n    }\n\n}\n\nconst fileUploadDirective = {\n    controller: FileUploadController,\n    bindings: FileUploadBindings,\n    templateUrl: 'upload/FileUpload.html'\n};\n\n\nangular\n    .module('pipFiles.FileUpload', [])\n    .component('pipFileUpload', fileUploadDirective)\n","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{$ctrl.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div class=\"color-error pip-error\">{{$ctrl.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"$ctrl.localFile\" id=\"inp_file\" ng-model=\"$ctrl.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"$ctrl.onUploadButtonClick()\" ng-if=\"!$ctrl.localFile\">Choose File</md-button><div ng-if=\"$ctrl.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{$ctrl.localFile.name}}</div><div ng-if=\"$ctrl.localFile.size\" class=\"color-secondary-text\">{{$ctrl.localFile.size}}</div></div><md-button ng-click=\"$ctrl.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::$ctrl.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{$ctrl.progress}}\" ng-if=\"$ctrl.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"$ctrl.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in $ctrl.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == 2\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == 0\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n"]}