{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","../node_modules/async/dist/async.js","../node_modules/process/browser.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/Translation.ts","src/translate/TranslateService.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/dependencies/TranslateFilter.ts","src/fabs/FabTooltipVisibility.ts","src/refresh_button/RefreshButton.ts","src/toggle_buttons/ToggleButtons.ts","temp/pip-webui-buttons-html.min.js","src/cache/cache-config.service.ts","src/cache/cache.interceptor.ts","src/cache/cache.models.ts","src/cache/cache.service.ts","src/cache/index.ts","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/Focused.ts","src/infinite_scroll/InfiniteScroll.ts","src/selected/Selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/UnsavedChanges.ts","src/color_picker/ColorPicker.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","temp/pip-webui-controls-html.min.js","src/toast/index.ts","src/tag_list/TagList.ts","temp/pip-webui-lists-html.min.js","src/date/Date.ts","src/date_format/DateConvertService.ts","src/date_format/DateFormatFilter.ts","src/date_format/DateFormatService.ts","src/date_format/IDateConvertService.ts","src/date_format/index.ts","src/date_range/DateRange.ts","src/time_range/TimeRange.ts","src/time_range_edit/TimeRangeEdit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationDialogController.ts","src/confirmation/ConfirmationDialogParams.ts","src/confirmation/ConfirmationDialogService.ts","src/confirmation/index.ts","src/error_details/ErrorDetailsDialogController.ts","src/error_details/ErrorDetailsDialogParams.ts","src/error_details/ErrorDetailsDialogService.ts","src/error_details/index.ts","src/information/InformationDialogController.ts","src/information/InformationDialogParams.ts","src/information/InformationDialogService.ts","src/information/index.ts","src/options/OptionsDialogController.ts","src/options/OptionsDialogData.ts","src/options/OptionsDialogParams.ts","src/options/OptionsDialogResult.ts","src/options/OptionsDialogService.ts","src/options/index.ts","src/options_big/OptionsBigDialogController.ts","src/options_big/OptionsBigDialogData.ts","src/options_big/OptionsBigDialogParams.ts","src/options_big/OptionsBigDialogResult.ts","src/options_big/OptionsBigDialogService.ts","src/options_big/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/IActionsService.ts","src/actions/PrimaryActions.ts","src/actions/SecondaryActions.ts","src/actions/index.ts","src/appbar/AppBar.ts","src/appbar/AppBarConfig.ts","src/appbar/AppBarPart.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/Breadcrumb.ts","src/breadcrumb/BreadcrumbConfig.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dropdown/Dropdown.ts","src/header/NavHeader.ts","src/header/NavHeaderConfig.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIcon.ts","src/icon/NavIconConfig.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenu.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBar.ts","src/search/SearchConfig.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNav.ts","src/sidenav/SideNavPart.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/Tabs.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/error_pages/ErrorPageConfig.ts","src/error_pages/ErrorPageConfigService.ts","src/form_errors/ClearErrorsDirective.ts","src/form_errors/FormErrorsService.ts","src/http_intercept/HttpResponseInterceptor.ts","src/maintenance/MaintenanceErrorPage.ts","src/missing_route/MissingRouteErrorPage.ts","src/no_connection/NoConnectionErrorPage.ts","src/no_connection_panel/NoConnectionPanel.ts","src/unknown/UnknownErrorPage.ts","src/unsupported/UnsupportedErrorPage.ts","temp/pip-webui-errors-html.min.js","src/bar_chart/BarChart.ts","src/chart_colors/ChartColorsService.ts","src/chart_legend/ChartInteractiveLegend.ts","src/line_chart/LineChart.ts","src/pie_chart/PieChart.ts","temp/pip-webui-charts-html.min.js","src/location/Location.ts","src/location_dialog/LocationDialog.ts","src/location_dialog/LocationDialogParams.ts","src/location_dialog/index.ts","src/location_edit/LocationEdit.ts","src/location_ip/LocationIp.ts","src/location_map/LocationMap.ts","temp/pip-webui-locations-html.min.js","src/file_fail/FileFail.ts","src/file_select/FileSelect.ts","src/file_start/FileStart.ts","src/file_success/FileSuccess.ts","src/file_upload/FileUpload.ts","src/model/FileModel.ts","src/service/FileUploadService.ts","src/service/FileUploadState.ts","src/service/MultiuploadResult.ts","temp/pip-webui-files-html.min.js","src/add_tile_dialog/AddTileDialogController.ts","src/add_tile_dialog/AddTileProvider.ts","src/add_tile_dialog/index.ts","src/calendar_tile/CalendarTile.ts","src/common_tile/Tile.ts","src/config_tile_dialog/ConfigDialogController.ts","src/config_tile_dialog/ConfigDialogExtendComponent.ts","src/config_tile_dialog/ConfigDialogService.ts","src/config_tile_dialog/index.ts","src/dashboard/Dashboard.ts","src/draggable/Draggable.ts","src/draggable/DraggableTileService.ts","src/event_tile/EventTile.ts","src/menu_tile/MenuTileDirective.ts","src/menu_tile/MenuTileService.ts","src/menu_tile/index.ts","src/note_tile/NoteTile.ts","src/picture_slider_tile/PictureSliderTile.ts","src/position_tile/PositionTile.ts","src/statistics_tile/StatisticsTile.ts","src/tile_group/TileGroupDirective.ts","src/tile_group/TileGroupService.ts","src/tile_group/index.ts","src/utility/TileTemplateUtility.ts","temp/pip-webui-dashboard-html.min.js","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js","src/page/HelpPage.ts","src/page/HelpPageRoutes.ts","src/service/HelpConfig.ts","src/service/HelpPageSelectedTab.ts","src/service/HelpService.ts","src/service/HelpStateConfig.ts","src/service/HelpTab.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","factory","async","apply","func","thisArg","args","overRest$1","start","transform","nativeMax","undefined","arguments","index","array","Array","otherArgs","identity","value","rest","isObject","type","asyncify","initialParams","callback","result","then","err","message","supportsAsync","supported","isAsync","eval","fn","supportsSymbol","Symbol","toStringTag","wrapAsync","asyncFn","applyEach$1","eachfn","fns","go","that","cb","wrapAsync$1","concat","getRawTag","isOwn","hasOwnProperty","symToStringTag$1","tag","nativeObjectToString","objectToString","nativeObjectToString$1","baseGetTag","undefinedTag","nullTag","Object","symToStringTag","isFunction","funcTag","genTag","asyncTag","proxyTag","isLength","MAX_SAFE_INTEGER","isArrayLike","noop","once","callFn","baseTimes","iteratee","isObjectLike","baseIsArguments","argsTag","stubFalse","isIndex","MAX_SAFE_INTEGER$1","reIsUint","test","baseIsTypedArray","typedArrayTags","baseUnary","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isBuffer","isType","isTypedArray","skipIndexes","String","key","hasOwnProperty$1","push","isPrototype","Ctor","constructor","prototype","objectProto$5","overArg","arg","baseKeys","object","nativeKeys","hasOwnProperty$3","keys","createArrayIterator","coll","len","createES2015Iterator","iterator","item","next","done","createObjectIterator","obj","okeys","getIterator","onlyOnce","_eachOfLimit","limit","iterateeCallback","running","breakLoop","replenish","elem","nextElem","eachOfLimit","doLimit","iterable","eachOfArrayLike","iteratorCallback","completed","doParallel","eachOf","_asyncMap","arr","results","counter","_iteratee","_","v","doParallelLimit","arrayEach","createBaseFor","fromRight","keysFunc","props","baseForOwn","baseFor","baseFindIndex","predicate","fromIndex","baseIsNaN","strictIndexOf","baseIndexOf","arrayMap","isSymbol","symbolTag","baseToString","symbolToString","INFINITY","baseSlice","end","castSlice","charsEndIndex","strSymbols","chrSymbols","charsStartIndex","asciiToArray","string","split","hasUnicode","reHasUnicode","unicodeToArray","match","reUnicode","stringToArray","toString","trim","chars","guard","replace","reTrim","join","parseParams","STRIP_COMMENTS","FN_ARGS","FN_ARG_SPLIT","map","FN_ARG","autoInject","tasks","newTasks","taskFn","newTask","taskCb","newArgs","params","name","fnIsAsync","hasNoDeps","slice","pop","auto","fallback","setTimeout","wrap","defer","DLL","head","tail","setInitial","dll","node","queue","worker","concurrency","payload","_insert","data","insertAtFront","q","started","idle","setImmediate$1","drain","_tasks","unshift","process","_next","numRunning","task","workersList","splice","error","buffer","unsaturated","_worker","isProcessing","saturated","empty","paused","kill","Math","min","shift","pause","resume","cargo","reduce","memo","eachOfSeries","x","concat$1","y","doSeries","_createTester","check","getResult","testResult","testPassed","_findGetResult","consoleFunc","console","doDuring","truth","_fn","_test","doWhilst","doUntil","during","_withoutIndex","eachLimit","eachLimit$1","ensureAsync","sync","innerArgs","notId","baseProperty","filterArray","truthValues","filterGeneric","sort","b","_filter","forever","errback","mapValuesLimit","newObj","val","has","memoize","hasher","create","queues","memoized","unmemoized","_parallel","parallelLimit","parallelLimit$1","race","TypeError","reduceRight","reverse","reflect","reflectCallback","cbArgs","reject$1","reflectAll","constant$1","retry","opts","retryAttempt","_task","attempt","options","times","errorFilter","intervalFunc","DEFAULT_TIMES","DEFAULT_INTERVAL","acc","interval","series","sortBy","comparator","left","right","criteria","timeout","milliseconds","info","injectedCallback","timedOut","originalCallback","clearTimeout","timer","timeoutCallback","origCallback","baseRange","step","nativeMax$1","nativeCeil","timeLimit","count","mapLimit","accumulator","k","unmemoize","whilst","until","max","freeGlobal","freeSelf","root","Function","Symbol$1","objectProto","objectProto$1","iteratorSymbol","objectProto$3","hasOwnProperty$2","propertyIsEnumerable","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","argsTag$1","arrayTag","boolTag","dateTag","errorTag","funcTag$1","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","freeExports$1","freeModule$1","moduleExports$1","freeProcess","nodeUtil","binding","nodeIsTypedArray","objectProto$2","objectProto$4","eachOfGeneric","Infinity","applyEach","mapSeries","applyEachSeries","apply$2","callArgs","enqueueTask","readyTasks","runTask","processQueue","runningTasks","addListener","taskName","taskListeners","listeners","taskComplete","hasError","taskCallback","safeResults","rkey","getDependents","keys$$1","numTasks","readyToCheck","uncheckedDependencies","dependencies","remainingDependencies","dependencyName","currentTask","dependent","symbolProto","rsAstralRange","rsComboMarksRange","rsComboSymbolsRange","rsVarRange","rsZWJ","RegExp","rsAstralRange$1","rsComboMarksRange$1","rsComboSymbolsRange$1","rsVarRange$1","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsZWJ$1","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","hasSetImmediate","setImmediate","hasNextTick","nextTick","_defer","removeLink","prev","insertAfter","newNode","insertBefore","seq$1","functions","_functions","newargs","nextargs","compose","concatSeries","constant","values","ignoredArgs","detect","detectLimit","detectSeries","dir","eachSeries","every","everyLimit","everySeries","filter","filterLimit","filterSeries","groupByLimit","mapResults","groupBy","groupBySeries","log","mapValues","mapValuesSeries","_defer$1","queue$1","items","priorityQueue","priority","nextNode","reject","rejectLimit","rejectSeries","retryable","some","Boolean","someLimit","someSeries","ceil","timesSeries","waterfall","nextTask","taskIndex","each","parallel","seq","timesLimit","all","any","forEach","forEachSeries","forEachLimit","forEachOf","forEachOfSeries","forEachOfLimit","inject","foldl","foldr","select","selectLimit","selectSeries","wrapSync","allLimit","allSeries","anyLimit","anySeries","find","findLimit","findSeries","defineProperty","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","title","browser","env","argv","version","versions","on","off","removeListener","removeAllListeners","emit","cwd","chdir","umask","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","url","PreviousState","StateVar","PrevStateVar","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","cloneDeep","extend","addBackStateDecorator","$provide","decorator","$inject","5","hookRoutingEvents","$log","$state","RoutingVar","m","p","./BackDecorator","./RoutingEvents","7","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","_setRootVar","_identity","_rootScope","_log","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","$get","provider","8","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","notifyError","_session","notifyListeners","successCallback","listener","notifyOpenListeners","_this","notifyCloseListeners","$emit","stop","oldSession","addOpenListener","addCloseListener","removeOpenListener","removeCloseListener","isOpened","open","close","SessionProvider","./IdentityService","./SessionService","10","Transaction","scope","_scope","_id","_operation","_error","TransactionError_1","TransactionError","_progress","reset","busy","failed","aborted","id","begin","operation","Date","getTime","update","progress","abort","decode","11","details","cause","stack_trace","statusText","status","12","Transaction_1","TransactionService","_transactions","transaction","get","service","13","configureTransactionStrings","$injector","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","./TransactionError","./TransactionService","./TransactionStrings","15","translateDirective","pipTranslate","key1","key2","link","element","attrs","translate","text","translateHtmlDirective","html","directive","16","optionalTranslateFilter","translateFilter","initTranslate","language","extendStatics","setPrototypeOf","__proto__","d","__","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","changeLocale","save","locale","localeDate","moment","localeData","months","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","translateSet","keyProp","valueProp","translateObjects","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","TranslateProvider","set","./Translation","18","Translation","_language","en","ru","es","pt","de","fr","_translations","isNull","isUndefined","toUpperCase","19","./TranslateFilter","./TranslateService","20","Codes","hash","charCodeAt","random","substr","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","toLowerCase","parseFormat","fmt","parse_tree","arg_names","exec","_fmt","replacement_field","field_match","field_list","tree_length","node_type","cursor","sprintf","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","output","pad","_i","filterToString","arrayToString","enumToArray","hookResetEvents","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","$timeout","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","$","position","scrollTop","top","ScrollService","SystemInfo","ua","navigator","userAgent","search","browserName","subVersion","osAll","osAndroid","isDesktop","platform","isMobile","isCordova","isSupported","edge","ie","firefox","opera","chrome","safari","Tags","normalizeOne","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","extract","entity","searchFields","field","hashTags","uniq","26","TimerEvent","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","newEvent","startEvent","removeEvent","existingEvent","stopEvent","clearEvents","cancel","ex","buttons","2","pipFabTooltipVisibility","$parse","restrict","controller","FabTooltipVisibilityController_1","$element","$attrs","$scope","showGetter","showSetter","assign","$watch","trigGetter","isOpen","3","./refresh_button/RefreshButton","./toggle_buttons/ToggleButtons","4","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","hide","$onChanges","changes","currentValue","onClick","$event","width","css","template","component","RefreshButtonComponent","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","currentButtonIndex","disabled","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","6","$templateCache","put","CacheConfigService","enabled","enableLogs","models","CacheConfigProvider","configureInterceptor","$httpProvider","interceptors","$q","pipCache","pipCacheConfig","config","_a","model","ik","interceptor","method","getKey","promise","cachedData","onResponse","body","getItems","httpParams","responseModify","itemsToResponse","resp","responseToItems","setItems","its","removeTotal","deleteItems","state_1","state_2","response","rejection","resolve","extractPaginationDefault","res","PipCachePaginationParams","pars","offset","PipCacheInterceptorOptions","PipCacheInterceptorSettings","PipCacheInterceptorItemSettings","__extends","PipCacheInterceptorCollectionSettings","PipCacheModel","cache_models_1","TotalItem","CacheService","openedDbs","Map","getDbName","modelName","getDb","dbName","db","Dexie","modelKey","stores","hashes","lastRead","meta","getModel","Promise","table","expire","maxAge","expired","valueOf","groupCollapsed","groupEnd","_b","pagination","defaultsDeep","objectHash","MD5","hi","total","upper","hasPagination","idxMap","it","idx","plannedLength","where","anyOf","toArray","ids","reads","warn","reason","promises","toCollection","modify","bulkPut","fill","nh","bulkDelete","findIndex","__generator","dbs","getDatabaseNames","names","startsWith","dbs_1","name_1","clear","CacheProvider","pipCacheConfigProvider","registerModel","layouts","MediaService_1","IMediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","gtxs","gtlg","bodyElement","bodyWidth","LayoutResizedEvent","isGtxs","MainBreakpoints","xs","isGtlg","lg","AuxPanel","transclude","../media/IMediaService","../media/MediaService","AuxPanelPartDirective","ngIfDirective","ngIf","terminal","AuxPanelPartController_1","partName","pipAuxPanelPart","pos","partValue","onAuxPanelChanged","currentPartValue","parts","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","_state","$broadcast","AuxPanelStateChangedEvent","AuxPanelOpenedEvent","AuxPanelClosedEvent","toggle","c","cc","part","AuxPanelChangedEvent","AuxPanelProvider","IAuxPanelService_2","AuxPanelConfig","./IAuxPanelService","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","cardDirective","CardDirectiveLink","resize","MainResizedEvent","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","Number","minHeight","MainBreakpointStatuses","space","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","dialogDirective","documentDirective","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","heading","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","_heading","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","columns","layout","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","resizeListener","win","target","srcElement","__resizeRAF__","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","attachEvent","getComputedStyle","style","document","createElement","setAttribute","onload","isIE","appendChild","removeEventListener","removeChild","behaviors","CancelDragLink_1","attr","CancelDrag","DragLink_1","$document","pipDraggable","LONG_PRESS","_centerAnchor","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","_data","_dragOffset","_dragEnabled","_pressTimer","_elementStyle","scrollParent","scrollContainer","_deregisterRootMoveListener","ngDrag","_myid","$id","onDragStartCallback","pipDragStart","onDragMoveCallbak","pipDragMove","onDragStopCallback","pipDragStop","onDragSuccessCallback","pipDragSuccess","allowTransform","isDefined","$eval","getDragData","pipDragData","verticalScroll","pipVerticalScroll","horizontalScroll","pipHorizontalScroll","activationDistance","pipActivationDistance","scrollDistance","scrollContainerGetter","pipScrollContainer","initialize","dragHandles","querySelectorAll","_dragHandle","toggleListeners","enable","onDestroy","pipDrag","newVal","oldVal","onEnableChange","pipCenterAnchor","onCenterAnchor","onpress","nodeName","isClickableElement","evt","button","saveElementStyles","cancelPress","onlongpress","preventDefault","getBoundingClientRect","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","inputEvent","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","origEvent","tx","ty","$data","dragToScroll","moveElement","uid","dragOffset","onDragComplete","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","Drag","DraggableService","touches","originalEvent","DropLink_1","pipDrop","isTouching","onDropCallback","pipDropSuccess","onDragMoveCallback","onEnterCallback","pipEnter","onLeaveCallback","pipLeave","onDiactiveCallback","pipDiactive","onDragStart","onDragMove","onDragEnd","_dropEnabled","updateDragStyles","$target","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","bottom","Drop","PreventDragLink_1","absorbEvent_","stopPropagation","cancelBubble","returnValue","./Drag","./DraggableService","./Drop","./PreventDrag","FocusedLink_1","$mdConstant","opacityDelta","opacityLimit","keydownListener","init","ngModel","pipFocusedData","selector","pipWithHidden","onFocusClass","pipFocusedClass","controls","controlsLength","checkTabindex","currentTarget","pipRebind","pipFocusedOpacity","color","oldBackgroundColor","rgba","pipFocusedColor","red","blue","green","opacity","setTabindex","pipFocusedTabindex","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipFocusedRebind","./focused/Focused","./infinite_scroll/InfiniteScroll","./selected/Selected","./shortcuts/index","./unsaved_changes/UnsavedChanges","9","InfiniteScrollLink_1","THROTTLE_MILLISECONDS","checkWhenEnabled","immediateCheck","scrollEnabled","unregisterEventListener","useDocumentBottom","windowElement","onContainerScrollThrottle","throttle","onContainerScroll","unbind","handleScrollDistance","pipScrollDistance","handleScrollDisabled","pipScrollDisabled","handleScrollUseDocumentBottom","pipScrollUseDocumentBottom","pipScrollListenForEvent","newContainer","handleScrollContainer","pipScrollParent","changeContainer","pipScrolImmediateCheck","isNaN","clientHeight","offsetTop","ownerDocument","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","pipInfiniteScroll","bind","HTMLElement","append","parents","InfiniteScroll","SelectedLink_1","touchBoundary","tapdelay","tapTimeout","indexGetter","pipSelected","indexSetter","idGetter","pipSelectedId","idSetter","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","noScroll","pipNoScroll","modifier","pipSkipHidden","className","pipTreeList","selectedIndex","currentElementTabinex","pipSelectedWatch","isScrolled","onClickEvent","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onKeyDown","onFocusIn","onFocusOut","newSelectedId","selectItem","itemId","raiseEvent","newSelectedIndex","itemIndex","itemParams","itemsLength","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedId","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","getTargetElementFromEventTarget","eventTarget","Node","TEXT_NODE","parentNode","touchHasMoved","touch","changedTouches","boundary","touchStartX","touchStartY","ev","targetElement","trackingClick","trackingClickStart","timeStamp","lastClickTime","cancelNextClick","ENTER","SPACE","inc","Selected","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","KeyboardEvent","Keydown","Keyup","Keypress","ShortcutOptions","Shortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","break","insert","home","delete","pageup","page_up","pu","pagedown","page_down","pd","up","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","wanted","pressed","ctrl","alt","shorcut","Type","DisableInInput","element_1","tagName","character","kp","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","ShortcutBindingService_1","_shortcuts","_defaultOption","defaults","getDefaultOption","Shortcut_1","Target","add","shortcut","remove","shortcutOption","shortcutCombination","getElementById","newKeyboardShortcut","eventCallback","detachEvent","ShortcutBindingProvider","_option","14","ShortcutController","pipShortcutBinding","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","pipShorcutOptions","keypressShortcut","action","$onInit","shortcutsDirective","ShortcutsChangedEvent","ShortcutsService","$location","_oldConfig","addShortcuts","sendChangeEvent","removeShortcuts","collection","access","keypress","href","location","stateParams","defaultOptions","generalOptions","targetId","ShortcutsProvider","IShortcutsService_1","./IShortcutsService","./ShortcutBindingService","./ShortcutDirective","./ShortcutsService","17","onbeforeunload","unsavedChangesAvailable","unsavedChangesMessage","unbindFunc","confirm","cancelLeave","afterLeave","ColorPickerBindings","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","currentColorIndex","selectColor","pipColorPicker","bindings","templateUrl","pipImageSliderController_1","pipImageSlider","_index","swipeStart","_type","slideTo","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","direction","blockIndex","vm","SliderButtonController_1","SliderButton","SliderIndicatorController_1","SliderIndicator","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","ConfigTranslations","MarkdownBindings","isList","clamp","rebind","MarkdownController","MarkdownChanges","_pipTranslate","bindText","_text","_$scope","newText","describeAttachments","attachTypes","attach","attachString","textString","isClamped","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","MarkdownComponent","PopoverController","$compile","$templateRequest","backdropClick","backdropElement","responsive","locals","content","calcHeight","onResize","cancelCallback","closePopover","onPopoverClick","docWidth","docHeight","popover","footer","contentHeight","Popover","PopoverService","popoverTemplate","$new","./PopoverService","logoUrl","RoutingController","_image","loadProgressImage","RoutingBindings","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","actions","actionLenght","showDetails","onDetails","ok","onMessageClick","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","currentToast","hideDelay","duration","showToastOkResult","showToastCancelResult","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","showClickableError","hideAllToasts","./Toast","./ToastService","lists","./tag_list/TagList","TagListController","toBoolean","TagListBindings","typeLocal","rebuid","TagList","TagListChanges","dates","DateBindings","timeMode","ngChange","DateController","DateChanges","momentMonths","momentDays","momentShortDays","momentFirstDayOfWeek","isDate","day","getDate","month","getMonth","year","getFullYear","dayList","monthList","years","yearList","disableControls","getValue","currentYear","startYear","endYear","adjustDay","setValue","onMonthChanged","onYearChanged","DateComponent","IDateConvertService_1","DateConvert","_momentRanged","DateRangeType","All","_defaultFormat","_defaultTimeZoneOffset","isUndefinedOrNull","date","getRange","Day","getOperationRange","range","WeekFromSunday","toStartRange","localDate","utcOffset","isValid","startOf","toDate","toEndRange","mssOffset","endOf","toJson","toNextRange","toPrevRange","toCurrentRange","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","Month","toEndMonth","toStartYear","Year","toEndYear","DateConvertService","convert","_convert","defaultTimeZoneOffset","toJSON","DateConvertProvider","formatTimeFilter","pipDateFormat","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","formatShortElapsedFilter","formatShortElapsed","formatLongElapsedFilter","formatLongElapsed","formatMiddleElapsedFilter","formatMiddleElapsed","getDateJSONFilter","pipDateConvert","formatTimeShortFilter","formatTimeShort","formatTimeLongFilter","formatTimeLong","declarePipDateResources","pipTranslateProvider","DATE_ELAPSED","DATE_HOUR_ONE","DATE_HOUR_SHORT","DATE_MINUTE_SHORT","DATE_HOURS_FEW","DATE_HOURS_AFTER_FOOR","DATE_MINUTE_ONE","DATE_MINUTES_FEW","DATE_MINUTES_AFTER_FOOR","DATE_FEW_SECOND","DATE_FEW_SECOND_SHORT","DATE_FEW_SECOND_SHORT_ELAPSED","DateFormat","oneHour","oneMinute","oneSeccond","oneDay","formatDateTime","basicFormat","formatTpl","formatDateTimeY","nowDate","formatMoment","longDateFormat","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","toDateWithTime","formatDate","toTodayDate","fromNow","borderDate","isBefore","ms","diff","h","asHours","asMinutes","mString","getHoursString","getMinutesString","utc","hh","hString","sec","getDateJSON","DateFormatProvider","Week","./DateFormatFilter","./DateFormatService","./IDateConvertService","./IDateFormatService","DateRangeBindings","DateRangeController","DateRangeChanges","$mdMedia","prevState","currentState","standalone","currentDate","getUTCFullYear","currentMonth","getUTCMonth","currentDay","getUTCDate","newValue","oldValue","dayOfWeek","UTC","getUTCDay","week","getWeekByDate","correctWeek","adjustWeek","onWeekChange","isDay","isWeek","isMonth","onChange","pipChanged","setCurrent","dateRangeType","fillLists","weeks","weekList","onYearClick","onMonthClick","onDayClick","getCountDay","nameDays","getWeek","countDay","countPrevMonthDay","startDay","endDay","startWeek","getTimezoneOffset","daterange","TimeRangeData","TimeRangeController","TimeRangeChanges","defineStartDate","defineEndDate","TimeRangeBindings","TimeRangeComponent","TimeRangeEditData_1","TimeRangeEditChanges","TimeRangeEditController","startLabel","endLabel","intervalTimeCollection","getTimeInterval","initDate","defineDate","pipStartDate","pipEndDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","pipStartLabel","pipEndLabel","setDuration","startDate","endDate","startTime","MinutesInHour","MillisecondsInSecond","endTime","validateStartDate","IntervalTimeRange","HoursInDay","round","validateEndDate","setDate","minutes","j","showTime","pipHideTime","onChangeStartDate","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","TimeRangeEditComponent","TimeRangeEditBindings","dialogs","ConfirmationDialogParams_1","ConfirmationDialogController","$mdDialog","_injector","DIALOG_CONFIRM_TITLE","DIALOG_CONFIRM_OK","DIALOG_CONFIRM_CANCEL","onOk","onCancel","ConfirmationDialogParams","ConfirmationDialogService","_mdDialog","targetEvent","./ConfirmationDialogParams","./ConfirmationDialogService","./IConfirmationDialogService","ErrorDialogStrings","errorDetails","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorDetailsDialogController","strings","theme","themes","ThemeRootVar","OK","CANCEL","ERROR_DETAILS","ERROR_CODE","ERROR_PATH","ERROR_ERROR","ERROR_METHOD","ERROR_MESSAGE","ERROR_DISMISS","dismissButton","getErrorText","ErrorDetailsDialogParams","ErrorDetailsDialogService","clickOutsideToClose","InformationDialogController","INFORMATION_TITLE","INFORMATION_OK","pipFormat","InformationDialogParams","InformationDialogService","OptionsDialogController","selectedOption","active","opt","optionIndex","selectedOptionName","focusInput","DIALOG_OPTIONS_TITLE","DIALOG_OPTIONS_SELECT","DIALOG_OPTIONS_CANCEL","onOptionSelect","onKeyPress","isCheckboxOption","list","OptionsDialogParams","OptionsDialogData","OptionsDialogResult","OptionsDialogService","21","OptionsBigDialogController","OptionsBigDialogData_1","OptionsBigDialogData","noActions","onSelected","onKeyUp","OptionsBigDialogParams","OptionsBigDialogResult","OptionsBigDialogService","27","./OptionsBigDialogController","./OptionsBigDialogData","./OptionsBigDialogParams","./OptionsBigDialogResult","./OptionsBigDialogService","28","nav","IActionsService_1","IActionsService_2","IActionsService_3","ActionsService","primaryGlobalActions","secondaryGlobalActions","primaryLocalActions","secondaryLocalActions","primaryActions","secondaryActions","updateCount","clearCounts","ActionsChangedEvent","openMenuEvent","SecondaryActionsOpenEvent","ActionsProvider","ActionsConfig","SimpleActionItem","ActionItem","PrimaryActionsController","pipActions","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","onActionsChanged","localActions","globalActions","isHidden","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","click","PrimaryActionsBindings","PrimaryActionsChanges","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","calcActions","secondaryActionsVisible","secondaryDividerVisible","SecondaryActionsBindings","SecondaryActionsChanges","AppBarController","pipAppBar","onAppBarChanged","appbar","AppBarConfig","AppBarPartController","_partName","_partValue","appbarPart","AppBarChangedEvent","AppBarService","shadowBreakpoints","setShadow","hideShadow","bp","addShadow","removeShadow","AppBarProvider","AppBarConfig_1","./AppBar","./AppBarConfig","./AppBarPart","./AppBarService","BreadcrumbController","pipBreadcrumb","navConstant","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","_media","BREADCRUMB_BREAKPOINT","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","onOpenMenu","onSubActionClick","breadcrumb","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","showText","showItems","BreadcrumbProvider","BreadcrumbConfig_1","./BreadcrumbConfig","NavService","icon","sidenav","header","menu","showMenu","DropdownController","_pipTheme","_pipMedia","currentTheme","themeClass","media","activeIndex","pipChange","showDropdown","DropdownBindings","DropdownChanges","dropdown","NavHeaderController","pipNavHeader","imageUrl","initImage","cleanupNavHeaderChanged","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","$onDestroy","imageBlock","image","onImageLoad","onerror","onImageError","initHeader","subtitle","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","imageWidth","imageHeight","margin","loadError","defaultImageUrl","onUserClick","navHeader","NavHeaderConfig","NavHeaderService","callbackOrEvent","NavHeaderChangedEvent","NavHeaderProvider","NavHeaderConfig_1","./NavHeaderService","22","23","SideNavService_1","NavIconService_1","NavIconBindings","NavIconChanges","NavIconController","pipNavIcon","clearFn","onNavIconChanged","onNavIconClick","ToggleSideNavEvent","NavIconClickedEvent","NavIcon","NavIconConfig","25","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconChangedEvent","NavIconConfig_1","NavIconProvider","setMenu","setIcon","setBack","./NavIconConfig","./INavIconService","./NavIcon","./NavIconService","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_MIDDLE_WIDTH","SIDENAV_SMALL_WIDTH","./appbar","./breadcrumb","./common/NavService","./dropdown/Dropdown","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/Tabs","LanguagePickerDirectiveController","_translate","languages","previousValue","setLanguages","onLanguageClick","LanguagePickerBindings","LanguagePickerChanges","languagePickerDirective","navMenuDirective","NavMenuController","pipSideNav","pipNavMenu","expanded","_animationDuration","SIDENAV_ANIMATION_DURATION","_pipSideNavElement","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","isSectionEmpty","linkCollection","expand","expandedButton","isExpanded","sideNavState","isActive","parentState","includes","clickLink","current","NavMenuBindings","NavMenuChangedEvent","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","31","./NavMenuService","32","SearchBarController","pipSearch","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchActivatedEvent","SearchBar","./SearchService","34","SearchConfig","CloseSearchEvent","SearchService","SearchProvider","36","./SearchBar","./SearchConfig","37","SideNavController","_bigWidth","SIDENAV_LARGE_WIDTH","_middleWidth","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","setSideNaveState","windowResize","debounce","cleanupSideNavState","onSideNavState","sidenavState","backdrop","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","cleanupMainResized","stateName","mainWidth","_mainContainer","sideNavWidth","currentWidth","Small","Large","XLarge","SideNavBindings","sideNav","./SideNavState","38","sidenavPartDirective","SideNavPartBindings_1","SideNavPartController_1","hookSideNavEvents","OpenSideNavEvent","CloseSideNavEvent","SideNavChangedEvent","SideNavService","SideNavStateChangedEvent","SideNavConfig","SideNavProvider","40","SideNavState","isLockedOpen","showIconTooltype","small","large","xlarge","41","./SideNavPart","./SideNavService","42","PipTab","TabsChanges","TabsDirectiveController","setTheme","setTranslate","tabs","tabDisabled","selectedTabId","showShadow","showTabsShadow","showTabs","Tabs","TabsBindings","43","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","800","900","orangePrimaryPalette","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultBlueTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","A400","configureDefaultNavyTheme","greyPalette","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","configureDefaultPinkTheme","PinkBackgroundPalette","700","PinkPrimaryPalette","configureDefaultTheme","errors","ErrorPageConfig","ErrorPageConfigs","Maintenance","Active","Name","Event","Title","SubTitle","Breadcrumb","Image","MissingRoute","NoConnection","StateIgnored","Unknown","Unsupported","Params","SupportedBrowsers","ErrorPageConfig_1","ErrorPageConfigService","getErrorPageConfig","pageName","ErrorPageConfigProvider","configs","setErrorPageConfig","setAllErrorPageConfigs","setSupportedBrowsers","browsers","./ErrorPageConfig","clearErrorsDirective","$ctrls","ClearErrorsLink","_fieldController","_formController","clearFieldErrors","clearFormErrors","$error","prop","$setValidity","$serverError","FormErrorsService","errorsWithHint","isEmpty","hint","touchedErrorsWithHint","form","notSubmited","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","errorName","goToUnhandledErrorPage","configureHttpInterceptor","$stateProvider","HttpResponseInterceptor","./error_pages/ErrorPageConfig","./error_pages/ErrorPageConfigService","./form_errors/ClearErrorsDirective","./form_errors/FormErrorsService","./http_intercept/HttpResponseInterceptor","./maintenance/MaintenanceErrorPage","./missing_route/MissingRouteErrorPage","./no_connection/NoConnectionErrorPage","./no_connection_panel/NoConnectionPanel","./unknown/UnknownErrorPage","./unsupported/UnsupportedErrorPage","configureMaintenanceErrorPageRoute","ErrorsMaintenanceState","MaintenanceErrorPageController","initMaintenanceErrorPage","pipErrorPageConfigService","MaintenanceErrorEvent","setMaintenanceErrorPageResources","ERROR_MAINTENANCE_TITLE","ERROR_MAINTENANCE_SUBTITLE","ERROR_MAINTENANCE_CLOSE","ERROR_MAINTENANCE_TRY_AGAIN","ERROR_MAINTENANCE_RETRY","MaintenanceError","MaintenanceErrorConfig","MaintenanceErrorParams","_pageName","pipNavService","appHeader","timeoutInterval","onRetry","RedirectSateDefault","configureMissingRouteErrorPageRoute","ErrorsMissingRouteState","unfoundState","MissingRouteErrorPageController","initMissingRouteErrorPage","StateNotFoundEvent","to","setMissingRouteErrorPageResources","ERROR_MISSING_ROUTE_TITLE","ERROR_MISSING_ROUTE_SUBTITLE","ERROR_MISSING_ROUTE_CONTINUE","ERROR_MISSING_ROUTE_TRY_AGAIN","ERROR_MISSING_ROUTE_GO_BACK","ERROR_MISSING_ROUTE_PAGE_TITLE","MissingRouteErrorState","absolute","urlBack","onContinue","configureNoConnectionErrorPageRoute","ErrorsConnectionState","NoConnectionErrorPageController","initNoConnectionErrorPage","ErrorsConnectionEvent","setNoConnectionErrorPageResources","ERROR_NO_CONNECTION_SUBTITLE","ERROR_NO_CONNECTION_RETRY","NoConnectionError","errorConfig","NoConnectionPanelController","_retry","configureUnknownErrorPageRoute","ErrorsUnknownState","UnknownErrorPageController","initUnknownErrorPage","ErrorsUnknownEvent","setUnknownErrorPageResources","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","UnknownErrorDetails","parseError","error_details","server_stacktrace","client_stacktrace","configureUnsupportedErrorPageRoute","ErrorsUnsupportedState","UnsupportedErrorPageController","initUnsupportedErrorPage","pipSystemInfo","supportedVersions","browserVersion","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","ERROR_UNSUPPORTED_EDGE","ERROR_UNSUPPORTED_EDGE_VER","ERROR_UNSUPPORTED_SAFARI_VER","ERROR_UNSUPPORTED_SAFARI","ErrorsUnsupportedEvent","UnsupportedError","setUnsupportedErrorPageResources","charts","BarChartBindings","xTickFormat","yTickFormat","interactiveLegend","BarChartController","BarChartBindingsChanges","pipChartColors","chart","spaceAfterBar","spaceAfterMultiBar","generateMaterialColors","updatedLegend","prepareData","legend","updateChart","clone","generateParameterColor","paletteColors","d3","scale","ordinal","materialColorToRgba","instantiateChart","chartElem","datum","configBarWidthAndLabel","drawEmptyState","nv","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","seria","classed","getGroupSize","labels","chartBars","getBBox","groupSize","barHeight","barWidth","transition","getMaterialColor","BarChart","ChartColorsService","$mdColorPalette","palette","ChartLegendBindings","interactive","ChartLegendBindingsChanges","ChartLegendController","updateLegends","colorCheckboxes","animate","prepareSeries","checkboxContainers","legendTitles","materialColor","ChartLegend","LineChartBindings","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","LineChartBindingsChanges","LineChartController","HEIGHT","setZoom","updateZoomOptions","selectAll","updateXTickValues","updateSeries","getHeight","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","onlyZeroY","yDomain","clipYTick","tickValues","tooltipW","removeTooltip","addZoom","updateScroll","domains","bDiff","domDiff","isEqual","svg","xDomain","redraw","xScale","yScale","x_boundary","y_boundary","d3zoom","behavior","zoom","prevXDomain","prevScale","prevTranslate","newChart","domain","nice","zoomed","unzoomed","fixDomain","translate0","coordinates0","coordinates","center0","center1","point","scaleExtent","LineChart","PieChartBindings","donut","centered","PieChartBindingsChanges","PieChartController","resizeTitleLabelUnwrap","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","centerChart","renderTotalLabel","svgElem","pie","arc","innerRadius","outerRadius","leftMargin","totalVal","sum","curr","titleElem","boxSize","PieChart","locations","LocationBindings","pipLocationName","pipLocationPos","pipShowLocationIcon","pipCollapse","pipDisabled","pipLocationResize","LocationController","LocationBindingsChanges","showMap","mapContainer","generateMap","redrawMap","clearMap","mapControl","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Marker","LocationComponent","LocationEditDialogController_1","locationPos","locationName","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","setMap","animation","Animation","DROP","thisMarker_1","getPosition","tid","lat","lng","Geocoder","geocode","latLng","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogService","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","LocationDialogParams","LocationEditBindings","pipLocationHolder","LocationEditBindingsChanges","LocationEditController","pipLocationEditDialog","defineCoordinatesDebounced","defineCoordinates","GeocoderStatus","geometry","location_1","longtitude","onMapClick","onMapKeyPress","LocationEdit","LocationIpBindings","pipIpaddress","pipExtraInfo","LocationIpBindingsChanges","LocationIpController","$http","ipAddress","extraInfo","city","regionCode","region","regionName","zipCode","countryCode","country","countryName","LocationIp","LocationMapBindings","pipIconPath","pipInteractive","pipStretch","LocationMapBindingsChanges","LocationMapController","checkLocation","loc","determineCoordinates","stroke","points","LatLngBounds","path","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","LocationMap","files","FileFailBindings","FileFailController","FileFailChanges","fileFailComponent","FileSelectBindings","localFile","FileSelectController","onUploadButtonClick","onDeleteButtonClick","fileSelectDirective","FileStartBindings","FileStartChanges","FileStartController","fileStartDirective","FileSuccessBindings","FileSuccessController","fileSuccessDirective","FileUploadBindings","FileUploadButtons","buttonFunction","FileUploadChanges","FileUploadController","uploadButtons","failButtons","startButtons","onAbort","fileUploadDirective","./file_select/FileSelect","./file_start/FileStart","./file_success/FileSuccess","./file_upload/FileUpload","./model/FileModel","./service/FileUploadService","./service/MultiuploadResult","fileModelLink","fileModel","modelSetter","fileModelDirective","FileUploadState_1","FileUploadService","multiUpload","uploadedUrl","collections","oneFileResultCallback","oneFileProgressCallback","abortCallback","breakOnFirstError","idField","cancelQuery","file","fd","FormData","FileUploadState","Uploading","post","lengthComputable","loaded","headers","Content-Type","Access-Control-Allow-Origin","Completed","Failed","upload","resultCallback","progressCallback","./FileUploadState","MultiuploadResult","dashboard","AddTileDialog","AddTileDialogController","groups","activeGroupIndex","widgetList","totalTiles","defaultTiles","group","groupIndex","widgets","encrease","widgetIndex","amount","decrease","widget","AddTileDialogController_1","DASHBOARD_ADD_TILE_DIALOG_TITLE","DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS","DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP","AddTileDialogService_1","AddTileDialogProvider","_widgetList","configWidgetList","MenuTileService_1","CalendarTileController","pipTileConfigDialogService","union","onConfigClick","dialogClass","extensionUrl","changeSize","MenuTileService","CalendarTile","DashboardTile","TileColors","TileSizes","TileConfigDialogController","sizes","sizeId","colSpan","rowSpan","updatedData","sizeX","sizeY","TileConfigExtendComponentBindings","pipExtensionUrl","pipDialogScope","pipApply","TileConfigExtendComponentChanges","TileConfigExtendComponentController","replaceWith","pipTileConfigComponent","ConfigDialogController_1","DASHBOARD_TILE_CONFIG_DIALOG_TITLE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE","TileConfigDialogService","./ConfigDialogExtendComponent","./ConfigDialogService","DROP_TO_CREATE_NEW_GROUP","pipAddTileDialogProvider","configureAvailableWidgets","DEFAULT_GRID_OPTIONS_1","draggableOptions","tileWidth","DashboardController","$interpolate","pipAddTileDialog","pipTileTemplate","defaultGroupMenuActions","addComponent","removeGroup","_includeTpl","groupMenuActions","groupedWidgets","draggableGridOptions","gridOptions","inline","groupAdditionalActions","widgetsContext","compileWidgets","removedWidgets","source","removeWidget","getTemplate","activeGroup","addWidgets","widgetGroup","Dashboard","DraggableTileService_1","TileGroupService_1","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","DEFAULT_OPTIONS","tileHeight","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","merge","tilesTemplates","tile","tileScope","createTileScope","IDragTileConstructor","DragTileService","tpl","watch","getContainerWidth","getAvailableColumns","availableWidth","tileGroups","setAvailableColumns","availableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","$container","prevVal","changedGroupIndex","addGroup","removeGroups","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","from","attributes","toIndex","tileOptions","fromTileIndex","reIndexTiles","tilesContext","indexes","container","tiles","gIndex","child","newGroups","removeIndexes","remain","containers","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","newTile","addTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","mobileBreakpoint","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","belowElement","getTileByCoordinates","getTileIndex","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","speed","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragComponent","../tile_group/TileGroupService","./DraggableTileService","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","after","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","EventTileController","is","drawImage","onOpacitytest","_oldOpacity","naturalWidth","naturalHeight","EventTile","../menu_tile/MenuTileService","./calendar_tile/CalendarTile","./common_tile/Tile","./config_tile_dialog","./dashboard/Dashboard","./draggable","./event_tile/EventTile","./menu_tile","./note_tile/NoteTile","./picture_slider_tile/PictureSliderTile","./position_tile/PositionTile","./statistics_tile/StatisticsTile","./tile_group/index","./utility/TileTemplateUtility","TileMenu","callAction","actionName","MenuTileProvider","../common_tile/Tile","NoteTileController","NoteTile","PictureSliderController","animationInterval","animationType","PictureSliderTile","PositionTileController","showPosition","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","PositionTile","StatisticsTileController","chartSize","SMALL_CHART_1","_$timeout","setChartSize","StatisticsTile","DraggableTileLink","$elem","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTiles","24","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","basicCol","basicRow","getBasicRow","gridCopy","getCell","rowShift","prevTileSize","rightCornerCell","isCellFree","src","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","generateCells","currIndex","startCell","cells","tileSize","maxHeightSize","maxWidthSize","maxBy","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","./TileGroupService","tileTemplateService","_$interpolate","_$compile","_$templateRequest","strictCompile","interpolated","pipImageLoad","ImageLoad","settings","SettingsPageSelectedTab_1","SettingsPageController","pipSettings","translateInit","mediaSizeGtSm","initTabs","cleanUpSelectFunc","initSelect","cleanUpFunc","getTabs","selected","SettingsPageSelectedTab","getDefaultTab","PIP_SETTINGS","PIP_SETTINGS_DETAILS","toMainFromDetails","detailsTitle","updateState","tabIndex","tabId","onNavigationSelect","../service/SettingsPageSelectedTab","configureSettingsPageRoutes","auth","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsConfig_1","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","addTab","tabObj","validateTab","iconClass","stateConfig","SettingsStateConfig","SettingsTab","./SettingsConfig","./SettingsPageSelectedTab","./SettingsService","./SettingsStateConfig","./SettingsTab","help","HelpPageSelectedTab_1","HelpPageController","pipHelp","HelpPageSelectedTab","onDropdownSelect","configureHelpPageRoutes","./HelpPage","./HelpPageRoutes","HelpConfig","HelpService","HelpProvider","HelpConfig_1","HelpStateConfig","HelpTab","./HelpConfig","./HelpPageSelectedTab","./HelpService","./HelpStateConfig","./HelpTab"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.async = global.async || {})));\n}(this, (function (exports) { 'use strict';\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest$1(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n// Lodash rest function without function.toString()\n// remappings\nfunction rest(func, start) {\n    return overRest$1(func, start, identity);\n}\n\nvar initialParams = function (fn) {\n    return rest(function (args /*..., callback*/) {\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    });\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous funuction, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return initialParams(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if (isObject(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                callback(null, value);\n            }, function (err) {\n                callback(err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction supportsAsync() {\n    var supported;\n    try {\n        /* eslint no-eval: 0 */\n        supported = isAsync(eval('(async function () {})'));\n    } catch (e) {\n        supported = false;\n    }\n    return supported;\n}\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? asyncify(asyncFn) : asyncFn;\n}\n\nvar wrapAsync$1 = supportsAsync() ? wrapAsync : identity;\n\nfunction applyEach$1(eachfn) {\n    return rest(function (fns, args) {\n        var go = initialParams(function (args, callback) {\n            var that = this;\n            return eachfn(fns, function (fn, cb) {\n                wrapAsync$1(fn).apply(that, args.concat(cb));\n            }, callback);\n        });\n        if (args.length) {\n            return go.apply(this, args);\n        } else {\n            return go;\n        }\n    });\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol$1 = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  value = Object(value);\n  return (symToStringTag && symToStringTag in value)\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]';\nvar funcTag = '[object Function]';\nvar genTag = '[object GeneratorFunction]';\nvar proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nvar breakLoop = {};\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nvar getIterator = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$2.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]';\nvar arrayTag = '[object Array]';\nvar boolTag = '[object Boolean]';\nvar dateTag = '[object Date]';\nvar errorTag = '[object Error]';\nvar funcTag$1 = '[object Function]';\nvar mapTag = '[object Map]';\nvar numberTag = '[object Number]';\nvar objectTag = '[object Object]';\nvar regexpTag = '[object RegExp]';\nvar setTag = '[object Set]';\nvar stringTag = '[object String]';\nvar weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\nvar dataViewTag = '[object DataView]';\nvar float32Tag = '[object Float32Array]';\nvar float64Tag = '[object Float64Array]';\nvar int8Tag = '[object Int8Array]';\nvar int16Tag = '[object Int16Array]';\nvar int32Tag = '[object Int32Array]';\nvar uint8Tag = '[object Uint8Array]';\nvar uint8ClampedTag = '[object Uint8ClampedArray]';\nvar uint16Tag = '[object Uint16Array]';\nvar uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag$1] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/** Detect free variable `exports`. */\nvar freeExports$1 = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule$1 = freeExports$1 && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports$1 && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$1.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$5;\n\n  return value === proto;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$3.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? { value: coll[i], key: i } : null;\n    };\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done) return null;\n        i++;\n        return { value: item.value, key: i };\n    };\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = keys(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        return i < len ? { value: obj[key], key: key } : null;\n    };\n}\n\nfunction iterator(coll) {\n    if (isArrayLike(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = getIterator(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\n\nfunction onlyOnce(fn) {\n    return function () {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = once(callback || noop);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = iterator(obj);\n        var done = false;\n        var running = 0;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            } else if (value === breakLoop || done && running <= 0) {\n                done = true;\n                return callback(null);\n            } else {\n                replenish();\n            }\n        }\n\n        function replenish() {\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, onlyOnce(iterateeCallback));\n            }\n        }\n\n        replenish();\n    };\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n  _eachOfLimit(limit)(coll, wrapAsync$1(iteratee), callback);\n}\n\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = once(callback || noop);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if (++completed === length || value === breakLoop) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, onlyOnce(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = doLimit(eachOfLimit, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nvar eachOf = function (coll, iteratee, callback) {\n    var eachOfImplementation = isArrayLike(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, wrapAsync$1(iteratee), callback);\n};\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOf, obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || noop;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = wrapAsync$1(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nvar map = doParallel(_asyncMap);\n\n/**\n * Applies the provided arguments to each function in the array, calling\n * `callback` after all functions have completed. If you only provide the first\n * argument, `fns`, then it will return a function which lets you pass in the\n * arguments as if it were a single function call. If more arguments are\n * provided, `callback` is required while `args` is still optional.\n *\n * @name applyEach\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s\n * to all call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument, `fns`, is provided, it will\n * return a function which lets you pass in the arguments as if it were a single\n * function call. The signature is `(..args, callback)`. If invoked with any\n * arguments, `callback` is required.\n * @example\n *\n * async.applyEach([enableSearch, updateSchema], 'bucket', callback);\n *\n * // partial application example:\n * async.each(\n *     buckets,\n *     async.applyEach([enableSearch, updateSchema]),\n *     callback\n * );\n */\nvar applyEach = applyEach$1(map);\n\nfunction doParallelLimit(fn) {\n    return function (obj, limit, iteratee, callback) {\n        return fn(_eachOfLimit(limit), obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs a maximum of `limit` async operations at a time.\n *\n * @name mapLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapLimit = doParallelLimit(_asyncMap);\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs only a single async operation at a time.\n *\n * @name mapSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapSeries = doLimit(mapLimit, 1);\n\n/**\n * The same as [`applyEach`]{@link module:ControlFlow.applyEach} but runs only a single async operation at a time.\n *\n * @name applyEachSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.applyEach]{@link module:ControlFlow.applyEach}\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s to all\n * call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument is provided, it will return\n * a function which lets you pass in the arguments as if it were a single\n * function call.\n */\nvar applyEachSeries = applyEach$1(mapSeries);\n\n/**\n * Creates a continuation function with some arguments already applied.\n *\n * Useful as a shorthand when combined with other control flow functions. Any\n * arguments passed to the returned function are added to the arguments\n * originally passed to apply.\n *\n * @name apply\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {Function} function - The function you want to eventually apply all\n * arguments to. Invokes with (arguments...).\n * @param {...*} arguments... - Any number of arguments to automatically apply\n * when the continuation is called.\n * @example\n *\n * // using apply\n * async.parallel([\n *     async.apply(fs.writeFile, 'testfile1', 'test1'),\n *     async.apply(fs.writeFile, 'testfile2', 'test2')\n * ]);\n *\n *\n * // the same process without using apply\n * async.parallel([\n *     function(callback) {\n *         fs.writeFile('testfile1', 'test1', callback);\n *     },\n *     function(callback) {\n *         fs.writeFile('testfile2', 'test2', callback);\n *     }\n * ]);\n *\n * // It's possible to pass any number of additional arguments when calling the\n * // continuation:\n *\n * node> var fn = async.apply(sys.puts, 'one');\n * node> fn('two', 'three');\n * one\n * two\n * three\n */\nvar apply$2 = rest(function (fn, args) {\n    return rest(function (callArgs) {\n        return fn.apply(null, args.concat(callArgs));\n    });\n});\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\n/**\n * Determines the best order for running the {@link AsyncFunction}s in `tasks`, based on\n * their requirements. Each function can optionally depend on other functions\n * being completed first, and each function is run as soon as its requirements\n * are satisfied.\n *\n * If any of the {@link AsyncFunction}s pass an error to their callback, the `auto` sequence\n * will stop. Further tasks will not execute (so any other functions depending\n * on it will not run), and the main `callback` is immediately called with the\n * error.\n *\n * {@link AsyncFunction}s also receive an object containing the results of functions which\n * have completed so far as the first argument, if they have dependencies. If a\n * task function has no dependencies, it will only be passed a callback.\n *\n * @name auto\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Object} tasks - An object. Each of its properties is either a\n * function or an array of requirements, with the {@link AsyncFunction} itself the last item\n * in the array. The object's key of a property serves as the name of the task\n * defined by that property, i.e. can be used when specifying requirements for\n * other tasks. The function receives one or two arguments:\n * * a `results` object, containing the results of the previously executed\n *   functions, only passed if the task has any dependencies,\n * * a `callback(err, result)` function, which must be called when finished,\n *   passing an `error` (which can be `null`) and the result of the function's\n *   execution.\n * @param {number} [concurrency=Infinity] - An optional `integer` for\n * determining the maximum number of tasks that can be run in parallel. By\n * default, as many as possible.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback. Results are always returned; however, if an\n * error occurs, no further `tasks` will be performed, and the results object\n * will only contain partial results. Invoked with (err, results).\n * @returns undefined\n * @example\n *\n * async.auto({\n *     // this function will just be passed a callback\n *     readData: async.apply(fs.readFile, 'data.txt', 'utf-8'),\n *     showData: ['readData', function(results, cb) {\n *         // results.readData is the file's contents\n *         // ...\n *     }]\n * }, callback);\n *\n * async.auto({\n *     get_data: function(callback) {\n *         console.log('in get_data');\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         console.log('in make_folder');\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: ['get_data', 'make_folder', function(results, callback) {\n *         console.log('in write_file', JSON.stringify(results));\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(results, callback) {\n *         console.log('in email_link', JSON.stringify(results));\n *         // once the file is written let's email a link to it...\n *         // results.write_file contains the filename returned by write_file.\n *         callback(null, {'file':results.write_file, 'email':'user@example.com'});\n *     }]\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('results = ', results);\n * });\n */\nvar auto = function (tasks, concurrency, callback) {\n    if (typeof concurrency === 'function') {\n        // concurrency is optional, shift the args.\n        callback = concurrency;\n        concurrency = null;\n    }\n    callback = once(callback || noop);\n    var keys$$1 = keys(tasks);\n    var numTasks = keys$$1.length;\n    if (!numTasks) {\n        return callback(null);\n    }\n    if (!concurrency) {\n        concurrency = numTasks;\n    }\n\n    var results = {};\n    var runningTasks = 0;\n    var hasError = false;\n\n    var listeners = Object.create(null);\n\n    var readyTasks = [];\n\n    // for cycle detection:\n    var readyToCheck = []; // tasks that have been identified as reachable\n    // without the possibility of returning to an ancestor task\n    var uncheckedDependencies = {};\n\n    baseForOwn(tasks, function (task, key) {\n        if (!isArray(task)) {\n            // no dependencies\n            enqueueTask(key, [task]);\n            readyToCheck.push(key);\n            return;\n        }\n\n        var dependencies = task.slice(0, task.length - 1);\n        var remainingDependencies = dependencies.length;\n        if (remainingDependencies === 0) {\n            enqueueTask(key, task);\n            readyToCheck.push(key);\n            return;\n        }\n        uncheckedDependencies[key] = remainingDependencies;\n\n        arrayEach(dependencies, function (dependencyName) {\n            if (!tasks[dependencyName]) {\n                throw new Error('async.auto task `' + key + '` has a non-existent dependency `' + dependencyName + '` in ' + dependencies.join(', '));\n            }\n            addListener(dependencyName, function () {\n                remainingDependencies--;\n                if (remainingDependencies === 0) {\n                    enqueueTask(key, task);\n                }\n            });\n        });\n    });\n\n    checkForDeadlocks();\n    processQueue();\n\n    function enqueueTask(key, task) {\n        readyTasks.push(function () {\n            runTask(key, task);\n        });\n    }\n\n    function processQueue() {\n        if (readyTasks.length === 0 && runningTasks === 0) {\n            return callback(null, results);\n        }\n        while (readyTasks.length && runningTasks < concurrency) {\n            var run = readyTasks.shift();\n            run();\n        }\n    }\n\n    function addListener(taskName, fn) {\n        var taskListeners = listeners[taskName];\n        if (!taskListeners) {\n            taskListeners = listeners[taskName] = [];\n        }\n\n        taskListeners.push(fn);\n    }\n\n    function taskComplete(taskName) {\n        var taskListeners = listeners[taskName] || [];\n        arrayEach(taskListeners, function (fn) {\n            fn();\n        });\n        processQueue();\n    }\n\n    function runTask(key, task) {\n        if (hasError) return;\n\n        var taskCallback = onlyOnce(rest(function (err, args) {\n            runningTasks--;\n            if (args.length <= 1) {\n                args = args[0];\n            }\n            if (err) {\n                var safeResults = {};\n                baseForOwn(results, function (val, rkey) {\n                    safeResults[rkey] = val;\n                });\n                safeResults[key] = args;\n                hasError = true;\n                listeners = Object.create(null);\n\n                callback(err, safeResults);\n            } else {\n                results[key] = args;\n                taskComplete(key);\n            }\n        }));\n\n        runningTasks++;\n        var taskFn = wrapAsync$1(task[task.length - 1]);\n        if (task.length > 1) {\n            taskFn(results, taskCallback);\n        } else {\n            taskFn(taskCallback);\n        }\n    }\n\n    function checkForDeadlocks() {\n        // Kahn's algorithm\n        // https://en.wikipedia.org/wiki/Topological_sorting#Kahn.27s_algorithm\n        // http://connalle.blogspot.com/2013/10/topological-sortingkahn-algorithm.html\n        var currentTask;\n        var counter = 0;\n        while (readyToCheck.length) {\n            currentTask = readyToCheck.pop();\n            counter++;\n            arrayEach(getDependents(currentTask), function (dependent) {\n                if (--uncheckedDependencies[dependent] === 0) {\n                    readyToCheck.push(dependent);\n                }\n            });\n        }\n\n        if (counter !== numTasks) {\n            throw new Error('async.auto cannot execute tasks due to a recursive dependency');\n        }\n    }\n\n    function getDependents(taskName) {\n        var result = [];\n        baseForOwn(tasks, function (task, key) {\n            if (isArray(task) && baseIndexOf(task, taskName, 0) >= 0) {\n                result.push(key);\n            }\n        });\n        return result;\n    }\n};\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : undefined;\nvar symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange$1 = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange$1 = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange$1 = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange$1 = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange$1 + ']';\nvar rsCombo = '[' + rsComboMarksRange$1 + rsComboSymbolsRange$1 + ']';\nvar rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\nvar rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')';\nvar rsNonAstral = '[^' + rsAstralRange$1 + ']';\nvar rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\nvar rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\nvar rsZWJ$1 = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?';\nvar rsOptVar = '[' + rsVarRange$1 + ']?';\nvar rsOptJoin = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*';\nvar rsSeq = rsOptVar + reOptMod + rsOptJoin;\nvar rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nvar FN_ARGS = /^(?:async\\s+)?(function)?\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\nvar FN_ARG_SPLIT = /,/;\nvar FN_ARG = /(=.+)?(\\s*)$/;\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\nfunction parseParams(func) {\n    func = func.toString().replace(STRIP_COMMENTS, '');\n    func = func.match(FN_ARGS)[2].replace(' ', '');\n    func = func ? func.split(FN_ARG_SPLIT) : [];\n    func = func.map(function (arg) {\n        return trim(arg.replace(FN_ARG, ''));\n    });\n    return func;\n}\n\n/**\n * A dependency-injected version of the [async.auto]{@link module:ControlFlow.auto} function. Dependent\n * tasks are specified as parameters to the function, after the usual callback\n * parameter, with the parameter names matching the names of the tasks it\n * depends on. This can provide even more readable task graphs which can be\n * easier to maintain.\n *\n * If a final callback is specified, the task results are similarly injected,\n * specified as named parameters after the initial error parameter.\n *\n * The autoInject function is purely syntactic sugar and its semantics are\n * otherwise equivalent to [async.auto]{@link module:ControlFlow.auto}.\n *\n * @name autoInject\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.auto]{@link module:ControlFlow.auto}\n * @category Control Flow\n * @param {Object} tasks - An object, each of whose properties is an {@link AsyncFunction} of\n * the form 'func([dependencies...], callback). The object's key of a property\n * serves as the name of the task defined by that property, i.e. can be used\n * when specifying requirements for other tasks.\n * * The `callback` parameter is a `callback(err, result)` which must be called\n *   when finished, passing an `error` (which can be `null`) and the result of\n *   the function's execution. The remaining parameters name other tasks on\n *   which the task is dependent, and the results from those tasks are the\n *   arguments of those parameters.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback, and a `results` object with any completed\n * task results, similar to `auto`.\n * @example\n *\n * //  The example from `auto` can be rewritten as follows:\n * async.autoInject({\n *     get_data: function(callback) {\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: function(get_data, make_folder, callback) {\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     },\n *     email_link: function(write_file, callback) {\n *         // once the file is written let's email a link to it...\n *         // write_file contains the filename returned by write_file.\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n *\n * // If you are using a JS minifier that mangles parameter names, `autoInject`\n * // will not work with plain functions, since the parameter names will be\n * // collapsed to a single letter identifier.  To work around this, you can\n * // explicitly specify the names of the parameters your task function needs\n * // in an array, similar to Angular.js dependency injection.\n *\n * // This still has an advantage over plain `auto`, since the results a task\n * // depends on are still spread into arguments.\n * async.autoInject({\n *     //...\n *     write_file: ['get_data', 'make_folder', function(get_data, make_folder, callback) {\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(write_file, callback) {\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }]\n *     //...\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n */\nfunction autoInject(tasks, callback) {\n    var newTasks = {};\n\n    baseForOwn(tasks, function (taskFn, key) {\n        var params;\n        var fnIsAsync = isAsync(taskFn);\n        var hasNoDeps = !fnIsAsync && taskFn.length === 1 || fnIsAsync && taskFn.length === 0;\n\n        if (isArray(taskFn)) {\n            params = taskFn.slice(0, -1);\n            taskFn = taskFn[taskFn.length - 1];\n\n            newTasks[key] = params.concat(params.length > 0 ? newTask : taskFn);\n        } else if (hasNoDeps) {\n            // no dependencies, use the function as-is\n            newTasks[key] = taskFn;\n        } else {\n            params = parseParams(taskFn);\n            if (taskFn.length === 0 && !fnIsAsync && params.length === 0) {\n                throw new Error(\"autoInject task functions require explicit parameters.\");\n            }\n\n            // remove callback param\n            if (!fnIsAsync) params.pop();\n\n            newTasks[key] = params.concat(newTask);\n        }\n\n        function newTask(results, taskCb) {\n            var newArgs = arrayMap(params, function (name) {\n                return results[name];\n            });\n            newArgs.push(taskCb);\n            wrapAsync$1(taskFn).apply(null, newArgs);\n        }\n    });\n\n    auto(newTasks, callback);\n}\n\nvar hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return rest(function (fn, args) {\n        defer(function () {\n            fn.apply(null, args);\n        });\n    });\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nvar setImmediate$1 = wrap(_defer);\n\n// Simple doubly linked list (https://en.wikipedia.org/wiki/Doubly_linked_list) implementation\n// used for queues. This implementation assumes that the node provided by the user can be modified\n// to adjust the next and last properties. We implement only the minimal functionality\n// for queue support.\nfunction DLL() {\n    this.head = this.tail = null;\n    this.length = 0;\n}\n\nfunction setInitial(dll, node) {\n    dll.length = 1;\n    dll.head = dll.tail = node;\n}\n\nDLL.prototype.removeLink = function (node) {\n    if (node.prev) node.prev.next = node.next;else this.head = node.next;\n    if (node.next) node.next.prev = node.prev;else this.tail = node.prev;\n\n    node.prev = node.next = null;\n    this.length -= 1;\n    return node;\n};\n\nDLL.prototype.empty = DLL;\n\nDLL.prototype.insertAfter = function (node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next) node.next.prev = newNode;else this.tail = newNode;\n    node.next = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.insertBefore = function (node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev) node.prev.next = newNode;else this.head = newNode;\n    node.prev = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.unshift = function (node) {\n    if (this.head) this.insertBefore(this.head, node);else setInitial(this, node);\n};\n\nDLL.prototype.push = function (node) {\n    if (this.tail) this.insertAfter(this.tail, node);else setInitial(this, node);\n};\n\nDLL.prototype.shift = function () {\n    return this.head && this.removeLink(this.head);\n};\n\nDLL.prototype.pop = function () {\n    return this.tail && this.removeLink(this.tail);\n};\n\nfunction queue(worker, concurrency, payload) {\n    if (concurrency == null) {\n        concurrency = 1;\n    } else if (concurrency === 0) {\n        throw new Error('Concurrency must not be zero');\n    }\n\n    var _worker = wrapAsync$1(worker);\n    var numRunning = 0;\n    var workersList = [];\n\n    function _insert(data, insertAtFront, callback) {\n        if (callback != null && typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0 && q.idle()) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function () {\n                q.drain();\n            });\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                callback: callback || noop\n            };\n\n            if (insertAtFront) {\n                q._tasks.unshift(item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    }\n\n    function _next(tasks) {\n        return rest(function (args) {\n            numRunning -= 1;\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                var task = tasks[i];\n                var index = baseIndexOf(workersList, task, 0);\n                if (index >= 0) {\n                    workersList.splice(index);\n                }\n\n                task.callback.apply(task, args);\n\n                if (args[0] != null) {\n                    q.error(args[0], task.data);\n                }\n            }\n\n            if (numRunning <= q.concurrency - q.buffer) {\n                q.unsaturated();\n            }\n\n            if (q.idle()) {\n                q.drain();\n            }\n            q.process();\n        });\n    }\n\n    var isProcessing = false;\n    var q = {\n        _tasks: new DLL(),\n        concurrency: concurrency,\n        payload: payload,\n        saturated: noop,\n        unsaturated: noop,\n        buffer: concurrency / 4,\n        empty: noop,\n        drain: noop,\n        error: noop,\n        started: false,\n        paused: false,\n        push: function (data, callback) {\n            _insert(data, false, callback);\n        },\n        kill: function () {\n            q.drain = noop;\n            q._tasks.empty();\n        },\n        unshift: function (data, callback) {\n            _insert(data, true, callback);\n        },\n        process: function () {\n            // Avoid trying to start too many processing operations. This can occur\n            // when callbacks resolve synchronously (#1267).\n            if (isProcessing) {\n                return;\n            }\n            isProcessing = true;\n            while (!q.paused && numRunning < q.concurrency && q._tasks.length) {\n                var tasks = [],\n                    data = [];\n                var l = q._tasks.length;\n                if (q.payload) l = Math.min(l, q.payload);\n                for (var i = 0; i < l; i++) {\n                    var node = q._tasks.shift();\n                    tasks.push(node);\n                    data.push(node.data);\n                }\n\n                if (q._tasks.length === 0) {\n                    q.empty();\n                }\n                numRunning += 1;\n                workersList.push(tasks[0]);\n\n                if (numRunning === q.concurrency) {\n                    q.saturated();\n                }\n\n                var cb = onlyOnce(_next(tasks));\n                _worker(data, cb);\n            }\n            isProcessing = false;\n        },\n        length: function () {\n            return q._tasks.length;\n        },\n        running: function () {\n            return numRunning;\n        },\n        workersList: function () {\n            return workersList;\n        },\n        idle: function () {\n            return q._tasks.length + numRunning === 0;\n        },\n        pause: function () {\n            q.paused = true;\n        },\n        resume: function () {\n            if (q.paused === false) {\n                return;\n            }\n            q.paused = false;\n            setImmediate$1(q.process);\n        }\n    };\n    return q;\n}\n\n/**\n * A cargo of tasks for the worker function to complete. Cargo inherits all of\n * the same methods and event callbacks as [`queue`]{@link module:ControlFlow.queue}.\n * @typedef {Object} CargoObject\n * @memberOf module:ControlFlow\n * @property {Function} length - A function returning the number of items\n * waiting to be processed. Invoke like `cargo.length()`.\n * @property {number} payload - An `integer` for determining how many tasks\n * should be process per round. This property can be changed after a `cargo` is\n * created to alter the payload on-the-fly.\n * @property {Function} push - Adds `task` to the `queue`. The callback is\n * called once the `worker` has finished processing the task. Instead of a\n * single task, an array of `tasks` can be submitted. The respective callback is\n * used for every task in the list. Invoke like `cargo.push(task, [callback])`.\n * @property {Function} saturated - A callback that is called when the\n * `queue.length()` hits the concurrency and further tasks will be queued.\n * @property {Function} empty - A callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - A callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke like `cargo.idle()`.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke like `cargo.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke like `cargo.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke like `cargo.kill()`.\n */\n\n/**\n * Creates a `cargo` object with the specified payload. Tasks added to the\n * cargo will be processed altogether (up to the `payload` limit). If the\n * `worker` is in progress, the task is queued until it becomes available. Once\n * the `worker` has completed some tasks, each callback of those tasks is\n * called. Check out [these](https://camo.githubusercontent.com/6bbd36f4cf5b35a0f11a96dcd2e97711ffc2fb37/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130382f62626330636662302d356632392d313165322d393734662d3333393763363464633835382e676966) [animations](https://camo.githubusercontent.com/f4810e00e1c5f5f8addbe3e9f49064fd5d102699/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130312f38346339323036362d356632392d313165322d383134662d3964336430323431336266642e676966)\n * for how `cargo` and `queue` work.\n *\n * While [`queue`]{@link module:ControlFlow.queue} passes only one task to one of a group of workers\n * at a time, cargo passes an array of tasks to a single worker, repeating\n * when the worker is finished.\n *\n * @name cargo\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An asynchronous function for processing an array\n * of queued tasks. Invoked with `(tasks, callback)`.\n * @param {number} [payload=Infinity] - An optional `integer` for determining\n * how many tasks should be processed per round; if omitted, the default is\n * unlimited.\n * @returns {module:ControlFlow.CargoObject} A cargo object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the cargo and inner queue.\n * @example\n *\n * // create a cargo object with payload 2\n * var cargo = async.cargo(function(tasks, callback) {\n *     for (var i=0; i<tasks.length; i++) {\n *         console.log('hello ' + tasks[i].name);\n *     }\n *     callback();\n * }, 2);\n *\n * // add some items\n * cargo.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * cargo.push({name: 'bar'}, function(err) {\n *     console.log('finished processing bar');\n * });\n * cargo.push({name: 'baz'}, function(err) {\n *     console.log('finished processing baz');\n * });\n */\nfunction cargo(worker, payload) {\n  return queue(worker, 1, payload);\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs only a single async operation at a time.\n *\n * @name eachOfSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachOfSeries = doLimit(eachOfLimit, 1);\n\n/**\n * Reduces `coll` into a single value using an async `iteratee` to return each\n * successive step. `memo` is the initial state of the reduction. This function\n * only operates in series.\n *\n * For performance reasons, it may make sense to split a call to this function\n * into a parallel map, and then use the normal `Array.prototype.reduce` on the\n * results. This function is for situations where each step in the reduction\n * needs to be async; if you can get the data before reducing it, then it's\n * probably a good idea to do so.\n *\n * @name reduce\n * @static\n * @memberOf module:Collections\n * @method\n * @alias inject\n * @alias foldl\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n * @example\n *\n * async.reduce([1,2,3], 0, function(memo, item, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         callback(null, memo + item)\n *     });\n * }, function(err, result) {\n *     // result is now equal to the last value of memo, which is 6\n * });\n */\nfunction reduce(coll, memo, iteratee, callback) {\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    eachOfSeries(coll, function (x, i, callback) {\n        _iteratee(memo, x, function (err, v) {\n            memo = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, memo);\n    });\n}\n\n/**\n * Version of the compose function that is more natural to read. Each function\n * consumes the return value of the previous function. It is the equivalent of\n * [compose]{@link module:ControlFlow.compose} with the arguments reversed.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name seq\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.compose]{@link module:ControlFlow.compose}\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} a function that composes the `functions` in order\n * @example\n *\n * // Requires lodash (or underscore), express3 and dresende's orm2.\n * // Part of an app, that fetches cats of the logged user.\n * // This example uses `seq` function to avoid overnesting and error\n * // handling clutter.\n * app.get('/cats', function(request, response) {\n *     var User = request.models.User;\n *     async.seq(\n *         _.bind(User.get, User),  // 'User.get' has signature (id, callback(err, data))\n *         function(user, fn) {\n *             user.getCats(fn);      // 'getCats' has signature (callback(err, data))\n *         }\n *     )(req.session.user_id, function (err, cats) {\n *         if (err) {\n *             console.error(err);\n *             response.json({ status: 'error', message: err.message });\n *         } else {\n *             response.json({ status: 'ok', message: 'Cats found', data: cats });\n *         }\n *     });\n * });\n */\nvar seq$1 = rest(function seq(functions) {\n    var _functions = arrayMap(functions, wrapAsync$1);\n    return rest(function (args) {\n        var that = this;\n\n        var cb = args[args.length - 1];\n        if (typeof cb == 'function') {\n            args.pop();\n        } else {\n            cb = noop;\n        }\n\n        reduce(_functions, args, function (newargs, fn, cb) {\n            fn.apply(that, newargs.concat(rest(function (err, nextargs) {\n                cb(err, nextargs);\n            })));\n        }, function (err, results) {\n            cb.apply(that, [err].concat(results));\n        });\n    });\n});\n\n/**\n * Creates a function which is a composition of the passed asynchronous\n * functions. Each function consumes the return value of the function that\n * follows. Composing functions `f()`, `g()`, and `h()` would produce the result\n * of `f(g(h()))`, only this version uses callbacks to obtain the return values.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name compose\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} an asynchronous function that is the composed\n * asynchronous `functions`\n * @example\n *\n * function add1(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n + 1);\n *     }, 10);\n * }\n *\n * function mul3(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n * 3);\n *     }, 10);\n * }\n *\n * var add1mul3 = async.compose(mul3, add1);\n * add1mul3(4, function (err, result) {\n *     // result now equals 15\n * });\n */\nvar compose = rest(function (args) {\n  return seq$1.apply(null, args.reverse());\n});\n\nfunction concat$1(eachfn, arr, fn, callback) {\n    var result = [];\n    eachfn(arr, function (x, index, cb) {\n        fn(x, function (err, y) {\n            result = result.concat(y || []);\n            cb(err);\n        });\n    }, function (err) {\n        callback(err, result);\n    });\n}\n\n/**\n * Applies `iteratee` to each item in `coll`, concatenating the results. Returns\n * the concatenated list. The `iteratee`s are called in parallel, and the\n * results are concatenated as they return. There is no guarantee that the\n * results array will be returned in the original order of `coll` passed to the\n * `iteratee` function.\n *\n * @name concat\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`,\n * which should use an array as its result. Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n * @example\n *\n * async.concat(['dir1','dir2','dir3'], fs.readdir, function(err, files) {\n *     // files is now a list of filenames that exist in the 3 directories\n * });\n */\nvar concat = doParallel(concat$1);\n\nfunction doSeries(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOfSeries, obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`concat`]{@link module:Collections.concat} but runs only a single async operation at a time.\n *\n * @name concatSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.concat]{@link module:Collections.concat}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`.\n * The iteratee should complete with an array an array of results.\n * Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n */\nvar concatSeries = doSeries(concat$1);\n\n/**\n * Returns a function that when called, calls-back with the values provided.\n * Useful as the first function in a [`waterfall`]{@link module:ControlFlow.waterfall}, or for plugging values in to\n * [`auto`]{@link module:ControlFlow.auto}.\n *\n * @name constant\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {...*} arguments... - Any number of arguments to automatically invoke\n * callback with.\n * @returns {AsyncFunction} Returns a function that when invoked, automatically\n * invokes the callback with the previous given arguments.\n * @example\n *\n * async.waterfall([\n *     async.constant(42),\n *     function (value, next) {\n *         // value === 42\n *     },\n *     //...\n * ], callback);\n *\n * async.waterfall([\n *     async.constant(filename, \"utf8\"),\n *     fs.readFile,\n *     function (fileData, next) {\n *         //...\n *     }\n *     //...\n * ], callback);\n *\n * async.auto({\n *     hostname: async.constant(\"https://server.net/\"),\n *     port: findFreePort,\n *     launchServer: [\"hostname\", \"port\", function (options, cb) {\n *         startServer(options, cb);\n *     }],\n *     //...\n * }, callback);\n */\nvar constant = rest(function (values) {\n    var args = [null].concat(values);\n    return initialParams(function (ignoredArgs, callback) {\n        return callback.apply(this, args);\n    });\n});\n\nfunction _createTester(check, getResult) {\n    return function (eachfn, arr, iteratee, cb) {\n        cb = cb || noop;\n        var testPassed = false;\n        var testResult;\n        eachfn(arr, function (value, _, callback) {\n            iteratee(value, function (err, result) {\n                if (err) {\n                    callback(err);\n                } else if (check(result) && !testResult) {\n                    testPassed = true;\n                    testResult = getResult(true, value);\n                    callback(null, breakLoop);\n                } else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            if (err) {\n                cb(err);\n            } else {\n                cb(null, testPassed ? testResult : getResult(false));\n            }\n        });\n    };\n}\n\nfunction _findGetResult(v, x) {\n    return x;\n}\n\n/**\n * Returns the first value in `coll` that passes an async truth test. The\n * `iteratee` is applied in parallel, meaning the first iteratee to return\n * `true` will fire the detect `callback` with that result. That means the\n * result might not be the first item in the original `coll` (in terms of order)\n * that passes the test.\n\n * If order within the original `coll` is important, then look at\n * [`detectSeries`]{@link module:Collections.detectSeries}.\n *\n * @name detect\n * @static\n * @memberOf module:Collections\n * @method\n * @alias find\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n * @example\n *\n * async.detect(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // result now equals the first file in the list that exists\n * });\n */\nvar detect = doParallel(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name detectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findLimit\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectLimit = doParallelLimit(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs only a single async operation at a time.\n *\n * @name detectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findSeries\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectSeries = doLimit(detectLimit, 1);\n\nfunction consoleFunc(name) {\n    return rest(function (fn, args) {\n        wrapAsync$1(fn).apply(null, args.concat(rest(function (err, args) {\n            if (typeof console === 'object') {\n                if (err) {\n                    if (console.error) {\n                        console.error(err);\n                    }\n                } else if (console[name]) {\n                    arrayEach(args, function (x) {\n                        console[name](x);\n                    });\n                }\n            }\n        })));\n    });\n}\n\n/**\n * Logs the result of an [`async` function]{@link AsyncFunction} to the\n * `console` using `console.dir` to display the properties of the resulting object.\n * Only works in Node.js or in browsers that support `console.dir` and\n * `console.error` (such as FF and Chrome).\n * If multiple arguments are returned from the async function,\n * `console.dir` is called on each argument in order.\n *\n * @name dir\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, {hello: name});\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.dir(hello, 'world');\n * {hello: 'world'}\n */\nvar dir = consoleFunc('dir');\n\n/**\n * The post-check version of [`during`]{@link module:ControlFlow.during}. To reflect the difference in\n * the order of operations, the arguments `test` and `fn` are switched.\n *\n * Also a version of [`doWhilst`]{@link module:ControlFlow.doWhilst} with asynchronous `test` function.\n * @name doDuring\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.during]{@link module:ControlFlow.during}\n * @category Control Flow\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (...args, callback), where `...args` are the\n * non-error args from the previous callback of `fn`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error if one occurred, otherwise `null`.\n */\nfunction doDuring(fn, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync$1(fn);\n    var _test = wrapAsync$1(test);\n\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        args.push(check);\n        _test.apply(this, args);\n    });\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    check(null, true);\n}\n\n/**\n * The post-check version of [`whilst`]{@link module:ControlFlow.whilst}. To reflect the difference in\n * the order of operations, the arguments `test` and `iteratee` are switched.\n *\n * `doWhilst` is to `whilst` as `do while` is to `while` in plain JavaScript.\n *\n * @name doWhilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - A function which is called each time `test`\n * passes. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped.\n * `callback` will be passed an error and any arguments passed to the final\n * `iteratee`'s callback. Invoked with (err, [results]);\n */\nfunction doWhilst(iteratee, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        if (test.apply(this, args)) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    });\n    _iteratee(next);\n}\n\n/**\n * Like ['doWhilst']{@link module:ControlFlow.doWhilst}, except the `test` is inverted. Note the\n * argument ordering differs from `until`.\n *\n * @name doUntil\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.doWhilst]{@link module:ControlFlow.doWhilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction doUntil(iteratee, test, callback) {\n    doWhilst(iteratee, function () {\n        return !test.apply(this, arguments);\n    }, callback);\n}\n\n/**\n * Like [`whilst`]{@link module:ControlFlow.whilst}, except the `test` is an asynchronous function that\n * is passed a callback in the form of `function (err, truth)`. If error is\n * passed to `test` or `fn`, the main callback is immediately called with the\n * value of the error.\n *\n * @name during\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (callback).\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error, if one occurred, otherwise `null`.\n * @example\n *\n * var count = 0;\n *\n * async.during(\n *     function (callback) {\n *         return callback(null, count < 5);\n *     },\n *     function (callback) {\n *         count++;\n *         setTimeout(callback, 1000);\n *     },\n *     function (err) {\n *         // 5 seconds have passed\n *     }\n * );\n */\nfunction during(test, fn, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync$1(fn);\n    var _test = wrapAsync$1(test);\n\n    function next(err) {\n        if (err) return callback(err);\n        _test(check);\n    }\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    _test(check);\n}\n\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\n\n/**\n * Applies the function `iteratee` to each item in `coll`, in parallel.\n * The `iteratee` is called with an item from the list, and a callback for when\n * it has finished. If the `iteratee` passes an error to its `callback`, the\n * main `callback` (for the `each` function) is immediately called with the\n * error.\n *\n * Note, that since this function applies `iteratee` to each item in parallel,\n * there is no guarantee that the iteratee functions will complete in order.\n *\n * @name each\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEach\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to\n * each item in `coll`. Invoked with (item, callback).\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOf`.\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * // assuming openFiles is an array of file names and saveFile is a function\n * // to save the modified contents of that file:\n *\n * async.each(openFiles, saveFile, function(err){\n *   // if any of the saves produced an error, err would equal that error\n * });\n *\n * // assuming openFiles is an array of file names\n * async.each(openFiles, function(file, callback) {\n *\n *     // Perform operation on file here.\n *     console.log('Processing file ' + file);\n *\n *     if( file.length > 32 ) {\n *       console.log('This file name is too long');\n *       callback('File name too long');\n *     } else {\n *       // Do work to process file here\n *       console.log('File processed');\n *       callback();\n *     }\n * }, function(err) {\n *     // if any of the file processing produced an error, err would equal that error\n *     if( err ) {\n *       // One of the iterations produced an error.\n *       // All processing will now stop.\n *       console.log('A file failed to process');\n *     } else {\n *       console.log('All files have been processed successfully');\n *     }\n * });\n */\nfunction eachLimit(coll, iteratee, callback) {\n  eachOf(coll, _withoutIndex(wrapAsync$1(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit$1(coll, limit, iteratee, callback) {\n  _eachOfLimit(limit)(coll, _withoutIndex(wrapAsync$1(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachSeries = doLimit(eachLimit$1, 1);\n\n/**\n * Wrap an async function and ensure it calls its callback on a later tick of\n * the event loop.  If the function already calls its callback on a next tick,\n * no extra deferral is added. This is useful for preventing stack overflows\n * (`RangeError: Maximum call stack size exceeded`) and generally keeping\n * [Zalgo](http://blog.izs.me/post/59142742143/designing-apis-for-asynchrony)\n * contained. ES2017 `async` functions are returned as-is -- they are immune\n * to Zalgo's corrupting influences, as they always resolve on a later tick.\n *\n * @name ensureAsync\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - an async function, one that expects a node-style\n * callback as its last argument.\n * @returns {AsyncFunction} Returns a wrapped function with the exact same call\n * signature as the function passed in.\n * @example\n *\n * function sometimesAsync(arg, callback) {\n *     if (cache[arg]) {\n *         return callback(null, cache[arg]); // this would be synchronous!!\n *     } else {\n *         doSomeIO(arg, callback); // this IO would be asynchronous\n *     }\n * }\n *\n * // this has a risk of stack overflows if many results are cached in a row\n * async.mapSeries(args, sometimesAsync, done);\n *\n * // this will defer sometimesAsync's callback if necessary,\n * // preventing stack overflows\n * async.mapSeries(args, async.ensureAsync(sometimesAsync), done);\n */\nfunction ensureAsync(fn) {\n    if (isAsync(fn)) return fn;\n    return initialParams(function (args, callback) {\n        var sync = true;\n        args.push(function () {\n            var innerArgs = arguments;\n            if (sync) {\n                setImmediate$1(function () {\n                    callback.apply(null, innerArgs);\n                });\n            } else {\n                callback.apply(null, innerArgs);\n            }\n        });\n        fn.apply(this, args);\n        sync = false;\n    });\n}\n\nfunction notId(v) {\n    return !v;\n}\n\n/**\n * Returns `true` if every element in `coll` satisfies an async test. If any\n * iteratee call returns `false`, the main `callback` is immediately called.\n *\n * @name every\n * @static\n * @memberOf module:Collections\n * @method\n * @alias all\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n * @example\n *\n * async.every(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then every file exists\n * });\n */\nvar every = doParallel(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs a maximum of `limit` async operations at a time.\n *\n * @name everyLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everyLimit = doParallelLimit(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs only a single async operation at a time.\n *\n * @name everySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in series.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everySeries = doLimit(everyLimit, 1);\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nfunction filterArray(eachfn, arr, iteratee, callback) {\n    var truthValues = new Array(arr.length);\n    eachfn(arr, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            truthValues[index] = !!v;\n            callback(err);\n        });\n    }, function (err) {\n        if (err) return callback(err);\n        var results = [];\n        for (var i = 0; i < arr.length; i++) {\n            if (truthValues[i]) results.push(arr[i]);\n        }\n        callback(null, results);\n    });\n}\n\nfunction filterGeneric(eachfn, coll, iteratee, callback) {\n    var results = [];\n    eachfn(coll, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            if (err) {\n                callback(err);\n            } else {\n                if (v) {\n                    results.push({ index: index, value: x });\n                }\n                callback();\n            }\n        });\n    }, function (err) {\n        if (err) {\n            callback(err);\n        } else {\n            callback(null, arrayMap(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), baseProperty('value')));\n        }\n    });\n}\n\nfunction _filter(eachfn, coll, iteratee, callback) {\n    var filter = isArrayLike(coll) ? filterArray : filterGeneric;\n    filter(eachfn, coll, wrapAsync$1(iteratee), callback || noop);\n}\n\n/**\n * Returns a new array of all the values in `coll` which pass an async truth\n * test. This operation is performed in parallel, but the results array will be\n * in the same order as the original.\n *\n * @name filter\n * @static\n * @memberOf module:Collections\n * @method\n * @alias select\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.filter(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of the existing files\n * });\n */\nvar filter = doParallel(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name filterLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar filterLimit = doParallelLimit(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs only a single async operation at a time.\n *\n * @name filterSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results)\n */\nvar filterSeries = doLimit(filterLimit, 1);\n\n/**\n * Calls the asynchronous function `fn` with a callback parameter that allows it\n * to call itself again, in series, indefinitely.\n\n * If an error is passed to the callback then `errback` is called with the\n * error, and execution stops, otherwise it will never be called.\n *\n * @name forever\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} fn - an async function to call repeatedly.\n * Invoked with (next).\n * @param {Function} [errback] - when `fn` passes an error to it's callback,\n * this function will be called, and execution stops. Invoked with (err).\n * @example\n *\n * async.forever(\n *     function(next) {\n *         // next is suitable for passing to things that need a callback(err [, whatever]);\n *         // it will result in this function being called again.\n *     },\n *     function(err) {\n *         // if next is called with a value in its first parameter, it will appear\n *         // in here as 'err', and execution will stop.\n *     }\n * );\n */\nfunction forever(fn, errback) {\n    var done = onlyOnce(errback || noop);\n    var task = wrapAsync$1(ensureAsync(fn));\n\n    function next(err) {\n        if (err) return done(err);\n        task(next);\n    }\n    next();\n}\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs a maximum of `limit` async operations at a time.\n *\n * @name groupByLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupByLimit = function (coll, limit, iteratee, callback) {\n    callback = callback || noop;\n    var _iteratee = wrapAsync$1(iteratee);\n    mapLimit(coll, limit, function (val, callback) {\n        _iteratee(val, function (err, key) {\n            if (err) return callback(err);\n            return callback(null, { key: key, val: val });\n        });\n    }, function (err, mapResults) {\n        var result = {};\n        // from MDN, handle object having an `hasOwnProperty` prop\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n        for (var i = 0; i < mapResults.length; i++) {\n            if (mapResults[i]) {\n                var key = mapResults[i].key;\n                var val = mapResults[i].val;\n\n                if (hasOwnProperty.call(result, key)) {\n                    result[key].push(val);\n                } else {\n                    result[key] = [val];\n                }\n            }\n        }\n\n        return callback(err, result);\n    });\n};\n\n/**\n * Returns a new object, where each value corresponds to an array of items, from\n * `coll`, that returned the corresponding key. That is, the keys of the object\n * correspond to the values passed to the `iteratee` callback.\n *\n * Note: Since this function applies the `iteratee` to each item in parallel,\n * there is no guarantee that the `iteratee` functions will complete in order.\n * However, the values for each key in the `result` will be in the same order as\n * the original `coll`. For Objects, the values will roughly be in the order of\n * the original Objects' keys (but this can vary across JavaScript engines).\n *\n * @name groupBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n * @example\n *\n * async.groupBy(['userId1', 'userId2', 'userId3'], function(userId, callback) {\n *     db.findById(userId, function(err, user) {\n *         if (err) return callback(err);\n *         return callback(null, user.age);\n *     });\n * }, function(err, result) {\n *     // result is object containing the userIds grouped by age\n *     // e.g. { 30: ['userId1', 'userId3'], 42: ['userId2']};\n * });\n */\nvar groupBy = doLimit(groupByLimit, Infinity);\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs only a single async operation at a time.\n *\n * @name groupBySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupBySeries = doLimit(groupByLimit, 1);\n\n/**\n * Logs the result of an `async` function to the `console`. Only works in\n * Node.js or in browsers that support `console.log` and `console.error` (such\n * as FF and Chrome). If multiple arguments are returned from the async\n * function, `console.log` is called on each argument in order.\n *\n * @name log\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, 'hello ' + name);\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.log(hello, 'world');\n * 'hello world'\n */\nvar log = consoleFunc('log');\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name mapValuesLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nfunction mapValuesLimit(obj, limit, iteratee, callback) {\n    callback = once(callback || noop);\n    var newObj = {};\n    var _iteratee = wrapAsync$1(iteratee);\n    eachOfLimit(obj, limit, function (val, key, next) {\n        _iteratee(val, key, function (err, result) {\n            if (err) return next(err);\n            newObj[key] = result;\n            next();\n        });\n    }, function (err) {\n        callback(err, newObj);\n    });\n}\n\n/**\n * A relative of [`map`]{@link module:Collections.map}, designed for use with objects.\n *\n * Produces a new Object by mapping each value of `obj` through the `iteratee`\n * function. The `iteratee` is called each `value` and `key` from `obj` and a\n * callback for when it has finished processing. Each of these callbacks takes\n * two arguments: an `error`, and the transformed item from `obj`. If `iteratee`\n * passes an error to its callback, the main `callback` (for the `mapValues`\n * function) is immediately called with the error.\n *\n * Note, the order of the keys in the result is not guaranteed.  The keys will\n * be roughly in the order they complete, (but this is very engine-specific)\n *\n * @name mapValues\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n * @example\n *\n * async.mapValues({\n *     f1: 'file1',\n *     f2: 'file2',\n *     f3: 'file3'\n * }, function (file, key, callback) {\n *   fs.stat(file, callback);\n * }, function(err, result) {\n *     // result is now a map of stats for each file, e.g.\n *     // {\n *     //     f1: [stats for file1],\n *     //     f2: [stats for file2],\n *     //     f3: [stats for file3]\n *     // }\n * });\n */\n\nvar mapValues = doLimit(mapValuesLimit, Infinity);\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs only a single async operation at a time.\n *\n * @name mapValuesSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nvar mapValuesSeries = doLimit(mapValuesLimit, 1);\n\nfunction has(obj, key) {\n    return key in obj;\n}\n\n/**\n * Caches the results of an async function. When creating a hash to store\n * function results against, the callback is omitted from the hash and an\n * optional hash function can be used.\n *\n * If no hash function is specified, the first argument is used as a hash key,\n * which may work reasonably if it is a string or a data type that converts to a\n * distinct string. Note that objects and arrays will not behave reasonably.\n * Neither will cases where the other arguments are significant. In such cases,\n * specify your own hash function.\n *\n * The cache of results is exposed as the `memo` property of the function\n * returned by `memoize`.\n *\n * @name memoize\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function to proxy and cache results from.\n * @param {Function} hasher - An optional function for generating a custom hash\n * for storing results. It has all the arguments applied to it apart from the\n * callback, and must be synchronous.\n * @returns {AsyncFunction} a memoized version of `fn`\n * @example\n *\n * var slow_fn = function(name, callback) {\n *     // do something\n *     callback(null, result);\n * };\n * var fn = async.memoize(slow_fn);\n *\n * // fn can now be used as if it were slow_fn\n * fn('some name', function() {\n *     // callback\n * });\n */\nfunction memoize(fn, hasher) {\n    var memo = Object.create(null);\n    var queues = Object.create(null);\n    hasher = hasher || identity;\n    var _fn = wrapAsync$1(fn);\n    var memoized = initialParams(function memoized(args, callback) {\n        var key = hasher.apply(null, args);\n        if (has(memo, key)) {\n            setImmediate$1(function () {\n                callback.apply(null, memo[key]);\n            });\n        } else if (has(queues, key)) {\n            queues[key].push(callback);\n        } else {\n            queues[key] = [callback];\n            _fn.apply(null, args.concat(rest(function (args) {\n                memo[key] = args;\n                var q = queues[key];\n                delete queues[key];\n                for (var i = 0, l = q.length; i < l; i++) {\n                    q[i].apply(null, args);\n                }\n            })));\n        }\n    });\n    memoized.memo = memo;\n    memoized.unmemoized = fn;\n    return memoized;\n}\n\n/**\n * Calls `callback` on a later loop around the event loop. In Node.js this just\n * calls `setImmediate`.  In the browser it will use `setImmediate` if\n * available, otherwise `setTimeout(callback, 0)`, which means other higher\n * priority events may precede the execution of `callback`.\n *\n * This is used internally for browser-compatibility purposes.\n *\n * @name nextTick\n * @static\n * @memberOf module:Utils\n * @method\n * @alias setImmediate\n * @category Util\n * @param {Function} callback - The function to call on a later loop around\n * the event loop. Invoked with (args...).\n * @param {...*} args... - any number of additional arguments to pass to the\n * callback on the next tick.\n * @example\n *\n * var call_order = [];\n * async.nextTick(function() {\n *     call_order.push('two');\n *     // call_order now equals ['one','two']\n * });\n * call_order.push('one');\n *\n * async.setImmediate(function (a, b, c) {\n *     // a, b, and c equal 1, 2, and 3\n * }, 1, 2, 3);\n */\nvar _defer$1;\n\nif (hasNextTick) {\n    _defer$1 = process.nextTick;\n} else if (hasSetImmediate) {\n    _defer$1 = setImmediate;\n} else {\n    _defer$1 = fallback;\n}\n\nvar nextTick = wrap(_defer$1);\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || noop;\n    var results = isArrayLike(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        wrapAsync$1(task)(rest(function (err, args) {\n            if (args.length <= 1) {\n                args = args[0];\n            }\n            results[key] = args;\n            callback(err);\n        }));\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  _parallel(eachOf, tasks, callback);\n}\n\n/**\n * The same as [`parallel`]{@link module:ControlFlow.parallel} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name parallelLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.parallel]{@link module:ControlFlow.parallel}\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n */\nfunction parallelLimit$1(tasks, limit, callback) {\n  _parallel(_eachOfLimit(limit), tasks, callback);\n}\n\n/**\n * A queue of tasks for the worker function to complete.\n * @typedef {Object} QueueObject\n * @memberOf module:ControlFlow\n * @property {Function} length - a function returning the number of items\n * waiting to be processed. Invoke with `queue.length()`.\n * @property {boolean} started - a boolean indicating whether or not any\n * items have been pushed and processed by the queue.\n * @property {Function} running - a function returning the number of items\n * currently being processed. Invoke with `queue.running()`.\n * @property {Function} workersList - a function returning the array of items\n * currently being processed. Invoke with `queue.workersList()`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke with `queue.idle()`.\n * @property {number} concurrency - an integer for determining how many `worker`\n * functions should be run in parallel. This property can be changed after a\n * `queue` is created to alter the concurrency on-the-fly.\n * @property {Function} push - add a new task to the `queue`. Calls `callback`\n * once the `worker` has finished processing the task. Instead of a single task,\n * a `tasks` array can be submitted. The respective callback is used for every\n * task in the list. Invoke with `queue.push(task, [callback])`,\n * @property {Function} unshift - add a new task to the front of the `queue`.\n * Invoke with `queue.unshift(task, [callback])`.\n * @property {Function} saturated - a callback that is called when the number of\n * running workers hits the `concurrency` limit, and further tasks will be\n * queued.\n * @property {Function} unsaturated - a callback that is called when the number\n * of running workers is less than the `concurrency` & `buffer` limits, and\n * further tasks will not be queued.\n * @property {number} buffer - A minimum threshold buffer in order to say that\n * the `queue` is `unsaturated`.\n * @property {Function} empty - a callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - a callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} error - a callback that is called when a task errors.\n * Has the signature `function(error, task)`.\n * @property {boolean} paused - a boolean for determining whether the queue is\n * in a paused state.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke with `queue.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke with `queue.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke with `queue.kill()`.\n */\n\n/**\n * Creates a `queue` object with the specified `concurrency`. Tasks added to the\n * `queue` are processed in parallel (up to the `concurrency` limit). If all\n * `worker`s are in progress, the task is queued until one becomes available.\n * Once a `worker` completes a `task`, that `task`'s callback is called.\n *\n * @name queue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`. Invoked with (task, callback).\n * @param {number} [concurrency=1] - An `integer` for determining how many\n * `worker` functions should be run in parallel.  If omitted, the concurrency\n * defaults to `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the queue.\n * @example\n *\n * // create a queue object with concurrency 2\n * var q = async.queue(function(task, callback) {\n *     console.log('hello ' + task.name);\n *     callback();\n * }, 2);\n *\n * // assign a callback\n * q.drain = function() {\n *     console.log('all items have been processed');\n * };\n *\n * // add some items to the queue\n * q.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * q.push({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n *\n * // add some items to the queue (batch-wise)\n * q.push([{name: 'baz'},{name: 'bay'},{name: 'bax'}], function(err) {\n *     console.log('finished processing item');\n * });\n *\n * // add some items to the front of the queue\n * q.unshift({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n */\nvar queue$1 = function (worker, concurrency) {\n  var _worker = wrapAsync$1(worker);\n  return queue(function (items, cb) {\n    _worker(items[0], cb);\n  }, concurrency, 1);\n};\n\n/**\n * The same as [async.queue]{@link module:ControlFlow.queue} only tasks are assigned a priority and\n * completed in ascending priority order.\n *\n * @name priorityQueue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`.\n * Invoked with (task, callback).\n * @param {number} concurrency - An `integer` for determining how many `worker`\n * functions should be run in parallel.  If omitted, the concurrency defaults to\n * `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A priorityQueue object to manage the tasks. There are two\n * differences between `queue` and `priorityQueue` objects:\n * * `push(task, priority, [callback])` - `priority` should be a number. If an\n *   array of `tasks` is given, all tasks will be assigned the same priority.\n * * The `unshift` method was removed.\n */\nvar priorityQueue = function (worker, concurrency) {\n    // Start with a normal queue\n    var q = queue$1(worker, concurrency);\n\n    // Override push to accept second parameter representing priority\n    q.push = function (data, priority, callback) {\n        if (callback == null) callback = noop;\n        if (typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function () {\n                q.drain();\n            });\n        }\n\n        priority = priority || 0;\n        var nextNode = q._tasks.head;\n        while (nextNode && priority >= nextNode.priority) {\n            nextNode = nextNode.next;\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                priority: priority,\n                callback: callback\n            };\n\n            if (nextNode) {\n                q._tasks.insertBefore(nextNode, item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    };\n\n    // Remove unshift function\n    delete q.unshift;\n\n    return q;\n};\n\n/**\n * Runs the `tasks` array of functions in parallel, without waiting until the\n * previous function has completed. Once any of the `tasks` complete or pass an\n * error to its callback, the main `callback` is immediately called. It's\n * equivalent to `Promise.race()`.\n *\n * @name race\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array containing [async functions]{@link AsyncFunction}\n * to run. Each function can complete with an optional `result` value.\n * @param {Function} callback - A callback to run once any of the functions have\n * completed. This function gets an error or result from the first function that\n * completed. Invoked with (err, result).\n * @returns undefined\n * @example\n *\n * async.race([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // main callback\n * function(err, result) {\n *     // the result will be equal to 'two' as it finishes earlier\n * });\n */\nfunction race(tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new TypeError('First argument to race must be an array of functions'));\n    if (!tasks.length) return callback();\n    for (var i = 0, l = tasks.length; i < l; i++) {\n        wrapAsync$1(tasks[i])(callback);\n    }\n}\n\nvar slice = Array.prototype.slice;\n\n/**\n * Same as [`reduce`]{@link module:Collections.reduce}, only operates on `array` in reverse order.\n *\n * @name reduceRight\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reduce]{@link module:Collections.reduce}\n * @alias foldr\n * @category Collection\n * @param {Array} array - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n */\nfunction reduceRight(array, memo, iteratee, callback) {\n  var reversed = slice.call(array).reverse();\n  reduce(reversed, memo, iteratee, callback);\n}\n\n/**\n * Wraps the async function in another function that always completes with a\n * result object, even when it errors.\n *\n * The result object has either the property `error` or `value`.\n *\n * @name reflect\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function you want to wrap\n * @returns {Function} - A function that always passes null to it's callback as\n * the error. The second argument to the callback will be an `object` with\n * either an `error` or a `value` property.\n * @example\n *\n * async.parallel([\n *     async.reflect(function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff but error ...\n *         callback('bad stuff happened');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     })\n * ],\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = 'bad stuff happened'\n *     // results[2].value = 'two'\n * });\n */\nfunction reflect(fn) {\n    var _fn = wrapAsync$1(fn);\n    return initialParams(function reflectOn(args, reflectCallback) {\n        args.push(rest(function callback(err, cbArgs) {\n            if (err) {\n                reflectCallback(null, {\n                    error: err\n                });\n            } else {\n                var value = null;\n                if (cbArgs.length === 1) {\n                    value = cbArgs[0];\n                } else if (cbArgs.length > 1) {\n                    value = cbArgs;\n                }\n                reflectCallback(null, {\n                    value: value\n                });\n            }\n        }));\n\n        return _fn.apply(this, args);\n    });\n}\n\nfunction reject$1(eachfn, arr, iteratee, callback) {\n    _filter(eachfn, arr, function (value, cb) {\n        iteratee(value, function (err, v) {\n            cb(err, !v);\n        });\n    }, callback);\n}\n\n/**\n * The opposite of [`filter`]{@link module:Collections.filter}. Removes values that pass an `async` truth test.\n *\n * @name reject\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.reject(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of missing files\n *     createFiles(results);\n * });\n */\nvar reject = doParallel(reject$1);\n\n/**\n * A helper function that wraps an array or an object of functions with `reflect`.\n *\n * @name reflectAll\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.reflect]{@link module:Utils.reflect}\n * @category Util\n * @param {Array|Object|Iterable} tasks - The collection of\n * [async functions]{@link AsyncFunction} to wrap in `async.reflect`.\n * @returns {Array} Returns an array of async functions, each wrapped in\n * `async.reflect`\n * @example\n *\n * let tasks = [\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         // do some more stuff but error ...\n *         callback(new Error('bad stuff happened'));\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ];\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = Error('bad stuff happened')\n *     // results[2].value = 'two'\n * });\n *\n * // an example using an object instead of an array\n * let tasks = {\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         callback('two');\n *     },\n *     three: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'three');\n *         }, 100);\n *     }\n * };\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results.one.value = 'one'\n *     // results.two.error = 'two'\n *     // results.three.value = 'three'\n * });\n */\nfunction reflectAll(tasks) {\n    var results;\n    if (isArray(tasks)) {\n        results = arrayMap(tasks, reflect);\n    } else {\n        results = {};\n        baseForOwn(tasks, function (task, key) {\n            results[key] = reflect.call(this, task);\n        });\n    }\n    return results;\n}\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name rejectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectLimit = doParallelLimit(reject$1);\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs only a single async operation at a time.\n *\n * @name rejectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectSeries = doLimit(rejectLimit, 1);\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant$1(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * Attempts to get a successful response from `task` no more than `times` times\n * before returning an error. If the task is successful, the `callback` will be\n * passed the result of the successful task. If all attempts fail, the callback\n * will be passed the error and result (if any) of the final attempt.\n *\n * @name retry\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @see [async.retryable]{@link module:ControlFlow.retryable}\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - Can be either an\n * object with `times` and `interval` or a number.\n * * `times` - The number of attempts to make before giving up.  The default\n *   is `5`.\n * * `interval` - The time to wait between retries, in milliseconds.  The\n *   default is `0`. The interval may also be specified as a function of the\n *   retry count (see example).\n * * `errorFilter` - An optional synchronous function that is invoked on\n *   erroneous result. If it returns `true` the retry attempts will continue;\n *   if the function returns `false` the retry flow is aborted with the current\n *   attempt's error and result being returned to the final callback.\n *   Invoked with (err).\n * * If `opts` is a number, the number specifies the number of times to retry,\n *   with the default interval of `0`.\n * @param {AsyncFunction} task - An async function to retry.\n * Invoked with (callback).\n * @param {Function} [callback] - An optional callback which is called when the\n * task has succeeded, or after the final failed attempt. It receives the `err`\n * and `result` arguments of the last attempt at completing the `task`. Invoked\n * with (err, results).\n *\n * @example\n *\n * // The `retry` function can be used as a stand-alone control flow by passing\n * // a callback, as shown below:\n *\n * // try calling apiMethod 3 times\n * async.retry(3, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 3 times, waiting 200 ms between each retry\n * async.retry({times: 3, interval: 200}, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 10 times with exponential backoff\n * // (i.e. intervals of 100, 200, 400, 800, 1600, ... milliseconds)\n * async.retry({\n *   times: 10,\n *   interval: function(retryCount) {\n *     return 50 * Math.pow(2, retryCount);\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod the default 5 times no delay between each retry\n * async.retry(apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod only when error condition satisfies, all other\n * // errors will abort the retry control flow and return to final callback\n * async.retry({\n *   errorFilter: function(err) {\n *     return err.message === 'Temporary error'; // only retry on a specific error\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // It can also be embedded within other control flow functions to retry\n * // individual methods that are not as reliable, like this:\n * async.auto({\n *     users: api.getUsers.bind(api),\n *     payments: async.retryable(3, api.getPayments.bind(api))\n * }, function(err, results) {\n *     // do something with the results\n * });\n *\n */\nfunction retry(opts, task, callback) {\n    var DEFAULT_TIMES = 5;\n    var DEFAULT_INTERVAL = 0;\n\n    var options = {\n        times: DEFAULT_TIMES,\n        intervalFunc: constant$1(DEFAULT_INTERVAL)\n    };\n\n    function parseTimes(acc, t) {\n        if (typeof t === 'object') {\n            acc.times = +t.times || DEFAULT_TIMES;\n\n            acc.intervalFunc = typeof t.interval === 'function' ? t.interval : constant$1(+t.interval || DEFAULT_INTERVAL);\n\n            acc.errorFilter = t.errorFilter;\n        } else if (typeof t === 'number' || typeof t === 'string') {\n            acc.times = +t || DEFAULT_TIMES;\n        } else {\n            throw new Error(\"Invalid arguments for async.retry\");\n        }\n    }\n\n    if (arguments.length < 3 && typeof opts === 'function') {\n        callback = task || noop;\n        task = opts;\n    } else {\n        parseTimes(options, opts);\n        callback = callback || noop;\n    }\n\n    if (typeof task !== 'function') {\n        throw new Error(\"Invalid arguments for async.retry\");\n    }\n\n    var _task = wrapAsync$1(task);\n\n    var attempt = 1;\n    function retryAttempt() {\n        _task(function (err) {\n            if (err && attempt++ < options.times && (typeof options.errorFilter != 'function' || options.errorFilter(err))) {\n                setTimeout(retryAttempt, options.intervalFunc(attempt));\n            } else {\n                callback.apply(null, arguments);\n            }\n        });\n    }\n\n    retryAttempt();\n}\n\n/**\n * A close relative of [`retry`]{@link module:ControlFlow.retry}.  This method\n * wraps a task and makes it retryable, rather than immediately calling it\n * with retries.\n *\n * @name retryable\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.retry]{@link module:ControlFlow.retry}\n * @category Control Flow\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - optional\n * options, exactly the same as from `retry`\n * @param {AsyncFunction} task - the asynchronous function to wrap.\n * This function will be passed any arguments passed to the returned wrapper.\n * Invoked with (...args, callback).\n * @returns {AsyncFunction} The wrapped function, which when invoked, will\n * retry on an error, based on the parameters specified in `opts`.\n * This function will accept the same parameters as `task`.\n * @example\n *\n * async.auto({\n *     dep1: async.retryable(3, getFromFlakyService),\n *     process: [\"dep1\", async.retryable(3, function (results, cb) {\n *         maybeProcessData(results.dep1, cb);\n *     })]\n * }, callback);\n */\nvar retryable = function (opts, task) {\n    if (!task) {\n        task = opts;\n        opts = null;\n    }\n    var _task = wrapAsync$1(task);\n    return initialParams(function (args, callback) {\n        function taskFn(cb) {\n            _task.apply(null, args.concat(cb));\n        }\n\n        if (opts) retry(opts, taskFn, callback);else retry(taskFn, callback);\n    });\n};\n\n/**\n * Run the functions in the `tasks` collection in series, each one running once\n * the previous function has completed. If any functions in the series pass an\n * error to its callback, no more functions are run, and `callback` is\n * immediately called with the value of the error. Otherwise, `callback`\n * receives an array of results when `tasks` have completed.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function, and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n *  results from {@link async.series}.\n *\n * **Note** that while many implementations preserve the order of object\n * properties, the [ECMAScript Language Specification](http://www.ecma-international.org/ecma-262/5.1/#sec-8.6)\n * explicitly states that\n *\n * > The mechanics and order of enumerating the properties is not specified.\n *\n * So if you rely on the order in which your series of functions are executed,\n * and want this to work on all platforms, consider using an array.\n *\n * @name series\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection containing\n * [async functions]{@link AsyncFunction} to run in series.\n * Each function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This function gets a results array (or object)\n * containing all the result arguments passed to the `task` callbacks. Invoked\n * with (err, result).\n * @example\n * async.series([\n *     function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     },\n *     function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // results is now equal to ['one', 'two']\n * });\n *\n * async.series({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback){\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equal to: {one: 1, two: 2}\n * });\n */\nfunction series(tasks, callback) {\n  _parallel(eachOfSeries, tasks, callback);\n}\n\n/**\n * Returns `true` if at least one element in the `coll` satisfies an async test.\n * If any iteratee call returns `true`, the main `callback` is immediately\n * called.\n *\n * @name some\n * @static\n * @memberOf module:Collections\n * @method\n * @alias any\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n * @example\n *\n * async.some(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then at least one of the files exists\n * });\n */\nvar some = doParallel(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs a maximum of `limit` async operations at a time.\n *\n * @name someLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anyLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someLimit = doParallelLimit(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs only a single async operation at a time.\n *\n * @name someSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anySeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in series.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someSeries = doLimit(someLimit, 1);\n\n/**\n * Sorts a list by the results of running each `coll` value through an async\n * `iteratee`.\n *\n * @name sortBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a value to use as the sort criteria as\n * its `result`.\n * Invoked with (item, callback).\n * @param {Function} callback - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is the items\n * from the original `coll` sorted by the values returned by the `iteratee`\n * calls. Invoked with (err, results).\n * @example\n *\n * async.sortBy(['file1','file2','file3'], function(file, callback) {\n *     fs.stat(file, function(err, stats) {\n *         callback(err, stats.mtime);\n *     });\n * }, function(err, results) {\n *     // results is now the original array of files sorted by\n *     // modified date\n * });\n *\n * // By modifying the callback parameter the\n * // sorting order can be influenced:\n *\n * // ascending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x);\n * }, function(err,result) {\n *     // result callback\n * });\n *\n * // descending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x*-1);    //<- x*-1 instead of x, turns the order around\n * }, function(err,result) {\n *     // result callback\n * });\n */\nfunction sortBy(coll, iteratee, callback) {\n    var _iteratee = wrapAsync$1(iteratee);\n    map(coll, function (x, callback) {\n        _iteratee(x, function (err, criteria) {\n            if (err) return callback(err);\n            callback(null, { value: x, criteria: criteria });\n        });\n    }, function (err, results) {\n        if (err) return callback(err);\n        callback(null, arrayMap(results.sort(comparator), baseProperty('value')));\n    });\n\n    function comparator(left, right) {\n        var a = left.criteria,\n            b = right.criteria;\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n}\n\n/**\n * Sets a time limit on an asynchronous function. If the function does not call\n * its callback within the specified milliseconds, it will be called with a\n * timeout error. The code property for the error object will be `'ETIMEDOUT'`.\n *\n * @name timeout\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} asyncFn - The async function to limit in time.\n * @param {number} milliseconds - The specified time limit.\n * @param {*} [info] - Any variable you want attached (`string`, `object`, etc)\n * to timeout Error for more information..\n * @returns {AsyncFunction} Returns a wrapped function that can be used with any\n * of the control flow functions.\n * Invoke this function with the same parameters as you would `asyncFunc`.\n * @example\n *\n * function myFunction(foo, callback) {\n *     doAsyncTask(foo, function(err, data) {\n *         // handle errors\n *         if (err) return callback(err);\n *\n *         // do some stuff ...\n *\n *         // return processed data\n *         return callback(null, data);\n *     });\n * }\n *\n * var wrapped = async.timeout(myFunction, 1000);\n *\n * // call `wrapped` as you would `myFunction`\n * wrapped({ bar: 'bar' }, function(err, data) {\n *     // if `myFunction` takes < 1000 ms to execute, `err`\n *     // and `data` will have their expected values\n *\n *     // else `err` will be an Error with the code 'ETIMEDOUT'\n * });\n */\nfunction timeout(asyncFn, milliseconds, info) {\n    var originalCallback, timer;\n    var timedOut = false;\n\n    function injectedCallback() {\n        if (!timedOut) {\n            originalCallback.apply(null, arguments);\n            clearTimeout(timer);\n        }\n    }\n\n    function timeoutCallback() {\n        var name = asyncFn.name || 'anonymous';\n        var error = new Error('Callback function \"' + name + '\" timed out.');\n        error.code = 'ETIMEDOUT';\n        if (info) {\n            error.info = info;\n        }\n        timedOut = true;\n        originalCallback(error);\n    }\n\n    var fn = wrapAsync$1(asyncFn);\n\n    return initialParams(function (args, origCallback) {\n        originalCallback = origCallback;\n        // setup timer and call original function\n        timer = setTimeout(timeoutCallback, milliseconds);\n        fn.apply(null, args.concat(injectedCallback));\n    });\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\nvar nativeMax$1 = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax$1(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name timesLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} count - The number of times to run the function.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see [async.map]{@link module:Collections.map}.\n */\nfunction timeLimit(count, limit, iteratee, callback) {\n  var _iteratee = wrapAsync$1(iteratee);\n  mapLimit(baseRange(0, count, 1), limit, _iteratee, callback);\n}\n\n/**\n * Calls the `iteratee` function `n` times, and accumulates results in the same\n * manner you would use with [map]{@link module:Collections.map}.\n *\n * @name times\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n * @example\n *\n * // Pretend this is some complicated async factory\n * var createUser = function(id, callback) {\n *     callback(null, {\n *         id: 'user' + id\n *     });\n * };\n *\n * // generate 5 users\n * async.times(5, function(n, next) {\n *     createUser(n, function(err, user) {\n *         next(err, user);\n *     });\n * }, function(err, users) {\n *     // we should now have 5 users\n * });\n */\nvar times = doLimit(timeLimit, Infinity);\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs only a single async operation at a time.\n *\n * @name timesSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n */\nvar timesSeries = doLimit(timeLimit, 1);\n\n/**\n * A relative of `reduce`.  Takes an Object or Array, and iterates over each\n * element in series, each step potentially mutating an `accumulator` value.\n * The type of the accumulator defaults to the type of collection passed in.\n *\n * @name transform\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} [accumulator] - The initial state of the transform.  If omitted,\n * it will default to an empty Object or Array, depending on the type of `coll`\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * collection that potentially modifies the accumulator.\n * Invoked with (accumulator, item, key, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the transformed accumulator.\n * Invoked with (err, result).\n * @example\n *\n * async.transform([1,2,3], function(acc, item, index, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         acc.push(item * 2)\n *         callback(null)\n *     });\n * }, function(err, result) {\n *     // result is now equal to [2, 4, 6]\n * });\n *\n * @example\n *\n * async.transform({a: 1, b: 2, c: 3}, function (obj, val, key, callback) {\n *     setImmediate(function () {\n *         obj[key] = val * 2;\n *         callback();\n *     })\n * }, function (err, result) {\n *     // result is equal to {a: 2, b: 4, c: 6}\n * })\n */\nfunction transform(coll, accumulator, iteratee, callback) {\n    if (arguments.length <= 3) {\n        callback = iteratee;\n        iteratee = accumulator;\n        accumulator = isArray(coll) ? [] : {};\n    }\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n\n    eachOf(coll, function (v, k, cb) {\n        _iteratee(accumulator, v, k, cb);\n    }, function (err) {\n        callback(err, accumulator);\n    });\n}\n\n/**\n * Undoes a [memoize]{@link module:Utils.memoize}d function, reverting it to the original,\n * unmemoized form. Handy for testing.\n *\n * @name unmemoize\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.memoize]{@link module:Utils.memoize}\n * @category Util\n * @param {AsyncFunction} fn - the memoized function\n * @returns {AsyncFunction} a function that calls the original unmemoized function\n */\nfunction unmemoize(fn) {\n    return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n    };\n}\n\n/**\n * Repeatedly call `iteratee`, while `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs.\n *\n * @name whilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n * @returns undefined\n * @example\n *\n * var count = 0;\n * async.whilst(\n *     function() { return count < 5; },\n *     function(callback) {\n *         count++;\n *         setTimeout(function() {\n *             callback(null, count);\n *         }, 1000);\n *     },\n *     function (err, n) {\n *         // 5 seconds have passed, n = 5\n *     }\n * );\n */\nfunction whilst(test, iteratee, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    if (!test()) return callback(null);\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        if (test()) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    });\n    _iteratee(next);\n}\n\n/**\n * Repeatedly call `iteratee` until `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs. `callback` will be passed an error and any\n * arguments passed to the final `iteratee`'s callback.\n *\n * The inverse of [whilst]{@link module:ControlFlow.whilst}.\n *\n * @name until\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction until(test, iteratee, callback) {\n    whilst(function () {\n        return !test.apply(this, arguments);\n    }, iteratee, callback);\n}\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */\nvar waterfall = function (tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        if (taskIndex === tasks.length) {\n            return callback.apply(null, [null].concat(args));\n        }\n\n        var taskCallback = onlyOnce(rest(function (err, args) {\n            if (err) {\n                return callback.apply(null, [err].concat(args));\n            }\n            nextTask(args);\n        }));\n\n        args.push(taskCallback);\n\n        var task = wrapAsync$1(tasks[taskIndex++]);\n        task.apply(null, args);\n    }\n\n    nextTask([]);\n};\n\n/**\n * An \"async function\" in the context of Async is an asynchronous function with\n * a variable number of parameters, with the final parameter being a callback.\n * (`function (arg1, arg2, ..., callback) {}`)\n * The final callback is of the form `callback(err, results...)`, which must be\n * called once the function is completed.  The callback should be called with a\n * Error as its first argument to signal that an error occurred.\n * Otherwise, if no error occurred, it should be called with `null` as the first\n * argument, and any additional `result` arguments that may apply, to signal\n * successful completion.\n * The callback must be called exactly once, ideally on a later tick of the\n * JavaScript event loop.\n *\n * This type of function is also referred to as a \"Node-style async function\",\n * or a \"continuation passing-style function\" (CPS). Most of the methods of this\n * library are themselves CPS/Node-style async functions, or functions that\n * return CPS/Node-style async functions.\n *\n * Wherever we accept a Node-style async function, we also directly accept an\n * [ES2017 `async` function]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function}.\n * In this case, the `async` function will not be passed a final callback\n * argument, and any thrown error will be used as the `err` argument of the\n * implicit callback, and the return value will be used as the `result` value.\n * (i.e. a `rejected` of the returned Promise becomes the `err` callback\n * argument, and a `resolved` value becomes the `result`.)\n *\n * Note, due to JavaScript limitations, we can only detect native `async`\n * functions and not transpilied implementations.\n * Your environment must have `async`/`await` support for this to work.\n * (e.g. Node > v7.6, or a recent version of a modern browser).\n * If you are using `async` functions through a transpiler (e.g. Babel), you\n * must still wrap the function with [asyncify]{@link module:Utils.asyncify},\n * because the `async function` will be compiled to an ordinary function that\n * returns a promise.\n *\n * @typedef {Function} AsyncFunction\n * @static\n */\n\n/**\n * Async is a utility module which provides straight-forward, powerful functions\n * for working with asynchronous JavaScript. Although originally designed for\n * use with [Node.js](http://nodejs.org) and installable via\n * `npm install --save async`, it can also be used directly in the browser.\n * @module async\n * @see AsyncFunction\n */\n\n/**\n * A collection of `async` functions for manipulating collections, such as\n * arrays and objects.\n * @module Collections\n */\n\n/**\n * A collection of `async` functions for controlling the flow through a script.\n * @module ControlFlow\n */\n\n/**\n * A collection of `async` utility functions.\n * @module Utils\n */\n\nvar index = {\n  applyEach: applyEach,\n  applyEachSeries: applyEachSeries,\n  apply: apply$2,\n  asyncify: asyncify,\n  auto: auto,\n  autoInject: autoInject,\n  cargo: cargo,\n  compose: compose,\n  concat: concat,\n  concatSeries: concatSeries,\n  constant: constant,\n  detect: detect,\n  detectLimit: detectLimit,\n  detectSeries: detectSeries,\n  dir: dir,\n  doDuring: doDuring,\n  doUntil: doUntil,\n  doWhilst: doWhilst,\n  during: during,\n  each: eachLimit,\n  eachLimit: eachLimit$1,\n  eachOf: eachOf,\n  eachOfLimit: eachOfLimit,\n  eachOfSeries: eachOfSeries,\n  eachSeries: eachSeries,\n  ensureAsync: ensureAsync,\n  every: every,\n  everyLimit: everyLimit,\n  everySeries: everySeries,\n  filter: filter,\n  filterLimit: filterLimit,\n  filterSeries: filterSeries,\n  forever: forever,\n  groupBy: groupBy,\n  groupByLimit: groupByLimit,\n  groupBySeries: groupBySeries,\n  log: log,\n  map: map,\n  mapLimit: mapLimit,\n  mapSeries: mapSeries,\n  mapValues: mapValues,\n  mapValuesLimit: mapValuesLimit,\n  mapValuesSeries: mapValuesSeries,\n  memoize: memoize,\n  nextTick: nextTick,\n  parallel: parallelLimit,\n  parallelLimit: parallelLimit$1,\n  priorityQueue: priorityQueue,\n  queue: queue$1,\n  race: race,\n  reduce: reduce,\n  reduceRight: reduceRight,\n  reflect: reflect,\n  reflectAll: reflectAll,\n  reject: reject,\n  rejectLimit: rejectLimit,\n  rejectSeries: rejectSeries,\n  retry: retry,\n  retryable: retryable,\n  seq: seq$1,\n  series: series,\n  setImmediate: setImmediate$1,\n  some: some,\n  someLimit: someLimit,\n  someSeries: someSeries,\n  sortBy: sortBy,\n  timeout: timeout,\n  times: times,\n  timesLimit: timeLimit,\n  timesSeries: timesSeries,\n  transform: transform,\n  unmemoize: unmemoize,\n  until: until,\n  waterfall: waterfall,\n  whilst: whilst,\n\n  // aliases\n  all: every,\n  any: some,\n  forEach: eachLimit,\n  forEachSeries: eachSeries,\n  forEachLimit: eachLimit$1,\n  forEachOf: eachOf,\n  forEachOfSeries: eachOfSeries,\n  forEachOfLimit: eachOfLimit,\n  inject: reduce,\n  foldl: reduce,\n  foldr: reduceRight,\n  select: filter,\n  selectLimit: filterLimit,\n  selectSeries: filterSeries,\n  wrapSync: asyncify\n};\n\nexports['default'] = index;\nexports.applyEach = applyEach;\nexports.applyEachSeries = applyEachSeries;\nexports.apply = apply$2;\nexports.asyncify = asyncify;\nexports.auto = auto;\nexports.autoInject = autoInject;\nexports.cargo = cargo;\nexports.compose = compose;\nexports.concat = concat;\nexports.concatSeries = concatSeries;\nexports.constant = constant;\nexports.detect = detect;\nexports.detectLimit = detectLimit;\nexports.detectSeries = detectSeries;\nexports.dir = dir;\nexports.doDuring = doDuring;\nexports.doUntil = doUntil;\nexports.doWhilst = doWhilst;\nexports.during = during;\nexports.each = eachLimit;\nexports.eachLimit = eachLimit$1;\nexports.eachOf = eachOf;\nexports.eachOfLimit = eachOfLimit;\nexports.eachOfSeries = eachOfSeries;\nexports.eachSeries = eachSeries;\nexports.ensureAsync = ensureAsync;\nexports.every = every;\nexports.everyLimit = everyLimit;\nexports.everySeries = everySeries;\nexports.filter = filter;\nexports.filterLimit = filterLimit;\nexports.filterSeries = filterSeries;\nexports.forever = forever;\nexports.groupBy = groupBy;\nexports.groupByLimit = groupByLimit;\nexports.groupBySeries = groupBySeries;\nexports.log = log;\nexports.map = map;\nexports.mapLimit = mapLimit;\nexports.mapSeries = mapSeries;\nexports.mapValues = mapValues;\nexports.mapValuesLimit = mapValuesLimit;\nexports.mapValuesSeries = mapValuesSeries;\nexports.memoize = memoize;\nexports.nextTick = nextTick;\nexports.parallel = parallelLimit;\nexports.parallelLimit = parallelLimit$1;\nexports.priorityQueue = priorityQueue;\nexports.queue = queue$1;\nexports.race = race;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reflect = reflect;\nexports.reflectAll = reflectAll;\nexports.reject = reject;\nexports.rejectLimit = rejectLimit;\nexports.rejectSeries = rejectSeries;\nexports.retry = retry;\nexports.retryable = retryable;\nexports.seq = seq$1;\nexports.series = series;\nexports.setImmediate = setImmediate$1;\nexports.some = some;\nexports.someLimit = someLimit;\nexports.someSeries = someSeries;\nexports.sortBy = sortBy;\nexports.timeout = timeout;\nexports.times = times;\nexports.timesLimit = timeLimit;\nexports.timesSeries = timesSeries;\nexports.transform = transform;\nexports.unmemoize = unmemoize;\nexports.until = until;\nexports.waterfall = waterfall;\nexports.whilst = whilst;\nexports.all = every;\nexports.allLimit = everyLimit;\nexports.allSeries = everySeries;\nexports.any = some;\nexports.anyLimit = someLimit;\nexports.anySeries = someSeries;\nexports.find = detect;\nexports.findLimit = detectLimit;\nexports.findSeries = detectSeries;\nexports.forEach = eachLimit;\nexports.forEachSeries = eachSeries;\nexports.forEachLimit = eachLimit$1;\nexports.forEachOf = eachOf;\nexports.forEachOfSeries = eachOfSeries;\nexports.forEachOfLimit = eachOfLimit;\nexports.inject = reduce;\nexports.foldl = reduce;\nexports.foldr = reduceRight;\nexports.select = filter;\nexports.selectLimit = filterLimit;\nexports.selectSeries = filterSeries;\nexports.wrapSync = asyncify;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","﻿import './service';\r\nimport './page';\r\n\r\nangular.module('pipHelp', [\r\n    'pipHelp.Service',\r\n    'pipHelp.Page'\r\n]);\r\n\r\nexport * from './service';\r\n","export let StateVar: string = \"$state\";\r\nexport let PrevStateVar: string = \"$prevState\";\r\n\r\n// Run function to set CurrentState and PreviousState global variables\r\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n\r\n            let CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            let PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        // Record current and previous state\r\n        $rootScope[StateVar] = CurrentState;\r\n        $rootScope[PrevStateVar] = PreviousState;            \r\n        }\r\n    );\r\n\r\n}\r\n\r\n// Decorator function to modify $state service by adding goBack and goBackAndSelect methods\r\nfunction decorateBackStateService($delegate: any, $window: ng.IWindowService, $rootScope: ng.IRootScopeService): any {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        // todo: define end fix PreviousState\r\n        if (!!$rootScope[StateVar] && !!$rootScope[PrevStateVar]) {\r\n\r\n            let state = _.cloneDeep($rootScope[PrevStateVar]);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\n// Config function to decorate $state service\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n    ","export let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents(\r\n    $rootScope: ng.IRootScopeService,\r\n    $log: ng.ILogService,\r\n    $state: ng.ui.IStateService\r\n) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .run(hookRoutingEvents);\r\n    ","angular.module('pipRouting', ['ui.router']);\r\n\r\nimport './BackDecorator';\r\nimport './RoutingEvents';\r\n\r\nexport * from './BackDecorator';\r\nexport * from './RoutingEvents';\r\n","import { IIdentityService, IIdentityProvider } from './IIdentityService';\r\n\r\nexport let IdentityRootVar = \"$identity\";\r\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: any;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\r\n\r\n        let identity: any = value || {};\r\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: any = null;\r\n    private _service: IdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipIdentity', IdentityProvider);\r\n","import { ISessionService, ISessionProvider } from './ISessionService';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nlet async = require('async');\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private listeners: any = {};\r\n    private notifyError: boolean = false;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        session: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private notifyListeners(type: string, successCallback: (error?: any, result?: any) => void): void {\r\n        if (!type){  \r\n            throw new Error(\"Event object missing 'type' property.\");\r\n        }\r\n\r\n        if (this.listeners[type] instanceof Array){\r\n            async.each(\r\n                this.listeners[type], \r\n                (listener, callback) => {\r\n                listener(callback);\r\n            }, successCallback);\r\n        } else {\r\n            successCallback();\r\n        }\r\n    }\r\n\r\n    private notifyOpenListeners(callback: (error?: any, result?: any) => void): void {\r\n        this.notifyListeners('open', (error: any, result: any) => {\r\n            if (!error) {\r\n                callback(null, result);\r\n            } else {\r\n                // reset session\r\n                // this._session = null;\r\n                this._log.error(error);\r\n                callback(error);\r\n                // throw new Error('Session open error:');\r\n            }\r\n        });\r\n    }\r\n\r\n    private notifyCloseListeners(callback: (error?: any, result?: any) => void): void {\r\n        this.notifyListeners('close', (error: any, result: any) => {\r\n            if (!error) {\r\n                callback(null, result);\r\n            } else {\r\n                this._log.error(error);\r\n                callback(error);\r\n                // throw new Error('Session close error:');\r\n            }\r\n        });\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    private start(session: any): void {\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionOpenedEvent, session);\r\n        this._log.debug(\"Opened session \" + session);\r\n    }\r\n\r\n    private stop(): void {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\r\n\r\n        this._log.debug(\"Closed session \" + oldSession);\r\n    }\r\n\r\n    private addListener(type: string, listener: any): void {\r\n        if (typeof this.listeners[type] == \"undefined\") {\r\n            this.listeners[type] = [];\r\n        }\r\n\r\n        this.listeners[type].push(listener);\r\n    }\r\n\r\n    private removeListener(type: string, listener: any): void {\r\n        if (this.listeners[type] instanceof Array) {\r\n            var listeners = this.listeners[type];\r\n            for (var i = 0, len = listeners.length; i < len; i++) {\r\n                if (listeners[i] === listener) {\r\n                    listeners.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public addOpenListener(listener: any): void {\r\n        this.addListener('open', listener);\r\n    }\r\n\r\n    public addCloseListener(listener: any): void {\r\n        this.addListener('close', listener);\r\n    }\r\n\r\n    public removeOpenListener(listener: any): void {\r\n        this.removeListener('open', listener);\r\n    }\r\n\r\n    public removeCloseListener(listener: any): void {\r\n        this.removeListener('close', listener);\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n\r\n        this.notifyOpenListeners((error?: any, result?: any) => {\r\n            if (!error) {\r\n                this.start(session);\r\n            } else {\r\n                this.stop();\r\n            }\r\n        });\r\n    }\r\n\r\n    public close() {\r\n        if (this.session == null) { return }\r\n\r\n        this.notifyCloseListeners((error?: any, result?: any) => {\r\n            if (!error) this.stop();\r\n        });\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: SessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;\r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipSession', SessionProvider); \r\n","angular.module('pipSession', []);\r\n\r\nimport './IdentityService';\r\nimport './SessionService';\r\n\r\nexport * from './IIdentity';\r\nexport * from './IIdentityService';\r\nexport * from './IdentityService';\r\n\r\nexport * from './ISessionService';\r\nexport * from './SessionService';\r\n","import { TransactionError } from './TransactionError'\r\n\r\nexport class Transaction {\r\n    private _scope: string = null;\r\n    private _id: string = null;\r\n    private _operation: string = null;\r\n    private _error: TransactionError = new TransactionError();\r\n    private _progress: number = 0;\r\n\r\n    public constructor(scope: string) {\r\n        this._scope = scope;\r\n    }\r\n\r\n    public get scope(): string {\r\n        return this._scope;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get operation(): string {\r\n        return this._operation;\r\n    }\r\n\r\n    public get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    public get error(): TransactionError {\r\n        return this._error;\r\n    }\r\n\r\n    public get errorMessage(): string {\r\n        return this._error.message;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._id = null;\r\n        this._operation = null;\r\n        this._progress = 0;\r\n        this._error.reset();\r\n    }\r\n\r\n    public busy(): boolean {\r\n        return this._id != null;\r\n    }\r\n\r\n    public failed(): boolean {\r\n        return !this._error.empty();\r\n    }\r\n\r\n    public aborted(id: string): boolean {\r\n        return this._id != id;\r\n    }\r\n\r\n    public begin(operation: string): string {\r\n        // Transaction is already running\r\n        if (this._id != null) return null;\r\n\r\n        this._id = new Date().getTime().toString();\r\n        this._operation = operation || 'PROCESSING'\r\n        this._error.reset();\r\n\r\n        return this._id;\r\n    }\r\n\r\n    public update(progress: number): void {\r\n        this._progress = Math.max(progress, 100);\r\n    }\r\n\r\n    public abort(): void {\r\n        this._id = null;\r\n        this._error.reset();\r\n    }\r\n\r\n    public end(error?: any): void {\r\n        this._error.decode(error);\r\n        this._id = null;\r\n    }\r\n}\r\n","export class TransactionError {\r\n    public code: string;\r\n    public message: string;\r\n    public details: any;\r\n    public cause: string;\r\n    public stack_trace: string;\r\n\r\n    public constructor(error?: any) {\r\n        if (error != null)\r\n            this.decode(error);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.code = null;\r\n        this.message = null;\r\n        this.details = null;\r\n        this.cause = null;\r\n        this.stack_trace = null;\r\n    }\r\n\r\n    public empty(): boolean {\r\n        return this.message = null && this.code == null;\r\n    }\r\n\r\n    public decode(error: any): void {\r\n        this.reset();\r\n\r\n        if (error == null) return;\r\n\r\n        // Process regular messages\r\n        if (error.message) {\r\n            this.message = error.message;\r\n        }\r\n\r\n        // Process server application errors\r\n        if (error.data) {\r\n            if (error.data.code) { \r\n                // process server error codes here\r\n                this.message = this.message || 'ERROR_' + error.data.code;\r\n                this.code = this.code || error.data.code;\r\n            }\r\n\r\n            if (error.data.message) {\r\n                this.message = this.message || error.data.message;\r\n            }\r\n\r\n            this.message = this.message || error.data;\r\n            this.details = this.details || error.data;\r\n\r\n            this.cause = error.data.cause;\r\n            this.stack_trace = error.data.stack_trace;\r\n            this.details = error.data.details;            \r\n        }\r\n\r\n        // Process standard HTTP errors\r\n        if (error.statusText) {\r\n            this.message = this.message || error.statusText;\r\n        }\r\n        if (error.status) {\r\n            this.message = this.message || 'ERROR_' + error.status;\r\n            this.code = this.code || error.status;\r\n        }\r\n        \r\n        this.message = this.message || error;\r\n        this.details = this.details || error;\r\n    }\r\n}\r\n","import { Transaction } from './Transaction';\r\nimport { ITransactionService } from './ITransactionService';\r\n\r\nclass TransactionService implements ITransactionService {\r\n    private _transactions: Transaction = <Transaction>{};\r\n\r\n    public constructor() {}\r\n\r\n    public create(scope?: string): Transaction {\r\n        let transaction: Transaction = new Transaction(scope);\r\n        \r\n        if (scope != null)\r\n            this._transactions[scope] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    public get(scope?: string): Transaction {\r\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\r\n\r\n        if (transaction == null) {\r\n            transaction = new Transaction(scope);\r\n            if (scope != null)\r\n                this._transactions[scope] = transaction;\r\n        }\r\n\r\n        return transaction;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .service('pipTransaction', TransactionService);\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction configureTransactionStrings($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslateProvider') \r\n        ? <ITranslateService>$injector.get('pipTranslateProvider') : null;\r\n\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': 'Вход в систему...',\r\n            'PROCESSING': 'Обрабатывается...',\r\n            'LOADING': 'Загружается...',\r\n            'SAVING': 'Сохраняется...'\r\n        });   \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .config(configureTransactionStrings);\r\n","angular.module('pipTransaction', []);\r\n\r\nimport './TransactionStrings';\r\nimport './TransactionError';\r\nimport './Transaction';\r\nimport './TransactionService';\r\n\r\nexport * from './TransactionError';\r\nexport * from './Transaction';\r\nexport * from './ITransactionService';\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction translateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction translateHtmlDirective(pipTranslate: ITranslateService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .directive('pipTranslate', translateDirective)\r\n    .directive('pipTranslateHtml', translateHtmlDirective);\r\n","import { ITranslateService } from './ITranslateService';\r\n\r\nfunction translateFilter(pipTranslate: ITranslateService) {\r\n    \"ngInject\";\r\n\r\n    return function (key: string) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslate') \r\n        ? <ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n    return function (key: string) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .filter('translate', translateFilter);\r\n","export class Translation {\r\n    protected _language: string = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': 'Английский',\r\n            'ru': 'Русский',\r\n            'es': 'Испанский',\r\n            'pt': 'Португальский',\r\n            'de': 'Немецкий',\r\n            'fr': 'Французский'\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Yet another method to set translation strings for specific language\r\n    public translations(language: string, translations: any): void {\r\n        this.setTranslations(language, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values: string[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k: string) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item: any) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","﻿import { Translation } from './Translation';\r\nimport { ResetPageEvent } from '../utilities/PageResetService';\r\nimport { ITranslateService, ITranslateProvider } from './ITranslateService';\r\n\r\nexport let LanguageRootVar = \"$language\";\r\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nclass TranslateService implements ITranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _mdDateLocale: angular.material.IDateLocaleProvider;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider,\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._mdDateLocale = $mdDateLocale;\r\n\r\n        if (this._persist && this._window.localStorage) {\r\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\r\n            this.changeLocale(this._translation.language);\r\n        }\r\n        this._log.debug(\"Set language to \" + this._translation.language);\r\n\r\n        this.save();\r\n    }\r\n\r\n    private changeLocale(locale: string) {\r\n        if (!locale) return;\r\n\r\n        // var localeDate: moment.MomentLanguageData;\r\n        var localeDate: any;\r\n\r\n        moment.locale(locale);\r\n        localeDate = moment.localeData();\r\n\r\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\r\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\r\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\r\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\r\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this._log.debug(\"Changing language to \" + value);\r\n\r\n            this.changeLocale(this._translation.language);\r\n            this.save();   \r\n\r\n            this._rootScope.$emit(LanguageChangedEvent, value);\r\n            this._rootScope.$emit(ResetPageEvent);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTranslate(pipTranslate: ITranslateService) {\r\n    pipTranslate.language;\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .provider('pipTranslate', TranslateProvider)\r\n    .run(initTranslate);\r\n","angular.module('pipTranslate', []);\r\n\r\nimport './Translation';\r\nimport './TranslateService';\r\nimport './TranslateFilter';\r\nimport './TranslateDirective';\r\n\r\nexport * from './Translation';\r\nexport * from './ITranslateService';\r\nexport * from './TranslateService';\r\n","import { ICodes } from './ICodes';\r\n\r\nclass Codes implements ICodes {\r\n    // Simple version of string hashcode\r\n    public hash(value: string): number {\r\n        if (value == null) return 0;\r\n        \r\n        let result: number = 0;\r\n        for (let i = 0; i < value.length; i++)\r\n            result += value.charCodeAt(i);\r\n\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    public verification(): string {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipCodes', [])\r\n    .service('pipCodes', Codes);\r\n","import { IFormat } from './IFormat';\r\n\r\nclass Format implements IFormat {\r\n    // Cached for parsed formats\r\n    private cache = {};\r\n\r\n    // Creates a sample line from a text\r\n    public sample(value: string, maxLength: number): string {\r\n        if (!value || value == '') {\r\n            return '';\r\n        }\r\n\r\n        var length: number = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    private strRepeat(str: string, qty: number): string {\r\n        if (qty < 1) { \r\n            return '';\r\n        }\r\n        var result: string = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getType(variable): string {\r\n        return toString.call(variable).slice(8, -1).toLowerCase();\r\n    }\r\n\r\n    private parseFormat(fmt: string): any {\r\n        let _fmt: string = fmt, match = [], parse_tree = [], arg_names: number = 0;\r\n        while (_fmt) {\r\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                parse_tree.push(match[0]);\r\n            }\r\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                parse_tree.push('%');\r\n            }\r\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                if (match[2]) {\r\n                    arg_names |= 1;\r\n                    let field_list: string[] = [], replacement_field: string = match[2], field_match: string[] = [];\r\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                        field_list.push(field_match[1]);\r\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else {\r\n                                throw new Error('Unknown error');\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw new Error('Unknown error');\r\n                    }\r\n                    match[2] = field_list;\r\n                }\r\n                else {\r\n                    arg_names |= 2;\r\n                }\r\n                if (arg_names === 3) {\r\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\r\n                }\r\n                parse_tree.push(match);\r\n            }\r\n            else {\r\n                throw new Error('Unknown error');\r\n            }\r\n            _fmt = _fmt.substring(match[0].length);\r\n        }\r\n        return parse_tree;\r\n    }\r\n\r\n    private format(parse_tree: any, argv: any): string {\r\n        let cursor: number = 0; \r\n        let tree_length: number = parse_tree.length; \r\n        let output = [];\r\n\r\n        for (let i = 0; i < tree_length; i++) {\r\n            let node_type = this.getType(parse_tree[i]);\r\n            if (node_type === 'string') {\r\n                output.push(parse_tree[i]);\r\n            }\r\n            else if (node_type === 'array') {\r\n                let match = parse_tree[i]; // convenience purposes only\r\n                let arg: any;\r\n                if (match[2]) { // keyword argument\r\n                    arg = argv[cursor];\r\n                    for (let k = 0; k < match[2].length; k++) {\r\n                        if (!arg.hasOwnProperty(match[2][k])) {\r\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\r\n                        }\r\n                        arg = arg[match[2][k]];\r\n                    }\r\n                } else if (match[1]) { // positional argument (explicit)\r\n                    arg = argv[match[1]];\r\n                }\r\n                else { // positional argument (implicit)\r\n                    arg = argv[cursor++];\r\n                }\r\n\r\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\r\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\r\n                }\r\n                switch (match[8]) {\r\n                    case 'b': arg = arg.toString(2); break;\r\n                    case 'c': arg = String.fromCharCode(arg); break;\r\n                    case 'd': arg = parseInt(arg, 10); break;\r\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                    case 'o': arg = arg.toString(8); break;\r\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                    case 'u': arg = Math.abs(arg); break;\r\n                    case 'x': arg = arg.toString(16); break;\r\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                }\r\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \r\n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                let pad_length = match[6] - String(arg).length;\r\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\r\n                output.push(match[5] ? arg + pad : pad + arg);\r\n            }\r\n        }\r\n        return output.join('');\r\n    }\r\n    \r\n    public sprintf(message: string, ...args: any[]): string {\r\n        if (!this.cache.hasOwnProperty(message))\r\n            this.cache[message] = this.parseFormat(message);\r\n\r\n        return this.format(this.cache[message], args);\r\n    }\r\n\r\n    public filterToString(filter: any): string {\r\n        if (filter == null) return null;\r\n        let result = ''; \r\n\r\n        for (let key in filter) {\r\n            if (result.length > 0)\r\n                result += ';';\r\n\r\n            let value = filter[key];\r\n            if (value != null)\r\n                result += key + '=' + value\r\n            else\r\n                result += key\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public arrayToString(array: string[]): string {\r\n        let result = ''; \r\n\r\n        if (array == null || array.length == 0)\r\n            return result;\r\n\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (result.length > 0)\r\n                result += ',';\r\n            result += array[i]\r\n        }\r\n\r\n        return result;\r\n    }    \r\n\r\n    public enumToArray(obj: any): any[] {\r\n        let result: any[] = [];\r\n        let key;\r\n\r\n        for (key in obj)\r\n            if (obj.hasOwnProperty(key))\r\n                result.push(obj[key]);\r\n\r\n        return result;\r\n    };    \r\n}\r\n\r\n\r\nangular\r\n    .module('pipFormat', [])\r\n    .service('pipFormat', Format);\r\n","import { IPageResetService } from './IPageResetService';\r\n\r\n\r\nexport let ResetPageEvent: string = \"pipResetPage\";\r\nexport let ResetAreaEvent: string = \"pipResetArea\";\r\n\r\nexport let ResetRootVar: string = \"$reset\";\r\nexport let ResetAreaRootVar: string = \"$resetArea\";\r\n\r\n\r\nclass PageResetService implements IPageResetService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._timeout = $timeout;\r\n\r\n        $rootScope[ResetRootVar] = false;\r\n        $rootScope[ResetAreaRootVar] = null;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._log.debug(\"Resetting the entire page\");\r\n        this.performReset(null);\r\n    }\r\n\r\n    public resetArea(area: string): void {\r\n        this._log.debug(\"Resetting the area \" + area);\r\n        this.performReset(area);\r\n    }\r\n\r\n    private performReset(area?: string): void {\r\n        this._rootScope[ResetRootVar] = area == null;\r\n        this._rootScope[ResetAreaRootVar] = area;\r\n\r\n        this._timeout(() => {\r\n            this._rootScope[ResetRootVar] = false;\r\n            this._rootScope[ResetAreaRootVar] = null;\r\n        }, 0);\r\n    }\r\n}\r\n\r\n\r\nfunction hookResetEvents(\r\n    $rootScope: ng.IRootScopeService, \r\n    pipPageReset: IPageResetService\r\n) {\r\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\r\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\r\n}\r\n\r\n\r\nangular.module('pipPageReset', [])\r\n    .service('pipPageReset', PageResetService)\r\n    .run(hookResetEvents);\r\n","import { IScrollService } from './IScrollService';\r\n\r\n\r\nclass ScrollService implements IScrollService {\r\n\r\n    public scrollTo(parentElement, childElement, animationDuration): void {\r\n        if (!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipScroll', [])\r\n    .service('pipScroll', ScrollService);\r\n","import { ISystemInfo } from './ISystemInfo';\r\n\r\n\r\nclass SystemInfo implements ISystemInfo {\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor($window: ng.IWindowService) {\r\n        \"ngInject\";\r\n\r\n        this._window = $window;\r\n    }\r\n\r\n    // todo add support for iPhone\r\n    public get browserName(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    public get browserVersion(): string {\r\n        let version;\r\n        let ua = this._window.navigator.userAgent;\r\n        let browser = this.browserName;\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]) ? (ua.split(\"Edge\")[1]).split(\"/\")[1] : null;\r\n                break;\r\n            case \"ie\":\r\n                let subVersion = ua.split(\"MSIE \")[1] ? ua.split(\"MSIE \")[1] : ua.split(\"Trident/\")[1]\r\n                version = subVersion ? subVersion.split(\";\")[0] : null;\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]) ? (ua.split(\"; rv:\")[1]).split(\")\")[0] : null;\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = (ua.search(/Opera/) > -1) ? ua.split(\"Version/\")[1] : ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]) ? (ua.split(\"YaBrowser/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]) ? (ua.split(\"Chrome/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Safari/\")[1]) ? (ua.split(\"Safari/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    public get platform(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    public get os(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        try {\r\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\r\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    public isDesktop(): boolean {\r\n        return this.platform == 'desktop';\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        return this.platform == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    public isCordova(): boolean {\r\n        return false;\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    public isSupported(supported?: any): boolean {\r\n        if (!supported) \r\n            supported = {\r\n                edge: 12,\r\n                ie: 11,\r\n                firefox: 43, //4, for testing\r\n                opera: 35,\r\n                chrome: 47,\r\n                safari: 600\r\n            };\r\n\r\n        let browser = this.browserName;\r\n        let version = this.browserVersion;\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipSystemInfo', [])\r\n    .service('pipSystemInfo', SystemInfo);\r\n","import { ITags } from './ITags';\r\n\r\nclass Tags implements ITags {\r\n\r\n    public normalizeOne(tag: string): string {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    public compressOne(tag: string): string {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    public equal(tag1: string, tag2: string): boolean {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return this.compressOne(tag1) == this.compressOne(tag2);\r\n    }\r\n\r\n    public normalizeAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public compressAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public extract(entity: any, searchFields?: string[]): string[] {\r\n        let tags = this.normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, (field) => {\r\n            let text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                let hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(this.normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTags', [])\r\n    .service('pipTags', Tags);\r\n","import { ITimerService } from './ITimerService';\r\n\r\nclass TimerEvent {\r\n    public event: string;\r\n    public timeout: number;\r\n    public interval: any;\r\n\r\n    public constructor(event: string, timeout: number) {\r\n        this.event = event;\r\n        this.timeout = timeout;\r\n    }\r\n}\r\n\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\r\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\r\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\r\n];\r\n\r\n\r\nclass TimerService implements ITimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $interval: ng.IIntervalService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public isStarted(): boolean {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { \r\n                this._log.debug('Generated timer event ' + event.event); \r\n                this._rootScope.$emit(event.event)\r\n            },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","import './Format';\r\nimport './TimerService';\r\nimport './ScrollService';\r\nimport './Tags';\r\nimport './Codes';\r\nimport './SystemInfo';\r\nimport './PageResetService';\r\n\r\n\r\nexport * from './IFormat';\r\nexport * from './ITimerService';\r\nexport * from './IScrollService';\r\nexport * from './ITags';\r\nexport * from './ICodes';\r\nexport * from './ISystemInfo';\r\nexport * from './IPageResetService';\r\n","{\r\n    function filter($injector: ng.auto.IInjectorService) {\r\n         let pipTranslate: any = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return (key) => {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular.module('pipHelp.Translate', [])\r\n           .filter('translate', filter);\r\n\r\n}\r\n","{\r\n\r\nclass FabTooltipVisibilityController {\r\n    private _element;\r\n    private _scope: angular.IScope;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    constructor(\r\n        $element: any,\r\n        $attrs: angular.IAttributes,\r\n        $scope: angular.IScope,\r\n        $timeout: ng.ITimeoutService,\r\n        $parse\r\n    ) {\r\n        \"ngInject\";\r\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\r\n            showGetter = $parse($attrs['pipFabShowTooltip']),\r\n            showSetter = showGetter.assign;\r\n\r\n        $scope.$watch(trigGetter, (isOpen) => {\r\n            if (!_.isFunction(showSetter)) return;\r\n\r\n            if (isOpen) {\r\n                $timeout(() => {\r\n                    showSetter($scope, isOpen);\r\n                }, 600);\r\n            } else {\r\n                showSetter($scope, isOpen);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nfunction pipFabTooltipVisibility($parse, $timeout): ng.IDirective {\r\n    return {\r\n        restrict: 'A',\r\n        scope: false,\r\n        controller: FabTooltipVisibilityController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipFabTooltipVisibility', [])\r\n    .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\r\n\r\n}","{\r\n\r\n    interface IRefreshButtonBindings {\r\n        [key: string]: any;\r\n\r\n        text: any;\r\n        visible: any;\r\n        onRefresh: any\r\n    }\r\n\r\n    const RefreshButtonBindings: IRefreshButtonBindings = {\r\n        text: '<pipText',\r\n        visible: '<pipVisible',\r\n        onRefresh: '&?pipRefresh'\r\n    }\r\n\r\n    class RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n        onRefresh: ng.IChangesObject<({\r\n            $event: any\r\n        }) => ng.IPromise<any>>;\r\n        // One way bindings\r\n        text: ng.IChangesObject<string>;\r\n        visible: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class RefreshButtonController implements IRefreshButtonBindings {\r\n\r\n        private _textElement: any;\r\n        private _buttonElement: any;\r\n        private _width: number;\r\n\r\n        public text: string;\r\n        public visible: boolean;\r\n        public onRefresh: (param: {\r\n            $event: ng.IAngularEvent\r\n        }) => ng.IPromise<any>;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: any,\r\n            private $attrs: ng.IAttributes\r\n        ) { \"ngInject\"; }\r\n\r\n        public $postLink() {\r\n            this._buttonElement = this.$element.children('.md-button');\r\n            this._textElement = this._buttonElement.children('.pip-refresh-text');\r\n\r\n            if (this.visible) {\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n\r\n        public $onChanges(changes: RefreshButtonChanges) {\r\n            if (changes.visible.currentValue === true) {\r\n                this.text = changes.text.currentValue;\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n\r\n        public onClick($event) {\r\n            if (this.onRefresh) {\r\n                this.onRefresh({\r\n                    $event: $event\r\n                });\r\n            }\r\n        }\r\n\r\n        private show() {\r\n            if (this._textElement === undefined || this._buttonElement === undefined) {\r\n                return;\r\n            }\r\n            // Set new text\r\n            this._textElement.text(this.text);\r\n            // Show button\r\n            this._buttonElement.show();\r\n            // Adjust position\r\n            const width = this._buttonElement.width();\r\n            this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\r\n        }\r\n\r\n        private hide() {\r\n            if (this._textElement === undefined || this._buttonElement === undefined) {\r\n                return;\r\n            }\r\n            this._buttonElement.hide();\r\n        }\r\n    }\r\n\r\n\r\n    const RefreshButtonComponent: ng.IComponentOptions = {\r\n        bindings: RefreshButtonBindings,\r\n        controller: RefreshButtonController,\r\n        template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\r\n            '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\r\n            '<span class=\"pip-refresh-text\"></span>' +\r\n            '</md-button>'\r\n    };\r\n\r\n    angular\r\n        .module('pipRefreshButton', ['ngMaterial'])\r\n        .component('pipRefreshButton', RefreshButtonComponent);\r\n\r\n}","{\r\n\r\nclass ToggleButton {\r\n    id: any;\r\n    name: string;\r\n    disabled: boolean;\r\n    level: number;\r\n    diselectable: boolean;\r\n    filled: boolean;\r\n}\r\n\r\ninterface IToggleButtonsBindings {\r\n    [key: string]: any;\r\n\r\n    ngDisabled: any;\r\n    buttons: any;\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    multiselect: any;\r\n    change: any;\r\n    onlyToggle: any\r\n}\r\n\r\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\r\n    ngDisabled: '<?',\r\n    buttons: '<pipButtons',\r\n    currentButtonValue: '=ngModel',\r\n    currentButton: '=?pipButtonObject',\r\n    multiselect: '<?pipMultiselect',\r\n    change: '&ngChange',\r\n    onlyToggle: '<?pipOnlyToggle'\r\n}\r\n\r\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\r\n    [key: string]: ng.IChangesObject < any > ;\r\n    // Not one way bindings\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    change: ng.IChangesObject < () => ng.IPromise < void >> ;\r\n    // One way bindings\r\n    ngDisabled: ng.IChangesObject < boolean > ;\r\n    buttons: ng.IChangesObject < ToggleButton[] > ;\r\n    multiselect: ng.IChangesObject < boolean > ;\r\n    onlyToggle: ng.IChangesObject < boolean > ;\r\n}\r\n\r\nclass ToggleButtonsController implements IToggleButtonsBindings {\r\n    lenght: number;\r\n\r\n    public ngDisabled: boolean;\r\n    public class: string;\r\n    public multiselect: boolean;\r\n    public buttons: ToggleButton[] = [];\r\n    public disabled: boolean;\r\n    public currentButtonValue: any;\r\n    public currentButtonIndex: number;\r\n    public currentButton: any;\r\n    public change: () => ng.IPromise < any > ;\r\n    public onlyToggle: boolean;\r\n    public pipMedia: any;\r\n\r\n    constructor(\r\n        private $element: any,\r\n        private $attrs: angular.IAttributes,\r\n        private $scope: angular.IScope,\r\n        private $timeout: ng.ITimeoutService,\r\n        $injector: ng.auto.IInjectorService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.class = $attrs['class'] || '';\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $onChanges(changes: ToggleButtonsChanges) {\r\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : this.multiselect;\r\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : this.disabled;\r\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : this.onlyToggle;\r\n\r\n        if (changes.buttons) {\r\n            this.buttons = _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? [] : changes.buttons.currentValue;\r\n        }\r\n\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $postLink() {\r\n        this.$element\r\n            .on('focusin', () => {\r\n                this.$element.addClass('focused-container');\r\n            })\r\n            .on('focusout', () => {\r\n                this.$element.removeClass('focused-container');\r\n            });\r\n    }\r\n\r\n    public buttonSelected(index) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.currentButtonIndex = index;\r\n        this.currentButton = this.buttons[this.currentButtonIndex];\r\n        this.currentButtonValue = this.currentButton.id || index;\r\n\r\n        this.$timeout(() => {\r\n            if (this.change) {\r\n                this.change();\r\n            }\r\n        });\r\n    }\r\n\r\n    public enterSpacePress(event) {\r\n        this.buttonSelected(event.index);\r\n    }\r\n\r\n    public highlightButton(index) {\r\n        if (this.multiselect &&\r\n            !_.isUndefined(this.currentButton.level) &&\r\n            !_.isUndefined(this.buttons[index].level)) {\r\n\r\n            return this.currentButton.level >= this.buttons[index].level;\r\n        }\r\n\r\n        return this.currentButtonIndex == index;\r\n    }\r\n}\r\n\r\nconst ToggleButtons: ng.IComponentOptions = {\r\n    bindings: ToggleButtonsBindings,\r\n    templateUrl: 'toggle_buttons/ToggleButtons.html',\r\n    controller: ToggleButtonsController\r\n}\r\n\r\nangular\r\n    .module('pipToggleButtons', ['pipButtons.Templates'])\r\n    .component('pipToggleButtons', ToggleButtons);\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/ToggleButtons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","import { PipCacheModel } from \"./cache.models\";\r\n\r\nexport interface ICacheConfigService {\r\n    enabled: boolean;\r\n    enableLogs: boolean;\r\n    models: PipCacheModel[];\r\n    prefix: string;\r\n}\r\n\r\nexport class CacheConfigService implements ICacheConfigService {\r\n    constructor(\r\n        public enabled: boolean,\r\n        public enableLogs: boolean,\r\n        public models: PipCacheModel[],\r\n        public prefix: string\r\n    ) { }\r\n}\r\n\r\nexport interface ICacheConfigProvider {\r\n    enableLogs: boolean;\r\n    models: PipCacheModel[];\r\n    prefix: string;\r\n}\r\n\r\nclass CacheConfigProvider implements ICacheConfigProvider, ng.IServiceProvider {\r\n\r\n    private _service: CacheConfigService;\r\n\r\n    enabled: boolean = true;\r\n    enableLogs: boolean = false;\r\n    models: PipCacheModel[] = [];\r\n    prefix: string = 'PipCache';\r\n\r\n    constructor() {\r\n        \"ngInject\";\r\n    }\r\n\r\n    public $get() {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new CacheConfigService(\r\n                this.enabled,\r\n                this.enableLogs,\r\n                this.models,\r\n                this.prefix\r\n            );\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module(\"pipCache\")\r\n    .provider('pipCacheConfig', CacheConfigProvider);","import { ICacheService } from \"./cache.service\";\r\nimport { ICacheConfigService } from \"./cache-config.service\";\r\n\r\nfunction configureInterceptor(\r\n    $httpProvider: ng.IHttpProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $httpProvider.interceptors.push(function ($q: ng.IQService, pipCache: ICacheService, pipCacheConfig: ICacheConfigService) {\r\n        return {\r\n            request: (config: ng.IRequestConfig) => {\r\n                if (!pipCacheConfig.enabled) { return config; }\r\n                for (const model of pipCache.models) {\r\n                    for (const ik of Object.keys(model.interceptors)) {\r\n                        const interceptor = model.interceptors[ik];\r\n                        const match = interceptor.match.exec(config.url);\r\n                        if (match) {\r\n                            switch (config.method) {\r\n                                case 'GET':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                            return pipCache.getItem(model.name, interceptor.getKey(match), interceptor.options)\r\n                                                .then(item => {\r\n                                                    if (!item) {\r\n                                                        (config as any).onResponse = (body) => {\r\n                                                            pipCache.setItem(model.name, body, interceptor.options);\r\n                                                        };\r\n                                                        return config;\r\n                                                    } else {\r\n                                                        config.timeout = $q.defer().promise;\r\n                                                        return $q.reject({ cachedData: item });\r\n                                                    }\r\n                                                });\r\n                                        case 'collection':\r\n                                            return pipCache.getItems(model.name, { httpParams: config.params, interceptor })\r\n                                                .then(items => {\r\n                                                    if (!items) {\r\n                                                        (config as any).onResponse = (body) => {\r\n                                                            const its = interceptor.responseModify\r\n                                                                ? interceptor.responseModify.responseToItems(body) : body;\r\n                                                            pipCache.setItems(model.name, its,\r\n                                                                { httpParams: config.params, interceptor });\r\n                                                        };\r\n                                                        return config;\r\n                                                    } else {\r\n                                                        config.timeout = $q.defer().promise;\r\n                                                        const resp = interceptor.responseModify\r\n                                                            ? interceptor.responseModify.itemsToResponse(items) : items;\r\n                                                        return $q.reject({ cachedData: resp });\r\n                                                    }\r\n                                                });\r\n                                        default:\r\n                                            console.error(`Unknown type of interceptor (${ik})`);\r\n                                            break;\r\n                                    }\r\n                                case 'POST':\r\n                                case 'PUT':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                        case 'collection':\r\n                                            (config as any).onResponse = (body) => {\r\n                                                pipCache.setItem(model.name, body, { removeTotal: config.method === 'POST' });\r\n                                            };\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                case 'DELETE':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                            (config as any).onResponse = (body) => {\r\n                                                pipCache.deleteItems(model.name, [interceptor.getKey(match)]);\r\n                                            };\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return config;\r\n            },\r\n            response: <T>(response: ng.IHttpPromiseCallbackArg<T>) => {\r\n                if (response.config.hasOwnProperty('onResponse') && typeof (response.config as any).onResponse === 'function') {\r\n                    (response.config as any).onResponse(response.data);\r\n                }\r\n                return response;\r\n            },\r\n            responseError: function (rejection) {\r\n                if (rejection && rejection.cachedData) {\r\n                    return $q.resolve({ data: rejection.cachedData });\r\n                }\r\n                return $q.reject(rejection);\r\n            }\r\n        } as ng.IHttpInterceptor;\r\n    });\r\n}\r\n\r\nangular\r\n    .module('pipCache')\r\n    .config(configureInterceptor);","export class PipCachePaginationParams {\r\n    offset?: number;\r\n    limit?: number;\r\n}\r\n\r\nexport function extractPaginationDefault(params: any): [PipCachePaginationParams, any] {\r\n    const res = new PipCachePaginationParams();\r\n    const pars = _.cloneDeep(params);\r\n    if (params) {\r\n        if (params.hasOwnProperty('offset')) {\r\n            res.offset = parseInt(params.offset, 10);\r\n            delete pars.offset;\r\n        }\r\n        if (params.hasOwnProperty('limit')) \r\n        {\r\n            res.limit = parseInt(params.limit, 10);\r\n            delete pars.limit;\r\n        }\r\n    }\r\n    return [res, pars];\r\n}\r\n\r\nexport class PipCacheInterceptorOptions {\r\n    maxAge?: number;\r\n}\r\n\r\nexport class PipCacheInterceptorSettings {\r\n    match: RegExp;\r\n    options?: PipCacheInterceptorOptions;\r\n}\r\n\r\nexport class PipCacheInterceptorItemSettings extends PipCacheInterceptorSettings {\r\n    getKey: (groups: any) => any;\r\n}\r\n\r\nexport class PipCacheInterceptorCollectionSettings extends PipCacheInterceptorSettings {\r\n    responseModify?: {\r\n        responseToItems: (resp: any) => any[];\r\n        itemsToResponse: (items: any[]) => any;\r\n    };\r\n    // extractPagination?: (params: HttpParams) => [PipCachePaginationParams, HttpParams];\r\n}\r\n\r\nexport class PipCacheModel {\r\n    name: string;\r\n    options: {\r\n        maxAge: number;\r\n        key?: string;\r\n    };\r\n    interceptors: {\r\n        item?: PipCacheInterceptorItemSettings;\r\n        collection?: PipCacheInterceptorCollectionSettings;\r\n    };\r\n}\r\n","import { PipCacheInterceptorOptions, PipCachePaginationParams, PipCacheModel, PipCacheInterceptorCollectionSettings, extractPaginationDefault } from './cache.models';\r\nimport { ICacheConfigProvider } from './cache-config.service';\r\n\r\ndeclare var Dexie;\r\ndeclare var objectHash;\r\n\r\nclass TotalItem {\r\n    hash: string;\r\n    total: {\r\n        value: number;\r\n        lastRead: number;\r\n    };\r\n    idxMap: any[];\r\n}\r\n\r\nexport interface ICacheService {\r\n    models: PipCacheModel[];\r\n    getItem(modelName: string, key: any, options?: PipCacheInterceptorOptions): Promise<any>;\r\n    getItems(modelName: string, payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]>;\r\n    setItem(modelName: string, item: any, options?: { removeTotal?: boolean }): Promise<any>;\r\n    setItems(modelName: string, items: any[], payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]>\r\n    deleteItems(modelName: string, keys: any[]): Promise<any>;\r\n    clear(model?: string | string[]): Promise<any>;\r\n}\r\n\r\nexport class CacheService implements ICacheService {\r\n\r\n    private openedDbs = new Map<string, any>();\r\n\r\n    constructor(private config: ICacheConfigProvider) { }\r\n\r\n    private getDbName(modelName: string): string {\r\n        if (!modelName) { throw new Error('Model name should be defined'); }\r\n        return this.config.prefix + modelName.charAt(0).toUpperCase() + modelName.slice(1);\r\n    }\r\n\r\n    private getDb(model: PipCacheModel): any {\r\n        if (!model || !model.name) { throw new Error('Model should be defined'); }\r\n        const dbName = this.getDbName(model.name);\r\n        if (this.openedDbs.has(dbName)) { return this.openedDbs.get(dbName); }\r\n        const db = new Dexie(dbName);\r\n        const modelKey = model.options.key || 'id';\r\n        db.version(2).stores({\r\n            items: modelKey,\r\n            hashes: 'hash',\r\n            lastRead: '',\r\n            meta: ''\r\n        });\r\n        this.openedDbs.set(dbName, db);\r\n        return db;\r\n    }\r\n\r\n    private getModel(modelName: string): PipCacheModel {\r\n        return this.models.find(m => m.name === modelName);\r\n    }\r\n\r\n    public get models(): PipCacheModel[] { return this.config.models || []; }\r\n\r\n    async getItem(modelName: string, key: any, options?: PipCacheInterceptorOptions): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const [expire, item] = await Promise.all([\r\n            db.table('lastRead').get(key),\r\n            db.table('items').get(key)\r\n        ]);\r\n        const maxAge = options && options.maxAge || model.options.maxAge;\r\n        const expired = expire + maxAge <= new Date().valueOf();\r\n        if (this.config.enableLogs) {\r\n            console.groupCollapsed('[PipCache] GET single item #' + key);\r\n            console.log('Item: ', item);\r\n            console.log('Expired: ', expired);\r\n            console.log('Expired at: ', new Date(expire));\r\n            console.groupEnd();\r\n        }\r\n        return expired ? null : item;\r\n    }\r\n    async getItems(modelName: string, payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const modelKey = model.options.key || 'id';\r\n        // get indexes of items we should receive\r\n        const maxAge = _.get(payload, 'interceptor.options.maxAge', model.options.maxAge);\r\n        if (this.config.enableLogs) {\r\n            console.groupCollapsed('[PipCache] GET collection of items');\r\n            console.log('Payload: ', payload);\r\n        }\r\n        const [pagination, params]: [PipCachePaginationParams, any]\r\n            = _.get(payload, 'interceptor.extractPagination', extractPaginationDefault)(payload && payload.httpParams);\r\n        const hasPagination = Object.keys(pagination).length !== 0;\r\n        const pars: PipCachePaginationParams = _.defaultsDeep(pagination, { offset: 0, limit: 0 });\r\n        const { offset, limit } = pars;\r\n        const hash = params && Object.keys(params).length ? objectHash.MD5(params) : '';\r\n        return db.table('hashes').get(hash)\r\n            .then((hi: TotalItem) => {\r\n                const total = hi && hi.total && hi.total.value && hi.total.lastRead + maxAge >= new Date().valueOf()\r\n                    ? hi.total.value : undefined;\r\n                const upper = offset + limit;\r\n                const plannedLength = hasPagination\r\n                    ? (limit ? (total ? (upper > total ? total - offset : limit) : limit) : (total ? (total - offset) : (limit)))\r\n                    : total;\r\n                let idxMap = hi && hi.idxMap || [];\r\n                if (hasPagination) {\r\n                    if (limit) {\r\n                        idxMap = idxMap.filter((it, idx) => idx >= offset && idx < upper);\r\n                        if (idxMap.length !== plannedLength) {\r\n                            if (this.config.enableLogs) {\r\n                                console.log('There\\'s not enough information about indexes');\r\n                                console.groupEnd();\r\n                            }\r\n                            return Promise.reject(null);\r\n                        }\r\n                    } else if (total !== undefined) {\r\n                        idxMap = idxMap.filter((it, idx) => idx >= offset);\r\n                        if (idxMap.length !== plannedLength) {\r\n                            if (this.config.enableLogs) {\r\n                                console.log('Not all items presented in cache');\r\n                                console.groupEnd();\r\n                            }\r\n                            return Promise.reject(null);\r\n                        }\r\n                    } else {\r\n                        if (this.config.enableLogs) {\r\n                            console.log('We want to return all items, but we don\\'t know how many they are');\r\n                            console.groupEnd();\r\n                        }\r\n                        return Promise.reject(null);\r\n                    }\r\n                } else if (total === undefined) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('We want to return all items, but we don\\'t know how many they are');\r\n                        console.groupEnd();\r\n                    }\r\n                    return Promise.reject(null);\r\n                }\r\n                return Promise.all([\r\n                    Promise.resolve(idxMap),\r\n                    !hasPagination && !hash ? db.table('items').toArray() : db.table('items').where(modelKey).anyOf(idxMap).toArray(),\r\n                    !hasPagination && !hash ? db.table('lastRead').toArray() : db.table('lastRead').where('').anyOf(idxMap).toArray()\r\n                ]);\r\n            }).then(([ids, items, reads]) => {\r\n                if (!items || items.length !== ids.length || !reads || reads.length !== ids.length) {\r\n                    if (this.config.enableLogs) {\r\n                        console.warn('Not all items presented in cache');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                }\r\n                if (Math.min(...reads) + maxAge <= new Date().valueOf()) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('Items was expired');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                }\r\n                const res = ids.map(id => items.find(it => it[modelKey] === id));\r\n                if (this.config.enableLogs) {\r\n                    console.log('Items: ', res);\r\n                    console.groupEnd();\r\n                }\r\n                return res;\r\n            }).catch(reason => {\r\n                if (reason === null) {\r\n                    return null;\r\n                } else {\r\n                    throw reason;\r\n                }\r\n            });\r\n    }\r\n    async setItem(modelName: string, item: any, options?: { removeTotal?: boolean; }): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const promises = [\r\n            db.table('lastRead').put(new Date().valueOf(), item[model.options.key]),\r\n            db.table('items').put(item)\r\n        ];\r\n        if (options) {\r\n            if (options.removeTotal) {\r\n                promises.push(db.table('hashes').toCollection().modify({ total: undefined }));\r\n            }\r\n        }\r\n        return Promise.all(promises).then((data) => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] SET single item #' + item[model.options.key]);\r\n                console.log('Item: ', data[1]);\r\n                console.log('Readed at: ', new Date());\r\n                console.groupEnd();\r\n            }\r\n            return data[1];\r\n        });\r\n    }\r\n    async setItems(modelName: string, items: any[], payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]> {\r\n        const model = this.getModel(modelName);\r\n        const modelKey = model.options.key || 'id';\r\n        const db = this.getDb(model);\r\n        const lastRead = new Date().valueOf();\r\n        const ids = items.map(it => it[modelKey]);\r\n        let total;\r\n        const [pagination, params]: [PipCachePaginationParams, any]\r\n            = _.get(payload, 'interceptor.extractPagination', extractPaginationDefault)(payload && payload.httpParams);\r\n        const hasPagination = Object.keys(pagination).length !== 0;\r\n        const pars: PipCachePaginationParams = _.defaultsDeep(pagination, { offset: 0, limit: 0 });\r\n        const { offset, limit } = pars;\r\n        const hash = params && Object.keys(params).length ? objectHash.MD5(params) : '';\r\n        const promises = [\r\n            db.table('lastRead').bulkPut(new Array(items.length).fill(lastRead), ids),\r\n            db.table('items').bulkPut(items),\r\n            db.table('hashes').get(hash).then((hi: TotalItem) => {\r\n                const nh = hi || Object.assign(new TotalItem(), { hash, total: {}, idxMap: [] });\r\n                ids.forEach((id, idx) => nh.idxMap[idx + offset] = id);\r\n                if (hasPagination && pagination.limit && items.length && items.length < pagination.limit || !hasPagination) {\r\n                    total = (pagination.offset || 0) + items.length;\r\n                    nh.total = {\r\n                        value: total,\r\n                        lastRead\r\n                    };\r\n                }\r\n                return db.table('hashes').put(nh);\r\n            })\r\n        ];\r\n        return Promise.all(promises).then(() => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] SET collection of items');\r\n                console.log('Payload: ', payload);\r\n                console.log('Items: ', items);\r\n                console.log('Hash:', hash);\r\n                console.log('Last read at: ', new Date());\r\n                if (!_.isUndefined(total)) {\r\n                    console.log(`New total for hash [${hash}]: ${total}`);\r\n                }\r\n                console.groupEnd();\r\n            }\r\n            return items;\r\n        });\r\n    }\r\n    async deleteItems(modelName: string, keys: any[]): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        return Promise.all([\r\n            db.table('lastRead').bulkDelete(keys),\r\n            db.table('items').bulkDelete(keys),\r\n            db.transaction('rw', db.table('hashes'), async () => {\r\n                await db.table('hashes').toCollection().modify(function () {\r\n                    let removeTotal;\r\n                    keys.forEach(key => {\r\n                        const idx = this.value.idxMap.findIndex(id => id === key);\r\n                        if (idx >= 0) {\r\n                            this.value.idxMap.splice(idx, 1);\r\n                            removeTotal = true;\r\n                        }\r\n                    });\r\n                    if (removeTotal) {\r\n                        delete this.value.total;\r\n                    }\r\n                });\r\n            })\r\n        ]).then(() => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] DELETE');\r\n                console.log('Keys: ', keys);\r\n                console.groupEnd();\r\n            }\r\n        });\r\n    }\r\n    async clear(model?: string | string[]): Promise<any> {\r\n        return new Promise(resolve => {\r\n            const dbs: string[] = [];\r\n            if (model) {\r\n                Array.isArray(model)\r\n                    ? dbs.push(...model.map(m => this.getDbName(m)))\r\n                    : dbs.push(this.getDbName(model));\r\n                resolve(dbs);\r\n            } else {\r\n                resolve(Dexie.getDatabaseNames());\r\n            }\r\n        }).then((names: string[]) => {\r\n            const dbs = names.filter(name => name.startsWith(this.config.prefix));\r\n            if (this.config.enableLogs) {\r\n                console.log('databases to delete: ', names);\r\n            }\r\n            const promises = [];\r\n            for (const name of dbs) {\r\n                try {\r\n                    const db = this.openedDbs.has(name) ? this.openedDbs.get(name) : new Dexie(name);\r\n                    promises.push(db.table('items').clear());\r\n                    promises.push(db.table('meta').clear());\r\n                    promises.push(db.table('lastRead').clear());\r\n                    promises.push(db.table('hashes').clear());\r\n                } catch (err) {\r\n                    if (this.config.enableLogs) {\r\n                        console.warn('Error opening database ' + name);\r\n                    }\r\n                }\r\n            }\r\n            return Promise.all(promises);\r\n        }).then(res => {\r\n            if (this.config.enableLogs) {\r\n                console.log('[PipCache] CLEAR');\r\n                if (model) { console.log('Model(s): ', model); } else { console.log('all models'); }\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport interface ICacheProvider {\r\n    models: PipCacheModel[];\r\n    registerModel(model: PipCacheModel): boolean;\r\n}\r\n\r\nclass CacheProvider implements ICacheProvider {\r\n\r\n    private _service: ICacheService;\r\n\r\n    constructor(private pipCacheConfigProvider: ICacheConfigProvider) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    public get models(): PipCacheModel[] { return this.pipCacheConfigProvider.models; }\r\n\r\n    public registerModel(model: PipCacheModel) {\r\n        if (!model) { return false; }\r\n        const res = this.models.find(m => m.name === model.name);\r\n        if (res) { return false; }\r\n        this.models.push(model);\r\n        return true;\r\n    }\r\n\r\n    public $get() {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new CacheService(this.pipCacheConfigProvider);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module(\"pipCache\")\r\n    .provider('pipCache', CacheProvider);","angular.module('pipCache', []);\r\n\r\nimport './cache-config.service';\r\nimport './cache.service';\r\nimport './cache.interceptor';\r\n\r\nexport * from './cache.models';\r\nexport * from './cache-config.service';\r\nexport * from './cache.service';\r\n","import { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './IAuxPanelService';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\n\r\n{\r\n    class AuxPanelDirectiveController {\r\n        private normalSize: number = 320;\r\n        private largeSize: number = 480;\r\n        private _debounceBodySize: Function;\r\n        private gtxs: boolean = null;\r\n        private gtlg: boolean = null;\r\n        private bodyWidth: number;\r\n        private bodyElement: any;\r\n\r\n        public constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private pipAuxPanel: IAuxPanelService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // this._debounceBodySize = _.debounce(() => {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n            // }, 10);\r\n\r\n            this.bodyElement = $('body');\r\n            this.bodyWidth = this.bodyElement.width();\r\n            $rootScope.$on(LayoutResizedEvent, () => {\r\n                this.bodyWidth = this.bodyElement.width();\r\n            });\r\n            // this._debounceBodySize();\r\n        }\r\n\r\n        public isGtxs(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtxs;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n\r\n            //     return this.gtxs;\r\n            // }\r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n\r\n            return this.bodyWidth > MainBreakpoints.xs;\r\n        }\r\n\r\n        public isGtlg(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtlg;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n                \r\n            //     return this.gtlg;\r\n            // }            \r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n            \r\n            return this.bodyWidth > (MainBreakpoints.lg + this.largeSize);\r\n        }\r\n    }\r\n\r\n    const AuxPanel: ng.IComponentOptions = {\r\n\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\r\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" ng-transclude><div pip-focused></div>' +\r\n        '</md-sidenav>'\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .component('pipAuxPanel', AuxPanel);\r\n\r\n}\r\n","{\r\n\r\n    class AuxPanelPartController {\r\n        private partName: string;\r\n        private partValue: string;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipAuxPanel) {\r\n            \"ngInject\";\r\n            this.partName = '' + $attrs.pipAuxPanelPart;\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\r\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\r\n                this.onAuxPanelChanged(event, config);\r\n            });\r\n\r\n        }\r\n\r\n        private onAuxPanelChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = config[this.partName];\r\n            // Set visible variable to switch ngIf\r\n\r\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\r\n        }\r\n    }\r\n\r\n\r\n    function AuxPanelPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function ($scope: ng.IScope, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: AuxPanelPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent, AuxPanelOpenedEvent, AuxPanelClosedEvent } from './IAuxPanelService';\r\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n\r\n        \"ngInject\";\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n        this._rootScope.$emit(AuxPanelOpenedEvent, this._config);\r\n    }\r\n\r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n        this._rootScope.$emit(AuxPanelClosedEvent, this._config);\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    \"ngInject\";\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\nexport const AuxPanelOpenedEvent = 'pipAuxPanelOpened';\r\nexport const AuxPanelClosedEvent = 'pipAuxPanelClosed';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}","angular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPart';\r\nimport './AuxPanel';\r\n\r\nexport * from './IAuxPanelService';","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface ICardDirectiveAttributes extends ng.IAttributes {\r\n    minWidth: string | number;\r\n    minHeight: string | number;\r\n    width: string | number;\r\n    height: string | number;\r\n}\r\n\r\nclass CardDirectiveLink {\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService, \r\n        private $element: JQuery, \r\n        private $attrs: ICardDirectiveAttributes\r\n    ) {\r\n       \"ngInject\";\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        const\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width();\r\n        let\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\r\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\r\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\r\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this.$element.css('width', width ? width + 'px' : '');\r\n        this.$element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            const\r\n                $header = this.$element.find('.pip-header:visible'),\r\n                $footer = this.$element.find('.pip-footer:visible'),\r\n                $body = this.$element.find('.pip-body');\r\n            let maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this.$element.css('left', left);\r\n            this.$element.css('top', top);\r\n\r\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this.$rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\n    interface IMainDirectiveAttributes extends ng.IAttributes {\r\n        pipContainer: string;\r\n    }\r\n\r\n    class MainDirectiveController implements ng.IController {\r\n        private _container: any;\r\n\r\n        public constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: angular.IRootElementService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $attrs: IMainDirectiveAttributes\r\n        ) {\r\n            \"ngInject\";\r\n            this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\r\n\r\n            // Add CSS class\r\n            $element.addClass('pip-main');\r\n\r\n            // Add resize listener\r\n            const listener = () => { this.resize(); };\r\n            addResizeListener(this._container[0], listener);\r\n\r\n            // Unbind when scope is removed\r\n            $scope.$on('$destroy', () => {\r\n                removeResizeListener(this._container[0], listener);\r\n            });\r\n\r\n            // Perform initial calculations\r\n            this.updateBreakpointStatuses();\r\n        }\r\n\r\n        private updateBreakpointStatuses() {\r\n            const width = this._container.innerWidth();\r\n            const body = $('body');\r\n\r\n            MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n            $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n                if (_.isBoolean(status)) {\r\n                    body[status ? 'addClass' : 'removeClass']('pip-' + breakpoint);\r\n                }\r\n            });\r\n\r\n            this.$timeout(() => {\r\n                this.$rootScope.$apply();\r\n            });\r\n        }\r\n\r\n        private resize() {\r\n            this.updateBreakpointStatuses();\r\n            this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n        }\r\n    }\r\n\r\n    class MainBodyDirectiveLink {\r\n        public constructor(\r\n            $scope: ng.IScope,\r\n            $element: angular.IRootElementService\r\n        ) {\r\n            \"ngInject\";\r\n            // Add CSS class\r\n            $element.addClass('pip-main-body');\r\n        }\r\n    }\r\n\r\n    function mainDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            controller: MainDirectiveController,\r\n            controllerAs: 'vm'\r\n        }\r\n    }\r\n\r\n    function mainBodyDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: MainBodyDirectiveLink\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipMain', mainDirective)\r\n        .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","(() => {\r\n\r\n    function simpleDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n                $element.addClass('pip-simple');\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipSimple', simpleDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\r\n    columnWidth: string | number;\r\n    pipInfinite: string | boolean | number;\r\n}\r\n\r\nclass TilesOptions {\r\n    gutter: number;\r\n    isFitWidth: boolean;\r\n    isResizeBound: boolean;\r\n    transitionDuration: number;\r\n}\r\n\r\ninterface ITilesControllerScope extends ng.IScope {\r\n    tilesOptions: TilesOptions;\r\n}\r\n\r\nclass TilesDirectiveLink {\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n\tprivate _heading: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope,\r\n        private $element: JQuery,\r\n        private $attrs: ITilesDirectiveAttributes,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        \"ngInject\";\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440;\r\n        this._container = $element.children('.pip-tiles-container');\r\n\t\tthis._heading = $($element.children('.pip-tiles-heading')[0]);\r\n        this._prevContainerWidth = null;\r\n        this._masonry = Masonry.data(this._container[0]);\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this.$element.parent().width(),\r\n            containerWidth;\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this.$rootScope.$emit(LayoutResizedEvent, containerWidth);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value): boolean {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n\t\t\tgutter: '='\r\n\t\t},\r\n        transclude: {\r\n            'heading': '?pipTilesHeading'\r\n        },\r\n        template:\r\n        ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            if (convertToBoolean($attrs.pipInfinite)) {\r\n                return String()\r\n                    + '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                    + '</div>';\r\n            } else {\r\n                return String()\r\n\t\t\t\t\t+ '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\">'\r\n                    + '</div>';\r\n            }\r\n        },\r\n        controller: ($scope: ITilesControllerScope) => {\r\n            $scope.tilesOptions = {\r\n                gutter: $scope.gutter || 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","export const MainResizedEvent = 'pipMainResized';\r\nexport const LayoutResizedEvent = 'pipLayoutResized';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null || width == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\r\nimport { IMediaProvider } from './IMediaService';\r\n\r\nexport let MainBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\r\nexport const MainBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nclass MediaProvider implements IMediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        const service = (size) => {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipMedia')\r\n    .provider('pipMedia', MediaProvider);\r\n","let attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n           \"ngInject\";\r\n    let frame = window.requestAnimationFrame\r\n        || (<any>window).mozRequestAnimationFrame\r\n        || (<any>window).webkitRequestAnimationFrame\r\n        || function (callback) {\r\n            return window.setTimeout(callback, 20);\r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n           \"ngInject\";\r\n    let cancel = window.cancelAnimationFrame\r\n        || (<any>window).mozCancelAnimationFrame\r\n        || (<any>window).webkitCancelAnimationFrame\r\n        || window.clearTimeout;\r\n\r\n    return function (id) {\r\n        return cancel(id);\r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    const win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function () {\r\n        const trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function (fn) {\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    if (this.contentDocument) {\r\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n    }\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            if (element.__resizeTrigger__.contentDocument) {\r\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n            }\r\n        }\r\n    }\r\n}\r\n","angular.module('pipMedia', []);\r\n\r\nimport './MediaService';\r\nimport './ResizeFunctions';\r\n\r\nexport * from './IMediaService';\r\nexport * from './MediaService';\r\nexport * from './ResizeFunctions';","{\r\n    class CancelDragLink {\r\n        constructor(\r\n            $element: JQuery\r\n        ) {\r\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n        }\r\n    }\r\n\r\n    const CancelDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new CancelDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipCancelDrag', CancelDrag);\r\n}","import {\r\n    IDraggableService\r\n} from './DraggableService';\r\n\r\n{\r\n    interface IDragLinkScope extends ng.IScope {\r\n        value: any;\r\n    }\r\n\r\n    interface IDragLinkAttributes extends ng.IAttributes {\r\n        ngDrag: any;\r\n        pipDragStart: any;\r\n        pipDragMove: any;\r\n        pipDragStop: any;\r\n        pipDragSuccess: any;\r\n        allowTransform: any;\r\n        pipDragData: any;\r\n        pipVerticalScroll: any;\r\n        pipHorizontalScroll: any;\r\n        pipActivationDistance: any;\r\n        pipScrollContainer: any;\r\n        pipDrag: any;\r\n        pipCenterAnchor: any;\r\n    }\r\n\r\n    class DragLink {\r\n        private LONG_PRESS: number = 50; // 50ms for longpress\r\n        private offset: any;\r\n        private _centerAnchor: boolean = false;\r\n        private _mx: number;\r\n        private _my: number;\r\n        private _tx: number;\r\n        private _ty: number;\r\n        private _mrx: number;\r\n        private _mry: number;\r\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n        private _pressEvents: string = 'touchstart mousedown';\r\n        private _moveEvents: string = 'touchmove mousemove';\r\n        private _releaseEvents: string = 'touchend mouseup';\r\n        private _dragHandle: any;\r\n\r\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n        private _myid: string | number;\r\n        private _data: any = null;\r\n\r\n        private _dragOffset: any = null;\r\n\r\n        private _dragEnabled: boolean = false;\r\n\r\n        private _pressTimer: any = null;\r\n\r\n        private _elementStyle: any = {};\r\n\r\n        private onDragStartCallback: Function;\r\n        private onDragMoveCallbak: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragSuccessCallback: Function;\r\n        private allowTransform: boolean;\r\n\r\n        private getDragData: any;\r\n        private verticalScroll: boolean;\r\n        private horizontalScroll: boolean;\r\n        private activationDistance: number;\r\n        private scrollDistance: number;\r\n        private scrollParent: boolean = false;\r\n\r\n        private scrollContainer: JQuery = angular.element(window);\r\n        private scrollContainerGetter: any;\r\n\r\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n        private _deregisterRootMoveListener: Function = angular.noop;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $window: ng.IWindowService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDragLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDragLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.ngDrag;\r\n            this._myid = $scope.$id;\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\r\n            this.onDragMoveCallbak = $parse($attrs.pipDragMove) || null;\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\r\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\r\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\r\n\r\n            this.getDragData = $parse($attrs.pipDragData);\r\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\r\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\r\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\r\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\r\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\r\n\r\n            this.$element.css('cursor', 'move');\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\r\n            // check to see if drag handle(s) was specified\r\n            // if querySelectorAll is available, we use this instead of find\r\n            // as JQLite find is limited to tagnames\r\n            let dragHandles: any;\r\n            if (this.$element[0].querySelectorAll) {\r\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\r\n            } else {\r\n                dragHandles = this.$element.find('[pip-drag-handle]');\r\n            }\r\n            if (dragHandles.length) {\r\n                this._dragHandle = dragHandles;\r\n            }\r\n            this.toggleListeners(true);\r\n\r\n            // Initialize scroll container\r\n            if (this.scrollParent) {\r\n                this.scrollContainer = angular.element(this.$element.parent());\r\n            } else if (this.$attrs.pipScrollContainer) {\r\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\r\n            } else {\r\n                this.scrollContainer = angular.element(window);\r\n            }\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            if (!enable) return;\r\n            // add listeners.\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                this.onDestroy(enable);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\r\n                this.onCenterAnchor(newVal, oldVal);\r\n            });\r\n            // wire up touch events\r\n            if (this._dragHandle) {\r\n                // handle(s) specified, use those to initiate drag\r\n                this._dragHandle.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            } else {\r\n                // no handle(s) specified, use the element as the handle\r\n                this.$element.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            }\r\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\r\n                this.$element.on('mousedown', () => {\r\n                    return false;\r\n                }); // prevent native drag for images\r\n            }\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dragEnabled = (newVal);\r\n        }\r\n\r\n        private onCenterAnchor(newVal, oldVal) {\r\n            if (angular.isDefined(newVal))\r\n                this._centerAnchor = (newVal || 'true');\r\n        }\r\n\r\n        private isClickableElement(evt) {\r\n            return (\r\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n            );\r\n        }\r\n\r\n        /*\r\n         * When the element is clicked start the drag behaviour\r\n         * On touch devices as a small delay so as not to prevent native window scrolling\r\n         */\r\n        private onpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n\r\n            if (this.isClickableElement(evt)) {\r\n                return;\r\n            }\r\n\r\n            if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                // Do not start dragging on right-click\r\n                return;\r\n            }\r\n\r\n            this.saveElementStyles();\r\n\r\n            if (this._hasTouch) {\r\n                this.cancelPress();\r\n                this._pressTimer = setTimeout(() => {\r\n                    this.cancelPress();\r\n                    this.onlongpress(evt);\r\n                }, this.LONG_PRESS);\r\n                this.$document.on(this._moveEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n                this.$document.on(this._releaseEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n            } else {\r\n                this.onlongpress(evt);\r\n            }\r\n        }\r\n\r\n        private saveElementStyles() {\r\n            this._elementStyle.left = this.$element.css('left') || 0;\r\n            this._elementStyle.top = this.$element.css('top') || 0;\r\n            this._elementStyle.position = this.$element.css('position');\r\n            this._elementStyle.width = this.$element.css('width');\r\n        }\r\n\r\n        private cancelPress() {\r\n            clearTimeout(this._pressTimer);\r\n            this.$document.off(this._moveEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n            this.$document.off(this._releaseEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n        }\r\n\r\n        private onlongpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n\r\n            this.offset = this.$element[0].getBoundingClientRect();\r\n            if (this.allowTransform)\r\n                this._dragOffset = this.offset;\r\n            else {\r\n                this._dragOffset = {\r\n                    left: document.body.scrollLeft,\r\n                    top: document.body.scrollTop\r\n                };\r\n            }\r\n\r\n\r\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\r\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n            this._mrx = this._mx - this.offset.left;\r\n            this._mry = this._my - this.offset.top;\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\r\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\r\n            }\r\n\r\n            this.$document.on(this._moveEvents, (event) => {\r\n                this.onmove(event);\r\n            });\r\n            this.$document.on(this._releaseEvents, (event) => {\r\n                this.onrelease(event);\r\n            });\r\n            // This event is used to receive manually triggered mouse move events\r\n            // jqLite unfortunately only supports triggerHandler(...)\r\n            // See http://api.jquery.com/triggerHandler/\r\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\r\n                this.onmove(origEvent);\r\n            });\r\n        }\r\n\r\n        private onmove(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n            if (!this.$element.hasClass('pip-dragging')) {\r\n                this._data = this.getDragData(this.$scope);\r\n                this.$element.addClass('pip-dragging');\r\n                this.$rootScope.$broadcast('draggable:start', {\r\n                    x: this._mx,\r\n                    y: this._my,\r\n                    tx: this._tx,\r\n                    ty: this._ty,\r\n                    event: evt,\r\n                    element: this.$element,\r\n                    data: this._data\r\n                });\r\n\r\n                if (this.onDragStartCallback) {\r\n                    this.$scope.$apply(() => {\r\n                        this.onDragStartCallback(this.$scope, {\r\n                            $data: this._data,\r\n                            $event: evt\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n\r\n            if (this.horizontalScroll || this.verticalScroll) {\r\n                this.dragToScroll();\r\n            }\r\n\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\r\n                this._ty = this._my - this._mry - this._dragOffset.top;\r\n            }\r\n\r\n            this.moveElement(this._tx, this._ty);\r\n            \r\n            this.$rootScope.$broadcast('draggable:move', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                uid: this._myid,\r\n                dragOffset: this._dragOffset\r\n            });\r\n\r\n            if (this.onDragMoveCallbak) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragMoveCallbak(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: angular.extend(evt, ),\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onrelease(evt) {\r\n            if (!this._dragEnabled)\r\n                return;\r\n            evt.preventDefault();\r\n            this.$rootScope.$broadcast('draggable:end', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                callback: this.onDragComplete,\r\n                uid: this._myid\r\n            });\r\n            this.$element.removeClass('pip-dragging');\r\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n            this.reset();\r\n            this.$document.off(this._moveEvents);\r\n            this.$document.off(this._releaseEvents);\r\n            if (this.onDragStopCallback) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: evt\r\n                    });\r\n                });\r\n            }\r\n\r\n            this._deregisterRootMoveListener();\r\n        }\r\n\r\n        private onDragComplete(evt) {\r\n            if (!this.onDragSuccessCallback) return;\r\n\r\n            this.$scope.$apply(() => {\r\n                this.onDragSuccessCallback(this.$scope, {\r\n                    $data: this._data,\r\n                    $event: evt\r\n                });\r\n            });\r\n        }\r\n\r\n        private reset() {\r\n            if (this.allowTransform)\r\n                this.$element.css({\r\n                    transform: '',\r\n                    'z-index': '',\r\n                    '-webkit-transform': '',\r\n                    '-ms-transform': ''\r\n                });\r\n            else {\r\n                this.$element.css({\r\n                    position: this._elementStyle.position,\r\n                    top: this._elementStyle.top,\r\n                    left: this._elementStyle.left,\r\n                    'z-index': '',\r\n                    width: this._elementStyle.width\r\n                });\r\n            }\r\n        }\r\n\r\n        private moveElement(x, y) {\r\n            const eWidth = this.$element.css('width');\r\n            if (this.allowTransform) {\r\n                this.$element.css({\r\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    'z-index': 99999,\r\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                });\r\n            } else {\r\n                this.$element.css({\r\n                    'left': x + 'px',\r\n                    'top': y + 'px',\r\n                    'position': 'fixed',\r\n                    'z-index': 100,\r\n                    width: eWidth\r\n                });\r\n            }\r\n        }\r\n\r\n        private dragToScroll() {\r\n            let scrollX = 0,\r\n                scrollY = 0,\r\n                offset = (element) => {\r\n                    return element.offset() || {\r\n                        left: 0,\r\n                        top: 0\r\n                    };\r\n                };\r\n\r\n            if (this.horizontalScroll) {\r\n                const\r\n                    containerLeft = offset(this.scrollContainer).left,\r\n                    containerWidth = this.scrollContainer.innerWidth(),\r\n                    containerRight = containerLeft + containerWidth;\r\n\r\n                if ((this._mx - containerLeft) < this.activationDistance) {\r\n                    scrollX = -this.scrollDistance;\r\n                } else if ((containerRight - this._mx) < this.activationDistance) {\r\n                    scrollX = this.scrollDistance;\r\n                }\r\n            }\r\n\r\n            if (this.verticalScroll) {\r\n                const\r\n                    containerTop = offset(this.scrollContainer).top,\r\n                    containerHeight = this.scrollContainer.innerHeight(),\r\n                    containerBottom = containerTop + containerHeight;\r\n\r\n                if ((this._my - containerTop) < this.activationDistance) {\r\n                    scrollY = -this.scrollDistance + 30;\r\n                } else if ((containerBottom - this._my) < this.activationDistance) {\r\n                    scrollY = this.scrollDistance - 30;\r\n                }\r\n            }\r\n            if (scrollX !== 0 || scrollY !== 0) {\r\n                const\r\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\r\n                    containerScrollTop = this.scrollContainer.scrollTop();\r\n\r\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const Drag = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $window: ng.IWindowService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDragLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDragLinkAttributes\r\n            ) {\r\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrag', Drag);\r\n}","export interface IDraggableService {\r\n    inputEvent(event: any);\r\n}\r\n\r\nclass DraggableService implements IDraggableService {\r\n    public inputEvent(event) {\r\n        if (angular.isDefined(event.touches)) {\r\n            return event.touches[0];\r\n        }\r\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n            return event.originalEvent.touches[0];\r\n        }\r\n        return event;\r\n    };\r\n}\r\n\r\nangular\r\n    .module(\"pipDraggable\")\r\n    .service('pipDraggable', DraggableService);\r\n    ","import {\r\n    IDraggableService\r\n} from './DraggableService';\r\n\r\n{\r\n    interface IDropLinkScope extends ng.IScope {\r\n        value: any;\r\n        isTouching: any;\r\n    }\r\n\r\n    interface IDropLinkAttributes extends ng.IAttributes {\r\n        pipDrop: any;\r\n        pipDropSuccess: any;\r\n        pipDragStart: any;\r\n        pipDragStop: any;\r\n        pipDragMove: any;\r\n        pipEnter: any;\r\n        pipLeave: any;\r\n        pipDiactive: any;\r\n    }\r\n\r\n    class DropLink {\r\n\r\n        private _lastDropTouch: any;\r\n        private _myid: number | string;\r\n        private _dropEnabled: boolean;\r\n\r\n        private onDropCallback: Function; // || function(){};\r\n        private onDragStartCallback: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragMoveCallback: Function;\r\n        private onEnterCallback: Function;\r\n        private onLeaveCallback: Function;\r\n        private onDiactiveCallback: Function;\r\n\r\n        constructor(\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDropLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDropLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.pipDrop;\r\n            $scope.isTouching = false;\r\n\r\n            this._myid = $scope.$id;\r\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\r\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\r\n            this.onEnterCallback = $parse($attrs.pipEnter);\r\n            this.onLeaveCallback = $parse($attrs.pipLeave);\r\n            this.onDiactiveCallback = $parse($attrs.pipDiactive);\r\n\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$on('$destroy', (event) => {\r\n                this.onDestroy(event);\r\n            });\r\n            this.$scope.$on('draggable:start', (evt, obj) => {\r\n                this.onDragStart(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:move', (evt, obj) => {\r\n                this.onDragMove(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:end', (evt, obj) => {\r\n                this.onDragEnd(evt, obj);\r\n            });\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dropEnabled = newVal;\r\n        }\r\n\r\n        private onDragStart(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\r\n\r\n            if (this.$attrs.pipDragStart) {\r\n                this.$timeout(() => {\r\n                    this.onDragStartCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragMove(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\r\n\r\n            if (this.$attrs.pipDragMove) {\r\n                this.$timeout(() => {\r\n                    this.onDragMoveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragEnd(evt, obj) {\r\n            // don't listen to drop events if this is the element being dragged\r\n            // only update the styles and return\r\n            if (!this._dropEnabled) {\r\n                this.updateDragStyles(false, obj.element);\r\n                return;\r\n            }\r\n\r\n            if (this.isTouching(obj.x, obj.y, obj.element, evt, obj)) {\r\n                // call the pipDraggable pipDragSuccess element callback\r\n                if (obj.callback) {\r\n                    obj.callback(obj);\r\n                }\r\n\r\n                if (this.$attrs.pipDropSuccess) {\r\n                    this.$timeout(() => {\r\n                        this.onDropCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n\r\n                if (this.$attrs.pipDiactive) {\r\n                    this.$timeout(() => {\r\n                        this.onDiactiveCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (this.$attrs.pipDragStop) {\r\n                this.$timeout(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.updateDragStyles(false, obj.element);\r\n        }\r\n\r\n        private isTouching(mouseX, mouseY, dragElement, evt, obj) {\r\n            const touching = this.hitTest(mouseX, mouseY);\r\n            if (touching !== this.$scope.isTouching) {\r\n                if (touching) {\r\n                    this.onEnterCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj,\r\n                        $target: this.$scope.$eval(this.$scope.value)\r\n                    });\r\n                } else {\r\n                    this.onLeaveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj,\r\n                        $target: this.$scope.$eval(this.$scope.value)\r\n                    });\r\n                }\r\n            }\r\n\r\n            this.$scope.isTouching = touching;\r\n            if (touching) {\r\n                this._lastDropTouch = this.$element;\r\n            }\r\n            this.updateDragStyles(touching, dragElement);\r\n            return touching;\r\n        }\r\n\r\n        private updateDragStyles(touching, dragElement) {\r\n            if (touching) {\r\n                this.$element.addClass('pip-drag-enter');\r\n                dragElement.addClass('pip-drag-over');\r\n            } else if (this._lastDropTouch == this.$element) {\r\n                this._lastDropTouch = null;\r\n                this.$element.removeClass('pip-drag-enter');\r\n                dragElement.removeClass('pip-drag-over');\r\n            }\r\n        };\r\n\r\n        private hitTest(x, y) {\r\n            const bounds = this.$element[0].getBoundingClientRect();\r\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\r\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\r\n            return x >= bounds.left &&\r\n                x <= bounds.right &&\r\n                y <= bounds.bottom &&\r\n                y >= bounds.top;\r\n        }\r\n    }\r\n\r\n    const Drop = function (\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $timeout: ng.ITimeoutService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDropLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDropLinkAttributes\r\n            ) {\r\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrop', Drop);\r\n}","{\r\n\r\n    class PreventDragLink {\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false');\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\r\n        }\r\n\r\n        private absorbEvent_(event) {\r\n            const e = event.originalEvent;\r\n            e.preventDefault && e.preventDefault();\r\n            e.stopPropagation && e.stopPropagation();\r\n            e.cancelBubble = true;\r\n            e.returnValue = false;\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    const PreventDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new PreventDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipPreventDrag', PreventDrag);\r\n}","angular.module('pipDraggableTiles', []);\r\n\r\nimport './DraggableTileService';\r\nimport './Draggable';","{\r\n    interface FocusedScope extends ng.IScope {\r\n        pipFocusedColor: Function;\r\n        pipFocusedClass: Function;\r\n        pipFocusedRebind: Function;\r\n        pipFocusedTabindex: Function;\r\n        pipFocusedOpacity: Function;\r\n        pipFocusedData: Function;\r\n        pipWithHidden: Function;\r\n        pipRebind: Function;\r\n    }\r\n\r\n    interface FocusedAttributes extends ng.IAttributes {\r\n        ngModel: any;\r\n        pipFocusedData: any;\r\n    }\r\n\r\n    class FocusedLink implements ng.IDirective {\r\n        private controls: JQuery;\r\n        private controlsLength: number;\r\n        private color: string;\r\n        private opacityDelta: number = 0.4;\r\n        private opacityLimit: number = 0.5;\r\n        private oldBackgroundColor: string;\r\n        private onFocusClass: string;\r\n\r\n        constructor(\r\n            private $scope: FocusedScope,\r\n            private $element: JQuery,\r\n            $attrs: FocusedAttributes,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $mdConstant: any,\r\n            private $window: ng.IWindowService\r\n        ) {\r\n\r\n            $element.on('keydown', (e) => {\r\n                this.keydownListener(e);\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.init();\r\n            });\r\n\r\n            if ($attrs.ngModel) {\r\n                $scope.$watch('ngModel', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n\r\n            if ($attrs.pipFocusedData) {\r\n                $scope.$watch('pipFocusedData', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\r\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\r\n            this.controls = this.$element.find(selector);\r\n            this.controlsLength = this.controls.length;\r\n            this.checkTabindex(this.controls);\r\n            // Add event listeners\r\n            this.controls.on('focus', (event) => {\r\n                const target = event.currentTarget;\r\n                if ($(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\r\n                    this.init();\r\n                }\r\n                this.$element.addClass('pip-focused-container');\r\n                $(target).addClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n\r\n                    this.color = $(target).css('backgroundColor');\r\n                    this.oldBackgroundColor = this.color;\r\n                    $(target).css('backgroundColor', this.rgba(this.color));\r\n                    $(target).addClass('md-focused');\r\n                } else {\r\n                    $(target).addClass('md-focused md-focused-opacity');\r\n                }\r\n\r\n            }).on('focusout', (event) => {\r\n                const target = event.currentTarget;\r\n                if (!$(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                this.$element.removeClass('pip-focused-container');\r\n                $(target).removeClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\r\n                    $(target).removeClass('md-focused md-focused-opacity');\r\n                } else {\r\n                    $(target).removeClass('md-focused');\r\n                }\r\n            });\r\n        }\r\n\r\n        private rgba(color) {\r\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\r\n                return this.$scope.pipFocusedColor();\r\n            }\r\n\r\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\r\n\r\n            if (!arr || arr.length < 3) {\r\n                return ''\r\n            }\r\n\r\n            let red, blue, green, opacity;\r\n\r\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\r\n            red = arr[0];\r\n            blue = arr[1];\r\n            green = arr[2];\r\n\r\n            if (opacity < this.opacityLimit) {\r\n                opacity += this.opacityDelta;\r\n            } else {\r\n                opacity -= this.opacityDelta;\r\n            }\r\n\r\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\r\n        }\r\n\r\n        private setTabindex(element, value) {\r\n            element.attr('tabindex', value);\r\n        }\r\n\r\n        private checkTabindex(controls) {\r\n            const index = _.findIndex(controls, (c) => {\r\n                return c['tabindex'] > -1;\r\n            });\r\n\r\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\r\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\r\n            }\r\n        }\r\n\r\n        private keydownListener(e) {\r\n            const keyCode = e.which || e.keyCode;\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                e.preventDefault();\r\n\r\n                const\r\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\r\n                // Move focus to next control\r\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\r\n                    this.controls[moveToControl].focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const Focused = function ($timeout: ng.ITimeoutService, \r\n        $mdConstant: any, \r\n        $window: ng.IWindowService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipFocusedColor: '&?',\r\n                pipFocusedClass: '&?',\r\n                pipFocusedRebind: '&?',\r\n                pipFocusedTabindex: '&?',\r\n                pipFocusedOpacity: '&?',\r\n                pipFocusedData: '&?',\r\n                pipWithHidden: '&?',\r\n                pipRebind: '&?'\r\n            },\r\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\r\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipFocused\", [])\r\n        .directive('pipFocused', Focused);\r\n}","{\r\n    interface InfiniteScrollScope extends ng.IScope {\r\n        pipInfiniteScroll: Function;\r\n        pipScrollContainer: JQuery;\r\n        pipScrollDistance: number | string;\r\n        pipScrollDisabled: boolean;\r\n        pipScrollUseDocumentBottom: boolean;\r\n        pipScrollListenForEvent: string;\r\n    }\r\n\r\n    interface InfiniteScrollAttributes extends ng.IAttributes {\r\n        pipScrollParent: any;\r\n        pipScrolImmediateCheck: any;\r\n    }\r\n\r\n    class InfiniteScrollLink {\r\n        private THROTTLE_MILLISECONDS: number = 500;\r\n        private checkWhenEnabled = null;\r\n        private scrollContainer = null;\r\n        private immediateCheck = true;\r\n        private scrollDistance = null;\r\n        private scrollEnabled = null;\r\n        private unregisterEventListener = null;\r\n        private useDocumentBottom = false;\r\n        private windowElement = null;\r\n        private onContainerScrollThrottle: Function;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $window: ng.IWindowService,\r\n            private $interval: ng.IIntervalService,\r\n            private $scope: InfiniteScrollScope,\r\n            private $element: JQuery,\r\n            private $attrs: InfiniteScrollAttributes\r\n        ) {\r\n            this.windowElement = angular.element($window);\r\n\r\n            this.onContainerScrollThrottle = _.throttle(() => {\r\n                this.onContainerScroll();\r\n            }, this.THROTTLE_MILLISECONDS);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n                if (this.unregisterEventListener !== null) {\r\n                    this.unregisterEventListener();\r\n                    return this.unregisterEventListener = null;\r\n                }\r\n            });\r\n\r\n            $scope.$watch('pipScrollDistance', (v) => {\r\n                this.handleScrollDistance(v);\r\n            });\r\n            this.handleScrollDistance($scope.pipScrollDistance);\r\n\r\n            $scope.$watch('pipScrollDisabled', (v) => {\r\n                this.handleScrollDisabled(v);\r\n            });\r\n            this.handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\r\n                this.handleScrollUseDocumentBottom(v);\r\n            });\r\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n            this.changeContainer(this.windowElement);\r\n            if ($scope.pipScrollListenForEvent) {\r\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            $scope.$watch('pipScrollContainer', (newContainer) => {\r\n                if (newContainer != this.scrollContainer)\r\n                    this.handleScrollContainer(newContainer);\r\n            });\r\n            this.handleScrollContainer($scope.pipScrollContainer || []);\r\n\r\n            if ($attrs.pipScrollParent !== null) {\r\n                this.changeContainer(angular.element($element.parent()));\r\n            }\r\n            if ($attrs.pipScrolImmediateCheck !== null) {\r\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n            }\r\n\r\n            $interval((function () {\r\n                if (this.immediateCheck) {\r\n                    return this.onContainerScrollThrottle();\r\n                }\r\n            }), 0, 1);\r\n        }\r\n\r\n        private height(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(element.offsetHeight)) {\r\n                return element.document.documentElement.clientHeight;\r\n            } else {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        private offsetTop(element) {\r\n            if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                return;\r\n            }\r\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\r\n        }\r\n\r\n        private pageYOffset(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(window.pageYOffset)) {\r\n                return element.document.documentElement.scrollTop;\r\n            } else {\r\n                return element.ownerDocument.defaultView.pageYOffset;\r\n            }\r\n        }\r\n\r\n        private onContainerScroll() {\r\n            let containerBottom,\r\n                containerTopOffset,\r\n                elementBottom,\r\n                remaining,\r\n                shouldScroll;\r\n\r\n            if (this.scrollContainer === this.windowElement) {\r\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\r\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\r\n            } else {\r\n                containerBottom = this.height(this.scrollContainer);\r\n                containerTopOffset = 0;\r\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\r\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\r\n                }\r\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\r\n            }\r\n\r\n            if (this.useDocumentBottom) {\r\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\r\n            }\r\n\r\n            remaining = elementBottom - containerBottom;\r\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\r\n\r\n            if (shouldScroll) {\r\n                this.checkWhenEnabled = true;\r\n                if (this.scrollEnabled) {\r\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\r\n                        return this.$scope.pipInfiniteScroll();\r\n                    } else {\r\n                        return this.$scope.$apply(() => {\r\n                            this.$scope.pipInfiniteScroll();\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                return this.checkWhenEnabled = false;\r\n            }\r\n        }\r\n\r\n        private handleScrollDistance(v) {\r\n            return this.scrollDistance = parseFloat(v) || 0;\r\n        }\r\n\r\n        private handleScrollDisabled(v) {\r\n            this.scrollEnabled = !v;\r\n            if (this.scrollEnabled && this.checkWhenEnabled) {\r\n                this.checkWhenEnabled = false;\r\n                this.onContainerScrollThrottle();\r\n            }\r\n        }\r\n\r\n        private handleScrollUseDocumentBottom(v) {\r\n            return this.useDocumentBottom = v;\r\n        }\r\n\r\n        private changeContainer(newContainer) {\r\n            if (this.scrollContainer) {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            this.scrollContainer = newContainer;\r\n            if (newContainer) {\r\n                return this.scrollContainer.bind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n        }\r\n\r\n        private handleScrollContainer(newContainer) {\r\n            if ((newContainer == null) || newContainer.length === 0) {\r\n                return;\r\n            }\r\n            if (newContainer instanceof HTMLElement) {\r\n                newContainer = angular.element(newContainer);\r\n            } else if (typeof newContainer.append === 'function') {\r\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n            } else if (typeof newContainer === 'string') {\r\n                newContainer = this.$element.parents().find(newContainer);\r\n            }\r\n\r\n            if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                return this.changeContainer(newContainer);\r\n            } else {\r\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const InfiniteScroll = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $interval: ng.IIntervalService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipInfiniteScroll: '&',\r\n                pipScrollContainer: '=',\r\n                pipScrollDistance: '=',\r\n                pipScrollDisabled: '=',\r\n                pipScrollUseDocumentBottom: '=',\r\n                pipScrollListenForEvent: '@'\r\n            },\r\n            link: function (\r\n                $scope: InfiniteScrollScope,\r\n                $element: JQuery,\r\n                $attrs: InfiniteScrollAttributes\r\n            ) {\r\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipInfiniteScroll\", [])\r\n        .directive('pipInfiniteScroll', InfiniteScroll);\r\n}","{\r\n    interface SelectedAttributes extends ng.IAttributes {\r\n        pipSelected: any;\r\n        pipSelectedId: any;\r\n        pipSelect: any;\r\n        pipEnterSpacePress: any;\r\n        pipNoScroll: any;\r\n        pipSkipHidden: any;\r\n        pipTreeList: any;\r\n        pipSelectedWatch: any;\r\n    }\r\n\r\n    class SelectedLink {\r\n        private indexGetter: any;\r\n        private indexSetter: any;\r\n        private idSetter: any;\r\n        private idGetter: any;\r\n        private changeGetter: any;\r\n        private enterSpaceGetter: any;\r\n        private noScroll: any;\r\n        private modifier: any;\r\n        private className: any;\r\n        private selectedIndex: any;\r\n        private currentElementTabinex: any;\r\n        private pipSelectedWatch: any;\r\n        private isScrolled: any;\r\n        // Variables for touch functions\r\n        private touchStartX: any;\r\n        private touchStartY: any;\r\n        private trackingClick: any;\r\n        private trackingClickStart: any;\r\n        private targetElement: any;\r\n        private lastClickTime: any;\r\n        private cancelNextClick: any;\r\n        // Constants for touch functions\r\n        private touchBoundary: number = 10;\r\n        private tapdelay: number = 200;\r\n        private tapTimeout: number = 700;\r\n\r\n        constructor(\r\n            $parse: ng.IParseService,\r\n            private $mdConstant: any,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs: SelectedAttributes\r\n        ) {\r\n            //todo add stopSelect parametr to disable select\r\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\r\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\r\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\r\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\r\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\r\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\r\n            this.noScroll = $attrs.pipNoScroll;\r\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\r\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\r\n            this.selectedIndex = this.indexGetter($scope);\r\n            this.currentElementTabinex = $element.attr('tabindex');\r\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\r\n            this.isScrolled = false;\r\n\r\n            $element.attr('tabindex', this.currentElementTabinex || 0);\r\n\r\n            $element.on('click', this.className, (event) => {\r\n                this.onClickEvent(event);\r\n            });\r\n            $element.on('touchstart', this.className, (event) => {\r\n                this.onTouchStart(event);\r\n            });\r\n            $element.on('touchmove', this.className, (event) => {\r\n                this.onTouchMove(event);\r\n            });\r\n            $element.on('touchend', this.className, (event) => {\r\n                this.onTouchEnd(event);\r\n            });\r\n            $element.on('touchcancel', this.className, (event) => {\r\n                this.onTouchCancel(event);\r\n            });\r\n            $element.on('keydown', (event) => {\r\n                this.onKeyDown(event);\r\n            });\r\n            $element.on('focusin', (event) => {\r\n                this.onFocusIn(event);\r\n            });\r\n            $element.on('focusout', (event) => {\r\n                this.onFocusOut(event);\r\n            });\r\n\r\n            // Watch selected item index\r\n            if (!$attrs.pipTreeList) {\r\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\r\n                    this.selectItem({\r\n                        itemIndex: newSelectedIndex\r\n                    });\r\n                });\r\n            } else {\r\n                $scope.$watch(this.idGetter, (newSelectedId) => {\r\n                    $timeout(() => {\r\n                        this.selectItem({\r\n                            itemId: newSelectedId,\r\n                            raiseEvent: true\r\n                        });\r\n                    }, 0);\r\n                });\r\n            }\r\n\r\n            // Watch resync selection\r\n            if (this.pipSelectedWatch) {\r\n                $scope.$watch(this.pipSelectedWatch, () => {\r\n                    // Delay update to allow ng-repeat to update DOM\r\n                    $timeout(() => {\r\n                        this.selectedIndex = this.indexGetter($scope);\r\n                        this.selectItem({\r\n                            itemIndex: this.selectedIndex\r\n                        });\r\n                    }, 100);\r\n                });\r\n            }\r\n\r\n            // Select item defined by index\r\n            this.selectItem({\r\n                itemIndex: this.selectedIndex,\r\n                items: $element.find(this.className)\r\n            });\r\n        }\r\n\r\n        private selectItem(itemParams) {\r\n            if (this.isScrolled) return;\r\n            let itemIndex = itemParams.itemIndex,\r\n                itemId = itemParams.itemId,\r\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\r\n                itemsLength = items.length,\r\n                item = () => {\r\n                    if (itemParams.item) return itemParams.item;\r\n                    if (itemIndex === undefined && itemIndex === -1) {\r\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                    }\r\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                        return items[itemIndex]\r\n                    }\r\n\r\n                    return false;\r\n                },\r\n                raiseEvent = itemParams.raiseEvent;\r\n                item = item();\r\n            if (item) {\r\n                this.$element.find(this.className).removeClass('selected md-focused');\r\n                item = <any>angular.element(item)\r\n                    .addClass('selected md-focused')\r\n                    .focus();\r\n                if (!this.noScroll) this.scrollToItem(item);\r\n                if (raiseEvent) this.defineSelectedIndex(items);\r\n            }\r\n        };\r\n\r\n        private defineSelectedIndex(items) {\r\n            const oldSelectedIndex = this.selectedIndex;\r\n            this.selectedIndex = -1;\r\n            for (var index = 0; index < items.length; index++) {\r\n                if ($(items[index]).hasClass('selected')) {\r\n                    this.selectedIndex = index;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const updateIndex = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\r\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\r\n                onSelect();\r\n            };\r\n\r\n            const onSelect = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.changeGetter) {\r\n                    this.changeGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            item: selectedItem,\r\n                            index: this.selectedIndex,\r\n                            id: selectedId,\r\n                            newIndex: this.selectedIndex,\r\n                            oldIndex: oldSelectedIndex\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Execute callback to notify about item select\r\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\r\n                this.$scope.$apply(() => { updateIndex(); });\r\n            } else {\r\n                this.$scope.$apply(() => { onSelect(); });\r\n            }\r\n        };\r\n\r\n        private scrollToItem($item) {\r\n            if (this.noScroll || !$item.offset()) return;\r\n\r\n            const\r\n                containerTop = this.$element.offset().top,\r\n                containerHeight = this.$element.height(),\r\n                containerBottom = containerTop + containerHeight,\r\n                itemTop = $item.offset().top,\r\n                itemHeight = $item.outerHeight(true),\r\n                itemBottom = itemTop + itemHeight,\r\n                containerScrollTop = this.$element.scrollTop();\r\n\r\n            this.isScrolled = true;\r\n            this.$timeout(() => {\r\n                this.isScrolled = false;\r\n            }, 100);\r\n\r\n            if (containerTop > itemTop) {\r\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n            } else if (containerBottom < itemBottom) {\r\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n            }\r\n        };\r\n\r\n        private getTargetElementFromEventTarget(eventTarget) {\r\n            // On some older browsers the event target may be a text node.\r\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\r\n                return eventTarget.parentNode;\r\n            }\r\n\r\n            return eventTarget;\r\n        };\r\n\r\n        private touchHasMoved(event) {\r\n            const touch = event.changedTouches[0],\r\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\r\n\r\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        private onClickEvent(event) {\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n        }\r\n\r\n        private onTouchStart(event) {\r\n            const ev = event.originalEvent;\r\n            if (ev['targetTouches'].length > 1) {\r\n                return true;\r\n            }\r\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\r\n                touch = ev['targetTouches'][0];\r\n\r\n            this.trackingClick = true;\r\n            this.trackingClickStart = ev.timeStamp;\r\n            this.targetElement = targetElement;\r\n\r\n            this.touchStartX = touch.pageX;\r\n            this.touchStartY = touch.pageY;\r\n\r\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                //  event.preventDefault();\r\n            }*/\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchMove(event) {\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // If the touch has moved, cancel the click tracking\r\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\r\n                this.trackingClick = false;\r\n                this.targetElement = null;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchEnd(event) {\r\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\r\n\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // Prevent phantom clicks on fast double-tap \r\n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                this.cancelNextClick = true;\r\n                return true;\r\n            }\r\n\r\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\r\n                return true;\r\n            }\r\n\r\n            // Reset to prevent wrong click cancel on input \r\n            this.cancelNextClick = false;\r\n\r\n            this.lastClickTime = event.timeStamp;\r\n\r\n            newTrackingClickStart = this.trackingClickStart;\r\n            this.trackingClick = false;\r\n            this.trackingClickStart = 0;\r\n\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n\r\n            return false;\r\n        }\r\n\r\n        private onTouchCancel(event) {\r\n            this.trackingClick = false;\r\n            this.targetElement = null;\r\n        }\r\n\r\n        private onKeyDown(event) {\r\n            var keyCode = event.which || event.keyCode;\r\n\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                if (this.enterSpaceGetter) {\r\n                    this.enterSpaceGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            index: this.selectedIndex,\r\n                            item: this.$element.find('.selected')\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                // Get next selectable control index\r\n                const items = this.$element.find(this.className + this.modifier),\r\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    newSelectedIndex = this.selectedIndex + inc;\r\n\r\n                // Set next control as selected\r\n                this.selectItem({\r\n                    itemIndex: newSelectedIndex,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusIn(event) {\r\n            // Choose selected element\r\n            let items,\r\n                selectedItem = this.$element.find(this.className + '.selected');\r\n\r\n            selectedItem.addClass('md-focused');\r\n\r\n            // If there are not selected elements then pick the first one\r\n            if (selectedItem.length === 0) {\r\n                this.selectedIndex = this.indexGetter(this.$scope);\r\n                items = this.$element.find(this.className + this.modifier);\r\n                this.selectItem({\r\n                    itemIndex: this.selectedIndex || 0,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusOut(event) {\r\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\r\n        }\r\n    }\r\n\r\n    const Selected = function (\r\n        $parse: ng.IParseService,\r\n        $mdConstant: any,\r\n        $timeout: ng.ITimeoutService\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: SelectedAttributes\r\n            ) {\r\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipSelected\", [])\r\n        .directive('pipSelected', Selected);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\n\r\nexport class ShortcutItem {\r\n    // Shortcut combination\r\n    public shortcut: string;\r\n    // Target object \r\n    public target?: any;\r\n    // Target element by Id\r\n    public targetId?: string;\r\n    // Target element by class (firstelement??)\r\n    // Public targetClass?: string;\r\n    // Access function\r\n    public access?: (event: JQueryEventObject) => boolean;\r\n    // Window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public keypress?: (event: JQueryEventObject) => void;\r\n    // Default options\r\n    public options?: ShortcutOptions;    \r\n}\r\n\r\n// export class ShortcutItem extends SimpleShortcutItem {\r\n//     public shortcuts: SimpleShortcutItem[];\r\n// }\r\n\r\nexport class ShortcutsConfig {\r\n    // Global shortcut \r\n    public globalShortcuts: ShortcutItem[] = [];\r\n    // Local shortcut \r\n    public localShortcuts: ShortcutItem[] = [];\r\n    // Default options\r\n    public defaultOptions: ShortcutOptions = null;\r\n}\r\n\r\nexport interface IShortcutsService {\r\n    readonly config: ShortcutsConfig;\r\n\r\n    globalShortcuts: ShortcutItem[];\r\n    localShortcuts: ShortcutItem[];\r\n}\r\n\r\nexport interface IShortcutsProvider extends ng.IServiceProvider {\r\n    config: ShortcutsConfig;\r\n    \r\n    globalShortcuts: ShortcutItem[];\r\n    defaultOptions: ShortcutOptions;\r\n}\r\n","export class KeyboardEvent {\r\n    static Keydown: string = 'keydown';\r\n    static Keyup: string = 'keyup';\r\n    static Keypress: string = 'keypress';\r\n}\r\n\r\nexport class ShortcutOptions {\r\n    Type: KeyboardEvent;\r\n    Propagate: boolean;\r\n    DisableInInput: boolean;\r\n    Target: any; // Event target object\r\n    Keycode: number;\r\n}\r\n\r\nexport class Shortcut {\r\n    private shift_nums = {\r\n        \"`\": \"~\",\r\n        \"1\": \"!\",\r\n        \"2\": \"@\",\r\n        \"3\": \"#\",\r\n        \"4\": \"$\",\r\n        \"5\": \"%\",\r\n        \"6\": \"^\",\r\n        \"7\": \"&\",\r\n        \"8\": \"*\",\r\n        \"9\": \"(\",\r\n        \"0\": \")\",\r\n        \"-\": \"_\",\r\n        \"=\": \"+\",\r\n        \";\": \":\",\r\n        \"'\": \"\\\"\",\r\n        \",\": \"<\",\r\n        \".\": \">\",\r\n        \"/\": \"?\",\r\n        \"\\\\\": \"|\"\r\n    };\r\n\r\n    private special_keys = {\r\n        'esc': 27,\r\n        'escape': 27,\r\n        'tab': 9,\r\n        'space': 32,\r\n        'return': 13,\r\n        'enter': 13,\r\n        'backspace': 8,\r\n\r\n        'scrolllock': 145,\r\n        'scroll_lock': 145,\r\n        'scroll': 145,\r\n        'capslock': 20,\r\n        'caps_lock': 20,\r\n        'caps': 20,\r\n        'numlock': 144,\r\n        'num_lock': 144,\r\n        'num': 144,\r\n\r\n        'pause': 19,\r\n        'break': 19,\r\n\r\n        'insert': 45,\r\n        'home': 36,\r\n        'delete': 46,\r\n        'end': 35,\r\n\r\n        'pageup': 33,\r\n        'page_up': 33,\r\n        'pu': 33,\r\n\r\n        'pagedown': 34,\r\n        'page_down': 34,\r\n        'pd': 34,\r\n\r\n        'left': 37,\r\n        'up': 38,\r\n        'right': 39,\r\n        'down': 40,\r\n\r\n        'f1': 112,\r\n        'f2': 113,\r\n        'f3': 114,\r\n        'f4': 115,\r\n        'f5': 116,\r\n        'f6': 117,\r\n        'f7': 118,\r\n        'f8': 119,\r\n        'f9': 120,\r\n        'f10': 121,\r\n        'f11': 122,\r\n        'f12': 123\r\n    };\r\n\r\n    private modifiers = {\r\n        shift: { wanted: false, pressed: false },\r\n        ctrl: { wanted: false, pressed: false },\r\n        alt: { wanted: false, pressed: false },\r\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\r\n    };\r\n\r\n    public eventCallback: Function;\r\n    public target: any;\r\n    public event: KeyboardEvent;\r\n    public option: ShortcutOptions;\r\n    public shorcut: string;\r\n    public callback: Function;\r\n\r\n    public constructor(\r\n        element: any,\r\n        shorcutCombination: string,\r\n        option: ShortcutOptions,\r\n        callback: (e?: JQueryEventObject) => void\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.target = element;\r\n        this.shorcut = shorcutCombination;\r\n        this.event = option.Type;\r\n        this.option = option;\r\n        this.callback = callback;\r\n\r\n        this.eventCallback = (event: JQueryEventObject) => {\r\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\r\n            let code: number;\r\n\r\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\r\n                let element;\r\n                if (e.target) {\r\n                    element = e.target;\r\n                } else if (e.srcElement) {\r\n                    element = e.srcElement;\r\n                }\r\n\r\n                if (element.nodeType == 3) {\r\n                    element = element.parentNode;\r\n                }\r\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\r\n            }\r\n            // Find Which key is pressed\r\n            if (e.keyCode) {\r\n                code = e.keyCode;\r\n            } else if (e.which) {\r\n                code = e.which;\r\n            }\r\n\r\n            let character = String.fromCharCode(code).toLowerCase();\r\n\r\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\r\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\r\n\r\n            let keys: string[] = this.shorcut.split(\"+\");\r\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\r\n            let kp: number = 0;\r\n\r\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\r\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\r\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\r\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\r\n\r\n            let i: number = 0;\r\n            for (i = 0; i < keys.length; i++) {\r\n                let k: string = keys[i];\r\n                // Modifiers\r\n                if (k == 'ctrl' || k == 'control') {\r\n                    kp++;\r\n                    this.modifiers.ctrl.wanted = true;\r\n                } else if (k == 'shift') {\r\n                    kp++;\r\n                    this.modifiers.shift.wanted = true;\r\n                } else if (k == 'alt') {\r\n                    kp++;\r\n                    this.modifiers.alt.wanted = true;\r\n                } else if (k == 'meta') {\r\n                    kp++;\r\n                    this.modifiers.meta.wanted = true;\r\n                } else if (k.length > 1) { // If it is a special key\r\n                    if (this.special_keys[k] == code) {\r\n                        kp++;\r\n                    }\r\n                } else if (this.option.Keycode) {\r\n                    if (this.option.Keycode == code) kp++;\r\n                } else { // The special keys did not match\r\n                    if (character == k) kp++;\r\n                    else {\r\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\r\n                            character = this.shift_nums[character];\r\n                            if (character == k) {\r\n                                kp++;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (kp == keys.length &&\r\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\r\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\r\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\r\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\r\n\r\n                this.callback(e);\r\n\r\n                if (!this.option.Propagate) { // Stop the event\r\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    // e.stopPropagation works in Firefox.\r\n                    if (e.stopPropagation) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n            }\r\n            this.modifiers.ctrl.pressed = false;\r\n            this.modifiers.shift.pressed = false;\r\n            this.modifiers.alt.pressed = false;\r\n            this.modifiers.meta.pressed = false;\r\n        };\r\n    }\r\n}\r\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\r\n\r\n{\r\n    class ShortcutBindingService implements IShortcutBindingService {\r\n        private _log: ng.ILogService;\r\n        private _defaultOption: ShortcutOptions;\r\n        private _shortcuts: IKeyboardShortcuts = {};\r\n\r\n        public constructor(\r\n            $log: ng.ILogService,\r\n            option: ShortcutOptions\r\n        ) {\r\n            \"ngInject\";\r\n            this._log = $log;\r\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\r\n        }\r\n\r\n        private getDefaultOption(): ShortcutOptions {\r\n            let defaultOption: ShortcutOptions = {\r\n                Type: KeyboardEvent.Keydown,\r\n                Propagate: false,\r\n                DisableInInput: false,\r\n                Target: document,\r\n                Keycode: null\r\n            };\r\n\r\n            return defaultOption;\r\n        }\r\n\r\n        public get shortcuts(): IKeyboardShortcuts {\r\n            return this._shortcuts;\r\n        }\r\n\r\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\r\n            this.remove(shortcut);\r\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\r\n            let shortcutCombination: string = shortcut.toLowerCase();\r\n            let element = shortcutOption.Target;\r\n\r\n            if (typeof shortcutOption.Target == 'string') {\r\n                element = document.getElementById(shortcutOption.Target);\r\n            } else {\r\n                element = shortcutOption.Target;\r\n            }\r\n\r\n            if (!element) {\r\n                this._log.error('Register shortcut: element undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!shortcutCombination) {\r\n                this._log.error('Register shortcut: shortcut combination undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!callback) {\r\n                this._log.error('Register shortcut: shorcut callback undentified!');\r\n                return;\r\n            }\r\n\r\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\r\n\r\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\r\n\r\n            //Attach the function with the event\r\n            if (element.addEventListener) {\r\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\r\n            } else if (element.attachEvent) {\r\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            } else {\r\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            }\r\n        }\r\n\r\n        public remove(shorcut: string): void {\r\n            let shortcutCombination = shorcut.toLowerCase();\r\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\r\n\r\n            delete(this._shortcuts[shortcutCombination])\r\n            if (!binding) return;\r\n\r\n            let type = binding.event;\r\n            let element = binding.target;\r\n            let callback = binding.eventCallback;\r\n\r\n            if (element.detachEvent) {\r\n                element.detachEvent('on' + type, callback);\r\n            } else if (element.removeEventListener) {\r\n                element.removeEventListener(type, callback, false);\r\n            } else {\r\n                // element['on' + type] = false;\r\n                element.off(type, callback);\r\n            }\r\n        }\r\n    }\r\n\r\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\r\n        private _service: ShortcutBindingService;\r\n        private _option: ShortcutOptions;\r\n\r\n        public get option(): ShortcutOptions {\r\n            return this._option;\r\n        }\r\n\r\n        public set option(value: ShortcutOptions) {\r\n            this._option = value || new ShortcutOptions();\r\n        }\r\n\r\n        public $get(\r\n            $log: ng.ILogService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new ShortcutBindingService($log, this._option);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\r\n\r\ninterface ShortcutAttributes extends ng.IAttributes {\r\n    pipShortcutAction: any;\r\n    pipShortcutName: any;\r\n    pipShorcutOptions: ShortcutOptions;\r\n}\r\n\r\nclass ShortcutController implements ng.IController  {\r\n    private actionShortcuts: Function;\r\n    private nameShortcuts: string;\r\n    private options: ShortcutOptions;\r\n\r\n    constructor(\r\n        $element: JQuery,\r\n        $attrs: ShortcutAttributes,\r\n        $scope: ng.IScope,\r\n        $log: ng.ILogService,\r\n        $parse: ng.IParseService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if ($attrs.pipShortcutAction) {\r\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\r\n            // this.actionShortcuts($scope, {$event: {}});\r\n        } else {\r\n            $log.error('Shortcut action does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\r\n            this.nameShortcuts = $attrs.pipShortcutName;\r\n        } else {\r\n            $log.error('Shortcut name does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\r\n        this.options.Target = $element;\r\n        \r\n        // Registration of keybord shortcuts\r\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\r\n            this.actionShortcuts($scope, {$event: {'e': e}});          \r\n        }, this.options);\r\n    }\r\n\r\n    private keypressShortcut(action) {\r\n        this.actionShortcuts();\r\n    }\r\n\r\n    public $onInit() {}\r\n}\r\n\r\n// Prevent junk from going into typescript definitions\r\n{\r\n    const shortcutsDirective = function(): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,            \r\n            controller: ShortcutController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .directive('pipShortcut', shortcutsDirective);\r\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\r\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\r\n\r\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\r\n\r\nclass ShortcutsService implements IShortcutsService {\r\n    private _oldConfig: ShortcutsConfig;\r\n    private _config: ShortcutsConfig;\r\n\r\n    public constructor(\r\n        config: ShortcutsConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService, \r\n        private $location: ng.ILocationService, \r\n        private $injector: ng.auto.IInjectorService,\r\n        private pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n        this._oldConfig = _.cloneDeep(this._config);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this._config.globalShortcuts);\r\n        this.addShortcuts(this._config.localShortcuts);        \r\n    }\r\n\r\n    // Describe private functions\r\n    private sendChangeEvent() {\r\n        // Remove shortcuts\r\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\r\n        this.removeShortcuts(this._oldConfig.localShortcuts);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this.config.globalShortcuts);\r\n        this.addShortcuts(this.config.localShortcuts);\r\n\r\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\r\n\r\n        // Save current config to oldConfig\r\n        this._oldConfig = _.cloneDeep(this.config);\r\n    }\r\n\r\n    private removeShortcuts(collection: ShortcutItem[]): void {\r\n        _.each(collection, (k) => {\r\n            this.pipShortcutBinding.remove(k.shortcut);\r\n        });\r\n    }\r\n\r\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\r\n        if (item.access && _.isFunction(item.access)) {\r\n            if (!item.access(event)) {\r\n                return;\r\n            }\r\n        } \r\n\r\n        if (item.keypress) {\r\n            item.keypress(event);\r\n            return;\r\n        }\r\n\r\n        if (item.href) {\r\n            this.$window.location.href = item.href;\r\n            return;\r\n        }\r\n\r\n        if (item.url) {\r\n            this.$location.url(item.url);\r\n            return;\r\n        }\r\n\r\n        if (item.state) {\r\n            if (this.$injector.has('$state')) {\r\n                var $state = this.$injector.get('$state');\r\n                $state['go'](item.state, item.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (item.event) {\r\n            this.$rootScope.$broadcast(item.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\r\n        }\r\n    }\r\n\r\n    private addShortcuts(collection: ShortcutItem[]): void {\r\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\r\n        \r\n        _.each(collection, (k) => {\r\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\r\n            let target: any;\r\n\r\n            target = k.target ? k.target : k.targetId;\r\n            if (target) { \r\n                option.Target = target;\r\n            }\r\n            // Registration of keyboard shortcut\r\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\r\n                this.keypressShortcut(k, e);        \r\n            }, option);              \r\n        });\r\n    }\r\n\r\n    // Describe public functions \r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get localShortcuts(): ShortcutItem[] {\r\n        return this._config.localShortcuts;\r\n    }\r\n\r\n    public set localShortcuts(value: ShortcutItem[]) {\r\n        this._config.localShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n}\r\n\r\nclass ShortcutsProvider implements IShortcutsProvider {\r\n    private _config: ShortcutsConfig = new ShortcutsConfig();\r\n    private _service: ShortcutsService;\r\n\r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ShortcutsConfig) {\r\n        this._config = value || new ShortcutsConfig();\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService, \r\n        $window: ng.IWindowService, \r\n        $location: ng.ILocationService, \r\n        $injector: ng.auto.IInjectorService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipShortcuts')\r\n    .provider('pipShortcuts', ShortcutsProvider);\r\n\r\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\r\n\r\nimport './ShortcutBindingService';\r\nimport './ShortcutsService';\r\nimport './ShortcutDirective';\r\n\r\nexport * from './IShortcutsService';\r\nexport * from './IShortcutBindingService';\r\nexport * from './ShortcutsService';\r\nexport * from './ShortcutBindingService';","{\r\n    interface UnsavedChangesScope extends ng.IScope {\r\n        unsavedChangesAvailable: Function;\r\n        unsavedChangesMessage: string;\r\n        cancelLeave: Function;\r\n        afterLeave: Function;\r\n    }\r\n\r\n    class UnsavedChangesLink {\r\n        constructor(\r\n            $scope: UnsavedChangesScope,\r\n            $window: ng.IWindowService\r\n        ) {\r\n            $window.onbeforeunload = () => {\r\n                if ($scope.unsavedChangesAvailable()) {\r\n                    return $scope.unsavedChangesMessage;\r\n                }\r\n            };\r\n\r\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\r\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\r\n                    event.preventDefault();\r\n                } else {\r\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                }\r\n            });\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $window.onbeforeunload = null;\r\n                unbindFunc();\r\n            });\r\n        }\r\n    }\r\n\r\n    const UnsavedChanges = function ($window: ng.IWindowService) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave',\r\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\r\n            },\r\n            link: function ($scope: UnsavedChangesScope) {\r\n                new UnsavedChangesLink($scope, $window);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module(\"pipUnsavedChanges\", [])\r\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\r\n}","{\r\n    interface IColorPickerBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        colors: any;\r\n        currentColor: any;\r\n        colorChange: any;\r\n    }\r\n\r\n    interface IColorPickerAttributes extends ng.IAttributes {\r\n        class: string;\r\n    }\r\n\r\n    const ColorPickerBindings: IColorPickerBindings = {\r\n        ngDisabled: '<?ngDisabled',\r\n        colors: '<pipColors',\r\n        currentColor: '=ngModel',\r\n        colorChange: '&?ngChange'\r\n    }\r\n\r\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\r\n        currentColor: any;\r\n\r\n        ngDisabled: ng.IChangesObject < boolean > ;\r\n        colors: ng.IChangesObject < string[] > ;\r\n    }\r\n\r\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n    class ColorPickerController implements IColorPickerBindings {\r\n        public class: string;\r\n        public colors: string[];\r\n        public currentColor: string;\r\n        public currentColorIndex: number;\r\n        public ngDisabled: boolean;\r\n        public colorChange: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            $attrs: IColorPickerAttributes,\r\n            private $timeout: ng.ITimeoutService\r\n        ) { \r\n            \"ngInject\";\r\n            this.class = $attrs.class || ''; \r\n        }\r\n\r\n        public $onChanges(changes: ColorPickerChanges) {\r\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\r\n                changes.colors.currentValue : DEFAULT_COLORS;\r\n            this.currentColor = this.currentColor || this.colors[0];\r\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\r\n\r\n            this.ngDisabled = changes.ngDisabled.currentValue;\r\n        }\r\n\r\n        public selectColor(index: number) {\r\n            if (this.ngDisabled) {\r\n                return;\r\n            }\r\n            this.currentColorIndex = index;\r\n            this.currentColor = this.colors[this.currentColorIndex];\r\n            this.$timeout(() => {\r\n                this.$scope.$apply();\r\n            });\r\n\r\n            if (this.colorChange) {\r\n                this.colorChange();\r\n            }\r\n        };\r\n\r\n        public enterSpacePress(event): void {\r\n            this.selectColor(event.index);\r\n        };\r\n\r\n    }\r\n\r\n    const pipColorPicker: ng.IComponentOptions = {\r\n        bindings: ColorPickerBindings,\r\n        templateUrl: 'color_picker/ColorPicker.html',\r\n        controller: ColorPickerController\r\n    }\r\n\r\n    angular\r\n        .module('pipColorPicker', ['pipControls.Templates'])\r\n        .component('pipColorPicker', pipColorPicker);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class pipImageSliderController implements ng.IController {\r\n        private _blocks: any[];\r\n        private _index: number = 0;\r\n        private _newIndex: number;\r\n        private _direction: string;\r\n        private _type: string;\r\n        private DEFAULT_INTERVAL: number = 4500;\r\n        private _interval: number | string;\r\n        private _timePromises;\r\n        private _throttled: Function;\r\n\r\n        public swipeStart: number = 0;\r\n        public sliderIndex: number;\r\n        public slideTo: Function;\r\n        public type: Function;\r\n        public interval: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs,\r\n            private $parse: ng.IParseService,\r\n            private $timeout: angular.ITimeoutService,\r\n            private $interval: angular.IIntervalService,\r\n            private pipImageSlider: IImageSliderService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\r\n            this._type = this.type();\r\n            this._interval = this.interval();\r\n            this.slideTo = this.slideToPrivate;\r\n\r\n            $element.addClass('pip-image-slider');\r\n            $element.addClass('pip-animation-' + this._type);\r\n\r\n            this.setIndex();\r\n\r\n            $timeout(() => {\r\n                this._blocks = <any>$element.find('.pip-animation-block');\r\n                if (this._blocks.length > 0) {\r\n                    $(this._blocks[0]).addClass('pip-show');\r\n                }\r\n            });\r\n\r\n            this.startInterval();\r\n\r\n            this._throttled = _.throttle(() => {\r\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\r\n                this._index = this._newIndex;\r\n                this.setIndex();\r\n            }, 700);\r\n\r\n            if ($attrs.id) {\r\n                pipImageSlider.registerSlider($attrs.id, $scope)\r\n            }\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.stopInterval();\r\n                pipImageSlider.removeSlider($attrs.id);\r\n            });\r\n\r\n        }\r\n\r\n        $onInit() { }\r\n\r\n        public nextBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n            this._direction = 'next';\r\n            this._throttled();\r\n        }\r\n\r\n        public prevBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\r\n            this._direction = 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private slideToPrivate(nextIndex: number) {\r\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\r\n                return;\r\n            }\r\n\r\n            this.restartInterval();\r\n            this._newIndex = nextIndex;\r\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private setIndex() {\r\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\r\n        }\r\n\r\n        private startInterval() {\r\n            this._timePromises = this.$interval(() => {\r\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n                this._direction = 'next';\r\n                this._throttled();\r\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\r\n        }\r\n\r\n        private stopInterval() {\r\n            this.$interval.cancel(this._timePromises);\r\n        }\r\n\r\n        private restartInterval() {\r\n            this.stopInterval();\r\n            this.startInterval();\r\n        }\r\n    }\r\n\r\n    const ImageSlider = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                sliderIndex: '=pipImageIndex',\r\n                type: '&pipAnimationType',\r\n                interval: '&pipAnimationInterval'\r\n            },\r\n            bindToController: true,\r\n            controller: pipImageSliderController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular.module('pipImageSlider')\r\n        .directive('pipImageSlider', ImageSlider);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class ImageSliderService implements IImageSliderService {\r\n        private ANIMATION_DURATION: number = 550;\r\n        private _sliders: Object = {};\r\n\r\n        constructor(\r\n            private $timeout: angular.ITimeoutService\r\n        ) { \"ngInject\"; }\r\n\r\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\r\n            this._sliders[sliderId] = sliderScope;\r\n        }\r\n\r\n        public removeSlider(sliderId: string): void {\r\n            delete this._sliders[sliderId];\r\n        }\r\n\r\n        public getSliderScope(sliderId: string) {\r\n            return this._sliders[sliderId];\r\n        }\r\n\r\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            nextBlock.addClass('pip-next');\r\n\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\r\n            const prevBlock = $(blocks[oldIndex]),\r\n                blockIndex = nextIndex,\r\n                nextBlock = $(blocks[blockIndex]);\r\n\r\n            if (type === 'carousel') {\r\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                if (direction && (direction === 'prev' || direction === 'next')) {\r\n                    if (direction === 'prev') {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                } else {\r\n                    if (nextIndex && nextIndex < oldIndex) {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                }\r\n            } else {\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipImageSlider.Service', [])\r\n        .service('pipImageSlider', ImageSliderService);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderButtonController implements ng.IController {\r\n        public direction: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            \"ngInject\";\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || !this.direction()) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\r\n            });\r\n        }\r\n\r\n        $onInit() { }\r\n    }\r\n\r\n    const SliderButton = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                direction: '&pipButtonType',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderButtonController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderButton', ['pipImageSlider.Service'])\r\n        .directive('pipSliderButton', SliderButton);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderIndicatorController implements ng.IController {\r\n        public slideTo: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            \"ngInject\";\r\n            $element.css('cursor', 'pointer');\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || this.slideTo() === undefined) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\r\n            });\r\n        }\r\n\r\n        $onInit() { }\r\n    }\r\n\r\n    const SliderIndicator = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                slideTo: '&pipSlideTo',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderIndicatorController\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderIndicator', ['pipImageSlider.Service'])\r\n        .directive('pipSliderIndicator', SliderIndicator);\r\n}","angular\r\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\nimport './ImageSlider';\r\nimport './ImageSliderService';\r\nimport './SliderButton';\r\nimport './SliderIndicator';\r\n\r\nexport * from './IImageSliderService';","declare var marked: any;\r\n\r\n{\r\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\r\n        \"ngInject\";\r\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            (<any>pipTranslate).setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            (<any>pipTranslate).setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\r\n                'checklist': 'Список',\r\n                'documents': 'Документы',\r\n                'pictures': 'Изображения',\r\n                'location': 'Местонахождение',\r\n                'time': 'Время'\r\n            });\r\n        }\r\n    }\r\n\r\n    interface IMarkdownBindings {\r\n        [key: string]: any;\r\n\r\n        text: any;\r\n        isList: any;\r\n        clamp: any;\r\n        rebind: any;\r\n    }\r\n\r\n    const MarkdownBindings: IMarkdownBindings = {\r\n        text: '<pipText',\r\n        isList: '<?pipList',\r\n        clamp: '<?pipLineCount',\r\n        rebind: '<?pipRebind'\r\n    }\r\n\r\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        text: ng.IChangesObject < string > ;\r\n        isList: ng.IChangesObject < boolean > ;\r\n        clamp: ng.IChangesObject < number | string > ;\r\n        rebind: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class MarkdownController implements IMarkdownBindings, ng.IController {\r\n        private _pipTranslate;\r\n\r\n        public text: string;\r\n        public isList: boolean;\r\n        public clamp: string | number;\r\n        public rebind: boolean;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $element: JQuery,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            \"ngInject\";\r\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        }\r\n\r\n        public $postLink() {\r\n            // Fill the text\r\n            this.bindText(this.text);\r\n\r\n            this.$scope.$on('pipWindowResized', function () {\r\n                if (this.bindText) this.bindText(this._text(this._$scope));\r\n            });\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-markdown');\r\n\r\n        }\r\n\r\n        public $onChanges(changes: MarkdownChanges) {\r\n            const newText = changes.text.currentValue;\r\n\r\n            if (this.rebind) {\r\n                this.text = newText;\r\n                this.bindText(this.text);\r\n            }\r\n        }\r\n\r\n        private describeAttachments(array) {\r\n            var attachString = '',\r\n                attachTypes = [];\r\n\r\n            _.each(array, function (attach) {\r\n                if (attach.type && attach.type !== 'text') {\r\n                    if (attachString.length === 0 && this._pipTranslate) {\r\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                    }\r\n\r\n                    if (attachTypes.indexOf(attach.type) < 0) {\r\n                        attachTypes.push(attach.type);\r\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                        if (this._pipTranslate)\r\n                            attachString += this._pipTranslate.translate(attach.type);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return attachString;\r\n        }\r\n\r\n        private bindText(value) {\r\n            let textString, isClamped, height, options, obj;\r\n\r\n            if (_.isArray(value)) {\r\n                obj = _.find(value, function (item: any) {\r\n                    return item.type === 'text' && item.text;\r\n                });\r\n\r\n                textString = obj ? obj.text : this.describeAttachments(value);\r\n            } else {\r\n                textString = value;\r\n            }\r\n\r\n            isClamped = this.clamp && _.isNumber(this.clamp);\r\n            isClamped = isClamped && textString && textString.length > 0;\r\n            options = {\r\n                gfm: true,\r\n                tables: true,\r\n                breaks: true,\r\n                sanitize: true,\r\n                pedantic: true,\r\n                smartLists: true,\r\n                smartypents: false\r\n            };\r\n            textString = marked(textString || '', options);\r\n            if (isClamped) {\r\n                height = 1.5 * Number(this.clamp);\r\n            }\r\n            // Assign value as HTML\r\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\r\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\r\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\r\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n            this.$element.find('a').attr('target', 'blank');\r\n            if (!this.isList && isClamped) {\r\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\r\n            }\r\n        }\r\n    }\r\n    const MarkdownComponent = {\r\n        controller: MarkdownController,\r\n        bindings: MarkdownBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipMarkdown', ['ngSanitize'])\r\n        .run(ConfigTranslations)\r\n        .component('pipMarkdown', MarkdownComponent);\r\n}","{\r\n    interface IPopoverBindings {\r\n        [key: string]: any;\r\n\r\n        params: any;\r\n    }\r\n\r\n    const PopoverBindings: IPopoverBindings = {\r\n        params: '<pipParams'\r\n    }\r\n\r\n    class PopoverController implements IPopoverBindings, ng.IController {\r\n        private backdropElement;\r\n        private content;\r\n        public params: any;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $compile: ng.ICompileService,\r\n            private $templateRequest: ng.ITemplateRequestService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.backdropElement = $('.pip-popover-backdrop');\r\n            this.backdropElement.on('click keydown scroll', () => {\r\n                this.backdropClick();\r\n            });\r\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n            $timeout(() => {\r\n                this.position();\r\n                angular.extend($scope, this.params.locals);\r\n\r\n                if (this.params.template) {\r\n                    this.content = $compile(this.params.template)($scope);\r\n                    $element.find('.pip-popover').append(this.content);\r\n\r\n                    this.init();\r\n                } else {\r\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\r\n                        this.content = $compile(html)($scope);\r\n                        $element.find('.pip-popover').append(this.content);\r\n\r\n                        this.init();\r\n                    });\r\n                }\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.calcHeight();\r\n            }, 200);\r\n            $rootScope.$on('pipPopoverResize', () => {\r\n                this.onResize()\r\n            });\r\n            $(window).resize(() => {\r\n                this.onResize()\r\n            });\r\n        }\r\n\r\n        $onInit() { }\r\n\r\n        public backdropClick() {\r\n            if (this.params.cancelCallback) {\r\n                this.params.cancelCallback();\r\n            }\r\n            this.closePopover();\r\n        }\r\n\r\n        public closePopover() {\r\n            this.backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                this.backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public onPopoverClick(event) {\r\n            event.stopPropagation();\r\n        }\r\n\r\n        private init() {\r\n            this.backdropElement.addClass('opened');\r\n            $('.pip-popover-backdrop').focus();\r\n            if (this.params.timeout) {\r\n                this.$timeout(function () {\r\n                    this.closePopover();\r\n                }, this.params.timeout);\r\n            }\r\n        }\r\n\r\n        private position() {\r\n            if (this.params.element) {\r\n                let element = $(this.params.element),\r\n                    pos = element.offset(),\r\n                    width = element.width(),\r\n                    height = element.height(),\r\n                    docWidth = $(document).width(),\r\n                    docHeight = $(document).height(),\r\n                    popover = this.backdropElement.find('.pip-popover');\r\n\r\n                if (pos) {\r\n                    popover\r\n                        .css('max-width', docWidth - (docWidth - pos.left))\r\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                        .css('left', pos.left - popover.width() + width / 2)\r\n                        .css('top', pos.top + height + 16);\r\n                }\r\n            }\r\n        }\r\n\r\n        private onResize() {\r\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n            this.position();\r\n            this.calcHeight();\r\n        }\r\n\r\n        private calcHeight() {\r\n            if (this.params.calcHeight === false) {\r\n                return;\r\n            }\r\n            const popover = this.backdropElement.find('.pip-popover'),\r\n                title = popover.find('.pip-title'),\r\n                footer = popover.find('.pip-footer'),\r\n                content = popover.find('.pip-content'),\r\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n        }\r\n    }\r\n\r\n    const Popover: ng.IComponentOptions = {\r\n        bindings: PopoverBindings,\r\n        templateUrl: 'popover/Popover.html',\r\n        controller: PopoverController\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover')\r\n        .component('pipPopover', Popover);\r\n}","import { IPopoverService } from './IPopoverService';\r\n\r\n{\r\n    interface PopoverTemplateScope extends ng.IScope {\r\n        params ? : any;\r\n        locals ? : any;\r\n    }\r\n\r\n    class PopoverService implements IPopoverService {\r\n        private popoverTemplate: string;\r\n\r\n        constructor(\r\n            private $compile: ng.ICompileService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService\r\n        ) {\r\n            \"ngInject\";\r\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n        }\r\n\r\n        public show(p: Object) {\r\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\r\n\r\n            element = $('body');\r\n            if (element.find('md-backdrop').length > 0) {\r\n                return;\r\n            }\r\n            this.hide();\r\n            scope = this.$rootScope.$new();\r\n            params = p && _.isObject(p) ? p : {};\r\n            scope.params = params;\r\n            scope.locals = params.locals;\r\n            content = this.$compile(this.popoverTemplate)(scope);\r\n            element.append(content);\r\n        }\r\n\r\n        public hide() {\r\n            const backdropElement = $('.pip-popover-backdrop');\r\n            backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public resize() {\r\n            this.$rootScope.$broadcast('pipPopoverResize');\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover.Service', [])\r\n        .service('pipPopoverService', PopoverService);\r\n}","angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\nimport './Popover';\r\nimport './PopoverService';\r\n\r\nexport * from './IPopoverService';","{\r\n    interface IRoutingBindings {\r\n        [key: string]: any;\r\n\r\n        logoUrl: any;\r\n        showProgress: any;\r\n    }\r\n\r\n    const RoutingBindings: IRoutingBindings = {\r\n        showProgress: '&',\r\n        logoUrl: '@'\r\n    }\r\n\r\n    class RoutingController implements ng.IController, IRoutingBindings {\r\n        private _image: any;\r\n\r\n        public logoUrl: string;\r\n        public showProgress: Function;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            private $element: JQuery\r\n        ) { \"ngInject\"; }\r\n\r\n        public $postLink() {\r\n            this._image = this.$element.find('img');\r\n            this.loadProgressImage();\r\n        }\r\n\r\n        public loadProgressImage() {\r\n            if (this.logoUrl) {\r\n                this._image.attr('src', this.logoUrl);\r\n            }\r\n        }\r\n    }\r\n\r\n    const RoutingProgress: ng.IComponentOptions = {\r\n        bindings: RoutingBindings,\r\n        templateUrl: 'progress/RoutingProgress.html',\r\n        controller: RoutingController\r\n    }\r\n\r\n    angular\r\n        .module('pipRoutingProgress', ['ngMaterial'])\r\n        .component('pipRoutingProgress', RoutingProgress);\r\n}","export class Toast {\r\n    type: string;\r\n    id: string;\r\n    error: any;\r\n    message: string;\r\n    actions: string[];\r\n    duration: number;\r\n    successCallback: Function;\r\n    cancelCallback: Function\r\n}\r\n","import { Toast } from './Toast';\nimport { IToastService } from './IToastService';\n\n{\n    class ToastController {\n        private _pipErrorDetailsDialog;\n\n        public message: string;\n        public actions: string[];\n        public actionLenght: number;\n        public showDetails: boolean;\n\n        constructor(\n            private $mdToast: angular.material.IToastService,\n            public toast: Toast,\n            $injector: ng.auto.IInjectorService\n        ) {\n            \"ngInject\";\n\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\n                $injector.get('pipErrorDetailsDialog') : null;\n            this.message = toast.message;\n            this.actions = toast.actions;\n\n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n        }\n\n        public onDetails(): void {\n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onMessageClick(): void {\n            if (this.toast.type !== 'clickable_error' || !this.showDetails) return;\n            \n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onAction(action): void {\n            this.$mdToast.hide({\n                action: action,\n                id: this.toast.id,\n                message: this.message\n            });\n        }\n    }\n\n    class ToastService implements IToastService {\n        private SHOW_TIMEOUT: number = 20000;\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n        private toasts: Toast[] = [];\n        private currentToast: any;\n        private sounds: any = {};\n\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            private $mdToast: angular.material.IToastService\n        ) {\n            \"ngInject\";\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\n        }\n\n        public showNextToast(): void {\n            let toast: Toast;\n\n            if (this.toasts.length > 0) {\n                toast = this.toasts[0];\n                this.toasts.splice(0, 1);\n                this.showToast(toast);\n            }\n        }\n\n        // Show toast\n        public showToast(toast: Toast): void {\n            this.currentToast = toast;\n\n            this.$mdToast.show({\n                    templateUrl: 'toast/Toast.html',\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: ToastController,\n                    controllerAs: 'vm',\n                    locals: {\n                        toast: this.currentToast,\n                        sounds: this.sounds\n                    }\n                })\n                .then(\n                    (action: string) => {\n                        this.showToastOkResult(action);\n                    },\n                    (action: string) => {\n                        this.showToastCancelResult(action);\n                    }\n                );\n        }\n\n        private showToastCancelResult(action: string): void {\n            if (this.currentToast && this.currentToast.cancelCallback) {\n                this.currentToast.cancelCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        private showToastOkResult(action: string): void {\n            if (this.currentToast && this.currentToast.successCallback) {\n                this.currentToast.successCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        public addToast(toast): void {\n            if (this.currentToast && toast.type !== 'error') {\n                this.toasts.push(toast);\n            } else {\n                this.showToast(toast);\n            }\n        }\n\n        public removeToasts(type: string): void {\n            const result: any[] = [];\n            _.each(this.toasts, (toast) => {\n                if (!toast.type || toast.type !== type) {\n                    result.push(toast);\n                }\n            });\n            this.toasts = _.cloneDeep(result);\n        }\n\n        public removeToastsById(id: string): void {\n            _.remove(this.toasts, {\n                id: id\n            });\n        }\n\n        public getToastById(id: string): Toast {\n            return _.find(this.toasts, {\n                id: id\n            });\n        }\n\n        public onStateChangeSuccess() {}\n\n        public onClearToasts(): void {\n            this.clearToasts(null);\n        }\n\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n            this.addToast({\n                id: id || null,\n                type: 'notification',\n                message: message,\n                actions: actions || ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback,\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n            });\n        }\n\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\n            this.addToast({\n                id: id || null,\n                type: 'message',\n                message: message,\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n        \n        public showClickableError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'clickable_error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public hideAllToasts(): void {\n            this.$mdToast.cancel();\n            this.toasts = [];\n        }\n\n        public clearToasts(type ? : string) {\n            if (type) {\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                this.removeToasts(type);\n            } else {\n                this.$mdToast.cancel();\n                this.toasts = [];\n            }\n        }\n\n    }\n\n    angular\n        .module('pipToasts')\n        .service('pipToasts', ToastService);\n}","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/ColorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/Popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/RoutingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/Toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\' || vm.toast.type==\\'clickable_error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\" ng-class=\"{\\'clickable\\': vm.showDetails && vm.toast.type==\\'clickable_error\\' }\" ng-click=\"vm.onMessageClick()\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || ((vm.toast.type==\\'error\\' || vm.toast.type==\\'clickable_error\\') && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\r\n\r\nimport './ToastService';\r\nimport './Toast';\r\n\r\nexport * from './IToastService';","{\r\n    interface ITagList {\r\n        tags: string[];\r\n        type: string;\r\n        typeLocal: string;\r\n    }\r\n\r\n    class TagListController implements ITagList {\r\n        public rebind: string;\r\n\r\n        public tags: string[];\r\n        public type: string;\r\n        public typeLocal: string;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService\r\n        ) {\r\n\r\n            // Set tags\r\n            $element.css('display', 'block');\r\n            $element.addClass('pip-tag-list');\r\n        }\r\n\r\n        private toBoolean(value: string): boolean {\r\n            if (_.isNull(value) || _.isUndefined(value)) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TagListChanges) {\r\n            if (this.rebind && changes.tags) {\r\n                this.tags = changes.tags.currentValue;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    interface ITagListBindings {\r\n        [key: string]: any;\r\n\r\n        tags: any,\r\n        type: any,\r\n        typeLocal: any,\r\n        rebuid: any\r\n    }\r\n\r\n    const TagListBindings: ITagListBindings = {\r\n        tags: '<pipTags',\r\n        type: '<pipType',\r\n        typeLocal: '<pipTypeLocal',\r\n        rebuid: '<pipRebind'\r\n    }\r\n\r\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        tags: ng.IChangesObject<string[]>;\r\n        type: ng.IChangesObject<string>;\r\n        typeLocal: ng.IChangesObject<string>;\r\n        rebuid: ng.IChangesObject<boolean>\r\n    }\r\n\r\n    const TagList = {\r\n        bindings: TagListBindings,\r\n        templateUrl: 'tag_list/TagList.html',\r\n        controller: TagListController\r\n    }\r\n\r\n    angular\r\n        .module('pipTagList', ['pipList.Translate'])\r\n        .component('pipTagList', TagList)\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","\r\n(() => {\r\n    interface IDateBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any,\r\n        disabled: any,\r\n        model: any,\r\n        ngChange: any\r\n    }\r\n\r\n    const DateBindings: IDateBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '<ngModel',\r\n        ngChange: '<'\r\n    }\r\n\r\n    class DateChanges implements ng.IOnChangesObject, IDateBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => boolean>;\r\n        model: ng.IChangesObject<Date>;\r\n        ngChange: ng.IChangesObject<(date: Date) => void>;\r\n    }\r\n\r\n\r\n    class DateController {\r\n        private value: any;\r\n        private localeDate: moment.MomentLanguageData = moment.localeData();\r\n        private momentMonths: any[];\r\n        private momentDays: any[];\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public timeMode: string;\r\n        public day: number;\r\n        public month: number;\r\n        public year: number;\r\n\r\n        public model: Date;\r\n        public ngChange: (date: Date) => void;\r\n\r\n        public days: number[];\r\n        public months: any[];\r\n        public years: number[];\r\n        public disabled: () => boolean;\r\n        public disableControls: boolean;\r\n\r\n        constructor(\r\n            $injector: angular.auto.IInjectorService,\r\n            $scope: ng.IScope) {\r\n            \"ngInject\";\r\n            this.momentMonths = angular.isArray(this.localeDate['_months']) ? this.localeDate['_months'] : this.localeDate['_months'].format;\r\n            this.momentDays = angular.isArray(this.localeDate['_weekdays']) ? this.localeDate['_weekdays'] : this.localeDate['_weekdays'].format;\r\n            this.momentShortDays = this.localeDate['_weekdaysMin'];\r\n            this.momentFirstDayOfWeek = this.localeDate['_week'].dow;\r\n\r\n            let value = this.model ? _.isDate(this.model) ? this.model : new Date(this.model) : null;\r\n            this.day = value ? value.getDate() : null;\r\n            this.month = value ? value.getMonth() + 1 : null;\r\n            this.year = value ? value.getFullYear() : null;\r\n\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.years = this.yearList();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateChanges) {\r\n            if (changes.model && changes.model.currentValue) {\r\n                this.model = changes.model.currentValue;\r\n                this.getValue(this.model);\r\n            }\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number = 31, days: number[] = [];\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n            } else {\r\n                if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n            }\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList(): number[] {\r\n            let currentYear: number = new Date().getFullYear(),\r\n                startYear: number = this.timeMode === 'future' ? currentYear : currentYear - 100,\r\n                endYear: number = this.timeMode === 'past' ? currentYear : currentYear + 100,\r\n                years = [];\r\n\r\n            if (this.timeMode === 'past') {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            if (this.days.length !== days.length) {\r\n                if (this.day > days.length) {\r\n                    this.day = days.length;\r\n                }\r\n\r\n                this.days = days;\r\n            }\r\n        }\r\n\r\n        private getValue(v: any) {\r\n            let value: Date = v ? _.isDate(v) ? v : new Date(v) : null,\r\n                day: number = value ? value.getDate() : null,\r\n                month: number = value ? value.getMonth() + 1 : null,\r\n                year: number = value ? value.getFullYear() : null;\r\n\r\n            // Update day list if month and year were changed\r\n            if (this.month !== month && this.year !== year) {\r\n                this.days = this.dayList(this.month, this.year);\r\n            }\r\n\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n        }\r\n\r\n        public setValue() {\r\n            let value: Date;\r\n\r\n            if (this.day && this.month && this.year) {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                this.model = value;\r\n                this.ngChange(this.model);\r\n            }\r\n        }\r\n\r\n        public onMonthChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n    }\r\n\r\n    const DateComponent: ng.IComponentOptions = {\r\n        bindings: DateBindings,\r\n        templateUrl: 'date/Date.html',\r\n        controller: DateController\r\n    }\r\n\r\n    angular\r\n        .module('pipDate', ['pipDates.Templates'])\r\n        .component('pipDate', DateComponent)\r\n})();\r\n\r\n","import { DateRangeType, IDateConvertService, IDateConvertProvider } from './IDateConvertService';\r\n\r\n(() => {\r\n    class DateConvert implements IDateConvertService {\r\n        protected _momentRanged: string[] = DateRangeType.All;\r\n        protected _defaultFormat: string = 'LL';\r\n        private _defaultTimeZoneOffset: number;\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._defaultTimeZoneOffset = value;\r\n        }\r\n\r\n        private isUndefinedOrNull(date: any): boolean {\r\n            return angular.isUndefined(date) || date === null;\r\n        }\r\n\r\n        private getRange(date: string): string {\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            let index = this._momentRanged.indexOf(date)\r\n\r\n            if (index < 0) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            return this._momentRanged[index];\r\n        }\r\n\r\n        private getOperationRange(date: string): string {\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            let range: string = date == DateRangeType.WeekFromSunday ? DateRangeType.WeekFromSunday : date,\r\n                index = this._momentRanged.indexOf(range)\r\n\r\n            if (index < 0) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            return this._momentRanged[index];\r\n\r\n        }\r\n  \r\n        private toStartRange(date: any, range: string): Date {\r\n            let localDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                throw new Error('toStartRange - date is undefined or null');\r\n            }\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\r\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\r\n            } else {\r\n                localDate = moment(date);\r\n            }\r\n\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toStartRange - localDate is invalid');\r\n            }\r\n\r\n            return localDate.startOf(range).toDate();\r\n        }\r\n\r\n        private toEndRange(date: any, range: string, offset?: number): any {\r\n            let localDate: any,\r\n                result: any,\r\n                mssOffset: number;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return '';\r\n            }\r\n\r\n            if (!angular.isNumber(offset)) {\r\n                mssOffset = 0;\r\n            }\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\r\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\r\n            } else {\r\n                localDate = moment(date);\r\n            }\r\n\r\n            if (!localDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            if (mssOffset) {\r\n                result = localDate.endOf(range).add(mssOffset, 'milliseconds');\r\n            } else {\r\n                result = localDate.endOf(range);\r\n            }\r\n\r\n            return localDate.endOf(range).toDate();\r\n        }\r\n\r\n        public toJson(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n\r\n        // navigation functions \r\n        // ------------------\r\n\r\n        public toNextRange(date: any, type: string): any {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return '';\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(type);\r\n            result = moment(localDate).startOf(range).add(1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public toPrevRange(date: any, type: string): Date {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                throw new Error('toPrevRange- date is undefined or null');\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toPrevRange - localDate is invalid');\r\n            }\r\n\r\n            range = this.getRange(type);\r\n            result = moment(localDate).startOf(range).add(-1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public toCurrentRange(type: string): Date {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            localDate = moment();\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toCurrentRange - localDate is invalid');\r\n            }\r\n\r\n            range = this.getRange(type)\r\n            result = moment(localDate).startOf(range);\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public addHours(date: any, hours: number): Date {\r\n            let localDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date) || !angular.isNumber(hours)) {\r\n                throw new Error('addHours - date is undefined or null or hours is not a number');\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                throw new Error('addHours - localDate is invalid');\r\n            }\r\n\r\n            return localDate.add(hours, 'hours').toDate();\r\n        }\r\n\r\n        public toStartDay(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Day);\r\n        }\r\n\r\n        public toEndDay(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Day, offset);\r\n        }\r\n\r\n        public toStartWeek(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.WeekFromSunday);\r\n        }\r\n\r\n        public toEndWeek(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.WeekFromSunday, offset);\r\n        }\r\n\r\n        public toStartMonth(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Month);\r\n        }\r\n\r\n        public toEndMonth(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Month, offset);\r\n        }\r\n\r\n        public toStartYear(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Year);\r\n        }\r\n\r\n        public toEndYear(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Year, offset);\r\n        }\r\n\r\n        // public toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     tzOffset = tzOffset !== null && tzOffset !== undefined ? tzOffset : 0;\r\n        //     offset = offset ? offset : 0; \r\n\r\n        //     return moment(date).add(offset - tzOffset, 'minutes').format();\r\n        // }\r\n\r\n        // public fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     tzOffset = tzOffset !== null && tzOffset !== undefined ? tzOffset : 0;\r\n        //     offset = offset ? offset : 0; \r\n\r\n        //     return moment(date).add(tzOffset - offset, 'minutes').format();\r\n        // }\r\n\r\n    }\r\n\r\n    class DateConvertService {\r\n        private _convert: DateConvert;\r\n\r\n        public constructor(\r\n            convert: DateConvert,\r\n        ) {\r\n            this._convert = convert;\r\n        }\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._convert.defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._convert.defaultTimeZoneOffset = value;\r\n        }\r\n    \r\n        public toJSON(date: any): string {\r\n            return this._convert.toJson(date);\r\n        }\r\n\r\n        // date range functions \r\n        // ------------------\r\n\r\n        public toNextRange(date: any, type: string): any {\r\n            return this._convert.toNextRange(date, type);\r\n        }\r\n\r\n        public toPrevRange(date: any, type: string): any {\r\n            return this._convert.toPrevRange(date, type);\r\n        }\r\n\r\n        public toCurrentRange(type: string): any {\r\n            return this._convert.toCurrentRange(type);\r\n        }\r\n\r\n        public addHours(date: any, hours: number): any {\r\n            return this._convert.addHours(date, hours);\r\n        }\r\n\r\n        public toStartDay(date: any): any {\r\n            return this._convert.toStartDay(date);\r\n        }\r\n\r\n        public toEndDay(date: any, offset?: number): any {\r\n            return this._convert.toEndDay(date, offset);\r\n        }\r\n\r\n        public toStartWeek(date: any): any {\r\n            return this._convert.toStartWeek(date);\r\n        }\r\n\r\n        public toEndWeek(date: any, offset?: number): any {\r\n            return this._convert.toEndWeek(date, offset);\r\n        }\r\n\r\n        public toStartMonth(date: any): any {\r\n            return this._convert.toStartMonth(date);\r\n        }\r\n\r\n        public toEndMonth(date: any, offset?: number): any {\r\n            return this._convert.toEndMonth(date, offset);\r\n        }\r\n\r\n        public toStartYear(date: any): any {\r\n            return this._convert.toStartYear(date);\r\n        }\r\n\r\n        public toEndYear(date: any, offset?: number): any {\r\n            return this._convert.toEndYear(date, offset);\r\n        }\r\n\r\n        // public toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     return this._convert.toTimeZoneToString(date, tzOffset, offset);\r\n        // }\r\n\r\n        // public fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     return this._convert.fromTimeZoneToString(date, tzOffset, offset);\r\n        // }\r\n    }\r\n\r\n    class DateConvertProvider extends DateConvert implements IDateConvertProvider {\r\n        private _translation: DateConvert;\r\n        private _service: DateConvertService;\r\n\r\n        public $get(): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateConvertService(this);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Convert', [])\r\n        .provider('pipDateConvert', DateConvertProvider);\r\n})();","import { IDateFormatService } from './IDateFormatService';\r\nimport { IDateConvertService } from './IDateConvertService';\r\n\r\nfunction formatTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatTime(value, format);\r\n    }\r\n}\r\n\r\nfunction formatDateOptionalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatDateOptional(value, format);\r\n    }\r\n}\r\n\r\nfunction formatLongDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDate(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any) => {\r\n        return pipDateFormat.formatMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatYearFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatYear(value);\r\n    }\r\n}\r\n\r\nfunction formatWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatShortDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatMiddleDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatLongDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatLongDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction bbFormatDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.bbFormatDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatFullDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatFullDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatShortMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatDateRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatDateTimeRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateTimeRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekOrdinalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeekOrdinal(value);\r\n    }\r\n}\r\n\r\nfunction formatDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatMillisecondsToSecondsFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMillisecondsToSeconds(value);\r\n    }\r\n}\r\n\r\nfunction formatElapsedIntervalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, start: any): string => {\r\n        return pipDateFormat.formatElapsedInterval(value, start);\r\n    }\r\n}\r\n\r\nfunction formatShortElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatShortElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction formatLongElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatLongElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction formatMiddleElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatMiddleElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction getDateJSONFilter(pipDateConvert: IDateConvertService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateConvert.toJson(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: number): string => {\r\n        return pipDateFormat.formatTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: number): string => {\r\n        return pipDateFormat.formatTimeLong(value);\r\n    }\r\n}\r\nangular\r\n    .module('pipDate.Filter', [])\r\n    .filter('formatTime', formatTimeFilter)\r\n    .filter('formatDateOptional', formatDateOptionalFilter)\r\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\r\n    .filter('formatShortDate', formatShortDateFilter)\r\n    .filter('formatMiddleDate', formatMiddleDateFilter)\r\n    .filter('formatLongDate', formatLongDateFilter)\r\n    .filter('formatMonth', formatMonthFilter)\r\n    .filter('formatLongMonth', formatLongMonthFilter)\r\n    .filter('formatYear', formatYearFilter)\r\n    .filter('formatWeek', formatWeekFilter)\r\n    .filter('formatShortWeek', formatShortWeekFilter)\r\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\r\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)\r\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\r\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\r\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)\r\n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)\r\n    .filter('formatFullDateTime', formatFullDateTimeFilter)\r\n    .filter('formatShortTime', formatShortTimeFilter)\r\n    .filter('formatLongTime', formatLongTimeFilter)\r\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\r\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\r\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\r\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\r\n    .filter('formatDateRange', formatDateRangeFilter)\r\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\r\n    .filter('formatISOWeek', formatISOWeekFilter)\r\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\r\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\r\n    .filter('formatDateY', formatDateYFilter)\r\n    .filter('formatLongDateY', formatLongDateYFilter)\r\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\r\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\r\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\r\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\r\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\r\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter)\r\n    .filter('formatShortElapsed', formatShortElapsedFilter)\r\n    .filter('formatMiddleElapsed', formatMiddleElapsedFilter)\r\n    .filter('formatLongElapsed', formatLongElapsedFilter)\r\n    .filter('formatTimeShort', formatTimeShortFilter)\r\n    .filter('formatTimeLong', formatTimeLongFilter);\r\n","import { DateRangeType } from './IDateConvertService';\r\nimport { IDateFormatService, IDateFormatProvider } from './IDateFormatService';\r\n\r\n(() => {\r\n    class DateFormat implements IDateFormatService {\r\n        protected _momentRanged: string[] = DateRangeType.All;\r\n        protected _defaultFormat: string = 'LL'\r\n\r\n        private _defaultTimeZoneOffset: number;\r\n        private oneHour: number = 60 * 60 * 1000;\r\n        private oneMinute: number = 60 * 1000;\r\n        private oneSeccond: number = 1000;\r\n        private oneDay: number = 24 * 60 * 60 * 1000;\r\n\r\n\r\n        public constructor(\r\n            private $injector: angular.auto.IInjectorService\r\n        ) {\r\n\r\n        }\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._defaultTimeZoneOffset = value;\r\n        }\r\n\r\n        private isUndefinedOrNull(value: any): boolean {\r\n            return angular.isUndefined(value) || value === null;\r\n        }\r\n\r\n        private formatDateTime(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let formatTpl: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            return date.format(formatTpl);\r\n        }\r\n\r\n        private formatDateTimeY(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let nowDate: moment.Moment;\r\n            let formatMoment: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n            formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n            if (nowDate.year() == date.year())\r\n                formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            return date.format(formatMoment);\r\n        }\r\n\r\n        private formatDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n            let formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '').replace(/[./]/g, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            return date.format(formatMonthYearless);\r\n        }\r\n\r\n        private formatMonthDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let format = basicFormat ? basicFormat : this._defaultFormat;\r\n            let formatLL = moment.localeData().longDateFormat(format);\r\n            let formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            return date.format(formatYearlessLL);\r\n        }\r\n\r\n        //  use timezone not testing\r\n        public formatRange(value1: any, value2: any, basicFormat: string): string {\r\n            let dateStart: moment.Moment;\r\n            let dateEnd: moment.Moment;\r\n            let format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            if (this.isUndefinedOrNull(value1))\r\n                dateStart = null;\r\n            else\r\n                dateStart = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                    ? moment(value1).utcOffset(this._defaultTimeZoneOffset) : moment(value1);\r\n\r\n            if (this.isUndefinedOrNull(value2))\r\n                dateEnd = null;\r\n            else\r\n                dateEnd = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                    ? moment(value2).utcOffset(this._defaultTimeZoneOffset) : moment(value2);\r\n\r\n            if (dateStart === null && dateEnd === null)\r\n                return '';\r\n            if (dateStart === null)\r\n                return dateEnd.format(basicFormat);\r\n            if (dateEnd === null || dateStart.isSame(dateEnd))\r\n                return dateStart.format(basicFormat);;\r\n\r\n            if (dateStart.isAfter(dateEnd))\r\n                throw new Error('Date range error. Start date is more than end date.');\r\n\r\n            if (dateStart.year() == dateEnd.year()) {\r\n                if (dateStart.month() == dateEnd.month())\r\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n\r\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n            }\r\n\r\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n        }\r\n\r\n        private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\r\n            let date: moment.Moment;\r\n            let result: string;\r\n            let nowDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n            if (firstTime)\r\n                result = date.format(formatTime) + ' ' + date.format(formatDate);\r\n            else\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n\r\n            return result;\r\n        }\r\n\r\n        private toTodayDate(value: any, formatDate: string, formatTime: string): any {\r\n            let date: moment.Moment;\r\n            let result: string;\r\n            let nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n\r\n            if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day())\r\n                result = date.format(formatTime);\r\n            else\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n\r\n            return result;\r\n        }\r\n\r\n        // formating functions \r\n        // -------------------\r\n\r\n        public formatTime(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatDateOptional(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        // date formats\r\n        public formatShortDate(value: any): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDate(value: any): string {\r\n            return this.formatDateTime(value, 'll');\r\n        }\r\n\r\n        public formatLongDate(value: any): string {\r\n            return this.formatDateTime(value, 'LL');\r\n        }\r\n\r\n        public formatMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MM');\r\n        }\r\n\r\n        public formatLongMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MMMM');\r\n        }\r\n\r\n        public formatYear(value: any): string {\r\n            return this.formatDateTime(value, 'YYYY');\r\n        }\r\n\r\n        public formatWeek(value: any): string {\r\n            return this.formatDateTime(value, 'ww');\r\n        }\r\n\r\n        public formatShortWeek(value: any): string {\r\n            return this.formatDateTime(value, 'w');\r\n        }\r\n\r\n        public formatShortDateTime(value: any): string {\r\n            return this.toDateWithTime(value, 'L', 'LT');\r\n        }\r\n\r\n        public formatMiddleDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'lll');\r\n        }\r\n\r\n        public formatLongDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatFullDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLLL');\r\n        }\r\n\r\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'L', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'll', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatShortTime(value: any): string {\r\n            return this.formatDateTime(value, 'LT');\r\n        }\r\n\r\n        public formatLongTime(value: any): string {\r\n            return this.formatDateTime(value, 'LTS');\r\n        }\r\n\r\n        public formatShortDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dd');\r\n        }\r\n\r\n        public formatLongDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dddd');\r\n        }\r\n\r\n        // public formatTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLL');\r\n        // }\r\n\r\n        // public formatLongTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLLL');\r\n        // }\r\n\r\n        ///-----------------\r\n\r\n        public formatLongMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'LL');\r\n        }\r\n\r\n        public formatShortMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'L');\r\n        }\r\n\r\n        public formatDateRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LL');\r\n        }\r\n\r\n        public formatDateTimeRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LLL');\r\n        }\r\n\r\n        // iso function\r\n        // --------------\r\n\r\n        public formatISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'WW');\r\n        }\r\n\r\n        public formatShortISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'W');\r\n        }\r\n\r\n        public formatISOWeekOrdinal(value: any): string {\r\n            return this.formatDateTime(value, 'Wo');\r\n        }\r\n        // special formats \r\n        // --------------\r\n\r\n        // year option displays if the current year is not equal to, the date of \r\n        public formatDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'L');\r\n        }\r\n\r\n        // year option displays if the current year is not equal to, the date of\r\n        public formatLongDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'LL');\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateLongTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateShortTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateLongTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LT')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateShortTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'll', 'LT')\r\n        }\r\n\r\n        // todo\r\n        public formatMillisecondsToSeconds(value: any): string {\r\n            return '';\r\n        }\r\n\r\n        public formatElapsedInterval(value: any, start: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return moment(date).fromNow(nowDate);\r\n        }\r\n\r\n        public formatShortElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatShortDateTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + moment.utc(ms).format(\":mm \") + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_SHORT_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + moment.utc(ms).format(\":mm \") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' min. ago';\r\n                        } else {\r\n                            s = 'few sec. ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        private getHoursString(h: number): string {\r\n            let hh: number = h % 10;\r\n            if (h == 0) return '';\r\n\r\n            if (hh == 1) {\r\n                return 'DATE_HOUR_ONE'\r\n            }\r\n            if (hh > 1 && hh < 5) {\r\n                return 'DATE_HOURS_FEW'\r\n            }\r\n\r\n            return 'DATE_HOURS_AFTER_FOOR'\r\n        }\r\n\r\n        private getMinutesString(m: number): string {\r\n            if (m == 1) {\r\n                return 'DATE_MINUTE_ONE'\r\n            }\r\n            if (m > 1 && m < 5) {\r\n                return 'DATE_MINUTES_FEW'\r\n            }\r\n\r\n            return 'DATE_MINUTES_AFTER_FOOR'\r\n        }\r\n\r\n        public formatLongElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatFullDateTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' ' + pipTranslate.translate(hString) + moment.utc(ms).format(\" mm \") +\r\n                            pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' hours ' + moment.utc(ms).format(\":mm minutes\") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' minutes ago';\r\n                        } else {\r\n                            s = 'few second ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        public formatMiddleElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatMiddleDateLongTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = 'DATE_HOUR_SHORT';\r\n                    let mString: string = 'DATE_MINUTE_SHORT';\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' ' + pipTranslate.translate(hString) + moment.utc(ms).format(\" mm \") +\r\n                            pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_SHORT_ELAPSED') + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' h. ' + moment.utc(ms).format(\":mm min.\") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' min. ago';\r\n                        } else {\r\n                            s = 'few sec. ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        public formatTimeShort(value: number): string {\r\n            if (value <= 0) return '';\r\n\r\n            let s: string = '';\r\n            let h = Math.floor(value / this.oneHour);\r\n            let m = Math.floor((value - h * this.oneHour) / this.oneMinute);\r\n            let sec = Math.floor((value - h * this.oneHour - m * this.oneMinute) / this.oneSeccond);\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                let hString: string = 'DATE_HOUR_SHORT';\r\n                let mString: string = 'DATE_MINUTE_SHORT';\r\n                if (h) {\r\n                    s = h + ' ' + pipTranslate.translate(hString) + ' ' +\r\n                        (\"0\" + m).substr(-2, 2) + ' ' + pipTranslate.translate(mString);\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' ' + pipTranslate.translate(mString);\r\n                    } else {\r\n                        s = sec + ' ' + pipTranslate.translate('DATE_FEW_SECOND_SHORT');\r\n                    }\r\n                }\r\n            } else {\r\n                if (h) {\r\n                    s = h + ' h. ' + (\"0\" + m).substr(-2, 2) + ' min.';\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' min.';\r\n                    } else {\r\n                        s = sec + ' sec.';\r\n                    }\r\n                }\r\n            }\r\n\r\n            return s;\r\n        }\r\n\r\n        public formatTimeLong(value: number): string {\r\n            if (value <= 0) return '';\r\n\r\n            let s: string = '';\r\n            let h = Math.floor(value / this.oneHour);\r\n            let m = Math.floor((value - h * this.oneHour) / this.oneMinute);\r\n            let sec = Math.floor((value - h * this.oneHour - m * this.oneMinute) / this.oneSeccond);\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                if (h) {\r\n                    \r\n                    s = h + ' ' + pipTranslate.translate(hString) + ' ' +\r\n                        (\"0\" + m).substr(-2, 2) + ' ' + pipTranslate.translate(mString);\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' ' + pipTranslate.translate(mString);\r\n                    } else {\r\n                        s = sec + ' ' + pipTranslate.translate('DATE_FEW_SECOND');\r\n                    }\r\n                }\r\n            } else {\r\n                if (h) {\r\n                    s = h + ' hours ' + (\"0\" + m).substr(-2, 2) + ' minutes';\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' minutes';\r\n                    } else {\r\n                        s = sec + ' second';\r\n                    }\r\n                }\r\n            }\r\n\r\n            return s;\r\n        }\r\n\r\n        public getDateJSON(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n    }\r\n\r\n    class DateFormatProvider extends DateFormat implements IDateFormatProvider {\r\n        private _translation: DateFormat;\r\n        private _service: DateFormat;\r\n\r\n        public $get(\r\n            $injector: angular.auto.IInjectorService\r\n        ): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateFormat($injector);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    function declarePipDateResources($injector: angular.auto.IInjectorService) {\r\n        let pipTranslateProvider: any = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n        if (pipTranslateProvider && pipTranslateProvider.translations) {\r\n            pipTranslateProvider.translations('en', {\r\n                DATE_ELAPSED: 'ago',\r\n                DATE_HOUR_ONE: 'hour',\r\n                DATE_HOUR_SHORT: 'h',\r\n                DATE_MINUTE_SHORT: 'min',\r\n                DATE_HOURS_FEW: 'hours',\r\n                DATE_HOURS_AFTER_FOOR: 'hours',\r\n                DATE_MINUTE_ONE: 'minute',\r\n                DATE_MINUTES_FEW: 'minutes',\r\n                DATE_MINUTES_AFTER_FOOR: 'minutes',\r\n                DATE_FEW_SECOND: 'second',\r\n                DATE_FEW_SECOND_SHORT: 'sec.',\r\n                DATE_FEW_SECOND_ELAPSED: 'few sec. ago',\r\n                DATE_FEW_SECOND_SHORT_ELAPSED: 'few sec. ago'\r\n\r\n            });\r\n            pipTranslateProvider.translations('ru', {\r\n                DATE_ELAPSED: 'назад',\r\n                DATE_HOUR_ONE: 'час',\r\n                DATE_HOUR_SHORT: 'ч.',\r\n                DATE_MINUTE_SHORT: 'мин.',\r\n                DATE_HOURS_FEW: 'часа',\r\n                DATE_HOURS_AFTER_FOOR: 'часов',\r\n                DATE_MINUTE_ONE: 'минуту',\r\n                DATE_MINUTES_FEW: 'минуты',\r\n                DATE_MINUTES_AFTER_FOOR: 'минут',\r\n                DATE_FEW_SECOND: 'секунд',\r\n                DATE_FEW_SECOND_SHORT: 'сек.',\r\n                DATE_FEW_SECOND_ELAPSED: 'несколько секунд назад',\r\n                DATE_FEW_SECOND_SHORT_ELAPSED: 'неск. с. назад',\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Format', [])\r\n        .provider('pipDateFormat', DateFormatProvider)\r\n        .config(declarePipDateResources);\r\n})();","export class DateRangeType {\r\n    static Year: string = 'year';\r\n    static Month: string = 'month';\r\n    static Week: string = 'week';\r\n    static WeekFromSunday: string = 'isoweek';\r\n    static Day: string = 'day';\r\n    static All: string[] = ['year', 'month', 'week', 'isoweek', 'day']\r\n}\r\n\r\nexport interface IDateConvertService {\r\n    defaultTimeZoneOffset: number;\r\n\r\n    toJson(date: any): string;\r\n    toNextRange(date: any, type: string): Date;\r\n    toPrevRange(date: any, type: string): Date;\r\n    toCurrentRange(type: string): Date;\r\n\r\n    addHours(date: any, hours: number): Date;\r\n    toStartDay(date: any): Date;\r\n    toEndDay(date: any, offset?: number): Date;\r\n    toStartWeek(date: any): Date;\r\n    toEndWeek(date: any, offset?: number): Date;\r\n    toStartMonth(date: any): Date;\r\n    toEndMonth(date: any, offset?: number): Date;\r\n    toStartYear(date: any): Date;\r\n    toEndYear(date: any, offset?: number): Date;\r\n\r\n    // toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string;\r\n    // fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string;\r\n}\r\n\r\nexport interface IDateConvertProvider extends IDateConvertService, ng.IServiceProvider {\r\n}","\r\nangular.module('pipDate.Common', [\r\n    'pipDate.Convert',\r\n    'pipDate.Format',\r\n    'pipDate.Filter'\r\n]);\r\n\r\nimport './DateConvertService';\r\nimport './DateFormatFilter';\r\nimport './DateFormatService';\r\nimport './IDateConvertService';\r\nimport './IDateFormatService';\r\n\r\nexport * from './IDateConvertService';\r\nexport * from './IDateFormatService';","\r\n(() => {\r\n    interface IDateRangeBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any;\r\n        disabled: any;\r\n        model: any;\r\n        pipChanged: any;\r\n        type: any;\r\n        pipDateFormat: any;\r\n        pipNoLine: any;\r\n    }\r\n\r\n    const DateRangeBindings: IDateRangeBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '=ngModel',\r\n        pipChanged: '&',\r\n        type: '@pipDateRangeType',\r\n        pipDateFormat: '@',\r\n        pipNoLine: '@'\r\n    }\r\n\r\n\r\n    class DateRangeChanges implements ng.IOnChangesObject, IDateRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        model: ng.IChangesObject<any>;\r\n        pipChanged: ng.IChangesObject<() => void>;\r\n        type: ng.IChangesObject<string>;\r\n        pipDateFormat: ng.IChangesObject<any>;\r\n        pipNoLine: ng.IChangesObject<any>;\r\n    }\r\n\r\n    class DateRangeController {\r\n        private currentDate: Date;\r\n        private currentYear: number;\r\n        private currentMonth: number;\r\n        private currentDay: number;\r\n        private prevState: any = {};\r\n        private currentState: any = {};\r\n        private localeDate: any;\r\n        private momentMonths: any;\r\n        private momentDays: any;\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public type: string;\r\n        public pipChanged: Function;\r\n        public year: number;\r\n        public month: number;\r\n        public week: any;\r\n        public day: number;\r\n        public shortMonths: string[];\r\n        public days: number[];\r\n        public weeks: any[];\r\n        public months: number[];\r\n        public years: number[];\r\n        public nameDays: string[];\r\n        public model: any;\r\n        public disabled: Function;\r\n        public disableControls: boolean;\r\n        public timeMode: string;\r\n\r\n        constructor(\r\n            public $mdMedia: angular.material.IMedia,\r\n            private $timeout: ng.ITimeoutService,\r\n            $scope: ng.IScope,\r\n            $element,\r\n            $rootScope: ng.IRootScopeService,\r\n            $injector: angular.auto.IInjectorService) {\r\n            \"ngInject\";\r\n\r\n            this.localeDate = moment.localeData();\r\n            this.momentMonths = angular.isArray(this.localeDate._months) ? this.localeDate._months : this.localeDate._months.standalone;\r\n            this.momentDays = angular.isArray(this.localeDate._weekdays) ? this.localeDate._weekdays : this.localeDate._weekdays.format;\r\n            this.momentShortDays = this.localeDate._weekdaysMin;\r\n            this.momentFirstDayOfWeek = this.localeDate._week.dow;\r\n\r\n            this.currentDate = new Date();\r\n            this.currentYear = this.currentDate.getUTCFullYear();\r\n            this.currentMonth = this.currentDate.getUTCMonth() + 1;\r\n            this.currentDay = this.currentDate.getUTCDate();\r\n\r\n            this.init();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n\r\n            $scope.$watch('$ctrl.type', (newValue, oldValue) => {\r\n                if (newValue !== oldValue && oldValue) {\r\n                    this.init();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateRangeChanges) {\r\n            if (changes.type && changes.type.currentValue) {\r\n                this.type = changes.type.currentValue;\r\n                this.init();\r\n            }\r\n\r\n            /*if (changes.type && changes.type.currentValue && changes.type.currentValue != changes.type.previousValue) {\r\n               this.type = changes.type.currentValue; \r\n               this.init();\r\n           }\r\n   \r\n           if (changes.disabled && changes.disabled.currentValue) {\r\n                this.disableControls = changes.disabled.currentValue();\r\n           }\r\n   \r\n           if (changes.model && changes.model.currentValue) {\r\n                 this.getValue(changes.model.currentValue);\r\n           }*/\r\n\r\n        }\r\n\r\n        public onMonthChanged(): void {\r\n            if (this.type === 'weekly') {\r\n                let date: Date, dayOfWeek: number;\r\n                date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.correctWeek();\r\n                this.adjustWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged(): void {\r\n            let date: Date, dayOfWeek: number;\r\n            date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n            if (this.type === 'weekly') {\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public onWeekChange() {\r\n            if (this.type === 'weekly') {\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public isDay(): boolean {\r\n            return this.type === 'daily';\r\n        };\r\n\r\n        public isWeek(): boolean {\r\n            return this.type === 'weekly';\r\n        };\r\n\r\n        public isMonth(): boolean {\r\n            return this.type === 'daily' ||\r\n                this.type === 'weekly' ||\r\n                this.type === 'monthly';\r\n        };\r\n\r\n        public onChange() {\r\n            if (this.pipChanged) {\r\n                this.$timeout(() => {\r\n                    this.pipChanged();\r\n                }, 0);\r\n            }\r\n        };\r\n\r\n        private setCurrent() {\r\n            this.currentState.day = this.day;\r\n            this.currentState.month = this.month;\r\n            this.currentState.year = this.year;\r\n            this.currentState.week = this.week;\r\n            this.currentState.dateRangeType = this.type;\r\n            this.currentState.model = this.model;\r\n        }\r\n\r\n        private fillLists() {\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.shortMonths = this.monthList();\r\n            this.years = this.yearList();\r\n        }\r\n\r\n        private correctWeek() {\r\n            if (!this.prevState.model || this.prevState.model && this.prevState.model.getTime() >= this.model.getTime()) {\r\n                // if shift week -> increase month\r\n                if (this.weeks && this.weeks[this.week] && this.weeks[this.week].id <= 0) {\r\n                    if (this.month < 12) {\r\n                        this.month += 1;\r\n                    } else {\r\n                        this.month = 1;\r\n                        this.year += 1;\r\n                    }\r\n                    this.fillLists();\r\n                }\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            let value: Date;\r\n\r\n            value = this.model ? new Date(this.model) : null;\r\n            this.day = value ? value.getUTCDate() : null;\r\n            this.month = value ? value.getUTCMonth() + 1 : null;\r\n            this.year = value ? value.getUTCFullYear() : null;\r\n            this.week = value ? this.getWeekByDate(this.day, this.month - 1, this.year) : null;\r\n\r\n            this.fillLists();\r\n\r\n            if (this.type === 'weekly') {\r\n                this.correctWeek();\r\n            }\r\n            this.adjustWeek();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearClick() {\r\n            if (!this.year) {\r\n                this.year = this.currentYear;\r\n            }\r\n        };\r\n\r\n        public onMonthClick() {\r\n            if (!this.month) {\r\n                this.month = this.currentMonth;\r\n            }\r\n        };\r\n\r\n        public onDayClick() {\r\n            if (!this.year) {\r\n                this.day = this.currentDay;\r\n            }\r\n        };\r\n        // ---------------------------------------------------------------------------------------\r\n\r\n        public getCountDay(month: number, year: number): number {\r\n            let count = 31;\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n                return count;\r\n            }\r\n\r\n            if (month === 2) {\r\n                if (year) {\r\n                    count = year % 4 === 0 ? 29 : 28;\r\n                    return count;\r\n                }\r\n                count = 28;\r\n            }\r\n\r\n            return count;\r\n\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number, days: number[];\r\n\r\n            count = this.getCountDay(month, year);\r\n            this.nameDays = [];\r\n            days = [];\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n                this.nameDays.push(moment([year, month - 1, i]).format('dd'));\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        public getWeekByDate(day, month, year) {\r\n            let date: Date, dayOfWeek: number, startWeek;\r\n\r\n            date = new Date(Date.UTC(year, month, day));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n\r\n            if (dayOfWeek === 1) {\r\n                startWeek = day;\r\n            } else {\r\n                startWeek = day + 1 - dayOfWeek;\r\n            }\r\n\r\n            return startWeek;\r\n        }\r\n\r\n        public getWeek(day: number, countDay: number, countPrevMonthDay) {\r\n            let endDay: number, startDay: number;\r\n\r\n            endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\r\n            startDay = day > 0 ? day : countPrevMonthDay + day;\r\n\r\n            return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\r\n        }\r\n\r\n        public weekList(month: number, year: number) { // возвращает список начала надели\r\n            let weeks: any[], countDay: number, countPrevMonthDay: number, startWeek: number;\r\n\r\n            weeks = [];  // в массиве первые дни недели в текущем месяце\r\n            countDay = this.getCountDay(month, year);\r\n            startWeek = this.getWeekByDate(1, month - 1, year);\r\n\r\n            countPrevMonthDay = month - 1 ? this.getCountDay(month - 1, year) : this.getCountDay(12, year - 1);\r\n            while (startWeek < countDay + 1) {\r\n                weeks.push({\r\n                    id: startWeek,\r\n                    name: this.getWeek(startWeek, countDay, countPrevMonthDay)\r\n                });\r\n                startWeek = startWeek + 7;\r\n            }\r\n\r\n            return weeks;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList() {\r\n            let startYear: number, endYear: number, years: any[] = [];\r\n\r\n            switch (this.timeMode) {\r\n                case 'future':\r\n                    startYear = this.currentYear;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                case 'past':\r\n                    startYear = this.currentYear - 100;\r\n                    endYear = this.currentYear;\r\n                    break;\r\n                case 'now':\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                default:\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 50;\r\n                    break;\r\n            }\r\n            if (this.timeMode === 'future') {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            switch (this.type) {\r\n                case 'monthly':\r\n                    this.day = 1;\r\n                    break;\r\n                case 'yearly':\r\n                    this.month = 1;\r\n                    this.day = 1;\r\n                    break;\r\n                default:\r\n                    if (this.days.length !== days.length) {\r\n                        if (this.day > days.length) {\r\n                            this.day = days.length;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            this.days = days;\r\n        }\r\n\r\n        private adjustWeek() {\r\n            let weeks = this.weekList(this.month, this.year);\r\n            this.week = this.getWeekByDate(this.week, this.month - 1, this.year);\r\n            this.weeks = weeks;\r\n        }\r\n\r\n        private getValue(v) {\r\n            let value: Date, day: number, month: number, year: number, week: string;\r\n\r\n            value = v ? new Date(v) : null;\r\n            // Define values\r\n            day = value ? value.getUTCDate() : null;\r\n            month = value ? value.getUTCMonth() + 1 : null;\r\n            year = value ? value.getUTCFullYear() : null;\r\n            week = value ? this.getWeekByDate(day, month - 1, year) : null;\r\n            // Exit if nothing to update\r\n            if (this.day === day && this.month === month && this.year === year && this.week === week) {\r\n                return;\r\n            }\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n            this.week = week;\r\n\r\n            // Define data sources\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n        }\r\n\r\n        public setValue() {\r\n            let value;\r\n\r\n            if (this.type === 'weekly') {\r\n                value = new Date(this.year, this.month - 1, this.week, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            } else {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            }\r\n\r\n            this.prevState = _.cloneDeep(this.currentState);\r\n            this.setCurrent();\r\n            this.onChange();\r\n        }\r\n\r\n    }\r\n\r\n    const daterange: ng.IComponentOptions = {\r\n        bindings: DateRangeBindings,\r\n        templateUrl: 'date_range/DateRange.html',\r\n        controller: DateRangeController \r\n\r\n    };\r\n    angular\r\n        .module('pipDateRange', ['pipDates.Templates'])\r\n        .component('pipDateRange', daterange)\r\n})();\r\n","\r\n(() => {\r\n    class TimeRangeData {\r\n        start: any;\r\n        end: any;\r\n    }\r\n\r\n    interface ITimeRangeBindings {\r\n        [key: string]: any;\r\n\r\n        start: any;\r\n        end: any;\r\n    }\r\n\r\n    const TimeRangeBindings: ITimeRangeBindings = {\r\n        start: '<?pipStartDate',\r\n        end: '<?pipEndDate'\r\n    }\r\n\r\n    class TimeRangeChanges implements ng.IOnChangesObject, ITimeRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        start: ng.IChangesObject<any>;\r\n        end: ng.IChangesObject<any>;\r\n    }\r\n\r\n    class TimeRangeController {\r\n        public data: TimeRangeData;\r\n        public start: any;\r\n        public end: any;\r\n\r\n        constructor($scope: ng.IScope, $attrs: ng.IAttributes, $element: JQuery) {\r\n            \"ngInject\";\r\n            this.data = new TimeRangeData();\r\n            this.defineStartDate();\r\n            this.defineEndDate();\r\n\r\n            $element.addClass('pip-time-range');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeChanges) {\r\n            if (changes.start && changes.start.currentValue) {\r\n                this.data.start = null;\r\n                this.defineStartDate();\r\n            }\r\n            if (changes.end && changes.end.currentValue) {\r\n                this.data.end = null;\r\n                this.defineEndDate();\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private defineStartDate() {\r\n            if (this.start !== null && this.start !== undefined) {\r\n                this.data.start = _.isDate(this.start) ? this.start\r\n                    : this.getDateJSON(this.start);\r\n            }\r\n        }\r\n\r\n        private defineEndDate() {\r\n            if (this.end !== null && this.end !== undefined) {\r\n                this.data.end = _.isDate(this.end) ? this.end\r\n                    : this.getDateJSON(this.end);\r\n            }\r\n        }\r\n\r\n        private toBoolean(value): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n    }\r\n\r\n    const TimeRangeComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeBindings,\r\n        templateUrl: 'time_range/TimeRange.html',\r\n        controller: TimeRangeController\r\n    }\r\n\r\n    angular.module('pipTimeRange', [])\r\n        .component('pipTimeRange', TimeRangeComponent);\r\n\r\n})();\r\n","export const IntervalTimeRange = 30;\r\nexport const MinutesInHour = 60;\r\nexport const HoursInDay = 24;\r\nexport const MillisecondsInSecond = 1000;\r\n\r\n{\r\n    class TimeRangeEditData {\r\n        endTime: number;\r\n        startTime: number;\r\n        startDate: Date;\r\n        endDate: Date;\r\n        duration: number;\r\n        bind: boolean = false;\r\n    }\r\n\r\n\r\n    interface ITimeRangeEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipStartDate: any,\r\n        pipChanged: any,\r\n        pipEndDate: any,\r\n        pipStartLabel: any,\r\n        pipEndLabel: any,\r\n        disabled: any,\r\n        pipHideTime: any,\r\n        pipSize: any\r\n    }\r\n\r\n    const TimeRangeEditBindings: ITimeRangeEditBindings = {\r\n        pipStartDate: '<',\r\n        pipChanged: '=',\r\n        pipEndDate: '<',\r\n        pipStartLabel: '@',\r\n        pipEndLabel: '@',\r\n        disabled: '&ngDisabled',\r\n        pipHideTime: '=',\r\n        pipSize: '='\r\n    }\r\n\r\n    class TimeRangeEditChanges implements ng.IOnChangesObject, ITimeRangeEditBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        pipStartDate: ng.IChangesObject<any>;\r\n        pipChanged: ng.IChangesObject<(start: Date, end: Date) => void>\r\n        pipEndDate: ng.IChangesObject<any>;\r\n        pipStartLabel: ng.IChangesObject<string>;\r\n        pipEndLabel: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        pipHideTime: ng.IChangesObject<boolean>;\r\n        pipSize: ng.IChangesObject<any>;\r\n    }\r\n\r\n\r\n    class TimeRangeEditController {\r\n        public startLabel: string = 'Start time';\r\n        public endLabel: string = 'End time';\r\n        public pipStartLabel: string;\r\n        public pipEndLabel: string;\r\n\r\n        public pipEndDate: any;\r\n        public pipStartDate: any;\r\n        public pipHideTime: boolean;\r\n        public pipSize;\r\n        public showTime: boolean;\r\n        public data: TimeRangeEditData;\r\n        public intervalTimeCollection: any;\r\n        public disabled: () => boolean;\r\n\r\n        public pipChanged: (start: Date, end: Date) => void;\r\n\r\n        constructor(\r\n            private $injector: angular.auto.IInjectorService,\r\n            private pipDateConvert,\r\n            private $scope: ng.IScope,\r\n            $element: JQuery) {\r\n            \"ngInject\";\r\n\r\n            this.translate();\r\n            this.intervalTimeCollection = this.getTimeInterval();\r\n            this.data = new TimeRangeEditData();\r\n            this.initDate();\r\n            this.defineDate();\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-range-edit');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeEditChanges) {\r\n            if (changes.pipStartDate && changes.pipStartDate.currentValue) {\r\n                this.pipStartDate = changes.pipStartDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n            if (changes.pipEndDate && changes.pipEndDate.currentValue) {\r\n                this.pipEndDate = changes.pipEndDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n\r\n        }\r\n\r\n        private translate() {\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    EVENT_NEW_START_TIME: 'Start time',\r\n                    EVENT_NEW_END_TIME: 'End time'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    EVENT_NEW_START_TIME: 'Начало',\r\n                    EVENT_NEW_END_TIME: 'Конец'\r\n                });\r\n                this.startLabel = this.pipStartLabel ? pipTranslate.translate(this.pipStartLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n                this.endLabel = this.pipEndLabel ? pipTranslate.translate(this.pipEndLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private setDuration() {\r\n            let start, end;\r\n\r\n            if (!this.data.startDate || !this.data.endDate) {\r\n                return null;\r\n            }\r\n\r\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n            return end - start;\r\n        }\r\n\r\n        private validateStartDate() {\r\n            let date: Date = new Date(), start: Date = new Date(), end: Date = new Date(), endTime: number, startTime: number;\r\n            // если начальная дата не задана, обнуляем и выходим\r\n            if (!this.data.startDate || _.isNull(this.data.startDate) || !this.data) {\r\n                this.data.startTime = null;\r\n                this.data.startDate = null;\r\n                return;\r\n            }\r\n\r\n            // еcли не задано начальное время - задаем его\r\n            if (_.isUndefined(this.data.startTime) || _.isNull(this.data.startTime)) {\r\n                if (!this.data || !this.data.endTime) {\r\n                    date = new Date();\r\n                    startTime = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.startTime = Math.floor(startTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.startTime = this.data.endTime === 0 ? 0 : this.data.endTime - IntervalTimeRange;\r\n                }\r\n            }\r\n\r\n            if (this.data && this.data.startDate) {\r\n                start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n                // Если есть длительность, то сохраняем ее. Длительность можно изменить только изменяя конечную дату\r\n                if (this.data.duration) {\r\n                    end = new Date(start.getTime() + this.data.duration);\r\n                    this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                    endTime = end.getTime() - this.data.endDate.getTime();\r\n                    this.data.endTime = Math.floor(endTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    // Если нет длительности сравниваем даты\r\n                    end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n                    if (start >= end) {\r\n                        // Если начальная дата больше, то двигаем конечную дату\r\n                        this.data.endDate = this.pipDateConvert.toStartDay(new Date(start.getTime() + (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)));\r\n                        this.data.endTime = (this.data.startTime + IntervalTimeRange) % (HoursInDay * MinutesInHour); // минут в сутках\r\n                    }\r\n                }\r\n\r\n                this.data.startTime = Math.round(this.data.startTime / IntervalTimeRange) * IntervalTimeRange;\r\n            }\r\n\r\n        }\r\n\r\n\r\n        private validateEndDate() {\r\n            let date: any = new Date(), start: Date = new Date(), end: Date = new Date();\r\n\r\n            if (!this.data.endDate) {\r\n                this.data.endTime = null;\r\n                this.data.endDate = null;\r\n                return;\r\n            }\r\n\r\n            // еcли не задано конечное время - задаем его\r\n            if (_.isUndefined(this.data.endTime) || _.isNull(this.data.endTime)) {\r\n                if (!this.data.startTime) {\r\n                    date = new Date();\r\n                    date = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.endTime = Math.floor(date / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.endTime = this.data.startTime === (HoursInDay * MinutesInHour - IntervalTimeRange) ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.startTime + IntervalTimeRange;\r\n                }\r\n            }\r\n            if (this.data.startDate && this.data.startTime) {\r\n                start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            }\r\n            if (this.data.endDate && this.data.endTime) {\r\n                end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            if (start >= end) {\r\n                // Если начальная дата больше, то двигаем начальную дату\r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date(end.getTime() - IntervalTimeRange * MinutesInHour * MillisecondsInSecond));\r\n                this.data.startTime = this.data.endTime % (HoursInDay * MinutesInHour) === 0 ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.endTime - IntervalTimeRange;\r\n            }\r\n\r\n            this.data.endTime = Math.round(this.data.endTime / IntervalTimeRange) * IntervalTimeRange;\r\n            this.data.duration = this.setDuration();\r\n        }\r\n\r\n        private setDate() {\r\n            let time: number;\r\n\r\n            if (!this.data) this.data = new TimeRangeEditData();\r\n            this.data.bind = false;\r\n\r\n            if (this.data.startDate) {\r\n                time = this.data.startTime ? this.data.startTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipStartDate = new Date(this.data.startDate.getTime() + time);\r\n            }\r\n\r\n            if (this.data.endDate) {\r\n                time = this.data.endTime ? this.data.endTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipEndDate = new Date(this.data.endDate.getTime() + time);\r\n            }\r\n\r\n            this.data.bind = true;\r\n        }\r\n\r\n        private defineDate() {\r\n            let start: Date, end: Date;\r\n            if (this.pipStartDate !== null && this.pipStartDate !== undefined) {\r\n                start = _.isDate(this.pipStartDate) ? this.pipStartDate : null;\r\n\r\n                if (!start) {\r\n                    start = this.getDateJSON(this.pipStartDate);\r\n                }\r\n\r\n                this.data.startDate = this.pipDateConvert.toStartDay(start);\r\n                this.data.startTime = (<any>new Date(start) - <any>this.data.startDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            if (this.pipEndDate !== null && this.pipEndDate !== undefined) {\r\n                end = _.isDate(this.pipEndDate) ? this.pipEndDate : null;\r\n\r\n                if (!end) {\r\n                    end = this.getDateJSON(this.pipEndDate);\r\n                }\r\n\r\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                this.data.endTime = (<any>new Date(end) - <any>this.data.endDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            this.validateStartDate();\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n        }\r\n\r\n        private getTimeInterval() {\r\n            let result, minutes: number;\r\n\r\n            result = [];\r\n            for (let i: number = 0; i < 24; i++) {\r\n                for (let j: number = 0; j < 2; j++) {\r\n                    minutes = j * IntervalTimeRange;\r\n                    result.push({\r\n                        id: i * MinutesInHour + minutes,\r\n                        time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\r\n                    });\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        private toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        private initDate() {\r\n            this.data.startDate = null;\r\n            this.data.startTime = null;\r\n            this.data.endDate = null;\r\n            this.data.endTime = null;\r\n            this.data.duration = null;\r\n            this.showTime = !this.toBoolean(this.pipHideTime);\r\n        }\r\n\r\n        public onChangeStartDate(newV) {\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndDate() {\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeStartTime() {\r\n            if (!this.data.startDate) {\r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndTime() {\r\n            if (!this.data.endDate) {\r\n                this.data.endDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public isDisabled() {\r\n            if (this.disabled) {\r\n                return this.disabled();\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n    }\r\n\r\n    const TimeRangeEditComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeEditBindings,\r\n        templateUrl: 'time_range_edit/TimeRangeEdit.html',\r\n        controller: TimeRangeEditController\r\n    };\r\n    angular.module('pipTimeRangeEdit', [])\r\n        .component('pipTimeRangeEdit', TimeRangeEditComponent)\r\n\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date/Date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.day\" placeholder=\"{{$ctrl.dayLabel}}\" ng-change=\"$ctrl.setValue()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.month\" placeholder=\"{{$ctrl.monthLabel}}\" ng-change=\"$ctrl.onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.year\" placeholder=\"{{$ctrl.yearLabel}}\" ng-change=\"$ctrl.onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range/DateRange.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"$ctrl.isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onDayClick()\" ng-model=\"$ctrl.day\" ng-change=\"$ctrl.setValue()\" placeholder=\"{{$ctrl.dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{$ctrl.nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" ng-model=\"$ctrl.week\" ng-change=\"$ctrl.onWeekChange()\" placeholder=\"{{$ctrl.weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isDay() || $ctrl.isWeek()\"></div><md-input-container ng-show=\"$ctrl.isMonth() && !$ctrl.monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isMonth() && $ctrl.monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onYearClick()\" ng-model=\"$ctrl.year\" ng-change=\"$ctrl.onYearChanged()\" placeholder=\"{{$ctrl.yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range/TimeRange.html',\n    '<p><span ng-if=\"$ctrl.data.start != null\">{{$ctrl.data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"$ctrl.data.start && $ctrl.data.end\">-</span> <span ng-if=\"$ctrl.data.end != null\">{{$ctrl.data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit/TimeRangeEdit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"$ctrl.data.startDate\" xmd-placeholder=\"{{$ctrl.startLabel}}\" ng-change=\"$ctrl.onChangeStartDate()\" ng-disabled=\"$ctrl.isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"$ctrl.data.startTime\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeStartTime($ctrl.data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"$ctrl.data.endDate\" xmd-placeholder=\"{{$ctrl.endLabel}}\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"$ctrl.data.endTime\" ng-change=\"$ctrl.onChangeEndTime()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\n\r\nclass ConfirmationDialogController extends  ConfirmationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this._injector = $injector;\r\n\r\n        this.initTranslate();\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_TITLE': 'Confirm' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_TITLE': 'Подтвердите'});\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_OK': 'Ok' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_OK': 'Принять'});\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_CANCEL': 'Отменить'});\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_CONFIRM_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_CONFIRM_OK');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_CONFIRM_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Confirm';\r\n            this.ok = this.ok || 'OK';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","export class ConfirmationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Cancel button caption\r\n    public cancel?: string;\r\n}\r\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\nimport { IConfirmationDialogService } from './IConfirmationDialogService';\r\n\r\nclass ConfirmationDialogService implements IConfirmationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params: ConfirmationDialogParams, successCallback?: () => void, cancelCallback?: () => void) {\r\n        this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'confirmation/ConfirmationDialog.html',\r\n            controller: 'pipConfirmationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n        })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .service('pipConfirmationDialog', ConfirmationDialogService);","angular\r\n    .module('pipConfirmationDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ConfirmationDialogParams';\r\nimport './ConfirmationDialogController';\r\nimport './IConfirmationDialogService';\r\nimport './ConfirmationDialogService';\r\n\r\nexport * from './IConfirmationDialogService';\r\n","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\n\r\nclass ErrorDialogStrings {\r\n    public errorDetails: string = 'Error details';\r\n    public errorMessage: string = 'Message';\r\n    public errorCode: string = 'Code';\r\n    public errorMethod: string = 'Method';\r\n    public errorPath: string = 'Path';\r\n    public errorText: string = 'Error';   \r\n}\r\n\r\nclass ErrorDetailsDialogController extends ErrorDetailsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: ng.material.IDialogService;\r\n    public theme: string;\r\n    public strings: ErrorDialogStrings;\r\n\r\n    constructor(\r\n        $mdDialog: ng.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n        \r\n        super();\r\n\r\n        this.strings = new ErrorDialogStrings();\r\n        this._injector = $injector;\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n\r\n        this.initTranslate();\r\n\r\n        if (!this.error) {\r\n            this.error = '<none>';             \r\n        }\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', {\r\n                'OK': 'Ok',\r\n                'CANCEL': 'Cancel',\r\n                'ERROR_DETAILS': 'Error details',\r\n                'ERROR_CODE': 'Error code',\r\n                'ERROR_PATH': 'Path',\r\n                'ERROR_ERROR': 'Error',\r\n                'ERROR_METHOD': 'Method',\r\n                'ERROR_MESSAGE': 'Message',\r\n                'ERROR_DISMISS': 'Dismiss'\r\n            });\r\n            pipTranslate.translations('ru', {\r\n                'OK': 'Ок',\r\n                'CANCEL': 'Отмена',\r\n                'ERROR_DETAILS': 'Детали ошибки',\r\n                'ERROR_CODE': 'Код ошибки',\r\n                'ERROR_PATH': 'Путь',\r\n                'ERROR_ERROR': 'Ошибка',\r\n                'ERROR_METHOD': 'Метод',\r\n                'ERROR_MESSAGE': 'Сообщение'\r\n            });\r\n            this.dismissButton = pipTranslate.translate(this.dismissButton) || pipTranslate.translate('ERROR_DISMISS');\r\n\r\n            this.strings.errorDetails = pipTranslate.translate('ERROR_DETAILS');\r\n            this.strings.errorMessage = pipTranslate.translate('ERROR_MESSAGE');\r\n            this.strings.errorCode = pipTranslate.translate('ERROR_CODE');\r\n            this.strings.errorMethod = pipTranslate.translate('ERROR_METHOD');\r\n            this.strings.errorPath = pipTranslate.translate('ERROR_PATH');\r\n            this.strings.errorText = pipTranslate.translate('ERROR_ERROR');\r\n        } else {\r\n            this.dismissButton = this.dismissButton || 'Dismiss';\r\n        }\r\n    }\r\n    \r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public isString(error): boolean {\r\n        return _.isString(error);\r\n    }\r\n\r\n    public getErrorText(): string {\r\n        let error: string;\r\n\r\n        if (_.isString(this.error)) { \r\n            return this.error\r\n        } \r\n        if (this.error && this.error.error) {\r\n            return this.error.error.toString();\r\n        }\r\n        if (this.error && this.error.data && this.error.data.error) {\r\n            return this.error.data.error.toString();\r\n        }\r\n        \r\n        return '<none>';\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","export class ErrorDetailsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Close button label\r\n    public dismissButton?: string;\r\n    // Error object or string\r\n    public error: any;\r\n}","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\nimport { IErrorDetailsDialogService } from './IErrorDetailsDialogService';\r\n\r\nclass ErrorDetailsDialogService implements IErrorDetailsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    \r\n    public show(params: ErrorDetailsDialogParams, \r\n        successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'error_details/ErrorDetailsDialog.html',\r\n            controller: 'pipErrorDetailsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params, \r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .service('pipErrorDetailsDialog', ErrorDetailsDialogService);","angular\r\n    .module('pipErrorDetailsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ErrorDetailsDialogParams';\r\nimport './ErrorDetailsDialogService';\r\nimport './ErrorDetailsDialogController';\r\n\r\nexport * from './ErrorDetailsDialogParams';\r\nexport * from './IErrorDetailsDialogService';","import { InformationDialogParams } from './InformationDialogParams';\r\n\r\nclass InformationDialogController extends InformationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public content: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();        \r\n        this._injector = $injector;\r\n\r\n        this.initTranslate()\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        let content: string = this.message;\r\n        let item: string;\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': 'Информация' });\r\n            pipTranslate.translations('en', { 'INFORMATION_OK': 'Ok'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_OK': 'Ок' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('INFORMATION_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('INFORMATION_OK');\r\n            content = pipTranslate.translate(content);\r\n        } else {\r\n            this.title = this.title || 'Information';\r\n            this.ok = this.ok || 'OK';\r\n        }\r\n\r\n        let pipFormat: pip.services.IFormat = this._injector.has('pipFormat') \r\n            ? <pip.services.IFormat>this._injector.get('pipFormat') : null;\r\n\r\n        if (this.item && pipFormat) {\r\n            // item = _.truncate(params.item, 25);\r\n            content = pipFormat.sprintf(content, item);\r\n        }\r\n\r\n        this.content = content;        \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .controller('pipInformationDialogController', InformationDialogController);","export class InformationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Dialog messag. You can use formatting options (%s, %d etc.). \r\n    public message: string;\r\n    // Paramentrs for message string\r\n    public item?: any;\r\n}","import { InformationDialogParams } from './InformationDialogParams';\r\nimport { IInformationDialogService } from './IInformationDialogService';\r\n\r\nclass InformationDialogService implements IInformationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'information/InformationDialog.html',\r\n            controller: 'pipInformationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(function () {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .service('pipInformationDialog', InformationDialogService);","angular\r\n    .module('pipInformationDialog', [\r\n        'ngMaterial',\r\n        'pipDialogs.Translate', \r\n        'pipDialogs.Templates']);\r\n\r\nimport './InformationDialogParams';\r\nimport './InformationDialogController';\r\nimport './InformationDialogService';\r\n\r\n\r\nexport * from './IInformationDialogService';\r\nexport * from './InformationDialogParams';\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\nimport { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\n\r\nclass OptionsDialogController extends OptionsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public optionIndex: number;\r\n    \r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n        this.options = this.options || [];\r\n\r\n        this.initTranslate();\r\n\r\n        this.selectedOption = _.find(this.options, { active: true }) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_TITLE': 'Выберите опцию' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_SELECT': 'Select' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_SELECT': 'Выбрать' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_CANCEL': 'Отменить' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_OPTIONS_SELECT');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_OPTIONS_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }\r\n\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n    }\r\n\r\n    public onKeyPress(event: JQueryKeyEventObject) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelect() {\r\n        let option: OptionsDialogData;\r\n        option = _.find(this.options, { name: this.selectedOptionName });\r\n\r\n        this.$mdDialog.hide({ option: option, isCheckboxOption: this.isCheckboxOption });\r\n    }\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .controller('pipOptionsDialogController', OptionsDialogController);","\r\nexport class OptionsDialogData {\r\n    public icon: string = 'star';\r\n    public name: string;\r\n    public title: string;\r\n    public active: boolean = true; \r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Dialog title \r\n    public title?: string;\r\n    // confirm button title\r\n    public ok?: string;\r\n    // cancel button title\r\n    public cancel?: string;\r\n    // Dialog options array\r\n    public options?: OptionsDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;\r\n    // Value for checkbox option\r\n    public isCheckboxOption?: boolean;\r\n    // Checkbox caption, Checkbox visible if caption is set\r\n    public checkboxOptionCaption?: string;\r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogResult {\r\n    public option: OptionsDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\nimport { IOptionsDialogService } from './IOptionsDialogService';\r\n\r\nclass OptionsDialogService implements IOptionsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public  show(params: OptionsDialogParams, \r\n        successCallback?: (result: OptionsDialogResult) => void, \r\n        cancelCallback?: () => void): any {\r\n        \r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options/OptionsDialog.html',\r\n            controller: 'pipOptionsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .service('pipOptionsDialog', OptionsDialogService);","angular\r\n    .module('pipOptionsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsDialogData';\r\nimport './OptionsDialogParams';\r\nimport './OptionsDialogResult';\r\nimport './OptionsDialogController';\r\nimport './OptionsDialogService';\r\n\r\n\r\nexport * from './OptionsDialogData';\r\nexport * from './OptionsDialogParams';\r\nexport * from './OptionsDialogResult';\r\nexport * from './OptionsDialogService';\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nclass OptionsBigDialogController extends OptionsBigDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    private $mdDialog: angular.material.IDialogService;\r\n\r\n    public theme: string;\r\n    public optionIndex: number;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService, \r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n\r\n        this.initTranslate()\r\n\r\n        this.selectedOption = _.find(this.options, {active: true}) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsBigDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_TITLE': 'Выберите опцию' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_SELECT': 'Select' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_SELECT': 'Выбрать' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_CANCEL': 'Отменить' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_OPTIONS_SELECT');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_OPTIONS_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }      \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n\r\n        if (this.noActions) {\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelected() {\r\n        this.selectedOptionName = this.options[this.optionIndex].name;\r\n\r\n        if (this.noActions) {\r\n               this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            if (index !== undefined && index > -1 && index < this.options.length) {\r\n                this.selectedOptionName = this.options[index].name;\r\n                this.onSelect();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public onSelect = function () {\r\n        let option: OptionsBigDialogData;\r\n        option = <OptionsBigDialogData>_.find(this.options, { name: this.selectedOptionName }) || new OptionsBigDialogData();\r\n        this.$mdDialog.hide({ option: option });\r\n    };\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);\r\n","export class OptionsBigDialogData {\r\n    public name: string;\r\n    public title: string;\r\n    public subtitle: string;\r\n}\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;   \r\n    // Dialog title \r\n    public title?: string;  \r\n    // confirm button title\r\n    public ok?: string;\r\n    // cancel button title\r\n    public cancel?: string;\r\n    // Dialog options array\r\n    public options?: OptionsBigDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsBigDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;    \r\n    // Dialog hint title\r\n    public hint?: string;\r\n    // Show title\r\n    public noTitle;\r\n    // Show action button\r\n    public noActions;\r\n}\r\n\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogResult {\r\n    public option: OptionsBigDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogResult } from './OptionsBigDialogResult';\r\nimport { IOptionsBigDialogService } from './IOptionsBigDialogService';\r\n\r\nclass OptionsBigDialogService implements IOptionsBigDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback?: (result: OptionsBigDialogResult) => void, cancelCallback?: () => void): any {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options_big/OptionsBigDialog.html',\r\n            controller: 'pipOptionsBigDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,        \r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsBigDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .service('pipOptionsBigDialog', OptionsBigDialogService);","angular\r\n    .module('pipOptionsBigDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsBigDialogParams';\r\nimport './OptionsBigDialogData';\r\nimport './OptionsBigDialogResult';\r\nimport './OptionsBigDialogController';\r\nimport './OptionsBigDialogService';\r\n\r\n\r\nexport * from './OptionsBigDialogParams';\r\nexport * from './OptionsBigDialogData';\r\nexport * from './OptionsBigDialogResult';\r\nexport * from './IOptionsBigDialogService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{ ::$ctrl.theme }}\"><div class=\"pip-header\"><h3>{{ :: $ctrl.title }}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"$ctrl.onCancel()\">{{ :: $ctrl.cancel }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ :: $ctrl.ok }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetailsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{ ::$ctrl.strings.errorDetails | translate }}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ ::$ctrl.strings.errorCode | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ $ctrl.error.code || $ctrl.error.data.code }}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ ::$ctrl.strings.errorPath | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ $ctrl.error.path || $ctrl.error.data.path }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.isString($ctrl.error) || $ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ ::$ctrl.strings.errorText | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ $ctrl.getErrorText() }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ ::$ctrl.strings.errorMethod | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ $ctrl.error.method || $ctrl.error.data.method }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ ::$ctrl.strings.errorMessage | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ $ctrl.error.message || $ctrl.error.data.message }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"$ctrl.onOk()\">{{ ::$ctrl.dismissButton | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-header\"><h3>{{:: $ctrl.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ $ctrl.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ $ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.checkboxOptionCaption\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"$ctrl.isCheckboxOption\" aria-label=\"CHECKBOX\">{{ ::$ctrl.checkboxOptionCaption | translate }}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"$ctrl.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"$ctrl.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in $ctrl.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'$ctrl.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == $ctrl.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{ option.icon }}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{ ::option.title | translate }}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{ ::option.title | translate }}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::$ctrl.cancel | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_big/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !$ctrl.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': $ctrl.noTitle && $ctrl.hint}\"><h3 class=\"m0\" ng-if=\"!$ctrl.noTitle\">{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.noTitle && $ctrl.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{ ::$ctrl.hint | translate }}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"$ctrl.optionIndex\" index=\"{{ $ctrl.optionIndex }}\" pip-select=\"$ctrl.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == $ctrl.selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"$ctrl.onKeyUp($event, $index)\" ng-repeat=\"option in $ctrl.options\"><div class=\"pip-content content-stretch\" ng-click=\"$ctrl.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{ ::option.title | translate }}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{ ::option.subtitle | translate }}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"$ctrl.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!$ctrl.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::$ctrl.cancel | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\" style=\"margin-right: -6px\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","import { ActionsConfig } from './IActionsService';\r\nimport { ActionItem } from './IActionsService';\r\nimport { ActionsChangedEvent } from './IActionsService';\r\nimport { SecondaryActionsOpenEvent } from './IActionsService';\r\nimport { IActionsService } from './IActionsService';\r\nimport { IActionsProvider } from './IActionsService';\r\n\r\n\r\nclass ActionsService implements IActionsService {\r\n    private _config: ActionsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: ActionsConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\r\n        this._config.primaryLocalActions = primaryActions || [];\r\n        this._config.secondaryLocalActions = secondaryActions || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.primaryLocalActions = [];\r\n        this._config.secondaryLocalActions = [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(action: string, count: number) {\r\n        if (action == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\r\n    }\r\n\r\n    public openMenuEvent(): void {\r\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\r\n    }\r\n}\r\n\r\nclass ActionsProvider implements IActionsProvider {\r\n    private _config: ActionsConfig = new ActionsConfig();\r\n    private _service: ActionsService;\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ActionsConfig) {\r\n        this._config = value || new ActionsConfig();\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ActionsService(this._config, $rootScope);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipActions')\r\n    .provider('pipActions', ActionsProvider);\r\n\r\n","export const ActionsChangedEvent: string = 'pipActionsChanged';\r\nexport const SecondaryActionsOpenEvent: string = 'pipSecondaryActionsOpen';\r\n\r\nexport class SimpleActionItem {\r\n    // Name to refer to the item\r\n    public name: string;\r\n    // Link visible title\r\n    public title?: string;\r\n    // Show divider instead of title\r\n    public divider?: boolean;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Counter badge\r\n    public count?: number;\r\n    // Access function\r\n    public access?: (action: SimpleActionItem) => boolean;\r\n    // Show on specified breakpoints\r\n    public breakpoints?: string[];\r\n    // window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public click?: (action: SimpleActionItem) => void;\r\n}\r\n\r\nexport class ActionItem extends SimpleActionItem {\r\n    public subActions?: SimpleActionItem[];\r\n}\r\n\r\nexport class ActionsConfig {\r\n    // Primary global actions visible on the screen\r\n    public primaryGlobalActions: ActionItem[] = [];\r\n    // Primary local actions visible on the screen\r\n    public primaryLocalActions: ActionItem[] = [];\r\n\r\n    // Secondary global actions available in popup\r\n    public secondaryGlobalActions: ActionItem[] = [];\r\n    // Secondary local actions available in popup\r\n    public secondaryLocalActions: ActionItem[]= [];\r\n}\r\n\r\nexport interface IActionsService {\r\n    readonly config: ActionsConfig;\r\n\r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n\r\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\r\n    hide(): void;\r\n    updateCount(link: string, count: number): void; \r\n    clearCounts(): void;\r\n    openMenuEvent(): void;\r\n}\r\n\r\nexport interface IActionsProvider extends ng.IServiceProvider {\r\n    config: ActionsConfig;\r\n    \r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n}","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass PrimaryActionsController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public config: ActionsConfig;\r\n\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n    public originatorEv: any;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $log: ng.ILogService,\r\n        $attrs: ng.IAttributes\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                DOCUMENTS_ATTACHED: 'document(s) attached',\r\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                DOCUMENTS_ATTACHED: 'документов добавлено',\r\n                ERROR_DOCUMENTS_LOADED: 'Ошибка: <%= error_number %> документ(ов) не загружено'\r\n\r\n            });\r\n        }\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-primary-actions');\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n    }\r\n    \r\n    public $onInit() {\r\n        if (this.localActions) {\r\n            this.pipActions.primaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            this.pipActions.primaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = this.pipActions.config;\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null ;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface IPrimaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any,\r\n    originatorEv: any\r\n}\r\n\r\nconst PrimaryActionsBindings: IPrimaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions',\r\n    originatorEv: '<?pipOriginatorEv'\r\n}\r\n\r\nclass PrimaryActionsChanges implements ng.IOnChangesObject, IPrimaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n    originatorEv: ng.IChangesObject<any>;\r\n}\r\n\r\n\r\n(() => {\r\n    const primaryActions: ng.IComponentOptions = {\r\n        bindings: PrimaryActionsBindings,\r\n        templateUrl: 'actions/PrimaryActions.html',\r\n        controller: PrimaryActionsController\r\n    };\r\n\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipPrimaryActions', primaryActions);\r\n\r\n})();","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass SecondaryActionsController {\r\n    private pipTranslate: pip.services.ITranslateService\r\n    private _menuFn: Function;\r\n    private originatorEv: any;\r\n\r\n    public config: ActionsConfig;\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n\r\n    constructor(\r\n        private $attrs: ng.IAttributes,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $element: ng.IAugmentedJQuery,\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-secondary-actions');\r\n\r\n        if (this.localActions) {\r\n            pipActions.secondaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            pipActions.secondaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = pipActions.config;\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n        this.$rootScope.$on('pipSecondaryActionsOpen', () => {\r\n            this.onActionsMenuOpen();\r\n        });\r\n\r\n    }\r\n\r\n    public getMenu(menuFn: Function): void {\r\n         this._menuFn = menuFn;\r\n    }\r\n\r\n    public onActionsMenuOpen(): void {\r\n        this._menuFn();\r\n    }\r\n\r\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\r\n        this.originatorEv = ev;\r\n        $mdOpenMenu(ev);\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n\r\n    private calcActions(actions: ActionItem[]): number {\r\n        let count: number = 0;\r\n\r\n        _.each(actions, (action: ActionItem) => {\r\n            if (!this.isHidden(action)) {\r\n                count++;\r\n            }\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    public secondaryActionsVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public secondaryDividerVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        // todo: do not supported into ActionItem\r\n        // if (action.close) {\r\n        //     this.$scope.originatorEv = null;\r\n        // }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface ISecondaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any\r\n}\r\n\r\nconst SecondaryActionsBindings: ISecondaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions'\r\n}\r\n\r\nclass SecondaryActionsChanges implements ng.IOnChangesObject, ISecondaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n}\r\n\r\n\r\n(() => {\r\n    const secondaryActions: ng.IComponentOptions = {\r\n        bindings: SecondaryActionsBindings,\r\n        templateUrl: 'actions/SecondaryActions.html',\r\n        controller: SecondaryActionsController\r\n    };\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipSecondaryActions', secondaryActions);\r\n\r\n})();\r\n","angular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\r\n\r\nimport './ActionsService';\r\nimport './PrimaryActions';\r\nimport './SecondaryActions';\r\n\r\nexport * from './IActionsService';","﻿import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarController {\r\n    public config: AppBarConfig;\r\n\r\n    constructor(\r\n        $element: ng.IAugmentedJQuery,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n        // Apply class and call resize\r\n        $element.addClass('pip-appbar');\r\n        $element.addClass('color-primary-bg');\r\n\r\n        this.config = pipAppBar.config;\r\n\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(event, config)\r\n        });\r\n    }\r\n\r\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        this.config = config;\r\n    }\r\n    \r\n}\r\n\r\n{\r\n    const appbar: ng.IComponentOptions = {\r\n        transclude: true,\r\n        templateUrl: 'appbar/AppBar.html',\r\n        controller: AppBarController\r\n    }\r\n\r\n    angular\r\n        .module('pipAppBar')\r\n        .component('pipAppbar', appbar);\r\n\r\n}","export class AppBarConfig {\r\n    visible: boolean;\r\n    parts: any;\r\n    classes: string[];\r\n} ","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarPartController {\r\n    \r\n    private _partName: string;\r\n    private _partValue: string;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $log: ng.ILogService,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._partName = String($attrs['pipAppbarPart']);\r\n        this._partValue = null;\r\n\r\n        // Break part apart\r\n        let pos: number = this._partName.indexOf(':');\r\n        if (pos > 0) {\r\n            this._partValue = this._partName.substr(pos + 1);\r\n            this._partName = this._partName.substr(0, pos);\r\n        }\r\n\r\n        this.onAppBarChanged(null, pipAppBar.config);\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(null, config)\r\n        });\r\n\r\n    }\r\n\r\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        let parts: any = config.parts || {};\r\n        let currentPartValue = parts[this._partName];\r\n\r\n        // Set visible variable to switch ngIf\r\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\r\n\r\n        if (visible != this.$scope['visible'])\r\n            this.$scope['visible'] = visible;\r\n    }\r\n\r\n}\r\n\r\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n(() => {\r\n    function appbarPart(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs['ngIf'] = () => {\r\n                    return $scope['visible'];\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: AppBarPartController\r\n        };\r\n    }\r\n\r\n    angular.module('pipAppBar')\r\n        .directive('pipAppbarPart', appbarPart);\r\n\r\n})();","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService, IAppBarProvider } from './IAppBarService';\r\n\r\nexport const AppBarChangedEvent: string = 'pipAppBarChanged';\r\n\r\nclass AppBarService implements IAppBarService {\r\n    private _config: AppBarConfig;\r\n\r\n    public constructor(config: AppBarConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\r\n        this._config.visible = true;\r\n        this._config.parts = parts || this._config.parts || {};\r\n        this._config.classes = classes || this._config.classes || [];\r\n        if (shadowBreakpoints) {\r\n            this.setShadow(shadowBreakpoints); \r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private hideShadow(): void {\r\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\r\n    }\r\n\r\n    private setShadow(breakpoints: string[]): void {\r\n        this.hideShadow();\r\n\r\n        if (breakpoints != null && breakpoints.length > 0) {\r\n            _.each(breakpoints, (bp) => {\r\n                this._config.classes.push('pip-shadow-' + bp);\r\n            });\r\n        } else {\r\n            this._config.classes.push('pip-shadow');\r\n        }\r\n    }\r\n\r\n    public addShadow(...breakpoints: string[]): void {\r\n        this.setShadow(breakpoints);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeShadow(): void {\r\n        this.hideShadow();\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(AppBarChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AppBarProvider implements IAppBarProvider {\r\n    private _config: AppBarConfig = {\r\n        visible: true,\r\n        parts: {},\r\n        classes: []\r\n    };\r\n    private _service: AppBarService;\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AppBarConfig) {\r\n        this._config = value || new AppBarConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AppBarService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nangular\r\n    .module('pipAppBar')\r\n    .provider('pipAppBar', AppBarProvider);\r\n","angular\r\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './AppBarConfig';\r\nimport './AppBarService';\r\nimport './AppBar';\r\nimport './AppBarPart';\r\n\r\nexport * from './AppBarService';\r\n","import { SimpleActionItem } from '../actions/IActionsService';\r\nimport { BreadcrumbItem } from './BreadcrumbConfig';\r\nimport { BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService } from './IBreadcrumbService';\r\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\r\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\r\nimport { OpenSearchEvent } from '../search/SearchService';\r\n\r\n// interface IBreadcrumbBindings {\r\n//     [key: string]: any;\r\n\r\n//     breakpoint: any;\r\n// }\r\n\r\n// const BreadcrumbBindings: IBreadcrumbBindings = {\r\n//     breakpoint: '<?pipBreakpoint', // string\r\n// }\r\n\r\n// class BreadcrumbChanges implements ng.IOnChangesObject, IBreadcrumbBindings {\r\n//     [key: string]: ng.IChangesObject<any>;\r\n//     // Not one way bindings\r\n//     breakpoint: ng.IChangesObject<string>;\r\n// }\r\n\r\nclass BreadcrumbController {\r\n    private originatorEv: Event;\r\n    private _media: any;\r\n\r\n    public config: BreadcrumbConfig;\r\n    // public breakpoint: string;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private $injector: ng.auto.IInjectorService,\r\n        pipBreadcrumb: IBreadcrumbService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $state: ng.ui.IStateService,\r\n        $element: ng.IAugmentedJQuery,\r\n        private navConstant: any\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\r\n            this.onBreadcrumbChanged(event, config);\r\n        });\r\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\r\n\r\n        if (!this.config.breakpoint) {\r\n            this.config.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n        }\r\n    }\r\n\r\n    // public $onChanges(changes: BreadcrumbChanges) {\r\n\r\n    //     if (!changes.breakpoint) {\r\n    //         if (!this.breakpoint) {\r\n    //             this.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n    //         }\r\n    //     } else {\r\n    //         this.breakpoint = changes.breakpoint.currentValue ? changes.breakpoint.currentValue : this.navConstant.BREADCRUMB_BREAKPOINT\r\n    //     }\r\n    // }\r\n\r\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack(): void {\r\n        let items: BreadcrumbItem[] = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let item: BreadcrumbItem = items[items.length - 1];\r\n            if (_.isFunction(item.click)) {\r\n                item.click(item);\r\n            } else {\r\n                this.$window.history.back();\r\n            }\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n    }\r\n\r\n    public onClick(item: BreadcrumbItem): void {\r\n        if (_.isFunction(item.click)) {\r\n            item.click(item);\r\n        }\r\n    }\r\n\r\n    public openSearch(): void {\r\n        this.$rootScope.$broadcast(OpenSearchEvent);\r\n    }\r\n\r\n    public actionsVisible(item: BreadcrumbItem): boolean {\r\n\r\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\r\n    }\r\n\r\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\r\n        this.originatorEv = event;\r\n        $mdOpenMenu(this.originatorEv);\r\n    }\r\n\r\n    public onSubActionClick(action: SimpleActionItem): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.get('$state') as ng.ui.IStateService\r\n                _state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n            this.originatorEv = null;\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n            this.originatorEv = null;\r\n        }\r\n    }\r\n}\r\n\r\nconst breadcrumb: ng.IComponentOptions = {\r\n    // bindings: BreadcrumbBindings,\r\n    templateUrl: 'breadcrumb/Breadcrumb.html',\r\n    controller: BreadcrumbController\r\n}\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .component('pipBreadcrumb', breadcrumb);","import { SimpleActionItem } from '../actions/IActionsService';\r\nexport class BreadcrumbItem {\r\n    title: string = null;\r\n    click?: (item: BreadcrumbItem) => void = null;   \r\n    subActions?: SimpleActionItem[] = null; \r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n    breakpoint: string;\r\n}\r\n","import { BreadcrumbItem, BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService, IBreadcrumbProvider } from './IBreadcrumbService';\r\n\r\nexport const BreadcrumbChangedEvent: string = \"pipBreadcrumbChanged\";\r\nexport const BreadcrumbBackEvent: string = \"pipBreadcrumbBack\";\r\n\r\nclass BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        config: BreadcrumbConfig\r\n    ) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get breakpoint(): string {\r\n        return this._config.breakpoint;\r\n    }\r\n\r\n    public set breakpoint(value: string) {\r\n        this._config.breakpoint = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showText(text: string, criteria?: string): void {\r\n        this._config.text = text;\r\n        this._config.items = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\r\n        this._config.items = items || [];\r\n        this._config.text = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public sendConfigEvent() {\r\n        this.$rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\n\r\nclass BreadcrumbProvider implements IBreadcrumbProvider, ng.IServiceProvider {\r\n    private _config: BreadcrumbConfig = new BreadcrumbConfig();\r\n    private _service: BreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): IBreadcrumbService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService($rootScope, this._config);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .provider('pipBreadcrumb', BreadcrumbProvider);\r\n","angular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\r\n\r\nimport './Breadcrumb';\r\nimport './BreadcrumbService';\r\n\r\nexport * from './BreadcrumbService';\r\n\r\n\r\n","import { INavService } from './INavService'\r\nimport { INavIconService } from '../icon/INavIconService';\r\nimport { INavMenuService } from '../menu/INavMenuService';\r\nimport { INavHeaderService } from '../header/INavHeaderService';\r\nimport { IBreadcrumbService } from '../breadcrumb/IBreadcrumbService';\r\nimport { ISearchService } from '../search/ISearchService';\r\nimport { IActionsService } from '../actions/IActionsService';\r\nimport { IAppBarService } from '../appbar/IAppBarService';\r\nimport { ISideNavService } from '../sidenav/ISideNavService';\r\n\r\nclass NavService implements INavService {\r\n\r\n    public appbar: IAppBarService;\r\n    public icon: INavIconService;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: IActionsService;\r\n    public search: ISearchService;\r\n    public sidenav: ISideNavService;\r\n    public header: INavHeaderService;\r\n    public menu: INavMenuService;\r\n\r\n    public constructor($injector: ng.auto.IInjectorService) {\r\n        \"ngInject\";\r\n\r\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\r\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\r\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\r\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\r\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\r\n    }\r\n\r\n    public reset() {\r\n        // Reset appbar\r\n        if (this.appbar) {\r\n            this.appbar.show();\r\n        }\r\n\r\n        // Reset icon\r\n        if (this.icon) {\r\n            this.icon.showMenu();\r\n        }\r\n\r\n        // Reset breadcrumb\r\n        if (this.breadcrumb) {\r\n            this.breadcrumb.showText(null);\r\n        }\r\n\r\n        // Reset actions\r\n        if (this.actions) {\r\n            this.actions.show();\r\n        }\r\n\r\n        // Reset search\r\n        if (this.search) {\r\n            this.search.set(null);\r\n        }\r\n\r\n        if (this.sidenav) {\r\n            this.sidenav.show();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavService', [])\r\n    .service('pipNavService', NavService);","{\r\n    class DropdownController {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n\r\n        public themeClass: string;\r\n        public media: any;\r\n        public actions: any[]; // string or array\r\n        public activeIndex: number;\r\n        public selectedIndex: number;\r\n        public currentTheme: string;\r\n\r\n        public ngDisabled: Function;\r\n        public showDropdown: Function;\r\n        public select: any;\r\n        public pipChange: Function;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            $element: ng.IAugmentedJQuery,\r\n            $attrs: ng.IAttributes,\r\n            $injector: ng.auto.IInjectorService,\r\n            $log: ng.ILogService,\r\n            $rootScope: ng.IRootScopeService,\r\n            $mdMedia: angular.material.IMedia,\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\r\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if ($rootScope['$theme']) {\r\n                this.currentTheme = $rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = ($attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\r\n\r\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n            this.media = !_.isUndefined(this._pipMedia) ? this._pipMedia : $mdMedia;\r\n            this.actions = (this.actions && _.isArray(this.actions)) ? this.actions : [];\r\n            this.activeIndex = this.activeIndex || 0;\r\n        }\r\n\r\n        public disabled(): boolean {\r\n            if (this.ngDisabled) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public onSelect(index: number): void {\r\n            this.activeIndex = index;\r\n            if (this.select) {\r\n                this.select(this.actions[index], this.activeIndex);\r\n            }\r\n\r\n            if (this.pipChange) {\r\n                this.$timeout(() => {\r\n                    this.pipChange();\r\n                });\r\n            }\r\n        }\r\n\r\n        public show(): boolean {\r\n            let result: boolean;\r\n            if (this.showDropdown()) {\r\n                return !!this.showDropdown();\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    interface IDropdownBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any,\r\n        actions: any,\r\n        showDropdown: any,\r\n        activeIndex: any,\r\n        select: any,\r\n        pipChange: any\r\n    }\r\n\r\n    const DropdownBindings: IDropdownBindings = {\r\n        ngDisabled: '&',\r\n        actions: '=pipActions',\r\n        showDropdown: '&pipShow',\r\n        activeIndex: '=pipActiveIndex',\r\n        select: '=pipDropdownSelect',\r\n        pipChange: '&'\r\n    }\r\n\r\n    class DropdownChanges implements ng.IOnChangesObject, IDropdownBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        ngDisabled: ng.IChangesObject<Function>;\r\n        actions: ng.IChangesObject<any>;\r\n        showDropdown: ng.IChangesObject<Function>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<any>;\r\n        pipChange: ng.IChangesObject<Function>;\r\n    }\r\n\r\n    const dropdown: ng.IComponentOptions = {\r\n        bindings: DropdownBindings,\r\n        templateUrl: 'dropdown/Dropdown.html',\r\n        controller: DropdownController\r\n    };\r\n\r\n    angular\r\n        .module('pipDropdown', ['pipNav.Templates'])\r\n        .component('pipDropdown', dropdown);\r\n\r\n}","import { INavHeaderService } from \"./INavHeaderService\";\r\nimport { NavHeaderConfig } from \"./NavHeaderConfig\";\r\n\r\n{\r\n    class NavHeaderController {\r\n        private cleanupNavHeaderChanged: Function;\r\n        private cleanupSideNavStateChanged: Function;\r\n\r\n        public title: string;\r\n        public subtitle: string;\r\n        public imageUrl: string = null;\r\n        public imageCss: string;\r\n        public image: any;\r\n        public imageBlock: any;\r\n        public loadedDefaultImage: boolean;\r\n        public showHeader: boolean;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $scope: angular.IScope,\r\n            $log: ng.ILogService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipNavHeader: INavHeaderService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            this.initImage();\r\n\r\n            this.cleanupNavHeaderChanged = $rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\r\n                this.onNavHeaderChanged($event, config)\r\n            });\r\n            this.cleanupSideNavStateChanged = $rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n        }\r\n\r\n        public $onDestroy() {\r\n\r\n            if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n                this.cleanupNavHeaderChanged();\r\n            }\r\n            if (angular.isFunction(this.cleanupSideNavStateChanged)) {\r\n                this.cleanupSideNavStateChanged();\r\n            }\r\n        }\r\n\r\n        private initImage() {\r\n            this.imageBlock = this.$element.find('.pip-sticky-nav-header-user');\r\n\r\n            this.$timeout(() => {\r\n                this.image = this.$element.find('.pip-sticky-nav-header-user-image');\r\n\r\n                if (this.image[0]) {\r\n                    this.image[0].onload = (() => this.onImageLoad());\r\n\r\n                    // ($event: HTMLElement, erroev: Event): any =>  {\r\n                    //     this.onImageLoad($event);\r\n                    //     return null;\r\n                    // }\r\n                    this.image[0].onerror = (() => this.onImageError());\r\n                    // ($event: ng.IAngularEvent) => {\r\n                    //     this.onImageError($event);\r\n                    // }\r\n                } else {\r\n                    this.image.onload = (() => this.onImageLoad());\r\n                    this.image.onerror = (() => this.onImageError());\r\n                }\r\n\r\n                this.onNavHeaderChanged(null, this.pipNavHeader.config);\r\n            }, 20);\r\n        }\r\n\r\n        private initHeader() {\r\n            if (!this.pipNavHeader.config) return;\r\n\r\n            this.title = this.pipNavHeader.config.title;\r\n            this.subtitle = this.pipNavHeader.config.subtitle;\r\n            this.imageUrl = this.pipNavHeader.config.imageUrl;\r\n            this.imageCss = this.pipNavHeader.config.imageCss;\r\n        }\r\n\r\n        // // When image is loaded resize/reposition it\r\n        // private onImageLoad($event) {\r\n        //     let image: ng.IAugmentedJQuery = $($event.target);\r\n        //     this.setImageMarginCSS(image);\r\n        // };\r\n\r\n        // private onImageError($event) {\r\n        //     if (this.loadedDefaultImage) return;\r\n        //     this.$scope.$apply(() => {\r\n        //         this.setImage(this.pipNavHeader.config, true);\r\n        //     });\r\n        // };\r\n        // When image is loaded resize/reposition it\r\n        private onImageLoad() {\r\n            this.setImageMarginCSS(this.image);\r\n        };\r\n\r\n        private onImageError() {\r\n            if (this.loadedDefaultImage) return;\r\n            this.$scope.$apply(() => {\r\n                this.setImage(this.pipNavHeader.config, true);\r\n            });\r\n        };\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\r\n            if (state === undefined) return;\r\n\r\n            if (state.id == 'toggle') {\r\n                this.$timeout(() => {\r\n                    this.showHeader = state && state.id == 'toggle';\r\n                }, 400);\r\n            } else {\r\n                this.showHeader = false;\r\n            }\r\n        }\r\n\r\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\r\n            var cssParams = {},\r\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\r\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\r\n                imageWidth = image[0]['naturalWidth'] || image.width,\r\n                imageHeight = image[0]['naturalHeight'] || image.height,\r\n                margin = 0;\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\r\n                cssParams['width'] = '' + containerWidth + 'px';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            image.css(cssParams);\r\n        };\r\n\r\n        private setImage(config, loadError: boolean) {\r\n            if (!config) return;\r\n\r\n            let url: string;\r\n\r\n            if (!loadError && !!config.imageUrl) {\r\n                url = config.imageUrl;\r\n            } else {\r\n                this.loadedDefaultImage = true;\r\n                url = config.defaultImageUrl;\r\n            }\r\n\r\n            if (url && this.image) {\r\n                this.image.attr('src', url);\r\n            } else {\r\n                this.imageBlock.css(\"display\", \"none\");\r\n            }\r\n        }\r\n\r\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\r\n            if (!config) return;\r\n\r\n            this.title = config.title;\r\n            this.subtitle = config.subtitle;\r\n            this.imageUrl = config.imageUrl;\r\n            this.imageCss = config.imageCss;\r\n\r\n            this.setImage(config, false)\r\n        }\r\n\r\n        public onUserClick() {\r\n            this.$rootScope.$broadcast('pipNavUserClicked'); // todo\r\n        }\r\n\r\n    }\r\n\r\n    const navHeader: ng.IComponentOptions = {\r\n        templateUrl: 'header/NavHeader.html',\r\n        controller: NavHeaderController\r\n    };\r\n\r\n    angular\r\n        .module('pipNavHeader')\r\n        .component('pipNavHeader', navHeader);\r\n\r\n}","export class NavHeaderConfig {\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Image url\r\n    public defaultImageUrl: string;\r\n    // Title\r\n    public title: string;\r\n    // Subtitle\r\n    public subtitle: string;\r\n    // image styles\r\n    public imageCss: string;\r\n    // Handle header click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavHeaderConfig } from \"./NavHeaderConfig\";\r\nimport { INavHeaderService, INavHeaderProvider } from \"./INavHeaderService\";\r\n\r\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\r\n\r\nclass NavHeaderService implements INavHeaderService {\r\n    private _config: NavHeaderConfig;\r\n\r\n    public constructor(config: NavHeaderConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(NavHeaderChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavHeaderProvider implements INavHeaderProvider {\r\n    private _config: NavHeaderConfig = new NavHeaderConfig();\r\n    private _service: NavHeaderService;\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavHeaderConfig) {\r\n        this._config = value || new NavHeaderConfig();\r\n    }\r\n\r\n    public get defaultImageUrl(): string {\r\n        return this._config.defaultImageUrl;\r\n    }\r\n\r\n    public set defaultImageUrl(value: string) {\r\n        this._config.defaultImageUrl = value;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n    }\r\n\r\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavHeaderService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavHeader')\r\n    .provider('pipNavHeader', NavHeaderProvider);\r\n","angular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './NavHeaderService';\r\nimport './NavHeader';\r\n\r\nexport * from './NavHeaderService';","import { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService } from './INavIconService';\r\nimport { NavIconClickedEvent, NavIconChangedEvent } from './NavIconService';\r\n\r\ninterface INavIconBindings {\r\n    [key: string]: any;\r\n\r\n    type: any;\r\n    imageUrl: any;\r\n    icon: any;\r\n}\r\n\r\nconst NavIconBindings: INavIconBindings = {\r\n    type: '<?pipType',\r\n    imageUrl: '<?pipImageUrl',\r\n    icon: '<?pipIcon'\r\n}\r\n\r\nclass NavIconChanges implements ng.IOnChangesObject, INavIconBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n    // Not one way bindings\r\n\r\n    type: ng.IChangesObject<string>;\r\n    imageUrl: ng.IChangesObject<string>;\r\n    icon: ng.IChangesObject<string>;\r\n}\r\n\r\nclass NavIconController implements INavIconBindings {\r\n    private clearFn: Function;\r\n\r\n    public config: NavIconConfig;\r\n    public type: string;\r\n    public imageUrl: string;\r\n    public icon: string;\r\n\r\n    constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        $element: ng.IAugmentedJQuery,\r\n        $scope: angular.IScope,\r\n        $log: ng.ILogService,\r\n        pipNavIcon: INavIconService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-nav-icon');\r\n\r\n        this.config = pipNavIcon.config;\r\n\r\n        this.clearFn = $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\r\n            this.onNavIconChanged(event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onInit() {\r\n        if (this.type) {\r\n            this.config.type = this.type;\r\n        }\r\n        if (this.imageUrl) {\r\n            this.config.imageUrl = this.imageUrl;\r\n        }\r\n        if (this.icon) {\r\n            this.config.icon = this.icon;\r\n        }        \r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    public onNavIconClick(): void {\r\n        if (_.isFunction(this.config.click)) {\r\n            // Execute nav icon callback\r\n            this.config.click();\r\n        } else if (this.config.event) {\r\n            this.$rootScope.$broadcast(this.config.event);\r\n        } else if (this.config.type == 'menu') {\r\n            this.$rootScope.$broadcast(ToggleSideNavEvent);\r\n        } else if (this.config.type == 'back') {\r\n            this.$window.history.back();\r\n        } else {\r\n            this.$rootScope.$broadcast(NavIconClickedEvent);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst NavIcon: ng.IComponentOptions = {\r\n    bindings: NavIconBindings,\r\n    templateUrl: 'icon/NavIcon.html',\r\n    controller: NavIconController\r\n}\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .component('pipNavIcon', NavIcon);\r\n","export class NavIconConfig {\r\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n    public type: string;\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Icon name\r\n    public icon: string;\r\n    // Handle nav icon click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService, INavIconProvider } from './INavIconService';\r\n\r\nexport const NavIconClickedEvent: string = 'pipNavIconClicked';\r\nexport const NavIconChangedEvent: string = 'pipNavIconChanged';\r\n\r\nclass NavIconService implements INavIconService {\r\n    private _config: NavIconConfig;\r\n\r\n    public constructor(config: NavIconConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n            this._config.event = null;\r\n        } else if (_.isString(callbackOrEvent)) {\r\n            this._config.click = null;\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public showMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(NavIconChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavIconProvider implements INavIconProvider {\r\n    private _config: NavIconConfig = new NavIconConfig();\r\n    private _service: NavIconService;\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavIconConfig) {\r\n        this._config = value || new NavIconConfig();\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public setMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavIconService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n     \r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .provider('pipNavIcon', NavIconProvider);\r\n","angular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavIconConfig';\r\nimport './INavIconService';\r\nimport './NavIconService';\r\nimport './NavIcon';\r\n\r\n\r\nexport * from './NavIconConfig';\r\nexport * from './INavIconService';\r\nexport * from './NavIconService';\r\n","{\r\n    class LanguagePickerDirectiveController implements ILanguagePickerBindings {\r\n        private _translate: pip.services.ITranslateService;\r\n        public languages: string[];\r\n        public value: string;\r\n\r\n        public constructor(\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            $rootScope: ng.IRootScopeService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.setLanguages(this.languages);\r\n            this.value = this.value || this.languages[0];\r\n        }\r\n\r\n        public $onChanges(changes: LanguagePickerChanges) {\r\n            if (this.value != changes.value.previousValue) {\r\n            }\r\n        }\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(languages: string[]): void {\r\n            this.languages = languages && languages.length > 0 ? languages : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language: string) {\r\n            if (this._translate != null) {\r\n                this.value = language;\r\n                this._translate.language = this.value;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    interface ILanguagePickerBindings {\r\n        [key: string]: any;\r\n\r\n        languages: any,\r\n        value: any\r\n    }\r\n\r\n    const LanguagePickerBindings: ILanguagePickerBindings = {\r\n        languages: '<?languages',\r\n        value: '<?value'\r\n    }\r\n\r\n    class LanguagePickerChanges implements ng.IOnChangesObject, ILanguagePickerBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n\r\n        languages: ng.IChangesObject<string[]>;\r\n        value: ng.IChangesObject<string>;\r\n    }\r\n\r\n    const languagePickerDirective: ng.IComponentOptions = {\r\n        bindings: LanguagePickerBindings,\r\n        templateUrl: 'language/LanguagePicker.html',\r\n        controller: LanguagePickerDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .component('pipLanguagePicker', languagePickerDirective);\r\n\r\n}","import { ISideNavService} from '../sidenav/ISideNavService';\r\nimport { INavMenuService} from './INavMenuService';\r\nimport { SideNavStateNames, SideNavState, SideNavConfig } from '../sidenav/SideNavState';\r\nimport { NavMenuConfig, NavMenuSection, NavMenuLink } from './NavMenuConfig';\r\n\r\n(() => {\r\n    class NavMenuController {\r\n        private _state: angular.ui.IStateService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n        private _animationDuration;\r\n        private _pipSideNavElement: ng.IAugmentedJQuery;\r\n\r\n        public sections: NavMenuSection[];\r\n        public defaultIcon: string;\r\n        public isCollapsed: boolean;\r\n        public expanded: boolean = null;\r\n        public expandedButton: boolean;\r\n        public sideNavState: SideNavState;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $window: ng.IWindowService,\r\n            private $location: ng.ILocationService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipSideNav: ISideNavService,\r\n            private pipNavMenu: INavMenuService,\r\n\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._state = $injector.has('$state') ? <angular.ui.IStateService>$injector.get('$state') : null;\r\n\r\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\r\n                this._pipSideNavElement = $element.parents('pip-sidenav');///$element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n\r\n            this.sections = this.$scope['sections'] || this.pipNavMenu.sections;\r\n\r\n            this.setCollapsible();\r\n\r\n            this.defaultIcon = this.pipNavMenu.defaultIcon;\r\n\r\n            this.onStateChanged(null, this.pipSideNav.state);\r\n\r\n            let cleanupNavMenuChanged: Function = this.$rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\r\n                this.onConfigChanged($event, config)\r\n            });\r\n            let cleanupSideNavStateChanged: Function = this.$rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                if (angular.isFunction(cleanupNavMenuChanged)) {\r\n                    cleanupNavMenuChanged();\r\n                }\r\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\r\n                    cleanupSideNavStateChanged();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private setCollapsible(): void {\r\n            var collapsed: boolean;\r\n            if (angular.isFunction(this.$scope['collapsed'])) {\r\n                collapsed = this.$scope['collapsed']();\r\n            } else {\r\n                collapsed = this.$scope['collapsed'] !== false && this.$scope['collapsed'] !== 'false';\r\n            }\r\n\r\n            this.isCollapsed = collapsed;\r\n        }\r\n\r\n        public onExpand(): void {\r\n            if (!this.isCollapsed) { return }\r\n\r\n            this.expanded = !this.expanded;\r\n\r\n            if (this.expanded) {\r\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\r\n            } else {\r\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\r\n            }\r\n            this.$rootScope.$emit('pipNavExpanded', this.expanded);\r\n        }\r\n\r\n        public isHidden(item: NavMenuLink): boolean {\r\n            return item && item.access && !item.access(item);\r\n        }\r\n\r\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\r\n            var result = true;\r\n            _.each(linkCollection, (link: NavMenuLink) => {\r\n                if (!this.isHidden(link)) {\r\n                    result = false;\r\n                }\r\n            });\r\n\r\n            return result;\r\n        }\r\n\r\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\r\n            if (!config) return;\r\n            this.sections = config.sections;\r\n        }\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\r\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\r\n            if (!state) return;\r\n\r\n            this.isCollapsed = state.expand;\r\n            if (!state.expandedButton || this.expanded == null) this.expanded = state.isExpanded;\r\n            this.expandedButton = state.expandedButton;\r\n\r\n            this.sideNavState = state;\r\n        }\r\n\r\n        public isActive(link: NavMenuLink): boolean {\r\n            if (link.parentState) {\r\n\r\n                if (this._state != null && this._state.includes(link.parentState)) {\r\n                    return true;\r\n                }\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.includes(link.state)) {\r\n                    return true;\r\n                }\r\n            } else if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    return true;\r\n                }\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\r\n            event.stopPropagation();\r\n\r\n            if (!link) {\r\n                this.pipSideNav.close();\r\n\r\n                return;\r\n            }\r\n\r\n            if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$window.location.href = link.href;\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    this.pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$location.url(link.url);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.current.name === link.state) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this._state.go(link.state, link.stateParams);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.event) {\r\n                this.$rootScope.$broadcast(link.event, link);\r\n            }\r\n\r\n            this.pipSideNav.close();\r\n        }\r\n    }\r\n\r\n    interface INavMenuBindings {\r\n        [key: string]: any;\r\n        sections: any,\r\n        collapsed: any\r\n    }\r\n\r\n    const NavMenuBindings: INavMenuBindings = {\r\n        sections: '=?pipSections',\r\n        collapsed: '=?pipCollapsed'\r\n    };\r\n\r\n    function navMenuDirective() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: NavMenuBindings,\r\n            replace: false,\r\n            templateUrl: 'menu/NavMenu.html',\r\n            controller: NavMenuController,\r\n            controllerAs: '$ctrl'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipNavMenu')\r\n        .directive('pipNavMenu', navMenuDirective);\r\n\r\n})();","import { NavMenuConfig, NavMenuSection } from './NavMenuConfig';\r\nimport { INavMenuService, INavMenuProvider } from './INavMenuService';\r\n\r\nexport const NavMenuChangedEvent = 'pipNavMenuChanged';\r\n\r\nclass NavMenuService implements INavMenuService {\r\n    private _config: NavMenuConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: NavMenuConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public updateBadgeStyle(link: string, style: string): void {\r\n        if (link == null || !_.isString(style)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.badgeStyle = style;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(link: string, count: number): void {\r\n        if (link == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.count = count;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                l.count = null;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavMenuProvider implements INavMenuProvider {\r\n    private _config: NavMenuConfig = {\r\n        sections: [],\r\n        defaultIcon: 'icons:folder'\r\n    };\r\n    private _service: NavMenuService;\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavMenuService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavMenu')\r\n    .provider('pipNavMenu', NavMenuProvider);\r\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavMenuService';\r\nimport './NavMenu';","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchService } from './ISearchService';\r\nimport { OpenSearchEvent, CloseSearchEvent, SearchChangedEvent, SearchActivatedEvent } from './SearchService';\r\n\r\nclass SearchBarController {\r\n    private clearFn: Function;\r\n\r\n    public config: SearchConfig;\r\n    public enabled: boolean = false;\r\n    public search: any = { text: '' };\r\n\r\n    public constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $rootScope: ng.IRootScopeService,\r\n        pipSearch: ISearchService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-search-bar');\r\n\r\n        this.config = pipSearch.config;\r\n        this.stateChange();\r\n        this.clearFn = $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\r\n            this.onSearchChanged(event, config);\r\n        });\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    private stateChange(): void {\r\n        if (this.enabled) {\r\n            this.$element.addClass('w-stretch');\r\n            this.$element.parent().addClass('pip-search-active');\r\n\r\n        } else {\r\n            this.$element.removeClass('w-stretch');\r\n            this.$element.parent().removeClass('pip-search-active');\r\n        }\r\n    }\r\n\r\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\r\n        this.config = config;\r\n        this.enabled = false;\r\n        this.search.text = '';\r\n        this.stateChange();\r\n    }\r\n\r\n    private focusText(): void {\r\n        setTimeout(() => {\r\n            let element: JQuery = $('.pip-search-text');\r\n            if (element.length > 0)\r\n                element.focus();\r\n        }, 0);\r\n    }\r\n\r\n    public enable(): void {\r\n        this.search.text = this.config.criteria;\r\n        this.enabled = true;\r\n        this.focusText();\r\n        this.stateChange();\r\n    }\r\n\r\n    public onClick(): void {\r\n        let search = this.search.text;\r\n\r\n        this.search.text = '';\r\n        this.enabled = false;\r\n        this.stateChange();\r\n\r\n        if (this.config.callback) {\r\n            this.config.callback(search);\r\n        } else {\r\n            this.$rootScope.$broadcast(SearchActivatedEvent, search);\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        if (this.search.text) {\r\n            this.search.text = '';\r\n            this.focusText();\r\n        } else {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    public onKeyDown(event: KeyboardEvent): void {\r\n        // Enter pressed\r\n        if (event.keyCode === 13)\r\n            this.onClick();\r\n        // ESC pressed\r\n        else if (event.keyCode === 27) {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n        }\r\n    }\r\n}\r\n\r\nconst SearchBar: ng.IComponentOptions = {\r\n    templateUrl: 'search/SearchBar.html',\r\n    controller: SearchBarController\r\n}\r\n\r\nangular\r\n    .module('pipSearchBar')\r\n    .component('pipSearchBar', SearchBar);\r\n","export class SearchConfig {\r\n    // Search visible\r\n    public visible: boolean;\r\n    // Search criteria\r\n    public criteria: string;\r\n    // Custom search parameters\r\n    public params: any;\r\n    // History for search autocomplete\r\n    public history: string[];\r\n    // Callback for search\r\n    callback: (criteria: string) => void;\r\n}","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchProvider, ISearchService } from './ISearchService';\r\n\r\nexport const OpenSearchEvent = 'pipOpenSearch';\r\nexport const CloseSearchEvent = 'pipCloseSearch';\r\nexport const SearchChangedEvent = 'pipSearchChanged';\r\nexport const SearchActivatedEvent = 'pipSearchActivated';\r\n\r\nclass SearchService implements ISearchService {\r\n    private _config: SearchConfig;\r\n\r\n    public constructor(\r\n        config: SearchConfig,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n\r\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\r\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\r\n    }\r\n\r\n    public get config(): SearchConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get params(): any {\r\n        return this._config.params;\r\n    }\r\n\r\n    public set params(value: any) {\r\n        this._config.params = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get history(): string[] {\r\n        return this._config.history;\r\n    }\r\n\r\n    public set history(value: string[]) {\r\n        this._config.history = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get callback(): (criteria: string) => void {\r\n        return this._config.callback;\r\n    }\r\n\r\n    public set callback(value: (criteria: string) => void) {\r\n        this._config.callback = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\r\n        this._config.callback = callback;\r\n        this._config.criteria = criteria;\r\n        this._config.params = params;\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.callback = null;\r\n        this._config.criteria = null;\r\n        this._config.params = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public open(): void {\r\n        this._config.visible = true;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public close(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._config.visible = !this._config.visible;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent(): void {\r\n        this.$rootScope.$broadcast(SearchChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SearchProvider implements ISearchProvider {\r\n    private _config: SearchConfig = new SearchConfig();\r\n    private _service: SearchService = null;\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SearchService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipSearchBar')\r\n    .provider('pipSearch', SearchProvider);\r\n","angular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './SearchConfig';\r\nimport './ISearchService';\r\nimport './SearchService';\r\nimport './SearchBar';\r\n\r\nexport * from './ISearchService';\r\n","import { ISideNavService } from './ISideNavService';\r\nimport { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { SideNavStateNames, SideNavState, SideNavStateConfig, SideNavConfig } from './SideNavState';\r\n\r\nclass SideNavController implements ISideNavBindings {\r\n    private _pipMedia: pip.layouts.IMediaService;\r\n    private _isResizing: boolean;\r\n    private _animationDuration: number;\r\n    private _mainContainer: string; // todo add  to config\r\n    private _bigWidth: number;\r\n    private _middleWidth: number;\r\n    private _smallWidth: number;\r\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\r\n    private _navState: SideNavStateConfig;\r\n    private cleanupMainResized: Function;\r\n    private cleanupSideNavState: Function;\r\n    private cleanupNavHeaderChanged: Function;\r\n    private cleanupSideNavChanged: Function;\r\n    private windowResize: Function;\r\n\r\n    public sidenavState: SideNavState;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private pipSideNav: ISideNavService,\r\n        navConstant: any\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\r\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\r\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\r\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\r\n        this._isResizing = false;\r\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\r\n        this._navState = new SideNavStateConfig();\r\n        this._mediaBreakpoints = this.setBreakpoints();\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-sticky-sidenav');\r\n\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type != 'popup') {\r\n            this.$timeout(() => {\r\n                this.setSideNaveState()\r\n            }, 100);\r\n\r\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\r\n            this.cleanupMainResized = this.$rootScope.$on('pipMainResized', () => {\r\n                this.windowResize();\r\n            });\r\n            this.cleanupSideNavState = this.$rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\r\n                this.onSideNavState($event, state)\r\n            });\r\n        } else {\r\n            this._isResizing = false;\r\n            this.sidenavState = null;\r\n            this.$timeout(() => {\r\n                if (this.pipSideNav.config.backdrop == false) {\r\n                    this.$element.addClass('pip-sidenav-hide-backdrop');\r\n                } else {\r\n                    this.$element.removeClass('pip-sidenav-hide-backdrop');\r\n                }\r\n                this.setState(SideNavStateNames.Toggle);\r\n            }, 100);\r\n        }\r\n\r\n        this.cleanupNavHeaderChanged = this.$rootScope.$on(ToggleSideNavEvent, () => {\r\n            this.onNavIconClick();\r\n        });\r\n        this.cleanupSideNavChanged = this.$rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\r\n            this.onSideNavChanged($event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n            this.cleanupNavHeaderChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavChanged)) {\r\n            this.cleanupSideNavChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupMainResized)) {\r\n            this.cleanupMainResized();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavState)) {\r\n            this.cleanupSideNavState();\r\n        }\r\n    }\r\n\r\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\r\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\r\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\r\n        } else {\r\n            return this._pipMedia.breakpoints;\r\n        }\r\n    }\r\n\r\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\r\n        if (config && config.visible) {\r\n            this.$element.css('display', 'block');\r\n        } else {\r\n            this.$element.css('display', 'none');\r\n        }\r\n    }\r\n\r\n    private onNavIconClick(): void {\r\n        this.pipSideNav.toggle();\r\n    }\r\n\r\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\r\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\r\n            this.setState(stateName);\r\n        }\r\n    }\r\n\r\n    private setSideNaveState(): void {\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type == 'popup') { return }\r\n\r\n        if (this._isResizing) {\r\n            this.$timeout(() => { this.setSideNaveState() }, this._animationDuration);\r\n\r\n            return;\r\n        }\r\n\r\n        let mainWidth: number = $(this._mainContainer).innerWidth();\r\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\r\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 1 : 0; // add border width\r\n\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.sm) {\r\n            this.setState(SideNavStateNames.Toggle);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.md) {\r\n            this.setState(SideNavStateNames.Small);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.lg) {\r\n            this.setState(SideNavStateNames.Large);\r\n            return;\r\n        }\r\n        this.setState(SideNavStateNames.XLarge);\r\n    }\r\n\r\n    private setState(stateName: SideNavStateNames) {\r\n        if (this._isResizing) return;\r\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\r\n\r\n        if (stateName != SideNavStateNames.Toggle) {\r\n            this.$element.removeClass('sidenav-mobile');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Small) {\r\n            this.$element.removeClass('pip-sticky-nav-small');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.XLarge) {\r\n            this.$element.removeClass('sidenav-desktop');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Large) {\r\n            this.$element.removeClass('sidenav-smalldesktop');\r\n        }\r\n\r\n        this._isResizing = true;\r\n        /*if (stateName == SideNavStateNames.Toggle) {\r\n            this.pipSideNav.close();\r\n        }*/\r\n        this.sidenavState = this._navState[String(stateName)];\r\n        this.$element.addClass(this.sidenavState.addClass);\r\n\r\n        this.pipSideNav.state = this.sidenavState;\r\n\r\n        // check sideNav State\r\n        this.$timeout(() => {\r\n            this.setSideNaveState()\r\n        }, 15);\r\n\r\n        // complete animation\r\n        this.$timeout(() => {\r\n            this._isResizing = false;\r\n        }, this._animationDuration); //animationDuration\r\n\r\n    }\r\n}\r\n\r\n\r\ninterface ISideNavBindings {\r\n    [key: string]: any;\r\n    sidenavState: any;\r\n}\r\n\r\nconst SideNavBindings: ISideNavBindings = {\r\n    sidenavState: '=?'\r\n};\r\n\r\n(() => {\r\n\r\n    const sideNav: ng.IComponentOptions = {\r\n        transclude: true,\r\n        bindings: SideNavBindings,\r\n        templateUrl: 'sidenav/SideNav.html',\r\n        controller: SideNavController\r\n    };\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .component('pipSidenav', sideNav);\r\n\r\n})();","{\r\n\r\n    interface ISideNavPartBindings {\r\n        [key: string]: any;\r\n        visible: any\r\n    }\r\n\r\n    const SideNavPartBindings: ISideNavPartBindings = {\r\n        visible: '=?'\r\n    }\r\n\r\n    class SideNavPartController {\r\n        private partName: string;\r\n        private partValue: string = null;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipSideNav) {\r\n\r\n            this.partName = '' + $attrs['pipSidenavPart'];\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onSideNavChanged(null, pipSideNav.config)\r\n            $rootScope.$on('pipSideNavChanged', (event, config) => { this.onSideNavChanged(event, config) });\r\n        }\r\n\r\n        private onSideNavChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = parts[this.partName];\r\n            let visible: boolean = !!(this.partValue ? currentPartValue == this.partValue : currentPartValue);\r\n\r\n            if (visible != this.$scope['visible'])\r\n                this.$scope['visible'] = visible;\r\n        }\r\n    }\r\n\r\n    function sidenavPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: SideNavPartBindings,\r\n            link: function linkFunction(\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes) {\r\n                $attrs['ngIf'] = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: SideNavPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .directive('pipSidenavPart', sidenavPartDirective);\r\n\r\n}","import { SideNavState, SideNavConfig } from \"./SideNavState\";\r\nimport { ISideNavProvider, ISideNavService } from \"./ISideNavService\";\r\n\r\nexport const SideNavChangedEvent = 'pipSideNavChanged';\r\nexport const SideNavStateChangedEvent = 'pipSideNavStateChanged';\r\nexport const OpenSideNavEvent = 'pipOpenSideNav';\r\nexport const CloseSideNavEvent = 'pipCloseSideNav';\r\nexport const ToggleSideNavEvent = 'pipToggleSideNav';\r\n\r\nclass SideNavService implements ISideNavService {\r\n    private _config: SideNavConfig;\r\n    private _state: any;\r\n\r\n    public constructor(\r\n        config: SideNavConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this.$rootScope.$broadcast(SideNavStateChangedEvent, value);\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public open() {\r\n        this.$mdSidenav('pip-sticky-sidenav').open();\r\n    }\r\n\r\n    public close() {\r\n        this.$mdSidenav('pip-sticky-sidenav').close();\r\n    }\r\n\r\n    public toggle() {\r\n        this.$mdSidenav('pip-sticky-sidenav').toggle();\r\n    }\r\n\r\n    public show() {\r\n        if (!this._config.visible) {\r\n            this._config.visible = true;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        if (this._config.visible) {\r\n            this._config.visible = false;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(SideNavChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SideNavProvider implements ISideNavProvider {\r\n    private _config: SideNavConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'popup',\r\n        backdrop: true,\r\n        state: null,\r\n        visible: true\r\n    };\r\n\r\n    private _service: SideNavService;\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: SideNavConfig) {\r\n        this._config = value || new SideNavConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get visible(): boolean {\r\n        return this._config.visible;\r\n    }\r\n\r\n    public set visible(value: boolean) {\r\n        this._config.visible = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\r\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\r\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipSideNav')\r\n    .provider('pipSideNav', SideNavProvider)\r\n    .run(hookSideNavEvents);\r\n","export class SideNavStateNames {\r\n    static Toggle: string = 'toggle';\r\n    static Small: string = 'small';\r\n    static Large: string = 'large';\r\n    static XLarge: string = 'xlarge';\r\n}\r\n\r\nexport class SideNavState {\r\n    id: SideNavStateNames;\r\n    // Class which added to sidenav in this state\r\n    addClass: string;\r\n    // Side nav always open\r\n    isLockedOpen: boolean;\r\n    // Show SideNav header \r\n    showHeader: boolean;\r\n    // Show expanded button\r\n    expandedButton: boolean;\r\n    // SideNav has expand\r\n    isExpanded: boolean;\r\n    // SideNav is Expanded in this state by default\r\n    expand: boolean;\r\n    // Tooltype is show\r\n    showIconTooltype: boolean;\r\n}\r\n\r\nexport class SideNavStateConfig {\r\n    toggle: SideNavState = { // media(sm, xs)\r\n        id: SideNavStateNames.Toggle,\r\n        addClass: 'sidenav-mobile',\r\n        showHeader: true,\r\n        isLockedOpen: false,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n    small: SideNavState = { // media(md)\r\n        id: SideNavStateNames.Small,\r\n        addClass: 'pip-sticky-nav-small sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: false,\r\n        expand: false,\r\n        showIconTooltype: true\r\n    };\r\n    large: SideNavState = { // media(lg)\r\n        id: SideNavStateNames.Large,\r\n        addClass: 'sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: true,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: true\r\n    };\r\n    xlarge: SideNavState = { // media(xl)\r\n        id: SideNavStateNames.XLarge,\r\n        addClass: 'sidenav-desktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n}\r\n\r\nexport class SideNavConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: SideNavState;\r\n    type: string;\r\n    backdrop: boolean = true;\r\n    visible: boolean;\r\n}","angular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './SideNavState';\r\nimport './SideNavService';\r\nimport './SideNavPart';\r\nimport './SideNav';\r\n\r\nexport * from './SideNavService';","\r\nexport class PipTab {\r\n    id: string;\r\n    name?: string;\r\n    count: number;\r\n    title: string;\r\n}\r\n\r\n{\r\n    interface ITabsBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        tabs: any;\r\n        showTabs: any;\r\n        showTabsShadow: any;\r\n        activeIndex: any;\r\n        select: any;\r\n        breakpoints: any;\r\n        themeClass: any;\r\n    }\r\n\r\n    const TabsBindings: ITabsBindings = {\r\n        ngDisabled: '&?', // function\r\n        tabs: '<pipTabs', // PipTab[]\r\n        showTabs: '&pipShowTabs', // function\r\n        showTabsShadow: '&pipTabsShadow', // function\r\n        activeIndex: '<?pipActiveIndex', // number\r\n        select: '=pipTabsSelect', // function\r\n        breakpoints: '<?pipBreakpoints', // string\r\n        themeClass: '<?themeClass', // string\r\n    }\r\n\r\n    class TabsChanges implements ng.IOnChangesObject, ITabsBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        tabs: ng.IChangesObject<PipTab[]>;\r\n        showTabs: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        showTabsShadow: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        breakpoints: ng.IChangesObject<string>;\r\n        themeClass: ng.IChangesObject<string>;\r\n    }\r\n\r\n    class TabsDirectiveController implements ITabsBindings {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private pipMedia;\r\n        private selectedTabId: string;\r\n\r\n        public ngDisabled: Function;\r\n        public tabs: PipTab[];\r\n        public activeIndex: number;\r\n        public breakpoints: string;\r\n        public showTabs: Function;\r\n        public showTabsShadow: Function;\r\n        public select: Function;\r\n        public themeClass: string;\r\n\r\n        public currentTheme: string;\r\n\r\n        public change: () => ng.IPromise<any>;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $injector: ng.auto.IInjectorService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private navConstant: any,\r\n            $mdMedia: angular.material.IMedia\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.setTheme();\r\n            this.pipMedia = this.$injector.has('pipMedia') ? <pip.layouts.IMediaService>this.$injector.get('pipMedia') : $mdMedia;\r\n            \r\n            if (!this.breakpoints) {\r\n                this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n            }\r\n        }\r\n\r\n        private setTheme(): void {\r\n            this._pipTheme = this.$injector.has('pipTheme') ? <pip.themes.IThemeService>this.$injector.get('pipTheme') : null;\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if (this.$rootScope['$theme']) {\r\n                this.currentTheme = this.$rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = (this.themeClass || '') + ' md-' + this.currentTheme + '-theme';\r\n        }\r\n\r\n        private setTranslate(): void {\r\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n            if (this._pipTranslate) {\r\n                if (this.tabs.length > 0 && this.tabs[0].title) {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\r\n                } else {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\r\n                }\r\n            }\r\n        }\r\n\r\n        public isDisabled(): boolean {\r\n            if (_.isFunction(this.ngDisabled)) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return this.toBoolean(this.ngDisabled);\r\n            }\r\n        };\r\n\r\n        public tabDisabled(index: number): boolean {\r\n            return (this.isDisabled() && this.activeIndex != index);\r\n        };\r\n\r\n        public onSelect(index: number): void {\r\n            if (this.isDisabled()) return;\r\n            this.activeIndex = index;\r\n            this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            this.$timeout(() => {\r\n                if (this.select) {\r\n                    this.select(this.tabs[this.activeIndex], this.activeIndex);\r\n                }\r\n            }, 0);\r\n\r\n        };\r\n\r\n        public showShadow(): boolean {\r\n            if (_.isFunction(this.showTabsShadow)) {\r\n                return this.showTabsShadow();\r\n            } else {\r\n                return this.toBoolean(this.showTabsShadow);\r\n            }\r\n        };\r\n\r\n        public show(): boolean {\r\n            if (!this.showTabs) return true;\r\n            if (_.isFunction(this.showTabs)) {\r\n                return this.showTabs();\r\n            } else {\r\n                return this.toBoolean(this.showTabs);\r\n            }\r\n        };\r\n\r\n        public toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TabsChanges) {\r\n\r\n            if (!changes.breakpoints) {\r\n                if (!this.breakpoints) {\r\n                    this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n                }\r\n            } else {\r\n                this.breakpoints = changes.breakpoints.currentValue ? changes.breakpoints.currentValue : this.navConstant.TAB_BREAKPOINT\r\n            }\r\n\r\n            if (changes.activeIndex === undefined) {\r\n                if (!this.activeIndex) {\r\n                    this.activeIndex = 0;\r\n                }\r\n            } else {\r\n                this.activeIndex = changes.activeIndex.currentValue || 0;\r\n                if (this.$timeout && this.activeIndex !== changes.activeIndex.previousValue) {\r\n                    this.$timeout(() => {\r\n                        let a = this.$element.find('md-tabs-canvas');\r\n                        if (a && a[0]) {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                        }\r\n                        a.on('focusout', () => {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            this.$timeout(() => {\r\n                                angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            }, 50);\r\n                        });\r\n                    }, 1000);\r\n                }\r\n            }\r\n\r\n            if (changes.tabs === undefined || !_.isArray(changes.tabs.currentValue)) {\r\n                if (!this.tabs) {\r\n                    this.tabs = [];\r\n                }\r\n            } else {\r\n                this.tabs = changes.tabs.currentValue;\r\n                this.setTranslate();\r\n            }\r\n\r\n            if (!changes.activeIndex && changes.tabs && this.selectedTabId !== undefined) {\r\n                const index = _.indexOf(this.tabs, _.find(this.tabs, {\r\n                    id: this.selectedTabId\r\n                }));\r\n                if (index < 0) {\r\n                    this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n                } else if (this.tabs.length > 0 && this.activeIndex) {\r\n                    this.onSelect(index);\r\n                }\r\n            } else {\r\n                this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const Tabs: ng.IComponentOptions = {\r\n        bindings: TabsBindings,\r\n        templateUrl: 'tabs/Tabs.html',\r\n        controller: TabsDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipTabs', ['pipNav.Templates'])\r\n        .component('pipTabs', Tabs);\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"color-primary-bg {{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"$ctrl._media($ctrl.config.breakpoint)\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"!$ctrl._media($ctrl.config.breakpoint)\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"$ctrl.showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"$ctrl.imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"$ctrl.onUserClick()\" tabindex=\"-1\">{{ $ctrl.title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ $ctrl.subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.value | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar ng-if=\"$ctrl.pipMedia\" class=\"pip-nav color-primary-bg {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs class=\"color-primary-bg\" ng-if=\"$ctrl.pipMedia($ctrl.breakpoints)\" md-selected=\"$ctrl.activeIndex\" ng-class=\"{\\'disabled\\': $ctrl.isDisabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.pipMedia($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.activeIndex\" ng-disabled=\"$ctrl.isDisabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.pipSideNav.state.isExpanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.pipSideNav.state.isExpanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" xxxng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.pipSideNav.state.isExpanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-disabled=\"link.access && !link.access(link)\" ng-click=\"$ctrl.clickLink($event, link)\"><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype || !link.tooltipText || $ctrl.pipSideNav.state.isExpanded\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && link.tooltipText && !$ctrl.pipSideNav.state.isExpanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","{\r\n\r\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-cool': 'Cool'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     'bootbarn-cool': ''\r\n    // });\r\n    \r\n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(69, 90, 100, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\r\n\r\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(69, 90, 100, .54)',\r\n        '500': 'rgba(69, 90, 100, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\r\n\r\n\r\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-cool')\r\n        .primaryPalette('bootbarn-cool-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-cool-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-cool-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\r\n    .config(configureBootBarnCoolTheme);\r\n\r\n}","{\r\n\r\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-monochrome': 'Monochrome'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     'bootbarn-monochrome': ''\r\n    // });\r\n    \r\n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(38, 50, 56, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\r\n\r\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(38, 50, 56, .54)',\r\n        '500': 'rgba(38, 50, 56, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\r\n\r\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-monochrome')\r\n        .primaryPalette('bootbarn-monochrome-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-monochrome-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-monochrome-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\r\n    .config(configureBootBarnMonochromeTheme);\r\n\r\n}","{\r\n\r\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-warm': 'Warm'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     'bootbarn-warm': 'Коричневая'\r\n    // });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(177, 55, 34, 1)'\r\n        })\r\n        ;\r\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\r\n\r\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\r\n        '300': 'rgba(177, 55, 34, .54)',\r\n        '500': 'rgba(177, 55, 34, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\r\n\r\n\r\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'A700': 'rgba(127, 148, 92, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\r\n\r\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\r\n        'A200': 'rgba(255, 82, 82, 1)',\r\n        'contrastLightColors': ['A200']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-warm')\r\n    .primaryPalette('bootbarn-warm-primary', {\r\n        'default': '500',\r\n        'hue-1': '300'\r\n    })\r\n    .backgroundPalette('bootbarn-warm-background', {\r\n        'default': '50',  // background\r\n        'hue-1': 'A200',  // tiles dialog\r\n        'hue-2': 'A700'   // app bar\r\n    })\r\n    .warnPalette('bootbarn-warm-error', {\r\n        'default': 'A200'\r\n    })\r\n    .accentPalette('bootbarn-warm-accent', {\r\n        'default': 'A700'\r\n    });\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\r\n    .config(configureBootBarnWarmTheme);\r\n\r\n}","import './BootBarnCoolTheme';\r\nimport './BootBarnWarmTheme';\r\nimport './BootBarnMonochromeTheme';\r\n\r\nangular.module('pipTheme.BootBarn', [\r\n    'ngMaterial',\r\n    'pipTheme.BootBarn.Warm',\r\n    'pipTheme.BootBarn.Cool',\r\n    'pipTheme.BootBarn.Monochrome',\r\n]);\r\n","import { IThemeService, IThemeProvider } from './IThemeService';\r\n\r\nexport let ThemeRootVar = \"$theme\";\r\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \r\nexport let ThemeResetPage = \"pipResetPage\";    \r\n\r\nclass ThemeConfig {\r\n    public theme: string;\r\n}\r\n\r\nclass ThemeService implements IThemeService {\r\n    private _config: ThemeConfig;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _currentTheme: string = null;\r\n\r\n    public constructor(\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $mdTheming,\r\n        config: ThemeConfig,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n    ) {\r\n        \"ngInject\";\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._config = config;\r\n\r\n        //if (this._persist && this.$window.localStorage && this._config.theme == \"default\")\r\n        this._config.theme = this.$window.localStorage.getItem('theme') || this._config.theme || 'default';\r\n\r\n        this.$log.debug(\"Set theme to \" + this._config.theme);\r\n\r\n        // Define theme for angular material \r\n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        let body = $('body');\r\n        let newTheme: string = this._config.theme;\r\n\r\n        // Switch material theme\r\n        // body.attr('md-theme', newTheme);\r\n\r\n        // Change custom theme\r\n        body.addClass(newTheme);\r\n        if (this._currentTheme != null && this._currentTheme != newTheme)\r\n            body.removeClass(this._currentTheme);            \r\n\r\n        this._currentTheme = newTheme;\r\n\r\n        // Set root scope variable\r\n        if (this._setRootVar)\r\n            this.$rootScope[ThemeRootVar] = this._config.theme;\r\n\r\n        // Save in local storage\r\n        if (this._persist && this.$window.localStorage != null)\r\n            this.$window.localStorage.setItem('theme', this._config.theme);\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        if (value != this._config.theme) {\r\n            if (!(value in this.$mdTheming.THEMES))\r\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\r\n\r\n            this._config.theme = value;\r\n            \r\n            this.$log.debug(\"Changing theme to \" + value);\r\n\r\n            this.save();                \r\n\r\n            this.$rootScope.$emit(ThemeChangedEvent, value);\r\n            this.$rootScope.$emit(ThemeResetPage);\r\n        }\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null) {\r\n            this._config.theme = theme;\r\n            this.save();    \r\n        }     \r\n        return this._config.theme;\r\n    }\r\n\r\n}\r\n\r\n\r\nclass ThemeProvider implements IThemeProvider {\r\n    private _config: ThemeConfig = new ThemeConfig();\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: ThemeService;\r\n    \r\n    public constructor() {\r\n        this._config.theme = \"default\";\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        this._config.theme = value;\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null) {\r\n            this._config.theme = theme;\r\n            let body = $('body');\r\n            body.addClass(this._config.theme);\r\n        }\r\n        return this._config.theme;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ): ThemeService {\r\n        \"ngInject\";\r\n        if (_.isUndefined(this._service) || _.isNull(this._service))  {\r\n            this._service = new ThemeService($log, $rootScope, $window, $mdTheming, this._config, this._setRootVar, this._persist);\r\n        }\r\n         \r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nfunction initTheme(pipTheme: IThemeService) {\r\n    pipTheme.theme;\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme')\r\n    .provider('pipTheme', ThemeProvider)\r\n    .run(initTheme);\r\n","angular.module('pipTheme', ['ngMaterial']);\r\n\r\nimport './ThemeService';\r\n\r\nexport * from './IThemeService';\r\nexport * from './ThemeService';\r\n","{\r\n\r\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     amber: 'Amber'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     amber: 'Янтарная'\r\n    // });\r\n\r\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\r\n\r\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 152, 0, 1)',\r\n        '900': 'rgba(255, 152, 0, .54);'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('amber')\r\n        .primaryPalette('orange-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('orange-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('orange', {\r\n            'default': '900'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\r\n    .config(configureDefaultAmberTheme);\r\n    \r\n}","{\r\n\r\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     blue: 'Blue',\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     blue: 'Голубая'\r\n    // });\r\n\r\n    registerBlueTheme('default');\r\n    registerBlueTheme('blue');\r\n\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    function registerBlueTheme(themeName) {\r\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\r\n            'contrastDefaultColor': 'light',\r\n            'contrastDarkColors': undefined\r\n        });\r\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\r\n\r\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(33, 150, 243, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\r\n\r\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            '600': 'rgba(0, 200, 83, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\r\n\r\n        $mdThemingProvider.theme(themeName)\r\n            .primaryPalette('blue-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('blue-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('blue-accent', {\r\n                'default': '600'\r\n            });\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\r\n    .config(configureDefaultBlueTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     green: 'Green'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     green: 'Зеленая'\r\n    // });\r\n\r\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(76, 175, 80, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\r\n\r\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\r\n        '300': '#9ed4a1',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\r\n\r\n\r\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\r\n\r\n    $mdThemingProvider.theme('green')\r\n        .primaryPalette('green-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('green-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('green-accent', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Green', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreenTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     grey: 'Grey'\r\n    // });\r\n    \r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     grey: 'Серая'\r\n    // });\r\n\r\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)',\r\n        'A400': '#a9b9c0',\r\n        '500': '#607D8B',\r\n        'A700': '#90A4AE',\r\n        //'800': '',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\r\n\r\n\r\n    $mdThemingProvider.theme('grey')\r\n        .primaryPalette('third-party', {\r\n            'default': '500',\r\n            'hue-1': 'A400'\r\n        })\r\n        .backgroundPalette('third-party', {\r\n            'default': '50',  // background\r\n            'hue-1': '500',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('third-party', {\r\n            'default': 'A700'\r\n        });\r\n    \r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreyTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     navy: 'Navy'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     navy: 'Сине-серая'\r\n    // });\r\n\r\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '700': 'rgba(86, 97, 125, 1)',\r\n        '800': 'rgba(86, 97, 125, .54)',\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n    });\r\n    $mdThemingProvider.definePalette('grey', greyPalette);\r\n\r\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\r\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('teal', tealPalette);\r\n\r\n    $mdThemingProvider.theme('navy')\r\n        .primaryPalette('grey', {\r\n            'default': '700',\r\n            'hue-1': '800'\r\n        })\r\n        .backgroundPalette('grey', {\r\n            'default': '50',  // background\r\n            'hue-1': '700',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('teal', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\r\n    .config(configureDefaultNavyTheme);\r\n    \r\n}","{\r\n\r\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     orange: 'Orange'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     orange: 'Оранжевая'\r\n    // });\r\n\r\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 112, 67, 1)',\r\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\r\n    });\r\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\r\n\r\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 112, 67, 1)',\r\n        '900': 'rgba(255, 152, 67, .54)',\r\n        'A100': 'rgba(255, 171, 64, 1)',\r\n        'contrastLightColors': ['800', '900', 'A100']\r\n    });\r\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('orange')\r\n        .primaryPalette('red-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('red-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('red-primary', {\r\n            'default': 'A100'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\r\n    .config(configureDefaultOrangeTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     pink: 'Pink'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     pink: 'Розовая',\r\n\r\n    // });\r\n\r\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['A200', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\r\n\r\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\r\n        '600': 'rgba(255, 128, 171, 1)',\r\n        '700': 'rgba(188, 86, 121, .54)',\r\n        '900': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'light'\r\n    });\r\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('pink')\r\n        .primaryPalette('pink-primary', {\r\n            'default': '900',\r\n            'hue-1': '700'\r\n        })\r\n        .backgroundPalette('pink-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('pink-primary', {\r\n            'default': '600'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\r\n    .config(configureDefaultPinkTheme);\r\n    \r\n}","import './DefaultBlueTheme';\r\nimport './DefaultPinkTheme';\r\nimport './DefaultAmberTheme';\r\nimport './DefaultOrangeTheme';\r\nimport './DefaultGreenTheme';\r\nimport './DefaultNavyTheme';\r\nimport './DefaultGreyTheme';\r\n\r\nfunction configureDefaultTheme($mdThemingProvider) {\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Default', [\r\n        'ngMaterial',\r\n        'pipTheme.Blue', \r\n        'pipTheme.Pink',\r\n        'pipTheme.Amber', \r\n        'pipTheme.Orange', \r\n        'pipTheme.Green', \r\n        'pipTheme.Navy', \r\n        'pipTheme.Grey'\r\n    ])\r\n    .config(configureDefaultTheme);\r\n","\r\nexport class ErrorPageConfig {\r\n    Active: boolean;\r\n    Name: string;\r\n    Event: string;\r\n    Title: string;\r\n    SubTitle: String;\r\n    Breadcrumb: string;\r\n    Image: string;\r\n    Params?: any;\r\n    RedirectSateDefault?: string;\r\n    StateIgnored?: string[];\r\n}\r\n\r\nexport class ErrorPageConfigs {\r\n\r\n    Maintenance: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_maintenance',\r\n        Event: 'pipMaintenanceError',\r\n        Title: 'ERROR_MAINTENANCE_TITLE',\r\n        SubTitle: 'ERROR_MAINTENANCE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MAINTENANCE_TITLE',\r\n        Image: 'images/maintenance.svg'\r\n\r\n    };\r\n\r\n    MissingRoute: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_missing_route',\r\n        Event: '$stateNotFound',\r\n        Title: 'ERROR_MISSING_ROUTE_TITLE',\r\n        SubTitle: 'ERROR_MISSING_ROUTE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MISSING_ROUTE_PAGE_TITLE',\r\n        Image: 'images/invalid_route.svg'\r\n    };\r\n\r\n    NoConnection: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_no_connection',\r\n        Event: 'pipNoConnectionError',\r\n        Title: 'ERROR_NO_CONNECTION_TITLE',\r\n        SubTitle: 'ERROR_NO_CONNECTION_SUBTITLE',\r\n        Breadcrumb: 'ERROR_NO_CONNECTION_TITLE',\r\n        Image: 'images/no_response.svg',\r\n        StateIgnored: []\r\n    };\r\n\r\n    Unknown: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unknown',\r\n        Event: 'pipUnknownError',\r\n        Title: 'ERROR_UNKNOWN_TITLE',\r\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\r\n        Image: 'images/unknown_error.svg'\r\n    };\r\n\r\n    Unsupported: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unsupported',\r\n        Event: '',\r\n        Title: 'ERROR_UNSUPPORTED_TITLE',\r\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\r\n        Image: '',\r\n        Params: {}\r\n    }\r\n}\r\n\r\nexport class SupportedBrowsers {\r\n    edge: number = 11;\r\n    ie: number = 11;\r\n    firefox: number = 43;\r\n    opera: number = 35;\r\n    chrome: number = 47;\r\n}\r\n","import { IErrorPageConfigService, IErrorPageConfigProvider } from './IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig, SupportedBrowsers } from './ErrorPageConfig';\r\n\r\nclass ErrorPageConfigService implements IErrorPageConfigService {\r\n    private _config: ErrorPageConfigs;\r\n\r\n    public constructor(\r\n        config: ErrorPageConfigs\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._config = config || new ErrorPageConfigs();\r\n    }\r\n\r\n    public get configs(): ErrorPageConfigs {\r\n        return this._config;\r\n    }\r\n\r\n    public getErrorPageConfig(pageName: string): ErrorPageConfig {\r\n        console.log(pageName, this._config);\r\n        if (!pageName || !this._config[pageName]) {\r\n            return null;\r\n        }\r\n\r\n        return this._config[pageName];\r\n    }\r\n\r\n}\r\n\r\nclass ErrorPageConfigProvider implements IErrorPageConfigProvider {\r\n    private _service: ErrorPageConfigService;\r\n    public configs: ErrorPageConfigs;\r\n\r\n    constructor() {\r\n        this.configs = new ErrorPageConfigs();\r\n        this.configs.Unsupported.Params.supported = new SupportedBrowsers();\r\n    }\r\n\r\n    public setErrorPageConfig(pageName: string, config: ErrorPageConfig): void {\r\n        if (!pageName || !config) return;\r\n        if (!this.configs[pageName]) return;\r\n\r\n        this.configs[pageName] = <ErrorPageConfig>_.defaultsDeep(config, this.configs[pageName]);\r\n    }\r\n\r\n    public setAllErrorPageConfigs(configs: ErrorPageConfigs): void {\r\n        if (!configs) return;\r\n\r\n        this.configs = <ErrorPageConfigs>_.defaultsDeep(configs, this.configs);\r\n    }\r\n\r\n    public setSupportedBrowsers(browsers: SupportedBrowsers): void {\r\n        this.configs.Unsupported.Params.supported = browsers;\r\n    }\r\n\r\n    public $get(): ErrorPageConfigService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new ErrorPageConfigService(this.configs);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrorPageConfigService', [])\r\n        .provider('pipErrorPageConfigService', ErrorPageConfigProvider);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class ClearErrorsLink {\r\n        private _fieldController: any;\r\n        private _formController: any;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $ctrls\r\n        ) {\r\n            'ngInject';\r\n\r\n            this._fieldController = $ctrls[0];\r\n            this._formController = $ctrls[1];\r\n\r\n            $scope.$watch($attrs['ngModel'], (newValue) => {\r\n                this.clearFieldErrors();\r\n                this.clearFormErrors();\r\n            });\r\n        }\r\n\r\n        public clearFieldErrors() {\r\n            let errors = this._fieldController.$error;\r\n\r\n            for (let prop in errors) {\r\n                if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                    this._fieldController.$setValidity(prop, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        public clearFormErrors() {\r\n            this._formController.$serverError = {};\r\n        }\r\n    }\r\n\r\n    function clearErrorsDirective() {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes,\r\n                $ctrls\r\n            ) {\r\n                new ClearErrorsLink($scope, $element, $attrs, $ctrls);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipClearErrors', [])\r\n        .directive('pipClearErrors', clearErrorsDirective);\r\n})();","import { IFormErrorsService } from './IFormErrorsService';\r\n\r\nclass FormErrorsService {\r\n\r\n    constructor(private $rootScope: ng.IRootScopeService) { }\r\n\r\n    public errorsWithHint(field: any) {\r\n        if (field == null) return;\r\n\r\n        return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n    };\r\n\r\n    public touchedErrorsWithHint(form: ng.IFormController, field: any, notSubmited?: boolean) {\r\n        if (form == null) return;\r\n        if (field == null) return;\r\n\r\n        if (form.$submitted || notSubmited && (field.$touched || field.$dirty)) {\r\n            let result = _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n            return result;\r\n        }\r\n        return { hint: true };\r\n    }\r\n\r\n    public resetFormErrors(form: ng.IFormController, errors?: boolean): void {\r\n        form.$setPristine();\r\n        form.$setUntouched();\r\n\r\n        if (errors) {\r\n            form.$setDirty();\r\n            form.$setSubmitted();\r\n        }\r\n\r\n        form['$serverError'] = {};\r\n    }\r\n\r\n    public resetFieldsErrors(form: ng.IFormController, field?: any): void {\r\n        if (!form) return;\r\n        if (field && form[field] && form[field].$error) {\r\n            form[field].$error = {};\r\n        } else {\r\n            for (let prop in form) {\r\n                if (form[prop] && form[prop].$error) {\r\n                    form[prop].$error = {};\r\n                }\r\n            }\r\n            if (form && form.$error) {\r\n                form.$error = {};\r\n            }\r\n        }\r\n    }\r\n\r\n    public setFormError(form: ng.IFormController, error, errorFieldMap) {\r\n        if (error == null) return;\r\n        // Prepare form server errors\r\n        form['$serverError'] = form['$serverError'] || {};\r\n        // Prepare error code\r\n        let code: string = error.code || (error.data || {}).code || null;\r\n        if (!code && error.status) code = error.status;\r\n\r\n        if (code) {\r\n            let errorName = 'ERROR_' + code,\r\n                field = errorFieldMap ? errorFieldMap[code] : null;\r\n            // Set server error to fields\r\n            if (field && form[field] && form[field].$setValidity) {\r\n                form[field].$setValidity(errorName, false);\r\n                return;\r\n            }\r\n\r\n            // Set server error to form\r\n            if (field == 'form') {\r\n                form['$serverError'][errorName] = true;\r\n                return;\r\n            }\r\n        }\r\n\r\n        // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n        if (error.data && error.data.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.data.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        // Set as undefined error\r\n        if (error.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        if (error.name) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.name;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n\r\n        form['$serverError']['ERROR_UNKNOWN'] = error;\r\n        this.goToUnhandledErrorPage(error);\r\n    }\r\n\r\n    private goToUnhandledErrorPage(error) {\r\n        this.$rootScope.$emit('pipUnhandledInternalError', {\r\n            error: error\r\n        });\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipFormErrors', [])\r\n        .service('pipFormErrors', FormErrorsService);\r\n\r\n})();","\n\n    class HttpResponseInterceptor implements ng.IHttpInterceptor {\n        constructor(\n            private $q: ng.IQService, \n            private $location: ng.ILocationService, \n            private $rootScope: ng.IRootScopeService\n        ) {\n                \"ngInject\";\n        }\n\n        public responseError = (rejection: any): ng.IPromise<any> => {\n            switch (rejection.status) {\n                case 503:\n                    //available (maintenance)\n                    this.$rootScope.$emit('pipMaintenanceError', { error: rejection });\n                    break;\n                case -1:\n                    this.$rootScope.$emit('pipNoConnectionError', { error: rejection });\n                    break;\n                default:\n                    console.error(\"errors_unknown\", rejection);\n                    break;\n            }\n\n            return this.$q.reject(rejection);\n        }\n\n    }\n\n    function configureHttpInterceptor(\n        $stateProvider: ng.ui.IStateProvider, \n        $httpProvider: ng.IHttpProvider\n    ) {\n        // Attach interceptor to react on unauthorized errors\n        $httpProvider.interceptors.push('pipHttpResponseInterceptor');\n    }\n\n    angular\n        .module('pipErrors.Pages')\n        .config(configureHttpInterceptor)\n        .service('pipHttpResponseInterceptor', HttpResponseInterceptor);\n\n\n\n","export let ErrorsMaintenanceState = 'errors_maintenance';\r\nexport let MaintenanceErrorEvent = 'pipMaintenanceError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MaintenanceError {\r\n    config?: MaintenanceErrorConfig;\r\n}\r\n\r\nclass MaintenanceErrorConfig {\r\n    params?: MaintenanceErrorParams;\r\n}\r\n\r\nclass MaintenanceErrorParams {\r\n    interval?: number = 0;\r\n}\r\n\r\nclass MaintenanceErrorPageController {\r\n    private _pageName: string = 'Maintenance';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: MaintenanceError;\r\n    public timeoutInterval: number;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        private $window: ng.IWindowService,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n        this.timeoutInterval = this.error && this.error.config &&\r\n            this.error.config.params && this.error.config.params.interval ? this.error.config.params.interval : 0;\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    \r\n    public onRetry() {\r\n        if (this.$state.params && this.$state.params['fromState'] && this.$state.params['fromState'] != this.config.Name ) {\r\n            this.$state.go(this.$state.params['fromState'], this.$state.params['fromParams']);\r\n        } else if (this.config.RedirectSateDefault) {\r\n            this.$state.go(this.config.RedirectSateDefault);\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n        // this.$window.history.back();\r\n    }\r\n}\r\n\r\nfunction configureMaintenanceErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsMaintenanceState, {\r\n                url: '/errors/maintenance',\r\n                params: {\r\n                    error: null\r\n                },\r\n                controller: MaintenanceErrorPageController,\r\n                controllerAs: '$ctrl',\r\n                templateUrl: 'maintenance/MaintenanceErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initMaintenanceErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Maintenance.Active) return;\r\n\r\n    $rootScope.$on(MaintenanceErrorEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        $state.go(ErrorsMaintenanceState, params);\r\n    });\r\n}\r\n\r\nfunction setMaintenanceErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MAINTENANCE_TITLE': 'The server is on maintenance',\r\n        'ERROR_MAINTENANCE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n        'a short period. We\\'ll be back soon. Thank for your patience.',\r\n        'ERROR_MAINTENANCE_CLOSE': 'Close',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Try after',\r\n        ERROR_MAINTENANCE_RETRY: 'Retry'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MAINTENANCE_TITLE': 'Сервер находится на обслуживании',\r\n        'ERROR_MAINTENANCE_SUBTITLE': 'Приносим извинения за неудобства. Это приложение проходит техническое обслуживание на короткий период времени. Мы скоро вернемся. Благодарим за терпение.',\r\n        'ERROR_MAINTENANCE_CLOSE': 'Закрыть',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Попробовать еще',\r\n        ERROR_MAINTENANCE_RETRY: 'Попробовать еще'\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMaintenanceErrorPageRoute)\r\n        .run(initMaintenanceErrorPage)\r\n        .run(setMaintenanceErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsMissingRouteState = 'errors_missing_route';\r\nexport let StateNotFoundEvent = '$stateNotFound';  \r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MissingRouteErrorState {\r\n    to: string;\r\n    toParams: any;\r\n    fromParams: any;\r\n}\r\n\r\nclass MissingRouteErrorPageController {\r\n    private _pageName: string = 'MissingRoute';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public fromState: MissingRouteErrorState;\r\n    public unfoundState: MissingRouteErrorState;\r\n    public url: string;\r\n    public urlBack: string;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        private $location: ng.ILocationService,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.fromState = $state && $state.params && $state.params['fromState'] ? $state.params['fromState'] : {};\r\n        this.unfoundState = $state && $state.params ? $state.params['unfoundState'] : {};\r\n        this.url = this.unfoundState && this.unfoundState.to ? $state.href(this.unfoundState.to, this.unfoundState.toParams, { absolute: true }) : '';\r\n        this.urlBack = this.fromState && this.fromState.to ? $state.href(this.fromState.to, this.fromState.fromParams, { absolute: true }) : '';\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onContinue() {\r\n        this.$location.url('/');\r\n    }\r\n}\r\n\r\nfunction configureMissingRouteErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n    $stateProvider\r\n        .state(ErrorsMissingRouteState, {\r\n            url: '/errors/missing_route',\r\n            params: {\r\n                unfoundState: null,\r\n                fromState: null\r\n            },\r\n            controller: MissingRouteErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'missing_route/MissingRouteErrorPage.html'\r\n        });\r\n}\r\n\r\n\r\nfunction initMissingRouteErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.MissingRoute.Active) return;\r\n\r\n    $rootScope.$on(StateNotFoundEvent,\r\n        (\r\n            event: angular.IAngularEvent,\r\n            unfoundState: ng.ui.IState,\r\n            fromState: ng.ui.IState,\r\n            fromParams: any) => {\r\n            event.preventDefault();\r\n\r\n            $state.go(ErrorsMissingRouteState, {\r\n                unfoundState: unfoundState,\r\n                fromState: {\r\n                    to: fromState ? fromState.name : '',\r\n                    fromParams: fromParams\r\n                }\r\n            });\r\n\r\n            $rootScope[pip.services.RoutingVar] = false;\r\n        }\r\n    );\r\n}\r\n\r\nfunction setMissingRouteErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MISSING_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Continue',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Try again',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Go Back',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Wrong page'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MISSING_ROUTE_TITLE': 'К сожалению, страница недоступна',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'Введенная Вами ссылка не коректная или страница может быть удалена.',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Продолжить',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Попробовать еще',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Вернуться',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Ошибочная страница'\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMissingRouteErrorPageRoute)\r\n        .run(initMissingRouteErrorPage)\r\n        .run(setMissingRouteErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsConnectionState = 'errors_no_connection';\r\nexport let ErrorsConnectionEvent = 'pipNoConnectionError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass NoConnectionError {\r\n    config?: any;\r\n}\r\n\r\nclass NoConnectionErrorPageController {\r\n    private _pageName: string = 'NoConnection';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: NoConnectionError;\r\n\r\n    constructor(\r\n        private $window: ng.IWindowService,\r\n        $scope: ng.IScope,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onRetry() {\r\n        if (this.$state.params && this.$state.params['fromState'] && this.$state.params['fromState'] != this.errorConfig.Name) {\r\n            this.$state.go(this.$state.params['fromState'], this.$state.params['fromParams']);\r\n        } else if (this.errorConfig.RedirectSateDefault) {\r\n            this.$state.go(this.errorConfig.RedirectSateDefault);\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n        // this.$window.history.back();\r\n    }\r\n}\r\n\r\nfunction configureNoConnectionErrorPageRoute(\r\n    $injector: angular.auto.IInjectorService,\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state(ErrorsConnectionState, {\r\n            url: '/errors/no_connection',\r\n            params: {\r\n                error: null,\r\n                fromState: null,\r\n                fromParams: null\r\n            },\r\n            controller: NoConnectionErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'no_connection/NoConnectionErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initNoConnectionErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n    if (!config.NoConnection.StateIgnored) config.NoConnection.StateIgnored = [];\r\n    config.NoConnection.StateIgnored.push(config.NoConnection.Name);\r\n\r\n    if (!config.NoConnection.Active) return;\r\n\r\n    $rootScope.$on(ErrorsConnectionEvent,\r\n        (event: angular.IAngularEvent, params) => {\r\n            params = params ? params : {};\r\n\r\n            if (config.NoConnection.StateIgnored.indexOf($state.current.name) > -1) {\r\n                return;\r\n            } else {\r\n                params.fromState = $state.current.name;\r\n                params.fromParams = $state.params;\r\n            }\r\n\r\n            // todo make configure, as array of state\r\n            if ($state.current.name == 'recover_password' || $state.current.name == 'change_password'\r\n                || $state.current.name == 'expire_change_password' || $state.current.name == 'reset_password'\r\n                || $state.current.name == 'verify_email' || $state.current.name == 'verify_email_success'\r\n                || $state.current.name == 'signin' || $state.current.name == 'signup') {\r\n\r\n                return\r\n            }\r\n            $state.go(ErrorsConnectionState, params);\r\n        });\r\n}\r\n\r\nfunction setNoConnectionErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_NO_CONNECTION_TITLE': 'No connection to the server',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n        'ERROR_NO_CONNECTION_RETRY': 'Retry',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_NO_CONNECTION_TITLE': 'Нет подключения к серверу',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Невозможно подключиться к серверу. Проверьте подключение к Интернету и повторите попытку.',\r\n        'ERROR_NO_CONNECTION_RETRY': 'Повторить',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureNoConnectionErrorPageRoute)\r\n        .run(initNoConnectionErrorPage)\r\n        .run(setNoConnectionErrorPageResources);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class NoConnectionPanelController {\r\n        private _retry: Function;\r\n        public error: any;\r\n        constructor($scope: ng.IScope) {\r\n            this._retry = $scope['retry'];\r\n            this.error = $scope['error'];\r\n        }\r\n\r\n        public onRetry() {\r\n            if (this._retry && angular.isFunction(this._retry)) this._retry();\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipNoConnectionPanel\", [])\r\n        .directive('pipNoConnectionPanel',\r\n        () => {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/NoConnectionPanel.html',\r\n                controller: NoConnectionPanelController,\r\n                controllerAs: '$ctrl'\r\n            };\r\n        }\r\n        )\r\n\r\n})();\r\n\r\n","export let ErrorsUnknownState = 'errors_unknown';\r\nexport let ErrorsUnknownEvent = 'pipUnknownError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnknownErrorDetails {\r\n    code: number;\r\n    message: string;\r\n    status: string;\r\n    server_stacktrace: Function;\r\n    client_stacktrace: Function;\r\n}\r\n\r\nclass UnknownErrorPageController {\r\n    private _pageName: string = 'Unknown';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnknownErrorDetails;\r\n    public error_details: UnknownErrorDetails;\r\n    public showError: boolean;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService, \r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia, \r\n        $injector: angular.auto.IInjectorService,  \r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.showError = $scope['showError'];\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\r\n        \r\n        this.parseError();\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    private parseError() {\r\n        this.error_details = new UnknownErrorDetails();\r\n        this.error_details.code = this.error.code;\r\n        this.error_details.message = this.error.message;\r\n        this.error_details.status = this.error.status;\r\n\r\n        this.error_details.server_stacktrace = () => {};\r\n\r\n        this.error_details.client_stacktrace = () => {};\r\n    }\r\n\r\n    public onDetails() {\r\n        this.showError = true;\r\n    }\r\n\r\n}\r\n\r\nfunction configureUnknownErrorPageRoute (\r\n    $injector: angular.auto.IInjectorService, \r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsUnknownState, {\r\n                url: '/errors/unknown',\r\n                params: {\r\n                    error: null\r\n                }, \r\n                controllerAs: '$ctrl',\r\n                controller: UnknownErrorPageController,\r\n                templateUrl: 'unknown/UnknownErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initUnknownErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unknown.Active) return;\r\n\r\n    $rootScope.$on(ErrorsUnknownEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        $state.go(ErrorsUnknownState, params);\r\n    });\r\n}\r\n\r\nfunction setUnknownErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n        'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n        'ERROR_UNKNOWN_CLOSE': 'Close',\r\n        'ERROR_UNKNOWN_DETAILS': 'Details',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNKNOWN_TITLE': 'Что-то пошло не так',\r\n        'ERROR_UNKNOWN_SUBTITLE': 'Произошла неизвестная ошибка, но не беспокойтесь, мы уже уведомлены.',\r\n        'ERROR_UNKNOWN_CLOSE': 'Закрыть',\r\n        'ERROR_UNKNOWN_DETAILS': 'Подробнее',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnknownErrorPageRoute)\r\n        .run(initUnknownErrorPage)\r\n        .run(setUnknownErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsUnsupportedState = 'errors_unsupported';\r\nexport let ErrorsUnsupportedEvent = 'pipUnsupportedError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnsupportedError {\r\n    config?: any;\r\n}\r\n\r\nclass UnsupportedErrorPageController {\r\n    private _pageName: string = 'Unsupported';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnsupportedError;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n}\r\n\r\nfunction configureUnsupportedErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state(ErrorsUnsupportedState, {\r\n            url: '/errors/unsupported',\r\n            params: {\r\n                error: null\r\n            },\r\n            controllerAs: '$ctrl',\r\n            controller: UnsupportedErrorPageController,\r\n            templateUrl: 'unsupported/UnsupportedErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initUnsupportedErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unsupported.Active) return;\r\n\r\n    let pipSystemInfo: any = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null;\r\n    if (!pipSystemInfo) { return; }\r\n\r\n    let supportedVersions = config.Unsupported.Params.supported;\r\n\r\n    let browser: string = pipSystemInfo.browserName;\r\n    let version: string = pipSystemInfo.browserVersion;\r\n    version = version.split(\".\")[0]\r\n\r\n    if (browser\r\n        && supportedVersions[browser]\r\n        && version >= supportedVersions[browser]) {\r\n        return;\r\n    }\r\n    // if not supported\r\n    $state.go(ErrorsUnsupportedState);\r\n}\r\n\r\nfunction setUnsupportedErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n        'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n        'technologies. Download one of these great browsers and you\\'ll be on your way:',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': 'Version',\r\n        ERROR_UNSUPPORTED_EDGE: 'Edge',\r\n        ERROR_UNSUPPORTED_EDGE_VER: 'Version',\r\n        ERROR_UNSUPPORTED_SAFARI_VER: 'Version',\r\n        ERROR_UNSUPPORTED_SAFARI: 'Safari'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNSUPPORTED_TITLE': 'Этот браузер не поддерживается. ',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Наше приложение использует новейшие технологии. Это делает приложение более быстрым ' +\r\n        'и простым в использовании. К сожалению, ваш браузер не поддерживает эти технологии. ' +\r\n        'Загрузите один из этих великолепных браузеров, и вы будете в пути:',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': 'Версия',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': 'Версия',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': 'Версия',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': 'Версия',\r\n        ERROR_UNSUPPORTED_EDGE: 'Edge',\r\n        ERROR_UNSUPPORTED_EDGE_VER: 'Версия',\r\n        ERROR_UNSUPPORTED_SAFARI_VER: 'Версия',\r\n        ERROR_UNSUPPORTED_SAFARI: 'Safari'\r\n    });\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnsupportedErrorPageRoute)\r\n        .run(initUnsupportedErrorPage)\r\n        .run(setUnsupportedErrorPageResources);\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/MaintenanceErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_MAINTENANCE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_MAINTENANCE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.timeoutInterval\">{{::\\'ERROR_MAINTENANCE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"$ctrl.isCordova\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_MAINTENANCE_CLOSE\\' | translate}}</md-button></div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"!$ctrl.isCordova\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_MAINTENANCE_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/MissingRouteErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"$ctrl.onContinue($event)\">{{::\\'ERROR_MISSING_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{$ctrl.url}}\">{{::\\'ERROR_MISSING_ROUTE_TRY_AGAIN\\' | translate }}: {{$ctrl.url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{$ctrl.urlBack}}\">{{::\\'ERROR_MISSING_ROUTE_GO_BACK\\' | translate }}: {{$ctrl.urlBack}}</a></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/NoConnectionErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/NoConnectionPanel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{$ctrl.error.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.error.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.error.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/UnknownErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.showError && $ctrl.error_details && $ctrl.error_details.message\"><div ng-if=\"$ctrl.error_details.code\">Code: {{$ctrl.error_details.code}}</div><div ng-if=\"$ctrl.error_details.message\">Description: {{$ctrl.error_details.message}}</div><div ng-if=\"$ctrl.error_details.status\">HTTP status: {{$ctrl.error_details.status}}</div><div ng-if=\"$ctrl.error_details.server_stacktrace\">Server stacktrace: {{$ctrl.error_details.server_stacktrace}}</div><div ng-if=\"$ctrl.error_details.client_stacktrace\">Client stacktrace stacktrace: {{$ctrl.error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"$ctrl.isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"$ctrl.error_details && $ctrl.error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"$ctrl.onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/UnsupportedErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$ctrl.media(\\'gt-xs\\') && $ctrl.errorConfig.Params && $ctrl.errorConfig.Params.supported\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.ie\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}} {{ $ctrl.errorConfig.Params.supported.ie }} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.edge\"><div style=\"background-image: url(\\'images/edge.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://microsoft-edge.en.softonic.com/download\">{{::\\'ERROR_UNSUPPORTED_EDGE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_EDGE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.edge}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.firefox\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.firefox}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.chrome\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.chrome}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.opera\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.opera}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.safari\"><div style=\"background-image: url(\\'images/safari.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://safari.en.softonic.com/\">{{::\\'ERROR_UNSUPPORTED_SAFARI\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_SAFARI_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.safari}} +</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$ctrl.media(\\'xs\\') && $ctrl.errorConfig.Params && $ctrl.errorConfig.Params.supported\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.ie\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.ie}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.edge\"><div style=\"background-image: url(\\'images/edge.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://microsoft-edge.en.softonic.com/download\">{{::\\'ERROR_UNSUPPORTED_EDGE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_EDGE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.edge}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.firefox\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.firefox}} +</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.chrome\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.chrome}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.opera\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.opera}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.safari\"><div style=\"background-image: url(\\'images/safari.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://safari.en.softonic.com/\">{{::\\'ERROR_UNSUPPORTED_SAFARI\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_SAFARI_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.safari}} +</p></div></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IBarChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const BarChartBindings: IBarChartBindings = {\r\n        series: '<pipSeries',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class BarChartBindingsChanges implements IBarChartBindings, ng.IOnChangesObject {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject<any>;\r\n        xTickFormat: ng.IChangesObject<any>;\r\n        yTickFormat: ng.IChangesObject<any>;\r\n        interactiveLegend: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class BarChartController implements ng.IController, IBarChartBindings {\r\n        public series: any;\r\n        public xTickFormat: any;\r\n        public yTickFormat: any;\r\n        public interactiveLegend: boolean;\r\n        public legend: any;\r\n\r\n        private data: any;\r\n        private chart: nv.DiscreteBarChart = null;\r\n        private chartElem: any;\r\n        private colors: string[];\r\n        private height: number = 270;\r\n\r\n        private spaceAfterBar: number = 15;\r\n        private spaceAfterMultiBar: number = 1;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                if (!updatedLegend) return;\r\n\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n            this.generateParameterColor();\r\n            (<any>d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: BarChartBindingsChanges) {\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : null;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : null;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : null;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.data = this.prepareData(this.series);\r\n                this.legend = _.clone(this.series);\r\n                this.generateParameterColor();\r\n                this.updateChart();\r\n            }\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.chartElem.datum(this.data).call(this.chart);\r\n                this.configBarWidthAndLabel();\r\n                this.drawEmptyState();\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.discreteBarChart()\r\n                    .margin({\r\n                        top: 10,\r\n                        right: 0,\r\n                        bottom: 10\r\n                    })\r\n                    .x((d) => {\r\n                        return d.label || d.key || d.x;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .showValues(true)\r\n                    .staggerLabels(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .valueFormat(<any>d3.format('d'))\r\n                    .duration(0)\r\n                    .height(this.height)\r\n                    .color((d) => {\r\n                        return this.data[d.series].color || this.pipChartColors.materialColorToRgba(this.colors[d.series]);\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d) => {\r\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chartElem = <any>d3.select(this.$element.get(0))\r\n                    .select('.bar-chart svg')\r\n                    .datum(this.data)\r\n                    .style('height', '305px')\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelOpened', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1000);\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelClosed', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1000);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    this.configBarWidthAndLabel(0);\r\n                }, 0);\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.update();\r\n            this.configBarWidthAndLabel(0);\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private prepareData(data): any {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (this.$element.find('.nv-noData').length === 0) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const g = this.chartElem.append('g').classed('empty-state', true),\r\n                    width = this.$element.find('.nvd3-svg').innerWidth(),\r\n                    margin = width * 0.1;\r\n\r\n                g.append('g')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', this.height - 10)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(42, 60)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 200)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(84, 160)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 100)\r\n                    .attr('width', 38);\r\n\r\n                g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2 * margin) / 126) + ', 1)');\r\n            }\r\n        }\r\n\r\n        private getGroupSize(): number {\r\n            let n: number = 1;\r\n\r\n            for (let i = 0; i < this.data.length; i++) {\r\n                if (this.data[i] && this.data[i].values && this.data[i].values.length > 0) {\r\n                    if (this.data[i].values.length > n) {\r\n                        n = this.data[i].values.length;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return this.data.length;\r\n        }\r\n\r\n        private configBarWidthAndLabel(timeout: number = 1000) {\r\n            const labels = this.$element.find('.nv-bar text'),\r\n                chartBars = this.$element.find('.nv-bar'),\r\n                parentHeight = (<any>this.$element.find('.nvd3-svg')[0]).getBBox().height;\r\n\r\n            d3.select(this.$element.find('.bar-chart')[0]).classed('visible', true);\r\n\r\n            let groupSize = this.getGroupSize();\r\n            let space: number = groupSize == 1 ? this.spaceAfterBar : this.spaceAfterMultiBar;\r\n            let correction = 2;\r\n            if (groupSize > 1) {\r\n                _.each(chartBars, (item: EventTarget, index: number) => {\r\n                    const barHeight = Number(d3.select(item).select('rect').attr('height')),\r\n                        barWidth = Number(d3.select(item).select('rect').attr('width'))/groupSize,\r\n                        element = d3.select(item),\r\n                        x = d3.transform(element.attr('transform')).translate[0],\r\n                        y = d3.transform(element.attr('transform')).translate[1];\r\n    \r\n                    element\r\n                        .attr('transform', 'translate(' + Number(x + index * (barWidth)) + ', ' + (this.height - 20) + ')')\r\n                        .select('rect').attr('height', 0);\r\n    \r\n                    element\r\n                        .transition()\r\n                        .duration(timeout)\r\n                        .attr('transform', 'translate(' + Number(x + index * (barWidth)) + ', ' + y + ')')\r\n                        .select('rect').attr('height', barHeight);\r\n    \r\n                    d3.select(labels[index])\r\n                        .attr('dy', barHeight / 2 + 10)\r\n                        .attr('x', barWidth * groupSize  / 2);\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                if (item.values[0]) {\r\n                    item.values[0].color = item.values[0].color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n                    item.color = item.values[0].color;\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const BarChart: ng.IComponentOptions = {\r\n        bindings: BarChartBindings,\r\n        templateUrl: 'bar_chart/BarChart.html',\r\n        controller: BarChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipBarCharts', [])\r\n        .component('pipBarChart', BarChart);\r\n}","import { IChartColorsService } from './IChartColorsService';\r\n\r\n{\r\n    class ChartColorsService implements IChartColorsService {\r\n        constructor(\r\n            private $mdColorPalette: angular.material.IColorPalette\r\n        ) { \r\n            \"ngInject\";\r\n        }\r\n\r\n        public getMaterialColor(index: number, colors: string[]): string {\r\n            if (!colors || colors.length < 1) return null;\r\n\r\n            if (index >= colors.length) {\r\n                index = 0;\r\n            }\r\n\r\n            return this.materialColorToRgba(colors[index]);\r\n        }\r\n\r\n        public materialColorToRgba(color: string): string {\r\n            return 'rgba(' + this.$mdColorPalette[color][500].value[0] + ',' +\r\n                this.$mdColorPalette[color][500].value[1] + ',' +\r\n                this.$mdColorPalette[color][500].value[2] + ',' +\r\n                (this.$mdColorPalette[color][500].value[3] || 1) + ')';\r\n        }\r\n\r\n        public generateMaterialColors(): string[] {\r\n            let colors = _.map((<any>this.$mdColorPalette), (palette, color: string) => {\r\n                return color;\r\n            });\r\n            colors = _.filter(colors, (color: string) => {\r\n                return _.isObject(this.$mdColorPalette[color]) && _.isObject(this.$mdColorPalette[color][500]) && _.isArray(this.$mdColorPalette[color][500].value);\r\n            });\r\n\r\n            return colors;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipChartColors', [])\r\n        .service('pipChartColors', ChartColorsService);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        interactive: any;\r\n    }\r\n\r\n    const ChartLegendBindings: IChartLegendBindings = {\r\n        series: '<pipSeries',\r\n        interactive: '<pipInteractive'\r\n    }\r\n\r\n    class ChartLegendBindingsChanges implements ng.IOnChangesObject, IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        interactive: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class ChartLegendController implements ng.IController, IChartLegendBindings {\r\n        public series: any;\r\n        public interactive: boolean;\r\n\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.updateLegends();\r\n        }\r\n\r\n        public $onChanges(changes: ChartLegendBindingsChanges) {\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.updateLegends();\r\n            }\r\n\r\n            if (changes.interactive && changes.interactive.currentValue !== changes.interactive.previousValue) {\r\n                this.interactive = changes.interactive.currentValue;\r\n                if (this.interactive === true) {\r\n                    this.$timeout(() => {\r\n                        this.colorCheckboxes();\r\n                    }, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateLegends() {\r\n            this.$timeout(() => {\r\n                this.animate();\r\n                this.colorCheckboxes();\r\n            }, 0);\r\n            this.prepareSeries();\r\n        }\r\n\r\n        private colorCheckboxes() {\r\n            const checkboxContainers = this.$element.find('md-checkbox .md-container');\r\n\r\n            _.each(checkboxContainers, (item: EventTarget, index: number) => {\r\n                if (index >= this.series.length) {\r\n                    return\r\n                }\r\n                $(item)\r\n                    .css('color', this.series[index].color || this.colors[index])\r\n                    .find('.md-icon')\r\n                    .css('background-color', this.series[index].color || this.colors[index]);\r\n            });\r\n        }\r\n\r\n        private animate() {\r\n            const legendTitles = this.$element.find('.chart-legend-item');\r\n\r\n            _.each(legendTitles, (item: EventTarget, index: number) => {\r\n                this.$timeout(() => {\r\n                    $(item).addClass('visible');\r\n                }, 200 * index);\r\n            });\r\n        }\r\n\r\n        private prepareSeries() {\r\n            if (!this.series) return;\r\n\r\n            _.each(this.series, (item: any, index: number) => {\r\n                const materialColor = this.pipChartColors.getMaterialColor(index, this.colors);\r\n                item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : materialColor);\r\n                item.disabled = item.disabled || false;\r\n            });\r\n        }\r\n    }\r\n\r\n    const ChartLegend: ng.IComponentOptions = {\r\n        bindings: ChartLegendBindings,\r\n        templateUrl: 'chart_legend/ChartInteractiveLegend.html',\r\n        controller: ChartLegendController\r\n    }\r\n\r\n    angular\r\n        .module('pipChartLegends', [])\r\n        .component('pipChartLegend', ChartLegend);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        showYAxis: any;\r\n        showXAxis: any;\r\n        xFormat: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        xTickValues: any;\r\n        dynamic: any;\r\n        fixedHeight: any;\r\n        dynamicHeight: any;\r\n        minHeight: any;\r\n        maxHeight: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const LineChartBindings: ILineChartBindings = {\r\n        series: '<pipSeries',\r\n        showYAxis: '<?pipYAxis',\r\n        showXAxis: '<?pipXAxis',\r\n        xFormat: '<?pipXFormat',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        xTickValues: '<?pipXTickValues',\r\n        dynamic: '<?pipDynamic',\r\n        fixedHeight: '<?pipDiagramHeight',\r\n        dynamicHeight: '<?pipDynamicHeight',\r\n        minHeight: '<?pipMinHeight',\r\n        maxHeight: '<?pipMaxHeight',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class LineChartBindingsChanges implements ng.IOnChangesObject, ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        fixedHeight: ng.IChangesObject<number>;\r\n        dynamicHeight: ng.IChangesObject<boolean>;\r\n        minHeight: ng.IChangesObject<number>;\r\n        maxHeight: ng.IChangesObject<number>;\r\n\r\n        series: ng.IChangesObject<any>;\r\n        showYAxis: ng.IChangesObject<boolean>;\r\n        showXAxis: ng.IChangesObject<boolean>;\r\n        xFormat: ng.IChangesObject<any>;\r\n        xTickFormat: ng.IChangesObject<any>;\r\n        yTickFormat: ng.IChangesObject<any>;\r\n        xTickValues: ng.IChangesObject<any>;\r\n        dynamic: ng.IChangesObject<boolean>;\r\n        interactiveLegend: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LineChartController implements ng.IController, ILineChartBindings {\r\n        private HEIGHT = 270;\r\n        private chart: nv.LineChart = null;\r\n        private chartElem: any = null;\r\n        private setZoom: Function = null;\r\n        private updateZoomOptions: Function = null;\r\n        private colors: string[];\r\n\r\n        public fixedHeight: number = this.HEIGHT;\r\n        public dynamicHeight: boolean = false;\r\n        public minHeight: number = this.HEIGHT;\r\n        public maxHeight: number = this.HEIGHT;\r\n        public series: any;\r\n        public showYAxis: boolean = true;\r\n        public showXAxis: boolean = true;\r\n        public xFormat: Function;\r\n        public xTickFormat: Function;\r\n        public yTickFormat: Function;\r\n        public xTickValues: number[];\r\n        public dynamic: boolean = false;\r\n        public interactiveLegend: boolean = false;\r\n        public data: any;\r\n        public legend: any;\r\n        public sourceEvents: any;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $timeout(() => {\r\n                    d3.selectAll('.nvtooltip').style('opacity', 0);\r\n                }, 800)\r\n            });\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series) || [];\r\n            this.legend = _.clone(this.series);\r\n            this.sourceEvents = [];\r\n\r\n            this.generateParameterColor();\r\n\r\n            (<any>d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: LineChartBindingsChanges) {\r\n            this.fixedHeight = changes.fixedHeight ? changes.fixedHeight.currentValue : this.HEIGHT;\r\n            this.minHeight = changes.minHeight ? changes.minHeight.currentValue : this.HEIGHT;\r\n            this.maxHeight = changes.maxHeight ? changes.maxHeight.currentValue : this.HEIGHT;\r\n            this.dynamicHeight = changes.dynamicHeight ? changes.dynamicHeight.currentValue : this.dynamicHeight;\r\n\r\n            this.showXAxis = changes.showXAxis ? changes.showXAxis.currentValue : this.showXAxis;\r\n            this.showYAxis = changes.showYAxis ? changes.showYAxis.currentValue : this.showYAxis;\r\n            this.dynamic = changes.dynamic ? changes.dynamic.currentValue : this.dynamic;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : this.interactiveLegend;\r\n\r\n            this.xFormat = changes.xFormat ? changes.xFormat.currentValue : this.xFormat;\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : this.xTickFormat;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : this.yTickFormat;\r\n\r\n            if (changes.xTickValues && changes.xTickValues.currentValue !== changes.xTickValues.previousValue) {\r\n                this.xTickValues = changes.xTickValues.currentValue;\r\n                this.updateXTickValues();\r\n                if (this.chartElem && this.chart) this.chartElem.datum(this.data || []).call(this.chart);\r\n            }\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.updateSeries();\r\n            }\r\n        }\r\n\r\n        private prepareData(data) {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private getHeight() {\r\n            /*if (this.dynamicHeight) {\r\n                const heigth = Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight);\r\n                return heigth;\r\n            } else {\r\n                return this.fixedHeight;\r\n            }*/\r\n            return this.dynamicHeight ? Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight) : this.fixedHeight;\r\n        };\r\n\r\n        public zoomIn() {\r\n            if (this.setZoom) {\r\n                this.setZoom('in');\r\n            }\r\n        };\r\n\r\n        public zoomOut() {\r\n            if (this.setZoom) {\r\n                this.setZoom('out');\r\n            }\r\n        };\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.lineChart()\r\n                    .margin({\r\n                        top: 20,\r\n                        right: 20,\r\n                        bottom: 30,\r\n                        left: 80\r\n                    })\r\n                    .x((d) => {\r\n                        return (d !== undefined && d.x !== undefined) ? (this.xFormat ? this.xFormat(d.x) : d.x) : d;\r\n                    })\r\n                    .y((d) => {\r\n                        return (d !== undefined && d.value !== undefined) ? d.value : d;\r\n                    })\r\n                    .height(this.getHeight() - 50)\r\n                    .useInteractiveGuideline(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .showLegend(false)\r\n                    .color((d) => {\r\n                        return d.color || (<any>d3.scale).paletteColors().range();\r\n                    });\r\n                if (this.onlyZeroY()) {\r\n                    this.chart.yDomain([0, 5]);\r\n                }\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d: any) => {\r\n                        let y = this.yTickFormat ? this.yTickFormat(d) : d;\r\n\r\n                        return this.clipYTick(y);\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    })\r\n                    .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                        d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0)).select('.line-chart svg');\r\n                this.chartElem.datum(this.data || []).style('height', (this.getHeight() - 50) + 'px').call(this.chart);\r\n                // Handle touches for correcting tooltip position\r\n                $('.line-chart svg').on('touchstart touchmove', (e) => {\r\n                    this.$timeout(() => {\r\n                        const tooltip = $('.nvtooltip'),\r\n                            tooltipW = tooltip.innerWidth(),\r\n                            bodyWidth = $('body').innerWidth(),\r\n                            x = e.originalEvent['touches'][0]['pageX'],\r\n                            y = e.originalEvent['touches'][0]['pageY'];\r\n\r\n                        tooltip.css('transform', 'translate(' +\r\n                            (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' +\r\n                            y + ')');\r\n                        tooltip.css('left', 0);\r\n                        tooltip.css('top', 0);\r\n                    });\r\n                });\r\n\r\n                $('.line-chart svg').on('touchstart touchend', (e) => {\r\n                    const removeTooltip = () => {\r\n                        $('.nvtooltip').css('opacity', 0);\r\n                    };\r\n\r\n                    removeTooltip();\r\n\r\n                    this.$timeout(() => {\r\n                        removeTooltip();\r\n                    }, 500);\r\n                });\r\n\r\n                if (this.dynamic) {\r\n                    this.addZoom(this.chart, this.chartElem);\r\n                }\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelOpened', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1500);\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelClosed', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1500);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private clipYTick(string: String): any {\r\n            return string.length > 12 ? (string.substr(0, 10) + '..') : string;\r\n        }\r\n\r\n        private onlyZeroY() {\r\n            for (let seria in this.data) {\r\n                for (let v in this.data[seria]['values']) {\r\n                    if (this.data[seria]['values'][v]['value'] != 0) return false;\r\n                };\r\n            };\r\n\r\n            return true;\r\n        }\r\n\r\n        private updateXTickValues() {\r\n            if (!this.chart) return;\r\n\r\n            this.chart.xAxis\r\n                .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                    d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.updateXTickValues();\r\n\r\n                this.chartElem.datum(this.data || []).call(this.chart);\r\n                this.drawEmptyState();\r\n\r\n                if (this.updateZoomOptions) this.updateZoomOptions(this.data);\r\n            }\r\n        }\r\n\r\n        private updateSeries() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n\r\n            this.generateParameterColor();\r\n            this.updateChart();\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.height(this.getHeight() - 50);\r\n            this.chartElem.style('height', (this.getHeight() - 50) + 'px');\r\n            this.chart.update();\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const containerWidth = this.$element.find('.line-chart').innerWidth(),\r\n                    containerHeight = this.$element.find('.line-chart').innerHeight();\r\n\r\n                if (this.$element.find('.empty-state').get(0)) {\r\n                    this.chartElem\r\n                        .select('image')\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\r\n                } else {\r\n                    this.chartElem\r\n                        .append(\"defs\")\r\n                        .append(\"pattern\")\r\n                        .attr(\"height\", 1)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"x\", \"0\")\r\n                        .attr(\"y\", \"0\")\r\n                        .attr(\"id\", \"bg\")\r\n                        .append(\"image\")\r\n                        .attr('x', 17)\r\n                        .attr('y', 0)\r\n                        .attr('height', \"216px\")\r\n                        .attr('width', \"1151px\")\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\r\n                        .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\r\n\r\n                    this.chartElem\r\n                        .append('rect')\r\n                        .classed('empty-state', true)\r\n                        .attr('height', \"100%\")\r\n                        .attr('width', \"100%\")\r\n                        .attr('fill', 'url(#bg)');\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateScroll(domains, boundary) {\r\n            const bDiff = boundary[1] - boundary[0],\r\n                domDiff = domains[1] - domains[0],\r\n                isEqual = domDiff / bDiff === 1;\r\n\r\n            $(this.$element[0]).find('.visual-scroll')\r\n                .css('opacity', function () {\r\n                    return isEqual ? 0 : 1;\r\n                });\r\n\r\n            if (isEqual) return;\r\n\r\n            $(this.$element[0]).find('.scrolled-block')\r\n                .css('left', () => {\r\n                    return (domains[0] - boundary[0]) / bDiff * 100 + '%';\r\n                })\r\n                .css('width', () => {\r\n                    return domDiff / bDiff * 100 + '%';\r\n                });\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n        private addZoom(chart, svg) {\r\n            // Scale Extent\r\n            const scaleExtent = 4;\r\n\r\n            // Parameters\r\n            let yAxis = null;\r\n            let xAxis = null;\r\n            let xDomain = null;\r\n            let yDomain = null;\r\n            let redraw = null;\r\n\r\n            // Scales\r\n            let xScale = null;\r\n            let yScale = null;\r\n\r\n            // Min/max boundaries\r\n            let x_boundary = null;\r\n            let y_boundary = null;\r\n\r\n            // Create d3 zoom handler\r\n            let d3zoom = d3.behavior.zoom();\r\n            let prevXDomain = null;\r\n            let prevScale = null;\r\n            let prevTranslate = null;\r\n\r\n            const setData = (newChart) => {\r\n                // Parameters\r\n                yAxis = newChart.yAxis;\r\n                xAxis = newChart.xAxis;\r\n                xDomain = newChart.xDomain || xAxis.scale().domain;\r\n                yDomain = newChart.yDomain || yAxis.scale().domain;\r\n                redraw = newChart.update;\r\n\r\n                // Scales\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                // Min/max boundaries\r\n                x_boundary = xAxis.scale().domain().slice();\r\n                y_boundary = yAxis.scale().domain().slice();\r\n\r\n                // Create d3 zoom handler\r\n                prevXDomain = x_boundary;\r\n                prevScale = d3zoom.scale();\r\n                prevTranslate = d3zoom.translate();\r\n\r\n                // Ensure nice axis\r\n                xScale.nice();\r\n                yScale.nice();\r\n            }\r\n\r\n            setData(chart);\r\n\r\n            // Fix domain\r\n            const fixDomain = (domain, boundary, scale, translate) => {\r\n                if (domain[0] < boundary[0]) {\r\n                    domain[0] = boundary[0];\r\n                    if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                        domain[1] += (boundary[0] - domain[0]);\r\n                    } else {\r\n                        domain[1] = prevXDomain[1];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n\r\n                }\r\n                if (domain[1] > boundary[1]) {\r\n                    domain[1] = boundary[1];\r\n                    if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                        domain[0] -= (domain[1] - boundary[1]);\r\n                    } else {\r\n                        domain[0] = prevXDomain[0];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                prevXDomain = _.clone(domain);\r\n                prevScale = _.clone(scale);\r\n                prevTranslate = _.clone(translate);\r\n\r\n                return domain;\r\n            }\r\n\r\n            const updateChart = () => {\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                xScale.domain(x_boundary);\r\n                d3zoom.x(xScale).y(yScale);\r\n                svg.call(d3zoom);\r\n            }\r\n\r\n            // Zoom event handler\r\n            const zoomed = () => {\r\n                if ((<any>d3.event).scale === 1) {\r\n                    unzoomed();\r\n                    updateChart();\r\n                } else {\r\n                    xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\r\n                    redraw();\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n\r\n            // Describe set zoom function\r\n            this.setZoom = (which) => {\r\n                const center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                const translate0 = d3zoom.translate(),\r\n                    coordinates0 = coordinates(center0);\r\n\r\n                if (which === 'in') {\r\n                    if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                } else {\r\n                    if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                }\r\n\r\n                const center1 = point(coordinates0);\r\n                d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                d3zoom.event(svg);\r\n            };\r\n\r\n            const step = (which) => {\r\n                const translate = d3zoom.translate();\r\n\r\n                if (which === 'right') {\r\n                    translate[0] -= 20;\r\n                } else {\r\n                    translate[0] += 20;\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                d3zoom.event(svg);\r\n            }\r\n\r\n            const coordinates = (point) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n            }\r\n\r\n            const point = (coordinates) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n            }\r\n\r\n            const keypress = () => {\r\n                switch ((<any>d3.event).keyCode) {\r\n                    case 39:\r\n                        step('right');\r\n                        break;\r\n                    case 37:\r\n                        step('left');\r\n                        break;\r\n                    case 107:\r\n                        this.setZoom('in');\r\n                        break;\r\n                    case 109:\r\n                        this.setZoom('out');\r\n                }\r\n            }\r\n\r\n            // Zoom event handler\r\n            const unzoomed = () => {\r\n                xDomain(x_boundary);\r\n                redraw();\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                prevScale = 1;\r\n                prevTranslate = [0, 0];\r\n            }\r\n\r\n            // Initialize wrapper\r\n            d3zoom.x(xScale)\r\n                .y(yScale)\r\n                .scaleExtent([1, scaleExtent])\r\n                .on('zoom', zoomed);\r\n\r\n            // Add handler\r\n            svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n            $(this.$element.get(0)).addClass('dynamic');\r\n\r\n            // Add keyboard handlers\r\n            svg\r\n                .attr('focusable', false)\r\n                .style('outline', 'none')\r\n                .on('keydown', keypress)\r\n                .on('focus', () => { });\r\n\r\n            const getXMinMax = (data) => {\r\n                let maxVal, minVal = null;\r\n\r\n                for (let i = 0; i < data.length; i++) {\r\n                    if (!data[i].disabled) {\r\n                        const tempMinVal = d3.max(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        const tempMaxVal = d3.min(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                        maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                    }\r\n                }\r\n                return [maxVal, minVal];\r\n            };\r\n\r\n            const updateZoomOptions = (data) => {\r\n                yAxis = chart.yAxis;\r\n                xAxis = chart.xAxis;\r\n\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                x_boundary = getXMinMax(data);\r\n\r\n                if (d3zoom.scale() === 1) {\r\n                    d3zoom.x(xScale).y(yScale);\r\n                    svg.call(d3zoom);\r\n                    d3zoom.event(svg);\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n        }\r\n    }\r\n\r\n    const LineChart: ng.IComponentOptions = {\r\n        bindings: LineChartBindings,\r\n        templateUrl: 'line_chart/LineChart.html',\r\n        controller: LineChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipLineCharts', [])\r\n        .component('pipLineChart', LineChart);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        donut: any;\r\n        legend: any;\r\n        total: any;\r\n        size: any;\r\n        centered: any;\r\n    }\r\n\r\n    const PieChartBindings: IPieChartBindings = {\r\n        series: '<pipSeries',\r\n        donut: '<?pipDonut',\r\n        legend: '<?pipShowLegend',\r\n        total: '<?pipShowTotal',\r\n        size: '<?pipPieSize',\r\n        centered: '<?pipCentered'\r\n    }\r\n\r\n    class PieChartBindingsChanges implements ng.IOnChangesObject, IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        donut: ng.IChangesObject < boolean > ;\r\n        legend: ng.IChangesObject < boolean > ;\r\n        total: ng.IChangesObject < boolean > ;\r\n        size: ng.IChangesObject < number | string > ;\r\n        centered: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class PieChartController implements ng.IController, IPieChartBindings {\r\n        public series: any;\r\n        public donut: boolean = false;\r\n        public legend: boolean = true;\r\n        public total: boolean = true;\r\n        public size: number | string = 250;\r\n        public centered: boolean = false;\r\n\r\n        private data: any;\r\n        private chart: nv.PieChart = null;\r\n        private chartElem: any;\r\n        private titleElem: any;\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.series;\r\n            this.generateParameterColor();\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: PieChartBindingsChanges) {\r\n            this.legend = changes.legend ? changes.legend.currentValue : this.legend;\r\n            this.centered = changes.centered ? changes.centered.currentValue : this.centered;\r\n            this.donut = changes.donut ? changes.donut.currentValue : this.donut;\r\n            this.size = changes.size ? changes.size.currentValue : this.size;\r\n            this.total = changes.total ? changes.total.currentValue : this.total;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.data = changes.series.currentValue;\r\n                this.generateParameterColor();\r\n\r\n                if (this.chart) {\r\n                    this.chartElem.datum(this.data).call(this.chart);\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                }\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.pieChart()\r\n                    .margin({\r\n                        top: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        left: 0\r\n                    })\r\n                    .x((d) => {\r\n                        return this.donut ? d.value : null;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .height(Number(this.size))\r\n                    .width(Number(this.size))\r\n                    .showLabels(true)\r\n                    .labelThreshold(.001)\r\n                    .growOnHover(false)\r\n                    .donut(this.donut)\r\n                    .donutRatio(0.5)\r\n                    .color((d) => {\r\n                        return d.color || ( < any > d3.scale).paletteColors().range();\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n                this.chart.showLegend(false);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0))\r\n                    .select('.pie-chart')\r\n                    .style('height', (this.size) + 'px')\r\n                    .style('width', this.centered ? '100%' : (this.size) + 'px')\r\n                    .select('svg')\r\n                    .style('opacity', 0)\r\n                    .datum(this.data || [])\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.chart.update();\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.centerChart();\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0];\r\n                    this.renderTotalLabel(svgElem);\r\n                    d3.select(svgElem)\r\n                        .transition()\r\n                        .duration(1000)\r\n                        .style('opacity', 1);\r\n\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    }, 800);\r\n                    this.centerChart();\r\n                    this.drawEmptyState(svgElem);\r\n                });\r\n            });\r\n        }\r\n\r\n        private drawEmptyState(svg) {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n                this.$element.find('.pip-empty-pie-text').remove();\r\n            } else {\r\n                if (this.$element.find('.pip-empty-pie-text').length === 0) {\r\n                    this.$element.find('.pie-chart')\r\n                        .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\r\n                }\r\n\r\n                const pie = d3.layout.pie().sort(null),\r\n                    size = Number(this.size);\r\n\r\n                const arc = d3.svg.arc()\r\n                    .innerRadius(size / 2 - 20)\r\n                    .outerRadius(size / 2 - 57);\r\n\r\n                svg = d3.select(svg)\r\n                    .append(\"g\")\r\n                    .classed('empty-state', true)\r\n                    .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\r\n\r\n                const path = svg.selectAll(\"path\")\r\n                    .data(pie([1]))\r\n                    .enter().append(\"path\")\r\n                    .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\r\n                    .attr(\"d\", < any > arc);\r\n            }\r\n        }\r\n\r\n        private centerChart() {\r\n            if (this.centered) {\r\n                const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0],\r\n                    leftMargin = $(svgElem).innerWidth() / 2 - (Number(this.size) || 250) / 2;\r\n                d3.select(this.$element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\r\n            }\r\n        }\r\n\r\n        private renderTotalLabel(svgElem) {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            let totalVal = this.data.reduce(function (sum, curr) {\r\n                return sum + curr.value;\r\n            }, 0);\r\n\r\n            if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\r\n\r\n            d3.select(svgElem)\r\n                .select('.nv-pie:not(.nvd3)')\r\n                .append('text')\r\n                .classed('label-total', true)\r\n                .attr('text-anchor', 'middle')\r\n                .style('dominant-baseline', 'central')\r\n                .text(totalVal);\r\n\r\n            this.titleElem = d3.select(this.$element.find('text.label-total').get(0)).style('opacity', 0);\r\n        }\r\n\r\n        private resizeTitleLabelUnwrap() {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            const boxSize = ( < any > this.$element.find('.nvd3.nv-pieChart').get(0)).getBBox();\r\n\r\n            if (!boxSize.width || !boxSize.height) {\r\n                return;\r\n            }\r\n\r\n            this.titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const PieChart: ng.IComponentOptions = {\r\n        bindings: PieChartBindings,\r\n        templateUrl: 'pie_chart/PieChart.html',\r\n        controller: PieChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipPieCharts', [])\r\n        .component('pipPieChart', PieChart);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar_chart/BarChart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend ng-show=\"$ctrl.legend\" pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('chart_legend/ChartInteractiveLegend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in $ctrl.series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"$ctrl.interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!$ctrl.interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line_chart/LineChart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': $ctrl.showXAxis, \\'visible-y-axis\\': $ctrl.showYAxis}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"$ctrl.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"$ctrl.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie_chart/PieChart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !$ctrl.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"$ctrl.data\" pip-interactive=\"false\" ng-if=\"$ctrl.legend\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","{\r\n    interface ILocationBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipShowLocationIcon: any;\r\n        pipCollapse: any;\r\n        pipRebind: any;\r\n        pipDisabled: any;\r\n        pipLocationResize: any;\r\n    }\r\n\r\n    const LocationBindings: ILocationBindings = {\r\n        pipLocationName: '<',\r\n        pipLocationPos: '<',\r\n        pipShowLocationIcon: '<',\r\n        pipCollapse: '<',\r\n        pipRebind: '<',\r\n        pipDisabled: '<',\r\n        pipLocationResize: '&'\r\n    }\r\n\r\n    class LocationBindingsChanges implements ng.IOnChangesObject, ILocationBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: ng.IChangesObject < string > ;\r\n        pipLocationPos: ng.IChangesObject < any > ;\r\n        pipShowLocationIcon: ng.IChangesObject < boolean > ;\r\n        pipCollapse: ng.IChangesObject < boolean > ;\r\n        pipRebind: ng.IChangesObject < boolean > ;\r\n        pipDisabled: ng.IChangesObject < boolean > ;\r\n\r\n        pipLocationResize: any;\r\n    }\r\n\r\n    class LocationController implements ng.IController, ILocationBindings {\r\n        public pipLocationName: string;\r\n        public pipLocationPos: any;\r\n        public pipShowLocationIcon: boolean;\r\n        public pipCollapse: boolean;\r\n        public pipRebind: boolean;\r\n        public pipDisabled: boolean;\r\n        public showMap: boolean = true;\r\n        public pipLocationResize: Function;\r\n\r\n        private name: JQuery;\r\n        private mapContainer: JQuery;\r\n        private mapControl: JQuery;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope\r\n        ) {\r\n            \"ngInject\";\r\n            // Add class\r\n            $element.addClass('pip-location');\r\n        }\r\n\r\n        public $postLink() {\r\n            this.$timeout(() => {\r\n                this.name = this.$element.find('.pip-location-name');\r\n                this.mapContainer = this.$element.find('.pip-location-container');\r\n\r\n                if (this.pipCollapse === true) {\r\n                    this.mapContainer.hide();\r\n                    this.showMap = false;\r\n\r\n                    // Process user click\r\n                    this.name.click((event) => {\r\n                        event.stopPropagation();\r\n                        if (this.pipDisabled) return;\r\n                        this.showMap = !this.showMap;\r\n                        this.mapContainer[this.showMap ? 'show' : 'hide']();\r\n                        if (this.showMap) this.generateMap();\r\n                        if (!this.$scope.$$phase) this.$scope.$apply();\r\n                    });\r\n                }\r\n\r\n                this.redrawMap();\r\n            });\r\n        }\r\n\r\n        private redrawMap() {\r\n            if (!this.mapContainer) return;\r\n\r\n            // Visualize map\r\n            if (this.pipLocationPos && this.showMap === true) {\r\n                this.generateMap();\r\n            } else {\r\n                this.clearMap();\r\n            }\r\n        }\r\n\r\n        public $onChanges(changes: LocationBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind \r\n                ? changes.pipRebind.currentValue || false : false;\r\n            this.pipShowLocationIcon = changes.pipShowLocationIcon \r\n                ? changes.pipShowLocationIcon.currentValue || false : false;\r\n            this.pipCollapse = changes.pipCollapse \r\n                ? changes.pipCollapse.currentValue || false : false;\r\n            this.pipDisabled = changes.pipDisabled \r\n                ? changes.pipDisabled.currentValue || false : false;\r\n\r\n            if (this.pipRebind) {\r\n                this.pipLocationName = changes.pipLocationName \r\n                    ? changes.pipLocationName.currentValue : null;\r\n                this.pipLocationPos = changes.pipLocationPos \r\n                    ? changes.pipLocationPos.currentValue : null;\r\n                this.redrawMap();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n            this.mapContainer.hide();\r\n        }\r\n\r\n        private generateMap() {\r\n            const location = this.pipLocationPos;\r\n\r\n            // Safeguard for bad coordinates\r\n            if (this.showMap === false \r\n                || location == null \r\n                || location.coordinates == null \r\n                || location.coordinates.length < 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            const coordinates = new google.maps.LatLng(\r\n                location.coordinates[0],\r\n                location.coordinates[1]\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapContainer.show();\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const\r\n                mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\r\n\r\n            new google.maps.Marker({\r\n                position: coordinates,\r\n                map: map\r\n            });\r\n        };\r\n    }\r\n\r\n    const LocationComponent: ng.IComponentOptions = {\r\n        bindings: LocationBindings,\r\n        templateUrl: 'location/Location.html',\r\n        controller: LocationController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocation\", [])\r\n        .component('pipLocation', LocationComponent);\r\n}","import { ILocationDialogService } from './ILocationDialogService';\r\nimport { LocationDialogParams } from './LocationDialogParams';\r\n\r\n{\r\n    class LocationEditDialogController {\r\n        private _map = null;\r\n        private _marker = null;\r\n\r\n        public theme: string;\r\n        public locationPos;\r\n        public locationName;\r\n        public supportSet: boolean;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $timeout: angular.ITimeoutService,\r\n            private $mdDialog: angular.material.IDialogService,\r\n            locationPos: any,\r\n            locationName: string\r\n        ) {\r\n            this.theme = $rootScope['$theme'];\r\n            this.locationPos = locationPos && locationPos.type == 'Point' &&\r\n                locationPos.coordinates && locationPos.coordinates.length == 2 ?\r\n                locationPos : null;\r\n            this.locationName = locationName;\r\n            this.supportSet = navigator.geolocation != null;\r\n\r\n            // Wait until dialog is initialized\r\n            $timeout(() => {\r\n                let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\r\n                // Calculate coordinate of the center\r\n                let coordinates = this.locationPos ?\r\n                    new google.maps.LatLng(\r\n                        this.locationPos.coordinates[0],\r\n                        this.locationPos.coordinates[1]\r\n                    ) : null;\r\n\r\n                // Create the map with point marker\r\n                const mapOptions = {\r\n                    center: new google.maps.LatLng(0, 0),\r\n                    zoom: 1,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true\r\n                }\r\n                if (coordinates != null) {\r\n                    mapOptions.center = coordinates;\r\n                    mapOptions.zoom = 12;\r\n                }\r\n\r\n                this._map = new google.maps.Map(mapContainer[0], mapOptions);\r\n                this._marker = this.createMarker(coordinates);\r\n\r\n                // Fix resizing issue\r\n                $timeout(() => {\r\n                    google.maps.event.trigger(this._map, 'resize');\r\n                }, 1000);\r\n            }, 0);\r\n\r\n            $scope.$on('pipLayoutResized', () => {\r\n                if (this._map == null) return;\r\n                google.maps.event.trigger(this._map, 'resize');\r\n            });\r\n\r\n        }\r\n\r\n        private createMarker(coordinates) {\r\n            if (this._marker) this._marker.setMap(null);\r\n            if (coordinates) {\r\n                this._marker = new google.maps.Marker({\r\n                    position: coordinates,\r\n                    map: this._map,\r\n                    draggable: true,\r\n                    animation: google.maps.Animation.DROP\r\n                });\r\n\r\n                let thisMarker = this._marker;\r\n                google.maps.event.addListener(thisMarker, 'dragend', () => {\r\n                    let coordinates = thisMarker.getPosition();\r\n                    this.changeLocation(coordinates, null);\r\n                });\r\n            } else {\r\n                this._marker = null;\r\n            }\r\n\r\n            return this._marker;\r\n        }\r\n\r\n        private changeLocation(coordinates, tid) {\r\n            this.locationPos = {\r\n                type: 'Point',\r\n                coordinates: [coordinates.lat(), coordinates.lng()]\r\n            };\r\n            this.locationName = null;\r\n            // Read address\r\n            const geocoder = new google.maps.Geocoder();\r\n            geocoder.geocode({\r\n                latLng: coordinates\r\n            }, (results, status) => {\r\n                // Process positive response\r\n                if (results && results.length > 0) {\r\n                    this.locationName = results[0].formatted_address;\r\n                }\r\n\r\n                this.$scope.$apply();\r\n            })\r\n        }\r\n        // Describe user actions\r\n        public onAddPin() {\r\n            if (this._map === null) return;\r\n\r\n            const coordinates = this._map.getCenter();\r\n            this._marker = this.createMarker(coordinates);\r\n            this.changeLocation(coordinates, null);\r\n        }\r\n\r\n        public onRemovePin() {\r\n            if (this._map === null) return;\r\n            this._marker = this.createMarker(null);\r\n            this.locationPos = null;\r\n            this.locationName = null;\r\n        }\r\n\r\n        public onZoomIn() {\r\n            if (this._map === null) return;\r\n            const zoom = this._map.getZoom();\r\n            this._map.setZoom(zoom + 1);\r\n        }\r\n\r\n        public onZoomOut() {\r\n            if (this._map === null) return;\r\n            const zoom = this._map.getZoom();\r\n            this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\r\n        }\r\n\r\n        public onSetLocation = function () {\r\n            if (this._map === null) return;\r\n\r\n            navigator.geolocation.getCurrentPosition(\r\n                (position) => {\r\n                    const coordinates = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n                    this._marker = this.createMarker(coordinates);\r\n                    this._map.setCenter(coordinates);\r\n                    this._map.setZoom(12);\r\n                    this.changeLocation(coordinates, null);\r\n                },\r\n                () => {\r\n                    this.$scope.$apply();\r\n                }, {\r\n                    maximumAge: 0,\r\n                    enableHighAccuracy: true,\r\n                    timeout: 5000\r\n                });\r\n        }\r\n\r\n        public onCancel(): void {\r\n            this.$mdDialog.cancel();\r\n        }\r\n\r\n        public onApply(): void {\r\n            this.$mdDialog.hide({\r\n                location: this.locationPos,\r\n                locationPos: this.locationPos,\r\n                locationName: this.locationName\r\n            })\r\n        }\r\n    }\r\n    \r\n    class LocationDialogService implements ILocationDialogService {\r\n        constructor(\r\n            private $mdDialog: angular.material.IDialogService\r\n        ) {}\r\n\r\n        public show(params: LocationDialogParams, successCallback?, cancelCallback?) {\r\n            this.$mdDialog.show({\r\n                    controller: LocationEditDialogController,\r\n                    controllerAs: '$ctrl',\r\n                    templateUrl: 'location_dialog/LocationDialog.html',\r\n                    locals: {\r\n                        locationName: params.locationName,\r\n                        locationPos: params.locationPos\r\n                    },\r\n                    clickOutsideToClose: true\r\n                })\r\n                .then((result) => {\r\n                    if (successCallback) {\r\n                        successCallback(result);\r\n                    }\r\n                }, () => {\r\n                    if (cancelCallback) {\r\n                        cancelCallback();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    const LocationDialogRun = function($injector: ng.auto.IInjectorService) {\r\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            ( < any > pipTranslate).setTranslations('en', {\r\n                'LOCATION_ADD_LOCATION': 'Add location',\r\n                'LOCATION_SET_LOCATION': 'Set location',\r\n                'LOCATION_ADD_PIN': 'Add pin',\r\n                'LOCATION_REMOVE_PIN': 'Remove pin'\r\n            });\r\n            ( < any > pipTranslate).setTranslations('ru', {\r\n                'LOCATION_ADD_LOCATION': 'Добавить местоположение',\r\n                'LOCATION_SET_LOCATION': 'Определить положение',\r\n                'LOCATION_ADD_PIN': 'Добавить точку',\r\n                'LOCATION_REMOVE_PIN': 'Убрать точку'\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipLocationEditDialog')\r\n        .run(LocationDialogRun)\r\n        .service('pipLocationEditDialog', LocationDialogService);\r\n}","export class LocationDialogParams {\r\n    // Locations position\r\n    locationPos: any;\r\n    // Location name\r\n    locationName: string;\r\n}","angular.module('pipLocationEditDialog', ['ngMaterial', 'pipLocations.Templates']);\r\n\r\nimport './LocationDialog'","import { ILocationDialogService } from '../location_dialog/ILocationDialogService';\r\n\r\n{\r\n    interface ILocationEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipLocationHolder: any;\r\n        ngDisabled: any;\r\n        pipChanged: any;\r\n    }\r\n\r\n    const LocationEditBindings: ILocationEditBindings = {\r\n        pipLocationName: '=',\r\n        pipLocationPos: '=',\r\n        pipLocationHolder: '=',\r\n        ngDisabled: '<',\r\n        pipChanged: '&'\r\n    }\r\n\r\n    class LocationEditBindingsChanges implements ng.IOnChangesObject, ILocationEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipLocationHolder: any;\r\n        pipChanged: any;\r\n\r\n        ngDisabled: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LocationEditController implements ng.IController, ILocationEditBindings {\r\n        public pipLocationName: string;\r\n        public pipLocationPos: any;\r\n        public pipLocationHolder: boolean;\r\n        public ngDisabled: boolean;\r\n        public pipChanged: Function;\r\n\r\n        private empty: JQuery;\r\n        private mapContainer: JQuery;\r\n        private mapControl: any;\r\n        private defineCoordinatesDebounced: Function;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private pipLocationEditDialog: ILocationDialogService\r\n        ) {\r\n            this.defineCoordinatesDebounced = _.debounce(() => {\r\n                this.defineCoordinates\r\n            }, 2000);\r\n        }\r\n\r\n        public $postLink() {\r\n            this.$element.find('md-input-container').attr('md-no-float', (!!this.pipLocationHolder).toString());\r\n            // Set containers\r\n            this.empty = this.$element.children('.pip-location-empty');\r\n            this.mapContainer = this.$element.children('.pip-location-container');\r\n            this.mapControl = null;\r\n\r\n            // Add watchers\r\n            this.$scope.$watch('$ctrl.pipLocationName',\r\n                (newValue, oldValue) => {\r\n                    if (newValue !== oldValue) {\r\n                        this.defineCoordinatesDebounced();\r\n                    }\r\n                }\r\n            );\r\n            this.$scope.$watch('$ctrl.pipLocationPos',\r\n                () => {\r\n                    this.generateMap();\r\n                }\r\n            );\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-location-edit');\r\n\r\n            // Visualize map\r\n            if (this.pipLocationPos) {\r\n                this.generateMap();\r\n            } else {\r\n                this.clearMap();\r\n            }\r\n        }\r\n\r\n        public $onChanges(changes: LocationEditBindingsChanges) {\r\n            this.ngDisabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false; \r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n\r\n            // Toggle control visibility\r\n            this.mapContainer.hide();\r\n            this.empty.show();\r\n        }\r\n\r\n        private generateMap() {\r\n            // Safeguard for bad coordinates\r\n            const location = this.pipLocationPos;\r\n            if (location == null || location.coordinates == null || location.coordinates.length < 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            const coordinates = new google.maps.LatLng(\r\n                location.coordinates[0],\r\n                location.coordinates[1]\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n\r\n            // Toggle control visibility\r\n            this.mapContainer.show();\r\n            this.empty.hide();\r\n\r\n            // Add a new map\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\r\n                marker = new google.maps.Marker({\r\n                    position: coordinates,\r\n                    map: map\r\n                });\r\n        }\r\n\r\n        private defineCoordinates() {\r\n            const locationName = this.pipLocationName;\r\n\r\n            if (locationName == '') {\r\n                this.pipLocationPos = null;\r\n                this.clearMap();\r\n                this.$scope.$apply();\r\n                return;\r\n            }\r\n\r\n            const geocoder = new google.maps.Geocoder();\r\n            geocoder.geocode({\r\n                address: locationName\r\n            }, function (results, status) {\r\n                this.$scope.$apply(function () {\r\n                    // Process response\r\n                    if (status === google.maps.GeocoderStatus.OK) {\r\n                        // Check for empty results\r\n                        if (results === null || results.length === 0) {\r\n                            this.pipLocationPos = null;\r\n                            this.clearMap();\r\n                            return;\r\n                        }\r\n\r\n                        const geometry = results[0].geometry || {},\r\n                            location = geometry.location || {};\r\n\r\n                        // Check for empty results again\r\n                        if (location.lat === null || location.lng === null) {\r\n                            this.pipLocationPos = null;\r\n                            this.clearMap();\r\n                            return;\r\n                        }\r\n\r\n                        this.pipLocationPos = {\r\n                            type: 'Point',\r\n                            coordinates: {\r\n                                latitude: location.lat(),\r\n                                longtitude: location.lng()\r\n                            }\r\n                        };\r\n                        this.generateMap();\r\n                    }\r\n                    else {\r\n                        this.pipLocationPos = null;\r\n                        this.clearMap();\r\n                    }\r\n                });\r\n            });\r\n        };\r\n\r\n        public onSetLocation() {\r\n            if (this.ngDisabled) return;\r\n\r\n            this.pipLocationEditDialog.show({\r\n                    locationName: this.pipLocationName,\r\n                    locationPos: this.pipLocationPos\r\n                },\r\n                (result) => {\r\n                    const\r\n                        location = result.location,\r\n                        locationName = result.locationName;\r\n\r\n                    // Do not change anything if location is about the same\r\n                    if (this.pipLocationPos && this.pipLocationPos.type == 'Point' &&\r\n                        this.pipLocationPos.coordinates.length == 2 &&\r\n                        location && location.coordinates.length == 2 &&\r\n                        (this.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001 &&\r\n                        (this.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001 &&\r\n                        (locationName === this.pipLocationName)) {\r\n                        return;\r\n                    }\r\n\r\n                    this.pipLocationPos = location;\r\n                    this.pipLocationName = locationName;\r\n\r\n                    if (locationName === null && location !== null) {\r\n                        this.pipLocationName =\r\n                            '(' + result.location.coordinates[0] +\r\n                            ',' + result.location.coordinates[1] + ')';\r\n                    }\r\n                    this.pipChanged();\r\n                    this.mapContainer[0].focus();\r\n                }\r\n            );\r\n        };\r\n\r\n        public onMapClick($event) {\r\n            if (this.ngDisabled) return;\r\n\r\n            this.mapContainer[0].focus();\r\n            this.onSetLocation();\r\n            //$event.stopPropagation();\r\n        };\r\n\r\n        public onMapKeyPress($event) {\r\n            if (this.ngDisabled) return;\r\n\r\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\r\n                this.onSetLocation();\r\n                //$event.stopPropagation();\r\n            }\r\n        };\r\n    }\r\n\r\n    const LocationEdit: ng.IComponentOptions = {\r\n        bindings: LocationEditBindings,\r\n        templateUrl: 'location_edit/LocationEdit.html',\r\n        controller: LocationEditController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationEdit\", ['pipLocationEditDialog'])\r\n        .component('pipLocationEdit', LocationEdit);\r\n\r\n}","declare let google: any;\r\n\r\n{\r\n    interface ILocationIpBindings {\r\n        [key: string]: any;\r\n\r\n        pipIpaddress: any;\r\n        pipExtraInfo: any;\r\n        pipRebind: any;\r\n    }\r\n\r\n    const LocationIpBindings: ILocationIpBindings = {\r\n        pipIpaddress: '<',\r\n        pipExtraInfo: '&',\r\n        pipRebind: '<'\r\n    }\r\n\r\n    interface IIpResponseInfo {\r\n        city: string;\r\n        regionCode: string | number;\r\n        regionName: string;\r\n        zipCode: string | number;\r\n        countryCode: string | number;\r\n        countryName: string;\r\n        latitude: string | number;\r\n        longitude: string | number;\r\n    }\r\n\r\n    class LocationIpBindingsChanges implements ng.IOnChangesObject, ILocationIpBindings {\r\n        [key: string]: any;\r\n\r\n        pipExtraInfo: any;\r\n\r\n        pipIpaddress: ng.IChangesObject < string > ;\r\n        pipRebind: ng.IChangesObject < boolean >\r\n    }\r\n\r\n    class LocationIpController implements ng.IController, ILocationIpBindings {\r\n        private mapContainer: JQuery;\r\n        private mapControl: any;\r\n\r\n        public pipExtraInfo: any;\r\n        public pipIpaddress: string;\r\n        public pipRebind: boolean;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            private $http: ng.IHttpService\r\n        ) {\r\n            this.mapContainer = $element.children('.pip-location-container');\r\n            $element.addClass('pip-location-ip');\r\n            this.defineCoordinates();\r\n        }\r\n\r\n        public $onChanges(changes: LocationIpBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\r\n\r\n            if (this.pipRebind === true) {\r\n                this.pipIpaddress = changes.pipIpaddress ? changes.pipIpaddress.currentValue : this.pipIpaddress;\r\n                this.defineCoordinates();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n        }\r\n\r\n        private generateMap(latitude, longitude) {\r\n            // Safeguard for bad coordinates\r\n            if (latitude == null || longitude == null) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            var coordinates = new google.maps.LatLng(\r\n                latitude,\r\n                longitude\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const\r\n                mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\r\n\r\n            new google.maps.Marker({\r\n                position: coordinates,\r\n                map: map\r\n            });\r\n        }\r\n\r\n        private defineCoordinates() {\r\n            const ipAddress = this.pipIpaddress;\r\n\r\n            if (ipAddress == '') {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            this.$http.get('https://freegeoip.net/json/' + ipAddress)\r\n                .success((response: IIpResponseInfo) => {\r\n                    if (response != null &&\r\n                        response.latitude != null &&\r\n                        response.longitude != null) {\r\n\r\n                        this.generateMap(response.latitude, response.longitude);\r\n\r\n                        if (this.pipExtraInfo) {\r\n                            const extraInfo = {\r\n                                city: response.city,\r\n                                regionCode: response.regionCode,\r\n                                region: response.regionName,\r\n                                zipCode: response.zipCode,\r\n                                countryCode: response.countryCode,\r\n                                country: response.countryName\r\n                            };\r\n                            this.pipExtraInfo({\r\n                                extraInfo: extraInfo\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.clearMap();\r\n                    }\r\n                })\r\n                .error((response) => {\r\n                    this.clearMap();\r\n                });\r\n        }\r\n    }\r\n\r\n    const LocationIp: ng.IComponentOptions = {\r\n        bindings: LocationIpBindings,\r\n        template: '<div class=\"pip-location-container\"></div>',\r\n        controller: LocationIpController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationIp\", [])\r\n        .component('pipLocationIp', LocationIp);\r\n}","{\r\n\r\n    interface ILocationMapBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationPos: any;\r\n        pipIconPath: any;\r\n        pipInteractive: any;\r\n        pipStretch: any;\r\n        pipRebind: any;\r\n    }\r\n\r\n    const LocationMapBindings: ILocationMapBindings = {\r\n        pipLocationPos: '<',\r\n        pipIconPath: '<',\r\n        pipInteractive: '<',\r\n        pipStretch: '<',\r\n        pipRebind: '<'\r\n    }\r\n\r\n    class LocationMapBindingsChanges implements ng.IOnChangesObject, ILocationMapBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationPos: ng.IChangesObject<any>;\r\n        pipIconPath: ng.IChangesObject<string>;\r\n        pipInteractive: ng.IChangesObject<boolean>;\r\n        pipStretch: ng.IChangesObject<boolean>;\r\n        pipRebind: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LocationMapController implements ng.IController, ILocationMapBindings {\r\n        public pipLocationPos: any;\r\n        public pipIconPath: string;\r\n        public pipInteractive: boolean;\r\n        public pipStretch: boolean;\r\n        public pipRebind: boolean;\r\n\r\n        private mapContainer: JQuery;\r\n        private mapControl: any = null;\r\n\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.mapContainer = $element.children('.pip-location-container');\r\n            $element.addClass('pip-location-map');\r\n        }\r\n\r\n        public $onChanges(changes: LocationMapBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\r\n            this.pipInteractive = changes.pipInteractive ? changes.pipInteractive.currentValue || false : false;\r\n            this.pipStretch = changes.pipStretch ? changes.pipStretch.currentValue || false : false;\r\n\r\n            if (this.pipStretch === true)  {\r\n                this.mapContainer.addClass('stretch');\r\n            } else {\r\n                this.mapContainer.removeClass('stretch');\r\n            }\r\n\r\n            if (this.pipRebind === true) {\r\n                this.pipLocationPos = changes.pipLocationPos ? changes.pipLocationPos.currentValue : this.pipLocationPos;\r\n                this.pipIconPath = changes.pipIconPath ? changes.pipIconPath.currentValue : this.pipIconPath;\r\n\r\n                this.generateMap();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n        }\r\n\r\n        private checkLocation(loc) {\r\n            return !(loc == null || loc.coordinates == null || loc.coordinates.length < 0);\r\n        }\r\n\r\n        private determineCoordinates(loc) {\r\n            const point = new google.maps.LatLng(\r\n                loc.coordinates[0],\r\n                loc.coordinates[1]\r\n            );\r\n\r\n            point.fill = loc.fill;\r\n            point.stroke = loc.stroke;\r\n\r\n            return point;\r\n        }\r\n\r\n        private generateMap() {\r\n            const locations = this.pipLocationPos,\r\n                points = [],\r\n                interactive = this.pipInteractive || false;\r\n\r\n            // Safeguard for bad coordinates\r\n            if (this.checkLocation(locations) && !_.isArray(locations)) {\r\n                points.push(this.determineCoordinates(locations));\r\n            } else {\r\n                if (locations && _.isArray(locations) && locations.length > 0) {\r\n                    _.each(locations, (loc) => {\r\n                        if (this.checkLocation(loc)) {\r\n                            points.push(this.determineCoordinates(loc));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (points.length === 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map\r\n            const mapOptions = {\r\n                    center: points[0],\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: interactive,\r\n                    draggable: interactive\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\r\n                bounds = new google.maps.LatLngBounds();\r\n\r\n            // Create markers\r\n            _.each(points, (point) => {\r\n                const icon = {\r\n                    path: this.pipIconPath,\r\n                    fillColor: point.fill || '#EF5350',\r\n                    fillOpacity: 1,\r\n                    scale: 1,\r\n                    strokeColor: point.stroke || 'white',\r\n                    strokeWeight: 5\r\n                };\r\n\r\n                new google.maps.Marker({\r\n                    position: point,\r\n                    map: map,\r\n                    icon: this.pipIconPath ? icon : null\r\n                });\r\n                bounds.extend(point);\r\n            });\r\n\r\n            // Auto-config of zoom and center\r\n            if (points.length > 1) map.fitBounds(bounds);\r\n        }\r\n    }\r\n\r\n    const LocationMap: ng.IComponentOptions = {\r\n        bindings: LocationMapBindings,\r\n        template: '<div class=\"pip-location-container\"></div>',\r\n        controller: LocationMapController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationMap\", [])\r\n        .component('pipLocationMap', LocationMap);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location/Location.html',\n    '<div class=\"pip-location-name location-collapse\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"!$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text\">{{$ctrl.pipLocationName}}</span></div><md-button class=\"pip-location-name\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text flex\">{{$ctrl.pipLocationName}}</span><md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-show=\"!$ctrl.showMap\"></md-icon><md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-show=\"$ctrl.showMap\"></md-icon></div></md-button><div class=\"pip-location-container\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_edit/LocationEdit.html',\n    '<md-input-container class=\"md-block\"><label>{{ \\'LOCATION\\' | translate }}</label> <input ng-model=\"$ctrl.pipLocationName\" ng-disabled=\"$ctrl.ngDisabled\"></md-input-container><div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\"><md-button class=\"md-raised\" ng-disabled=\"$ctrl.ngDisabled\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"LOCATION_ADD_LOCATION\"><span class=\"icon-location\"></span> {{\\'LOCATION_ADD_LOCATION\\' | translate }}</md-button></div><div class=\"pip-location-container\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-click=\"$ctrl.onMapClick($event)\" ng-keypress=\"$ctrl.onMapKeyPress($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/LocationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileFailBindings {\r\n    [key: string]: any;\r\n\r\n    buttons: any,\r\n    name: any,\r\n    type: any,\r\n    error: any\r\n}\r\n\r\nconst FileFailBindings: IFileFailBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    error: '<pipError'\r\n}\r\n\r\nclass FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n}\r\n\r\n\r\ninterface IFileFailController {\r\n    name: string;\r\n    type: string;\r\n    error: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileFailController implements IFileFailController, IFileFailBindings {\r\n    public name: string;\r\n    public type: string;\r\n    public error: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n        \r\n        $scope.$watch('error', (error: string) => {\r\n            this.error = error;\r\n        })\r\n    }\r\n}\r\n\r\nconst fileFailComponent: ng.IComponentOptions = {\r\n    controller: FileFailController,\r\n    bindings: FileFailBindings,\r\n    templateUrl: 'file_fail/FileFail.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.FailUpload', [])\r\n    .component('pipFailUpload', fileFailComponent)\r\n","{\r\n\r\n    interface IFileSelectController {\r\n        localFile: any;\r\n        onUploadButtonClick(): void;\r\n        onDeleteButtonClick(): void;\r\n    }\r\n\r\n    interface IFileSelectBindings {\r\n        [key: string]: any;\r\n\r\n        localFile: any,\r\n        change: any\r\n    }\r\n\r\n    const FileSelectBindings: IFileSelectBindings = {\r\n        localFile: '<pipLocalFile',\r\n        change: '<pipChange'\r\n    }\r\n\r\n    class FileSelectController implements IFileSelectController {\r\n        public localFile: any;\r\n        public change: Function;\r\n\r\n        constructor($scope: ng.IScope) {\r\n            \"ngInject\";\r\n            $scope.$watch('$ctrl.localFile', (item) => {\r\n                if (this.change) {\r\n                    this.change(this.localFile);\r\n                }\r\n            })\r\n        }\r\n\r\n        public onUploadButtonClick(): void {\r\n            $('#inp_file').click();\r\n        }\r\n\r\n        public onDeleteButtonClick(): void {\r\n            this.localFile = null;\r\n            let forml = document.getElementById('inp_form');\r\n            (<any>forml).reset();\r\n\r\n        }\r\n    }\r\n\r\n    const fileSelectDirective = {\r\n        restrict: 'E',\r\n        replace: true,\r\n        bindings: FileSelectBindings,\r\n        controller: FileSelectController,\r\n        templateUrl: 'file_select/FileSelect.html'\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Select', [])\r\n        .component('pipFileSelect', fileSelectDirective)\r\n\r\n}\r\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileStartBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any,\r\n    progress: any\r\n}\r\n\r\nconst FileStartBindings: IFileStartBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    progress: '<?pipProgress'\r\n};\r\n\r\n\r\nclass FileStartChanges implements ng.IOnChangesObject, IFileStartBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\ninterface IFileStartController {\r\n    name: string;\r\n    type: string;\r\n    progress: number;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileStartController implements IFileStartController {\r\n    public name: string;\r\n    public progress: number = 0;\r\n    public type: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() { }\r\n\r\n    public $onChanges(changes: FileStartChanges) {\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nconst fileStartDirective = {\r\n    controller: FileStartController,\r\n    bindings: FileStartBindings,\r\n    templateUrl: 'file_start/FileStart.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.StartUpload', [])\r\n    .component('pipStartUpload', fileStartDirective)\r\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileSuccessBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any\r\n}\r\n\r\nconst FileSuccessBindings: IFileSuccessBindings = {\r\n    buttons: '=?pipButtons',\r\n    name: '=pipName',\r\n    type: '=?pipType',\r\n}\r\n\r\ninterface IFileSuccessController {\r\n    name: string;\r\n    type: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\r\n    public name: string;\r\n    public type: string = 'file';\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() {}\r\n\r\n    public $onChanges(changes) {}\r\n}\r\n\r\nconst fileSuccessDirective = {\r\n    restrict: 'E',\r\n    replace: true,\r\n    controller: FileSuccessController,\r\n    controllerAs: 'vm',\r\n    bindings: FileSuccessBindings,\r\n    templateUrl: 'file_success/FileSuccess.html'\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFiles.SuccessUpload', [])\r\n    .component('pipSuccesUpload', fileSuccessDirective)\r\n","import { IFileUploadService } from \"../service/IFileUploadService\";\r\nimport { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\nclass FileUploadButtons {\r\n    retry: Function;\r\n    cancel: Function;\r\n    abort: Function;\r\n}\r\n\r\ninterface IFileUploadController {\r\n    name: string;\r\n    type: string;\r\n    state: string;\r\n    progress: number;\r\n    onCancel(): void;\r\n    onRetry(): void;\r\n    onAbort(): void;\r\n}\r\n\r\ninterface IFileUploadBindings {\r\n    [key: string]: any;\r\n\r\n    buttonFunction: any,\r\n    buttons: any,\r\n    error: any,\r\n    name: any,\r\n    state: any,\r\n    type: any,\r\n    progress: any\r\n}\r\n\r\nconst FileUploadBindings: IFileUploadBindings = {\r\n    buttonFunction: '<?pipButtonFunctions',\r\n    buttons: '<?pipButtons',\r\n    error: '<?pipError',\r\n    name: '<pipName',\r\n    state: '<pipState',\r\n    type: '<?pipType',\r\n    progress: '<pipProgress'\r\n}\r\n\r\nclass FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\r\n    buttons: ng.IChangesObject<boolean>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    state: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\nclass FileUploadController implements IFileUploadController, IFileUploadBindings {\r\n    public buttonFunction: FileUploadButtons;\r\n    public uploadButtons: ButtonsUpload[];\r\n    public failButtons: ButtonsUpload[];\r\n    public startButtons: ButtonsUpload[];\r\n\r\n    public name: string;\r\n    public type: string;\r\n    public state: string;\r\n    public progress: number;\r\n    public buttons: boolean;\r\n    public error: string = null;\r\n\r\n    constructor($scope: ng.IScope) { }\r\n\r\n    public $onInit() {\r\n        if (this.buttons) {\r\n            this.uploadButtons = [];\r\n            this.failButtons = [\r\n                { title: 'Cancel', click: () => { this.onCancel() } },\r\n                { title: 'Retry', click: () => { this.onRetry() } }\r\n            ];\r\n            this.startButtons = [\r\n                { title: 'Abort', click: () => { this.onAbort() } }\r\n            ];\r\n        }\r\n    }\r\n\r\n    public $onChanges(changes: FileUploadChanges) {\r\n        if (changes.state) {\r\n            this.state = changes.state.currentValue;\r\n        }\r\n\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n        if (changes.error) {\r\n            this.error = changes.error.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    public onCancel(): void {\r\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\r\n    }\r\n\r\n    public onRetry(): void {\r\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\r\n    }\r\n\r\n    public onAbort() {\r\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\r\n    }\r\n\r\n}\r\n\r\nconst fileUploadDirective = {\r\n    controller: FileUploadController,\r\n    bindings: FileUploadBindings,\r\n    templateUrl: 'file_upload/FileUpload.html'\r\n};\r\n\r\n\r\nangular\r\n    .module('pipFiles.FileUpload', [])\r\n    .component('pipFileUpload', fileUploadDirective)\r\n","{\r\n    function fileModelLink(scope, element, attrs, $parse) {\r\n        let model = $parse(attrs.fileModel);\r\n        let modelSetter = model.assign;\r\n                \r\n        element.bind('change', () => {\r\n            scope.$apply(() => {\r\n                modelSetter(scope, element[0].files[0]);\r\n            });\r\n        });\r\n    }\r\n\r\n    function fileModelDirective($parse: ng.IParseProvider) {\r\n        \"ngInject\";\r\n\r\n        return {\r\n            restrict: 'A',\r\n            link: (scope: ng.IScope, element, attrs: ng.IAttributes) => { \r\n                fileModelLink(scope, element, attrs, $parse) \r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Model', [])\r\n        .directive('fileModel', fileModelDirective)\r\n}","import { FileUploadState } from './FileUploadState';\r\nimport { IFileUploadService } from './IFileUploadService';\r\nimport { MultiuploadResult } from './MultiuploadResult';\r\n\r\nlet async = require('async');\r\n\r\n\r\nclass FileUploadService implements IFileUploadService {\r\n\r\n    public constructor(\r\n        private $http: ng.IHttpService,\r\n        private $q: ng.IQService\r\n    ) {\r\n        \"ngInject\";\r\n    }\r\n\r\n\r\n    public multiUpload(uploadedUrl: string, collections: any[], oneFileResultCallback: (index: number, data: any, err: any) => void,\r\n        oneFileProgressCallback: (index: number, state: FileUploadState, progress: number) => void,\r\n        successCallback: (error: any, result: any, res: MultiuploadResult[]) => void, \r\n        abortCallback?: (cancelQuery: any) => void, \r\n        breakOnFirstError?: boolean, idField?: string): void {\r\n\r\n        let cancelQuery = this.$q.defer(); // call cancelQuery.resolve(); for abort\r\n        if (abortCallback) {\r\n            abortCallback(cancelQuery);\r\n        }\r\n        let res: MultiuploadResult[] = [];\r\n        idField = idField ? idField : 'id';\r\n\r\n        async.eachOf(collections,\r\n            (item, index, callback) => {\r\n                if (!item.file) {\r\n                    res.push({\r\n                        index: index,\r\n                        data: null,\r\n                        error: null,\r\n                        id: item[idField]\r\n                    });\r\n\r\n                    callback();\r\n                    return;\r\n                }\r\n                let fd: FormData = new FormData();\r\n                fd.append('file', item.file);\r\n                oneFileProgressCallback(index, FileUploadState.Uploading, 0);\r\n\r\n                this.$http.post(uploadedUrl, fd, <any>{\r\n                    timeout: cancelQuery.promise,\r\n                    uploadEventHandlers: {\r\n                        progress: (e: any) => {\r\n                            if (e.lengthComputable) {\r\n                                oneFileProgressCallback(index, FileUploadState.Uploading, (e.loaded / e.total) * 100);\r\n                            }\r\n                        }\r\n                    },\r\n                    headers: {\r\n                        'Content-Type': undefined,\r\n                        'Access-Control-Allow-Origin': '*'\r\n                    }\r\n                })\r\n                    .then(\r\n                    (response: any) => {\r\n                        res.push({\r\n                            index: index,\r\n                            data: response.data,\r\n                            error: null,\r\n                            id: item[idField]\r\n                        });\r\n                        oneFileProgressCallback(index, FileUploadState.Completed, 100);\r\n                        oneFileResultCallback(index, response.data, null);\r\n                        callback();\r\n                    },\r\n                    (response: any) => {\r\n                        res.push({\r\n                            index: index,\r\n                            data: null,\r\n                            error: response.data,\r\n                            id: item[idField]\r\n                        });\r\n                        oneFileProgressCallback(index, FileUploadState.Failed, 0);\r\n                        oneFileResultCallback(index, null, response.data);\r\n\r\n                        // break on first error\r\n                        if (breakOnFirstError) {\r\n                            callback(response.data);\r\n                        } else {\r\n                            callback();\r\n                        }\r\n                        \r\n                    });\r\n            },\r\n            (error, result) => {\r\n                cancelQuery = null;\r\n                successCallback(error, result, res);\r\n            });\r\n    }\r\n\r\n    public upload(file: any, url: string,\r\n        resultCallback?: (data: any, err: any) => void,\r\n        progressCallback?: (state: FileUploadState, progress: number) => void\r\n    ): void {\r\n\r\n        let fd: FormData = new FormData();\r\n        fd.append('file', file);\r\n\r\n        if (progressCallback)\r\n            progressCallback(FileUploadState.Uploading, 0);\r\n\r\n        this.$http.post(url, fd, <any>{\r\n            uploadEventHandlers: {\r\n                progress: (e: any) => {\r\n                    if (e.lengthComputable && progressCallback) {\r\n                        progressCallback(FileUploadState.Uploading, (e.loaded / e.total) * 100);\r\n                    }\r\n                }\r\n            },\r\n            headers: { 'Content-Type': undefined }\r\n        })\r\n            .success((response: any) => {\r\n                if (progressCallback)\r\n                    progressCallback(FileUploadState.Completed, 100);\r\n\r\n                if (resultCallback)\r\n                    resultCallback(response, null);\r\n            })\r\n            .error((response: any) => {\r\n                if (progressCallback)\r\n                    progressCallback(FileUploadState.Failed, 0);\r\n\r\n                if (resultCallback)\r\n                    resultCallback(null, response.Error || response);\r\n            });\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipFiles.Service', [])\r\n    .service('pipFileUpload', FileUploadService);\r\n","export enum FileUploadState {\r\n    Uploading,\r\n    Completed,\r\n    Failed\r\n}","export class MultiuploadResult {\r\n    public index: number; // elemtnt index into upload collection\r\n    public data: any;\r\n    public error: any;\r\n    public id: string; // value of identificated field\r\n}","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{$ctrl.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div class=\"color-error pip-error\">{{$ctrl.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::$ctrl.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{$ctrl.progress}}\" ng-if=\"$ctrl.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"$ctrl.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in $ctrl.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"$ctrl.localFile\" id=\"inp_file\" ng-model=\"$ctrl.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"$ctrl.onUploadButtonClick()\" ng-if=\"!$ctrl.localFile\">Choose File</md-button><div ng-if=\"$ctrl.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{$ctrl.localFile.name}}</div><div ng-if=\"$ctrl.localFile.size\" class=\"color-secondary-text\">{{$ctrl.localFile.size}}</div></div><md-button ng-click=\"$ctrl.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == 2\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == 0\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n","export class AddTileDialog {\r\n    title: string;\r\n    icon: string;\r\n    name: string;\r\n    amount: number;\r\n}\r\n\r\nexport class AddTileDialogController implements ng.IController {\r\n    public defaultTiles: [AddTileDialog[]];\r\n    public groups: any;\r\n    public totalTiles: number = 0;\r\n\r\n    constructor(\r\n        groups: any,\r\n        public activeGroupIndex: number,\r\n        widgetList: [AddTileDialog[]],\r\n        public $mdDialog: angular.material.IDialogService\r\n    ) {\r\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\r\n        this.defaultTiles = _.cloneDeep(widgetList);\r\n        this.groups = _.map(groups, function (group) {\r\n            return group['title'];\r\n        });\r\n    }\r\n\r\n    public $onInit() {}\r\n    \r\n    public add() {\r\n        this.$mdDialog.hide({\r\n            groupIndex: this.activeGroupIndex,\r\n            widgets: this.defaultTiles\r\n        });\r\n    };\r\n\r\n    public cancel() {\r\n        this.$mdDialog.cancel();\r\n    };\r\n\r\n    public encrease(groupIndex: number, widgetIndex: number) {\r\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\r\n        widget.amount++;\r\n        this.totalTiles++;\r\n    };\r\n\r\n    public decrease(groupIndex: number, widgetIndex: number) {\r\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\r\n        widget.amount = widget.amount ? widget.amount - 1 : 0;\r\n        this.totalTiles = this.totalTiles ? this.totalTiles - 1 : 0;\r\n    };\r\n}","import {\r\n  AddTileDialog,\r\n  AddTileDialogController\r\n} from './AddTileDialogController';\r\n\r\nexport interface IAddTileDialogService {\r\n  show(groups, activeGroupIndex): angular.IPromise < any > ;\r\n}\r\n\r\nexport interface IAddTileDialogprovider {\r\n  configWidgetList(list: [AddTileDialog[]]): void;\r\n}\r\n\r\n{\r\n  const setTranslations = function($injector: ng.auto.IInjectorService) {\r\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n    if (pipTranslate) {\r\n      (<any>pipTranslate).setTranslations('en', {\r\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Add component',\r\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount',\r\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Create new group'\r\n      });\r\n      (<any>pipTranslate).setTranslations('ru', {\r\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Добавить компонент',\r\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Используйте \"Enter\" или \"+\" клавиши на клавиатуре чтобы увеличить и \"Delete\" or \"-\" чтобы уменшить количество тайлов',\r\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Создать новую группу'\r\n      });\r\n    }\r\n  }\r\n\r\n  class AddTileDialogService implements IAddTileDialogService {\r\n    public constructor(\r\n      private widgetList: [AddTileDialog[]],\r\n      private $mdDialog: angular.material.IDialogService\r\n    ) {}\r\n\r\n    public show(groups, activeGroupIndex) {\r\n      return this.$mdDialog\r\n        .show({\r\n          templateUrl: 'add_tile_dialog/AddTile.html',\r\n          bindToController: true,\r\n          controller: AddTileDialogController,\r\n          controllerAs: 'dialogCtrl',\r\n          clickOutsideToClose: true,\r\n          resolve: {\r\n            groups: () => {\r\n              return groups;\r\n            },\r\n            activeGroupIndex: () => {\r\n              return activeGroupIndex;\r\n            },\r\n            widgetList: () => {\r\n              return (<any>this.widgetList);\r\n            }\r\n          }\r\n        });\r\n    };\r\n  }\r\n\r\n  class AddTileDialogProvider implements IAddTileDialogprovider {\r\n    private _service: AddTileDialogService;\r\n    private _widgetList: [AddTileDialog[]] = null;\r\n\r\n    constructor() {}\r\n\r\n    public configWidgetList = function (list: [AddTileDialog[]]) {\r\n      this._widgetList = list;\r\n    };\r\n\r\n    public $get($mdDialog: angular.material.IDialogService) {\r\n      \"ngInject\";\r\n\r\n      if (this._service == null)\r\n        this._service = new AddTileDialogService(this._widgetList, $mdDialog);\r\n\r\n      return this._service;\r\n    }\r\n  }\r\n\r\n  angular\r\n    .module('pipAddDashboardTileDialog')\r\n    .config(setTranslations)\r\n    .provider('pipAddTileDialog', AddTileDialogProvider);\r\n}","angular\r\n    .module('pipAddDashboardTileDialog', ['ngMaterial']);\r\n\r\nimport './AddTileDialogController';\r\nimport './AddTileProvider';","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class CalendarTileController extends MenuTileService {\r\n    constructor(\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n        this.menu.push({\r\n          title: 'Configurate',\r\n          click: () => {\r\n            this.onConfigClick();\r\n          }\r\n        });\r\n        this.options.date = this.options.date || new Date();\r\n        this.color = this.options.color || 'blue';\r\n      }\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-calendar-config',\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size,\r\n          date: this.options.date,\r\n        },\r\n        extensionUrl: 'calendar_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.options.date = result.date;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const CalendarTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions',\r\n    },\r\n    controller: CalendarTileController,\r\n    templateUrl: 'calendar_tile/CalendarTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipCalendarTile', CalendarTile);\r\n\r\n}","export interface IDashboardTile {\r\n    options: any;\r\n    color: string;\r\n    size: Object | string | number;\r\n}\r\n\r\nexport class DashboardTile implements IDashboardTile {\r\n    public options: any;\r\n    public color: string;\r\n    public size: Object | string | number;\r\n\r\n    constructor() { }\r\n}","\r\nclass TileColors {\r\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\r\n}\r\n\r\nclass TileSizes {\r\n    static all: any = [{\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL',\r\n            id: '11'\r\n        },\r\n        {\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE',\r\n            id: '21'\r\n        },\r\n        {\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE',\r\n            id: '22'\r\n        }\r\n    ];\r\n}\r\n\r\nexport class TileConfigDialogController {\r\n    public colors: string[] = TileColors.all;\r\n    public sizes: any = TileSizes.all;\r\n    public sizeId: string = TileSizes.all[0].id;\r\n    public onCancel: Function;\r\n\r\n    constructor(\r\n        public params,\r\n        public extensionUrl,\r\n        public $mdDialog: angular.material.IDialogService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        angular.extend(this, this.params);\r\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\r\n\r\n        this.onCancel = () => {\r\n            this.$mdDialog.cancel();\r\n        }\r\n    }\r\n\r\n    public onApply(updatedData) {\r\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\r\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\r\n        this.$mdDialog.hide(updatedData);\r\n    }\r\n}","{    \r\n    interface ITileConfigExtendComponentBindings {\r\n        [key: string]: any;\r\n\r\n        pipExtensionUrl: any;\r\n        pipDialogScope: any;\r\n        pipApply: any;\r\n    }\r\n\r\n    const TileConfigExtendComponentBindings: ITileConfigExtendComponentBindings = {\r\n        pipExtensionUrl: '<',\r\n        pipDialogScope: '<',\r\n        pipApply: '&'\r\n    }\r\n\r\n    class TileConfigExtendComponentChanges implements ng.IOnChangesObject, ITileConfigExtendComponentBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        pipExtensionUrl: ng.IChangesObject<string>;\r\n        pipDialogScope: ng.IChangesObject<ng.IScope>;\r\n\r\n        pipApply: ng.IChangesObject<({updatedData: any}) => ng.IPromise<void>>;\r\n    }\r\n\r\n    interface ITileConfigExtendComponentAttributes extends ng.IAttributes {\r\n        pipExtensionUrl: string\r\n    }\r\n\r\n    class TileConfigExtendComponentController implements ITileConfigExtendComponentBindings {\r\n        public pipExtensionUrl: string;\r\n        public pipDialogScope: ng.IScope;\r\n        public pipApply: (param: {updatedData: any}) => ng.IPromise<void>;\r\n\r\n        constructor(\r\n            private $templateRequest: angular.ITemplateRequestService,\r\n            private $compile: angular.ICompileService,\r\n            private $scope: angular.IScope, \r\n            private $element: JQuery, \r\n            private $attrs: ITileConfigExtendComponentAttributes\r\n        ) { }\r\n\r\n        public $onChanges(changes: TileConfigExtendComponentChanges) {\r\n            if (changes.pipDialogScope) {\r\n                delete changes.pipDialogScope.currentValue['$scope'];\r\n                angular.extend(this, changes.pipDialogScope.currentValue);\r\n            }\r\n            if (changes.pipExtensionUrl && changes.pipExtensionUrl.currentValue) {\r\n                this.$templateRequest(changes.pipExtensionUrl.currentValue, false).then((html) => {\r\n                    this.$element.find('pip-extension-point').replaceWith(this.$compile(html)(this.$scope));\r\n                });\r\n            }\r\n        }\r\n\r\n        public onApply() {\r\n            this.pipApply({updatedData: this});\r\n        }\r\n    }\r\n\r\n    const pipTileConfigComponent: ng.IComponentOptions = {\r\n        templateUrl: 'config_tile_dialog/ConfigDialogExtendComponent.html',\r\n        controller: TileConfigExtendComponentController,\r\n        bindings: TileConfigExtendComponentBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipConfigDashboardTileDialog')\r\n        .component('pipTileConfigExtendComponent', pipTileConfigComponent);\r\n}","import { TileConfigDialogController } from './ConfigDialogController';\r\n\r\nexport interface ITileConfigService {\r\n    show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void): any;\r\n}\r\n\r\nexport interface ITileConfigDialogOptions extends angular.material.IDialogOptions {\r\n    dialogClass?: string;\r\n    extensionUrl?: string;\r\n    event?: any;\r\n}\r\n\r\n{\r\n    const setTranslations = function($injector: ng.auto.IInjectorService) {\r\n        const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n        if (pipTranslate) {\r\n            ( < any > pipTranslate).setTranslations('en', {\r\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Edit tile',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Small',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Wide',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Large'\r\n            });\r\n            ( < any > pipTranslate).setTranslations('ru', {\r\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Изменить виджет',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Мален.',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Широкий',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Большой'\r\n            });\r\n        }\r\n    }\r\n\r\n    class TileConfigDialogService {\r\n        public constructor(\r\n            public $mdDialog: angular.material.IDialogService\r\n        ) {}\r\n\r\n        public show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void) {\r\n            this.$mdDialog.show({\r\n                    targetEvent: params.event,\r\n                    templateUrl: params.templateUrl || 'dialogs/tile_config/ConfigDialog.html',\r\n                    controller: TileConfigDialogController,\r\n                    bindToController: true,\r\n                    controllerAs: 'vm',\r\n                    locals: {\r\n                        extensionUrl: params.extensionUrl,\r\n                        params: params.locals\r\n                    },\r\n                    clickOutsideToClose: true\r\n                })\r\n                .then((key) => {\r\n                    if (successCallback) {\r\n                        successCallback(key);\r\n                    }\r\n                }, () => {\r\n                    if (cancelCallback) {\r\n                        cancelCallback();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipConfigDashboardTileDialog')\r\n        .config(setTranslations)\r\n        .service('pipTileConfigDialogService', TileConfigDialogService);\r\n}","\r\nangular\r\n    .module('pipConfigDashboardTileDialog', ['ngMaterial']);\r\n\r\nimport './ConfigDialogController';\r\nimport './ConfigDialogService';\r\nimport './ConfigDialogExtendComponent';","import {\r\n  ITileTemplateService\r\n} from '../utility/TileTemplateUtility';\r\nimport {\r\n  IAddTileDialogService,\r\n  IAddTileDialogprovider\r\n} from '../add_tile_dialog/AddTileProvider'\r\n\r\n{\r\n  const setTranslations = function ($injector: ng.auto.IInjectorService) {\r\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n    if (pipTranslate) {\r\n      ( < any > pipTranslate).setTranslations('en', {\r\n        DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\r\n      });\r\n      ( < any > pipTranslate).setTranslations('ru', {\r\n        DROP_TO_CREATE_NEW_GROUP: 'Перетащите сюда для создания новой группы'\r\n      });\r\n    }\r\n  }\r\n\r\n  const configureAvailableWidgets = function (pipAddTileDialogProvider: IAddTileDialogprovider) {\r\n    pipAddTileDialogProvider.configWidgetList([\r\n      [{\r\n          title: 'Event',\r\n          icon: 'document',\r\n          name: 'event',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Position',\r\n          icon: 'location',\r\n          name: 'position',\r\n          amount: 0\r\n        }\r\n      ],\r\n      [{\r\n          title: 'Calendar',\r\n          icon: 'date',\r\n          name: 'calendar',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Sticky Notes',\r\n          icon: 'note-take',\r\n          name: 'notes',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Statistics',\r\n          icon: 'tr-statistics',\r\n          name: 'statistics',\r\n          amount: 0\r\n        }\r\n      ]\r\n    ]);\r\n  }\r\n\r\n  class draggableOptions {\r\n    tileWidth: number;\r\n    tileHeight: number;\r\n    gutter: number;\r\n    inline: boolean;\r\n  }\r\n\r\n  const DEFAULT_GRID_OPTIONS: draggableOptions = {\r\n    tileWidth: 150, // 'px'\r\n    tileHeight: 150, // 'px'\r\n    gutter: 10, // 'px'\r\n    inline: false\r\n  };\r\n\r\n  interface DashboardBindings {\r\n      gridOptions: any;\r\n      groupAdditionalActions: any;\r\n      groupedWidgets: any;\r\n  }\r\n\r\n  class DashboardController implements ng.IController, DashboardBindings {\r\n    private defaultGroupMenuActions: any = [{\r\n        title: 'Add Component',\r\n        callback: (groupIndex) => {\r\n          this.addComponent(groupIndex);\r\n        }\r\n      },\r\n      {\r\n        title: 'Remove',\r\n        callback: (groupIndex) => {\r\n          this.removeGroup(groupIndex);\r\n        }\r\n      },\r\n      {\r\n        title: 'Configurate',\r\n        callback: (groupIndex) => {\r\n          console.log('configurate group with index:', groupIndex);\r\n        }\r\n      }\r\n    ];\r\n    private _includeTpl: string = '<pip-{{ type }}-tile group=\"groupIndex\" index=\"index\"' +\r\n      'pip-options=\"$parent.$ctrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\r\n      '</pip-{{ type }}-tile>';\r\n\r\n    public groupedWidgets: any;\r\n    public draggableGridOptions: draggableOptions;\r\n    public widgetsTemplates: any;\r\n    public groupMenuActions: any = this.defaultGroupMenuActions;\r\n    public widgetsContext: any;\r\n    public gridOptions: any;\r\n    public groupAdditionalActions: any;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      private $rootScope: angular.IRootScopeService,\r\n      private $attrs: any,\r\n      private $element: any,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $interpolate: angular.IInterpolateService,\r\n      private pipAddTileDialog: IAddTileDialogService,\r\n      private pipTileTemplate: ITileTemplateService\r\n    ) {\r\n      // Add class to style scroll bar\r\n      $element.addClass('pip-scroll');\r\n\r\n      // Set tiles grid options\r\n      this.draggableGridOptions = this.gridOptions || DEFAULT_GRID_OPTIONS;\r\n\r\n      // Switch inline displaying\r\n      if (this.draggableGridOptions.inline === true) {\r\n        $element.addClass('inline-grid');\r\n      }\r\n      // Extend group's menu actions\r\n      if (this.groupAdditionalActions) angular.extend(this.groupMenuActions, this.groupAdditionalActions);\r\n\r\n      // Compile widgets\r\n      this.widgetsContext = $scope;\r\n      this.compileWidgets();\r\n\r\n      this.$timeout(() => {\r\n        this.$element.addClass('visible');\r\n      }, 700);\r\n    }\r\n\r\n    private compileWidgets() {\r\n      _.each(this.groupedWidgets, (group, groupIndex) => {\r\n        group.removedWidgets = group.removedWidgets || [],\r\n          group.source = group.source.map((widget, index) => {\r\n            // Establish default props\r\n            widget.size = widget.size || {\r\n              colSpan: 1,\r\n              rowSpan: 1\r\n            };\r\n            widget.index = index;\r\n            widget.groupIndex = groupIndex;\r\n            widget.menu = widget.menu || {};\r\n            angular.extend(widget.menu, [{\r\n              title: 'Remove',\r\n              click: (item, params, object) => {\r\n                this.removeWidget(item, params, object);\r\n              }\r\n            }]);\r\n\r\n            return {\r\n              opts: widget,\r\n              template: this.pipTileTemplate.getTemplate(widget, this._includeTpl)\r\n            };\r\n          })\r\n      });\r\n    }\r\n\r\n    public addComponent(groupIndex) {\r\n      this.pipAddTileDialog\r\n        .show(this.groupedWidgets, groupIndex)\r\n        .then((data) => {\r\n          var activeGroup;\r\n\r\n          if (!data) {\r\n            return;\r\n          }\r\n\r\n          if (data.groupIndex !== -1) {\r\n            activeGroup = this.groupedWidgets[data.groupIndex];\r\n          } else {\r\n            activeGroup = {\r\n              title: 'New group',\r\n              source: []\r\n            };\r\n          }\r\n\r\n          this.addWidgets(activeGroup.source, data.widgets);\r\n\r\n          if (data.groupIndex === -1) {\r\n            this.groupedWidgets.push(activeGroup);\r\n          }\r\n\r\n          this.compileWidgets();\r\n        });\r\n    };\r\n\r\n    public removeGroup = (groupIndex) => {\r\n      console.log('removeGroup', groupIndex);\r\n      this.groupedWidgets.splice(groupIndex, 1);\r\n    }\r\n\r\n    private addWidgets(group, widgets) {\r\n      widgets.forEach((widgetGroup) => {\r\n        widgetGroup.forEach((widget) => {\r\n          if (widget.amount) {\r\n            Array.apply(null, Array(widget.amount)).forEach(() => {\r\n              group.push({\r\n                type: widget.name\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    private removeWidget(item, params, object) {\r\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\r\n      this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\r\n      this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\r\n      this.$timeout(() => {\r\n        this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const Dashboard: ng.IComponentOptions = {\r\n    bindings: {\r\n      gridOptions: '=pipGridOptions',\r\n      groupAdditionalActions: '=pipGroupActions',\r\n      groupedWidgets: '=pipGroups'\r\n    },\r\n    controller: DashboardController,\r\n    templateUrl: 'dashboard/Dashboard.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .config(configureAvailableWidgets)\r\n    .config(setTranslations)\r\n    .component('pipDashboard', Dashboard);\r\n\r\n}","declare var interact;\r\n\r\nimport {\r\n  DragTileService,\r\n  IDragTileService,\r\n  IDragTileConstructor\r\n} from './DraggableTileService';\r\nimport {\r\n  TilesGridService,\r\n  ITilesGridService,\r\n  ITilesGridConstructor\r\n} from '../tile_group/TileGroupService';\r\n\r\nexport const DEFAULT_TILE_WIDTH: number = 150;\r\nexport const DEFAULT_TILE_HEIGHT: number = 150;\r\nexport const UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\r\n\r\nconst SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\r\nconst DEFAULT_OPTIONS = {\r\n  tileWidth: DEFAULT_TILE_WIDTH, // 'px'\r\n  tileHeight: DEFAULT_TILE_HEIGHT, // 'px'\r\n  gutter: 20, // 'px'\r\n  container: 'pip-draggable-grid:first-of-type',\r\n  //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\r\n  activeDropzoneClass: 'dropzone-active',\r\n  groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\r\n};\r\n\r\n{\r\n  interface IDraggableBindings {\r\n      tilesTemplates: any;\r\n      tilesContext: any;\r\n      options: any;\r\n      groupMenuActions: any;\r\n      $container: JQuery;\r\n  }\r\n\r\n  interface IDraggableControllerScope extends ng.IScope {\r\n    $container: JQuery;\r\n    tilesTemplates: any;\r\n    options: any;\r\n  }\r\n\r\n  interface ITileScope extends ng.IScope {\r\n    index: number | string;\r\n    groupIndex: number | string;\r\n  }\r\n\r\n  class DraggableController implements ng.IComponentController, IDraggableBindings {\r\n    public opts: any;\r\n    public groups: any;\r\n    public sourceDropZoneElem: any = null;\r\n    public isSameDropzone: boolean = true;\r\n    public tileGroups: any = null;\r\n    public availableWidth: number;\r\n    public availableColumns: number;\r\n    public groupsContainers: any;\r\n    public container: any;\r\n    public activeDraggedGroup: any;\r\n    public draggedTile: any;\r\n    public containerOffset: any;\r\n    public tilesTemplates: any;\r\n    public tilesContext: any;\r\n    public options: any;\r\n    public groupMenuActions: any;\r\n    public $container: JQuery;\r\n\r\n    constructor(\r\n      private $scope: IDraggableControllerScope,\r\n      private $rootScope: angular.IRootScopeService,\r\n      private $compile: angular.ICompileService,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $element: JQuery,\r\n      pipDragTile: IDragTileService,\r\n      pipTilesGrid: ITilesGridService,\r\n      pipMedia: pip.layouts.IMediaService\r\n    ) {\r\n      this.opts = _.merge({\r\n        mobileBreakpoint: pipMedia.breakpoints.xs\r\n      }, DEFAULT_OPTIONS, this.options);\r\n\r\n      this.groups = this.tilesTemplates.map((group, groupIndex) => {\r\n        return {\r\n          title: group.title,\r\n          editingName: false,\r\n          index: groupIndex,\r\n          source: group.source.map((tile) => {\r\n            const tileScope = this.createTileScope(tile);\r\n\r\n            return IDragTileConstructor(DragTileService, {\r\n              tpl: $compile(tile.template)(tileScope),\r\n              options: tile.opts,\r\n              size: tile.opts.size\r\n            });\r\n          })\r\n        };\r\n      });\r\n\r\n      // Add templates watcher\r\n      $scope.$watch('$ctrl.tilesTemplates', (newVal) => {\r\n        this.watch(newVal);\r\n      }, true);\r\n\r\n      // Initialize data\r\n      this.initialize();\r\n\r\n      // Resize handler TODO: replace by pip resize watchers\r\n      $(window).on('resize', _.debounce(() => {\r\n        this.availableWidth = this.getContainerWidth();\r\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\r\n\r\n        this.tileGroups.forEach((group) => {\r\n          group\r\n            .setAvailableColumns(this.availableColumns)\r\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n            .setTilesDimensions()\r\n            .calcContainerHeight();\r\n        });\r\n      }, 50));\r\n    }\r\n\r\n    // Post link function\r\n    public $postLink() {\r\n      this.$container = this.$element;\r\n    }\r\n\r\n    // Watch handler\r\n    private watch(newVal) {\r\n      const prevVal = this.groups;\r\n      let changedGroupIndex = null;\r\n\r\n      if (newVal.length > prevVal.length) {\r\n        this.addGroup(newVal[newVal.length - 1]);\r\n\r\n        return;\r\n      }\r\n\r\n      if (newVal.length < prevVal.length) {\r\n        this.removeGroups(newVal);\r\n\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < newVal.length; i++) {\r\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\r\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\r\n          changedGroupIndex = i;\r\n\r\n          if (groupWidgetDiff < 0) {\r\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\r\n\r\n            _.each(newTiles, (tile) => {\r\n              console.log('tile', tile);\r\n            });\r\n\r\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\r\n\r\n            this.$timeout(() => {\r\n              this.updateTilesGroups();\r\n            });\r\n          } else {\r\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\r\n            this.updateTilesOptions(newVal);\r\n            this.$timeout(() => {\r\n              this.updateTilesGroups();\r\n            });\r\n          }\r\n\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (newVal && this.tileGroups) {\r\n        this.updateTilesOptions(newVal);\r\n        this.$timeout(() => {\r\n          this.updateTilesGroups();\r\n        });\r\n      }\r\n    }\r\n\r\n    // Inline edit group handlers\r\n    public onTitleClick(group, event) {\r\n      if (!group.editingName) {\r\n        group.oldTitle = _.clone(group.title);\r\n        group.editingName = true;\r\n        this.$timeout(() => {\r\n          $(event.currentTarget.children[0]).focus();\r\n        });\r\n      }\r\n    }\r\n\r\n    public cancelEditing(group) {\r\n      group.title = group.oldTitle;\r\n    }\r\n\r\n    public onBlurTitleInput(group) {\r\n      this.$timeout(() => {\r\n        group.editingName = false;\r\n        this.$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\r\n        // Update title in outer scope\r\n        this.tilesTemplates[group.index].title = group.title;\r\n      }, 100);\r\n    }\r\n\r\n    public onKyepressTitleInput(group, event) {\r\n      if (event.keyCode === 13) {\r\n        this.onBlurTitleInput(group);\r\n      }\r\n    }\r\n\r\n    // Update outer scope functions\r\n    private updateTilesTemplates(updateType: string, source ? : any) {\r\n      switch (updateType) {\r\n        case 'addGroup':\r\n          if (this.groups.length !== this.tilesTemplates.length) {\r\n            this.tilesTemplates.push(source);\r\n          }\r\n          break;\r\n        case 'moveTile':\r\n          const {\r\n            fromIndex,\r\n            toIndex,\r\n            tileOptions,\r\n            fromTileIndex\r\n          } = {\r\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\r\n            toIndex: source.to.elem.attributes['data-group-id'].value,\r\n            tileOptions: source.tile.opts.options,\r\n            fromTileIndex: source.tile.opts.options.index\r\n          }\r\n          this.tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\r\n          this.tilesTemplates[toIndex].source.push({\r\n            opts: tileOptions\r\n          });\r\n\r\n          this.reIndexTiles(source.from.elem);\r\n          this.reIndexTiles(source.to.elem);\r\n          break;\r\n      }\r\n    }\r\n\r\n    // Manage tiles functions\r\n    private createTileScope(tile: any): ITileScope {\r\n      const tileScope = < ITileScope > this.$rootScope.$new(false, this.tilesContext);\r\n      tileScope.index = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index;\r\n      tileScope.groupIndex = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\r\n\r\n      return tileScope;\r\n    }\r\n\r\n    private removeTiles(group, indexes, container) {\r\n      const tiles = $(container).find('.pip-draggable-tile');\r\n\r\n      _.each(indexes, (index) => {\r\n        group.tiles.splice(index, 1);\r\n        tiles[index].remove();\r\n      });\r\n\r\n      this.reIndexTiles(container);\r\n    }\r\n\r\n    private reIndexTiles(container, gIndex ? ) {\r\n      const tiles = $(container).find('.pip-draggable-tile'),\r\n        groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\r\n\r\n      _.each(tiles, (tile, index) => {\r\n        const child = $(tile).children()[0];\r\n        angular.element(child).scope()['index'] = index;\r\n        angular.element(child).scope()['groupIndex'] = groupIndex;\r\n      });\r\n    }\r\n\r\n    private removeGroups(newGroups) {\r\n      const removeIndexes = [],\r\n        remain = [],\r\n        containers = [];\r\n\r\n\r\n      _.each(this.groups, (group, index) => {\r\n        if (_.findIndex(newGroups, (g) => {\r\n            return g['title'] === group.title\r\n          }) < 0) {\r\n          removeIndexes.push(index);\r\n        } else {\r\n          remain.push(index);\r\n        }\r\n      });\r\n\r\n      _.each(removeIndexes.reverse(), (index) => {\r\n        this.groups.splice(index, 1);\r\n        this.tileGroups.splice(index, 1);\r\n      });\r\n\r\n      _.each(remain, (index) => {\r\n        containers.push(this.groupsContainers[index]);\r\n      });\r\n\r\n      this.groupsContainers = containers;\r\n\r\n      _.each(this.groupsContainers, (container, index) => {\r\n        this.reIndexTiles(container, index);\r\n      });\r\n    }\r\n\r\n    private addGroup(sourceGroup) {\r\n      const group = {\r\n        title: sourceGroup.title,\r\n        source: sourceGroup.source.map((tile) => {\r\n          const tileScope = this.createTileScope(tile);\r\n\r\n          return IDragTileConstructor(DragTileService, {\r\n            tpl: this.$compile(tile.template)(tileScope),\r\n            options: tile.opts,\r\n            size: tile.opts.size\r\n          });\r\n        })\r\n      };\r\n\r\n      this.groups.push(group);\r\n      if (!this.$scope.$$phase) this.$scope.$apply();\r\n\r\n      this.$timeout(() => {\r\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\r\n        this.tileGroups.push(\r\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\r\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n          .setTilesDimensions()\r\n          .calcContainerHeight()\r\n        );\r\n      });\r\n\r\n      this.updateTilesTemplates('addGroup', sourceGroup);\r\n    }\r\n\r\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\r\n      newTiles.forEach((tile) => {\r\n        const tileScope = this.createTileScope(tile);\r\n\r\n        const newTile = IDragTileConstructor(DragTileService, {\r\n          tpl: this.$compile(tile.template)(tileScope),\r\n          options: tile.opts,\r\n          size: tile.opts.size\r\n        });\r\n\r\n        group.addTile(newTile);\r\n\r\n        $('<div>')\r\n          .addClass('pip-draggable-tile')\r\n          .append(newTile.getCompiledTemplate())\r\n          .appendTo(groupContainer);\r\n      });\r\n    }\r\n\r\n    private updateTilesOptions(optionsGroup) {\r\n      optionsGroup.forEach((optionGroup) => {\r\n        optionGroup.source.forEach((tileOptions) => {\r\n          this.tileGroups.forEach((group) => {\r\n            group.updateTileOptions(tileOptions.opts);\r\n          });\r\n        });\r\n      });\r\n    }\r\n\r\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\r\n      return tileGroups.map((group, index) => {\r\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\r\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n          .setTilesDimensions()\r\n          .calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private updateTilesGroups(onlyPosition ? , draggedTile ? ) {\r\n      this.tileGroups.forEach((group) => {\r\n        if (!onlyPosition) {\r\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\r\n        }\r\n\r\n        group\r\n          .setTilesDimensions(onlyPosition, draggedTile)\r\n          .calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private getContainerWidth(): any {\r\n      const container = this.$container || $('body');\r\n      return container.width();\r\n    }\r\n\r\n    private getAvailableColumns(availableWidth): any {\r\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT :\r\n        Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\r\n    }\r\n\r\n    private getActiveGroupAndTile(elem): any {\r\n      const active = {};\r\n\r\n      this.tileGroups.forEach((group) => {\r\n        const foundTile = group.getTileByNode(elem);\r\n\r\n        if (foundTile) {\r\n          active['group'] = group;\r\n          active['tile'] = foundTile;\r\n          return;\r\n        }\r\n      });\r\n\r\n      return active;\r\n    }\r\n\r\n    private getSingleTileWidthForMobile(availableWidth): any {\r\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\r\n    }\r\n\r\n    private onDragStartListener(event) {\r\n      const activeEntities = this.getActiveGroupAndTile(event.target);\r\n\r\n      this.container = $(event.target).parent('.pip-draggable-group').get(0);\r\n      this.draggedTile = activeEntities['tile'];\r\n      this.activeDraggedGroup = activeEntities['group'];\r\n\r\n      this.$element.addClass('drag-transfer');\r\n\r\n      this.draggedTile.startDrag();\r\n    }\r\n\r\n    private onDragMoveListener(event) {\r\n      const target = event.target;\r\n      const x = (parseFloat(target.style.left) || 0) + event.dx;\r\n      const y = (parseFloat(target.style.top) || 0) + event.dy;\r\n\r\n      this.containerOffset = this.getContainerOffset();\r\n\r\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\r\n      target.style.top = y + 'px';\r\n\r\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\r\n        left: event.pageX - this.containerOffset.left,\r\n        top: event.pageY - this.containerOffset.top\r\n      }, this.draggedTile);\r\n\r\n      if (belowElement) {\r\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\r\n        const belowElemIndex = this.activeDraggedGroup.getTileIndex(belowElement);\r\n\r\n        if ((draggedTileIndex + 1) === belowElemIndex) {\r\n          return;\r\n        }\r\n\r\n        this.activeDraggedGroup\r\n          .swapTiles(this.draggedTile, belowElement)\r\n          .setTilesDimensions(true, this.draggedTile);\r\n\r\n        this.$timeout(() => {\r\n          this.setGroupContainersHeight();\r\n        }, 0);\r\n      }\r\n    }\r\n\r\n    private onDragEndListener() {\r\n      this.draggedTile.stopDrag(this.isSameDropzone);\r\n\r\n      this.$element.removeClass('drag-transfer');\r\n      this.activeDraggedGroup = null;\r\n      this.draggedTile = null;\r\n    }\r\n\r\n    private getContainerOffset() {\r\n      const containerRect = this.container.getBoundingClientRect();\r\n\r\n      return {\r\n        left: containerRect.left,\r\n        top: containerRect.top\r\n      };\r\n    }\r\n\r\n    private setGroupContainersHeight() {\r\n      this.tileGroups.forEach((tileGroup) => {\r\n        tileGroup.calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private moveTile(from, to, tile) {\r\n      let elem;\r\n      const movedTile = from.removeTile(tile);\r\n      const tileScope = this.createTileScope(tile);\r\n\r\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\r\n        .find(movedTile.getElem())\r\n        .remove();\r\n\r\n      if (to !== null) {\r\n        to.addTile(movedTile);\r\n\r\n        elem = this.$compile(movedTile.getElem())(tileScope);\r\n\r\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\r\n          .append(elem);\r\n\r\n        this.$timeout(to.setTilesDimensions.bind(to, true));\r\n      }\r\n\r\n      this.updateTilesTemplates('moveTile', {\r\n        from: from,\r\n        to: to,\r\n        tile: movedTile\r\n      });\r\n    }\r\n\r\n    private onDropListener(event) {\r\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\r\n      const droppedGroup = this.tileGroups[droppedGroupIndex];\r\n\r\n      if (this.activeDraggedGroup !== droppedGroup) {\r\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\r\n      }\r\n\r\n      this.updateTilesGroups(true);\r\n      this.sourceDropZoneElem = null;\r\n    }\r\n\r\n    private onDropToFictGroupListener(event) {\r\n      const from = this.activeDraggedGroup;\r\n      const tile = this.draggedTile;\r\n\r\n      this.addGroup({\r\n        title: 'New group',\r\n        source: []\r\n      });\r\n      this.$timeout(() => {\r\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\r\n        this.updateTilesGroups(true);\r\n      });\r\n\r\n      this.sourceDropZoneElem = null;\r\n    }\r\n\r\n    private onDropEnterListener(event) {\r\n      if (!this.sourceDropZoneElem) {\r\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\r\n      }\r\n\r\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\r\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\r\n        $('body').css('cursor', 'copy');\r\n        this.isSameDropzone = false;\r\n      } else {\r\n        $('body').css('cursor', '');\r\n        this.isSameDropzone = true;\r\n      }\r\n    }\r\n\r\n    private onDropDeactivateListener(event) {\r\n      if (this.sourceDropZoneElem !== event.target) {\r\n        event.target.classList.remove(this.opts.activeDropzoneClass);\r\n        $('body').css('cursor', '');\r\n      }\r\n    }\r\n\r\n    private onDropLeaveListener(event) {\r\n      event.target.classList.remove(this.opts.activeDropzoneClass);\r\n    }\r\n\r\n    private initialize() {\r\n      this.$timeout(() => {\r\n        this.availableWidth = this.getContainerWidth();\r\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\r\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\r\n        this.tileGroups = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\r\n\r\n        interact('.pip-draggable-tile')\r\n          .draggable({\r\n            autoScroll: {\r\n              enabled: true,\r\n              container: $('#content').get(0),\r\n              speed: 500\r\n            },\r\n            onstart: (event) => {\r\n              this.onDragStartListener(event)\r\n            },\r\n            onmove: (event) => {\r\n              this.onDragMoveListener(event)\r\n            },\r\n            onend: (event) => {\r\n              this.onDragEndListener()\r\n            }\r\n          });\r\n\r\n        interact('.pip-draggable-group.fict-group')\r\n          .dropzone({\r\n            ondrop: (event) => {\r\n              this.onDropToFictGroupListener(event)\r\n            },\r\n            ondragenter: (event) => {\r\n              this.onDropEnterListener(event)\r\n            },\r\n            ondropdeactivate: (event) => {\r\n              this.onDropDeactivateListener(event)\r\n            },\r\n            ondragleave: (event) => {\r\n              this.onDropLeaveListener(event)\r\n            }\r\n          });\r\n\r\n        interact('.pip-draggable-group')\r\n          .dropzone({\r\n            ondrop: (event) => {\r\n              this.onDropListener(event)\r\n            },\r\n            ondragenter: (event) => {\r\n              this.onDropEnterListener(event)\r\n            },\r\n            ondropdeactivate: (event) => {\r\n              this.onDropDeactivateListener(event)\r\n            },\r\n            ondragleave: (event) => {\r\n              this.onDropLeaveListener(event)\r\n            }\r\n          });\r\n\r\n        this.$container\r\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\r\n            interact('.pip-draggable-tile').draggable(false);\r\n            $(this).trigger('click');\r\n          })\r\n          .on('mouseup touchend', () => {\r\n            interact('.pip-draggable-tile').draggable(true);\r\n          });\r\n          \r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  const DragComponent: ng.IComponentOptions = {\r\n    bindings: {\r\n      tilesTemplates: '=pipTilesTemplates',\r\n      tilesContext: '=pipTilesContext',\r\n      options: '=pipDraggableGrid',\r\n      groupMenuActions: '=pipGroupMenuActions'\r\n    },\r\n    //controllerAs: 'DraggedCtrl',\r\n    templateUrl: 'draggable/Draggable.html',\r\n    controller: DraggableController\r\n  }\r\n\r\n  angular.module('pipDraggableTiles')\r\n    .component('pipDraggableGrid', DragComponent);\r\n}","export interface DragTileConstructor {\r\n  new (options: any);\r\n}\r\n\r\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\r\n  return new constructor(options);\r\n}\r\n\r\nexport interface IDragTileService {\r\n  tpl: any;\r\n  opts: any;\r\n  size: any;\r\n  elem: any;\r\n  preview: any;\r\n  getSize(): any;\r\n  setSize(width, height): any;\r\n  setPosition(left, top): any;\r\n  getCompiledTemplate(): any;\r\n  updateElem(parent): any;\r\n  getElem(): any;\r\n  startDrag(): any;\r\n  stopDrag(isAnimate): any;\r\n  setPreviewPosition(coords): void;\r\n  getOptions(): any;\r\n  setOptions(options): any;\r\n}\r\n\r\nlet DEFAULT_TILE_SIZE = {\r\n  colSpan: 1,\r\n  rowSpan: 1\r\n};\r\n\r\nexport class DragTileService implements IDragTileService {\r\n  public tpl: any;\r\n  public opts: any;\r\n  public size: any;\r\n  public elem: any;\r\n  public preview: any;\r\n\r\n  constructor (options: any) {\r\n    this.tpl = options.tpl.get(0);\r\n    this.opts = options;\r\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\r\n    this.elem = null;\r\n  }\r\n\r\n  public getSize(): any {\r\n    return this.size;\r\n  }\r\n\r\n  public setSize(width, height): any {\r\n    this.size.width = width;\r\n    this.size.height = height;\r\n\r\n    if (this.elem) {\r\n      this.elem.css({\r\n        width: width,\r\n        height: height\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  public setPosition(left, top): any {\r\n    this.size.left = left;\r\n    this.size.top = top;\r\n\r\n    if (this.elem) {\r\n      this.elem.css({\r\n        left: left,\r\n        top: top\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  public getCompiledTemplate(): any {\r\n    return this.tpl;\r\n  };\r\n\r\n  public updateElem(parent): any {\r\n    this.elem = $(this.tpl).parent(parent);\r\n\r\n    return this;\r\n  };\r\n\r\n  public getElem(): any {\r\n    return this.elem.get(0);\r\n  };\r\n\r\n  public startDrag(): any {\r\n    this.preview = $('<div>')\r\n      .addClass('pip-dragged-preview')\r\n      .css({\r\n        position: 'absolute',\r\n        left: this.elem.css('left'),\r\n        top: this.elem.css('top'),\r\n        width: this.elem.css('width'),\r\n        height: this.elem.css('height')\r\n      });\r\n\r\n    this.elem\r\n      .addClass('no-animation')\r\n      .css({\r\n        zIndex: '9999'\r\n      })\r\n      .after(this.preview);\r\n\r\n    return this;\r\n  };\r\n\r\n  public stopDrag(isAnimate): any {\r\n    let self = this;\r\n\r\n    if (isAnimate) {\r\n      this.elem\r\n        .removeClass('no-animation')\r\n        .css({\r\n          left: this.preview.css('left'),\r\n          top: this.preview.css('top')\r\n        })\r\n        .on('transitionend', onTransitionEnd);\r\n    } else {\r\n      self.elem\r\n        .css({\r\n          left: self.preview.css('left'),\r\n          top: self.preview.css('top'),\r\n          zIndex: ''\r\n        })\r\n        .removeClass('no-animation');\r\n\r\n      self.preview.remove();\r\n      self.preview = null;\r\n    }\r\n\r\n    return this;\r\n\r\n    function onTransitionEnd() {\r\n      if (self.preview) {\r\n        self.preview.remove();\r\n        self.preview = null;\r\n      }\r\n\r\n      self.elem\r\n        .css('zIndex', '')\r\n        .off('transitionend', onTransitionEnd);\r\n    }\r\n  };\r\n\r\n  public setPreviewPosition(coords) {\r\n    this.preview.css(coords);\r\n  };\r\n\r\n  public getOptions(): any {\r\n    return this.opts.options;\r\n  };\r\n\r\n  public setOptions(options): any {\r\n    _.merge(this.opts.options, options);\r\n    _.merge(this.size, options.size);\r\n\r\n    return this;\r\n  };\r\n}\r\n\r\nangular\r\n  .module('pipDraggableTiles')\r\n  .service('pipDragTile', function () {\r\n    return function (options) {\r\n      let newTile = new DragTileService(options);\r\n\r\n      return newTile;\r\n    }\r\n  });","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n{\r\n  class EventTileController extends MenuTileService {\r\n    private _oldOpacity: number;\r\n\r\n    public opacity: number = 0.57;\r\n\r\n    constructor(\r\n      $scope: ng.IScope,\r\n      private $element: JQuery,\r\n      private $timeout: angular.ITimeoutService,\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.color = this.options.color || 'gray';\r\n      this.opacity = this.options.opacity || this.opacity;\r\n\r\n      this.drawImage();\r\n\r\n      // TODO it doesn't work\r\n      $scope.$watch(() => {\r\n        return $element.is(':visible');\r\n      }, (newVal) => {\r\n        this.drawImage();\r\n      });\r\n    }\r\n\r\n    private drawImage() {\r\n      if (this.options.image) {\r\n        this.$timeout(() => {\r\n          this.onImageLoad(this.$element.find('img'));\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this._oldOpacity = _.clone(this.opacity);\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-calendar-config',\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size || {\r\n            colSpan: 1,\r\n            rowSpan: 1\r\n          },\r\n          date: this.options.date,\r\n          title: this.options.title,\r\n          text: this.options.text,\r\n          opacity: this.opacity,\r\n          onOpacitytest: (opacity) => {\r\n            this.opacity = opacity;\r\n          }\r\n        },\r\n        extensionUrl: 'event_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.options.date = result.date;\r\n        this.options.title = result.title;\r\n        this.options.text = result.text;\r\n        this.options.opacity = result.opacity;\r\n      }, () => {\r\n        this.opacity = this._oldOpacity;\r\n      });\r\n    }\r\n\r\n    private onImageLoad(image) {\r\n      this.setImageMarginCSS(this.$element.parent(), image);\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      if (this.options.image) {\r\n        this.$timeout(() => {\r\n          this.setImageMarginCSS(this.$element.parent(), this.$element.find('img'));\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    // Later replace by pipImageUtils sevice's function\r\n    private setImageMarginCSS($element, image) {\r\n      let\r\n        containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\r\n        containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\r\n        imageWidth = image[0].naturalWidth || image.width,\r\n        imageHeight = image[0].naturalHeight || image.height,\r\n        margin = 0,\r\n        cssParams = {};\r\n\r\n      if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n        margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n        cssParams['margin-left'] = '' + margin + 'px';\r\n        cssParams['height'] = '' + containerHeight + 'px'; //'100%';\r\n        cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\r\n        cssParams['margin-top'] = '';\r\n      } else {\r\n        margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n        cssParams['margin-top'] = '' + margin + 'px';\r\n        cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\r\n        cssParams['width'] = '' + containerWidth + 'px'; //'100%';\r\n        cssParams['margin-left'] = '';\r\n      }\r\n\r\n      image.css(cssParams);\r\n    }\r\n  }\r\n\r\n\r\n  const EventTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: EventTileController,\r\n    templateUrl: 'event_tile/EventTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipEventTile', EventTile);\r\n}","{\r\n  const TileMenu = ():ng.IDirective => {\r\n    return {\r\n      restrict: 'EA',\r\n      templateUrl: 'menu_tile/MenuTile.html'\r\n    };\r\n  }\r\n\r\n  angular\r\n    .module('pipMenuTile')\r\n    .directive('pipTileMenu', TileMenu);\r\n}","import { DashboardTile } from '../common_tile/Tile';\r\n\r\nexport class MenuTileService extends DashboardTile {\r\n  public menu: any = [{\r\n    title: 'Change Size',\r\n    action: angular.noop,\r\n    submenu: [{\r\n        title: '1 x 1',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 1,\r\n          sizeY: 1\r\n        }\r\n      },\r\n      {\r\n        title: '2 x 1',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 2,\r\n          sizeY: 1\r\n        }\r\n      },\r\n      {\r\n        title: '2 x 2',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 2,\r\n          sizeY: 2\r\n        }\r\n      }\r\n    ]\r\n  }];\r\n\r\n  constructor() {\r\n    \"ngInject\";\r\n\r\n    super();\r\n  }\r\n\r\n  public callAction(actionName, params, item) {\r\n    if (this[actionName]) {\r\n      this[actionName].call(this, params);\r\n    }\r\n\r\n    if (item['click']) {\r\n      item['click'].call(item, params, this);\r\n    }\r\n  };\r\n\r\n  public changeSize(params) {\r\n    this.options.size.colSpan = params.sizeX;\r\n    this.options.size.rowSpan = params.sizeY;\r\n  };\r\n}\r\n\r\n{\r\n  class MenuTileProvider {\r\n    private _service: MenuTileService;\r\n\r\n    constructor() {}\r\n\r\n    public $get() {\r\n      \"ngInject\";\r\n\r\n      if (this._service == null)\r\n        this._service = new MenuTileService();\r\n\r\n      return this._service;\r\n    }\r\n  }\r\n\r\n  angular\r\n    .module('pipMenuTile')\r\n    .provider('pipMenuTile', MenuTileProvider);\r\n}","angular\r\n    .module('pipMenuTile', []);\r\n\r\nimport './MenuTileDirective';\r\nimport './MenuTileService';\r\n\r\nexport * from './MenuTileService';","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class NoteTileController extends MenuTileService {\r\n\r\n    constructor(\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.color = this.options.color || 'orange';\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size,\r\n          title: this.options.title,\r\n          text: this.options.text,\r\n        },\r\n        extensionUrl: 'note_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.changeSize(result.size);\r\n        this.options.text = result.text;\r\n        this.options.title = result.title;\r\n      });\r\n    }\r\n  }\r\n\r\n  const NoteTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: NoteTileController,\r\n    templateUrl: 'note_tile/NoteTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipNoteTile', NoteTile);\r\n}","'use strict';\r\n\r\nimport {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\nimport {\r\n  ITileTemplateService\r\n} from '../utility/TileTemplateUtility';\r\n\r\n{\r\n  class PictureSliderController extends MenuTileService {\r\n    public animationType: string = 'fading';\r\n    public animationInterval: number = 5000;\r\n\r\n    constructor(\r\n      private $scope: angular.IScope,\r\n      private $element: any,\r\n      private $timeout: angular.ITimeoutService,\r\n      private pipTileTemplate: ITileTemplateService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.animationType = this.options.animationType || this.animationType;\r\n        this.animationInterval = this.options.animationInterval || this.animationInterval;\r\n      }\r\n    }\r\n\r\n    public onImageLoad($event) {\r\n      this.$timeout(() => {\r\n        this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), $event.target);\r\n      });\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.$timeout(() => {\r\n        _.each(this.$element.find('img'), (image) => {\r\n          this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), image);\r\n        });\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  const PictureSliderTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: PictureSliderController,\r\n    templateUrl: 'picture_slider_tile/PictureSliderTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipPictureSliderTile', PictureSliderTile);\r\n}","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class PositionTileController extends MenuTileService {\r\n    public showPosition: boolean = true;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $element: any,\r\n      private pipTileConfigDialogService: ITileConfigService,\r\n      private pipLocationEditDialog: any,\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.menu.push({\r\n        title: 'Change location',\r\n        click: () => {\r\n          this.openLocationEditDialog();\r\n        }\r\n      });\r\n\r\n      this.options.location = this.options.location || this.options.position;\r\n\r\n      $scope.$watch('$ctrl.options.location', () => {\r\n        this.reDrawPosition();\r\n      });\r\n\r\n      // TODO it doesn't work\r\n      $scope.$watch(() => {\r\n        return $element.is(':visible');\r\n      }, (newVal) => {\r\n        if (newVal == true) this.reDrawPosition();\r\n      });\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-position-config',\r\n        locals: {\r\n          size: this.options.size,\r\n          locationName: this.options.locationName,\r\n          hideColors: true,\r\n        },\r\n        extensionUrl: 'position_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n        this.options.locationName = result.locationName;\r\n      });\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.reDrawPosition();\r\n    }\r\n\r\n    public openLocationEditDialog() {\r\n      this.pipLocationEditDialog.show({\r\n        locationName: this.options.locationName,\r\n        locationPos: this.options.location\r\n      }, (newPosition) => {\r\n        if (newPosition) {\r\n          this.options.location = newPosition.location;\r\n          this.options.locationName = newPosition.locatioName;\r\n        }\r\n      });\r\n    }\r\n\r\n    private reDrawPosition() {\r\n      this.showPosition = false;\r\n      this.$timeout(() => {\r\n        this.showPosition = true;\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n\r\n  const PositionTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: PositionTileController,\r\n    templateUrl: 'position_tile/PositionTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipPositionTile', PositionTile);\r\n}","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\n\r\n{\r\n  const SMALL_CHART: number = 70;\r\n  const BIG_CHART: number = 250;\r\n\r\n  class StatisticsTileController extends MenuTileService {\r\n    private _$scope: angular.IScope;\r\n    private _$timeout: angular.ITimeoutService;\r\n\r\n    public reset: boolean = false;\r\n    public chartSize: number = SMALL_CHART;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      $timeout: angular.ITimeoutService\r\n    ) {\r\n      super();\r\n      this._$scope = $scope;\r\n      this._$timeout = $timeout;\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n      }\r\n\r\n      this.setChartSize();\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.reset = true;\r\n      this.setChartSize();\r\n      this._$timeout(() => {\r\n        this.reset = false;\r\n      }, 500);\r\n    }\r\n\r\n    private setChartSize() {\r\n      this.chartSize = this.options.size.colSpan == 2 && this.options.size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\r\n    }\r\n  }\r\n\r\n\r\n  const StatisticsTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: StatisticsTileController,\r\n    templateUrl: 'statistics_tile/StatisticsTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipStatisticsTile', StatisticsTile);\r\n}","{\r\n  interface DraggableTileAttributes extends ng.IAttributes {\r\n    pipDraggableTiles: any;\r\n  }\r\n\r\n  function DraggableTileLink(\r\n    $scope: ng.IScope,\r\n    $elem: JQuery,\r\n    $attr: DraggableTileAttributes\r\n  ) {\r\n    const docFrag = document.createDocumentFragment(),\r\n      group = $scope.$eval($attr.pipDraggableTiles);\r\n\r\n    group.forEach(function (tile) {\r\n      const tpl = wrapComponent(tile.getCompiledTemplate());\r\n      docFrag.appendChild(tpl);\r\n    });\r\n\r\n    $elem.append(docFrag);\r\n\r\n    function wrapComponent(elem) {\r\n      return $('<div>')\r\n        .addClass('pip-draggable-tile')\r\n        .append(elem)\r\n        .get(0);\r\n    }\r\n  }\r\n\r\n  function DraggableTiles(): ng.IDirective {\r\n    return {\r\n      restrict: 'A',\r\n      link: function(\r\n        $scope: ng.IScope,\r\n        $elem: JQuery,\r\n        $attr: DraggableTileAttributes\r\n      ) {\r\n          new DraggableTileLink($scope, $elem, $attr);\r\n      }\r\n    };\r\n  }\r\n\r\n  angular\r\n    .module('pipDraggableTilesGroup')\r\n    .directive('pipDraggableTiles', DraggableTiles);\r\n}","export interface TilesGridConstructor {\r\n  new(tiles, options, columns, elem);\r\n}\r\n\r\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem): ITilesGridService {\r\n  return new constructor(tiles, options, columns, elem);\r\n}\r\n\r\nexport interface ITilesGridService {\r\n  tiles: any;\r\n  opts: any;\r\n  columns: any;\r\n  elem: any;\r\n  gridCells: any;\r\n  inline: boolean;\r\n  isMobileLayout: boolean;\r\n\r\n  addTile(tile): any;\r\n  getCellByPosition(row, col): any;\r\n  getCells(prevCell, rowSpan, colSpan): any;\r\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\r\n  getCell(src, basicRow, basicCol, columns): any;\r\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\r\n  getBasicRow(prevCell): any;\r\n  isCellFree(row, col): any;\r\n  getCellIndex(srcCell): any;\r\n  reserveCells(start, end, elem): void;\r\n  clearElements(): void;\r\n  setAvailableColumns(columns): any;\r\n  generateGrid(singleTileWidth ? ): any;\r\n  setTilesDimensions(onlyPosition, draggedTile): any;\r\n  calcContainerHeight(): any;\r\n  getTileByNode(node): any;\r\n  getTileByCoordinates(coords, draggedTile): any;\r\n  getTileIndex(tile): any;\r\n  swapTiles(movedTile, beforeTile): any;\r\n  removeTile(removeTile): any;\r\n  updateTileOptions(opts): any;\r\n}\r\n\r\nconst MOBILE_LAYOUT_COLUMNS = 2;\r\n\r\nexport class TilesGridService implements ITilesGridService {\r\n  public tiles: any;\r\n  public opts: any;\r\n  public columns: any;\r\n  public elem: any;\r\n  public gridCells: any = [];\r\n  public inline: boolean = false;\r\n  public isMobileLayout: boolean;\r\n\r\n  constructor(tiles, options, columns, elem) {\r\n    this.tiles = tiles;\r\n    this.opts = options;\r\n    this.columns = columns || 0; // available columns in a row\r\n    this.elem = elem;\r\n    this.gridCells = [];\r\n    this.inline = options.inline || false;\r\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\r\n  }\r\n\r\n  public addTile(tile): any {\r\n    this.tiles.push(tile);\r\n    if (this.tiles.length === 1) {\r\n      this.generateGrid();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public getCellByPosition(row, col): any {\r\n    return this.gridCells[row][col];\r\n  };\r\n\r\n  public getCells(prevCell, rowSpan, colSpan): any {\r\n    if (this.isMobileLayout) {\r\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\r\n    } else {\r\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\r\n    }\r\n  };\r\n\r\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\r\n    let leftCornerCell;\r\n    let rightCornerCell;\r\n    const basicCol = prevCell && prevCell.col || 0;\r\n    const basicRow = this.getBasicRow(prevCell);\r\n\r\n    // Small tile\r\n    if (colSpan === 1 && rowSpan === 1) {\r\n      const gridCopy = this.gridCells.slice();\r\n\r\n      if (!prevCell) {\r\n        leftCornerCell = gridCopy[0][0];\r\n      } else {\r\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\r\n\r\n        if (!leftCornerCell) {\r\n          const rowShift = this.isMobileLayout ? 1 : 2;\r\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Medium tile\r\n    if (colSpan === 2 && rowSpan === 1) {\r\n      const prevTileSize = prevCell && prevCell.elem.size || null;\r\n\r\n      if (!prevTileSize) {\r\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\r\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\r\n        if (this.columns - basicCol - 2 > 0) {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n        }\r\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\r\n        if (prevCell.row % 2 === 0) {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\r\n        } else {\r\n          if (this.columns - basicCol - 3 >= 0) {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          } else {\r\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n          }\r\n        }\r\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\r\n        if (this.columns - basicCol - 3 >= 0) {\r\n          if (this.isCellFree(basicRow, basicCol + 1)) {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          } else {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\r\n          }\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Big tile\r\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\r\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\r\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\r\n    } else if (rowSpan === 2 && colSpan === 2) {\r\n      if (this.columns - basicCol - 2 > 0) {\r\n        if (this.isCellFree(basicRow, basicCol + 1)) {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\r\n        }\r\n      } else {\r\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\r\n      }\r\n    }\r\n\r\n    return {\r\n      start: leftCornerCell,\r\n      end: rightCornerCell\r\n    };\r\n  };\r\n\r\n  public getCell(src, basicRow, basicCol, columns): any {\r\n    let cell, col, row;\r\n\r\n    if (this.isMobileLayout) {\r\n      // mobile layout\r\n      for (col = basicCol; col < columns; col++) {\r\n        if (!src[basicRow][col].elem) {\r\n          cell = src[basicRow][col];\r\n          break;\r\n        }\r\n      }\r\n\r\n      return cell;\r\n    }\r\n\r\n    // desktop\r\n    for (col = basicCol; col < columns; col++) {\r\n      for (row = 0; row < 2; row++) {\r\n        if (!src[row + basicRow][col].elem) {\r\n          cell = src[row + basicRow][col];\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (cell) {\r\n        return cell;\r\n      }\r\n    }\r\n  };\r\n\r\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\r\n    let leftCornerCell;\r\n    let rightCornerCell;\r\n    const basicRow = this.getBasicRow(prevCell);\r\n    const basicCol = prevCell && prevCell.col || 0;\r\n\r\n\r\n    if (colSpan === 1 && rowSpan === 1) {\r\n      const gridCopy = this.gridCells.slice();\r\n\r\n      if (!prevCell) {\r\n        leftCornerCell = gridCopy[0][0];\r\n      } else {\r\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\r\n\r\n        if (!leftCornerCell) {\r\n          const rowShift = this.isMobileLayout ? 1 : 2;\r\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!prevCell) {\r\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\r\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\r\n    } else if (colSpan === 2) {\r\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\r\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\r\n    }\r\n\r\n    return {\r\n      start: leftCornerCell,\r\n      end: rightCornerCell\r\n    };\r\n  };\r\n\r\n  public getBasicRow(prevCell): any {\r\n    let basicRow;\r\n\r\n    if (this.isMobileLayout) {\r\n      if (prevCell) {\r\n        basicRow = prevCell && prevCell.row || 0;\r\n      } else {\r\n        basicRow = 0;\r\n      }\r\n    } else {\r\n      if (prevCell) {\r\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\r\n      } else {\r\n        basicRow = 0;\r\n      }\r\n    }\r\n\r\n    return basicRow;\r\n  };\r\n\r\n  public isCellFree(row, col): any {\r\n    return !this.gridCells[row][col].elem;\r\n  };\r\n\r\n  public getCellIndex(srcCell): any {\r\n    const self = this;\r\n    let index;\r\n\r\n    this.gridCells.forEach((row, rowIndex) => {\r\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\r\n        return cell === srcCell;\r\n      });\r\n\r\n      if (index !== -1) {\r\n        return;\r\n      }\r\n    });\r\n\r\n    return index !== -1 ? index : 0;\r\n  };\r\n\r\n  public reserveCells(start, end, elem) {\r\n    this.gridCells.forEach((row) => {\r\n      row.forEach((cell) => {\r\n        if (cell.row >= start.row && cell.row <= end.row &&\r\n          cell.col >= start.col && cell.col <= end.col) {\r\n          cell.elem = elem;\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  public clearElements() {\r\n    this.gridCells.forEach((row) => {\r\n      row.forEach((tile) => {\r\n        tile.elem = null;\r\n      });\r\n    });\r\n  };\r\n\r\n  public setAvailableColumns(columns): any {\r\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\r\n    this.columns = columns;\r\n\r\n    return this;\r\n  };\r\n\r\n  public generateGrid(singleTileWidth ? ): any {\r\n    const self = this,\r\n      tileWidth = singleTileWidth || this.opts.tileWidth,\r\n      offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\r\n    let colsInRow = 0,\r\n      rows = 0,\r\n      gridInRow = [];\r\n\r\n    this.gridCells = [];\r\n\r\n    this.tiles.forEach((tile, index, srcTiles) => {\r\n      const tileSize = tile.getSize();\r\n\r\n      generateCells(tileSize.colSpan);\r\n\r\n      if (srcTiles.length === index + 1) {\r\n        if (colsInRow < self.columns) {\r\n          generateCells(self.columns - colsInRow);\r\n        }\r\n\r\n        // Generate more cells for extends tile size to big\r\n        if (self.tiles.length * 2 > self.gridCells.length) {\r\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\r\n            generateCells(self.columns);\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    function generateCells(newCellCount) {\r\n      Array.apply(null, Array(newCellCount)).forEach(() => {\r\n        if (self.columns < colsInRow + 1) {\r\n          rows++;\r\n          colsInRow = 0;\r\n\r\n          self.gridCells.push(gridInRow);\r\n          gridInRow = [];\r\n        }\r\n\r\n        let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\r\n        let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\r\n\r\n        // Describe grid cell size through block corners coordinates\r\n        gridInRow.push({\r\n          top: top,\r\n          left: left,\r\n          bottom: top + self.opts.tileHeight,\r\n          right: left + tileWidth,\r\n          row: rows,\r\n          col: colsInRow\r\n        });\r\n\r\n        colsInRow++;\r\n      });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public setTilesDimensions(onlyPosition, draggedTile): any {\r\n    const self = this;\r\n    let currIndex = 0;\r\n    let prevCell;\r\n\r\n    if (onlyPosition) {\r\n      self.clearElements();\r\n    }\r\n\r\n    this.tiles.forEach((tile) => {\r\n      const tileSize = tile.getSize();\r\n      let startCell;\r\n      let width;\r\n      let height;\r\n      let cells;\r\n\r\n      tile.updateElem('.pip-draggable-tile');\r\n      if (tileSize.colSpan === 1) {\r\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\r\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\r\n        } else {\r\n          startCell = self.getCells(prevCell, 1, 1).start;\r\n        }\r\n\r\n\r\n        if (!onlyPosition) {\r\n          width = startCell.right - startCell.left;\r\n          height = startCell.bottom - startCell.top;\r\n        }\r\n\r\n        prevCell = startCell;\r\n\r\n        self.reserveCells(startCell, startCell, tile);\r\n\r\n        currIndex++;\r\n      } else if (tileSize.colSpan === 2) {\r\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\r\n        startCell = cells.start;\r\n\r\n        if (!onlyPosition) {\r\n          width = cells.end.right - cells.start.left;\r\n          height = cells.end.bottom - cells.start.top;\r\n        }\r\n\r\n        prevCell = cells.end;\r\n\r\n        self.reserveCells(cells.start, cells.end, tile);\r\n\r\n        currIndex += 2;\r\n      }\r\n\r\n      // Render preview\r\n      // while tiles from group is dragged\r\n      if (draggedTile === tile) {\r\n        tile.setPreviewPosition({\r\n          left: startCell.left,\r\n          top: startCell.top\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      if (!onlyPosition) {\r\n        tile.setSize(width, height);\r\n      }\r\n\r\n      tile.setPosition(startCell.left, startCell.top);\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  public calcContainerHeight(): any {\r\n    let maxHeightSize, maxWidthSize;\r\n\r\n    if (!this.tiles.length) {\r\n      return this;\r\n    }\r\n\r\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\r\n      const tileSize = tile['getSize']();\r\n      return tileSize.top + tileSize.height;\r\n    })['getSize']();\r\n\r\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\r\n\r\n    if (this.inline) {\r\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\r\n        const tileSize = tile['getSize']();\r\n        return tileSize.left + tileSize.width;\r\n      })['getSize']();\r\n\r\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public getTileByNode(node): any {\r\n    const foundTile = this.tiles.filter((tile) => {\r\n      return node === tile.getElem();\r\n    });\r\n\r\n    return foundTile.length ? foundTile[0] : null;\r\n  };\r\n\r\n  public getTileByCoordinates(coords, draggedTile): any {\r\n    return this.tiles\r\n      .filter((tile) => {\r\n        const tileSize = tile.getSize();\r\n\r\n        return tile !== draggedTile &&\r\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\r\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\r\n      })[0] || null;\r\n  };\r\n\r\n  public getTileIndex(tile): any {\r\n    return _.findIndex(this.tiles, tile);\r\n  };\r\n\r\n  public swapTiles(movedTile, beforeTile): any {\r\n    const movedTileIndex = _.findIndex(this.tiles, movedTile);\r\n    const beforeTileIndex = _.findIndex(this.tiles, beforeTile);\r\n\r\n    this.tiles.splice(movedTileIndex, 1);\r\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\r\n\r\n    return this;\r\n  };\r\n\r\n  public removeTile(removeTile): any {\r\n    let droppedTile;\r\n\r\n    this.tiles.forEach((tile, index, tiles) => {\r\n      if (tile === removeTile) {\r\n        droppedTile = tiles.splice(index, 1)[0];\r\n        return false;\r\n      }\r\n    });\r\n\r\n    return droppedTile;\r\n  };\r\n\r\n  public updateTileOptions(opts): any {\r\n    const index = _.findIndex(this.tiles, (tile) => {\r\n      return tile['getOptions']() === opts;\r\n    });\r\n\r\n    if (index !== -1) {\r\n      this.tiles[index].setOptions(opts);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n}\r\n\r\n\r\nangular\r\n  .module('pipDraggableTilesGroup')\r\n  .service('pipTilesGrid', function () {\r\n    return function (tiles, options, columns, elem) {\r\n      const newGrid = new TilesGridService(tiles, options, columns, elem);\r\n\r\n      return newGrid;\r\n    }\r\n  });","angular\r\n    .module('pipDraggableTilesGroup', []);\r\n\r\nimport './TileGroupDirective';\r\nimport './TileGroupService';","export interface ITileTemplateService {\r\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\r\n    setImageMarginCSS($element, image): void;\r\n} \r\n\r\n{\r\n    class tileTemplateService implements ITileTemplateService {\r\n        private _$interpolate: angular.IInterpolateService;\r\n        private _$compile: angular.ICompileService;\r\n        private _$templateRequest: angular.ITemplateRequestService;\r\n\r\n        constructor(\r\n            $interpolate: angular.IInterpolateService,\r\n            $compile: angular.ICompileService,\r\n            $templateRequest: angular.ITemplateRequestService\r\n        ) {\r\n            this._$interpolate = $interpolate;\r\n            this._$compile = $compile;\r\n            this._$templateRequest = $templateRequest;\r\n        }\r\n\r\n        public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\r\n            const {\r\n                template,\r\n                templateUrl,\r\n                type\r\n            } = source;\r\n            let result;\r\n\r\n            if (type) {\r\n                const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\r\n                return strictCompile == true ?\r\n                    (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\r\n                    interpolated;\r\n            }\r\n\r\n            if (template) {\r\n                return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\r\n            }\r\n\r\n            if (templateUrl) {\r\n                this._$templateRequest(templateUrl, false).then((html) => {\r\n                    result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\r\n                });\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        public setImageMarginCSS($element, image) {\r\n            let\r\n                containerWidth = $element.width ? $element.width() : $element.clientWidth,\r\n                containerHeight = $element.height ? $element.height() : $element.clientHeight,\r\n                imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\r\n                imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\r\n                margin = 0,\r\n                cssParams = {};\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px'; //'100%';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\r\n                cssParams['width'] = '' + containerWidth + 'px'; //'100%';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            $(image).css(cssParams);\r\n        }\r\n    }\r\n\r\n    // image load directive TODO: remove to pipImageUtils\r\n    const ImageLoad = function ImageLoad($parse: ng.IParseService): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: ng.IScope, element: JQuery, attrs: any) {\r\n                const callback = $parse(attrs.pipImageLoad);\r\n\r\n                element.bind('load', (event) => {\r\n                    callback(scope, {\r\n                        $event: event\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDashboard')\r\n        .service('pipTileTemplate', tileTemplateService)\r\n        .directive('pipImageLoad', ImageLoad);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_tile_dialog/AddTile.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_TITLE\\' | translate }}<md-input-container class=\"layout-row flex-auto m0 tm16\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"{{ \\'DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP\\' | translate }}\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS\\' | translate }}</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Cancel\">{{ \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"dialogCtrl.add()\" ng-disabled=\"dialogCtrl.totalWidgets === 0\" arial-label=\"Add\">{{ \\'ADD\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/CalendarTile.html',\n    '<div class=\"widget-box pip-calendar-widget {{ $ctrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ $ctrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ $ctrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-tile-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-tile-config-extend-component class=\"layout-column\" pip-dialog-scope=\"vm\" pip-extension-url=\"vm.extensionUrl\" pip-apply=\"vm.onApply(updatedData)\"></pip-tile-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{ \\'DASHBOARD_TILE_CONFIG_DIALOG_TITLE\\' | translate }}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!$ctrl.hideSizes\" pip-buttons=\"$ctrl.sizes\" ng-model=\"$ctrl.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!$ctrl.hideColors\" pip-colors=\"$ctrl.colors\" ng-model=\"$ctrl.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onCancel()\">{{ \\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\">{{ \\'APPLY\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in $ctrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"$ctrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"$ctrl.onBlurTitleInput(group)\" ng-keypress=\"$ctrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"$ctrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in $ctrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container>Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"$ctrl.opacity\" ng-change=\"$ctrl.onOpacitytest($ctrl.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/EventTile.html',\n    '<div class=\"widget-box pip-event-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><img ng-if=\"$ctrl.options.image\" ng-src=\"{{$ctrl.options.image}}\" alt=\"{{$ctrl.options.title || $ctrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ $ctrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"$ctrl.options.date\">{{ $ctrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ $ctrl.options.text || $ctrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dashboard/Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"$ctrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"$ctrl.groupedWidgets\" pip-tiles-context=\"$ctrl.widgetsContext\" pip-draggable-grid=\"$ctrl.draggableGridOptions\" pip-group-menu-actions=\"$ctrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu_tile/MenuTile.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"$ctrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"$ctrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"$ctrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/NoteTile.html',\n    '<div class=\"widget-box pip-notes-widget {{ $ctrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"$ctrl.options.title || $ctrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span></div><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu><div class=\"text-container flex-auto pip-scroll\"><p>{{ $ctrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_slider_tile/PictureSliderTile.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ $ctrl.options.title }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"$ctrl.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/PositionTile.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!$ctrl.options.locationName\"><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"$ctrl.options.locationName\"><span class=\"flex text-overflow\">{{ $ctrl.options.locationName }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><pip-location-map class=\"flex\" ng-if=\"$ctrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"$ctrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('statistics_tile/StatisticsTile.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.series && !$ctrl.reset\"><pip-pie-chart pip-series=\"$ctrl.options.series\" ng-if=\"!$ctrl.options.chartType || $ctrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"$ctrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n","import { ISettingsService } from '../service/ISettingsService';\r\nimport { SettingsTab } from '../service/SettingsTab';\r\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\r\n\r\ninterface ISettingsPageController {\r\n    tabs: SettingsTab[];\r\n    selected: SettingsPageSelectedTab;\r\n    // onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass SettingsPageController implements ISettingsPageController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public tabs: SettingsTab[];\r\n    public selected: SettingsPageSelectedTab;\r\n    // public onDropdownSelect: Function;\r\n    private cleanUpFunc: Function;\r\n    private cleanUpSelectFunc: Function;\r\n    private mediaSizeGtSm: boolean;\r\n    public details: boolean;\r\n\r\n    constructor(\r\n        private $state: ng.ui.IStateService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        $scope: ng.IScope,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $timeout: angular.ITimeoutService,\r\n        private $location: ng.ILocationService,\r\n        private pipNavService: pip.nav.INavService,\r\n        private pipSettings: ISettingsService,\r\n        public pipMedia: pip.layouts.IMediaService,\r\n    ) {\r\n\r\n        this.translateInit();\r\n\r\n        this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n        this.initTabs();\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = $location.search().details == 'details' ? true : false;\r\n        } else {\r\n            this.details = false;\r\n            this.$location.search('details', 'main');\r\n        }\r\n            \r\n        this.cleanUpSelectFunc = $rootScope.$on('$stateChangeSuccess', () => {\r\n            let state = this.$state.current.name;\r\n            this.initSelect(state, false);\r\n        });\r\n\r\n        this.cleanUpFunc = $rootScope.$on('pipMainResized', () => {\r\n            if (this.mediaSizeGtSm !== this.pipMedia('gt-sm')) {\r\n                this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n                if (this.pipMedia('gt-sm')) {\r\n                    this.details = false;\r\n                }\r\n                this.appHeader();\r\n            }\r\n        });\r\n        this.appHeader();\r\n\r\n        $scope.$on('$destroy', () => {\r\n            if (angular.isFunction(this.cleanUpFunc)) {\r\n                this.cleanUpFunc();\r\n            }\r\n            \r\n            if (angular.isFunction(this.cleanUpSelectFunc)) {\r\n                this.cleanUpSelectFunc();\r\n            }\r\n        });\r\n    }\r\n\r\n    private initTabs(): void {\r\n        this.tabs = _.filter(this.pipSettings.getTabs(), (tab: SettingsTab) => {\r\n            if (tab.visible === true && (tab.access ? tab.access(this.$rootScope['$user'], tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new SettingsPageSelectedTab();\r\n        if (this.$state.current.name !== 'settings') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'settings' && this.pipSettings.getDefaultTab()) {\r\n            this.initSelect(this.pipSettings.getDefaultTab().state);\r\n        } else {\r\n            this.$timeout(() => {\r\n                if (this.pipSettings.getDefaultTab()) {\r\n                    this.initSelect(this.pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!this.pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private translateInit() {\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                PIP_SETTINGS: 'Settings',\r\n                PIP_SETTINGS_DETAILS: 'Settings details'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                PIP_SETTINGS: 'Настройки',\r\n                PIP_SETTINGS_DETAILS: 'Подробно'\r\n            });\r\n        }\r\n    }\r\n    private toMainFromDetails(): void {\r\n        this.$location.search('details', 'main');\r\n        this.details = false;\r\n        this.appHeader();\r\n    }\r\n\r\n    public appHeader(): void {\r\n        this.pipNavService.breadcrumb.breakpoint = 'gt-sm';\r\n        if (!this.pipMedia('gt-sm')) {\r\n            let detailsTitle: string = this.selected && this.selected.tab ? this.selected.tab.title : 'PIP_SETTINGS_DETAILS';\r\n            if (this.details) {\r\n                this.pipNavService.icon.showBack(() => {\r\n                    this.toMainFromDetails();\r\n                });\r\n                this.pipNavService.breadcrumb.items = [\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: \"PIP_SETTINGS\", click: () => {\r\n                            this.toMainFromDetails();\r\n                        }\r\n                    },\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: detailsTitle, click: () => { }, subActions: []\r\n                    }\r\n                ];\r\n            } else {\r\n                this.pipNavService.icon.showMenu();\r\n                this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n            }\r\n        } else {\r\n            this.pipNavService.icon.showMenu();\r\n            this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n        }\r\n\r\n\r\n        this.pipNavService.actions.hide();\r\n        this.pipNavService.appbar.removeShadow();\r\n    }\r\n\r\n    private initSelect(state: string, updateState: boolean = true): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        if (updateState === true) this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = true;\r\n            this.$location.search('details', 'details');\r\n            this.appHeader();\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n","{\r\n    function configureSettingsPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('settings', {\r\n                url: '/settings?user_id&details',\r\n                auth: true,\r\n                controllerAs: 'vm',\r\n                controller: 'pipSettingsPageController',\r\n                templateUrl: 'page/SettingsPage.html'\r\n            });\r\n\r\n    }\r\n\r\n    angular.module('pipSettings.Page')\r\n        .config(configureSettingsPageRoutes);\r\n}\r\n","angular.module('pipHelp.Page', [\r\n    'ui.router', \r\n    'pipHelp.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipHelp.Templates'\r\n    ]);\r\n\r\nimport './HelpPage';\r\nimport './HelpPageRoutes';","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsConfig {\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsPageSelectedTab {\r\n    public tab: SettingsTab;\r\n    public tabIndex: number = 0;\r\n    public tabId: string;\r\n}","import { SettingsTab } from './SettingsTab';\r\nimport { SettingsConfig } from './SettingsConfig';\r\nimport { ISettingsService } from './ISettingsService';\r\nimport { ISettingsProvider } from './ISettingsService';\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n\r\n    public constructor(config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): SettingsTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: SettingsTab): void {\r\n        let existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            icon: tabObj.icon,\r\n            iconClass: tabObj.iconClass,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //console.log(this.$stateProvider);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n    private validateTab(tabObj: SettingsTab): void {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): ISettingsService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new SettingsService(this._config);\r\n        }\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","export class SettingsStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}","import { SettingsStateConfig } from './SettingsStateConfig';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public icon?: string;\r\n    public iconClass?: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: SettingsStateConfig;\r\n}\r\n","angular\r\n    .module('pipHelp.Service', []);\r\n\r\nimport './HelpConfig';\r\nimport './HelpPageSelectedTab';\r\nimport './HelpTab';\r\nimport './HelpStateConfig';\r\nimport './HelpService';\r\n\r\nexport * from './HelpConfig';\r\nexport * from './HelpPageSelectedTab';\r\nexport * from './HelpTab';\r\nexport * from './HelpStateConfig';\r\nexport * from './HelpService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<div class=\"pip-main-menu pip-settings\" ng-class=\"{\\'pip-single-content\\': vm.details}\"><div class=\"pip-menu\"><div class=\"pip-list-container pip-scroll divider-top\"><md-list class=\"pip-ref-list tp0 pip-settings-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-ref-list-item pointer divider-bottom pip-selectable\" ng-repeat=\"tab in vm.tabs track by tab.state\" pip-id=\"{{:: tab.state }}\" md-ink-ripple=\"\"><div ng-click=\"vm.onNavigationSelect(tab.state)\" class=\"layout-row layout-align-start-center flex\"><div class=\"pip-settings-icon layout-row layout-align-start-center {{ tab.iconClass ? tab.iconClass : \\'pip-settings-icon-color\\'}}\" ng-if=\"tab.icon\"><md-icon class=\"\" md-svg-icon=\"{{ tab.icon }}\"></md-icon></div><div class=\"pip-content {{ tab.icon ? \\'\\' : \\'pip-settings-without-icon\\' }}\"><p class=\"pip-title text-overflow flex\">{{ ::tab.title | translate }}</p></div><div class=\"pip-ref-list-item-end-icon\"><md-icon class=\"\" md-svg-icon=\"icons:chevron-right\"></md-icon></div></div></md-list-item></md-list></div></div><div class=\"pip-content-container\"><pip-document><div class=\"pip-body tp24-flex layout-column flex\" ui-view=\"\"></div></pip-document></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","import { IHelpService } from '../service/IHelpService';\r\nimport { HelpTab } from '../service/HelpTab';\r\nimport { HelpPageSelectedTab } from '../service/HelpPageSelectedTab';\r\n\r\ninterface IHelpPage {\r\n    tabs: HelpTab[];\r\n    selected: HelpPageSelectedTab;\r\n    onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass HelpPageController implements IHelpPage, ng.IController {\r\n    public tabs: HelpTab[];\r\n    public selected: HelpPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        private $log: ng.ILogService,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService,\r\n        pipNavService: pip.nav.INavService,\r\n        pipHelp: IHelpService\r\n    ) {\r\n\r\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: HelpTab) =>{\r\n            if (tab.visible === true) {\r\n                    return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new HelpPageSelectedTab();\r\n        if (this.$state.current.name !== 'help') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'help' && pipHelp.getDefaultTab()) {\r\n            this.initSelect(pipHelp.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipHelp.getDefaultTab()) {\r\n                    this.initSelect(pipHelp.getDefaultTab().state);\r\n                }\r\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Help\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        \r\n        this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this.$state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipHelp.Page')\r\n    .controller('pipHelpPageController', HelpPageController);\r\n","{\r\n    function configureHelpPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('help', {\r\n                url: '/help?party_id',\r\n                auth: true,\r\n                controllerAs: '$ctrl',\r\n                controller: 'pipHelpPageController',\r\n                templateUrl: 'page/HelpPage.html'\r\n            });      \r\n    }\r\n\r\n    angular.module('pipHelp.Page')\r\n        .config(configureHelpPageRoutes);\r\n}","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpConfig {\r\n    public defaultTab: string;\r\n    public tabs: HelpTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: string = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpPageSelectedTab {\r\n    public tab: HelpTab;\r\n    public tabIndex: number;\r\n    public tabId: string;\r\n}","import { HelpConfig } from \"./HelpConfig\";\r\nimport { HelpTab } from './HelpTab';\r\nimport { IHelpService } from \"./IHelpService\";\r\nimport { IHelpProvider } from \"./IHelpService\";\r\n\r\nclass HelpService implements IHelpService {\r\n\r\n    public constructor(private _config: HelpConfig) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): HelpTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass HelpProvider implements IHelpProvider, ng.IServiceProvider {\r\n    private _service: HelpService;\r\n    private _config: HelpConfig = new HelpConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) { }\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: HelpTab): void {\r\n        let existingTab: HelpTab;\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === 'help.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n        //pipAuthStateProvider.redirect('help', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: HelpTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (!_.isNull(value) && !_.isUndefined(value)) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): IHelpService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new HelpService(this._config);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipHelp.Service')\r\n    .provider('pipHelp', HelpProvider);\r\n","export class HelpStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}\r\n","import { HelpStateConfig } from './HelpStateConfig';\r\n\r\nexport class HelpTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: HelpStateConfig;\r\n}\r\n\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-help\"><div class=\"pip-menu-container\" ng-hide=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"$ctrl.selected.tabIndex\" pip-selected-watch=\"$ctrl.selected.navId\" pip-select=\"$ctrl.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in $ctrl.tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"$ctrl.tabs\" pip-dropdown-select=\"$ctrl.onDropdownSelect\" pip-active-index=\"$ctrl.selected.tabIndex\"></pip-dropdown><div class=\"pip-body p0 layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}