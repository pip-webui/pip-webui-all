{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/dependencies/TranslateFilter.ts","src/fabs/FabTooltipVisibility.ts","src/refresh_button/RefreshButton.ts","src/toggle_buttons/ToggleButtons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/split.ts","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/focused.ts","src/infinite_scroll/infiniteScroll.ts","src/selected/selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/unsavedChanges.ts","src/color_picker/ColorPicker.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","src/toast/index.ts","temp/pip-webui-controls-html.min.js","src/dependencies/translate.ts","src/lists.ts","src/tag_list/tag_list.ts","temp/pip-webui-lists-html.min.js","src/date/Date.ts","src/date_format/DateConvertService.ts","src/date_format/DateFormatFilter.ts","src/date_format/DateFormatService.ts","src/date_format/IDateConvertService.ts","src/date_format/index.ts","src/date_range/DateRange.ts","src/time_range/TimeRange.ts","src/time_range_edit/TimeRangeEdit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationDialogController.ts","src/confirmation/ConfirmationDialogParams.ts","src/confirmation/ConfirmationDialogService.ts","src/confirmation/index.ts","src/error_details/ErrorDetailsDialogController.ts","src/error_details/ErrorDetailsDialogParams.ts","src/error_details/ErrorDetailsDialogService.ts","src/error_details/index.ts","src/information/InformationDialogController.ts","src/information/InformationDialogParams.ts","src/information/InformationDialogService.ts","src/information/index.ts","src/options/OptionsDialogController.ts","src/options/OptionsDialogData.ts","src/options/OptionsDialogParams.ts","src/options/OptionsDialogResult.ts","src/options/OptionsDialogService.ts","src/options/index.ts","src/options_big/OptionsBigDialogController.ts","src/options_big/OptionsBigDialogData.ts","src/options_big/OptionsBigDialogParams.ts","src/options_big/OptionsBigDialogResult.ts","src/options_big/OptionsBigDialogService.ts","src/options_big/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/IActionsService.ts","src/actions/PrimaryActions.ts","src/actions/SecondaryActions.ts","src/actions/index.ts","src/appbar/AppBar.ts","src/appbar/AppBarConfig.ts","src/appbar/AppBarPart.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/Breadcrumb.ts","src/breadcrumb/BreadcrumbConfig.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dropdown/Dropdown.ts","src/header/NavHeader.ts","src/header/NavHeaderConfig.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIcon.ts","src/icon/NavIconConfig.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenu.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBar.ts","src/search/SearchConfig.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNav.ts","src/sidenav/SideNavPart.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/Tabs.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/common/errors_strings.ts","src/errors.ts","src/errors_pages/errors_module.ts","src/errors_pages/errors_pages.ts","src/errors_pages/errors_service.ts","src/forms/clear_errors.ts","src/forms/form_errors.ts","src/maintenance/maintenance.ts","src/missing_route/missing_route.ts","src/no_connection/no_connection.ts","src/no_connection_panel/no_connection_panel.ts","src/unknown/unknown.ts","src/unsupported/unsupported.ts","temp/pip-webui-errors-html.min.js","src/bar_chart/BarChart.ts","src/chart_colors/ChartColorsService.ts","src/chart_legend/ChartInteractiveLegend.ts","src/line_chart/LineChart.ts","src/pie_chart/PieChart.ts","temp/pip-webui-charts-html.min.js","src/location/Location.ts","src/location_dialog/LocationDialog.ts","src/location_dialog/LocationDialogParams.ts","src/location_dialog/index.ts","src/location_edit/LocationEdit.ts","src/location_ip/LocationIp.ts","src/location_map/locationMap.ts","temp/pip-webui-locations-html.min.js","src/add_tile_dialog/AddTileDialogController.ts","src/add_tile_dialog/AddTileProvider.ts","src/add_tile_dialog/index.ts","src/calendar_tile/CalendarTile.ts","src/common_tile/Tile.ts","src/config_tile_dialog/ConfigDialogController.ts","src/config_tile_dialog/ConfigDialogExtendComponent.ts","src/config_tile_dialog/ConfigDialogService.ts","src/config_tile_dialog/index.ts","src/dashboard/Dashboard.ts","src/draggable/Draggable.ts","src/draggable/DraggableTileService.ts","src/event_tile/EventTile.ts","src/menu_tile/MenuTileDirective.ts","src/menu_tile/MenuTileService.ts","src/menu_tile/index.ts","src/note_tile/NoteTile.ts","src/picture_slider_tile/PictureSliderTile.ts","src/position_tile/PositionTile.ts","src/statistics_tile/StatisticsTile.ts","src/tile_group/TileGroupDirective.ts","src/tile_group/TileGroupService.ts","src/tile_group/index.ts","src/utility/TileTemplateUtility.ts","temp/pip-webui-dashboard-html.min.js","src/SettingsModule.ts","src/settings.ts","src/settings_page/SettingsPageController.ts","src/settings_page/SettingsPageRoutes.ts","src/settings_page/index.ts","src/settings_service/SettingsService.ts","src/settings_service/index.ts","src/user_settings/user_settings.ts","src/user_settings/user_settings_basic_info.ts","src/user_settings/user_settings_change_password.ts","src/user_settings/user_settings_sessions.ts","src/user_settings/user_settings_strings.ts","src/user_settings/user_settings_verify_email.ts","temp/pip-webui-settings-html.min.js","src/help_page/HelpPageController.ts","src/help_page/HelpPageRoutes.ts","src/help_service/HelpService.ts","src/pipHelp.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","config","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","decorateRedirectStateService","4","hookRoutingEvents","$log","$state","RoutingVar","error","unfoundState","to","5","m","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","value","$emit","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","get","set","$get","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","defineProperty","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","provider","8","p","hasOwnProperty","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","id","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","end","decode","10","TransactionError","details","cause","stack_trace","data","statusText","status","TransactionService","_transactions","create","transaction","Transaction_1","12","configureTransactionStrings","$injector","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","pipTranslate","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","html","directive","translateDirective","translateHtmlDirective","translateFilter","filter","language","__extends","d","b","__","constructor","Object","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","save","changeLocale","locale","localeDate","moment","localeData","months","isArray","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","_this","TranslateProvider","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","18","./TranslateFilter","./TranslateService","19","Codes","hash","result","charCodeAt","verification","random","substr","service","20","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","args","_i","arguments","parseFormat","21","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","modDiff","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","firefox","opera","chrome","browserVersion","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","searchFields","field","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","2","pipFabTooltipVisibility","$parse","controller","FabTooltipVisibilityController_1","$element","$attrs","$scope","showGetter","showSetter","assign","$watch","trigGetter","isOpen","isFunction","./refresh_button/RefreshButton","./toggle_buttons/ToggleButtons","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","$onChanges","changes","currentValue","hide","onClick","$event","width","css","RefreshButtonComponent","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","index","currentButtonIndex","disabled","on","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","bindings","component","$templateCache","put","layouts","MediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","isGtxs","Number","MainBreakpoints","xs","isGtlg","lg","AuxPanel","transclude","template","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","apply","AuxPanelPartController_1","partName","pipAuxPanelPart","pos","partValue","onAuxPanelChanged","currentPartValue","parts","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelService","$mdSidenav","_config","_sidenav","_state","toggle","classes","c","sendConfigEvent","reject","cc","part","AuxPanelChangedEvent","AuxPanelProvider","type","./IAuxPanelService","AuxPanelStateChangedEvent","AuxPanelConfig","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","7","IMediaService_1","CardDirectiveLink","listener","resize","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","cardDirective","../media/MediaService","dialogDirective","documentDirective","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","../media/ResizeFunctions","11","simpleDirective","tilesDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesOptions","TilesDirectiveLink","_columnWidth","columnWidth","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","columns","layout","LayoutResizedEvent","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","15","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","resizeListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","detachEvent","16","thisModule","pipSplit","splitElements","forwardTransition","addTransitionSequence","sequence","transitionSequences","toIndex","fromIndex","behaviors","CancelDragLink_1","attr","CancelDrag","DragLink_1","$document","pipDraggable","LONG_PRESS","_centerAnchor","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","_data","_dragOffset","_dragEnabled","_pressTimer","_elementStyle","scrollParent","scrollContainer","_deregisterRootMoveListener","noop","ngDrag","_myid","$id","onDragStartCallback","pipDragStart","onDragStopCallback","pipDragStop","onDragSuccessCallback","pipDragSuccess","allowTransform","isDefined","$eval","getDragData","pipDragData","verticalScroll","pipVerticalScroll","horizontalScroll","pipHorizontalScroll","activationDistance","pipActivationDistance","scrollDistance","scrollContainerGetter","pipScrollContainer","initialize","dragHandles","querySelectorAll","_dragHandle","toggleListeners","enable","onDestroy","pipDrag","newVal","oldVal","onEnableChange","pipCenterAnchor","onCenterAnchor","onpress","nodeName","isClickableElement","evt","button","saveElementStyles","cancelPress","onlongpress","off","offset","getBoundingClientRect","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","inputEvent","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","origEvent","$broadcast","x","y","tx","ty","$data","dragToScroll","moveElement","uid","dragOffset","onDragComplete","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","Drag","DraggableService","touches","originalEvent","DropLink_1","pipDrop","isTouching","onDropCallback","pipDropSuccess","onDragMoveCallback","pipDragMove","onDragStart","onDragMove","onDragEnd","_dropEnabled","updateDragStyles","$target","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","Drop","PreventDragLink_1","absorbEvent_","stopPropagation","cancelBubble","returnValue","./Drag","./DraggableService","./Drop","./PreventDrag","FocusedLink_1","$mdConstant","opacityDelta","opacityLimit","keydownListener","init","ngModel","pipFocusedData","selector","pipWithHidden","onFocusClass","pipFocusedClass","controls","controlsLength","checkTabindex","currentTarget","pipRebind","pipFocusedOpacity","color","oldBackgroundColor","rgba","pipFocusedColor","arr","red","blue","green","opacity","setTabindex","findIndex","pipFocusedTabindex","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipFocusedRebind","./focused/focused","./infinite_scroll/infiniteScroll","./selected/selected","./shortcuts/index","./unsaved_changes/unsavedChanges","InfiniteScrollLink_1","THROTTLE_MILLISECONDS","checkWhenEnabled","immediateCheck","scrollEnabled","unregisterEventListener","useDocumentBottom","windowElement","onContainerScrollThrottle","throttle","onContainerScroll","unbind","v","handleScrollDistance","pipScrollDistance","handleScrollDisabled","pipScrollDisabled","handleScrollUseDocumentBottom","pipScrollUseDocumentBottom","pipScrollListenForEvent","newContainer","handleScrollContainer","pipScrollParent","changeContainer","pipScrolImmediateCheck","isNaN","clientHeight","offsetTop","ownerDocument","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","pipInfiniteScroll","bind","HTMLElement","append","parents","Array","InfiniteScroll","SelectedLink_1","touchBoundary","tapdelay","tapTimeout","indexGetter","pipSelected","indexSetter","idGetter","pipSelectedId","idSetter","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","noScroll","pipNoScroll","modifier","pipSkipHidden","className","pipTreeList","selectedIndex","currentElementTabinex","pipSelectedWatch","isScrolled","onClickEvent","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onKeyDown","onFocusIn","onFocusOut","newSelectedId","selectItem","itemId","raiseEvent","newSelectedIndex","itemIndex","itemParams","itemsLength","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedId","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","getTargetElementFromEventTarget","eventTarget","nodeType","Node","TEXT_NODE","parentNode","touchHasMoved","touch","changedTouches","boundary","touchStartX","touchStartY","ev","targetElement","trackingClick","trackingClickStart","timeStamp","lastClickTime","cancelNextClick","ENTER","SPACE","inc","Selected","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","KeyboardEvent","Keydown","Keyup","Keypress","ShortcutOptions","Shortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","pause","break","insert","home","delete","pageup","page_up","pu","pagedown","page_down","pd","up","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","shift","wanted","pressed","ctrl","alt","meta","shorcut","Type","DisableInInput","element_1","tagName","character","kp","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","ShortcutBindingService_1","_shortcuts","_defaultOption","defaults","getDefaultOption","Shortcut_1","Target","add","shortcut","remove","shortcutOption","shortcutCombination","getElementById","newKeyboardShortcut","eventCallback","binding","removeEventListener","ShortcutBindingProvider","_option","ShortcutController","pipShortcutBinding","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","options","pipShorcutOptions","keypressShortcut","action","shortcutsDirective","ShortcutsChangedEvent","ShortcutsService","$location","_oldConfig","addShortcuts","sendChangeEvent","removeShortcuts","collection","access","keypress","href","stateParams","generalOptions","defaultOptions","targetId","ShortcutsProvider","IShortcutsService_1","./IShortcutsService","./ShortcutBindingService","./ShortcutDirective","./ShortcutsService","onbeforeunload","unsavedChangesAvailable","unsavedChangesMessage","unbindFunc","confirm","cancelLeave","afterLeave","ColorPickerBindings","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","currentColorIndex","selectColor","pipColorPicker","templateUrl","pipImageSliderController_1","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","_type","slideTo","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","direction","blockIndex","vm","SliderButtonController_1","SliderIndicatorController_1","SliderIndicator","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","MarkdownBindings","isList","clamp","rebind","MarkdownController","MarkdownChanges","bindText","_text","_$scope","newText","describeAttachments","array","attachTypes","attach","attachString","_pipTranslate","textString","isClamped","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","ConfigTranslations","MarkdownComponent","PopoverController","$compile","$templateRequest","backdropElement","backdropClick","responsive","locals","content","then","calcHeight","onResize","cancelCallback","closePopover","onPopoverClick","docWidth","docHeight","popover","title","footer","contentHeight","PopoverBindings","Popover","PopoverService","popoverTemplate","$new","isObject","./PopoverService","RoutingBindings","showProgress","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","actions","actionLenght","onDetails","ok","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","hideDelay","duration","currentToast","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","./Toast","./ToastService","lists","pipTags","pipType","pipTypeLocal","toBoolean","tagsGetter","dates","DateBindings","timeMode","model","ngChange","DateController","DateChanges","momentMonths","momentDays","momentShortDays","momentFirstDayOfWeek","isDate","day","getDate","month","getMonth","year","getFullYear","dayList","monthList","years","yearList","disableControls","getValue","count","currentYear","startYear","endYear","adjustDay","setValue","onMonthChanged","onYearChanged","DateComponent","IDateConvertService_1","DateConvert","_momentRanged","DateRangeType","All","_defaultFormat","_defaultTimeZoneOffset","isUndefinedOrNull","date","getRange","Day","getOperationRange","range","WeekFromSunday","Week","toStartRange","localDate","utcOffset","isValid","startOf","toDate","toEndRange","mssOffset","toJson","toNextRange","toPrevRange","toCurrentRange","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","Month","toEndMonth","toStartYear","Year","toEndYear","DateConvertService","convert","_convert","defaultTimeZoneOffset","toJSON","DateConvertProvider","formatTimeFilter","pipDateFormat","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","pipDateConvert","setPrototypeOf","__proto__","DateFormat","formatDateTime","basicFormat","formatTpl","formatDateTimeY","nowDate","formatMoment","longDateFormat","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","toDateWithTime","formatDate","toTodayDate","fromNow","getDateJSON","DateFormatService","_format","DateFormatProvider","./DateFormatFilter","./DateFormatService","./IDateConvertService","./IDateFormatService","DateRangeBindings","DateRangeChanges","DateRangeController","$mdMedia","prevState","currentState","standalone","currentDate","getUTCFullYear","currentMonth","getUTCMonth","currentDay","getUTCDate","newValue","oldValue","dayOfWeek","UTC","getUTCDay","week","getWeekByDate","correctWeek","adjustWeek","onWeekChange","isDay","isWeek","isMonth","onChange","pipChanged","setCurrent","dateRangeType","fillLists","weeks","weekList","onYearClick","onMonthClick","onDayClick","getCountDay","nameDays","weekday","startWeek","getWeek","countDay","countPrevMonthDay","startDay","endDay","getTimezoneOffset","daterange","TimeRangeData","TimeRangeController","TimeRangeChanges","defineStartDate","defineEndDate","TimeRangeComponent","TimeRangeBindings","IntervalTimeRange","MinutesInHour","TimeRangeEditData_1","pipStartDate","startLabel","endLabel","intervalTimeCollection","getTimeInterval","initDate","defineDate","pipEndDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","pipStartLabel","pipEndLabel","setDuration","startDate","endDate","startTime","MillisecondsInSecond","endTime","validateStartDate","HoursInDay","round","TimeRangeEditController","validateEndDate","setDate","minutes","j","showTime","pipHideTime","onChangeStartDate","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","TimeRangeEditComponent","TimeRangeEditBindings","dialogs","ConfirmationDialogParams_1","ConfirmationDialogController","$mdDialog","_injector","initTranslate","CONFIRM_TITLE","onOk","onCancel","ConfirmationDialogParams","ConfirmationDialogService","_mdDialog","targetEvent","./ConfirmationDialogParams","./ConfirmationDialogService","./IConfirmationDialogService","ErrorDialogStrings","errorDetails","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorDetailsDialogController","strings","theme","$theme","OK","CANCEL","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","dismissButton","getErrorText","ErrorDetailsDialogParams","ErrorDetailsDialogService","clickOutsideToClose","InformationDialogController","INFORMATION_TITLE","pipFormat","InformationDialogParams","InformationDialogService","extendStatics","OptionsDialogController","selectedOption","active","opt","optionIndex","selectedOptionName","focusInput","OPTIONS_TITLE","onOptionSelect","onKeyPress","isCheckboxOption","list","OptionsDialogParams_1","OptionsDialogParams","OptionsDialogData","OptionsDialogResult","OptionsDialogService","OptionsBigDialogController","OptionsBigDialogData_1","OptionsBigDialogData","noActions","onSelected","onKeyUp","OptionsBigDialogParams","OptionsBigDialogResult","OptionsBigDialogService","27","./OptionsBigDialogController","./OptionsBigDialogData","./OptionsBigDialogParams","./OptionsBigDialogResult","./OptionsBigDialogService","28","nav","IActionsService_1","IActionsService_2","IActionsService_3","ActionsService","primaryGlobalActions","secondaryGlobalActions","primaryLocalActions","secondaryLocalActions","primaryActions","secondaryActions","updateCount","clearCounts","ActionsChangedEvent","openMenuEvent","SecondaryActionsOpenEvent","ActionsProvider","ActionsConfig","SimpleActionItem","ActionItem","PrimaryActionsController","pipActions","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","onActionsChanged","$onInit","localActions","globalActions","isHidden","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","click","PrimaryActionsBindings","PrimaryActionsChanges","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","calcActions","secondaryActionsVisible","secondaryDividerVisible","SecondaryActionsBindings","SecondaryActionsChanges","AppBarController","pipAppBar","onAppBarChanged","appbar","AppBarConfig","AppBarPartController","_partName","_partValue","appbarPart","AppBarChangedEvent","AppBarService","shadowBreakpoints","setShadow","hideShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","AppBarConfig_1","./AppBar","./AppBarConfig","./AppBarPart","./AppBarService","BreadcrumbController","pipBreadcrumb","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","_media","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","onOpenMenu","onSubActionClick","breadcrumb","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","criteria","showText","showItems","BreadcrumbProvider","BreadcrumbConfig_1","./BreadcrumbConfig","NavService","icon","sidenav","header","menu","showMenu","DropdownController","_pipTheme","_pipMedia","currentTheme","themeClass","media","activeIndex","select","pipChange","showDropdown","DropdownBindings","DropdownChanges","dropdown","NavHeaderController","pipNavHeader","navConstant","imageUrl","initImage","cleanupNavHeaderChanged","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","$onDestroy","imageBlock","image","onImageLoad","onerror","onImageError","initHeader","subtitle","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","imageWidth","imageHeight","margin","loadError","defaultImageUrl","onUserClick","navHeader","NavHeaderConfig","NavHeaderService","callbackOrEvent","NavHeaderChangedEvent","NavHeaderProvider","NavHeaderConfig_1","clear","./NavHeaderService","22","23","SideNavService_1","NavIconService_1","NavIconBindings","NavIconChanges","NavIconController","pipNavIcon","clearFn","onNavIconChanged","onNavIconClick","OpenSideNavEvent","NavIconClickedEvent","NavIcon","NavIconConfig","25","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconChangedEvent","NavIconConfig_1","NavIconProvider","setMenu","setIcon","setBack","./NavIconConfig","26","./INavIconService","./NavIcon","./NavIconService","constant","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_SMALL_WIDTH","SIDENAV_ANIMATION_DURATION","./appbar","./breadcrumb","./common/NavService","./dropdown/Dropdown","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/Tabs","LanguagePickerDirectiveController","_translate","setLanguages","languages","onLanguageClick","LanguagePickerBindings","languagePickerDirective","navMenuDirective","NavMenuController","pipSideNav","pipNavMenu","_animationDuration","_pipSideNavElement","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","expanded","isSectionEmpty","linkCollection","expand","isExpanded","expandedButton","sideNavState","isActive","parentState","includes","clickLink","current","NavMenuBindings","NavMenuChangedEvent","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","./NavMenuService","32","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchActivatedEvent","SearchBar","./SearchService","34","SearchConfig","CloseSearchEvent","SearchService","SearchProvider","36","./SearchBar","./SearchConfig","37","SideNavController","_bigWidth","SIDENAV_LARGE_WIDTH","_middleWidth","SIDENAV_MIDDLE_WIDTH","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","setSideNaveState","windowResize","debounce","cleanupSideNavState","onSideNavState","sidenavState","backdrop","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","cleanupMainResized","stateName","mainWidth","_mainContainer","sideNavWidth","currentWidth","Small","Large","XLarge","sideNav","SideNavBindings","38","sidenavPartDirective","SideNavPartBindings_1","SideNavPartController_1","hookSideNavEvents","CloseSideNavEvent","SideNavService","SideNavStateChangedEvent","SideNavChangedEvent","SideNavConfig","SideNavProvider","./SideNavState","40","SideNavState","isLockedOpen","showIconTooltype","small","large","xlarge","41","./SideNavPart","./SideNavService","42","PipTab","TabsChanges","TabsDirectiveController","setTheme","setTranslate","tabs","tabDisabled","selectedTabId","showShadow","showTabsShadow","showTabs","previousValue","Tabs","TabsBindings","43","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeRootVar","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","_theming","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ERROR_ROUTE_TITLE","ERROR_ROUTE_SUBTITLE","ERROR_ROUTE_CONTINUE","ERROR_ROUTE_TRY_AGAIN","ERROR_ROUTE_GO_BACK","ERROR_ROUTE_PAGE_TITLE","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","ERROR_AVAILABLE_TITLE","ERROR_AVAILABLE_SUBTITLE","ERROR_AVAILABLE_CLOSE","ERROR_AVAILABLE_TRY_AGAIN","ERROR_RESPONDING_TITLE","ERROR_RESPONDING_SUBTITLE","ERROR_RESPONDING_RETRY","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","$stateProvider","$httpProvider","interceptors","pipErrorsService","goToErrors","maintenanceError","noConnectionError","unknownError","checkSupported","pipSystemInfo","ie","errorConfig","Unsupported","Active","MissingRoute","$routing","NoConnection","Unknown","Maintenance","factory","$q","responseError","rejection","console","ErrorStateItem","pipErrorsConfig","Name","Event","Title","SubTitle","Breadcrumb","Image","Params","getErrorItemByKey","errorName","pipErrorsProvider","configureErrorByKey","errorParams","defaultsDeep","configureErrors","$ctrls","clearFieldErrors","fieldController","$error","prop","$setValidity","clearFormErrors","formController","$serverError","errorsWithHint","isEmpty","hint","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","goToUnhandledErrorPage","appHeader","pipNavService","onClose","errorKey","timeoutInterval","onContinue","absolute","urlBack","onRetry","retry","parseError","error_details","server_stacktrace","client_stacktrace","charts","BarChartBindings","series","xTickFormat","yTickFormat","interactiveLegend","BarChartController","BarChartBindingsChanges","pipChartColors","chart","generateMaterialColors","updatedLegend","prepareData","legend","updateChart","clone","generateParameterColor","paletteColors","d3","scale","ordinal","materialColorToRgba","instantiateChart","chartElem","datum","configBarWidthAndLabel","drawEmptyState","nv","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","seria","classed","labels","chartBars","getBBox","barHeight","barWidth","transition","getMaterialColor","BarChart","ChartColorsService","$mdColorPalette","palette","ChartLegendBindings","interactive","ChartLegendBindingsChanges","ChartLegendController","updateLegends","colorCheckboxes","prepareSeries","checkboxContainers","legendTitles","materialColor","ChartLegend","LineChartBindings","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","LineChartBindingsChanges","LineChartController","HEIGHT","setZoom","updateZoomOptions","selectAll","updateXTickValues","updateSeries","getHeight","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","tickValues","tooltipW","bodyWidth","removeTooltip","addZoom","updateScroll","domains","bDiff","domDiff","isEqual","svg","xDomain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","d3zoom","behavior","zoom","prevXDomain","prevScale","prevTranslate","newChart","domain","nice","zoomed","unzoomed","fixDomain","translate0","coordinates0","coordinates","center0","center1","point","step","scaleExtent","LineChart","PieChartBindings","donut","total","centered","PieChartBindingsChanges","PieChartController","resizeTitleLabelUnwrap","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","centerChart","renderTotalLabel","svgElem","pie","sort","arc","innerRadius","outerRadius","leftMargin","totalVal","reduce","sum","curr","titleElem","boxSize","PieChart","locations","LocationBindings","pipLocationName","pipLocationPos","pipShowLocationIcon","pipCollapse","pipDisabled","pipLocationResize","LocationController","LocationBindingsChanges","showMap","mapContainer","generateMap","redrawMap","clearMap","mapControl","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Map","Marker","LocationComponent","LocationEditDialogController_1","locationPos","locationName","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","setMap","animation","Animation","DROP","thisMarker_1","addListener","getPosition","tid","lat","lng","geocoder","Geocoder","geocode","latLng","results","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogService","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","LocationDialogParams","LocationEditBindings","pipLocationHolder","LocationEditBindingsChanges","LocationEditController","pipLocationEditDialog","defineCoordinatesDebounced","defineCoordinates","GeocoderStatus","geometry","location_1","longtitude","onMapClick","onMapKeyPress","LocationEdit","LocationIpBindings","pipIpaddress","pipExtraInfo","LocationIpBindingsChanges","LocationIpController","$http","ipAddress","response","extraInfo","city","regionCode","region","regionName","zipCode","countryCode","country","countryName","LocationIp","LocationMapBindings","pipIconPath","pipInteractive","pipStretch","LocationMapBindingsChanges","LocationMapController","checkLocation","loc","determineCoordinates","fill","stroke","points","LatLngBounds","path","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","LocationMap","dashboard","AddTileDialog","AddTileDialogController","groups","activeGroupIndex","widgetList","totalTiles","defaultTiles","group","groupIndex","widgets","encrease","widgetIndex","widget","amount","decrease","AddTileDialogController_1","DASHBOARD_ADD_TILE_DIALOG_TITLE","DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS","DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP","AddTileDialogService_1","AddTileDialogProvider","_widgetList","configWidgetList","MenuTileService_1","CalendarTileController","pipTileConfigDialogService","union","onConfigClick","dialogClass","extensionUrl","changeSize","MenuTileService","CalendarTile","DashboardTile","TileColors","all","TileSizes","TileConfigDialogController","sizes","sizeId","colSpan","rowSpan","updatedData","sizeX","sizeY","TileConfigExtendComponentBindings","pipExtensionUrl","pipDialogScope","pipApply","TileConfigExtendComponentChanges","TileConfigExtendComponentController","replaceWith","pipTileConfigComponent","ConfigDialogController_1","DASHBOARD_TILE_CONFIG_DIALOG_TITLE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE","TileConfigDialogService","./ConfigDialogExtendComponent","./ConfigDialogService","DROP_TO_CREATE_NEW_GROUP","pipAddTileDialogProvider","configureAvailableWidgets","DEFAULT_GRID_OPTIONS_1","draggableOptions","tileWidth","DashboardController","$interpolate","pipAddTileDialog","pipTileTemplate","defaultGroupMenuActions","addComponent","removeGroup","log","_includeTpl","groupMenuActions","groupedWidgets","draggableGridOptions","gridOptions","inline","groupAdditionalActions","widgetsContext","compileWidgets","removedWidgets","source","object","removeWidget","opts","getTemplate","activeGroup","addWidgets","widgetGroup","Dashboard","DraggableTileService_1","TileGroupService_1","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","SIMPLE_LAYOUT_COLUMNS_COUNT","DEFAULT_OPTIONS","tileHeight","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","merge","tilesTemplates","tile","tileScope","createTileScope","IDragTileConstructor","DragTileService","tpl","watch","getContainerWidth","getAvailableColumns","availableWidth","tileGroups","setAvailableColumns","availableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","$container","prevVal","changedGroupIndex","addGroup","removeGroups","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","_a","from","elem","attributes","tileOptions","fromTileIndex","reIndexTiles","tilesContext","indexes","container","tiles","gIndex","child","newGroups","removeIndexes","remain","containers","reverse","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","newTile","addTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","mobileBreakpoint","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","belowElement","getTileByCoordinates","getTileIndex","draggedTileIndex","belowElemIndex","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","speed","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragComponent","../tile_group/TileGroupService","./DraggableTileService","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","after","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","EventTileController","is","drawImage","onOpacitytest","_oldOpacity","naturalWidth","naturalHeight","EventTile","../menu_tile/MenuTileService","./calendar_tile/CalendarTile","./common_tile/Tile","./config_tile_dialog","./dashboard/Dashboard","./draggable","./event_tile/EventTile","./menu_tile","./note_tile/NoteTile","./picture_slider_tile/PictureSliderTile","./position_tile/PositionTile","./statistics_tile/StatisticsTile","./tile_group/index","./utility/TileTemplateUtility","TileMenu","callAction","actionName","MenuTileProvider","../common_tile/Tile","NoteTileController","NoteTile","PictureSliderController","animationInterval","animationType","PictureSliderTile","PositionTileController","showPosition","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","PositionTile","StatisticsTileController","chartSize","SMALL_CHART_1","_$timeout","setChartSize","BIG_CHART_1","StatisticsTile","DraggableTileLink","$elem","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTiles","24","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","basicCol","basicRow","getBasicRow","gridCopy","getCell","rowShift","prevTileSize","rightCornerCell","isCellFree","src","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","tileSize","generateCells","currIndex","startCell","cells","maxHeightSize","maxWidthSize","maxBy","node","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","./TileGroupService","tileTemplateService","_$interpolate","_$compile","_$templateRequest","strictCompile","interpolated","pipImageLoad","ImageLoad","settings","SettingsPageController","pipSettings","_q","getTabs","$user","sortBy","selected","initSelect","getDefaultTab","onDropdownSelect","onNavigationSelect","tabIndex","tabId","configureSettingsPageRoutes","auth","SettingsTab","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","_stateProvider","addTab","tabObj","existingTab","validateTab","stateConfig","pipSettingsProvider","pipTransaction","pipToasts","pipDataUser","pipDataParty","pipFormErrors","onPictureChanged","picture","onPictureCreated","sender","saveChanges","$party","$invalid","loc_pos","party","originalParty","updateParty","nameCopy","status_code","fromJson","updateUser","setCurrentTheme","onChangePassword","email","answer","onVerifyEmail","user","email_ver","genders","omit","onExit","onChangeBasicInfo","repeat","changePasData","new_password","showRepeatHint","onCheckRepeatPassword","changePassword","1107","1105","errorsRepeatWithHint","formPart","pipDataSessionProvider","resolve","sessions","readSessionsResolver","sessionId","readSessionIdResolver","pipDataSession","eachSeries","removeSession","without","onRemove","onRemoveAll","pipTranslateProvider","SETTINGS_TITLE","SETTINGS_BASIC_INFO_TITLE","SETTINGS_ACTIVE_SESSIONS_TITLE","SETTINGS_BASIC_INFO_FULL_NAME","SETTINGS_BASIC_INFO_VERIFY_HINT","SETTINGS_BASIC_INFO_VERIFY_CODE","SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_NAME_HINT","SETTINGS_BASIC_INFO_WORDS_ABOUT_ME","SETTINGS_BASIC_INFO_GENDER","SETTINGS_BASIC_INFO_BIRTHDAY","SETTINGS_BASIC_INFO_LOCATION","SETTINGS_BASIC_INFO_PRIMARY_EMAIL","SETTINGS_BASIC_INFO_FROM","SETTINGS_BASIC_INFO_USER_ID","SETTINGS_CHANGE_PASSWORD_TITLE","SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD","SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD","SETTINGS_ACTIVE_SESSIONS_SUBTITLE","SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION","SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS","SETTINGS_ACTIVE_SESSION_OS","SETTINGS_ACTIVE_SESSION_ACTIVE","SETTINGS_BLACKLIST_TITLE","SETTINGS_BLACKLIST_SUBTITLE","SETTINGS_BLACKLIST_UNBLOCK","SETTINGS_BLACKLIST_EMPTY","SETTINGS_CONTACT_INFO_TITLE","SETTINGS_CONTACT_INFO_EMAIL","SETTINGS_CONTACT_INFO_ADD_EMAIL","SETTINGS_CONTACT_INFO_ADD_PHONE","SETTINGS_CONTACT_INFO_ADD_ADDRESS","SETTINGS_CONTACT_INFO_ADD_ACCOUNT","SETTINGS_CONTACT_INFO_ADD_URL","SETTINGS_CONTACT_INFO_ADDRESS","SETTINGS_CONTACT_INFO_PHONE","SETTINGS_CONTACT_INFO_ACCOUNT_NAME","SETTINGS_CONTACT_INFO_URL","THEME","HINT_PASSWORD","HINT_REPEAT_PASSWORD","ERROR_WRONG_PASSWORD","ERROR_IDENTICAL_PASSWORDS","REPEAT_PASSWORD_INVALID","ERROR_EMAIL_INVALID","onAbort","requestEmailVerification","onVerify","verifyEmail","verifyData","1106","1103","emailVerified","onRequestVerificationClick","help","HelpPageController","pipHelp","./HelpPageRoutes","configureHelpPageRoutes","HelpTab","HelpConfig","HelpService","HelpProvider","./help_page/HelpPageController","./help_service/HelpService"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Import services\nimport './tile_group/index';\nimport './draggable';\n\n// Import tile services\nimport './menu_tile';\n\n// Import dialogs\nimport './add_tile_dialog';\nimport './config_tile_dialog';\n\nangular.module('pipDashboard', [\n  // Services\n  'pipDraggableTiles',\n  'pipDraggableTilesGroup',\n  // Tile services\n  'pipMenuTile',\n  // Dialogs\n  'pipConfigDashboardTileDialog',\n  'pipAddDashboardTileDialog',\n  //Templates\n  'pipDashboard.Templates',\n  // External pip modules\n  'pipLayout',\n  'pipLocations',\n  'pipDateTime',\n  'pipCharts',\n  'pipTranslate',\n  'pipControls',\n  'pipButtons'\n]);\n\n// Import utility \nimport './utility/TileTemplateUtility';\n// Import tiles\nimport './common_tile/Tile';\nimport './calendar_tile/CalendarTile';\nimport './event_tile/EventTile';\nimport './note_tile/NoteTile';\nimport './picture_slider_tile/PictureSliderTile';\nimport './position_tile/PositionTile';\nimport './statistics_tile/StatisticsTile';\n// Import common component\nimport './dashboard/Dashboard';\n","'use strict';\r\n\r\nexport let CurrentState: any;\r\nexport let PreviousState: any;\r\n\r\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        }\r\n    );\r\n\r\n}\r\n\r\nfunction decorateBackStateService($delegate, $window: ng.IWindowService) {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        if (PreviousState != null \r\n            && PreviousState.name != null) {\r\n\r\n            let state = _.cloneDeep(PreviousState);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n    ","'use strict';\r\n\r\nlet RedirectedStates: any = {};\r\n\r\nfunction decorateRedirectStateProvider($delegate) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n\r\n    return $delegate;\r\n    /////////////////////////////////////////////\r\n\r\n    // Specify automatic redirect from one state to another\r\n    function redirect(fromState, toState) {\r\n        RedirectedStates[fromState] = toState;  \r\n        return this;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateProviderDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateProvider);\r\n}\r\n\r\nfunction decorateRedirectStateService($delegate, $timeout) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n    \r\n    return $delegate;\r\n    ////////////////////////////////\r\n    \r\n    // Todo: Move this code directly to event handler?\r\n    // Todo: Nothing calls this code!!\r\n    function redirect(event, state, params) {\r\n        let toState = RedirectedStates[state.name];\r\n        if (_.isFunction(toState)) {\r\n            toState = toState(state.name, params);\r\n\r\n            if (_.isNull(toState))\r\n                throw new Error('Redirected toState cannot be null');\r\n        }\r\n\r\n        if (!!toState) {\r\n            $timeout(() => {\r\n                event.preventDefault();\r\n                $delegate.transitionTo(toState, params, {location: 'replace'});\r\n            });\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addRedirectStateProviderDecorator)\r\n    .config(addRedirectStateDecorator);\r\n    ","'use strict';\r\n\r\nexport let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents(\r\n    $rootScope: ng.IRootScopeService,\r\n    $log: ng.ILogService,\r\n    $state: ng.ui.IStateService\r\n) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateNotFound',\r\n        function(event, unfoundState, fromState, fromParams) {\r\n            event.preventDefault();\r\n\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            // Todo: Move to errors\r\n            $state.go('errors_missing_route',  {\r\n                    unfoundState: unfoundState,\r\n                    fromState : {\r\n                        to: fromState ? fromState.name : '',\r\n                        fromParams: fromParams\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .run(hookRoutingEvents);\r\n    ","'use strict';\r\n\r\nangular.module('pipRouting', ['ui.router']);\r\n\r\nimport './BackDecorator';\r\nimport './RedirectDecorator';\r\nimport './RoutingEvents';\r\n\r\nexport * from './BackDecorator';\r\nexport * from './RoutingEvents';\r\n","'use strict';\r\n\r\nexport let IdentityRootVar = \"$identity\";\r\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nexport interface IIdentity {\r\n    id: string;\r\n    full_name: string;\r\n    details: string;\r\n    email: string;\r\n    photo_url: string;\r\n    groups: string[];\r\n}\r\n\r\nexport interface IIdentityService {\r\n    identity: any;\r\n}\r\n\r\nexport interface IIdentityProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    identity: any;\r\n}\r\n\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: any;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\r\n\r\n        let identity: any = value || {};\r\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: any = null;\r\n    private _service: IdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipIdentity', IdentityProvider);\r\n","'use strict';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nexport interface ISessionService {\r\n    session: any;\r\n    isOpened(): boolean;\r\n\r\n    open(session: any): void;\r\n    close(): void;\r\n}\r\n\r\nexport interface ISessionProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    session: any;\r\n}\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean, \r\n        session: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n    \r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionOpenedEvent, session);\r\n\r\n        this._log.debug(\"Opened session \" + session);\r\n    }\r\n\r\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\r\n\r\n        this._log.debug(\"Closed session \" + oldSession);\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: SessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;  \r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipSession', SessionProvider); \r\n","'use strict';\r\n\r\nangular.module('pipSession', []);\r\n\r\nimport './IdentityService';\r\nimport './SessionService';\r\n\r\nexport * from './IdentityService';\r\nexport * from './SessionService';\r\n","'use strict';\r\n\r\nimport { TransactionError } from './TransactionError'\r\n\r\nexport class Transaction {\r\n    private _scope: string = null;\r\n    private _id: string = null;\r\n    private _operation: string = null;\r\n    private _error: TransactionError = new TransactionError();\r\n    private _progress: number = 0;\r\n\r\n    public constructor(scope: string) {\r\n        this._scope = scope;\r\n    }\r\n\r\n    public get scope(): string {\r\n        return this._scope;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get operation(): string {\r\n        return this._operation;\r\n    }\r\n\r\n    public get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    public get error(): TransactionError {\r\n        return this._error;\r\n    }\r\n\r\n    public get errorMessage(): string {\r\n        return this._error.message;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._id = null;\r\n        this._operation = null;\r\n        this._progress = 0;\r\n        this._error.reset();\r\n    }\r\n\r\n    public busy(): boolean {\r\n        return this._id != null;\r\n    }\r\n\r\n    public failed(): boolean {\r\n        return !this._error.empty();\r\n    }\r\n\r\n    public aborted(id: string): boolean {\r\n        return this._id != id;\r\n    }\r\n\r\n    public begin(operation: string): string {\r\n        // Transaction is already running\r\n        if (this._id != null) return null;\r\n\r\n        this._id = new Date().getTime().toString();\r\n        this._operation = operation || 'PROCESSING'\r\n        this._error.reset();\r\n\r\n        return this._id;\r\n    }\r\n\r\n    public update(progress: number): void {\r\n        this._progress = Math.max(progress, 100);\r\n    }\r\n\r\n    public abort(): void {\r\n        this._id = null;\r\n        this._error.reset();\r\n    }\r\n\r\n    public end(error?: any): void {\r\n        this._error.decode(error);\r\n        this._id = null;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nexport class TransactionError {\r\n    public code: string;\r\n    public message: string;\r\n    public details: any;\r\n    public cause: string;\r\n    public stack_trace: string;\r\n\r\n    public constructor(error?: any) {\r\n        if (error != null)\r\n            this.decode(error);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.code = null;\r\n        this.message = null;\r\n        this.details = null;\r\n        this.cause = null;\r\n        this.stack_trace = null;\r\n    }\r\n\r\n    public empty(): boolean {\r\n        return this.message = null && this.code == null;\r\n    }\r\n\r\n    public decode(error: any): void {\r\n        this.reset();\r\n\r\n        if (error == null) return;\r\n\r\n        // Process regular messages\r\n        if (error.message) \r\n            this.message = error.message;\r\n\r\n        // Process server application errors\r\n        if (error.data) {\r\n            if (error.data.code) { \r\n                // process server error codes here\r\n                this.message = this.message || 'ERROR_' + error.data.code;\r\n                this.code = this.code || error.data.code;\r\n            }\r\n\r\n            if (error.data.message)\r\n                this.message = this.message || error.data.message;\r\n\r\n            this.message = this.message || error.data;\r\n            this.details = this.details || error.data;\r\n\r\n            this.cause = error.data.cause;\r\n            this.stack_trace = error.data.stack_trace;\r\n            this.details = error.data.details;            \r\n        }\r\n\r\n        // Process standard HTTP errors\r\n        if (error.statusText)\r\n            this.message = this.message || error.statusText;\r\n\r\n        if (error.status) {\r\n            this.message = this.message || 'ERROR_' + error.status;\r\n            this.code = this.code || error.status;\r\n        }\r\n        \r\n        this.message = this.message || error;\r\n        this.details = this.details || error;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport { Transaction } from './Transaction';\r\n\r\nexport interface ITransactionService {\r\n    create(scope?: string): Transaction;\r\n    get(scope?: string): Transaction;\r\n}\r\n\r\nclass TransactionService implements ITransactionService {\r\n    private _transactions: any = {};\r\n\r\n    public constructor() {}\r\n\r\n    public create(scope?: string): Transaction {\r\n        let transaction = new Transaction(scope);\r\n        \r\n        if (scope != null)\r\n            this._transactions[scope] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    public get(scope?: string): Transaction {\r\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\r\n\r\n        if (transaction == null) {\r\n            transaction = new Transaction(scope);\r\n            if (scope != null)\r\n                this._transactions[scope] = transaction;\r\n        }\r\n\r\n        return transaction;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .service('pipTransaction', TransactionService);\r\n","'use strict';\r\n\r\nfunction configureTransactionStrings($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': '  ...',\r\n            'PROCESSING': '...',\r\n            'LOADING': '...',\r\n            'SAVING': '...'\r\n        });   \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .config(configureTransactionStrings);\r\n","'use strict';\r\n\r\nangular.module('pipTransaction', []);\r\n\r\nimport './TransactionStrings';\r\nimport './TransactionError';\r\nimport './Transaction';\r\nimport './TransactionService';\r\n\r\nexport * from './TransactionError';\r\nexport * from './Transaction';\r\nexport * from './TransactionService';\r\n","'use strict';\r\n\r\nfunction translateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction translateHtmlDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .directive('pipTranslate', translateDirective)\r\n    .directive('pipTranslateHtml', translateHtmlDirective);\r\n","'use strict';\r\n\r\nfunction translateFilter(pipTranslate) {\r\n    \"ngInject\";\r\n\r\n    return function (key) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslate') \r\n        ? $injector.get('pipTranslate') : null;\r\n\r\n    return function (key) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .filter('translate', translateFilter);\r\n","'use strict';\r\n\r\nimport { Translation } from './Translation';\r\nimport { ResetPageEvent } from '../utilities/PageResetService';\r\n\r\nexport let LanguageRootVar = \"$language\";\r\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nexport interface ITranslateService {\r\n    language: string;\r\n\r\n    use(language: string): string;\r\n    setTranslations(language: string, translations: any): void;\r\n    translations(language: string, translations: any): void;\r\n\r\n    translate(key: string): string;\r\n    translateArray(keys: string[]): string[];\r\n    translateSet(keys: string[], keyProp: string, valueProp: string): any[];\r\n    translateObjects(items: any[], keyProp: string, valueProp: string): any[];\r\n    translateWithPrefix(prefix: string, key: string);\r\n    translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n    translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n}\r\n\r\nexport interface ITranslateProvider extends ITranslateService, ng.IServiceProvider {\r\n}\r\n\r\nclass TranslateService implements ITranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _mdDateLocale;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider,\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._mdDateLocale = $mdDateLocale;\r\n\r\n        if (this._persist && this._window.localStorage)\r\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\r\n\r\n        this._log.debug(\"Set language to \" + this._translation.language);\r\n\r\n        this.save();\r\n    }\r\n\r\n    private changeLocale(locale: string) {\r\n        if (!locale) return;\r\n\r\n        // var localeDate: moment.MomentLanguageData;\r\n        var localeDate: any;\r\n\r\n        moment.locale(locale);\r\n        localeDate = moment.localeData();\r\n\r\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\r\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\r\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\r\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\r\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this._log.debug(\"Changing language to \" + value);\r\n\r\n            this.changeLocale(this._translation.language);\r\n            this.save();   \r\n\r\n            this._rootScope.$emit(LanguageChangedEvent, value);\r\n            this._rootScope.$emit(ResetPageEvent);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTranslate(pipTranslate: ITranslateService) {\r\n    pipTranslate.language;\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .provider('pipTranslate', TranslateProvider)\r\n    .run(initTranslate);\r\n","'use strict';\r\n\r\nexport class Translation {\r\n    protected _language = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': '',\r\n            'ru': '',\r\n            'es': '',\r\n            'pt': '',\r\n            'de': '',\r\n            'fr': ''\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Yet another method to set translation strings for specific language\r\n    public translations(language: string, translations: any): void {\r\n        this.setTranslations(language, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nangular.module('pipTranslate', []);\r\n\r\nimport './Translation';\r\nimport './TranslateService';\r\nimport './TranslateFilter';\r\nimport './TranslateDirective';\r\n\r\nexport * from './Translation';\r\nexport * from './TranslateService';\r\n","'use strict';\r\n\r\nexport interface ICodes {\r\n    // Simple version of string hashcode\r\n    hash(value: string): number;\r\n    // Generates random big number for verification codes\r\n    verification(): string;\r\n}\r\n\r\n\r\nclass Codes implements ICodes {\r\n    // Simple version of string hashcode\r\n    public hash(value: string): number {\r\n        if (value == null) return 0;\r\n        \r\n        let result = 0;\r\n        for (let i = 0; i < value.length; i++)\r\n            result += value.charCodeAt(i);\r\n\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    public verification(): string {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipCodes', [])\r\n    .service('pipCodes', Codes);\r\n","'use strict';\r\n\r\nexport interface IFormat {\r\n    // Creates a sample line from a text\r\n    sample(value: string, maxLength: number): string;\r\n\r\n    sprintf(message: string, ...args: any[]): string;\r\n}\r\n\r\n\r\nclass Format implements IFormat {\r\n    // Cached for parsed formats\r\n    private cache = {};\r\n\r\n    // Creates a sample line from a text\r\n    public sample(value: string, maxLength: number): string {\r\n        if (!value || value == '') return '';\r\n\r\n        var length = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    private strRepeat(str: string, qty: number): string {\r\n        if (qty < 1) return '';\r\n        var result = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getType(variable) {\r\n        return toString.call(variable).slice(8, -1).toLowerCase();\r\n    }\r\n\r\n    private parseFormat(fmt: string) {\r\n        let _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\r\n        while (_fmt) {\r\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                parse_tree.push(match[0]);\r\n            }\r\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                parse_tree.push('%');\r\n            }\r\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                if (match[2]) {\r\n                    arg_names |= 1;\r\n                    var field_list = [], replacement_field = match[2], field_match = [];\r\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                        field_list.push(field_match[1]);\r\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else {\r\n                                throw new Error('Unknown error');\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw new Error('Unknown error');\r\n                    }\r\n                    match[2] = field_list;\r\n                }\r\n                else {\r\n                    arg_names |= 2;\r\n                }\r\n                if (arg_names === 3) {\r\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\r\n                }\r\n                parse_tree.push(match);\r\n            }\r\n            else {\r\n                throw new Error('Unknown error');\r\n            }\r\n            _fmt = _fmt.substring(match[0].length);\r\n        }\r\n        return parse_tree;\r\n    }\r\n\r\n    private format(parse_tree, argv) {\r\n        let cursor = 0; \r\n        let tree_length = parse_tree.length; \r\n        let output = [];\r\n\r\n        for (let i = 0; i < tree_length; i++) {\r\n            let node_type = this.getType(parse_tree[i]);\r\n            if (node_type === 'string') {\r\n                output.push(parse_tree[i]);\r\n            }\r\n            else if (node_type === 'array') {\r\n                let match = parse_tree[i]; // convenience purposes only\r\n                let arg: any;\r\n                if (match[2]) { // keyword argument\r\n                    arg = argv[cursor];\r\n                    for (let k = 0; k < match[2].length; k++) {\r\n                        if (!arg.hasOwnProperty(match[2][k])) {\r\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\r\n                        }\r\n                        arg = arg[match[2][k]];\r\n                    }\r\n                } else if (match[1]) { // positional argument (explicit)\r\n                    arg = argv[match[1]];\r\n                }\r\n                else { // positional argument (implicit)\r\n                    arg = argv[cursor++];\r\n                }\r\n\r\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\r\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\r\n                }\r\n                switch (match[8]) {\r\n                    case 'b': arg = arg.toString(2); break;\r\n                    case 'c': arg = String.fromCharCode(arg); break;\r\n                    case 'd': arg = parseInt(arg, 10); break;\r\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                    case 'o': arg = arg.toString(8); break;\r\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                    case 'u': arg = Math.abs(arg); break;\r\n                    case 'x': arg = arg.toString(16); break;\r\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                }\r\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \r\n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                let pad_length = match[6] - String(arg).length;\r\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\r\n                output.push(match[5] ? arg + pad : pad + arg);\r\n            }\r\n        }\r\n        return output.join('');\r\n    }\r\n    \r\n    public sprintf(message: string, ...args: any[]): string {\r\n        if (!this.cache.hasOwnProperty(message))\r\n            this.cache[message] = this.parseFormat(message);\r\n\r\n        return this.format(this.cache[message], args);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFormat', [])\r\n    .service('pipFormat', Format);\r\n","'use strict';\r\n\r\nexport let ResetPageEvent: string = \"pipResetPage\";\r\nexport let ResetAreaEvent: string = \"pipResetArea\";\r\n\r\nexport let ResetRootVar: string = \"$reset\";\r\nexport let ResetAreaRootVar: string = \"$resetArea\";\r\n\r\nexport interface IPageResetService {\r\n    reset(): void;\r\n    resetArea(area: string): void;\r\n}\r\n\r\n\r\nclass PageResetService implements IPageResetService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._timeout = $timeout;\r\n\r\n        $rootScope[ResetRootVar] = false;\r\n        $rootScope[ResetAreaRootVar] = null;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._log.debug(\"Resetting the entire page\");\r\n        this.performReset(null);\r\n    }\r\n\r\n    public resetArea(area: string): void {\r\n        this._log.debug(\"Resetting the area \" + area);\r\n        this.performReset(area);\r\n    }\r\n\r\n    private performReset(area?: string): void {\r\n        this._rootScope[ResetRootVar] = area == null;\r\n        this._rootScope[ResetAreaRootVar] = area;\r\n\r\n        this._timeout(() => {\r\n            this._rootScope[ResetRootVar] = false;\r\n            this._rootScope[ResetAreaRootVar] = null;\r\n        }, 0);\r\n    }\r\n}\r\n\r\n\r\nfunction hookResetEvents(\r\n    $rootScope: ng.IRootScopeService, \r\n    pipPageReset: IPageResetService\r\n) {\r\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\r\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\r\n}\r\n\r\n\r\nangular.module('pipPageReset', [])\r\n    .service('pipPageReset', PageResetService)\r\n    .run(hookResetEvents);\r\n","'use strict';\r\n\r\nexport interface IScrollService {\r\n    scrollTo(parentElement, childElement, animationDuration): void;\r\n}\r\n\r\nclass ScrollService implements IScrollService {\r\n\r\n    public scrollTo(parentElement, childElement, animationDuration): void {\r\n        if (!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipScroll', [])\r\n    .service('pipScroll', ScrollService);\r\n","'use strict';\r\n\r\nexport interface ISystemInfo {\r\n    browserName: string;\r\n    browserVersion: string;\r\n    platform: string;\r\n    os: string;\r\n\r\n    isDesktop(): boolean;\r\n    isMobile(): boolean;\r\n    isCordova(): boolean;\r\n    isSupported(supported?: any): boolean;\r\n}\r\n\r\n\r\nclass SystemInfo implements ISystemInfo {\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor($window: ng.IWindowService) {\r\n        \"ngInject\";\r\n\r\n        this._window = $window;\r\n    }\r\n\r\n    // todo add support for iPhone\r\n    public get browserName(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    public get browserVersion(): string {\r\n        let version;\r\n        let ua = this._window.navigator.userAgent;\r\n        let browser = this.browserName;\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\r\n                break;\r\n            case \"ie\":\r\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = ua.split(\"Version/\")[1];\r\n                break;\r\n            case \"operaWebkit\":\r\n                version = ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    public get platform(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    public get os(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        try {\r\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\r\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    public isDesktop(): boolean {\r\n        return this.platform == 'desktop';\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        return this.platform == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    public isCordova(): boolean {\r\n        return false;\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    public isSupported(supported?: any): boolean {\r\n        if (!supported) \r\n            supported = {\r\n                edge: 11,\r\n                ie: 11,\r\n                firefox: 43, //4, for testing\r\n                opera: 35,\r\n                chrome: 47\r\n            };\r\n\r\n        let browser = this.browserName;\r\n        let version = this.browserVersion;\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipSystemInfo', [])\r\n    .service('pipSystemInfo', SystemInfo);\r\n","'use strict';\r\n\r\nexport interface ITags {\r\n    normalizeOne(tag: string): string;\r\n    compressOne(tag: string): string;\r\n    equal(tag1: string, tag2: string): boolean;\r\n    normalizeAll(tags: any): string[];\r\n    compressAll(tags: any): string[];\r\n    extract(entity: any, searchFields?: string[]): string[];\r\n}\r\n\r\n\r\nclass Tags implements ITags {\r\n\r\n    public normalizeOne(tag: string): string {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    public compressOne(tag: string): string {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    public equal(tag1: string, tag2: string): boolean {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return this.compressOne(tag1) == this.compressOne(tag2);\r\n    }\r\n\r\n    public normalizeAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public compressAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public extract(entity: any, searchFields?: string[]): string[] {\r\n        let tags = this.normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, (field) => {\r\n            let text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                let hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(this.normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTags', [])\r\n    .service('pipTags', Tags);\r\n","'use strict';\r\n\r\nexport interface ITimerService {\r\n    isStarted(): boolean;\r\n\r\n    addEvent(event: string, timeout: number): void;\r\n    removeEvent(event: string): void;\r\n    clearEvents(): void;\r\n\r\n    start(): void;\r\n    stop(): void;\r\n}\r\n\r\n\r\nclass TimerEvent {\r\n    public event: string;\r\n    public timeout: number;\r\n    public interval: any;\r\n\r\n    public constructor(event: string, timeout: number) {\r\n        this.event = event;\r\n        this.timeout = timeout;\r\n    }\r\n}\r\n\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\r\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\r\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\r\n];\r\n\r\n\r\nclass TimerService implements ITimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $interval: ng.IIntervalService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public isStarted(): boolean {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { \r\n                this._log.debug('Generated timer event ' + event.event); \r\n                this._rootScope.$emit(event.event)\r\n            },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","'use strict';\r\n\r\nimport './Format';\r\nimport './TimerService';\r\nimport './ScrollService';\r\nimport './Tags';\r\nimport './Codes';\r\nimport './SystemInfo';\r\nimport './PageResetService';\r\n\r\nexport * from './Format';\r\nexport * from './TimerService';\r\nexport * from './ScrollService';\r\nexport * from './Tags';\r\nexport * from './Codes';\r\nexport * from './SystemInfo';\r\nexport * from './PageResetService';","{\n    function translateFilter($injector) {\n        let pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular\n        .module('pipLocations.Translate', [])\n        .filter('translate', translateFilter);\n}","{\n\nclass FabTooltipVisibilityController {\n    private _element;\n    private _scope: angular.IScope;\n    private _timeout: ng.ITimeoutService;\n\n    constructor(\n        $element: any,\n        $attrs: angular.IAttributes,\n        $scope: angular.IScope,\n        $timeout: ng.ITimeoutService,\n        $parse\n    ) {\n        \"ngInject\";\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\n            showGetter = $parse($attrs['pipFabShowTooltip']),\n            showSetter = showGetter.assign;\n\n        $scope.$watch(trigGetter, (isOpen) => {\n            if (!_.isFunction(showSetter)) return;\n\n            if (isOpen) {\n                $timeout(() => {\n                    showSetter($scope, isOpen);\n                }, 600);\n            } else {\n                showSetter($scope, isOpen);\n            }\n        });\n    }\n}\n\n\nfunction pipFabTooltipVisibility($parse, $timeout): ng.IDirective {\n    return {\n        restrict: 'A',\n        scope: false,\n        controller: FabTooltipVisibilityController\n    };\n}\n\nangular\n    .module('pipFabTooltipVisibility', [])\n    .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\n\n}","{\n\ninterface IRefreshButtonBindings {\n    [key: string]: any;\n\n    text: any;\n    visible: any;\n    onRefresh: any\n}\n\nconst RefreshButtonBindings: IRefreshButtonBindings = {\n    text: '<pipText',\n    visible: '<pipVisible',\n    onRefresh: '&?pipRefresh'\n}\n\nclass RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\n    [key: string]: ng.IChangesObject < any > ;\n    // Not one way bindings\n    onRefresh: ng.IChangesObject < ({\n        $event: any\n    }) => ng.IPromise < any >> ;\n    // One way bindings\n    text: ng.IChangesObject < string > ;\n    visible: ng.IChangesObject < boolean > ;\n}\n\nclass RefreshButtonController implements IRefreshButtonBindings {\n\n    private _textElement: any;\n    private _buttonElement: any;\n    private _width: number;\n\n    public text: string;\n    public visible: boolean;\n    public onRefresh: (param: {\n        $event: ng.IAngularEvent\n    }) => ng.IPromise < any > ;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $element: any,\n        private $attrs: ng.IAttributes\n    ) {}\n\n    public $postLink() {\n        this._buttonElement = this.$element.children('.md-button');\n        this._textElement = this._buttonElement.children('.pip-refresh-text');\n\n        this.show();\n    }\n\n    public $onChanges(changes: RefreshButtonChanges) {\n        if (changes.visible.currentValue === true) {\n            this.text = changes.text.currentValue;\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    public onClick($event) {\n        if (this.onRefresh) {\n            this.onRefresh({\n                $event: $event\n            });\n        }\n    }\n\n    private show() {\n        if (this._textElement === undefined || this._buttonElement === undefined) {\n            return;\n        }\n        // Set new text\n        this._textElement.text(this.text);\n        // Show button\n        this._buttonElement.show();\n        // Adjust position\n        const width = this._buttonElement.width();\n        this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\n    }\n\n    private hide() {\n        this._buttonElement.hide();\n    }\n}\n\n\nconst RefreshButtonComponent: ng.IComponentOptions = {\n    bindings: RefreshButtonBindings,\n    controller: RefreshButtonController,\n    template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\n        '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\n        '<span class=\"pip-refresh-text\"></span>' +\n        '</md-button>'\n};\n\nangular\n    .module('pipRefreshButton', ['ngMaterial'])\n    .component('pipRefreshButton', RefreshButtonComponent);\n\n}","{\n\nclass ToggleButton {\n    id: any;\n    name: string;\n    disabled: boolean;\n    level: number;\n    diselectable: boolean;\n    filled: boolean;\n}\n\ninterface IToggleButtonsBindings {\n    [key: string]: any;\n\n    ngDisabled: any;\n    buttons: any;\n    currentButtonValue: any;\n    currentButton: any;\n    multiselect: any;\n    change: any;\n    onlyToggle: any\n}\n\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\n    ngDisabled: '<?',\n    buttons: '<pipButtons',\n    currentButtonValue: '=ngModel',\n    currentButton: '=?pipButtonObject',\n    multiselect: '<?pipMultiselect',\n    change: '&ngChange',\n    onlyToggle: '<?pipOnlyToggle'\n}\n\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\n    [key: string]: ng.IChangesObject < any > ;\n    // Not one way bindings\n    currentButtonValue: any;\n    currentButton: any;\n    change: ng.IChangesObject < () => ng.IPromise < void >> ;\n    // One way bindings\n    ngDisabled: ng.IChangesObject < boolean > ;\n    buttons: ng.IChangesObject < ToggleButton[] > ;\n    multiselect: ng.IChangesObject < boolean > ;\n    onlyToggle: ng.IChangesObject < boolean > ;\n}\n\nclass ToggleButtonsController implements IToggleButtonsBindings {\n    lenght: number;\n\n    public ngDisabled: boolean;\n    public class: string;\n    public multiselect: boolean;\n    public buttons: ToggleButton[];\n    public disabled: boolean;\n    public currentButtonValue: any;\n    public currentButtonIndex: number;\n    public currentButton: any;\n    public change: () => ng.IPromise < any > ;\n    public onlyToggle: boolean;\n    public pipMedia: any;\n\n    constructor(\n        private $element: any,\n        private $attrs: angular.IAttributes,\n        private $scope: angular.IScope,\n        private $timeout: ng.ITimeoutService,\n        $injector: ng.auto.IInjectorService\n    ) {\n        \"ngInject\";\n\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.class = $attrs['class'] || '';\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $onChanges(changes: ToggleButtonsChanges) {\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : false;\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false;\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : false;\n\n        this.buttons = !changes.buttons || _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? [] : changes.buttons.currentValue;\n\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $postLink() {\n        this.$element\n            .on('focusin', () => {\n                this.$element.addClass('focused-container');\n            })\n            .on('focusout', () => {\n                this.$element.removeClass('focused-container');\n            });\n    }\n\n    public buttonSelected(index) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.currentButtonIndex = index;\n        this.currentButton = this.buttons[this.currentButtonIndex];\n        this.currentButtonValue = this.currentButton.id || index;\n\n        this.$timeout(() => {\n            if (this.change) {\n                this.change();\n            }\n        });\n    }\n\n    public enterSpacePress(event) {\n        this.buttonSelected(event.index);\n    }\n\n    public highlightButton(index) {\n        if (this.multiselect &&\n            !_.isUndefined(this.currentButton.level) &&\n            !_.isUndefined(this.buttons[index].level)) {\n\n            return this.currentButton.level >= this.buttons[index].level;\n        }\n\n        return this.currentButtonIndex == index;\n    }\n}\n\nconst ToggleButtons: ng.IComponentOptions = {\n    bindings: ToggleButtonsBindings,\n    templateUrl: 'toggle_buttons/ToggleButtons.html',\n    controller: ToggleButtonsController\n}\n\nangular\n    .module('pipToggleButtons', ['pipButtons.Templates'])\n    .component('pipToggleButtons', ToggleButtons);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/ToggleButtons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","import { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './IAuxPanelService';\r\n\r\n{\r\n    class AuxPanelDirectiveController {\r\n        private normalSize: number = 320;\r\n        private largeSize: number = 480;\r\n\r\n        public constructor(private pipAuxPanel: IAuxPanelService) { }\r\n\r\n        public isGtxs(): boolean {\r\n            return Number($('body').width()) > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n        }\r\n\r\n        public isGtlg(): boolean {\r\n            return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\r\n        }\r\n    }\r\n\r\n    const AuxPanel: ng.IComponentOptions = {\r\n\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\r\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" pip-focused ng-transclude>' +\r\n        '</md-sidenav>'\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .component('pipAuxPanel', AuxPanel);\r\n\r\n}","{\r\n\r\n    class AuxPanelPartController {\r\n        private partName: string;\r\n        private partValue: string;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipAuxPanel) {\r\n            \"ngInject\";\r\n            this.partName = '' + $attrs.pipAuxPanelPart;\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\r\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\r\n                this.onAuxPanelChanged(event, config);\r\n            });\r\n\r\n        }\r\n\r\n        private onAuxPanelChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = config[this.partName];\r\n            // Set visible variable to switch ngIf\r\n\r\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\r\n        }\r\n    }\r\n\r\n\r\n    function AuxPanelPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function ($scope: ng.IScope, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: AuxPanelPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent } from './IAuxPanelService';\r\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n    }\r\n            \r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n  \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}","angular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPart';\r\nimport './AuxPanel';\r\n\r\nexport * from './IAuxPanelService';","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface ICardDirectiveAttributes extends ng.IAttributes {\r\n    minWidth: string | number;\r\n    minHeight: string | number;\r\n    width: string | number;\r\n    height: string | number;\r\n}\r\n\r\nclass CardDirectiveLink {\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService, \r\n        private $element: JQuery, \r\n        private $attrs: ICardDirectiveAttributes\r\n    ) {\r\n       \"ngInject\";\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        const\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width();\r\n        let\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\r\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\r\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\r\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this.$element.css('width', width ? width + 'px' : '');\r\n        this.$element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            const\r\n                $header = this.$element.find('.pip-header:visible'),\r\n                $footer = this.$element.find('.pip-footer:visible'),\r\n                $body = this.$element.find('.pip-body');\r\n            let maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this.$element.css('left', left);\r\n            this.$element.css('top', top);\r\n\r\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this.$rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent } from '../media/IMediaService'; \r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService'; \r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface IMainDirectiveAttributes extends ng.IAttributes {\r\n    pipContainer: string;\r\n}\r\n\r\nclass MainDirectiveController implements ng.IController {\r\n    private _container: any;\r\n\r\n    public constructor(\r\n        private $scope: ng.IScope, \r\n        private $element: angular.IRootElementService, \r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private $attrs: IMainDirectiveAttributes\r\n    ) {\r\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\r\n\r\n        // Add CSS class\r\n        $element.addClass('pip-main');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(); };\r\n        addResizeListener(this._container[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener(this._container[0], listener);\r\n        });\r\n\r\n        // Perform initial calculations\r\n        this.updateBreakpointStatuses();\r\n    }\r\n\r\n    private updateBreakpointStatuses() {\r\n        const width = this._container.innerWidth();\r\n        const body = $('body');\r\n\r\n        MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n            if (_.isBoolean(status)) {\r\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\r\n            }\r\n        });\r\n\r\n        this.$timeout(() => {\r\n            this.$rootScope.$apply();\r\n        });\r\n    }\r\n    \r\n    private resize() {\r\n        this.updateBreakpointStatuses();\r\n        this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n    }\r\n}\r\n\r\nclass MainBodyDirectiveLink {\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: angular.IRootElementService\r\n    ) {\r\n        // Add CSS class\r\n        $element.addClass('pip-main-body');\r\n    }\r\n}\r\n\r\nfunction mainDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        controller: MainDirectiveController,\r\n        controllerAs: 'vm' \r\n    }\r\n}\r\n\r\nfunction mainBodyDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: MainBodyDirectiveLink\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipMain', mainDirective)\r\n    .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","(() => {\r\n\r\nfunction simpleDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-simple');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipSimple', simpleDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\r\n    columnWidth: string | number;\r\n    pipInfinite: string | boolean | number;\r\n}\r\n\r\nclass TilesOptions {\r\n    gutter: number;\r\n    isFitWidth: boolean;\r\n    isResizeBound: boolean;\r\n    transitionDuration: number;\r\n}\r\n\r\ninterface ITilesControllerScope extends ng.IScope {\r\n    tilesOptions: TilesOptions;\r\n}\r\n\r\nclass TilesDirectiveLink {\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        private $element: JQuery, \r\n        private $attrs: ITilesDirectiveAttributes,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440,\r\n        this._container = $element.children('.pip-tiles-container'),\r\n        this._prevContainerWidth = null,\r\n        this._masonry = Masonry.data(this._container[0]);\r\n        \r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this.$element.parent().width(),\r\n            containerWidth;\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this.$rootScope.$emit(LayoutResizedEvent);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value): boolean {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: false,\r\n        transclude: true,\r\n        template:\r\n            ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n                if (convertToBoolean($attrs.pipInfinite)) {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                        + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                        + '</div>';\r\n                } else {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\">'\r\n                        + '</div>';\r\n                }\r\n            },\r\n        controller: ($scope: ITilesControllerScope) => {\r\n            $scope.tilesOptions = {\r\n                gutter: 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","export const MainResizedEvent = 'pipMainResized';\r\nexport const LayoutResizedEvent = 'pipLayoutResized';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null || width == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\r\nimport { IMediaProvider } from './IMediaService';\r\n\r\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\r\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nclass MediaProvider implements IMediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        const service = (size) => {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipMedia')\r\n    .provider('pipMedia', MediaProvider);\r\n","let attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n    let frame = window.requestAnimationFrame\r\n        || (<any>window).mozRequestAnimationFrame\r\n        || (<any>window).webkitRequestAnimationFrame\r\n        || function (callback) {\r\n            return window.setTimeout(callback, 20);\r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n    let cancel = window.cancelAnimationFrame\r\n        || (<any>window).mozCancelAnimationFrame\r\n        || (<any>window).webkitCancelAnimationFrame\r\n        || window.clearTimeout;\r\n\r\n    return function (id) {\r\n        return cancel(id);\r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    const win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function () {\r\n        const trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function (fn) {\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    if (this.contentDocument) {\r\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n    }\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            if (element.__resizeTrigger__.contentDocument) {\r\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n            }\r\n        }\r\n    }\r\n}\r\n","angular.module('pipMedia', []);\r\n\r\nimport './MediaService';\r\nimport './ResizeFunctions';\r\n\r\nexport * from './IMediaService';\r\nexport * from './MediaService';\r\nexport * from './ResizeFunctions';","/**\r\n * @file Split layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSplit', []);\r\n\r\n    thisModule.run( function($rootScope, pipSplit) {\r\n        // Intercept routes\r\n        $rootScope.$on('$stateChangeStart',\r\n            function(event, toState, toParams, fromState, fromParams) {\r\n                // Split animation\r\n                var splitElements = $('.pip-split');\r\n                \r\n                if (splitElements.length > 0) {\r\n                    splitElements.removeClass('pip-transition-forward');\r\n                    splitElements.removeClass('pip-transition-back');\r\n                    if (toState.name != fromState.name) {\r\n                        if (pipSplit.forwardTransition(toState, fromState)) {\r\n                            splitElements.addClass('pip-transition-forward');\r\n                        } else {\r\n                            splitElements.addClass('pip-transition-back');\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n    });\r\n\r\n    thisModule.provider('pipSplit', function(): any {\r\n        var transitionSequences = [];\r\n\r\n        this.addTransitionSequence = addTransitionSequence;\r\n\r\n        this.$get = function () {\r\n            return {\r\n                forwardTransition: forwardTransition\r\n            };\r\n        };\r\n\r\n        return;\r\n\r\n        //----------------------------\r\n\r\n        function addTransitionSequence(sequence) {\r\n            if (!_.isArray(sequence) || sequence.length == 0) {\r\n                throw new Error('Transition sequence must be an array of state names');\r\n            }\r\n\r\n            transitionSequences.push(sequence);\r\n        }\r\n\r\n        function forwardTransition(toState, fromState) {\r\n            var i, toIndex, fromIndex;\r\n\r\n            for (i = 0; i < transitionSequences.length; i++) {\r\n                toIndex = transitionSequences[i].indexOf(toState.name),\r\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\r\n\r\n                if (toIndex > -1) {\r\n                    return toIndex > fromIndex;\r\n                }\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","{\r\n    class CancelDragLink {\r\n        constructor(\r\n            $element: JQuery\r\n        ) {\r\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n        }\r\n    }\r\n\r\n    const CancelDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new CancelDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipCancelDrag', CancelDrag);\r\n}","import { IDraggableService } from './DraggableService';\r\n\r\n{\r\n    interface IDragLinkScope extends ng.IScope {\r\n        value: any;\r\n    }\r\n\r\n    interface IDragLinkAttributes extends ng.IAttributes {\r\n        ngDrag: any;\r\n        pipDragStart: any;\r\n        pipDragStop: any;\r\n        pipDragSuccess: any;\r\n        allowTransform: any;\r\n        pipDragData: any;\r\n        pipVerticalScroll: any;\r\n        pipHorizontalScroll: any;\r\n        pipActivationDistance: any;\r\n        pipScrollContainer: any;\r\n        pipDrag: any;\r\n        pipCenterAnchor: any;\r\n    }\r\n\r\n    class DragLink {\r\n        private LONG_PRESS: number = 50; // 50ms for longpress\r\n        private offset: any;\r\n        private _centerAnchor: boolean = false;\r\n        private _mx: number;\r\n        private _my: number;\r\n        private _tx: number;\r\n        private _ty: number;\r\n        private _mrx: number;\r\n        private _mry: number;\r\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n        private _pressEvents: string = 'touchstart mousedown';\r\n        private _moveEvents: string = 'touchmove mousemove';\r\n        private _releaseEvents: string = 'touchend mouseup';\r\n        private _dragHandle: any;\r\n\r\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n        private _myid: string | number;\r\n        private _data: any = null;\r\n\r\n        private _dragOffset: any = null;\r\n\r\n        private _dragEnabled: boolean = false;\r\n\r\n        private _pressTimer: any = null;\r\n\r\n        private _elementStyle: any = {};\r\n\r\n        private onDragStartCallback: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragSuccessCallback: Function;\r\n        private allowTransform: boolean;\r\n\r\n        private getDragData: any;\r\n        private verticalScroll: boolean;\r\n        private horizontalScroll: boolean;\r\n        private activationDistance: number;\r\n        private scrollDistance: number;\r\n        private scrollParent: boolean = false;\r\n\r\n        private scrollContainer: JQuery = angular.element(window);\r\n        private scrollContainerGetter: any;\r\n\r\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n        private _deregisterRootMoveListener: Function = angular.noop;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $window: ng.IWindowService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDragLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDragLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.ngDrag;\r\n            this._myid = $scope.$id;\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\r\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\r\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\r\n\r\n            this.getDragData = $parse($attrs.pipDragData);\r\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\r\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\r\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\r\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\r\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\r\n\r\n            this.$element.css('cursor', 'move');\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\r\n            // check to see if drag handle(s) was specified\r\n            // if querySelectorAll is available, we use this instead of find\r\n            // as JQLite find is limited to tagnames\r\n            let dragHandles: any;\r\n            if (this.$element[0].querySelectorAll) {\r\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\r\n            } else {\r\n                dragHandles = this.$element.find('[pip-drag-handle]');\r\n            }\r\n            if (dragHandles.length) {\r\n                this._dragHandle = dragHandles;\r\n            }\r\n            this.toggleListeners(true);\r\n\r\n            // Initialize scroll container\r\n            if (this.scrollParent) {\r\n                this.scrollContainer = angular.element(this.$element.parent());\r\n            } else if (this.$attrs.pipScrollContainer) {\r\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\r\n            } else {\r\n                this.scrollContainer = angular.element(window);\r\n            }\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            if (!enable) return;\r\n            // add listeners.\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                this.onDestroy(enable);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\r\n                this.onCenterAnchor(newVal, oldVal);\r\n            });\r\n            // wire up touch events\r\n            if (this._dragHandle) {\r\n                // handle(s) specified, use those to initiate drag\r\n                this._dragHandle.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            } else {\r\n                // no handle(s) specified, use the element as the handle\r\n                this.$element.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            }\r\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\r\n                this.$element.on('mousedown', () => {\r\n                    return false;\r\n                }); // prevent native drag for images\r\n            }\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dragEnabled = (newVal);\r\n        }\r\n\r\n        private onCenterAnchor(newVal, oldVal) {\r\n            if (angular.isDefined(newVal))\r\n                this._centerAnchor = (newVal || 'true');\r\n        }\r\n\r\n        private isClickableElement(evt) {\r\n            return (\r\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n            );\r\n        }\r\n\r\n        /*\r\n         * When the element is clicked start the drag behaviour\r\n         * On touch devices as a small delay so as not to prevent native window scrolling\r\n         */\r\n        private onpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n\r\n            if (this.isClickableElement(evt)) {\r\n                return;\r\n            }\r\n\r\n            if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                // Do not start dragging on right-click\r\n                return;\r\n            }\r\n\r\n            this.saveElementStyles();\r\n\r\n            if (this._hasTouch) {\r\n                this.cancelPress();\r\n                this._pressTimer = setTimeout(() => {\r\n                    this.cancelPress();\r\n                    this.onlongpress(evt);\r\n                }, this.LONG_PRESS);\r\n                this.$document.on(this._moveEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n                this.$document.on(this._releaseEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n            } else {\r\n                this.onlongpress(evt);\r\n            }\r\n        }\r\n\r\n        private saveElementStyles() {\r\n            this._elementStyle.left = this.$element.css('css') || 0;\r\n            this._elementStyle.top = this.$element.css('top') || 0;\r\n            this._elementStyle.position = this.$element.css('position');\r\n            this._elementStyle.width = this.$element.css('width');\r\n        }\r\n\r\n        private cancelPress() {\r\n            clearTimeout(this._pressTimer);\r\n            this.$document.off(this._moveEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n            this.$document.off(this._releaseEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n        }\r\n\r\n        private onlongpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n\r\n            this.offset = this.$element[0].getBoundingClientRect();\r\n            if (this.allowTransform)\r\n                this._dragOffset = this.offset;\r\n            else {\r\n                this._dragOffset = {\r\n                    left: document.body.scrollLeft,\r\n                    top: document.body.scrollTop\r\n                };\r\n            }\r\n\r\n\r\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\r\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n            this._mrx = this._mx - this.offset.left;\r\n            this._mry = this._my - this.offset.top;\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\r\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\r\n            }\r\n\r\n            this.$document.on(this._moveEvents, (event) => {\r\n                this.onmove(event);\r\n            });\r\n            this.$document.on(this._releaseEvents, (event) => {\r\n                this.onrelease(event);\r\n            });\r\n            // This event is used to receive manually triggered mouse move events\r\n            // jqLite unfortunately only supports triggerHandler(...)\r\n            // See http://api.jquery.com/triggerHandler/\r\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\r\n                this.onmove(origEvent);\r\n            });\r\n        }\r\n\r\n        private onmove(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n            if (!this.$element.hasClass('pip-dragging')) {\r\n                this._data = this.getDragData(this.$scope);\r\n                this.$element.addClass('pip-dragging');\r\n                this.$rootScope.$broadcast('draggable:start', {\r\n                    x: this._mx,\r\n                    y: this._my,\r\n                    tx: this._tx,\r\n                    ty: this._ty,\r\n                    event: evt,\r\n                    element: this.$element,\r\n                    data: this._data\r\n                });\r\n\r\n                if (this.onDragStartCallback) {\r\n                    this.$scope.$apply(() => {\r\n                        this.onDragStartCallback(this.$scope, {\r\n                            $data: this._data,\r\n                            $event: evt\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n\r\n            if (this.horizontalScroll || this.verticalScroll) {\r\n                this.dragToScroll();\r\n            }\r\n\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\r\n                this._ty = this._my - this._mry - this._dragOffset.top;\r\n            }\r\n\r\n            this.moveElement(this._tx, this._ty);\r\n\r\n            this.$rootScope.$broadcast('draggable:move', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                uid: this._myid,\r\n                dragOffset: this._dragOffset\r\n            });\r\n        }\r\n\r\n        private onrelease(evt) {\r\n            if (!this._dragEnabled)\r\n                return;\r\n            evt.preventDefault();\r\n            this.$rootScope.$broadcast('draggable:end', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                callback: this.onDragComplete,\r\n                uid: this._myid\r\n            });\r\n            this.$element.removeClass('pip-dragging');\r\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n            this.reset();\r\n            this.$document.off(this._moveEvents);\r\n            this.$document.off(this._releaseEvents);\r\n            if (this.onDragStopCallback) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: evt\r\n                    });\r\n                });\r\n            }\r\n\r\n            this._deregisterRootMoveListener();\r\n        }\r\n\r\n        private onDragComplete(evt) {\r\n            if (!this.onDragSuccessCallback) return;\r\n\r\n            this.$scope.$apply(() => {\r\n                this.onDragSuccessCallback(this.$scope, {\r\n                    $data: this._data,\r\n                    $event: evt\r\n                });\r\n            });\r\n        }\r\n\r\n        private reset() {\r\n            if (this.allowTransform)\r\n                this.$element.css({\r\n                    transform: '',\r\n                    'z-index': '',\r\n                    '-webkit-transform': '',\r\n                    '-ms-transform': ''\r\n                });\r\n            else {\r\n                this.$element.css({\r\n                    position: this._elementStyle.position,\r\n                    top: this._elementStyle.top,\r\n                    left: this._elementStyle.left,\r\n                    'z-index': '',\r\n                    width: this._elementStyle.width\r\n                });\r\n            }\r\n        }\r\n\r\n        private moveElement(x, y) {\r\n            const eWidth = this.$element.css('width');\r\n            if (this.allowTransform) {\r\n                this.$element.css({\r\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    'z-index': 99999,\r\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                });\r\n            } else {\r\n                this.$element.css({\r\n                    'left': x + 'px',\r\n                    'top': y + 'px',\r\n                    'position': 'fixed',\r\n                    'z-index': 100,\r\n                    width: eWidth\r\n                });\r\n            }\r\n        }\r\n\r\n        private dragToScroll() {\r\n            let scrollX = 0,\r\n                scrollY = 0,\r\n                offset = (element) => {\r\n                    return element.offset() || {\r\n                        left: 0,\r\n                        top: 0\r\n                    };\r\n                };\r\n\r\n            if (this.horizontalScroll) {\r\n                const\r\n                    containerLeft = offset(this.scrollContainer).left,\r\n                    containerWidth = this.scrollContainer.innerWidth(),\r\n                    containerRight = containerLeft + containerWidth;\r\n\r\n                if ((this._mx - containerLeft) < this.activationDistance) {\r\n                    scrollX = -this.scrollDistance;\r\n                } else if ((containerRight - this._mx) < this.activationDistance) {\r\n                    scrollX = this.scrollDistance;\r\n                }\r\n            }\r\n\r\n            if (this.verticalScroll) {\r\n                const\r\n                    containerTop = offset(this.scrollContainer).top,\r\n                    containerHeight = this.scrollContainer.innerHeight(),\r\n                    containerBottom = containerTop + containerHeight;\r\n\r\n                if ((this._my - containerTop) < this.activationDistance) {\r\n                    scrollY = -this.scrollDistance + 30;\r\n                } else if ((containerBottom - this._my) < this.activationDistance) {\r\n                    scrollY = this.scrollDistance - 30;\r\n                }\r\n            }\r\n            if (scrollX !== 0 || scrollY !== 0) {\r\n                const\r\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\r\n                    containerScrollTop = this.scrollContainer.scrollTop();\r\n\r\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const Drag = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $window: ng.IWindowService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDragLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDragLinkAttributes\r\n            ) {\r\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrag', Drag);\r\n}","export interface IDraggableService {\r\n    inputEvent(event: any);\r\n}\r\n\r\nclass DraggableService implements IDraggableService {\r\n    public inputEvent(event) {\r\n        if (angular.isDefined(event.touches)) {\r\n            return event.touches[0];\r\n        }\r\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n            return event.originalEvent.touches[0];\r\n        }\r\n        return event;\r\n    };\r\n}\r\n\r\nangular\r\n    .module(\"pipDraggable\")\r\n    .service('pipDraggable', DraggableService);\r\n    ","import { IDraggableService } from './DraggableService';\r\n\r\n{\r\n    interface IDropLinkScope extends ng.IScope {\r\n        value: any;\r\n        isTouching: any;\r\n    }\r\n\r\n    interface IDropLinkAttributes extends ng.IAttributes {\r\n        pipDrop: any;\r\n        pipDropSuccess: any;\r\n        pipDragStart: any;\r\n        pipDragStop: any;\r\n        pipDragMove: any;\r\n    }\r\n\r\n    class DropLink {\r\n\r\n        private _lastDropTouch: any;\r\n        private _myid: number | string;\r\n        private _dropEnabled: boolean;\r\n\r\n        private onDropCallback: Function; // || function(){};\r\n        private onDragStartCallback: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragMoveCallback: Function;\r\n\r\n        constructor(\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDropLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDropLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.pipDrop;\r\n            $scope.isTouching = false;\r\n\r\n            this._myid = $scope.$id;\r\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\r\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\r\n\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$on('$destroy', (event) => {\r\n                this.onDestroy(event);\r\n            });\r\n            this.$scope.$on('draggable:start', (evt, obj) => {\r\n                this.onDragStart(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:move', (evt, obj) => {\r\n                this.onDragMove(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:end', (evt, obj) => {\r\n                this.onDragEnd(evt, obj);\r\n            });\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dropEnabled = newVal;\r\n        }\r\n\r\n        private onDragStart(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element);\r\n\r\n            if (this.$attrs.pipDragStart) {\r\n                this.$timeout(() => {\r\n                    this.onDragStartCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragMove(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element);\r\n\r\n            if (this.$attrs.pipDragMove) {\r\n                this.$timeout(() => {\r\n                    this.onDragMoveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragEnd(evt, obj) {\r\n            // don't listen to drop events if this is the element being dragged\r\n            // only update the styles and return\r\n            if (!this._dropEnabled || this._myid === obj.uid) {\r\n                this.updateDragStyles(false, obj.element);\r\n                return;\r\n            }\r\n\r\n            if (this.isTouching(obj.x, obj.y, obj.element)) {\r\n                // call the pipDraggable pipDragSuccess element callback\r\n                if (obj.callback) {\r\n                    obj.callback(obj);\r\n                }\r\n\r\n                if (this.$attrs.pipDropSuccess) {\r\n                    this.$timeout(() => {\r\n                        this.onDropCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (this.$attrs.pipDragStop) {\r\n                this.$timeout(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.updateDragStyles(false, obj.element);\r\n        }\r\n\r\n        private isTouching(mouseX, mouseY, dragElement) {\r\n            const touching = this.hitTest(mouseX, mouseY);\r\n            this.$scope.isTouching = touching;\r\n            if (touching) {\r\n                this._lastDropTouch = this.$element;\r\n            }\r\n            this.updateDragStyles(touching, dragElement);\r\n            return touching;\r\n        }\r\n\r\n        private updateDragStyles(touching, dragElement) {\r\n            if (touching) {\r\n                this.$element.addClass('pip-drag-enter');\r\n                dragElement.addClass('pip-drag-over');\r\n            } else if (this._lastDropTouch == this.$element) {\r\n                this._lastDropTouch = null;\r\n                this.$element.removeClass('pip-drag-enter');\r\n                dragElement.removeClass('pip-drag-over');\r\n            }\r\n        };\r\n\r\n        private hitTest(x, y) {\r\n            const bounds = this.$element[0].getBoundingClientRect();\r\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\r\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\r\n            return x >= bounds.left &&\r\n                x <= bounds.right &&\r\n                y <= bounds.bottom &&\r\n                y >= bounds.top;\r\n        }\r\n    }\r\n\r\n    const Drop = function (\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $timeout: ng.ITimeoutService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDropLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDropLinkAttributes\r\n            ) {\r\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrop', Drop);\r\n}","{\r\n\r\n    class PreventDragLink {\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false');\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\r\n        }\r\n\r\n        private absorbEvent_(event) {\r\n            const e = event.originalEvent;\r\n            e.preventDefault && e.preventDefault();\r\n            e.stopPropagation && e.stopPropagation();\r\n            e.cancelBubble = true;\r\n            e.returnValue = false;\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    const PreventDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new PreventDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipPreventDrag', PreventDrag);\r\n}","angular.module(\"pipDraggable\", []);\r\n\r\nimport './DraggableService';\r\nimport './Drag';\r\nimport './Drop';\r\nimport './PreventDrag';\r\nimport './CancelDrag';\r\n","{\r\n    interface FocusedScope extends ng.IScope {\r\n        pipFocusedColor: Function;\r\n        pipFocusedClass: Function;\r\n        pipFocusedRebind: Function;\r\n        pipFocusedTabindex: Function;\r\n        pipFocusedOpacity: Function;\r\n        pipFocusedData: Function;\r\n        pipWithHidden: Function;\r\n        pipRebind: Function;\r\n    }\r\n\r\n    interface FocusedAttributes extends ng.IAttributes {\r\n        ngModel: any;\r\n        pipFocusedData: any;\r\n    }\r\n\r\n    class FocusedLink implements ng.IDirective {\r\n        private controls: JQuery;\r\n        private controlsLength: number;\r\n        private color: string;\r\n        private opacityDelta: number = 0.4;\r\n        private opacityLimit: number = 0.5;\r\n        private oldBackgroundColor: string;\r\n        private onFocusClass: string;\r\n\r\n        constructor(\r\n            private $scope: FocusedScope,\r\n            private $element: JQuery,\r\n            $attrs: FocusedAttributes,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $mdConstant: any,\r\n            private $window: ng.IWindowService\r\n        ) {\r\n\r\n            $element.on('keydown', (e) => {\r\n                this.keydownListener(e);\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.init();\r\n            });\r\n\r\n            if ($attrs.ngModel) {\r\n                $scope.$watch('ngModel', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n\r\n            if ($attrs.pipFocusedData) {\r\n                $scope.$watch('pipFocusedData', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\r\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\r\n            this.controls = this.$element.find(selector);\r\n            this.controlsLength = this.controls.length;\r\n            this.checkTabindex(this.controls);\r\n            // Add event listeners\r\n            this.controls.on('focus', (event) => {\r\n                const target = event.currentTarget;\r\n                if ($(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\r\n                    this.init();\r\n                }\r\n                this.$element.addClass('pip-focused-container');\r\n                $(target).addClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n\r\n                    this.color = $(target).css('backgroundColor');\r\n                    this.oldBackgroundColor = this.color;\r\n                    $(target).css('backgroundColor', this.rgba(this.color));\r\n                    $(target).addClass('md-focused');\r\n                } else {\r\n                    $(target).addClass('md-focused md-focused-opacity');\r\n                }\r\n\r\n            }).on('focusout', (event) => {\r\n                const target = event.currentTarget;\r\n                if (!$(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                this.$element.removeClass('pip-focused-container');\r\n                $(target).removeClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\r\n                    $(target).removeClass('md-focused md-focused-opacity');\r\n                } else {\r\n                    $(target).removeClass('md-focused');\r\n                }\r\n            });\r\n        }\r\n\r\n        private rgba(color) {\r\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\r\n                return this.$scope.pipFocusedColor();\r\n            }\r\n\r\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\r\n\r\n            if (!arr || arr.length < 3) {\r\n                return ''\r\n            }\r\n\r\n            let red, blue, green, opacity;\r\n\r\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\r\n            red = arr[0];\r\n            blue = arr[1];\r\n            green = arr[2];\r\n\r\n            if (opacity < this.opacityLimit) {\r\n                opacity += this.opacityDelta;\r\n            } else {\r\n                opacity -= this.opacityDelta;\r\n            }\r\n\r\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\r\n        }\r\n\r\n        private setTabindex(element, value) {\r\n            element.attr('tabindex', value);\r\n        }\r\n\r\n        private checkTabindex(controls) {\r\n            const index = _.findIndex(controls, (c) => {\r\n                return c['tabindex'] > -1;\r\n            });\r\n\r\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\r\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\r\n            }\r\n        }\r\n\r\n        private keydownListener(e) {\r\n            const keyCode = e.which || e.keyCode;\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                e.preventDefault();\r\n\r\n                const\r\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\r\n                // Move focus to next control\r\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\r\n                    this.controls[moveToControl].focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const Focused = function ($timeout: ng.ITimeoutService, \r\n        $mdConstant: any, \r\n        $window: ng.IWindowService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipFocusedColor: '&?',\r\n                pipFocusedClass: '&?',\r\n                pipFocusedRebind: '&?',\r\n                pipFocusedTabindex: '&?',\r\n                pipFocusedOpacity: '&?',\r\n                pipFocusedData: '&?',\r\n                pipWithHidden: '&?',\r\n                pipRebind: '&?'\r\n            },\r\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\r\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipFocused\", [])\r\n        .directive('pipFocused', Focused);\r\n}","{\r\n    interface InfiniteScrollScope extends ng.IScope {\r\n        pipInfiniteScroll: Function;\r\n        pipScrollContainer: JQuery;\r\n        pipScrollDistance: number | string;\r\n        pipScrollDisabled: boolean;\r\n        pipScrollUseDocumentBottom: boolean;\r\n        pipScrollListenForEvent: string;\r\n    }\r\n\r\n    interface InfiniteScrollAttributes extends ng.IAttributes {\r\n        pipScrollParent: any;\r\n        pipScrolImmediateCheck: any;\r\n    }\r\n\r\n    class InfiniteScrollLink {\r\n        private THROTTLE_MILLISECONDS: number = 500;\r\n        private checkWhenEnabled = null;\r\n        private scrollContainer = null;\r\n        private immediateCheck = true;\r\n        private scrollDistance = null;\r\n        private scrollEnabled = null;\r\n        private unregisterEventListener = null;\r\n        private useDocumentBottom = false;\r\n        private windowElement = null;\r\n        private onContainerScrollThrottle: Function;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $window: ng.IWindowService,\r\n            private $interval: ng.IIntervalService,\r\n            private $scope: InfiniteScrollScope,\r\n            private $element: JQuery,\r\n            private $attrs: InfiniteScrollAttributes\r\n        ) {\r\n            this.windowElement = angular.element($window);\r\n\r\n            this.onContainerScrollThrottle = _.throttle(() => {\r\n                this.onContainerScroll();\r\n            }, this.THROTTLE_MILLISECONDS);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n                if (this.unregisterEventListener !== null) {\r\n                    this.unregisterEventListener();\r\n                    return this.unregisterEventListener = null;\r\n                }\r\n            });\r\n\r\n            $scope.$watch('pipScrollDistance', (v) => {\r\n                this.handleScrollDistance(v);\r\n            });\r\n            this.handleScrollDistance($scope.pipScrollDistance);\r\n\r\n            $scope.$watch('pipScrollDisabled', (v) => {\r\n                this.handleScrollDisabled(v);\r\n            });\r\n            this.handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\r\n                this.handleScrollUseDocumentBottom(v);\r\n            });\r\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n            this.changeContainer(this.windowElement);\r\n            if ($scope.pipScrollListenForEvent) {\r\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            $scope.$watch('pipScrollContainer', (newContainer) => {\r\n                if (newContainer != this.scrollContainer)\r\n                    this.handleScrollContainer(newContainer);\r\n            });\r\n            this.handleScrollContainer($scope.pipScrollContainer || []);\r\n\r\n            if ($attrs.pipScrollParent !== null) {\r\n                this.changeContainer(angular.element($element.parent()));\r\n            }\r\n            if ($attrs.pipScrolImmediateCheck !== null) {\r\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n            }\r\n\r\n            $interval((function () {\r\n                if (this.immediateCheck) {\r\n                    return this.onContainerScrollThrottle();\r\n                }\r\n            }), 0, 1);\r\n        }\r\n\r\n        private height(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(element.offsetHeight)) {\r\n                return element.document.documentElement.clientHeight;\r\n            } else {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        private offsetTop(element) {\r\n            if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                return;\r\n            }\r\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\r\n        }\r\n\r\n        private pageYOffset(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(window.pageYOffset)) {\r\n                return element.document.documentElement.scrollTop;\r\n            } else {\r\n                return element.ownerDocument.defaultView.pageYOffset;\r\n            }\r\n        }\r\n\r\n        private onContainerScroll() {\r\n            let containerBottom,\r\n                containerTopOffset,\r\n                elementBottom,\r\n                remaining,\r\n                shouldScroll;\r\n\r\n            if (this.scrollContainer === this.windowElement) {\r\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\r\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\r\n            } else {\r\n                containerBottom = this.height(this.scrollContainer);\r\n                containerTopOffset = 0;\r\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\r\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\r\n                }\r\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\r\n            }\r\n\r\n            if (this.useDocumentBottom) {\r\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\r\n            }\r\n\r\n            remaining = elementBottom - containerBottom;\r\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\r\n\r\n            if (shouldScroll) {\r\n                this.checkWhenEnabled = true;\r\n                if (this.scrollEnabled) {\r\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\r\n                        return this.$scope.pipInfiniteScroll();\r\n                    } else {\r\n                        return this.$scope.$apply(() => {\r\n                            this.$scope.pipInfiniteScroll();\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                return this.checkWhenEnabled = false;\r\n            }\r\n        }\r\n\r\n        private handleScrollDistance(v) {\r\n            return this.scrollDistance = parseFloat(v) || 0;\r\n        }\r\n\r\n        private handleScrollDisabled(v) {\r\n            this.scrollEnabled = !v;\r\n            if (this.scrollEnabled && this.checkWhenEnabled) {\r\n                this.checkWhenEnabled = false;\r\n                this.onContainerScrollThrottle();\r\n            }\r\n        }\r\n\r\n        private handleScrollUseDocumentBottom(v) {\r\n            return this.useDocumentBottom = v;\r\n        }\r\n\r\n        private changeContainer(newContainer) {\r\n            if (this.scrollContainer) {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            this.scrollContainer = newContainer;\r\n            if (newContainer) {\r\n                return this.scrollContainer.bind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n        }\r\n\r\n        private handleScrollContainer(newContainer) {\r\n            if ((newContainer == null) || newContainer.length === 0) {\r\n                return;\r\n            }\r\n            if (newContainer instanceof HTMLElement) {\r\n                newContainer = angular.element(newContainer);\r\n            } else if (typeof newContainer.append === 'function') {\r\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n            } else if (typeof newContainer === 'string') {\r\n                newContainer = this.$element.parents().find(newContainer);\r\n            }\r\n\r\n            if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                return this.changeContainer(newContainer);\r\n            } else {\r\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const InfiniteScroll = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $interval: ng.IIntervalService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipInfiniteScroll: '&',\r\n                pipScrollContainer: '=',\r\n                pipScrollDistance: '=',\r\n                pipScrollDisabled: '=',\r\n                pipScrollUseDocumentBottom: '=',\r\n                pipScrollListenForEvent: '@'\r\n            },\r\n            link: function (\r\n                $scope: InfiniteScrollScope,\r\n                $element: JQuery,\r\n                $attrs: InfiniteScrollAttributes\r\n            ) {\r\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipInfiniteScroll\", [])\r\n        .directive('pipInfiniteScroll', InfiniteScroll);\r\n}","{\r\n    interface SelectedAttributes extends ng.IAttributes {\r\n        pipSelected: any;\r\n        pipSelectedId: any;\r\n        pipSelect: any;\r\n        pipEnterSpacePress: any;\r\n        pipNoScroll: any;\r\n        pipSkipHidden: any;\r\n        pipTreeList: any;\r\n        pipSelectedWatch: any;\r\n    }\r\n\r\n    class SelectedLink {\r\n        private indexGetter: any;\r\n        private indexSetter: any;\r\n        private idSetter: any;\r\n        private idGetter: any;\r\n        private changeGetter: any;\r\n        private enterSpaceGetter: any;\r\n        private noScroll: any;\r\n        private modifier: any;\r\n        private className: any;\r\n        private selectedIndex: any;\r\n        private currentElementTabinex: any;\r\n        private pipSelectedWatch: any;\r\n        private isScrolled: any;\r\n        // Variables for touch functions\r\n        private touchStartX: any;\r\n        private touchStartY: any;\r\n        private trackingClick: any;\r\n        private trackingClickStart: any;\r\n        private targetElement: any;\r\n        private lastClickTime: any;\r\n        private cancelNextClick: any;\r\n        // Constants for touch functions\r\n        private touchBoundary: number = 10;\r\n        private tapdelay: number = 200;\r\n        private tapTimeout: number = 700;\r\n\r\n        constructor(\r\n            $parse: ng.IParseService,\r\n            private $mdConstant: any,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs: SelectedAttributes\r\n        ) {\r\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\r\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\r\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\r\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\r\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\r\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\r\n            this.noScroll = $attrs.pipNoScroll;\r\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\r\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\r\n            this.selectedIndex = this.indexGetter($scope);\r\n            this.currentElementTabinex = $element.attr('tabindex');\r\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\r\n            this.isScrolled = false;\r\n\r\n            $element.attr('tabindex', this.currentElementTabinex || 0);\r\n\r\n            $element.on('click', this.className, (event) => {\r\n                this.onClickEvent(event);\r\n            });\r\n            $element.on('touchstart', this.className, (event) => {\r\n                this.onTouchStart(event);\r\n            });\r\n            $element.on('touchmove', this.className, (event) => {\r\n                this.onTouchMove(event);\r\n            });\r\n            $element.on('touchend', this.className, (event) => {\r\n                this.onTouchEnd(event);\r\n            });\r\n            $element.on('touchcancel', this.className, (event) => {\r\n                this.onTouchCancel(event);\r\n            });\r\n            $element.on('keydown', (event) => {\r\n                this.onKeyDown(event);\r\n            });\r\n            $element.on('focusin', (event) => {\r\n                this.onFocusIn(event);\r\n            });\r\n            $element.on('focusout', (event) => {\r\n                this.onFocusOut(event);\r\n            });\r\n\r\n            // Watch selected item index\r\n            if (!$attrs.pipTreeList) {\r\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\r\n                    this.selectItem({\r\n                        itemIndex: newSelectedIndex\r\n                    });\r\n                });\r\n            } else {\r\n                $scope.$watch(this.idGetter, (newSelectedId) => {\r\n                    $timeout(() => {\r\n                        this.selectItem({\r\n                            itemId: newSelectedId,\r\n                            raiseEvent: true\r\n                        });\r\n                    }, 0);\r\n                });\r\n            }\r\n\r\n            // Watch resync selection\r\n            if (this.pipSelectedWatch) {\r\n                $scope.$watch(this.pipSelectedWatch, () => {\r\n                    // Delay update to allow ng-repeat to update DOM\r\n                    $timeout(() => {\r\n                        this.selectedIndex = this.indexGetter($scope);\r\n                        this.selectItem({\r\n                            itemIndex: this.selectedIndex\r\n                        });\r\n                    }, 100);\r\n                });\r\n            }\r\n\r\n            // Select item defined by index\r\n            this.selectItem({\r\n                itemIndex: this.selectedIndex,\r\n                items: $element.find(this.className)\r\n            });\r\n        }\r\n\r\n        private selectItem(itemParams) {\r\n            if (this.isScrolled) return;\r\n            let itemIndex = itemParams.itemIndex,\r\n                itemId = itemParams.itemId,\r\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\r\n                itemsLength = items.length,\r\n                item = () => {\r\n                    if (itemParams.item) return itemParams.item;\r\n                    if (itemIndex === undefined && itemIndex === -1) {\r\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                    }\r\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                        return items[itemIndex]\r\n                    }\r\n\r\n                    return false;\r\n                },\r\n                raiseEvent = itemParams.raiseEvent;\r\n                item = item();\r\n            if (item) {\r\n                this.$element.find(this.className).removeClass('selected md-focused');\r\n                item = <any>angular.element(item)\r\n                    .addClass('selected md-focused')\r\n                    .focus();\r\n                if (!this.noScroll) this.scrollToItem(item);\r\n                if (raiseEvent) this.defineSelectedIndex(items);\r\n            }\r\n        };\r\n\r\n        private defineSelectedIndex(items) {\r\n            const oldSelectedIndex = this.selectedIndex;\r\n            this.selectedIndex = -1;\r\n            for (var index = 0; index < items.length; index++) {\r\n                if ($(items[index]).hasClass('selected')) {\r\n                    this.selectedIndex = index;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const updateIndex = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\r\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\r\n                onSelect();\r\n            };\r\n\r\n            const onSelect = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.changeGetter) {\r\n                    this.changeGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            item: selectedItem,\r\n                            index: this.selectedIndex,\r\n                            id: selectedId,\r\n                            newIndex: this.selectedIndex,\r\n                            oldIndex: oldSelectedIndex\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Execute callback to notify about item select\r\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\r\n                this.$scope.$apply(() => { updateIndex(); });\r\n            } else {\r\n                this.$scope.$apply(() => { onSelect(); });\r\n            }\r\n        };\r\n\r\n        private scrollToItem($item) {\r\n            if (this.noScroll || !$item.offset()) return;\r\n\r\n            const\r\n                containerTop = this.$element.offset().top,\r\n                containerHeight = this.$element.height(),\r\n                containerBottom = containerTop + containerHeight,\r\n                itemTop = $item.offset().top,\r\n                itemHeight = $item.outerHeight(true),\r\n                itemBottom = itemTop + itemHeight,\r\n                containerScrollTop = this.$element.scrollTop();\r\n\r\n            this.isScrolled = true;\r\n            this.$timeout(() => {\r\n                this.isScrolled = false;\r\n            }, 100);\r\n\r\n            if (containerTop > itemTop) {\r\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n            } else if (containerBottom < itemBottom) {\r\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n            }\r\n        };\r\n\r\n        private getTargetElementFromEventTarget(eventTarget) {\r\n            // On some older browsers the event target may be a text node.\r\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\r\n                return eventTarget.parentNode;\r\n            }\r\n\r\n            return eventTarget;\r\n        };\r\n\r\n        private touchHasMoved(event) {\r\n            const touch = event.changedTouches[0],\r\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\r\n\r\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        private onClickEvent(event) {\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n        }\r\n\r\n        private onTouchStart(event) {\r\n            const ev = event.originalEvent;\r\n            if (ev['targetTouches'].length > 1) {\r\n                return true;\r\n            }\r\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\r\n                touch = ev['targetTouches'][0];\r\n\r\n            this.trackingClick = true;\r\n            this.trackingClickStart = ev.timeStamp;\r\n            this.targetElement = targetElement;\r\n\r\n            this.touchStartX = touch.pageX;\r\n            this.touchStartY = touch.pageY;\r\n\r\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                //  event.preventDefault();\r\n            }*/\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchMove(event) {\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // If the touch has moved, cancel the click tracking\r\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\r\n                this.trackingClick = false;\r\n                this.targetElement = null;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchEnd(event) {\r\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\r\n\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // Prevent phantom clicks on fast double-tap \r\n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                this.cancelNextClick = true;\r\n                return true;\r\n            }\r\n\r\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\r\n                return true;\r\n            }\r\n\r\n            // Reset to prevent wrong click cancel on input \r\n            this.cancelNextClick = false;\r\n\r\n            this.lastClickTime = event.timeStamp;\r\n\r\n            newTrackingClickStart = this.trackingClickStart;\r\n            this.trackingClick = false;\r\n            this.trackingClickStart = 0;\r\n\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n\r\n            return false;\r\n        }\r\n\r\n        private onTouchCancel(event) {\r\n            this.trackingClick = false;\r\n            this.targetElement = null;\r\n        }\r\n\r\n        private onKeyDown(event) {\r\n            var keyCode = event.which || event.keyCode;\r\n\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                if (this.enterSpaceGetter) {\r\n                    this.enterSpaceGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            index: this.selectedIndex,\r\n                            item: this.$element.find('.selected')\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                // Get next selectable control index\r\n                const items = this.$element.find(this.className + this.modifier),\r\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    newSelectedIndex = this.selectedIndex + inc;\r\n\r\n                // Set next control as selected\r\n                this.selectItem({\r\n                    itemIndex: newSelectedIndex,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusIn(event) {\r\n            // Choose selected element\r\n            let items,\r\n                selectedItem = this.$element.find(this.className + '.selected');\r\n\r\n            selectedItem.addClass('md-focused');\r\n\r\n            // If there are not selected elements then pick the first one\r\n            if (selectedItem.length === 0) {\r\n                this.selectedIndex = this.indexGetter(this.$scope);\r\n                items = this.$element.find(this.className + this.modifier);\r\n                this.selectItem({\r\n                    itemIndex: this.selectedIndex || 0,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusOut(event) {\r\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\r\n        }\r\n    }\r\n\r\n    const Selected = function (\r\n        $parse: ng.IParseService,\r\n        $mdConstant: any,\r\n        $timeout: ng.ITimeoutService\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: SelectedAttributes\r\n            ) {\r\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipSelected\", [])\r\n        .directive('pipSelected', Selected);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\n\r\nexport class ShortcutItem {\r\n    // Shortcut combination\r\n    public shortcut: string;\r\n    // Target object \r\n    public target?: any;\r\n    // Target element by Id\r\n    public targetId?: string;\r\n    // Target element by class (firstelement??)\r\n    // Public targetClass?: string;\r\n    // Access function\r\n    public access?: (event: JQueryEventObject) => boolean;\r\n    // Window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public keypress?: (event: JQueryEventObject) => void;\r\n    // Default options\r\n    public options?: ShortcutOptions;    \r\n}\r\n\r\n// export class ShortcutItem extends SimpleShortcutItem {\r\n//     public shortcuts: SimpleShortcutItem[];\r\n// }\r\n\r\nexport class ShortcutsConfig {\r\n    // Global shortcut \r\n    public globalShortcuts: ShortcutItem[] = [];\r\n    // Local shortcut \r\n    public localShortcuts: ShortcutItem[] = [];\r\n    // Default options\r\n    public defaultOptions: ShortcutOptions = null;\r\n}\r\n\r\nexport interface IShortcutsService {\r\n    readonly config: ShortcutsConfig;\r\n\r\n    globalShortcuts: ShortcutItem[];\r\n    localShortcuts: ShortcutItem[];\r\n}\r\n\r\nexport interface IShortcutsProvider extends ng.IServiceProvider {\r\n    config: ShortcutsConfig;\r\n    \r\n    globalShortcuts: ShortcutItem[];\r\n    defaultOptions: ShortcutOptions;\r\n}\r\n","export class KeyboardEvent {\r\n    static Keydown: string = 'keydown';\r\n    static Keyup: string = 'keyup';\r\n    static Keypress: string = 'keypress';\r\n}\r\n\r\nexport class ShortcutOptions {\r\n    Type: KeyboardEvent;\r\n    Propagate: boolean;\r\n    DisableInInput: boolean;\r\n    Target: any; // Event target object\r\n    Keycode: number;\r\n}\r\n\r\nexport class Shortcut {\r\n    private shift_nums = {\r\n        \"`\": \"~\",\r\n        \"1\": \"!\",\r\n        \"2\": \"@\",\r\n        \"3\": \"#\",\r\n        \"4\": \"$\",\r\n        \"5\": \"%\",\r\n        \"6\": \"^\",\r\n        \"7\": \"&\",\r\n        \"8\": \"*\",\r\n        \"9\": \"(\",\r\n        \"0\": \")\",\r\n        \"-\": \"_\",\r\n        \"=\": \"+\",\r\n        \";\": \":\",\r\n        \"'\": \"\\\"\",\r\n        \",\": \"<\",\r\n        \".\": \">\",\r\n        \"/\": \"?\",\r\n        \"\\\\\": \"|\"\r\n    };\r\n\r\n    private special_keys = {\r\n        'esc': 27,\r\n        'escape': 27,\r\n        'tab': 9,\r\n        'space': 32,\r\n        'return': 13,\r\n        'enter': 13,\r\n        'backspace': 8,\r\n\r\n        'scrolllock': 145,\r\n        'scroll_lock': 145,\r\n        'scroll': 145,\r\n        'capslock': 20,\r\n        'caps_lock': 20,\r\n        'caps': 20,\r\n        'numlock': 144,\r\n        'num_lock': 144,\r\n        'num': 144,\r\n\r\n        'pause': 19,\r\n        'break': 19,\r\n\r\n        'insert': 45,\r\n        'home': 36,\r\n        'delete': 46,\r\n        'end': 35,\r\n\r\n        'pageup': 33,\r\n        'page_up': 33,\r\n        'pu': 33,\r\n\r\n        'pagedown': 34,\r\n        'page_down': 34,\r\n        'pd': 34,\r\n\r\n        'left': 37,\r\n        'up': 38,\r\n        'right': 39,\r\n        'down': 40,\r\n\r\n        'f1': 112,\r\n        'f2': 113,\r\n        'f3': 114,\r\n        'f4': 115,\r\n        'f5': 116,\r\n        'f6': 117,\r\n        'f7': 118,\r\n        'f8': 119,\r\n        'f9': 120,\r\n        'f10': 121,\r\n        'f11': 122,\r\n        'f12': 123\r\n    };\r\n\r\n    private modifiers = {\r\n        shift: { wanted: false, pressed: false },\r\n        ctrl: { wanted: false, pressed: false },\r\n        alt: { wanted: false, pressed: false },\r\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\r\n    };\r\n\r\n    public eventCallback: Function;\r\n    public target: any;\r\n    public event: KeyboardEvent;\r\n    public option: ShortcutOptions;\r\n    public shorcut: string;\r\n    public callback: Function;\r\n\r\n    public constructor(\r\n        element: any,\r\n        shorcutCombination: string,\r\n        option: ShortcutOptions,\r\n        callback: (e?: JQueryEventObject) => void\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.target = element;\r\n        this.shorcut = shorcutCombination;\r\n        this.event = option.Type;\r\n        this.option = option;\r\n        this.callback = callback;\r\n\r\n        this.eventCallback = (event: JQueryEventObject) => {\r\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\r\n            let code: number;\r\n\r\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\r\n                let element;\r\n                if (e.target) {\r\n                    element = e.target;\r\n                } else if (e.srcElement) {\r\n                    element = e.srcElement;\r\n                }\r\n\r\n                if (element.nodeType == 3) {\r\n                    element = element.parentNode;\r\n                }\r\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\r\n            }\r\n            // Find Which key is pressed\r\n            if (e.keyCode) {\r\n                code = e.keyCode;\r\n            } else if (e.which) {\r\n                code = e.which;\r\n            }\r\n\r\n            let character = String.fromCharCode(code).toLowerCase();\r\n\r\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\r\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\r\n\r\n            let keys: string[] = this.shorcut.split(\"+\");\r\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\r\n            let kp: number = 0;\r\n\r\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\r\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\r\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\r\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\r\n\r\n            let i: number = 0;\r\n            for (i = 0; i < keys.length; i++) {\r\n                let k: string = keys[i];\r\n                // Modifiers\r\n                if (k == 'ctrl' || k == 'control') {\r\n                    kp++;\r\n                    this.modifiers.ctrl.wanted = true;\r\n                } else if (k == 'shift') {\r\n                    kp++;\r\n                    this.modifiers.shift.wanted = true;\r\n                } else if (k == 'alt') {\r\n                    kp++;\r\n                    this.modifiers.alt.wanted = true;\r\n                } else if (k == 'meta') {\r\n                    kp++;\r\n                    this.modifiers.meta.wanted = true;\r\n                } else if (k.length > 1) { // If it is a special key\r\n                    if (this.special_keys[k] == code) {\r\n                        kp++;\r\n                    }\r\n                } else if (this.option.Keycode) {\r\n                    if (this.option.Keycode == code) kp++;\r\n                } else { // The special keys did not match\r\n                    if (character == k) kp++;\r\n                    else {\r\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\r\n                            character = this.shift_nums[character];\r\n                            if (character == k) {\r\n                                kp++;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (kp == keys.length &&\r\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\r\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\r\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\r\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\r\n\r\n                this.callback(e);\r\n\r\n                if (!this.option.Propagate) { // Stop the event\r\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    // e.stopPropagation works in Firefox.\r\n                    if (e.stopPropagation) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n            }\r\n            this.modifiers.ctrl.pressed = false;\r\n            this.modifiers.shift.pressed = false;\r\n            this.modifiers.alt.pressed = false;\r\n            this.modifiers.meta.pressed = false;\r\n        };\r\n    }\r\n}\r\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\r\n\r\n{\r\n    class ShortcutBindingService implements IShortcutBindingService {\r\n        private _log: ng.ILogService;\r\n        private _defaultOption: ShortcutOptions;\r\n        private _shortcuts: IKeyboardShortcuts = {};\r\n\r\n        public constructor(\r\n            $log: ng.ILogService,\r\n            option: ShortcutOptions\r\n        ) {\r\n            \"ngInject\";\r\n            this._log = $log;\r\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\r\n        }\r\n\r\n        private getDefaultOption(): ShortcutOptions {\r\n            let defaultOption: ShortcutOptions = {\r\n                Type: KeyboardEvent.Keydown,\r\n                Propagate: false,\r\n                DisableInInput: false,\r\n                Target: document,\r\n                Keycode: null\r\n            };\r\n\r\n            return defaultOption;\r\n        }\r\n\r\n        public get shortcuts(): IKeyboardShortcuts {\r\n            return this._shortcuts;\r\n        }\r\n\r\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\r\n            this.remove(shortcut);\r\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\r\n            let shortcutCombination: string = shortcut.toLowerCase();\r\n            let element = shortcutOption.Target;\r\n\r\n            if (typeof shortcutOption.Target == 'string') {\r\n                element = document.getElementById(shortcutOption.Target);\r\n            } else {\r\n                element = shortcutOption.Target;\r\n            }\r\n\r\n            if (!element) {\r\n                this._log.error('Register shortcut: element undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!shortcutCombination) {\r\n                this._log.error('Register shortcut: shortcut combination undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!callback) {\r\n                this._log.error('Register shortcut: shorcut callback undentified!');\r\n                return;\r\n            }\r\n\r\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\r\n\r\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\r\n\r\n            //Attach the function with the event\r\n            if (element.addEventListener) {\r\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\r\n            } else if (element.attachEvent) {\r\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            } else {\r\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            }\r\n        }\r\n\r\n        public remove(shorcut: string): void {\r\n            let shortcutCombination = shorcut.toLowerCase();\r\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\r\n\r\n            delete(this._shortcuts[shortcutCombination])\r\n            if (!binding) return;\r\n\r\n            let type = binding.event;\r\n            let element = binding.target;\r\n            let callback = binding.eventCallback;\r\n\r\n            if (element.detachEvent) {\r\n                element.detachEvent('on' + type, callback);\r\n            } else if (element.removeEventListener) {\r\n                element.removeEventListener(type, callback, false);\r\n            } else {\r\n                // element['on' + type] = false;\r\n                element.off(type, callback);\r\n            }\r\n        }\r\n    }\r\n\r\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\r\n        private _service: ShortcutBindingService;\r\n        private _option: ShortcutOptions;\r\n\r\n        public get option(): ShortcutOptions {\r\n            return this._option;\r\n        }\r\n\r\n        public set option(value: ShortcutOptions) {\r\n            this._option = value || new ShortcutOptions();\r\n        }\r\n\r\n        public $get(\r\n            $log: ng.ILogService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new ShortcutBindingService($log, this._option);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\r\n\r\ninterface ShortcutAttributes extends ng.IAttributes {\r\n    pipShortcutAction: any;\r\n    pipShortcutName: any;\r\n    pipShorcutOptions: ShortcutOptions;\r\n}\r\n\r\nclass ShortcutController implements ng.IController  {\r\n    private actionShortcuts: Function;\r\n    private nameShortcuts: string;\r\n    private options: ShortcutOptions;\r\n\r\n    constructor(\r\n        $element: JQuery,\r\n        $attrs: ShortcutAttributes,\r\n        $scope: ng.IScope,\r\n        $log: ng.ILogService,\r\n        $parse: ng.IParseService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if ($attrs.pipShortcutAction) {\r\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\r\n            this.actionShortcuts($scope, {$event: {}});\r\n        } else {\r\n            $log.error('Shortcut action does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\r\n            this.nameShortcuts = $attrs.pipShortcutName;\r\n        } else {\r\n            $log.error('Shortcut name does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\r\n        this.options.Target = $element;\r\n        \r\n        // Registration of keybord shortcuts\r\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\r\n            this.actionShortcuts($scope, {$event: {'e': e}});          \r\n        }, this.options);\r\n    }\r\n\r\n    private keypressShortcut(action) {\r\n        this.actionShortcuts();\r\n    }\r\n}\r\n\r\n// Prevent junk from going into typescript definitions\r\n{\r\n    const shortcutsDirective = function(): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,            \r\n            controller: ShortcutController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .directive('pipShortcut', shortcutsDirective);\r\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\r\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\r\n\r\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\r\n\r\nclass ShortcutsService implements IShortcutsService {\r\n    private _oldConfig: ShortcutsConfig;\r\n    private _config: ShortcutsConfig;\r\n\r\n    public constructor(\r\n        config: ShortcutsConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService, \r\n        private $location: ng.ILocationService, \r\n        private $injector: ng.auto.IInjectorService,\r\n        private pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        this._config = config;\r\n        this._oldConfig = _.cloneDeep(this._config);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this._config.globalShortcuts);\r\n        this.addShortcuts(this._config.localShortcuts);        \r\n    }\r\n\r\n    // Describe private functions\r\n    private sendChangeEvent() {\r\n        // Remove shortcuts\r\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\r\n        this.removeShortcuts(this._oldConfig.localShortcuts);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this.config.globalShortcuts);\r\n        this.addShortcuts(this.config.localShortcuts);\r\n\r\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\r\n\r\n        // Save current config to oldConfig\r\n        this._oldConfig = _.cloneDeep(this.config);\r\n    }\r\n\r\n    private removeShortcuts(collection: ShortcutItem[]): void {\r\n        _.each(collection, (k) => {\r\n            this.pipShortcutBinding.remove(k.shortcut);\r\n        });\r\n    }\r\n\r\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\r\n        if (item.access && _.isFunction(item.access)) {\r\n            if (!item.access(event)) {\r\n                return;\r\n            }\r\n        } \r\n\r\n        if (item.keypress) {\r\n            item.keypress(event);\r\n            return;\r\n        }\r\n\r\n        if (item.href) {\r\n            this.$window.location.href = item.href;\r\n            return;\r\n        }\r\n\r\n        if (item.url) {\r\n            this.$location.url(item.url);\r\n            return;\r\n        }\r\n\r\n        if (item.state) {\r\n            if (this.$injector.has('$state')) {\r\n                var $state = this.$injector.get('$state');\r\n                $state['go'](item.state, item.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (item.event) {\r\n            this.$rootScope.$broadcast(item.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\r\n        }\r\n    }\r\n\r\n    private addShortcuts(collection: ShortcutItem[]): void {\r\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\r\n        \r\n        _.each(collection, (k) => {\r\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\r\n            let target: any;\r\n\r\n            target = k.target ? k.target : k.targetId;\r\n            option.Target = target;\r\n            // Registration of keyboard shortcut\r\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\r\n                this.keypressShortcut(k, e);        \r\n            }, option);              \r\n        });\r\n    }\r\n\r\n    // Describe public functions \r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get localShortcuts(): ShortcutItem[] {\r\n        return this._config.localShortcuts;\r\n    }\r\n\r\n    public set localShortcuts(value: ShortcutItem[]) {\r\n        this._config.localShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n}\r\n\r\nclass ShortcutsProvider implements IShortcutsProvider {\r\n    private _config: ShortcutsConfig = new ShortcutsConfig();\r\n    private _service: ShortcutsService;\r\n\r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ShortcutsConfig) {\r\n        this._config = value || new ShortcutsConfig();\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService, \r\n        $window: ng.IWindowService, \r\n        $location: ng.ILocationService, \r\n        $injector: ng.auto.IInjectorService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipShortcuts')\r\n    .provider('pipShortcuts', ShortcutsProvider);\r\n\r\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\r\n\r\nimport './ShortcutBindingService';\r\nimport './ShortcutsService';\r\nimport './ShortcutDirective';\r\n\r\nexport * from './IShortcutsService';\r\nexport * from './IShortcutBindingService';\r\nexport * from './ShortcutsService';\r\nexport * from './ShortcutBindingService';","{\r\n    interface UnsavedChangesScope extends ng.IScope {\r\n        unsavedChangesAvailable: Function;\r\n        unsavedChangesMessage: string;\r\n        cancelLeave: Function;\r\n        afterLeave: Function;\r\n    }\r\n\r\n    class UnsavedChangesLink {\r\n        constructor(\r\n            $scope: UnsavedChangesScope,\r\n            $window: ng.IWindowService\r\n        ) {\r\n            $window.onbeforeunload = () => {\r\n                if ($scope.unsavedChangesAvailable()) {\r\n                    return $scope.unsavedChangesMessage;\r\n                }\r\n            };\r\n\r\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\r\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\r\n                    event.preventDefault();\r\n                } else {\r\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                }\r\n            });\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $window.onbeforeunload = null;\r\n                unbindFunc();\r\n            });\r\n        }\r\n    }\r\n\r\n    const UnsavedChanges = function ($window: ng.IWindowService) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave',\r\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\r\n            },\r\n            link: function ($scope: UnsavedChangesScope) {\r\n                new UnsavedChangesLink($scope, $window);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module(\"pipUnsavedChanges\", [])\r\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\r\n}","{\r\n    interface IColorPickerBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        colors: any;\r\n        currentColor: any;\r\n        colorChange: any;\r\n    }\r\n\r\n    interface IColorPickerAttributes extends ng.IAttributes {\r\n        class: string;\r\n    }\r\n\r\n    const ColorPickerBindings: IColorPickerBindings = {\r\n        ngDisabled: '<?ngDisabled',\r\n        colors: '<pipColors',\r\n        currentColor: '=ngModel',\r\n        colorChange: '&?ngChange'\r\n    }\r\n\r\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\r\n        currentColor: any;\r\n\r\n        ngDisabled: ng.IChangesObject < boolean > ;\r\n        colors: ng.IChangesObject < string[] > ;\r\n    }\r\n\r\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n    class ColorPickerController implements IColorPickerBindings {\r\n        public class: string;\r\n        public colors: string[];\r\n        public currentColor: string;\r\n        public currentColorIndex: number;\r\n        public ngDisabled: boolean;\r\n        public colorChange: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            $attrs: IColorPickerAttributes,\r\n            private $timeout: ng.ITimeoutService\r\n        ) { \r\n            this.class = $attrs.class || ''; \r\n        }\r\n\r\n        public $onChanges(changes: ColorPickerChanges) {\r\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\r\n                changes.colors.currentValue : DEFAULT_COLORS;\r\n            this.currentColor = this.currentColor || this.colors[0];\r\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\r\n\r\n            this.ngDisabled = changes.ngDisabled.currentValue;\r\n        }\r\n\r\n        public selectColor(index: number) {\r\n            if (this.ngDisabled) {\r\n                return;\r\n            }\r\n            this.currentColorIndex = index;\r\n            this.currentColor = this.colors[this.currentColorIndex];\r\n            this.$timeout(() => {\r\n                this.$scope.$apply();\r\n            });\r\n\r\n            if (this.colorChange) {\r\n                this.colorChange();\r\n            }\r\n        };\r\n\r\n        public enterSpacePress(event): void {\r\n            this.selectColor(event.index);\r\n        };\r\n\r\n    }\r\n\r\n    const pipColorPicker: ng.IComponentOptions = {\r\n        bindings: ColorPickerBindings,\r\n        templateUrl: 'color_picker/ColorPicker.html',\r\n        controller: ColorPickerController\r\n    }\r\n\r\n    angular\r\n        .module('pipColorPicker', ['pipControls.Templates'])\r\n        .component('pipColorPicker', pipColorPicker);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class pipImageSliderController implements ng.IController {\r\n        private _blocks: any[];\r\n        private _index: number = 0;\r\n        private _newIndex: number;\r\n        private _direction: string;\r\n        private _type: string;\r\n        private DEFAULT_INTERVAL:number = 4500;\r\n        private _interval: number | string;\r\n        private _timePromises;\r\n        private _throttled: Function;\r\n\r\n        public swipeStart: number = 0;\r\n        public sliderIndex: number;\r\n        public slideTo: Function;\r\n        public type: Function;\r\n        public interval: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs,\r\n            private $parse: ng.IParseService,\r\n            private $timeout: angular.ITimeoutService,\r\n            private $interval: angular.IIntervalService,\r\n            private pipImageSlider: IImageSliderService\r\n        ) {\r\n\r\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\r\n            this._type = this.type();\r\n            this._interval = this.interval();\r\n            this.slideTo = this.slideToPrivate;\r\n\r\n            $element.addClass('pip-image-slider');\r\n            $element.addClass('pip-animation-' + this._type);\r\n\r\n            this.setIndex();\r\n\r\n            $timeout(() => {\r\n                this._blocks = <any>$element.find('.pip-animation-block');\r\n                if (this._blocks.length > 0) {\r\n                    $(this._blocks[0]).addClass('pip-show');\r\n                }\r\n            });\r\n\r\n            this.startInterval();\r\n\r\n            this._throttled = _.throttle(() => {\r\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\r\n                this._index = this._newIndex;\r\n                this.setIndex();\r\n            }, 700);\r\n\r\n            if ($attrs.id) {\r\n                pipImageSlider.registerSlider($attrs.id, $scope)\r\n            }\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.stopInterval();\r\n                pipImageSlider.removeSlider($attrs.id);\r\n            });\r\n\r\n        }\r\n\r\n        public nextBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n            this._direction = 'next';\r\n            this._throttled();\r\n        }\r\n\r\n        public prevBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\r\n            this._direction = 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private slideToPrivate(nextIndex: number) {\r\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\r\n                return;\r\n            }\r\n\r\n            this.restartInterval();\r\n            this._newIndex = nextIndex;\r\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private setIndex() {\r\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\r\n        }\r\n\r\n        private startInterval() {\r\n            this._timePromises = this.$interval(() => {\r\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n                this._direction = 'next';\r\n                this._throttled();\r\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\r\n        }\r\n\r\n        private stopInterval() {\r\n            this.$interval.cancel(this._timePromises);\r\n        }\r\n\r\n        private restartInterval() {\r\n            this.stopInterval();\r\n            this.startInterval();\r\n        }\r\n    }\r\n\r\n    const ImageSlider = function(): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                sliderIndex: '=pipImageIndex',\r\n                type: '&pipAnimationType',\r\n                interval: '&pipAnimationInterval'\r\n            },\r\n            bindToController: true,\r\n            controller: pipImageSliderController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular.module('pipImageSlider')\r\n        .directive('pipImageSlider', ImageSlider);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class ImageSliderService implements IImageSliderService {\r\n        private ANIMATION_DURATION: number = 550;\r\n        private _sliders: Object = {};\r\n\r\n        constructor(\r\n            private $timeout: angular.ITimeoutService\r\n        ) {}\r\n\r\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\r\n            this._sliders[sliderId] = sliderScope;\r\n        }\r\n\r\n        public removeSlider(sliderId: string): void {\r\n            delete this._sliders[sliderId];\r\n        }\r\n\r\n        public getSliderScope(sliderId: string) {\r\n            return this._sliders[sliderId];\r\n        }\r\n\r\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            nextBlock.addClass('pip-next');\r\n\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\r\n            const prevBlock = $(blocks[oldIndex]),\r\n                blockIndex = nextIndex,\r\n                nextBlock = $(blocks[blockIndex]);\r\n\r\n            if (type === 'carousel') {\r\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                if (direction && (direction === 'prev' || direction === 'next')) {\r\n                    if (direction === 'prev') {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                } else {\r\n                    if (nextIndex && nextIndex < oldIndex) {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                }\r\n            } else {\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipImageSlider.Service', [])\r\n        .service('pipImageSlider', ImageSliderService);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderButtonController implements ng.IController {\r\n        public direction: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || !this.direction()) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderButton = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                direction: '&pipButtonType',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderButtonController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderButton', [])\r\n        .directive('pipSliderButton', SliderButton);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderIndicatorController implements ng.IController {\r\n        public slideTo: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.css('cursor', 'pointer');\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || this.slideTo() === undefined) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderIndicator = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                slideTo: '&pipSlideTo',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderIndicatorController\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderIndicator', [])\r\n        .directive('pipSliderIndicator', SliderIndicator);\r\n}","angular\r\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\nimport './ImageSlider';\r\nimport './ImageSliderService';\r\nimport './SliderButton';\r\nimport './SliderIndicator';\r\n\r\nexport * from './IImageSliderService';","declare var marked: any;\r\n\r\n{\r\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\r\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            (<any>pipTranslate).setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            (<any>pipTranslate).setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': ':',\r\n                'checklist': '',\r\n                'documents': '',\r\n                'pictures': '',\r\n                'location': '',\r\n                'time': ''\r\n            });\r\n        }\r\n    }\r\n\r\n    interface IMarkdownBindings {\r\n        [key: string]: any;\r\n\r\n        text: any;\r\n        isList: any;\r\n        clamp: any;\r\n        rebind: any;\r\n    }\r\n\r\n    const MarkdownBindings: IMarkdownBindings = {\r\n        text: '<pipText',\r\n        isList: '<?pipList',\r\n        clamp: '<?pipLineCount',\r\n        rebind: '<?pipRebind'\r\n    }\r\n\r\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        text: ng.IChangesObject < string > ;\r\n        isList: ng.IChangesObject < boolean > ;\r\n        clamp: ng.IChangesObject < number | string > ;\r\n        rebind: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class MarkdownController implements IMarkdownBindings, ng.IController {\r\n        private _pipTranslate;\r\n\r\n        public text: string;\r\n        public isList: boolean;\r\n        public clamp: string | number;\r\n        public rebind: boolean;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $element: JQuery,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        }\r\n\r\n        public $postLink() {\r\n            // Fill the text\r\n            this.bindText(this.text);\r\n\r\n            this.$scope.$on('pipWindowResized', function () {\r\n                if (this.bindText) this.bindText(this._text(this._$scope));\r\n            });\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-markdown');\r\n\r\n        }\r\n\r\n        public $onChanges(changes: MarkdownChanges) {\r\n            const newText = changes.text.currentValue;\r\n\r\n            if (this.rebind) {\r\n                this.text = newText;\r\n                this.bindText(this.text);\r\n            }\r\n        }\r\n\r\n        private describeAttachments(array) {\r\n            var attachString = '',\r\n                attachTypes = [];\r\n\r\n            _.each(array, function (attach) {\r\n                if (attach.type && attach.type !== 'text') {\r\n                    if (attachString.length === 0 && this._pipTranslate) {\r\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                    }\r\n\r\n                    if (attachTypes.indexOf(attach.type) < 0) {\r\n                        attachTypes.push(attach.type);\r\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                        if (this._pipTranslate)\r\n                            attachString += this._pipTranslate.translate(attach.type);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return attachString;\r\n        }\r\n\r\n        private bindText(value) {\r\n            let textString, isClamped, height, options, obj;\r\n\r\n            if (_.isArray(value)) {\r\n                obj = _.find(value, function (item: any) {\r\n                    return item.type === 'text' && item.text;\r\n                });\r\n\r\n                textString = obj ? obj.text : this.describeAttachments(value);\r\n            } else {\r\n                textString = value;\r\n            }\r\n\r\n            isClamped = this.clamp && _.isNumber(this.clamp);\r\n            isClamped = isClamped && textString && textString.length > 0;\r\n            options = {\r\n                gfm: true,\r\n                tables: true,\r\n                breaks: true,\r\n                sanitize: true,\r\n                pedantic: true,\r\n                smartLists: true,\r\n                smartypents: false\r\n            };\r\n            textString = marked(textString || '', options);\r\n            if (isClamped) {\r\n                height = 1.5 * Number(this.clamp);\r\n            }\r\n            // Assign value as HTML\r\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\r\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\r\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\r\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n            this.$element.find('a').attr('target', 'blank');\r\n            if (!this.isList && isClamped) {\r\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\r\n            }\r\n        }\r\n    }\r\n    const MarkdownComponent = {\r\n        controller: MarkdownController,\r\n        bindings: MarkdownBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipMarkdown', ['ngSanitize'])\r\n        .run(ConfigTranslations)\r\n        .component('pipMarkdown', MarkdownComponent);\r\n}","{\r\n    interface IPopoverBindings {\r\n        [key: string]: any;\r\n\r\n        params: any;\r\n    }\r\n\r\n    const PopoverBindings: IPopoverBindings = {\r\n        params: '<pipParams'\r\n    }\r\n\r\n    class PopoverController implements IPopoverBindings, ng.IController {\r\n        private backdropElement;\r\n        private content;\r\n        public params: any;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $compile: ng.ICompileService,\r\n            private $templateRequest: ng.ITemplateRequestService\r\n        ) {\r\n            this.backdropElement = $('.pip-popover-backdrop');\r\n            this.backdropElement.on('click keydown scroll', () => {\r\n                this.backdropClick();\r\n            });\r\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n            $timeout(() => {\r\n                this.position();\r\n                angular.extend($scope, this.params.locals);\r\n\r\n                if (this.params.template) {\r\n                    this.content = $compile(this.params.template)($scope);\r\n                    $element.find('.pip-popover').append(this.content);\r\n\r\n                    this.init();\r\n                } else {\r\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\r\n                        this.content = $compile(html)($scope);\r\n                        $element.find('.pip-popover').append(this.content);\r\n\r\n                        this.init();\r\n                    });\r\n                }\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.calcHeight();\r\n            }, 200);\r\n            $rootScope.$on('pipPopoverResize', () => {\r\n                this.onResize()\r\n            });\r\n            $(window).resize(() => {\r\n                this.onResize()\r\n            });\r\n        }\r\n\r\n        public backdropClick() {\r\n            if (this.params.cancelCallback) {\r\n                this.params.cancelCallback();\r\n            }\r\n            this.closePopover();\r\n        }\r\n\r\n        public closePopover() {\r\n            this.backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                this.backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public onPopoverClick(event) {\r\n            event.stopPropagation();\r\n        }\r\n\r\n        private init() {\r\n            this.backdropElement.addClass('opened');\r\n            $('.pip-popover-backdrop').focus();\r\n            if (this.params.timeout) {\r\n                this.$timeout(function () {\r\n                    this.closePopover();\r\n                }, this.params.timeout);\r\n            }\r\n        }\r\n\r\n        private position() {\r\n            if (this.params.element) {\r\n                let element = $(this.params.element),\r\n                    pos = element.offset(),\r\n                    width = element.width(),\r\n                    height = element.height(),\r\n                    docWidth = $(document).width(),\r\n                    docHeight = $(document).height(),\r\n                    popover = this.backdropElement.find('.pip-popover');\r\n\r\n                if (pos) {\r\n                    popover\r\n                        .css('max-width', docWidth - (docWidth - pos.left))\r\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                        .css('left', pos.left - popover.width() + width / 2)\r\n                        .css('top', pos.top + height + 16);\r\n                }\r\n            }\r\n        }\r\n\r\n        private onResize() {\r\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n            this.position();\r\n            this.calcHeight();\r\n        }\r\n\r\n        private calcHeight() {\r\n            if (this.params.calcHeight === false) {\r\n                return;\r\n            }\r\n            const popover = this.backdropElement.find('.pip-popover'),\r\n                title = popover.find('.pip-title'),\r\n                footer = popover.find('.pip-footer'),\r\n                content = popover.find('.pip-content'),\r\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n        }\r\n    }\r\n\r\n    const Popover: ng.IComponentOptions = {\r\n        bindings: PopoverBindings,\r\n        templateUrl: 'popover/Popover.html',\r\n        controller: PopoverController\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover')\r\n        .component('pipPopover', Popover);\r\n}","import { IPopoverService } from './IPopoverService';\r\n\r\n{\r\n    interface PopoverTemplateScope extends ng.IScope {\r\n        params ? : any;\r\n        locals ? : any;\r\n    }\r\n\r\n    class PopoverService implements IPopoverService {\r\n        private popoverTemplate: string;\r\n\r\n        constructor(\r\n            private $compile: ng.ICompileService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService\r\n        ) {\r\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n        }\r\n\r\n        public show(p: Object) {\r\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\r\n\r\n            element = $('body');\r\n            if (element.find('md-backdrop').length > 0) {\r\n                return;\r\n            }\r\n            this.hide();\r\n            scope = this.$rootScope.$new();\r\n            params = p && _.isObject(p) ? p : {};\r\n            scope.params = params;\r\n            scope.locals = params.locals;\r\n            content = this.$compile(this.popoverTemplate)(scope);\r\n            element.append(content);\r\n        }\r\n\r\n        public hide() {\r\n            const backdropElement = $('.pip-popover-backdrop');\r\n            backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public resize() {\r\n            this.$rootScope.$broadcast('pipPopoverResize');\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover.Service', [])\r\n        .service('pipPopoverService', PopoverService);\r\n}","angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\nimport './Popover';\r\nimport './PopoverService';\r\n\r\nexport * from './IPopoverService';","{\r\n    interface IRoutingBindings {\r\n        [key: string]: any;\r\n\r\n        logoUrl: any;\r\n        showProgress: any;\r\n    }\r\n\r\n    const RoutingBindings: IRoutingBindings = {\r\n        showProgress: '&',\r\n        logoUrl: '@'\r\n    }\r\n\r\n    class RoutingController implements ng.IController, IRoutingBindings {\r\n        private _image: any;\r\n\r\n        public logoUrl: string;\r\n        public showProgress: Function;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            private $element: JQuery\r\n        ) { }\r\n\r\n        public $postLink() {\r\n            this._image = this.$element.find('img');\r\n            this.loadProgressImage();\r\n        }\r\n\r\n        public loadProgressImage() {\r\n            if (this.logoUrl) {\r\n                this._image.attr('src', this.logoUrl);\r\n            }\r\n        }\r\n    }\r\n\r\n    const RoutingProgress: ng.IComponentOptions = {\r\n        bindings: RoutingBindings,\r\n        templateUrl: 'progress/RoutingProgress.html',\r\n        controller: RoutingController\r\n    }\r\n\r\n    angular\r\n        .module('pipRoutingProgress', ['ngMaterial'])\r\n        .component('pipRoutingProgress', RoutingProgress);\r\n}","export class Toast {\r\n    type: string;\r\n    id: string;\r\n    error: any;\r\n    message: string;\r\n    actions: string[];\r\n    duration: number;\r\n    successCallback: Function;\r\n    cancelCallback: Function\r\n}\r\n","import { Toast } from './Toast';\r\nimport { IToastService } from './IToastService';\r\n\r\n{\r\n    class ToastController {\r\n        private _pipErrorDetailsDialog;\r\n\r\n        public message: string;\r\n        public actions: string[];\r\n        public actionLenght: number;\r\n        public showDetails: boolean;\r\n\r\n        constructor(\r\n            private $mdToast: angular.material.IToastService,\r\n            public toast: Toast,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\r\n                $injector.get('pipErrorDetailsDialog') : null;\r\n            this.message = toast.message;\r\n            this.actions = toast.actions;\r\n\r\n            if (toast.actions.length === 0) {\r\n                this.actionLenght = 0;\r\n            } else {\r\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\r\n            }\r\n\r\n            this.showDetails = this._pipErrorDetailsDialog != null;\r\n        }\r\n\r\n        public onDetails(): void {\r\n            this.$mdToast.hide();\r\n            if (this._pipErrorDetailsDialog) {\r\n                this._pipErrorDetailsDialog.show({\r\n                        error: this.toast.error,\r\n                        ok: 'Ok'\r\n                    },\r\n                    angular.noop,\r\n                    angular.noop\r\n                );\r\n            }\r\n        }\r\n\r\n        public onAction(action): void {\r\n            this.$mdToast.hide({\r\n                action: action,\r\n                id: this.toast.id,\r\n                message: this.message\r\n            });\r\n        }\r\n    }\r\n\r\n    class ToastService implements IToastService {\r\n        private SHOW_TIMEOUT: number = 20000;\r\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\r\n        private toasts: Toast[] = [];\r\n        private currentToast: any;\r\n        private sounds: any = {};\r\n\r\n        constructor(\r\n            $rootScope: ng.IRootScopeService,\r\n            private $mdToast: angular.material.IToastService\r\n        ) {\r\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\r\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\r\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\r\n        }\r\n\r\n        public showNextToast(): void {\r\n            let toast: Toast;\r\n\r\n            if (this.toasts.length > 0) {\r\n                toast = this.toasts[0];\r\n                this.toasts.splice(0, 1);\r\n                this.showToast(toast);\r\n            }\r\n        }\r\n\r\n        // Show toast\r\n        public showToast(toast: Toast): void {\r\n            this.currentToast = toast;\r\n\r\n            this.$mdToast.show({\r\n                    templateUrl: 'toast/Toast.html',\r\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: ToastController,\r\n                    controllerAs: 'vm',\r\n                    locals: {\r\n                        toast: this.currentToast,\r\n                        sounds: this.sounds\r\n                    }\r\n                })\r\n                .then(\r\n                    (action: string) => {\r\n                        this.showToastOkResult(action);\r\n                    },\r\n                    (action: string) => {\r\n                        this.showToastCancelResult(action);\r\n                    }\r\n                );\r\n        }\r\n\r\n        private showToastCancelResult(action: string): void {\r\n            if (this.currentToast.cancelCallback) {\r\n                this.currentToast.cancelCallback(action);\r\n            }\r\n            this.currentToast = null;\r\n            this.showNextToast();\r\n        }\r\n\r\n        private showToastOkResult(action: string): void {\r\n            if (this.currentToast.successCallback) {\r\n                this.currentToast.successCallback(action);\r\n            }\r\n            this.currentToast = null;\r\n            this.showNextToast();\r\n        }\r\n\r\n        public addToast(toast): void {\r\n            if (this.currentToast && toast.type !== 'error') {\r\n                this.toasts.push(toast);\r\n            } else {\r\n                this.showToast(toast);\r\n            }\r\n        }\r\n\r\n        public removeToasts(type: string): void {\r\n            const result: any[] = [];\r\n            _.each(this.toasts, (toast) => {\r\n                if (!toast.type || toast.type !== type) {\r\n                    result.push(toast);\r\n                }\r\n            });\r\n            this.toasts = _.cloneDeep(result);\r\n        }\r\n\r\n        public removeToastsById(id: string): void {\r\n            _.remove(this.toasts, {\r\n                id: id\r\n            });\r\n        }\r\n\r\n        public getToastById(id: string): Toast {\r\n            return _.find(this.toasts, {\r\n                id: id\r\n            });\r\n        }\r\n\r\n        public onStateChangeSuccess() {}\r\n\r\n        public onClearToasts(): void {\r\n            this.clearToasts(null);\r\n        }\r\n\r\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\r\n            this.addToast({\r\n                id: id || null,\r\n                type: 'notification',\r\n                message: message,\r\n                actions: actions || ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback,\r\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\r\n            });\r\n        }\r\n\r\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\r\n            this.addToast({\r\n                id: id || null,\r\n                type: 'message',\r\n                message: message,\r\n                actions: ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback\r\n            });\r\n        }\r\n\r\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\r\n            this.addToast({\r\n                id: id || null,\r\n                error: error,\r\n                type: 'error',\r\n                message: message || 'Unknown error.',\r\n                actions: ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback\r\n            });\r\n        }\r\n\r\n        public hideAllToasts(): void {\r\n            this.$mdToast.cancel();\r\n            this.toasts = [];\r\n        }\r\n\r\n        public clearToasts(type ? : string) {\r\n            if (type) {\r\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n                this.removeToasts(type);\r\n            } else {\r\n                this.$mdToast.cancel();\r\n                this.toasts = [];\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    angular\r\n        .module('pipToasts')\r\n        .service('pipToasts', ToastService);\r\n}","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\r\n\r\nimport './ToastService';\r\nimport './Toast';\r\n\r\nexport * from './IToastService';","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/colorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipHelp.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Registration of all WebUI list controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipLists', [\r\n\t    'pipTagList'\r\n    ]);\r\n    \r\n})();","/**\r\n * @file Tag list control\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n * @todo\r\n * - Improve samples in sampler app\r\n * - What's pipType and pipTypeLocal? Give better name\r\n * - Do not use ng-if, instead generate template statically\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTagList', ['pipList.Translate']);\r\n\r\n    /**\r\n     * pipTags - set of tags\r\n     * pipType - additional type tag\r\n     * pipTypeLocal - additional translated type tag\r\n     */\r\n    thisModule.directive('pipTagList',\r\n        function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipTags: '=',\r\n                    pipType: '=',\r\n                    pipTypeLocal: '='\r\n                },\r\n                templateUrl: 'tag_list/tag_list.html',\r\n                controller: function ($scope, $element, $attrs) {\r\n                    var tagsGetter;\r\n\r\n                    tagsGetter = $parse($attrs.pipTags);\r\n                    $element.css('display', 'block');\r\n                    // Set tags\r\n                    $scope.tags = tagsGetter($scope);\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(tagsGetter, function () {\r\n                            $scope.tags = tagsGetter($scope);\r\n                        });\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-tag-list');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/tag_list.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\" ng-if=\"pipType && !pipTypeLocal\"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\" ng-if=\"pipType && pipTypeLocal\"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in pipTags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","\n(() => {\n    interface IDateBindings {\n        [key: string]: any;\n\n        timeMode: any,\n        disabled: any,\n        model: any,\n        ngChange: any\n    }\n\n    const DateBindings: IDateBindings = {\n        timeMode: '@pipTimeMode',\n        disabled: '&ngDisabled',\n        model: '<ngModel',\n        ngChange: '<'\n    }\n\n    class DateChanges implements ng.IOnChangesObject, IDateBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        timeMode: ng.IChangesObject<string>;\n        disabled: ng.IChangesObject<() => boolean>;\n        model: ng.IChangesObject<Date>;\n        ngChange: ng.IChangesObject<(date: Date) => void>;\n    }\n\n\n    class DateController {\n        private value: any;\n        private localeDate: moment.MomentLanguageData = moment.localeData();\n        private momentMonths: any[];\n        private momentDays: any[];\n        private momentShortDays: any;\n        private momentFirstDayOfWeek: any;\n\n        public timeMode: string;\n        public day: number;\n        public month: number;\n        public year: number;\n\n        public model: Date;\n        public ngChange: (date: Date) => void;\n\n        public days: number[];\n        public months: any[];\n        public years: number[];\n        public disabled: () => boolean;\n        public disableControls: boolean;\n\n        constructor(\n            $injector: angular.auto.IInjectorService,\n            $scope: ng.IScope) {\n            this.momentMonths = angular.isArray(this.localeDate['_months']) ? this.localeDate['_months'] : this.localeDate['_months'].format;\n            this.momentDays = angular.isArray(this.localeDate['_weekdays']) ? this.localeDate['_weekdays'] : this.localeDate['_weekdays'].format;\n            this.momentShortDays = this.localeDate['_weekdaysMin'];\n            this.momentFirstDayOfWeek = this.localeDate['_week'].dow;\n\n            let value = this.model ? _.isDate(this.model) ? this.model : new Date(this.model) : null;\n            this.day = value ? value.getDate() : null;\n            this.month = value ? value.getMonth() + 1 : null;\n            this.year = value ? value.getFullYear() : null;\n\n            this.days = this.dayList(this.month, this.year);\n            this.months = this.monthList();\n            this.years = this.yearList();\n\n            this.disableControls = this.disabled ? this.disabled() : false;\n\n        }\n\n        public $onChanges(changes: DateChanges) {\n            if (changes.model && changes.model.currentValue) {\n                this.model = changes.model.currentValue;\n                this.getValue(this.model);\n            }\n        }\n\n        private dayList(month: number, year: number): number[] {\n            let count: number = 31, days: number[] = [];\n\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\n                count = 30;\n            } else {\n                if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n            }\n            for (let i: number = 1; i <= count; i++) {\n                days.push(i);\n            }\n\n            return days;\n        }\n\n        private monthList() {\n            let months: any[] = [];\n\n            for (let i: number = 1; i <= 12; i++) {\n                months.push({\n                    id: i,\n                    name: this.momentMonths[i - 1]\n                });\n            }\n\n            return months;\n        }\n\n        private yearList(): number[] {\n            let currentYear: number = new Date().getFullYear(),\n                startYear: number = this.timeMode === 'future' ? currentYear : currentYear - 100,\n                endYear: number = this.timeMode === 'past' ? currentYear : currentYear + 100,\n                years = [];\n\n            if (this.timeMode === 'past') {\n                for (let i: number = endYear; i >= startYear; i--) {\n                    years.push(i);\n                }\n            } else {\n                for (let i: number = startYear; i <= endYear; i++) {\n                    years.push(i);\n                }\n            }\n\n            return years;\n        }\n\n        private adjustDay() {\n            let days = this.dayList(this.month, this.year);\n\n            if (this.days.length !== days.length) {\n                if (this.day > days.length) {\n                    this.day = days.length;\n                }\n\n                this.days = days;\n            }\n        }\n\n        private getValue(v: any) {\n            let value: Date = v ? _.isDate(v) ? v : new Date(v) : null,\n                day: number = value ? value.getDate() : null,\n                month: number = value ? value.getMonth() + 1 : null,\n                year: number = value ? value.getFullYear() : null;\n\n            // Update day list if month and year were changed\n            if (this.month !== month && this.year !== year) {\n                this.days = this.dayList(this.month, this.year);\n            }\n\n            // Assign values to scope\n            this.day = day;\n            this.month = month;\n            this.year = year;\n        }\n\n        public setValue() {\n            let value: Date;\n\n            if (this.day && this.month && this.year) {\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\n                this.model = value;\n                this.ngChange(this.model);\n            }\n        }\n\n        public onMonthChanged() {\n            this.adjustDay();\n            this.setValue();\n        }\n\n        public onYearChanged() {\n            this.adjustDay();\n            this.setValue();\n        }\n    }\n\n    const DateComponent: ng.IComponentOptions = {\n        bindings: DateBindings,\n        templateUrl: 'date/Date.html',\n        controller: DateController\n    }\n\n    angular\n        .module('pipDate', ['pipDates.Templates'])\n        .component('pipDate', DateComponent)\n})();\n\n","import { DateRangeType, IDateConvertService, IDateConvertProvider } from './IDateConvertService';\n\n(() => {\n    class DateConvert implements IDateConvertService {\n        protected _momentRanged: string[] = DateRangeType.All;\n        protected _defaultFormat: string = 'LL';\n        private _defaultTimeZoneOffset: number;\n\n        public get defaultTimeZoneOffset(): number {\n            return this._defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._defaultTimeZoneOffset = value;\n        }\n\n        private isUndefinedOrNull(date: any): boolean {\n            return angular.isUndefined(date) || date === null;\n        }\n\n        private getRange(date: string): string {\n            if (this.isUndefinedOrNull(date)) {\n                return DateRangeType.Day;\n            }\n\n            let index = this._momentRanged.indexOf(date)\n\n            if (index < 0) {\n                return DateRangeType.Day;\n            }\n\n            return this._momentRanged[index];\n        }\n\n        private getOperationRange(date: string): string {\n            if (this.isUndefinedOrNull(date)) {\n                return DateRangeType.Day;\n            }\n\n            let range: string = date == DateRangeType.WeekFromSunday ? DateRangeType.Week : date,\n                index = this._momentRanged.indexOf(range)\n\n            if (index < 0) {\n                return DateRangeType.Day;\n            }\n\n            return this._momentRanged[index];\n\n        }\n  \n        private toStartRange(date: any, range: string): Date {\n            let localDate: moment.Moment;\n\n            if (this.isUndefinedOrNull(date)) {\n                throw new Error('toStartRange - date is undefined or null');\n            }\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\n            } else {\n                localDate = moment(date);\n            }\n\n            if (!localDate.isValid()) {\n                throw new Error('toStartRange - localDate is invalid');\n            }\n\n            return localDate.startOf(range).toDate();\n        }\n\n        private toEndRange(date: any, range: string, offset: number): any {\n            let localDate: any,\n                result: any,\n                mssOffset: number;\n\n            if (this.isUndefinedOrNull(date)) {\n                return '';\n            }\n\n            if (!angular.isNumber(offset)) {\n                mssOffset = 0;\n            }\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\n            } else {\n                localDate = moment(date);\n            }\n\n            if (!localDate.isValid()) {\n                return '';\n            }\n\n            if (mssOffset) {\n                result = localDate.startOf(range).add(mssOffset, 'milliseconds');\n            } else {\n                result = localDate.startOf(range);\n            }\n\n            return localDate.startOf(range).toDate();\n        }\n\n        public toJson(date: any): string {\n            return JSON.stringify(moment(date));\n        }\n\n        // navigation functions \n        // ------------------\n\n        public toNextRange(date: any, type: string): any {\n            let localDate: moment.Moment,\n                range: string,\n                result: any;\n\n            if (this.isUndefinedOrNull(date)) {\n                return '';\n            }\n\n            localDate = moment(date);\n            if (!localDate.isValid()) {\n                return '';\n            }\n\n            range = this.getRange(type);\n            result = moment(localDate).startOf(range).add(this.getOperationRange(range));\n\n            return result.toDate();\n        }\n\n        public toPrevRange(date: any, type: string): Date {\n            let localDate: moment.Moment,\n                range: string,\n                result: moment.Moment;\n\n            if (this.isUndefinedOrNull(date)) {\n                throw new Error('toPrevRange- date is undefined or null');\n            }\n\n            localDate = moment(date);\n            if (!localDate.isValid()) {\n                throw new Error('toPrevRange - localDate is invalid');\n            }\n\n            range = this.getRange(type);\n            result = moment(localDate).startOf(range).add(-1, this.getOperationRange(range));\n\n            return result.toDate();\n        }\n\n        public toCurrentRange(type: string): Date {\n            let localDate: moment.Moment,\n                range: string,\n                result: moment.Moment;\n\n            localDate = moment();\n            if (!localDate.isValid()) {\n                throw new Error('toCurrentRange - localDate is invalid');\n            }\n\n            range = this.getRange(type)\n            result = moment(localDate).startOf(range);\n\n            return result.toDate();\n        }\n\n        public addHours(date: any, hours: number): Date {\n            let localDate: moment.Moment;\n\n            if (this.isUndefinedOrNull(date) || !angular.isNumber(hours)) {\n                throw new Error('addHours - date is undefined or null or hours is not a number');\n            }\n\n            localDate = moment(date);\n            if (!localDate.isValid()) {\n                throw new Error('addHours - localDate is invalid');\n            }\n\n            return localDate.add(hours, 'hours').toDate();\n        }\n\n        public toStartDay(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Day);\n        }\n\n        public toEndDay(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Day, offset);\n        }\n\n        public toStartWeek(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Week);\n        }\n\n        public toEndWeek(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Week, offset);\n        }\n\n        public toStartMonth(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Month);\n        }\n\n        public toEndMonth(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Month, offset);\n        }\n\n        public toStartYear(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Year);\n        }\n\n        public toEndYear(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Year, offset);\n        }\n\n    }\n\n    class DateConvertService {\n        private _convert: DateConvert;\n\n        public constructor(\n            convert: DateConvert,\n        ) {\n            this._convert = convert;\n        }\n\n        public get defaultTimeZoneOffset(): number {\n            return this._convert.defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._convert.defaultTimeZoneOffset = value;\n        }\n    \n        public toJSON(date: any): string {\n            return this._convert.toJson(date);\n        }\n\n        // date range functions \n        // ------------------\n\n        public toNextRange(date: any, type: string): any {\n            return this._convert.toNextRange(date, type);\n        }\n\n        public toPrevRange(date: any, type: string): any {\n            return this._convert.toPrevRange(date, type);\n        }\n\n        public toCurrentRange(type: string): any {\n            return this._convert.toCurrentRange(type);\n        }\n\n        public addHours(date: any, hours: number): any {\n            return this._convert.addHours(date, hours);\n        }\n\n        public toStartDay(date: any): any {\n            return this._convert.toStartDay(date);\n        }\n\n        public toEndDay(date: any, offset: number): any {\n            return this._convert.toEndDay(date, offset);\n        }\n\n        public toStartWeek(date: any): any {\n            return this._convert.toStartWeek(date);\n        }\n\n        public toEndWeek(date: any, offset: number): any {\n            return this._convert.toEndWeek(date, offset);\n        }\n\n        public toStartMonth(date: any): any {\n            return this._convert.toStartMonth(date);\n        }\n\n        public toEndMonth(date: any, offset: number): any {\n            return this._convert.toEndMonth(date, offset);\n        }\n\n        public toStartYear(date: any): any {\n            return this._convert.toStartYear(date);\n        }\n\n        public toEndYear(date: any, offset: number): any {\n            return this._convert.toEndYear(date, offset);\n        }\n\n    }\n\n    class DateConvertProvider extends DateConvert implements IDateConvertProvider {\n        private _translation: DateConvert;\n        private _service: DateConvertService;\n\n        public $get(): any {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new DateConvertService(this);\n\n            return this._service;\n        }\n    }\n\n    angular\n        .module('pipDate.Convert', [])\n        .provider('pipDateConvert', DateConvertProvider);\n})();","import { IDateFormatService } from './IDateFormatService';\nimport { IDateConvertService } from './IDateConvertService';\n\nfunction formatTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, format: string): string => {\n        return pipDateFormat.formatTime(value, format);\n    }\n}\n\nfunction formatDateOptionalFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, format: string): string => {\n        return pipDateFormat.formatDateOptional(value, format);\n    }\n}\n\nfunction formatLongDateFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDate(value);\n    }\n}\n\nfunction formatShortDateFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortDate(value);\n    }\n}\n\nfunction formatMiddleDateFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatMiddleDate(value);\n    }\n}\n\nfunction formatMonthFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any) => {\n        return pipDateFormat.formatMonth(value);\n    }\n}\n\nfunction formatLongMonthFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongMonth(value);\n    }\n}\n\nfunction formatYearFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatYear(value);\n    }\n}\n\nfunction formatWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatWeek(value);\n    }\n}\n\nfunction formatShortWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortWeek(value);\n    }\n}\n\nfunction formatShortDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortDateTime(value);\n    }\n}\n\nfunction formatMiddleDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatMiddleDateTime(value);\n    }\n}\n\nfunction formatLongDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDateTime(value);\n    }\n}\n\nfunction formatShortDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.formatShortDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatMiddleDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.formatMiddleDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatLongDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.formatLongDateLongTime(value, firstTime);\n    }\n}\n\nfunction bbFormatDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.bbFormatDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatFullDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatFullDateTime(value);\n    }\n}\n\nfunction formatShortTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortTime(value);\n    }\n}\n\nfunction formatLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongTime(value);\n    }\n}\n\nfunction formatShortDayOfWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortDayOfWeek(value);\n    }\n}\n\nfunction formatLongDayOfWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDayOfWeek(value);\n    }\n}\n\nfunction formatLongMonthDayFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongMonthDay(value);\n    }\n}\n\nfunction formatShortMonthDayFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortMonthDay(value);\n    }\n}\n\nfunction formatDateRangeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value1: any, value2: any): string => {\n        return pipDateFormat.formatDateRange(value1, value2);\n    }\n}\n\nfunction formatDateTimeRangeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value1: any, value2: any): string => {\n        return pipDateFormat.formatDateTimeRange(value1, value2);\n    }\n}\n\nfunction formatISOWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatISOWeek(value);\n    }\n}\n\nfunction formatShortISOWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortISOWeek(value);\n    }\n}\n\nfunction formatISOWeekOrdinalFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatISOWeekOrdinal(value);\n    }\n}\n\nfunction formatDateYFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatDateY(value);\n    }\n}\n\nfunction formatLongDateYFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDateY(value);\n    }\n}\n\nfunction formatTodayDateLongTimeLongFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateLongTimeLong(value);\n    }\n}\n\nfunction formatTodayDateShortTimeLongFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateShortTimeLong(value);\n    }\n}\n\nfunction formatTodayDateLongTimeShortFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateLongTimeShort(value);\n    }\n}\n\nfunction formatTodayDateShortTimeShortFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateShortTimeShort(value);\n    }\n}\n\nfunction formatMillisecondsToSecondsFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatMillisecondsToSeconds(value);\n    }\n}\n\nfunction formatElapsedIntervalFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, start: any): string => {\n        return pipDateFormat.formatElapsedInterval(value, start);\n    }\n}\n\nfunction getDateJSONFilter(pipDateConvert: IDateConvertService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateConvert.toJson(value);\n    }\n}\n\nangular\n    .module('pipDate.Filter', [])\n    .filter('formatTime', formatTimeFilter)\n    .filter('formatDateOptional', formatDateOptionalFilter)\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\n    .filter('formatShortDate', formatShortDateFilter)\n    .filter('formatMiddleDate', formatMiddleDateFilter)\n    .filter('formatLongDate', formatLongDateFilter)\n    .filter('formatMonth', formatMonthFilter)\n    .filter('formatLongMonth', formatLongMonthFilter)\n    .filter('formatYear', formatYearFilter)\n    .filter('formatWeek', formatWeekFilter)\n    .filter('formatShortWeek', formatShortWeekFilter)\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)\n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)\n    .filter('formatFullDateTime', formatFullDateTimeFilter)\n    .filter('formatShortTime', formatShortTimeFilter)\n    .filter('formatLongTime', formatLongTimeFilter)\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\n    .filter('formatDateRange', formatDateRangeFilter)\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\n    .filter('formatISOWeek', formatISOWeekFilter)\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\n    .filter('formatDateY', formatDateYFilter)\n    .filter('formatLongDateY', formatLongDateYFilter)\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\n","import { DateRangeType } from './IDateConvertService';\nimport { IDateFormatService, IDateFormatProvider } from './IDateFormatService';\n\n(() => {\n    class DateFormat implements IDateFormatService {\n        protected _momentRanged: string[] = DateRangeType.All;\n        protected _defaultFormat: string = 'LL'\n\n        private _defaultTimeZoneOffset: number;\n\n        public get defaultTimeZoneOffset(): number {\n            return this._defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._defaultTimeZoneOffset = value;\n        }\n\n        private isUndefinedOrNull(value: any): boolean {\n            return angular.isUndefined(value) || value === null;\n        }\n\n        private formatDateTime(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let formatTpl: string;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset!= undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            formatTpl = basicFormat ? basicFormat : this._defaultFormat;\n\n            return date.format(formatTpl);\n        }\n\n        private formatDateTimeY(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let nowDate: moment.Moment;\n            let formatMoment: string;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            nowDate = moment();\n            formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\n\n            if (nowDate.year() == date.year())\n                formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n\n            return date.format(formatMoment);\n        }\n\n        private formatDay(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\n            let formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            return date.format(formatMonthYearless);\n        }\n\n        private formatMonthDay(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let format = basicFormat ? basicFormat : this._defaultFormat;\n            let formatLL = moment.localeData().longDateFormat(format);\n            let formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            return date.format(formatYearlessLL);\n        }\n\n        //  use timezone not testing\n        private formatRange(value1: any, value2: any, basicFormat: string): string {\n            let dateStart: moment.Moment;\n            let dateEnd: moment.Moment;\n            let format = basicFormat ? basicFormat : this._defaultFormat;\n\n            if (this.isUndefinedOrNull(value1))\n                dateStart = null;\n            else\n                dateStart = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) \n                    ? moment(value1).utcOffset(this._defaultTimeZoneOffset) : moment(value1);\n\n            if (this.isUndefinedOrNull(value2))\n                dateEnd = null;\n            else\n                dateEnd = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) \n                    ? moment(value2).utcOffset(this._defaultTimeZoneOffset) : moment(value2);\n\n            if (dateStart === null && dateEnd === null)\n                return '';\n            if (dateStart === null)\n                return dateEnd.format(basicFormat);\n            if (dateEnd === null || dateStart.isSame(dateEnd))\n                return dateStart.format(basicFormat);;\n\n            if (dateStart.isAfter(dateEnd))\n                throw new Error('Date range error. Start date is more than end date.');\n\n            if (dateStart.year() == dateEnd.year()) {\n                if (dateStart.month() == dateEnd.month())\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            }\n\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\n        }\n\n        private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\n            let date: moment.Moment;\n            let result: string;\n            let nowDate: moment.Moment;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            nowDate = moment();\n            if (firstTime)\n                result = date.format(formatTime) + ' ' + date.format(formatDate);\n            else\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\n\n            return result;\n        }\n\n        private toTodayDate(value: any, formatDate: string, formatTime: string): any {\n            let date: moment.Moment;\n            let result: string;\n            let nowDate: any;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            nowDate = moment();\n\n            if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day())\n                result = date.format(formatTime);\n            else\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\n\n            return result;\n        }\n        \n        // formating functions \n        // -------------------\n\n        public formatTime(value: any, format: string): string {\n            return this.formatDateTime(value, 'LLL');\n        }\n\n        public formatDateOptional(value: any, format: string): string {\n            return this.formatDateTime(value, 'L');\n        }\n\n        // date formats\n        public formatShortDate(value: any): string {\n            return this.formatDateTime(value, 'L');\n        }\n\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime);\n        }\n\n        public formatMiddleDate(value: any): string {\n            return this.formatDateTime(value, 'll');\n        }\n\n        public formatLongDate(value: any): string {\n            return this.formatDateTime(value, 'LL');\n        }\n\n        public formatMonth(value: any): string {\n            return this.formatDateTime(value, 'MM');\n        }\n\n        public formatLongMonth(value: any): string {\n            return this.formatDateTime(value, 'MMMM');\n        }\n\n        public formatYear(value: any): string {\n            return this.formatDateTime(value, 'YYYY');\n        }\n\n        public formatWeek(value: any): string {\n            return this.formatDateTime(value, 'ww');\n        }\n\n        public formatShortWeek(value: any): string {\n            return this.formatDateTime(value, 'w');\n        }\n\n        public formatShortDateTime(value: any): string {\n            return this.toDateWithTime(value, 'L', 'LT');\n        }\n\n        public formatMiddleDateTime(value: any): string {\n            return this.formatDateTime(value, 'lll');\n        }\n\n        public formatLongDateTime(value: any): string {\n            return this.formatDateTime(value, 'LLL');\n        }\n\n        public formatFullDateTime(value: any): string {\n            return this.formatDateTime(value, 'LLLL');\n        }\n\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'L', 'LTS', firstTime);\n        }\n\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'll', 'LTS', firstTime);\n        }\n\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\n        }\n\n        public formatShortTime(value: any): string {\n            return this.formatDateTime(value, 'LT');\n        }\n\n        public formatLongTime(value: any): string {\n            return this.formatDateTime(value, 'LTS');\n        }\n\n        public formatShortDayOfWeek(value: any): string {\n            return this.formatDateTime(value, 'dd');\n        }\n\n        public formatLongDayOfWeek(value: any): string {\n            return this.formatDateTime(value, 'dddd');\n        }\n\n        // public formatTimeNumber(value: any): string {\n        //     return this.formatDateTime(value, 'LLL');\n        // }\n\n        // public formatLongTimeNumber(value: any): string {\n        //     return this.formatDateTime(value, 'LLLL');\n        // }\n\n        ///-----------------\n\n        public formatLongMonthDay(value: any): string {\n            return this.formatMonthDay(value, 'LL');\n        }\n\n        public formatShortMonthDay(value: any): string {\n            return this.formatMonthDay(value, 'L');\n        }\n\n        public formatDateRange(value1: any, value2: any): string {\n            return this.formatRange(value1, value2, 'LL');\n        }\n\n        public formatDateTimeRange(value1: any, value2: any): string {\n            return this.formatRange(value1, value2, 'LLL');\n        }\n\n        // iso function\n        // --------------\n\n        public formatISOWeek(value: any): string {\n            return this.formatDateTime(value, 'WW');\n        }\n\n        public formatShortISOWeek(value: any): string {\n            return this.formatDateTime(value, 'W');\n        }\n\n        public formatISOWeekOrdinal(value: any): string {\n            return this.formatDateTime(value, 'Wo');\n        }\n        // special formats \n        // --------------\n\n        // year option displays if the current year is not equal to, the date of \n        public formatDateY(value: any): string {\n            return this.formatDateTimeY(value, 'L');\n        }\n\n        // year option displays if the current year is not equal to, the date of\n        public formatLongDateY(value: any): string {\n            return this.formatDateTimeY(value, 'LL');\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateLongTimeLong(value: any): string {\n            return this.toTodayDate(value, 'LL', 'LTS')\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateShortTimeLong(value: any): string {\n            return this.toTodayDate(value, 'LL', 'LTS')\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateLongTimeShort(value: any): string {\n            return this.toTodayDate(value, 'LL', 'LT')\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateShortTimeShort(value: any): string {\n            return this.toTodayDate(value, 'll', 'LT')\n        }\n\n        // todo\n        public formatMillisecondsToSeconds(value: any): string {\n            return '';\n        }\n\n        public formatElapsedInterval(value: any, start: any): string {\n            let date: moment.Moment,\n                nowDate: any;\n\n            if (this.isUndefinedOrNull(value)) {\n                return '';\n            }\n            if (this.isUndefinedOrNull(start)) {\n                nowDate = moment();\n            } else {\n                nowDate = moment(start);\n            }\n\n            date = moment(value);\n            if (!date.isValid() || !nowDate.isValid()) {\n                return '';\n            }\n\n            return moment(date).fromNow(nowDate);\n        }\n\n        public getDateJSON(date: any): string {\n            return JSON.stringify(moment(date));\n        }\n\n        \n    }\n\n    class DateFormatService implements IDateFormatService {\n        private _format: DateFormat;\n\n        public constructor(\n            _format: DateFormat,\n        ) {\n            this._format = _format;\n        }\n\n        public get defaultTimeZoneOffset(): number {\n            return this._format.defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._format.defaultTimeZoneOffset = value;\n        }\n\n        // todo Optional\n        public formatTime(value: any, format: string): string {\n            return this._format.formatTime(value, format);\n        }\n\n        // todo Optional\n        public formatDateOptional(value: any, format: string): string {\n            return this._format.formatDateOptional(value, format);\n        }\n\n        public formatShortDate(value: any): string {\n            return this._format.formatShortDate(value);\n        }\n\n        public formatMiddleDate(value: any): string {\n            return this._format.formatMiddleDate(value);\n        }\n\n        public formatLongDate(value: any): string {\n            return this._format.formatLongDate(value);\n        }\n\n        public formatMonth(value: any): string {\n            return this._format.formatMonth(value);\n        }\n\n        public formatLongMonth(value: any): string {\n            return this._format.formatLongMonth(value);\n        }\n\n        public formatYear(value: any): string {\n            return this._format.formatYear(value);\n        }\n\n        public formatWeek(value: any): string {\n            return this._format.formatWeek(value);\n        }\n\n        public formatShortWeek(value: any): string {\n            return this._format.formatShortWeek(value);\n        }\n\n        public formatShortDateTime(value: any): string {\n            return this._format.formatShortDateTime(value);\n        }\n\n        public formatMiddleDateTime(value: any): string {\n            return this._format.formatMiddleDateTime(value);\n        }\n\n        public formatLongDateTime(value: any): string {\n            return this._format.formatLongDateTime(value);\n        }\n\n        public formatFullDateTime(value: any): string {\n            return this._format.formatFullDateTime(value);\n        }\n\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.formatShortDateLongTime(value, firstTime);\n        }\n\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.formatMiddleDateLongTime(value, firstTime);\n        }\n\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.formatLongDateLongTime(value, firstTime);\n        }\n\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.bbFormatDateLongTime(value, firstTime);\n        }\n\n        public formatShortTime(value: any): string {\n            return this._format.formatShortTime(value);\n        }\n\n        public formatLongTime(value: any): string {\n            return this._format.formatLongTime(value);\n        }\n\n        public formatShortDayOfWeek(value: any): string {\n            return this._format.formatShortDayOfWeek(value);\n        }\n\n        public formatLongDayOfWeek(value: any): string {\n            return this._format.formatLongDayOfWeek(value);\n        }\n\n        public formatLongMonthDay(value: any): string {\n            return this._format.formatLongMonthDay(value);\n        }\n\n        public formatShortMonthDay(value: any): string {\n            return this._format.formatShortMonthDay(value);\n        }\n\n        public formatDateRange(value1: any, value2: any): string {\n            return this._format.formatDateRange(value1, value2);\n        }\n\n        public formatDateTimeRange(value1: any, value2: any): string {\n            return this._format.formatDateTimeRange(value1, value2);\n        }\n\n        // iso function\n        // --------------\n\n        public formatISOWeek(value: any): string {\n            return this._format.formatISOWeek(value);\n        }\n\n        public formatShortISOWeek(value: any): string {\n            return this._format.formatShortISOWeek(value);\n        }\n\n        public formatISOWeekOrdinal(value: any): string {\n            return this._format.formatISOWeekOrdinal(value);\n        }\n        // special formats \n        // --------------\n\n        // year option displays if the current year is not equal to, the date of \n        public formatDateY(value: any): string {\n            return this._format.formatDateY(value);\n        }\n\n        // year option displays if the current year is not equal to, the date of\n        public formatLongDateY(value: any): string {\n            return this._format.formatLongDateY(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateLongTimeLong(value: any): string {\n            return this._format.formatTodayDateLongTimeLong(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateShortTimeLong(value: any): string {\n            return this._format.formatTodayDateShortTimeLong(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateLongTimeShort(value: any): string {\n            return this._format.formatTodayDateLongTimeShort(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateShortTimeShort(value: any): string {\n            return this._format.formatTodayDateShortTimeShort(value);\n        }\n\n        public formatMillisecondsToSeconds(value: any) {\n            return this._format.formatMillisecondsToSeconds(value);\n        }\n\n        public formatElapsedInterval(value: any, start: any): string {\n            return this._format.formatElapsedInterval(value, start);\n        }\n\n        public getDateJSON(date: any): string {\n            return this._format.getDateJSON(date);\n        }\n\n    }\n\n    class DateFormatProvider extends DateFormat implements IDateFormatProvider {\n        private _translation: DateFormat;\n        private _service: DateFormatService;\n\n        public $get(): any {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new DateFormatService(this);\n\n            return this._service;\n        }\n    }\n\n    angular\n        .module('pipDate.Format', [])\n        .provider('pipDateFormat', DateFormatProvider);\n})();","export class DateRangeType {\n    static Year: string = 'year';\n    static Month: string = 'month';\n    static Week: string = 'week';\n    static WeekFromSunday: string = 'isoweek'; \n    static Day: string = 'day';\n    static All: string[] = ['year', 'month', 'week', 'isoweek', 'day'] \n}\n\nexport interface IDateConvertService {\n    defaultTimeZoneOffset: number;\n    \n    toJson(date: any): string;\n    toNextRange(date: any, type: string): Date;\n    toPrevRange(date: any, type: string): Date;\n    toCurrentRange(type: string): Date;\n\n    addHours(date: any, hours: number): Date;\n    toStartDay(date: any): Date;\n    toEndDay(date: any, offset: number): Date;\n    toStartWeek(date: any): Date;\n    toEndWeek(date: any, offset: number): Date;\n    toStartMonth(date: any): Date;\n    toEndMonth(date: any, offset: number): Date;\n    toStartYear(date: any): Date;\n    toEndYear(date: any, offset: number): Date;\n}\n\nexport interface IDateConvertProvider extends IDateConvertService, ng.IServiceProvider {\n}","\nangular.module('pipDate.Common', [\n    'pipDate.Convert',\n    'pipDate.Format',\n    'pipDate.Filter'\n]);\n\nimport './DateConvertService';\nimport './DateFormatFilter';\nimport './DateFormatService';\nimport './IDateConvertService';\nimport './IDateFormatService';\n\nexport * from './IDateConvertService';\nexport * from './IDateFormatService';","\n(() => {\n    interface IDateRangeBindings {\n        [key: string]: any;\n\n        timeMode: any;\n        disabled: any;\n        model: any;\n        pipChanged: any;\n        type: any;\n        pipDateFormat: any;\n        pipNoLine: any;\n    }\n\n    const DateRangeBindings: IDateRangeBindings = {\n        timeMode: '@pipTimeMode',\n        disabled: '&ngDisabled',\n        model: '=ngModel',\n        pipChanged: '&',\n        type: '@pipDateRangeType',\n        pipDateFormat: '@',\n        pipNoLine: '@'\n    }\n\n\n    class DateRangeChanges implements ng.IOnChangesObject, IDateRangeBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        timeMode: ng.IChangesObject<string>;\n        disabled: ng.IChangesObject<() => void>;\n        model: ng.IChangesObject<any>;\n        pipChanged: ng.IChangesObject<() => void>;\n        type: ng.IChangesObject<string>;\n        pipDateFormat: ng.IChangesObject<any>;\n        pipNoLine: ng.IChangesObject<any>;\n    }\n\n    class DateRangeController {\n        private currentDate: Date;\n        private currentYear: number;\n        private currentMonth: number;\n        private currentDay: number;\n        private prevState: any = {};\n        private currentState: any = {};\n        private localeDate: any;\n        private momentMonths: any;\n        private momentDays: any;\n        private momentShortDays: any;\n        private momentFirstDayOfWeek: any;\n\n        public type: string;\n        public pipChanged: Function;\n        public year: number;\n        public month: number;\n        public week: any;\n        public day: number;\n        public shortMonths: string[];\n        public days: number[];\n        public weeks: any[];\n        public months: number[];\n        public years: number[];\n        public nameDays: string[];\n        public model: any;\n        public disabled: Function;\n        public disableControls: boolean;\n        public timeMode: string;\n\n        constructor(\n            public $mdMedia: angular.material.IMedia,\n            private $timeout: ng.ITimeoutService,\n            $scope: ng.IScope,\n            $element,\n            $rootScope: ng.IRootScopeService,\n            $injector: angular.auto.IInjectorService) {\n\n            this.localeDate = moment.localeData();\n            this.momentMonths = angular.isArray(this.localeDate._months) ? this.localeDate._months : this.localeDate._months.standalone;\n            this.momentDays = angular.isArray(this.localeDate._weekdays) ? this.localeDate._weekdays : this.localeDate._weekdays.format;\n            this.momentShortDays = this.localeDate._weekdaysMin;\n            this.momentFirstDayOfWeek = this.localeDate._week.dow;\n\n            this.currentDate = new Date();\n            this.currentYear = this.currentDate.getUTCFullYear();\n            this.currentMonth = this.currentDate.getUTCMonth() + 1;\n            this.currentDay = this.currentDate.getUTCDate();\n\n            this.init();\n\n            this.disableControls = this.disabled ? this.disabled() : false;\n\n\n            $scope.$watch('$ctrl.type', (newValue, oldValue) => {\n                if (newValue !== oldValue && oldValue) {\n                    this.init();\n                }\n            });\n\n        }\n\n        public $onChanges(changes: DateRangeChanges) {\n            if (changes.type && changes.type.currentValue) {\n                this.type = changes.type.currentValue;\n                this.init();\n            }\n\n            /*if (changes.type && changes.type.currentValue && changes.type.currentValue != changes.type.previousValue) {\n               this.type = changes.type.currentValue; \n               this.init();\n           }\n   \n           if (changes.disabled && changes.disabled.currentValue) {\n                this.disableControls = changes.disabled.currentValue();\n           }\n   \n           if (changes.model && changes.model.currentValue) {\n                 this.getValue(changes.model.currentValue);\n           }*/\n\n        }\n\n        public onMonthChanged(): void {\n            if (this.type === 'weekly') {\n                let date: Date, dayOfWeek: number;\n                date = new Date(Date.UTC(this.year, this.month - 1, 1));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\n                this.correctWeek();\n                this.adjustWeek();\n            } else {\n                this.adjustDay();\n            }\n            this.setValue();\n        }\n\n        public onYearChanged(): void {\n            let date: Date, dayOfWeek: number;\n            date = new Date(Date.UTC(this.year, this.month - 1, 1));\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n            if (this.type === 'weekly') {\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\n                this.adjustWeek();\n                this.correctWeek();\n            } else {\n                this.adjustDay();\n            }\n            this.setValue();\n        };\n\n        public onWeekChange() {\n            if (this.type === 'weekly') {\n                this.adjustWeek();\n                this.correctWeek();\n            } else {\n                this.adjustDay();\n            }\n            this.setValue();\n        };\n\n        public isDay(): boolean {\n            return this.type === 'daily';\n        };\n\n        public isWeek(): boolean {\n            return this.type === 'weekly';\n        };\n\n        public isMonth(): boolean {\n            return this.type === 'daily' ||\n                this.type === 'weekly' ||\n                this.type === 'monthly';\n        };\n\n        public onChange() {\n            if (this.pipChanged) {\n                this.$timeout(() => {\n                    this.pipChanged();\n                }, 0);\n            }\n        };\n\n        private setCurrent() {\n            this.currentState.day = this.day;\n            this.currentState.month = this.month;\n            this.currentState.year = this.year;\n            this.currentState.week = this.week;\n            this.currentState.dateRangeType = this.type;\n            this.currentState.model = this.model;\n        }\n\n        private fillLists() {\n            this.days = this.dayList(this.month, this.year);\n            this.weeks = this.weekList(this.month, this.year);\n            this.months = this.monthList();\n            this.shortMonths = this.monthList();\n            this.years = this.yearList();\n        }\n\n        private correctWeek() {\n            if (!this.prevState.model || this.prevState.model && this.prevState.model.getTime() >= this.model.getTime()) {\n                // if shift week -> increase month\n                if (this.weeks && this.weeks[this.week] && this.weeks[this.week].id <= 0) {\n                    if (this.month < 12) {\n                        this.month += 1;\n                    } else {\n                        this.month = 1;\n                        this.year += 1;\n                    }\n                    this.fillLists();\n                }\n            }\n        }\n\n        private init() {\n            let value: Date;\n\n            value = this.model ? new Date(this.model) : null;\n            this.day = value ? value.getUTCDate() : null;\n            this.month = value ? value.getUTCMonth() + 1 : null;\n            this.year = value ? value.getUTCFullYear() : null;\n            this.week = value ? this.getWeekByDate(this.day, this.month - 1, this.year) : null;\n\n            this.fillLists();\n\n            if (this.type === 'weekly') {\n                this.correctWeek();\n            }\n            this.adjustWeek();\n            this.setValue();\n        }\n\n        public onYearClick() {\n            if (!this.year) {\n                this.year = this.currentYear;\n            }\n        };\n\n        public onMonthClick() {\n            if (!this.month) {\n                this.month = this.currentMonth;\n            }\n        };\n\n        public onDayClick() {\n            if (!this.year) {\n                this.day = this.currentDay;\n            }\n        };\n        // ---------------------------------------------------------------------------------------\n\n        public getCountDay(month: number, year: number): number {\n            let count = 31;\n\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\n                count = 30;\n                return count;\n            }\n\n            if (month === 2) {\n                if (year) {\n                    count = year % 4 === 0 ? 29 : 28;\n                    return count;\n                }\n                count = 28;\n            }\n\n            return count;\n\n        }\n\n        private dayList(month: number, year: number): number[] {\n            let count: number, days: number[];\n\n            count = this.getCountDay(month, year);\n            this.nameDays = [];\n            days = [];\n            for (let i: number = 1; i <= count; i++) {\n                days.push(i);\n                this.nameDays.push(this.momentShortDays[moment([year, month - 1, i]).weekday()]);\n            }\n\n            return days;\n        }\n\n        public getWeekByDate(day, month, year) {\n            let date: Date, dayOfWeek: number, startWeek;\n\n            date = new Date(Date.UTC(year, month, day));\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n\n            if (dayOfWeek === 1) {\n                startWeek = day;\n            } else {\n                startWeek = day + 1 - dayOfWeek;\n            }\n\n            return startWeek;\n        }\n\n        public getWeek(day: number, countDay: number, countPrevMonthDay) {\n            let endDay: number, startDay: number;\n\n            endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\n            startDay = day > 0 ? day : countPrevMonthDay + day;\n\n            return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\n        }\n\n        public weekList(month: number, year: number) { //    \n            let weeks: any[], countDay: number, countPrevMonthDay: number, startWeek: number;\n\n            weeks = [];  //        \n            countDay = this.getCountDay(month, year);\n            startWeek = this.getWeekByDate(1, month - 1, year);\n\n            countPrevMonthDay = month - 1 ? this.getCountDay(month - 1, year) : this.getCountDay(12, year - 1);\n            while (startWeek < countDay + 1) {\n                weeks.push({\n                    id: startWeek,\n                    name: this.getWeek(startWeek, countDay, countPrevMonthDay)\n                });\n                startWeek = startWeek + 7;\n            }\n\n            return weeks;\n        }\n\n        private monthList() {\n            let months: any[] = [];\n\n            for (let i: number = 1; i <= 12; i++) {\n                months.push({\n                    id: i,\n                    name: this.momentMonths[i - 1]\n                });\n            }\n\n            return months;\n        }\n\n        private yearList() {\n            let startYear: number, endYear: number, years: any[] = [];\n\n            switch (this.timeMode) {\n                case 'future':\n                    startYear = this.currentYear;\n                    endYear = this.currentYear + 100;\n                    break;\n                case 'past':\n                    startYear = this.currentYear - 100;\n                    endYear = this.currentYear;\n                    break;\n                case 'now':\n                    startYear = this.currentYear - 50;\n                    endYear = this.currentYear + 100;\n                    break;\n                default:\n                    startYear = this.currentYear - 50;\n                    endYear = this.currentYear + 50;\n                    break;\n            }\n            if (this.timeMode === 'future') {\n                for (let i: number = startYear; i <= endYear; i++) {\n                    years.push(i);\n                }\n            } else {\n                for (let i: number = endYear; i >= startYear; i--) {\n                    years.push(i);\n                }\n            }\n\n            return years;\n        }\n\n        private adjustDay() {\n            let days = this.dayList(this.month, this.year);\n\n            switch (this.type) {\n                case 'monthly':\n                    this.day = 1;\n                    break;\n                case 'yearly':\n                    this.month = 1;\n                    this.day = 1;\n                    break;\n                default:\n                    if (this.days.length !== days.length) {\n                        if (this.day > days.length) {\n                            this.day = days.length;\n                        }\n                    }\n                    break;\n            }\n            this.days = days;\n        }\n\n        private adjustWeek() {\n            let weeks = this.weekList(this.month, this.year);\n            this.week = this.getWeekByDate(this.week, this.month - 1, this.year);\n            this.weeks = weeks;\n        }\n\n        private getValue(v) {\n            let value: Date, day: number, month: number, year: number, week: string;\n\n            value = v ? new Date(v) : null;\n            // Define values\n            day = value ? value.getUTCDate() : null;\n            month = value ? value.getUTCMonth() + 1 : null;\n            year = value ? value.getUTCFullYear() : null;\n            week = value ? this.getWeekByDate(day, month - 1, year) : null;\n            // Exit if nothing to update\n            if (this.day === day && this.month === month && this.year === year && this.week === week) {\n                return;\n            }\n            // Assign values to scope\n            this.day = day;\n            this.month = month;\n            this.year = year;\n            this.week = week;\n\n            // Define data sources\n            this.days = this.dayList(this.month, this.year);\n            this.weeks = this.weekList(this.month, this.year);\n        }\n\n        public setValue() {\n            let value;\n\n            if (this.type === 'weekly') {\n                value = new Date(this.year, this.month - 1, this.week, 0, 0, 0, 0);\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                this.model = value;\n            } else {\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                this.model = value;\n            }\n\n            this.prevState = _.cloneDeep(this.currentState);\n            this.setCurrent();\n            this.onChange();\n        }\n\n    }\n\n    const daterange: ng.IComponentOptions = {\n        bindings: DateRangeBindings,\n        templateUrl: 'date_range/DateRange.html',\n        controller: DateRangeController \n\n    };\n    angular\n        .module('pipDateRange', ['pipDates.Templates'])\n        .component('pipDateRange', daterange)\n})();\n","\n(() => {\n    class TimeRangeData {\n        start: Date;\n        end: Date;\n    }\n\n    interface ITimeRangeBindings {\n        [key: string]: any;\n\n        start: any;\n        end: any;\n    }\n\n    const TimeRangeBindings: ITimeRangeBindings = {\n        start: '<pipStartDate',\n        end: '<pipEndDate'\n    }\n\n    class TimeRangeChanges implements ng.IOnChangesObject, ITimeRangeBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        start: ng.IChangesObject<Date>;\n        end: ng.IChangesObject<Date>;\n    }\n\n    class TimeRangeController {\n        public data: TimeRangeData;\n        public start: Date;\n        public end: Date;\n\n        constructor($scope: ng.IScope, $attrs: ng.IAttributes, $element: JQuery) {\n            this.data = new TimeRangeData();\n            this.defineStartDate();\n            this.defineEndDate();\n\n            $element.addClass('pip-time-range');\n        }\n\n        public $onChanges(changes: TimeRangeChanges) {\n            if (changes.start && changes.start.currentValue) {\n                this.data.start = null;\n                this.defineStartDate();\n            }\n            if (changes.end && changes.end.currentValue) {\n                this.data.end = null;\n                this.defineEndDate();\n            }\n        }\n\n        private getDateJSON(value: any): Date {\n            return value ? new Date(value) : null;\n        }\n\n        private defineStartDate() {\n            if (this.start !== null && this.start !== undefined) {\n                this.data.start = _.isDate(this.start) ? this.start\n                    : this.getDateJSON(this.start);\n            }\n        }\n\n        private defineEndDate() {\n            if (this.end !== null && this.end !== undefined) {\n                this.data.end = _.isDate(this.end) ? this.end\n                    : this.getDateJSON(this.end);\n            }\n        }\n\n        private toBoolean(value): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n    }\n\n    const TimeRangeComponent: ng.IComponentOptions = {\n        bindings: TimeRangeBindings,\n        templateUrl: 'time_range/TimeRange.html',\n        controller: TimeRangeController\n    }\n\n    angular.module('pipTimeRange', [])\n        .component('pipTimeRange', TimeRangeComponent);\n\n})();\n","export const IntervalTimeRange = 30;\nexport const MinutesInHour = 60;\nexport const HoursInDay = 24;\nexport const MillisecondsInSecond = 1000;\n\n{\n    class TimeRangeEditData {\n        endTime: number;\n        startTime: number;\n        startDate: Date;\n        endDate: Date;\n        duration: number;\n        bind: boolean = false;\n    }\n\n\n    interface ITimeRangeEditBindings {\n        [key: string]: any;\n\n        pipStartDate: any,\n        pipChanged: any,\n        pipEndDate: any,\n        pipStartLabel: any,\n        pipEndLabel: any,\n        disabled: any,\n        pipHideTime: any,\n        pipSize: any\n    }\n\n    const TimeRangeEditBindings: ITimeRangeEditBindings = {\n        pipStartDate: '<',\n        pipChanged: '=',\n        pipEndDate: '<',\n        pipStartLabel: '@',\n        pipEndLabel: '@',\n        disabled: '&ngDisabled',\n        pipHideTime: '=',\n        pipSize: '='\n    }\n\n    class TimeRangeEditChanges implements ng.IOnChangesObject, ITimeRangeEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipStartDate: ng.IChangesObject<Date>;\n        pipChanged: ng.IChangesObject<(start: Date, end: Date) => void>\n        pipEndDate: ng.IChangesObject<Date>;\n        pipStartLabel: ng.IChangesObject<string>;\n        pipEndLabel: ng.IChangesObject<string>;\n        disabled: ng.IChangesObject<() => void>;\n        pipHideTime: ng.IChangesObject<boolean>;\n        pipSize: ng.IChangesObject<any>;\n    }\n\n\n    class TimeRangeEditController {\n        public startLabel: string = 'Start time';\n        public endLabel: string = 'End time';\n        public pipStartLabel: string;\n        public pipEndLabel: string;\n\n        public pipEndDate: Date;\n        public pipStartDate: Date;\n        public pipHideTime: boolean;\n        public pipSize;\n        public showTime: boolean;\n        public data: TimeRangeEditData;\n        public intervalTimeCollection: any;\n        public disabled: () => boolean;\n\n        public pipChanged: (start: Date, end: Date) => void;\n\n        constructor(\n            private $injector: angular.auto.IInjectorService,\n            private pipDateConvert,\n            private $scope: ng.IScope,\n            $element: JQuery) {\n\n            this.translate();\n            this.intervalTimeCollection = this.getTimeInterval();\n            this.data = new TimeRangeEditData();\n            this.initDate();\n            this.defineDate();\n\n            // Add class\n            $element.addClass('pip-time-range-edit');\n        }\n\n        public $onChanges(changes: TimeRangeEditChanges) {\n            if (changes.pipStartDate && changes.pipStartDate.currentValue) {\n                this.pipStartDate = changes.pipStartDate.currentValue;\n                this.initDate();\n                this.defineDate();\n            }\n            if (changes.pipEndDate && changes.pipEndDate.currentValue) {\n                this.pipEndDate = changes.pipEndDate.currentValue;\n                this.initDate();\n                this.defineDate();\n            }\n\n        }\n\n        private translate() {\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    EVENT_NEW_START_TIME: 'Start time',\n                    EVENT_NEW_END_TIME: 'End time'\n                });\n                pipTranslate.setTranslations('ru', {\n                    EVENT_NEW_START_TIME: '',\n                    EVENT_NEW_END_TIME: ''\n                });\n                this.startLabel = this.pipStartLabel ? pipTranslate.translate(this.pipStartLabel)\n                    : pipTranslate.translate('EVENT_NEW_START_TIME');\n                this.endLabel = this.pipEndLabel ? pipTranslate.translate(this.pipEndLabel)\n                    : pipTranslate.translate('EVENT_NEW_END_TIME');\n            }\n        }\n\n        private getDateJSON(value: any): Date {\n            return value ? new Date(value) : null;\n        }\n\n        private setDuration() {\n            let start, end;\n\n            if (!this.data.startDate || !this.data.endDate) {\n                return null;\n            }\n\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\n\n            return end - start;\n        }\n\n        private validateStartDate() {\n            let date: Date, start: Date, end: Date, endTime: number, startTime: number;\n            //     ,   \n            if (!this.data.startDate) {\n                this.data.startTime = null;\n\n                return;\n            }\n\n            // c     -  \n            if (_.isUndefined(this.data.startTime) || _.isNull(this.data.startTime)) {\n                if (!this.data.endTime) {\n                    start = new Date();\n                    startTime = date.getTime() - this.pipDateConvert.toStartDay(date);\n                    this.data.startTime = Math.floor(startTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\n                } else {\n                    this.data.startTime = this.data.endTime === 0 ? 0 : this.data.endTime - IntervalTimeRange;\n                }\n            }\n\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\n\n            //   ,   .       \n            if (this.data.duration) {\n                end = new Date(start.getTime() + this.data.duration);\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\n                endTime = end.getTime() - this.data.endDate.getTime();\n                this.data.endTime = Math.floor(endTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\n            } else {\n                //     \n                end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\n                if (start >= end) {\n                    //    ,    \n                    this.data.endDate = this.pipDateConvert.toStartDay(new Date(start.getTime() + (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)));\n                    this.data.endTime = (this.data.startTime + IntervalTimeRange) % (HoursInDay * MinutesInHour); //   \n                }\n            }\n\n            this.data.startTime = Math.round(this.data.startTime / IntervalTimeRange) * IntervalTimeRange;\n        }\n\n\n        private validateEndDate() {\n            let date: any, start: Date, end: Date;\n\n            if (!this.data.endDate) {\n                this.data.endTime = null;\n\n                return;\n            }\n\n            // c     -  \n            if (_.isUndefined(this.data.endTime) || _.isNull(this.data.endTime)) {\n                if (!this.data.startTime) {\n                    date = new Date();\n                    date = date.getTime() - this.pipDateConvert.toStartDay(date);\n                    this.data.endTime = Math.floor(date / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\n                } else {\n                    this.data.endTime = this.data.startTime === (HoursInDay * MinutesInHour - IntervalTimeRange) ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.startTime + IntervalTimeRange;\n                }\n            }\n\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\n\n            if (start >= end) {\n                //    ,    \n                this.data.startDate = this.pipDateConvert.toStartDay(new Date(end.getTime() - IntervalTimeRange * MinutesInHour * MillisecondsInSecond));\n                this.data.startTime = this.data.endTime % (HoursInDay * MinutesInHour) === 0 ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.endTime - IntervalTimeRange;\n            }\n\n            this.data.endTime = Math.round(this.data.endTime / IntervalTimeRange) * IntervalTimeRange;\n            this.data.duration = this.setDuration();\n        }\n\n        private setDate() {\n            let time: number;\n\n            if (!this.data) this.data = new TimeRangeEditData();\n            this.data.bind = false;\n\n            if (this.data.startDate) {\n                time = this.data.startTime ? this.data.startTime * MinutesInHour * MillisecondsInSecond : 0;\n                this.pipStartDate = new Date(this.data.startDate.getTime() + time);\n            }\n\n            if (this.data.endDate) {\n                time = this.data.endTime ? this.data.endTime * MinutesInHour * MillisecondsInSecond : 0;\n                this.pipEndDate = new Date(this.data.endDate.getTime() + time);\n            }\n\n            this.data.bind = true;\n        }\n\n        private defineDate() {\n            let start: Date, end: Date;\n\n            if (this.pipStartDate !== null && this.pipStartDate !== undefined) {\n                start = _.isDate(this.pipStartDate) ? this.pipStartDate : null;\n\n                if (!start) {\n                    start = this.getDateJSON(this.pipStartDate);\n                }\n\n                this.data.startDate = this.pipDateConvert.toStartDay(start);\n                this.data.startTime = (<any>new Date(start) - <any>this.data.startDate) / (MinutesInHour * MillisecondsInSecond);\n            }\n\n            if (this.pipEndDate !== null && this.pipEndDate !== undefined) {\n                end = _.isDate(this.pipEndDate) ? this.pipEndDate : null;\n\n                if (!start) {\n                    end = this.getDateJSON(this.pipEndDate);\n                }\n\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\n                this.data.endTime = (<any>new Date(end) - <any>this.data.endDate) / (MinutesInHour * MillisecondsInSecond);\n            }\n\n            this.validateStartDate();\n            this.validateEndDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n        }\n\n        private getTimeInterval() {\n            let result, minutes: number;\n\n            result = [];\n            for (let i: number = 0; i < 24; i++) {\n                for (let j: number = 0; j < 2; j++) {\n                    minutes = j * IntervalTimeRange;\n                    result.push({\n                        id: i * MinutesInHour + minutes,\n                        time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\n                    });\n                }\n            }\n\n            return result;\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        private initDate() {\n            this.data.startDate = null;\n            this.data.startTime = null;\n            this.data.endDate = null;\n            this.data.endTime = null;\n            this.data.duration = null;\n            this.showTime = !this.toBoolean(this.pipHideTime);\n        }\n\n        public onChangeStartDate(newV) {\n            this.validateStartDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public onChangeEndDate() {\n            this.validateEndDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public onChangeStartTime() {\n            if (!this.data.startDate) {\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date());\n            }\n            this.validateStartDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public onChangeEndTime() {\n            if (!this.data.endDate) {\n                this.data.endDate = this.pipDateConvert.toStartDay(new Date());\n            }\n\n            this.validateEndDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public isDisabled() {\n            if (this.disabled) {\n                return this.disabled();\n            }\n\n            return false;\n        };\n\n    }\n\n    const TimeRangeEditComponent: ng.IComponentOptions = {\n        bindings: TimeRangeEditBindings,\n        templateUrl: 'time_range_edit/TimeRangeEdit.html',\n        controller: TimeRangeEditController\n    };\n    angular.module('pipTimeRangeEdit', [])\n        .component('pipTimeRangeEdit', TimeRangeEditComponent)\n\n}\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date/Date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.day\" placeholder=\"{{$ctrl.dayLabel}}\" ng-change=\"$ctrl.setValue()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.month\" placeholder=\"{{$ctrl.monthLabel}}\" ng-change=\"$ctrl.onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.year\" placeholder=\"{{$ctrl.yearLabel}}\" ng-change=\"$ctrl.onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range/DateRange.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"$ctrl.isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onDayClick()\" ng-model=\"$ctrl.day\" ng-change=\"$ctrl.setValue()\" placeholder=\"{{$ctrl.dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{$ctrl.nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" ng-model=\"$ctrl.week\" ng-change=\"$ctrl.onWeekChange()\" placeholder=\"{{$ctrl.weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isDay() || $ctrl.isWeek()\"></div><md-input-container ng-show=\"$ctrl.isMonth() && !$ctrl.monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isMonth() && $ctrl.monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onYearClick()\" ng-model=\"$ctrl.year\" ng-change=\"$ctrl.onYearChanged()\" placeholder=\"{{$ctrl.yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range/TimeRange.html',\n    '<p><span ng-if=\"$ctrl.data.start != null\">{{$ctrl.data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"$ctrl.data.start && $ctrl.data.end\">-</span> <span ng-if=\"$ctrl.data.end != null\">{{$ctrl.data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit/TimeRangeEdit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"$ctrl.data.startDate\" xmd-placeholder=\"{{$ctrl.startLabel}}\" ng-change=\"$ctrl.onChangeStartDate()\" ng-disabled=\"$ctrl.isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"$ctrl.data.startTime\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeStartTime($ctrl.data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"$ctrl.data.endDate\" xmd-placeholder=\"{{$ctrl.endLabel}}\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"$ctrl.data.endTime\" ng-change=\"$ctrl.onChangeEndTime()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\n\nclass ConfirmationDialogController extends  ConfirmationDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this._injector = $injector;\n\n        this.initTranslate();\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'CONFIRM_TITLE': 'Confirm' });\n            pipTranslate.translations('ru', { 'CONFIRM_TITLE': ''});\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('CONFIRM_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\n            this.cancel = pipTranslate.translate(this.cancel) || ('CANCEL');\n        } else {\n            this.title = this.title || 'Confirm';\n            this.ok = this.ok || 'OK';\n            this.cancel = this.cancel || 'Cancel';\n        }\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipConfirmationDialog')\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","export class ConfirmationDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Confirm button caption\n    public ok?: string;\n    // Dialog title\n    public title?: string; \n    // Cancel button caption\n    public cancel?: string;\n}\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\nimport { IConfirmationDialogService } from './IConfirmationDialogService';\n\nclass ConfirmationDialogService implements IConfirmationDialogService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params: ConfirmationDialogParams, successCallback?: () => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'confirmation/ConfirmationDialog.html',\n            controller: 'pipConfirmationDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n        })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipConfirmationDialog')\n    .service('pipConfirmationDialog', ConfirmationDialogService);","angular\n    .module('pipConfirmationDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ConfirmationDialogParams';\nimport './ConfirmationDialogController';\nimport './IConfirmationDialogService';\nimport './ConfirmationDialogService';\n\nexport * from './IConfirmationDialogService';\n","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\n\nclass ErrorDialogStrings {\n    public errorDetails: string = 'Error details';\n    public errorMessage: string = 'Message';\n    public errorCode: string = 'Code';\n    public errorMethod: string = 'Method';\n    public errorPath: string = 'Path';\n    public errorText: string = 'Error';   \n}\n\nclass ErrorDetailsDialogController extends ErrorDetailsDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: ng.material.IDialogService;\n    public theme: string;\n    public strings: ErrorDialogStrings;\n\n    constructor(\n        $mdDialog: ng.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n        \n        super();\n\n        this.strings = new ErrorDialogStrings();\n        this._injector = $injector;\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope.$theme;\n\n        this.initTranslate();\n\n        if (!this.error) {\n            this.error = '<none>';             \n        }\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', {\n                'OK': 'Ok',\n                'CANCEL': 'Cancel',\n                'ERROR_DETAILS': 'Error details',\n                'CODE': 'Error code',\n                'PATH': 'Path',\n                'ERROR': 'Error',\n                'METHOD': 'Method',\n                'MESSAGE': 'Message',\n                'DISMISS': 'Dismiss'\n            });\n            pipTranslate.translations('ru', {\n                'OK': '',\n                'CANCEL': '',\n                'ERROR_DETAILS': ' ',\n                'CODE': ' ',\n                'PATH': '',\n                'ERROR': '',\n                'METHOD': '',\n                'MESSAGE': ''\n            });\n            this.dismissButton = pipTranslate.translate(this.dismissButton) || pipTranslate.translate('DISMISS');\n\n            this.strings.errorDetails = pipTranslate.translate('ERROR_DETAILS');\n            this.strings.errorMessage = pipTranslate.translate('MESSAGE');\n            this.strings.errorCode = pipTranslate.translate('CODE');\n            this.strings.errorMethod = pipTranslate.translate('METHOD');\n            this.strings.errorPath = pipTranslate.translate('PATH');\n            this.strings.errorText = pipTranslate.translate('ERROR');\n        } else {\n            this.dismissButton = this.dismissButton || 'Dismiss';\n        }\n    }\n    \n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public isString(error): boolean {\n        return _.isString(error);\n    }\n\n    public getErrorText(): string {\n        let error: string;\n\n        if (_.isString(this.error)) { \n            return this.error\n        } \n        if (this.error && this.error.error) {\n            return this.error.error.toString();\n        }\n        if (this.error && this.error.data && this.error.data.error) {\n            return this.error.data.error.toString();\n        }\n        \n        return '<none>';\n    }\n\n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","export class ErrorDetailsDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Close button label\n    public dismissButton?: string;\n    // Error object or string\n    public error: any;\n}","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\nimport { IErrorDetailsDialogService } from './IErrorDetailsDialogService';\n\nclass ErrorDetailsDialogService implements IErrorDetailsDialogService {\n    public _mdDialog: angular.material.IDialogService;\n\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    \n    public show(params: ErrorDetailsDialogParams, \n        successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'error_details/ErrorDetailsDialog.html',\n            controller: 'pipErrorDetailsDialogController',\n            controllerAs: '$ctrl',\n            locals: params, \n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .service('pipErrorDetailsDialog', ErrorDetailsDialogService);","angular\n    .module('pipErrorDetailsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ErrorDetailsDialogParams';\nimport './ErrorDetailsDialogService';\nimport './ErrorDetailsDialogController';\n\nexport * from './ErrorDetailsDialogParams';\nexport * from './IErrorDetailsDialogService';","import { InformationDialogParams } from './InformationDialogParams';\n\nclass InformationDialogController extends InformationDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public content: string;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();        \n        this._injector = $injector;\n\n        this.initTranslate()\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        let content: string = this.message;\n        let item: string;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': '' });\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('INFORMATION_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\n            content = pipTranslate.translate(content);\n        } else {\n            this.title = this.title || 'Information';\n            this.ok = this.ok || 'OK';\n        }\n\n        let pipFormat: pip.services.IFormat = this._injector.has('pipFormat') \n            ? <pip.services.IFormat>this._injector.get('pipFormat') : null;\n\n        if (this.item && pipFormat) {\n            // item = _.truncate(params.item, 25);\n            content = pipFormat.sprintf(content, item);\n        }\n\n        this.content = content;        \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipInformationDialog')\n    .controller('pipInformationDialogController', InformationDialogController);","export class InformationDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Confirm button caption\n    public ok?: string;\n    // Dialog title\n    public title?: string; \n    // Dialog messag. You can use formatting options (%s, %d etc.). \n    public message: string;\n    // Paramentrs for message string\n    public item?: any;\n}","import { InformationDialogParams } from './InformationDialogParams';\nimport { IInformationDialogService } from './IInformationDialogService';\n\nclass InformationDialogService implements IInformationDialogService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'information/InformationDialog.html',\n            controller: 'pipInformationDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then(function () {\n            if (successCallback) {\n                successCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipInformationDialog')\n    .service('pipInformationDialog', InformationDialogService);","angular\n    .module('pipInformationDialog', [\n        'ngMaterial',\n        'pipDialogs.Translate', \n        'pipDialogs.Templates']);\n\nimport './InformationDialogParams';\nimport './InformationDialogController';\nimport './InformationDialogService';\n\n\nexport * from './IInformationDialogService';\nexport * from './InformationDialogParams';\n","import { OptionsDialogData } from './OptionsDialogData';\nimport { OptionsDialogParams } from './OptionsDialogParams';\nimport { OptionsDialogResult } from './OptionsDialogResult';\n\nclass OptionsDialogController extends OptionsDialogParams {\n    private _injector: ng.auto.IInjectorService;\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public optionIndex: number;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this.$mdDialog = $mdDialog;\n        this._injector = $injector;\n        this.theme = $rootScope['$theme'];\n        this.options = this.options || [];\n\n        this.initTranslate();\n        \n        this.selectedOption = _.find(this.options, {active: true}) || null;\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\n        let index: number = _.findIndex(this.options, (opt: OptionsDialogData) => {\n            return opt.name == name;\n        });\n        this.optionIndex = index == -1 ? 0 : index;\n        this.selectedOption = this.options[this.optionIndex];\n        this.selectedOptionName = this.selectedOption.name;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' ' });\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\n        } else {\n            this.title = this.title || 'Choose Option';\n            this.ok = this.ok || 'Select';\n        }\n              \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsDialogData) {\n        event.stopPropagation();\n        this.selectedOptionName = option.name;\n    }\n            \n    public onKeyPress (event: JQueryKeyEventObject) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            this.onSelect();\n        }\n    }\n\n    public onSelect() {\n        let option: OptionsDialogData;\n        option = _.find(this.options, { name: this.selectedOptionName });\n\n        this.$mdDialog.hide({ option: option, isCheckboxOption: this.isCheckboxOption });\n    }\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsDialog')\n    .controller('pipOptionsDialogController', OptionsDialogController);","\nexport class OptionsDialogData {\n    public icon: string = 'star';\n    public name: string;\n    public title: string;\n    public active: boolean = true; \n}\n","import { OptionsDialogData } from './OptionsDialogData';\n\nexport class OptionsDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Dialog title \n    public title?: string;\n    // confirm button title\n    public ok?: string;\n    // Dialog options array\n    public options?: OptionsDialogData[];\n    // Selected option by default\n    public selectedOption?: OptionsDialogData;\n    // Selected Option Name\n    public selectedOptionName?: string;\n    // Value for checkbox option\n    public isCheckboxOption?: boolean;\n    // Checkbox caption, Checkbox visible if caption is set\n    public checkboxOptionCaption?: string;\n}\n","import { OptionsDialogData } from './OptionsDialogData';\n\nexport class OptionsDialogResult {\n    public option: OptionsDialogData;\n    public isCheckboxOption: boolean;\n}\n","import { OptionsDialogParams } from './OptionsDialogParams';\nimport { OptionsDialogResult } from './OptionsDialogResult';\nimport { IOptionsDialogService } from './IOptionsDialogService';\n\nclass OptionsDialogService implements IOptionsDialogService {\n    public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public  show(params: OptionsDialogParams, \n        successCallback?: (result: OptionsDialogResult) => void, \n        cancelCallback?: () => void): any {\n        \n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsDialog.html',\n            controller: 'pipOptionsDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then((result: OptionsDialogResult) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipOptionsDialog')\n    .service('pipOptionsDialog', OptionsDialogService);","angular\n    .module('pipOptionsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsDialogData';\nimport './OptionsDialogParams';\nimport './OptionsDialogResult';\nimport './OptionsDialogController';\nimport './OptionsDialogService';\n\n\nexport * from './OptionsDialogData';\nexport * from './OptionsDialogParams';\nexport * from './OptionsDialogResult';\nexport * from './OptionsDialogService';\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\nimport { OptionsBigDialogData } from './OptionsBigDialogData';\n\nclass OptionsBigDialogController extends OptionsBigDialogParams {\n    private _injector: ng.auto.IInjectorService;\n    private $mdDialog: angular.material.IDialogService;\n\n    public theme: string;\n    public optionIndex: number;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this.$mdDialog = $mdDialog;\n        this._injector = $injector;\n        this.theme = $rootScope['$theme'];\n\n        this.initTranslate()\n\n        this.selectedOption = _.find(this.options, {active: true}) || null;\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\n        let index: number = _.findIndex(this.options, (opt: OptionsBigDialogData) => {\n            return opt.name == name;\n        });\n        this.optionIndex = index == -1 ? 0 : index;\n        this.selectedOption = this.options[this.optionIndex];\n        this.selectedOptionName = this.selectedOption.name;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' ' });\n\n            this.title =  pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\n        } else {\n            this.title = this.title || 'Choose Option';\n            this.ok = this.ok || 'Select';\n        }        \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigDialogData) {\n        event.stopPropagation();\n        this.selectedOptionName = option.name;\n\n        if (this.noActions) {\n            this.onSelect();\n        }\n    }\n\n    public onSelected() {\n        this.selectedOptionName = this.options[this.optionIndex].name;\n\n        if (this.noActions) {\n               this.onSelect();\n        }\n    }\n\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (index !== undefined && index > -1 && index < this.options.length) {\n                this.selectedOptionName = this.options[index].name;\n                this.onSelect();\n            }\n        }\n    }\n    \n    public onSelect = function () {\n        let option: OptionsBigDialogData;\n        option = <OptionsBigDialogData>_.find(this.options, { name: this.selectedOptionName }) || new OptionsBigDialogData();\n        this.$mdDialog.hide({ option: option });\n    };\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);\n","export class OptionsBigDialogData {\n    public name: string;\n    public title: string;\n    public subtitle: string;\n}\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\n\nexport class OptionsBigDialogParams {\n    // Mouse event\n    public event?: MouseEvent;   \n    // Dialog title \n    public title?: string;  \n    // confirm button title\n    public ok?: string;\n    // Dialog options array\n    public options?: OptionsBigDialogData[];\n    // Selected option by default\n    public selectedOption?: OptionsBigDialogData;\n    // Selected Option Name\n    public selectedOptionName?: string;    \n    // Dialog hint title\n    public hint?: string;\n    // Show title\n    public noTitle;\n    // Show action button\n    public noActions;\n}\n\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\n\nexport class OptionsBigDialogResult {\n    public option: OptionsBigDialogData;\n    public isCheckboxOption: boolean;\n}\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\nimport { OptionsBigDialogResult } from './OptionsBigDialogResult';\nimport { IOptionsBigDialogService } from './IOptionsBigDialogService';\n\nclass OptionsBigDialogService implements IOptionsBigDialogService {\n    public _mdDialog: angular.material.IDialogService;\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback?: (result: OptionsBigDialogResult) => void, cancelCallback?: () => void): any {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options_big/OptionsBigDialog.html',\n            controller: 'pipOptionsBigDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,        \n            clickOutsideToClose: true\n         })\n        .then((result: OptionsBigDialogResult) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .service('pipOptionsBigDialog', OptionsBigDialogService);","angular\n    .module('pipOptionsBigDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsBigDialogParams';\nimport './OptionsBigDialogData';\nimport './OptionsBigDialogResult';\nimport './OptionsBigDialogController';\nimport './OptionsBigDialogService';\n\n\nexport * from './OptionsBigDialogParams';\nexport * from './OptionsBigDialogData';\nexport * from './OptionsBigDialogResult';\nexport * from './IOptionsBigDialogService';\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{ ::$ctrl.theme }}\"><div class=\"pip-header\"><h3>{{ :: $ctrl.title }}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"$ctrl.onCancel()\">{{ :: $ctrl.cancel }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ :: $ctrl.ok }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetailsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{ ::$ctrl.strings.errorDetails | translate }}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ ::$ctrl.strings.errorCode | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ $ctrl.error.code || $ctrl.error.data.code }}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ ::$ctrl.strings.errorPath | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ $ctrl.error.path || $ctrl.error.data.path }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.isString($ctrl.error) || $ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ ::$ctrl.strings.errorText | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ $ctrl.getErrorText() }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ ::$ctrl.strings.errorMethod | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ $ctrl.error.method || $ctrl.error.data.method }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ ::$ctrl.strings.errorMessage | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ $ctrl.error.message || $ctrl.error.data.message }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"$ctrl.onOk()\">{{ ::$ctrl.dismissButton | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.checkboxOptionCaption\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"$ctrl.isCheckboxOption\" aria-label=\"CHECKBOX\">{{ ::$ctrl.checkboxOptionCaption | translate }}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"$ctrl.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"$ctrl.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in $ctrl.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'$ctrl.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == $ctrl.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{ option.icon }}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{ ::option.title | translate }}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{ ::option.title | translate }}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-header\"><h3>{{:: $ctrl.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ $ctrl.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ $ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_big/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !$ctrl.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': $ctrl.noTitle && $ctrl.hint}\"><h3 class=\"m0\" ng-if=\"!$ctrl.noTitle\">{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.noTitle && $ctrl.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{ ::$ctrl.hint | translate }}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"$ctrl.optionIndex\" index=\"{{ $ctrl.optionIndex }}\" pip-select=\"$ctrl.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == $ctrl.selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"$ctrl.onKeyUp($event, $index)\" ng-repeat=\"option in $ctrl.options\"><div class=\"pip-content content-stretch\" ng-click=\"$ctrl.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{ ::option.title | translate }}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{ ::option.subtitle | translate }}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"$ctrl.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!$ctrl.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\" style=\"margin-right: -6px\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","import { ActionsConfig } from './IActionsService';\nimport { ActionItem } from './IActionsService';\nimport { ActionsChangedEvent } from './IActionsService';\nimport { SecondaryActionsOpenEvent } from './IActionsService';\nimport { IActionsService } from './IActionsService';\nimport { IActionsProvider } from './IActionsService';\n\n\nclass ActionsService implements IActionsService {\n    private _config: ActionsConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: ActionsConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\n        this._config.primaryLocalActions = primaryActions || [];\n        this._config.secondaryLocalActions = secondaryActions || [];\n        this.sendChangeEvent();\n    }\n\n    public hide(): void {\n        this._config.primaryLocalActions = [];\n        this._config.secondaryLocalActions = [];\n        this.sendChangeEvent();\n    }\n\n    public updateCount(action: string, count: number) {\n        if (action == null || !_.isNumber(count)) return;\n\n        _.each(this._config.primaryGlobalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.primaryGlobalActions, (a) => {\n            a.count = null;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            a.count = null;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\n    }\n\n    public openMenuEvent(): void {\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\n    }\n}\n\nclass ActionsProvider implements IActionsProvider {\n    private _config: ActionsConfig = new ActionsConfig();\n    private _service: ActionsService;\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public set config(value: ActionsConfig) {\n        this._config = value || new ActionsConfig();\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ActionsService(this._config, $rootScope);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipActions')\n    .provider('pipActions', ActionsProvider);\n\n","export const ActionsChangedEvent: string = 'pipActionsChanged';\nexport const SecondaryActionsOpenEvent: string = 'pipSecondaryActionsOpen';\n\nexport class SimpleActionItem {\n    // Name to refer to the item\n    public name: string;\n    // Link visible title\n    public title?: string;\n    // Show divider instead of title\n    public divider?: boolean;\n    // Icon name from $iconProvider\n    public icon?: string;\n    // Counter badge\n    public count?: number;\n    // Access function\n    public access?: (action: SimpleActionItem) => boolean;\n    // Show on specified breakpoints\n    public breakpoints?: string[];\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public click?: (action: SimpleActionItem) => void;\n}\n\nexport class ActionItem extends SimpleActionItem {\n    public subActions: SimpleActionItem[];\n}\n\nexport class ActionsConfig {\n    // Primary global actions visible on the screen\n    public primaryGlobalActions: ActionItem[] = [];\n    // Primary local actions visible on the screen\n    public primaryLocalActions: ActionItem[] = [];\n\n    // Secondary global actions available in popup\n    public secondaryGlobalActions: ActionItem[] = [];\n    // Secondary local actions available in popup\n    public secondaryLocalActions: ActionItem[]= [];\n}\n\nexport interface IActionsService {\n    readonly config: ActionsConfig;\n\n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\n    hide(): void;\n    updateCount(link: string, count: number): void; \n    clearCounts(): void;\n    openMenuEvent(): void;\n}\n\nexport interface IActionsProvider extends ng.IServiceProvider {\n    config: ActionsConfig;\n    \n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n}","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\n\nclass PrimaryActionsController {\n    private _pipTranslate: pip.services.ITranslateService\n\n    public config: ActionsConfig;\n\n    public localActions: ActionItem[];\n    public globalActions: ActionItem[];\n    public originatorEv: any;\n\n    constructor(\n        private $element: ng.IAugmentedJQuery,\n        private $injector: ng.auto.IInjectorService,\n        private $scope: angular.IScope,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $location: ng.ILocationService,\n        private pipActions: IActionsService,\n        $log: ng.ILogService,\n        $attrs: ng.IAttributes\n\n    ) {\n        \"ngInject\";\n\n\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\n            this._pipTranslate.setTranslations('en', {\n                DOCUMENTS_ATTACHED: 'document(s) attached',\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\n            });\n            this._pipTranslate.setTranslations('ru', {\n                DOCUMENTS_ATTACHED: ' ',\n                ERROR_DOCUMENTS_LOADED: ': <%= error_number %> ()  '\n\n            });\n        }\n\n        // Apply class and call resize\n        this.$element.addClass('pip-primary-actions');\n\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\n            this.onActionsChanged(event, config);\n        });\n\n    }\n    \n    public $onInit() {\n        if (this.localActions) {\n            this.pipActions.primaryLocalActions = this.localActions;\n        }\n\n        if (this.globalActions) {\n            this.pipActions.primaryGlobalActions = this.globalActions;\n        }\n\n        this.config = this.pipActions.config;\n    }\n\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\n        this.config = config;\n    }\n\n    public isHidden(action: ActionItem): boolean {\n        // Todo: Check breakpoints here\n        return action.access && !action.access(action);\n    }\n\n    public actionCount(action: ActionItem): string {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return String(action.count);\n    }\n\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        if (action.subActions) {\n            $mdOpenMenu(this.originatorEv);\n            return;\n        }\n\n        if (_.isFunction(action.click)) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this.$window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this.$location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this.$injector.has('this._state')) {\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null ;\n                if (_state) {\n                    _state.go(action.state, action.stateParams);\n                }\n            }\n            return;\n        }\n\n        if (action.event) {\n            this.$rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\n\ninterface IPrimaryActionsBindings {\n    [key: string]: any;\n\n    localActions: any,\n    globalActions: any,\n    originatorEv: any\n}\n\nconst PrimaryActionsBindings: IPrimaryActionsBindings = {\n    localActions: '<pipLocalActions',\n    globalActions: '<pipGlobalActions',\n    originatorEv: '<?pipOriginatorEv'\n}\n\nclass PrimaryActionsChanges implements ng.IOnChangesObject, IPrimaryActionsBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    localActions: ng.IChangesObject<ActionItem[]>;\n    globalActions: ng.IChangesObject<ActionItem[]>;\n    originatorEv: ng.IChangesObject<any>;\n}\n\n\n(() => {\n    const primaryActions: ng.IComponentOptions = {\n        bindings: PrimaryActionsBindings,\n        templateUrl: 'actions/PrimaryActions.html',\n        controller: PrimaryActionsController\n    };\n\n\n    angular\n        .module('pipActions')\n        .component('pipPrimaryActions', primaryActions);\n\n})();","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\n\nclass SecondaryActionsController {\n    private pipTranslate: pip.services.ITranslateService\n    private _menuFn: Function;\n    private originatorEv: any;\n\n    public config: ActionsConfig;\n    public localActions: ActionItem[];\n    public globalActions: ActionItem[];\n\n    constructor(\n        private $attrs: ng.IAttributes,\n        private $injector: ng.auto.IInjectorService,\n        private $log: ng.ILogService,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $location: ng.ILocationService,\n        private pipActions: IActionsService,\n        $element: ng.IAugmentedJQuery,\n    ) {\n        \"ngInject\";\n\n        // Apply class and call resize\n        $element.addClass('pip-secondary-actions');\n\n        if (this.localActions) {\n            pipActions.secondaryLocalActions = this.localActions;\n        }\n\n        if (this.globalActions) {\n            pipActions.secondaryGlobalActions = this.globalActions;\n        }\n\n        this.config = pipActions.config;\n\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\n            this.onActionsChanged(event, config);\n        });\n\n        this.$rootScope.$on('pipSecondaryActionsOpen', () => {\n            this.onActionsMenuOpen();\n        });\n\n    }\n\n    public getMenu(menuFn: Function): void {\n         this._menuFn = menuFn;\n    }\n\n    public onActionsMenuOpen(): void {\n        this._menuFn();\n    }\n\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\n        this.originatorEv = ev;\n        $mdOpenMenu(ev);\n    }\n\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\n        this.config = config;\n    }\n\n    public isHidden(action: ActionItem): boolean {\n        // Todo: Check breakpoints here\n        return action.access && !action.access(action);\n    }\n\n    public actionCount(action: ActionItem): string {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return String(action.count);\n    }\n\n\n    private calcActions(actions: ActionItem[]): number {\n        let count: number = 0;\n\n        _.each(actions, (action: ActionItem) => {\n            if (!this.isHidden(action)) {\n                count++;\n            }\n        });\n\n        return count;\n    }\n\n    public secondaryActionsVisible() {\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\n            this.calcActions(this.config.secondaryLocalActions) > 0;\n    }\n\n    public secondaryDividerVisible() {\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\n            this.calcActions(this.config.secondaryLocalActions) > 0;\n    }\n\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        // todo: do not supported into ActionItem\n        // if (action.close) {\n        //     this.$scope.originatorEv = null;\n        // }\n\n        if (action.subActions) {\n            $mdOpenMenu(this.originatorEv);\n            return;\n        }\n\n        if (action.click) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this.$window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this.$location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this.$injector.has('this._state')) {\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null;\n                if (_state) {\n                    _state.go(action.state, action.stateParams);\n                }\n            }\n            return;\n        }\n\n        if (action.event) {\n            this.$rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\n\ninterface ISecondaryActionsBindings {\n    [key: string]: any;\n\n    localActions: any,\n    globalActions: any\n}\n\nconst SecondaryActionsBindings: ISecondaryActionsBindings = {\n    localActions: '<pipLocalActions',\n    globalActions: '<pipGlobalActions'\n}\n\nclass SecondaryActionsChanges implements ng.IOnChangesObject, ISecondaryActionsBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    localActions: ng.IChangesObject<ActionItem[]>;\n    globalActions: ng.IChangesObject<ActionItem[]>;\n}\n\n\n(() => {\n    const secondaryActions: ng.IComponentOptions = {\n        bindings: SecondaryActionsBindings,\n        templateUrl: 'actions/SecondaryActions.html',\n        controller: SecondaryActionsController\n    };\n\n    angular\n        .module('pipActions')\n        .component('pipSecondaryActions', secondaryActions);\n\n})();\n","angular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\n\nimport './ActionsService';\nimport './PrimaryActions';\nimport './SecondaryActions';\n\nexport * from './IActionsService';","import { AppBarConfig } from './AppBarConfig';\nimport { IAppBarService } from \"./IAppBarService\";\n\nclass AppBarController {\n    public config: AppBarConfig;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $rootScope: ng.IRootScopeService,\n        pipAppBar: IAppBarService\n    ) {\n        \"ngInject\";\n        // Apply class and call resize\n        $element.addClass('pip-appbar');\n        $element.addClass('color-primary-bg');\n\n        this.config = pipAppBar.config;\n\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\n            this.onAppBarChanged(event, config)\n        });\n    }\n\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\n        this.config = config;\n    }\n    \n}\n\n{\n    const appbar: ng.IComponentOptions = {\n        transclude: true,\n        templateUrl: 'appbar/AppBar.html',\n        controller: AppBarController\n    }\n\n    angular\n        .module('pipAppBar')\n        .component('pipAppbar', appbar);\n\n}","export class AppBarConfig {\n    visible: boolean;\n    parts: any;\n    classes: string[];\n} ","import { AppBarConfig } from './AppBarConfig';\nimport { IAppBarService } from \"./IAppBarService\";\n\nclass AppBarPartController {\n    \n    private _partName: string;\n    private _partValue: string;\n\n    constructor(\n        private $scope: ng.IScope,\n        $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        pipAppBar: IAppBarService\n    ) {\n        \"ngInject\";\n\n        this._partName = String($attrs['pipAppbarPart']);\n        this._partValue = null;\n\n        // Break part apart\n        let pos: number = this._partName.indexOf(':');\n        if (pos > 0) {\n            this._partValue = this._partName.substr(pos + 1);\n            this._partName = this._partName.substr(0, pos);\n        }\n\n        this.onAppBarChanged(null, pipAppBar.config);\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\n            this.onAppBarChanged(null, config)\n        });\n\n    }\n\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\n        let parts: any = config.parts || {};\n        let currentPartValue = parts[this._partName];\n\n        // Set visible variable to switch ngIf\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\n\n        if (visible != this.$scope['visible'])\n            this.$scope['visible'] = visible;\n    }\n\n}\n\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\n(() => {\n    function appbarPart(ngIfDirective) {\n        \"ngInject\";\n\n        var ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\n                // Visualize based on visible variable in scope\n                $attrs['ngIf'] = () => {\n                    return $scope['visible'];\n                };\n                ngIf.link.apply(ngIf, arguments);\n            },\n            controller: AppBarPartController\n        };\n    }\n\n    angular.module('pipAppBar')\n        .directive('pipAppbarPart', appbarPart);\n\n})();","import { AppBarConfig } from './AppBarConfig';\nimport { IAppBarService, IAppBarProvider } from './IAppBarService';\n\nexport const AppBarChangedEvent: string = 'pipAppBarChanged';\n\nclass AppBarService implements IAppBarService {\n    private _config: AppBarConfig;\n\n    public constructor(config: AppBarConfig, private $rootScope: ng.IRootScopeService) {\n        this._config = config;\n    }\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\n        this._config.visible = true;\n        this._config.parts = parts || this._config.parts || {};\n        this._config.classes = classes || this._config.classes || [];\n        if (shadowBreakpoints) {\n            this.setShadow(shadowBreakpoints); \n        }\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.visible = false;\n        this.sendConfigEvent();\n    }\n\n    private hideShadow(): void {\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\n    }\n\n    private setShadow(breakpoints: string[]): void {\n        this.hideShadow();\n\n        if (breakpoints != null && breakpoints.length > 0) {\n            _.each(breakpoints, (bp) => {\n                this._config.classes.push('pip-shadow-' + bp);\n            });\n        } else {\n            this._config.classes.push('pip-shadow');\n        }\n    }\n\n    public addShadow(...breakpoints: string[]): void {\n        this.setShadow(breakpoints);\n        this.sendConfigEvent();\n    }\n\n    public removeShadow(): void {\n        this.hideShadow();\n        this.sendConfigEvent();\n    }\n \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$broadcast(AppBarChangedEvent, this._config);\n    }\n}\n\nclass AppBarProvider implements IAppBarProvider {\n    private _config: AppBarConfig = {\n        visible: true,\n        parts: {},\n        classes: []\n    };\n    private _service: AppBarService;\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public set config(value: AppBarConfig) {\n        this._config = value || new AppBarConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AppBarService(this._config, $rootScope);\n\n        return this._service;\n    }     \n}\n\nangular\n    .module('pipAppBar')\n    .provider('pipAppBar', AppBarProvider);\n","angular\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\n\nimport './AppBarConfig';\nimport './AppBarService';\nimport './AppBar';\nimport './AppBarPart';\n\nexport * from './AppBarService';\n","import { SimpleActionItem } from '../actions/IActionsService';\nimport { BreadcrumbItem } from './BreadcrumbConfig';\nimport { BreadcrumbConfig } from './BreadcrumbConfig';\nimport { IBreadcrumbService } from './IBreadcrumbService';\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\nimport { OpenSearchEvent } from '../search/SearchService';\n\nclass BreadcrumbController {\n    private originatorEv: Event;\n    private _media: any;\n\n    public config: BreadcrumbConfig;\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $location: ng.ILocationService,\n        private $injector: ng.auto.IInjectorService,\n        pipBreadcrumb: IBreadcrumbService,\n        $mdMedia: angular.material.IMedia,\n        $state: ng.ui.IStateService,\n        $element: ng.IAugmentedJQuery,\n    ) {\n        \"ngInject\";\n\n        // Apply class and call resize\n        $element.addClass('pip-breadcrumb');\n\n        this.config = pipBreadcrumb.config;\n\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\n            this.onBreadcrumbChanged(event, config);\n        });\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\n    }\n\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\n        this.config = config;\n    }\n\n    private onBreadcrumbBack(): void {\n        let items: BreadcrumbItem[] = this.config.items;\n        // Go to the last breadcrumb item\n        if (_.isArray(items) && items.length > 0) {\n            let item: BreadcrumbItem = items[items.length - 1];\n            if (_.isFunction(item.click)) {\n                item.click(item);\n            } else {\n                this.$window.history.back();\n            }\n        } else {\n            this.$window.history.back();\n        }\n    }\n\n    public onClick(item: BreadcrumbItem): void {\n        if (_.isFunction(item.click)) {\n            item.click(item);\n        }\n    }\n\n    public openSearch(): void {\n        this.$rootScope.$broadcast(OpenSearchEvent);\n    }\n\n    public actionsVisible(item: BreadcrumbItem): boolean {\n\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\n    }\n\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\n        this.originatorEv = event;\n        $mdOpenMenu(this.originatorEv);\n    }\n\n    public onSubActionClick(action: SimpleActionItem): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        if (_.isFunction(action.click)) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this.$window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this.$location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this.$injector.has('$state')) {\n                let _state: angular.ui.IStateService = this.$injector.get('$state') as ng.ui.IStateService\n                _state.go(action.state, action.stateParams);\n            }\n            return;\n        }\n\n        if (action.event) {\n            this.$rootScope.$broadcast(action.event);\n            this.originatorEv = null;\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\n            this.originatorEv = null;\n        }\n    }\n}\n\nconst breadcrumb: ng.IComponentOptions = {\n    bindings: {},\n    templateUrl: 'breadcrumb/Breadcrumb.html',\n    controller: BreadcrumbController\n}\n\nangular\n    .module('pipBreadcrumb')\n    .component('pipBreadcrumb', breadcrumb);","import { SimpleActionItem } from '../actions/IActionsService';\nexport class BreadcrumbItem {\n    title: string = null;\n    click?: (item: BreadcrumbItem) => void = null;   \n    subActions?: SimpleActionItem[] = null; \n}\n\nexport class BreadcrumbConfig {\n    text: string;\n    items: BreadcrumbItem[];\n    criteria: string;\n}\n","import { BreadcrumbItem, BreadcrumbConfig } from './BreadcrumbConfig';\nimport { IBreadcrumbService, IBreadcrumbProvider } from './IBreadcrumbService';\n\nexport const BreadcrumbChangedEvent: string = \"pipBreadcrumbChanged\";\nexport const BreadcrumbBackEvent: string = \"pipBreadcrumbBack\";\n\nclass BreadcrumbService implements IBreadcrumbService {\n    private _config: BreadcrumbConfig;\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService,\n        config: BreadcrumbConfig\n    ) {\n        this._config = config;\n    }\n\n    public get config() {\n        return this._config;\n    }\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n        this._config.items = null;\n\n        this.sendConfigEvent();\n    }\n\n    public get items(): BreadcrumbItem[] {\n        return this._config.items;\n    }\n\n    public set items(value: BreadcrumbItem[]) {\n        this._config.text = null;\n        this._config.items = value;\n\n        this.sendConfigEvent();\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public showText(text: string, criteria?: string): void {\n        this._config.text = text;\n        this._config.items = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\n        this._config.items = items || [];\n        this._config.text = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public sendConfigEvent() {\n        this.$rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\n    }\n}\n\n\nclass BreadcrumbProvider implements IBreadcrumbProvider, ng.IServiceProvider {\n    private _config: BreadcrumbConfig = new BreadcrumbConfig();\n    private _service: BreadcrumbService;\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService): IBreadcrumbService {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new BreadcrumbService($rootScope, this._config);\n\n        return this._service;\n    }\n}\n\n\nangular\n    .module('pipBreadcrumb')\n    .provider('pipBreadcrumb', BreadcrumbProvider);\n","angular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\n\nimport './Breadcrumb';\nimport './BreadcrumbService';\n\nexport * from './BreadcrumbService';\n\n\n","import { INavService } from './INavService'\nimport { INavIconService } from '../icon/INavIconService';\nimport { INavMenuService } from '../menu/INavMenuService';\nimport { INavHeaderService } from '../header/INavHeaderService';\nimport { IBreadcrumbService } from '../breadcrumb/IBreadcrumbService';\nimport { ISearchService } from '../search/ISearchService';\nimport { IActionsService } from '../actions/IActionsService';\nimport { IAppBarService } from '../appbar/IAppBarService';\nimport { ISideNavService } from '../sidenav/ISideNavService';\n\nclass NavService implements INavService {\n\n    public appbar: IAppBarService;\n    public icon: INavIconService;\n    public breadcrumb: IBreadcrumbService;\n    public actions: IActionsService;\n    public search: ISearchService;\n    public sidenav: ISideNavService;\n    public header: INavHeaderService;\n    public menu: INavMenuService;\n\n    public constructor($injector: ng.auto.IInjectorService) {\n        \"ngInject\";\n\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\n    }\n\n    public reset() {\n        // Reset appbar\n        if (this.appbar) {\n            this.appbar.show();\n        }\n\n        // Reset icon\n        if (this.icon) {\n            this.icon.showMenu();\n        }\n\n        // Reset breadcrumb\n        if (this.breadcrumb) {\n            this.breadcrumb.showText(null);\n        }\n\n        // Reset actions\n        if (this.actions) {\n            this.actions.show();\n        }\n\n        // Reset search\n        if (this.search) {\n            this.search.set(null);\n        }\n\n        if (this.sidenav) {\n            this.sidenav.show();\n        }\n\n    }\n}\n\nangular\n    .module('pipNavService', [])\n    .service('pipNavService', NavService);","{\n    class DropdownController {\n        private _pipTranslate: pip.services.ITranslateService;\n        private _pipTheme: pip.themes.IThemeService;\n        private _pipMedia: pip.layouts.IMediaService;\n\n        public themeClass: string;\n        public media: any;\n        public actions: any[]; // string or array\n        public activeIndex: number;\n        public selectedIndex: number;\n        public currentTheme: string;\n\n        public ngDisabled: Function;\n        public showDropdown: Function;\n        public select: any;\n        public pipChange: Function;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $timeout: ng.ITimeoutService,\n            $element: ng.IAugmentedJQuery,\n            $attrs: ng.IAttributes,\n            $injector: ng.auto.IInjectorService,\n            $log: ng.ILogService,\n            $rootScope: ng.IRootScopeService,\n            $mdMedia: angular.material.IMedia,\n\n        ) {\n            \"ngInject\";\n\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\n\n            if (this._pipTheme) {\n                this.currentTheme = this._pipTheme.theme;\n            } else if ($rootScope['$theme']) {\n                this.currentTheme = $rootScope['$theme'];\n            }\n\n            this.themeClass = ($attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\n\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\n            this.media = !_.isUndefined(this._pipMedia) ? this._pipMedia : $mdMedia;\n            this.actions = (this.actions && _.isArray(this.actions)) ? this.actions : [];\n            this.activeIndex = this.activeIndex || 0;\n        }\n\n        public disabled(): boolean {\n            if (this.ngDisabled) {\n                return this.ngDisabled();\n            } else {\n                return false;\n            }\n        }\n\n        public onSelect(index: number): void {\n            this.activeIndex = index;\n            if (this.select) {\n                this.select(this.actions[index], this.activeIndex);\n            }\n\n            if (this.pipChange) {\n                this.$timeout(() => {\n                    this.pipChange();\n                });\n            }\n        }\n\n        public show(): boolean {\n            let result: boolean;\n            if (this.showDropdown()) {\n                return !!this.showDropdown();\n            } else {\n                return true;\n            }\n        }\n\n    }\n\n\n    interface IDropdownBindings {\n        [key: string]: any;\n\n        ngDisabled: any,\n        actions: any,\n        showDropdown: any,\n        activeIndex: any,\n        select: any,\n        pipChange: any\n    }\n\n    const DropdownBindings: IDropdownBindings = {\n        ngDisabled: '&',\n        actions: '=pipActions',\n        showDropdown: '&pipShow',\n        activeIndex: '=pipActiveIndex',\n        select: '=pipDropdownSelect',\n        pipChange: '&'\n    }\n\n    class DropdownChanges implements ng.IOnChangesObject, IDropdownBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<Function>;\n        actions: ng.IChangesObject<any>;\n        showDropdown: ng.IChangesObject<Function>;\n        activeIndex: ng.IChangesObject<number>;\n        select: ng.IChangesObject<any>;\n        pipChange: ng.IChangesObject<Function>;\n    }\n\n    const dropdown: ng.IComponentOptions = {\n        bindings: DropdownBindings,\n        templateUrl: 'dropdown/Dropdown.html',\n        controller: DropdownController\n    };\n\n    angular\n        .module('pipDropdown', ['pipNav.Templates'])\n        .component('pipDropdown', dropdown);\n\n}","import { INavHeaderService } from \"./INavHeaderService\";\nimport { NavHeaderConfig } from \"./NavHeaderConfig\";\n\n{\n    class NavHeaderController {\n        private cleanupNavHeaderChanged: Function;\n        private cleanupSideNavStateChanged: Function;\n\n        public title: string;\n        public subtitle: string;\n        public imageUrl: string = null;\n        public imageCss: string;\n        public image: any;\n        public imageBlock: any;\n        public loadedDefaultImage: boolean;\n        public showHeader: boolean;\n\n        constructor(\n            private $element: ng.IAugmentedJQuery,\n            private $scope: angular.IScope,\n            $log: ng.ILogService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private pipNavHeader: INavHeaderService,\n            navConstant: any\n\n        ) {\n            \"ngInject\";\n\n            // Apply class and call resize\n            $element.addClass('pip-sticky-nav-header');\n\n            this.initImage();\n\n            this.cleanupNavHeaderChanged = $rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\n                this.onNavHeaderChanged($event, config)\n            });\n            this.cleanupSideNavStateChanged = $rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\n                this.onStateChanged($event, state)\n            });\n\n        }\n\n        public $onDestroy() {\n\n            if (angular.isFunction(this.cleanupNavHeaderChanged)) {\n                this.cleanupNavHeaderChanged();\n            }\n            if (angular.isFunction(this.cleanupSideNavStateChanged)) {\n                this.cleanupSideNavStateChanged();\n            }\n        }\n\n        private initImage() {\n            this.imageBlock = this.$element.find('.pip-sticky-nav-header-user');\n\n            this.$timeout(() => {\n                this.image = this.$element.find('.pip-sticky-nav-header-user-image');\n\n                if (this.image[0]) {\n                    this.image[0].onload = (() => this.onImageLoad());\n\n                    // ($event: HTMLElement, erroev: Event): any =>  {\n                    //     this.onImageLoad($event);\n                    //     return null;\n                    // }\n                    this.image[0].onerror = (() => this.onImageError());\n                    // ($event: ng.IAngularEvent) => {\n                    //     this.onImageError($event);\n                    // }\n                } else {\n                    this.image.onload = (() => this.onImageLoad());\n                    this.image.onerror = (() => this.onImageError());\n                }\n\n                this.onNavHeaderChanged(null, this.pipNavHeader.config);\n            }, 20);\n        }\n\n        private initHeader() {\n            if (!this.pipNavHeader.config) return;\n\n            this.title = this.pipNavHeader.config.title;\n            this.subtitle = this.pipNavHeader.config.subtitle;\n            this.imageUrl = this.pipNavHeader.config.imageUrl;\n            this.imageCss = this.pipNavHeader.config.imageCss;\n        }\n\n        // // When image is loaded resize/reposition it\n        // private onImageLoad($event) {\n        //     let image: ng.IAugmentedJQuery = $($event.target);\n        //     this.setImageMarginCSS(image);\n        // };\n\n        // private onImageError($event) {\n        //     if (this.loadedDefaultImage) return;\n        //     this.$scope.$apply(() => {\n        //         this.setImage(this.pipNavHeader.config, true);\n        //     });\n        // };\n        // When image is loaded resize/reposition it\n        private onImageLoad() {\n            this.setImageMarginCSS(this.image);\n        };\n\n        private onImageError() {\n            if (this.loadedDefaultImage) return;\n            this.$scope.$apply(() => {\n                this.setImage(this.pipNavHeader.config, true);\n            });\n        };\n\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\n            if (state === undefined) return;\n\n            if (state.id == 'toggle') {\n                this.$timeout(() => {\n                    this.showHeader = state && state.id == 'toggle';\n                }, 400);\n            } else {\n                this.showHeader = false;\n            }\n        }\n\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\n            var cssParams = {},\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\n                imageWidth = image[0]['naturalWidth'] || image.width,\n                imageHeight = image[0]['naturalHeight'] || image.height,\n                margin = 0;\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\n                cssParams['width'] = '' + containerWidth + 'px';\n                cssParams['margin-left'] = '';\n            }\n\n            image.css(cssParams);\n        };\n\n        private setImage(config, loadError: boolean) {\n            if (!config) return;\n\n            let url: string;\n\n            if (!loadError && !!config.imageUrl) {\n                url = config.imageUrl;\n            } else {\n                this.loadedDefaultImage = true;\n                url = config.defaultImageUrl;\n            }\n\n            if (url && this.image) {\n                this.image.attr('src', url);\n            } else {\n                this.imageBlock.css(\"display\", \"none\");\n            }\n        }\n\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\n            if (!config) return;\n\n            this.title = config.title;\n            this.subtitle = config.subtitle;\n            this.imageUrl = config.imageUrl;\n            this.imageCss = config.imageCss;\n\n            this.setImage(config, false)\n        }\n\n        public onUserClick() {\n            this.$rootScope.$broadcast('pipNavUserClicked'); // todo\n        }\n\n    }\n\n    const navHeader: ng.IComponentOptions = {\n        templateUrl: 'header/NavHeader.html',\n        controller: NavHeaderController\n    };\n\n    angular\n        .module('pipNavHeader')\n        .component('pipNavHeader', navHeader);\n\n}","export class NavHeaderConfig {\n    // Image url\n    public imageUrl: string;\n    // Image url\n    public defaultImageUrl: string;\n    // Title\n    public title: string;\n    // Subtitle\n    public subtitle: string;\n    // image styles\n    public imageCss: string;\n    // Handle header click event\n    click: () => void;\n    // Event name\n    event: string\n};","import { NavHeaderConfig } from \"./NavHeaderConfig\";\nimport { INavHeaderService, INavHeaderProvider } from \"./INavHeaderService\";\n\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\n\nclass NavHeaderService implements INavHeaderService {\n    private _config: NavHeaderConfig;\n\n    public constructor(config: NavHeaderConfig, private $rootScope: ng.IRootScopeService) {\n        this._config = config;\n    }\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n        this.sendConfigEvent();\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n        this.sendConfigEvent();\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n        this.sendConfigEvent();\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n        this.sendConfigEvent();\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n        this.sendConfigEvent();\n    }\n\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n        } else {\n            this._config.click = null;\n        }\n        if (_.isString(callbackOrEvent)) {\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.event = null;\n        }\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$emit(NavHeaderChangedEvent, this._config);\n    }\n}\n\nclass NavHeaderProvider implements INavHeaderProvider {\n    private _config: NavHeaderConfig = new NavHeaderConfig();\n    private _service: NavHeaderService;\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public set config(value: NavHeaderConfig) {\n        this._config = value || new NavHeaderConfig();\n    }\n\n    public get defaultImageUrl(): string {\n        return this._config.defaultImageUrl;\n    }\n\n    public set defaultImageUrl(value: string) {\n        this._config.defaultImageUrl = value;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n    }\n\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n        } else {\n            this._config.click = null;\n        }\n        if (_.isString(callbackOrEvent)) {\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.event = null;\n        }\n    }\n\n    public clear(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavHeaderService(this._config, $rootScope);\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipNavHeader')\n    .provider('pipNavHeader', NavHeaderProvider);\n","angular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\n\nimport './NavHeaderService';\nimport './NavHeader';\n\nexport * from './NavHeaderService';","import { OpenSideNavEvent } from '../sidenav/SideNavService';\nimport { NavIconConfig } from './NavIconConfig';\nimport { INavIconService } from './INavIconService';\nimport { NavIconClickedEvent, NavIconChangedEvent } from './NavIconService';\n\ninterface INavIconBindings {\n    [key: string]: any;\n\n    type: any;\n    imageUrl: any;\n    icon: any;\n}\n\nconst NavIconBindings: INavIconBindings = {\n    type: '<?pipType',\n    imageUrl: '<?pipImageUrl',\n    icon: '<?pipIcon'\n}\n\nclass NavIconChanges implements ng.IOnChangesObject, INavIconBindings {\n    [key: string]: ng.IChangesObject<any>;\n    // Not one way bindings\n\n    type: ng.IChangesObject<string>;\n    imageUrl: ng.IChangesObject<string>;\n    icon: ng.IChangesObject<string>;\n}\n\nclass NavIconController implements INavIconBindings {\n    private clearFn: Function;\n\n    public config: NavIconConfig;\n    public type: string;\n    public imageUrl: string;\n    public icon: string;\n\n    constructor(\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        $element: ng.IAugmentedJQuery,\n        $scope: angular.IScope,\n        $log: ng.ILogService,\n        pipNavIcon: INavIconService\n    ) {\n        \"ngInject\";\n\n\n        // Apply class and call resize\n        $element.addClass('pip-nav-icon');\n\n        this.config = pipNavIcon.config;\n\n        this.clearFn = $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\n            this.onNavIconChanged(event, config)\n        });\n\n    }\n\n    public $onInit() {\n        if (this.type) {\n            this.config.type = this.type;\n        }\n        if (this.imageUrl) {\n            this.config.imageUrl = this.imageUrl;\n        }\n        if (this.icon) {\n            this.config.icon = this.icon;\n        }        \n    }\n\n    public $onDestroy() {\n        if (_.isFunction(this.clearFn)) {\n            this.clearFn();\n        }\n    }\n\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\n        this.config = config;\n    }\n\n    public onNavIconClick(): void {\n        if (_.isFunction(this.config.click)) {\n            // Execute nav icon callback\n            this.config.click();\n        } else if (this.config.event) {\n            this.$rootScope.$broadcast(this.config.event);\n        } else if (this.config.type == 'menu') {\n            this.$rootScope.$broadcast(OpenSideNavEvent);\n        } else if (this.config.type == 'back') {\n            this.$window.history.back();\n        } else {\n            this.$rootScope.$broadcast(NavIconClickedEvent);\n        }\n    }\n\n}\n\nconst NavIcon: ng.IComponentOptions = {\n    bindings: NavIconBindings,\n    templateUrl: 'icon/NavIcon.html',\n    controller: NavIconController\n}\n\nangular\n    .module('pipNavIcon')\n    .component('pipNavIcon', NavIcon);\n","export class NavIconConfig {\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\n    public type: string;\n    // Image url\n    public imageUrl: string;\n    // Icon name\n    public icon: string;\n    // Handle nav icon click event\n    click: () => void;\n    // Event name\n    event: string\n};","import { NavIconConfig } from './NavIconConfig';\nimport { INavIconService, INavIconProvider } from './INavIconService';\n\nexport const NavIconClickedEvent: string = 'pipNavIconClicked';\nexport const NavIconChangedEvent: string = 'pipNavIconChanged';\n\nclass NavIconService implements INavIconService {\n    private _config: NavIconConfig;\n\n    public constructor(config: NavIconConfig, private $rootScope: ng.IRootScopeService) {\n        this._config = config;\n    }\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n            this._config.event = null;\n        } else if (_.isString(callbackOrEvent)) {\n            this._config.click = null;\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.click = null;\n            this._config.event = null;\n        }\n    }\n\n    public showMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$broadcast(NavIconChangedEvent, this._config);\n    }\n}\n\nclass NavIconProvider implements INavIconProvider {\n    private _config: NavIconConfig = new NavIconConfig();\n    private _service: NavIconService;\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    public set config(value: NavIconConfig) {\n        this._config = value || new NavIconConfig();\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent))\n            this._config.click = callbackOrEvent;\n        else this._config.click = null;\n\n        if (_.isString(callbackOrEvent))\n            this._config.event = callbackOrEvent;\n        else this._config.event = null;\n    }\n\n    public setMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public clear(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavIconService(this._config, $rootScope);\n\n        return this._service;\n    }\n     \n}\n\n\nangular\n    .module('pipNavIcon')\n    .provider('pipNavIcon', NavIconProvider);\n","angular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavIconConfig';\nimport './INavIconService';\nimport './NavIconService';\nimport './NavIcon';\n\n\nexport * from './NavIconConfig';\nexport * from './INavIconService';\nexport * from './NavIconService';\n","{\n    class LanguagePickerDirectiveController implements ILanguagePickerBindings {\n        private _translate: pip.services.ITranslateService;\n        public languages: string[] = ['en', 'ru'];\n        public value: string = null;\n\n        public constructor(\n            $element: ng.IAugmentedJQuery,\n            $injector: ng.auto.IInjectorService,\n            $rootScope: ng.IRootScopeService\n        ) {\n            \"ngInject\";\n\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n\n            // Apply class and call resize\n            $element.addClass('pip-language-picker');\n\n            this.setLanguages(this.languages);\n\n            this.value = this.value  || this.languages[0];\n        }\n\n        public get language() {\n            return this._translate ? this._translate.language : null;\n        }\n\n        public setLanguages(languages: string[]): void {\n            this.languages = languages.length > 0 ? languages : ['en', 'ru'];\n        }\n\n        public onLanguageClick(language: string) {\n            if (this._translate != null) {\n                this.value = language;\n                // this.$timeout(() => {\n                this._translate.language = this.value;\n                // }, 0);\n            }\n        }\n\n    }\n\n    interface ILanguagePickerBindings {\n        [key: string]: any;\n\n        languages: any,\n        value: any\n    }\n\n    const LanguagePickerBindings: ILanguagePickerBindings = {\n        languages: '<languages',\n        value: '=?value'\n    }\n\n    const languagePickerDirective: ng.IComponentOptions = {\n        bindings: LanguagePickerBindings,\n        templateUrl: 'language/LanguagePicker.html',\n        controller: LanguagePickerDirectiveController\n    }\n\n    angular\n        .module('pipLanguagePicker', [\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\n        ])\n        .component('pipLanguagePicker', languagePickerDirective);\n\n}","import { ISideNavService} from '../sidenav/ISideNavService';\nimport { INavMenuService} from './INavMenuService';\nimport { SideNavStateNames, SideNavState, SideNavConfig } from '../sidenav/SideNavState';\nimport { NavMenuConfig, NavMenuSection, NavMenuLink } from './NavMenuConfig';\n\n(() => {\n    class NavMenuController {\n        private _state: angular.ui.IStateService;\n        private _pipMedia: pip.layouts.IMediaService;\n        private _animationDuration;\n        private _pipSideNavElement: ng.IAugmentedJQuery;\n\n        public sections: NavMenuSection[];\n        public defaultIcon: string;\n        public isCollapsed: boolean;\n        public expanded: boolean;\n        public expandedButton: boolean;\n        public sideNavState: SideNavState;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $window: ng.IWindowService,\n            private $location: ng.ILocationService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private pipSideNav: ISideNavService,\n            private pipNavMenu: INavMenuService,\n\n            $element: ng.IAugmentedJQuery,\n            $injector: ng.auto.IInjectorService,\n            navConstant: any\n\n        ) {\n            \"ngInject\";\n\n            this._state = $injector.has('$state') ? <angular.ui.IStateService>$injector.get('$state') : null;\n\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\n                this._pipSideNavElement = $element.parent().parent();\n            // Apply class and call resize\n            $element.addClass('pip-sticky-nav-menu');\n\n            this.sections = this.$scope['sections'] || this.pipNavMenu.sections;\n\n            this.setCollapsible();\n\n            this.defaultIcon = this.pipNavMenu.defaultIcon;\n\n            this.onStateChanged(null, this.pipSideNav.state);\n\n            let cleanupNavMenuChanged: Function = this.$rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\n                this.onConfigChanged($event, config)\n            });\n            let cleanupSideNavStateChanged: Function = this.$rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\n                this.onStateChanged($event, state)\n            });\n\n            this.$scope.$on('$destroy', () => {\n                if (angular.isFunction(cleanupNavMenuChanged)) {\n                    cleanupNavMenuChanged();\n                }\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\n                    cleanupSideNavStateChanged();\n                }\n            });\n\n        }\n\n        private setCollapsible(): void {\n            var collapsed: boolean;\n            if (angular.isFunction(this.$scope['collapsed'])) {\n                collapsed = this.$scope['collapsed']();\n            } else {\n                collapsed = this.$scope['collapsed'] !== false && this.$scope['collapsed'] !== 'false';\n            }\n\n            this.isCollapsed = collapsed;\n        }\n\n        public onExpand(): void {\n            if (!this.isCollapsed) { return }\n\n            this.expanded = !this.expanded;\n\n            if (this.expanded) {\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\n            } else {\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\n            }\n            this.$rootScope.$emit('pipNavExpanded', this.expanded);\n        }\n\n        public isHidden(item: NavMenuLink): boolean {\n            return item && item.access && !item.access(item);\n        }\n\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\n            var result = true;\n            _.each(linkCollection, (link: NavMenuLink) => {\n                if (!this.isHidden(link)) {\n                    result = false;\n                }\n            });\n\n            return result;\n        }\n\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\n            if (!config) return;\n            this.sections = config.sections;\n        }\n\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\n            if (!state) return;\n\n            this.isCollapsed = state.expand;\n            this.expanded = state.isExpanded;\n            this.expandedButton = state.expandedButton;\n\n            this.sideNavState = state;\n        }\n\n        public isActive(link: NavMenuLink): boolean {\n            if (link.parentState) {\n\n                if (this._state != null && this._state.includes(link.parentState)) {\n                    return true;\n                }\n            } else if (link.state) {\n                if (this._state != null && this._state.includes(link.state)) {\n                    return true;\n                }\n            } else if (link.href) {\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\n                    return true;\n                }\n            } else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\n            event.stopPropagation();\n\n            if (!link) {\n                this.pipSideNav.close();\n\n                return;\n            }\n\n            if (link.href) {\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\n                    this.pipSideNav.close();\n\n                    return;\n                }\n\n                this.pipSideNav.close();\n                this.$timeout(() => {\n                    this.$window.location.href = link.href;\n                }, this._animationDuration);\n\n                return;\n            } else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\n                    this.pipSideNav.close();\n                    return;\n                }\n\n                this.pipSideNav.close();\n                this.$timeout(() => {\n                    this.$location.url(link.url);\n                }, this._animationDuration);\n\n                return;\n            } else if (link.state) {\n                if (this._state != null && this._state.current.name === link.state) {\n                    this.pipSideNav.close();\n\n                    return;\n                }\n\n                this.pipSideNav.close();\n                this.$timeout(() => {\n                    this._state.go(link.state, link.stateParams);\n                }, this._animationDuration);\n\n                return;\n            } else if (link.event) {\n                this.$rootScope.$broadcast(link.event, link);\n            }\n\n            this.pipSideNav.close();\n        }\n    }\n\n    interface INavMenuBindings {\n        [key: string]: any;\n        sections: any,\n        collapsed: any\n    }\n\n    const NavMenuBindings: INavMenuBindings = {\n        sections: '=?pipSections',\n        collapsed: '=?pipCollapsed'\n    };\n\n    function navMenuDirective() {\n        return {\n            restrict: 'EA',\n            scope: NavMenuBindings,\n            replace: false,\n            templateUrl: 'menu/NavMenu.html',\n            controller: NavMenuController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipNavMenu')\n        .directive('pipNavMenu', navMenuDirective);\n\n})();","import { NavMenuConfig, NavMenuSection } from './NavMenuConfig';\nimport { INavMenuService, INavMenuProvider } from './INavMenuService';\n\nexport const NavMenuChangedEvent = 'pipNavMenuChanged';\n\nclass NavMenuService implements INavMenuService {\n    private _config: NavMenuConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: NavMenuConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public updateBadgeStyle(link: string, style: string): void {\n        if (link == null || !_.isString(style)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.badgeStyle = style;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n        this.sendChangeEvent();\n    }\n\n    public updateCount(link: string, count: number): void {\n        if (link == null || !_.isNumber(count)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.count = count;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                l.count = null;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\n    }\n}\n\nclass NavMenuProvider implements INavMenuProvider {\n    private _config: NavMenuConfig = {\n        sections: [],\n        defaultIcon: 'icons:folder'\n    };\n    private _service: NavMenuService;\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavMenuService(this._config, $rootScope);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipNavMenu')\n    .provider('pipNavMenu', NavMenuProvider);\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavMenuService';\nimport './NavMenu';","import { SearchConfig } from './SearchConfig';\nimport { ISearchService } from './ISearchService';\nimport { OpenSearchEvent, CloseSearchEvent, SearchChangedEvent, SearchActivatedEvent } from './SearchService';\n\nclass SearchBarController {\n    private clearFn: Function;\n\n    public config: SearchConfig;\n    public enabled: boolean = false;\n    public search: any = { text: '' };\n\n    public constructor(\n        private $element: ng.IAugmentedJQuery,\n        private $rootScope: ng.IRootScopeService,\n        pipSearch: ISearchService\n    ) {\n        \"ngInject\";\n\n        // Apply class and call resize\n        $element.addClass('pip-search-bar');\n\n        this.config = pipSearch.config;\n        this.stateChange();\n        this.clearFn = $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\n            this.onSearchChanged(event, config);\n        });\n    }\n\n    public $onDestroy() {\n        if (_.isFunction(this.clearFn)) {\n            this.clearFn();\n        }\n    }\n\n    private stateChange(): void {\n        if (this.enabled) {\n            this.$element.addClass('w-stretch');\n            this.$element.parent().addClass('pip-search-active');\n\n        } else {\n            this.$element.removeClass('w-stretch');\n            this.$element.parent().removeClass('pip-search-active');\n        }\n    }\n\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\n        this.config = config;\n        this.enabled = false;\n        this.search.text = '';\n        this.stateChange();\n    }\n\n    private focusText(): void {\n        setTimeout(() => {\n            let element: JQuery = $('.pip-search-text');\n            if (element.length > 0)\n                element.focus();\n        }, 0);\n    }\n\n    public enable(): void {\n        this.search.text = this.config.criteria;\n        this.enabled = true;\n        this.focusText();\n        this.stateChange();\n    }\n\n    public onClick(): void {\n        let search = this.search.text;\n\n        this.search.text = '';\n        this.enabled = false;\n        this.stateChange();\n\n        if (this.config.callback) {\n            this.config.callback(search);\n        } else {\n            this.$rootScope.$broadcast(SearchActivatedEvent, search);\n        }\n    }\n\n    public clear(): void {\n        if (this.search.text) {\n            this.search.text = '';\n            this.focusText();\n        } else {\n            this.enabled = false;\n            this.stateChange();\n            this.onClick();\n        }\n    }\n\n    public onKeyDown(event: KeyboardEvent): void {\n        // Enter pressed\n        if (event.keyCode === 13)\n            this.onClick();\n        // ESC pressed\n        else if (event.keyCode === 27) {\n            this.enabled = false;\n            this.stateChange();\n        }\n    }\n}\n\nconst SearchBar: ng.IComponentOptions = {\n    templateUrl: 'search/SearchBar.html',\n    controller: SearchBarController\n}\n\nangular\n    .module('pipSearchBar')\n    .component('pipSearchBar', SearchBar);\n","export class SearchConfig {\n    // Search visible\n    public visible: boolean;\n    // Search criteria\n    public criteria: string;\n    // Custom search parameters\n    public params: any;\n    // History for search autocomplete\n    public history: string[];\n    // Callback for search\n    callback: (criteria: string) => void;\n}","import { SearchConfig } from './SearchConfig';\nimport { ISearchProvider, ISearchService } from './ISearchService';\n\nexport const OpenSearchEvent = 'pipOpenSearch';\nexport const CloseSearchEvent = 'pipCloseSearch';\nexport const SearchChangedEvent = 'pipSearchChanged';\nexport const SearchActivatedEvent = 'pipSearchActivated';\n\nclass SearchService implements ISearchService {\n    private _config: SearchConfig;\n\n    public constructor(\n        config: SearchConfig,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\n    }\n\n    public get config(): SearchConfig {\n        return this._config;\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public get params(): any {\n        return this._config.params;\n    }\n\n    public set params(value: any) {\n        this._config.params = value;\n        this.sendConfigEvent();\n    }\n\n    public get history(): string[] {\n        return this._config.history;\n    }\n\n    public set history(value: string[]) {\n        this._config.history = value;\n        this.sendConfigEvent();\n    }\n\n    public get callback(): (criteria: string) => void {\n        return this._config.callback;\n    }\n\n    public set callback(value: (criteria: string) => void) {\n        this._config.callback = value;\n        this.sendConfigEvent();\n    }\n\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\n        this._config.callback = callback;\n        this._config.criteria = criteria;\n        this._config.params = params;\n        this._config.history = history;\n        this.sendConfigEvent();\n    }\n\n    public clear(): void {\n        this._config.callback = null;\n        this._config.criteria = null;\n        this._config.params = null;\n        this.sendConfigEvent();\n    }\n\n    public open(): void {\n        this._config.visible = true;\n        this.sendConfigEvent();\n    }\n\n    public close(): void {\n        this._config.visible = false;\n        this.sendConfigEvent();\n    }\n\n    public toggle(): void {\n        this._config.visible = !this._config.visible;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent(): void {\n        this.$rootScope.$broadcast(SearchChangedEvent, this._config);\n    }\n}\n\nclass SearchProvider implements ISearchProvider {\n    private _config: SearchConfig = new SearchConfig();\n    private _service: SearchService = null;\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SearchService(this._config, $rootScope);\n\n        return this._service;\n    }\n}\n\n\nangular.module('pipSearchBar')\n    .provider('pipSearch', SearchProvider);\n","angular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './SearchConfig';\nimport './ISearchService';\nimport './SearchService';\nimport './SearchBar';\n\nexport * from './ISearchService';\n","import { ISideNavService } from './ISideNavService';\nimport { SideNavStateNames, SideNavState, SideNavStateConfig, SideNavConfig } from './SideNavState';\n\nclass SideNavController implements ISideNavBindings {\n    private _pipMedia: pip.layouts.IMediaService;\n    private _isResizing: boolean;\n    private _animationDuration: number;\n    private _mainContainer: string; // todo add  to config\n    private _bigWidth: number;\n    private _middleWidth: number;\n    private _smallWidth: number;\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\n    private _navState: SideNavStateConfig;\n    private cleanupMainResized: Function;\n    private cleanupSideNavState: Function;\n    private cleanupNavHeaderChanged: Function;\n    private cleanupSideNavChanged: Function;\n    private windowResize: Function;\n\n    public sidenavState: SideNavState;\n\n    constructor(\n        private $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $injector: ng.auto.IInjectorService,\n        private $scope: angular.IScope,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private pipSideNav: ISideNavService,\n        navConstant: any\n\n    ) {\n        \"ngInject\";\n\n        this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\n\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\n        this._isResizing = false;\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\n        this._navState = new SideNavStateConfig();\n        this._mediaBreakpoints = this.setBreakpoints();\n\n        // Apply class and call resize\n        this.$element.addClass('pip-sticky-sidenav');\n\n        if (this.pipSideNav.config && this.pipSideNav.config.type != 'popup') {\n            this.$timeout(() => {\n                this.setSideNaveState()\n            }, 100);\n\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\n            this.cleanupMainResized = this.$rootScope.$on('pipMainResized', () => {\n                this.windowResize();\n            });\n            this.cleanupSideNavState = this.$rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\n                this.onSideNavState($event, state)\n            });\n        } else {\n            this._isResizing = false;\n            this.sidenavState = null;\n            this.$timeout(() => {\n                if (this.pipSideNav.config.backdrop == false) {\n                    this.$element.addClass('pip-sidenav-hide-backdrop');\n                } else {\n                    this.$element.removeClass('pip-sidenav-hide-backdrop');\n                }\n                this.setState(SideNavStateNames.Toggle);\n            }, 100);\n        }\n\n        this.cleanupNavHeaderChanged = this.$rootScope.$on('pipNavIconClicked', () => {\n            this.onNavIconClick();\n        });\n        this.cleanupSideNavChanged = this.$rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\n            this.onSideNavChanged($event, config)\n        });\n\n    }\n\n    public $onDestroy() {\n        if (angular.isFunction(this.cleanupNavHeaderChanged)) {\n            this.cleanupNavHeaderChanged();\n        }\n        if (angular.isFunction(this.cleanupSideNavChanged)) {\n            this.cleanupSideNavChanged();\n        }\n        if (angular.isFunction(this.cleanupMainResized)) {\n            this.cleanupMainResized();\n        }\n        if (angular.isFunction(this.cleanupSideNavState)) {\n            this.cleanupSideNavState();\n        }\n    }\n\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\n        } else {\n            return this._pipMedia.breakpoints;\n        }\n    }\n\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\n        if (config && config.visible) {\n            this.$element.css('display', 'block');\n        } else {\n            this.$element.css('display', 'none');\n        }\n    }\n\n    private onNavIconClick(): void {\n        this.pipSideNav.open();\n    }\n\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\n            this.setState(stateName);\n        }\n    }\n\n    private setSideNaveState(): void {\n        if (this.pipSideNav.config && this.pipSideNav.config.type == 'popup') { return }\n\n        if (this._isResizing) {\n            this.$timeout(() => { this.setSideNaveState() }, this._animationDuration);\n\n            return;\n        }\n\n        let mainWidth: number = $(this._mainContainer).innerWidth();\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 2 : 0; // add border width\n\n        if (mainWidth + currentWidth < this._mediaBreakpoints.sm) {\n            this.setState(SideNavStateNames.Toggle);\n            return;\n        }\n        if (mainWidth + currentWidth < this._mediaBreakpoints.md) {\n            this.setState(SideNavStateNames.Small);\n            return;\n        }\n        if (mainWidth + currentWidth < this._mediaBreakpoints.lg) {\n            this.setState(SideNavStateNames.Large);\n            return;\n        }\n        this.setState(SideNavStateNames.XLarge);\n    }\n\n    private setState(stateName: SideNavStateNames) {\n        if (this._isResizing) return;\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\n\n        if (stateName != SideNavStateNames.Toggle) {\n            this.$element.removeClass('sidenav-mobile');\n        }\n\n        if (stateName != SideNavStateNames.Small) {\n            this.$element.removeClass('pip-sticky-nav-small');\n        }\n\n        if (stateName != SideNavStateNames.XLarge) {\n            this.$element.removeClass('sidenav-desktop');\n        }\n\n        if (stateName != SideNavStateNames.Large) {\n            this.$element.removeClass('sidenav-smalldesktop');\n        }\n\n        this._isResizing = true;\n        /*if (stateName == SideNavStateNames.Toggle) {\n            this.pipSideNav.close();\n        }*/\n        this.sidenavState = this._navState[String(stateName)];\n        this.$element.addClass(this.sidenavState.addClass);\n\n        this.pipSideNav.state = this.sidenavState;\n\n        // check sideNav State\n        this.$timeout(() => {\n            this.setSideNaveState()\n        }, 15);\n\n        // complete animation\n        this.$timeout(() => {\n            this._isResizing = false;\n        }, this._animationDuration); //animationDuration\n\n    }\n}\n\n\ninterface ISideNavBindings {\n    [key: string]: any;\n    sidenavState: any;\n}\n\nconst SideNavBindings: ISideNavBindings = {\n    sidenavState: '=?'\n};\n\n(() => {\n\n    const sideNav: ng.IComponentOptions = {\n        transclude: true,\n        bindings: SideNavBindings,\n        templateUrl: 'sidenav/SideNav.html',\n        controller: SideNavController\n    };\n\n    angular\n        .module('pipSideNav')\n        .component('pipSidenav', sideNav);\n\n})();","{\n\n    interface ISideNavPartBindings {\n        [key: string]: any;\n        visible: any\n    }\n\n    const SideNavPartBindings: ISideNavPartBindings = {\n        visible: '=?'\n    }\n\n    class SideNavPartController {\n        private partName: string;\n        private partValue: string = null;\n        private pos: number;\n\n        constructor(\n            private $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs: ng.IAttributes,\n            $rootScope: ng.IRootScopeService,\n            pipSideNav) {\n\n            this.partName = '' + $attrs['pipSidenavPart'];\n            this.pos = this.partName.indexOf(':');\n            if (this.pos > 0) {\n                this.partValue = this.partName.substr(this.pos + 1);\n                this.partName = this.partName.substr(0, this.pos);\n            }\n\n            this.onSideNavChanged(null, pipSideNav.config)\n            $rootScope.$on('pipSideNavChanged', (event, config) => { this.onSideNavChanged(event, config) });\n        }\n\n        private onSideNavChanged(event, config) {\n            let parts = config.parts || {};\n            let currentPartValue = parts[this.partName];\n            let visible: boolean = !!(this.partValue ? currentPartValue == this.partValue : currentPartValue);\n\n            if (visible != this.$scope['visible'])\n                this.$scope['visible'] = visible;\n        }\n    }\n\n    function sidenavPartDirective(ngIfDirective) {\n        \"ngInject\";\n        let ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: SideNavPartBindings,\n            link: function linkFunction(\n                $scope: ng.IScope,\n                $element: ng.IRootElementService,\n                $attrs: ng.IAttributes) {\n                $attrs['ngIf'] = () => { return $scope['visible'] };\n                ngIf.link.apply(ngIf, arguments);\n            },\n            controller: SideNavPartController\n        };\n    }\n\n    angular\n        .module('pipSideNav')\n        .directive('pipSidenavPart', sidenavPartDirective);\n\n}","import { SideNavState, SideNavConfig } from \"./SideNavState\";\nimport { ISideNavProvider, ISideNavService } from \"./ISideNavService\";\n\nexport const SideNavChangedEvent = 'pipSideNavChanged';\nexport const SideNavStateChangedEvent = 'pipSideNavStateChanged';\nexport const OpenSideNavEvent = 'pipOpenSideNav';\nexport const CloseSideNavEvent = 'pipCloseSideNav';\n\nclass SideNavService implements ISideNavService {\n    private _config: SideNavConfig;\n    private _state: any;\n\n    public constructor(\n        config: SideNavConfig,\n        private $rootScope: ng.IRootScopeService,\n        private $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n    }\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this.$rootScope.$broadcast(SideNavStateChangedEvent, value);\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get backdrop(): boolean {\n        return this._config.backdrop;\n    }\n\n    public set backdrop(value: boolean) {\n        this._config.backdrop = value;\n    }\n\n    public open() {\n        this.$mdSidenav('pip-sticky-sidenav').open();\n    }\n\n    public close() {\n        this.$mdSidenav('pip-sticky-sidenav').close();\n    }\n\n    public toggle() {\n        this.$mdSidenav('pip-sticky-sidenav').toggle();\n    }\n\n    public show() {\n        if (!this._config.visible) {\n            this._config.visible = true;\n            this.sendConfigEvent();\n        }\n    }\n\n    public hide() {\n        if (this._config.visible) {\n            this._config.visible = false;\n            this.sendConfigEvent();\n        }\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$emit(SideNavChangedEvent, this._config);\n    }\n}\n\nclass SideNavProvider implements ISideNavProvider {\n    private _config: SideNavConfig = {\n        parts: {},\n        classes: [],\n        type: 'popup',\n        backdrop: true,\n        state: null,\n        visible: true\n    };\n\n    private _service: SideNavService;\n\n    public get backdrop(): boolean {\n        return this._config.backdrop;\n    }\n\n    public set backdrop(value: boolean) {\n        this._config.backdrop = value;\n    }\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public set config(value: SideNavConfig) {\n        this._config = value || new SideNavConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get visible(): boolean {\n        return this._config.visible;\n    }\n\n    public set visible(value: boolean) {\n        this._config.visible = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }\n}\n\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\n}\n\nangular\n    .module('pipSideNav')\n    .provider('pipSideNav', SideNavProvider)\n    .run(hookSideNavEvents);\n","export class SideNavStateNames {\n    static Toggle: string = 'toggle';\n    static Small: string = 'small';\n    static Large: string = 'large';\n    static XLarge: string = 'xlarge';\n}\n\nexport class SideNavState {\n    id: SideNavStateNames;\n    // Class which added to sidenav in this state\n    addClass: string;\n    // Side nav always open\n    isLockedOpen: boolean;\n    // Show SideNav header \n    showHeader: boolean;\n    // Show expanded button\n    expandedButton: boolean;\n    // SideNav has expand\n    isExpanded: boolean;\n    // SideNav is Expanded in this state by default\n    expand: boolean;\n    // Tooltype is show\n    showIconTooltype: boolean;\n}\n\nexport class SideNavStateConfig {\n    toggle: SideNavState = { // media(sm, xs)\n        id: SideNavStateNames.Toggle,\n        addClass: 'sidenav-mobile',\n        showHeader: true,\n        isLockedOpen: false,\n        expandedButton: false,\n        isExpanded: true,\n        expand: true,\n        showIconTooltype: false\n    };\n    small: SideNavState = { // media(md)\n        id: SideNavStateNames.Small,\n        addClass: 'pip-sticky-nav-small sidenav-smalldesktop',\n        showHeader: false,\n        isLockedOpen: true,\n        expandedButton: false,\n        isExpanded: false,\n        expand: false,\n        showIconTooltype: true\n    };\n    large: SideNavState = { // media(lg)\n        id: SideNavStateNames.Large,\n        addClass: 'sidenav-smalldesktop',\n        showHeader: false,\n        isLockedOpen: true,\n        expandedButton: true,\n        isExpanded: true,\n        expand: true,\n        showIconTooltype: true\n    };\n    xlarge: SideNavState = { // media(xl)\n        id: SideNavStateNames.XLarge,\n        addClass: 'sidenav-desktop',\n        showHeader: false,\n        isLockedOpen: true,\n        expandedButton: false,\n        isExpanded: true,\n        expand: true,\n        showIconTooltype: false\n    };\n}\n\nexport class SideNavConfig {\n    parts: any;\n    classes: string[];\n    state: SideNavState;\n    type: string;\n    backdrop: boolean = true;\n    visible: boolean;\n}","angular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\n\nimport './SideNavState';\nimport './SideNavService';\nimport './SideNavPart';\nimport './SideNav';\n\nexport * from './SideNavService';","\nexport class PipTab {\n    id: string;\n    name?: string;\n    count: number;\n    title: string;\n}\n\n{\n    interface ITabsBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        tabs: any;\n        showTabs: any;\n        showTabsShadow: any;\n        activeIndex: any;\n        select: any;\n        breakpoints: any;\n        themeClass: any;\n    }\n\n    const TabsBindings: ITabsBindings = {\n        ngDisabled: '&?', // function\n        tabs: '<pipTabs', // PipTab[]\n        showTabs: '&pipShowTabs', // function\n        showTabsShadow: '&pipTabsShadow', // function\n        activeIndex: '<?pipActiveIndex', // number\n        select: '=pipTabsSelect', // function\n        breakpoints: '<?pipBreakpoints', // string\n        themeClass: '<?themeClass', // string\n    }\n\n    class TabsChanges implements ng.IOnChangesObject, ITabsBindings {\n        [key: string]: ng.IChangesObject<any>;\n        // Not one way bindings\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        tabs: ng.IChangesObject<PipTab[]>;\n        showTabs: ng.IChangesObject<() => ng.IPromise<void>>;\n        showTabsShadow: ng.IChangesObject<() => ng.IPromise<void>>;\n        activeIndex: ng.IChangesObject<number>;\n        select: ng.IChangesObject<() => ng.IPromise<void>>;\n        breakpoints: ng.IChangesObject<string>;\n        themeClass: ng.IChangesObject<string>;\n    }\n\n    class TabsDirectiveController implements ITabsBindings {\n        private _pipTranslate: pip.services.ITranslateService;\n        private _pipTheme: pip.themes.IThemeService;\n        private pipMedia;\n        private selectedTabId: string;\n\n        public ngDisabled: Function;\n        public tabs: PipTab[];\n        public activeIndex: number;\n        public breakpoints: string;\n        public showTabs: Function;\n        public showTabsShadow: Function;\n        public select: Function;\n        public themeClass: string;\n\n        public currentTheme: string;\n\n        public change: () => ng.IPromise<any>;\n\n        constructor(\n            private $element: ng.IAugmentedJQuery,\n            private $injector: ng.auto.IInjectorService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private navConstant: any,\n            $mdMedia: angular.material.IMedia\n        ) {\n            \"ngInject\";\n\n            this.setTheme();\n            this.pipMedia = this.$injector.has('pipMedia') ? <pip.layouts.IMediaService>this.$injector.get('pipMedia') : $mdMedia;\n            \n            if (!this.breakpoints) {\n                this.breakpoints = this.navConstant.TAB_BREAKPOINT;\n\n            }\n        }\n\n        private setTheme(): void {\n            this._pipTheme = this.$injector.has('pipTheme') ? <pip.themes.IThemeService>this.$injector.get('pipTheme') : null;\n            if (this._pipTheme) {\n                this.currentTheme = this._pipTheme.theme;\n            } else if (this.$rootScope['$theme']) {\n                this.currentTheme = this.$rootScope['$theme'];\n            }\n\n            this.themeClass = (this.themeClass || '') + ' md-' + this.currentTheme + '-theme';\n        }\n\n        private setTranslate(): void {\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\n            if (this._pipTranslate) {\n                if (this.tabs.length > 0 && this.tabs[0].title) {\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\n                } else {\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\n                }\n            }\n        }\n\n        public isDisabled(): boolean {\n            if (_.isFunction(this.ngDisabled)) {\n                return this.ngDisabled();\n            } else {\n                return this.toBoolean(this.ngDisabled);\n            }\n        };\n\n        public tabDisabled(index: number): boolean {\n            return (this.isDisabled() && this.activeIndex != index);\n        };\n\n        public onSelect(index: number): void {\n            if (this.isDisabled()) return;\n            this.activeIndex = index;\n            this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\n            this.$timeout(() => {\n                if (this.select) {\n                    this.select(this.tabs[this.activeIndex], this.activeIndex);\n                }\n            }, 0);\n\n        };\n\n        public showShadow(): boolean {\n            if (_.isFunction(this.showTabsShadow)) {\n                return this.showTabsShadow();\n            } else {\n                return this.toBoolean(this.showTabsShadow);\n            }\n        };\n\n        public show(): boolean {\n            if (!this.showTabs) return true;\n            if (_.isFunction(this.showTabs)) {\n                return this.showTabs();\n            } else {\n                return this.toBoolean(this.showTabs);\n            }\n        };\n\n        public toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        public $onChanges(changes: TabsChanges) {\n\n            if (!changes.breakpoints) {\n                if (!this.breakpoints) {\n                    this.breakpoints = this.navConstant.TAB_BREAKPOINT;\n\n                }\n            } else {\n                this.breakpoints = changes.breakpoints.currentValue ? changes.breakpoints.currentValue : this.navConstant.TAB_BREAKPOINT\n            }\n\n            if (changes.activeIndex === undefined) {\n                if (!this.activeIndex) {\n                    this.activeIndex = 0;\n                }\n            } else {\n                this.activeIndex = changes.activeIndex.currentValue || 0;\n                if (this.$timeout && this.activeIndex !== changes.activeIndex.previousValue) {\n                    this.$timeout(() => {\n                        let a = this.$element.find('md-tabs-canvas');\n                        if (a && a[0]) {\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\n                        }\n                        a.on('focusout', () => {\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\n                            this.$timeout(() => {\n                                angular.element(a[0]).attr('activeIndex', this.activeIndex);\n                            }, 50);\n                        });\n                    }, 1000);\n                }\n            }\n\n            if (changes.tabs === undefined || !_.isArray(changes.tabs.currentValue)) {\n                if (!this.tabs) {\n                    this.tabs = [];\n                }\n            } else {\n                this.tabs = changes.tabs.currentValue;\n                this.setTranslate();\n            }\n\n            if (!changes.activeIndex && changes.tabs && this.selectedTabId !== undefined) {\n                const index = _.indexOf(this.tabs, _.find(this.tabs, {\n                    id: this.selectedTabId\n                }));\n                if (index < 0) {\n                    this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\n                } else if (this.tabs.length > 0 && this.activeIndex) {\n                    this.onSelect(index);\n                }\n            } else {\n                this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\n            }\n        }\n\n    }\n\n    const Tabs: ng.IComponentOptions = {\n        bindings: TabsBindings,\n        templateUrl: 'tabs/Tabs.html',\n        controller: TabsDirectiveController\n    }\n\n    angular\n        .module('pipTabs', ['pipNav.Templates'])\n        .component('pipTabs', Tabs);\n}\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"{{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"!$ctrl._media(\\'xs\\')\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"$ctrl._media(\\'xs\\')\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"$ctrl.showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"$ctrl.imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"$ctrl.onUserClick()\" tabindex=\"-1\">{{ $ctrl.title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ $ctrl.subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.value | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.expanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.expanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" ng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.expanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\" ng-hide=\"link.access && !link.access(link)\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-click=\"$ctrl.clickLink($event, link)\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\">{{ ::link.tooltipText | translate }}</md-tooltip><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!($ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded)\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar ng-if=\"$ctrl.pipMedia\" class=\"pip-nav color-primary-bg {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs class=\"color-primary-bg\" ng-if=\"$ctrl.pipMedia($ctrl.breakpoints)\" md-selected=\"$ctrl.activeIndex\" ng-class=\"{\\'disabled\\': $ctrl.isDisabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.pipMedia($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.activeIndex\" ng-disabled=\"$ctrl.isDisabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","'use strict';\r\n\r\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-cool': 'Cool'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-cool': ''\r\n    // });\r\n    \r\n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(69, 90, 100, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\r\n\r\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(69, 90, 100, .54)',\r\n        '500': 'rgba(69, 90, 100, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\r\n\r\n\r\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-cool')\r\n        .primaryPalette('bootbarn-cool-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-cool-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-cool-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\r\n    .config(configureBootBarnCoolTheme);\r\n","'use strict';\r\n\r\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-monochrome': 'Monochrome'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-monochrome': ''\r\n    // });\r\n    \r\n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(38, 50, 56, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\r\n\r\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(38, 50, 56, .54)',\r\n        '500': 'rgba(38, 50, 56, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\r\n\r\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-monochrome')\r\n        .primaryPalette('bootbarn-monochrome-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-monochrome-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-monochrome-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\r\n    .config(configureBootBarnMonochromeTheme);\r\n","'use strict';\r\n\r\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-warm': 'Warm'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-warm': ''\r\n    // });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(177, 55, 34, 1)'\r\n        })\r\n        ;\r\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\r\n\r\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\r\n        '300': 'rgba(177, 55, 34, .54)',\r\n        '500': 'rgba(177, 55, 34, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\r\n\r\n\r\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'A700': 'rgba(127, 148, 92, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\r\n\r\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\r\n        'A200': 'rgba(255, 82, 82, 1)',\r\n        'contrastLightColors': ['A200']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-warm')\r\n    .primaryPalette('bootbarn-warm-primary', {\r\n        'default': '500',\r\n        'hue-1': '300'\r\n    })\r\n    .backgroundPalette('bootbarn-warm-background', {\r\n        'default': '50',  // background\r\n        'hue-1': 'A200',  // tiles dialog\r\n        'hue-2': 'A700'   // app bar\r\n    })\r\n    .warnPalette('bootbarn-warm-error', {\r\n        'default': 'A200'\r\n    })\r\n    .accentPalette('bootbarn-warm-accent', {\r\n        'default': 'A700'\r\n    });\r\n}\r\n\r\nangular.module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\r\n    .config(configureBootBarnWarmTheme);\r\n","'use strict';\r\n\r\nimport './BootBarnCoolTheme';\r\nimport './BootBarnWarmTheme';\r\nimport './BootBarnMonochromeTheme';\r\n\r\nangular.module('pipTheme.BootBarn', [\r\n    'ngMaterial',\r\n    'pipTheme.BootBarn.Warm',\r\n    'pipTheme.BootBarn.Cool',\r\n    'pipTheme.BootBarn.Monochrome',\r\n]);\r\n","'use strict';\r\n\r\nexport let ThemeRootVar = \"$theme\";\r\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \r\nexport let ThemeResetPage = \"pipResetPage\";    \r\n\r\nexport interface IThemeService {\r\n    theme: string;\r\n    use(language: string): string;\r\n}\r\n\r\nexport interface IThemeProvider extends IThemeService, ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    persist: boolean;\r\n}\r\n\r\nclass ThemeConfig {\r\n    public theme: string;\r\n}\r\n\r\nclass ThemeService implements IThemeService {\r\n    private _config: ThemeConfig;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _theming: any;\r\n    private _currentTheme: string = null;\r\n\r\n    public constructor(\r\n        config: ThemeConfig,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._theming = $mdTheming;\r\n\r\n        if (this._persist && this._window.localStorage && this._config.theme == \"default\")\r\n            this._config.theme = this._window.localStorage.getItem('theme') || this._config.theme;\r\n\r\n        this._log.debug(\"Set theme to \" + this._config.theme);\r\n\r\n        // Define theme for angular material \r\n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        let body = $('body');\r\n        let newTheme = this._config.theme;\r\n\r\n        // Switch material theme\r\n        // body.attr('md-theme', newTheme);\r\n\r\n        // Change custom theme\r\n        body.addClass(newTheme);\r\n        if (this._currentTheme != null && this._currentTheme != newTheme)\r\n            body.removeClass(this._currentTheme);            \r\n\r\n        this._currentTheme = newTheme;\r\n\r\n        // Set root scope variable\r\n        if (this._setRootVar)\r\n            this._rootScope[ThemeRootVar] = this._config.theme;\r\n\r\n        // Save in local storage\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('theme', this._config.theme);\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        if (value != this._config.theme) {\r\n            if (!(value in this._theming.THEMES))\r\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\r\n\r\n            this._config.theme = value;\r\n            \r\n            this._log.debug(\"Changing theme to \" + value);\r\n\r\n            this.save();                \r\n\r\n            this._rootScope.$emit(ThemeChangedEvent, value);\r\n            this._rootScope.$emit(ThemeResetPage);\r\n        }\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null)\r\n            this.theme = theme;\r\n        return this.theme;\r\n    }\r\n\r\n}\r\n\r\nclass ThemeProvider implements IThemeProvider {\r\n    private _config: ThemeConfig = new ThemeConfig();\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: ThemeService;\r\n    \r\n    public constructor() {\r\n        this._config.theme = \"default\";\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        this._config.theme = value;\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null)\r\n            this.theme = theme;\r\n        return this.theme;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new ThemeService(this._config, this._setRootVar, this._persist, $rootScope, $log, $window, $mdTheming);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTheme(pipTheme: IThemeService) {\r\n    pipTheme.theme;\r\n}\r\n\r\nangular\r\n    .module('pipTheme')\r\n    .provider('pipTheme', ThemeProvider)\r\n    .run(initTheme);\r\n","'use strict';\r\n\r\nangular.module('pipTheme', ['ngMaterial']);\r\n\r\nimport './ThemeService';\r\n\r\nexport * from './ThemeService';\r\n","'use strict';\r\n\r\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     amber: 'Amber'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     amber: ''\r\n    // });\r\n\r\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\r\n\r\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 152, 0, 1)',\r\n        '900': 'rgba(255, 152, 0, .54);'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('amber')\r\n        .primaryPalette('orange-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('orange-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('orange', {\r\n            'default': '900'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\r\n    .config(configureDefaultAmberTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     blue: 'Blue',\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     blue: ''\r\n    // });\r\n\r\n    registerBlueTheme('default');\r\n    registerBlueTheme('blue');\r\n\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    function registerBlueTheme(themeName) {\r\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\r\n            'contrastDefaultColor': 'light',\r\n            'contrastDarkColors': undefined\r\n        });\r\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\r\n\r\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(33, 150, 243, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\r\n\r\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            '600': 'rgba(0, 200, 83, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\r\n\r\n        $mdThemingProvider.theme(themeName)\r\n            .primaryPalette('blue-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('blue-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('blue-accent', {\r\n                'default': '600'\r\n            });\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\r\n    .config(configureDefaultBlueTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     green: 'Green'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     green: ''\r\n    // });\r\n\r\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(76, 175, 80, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\r\n\r\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\r\n        '300': '#9ed4a1',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\r\n\r\n\r\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\r\n\r\n    $mdThemingProvider.theme('green')\r\n        .primaryPalette('green-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('green-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('green-accent', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Green', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreenTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     grey: 'Grey'\r\n    // });\r\n    \r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     grey: ''\r\n    // });\r\n\r\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)',\r\n        'A400': '#a9b9c0',\r\n        '500': '#607D8B',\r\n        'A700': '#90A4AE',\r\n        //'800': '',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\r\n\r\n\r\n    $mdThemingProvider.theme('grey')\r\n        .primaryPalette('third-party', {\r\n            'default': '500',\r\n            'hue-1': 'A400'\r\n        })\r\n        .backgroundPalette('third-party', {\r\n            'default': '50',  // background\r\n            'hue-1': '500',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('third-party', {\r\n            'default': 'A700'\r\n        });\r\n    \r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreyTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     navy: 'Navy'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     navy: '-'\r\n    // });\r\n\r\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '700': 'rgba(86, 97, 125, 1)',\r\n        '800': 'rgba(86, 97, 125, .54)',\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n    });\r\n    $mdThemingProvider.definePalette('grey', greyPalette);\r\n\r\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\r\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('teal', tealPalette);\r\n\r\n    $mdThemingProvider.theme('navy')\r\n        .primaryPalette('grey', {\r\n            'default': '700',\r\n            'hue-1': '800'\r\n        })\r\n        .backgroundPalette('grey', {\r\n            'default': '50',  // background\r\n            'hue-1': '700',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('teal', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\r\n    .config(configureDefaultNavyTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     orange: 'Orange'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     orange: ''\r\n    // });\r\n\r\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 112, 67, 1)',\r\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\r\n    });\r\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\r\n\r\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 112, 67, 1)',\r\n        '900': 'rgba(255, 152, 67, .54)',\r\n        'A100': 'rgba(255, 171, 64, 1)',\r\n        'contrastLightColors': ['800', '900', 'A100']\r\n    });\r\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('orange')\r\n        .primaryPalette('red-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('red-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('red-primary', {\r\n            'default': 'A100'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\r\n    .config(configureDefaultOrangeTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     pink: 'Pink'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     pink: '',\r\n\r\n    // });\r\n\r\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['A200', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\r\n\r\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\r\n        '600': 'rgba(255, 128, 171, 1)',\r\n        '700': 'rgba(188, 86, 121, .54)',\r\n        '900': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'light'\r\n    });\r\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('pink')\r\n        .primaryPalette('pink-primary', {\r\n            'default': '900',\r\n            'hue-1': '700'\r\n        })\r\n        .backgroundPalette('pink-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('pink-primary', {\r\n            'default': '600'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\r\n    .config(configureDefaultPinkTheme);\r\n","'use strict';\r\n\r\nimport './DefaultBlueTheme';\r\nimport './DefaultPinkTheme';\r\nimport './DefaultAmberTheme';\r\nimport './DefaultOrangeTheme';\r\nimport './DefaultGreenTheme';\r\nimport './DefaultNavyTheme';\r\nimport './DefaultGreyTheme';\r\n\r\n\r\nangular\r\n    .module('pipTheme.Default', [\r\n        'ngMaterial',\r\n        'pipTheme.Blue', \r\n        'pipTheme.Pink',\r\n        'pipTheme.Amber', \r\n        'pipTheme.Orange', \r\n        'pipTheme.Green', \r\n        'pipTheme.Navy', \r\n        'pipTheme.Grey'\r\n    ])\r\n    .config(configureDefaultTheme);\r\n\r\nfunction configureDefaultTheme($mdThemingProvider) {\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n","/**\r\n * @file Errors string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Strings', ['pipTranslate']);\r\n\r\n    thisModule.run(function($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate == null) return;\r\n\r\n        // Set translation strings for the module\r\n        pipTranslate.translations('en', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n                                            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n                                          'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n                                          'technologies. Download on of these great browsers and you\\'ll be on your way:',\r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\r\n\r\n        });\r\n\r\n        pipTranslate.translations('ru', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n            'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n            'technologies. Download on of these great browsers and you\\'ll be on your way:',            \r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\r\n\r\n        });\r\n    });\r\n\r\n})();","/**\r\n * @file Registration of all error handling components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipErrors', [\r\n        'pipErrors.Pages',\r\n        'pipErrorsService',\r\n        'pipNoConnectionPanel',\r\n        'pipClearErrors',\r\n\t    'pipFormErrors'\r\n\r\n    ]);\r\n    \r\n})();","'use strict';\r\n\r\nangular.module('pipErrorsService', []);\r\n\r\nimport './errors_service';","/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Pages', [\r\n        'ngMaterial',\r\n        'pipErrors.Strings', 'pipErrors.NoConnection', 'pipErrors.MissingRoute', 'pipErrors.Unsupported',\r\n        'pipErrors.Unknown', 'pipErrors.Maintenance', 'pipErrors.Translate', 'pipErrors.Templates'\r\n    ]);\r\n\r\n    thisModule.config(\r\n        function ($stateProvider, $httpProvider) {\r\n            // Attach interceptor to react on unauthorized errors\r\n            $httpProvider.interceptors.push('pipAuthHttpResponseInterceptor');\r\n\r\n            // Configure module routes\r\n            $stateProvider\r\n                .state('errors_no_connection', {\r\n                    url: '/errors/no_connection',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorNoConnectionController',\r\n                    templateUrl: 'no_connection/no_connection.html'\r\n                })\r\n                .state('errors_maintenance', {\r\n                    url: '/errors/maintenance',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorMaintenanceController',\r\n                    templateUrl: 'maintenance/maintenance.html'\r\n                })\r\n                .state('errors_missing_route', {\r\n                    url: '/errors/missing_route',\r\n                    params: {\r\n                        unfoundState: null,\r\n                        fromState: null\r\n                    },\r\n                    controller: 'pipErrorMissingRouteController',\r\n                    templateUrl: 'missing_route/missing_route.html'\r\n                })\r\n                .state('errors_unsupported', {\r\n                    url: '/errors/unsupported',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnsupportedController',\r\n                    templateUrl: 'unsupported/unsupported.html'\r\n                })\r\n                .state('errors_unknown', {\r\n                    url: '/errors/unknown',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnknownController',\r\n                    templateUrl: 'unknown/unknown.html'\r\n                });\r\n        });\r\n\r\n\r\n    thisModule.run(\r\n        function ($rootScope, $state, $injector, pipErrorsService) {\r\n\r\n            var errorConfig = pipErrorsService.config;\r\n\r\n            if (errorConfig.Unsupported.Active) {\r\n                checkSupported();\r\n            }\r\n\r\n            if (errorConfig.MissingRoute.Active) {\r\n                $rootScope.$on('$stateNotFound',\r\n                    function (event, unfoundState, fromState, fromParams) {\r\n                        event.preventDefault();\r\n\r\n                        $state.go('errors_missing_route', {\r\n                            unfoundState: unfoundState,\r\n                            fromState: {\r\n                                to: fromState ? fromState.name : '',\r\n                                fromParams: fromParams\r\n                            }\r\n                        }\r\n                        );\r\n                        $rootScope.$routing = false;\r\n                    }\r\n                );\r\n            }\r\n\r\n            if (errorConfig.NoConnection.Active) {\r\n                $rootScope.$on('pipNoConnectionError', noConnectionError);\r\n            }\r\n\r\n            if (errorConfig.Unknown.Active) {\r\n                $rootScope.$on('pipUnknownError', unknownError);\r\n            }\r\n\r\n            if (errorConfig.Maintenance.Active) {\r\n                $rootScope.$on('pipMaintenanceError', maintenanceError);\r\n            }\r\n\r\n            function goToErrors(toState, params) {\r\n                if (toState == null)\r\n                    throw new Error('Error state was not defined');\r\n\r\n                $state.go(toState, params);\r\n            };\r\n\r\n            function maintenanceError(event, params) {\r\n                goToErrors('errors_maintenance', params);\r\n            }\r\n\r\n            function noConnectionError(event, params) {\r\n                goToErrors('errors_no_connection', params);\r\n            }\r\n\r\n            function unknownError(event, params) {\r\n                goToErrors('errors_unknown', params);\r\n            }\r\n\r\n            function checkSupported(supported?: any) {\r\n                let pipSystemInfo = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null;\r\n                if (!pipSystemInfo) { return; }\r\n\r\n                // todo make configured\r\n                if (!supported) {\r\n                    supported = {\r\n                        edge: 11,\r\n                        ie: 11,\r\n                        firefox: 43, //4, for testing\r\n                        opera: 35,\r\n                        chrome: 47\r\n                    };\r\n                }\r\n\r\n                let browser = pipSystemInfo.browserName;\r\n                let version = pipSystemInfo.browserVersion;\r\n                version = version.split(\".\")[0]\r\n\r\n                if (browser && supported[browser] && version >= supported[browser]) {\r\n\r\n                    return;\r\n                }\r\n                // if not supported\r\n                $state.go('errors_unsupported');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n    thisModule.factory('pipAuthHttpResponseInterceptor',\r\n        function ($q, $location, $rootScope) {\r\n            return {\r\n                responseError: function (rejection) {\r\n                    var toState = $rootScope.$state && $rootScope.$state.name ? $rootScope.$state.name : null,\r\n                        toParams = $rootScope.$state && $rootScope.$state.params ? $rootScope.$state.params : null;\r\n\r\n                    switch (rejection.status) {\r\n                        case 503:\r\n                            //available (maintenance)\r\n                            $rootScope.$emit('pipMaintenanceError', {\r\n                                error: rejection\r\n                            });\r\n                            break;\r\n                        case -1:\r\n                            $rootScope.$emit('pipNoConnectionError', {\r\n                                error: rejection\r\n                            });\r\n                            break;\r\n                        default:\r\n                            console.error(\"errors_unknown\", rejection);\r\n                            break;\r\n                    }\r\n\r\n                    return $q.reject(rejection);\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","'use strict';\r\n\r\n\r\n\r\nexport class ErrorStateItem {\r\n    Active: boolean;\r\n    Name: string;\r\n    Event: string;\r\n    Title: string;\r\n    SubTitle: String;\r\n    Breadcrumb: string;\r\n    Image: string;\r\n    Params?: any;\r\n}\r\n\r\nexport class pipErrorsConfig {\r\n    Maintenance: ErrorStateItem = {\r\n        Active: true,\r\n        Name: 'errors_maintenance',\r\n        Event: 'pipMaintenanceError',\r\n        Title: 'ERROR_AVAILABLE_TITLE',\r\n        SubTitle: 'ERROR_AVAILABLE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_AVAILABLE_TITLE',\r\n        Image: 'images/maintenance.svg'\r\n        \r\n    };\r\n    MissingRoute: ErrorStateItem = {\r\n        Active: true,\r\n        Name: 'errors_missing_route',\r\n        Event: '$stateNotFound',\r\n        Title: 'ERROR_ROUTE_TITLE',\r\n        SubTitle: 'ERROR_ROUTE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_ROUTE_PAGE_TITLE',\r\n        Image: 'images/invalid_route.svg'\r\n    };\r\n    NoConnection: ErrorStateItem = {\r\n        Active: true,\r\n        Name: 'errors_no_connection',\r\n        Event: 'pipNoConnectionError',\r\n        Title: 'ERROR_RESPONDING_TITLE',\r\n        SubTitle: 'ERROR_RESPONDING_SUBTITLE',\r\n        Breadcrumb: 'ERROR_RESPONDING_TITLE',\r\n        Image: 'images/no_response.svg'\r\n    };\r\n    Unknown: ErrorStateItem = {\r\n        Active: true,\r\n        Name: 'errors_unknown',\r\n        Event: 'pipUnknownError',\r\n        Title: 'ERROR_UNKNOWN_TITLE',\r\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\r\n        Image: 'images/unknown_error.svg'\r\n    };\r\n    Unsupported: ErrorStateItem = {\r\n        Active: true,\r\n        Name: 'errors_unsupported',\r\n        Event: '',\r\n        Title: 'ERROR_UNSUPPORTED_TITLE',\r\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\r\n        Image: '',\r\n        Params: {\r\n            supported: {\r\n                edge: 11,\r\n                ie: 11,\r\n                firefox: 43, \r\n                opera: 35,\r\n                chrome: 47\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport interface IpipErrorsService {\r\n    getErrorItemByKey(errorName: string): ErrorStateItem;\r\n\r\n    config: pipErrorsConfig;\r\n}\r\n\r\nexport interface IpipErrorsProvider extends ng.IServiceProvider {\r\n    configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void;\r\n    configureErrors(value: pipErrorsConfig): void;\r\n}\r\n\r\nclass pipErrorsService implements IpipErrorsService {\r\n    private _config: pipErrorsConfig;\r\n\r\n    public constructor(\r\n        config: pipErrorsConfig\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._config = config || new pipErrorsConfig();\r\n    }\r\n\r\n    public get config(): pipErrorsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public getErrorItemByKey(errorName: string): ErrorStateItem {\r\n        if (!errorName || !this._config[errorName]) {\r\n            return null;\r\n        }\r\n\r\n        return this._config[errorName];\r\n    }\r\n\r\n}\r\n\r\nclass pipErrorsProvider implements IpipErrorsProvider {\r\n    private _service: pipErrorsService;\r\n    private _config: pipErrorsConfig;\r\n\r\n    constructor() {\r\n        this._config = new pipErrorsConfig();\r\n    }\r\n\r\n    public configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void {\r\n        if (!errorName || !errorParams) return;\r\n        if (!this._config[errorName]) return;\r\n\r\n        this._config[errorName] = <ErrorStateItem>_.defaultsDeep(errorParams, this._config[errorName]);\r\n    }\r\n\r\n    public configureErrors(value: pipErrorsConfig): void {\r\n        if (!value) return;\r\n\r\n        this._config = <pipErrorsConfig>_.defaultsDeep(value, this._config);\r\n    }\r\n\r\n    public $get(\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new pipErrorsService(this._config);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipErrorsService')\r\n    .provider('pipErrorsService', pipErrorsProvider);\r\n","/**\r\n * @file Special error handling for forms\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipClearErrors', []);\r\n\r\n    thisModule.directive('pipClearErrors', function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: function ($scope, $element, $attrs: any, $ctrls) {\r\n                var \r\n                    fieldController = $ctrls[0],\r\n                    formController = $ctrls[1];\r\n\r\n                $scope.$watch($attrs.ngModel, function (newValue) {\r\n                    clearFieldErrors();\r\n                    clearFormErrors();\r\n                });\r\n\r\n                //-------------------\r\n\r\n                function clearFieldErrors() {\r\n                    var errors = fieldController.$error;\r\n\r\n                    for (var prop in errors) {\r\n                        if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                            fieldController.$setValidity(prop, true);\r\n                        }\r\n                    };\r\n                }\r\n\r\n                function clearFormErrors() {\r\n                    formController.$serverError = {};\r\n                };\r\n            }\r\n        };\r\n    });\r\n\r\n})();","/**\r\n * @file Form error utilities\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n *\r\n */\r\n \r\n /* global _, angular */\r\n \r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFormErrors', []);\r\n\r\n    thisModule.factory('pipFormErrors', function ($rootScope) {\r\n\t\treturn {\r\n\t\t\terrorsWithHint: errorsWithHint,\r\n            //submittedErrors: submittedErrors,\r\n            //submittedErrorsWithHint: submittedErrorsWithHint,\r\n            //dirtyErrors: dirtyErrors,\r\n            //dirtyErrorsWithHint: dirtyErrorsWithHint,\r\n            //touchedErrors: touchedErrors,            \r\n            touchedErrorsWithHint: touchedErrorsWithHint,\r\n            resetFormErrors: resetFormErrors,\r\n            setFormError: setFormError,\r\n            resetFieldsErrors: resetFieldsErrors\r\n\t\t};\r\n\t\t//-------------------\r\n\r\n        function errorsWithHint(field) {\r\n            if (field == null) return;\r\n\t\t\t\r\n            return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n        };\r\n\t\t\r\n//         function submittedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function submittedErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function dirtyErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function dirtyErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function touchedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n//             \r\n//             if (field.$touched || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n\r\n        function touchedErrorsWithHint(form, field) {\r\n            if (form == null) return;\r\n            if (field == null) return;\r\n\r\n            if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\r\n                var result = _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n                return result;\r\n            }\r\n            return { hint: true };\r\n        };\r\n\r\n        function resetFormErrors(form, errors) {\r\n            form.$setPristine();\r\n            form.$setUntouched();\r\n\r\n            if (errors) {\r\n                form.$setDirty();\r\n                form.$setSubmitted();\r\n            }\r\n\r\n            form.$serverError = {};\r\n        };\r\n        \r\n        function resetFieldsErrors(form, field) {\r\n            if (!form) return;\r\n            if (field && form[field] && form[field].$error) {\r\n                 form[field].$error = {};\r\n            } else {\r\n                for (var prop in form) {\r\n                    if (form[prop] && form[prop].$error) {\r\n                        form[prop].$error = {};\r\n                    };\r\n                }\r\n                if (form && form.$error) form.$error = {};\r\n            }\r\n        };\r\n        \r\n        function setFormError(form, error, errorFieldMap) {\r\n            if (error == null) return;\r\n            // Prepare form server errors\r\n            form.$serverError = form.$serverError || {};\r\n            // Prepare error code\r\n            var code = error.code || (error.data || {}).code || null;\r\n            if (!code && error.status) code = error.status;\r\n\r\n            if (code) {\r\n                var \r\n                    errorName = 'ERROR_' + code,\r\n                    field = errorFieldMap ? errorFieldMap[code] : null;\r\n                // Set server error to fields\r\n                if (field && form[field] && form[field].$setValidity) {\r\n                    form[field].$setValidity(errorName, false);\r\n                    return;\r\n                }\r\n\r\n                // Set server error to form\r\n                if (field == 'form') {\r\n                    form.$serverError[errorName] = true;\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n            if (error.data && error.data.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.data.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            // Set as undefined error\r\n            if (error.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            if (error.name) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.name;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            form.$serverError['ERROR_UNKNOWN'] = error;\r\n            goToUnhandledErrorPage(error);\r\n        };\r\n\r\n        function goToUnhandledErrorPage(error) {\r\n            $rootScope.$emit('pipUnhandledInternalError', {\r\n                error: error\r\n            });\r\n        };\r\n        \r\n\t});\r\n\r\n})();","/**\r\n * @file Maintenance error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Maintenance', []);\r\n\r\n    thisModule.controller('pipErrorMaintenanceController', function ($scope, $state, $rootScope, $mdMedia, $injector, pipErrorsService) {\r\n\r\n        var errorKey = 'Maintenance';\r\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\r\n\r\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n\r\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.timeoutInterval = $scope.error && $scope.error.config &&\r\n                        $scope.error.config.params && $scope.error.config.params.interval ? $scope.error.config.params.interval : 0;\r\n\r\n        $scope.onClose = onClose;\r\n\r\n        return;\r\n\r\n        function appHeader() {\r\n            if (!pipNavService) return;\r\n\r\n            pipNavService.appbar.addShadow();\r\n            pipNavService.icon.showMenu();\r\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\r\n            pipNavService.actions.hide();\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Missing route error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.MissingRoute', []);\r\n\r\n    thisModule.controller('pipErrorMissingRouteController', function ($scope, $state, $rootScope, $mdMedia, $injector, pipErrorsService) {\r\n\r\n        var errorKey = 'MissingRoute';\r\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\r\n\r\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n\r\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        appHeader();\r\n        $rootScope.$routing = false;\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.fromState : {};\r\n        $scope.unfoundState = $state && $state.params ?  $state.params.unfoundState : {};\r\n        $scope.url = $scope.unfoundState && $scope.unfoundState.to ? $state.href($scope.unfoundState.to, $scope.unfoundState.toParams, {absolute: true}) : '';\r\n        $scope.urlBack = $scope.fromState && $scope.fromState.to ? $state.href($scope.fromState.to, $scope.fromState.fromParams, {absolute: true}) : '';\r\n\r\n        $scope.onContinue = onContinue;\r\n\r\n        return;\r\n\r\n        function appHeader() {\r\n            if (!pipNavService) return;\r\n\r\n            pipNavService.appbar.addShadow();\r\n            pipNavService.icon.showMenu();\r\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\r\n            pipNavService.actions.hide();\r\n        };\r\n\r\n        function onContinue() {\r\n            // Todo: Go to default state '/'\r\n            //pipAuthState.goToAuthorized();\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file No connection error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.NoConnection', []);\r\n\r\n    thisModule.controller('pipErrorNoConnectionController', function ($scope, $state, $rootScope, $window, $mdMedia, $injector, pipErrorsService) {\r\n\r\n        var errorKey = 'NoConnection';\r\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\r\n\r\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n\r\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope.$routing = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        $scope.onRetry = onRetry;\r\n\r\n        return;\r\n\r\n        function onRetry() {\r\n            $window.history.back();\r\n        };\r\n\r\n        function appHeader() {\r\n            if (!pipNavService) return;\r\n\r\n            pipNavService.appbar.addShadow();\r\n            pipNavService.icon.showMenu();\r\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\r\n            pipNavService.actions.hide();\r\n        };\r\n\r\n    });\r\n\r\n\r\n})();\r\n","/**\r\n * @file No Connection Error panel\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipNoConnectionPanel\", ['pipErrors.Translate']);\r\n\r\n    thisModule.directive('pipNoConnectionPanel',\r\n        function () {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/no_connection_panel.html',\r\n                controller: 'pipNoConnectionPanelController'\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipNoConnectionPanelController',\r\n        function ($scope, $element, $attrs, pipTranslate) {\r\n\r\n            $scope.onRetry = onRetry;\r\n\r\n            return;\r\n\r\n            function onRetry() {\r\n                if ($scope.retry && angular.isFunction($scope.retry)) $scope.retry();\r\n            };\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Unknown error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unknown', []);\r\n\r\n    thisModule.controller('pipErrorUnknownController', function ($scope, $state, $rootScope, $injector, $mdMedia, pipErrorsService) {\r\n\r\n        var errorKey = 'Unknown';\r\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\r\n\r\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n\r\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.error_details = null;\r\n\r\n        $scope.onDetails = onDetails;\r\n        $scope.onClose = onClose;\r\n\r\n        parseError();\r\n\r\n        return;\r\n\r\n        function appHeader() {\r\n            if (!pipNavService) return;\r\n\r\n            pipNavService.appbar.addShadow();\r\n            pipNavService.icon.showMenu();\r\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\r\n            pipNavService.actions.hide();\r\n        };\r\n\r\n        function parseError() {\r\n            $scope.error_details = {};\r\n            $scope.error_details.code = $scope.error.code;\r\n            $scope.error_details.message = $scope.error.message;\r\n            $scope.error_details.status = $scope.error.status;\r\n\r\n            $scope.error_details.server_stacktrace = function () {\r\n\r\n            };\r\n\r\n            $scope.error_details.client_stacktrace = function () {\r\n\r\n            };\r\n        };\r\n\r\n        function onDetails() {\r\n            $scope.showError = true;\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Unsupported error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unsupported', []);\r\n\r\n    thisModule.controller('pipErrorUnsupportedController', function ($scope, $state, $rootScope, $mdMedia, $injector, pipErrorsService) {\r\n\r\n        var errorKey = 'Unsupported';\r\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\r\n\r\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n\r\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\r\n        $rootScope.$routing = false;\r\n        \r\n        if (pipNavService) {\r\n            appHeader();\r\n        }\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipNavService.appbar.addShadow();\r\n            pipNavService.icon.showMenu();\r\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\r\n            pipNavService.actions.hide();\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/missing_route.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"onContinue($event)\">{{::\\'ERROR_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{url}}\">{{::\\'ERROR_ROUTE_TRY_AGAIN\\' | translate }}: {{url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{urlBack}}\">{{::\\'ERROR_ROUTE_GO_BACK\\' | translate }}: {{urlBack}}</a></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/no_connection.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/maintenance.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_AVAILABLE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_AVAILABLE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"timeoutInterval\">{{::\\'ERROR_AVAILABLE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"isCordova\"><md-button class=\"md-accent\" ng-click=\"onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_AVAILABLE_CLOSE\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/no_connection_panel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/unknown.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"showError && error_details && error_details.message\"><div ng-if=\"error_details.code\">Code: {{error_details.code}}</div><div ng-if=\"error_details.message\">Description: {{error_details.message}}</div><div ng-if=\"error_details.status\">HTTP status: {{error_details.status}}</div><div ng-if=\"error_details.server_stacktrace\">Server stacktrace: {{error_details.server_stacktrace}}</div><div ng-if=\"error_details.client_stacktrace\">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"error_details && error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/unsupported.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"media(\\'gt-xs\\')\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div><div class=\"pip-error-details\" ng-if=\"media(\\'xs\\')\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IBarChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const BarChartBindings: IBarChartBindings = {\r\n        series: '<pipSeries',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class BarChartBindingsChanges implements IBarChartBindings, ng.IOnChangesObject {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        xTickFormat: ng.IChangesObject < any > ;\r\n        yTickFormat: ng.IChangesObject < any > ;\r\n        interactiveLegend: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class BarChartController implements ng.IController, IBarChartBindings {\r\n        public series: any;\r\n        public xTickFormat: any;\r\n        public yTickFormat: any;\r\n        public interactiveLegend: boolean;\r\n        public legend: any;\r\n\r\n        private data: any;\r\n        private chart: nv.DiscreteBarChart = null;\r\n        private chartElem: any;\r\n        private colors: string[];\r\n        private height: number = 270;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                if (!updatedLegend) return;\r\n\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n            this.generateParameterColor();\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: BarChartBindingsChanges) {\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : null;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : null;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : null;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.data = this.prepareData(this.series);\r\n                this.legend = _.clone(this.series);\r\n                this.generateParameterColor();\r\n                this.updateChart();\r\n            }\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.chartElem.datum(this.data).call(this.chart);\r\n                this.configBarWidthAndLabel();\r\n                this.drawEmptyState();\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.discreteBarChart()\r\n                    .margin({\r\n                        top: 10,\r\n                        right: 0,\r\n                        bottom: 10,\r\n                        left: 50\r\n                    })\r\n                    .x((d) => {\r\n                        return d.label || d.key || d.x;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .showValues(true)\r\n                    .staggerLabels(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .valueFormat( < any > d3.format('d'))\r\n                    .duration(0)\r\n                    .height(this.height)\r\n                    .color((d) => {\r\n                        return this.data[d.series].color || this.pipChartColors.materialColorToRgba(this.colors[d.series]);\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d) => {\r\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chartElem = < any > d3.select(this.$element.get(0))\r\n                    .select('.bar-chart svg')\r\n                    .datum(this.data)\r\n                    .style('height', '285px')\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.chart.update();\r\n                    this.configBarWidthAndLabel(0);\r\n                    this.drawEmptyState();\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    this.configBarWidthAndLabel();\r\n                }, 0);\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private prepareData(data): any {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (this.$element.find('.nv-noData').length === 0) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const g = this.chartElem.append('g').classed('empty-state', true),\r\n                    width = this.$element.find('.nvd3-svg').innerWidth(),\r\n                    margin = width * 0.1;\r\n\r\n                g.append('g')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', this.height - 10)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(42, 60)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 200)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(84, 160)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 100)\r\n                    .attr('width', 38);\r\n\r\n                g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2 * margin) / 126) + ', 1)');\r\n            }\r\n        }\r\n\r\n        private configBarWidthAndLabel(timeout: number = 1000) {\r\n            const labels = this.$element.find('.nv-bar text'),\r\n                chartBars = this.$element.find('.nv-bar'),\r\n                parentHeight = ( < any > this.$element.find('.nvd3-svg')[0]).getBBox().height;\r\n\r\n            d3.select(this.$element.find('.bar-chart')[0]).classed('visible', true);\r\n\r\n            _.each(chartBars, (item: EventTarget, index: number) => {\r\n                const barHeight = Number(d3.select(item).select('rect').attr('height')),\r\n                    barWidth = Number(d3.select(item).select('rect').attr('width')),\r\n                    element = d3.select(item),\r\n                    x = d3.transform(element.attr('transform')).translate[0],\r\n                    y = d3.transform(element.attr('transform')).translate[1];\r\n\r\n                element\r\n                    .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + (this.height - 20) + ')')\r\n                    .select('rect').attr('height', 0);\r\n\r\n                element\r\n                    .transition()\r\n                    .duration(timeout)\r\n                    .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + y + ')')\r\n                    .select('rect').attr('height', barHeight);\r\n\r\n                d3.select(labels[index])\r\n                    .attr('dy', barHeight / 2 + 10)\r\n                    .attr('x', barWidth / 2);\r\n            });\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                if (item.values[0]) {\r\n                    item.values[0].color = item.values[0].color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n                    item.color = item.values[0].color;\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const BarChart: ng.IComponentOptions = {\r\n        bindings: BarChartBindings,\r\n        templateUrl: 'bar_chart/BarChart.html',\r\n        controller: BarChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipBarCharts', [])\r\n        .component('pipBarChart', BarChart);\r\n}","import { IChartColorsService } from './IChartColorsService';\r\n\r\n{\r\n    class ChartColorsService implements IChartColorsService {\r\n        constructor(\r\n            private $mdColorPalette: angular.material.IColorPalette\r\n        ) { \r\n            \"ngInject\";\r\n        }\r\n\r\n        public getMaterialColor(index: number, colors: string[]): string {\r\n            if (!colors || colors.length < 1) return null;\r\n\r\n            if (index >= colors.length) {\r\n                index = 0;\r\n            }\r\n\r\n            return this.materialColorToRgba(colors[index]);\r\n        }\r\n\r\n        public materialColorToRgba(color: string): string {\r\n            return 'rgba(' + this.$mdColorPalette[color][500].value[0] + ',' +\r\n                this.$mdColorPalette[color][500].value[1] + ',' +\r\n                this.$mdColorPalette[color][500].value[2] + ',' +\r\n                (this.$mdColorPalette[color][500].value[3] || 1) + ')';\r\n        }\r\n\r\n        public generateMaterialColors(): string[] {\r\n            let colors = _.map((<any>this.$mdColorPalette), (palette, color: string) => {\r\n                return color;\r\n            });\r\n            colors = _.filter(colors, (color: string) => {\r\n                return _.isObject(this.$mdColorPalette[color]) && _.isObject(this.$mdColorPalette[color][500]) && _.isArray(this.$mdColorPalette[color][500].value);\r\n            });\r\n\r\n            return colors;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipChartColors', [])\r\n        .service('pipChartColors', ChartColorsService);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        interactive: any;\r\n    }\r\n\r\n    const ChartLegendBindings: IChartLegendBindings = {\r\n        series: '<pipSeries',\r\n        interactive: '<pipInteractive'\r\n    }\r\n\r\n    class ChartLegendBindingsChanges implements ng.IOnChangesObject, IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        interactive: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class ChartLegendController implements ng.IController, IChartLegendBindings {\r\n        public series: any;\r\n        public interactive: boolean;\r\n\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.updateLegends();\r\n        }\r\n\r\n        public $onChanges(changes: ChartLegendBindingsChanges) {\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.updateLegends();\r\n            }\r\n\r\n            if (changes.interactive && changes.interactive.currentValue !== changes.interactive.previousValue) {\r\n                this.interactive = changes.interactive.currentValue;\r\n                if (this.interactive === true) {\r\n                    this.$timeout(() => {\r\n                        this.colorCheckboxes();\r\n                    }, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateLegends() {\r\n            this.$timeout(() => {\r\n                this.animate();\r\n                this.colorCheckboxes();\r\n            }, 0);\r\n            this.prepareSeries();\r\n        }\r\n\r\n        private colorCheckboxes() {\r\n            const checkboxContainers = this.$element.find('md-checkbox .md-container');\r\n\r\n            _.each(checkboxContainers, (item: EventTarget, index: number) => {\r\n                if (index >= this.series.length) {\r\n                    return\r\n                }\r\n                $(item)\r\n                    .css('color', this.series[index].color || this.colors[index])\r\n                    .find('.md-icon')\r\n                    .css('background-color', this.series[index].color || this.colors[index]);\r\n            });\r\n        }\r\n\r\n        private animate() {\r\n            const legendTitles = this.$element.find('.chart-legend-item');\r\n\r\n            _.each(legendTitles, (item: EventTarget, index: number) => {\r\n                this.$timeout(() => {\r\n                    $(item).addClass('visible');\r\n                }, 200 * index);\r\n            });\r\n        }\r\n\r\n        private prepareSeries() {\r\n            if (!this.series) return;\r\n\r\n            _.each(this.series, (item: any, index: number) => {\r\n                const materialColor = this.pipChartColors.getMaterialColor(index, this.colors);\r\n                item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : materialColor);\r\n                item.disabled = item.disabled || false;\r\n            });\r\n        }\r\n    }\r\n\r\n    const ChartLegend: ng.IComponentOptions = {\r\n        bindings: ChartLegendBindings,\r\n        templateUrl: 'chart_legend/ChartInteractiveLegend.html',\r\n        controller: ChartLegendController\r\n    }\r\n\r\n    angular\r\n        .module('pipChartLegends', [])\r\n        .component('pipChartLegend', ChartLegend);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        showYAxis: any;\r\n        showXAxis: any;\r\n        xFormat: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        xTickValues: any;\r\n        dynamic: any;\r\n        fixedHeight: any;\r\n        dynamicHeight: any;\r\n        minHeight: any;\r\n        maxHeight: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const LineChartBindings: ILineChartBindings = {\r\n        series: '<pipSeries',\r\n        showYAxis: '<?pipYAxis',\r\n        showXAxis: '<?pipXAxis',\r\n        xFormat: '<?pipXFormat',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        xTickValues: '<?pipXTickValues',\r\n        dynamic: '<?pipDynamic',\r\n        fixedHeight: '<?pipDiagramHeight',\r\n        dynamicHeight: '<?pipDynamicHeight',\r\n        minHeight: '<?pipMinHeight',\r\n        maxHeight: '<?pipMaxHeight',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class LineChartBindingsChanges implements ng.IOnChangesObject, ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        fixedHeight: ng.IChangesObject < number > ;\r\n        dynamicHeight: ng.IChangesObject < boolean > ;\r\n        minHeight: ng.IChangesObject < number > ;\r\n        maxHeight: ng.IChangesObject < number > ;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        showYAxis: ng.IChangesObject < boolean > ;\r\n        showXAxis: ng.IChangesObject < boolean > ;\r\n        xFormat: ng.IChangesObject < any > ;\r\n        xTickFormat: ng.IChangesObject < any > ;\r\n        yTickFormat: ng.IChangesObject < any > ;\r\n        xTickValues: ng.IChangesObject < any > ;\r\n        dynamic: ng.IChangesObject < boolean > ;\r\n        interactiveLegend: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class LineChartController implements ng.IController, ILineChartBindings {\r\n        private HEIGHT = 270;\r\n        private chart: nv.LineChart = null;\r\n        private chartElem: any = null;\r\n        private setZoom: Function = null;\r\n        private updateZoomOptions: Function = null;\r\n        private colors: string[];\r\n        \r\n        public fixedHeight: number = this.HEIGHT;\r\n        public dynamicHeight: boolean = false;\r\n        public minHeight: number = this.HEIGHT;\r\n        public maxHeight: number = this.HEIGHT;\r\n        public series: any;\r\n        public showYAxis: boolean = true;\r\n        public showXAxis: boolean = true;\r\n        public xFormat: Function;\r\n        public xTickFormat: Function;\r\n        public yTickFormat: Function;\r\n        public xTickValues: number[];\r\n        public dynamic: boolean = false;\r\n        public interactiveLegend: boolean = false;\r\n        public data: any;\r\n        public legend: any;\r\n        public sourceEvents: any;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $timeout(() => {\r\n                    d3.selectAll('.nvtooltip').style('opacity', 0);\r\n                }, 800)\r\n            });\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series) || [];\r\n            this.legend = _.clone(this.series);\r\n            this.sourceEvents = [];\r\n\r\n            this.generateParameterColor();\r\n\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: LineChartBindingsChanges) {\r\n            this.fixedHeight = changes.fixedHeight ? changes.fixedHeight.currentValue : this.HEIGHT;\r\n            this.minHeight = changes.minHeight ? changes.minHeight.currentValue : this.HEIGHT;\r\n            this.maxHeight = changes.maxHeight ? changes.maxHeight.currentValue : this.HEIGHT;\r\n            this.dynamicHeight = changes.dynamicHeight ? changes.dynamicHeight.currentValue : this.dynamicHeight;\r\n\r\n            this.showXAxis = changes.showXAxis ? changes.showXAxis.currentValue : this.showXAxis;\r\n            this.showYAxis = changes.showYAxis ? changes.showYAxis.currentValue : this.showYAxis;\r\n            this.dynamic = changes.dynamic ? changes.dynamic.currentValue : this.dynamic;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : this.interactiveLegend;\r\n\r\n            this.xFormat = changes.xFormat ? changes.xFormat.currentValue : this.xFormat;\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : this.xTickFormat;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : this.yTickFormat;\r\n\r\n            if (changes.xTickValues && changes.xTickValues.currentValue !== changes.xTickValues.previousValue) {\r\n                this.xTickValues = changes.xTickValues.currentValue;\r\n                this.updateXTickValues();\r\n                if (this.chartElem && this.chart) this.chartElem.datum(this.data || []).call(this.chart);\r\n            }\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.updateSeries();\r\n            }\r\n        }\r\n\r\n        private prepareData(data) {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private getHeight() {\r\n            /*if (this.dynamicHeight) {\r\n                const heigth = Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight);\r\n                return heigth;\r\n            } else {\r\n                return this.fixedHeight;\r\n            }*/\r\n            return this.dynamicHeight ? Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight) : this.fixedHeight;\r\n        };\r\n\r\n        public zoomIn() {\r\n            if (this.setZoom) {\r\n                this.setZoom('in');\r\n            }\r\n        };\r\n\r\n        public zoomOut() {\r\n            if (this.setZoom) {\r\n                this.setZoom('out');\r\n            }\r\n        };\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.lineChart()\r\n                    .margin({\r\n                        top: 20,\r\n                        right: 20,\r\n                        bottom: 30,\r\n                        left: 30\r\n                    })\r\n                    .x((d) => {\r\n                        return (d !== undefined && d.x !== undefined) ? (this.xFormat ? this.xFormat(d.x) : d.x) : d;\r\n                    })\r\n                    .y((d) => {\r\n                        return (d !== undefined && d.value !== undefined) ? d.value : d;\r\n                    })\r\n                    .height(this.getHeight() - 50)\r\n                    .useInteractiveGuideline(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .showLegend(false)\r\n                    .color((d) => {\r\n                        return d.color || ( < any > d3.scale).paletteColors().range();\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d) => {\r\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    })\r\n                    .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                        d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0)).select('.line-chart svg');\r\n                this.chartElem.datum(this.data || []).style('height', (this.getHeight() - 50) + 'px').call(this.chart);\r\n                // Handle touches for correcting tooltip position\r\n                $('.line-chart svg').on('touchstart touchmove', (e) => {\r\n                    this.$timeout(() => {\r\n                        const tooltip = $('.nvtooltip'),\r\n                            tooltipW = tooltip.innerWidth(),\r\n                            bodyWidth = $('body').innerWidth(),\r\n                            x = e.originalEvent['touches'][0]['pageX'],\r\n                            y = e.originalEvent['touches'][0]['pageY'];\r\n\r\n                        tooltip.css('transform', 'translate(' +\r\n                            (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' +\r\n                            y + ')');\r\n                        tooltip.css('left', 0);\r\n                        tooltip.css('top', 0);\r\n                    });\r\n                });\r\n\r\n                $('.line-chart svg').on('touchstart touchend', (e) => {\r\n                    const removeTooltip = () => {\r\n                        $('.nvtooltip').css('opacity', 0);\r\n                    };\r\n\r\n                    removeTooltip();\r\n\r\n                    this.$timeout(() => {\r\n                        removeTooltip();\r\n                    }, 500);\r\n                });\r\n\r\n                if (this.dynamic) {\r\n                    this.addZoom(this.chart, this.chartElem);\r\n                }\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$scope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private updateXTickValues() {\r\n            if (!this.chart) return;\r\n\r\n            this.chart.xAxis\r\n                .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                    d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.updateXTickValues();\r\n\r\n                this.chartElem.datum(this.data || []).call(this.chart);\r\n                this.drawEmptyState();\r\n\r\n                if (this.updateZoomOptions) this.updateZoomOptions(this.data);\r\n            }\r\n        }\r\n\r\n        private updateSeries() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n\r\n            this.generateParameterColor();\r\n            this.updateChart();\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.height(this.getHeight() - 50);\r\n            this.chartElem.style('height', (this.getHeight() - 50) + 'px');\r\n            this.chart.update();\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const containerWidth = this.$element.find('.line-chart').innerWidth(),\r\n                    containerHeight = this.$element.find('.line-chart').innerHeight();\r\n\r\n                if (this.$element.find('.empty-state').get(0)) {\r\n                    this.chartElem\r\n                        .select('image')\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\r\n                } else {\r\n                    this.chartElem\r\n                        .append(\"defs\")\r\n                        .append(\"pattern\")\r\n                        .attr(\"height\", 1)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"x\", \"0\")\r\n                        .attr(\"y\", \"0\")\r\n                        .attr(\"id\", \"bg\")\r\n                        .append(\"image\")\r\n                        .attr('x', 17)\r\n                        .attr('y', 0)\r\n                        .attr('height', \"216px\")\r\n                        .attr('width', \"1151px\")\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\r\n                        .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\r\n\r\n                    this.chartElem\r\n                        .append('rect')\r\n                        .classed('empty-state', true)\r\n                        .attr('height', \"100%\")\r\n                        .attr('width', \"100%\")\r\n                        .attr('fill', 'url(#bg)');\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateScroll(domains, boundary) {\r\n            const bDiff = boundary[1] - boundary[0],\r\n                domDiff = domains[1] - domains[0],\r\n                isEqual = domDiff / bDiff === 1;\r\n\r\n            $(this.$element[0]).find('.visual-scroll')\r\n                .css('opacity', function () {\r\n                    return isEqual ? 0 : 1;\r\n                });\r\n\r\n            if (isEqual) return;\r\n\r\n            $(this.$element[0]).find('.scrolled-block')\r\n                .css('left', () => {\r\n                    return (domains[0] - boundary[0]) / bDiff * 100 + '%';\r\n                })\r\n                .css('width', () => {\r\n                    return domDiff / bDiff * 100 + '%';\r\n                });\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n        private addZoom(chart, svg) {\r\n            // Scale Extent\r\n            const scaleExtent = 4;\r\n\r\n            // Parameters\r\n            let yAxis = null;\r\n            let xAxis = null;\r\n            let xDomain = null;\r\n            let yDomain = null;\r\n            let redraw = null;\r\n\r\n            // Scales\r\n            let xScale = null;\r\n            let yScale = null;\r\n\r\n            // Min/max boundaries\r\n            let x_boundary = null;\r\n            let y_boundary = null;\r\n\r\n            // Create d3 zoom handler\r\n            let d3zoom = d3.behavior.zoom();\r\n            let prevXDomain = null;\r\n            let prevScale = null;\r\n            let prevTranslate = null;\r\n\r\n            const setData = (newChart) => {\r\n                // Parameters\r\n                yAxis = newChart.yAxis;\r\n                xAxis = newChart.xAxis;\r\n                xDomain = newChart.xDomain || xAxis.scale().domain;\r\n                yDomain = newChart.yDomain || yAxis.scale().domain;\r\n                redraw = newChart.update;\r\n\r\n                // Scales\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                // Min/max boundaries\r\n                x_boundary = xAxis.scale().domain().slice();\r\n                y_boundary = yAxis.scale().domain().slice();\r\n\r\n                // Create d3 zoom handler\r\n                prevXDomain = x_boundary;\r\n                prevScale = d3zoom.scale();\r\n                prevTranslate = d3zoom.translate();\r\n\r\n                // Ensure nice axis\r\n                xScale.nice();\r\n                yScale.nice();\r\n            }\r\n\r\n            setData(chart);\r\n\r\n            // Fix domain\r\n            const fixDomain = (domain, boundary, scale, translate) => {\r\n                if (domain[0] < boundary[0]) {\r\n                    domain[0] = boundary[0];\r\n                    if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                        domain[1] += (boundary[0] - domain[0]);\r\n                    } else {\r\n                        domain[1] = prevXDomain[1];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n\r\n                }\r\n                if (domain[1] > boundary[1]) {\r\n                    domain[1] = boundary[1];\r\n                    if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                        domain[0] -= (domain[1] - boundary[1]);\r\n                    } else {\r\n                        domain[0] = prevXDomain[0];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                prevXDomain = _.clone(domain);\r\n                prevScale = _.clone(scale);\r\n                prevTranslate = _.clone(translate);\r\n\r\n                return domain;\r\n            }\r\n\r\n            const updateChart = () => {\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                xScale.domain(x_boundary);\r\n                d3zoom.x(xScale).y(yScale);\r\n                svg.call(d3zoom);\r\n            }\r\n\r\n            // Zoom event handler\r\n            const zoomed = () => {\r\n                if (( < any > d3.event).scale === 1) {\r\n                    unzoomed();\r\n                    updateChart();\r\n                } else {\r\n                    xDomain(fixDomain(xScale.domain(), x_boundary, ( < any > d3.event).scale, ( < any > d3.event).translate));\r\n                    redraw();\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n\r\n            // Describe set zoom function\r\n            this.setZoom = (which) => {\r\n                const center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                const translate0 = d3zoom.translate(),\r\n                    coordinates0 = coordinates(center0);\r\n\r\n                if (which === 'in') {\r\n                    if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                } else {\r\n                    if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                }\r\n\r\n                const center1 = point(coordinates0);\r\n                d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                d3zoom.event(svg);\r\n            };\r\n\r\n            const step = (which) => {\r\n                const translate = d3zoom.translate();\r\n\r\n                if (which === 'right') {\r\n                    translate[0] -= 20;\r\n                } else {\r\n                    translate[0] += 20;\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                d3zoom.event(svg);\r\n            }\r\n\r\n            const coordinates = (point) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n            }\r\n\r\n            const point = (coordinates) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n            }\r\n\r\n            const keypress = () => {\r\n                switch (( < any > d3.event).keyCode) {\r\n                    case 39:\r\n                        step('right');\r\n                        break;\r\n                    case 37:\r\n                        step('left');\r\n                        break;\r\n                    case 107:\r\n                        this.setZoom('in');\r\n                        break;\r\n                    case 109:\r\n                        this.setZoom('out');\r\n                }\r\n            }\r\n\r\n            // Zoom event handler\r\n            const unzoomed = () => {\r\n                xDomain(x_boundary);\r\n                redraw();\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                prevScale = 1;\r\n                prevTranslate = [0, 0];\r\n            }\r\n\r\n            // Initialize wrapper\r\n            d3zoom.x(xScale)\r\n                .y(yScale)\r\n                .scaleExtent([1, scaleExtent])\r\n                .on('zoom', zoomed);\r\n\r\n            // Add handler\r\n            svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n            $(this.$element.get(0)).addClass('dynamic');\r\n\r\n            // Add keyboard handlers\r\n            svg\r\n                .attr('focusable', false)\r\n                .style('outline', 'none')\r\n                .on('keydown', keypress)\r\n                .on('focus', () => {});\r\n\r\n            const getXMinMax = (data) => {\r\n                let maxVal, minVal = null;\r\n\r\n                for (let i = 0; i < data.length; i++) {\r\n                    if (!data[i].disabled) {\r\n                        const tempMinVal = d3.max(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        const tempMaxVal = d3.min(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                        maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                    }\r\n                }\r\n                return [maxVal, minVal];\r\n            };\r\n\r\n            const updateZoomOptions = (data) => {\r\n                yAxis = chart.yAxis;\r\n                xAxis = chart.xAxis;\r\n\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                x_boundary = getXMinMax(data);\r\n\r\n                if (d3zoom.scale() === 1) {\r\n                    d3zoom.x(xScale).y(yScale);\r\n                    svg.call(d3zoom);\r\n                    d3zoom.event(svg);\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n        }\r\n    }\r\n\r\n    const LineChart: ng.IComponentOptions = {\r\n        bindings: LineChartBindings,\r\n        templateUrl: 'line_chart/LineChart.html',\r\n        controller: LineChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipLineCharts', [])\r\n        .component('pipLineChart', LineChart);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        donut: any;\r\n        legend: any;\r\n        total: any;\r\n        size: any;\r\n        centered: any;\r\n    }\r\n\r\n    const PieChartBindings: IPieChartBindings = {\r\n        series: '<pipSeries',\r\n        donut: '<?pipDonut',\r\n        legend: '<?pipShowLegend',\r\n        total: '<?pipShowTotal',\r\n        size: '<?pipPieSize',\r\n        centered: '<?pipCentered'\r\n    }\r\n\r\n    class PieChartBindingsChanges implements ng.IOnChangesObject, IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        donut: ng.IChangesObject < boolean > ;\r\n        legend: ng.IChangesObject < boolean > ;\r\n        total: ng.IChangesObject < boolean > ;\r\n        size: ng.IChangesObject < number | string > ;\r\n        centered: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class PieChartController implements ng.IController, IPieChartBindings {\r\n        public series: any;\r\n        public donut: boolean = false;\r\n        public legend: boolean = true;\r\n        public total: boolean = true;\r\n        public size: number | string = 250;\r\n        public centered: boolean = false;\r\n\r\n        private data: any;\r\n        private chart: nv.PieChart = null;\r\n        private chartElem: any;\r\n        private titleElem: any;\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.series;\r\n            this.generateParameterColor();\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: PieChartBindingsChanges) {\r\n            this.legend = changes.legend ? changes.legend.currentValue : this.legend;\r\n            this.centered = changes.centered ? changes.centered.currentValue : this.centered;\r\n            this.donut = changes.donut ? changes.donut.currentValue : this.donut;\r\n            this.size = changes.size ? changes.size.currentValue : this.size;\r\n            this.total = changes.total ? changes.total.currentValue : this.total;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.data = changes.series.currentValue;\r\n                this.generateParameterColor();\r\n\r\n                if (this.chart) {\r\n                    this.chartElem.datum(this.data).call(this.chart);\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                }\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.pieChart()\r\n                    .margin({\r\n                        top: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        left: 0\r\n                    })\r\n                    .x((d) => {\r\n                        return this.donut ? d.value : null;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .height(Number(this.size))\r\n                    .width(Number(this.size))\r\n                    .showLabels(true)\r\n                    .labelThreshold(.001)\r\n                    .growOnHover(false)\r\n                    .donut(this.donut)\r\n                    .donutRatio(0.5)\r\n                    .color((d) => {\r\n                        return d.color || ( < any > d3.scale).paletteColors().range();\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n                this.chart.showLegend(false);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0))\r\n                    .select('.pie-chart')\r\n                    .style('height', (this.size) + 'px')\r\n                    .style('width', this.centered ? '100%' : (this.size) + 'px')\r\n                    .select('svg')\r\n                    .style('opacity', 0)\r\n                    .datum(this.data || [])\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.chart.update();\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.centerChart();\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0];\r\n                    this.renderTotalLabel(svgElem);\r\n                    d3.select(svgElem)\r\n                        .transition()\r\n                        .duration(1000)\r\n                        .style('opacity', 1);\r\n\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    }, 800);\r\n                    this.centerChart();\r\n                    this.drawEmptyState(svgElem);\r\n                });\r\n            });\r\n        }\r\n\r\n        private drawEmptyState(svg) {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n                this.$element.find('.pip-empty-pie-text').remove();\r\n            } else {\r\n                if (this.$element.find('.pip-empty-pie-text').length === 0) {\r\n                    this.$element.find('.pie-chart')\r\n                        .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\r\n                }\r\n\r\n                const pie = d3.layout.pie().sort(null),\r\n                    size = Number(this.size);\r\n\r\n                const arc = d3.svg.arc()\r\n                    .innerRadius(size / 2 - 20)\r\n                    .outerRadius(size / 2 - 57);\r\n\r\n                svg = d3.select(svg)\r\n                    .append(\"g\")\r\n                    .classed('empty-state', true)\r\n                    .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\r\n\r\n                const path = svg.selectAll(\"path\")\r\n                    .data(pie([1]))\r\n                    .enter().append(\"path\")\r\n                    .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\r\n                    .attr(\"d\", < any > arc);\r\n            }\r\n        }\r\n\r\n        private centerChart() {\r\n            if (this.centered) {\r\n                const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0],\r\n                    leftMargin = $(svgElem).innerWidth() / 2 - (Number(this.size) || 250) / 2;\r\n                d3.select(this.$element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\r\n            }\r\n        }\r\n\r\n        private renderTotalLabel(svgElem) {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            let totalVal = this.data.reduce(function (sum, curr) {\r\n                return sum + curr.value;\r\n            }, 0);\r\n\r\n            if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\r\n\r\n            d3.select(svgElem)\r\n                .select('.nv-pie:not(.nvd3)')\r\n                .append('text')\r\n                .classed('label-total', true)\r\n                .attr('text-anchor', 'middle')\r\n                .style('dominant-baseline', 'central')\r\n                .text(totalVal);\r\n\r\n            this.titleElem = d3.select(this.$element.find('text.label-total').get(0)).style('opacity', 0);\r\n        }\r\n\r\n        private resizeTitleLabelUnwrap() {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            const boxSize = ( < any > this.$element.find('.nvd3.nv-pieChart').get(0)).getBBox();\r\n\r\n            if (!boxSize.width || !boxSize.height) {\r\n                return;\r\n            }\r\n\r\n            this.titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const PieChart: ng.IComponentOptions = {\r\n        bindings: PieChartBindings,\r\n        templateUrl: 'pie_chart/PieChart.html',\r\n        controller: PieChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipPieCharts', [])\r\n        .component('pipPieChart', PieChart);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar_chart/BarChart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend ng-show=\"$ctrl.legend\" pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('chart_legend/ChartInteractiveLegend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in $ctrl.series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"$ctrl.interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!$ctrl.interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line_chart/LineChart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': $ctrl.showXAxis, \\'visible-y-axis\\': $ctrl.showYAxis}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"$ctrl.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"$ctrl.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie_chart/PieChart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !$ctrl.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"$ctrl.data\" pip-interactive=\"false\" ng-if=\"$ctrl.legend\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","{\n    interface ILocationBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipShowLocationIcon: any;\n        pipCollapse: any;\n        pipRebind: any;\n        pipDisabled: any;\n        pipLocationResize: any;\n    }\n\n    const LocationBindings: ILocationBindings = {\n        pipLocationName: '<',\n        pipLocationPos: '<',\n        pipShowLocationIcon: '<',\n        pipCollapse: '<',\n        pipRebind: '<',\n        pipDisabled: '<',\n        pipLocationResize: '&'\n    }\n\n    class LocationBindingsChanges implements ng.IOnChangesObject, ILocationBindings {\n        [key: string]: any;\n\n        pipLocationName: ng.IChangesObject < string > ;\n        pipLocationPos: ng.IChangesObject < any > ;\n        pipShowLocationIcon: ng.IChangesObject < boolean > ;\n        pipCollapse: ng.IChangesObject < boolean > ;\n        pipRebind: ng.IChangesObject < boolean > ;\n        pipDisabled: ng.IChangesObject < boolean > ;\n\n        pipLocationResize: any;\n    }\n\n    class LocationController implements ng.IController, ILocationBindings {\n        public pipLocationName: string;\n        public pipLocationPos: any;\n        public pipShowLocationIcon: boolean;\n        public pipCollapse: boolean;\n        public pipRebind: boolean;\n        public pipDisabled: boolean;\n        public showMap: boolean = true;\n        public pipLocationResize: Function;\n\n        private name: JQuery;\n        private mapContainer: JQuery;\n        private mapControl: JQuery;\n\n        constructor(\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $scope: ng.IScope\n        ) {\n            \"ngInject\";\n            // Add class\n            $element.addClass('pip-location');\n        }\n\n        public $postLink() {\n            this.$timeout(() => {\n                this.name = this.$element.find('.pip-location-name');\n                this.mapContainer = this.$element.find('.pip-location-container');\n\n                if (this.pipCollapse === true) {\n                    this.mapContainer.hide();\n                    this.showMap = false;\n\n                    // Process user click\n                    this.name.click((event) => {\n                        event.stopPropagation();\n                        if (this.pipDisabled) return;\n                        this.showMap = !this.showMap;\n                        this.mapContainer[this.showMap ? 'show' : 'hide']();\n                        if (this.showMap) this.generateMap();\n                        if (!this.$scope.$$phase) this.$scope.$apply();\n                    });\n                }\n\n                this.redrawMap();\n            });\n        }\n\n        private redrawMap() {\n            if (!this.mapContainer) return;\n\n            // Visualize map\n            if (this.pipLocationPos && this.showMap === true) {\n                this.generateMap();\n            } else {\n                this.clearMap();\n            }\n        }\n\n        public $onChanges(changes: LocationBindingsChanges) {\n            this.pipRebind = changes.pipRebind \n                ? changes.pipRebind.currentValue || false : false;\n            this.pipShowLocationIcon = changes.pipShowLocationIcon \n                ? changes.pipShowLocationIcon.currentValue || false : false;\n            this.pipCollapse = changes.pipCollapse \n                ? changes.pipCollapse.currentValue || false : false;\n            this.pipDisabled = changes.pipDisabled \n                ? changes.pipDisabled.currentValue || false : false;\n\n            if (this.pipRebind) {\n                this.pipLocationName = changes.pipLocationName \n                    ? changes.pipLocationName.currentValue : null;\n                this.pipLocationPos = changes.pipLocationPos \n                    ? changes.pipLocationPos.currentValue : null;\n                this.redrawMap();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n            this.mapContainer.hide();\n        }\n\n        private generateMap() {\n            const location = this.pipLocationPos;\n\n            // Safeguard for bad coordinates\n            if (this.showMap === false \n                || location == null \n                || location.coordinates == null \n                || location.coordinates.length < 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            const coordinates = new google.maps.LatLng(\n                location.coordinates[0],\n                location.coordinates[1]\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapContainer.show();\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const\n                mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\n\n            new google.maps.Marker({\n                position: coordinates,\n                map: map\n            });\n        };\n    }\n\n    const LocationComponent: ng.IComponentOptions = {\n        bindings: LocationBindings,\n        templateUrl: 'location/Location.html',\n        controller: LocationController\n    }\n\n    angular\n        .module(\"pipLocation\", [])\n        .component('pipLocation', LocationComponent);\n}","import { ILocationDialogService } from './ILocationDialogService';\nimport { LocationDialogParams } from './LocationDialogParams';\n\n{\n    class LocationEditDialogController {\n        private _map = null;\n        private _marker = null;\n\n        public theme: string;\n        public locationPos;\n        public locationName;\n        public supportSet: boolean;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $timeout: angular.ITimeoutService,\n            private $mdDialog: angular.material.IDialogService,\n            locationPos: any,\n            locationName: string\n        ) {\n            this.theme = $rootScope['$theme'];\n            this.locationPos = locationPos && locationPos.type == 'Point' &&\n                locationPos.coordinates && locationPos.coordinates.length == 2 ?\n                locationPos : null;\n            this.locationName = locationName;\n            this.supportSet = navigator.geolocation != null;\n\n            // Wait until dialog is initialized\n            $timeout(() => {\n                let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n                // Calculate coordinate of the center\n                let coordinates = this.locationPos ?\n                    new google.maps.LatLng(\n                        this.locationPos.coordinates[0],\n                        this.locationPos.coordinates[1]\n                    ) : null;\n\n                // Create the map with point marker\n                const mapOptions = {\n                    center: new google.maps.LatLng(0, 0),\n                    zoom: 1,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true\n                }\n                if (coordinates != null) {\n                    mapOptions.center = coordinates;\n                    mapOptions.zoom = 12;\n                }\n\n                this._map = new google.maps.Map(mapContainer[0], mapOptions);\n                this._marker = this.createMarker(coordinates);\n\n                // Fix resizing issue\n                $timeout(() => {\n                    google.maps.event.trigger(this._map, 'resize');\n                }, 1000);\n            }, 0);\n\n            $scope.$on('pipLayoutResized', () => {\n                if (this._map == null) return;\n                google.maps.event.trigger(this._map, 'resize');\n            });\n\n        }\n\n        private createMarker(coordinates) {\n            if (this._marker) this._marker.setMap(null);\n            if (coordinates) {\n                this._marker = new google.maps.Marker({\n                    position: coordinates,\n                    map: this._map,\n                    draggable: true,\n                    animation: google.maps.Animation.DROP\n                });\n\n                let thisMarker = this._marker;\n                google.maps.event.addListener(thisMarker, 'dragend', () => {\n                    let coordinates = thisMarker.getPosition();\n                    this.changeLocation(coordinates, null);\n                });\n            } else {\n                this._marker = null;\n            }\n\n            return this._marker;\n        }\n\n        private changeLocation(coordinates, tid) {\n            this.locationPos = {\n                type: 'Point',\n                coordinates: [coordinates.lat(), coordinates.lng()]\n            };\n            this.locationName = null;\n            // Read address\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({\n                latLng: coordinates\n            }, (results, status) => {\n                // Process positive response\n                if (results && results.length > 0) {\n                    this.locationName = results[0].formatted_address;\n                }\n\n                this.$scope.$apply();\n            })\n        }\n        // Describe user actions\n        public onAddPin() {\n            if (this._map === null) return;\n\n            const coordinates = this._map.getCenter();\n            this._marker = this.createMarker(coordinates);\n            this.changeLocation(coordinates, null);\n        }\n\n        public onRemovePin() {\n            if (this._map === null) return;\n            this._marker = this.createMarker(null);\n            this.locationPos = null;\n            this.locationName = null;\n        }\n\n        public onZoomIn() {\n            if (this._map === null) return;\n            const zoom = this._map.getZoom();\n            this._map.setZoom(zoom + 1);\n        }\n\n        public onZoomOut() {\n            if (this._map === null) return;\n            const zoom = this._map.getZoom();\n            this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n        }\n\n        public onSetLocation = function () {\n            if (this._map === null) return;\n\n            navigator.geolocation.getCurrentPosition(\n                (position) => {\n                    const coordinates = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                    this._marker = this.createMarker(coordinates);\n                    this._map.setCenter(coordinates);\n                    this._map.setZoom(12);\n                    this.changeLocation(coordinates, null);\n                },\n                () => {\n                    this.$scope.$apply();\n                }, {\n                    maximumAge: 0,\n                    enableHighAccuracy: true,\n                    timeout: 5000\n                });\n        }\n\n        public onCancel(): void {\n            this.$mdDialog.cancel();\n        }\n\n        public onApply(): void {\n            this.$mdDialog.hide({\n                location: this.locationPos,\n                locationPos: this.locationPos,\n                locationName: this.locationName\n            })\n        }\n    }\n    \n    class LocationDialogService implements ILocationDialogService {\n        constructor(\n            private $mdDialog: angular.material.IDialogService\n        ) {}\n\n        public show(params: LocationDialogParams, successCallback?, cancelCallback?) {\n            this.$mdDialog.show({\n                    controller: LocationEditDialogController,\n                    controllerAs: '$ctrl',\n                    templateUrl: 'location_dialog/LocationDialog.html',\n                    locals: {\n                        locationName: params.locationName,\n                        locationPos: params.locationPos\n                    },\n                    clickOutsideToClose: true\n                })\n                .then((result) => {\n                    if (successCallback) {\n                        successCallback(result);\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    const LocationDialogRun = function($injector: ng.auto.IInjectorService) {\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            ( < any > pipTranslate).setTranslations('en', {\n                'LOCATION_ADD_LOCATION': 'Add location',\n                'LOCATION_SET_LOCATION': 'Set location',\n                'LOCATION_ADD_PIN': 'Add pin',\n                'LOCATION_REMOVE_PIN': 'Remove pin'\n            });\n            ( < any > pipTranslate).setTranslations('ru', {\n                'LOCATION_ADD_LOCATION': ' ',\n                'LOCATION_SET_LOCATION': ' ',\n                'LOCATION_ADD_PIN': ' ',\n                'LOCATION_REMOVE_PIN': ' '\n            });\n        }\n    }\n\n\n    angular\n        .module('pipLocationEditDialog')\n        .run(LocationDialogRun)\n        .service('pipLocationEditDialog', LocationDialogService);\n}","export class LocationDialogParams {\n    // Locations position\n    locationPos: any;\n    // Location name\n    locationName: string;\n}","angular.module('pipLocationEditDialog', ['ngMaterial', 'pipLocations.Templates']);\n\nimport './LocationDialog'","import { ILocationDialogService } from '../location_dialog/ILocationDialogService';\n\n{\n    interface ILocationEditBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipLocationHolder: any;\n        ngDisabled: any;\n        pipChanged: any;\n    }\n\n    const LocationEditBindings: ILocationEditBindings = {\n        pipLocationName: '=',\n        pipLocationPos: '=',\n        pipLocationHolder: '=',\n        ngDisabled: '<',\n        pipChanged: '&'\n    }\n\n    class LocationEditBindingsChanges implements ng.IOnChangesObject, ILocationEditBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipLocationHolder: any;\n        pipChanged: any;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n    }\n\n    class LocationEditController implements ng.IController, ILocationEditBindings {\n        public pipLocationName: string;\n        public pipLocationPos: any;\n        public pipLocationHolder: boolean;\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n\n        private empty: JQuery;\n        private mapContainer: JQuery;\n        private mapControl: any;\n        private defineCoordinatesDebounced: Function;\n\n        constructor(\n            private $element: JQuery,\n            private $scope: ng.IScope,\n            private pipLocationEditDialog: ILocationDialogService\n        ) {\n            this.defineCoordinatesDebounced = _.debounce(() => {\n                this.defineCoordinates\n            }, 2000);\n        }\n\n        public $postLink() {\n            this.$element.find('md-input-container').attr('md-no-float', (!!this.pipLocationHolder).toString());\n            // Set containers\n            this.empty = this.$element.children('.pip-location-empty');\n            this.mapContainer = this.$element.children('.pip-location-container');\n            this.mapControl = null;\n\n            // Add watchers\n            this.$scope.$watch('$ctrl.pipLocationName',\n                (newValue, oldValue) => {\n                    if (newValue !== oldValue) {\n                        this.defineCoordinatesDebounced();\n                    }\n                }\n            );\n            this.$scope.$watch('$ctrl.pipLocationPos',\n                () => {\n                    this.generateMap();\n                }\n            );\n\n            // Add class\n            this.$element.addClass('pip-location-edit');\n\n            // Visualize map\n            if (this.pipLocationPos) {\n                this.generateMap();\n            } else {\n                this.clearMap();\n            }\n        }\n\n        public $onChanges(changes: LocationEditBindingsChanges) {\n            this.ngDisabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false; \n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n\n            // Toggle control visibility\n            this.mapContainer.hide();\n            this.empty.show();\n        }\n\n        private generateMap() {\n            // Safeguard for bad coordinates\n            const location = this.pipLocationPos;\n            if (location == null || location.coordinates == null || location.coordinates.length < 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            const coordinates = new google.maps.LatLng(\n                location.coordinates[0],\n                location.coordinates[1]\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n\n            // Toggle control visibility\n            this.mapContainer.show();\n            this.empty.hide();\n\n            // Add a new map\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\n                marker = new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n        }\n\n        private defineCoordinates() {\n            const locationName = this.pipLocationName;\n\n            if (locationName == '') {\n                this.pipLocationPos = null;\n                this.clearMap();\n                this.$scope.$apply();\n                return;\n            }\n\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({\n                address: locationName\n            }, function (results, status) {\n                this.$scope.$apply(function () {\n                    // Process response\n                    if (status === google.maps.GeocoderStatus.OK) {\n                        // Check for empty results\n                        if (results === null || results.length === 0) {\n                            this.pipLocationPos = null;\n                            this.clearMap();\n                            return;\n                        }\n\n                        const geometry = results[0].geometry || {},\n                            location = geometry.location || {};\n\n                        // Check for empty results again\n                        if (location.lat === null || location.lng === null) {\n                            this.pipLocationPos = null;\n                            this.clearMap();\n                            return;\n                        }\n\n                        this.pipLocationPos = {\n                            type: 'Point',\n                            coordinates: {\n                                latitude: location.lat(),\n                                longtitude: location.lng()\n                            }\n                        };\n                        this.generateMap();\n                    }\n                    else {\n                        this.pipLocationPos = null;\n                        this.clearMap();\n                    }\n                });\n            });\n        };\n\n        public onSetLocation() {\n            if (this.ngDisabled) return;\n\n            this.pipLocationEditDialog.show({\n                    locationName: this.pipLocationName,\n                    locationPos: this.pipLocationPos\n                },\n                (result) => {\n                    const\n                        location = result.location,\n                        locationName = result.locationName;\n\n                    // Do not change anything if location is about the same\n                    if (this.pipLocationPos && this.pipLocationPos.type == 'Point' &&\n                        this.pipLocationPos.coordinates.length == 2 &&\n                        location && location.coordinates.length == 2 &&\n                        (this.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001 &&\n                        (this.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001 &&\n                        (locationName === this.pipLocationName)) {\n                        return;\n                    }\n\n                    this.pipLocationPos = location;\n                    this.pipLocationName = locationName;\n\n                    if (locationName === null && location !== null) {\n                        this.pipLocationName =\n                            '(' + result.location.coordinates[0] +\n                            ',' + result.location.coordinates[1] + ')';\n                    }\n                    this.pipChanged();\n                    this.mapContainer[0].focus();\n                }\n            );\n        };\n\n        public onMapClick($event) {\n            if (this.ngDisabled) return;\n\n            this.mapContainer[0].focus();\n            this.onSetLocation();\n            //$event.stopPropagation();\n        };\n\n        public onMapKeyPress($event) {\n            if (this.ngDisabled) return;\n\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\n                this.onSetLocation();\n                //$event.stopPropagation();\n            }\n        };\n    }\n\n    const LocationEdit: ng.IComponentOptions = {\n        bindings: LocationEditBindings,\n        templateUrl: 'location_edit/LocationEdit.html',\n        controller: LocationEditController\n    }\n\n    angular\n        .module(\"pipLocationEdit\", ['pipLocationEditDialog'])\n        .component('pipLocationEdit', LocationEdit);\n\n}","declare let google: any;\n\n{\n    interface ILocationIpBindings {\n        [key: string]: any;\n\n        pipIpaddress: any;\n        pipExtraInfo: any;\n        pipRebind: any;\n    }\n\n    const LocationIpBindings: ILocationIpBindings = {\n        pipIpaddress: '<',\n        pipExtraInfo: '&',\n        pipRebind: '<'\n    }\n\n    interface IIpResponseInfo {\n        city: string;\n        regionCode: string | number;\n        regionName: string;\n        zipCode: string | number;\n        countryCode: string | number;\n        countryName: string;\n        latitude: string | number;\n        longitude: string | number;\n    }\n\n    class LocationIpBindingsChanges implements ng.IOnChangesObject, ILocationIpBindings {\n        [key: string]: any;\n\n        pipExtraInfo: any;\n\n        pipIpaddress: ng.IChangesObject < string > ;\n        pipRebind: ng.IChangesObject < boolean >\n    }\n\n    class LocationIpController implements ng.IController, ILocationIpBindings {\n        private mapContainer: JQuery;\n        private mapControl: any;\n\n        public pipExtraInfo: any;\n        public pipIpaddress: string;\n        public pipRebind: boolean;\n\n        constructor(\n            $element: JQuery,\n            private $http: ng.IHttpService\n        ) {\n            this.mapContainer = $element.children('.pip-location-container');\n            $element.addClass('pip-location-ip');\n            this.defineCoordinates();\n        }\n\n        public $onChanges(changes: LocationIpBindingsChanges) {\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\n\n            if (this.pipRebind === true) {\n                this.pipIpaddress = changes.pipIpaddress ? changes.pipIpaddress.currentValue : this.pipIpaddress;\n                this.defineCoordinates();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n        }\n\n        private generateMap(latitude, longitude) {\n            // Safeguard for bad coordinates\n            if (latitude == null || longitude == null) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            var coordinates = new google.maps.LatLng(\n                latitude,\n                longitude\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const\n                mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\n\n            new google.maps.Marker({\n                position: coordinates,\n                map: map\n            });\n        }\n\n        private defineCoordinates() {\n            const ipAddress = this.pipIpaddress;\n\n            if (ipAddress == '') {\n                this.clearMap();\n                return;\n            }\n\n            this.$http.get('https://freegeoip.net/json/' + ipAddress)\n                .success((response: IIpResponseInfo) => {\n                    if (response != null &&\n                        response.latitude != null &&\n                        response.longitude != null) {\n\n                        this.generateMap(response.latitude, response.longitude);\n\n                        if (this.pipExtraInfo) {\n                            const extraInfo = {\n                                city: response.city,\n                                regionCode: response.regionCode,\n                                region: response.regionName,\n                                zipCode: response.zipCode,\n                                countryCode: response.countryCode,\n                                country: response.countryName\n                            };\n                            this.pipExtraInfo({\n                                extraInfo: extraInfo\n                            });\n                        }\n                    } else {\n                        this.clearMap();\n                    }\n                })\n                .error((response) => {\n                    this.clearMap();\n                });\n        }\n    }\n\n    const LocationIp: ng.IComponentOptions = {\n        bindings: LocationIpBindings,\n        template: '<div class=\"pip-location-container\"></div>',\n        controller: LocationIpController\n    }\n\n    angular\n        .module(\"pipLocationIp\", [])\n        .component('pipLocationIp', LocationIp);\n}","{\n\n    interface ILocationMapBindings {\n        [key: string]: any;\n\n        pipLocationPos: any;\n        pipIconPath: any;\n        pipInteractive: any;\n        pipStretch: any;\n        pipRebind: any;\n    }\n\n    const LocationMapBindings: ILocationMapBindings = {\n        pipLocationPos: '<',\n        pipIconPath: '<',\n        pipInteractive: '<',\n        pipStretch: '<',\n        pipRebind: '<'\n    }\n\n    class LocationMapBindingsChanges implements ng.IOnChangesObject, ILocationMapBindings {\n        [key: string]: any;\n\n        pipLocationPos: ng.IChangesObject<any>;\n        pipIconPath: ng.IChangesObject<string>;\n        pipInteractive: ng.IChangesObject<boolean>;\n        pipStretch: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class LocationMapController implements ng.IController, ILocationMapBindings {\n        public pipLocationPos: any;\n        public pipIconPath: string;\n        public pipInteractive: boolean;\n        public pipStretch: boolean;\n        public pipRebind: boolean;\n\n        private mapContainer: JQuery;\n        private mapControl: any = null;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            this.mapContainer = $element.children('.pip-location-container');\n            $element.addClass('pip-location-map');\n        }\n\n        public $onChanges(changes: LocationMapBindingsChanges) {\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\n            this.pipInteractive = changes.pipInteractive ? changes.pipInteractive.currentValue || false : false;\n            this.pipStretch = changes.pipStretch ? changes.pipStretch.currentValue || false : false;\n\n            if (this.pipStretch === true)  {\n                this.mapContainer.addClass('stretch');\n            } else {\n                this.mapContainer.removeClass('stretch');\n            }\n\n            if (this.pipRebind === true) {\n                this.pipLocationPos = changes.pipLocationPos ? changes.pipLocationPos.currentValue : this.pipLocationPos;\n                this.pipIconPath = changes.pipIconPath ? changes.pipIconPath.currentValue : this.pipIconPath;\n\n                this.generateMap();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n        }\n\n        private checkLocation(loc) {\n            return !(loc == null || loc.coordinates == null || loc.coordinates.length < 0);\n        }\n\n        private determineCoordinates(loc) {\n            const point = new google.maps.LatLng(\n                loc.coordinates[0],\n                loc.coordinates[1]\n            );\n\n            point.fill = loc.fill;\n            point.stroke = loc.stroke;\n\n            return point;\n        }\n\n        private generateMap() {\n            const locations = this.pipLocationPos,\n                points = [],\n                interactive = this.pipInteractive || false;\n\n            // Safeguard for bad coordinates\n            if (this.checkLocation(locations) && !_.isArray(locations)) {\n                points.push(this.determineCoordinates(locations));\n            } else {\n                if (locations && _.isArray(locations) && locations.length > 0) {\n                    _.each(locations, (loc) => {\n                        if (this.checkLocation(loc)) {\n                            points.push(this.determineCoordinates(loc));\n                        }\n                    });\n                }\n            }\n\n            if (points.length === 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map\n            const mapOptions = {\n                    center: points[0],\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: interactive,\n                    draggable: interactive\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\n                bounds = new google.maps.LatLngBounds();\n\n            // Create markers\n            _.each(points, (point) => {\n                const icon = {\n                    path: this.pipIconPath,\n                    fillColor: point.fill || '#EF5350',\n                    fillOpacity: 1,\n                    scale: 1,\n                    strokeColor: point.stroke || 'white',\n                    strokeWeight: 5\n                };\n\n                new google.maps.Marker({\n                    position: point,\n                    map: map,\n                    icon: this.pipIconPath ? icon : null\n                });\n                bounds.extend(point);\n            });\n\n            // Auto-config of zoom and center\n            if (points.length > 1) map.fitBounds(bounds);\n        }\n    }\n\n    const LocationMap: ng.IComponentOptions = {\n        bindings: LocationMapBindings,\n        template: '<div class=\"pip-location-container\"></div>',\n        controller: LocationMapController\n    }\n\n    angular\n        .module(\"pipLocationMap\", [])\n        .component('pipLocationMap', LocationMap);\n}","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location/Location.html',\n    '<div class=\"pip-location-name location-collapse\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"!$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text\">{{$ctrl.pipLocationName}}</span></div><md-button class=\"pip-location-name\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text flex\">{{$ctrl.pipLocationName}}</span><md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-show=\"!$ctrl.showMap\"></md-icon><md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-show=\"$ctrl.showMap\"></md-icon></div></md-button><div class=\"pip-location-container\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/LocationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_edit/LocationEdit.html',\n    '<md-input-container class=\"md-block\"><label>{{ \\'LOCATION\\' | translate }}</label> <input ng-model=\"$ctrl.pipLocationName\" ng-disabled=\"$ctrl.ngDisabled\"></md-input-container><div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\"><md-button class=\"md-raised\" ng-disabled=\"$ctrl.ngDisabled\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"LOCATION_ADD_LOCATION\"><span class=\"icon-location\"></span> {{\\'LOCATION_ADD_LOCATION\\' | translate }}</md-button></div><div class=\"pip-location-container\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-click=\"$ctrl.onMapClick($event)\" ng-keypress=\"$ctrl.onMapKeyPress($event)\"></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","export class AddTileDialog {\n    title: string;\n    icon: string;\n    name: string;\n    amount: number;\n}\n\nexport class AddTileDialogController implements ng.IController {\n    public defaultTiles: [AddTileDialog[]];\n    public groups: any;\n    public totalTiles: number = 0;\n\n    constructor(\n        groups: any,\n        public activeGroupIndex: number,\n        widgetList: [AddTileDialog[]],\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\n        this.defaultTiles = _.cloneDeep(widgetList);\n        this.groups = _.map(groups, function (group) {\n            return group['title'];\n        });\n    }\n\n    public add() {\n        this.$mdDialog.hide({\n            groupIndex: this.activeGroupIndex,\n            widgets: this.defaultTiles\n        });\n    };\n\n    public cancel() {\n        this.$mdDialog.cancel();\n    };\n\n    public encrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\n        widget.amount++;\n        this.totalTiles++;\n    };\n\n    public decrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\n        widget.amount = widget.amount ? widget.amount - 1 : 0;\n        this.totalTiles = this.totalTiles ? this.totalTiles - 1 : 0;\n    };\n}","import {\n  AddTileDialog,\n  AddTileDialogController\n} from './AddTileDialogController';\n\nexport interface IAddTileDialogService {\n  show(groups, activeGroupIndex): angular.IPromise < any > ;\n}\n\nexport interface IAddTileDialogprovider {\n  configWidgetList(list: [AddTileDialog[]]): void;\n}\n\n{\n  const setTranslations = function($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      (<any>pipTranslate).setTranslations('en', {\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Add component',\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount',\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Create new group'\n      });\n      (<any>pipTranslate).setTranslations('ru', {\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: ' ',\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: ' \"Enter\"  \"+\"       \"Delete\" or \"-\"    ',\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: '  '\n      });\n    }\n  }\n\n  class AddTileDialogService implements IAddTileDialogService {\n    public constructor(\n      private widgetList: [AddTileDialog[]],\n      private $mdDialog: angular.material.IDialogService\n    ) {}\n\n    public show(groups, activeGroupIndex) {\n      return this.$mdDialog\n        .show({\n          templateUrl: 'add_tile_dialog/AddTile.html',\n          bindToController: true,\n          controller: AddTileDialogController,\n          controllerAs: 'dialogCtrl',\n          clickOutsideToClose: true,\n          resolve: {\n            groups: () => {\n              return groups;\n            },\n            activeGroupIndex: () => {\n              return activeGroupIndex;\n            },\n            widgetList: () => {\n              return (<any>this.widgetList);\n            }\n          }\n        });\n    };\n  }\n\n  class AddTileDialogProvider implements IAddTileDialogprovider {\n    private _service: AddTileDialogService;\n    private _widgetList: [AddTileDialog[]] = null;\n\n    constructor() {}\n\n    public configWidgetList = function (list: [AddTileDialog[]]) {\n      this._widgetList = list;\n    };\n\n    public $get($mdDialog: angular.material.IDialogService) {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new AddTileDialogService(this._widgetList, $mdDialog);\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipAddDashboardTileDialog')\n    .config(setTranslations)\n    .provider('pipAddTileDialog', AddTileDialogProvider);\n}","angular\n    .module('pipAddDashboardTileDialog', ['ngMaterial']);\n\nimport './AddTileDialogController';\nimport './AddTileProvider';","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n\n{\n  class CalendarTileController extends MenuTileService {\n    constructor(\n      private pipTileConfigDialogService: ITileConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n        this.menu.push({\n          title: 'Configurate',\n          click: () => {\n            this.onConfigClick();\n          }\n        });\n        this.options.date = this.options.date || new Date();\n        this.color = this.options.color || 'blue';\n      }\n    }\n\n    private onConfigClick() {\n      this.pipTileConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          date: this.options.date,\n        },\n        extensionUrl: 'calendar_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n      });\n    }\n\n  }\n\n  const CalendarTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions',\n    },\n    controller: CalendarTileController,\n    templateUrl: 'calendar_tile/CalendarTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipCalendarTile', CalendarTile);\n\n}","export interface IDashboardTile {\n    options: any;\n    color: string;\n    size: Object | string | number;\n}\n\nexport class DashboardTile implements IDashboardTile {\n    public options: any;\n    public color: string;\n    public size: Object | string | number;\n\n    constructor() { }\n}","\nclass TileColors {\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\n}\n\nclass TileSizes {\n    static all: any = [{\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL',\n            id: '11'\n        },\n        {\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE',\n            id: '21'\n        },\n        {\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE',\n            id: '22'\n        }\n    ];\n}\n\nexport class TileConfigDialogController {\n    public colors: string[] = TileColors.all;\n    public sizes: any = TileSizes.all;\n    public sizeId: string = TileSizes.all[0].id;\n    public onCancel: Function;\n\n    constructor(\n        public params,\n        public extensionUrl,\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        \"ngInject\";\n\n        angular.extend(this, this.params);\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\n\n        this.onCancel = () => {\n            this.$mdDialog.cancel();\n        }\n    }\n\n    public onApply(updatedData) {\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\n        this.$mdDialog.hide(updatedData);\n    }\n}","{    \n    interface ITileConfigExtendComponentBindings {\n        [key: string]: any;\n\n        pipExtensionUrl: any;\n        pipDialogScope: any;\n        pipApply: any;\n    }\n\n    const TileConfigExtendComponentBindings: ITileConfigExtendComponentBindings = {\n        pipExtensionUrl: '<',\n        pipDialogScope: '<',\n        pipApply: '&'\n    }\n\n    class TileConfigExtendComponentChanges implements ng.IOnChangesObject, ITileConfigExtendComponentBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipExtensionUrl: ng.IChangesObject<string>;\n        pipDialogScope: ng.IChangesObject<ng.IScope>;\n\n        pipApply: ng.IChangesObject<({updatedData: any}) => ng.IPromise<void>>;\n    }\n\n    interface ITileConfigExtendComponentAttributes extends ng.IAttributes {\n        pipExtensionUrl: string\n    }\n\n    class TileConfigExtendComponentController implements ITileConfigExtendComponentBindings {\n        public pipExtensionUrl: string;\n        public pipDialogScope: ng.IScope;\n        public pipApply: (param: {updatedData: any}) => ng.IPromise<void>;\n\n        constructor(\n            private $templateRequest: angular.ITemplateRequestService,\n            private $compile: angular.ICompileService,\n            private $scope: angular.IScope, \n            private $element: JQuery, \n            private $attrs: ITileConfigExtendComponentAttributes\n        ) { }\n\n        public $onChanges(changes: TileConfigExtendComponentChanges) {\n            if (changes.pipDialogScope) {\n                delete changes.pipDialogScope.currentValue['$scope'];\n                angular.extend(this, changes.pipDialogScope.currentValue);\n            }\n            if (changes.pipExtensionUrl && changes.pipExtensionUrl.currentValue) {\n                this.$templateRequest(changes.pipExtensionUrl.currentValue, false).then((html) => {\n                    this.$element.find('pip-extension-point').replaceWith(this.$compile(html)(this.$scope));\n                });\n            }\n        }\n\n        public onApply() {\n            this.pipApply({updatedData: this});\n        }\n    }\n\n    const pipTileConfigComponent: ng.IComponentOptions = {\n        templateUrl: 'config_tile_dialog/ConfigDialogExtendComponent.html',\n        controller: TileConfigExtendComponentController,\n        bindings: TileConfigExtendComponentBindings\n    }\n\n    angular\n        .module('pipConfigDashboardTileDialog')\n        .component('pipTileConfigExtendComponent', pipTileConfigComponent);\n}","import { TileConfigDialogController } from './ConfigDialogController';\n\nexport interface ITileConfigService {\n    show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void): any;\n}\n\nexport interface ITileConfigDialogOptions extends angular.material.IDialogOptions {\n    dialogClass?: string;\n    extensionUrl?: string;\n    event?: any;\n}\n\n{\n    const setTranslations = function($injector: ng.auto.IInjectorService) {\n        const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n        if (pipTranslate) {\n            ( < any > pipTranslate).setTranslations('en', {\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Edit tile',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Small',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Wide',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Large'\n            });\n            ( < any > pipTranslate).setTranslations('ru', {\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: ' ',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: '.',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: '',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: ''\n            });\n        }\n    }\n\n    class TileConfigDialogService {\n        public constructor(\n            public $mdDialog: angular.material.IDialogService\n        ) {}\n\n        public show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: params.templateUrl || 'dialogs/tile_config/ConfigDialog.html',\n                    controller: TileConfigDialogController,\n                    bindToController: true,\n                    controllerAs: 'vm',\n                    locals: {\n                        extensionUrl: params.extensionUrl,\n                        params: params.locals\n                    },\n                    clickOutsideToClose: true\n                })\n                .then((key) => {\n                    if (successCallback) {\n                        successCallback(key);\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    angular\n        .module('pipConfigDashboardTileDialog')\n        .config(setTranslations)\n        .service('pipTileConfigDialogService', TileConfigDialogService);\n}","\nangular\n    .module('pipConfigDashboardTileDialog', ['ngMaterial']);\n\nimport './ConfigDialogController';\nimport './ConfigDialogService';\nimport './ConfigDialogExtendComponent';","import {\n  ITileTemplateService\n} from '../utility/TileTemplateUtility';\nimport {\n  IAddTileDialogService,\n  IAddTileDialogprovider\n} from '../add_tile_dialog/AddTileProvider'\n\n{\n  const setTranslations = function ($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      ( < any > pipTranslate).setTranslations('en', {\n        DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\n      });\n      ( < any > pipTranslate).setTranslations('ru', {\n        DROP_TO_CREATE_NEW_GROUP: '     '\n      });\n    }\n  }\n\n  const configureAvailableWidgets = function (pipAddTileDialogProvider: IAddTileDialogprovider) {\n    pipAddTileDialogProvider.configWidgetList([\n      [{\n          title: 'Event',\n          icon: 'document',\n          name: 'event',\n          amount: 0\n        },\n        {\n          title: 'Position',\n          icon: 'location',\n          name: 'position',\n          amount: 0\n        }\n      ],\n      [{\n          title: 'Calendar',\n          icon: 'date',\n          name: 'calendar',\n          amount: 0\n        },\n        {\n          title: 'Sticky Notes',\n          icon: 'note-take',\n          name: 'notes',\n          amount: 0\n        },\n        {\n          title: 'Statistics',\n          icon: 'tr-statistics',\n          name: 'statistics',\n          amount: 0\n        }\n      ]\n    ]);\n  }\n\n  class draggableOptions {\n    tileWidth: number;\n    tileHeight: number;\n    gutter: number;\n    inline: boolean;\n  }\n\n  const DEFAULT_GRID_OPTIONS: draggableOptions = {\n    tileWidth: 150, // 'px'\n    tileHeight: 150, // 'px'\n    gutter: 10, // 'px'\n    inline: false\n  };\n\n  interface DashboardBindings {\n      gridOptions: any;\n      groupAdditionalActions: any;\n      groupedWidgets: any;\n  }\n\n  class DashboardController implements ng.IController, DashboardBindings {\n    private defaultGroupMenuActions: any = [{\n        title: 'Add Component',\n        callback: (groupIndex) => {\n          this.addComponent(groupIndex);\n        }\n      },\n      {\n        title: 'Remove',\n        callback: (groupIndex) => {\n          this.removeGroup(groupIndex);\n        }\n      },\n      {\n        title: 'Configurate',\n        callback: (groupIndex) => {\n          console.log('configurate group with index:', groupIndex);\n        }\n      }\n    ];\n    private _includeTpl: string = '<pip-{{ type }}-tile group=\"groupIndex\" index=\"index\"' +\n      'pip-options=\"$parent.$ctrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\n      '</pip-{{ type }}-tile>';\n\n    public groupedWidgets: any;\n    public draggableGridOptions: draggableOptions;\n    public widgetsTemplates: any;\n    public groupMenuActions: any = this.defaultGroupMenuActions;\n    public widgetsContext: any;\n    public gridOptions: any;\n    public groupAdditionalActions: any;\n\n    constructor(\n      $scope: angular.IScope,\n      private $rootScope: angular.IRootScopeService,\n      private $attrs: any,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private $interpolate: angular.IInterpolateService,\n      private pipAddTileDialog: IAddTileDialogService,\n      private pipTileTemplate: ITileTemplateService\n    ) {\n      // Add class to style scroll bar\n      $element.addClass('pip-scroll');\n\n      // Set tiles grid options\n      this.draggableGridOptions = this.gridOptions || DEFAULT_GRID_OPTIONS;\n\n      // Switch inline displaying\n      if (this.draggableGridOptions.inline === true) {\n        $element.addClass('inline-grid');\n      }\n      // Extend group's menu actions\n      if (this.groupAdditionalActions) angular.extend(this.groupMenuActions, this.groupAdditionalActions);\n\n      // Compile widgets\n      this.widgetsContext = $scope;\n      this.compileWidgets();\n\n      this.$timeout(() => {\n        this.$element.addClass('visible');\n      }, 700);\n    }\n\n    private compileWidgets() {\n      _.each(this.groupedWidgets, (group, groupIndex) => {\n        group.removedWidgets = group.removedWidgets || [],\n          group.source = group.source.map((widget, index) => {\n            // Establish default props\n            widget.size = widget.size || {\n              colSpan: 1,\n              rowSpan: 1\n            };\n            widget.index = index;\n            widget.groupIndex = groupIndex;\n            widget.menu = widget.menu || {};\n            angular.extend(widget.menu, [{\n              title: 'Remove',\n              click: (item, params, object) => {\n                this.removeWidget(item, params, object);\n              }\n            }]);\n\n            return {\n              opts: widget,\n              template: this.pipTileTemplate.getTemplate(widget, this._includeTpl)\n            };\n          })\n      });\n    }\n\n    public addComponent(groupIndex) {\n      this.pipAddTileDialog\n        .show(this.groupedWidgets, groupIndex)\n        .then((data) => {\n          var activeGroup;\n\n          if (!data) {\n            return;\n          }\n\n          if (data.groupIndex !== -1) {\n            activeGroup = this.groupedWidgets[data.groupIndex];\n          } else {\n            activeGroup = {\n              title: 'New group',\n              source: []\n            };\n          }\n\n          this.addWidgets(activeGroup.source, data.widgets);\n\n          if (data.groupIndex === -1) {\n            this.groupedWidgets.push(activeGroup);\n          }\n\n          this.compileWidgets();\n        });\n    };\n\n    public removeGroup = (groupIndex) => {\n      console.log('removeGroup', groupIndex);\n      this.groupedWidgets.splice(groupIndex, 1);\n    }\n\n    private addWidgets(group, widgets) {\n      widgets.forEach((widgetGroup) => {\n        widgetGroup.forEach((widget) => {\n          if (widget.amount) {\n            Array.apply(null, Array(widget.amount)).forEach(() => {\n              group.push({\n                type: widget.name\n              });\n            });\n          }\n        });\n      });\n    }\n\n    private removeWidget(item, params, object) {\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\n      this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\n      this.$timeout(() => {\n        this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      });\n    }\n\n  }\n\n  const Dashboard: ng.IComponentOptions = {\n    bindings: {\n      gridOptions: '=pipGridOptions',\n      groupAdditionalActions: '=pipGroupActions',\n      groupedWidgets: '=pipGroups'\n    },\n    controller: DashboardController,\n    templateUrl: 'dashboard/Dashboard.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .config(configureAvailableWidgets)\n    .config(setTranslations)\n    .component('pipDashboard', Dashboard);\n\n}","declare var interact;\n\nimport {\n  DragTileService,\n  IDragTileService,\n  IDragTileConstructor\n} from './DraggableTileService';\nimport {\n  TilesGridService,\n  ITilesGridService,\n  ITilesGridConstructor\n} from '../tile_group/TileGroupService';\n\nexport const DEFAULT_TILE_WIDTH: number = 150;\nexport const DEFAULT_TILE_HEIGHT: number = 150;\nexport const UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\n\nconst SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\nconst DEFAULT_OPTIONS = {\n  tileWidth: DEFAULT_TILE_WIDTH, // 'px'\n  tileHeight: DEFAULT_TILE_HEIGHT, // 'px'\n  gutter: 20, // 'px'\n  container: 'pip-draggable-grid:first-of-type',\n  //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\n  activeDropzoneClass: 'dropzone-active',\n  groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\n};\n\n{\n  interface IDraggableBindings {\n      tilesTemplates: any;\n      tilesContext: any;\n      options: any;\n      groupMenuActions: any;\n      $container: JQuery;\n  }\n\n  interface IDraggableControllerScope extends ng.IScope {\n    $container: JQuery;\n    tilesTemplates: any;\n    options: any;\n  }\n\n  interface ITileScope extends ng.IScope {\n    index: number | string;\n    groupIndex: number | string;\n  }\n\n  class DraggableController implements ng.IComponentController, IDraggableBindings {\n    public opts: any;\n    public groups: any;\n    public sourceDropZoneElem: any = null;\n    public isSameDropzone: boolean = true;\n    public tileGroups: any = null;\n    public availableWidth: number;\n    public availableColumns: number;\n    public groupsContainers: any;\n    public container: any;\n    public activeDraggedGroup: any;\n    public draggedTile: any;\n    public containerOffset: any;\n    public tilesTemplates: any;\n    public tilesContext: any;\n    public options: any;\n    public groupMenuActions: any;\n    public $container: JQuery;\n\n    constructor(\n      private $scope: IDraggableControllerScope,\n      private $rootScope: angular.IRootScopeService,\n      private $compile: angular.ICompileService,\n      private $timeout: angular.ITimeoutService,\n      private $element: JQuery,\n      pipDragTile: IDragTileService,\n      pipTilesGrid: ITilesGridService,\n      pipMedia: pip.layouts.IMediaService\n    ) {\n      this.opts = _.merge({\n        mobileBreakpoint: pipMedia.breakpoints.xs\n      }, DEFAULT_OPTIONS, this.options);\n\n      this.groups = this.tilesTemplates.map((group, groupIndex) => {\n        return {\n          title: group.title,\n          editingName: false,\n          index: groupIndex,\n          source: group.source.map((tile) => {\n            const tileScope = this.createTileScope(tile);\n\n            return IDragTileConstructor(DragTileService, {\n              tpl: $compile(tile.template)(tileScope),\n              options: tile.opts,\n              size: tile.opts.size\n            });\n          })\n        };\n      });\n\n      // Add templates watcher\n      $scope.$watch('$ctrl.tilesTemplates', (newVal) => {\n        this.watch(newVal);\n      }, true);\n\n      // Initialize data\n      this.initialize();\n\n      // Resize handler TODO: replace by pip resize watchers\n      $(window).on('resize', _.debounce(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n\n        this.tileGroups.forEach((group) => {\n          group\n            .setAvailableColumns(this.availableColumns)\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n            .setTilesDimensions()\n            .calcContainerHeight();\n        });\n      }, 50));\n    }\n\n    // Post link function\n    public $postLink() {\n      this.$container = this.$element;\n    }\n\n    // Watch handler\n    private watch(newVal) {\n      const prevVal = this.groups;\n      let changedGroupIndex = null;\n\n      if (newVal.length > prevVal.length) {\n        this.addGroup(newVal[newVal.length - 1]);\n\n        return;\n      }\n\n      if (newVal.length < prevVal.length) {\n        this.removeGroups(newVal);\n\n        return;\n      }\n\n      for (let i = 0; i < newVal.length; i++) {\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\n          changedGroupIndex = i;\n\n          if (groupWidgetDiff < 0) {\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\n\n            _.each(newTiles, (tile) => {\n              console.log('tile', tile);\n            });\n\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\n\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          } else {\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\n            this.updateTilesOptions(newVal);\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          }\n\n          return;\n        }\n      }\n\n      if (newVal && this.tileGroups) {\n        this.updateTilesOptions(newVal);\n        this.$timeout(() => {\n          this.updateTilesGroups();\n        });\n      }\n    }\n\n    // Inline edit group handlers\n    public onTitleClick(group, event) {\n      if (!group.editingName) {\n        group.oldTitle = _.clone(group.title);\n        group.editingName = true;\n        this.$timeout(() => {\n          $(event.currentTarget.children[0]).focus();\n        });\n      }\n    }\n\n    public cancelEditing(group) {\n      group.title = group.oldTitle;\n    }\n\n    public onBlurTitleInput(group) {\n      this.$timeout(() => {\n        group.editingName = false;\n        this.$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\n        // Update title in outer scope\n        this.tilesTemplates[group.index].title = group.title;\n      }, 100);\n    }\n\n    public onKyepressTitleInput(group, event) {\n      if (event.keyCode === 13) {\n        this.onBlurTitleInput(group);\n      }\n    }\n\n    // Update outer scope functions\n    private updateTilesTemplates(updateType: string, source ? : any) {\n      switch (updateType) {\n        case 'addGroup':\n          if (this.groups.length !== this.tilesTemplates.length) {\n            this.tilesTemplates.push(source);\n          }\n          break;\n        case 'moveTile':\n          const {\n            fromIndex,\n            toIndex,\n            tileOptions,\n            fromTileIndex\n          } = {\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\n            toIndex: source.to.elem.attributes['data-group-id'].value,\n            tileOptions: source.tile.opts.options,\n            fromTileIndex: source.tile.opts.options.index\n          }\n          this.tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\n          this.tilesTemplates[toIndex].source.push({\n            opts: tileOptions\n          });\n\n          this.reIndexTiles(source.from.elem);\n          this.reIndexTiles(source.to.elem);\n          break;\n      }\n    }\n\n    // Manage tiles functions\n    private createTileScope(tile: any): ITileScope {\n      const tileScope = < ITileScope > this.$rootScope.$new(false, this.tilesContext);\n      tileScope.index = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index;\n      tileScope.groupIndex = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\n\n      return tileScope;\n    }\n\n    private removeTiles(group, indexes, container) {\n      const tiles = $(container).find('.pip-draggable-tile');\n\n      _.each(indexes, (index) => {\n        group.tiles.splice(index, 1);\n        tiles[index].remove();\n      });\n\n      this.reIndexTiles(container);\n    }\n\n    private reIndexTiles(container, gIndex ? ) {\n      const tiles = $(container).find('.pip-draggable-tile'),\n        groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\n\n      _.each(tiles, (tile, index) => {\n        const child = $(tile).children()[0];\n        angular.element(child).scope()['index'] = index;\n        angular.element(child).scope()['groupIndex'] = groupIndex;\n      });\n    }\n\n    private removeGroups(newGroups) {\n      const removeIndexes = [],\n        remain = [],\n        containers = [];\n\n\n      _.each(this.groups, (group, index) => {\n        if (_.findIndex(newGroups, (g) => {\n            return g['title'] === group.title\n          }) < 0) {\n          removeIndexes.push(index);\n        } else {\n          remain.push(index);\n        }\n      });\n\n      _.each(removeIndexes.reverse(), (index) => {\n        this.groups.splice(index, 1);\n        this.tileGroups.splice(index, 1);\n      });\n\n      _.each(remain, (index) => {\n        containers.push(this.groupsContainers[index]);\n      });\n\n      this.groupsContainers = containers;\n\n      _.each(this.groupsContainers, (container, index) => {\n        this.reIndexTiles(container, index);\n      });\n    }\n\n    private addGroup(sourceGroup) {\n      const group = {\n        title: sourceGroup.title,\n        source: sourceGroup.source.map((tile) => {\n          const tileScope = this.createTileScope(tile);\n\n          return IDragTileConstructor(DragTileService, {\n            tpl: this.$compile(tile.template)(tileScope),\n            options: tile.opts,\n            size: tile.opts.size\n          });\n        })\n      };\n\n      this.groups.push(group);\n      if (!this.$scope.$$phase) this.$scope.$apply();\n\n      this.$timeout(() => {\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups.push(\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight()\n        );\n      });\n\n      this.updateTilesTemplates('addGroup', sourceGroup);\n    }\n\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\n      newTiles.forEach((tile) => {\n        const tileScope = this.createTileScope(tile);\n\n        const newTile = IDragTileConstructor(DragTileService, {\n          tpl: this.$compile(tile.template)(tileScope),\n          options: tile.opts,\n          size: tile.opts.size\n        });\n\n        group.addTile(newTile);\n\n        $('<div>')\n          .addClass('pip-draggable-tile')\n          .append(newTile.getCompiledTemplate())\n          .appendTo(groupContainer);\n      });\n    }\n\n    private updateTilesOptions(optionsGroup) {\n      optionsGroup.forEach((optionGroup) => {\n        optionGroup.source.forEach((tileOptions) => {\n          this.tileGroups.forEach((group) => {\n            group.updateTileOptions(tileOptions.opts);\n          });\n        });\n      });\n    }\n\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\n      return tileGroups.map((group, index) => {\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight();\n      });\n    }\n\n    private updateTilesGroups(onlyPosition ? , draggedTile ? ) {\n      this.tileGroups.forEach((group) => {\n        if (!onlyPosition) {\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\n        }\n\n        group\n          .setTilesDimensions(onlyPosition, draggedTile)\n          .calcContainerHeight();\n      });\n    }\n\n    private getContainerWidth(): any {\n      const container = this.$container || $('body');\n      return container.width();\n    }\n\n    private getAvailableColumns(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT :\n        Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\n    }\n\n    private getActiveGroupAndTile(elem): any {\n      const active = {};\n\n      this.tileGroups.forEach((group) => {\n        const foundTile = group.getTileByNode(elem);\n\n        if (foundTile) {\n          active['group'] = group;\n          active['tile'] = foundTile;\n          return;\n        }\n      });\n\n      return active;\n    }\n\n    private getSingleTileWidthForMobile(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\n    }\n\n    private onDragStartListener(event) {\n      const activeEntities = this.getActiveGroupAndTile(event.target);\n\n      this.container = $(event.target).parent('.pip-draggable-group').get(0);\n      this.draggedTile = activeEntities['tile'];\n      this.activeDraggedGroup = activeEntities['group'];\n\n      this.$element.addClass('drag-transfer');\n\n      this.draggedTile.startDrag();\n    }\n\n    private onDragMoveListener(event) {\n      const target = event.target;\n      const x = (parseFloat(target.style.left) || 0) + event.dx;\n      const y = (parseFloat(target.style.top) || 0) + event.dy;\n\n      this.containerOffset = this.getContainerOffset();\n\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\n      target.style.top = y + 'px';\n\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\n        left: event.pageX - this.containerOffset.left,\n        top: event.pageY - this.containerOffset.top\n      }, this.draggedTile);\n\n      if (belowElement) {\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\n        const belowElemIndex = this.activeDraggedGroup.getTileIndex(belowElement);\n\n        if ((draggedTileIndex + 1) === belowElemIndex) {\n          return;\n        }\n\n        this.activeDraggedGroup\n          .swapTiles(this.draggedTile, belowElement)\n          .setTilesDimensions(true, this.draggedTile);\n\n        this.$timeout(() => {\n          this.setGroupContainersHeight();\n        }, 0);\n      }\n    }\n\n    private onDragEndListener() {\n      this.draggedTile.stopDrag(this.isSameDropzone);\n\n      this.$element.removeClass('drag-transfer');\n      this.activeDraggedGroup = null;\n      this.draggedTile = null;\n    }\n\n    private getContainerOffset() {\n      const containerRect = this.container.getBoundingClientRect();\n\n      return {\n        left: containerRect.left,\n        top: containerRect.top\n      };\n    }\n\n    private setGroupContainersHeight() {\n      this.tileGroups.forEach((tileGroup) => {\n        tileGroup.calcContainerHeight();\n      });\n    }\n\n    private moveTile(from, to, tile) {\n      let elem;\n      const movedTile = from.removeTile(tile);\n      const tileScope = this.createTileScope(tile);\n\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\n        .find(movedTile.getElem())\n        .remove();\n\n      if (to !== null) {\n        to.addTile(movedTile);\n\n        elem = this.$compile(movedTile.getElem())(tileScope);\n\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\n          .append(elem);\n\n        this.$timeout(to.setTilesDimensions.bind(to, true));\n      }\n\n      this.updateTilesTemplates('moveTile', {\n        from: from,\n        to: to,\n        tile: movedTile\n      });\n    }\n\n    private onDropListener(event) {\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\n      const droppedGroup = this.tileGroups[droppedGroupIndex];\n\n      if (this.activeDraggedGroup !== droppedGroup) {\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\n      }\n\n      this.updateTilesGroups(true);\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropToFictGroupListener(event) {\n      const from = this.activeDraggedGroup;\n      const tile = this.draggedTile;\n\n      this.addGroup({\n        title: 'New group',\n        source: []\n      });\n      this.$timeout(() => {\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\n        this.updateTilesGroups(true);\n      });\n\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropEnterListener(event) {\n      if (!this.sourceDropZoneElem) {\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\n      }\n\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\n        $('body').css('cursor', 'copy');\n        this.isSameDropzone = false;\n      } else {\n        $('body').css('cursor', '');\n        this.isSameDropzone = true;\n      }\n    }\n\n    private onDropDeactivateListener(event) {\n      if (this.sourceDropZoneElem !== event.target) {\n        event.target.classList.remove(this.opts.activeDropzoneClass);\n        $('body').css('cursor', '');\n      }\n    }\n\n    private onDropLeaveListener(event) {\n      event.target.classList.remove(this.opts.activeDropzoneClass);\n    }\n\n    private initialize() {\n      this.$timeout(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\n\n        interact('.pip-draggable-tile')\n          .draggable({\n            autoScroll: {\n              enabled: true,\n              container: $('#content').get(0),\n              speed: 500\n            },\n            onstart: (event) => {\n              this.onDragStartListener(event)\n            },\n            onmove: (event) => {\n              this.onDragMoveListener(event)\n            },\n            onend: (event) => {\n              this.onDragEndListener()\n            }\n          });\n\n        interact('.pip-draggable-group.fict-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropToFictGroupListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          });\n\n        interact('.pip-draggable-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          });\n\n        this.$container\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\n            interact('.pip-draggable-tile').draggable(false);\n            $(this).trigger('click');\n          })\n          .on('mouseup touchend', () => {\n            interact('.pip-draggable-tile').draggable(true);\n          });\n          \n      }, 0);\n    }\n  }\n\n  const DragComponent: ng.IComponentOptions = {\n    bindings: {\n      tilesTemplates: '=pipTilesTemplates',\n      tilesContext: '=pipTilesContext',\n      options: '=pipDraggableGrid',\n      groupMenuActions: '=pipGroupMenuActions'\n    },\n    //controllerAs: 'DraggedCtrl',\n    templateUrl: 'draggable/Draggable.html',\n    controller: DraggableController\n  }\n\n  angular.module('pipDraggableTiles')\n    .component('pipDraggableGrid', DragComponent);\n}","export interface DragTileConstructor {\n  new (options: any);\n}\n\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\n  return new constructor(options);\n}\n\nexport interface IDragTileService {\n  tpl: any;\n  opts: any;\n  size: any;\n  elem: any;\n  preview: any;\n  getSize(): any;\n  setSize(width, height): any;\n  setPosition(left, top): any;\n  getCompiledTemplate(): any;\n  updateElem(parent): any;\n  getElem(): any;\n  startDrag(): any;\n  stopDrag(isAnimate): any;\n  setPreviewPosition(coords): void;\n  getOptions(): any;\n  setOptions(options): any;\n}\n\nlet DEFAULT_TILE_SIZE = {\n  colSpan: 1,\n  rowSpan: 1\n};\n\nexport class DragTileService implements IDragTileService {\n  public tpl: any;\n  public opts: any;\n  public size: any;\n  public elem: any;\n  public preview: any;\n\n  constructor (options: any) {\n    this.tpl = options.tpl.get(0);\n    this.opts = options;\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\n    this.elem = null;\n  }\n\n  public getSize(): any {\n    return this.size;\n  }\n\n  public setSize(width, height): any {\n    this.size.width = width;\n    this.size.height = height;\n\n    if (this.elem) {\n      this.elem.css({\n        width: width,\n        height: height\n      });\n    }\n\n    return this;\n  }\n\n  public setPosition(left, top): any {\n    this.size.left = left;\n    this.size.top = top;\n\n    if (this.elem) {\n      this.elem.css({\n        left: left,\n        top: top\n      });\n    }\n\n    return this;\n  }\n\n  public getCompiledTemplate(): any {\n    return this.tpl;\n  };\n\n  public updateElem(parent): any {\n    this.elem = $(this.tpl).parent(parent);\n\n    return this;\n  };\n\n  public getElem(): any {\n    return this.elem.get(0);\n  };\n\n  public startDrag(): any {\n    this.preview = $('<div>')\n      .addClass('pip-dragged-preview')\n      .css({\n        position: 'absolute',\n        left: this.elem.css('left'),\n        top: this.elem.css('top'),\n        width: this.elem.css('width'),\n        height: this.elem.css('height')\n      });\n\n    this.elem\n      .addClass('no-animation')\n      .css({\n        zIndex: '9999'\n      })\n      .after(this.preview);\n\n    return this;\n  };\n\n  public stopDrag(isAnimate): any {\n    let self = this;\n\n    if (isAnimate) {\n      this.elem\n        .removeClass('no-animation')\n        .css({\n          left: this.preview.css('left'),\n          top: this.preview.css('top')\n        })\n        .on('transitionend', onTransitionEnd);\n    } else {\n      self.elem\n        .css({\n          left: self.preview.css('left'),\n          top: self.preview.css('top'),\n          zIndex: ''\n        })\n        .removeClass('no-animation');\n\n      self.preview.remove();\n      self.preview = null;\n    }\n\n    return this;\n\n    function onTransitionEnd() {\n      if (self.preview) {\n        self.preview.remove();\n        self.preview = null;\n      }\n\n      self.elem\n        .css('zIndex', '')\n        .off('transitionend', onTransitionEnd);\n    }\n  };\n\n  public setPreviewPosition(coords) {\n    this.preview.css(coords);\n  };\n\n  public getOptions(): any {\n    return this.opts.options;\n  };\n\n  public setOptions(options): any {\n    _.merge(this.opts.options, options);\n    _.merge(this.size, options.size);\n\n    return this;\n  };\n}\n\nangular\n  .module('pipDraggableTiles')\n  .service('pipDragTile', function () {\n    return function (options) {\n      let newTile = new DragTileService(options);\n\n      return newTile;\n    }\n  });","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n{\n  class EventTileController extends MenuTileService {\n    private _oldOpacity: number;\n\n    public opacity: number = 0.57;\n\n    constructor(\n      $scope: ng.IScope,\n      private $element: JQuery,\n      private $timeout: angular.ITimeoutService,\n      private pipTileConfigDialogService: ITileConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'gray';\n      this.opacity = this.options.opacity || this.opacity;\n\n      this.drawImage();\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        this.drawImage();\n      });\n    }\n\n    private drawImage() {\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.onImageLoad(this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    private onConfigClick() {\n      this._oldOpacity = _.clone(this.opacity);\n      this.pipTileConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size || {\n            colSpan: 1,\n            rowSpan: 1\n          },\n          date: this.options.date,\n          title: this.options.title,\n          text: this.options.text,\n          opacity: this.opacity,\n          onOpacitytest: (opacity) => {\n            this.opacity = opacity;\n          }\n        },\n        extensionUrl: 'event_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n        this.options.title = result.title;\n        this.options.text = result.text;\n        this.options.opacity = result.opacity;\n      }, () => {\n        this.opacity = this._oldOpacity;\n      });\n    }\n\n    private onImageLoad(image) {\n      this.setImageMarginCSS(this.$element.parent(), image);\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.setImageMarginCSS(this.$element.parent(), this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    // Later replace by pipImageUtils sevice's function\n    private setImageMarginCSS($element, image) {\n      let\n        containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\n        containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\n        imageWidth = image[0].naturalWidth || image.width,\n        imageHeight = image[0].naturalHeight || image.height,\n        margin = 0,\n        cssParams = {};\n\n      if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n        margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n        cssParams['margin-left'] = '' + margin + 'px';\n        cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n        cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n        cssParams['margin-top'] = '';\n      } else {\n        margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n        cssParams['margin-top'] = '' + margin + 'px';\n        cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n        cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n        cssParams['margin-left'] = '';\n      }\n\n      image.css(cssParams);\n    }\n  }\n\n\n  const EventTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: EventTileController,\n    templateUrl: 'event_tile/EventTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipEventTile', EventTile);\n}","{\n  const TileMenu = ():ng.IDirective => {\n    return {\n      restrict: 'EA',\n      templateUrl: 'menu_tile/MenuTile.html'\n    };\n  }\n\n  angular\n    .module('pipMenuTile')\n    .directive('pipTileMenu', TileMenu);\n}","import { DashboardTile } from '../common_tile/Tile';\n\nexport class MenuTileService extends DashboardTile {\n  public menu: any = [{\n    title: 'Change Size',\n    action: angular.noop,\n    submenu: [{\n        title: '1 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 1,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 2',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 2\n        }\n      }\n    ]\n  }];\n\n  constructor() {\n    \"ngInject\";\n\n    super();\n  }\n\n  public callAction(actionName, params, item) {\n    if (this[actionName]) {\n      this[actionName].call(this, params);\n    }\n\n    if (item['click']) {\n      item['click'].call(item, params, this);\n    }\n  };\n\n  public changeSize(params) {\n    this.options.size.colSpan = params.sizeX;\n    this.options.size.rowSpan = params.sizeY;\n  };\n}\n\n{\n  class MenuTileProvider {\n    private _service: MenuTileService;\n\n    constructor() {}\n\n    public $get() {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new MenuTileService();\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipMenuTile')\n    .provider('pipMenuTile', MenuTileProvider);\n}","angular\n    .module('pipMenuTile', []);\n\nimport './MenuTileDirective';\nimport './MenuTileService';\n\nexport * from './MenuTileService';","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n\n{\n  class NoteTileController extends MenuTileService {\n\n    constructor(\n      private pipTileConfigDialogService: ITileConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'orange';\n    }\n\n    private onConfigClick() {\n      this.pipTileConfigDialogService.show({\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          title: this.options.title,\n          text: this.options.text,\n        },\n        extensionUrl: 'note_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.color = result.color;\n        this.options.color = result.color;\n        this.changeSize(result.size);\n        this.options.text = result.text;\n        this.options.title = result.title;\n      });\n    }\n  }\n\n  const NoteTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: NoteTileController,\n    templateUrl: 'note_tile/NoteTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipNoteTile', NoteTile);\n}","'use strict';\n\nimport {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\nimport {\n  ITileTemplateService\n} from '../utility/TileTemplateUtility';\n\n{\n  class PictureSliderController extends MenuTileService {\n    public animationType: string = 'fading';\n    public animationInterval: number = 5000;\n\n    constructor(\n      private $scope: angular.IScope,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private pipTileTemplate: ITileTemplateService\n    ) {\n      super();\n\n      if (this.options) {\n        this.animationType = this.options.animationType || this.animationType;\n        this.animationInterval = this.options.animationInterval || this.animationInterval;\n      }\n    }\n\n    public onImageLoad($event) {\n      this.$timeout(() => {\n        this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), $event.target);\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.$timeout(() => {\n        _.each(this.$element.find('img'), (image) => {\n          this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), image);\n        });\n      }, 500);\n    }\n  }\n\n  const PictureSliderTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: PictureSliderController,\n    templateUrl: 'picture_slider_tile/PictureSliderTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipPictureSliderTile', PictureSliderTile);\n}","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n\n{\n  class PositionTileController extends MenuTileService {\n    public showPosition: boolean = true;\n\n    constructor(\n      $scope: angular.IScope,\n      private $timeout: angular.ITimeoutService,\n      private $element: any,\n      private pipTileConfigDialogService: ITileConfigService,\n      private pipLocationEditDialog: any,\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.menu.push({\n        title: 'Change location',\n        click: () => {\n          this.openLocationEditDialog();\n        }\n      });\n\n      this.options.location = this.options.location || this.options.position;\n\n      $scope.$watch('$ctrl.options.location', () => {\n        this.reDrawPosition();\n      });\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        if (newVal == true) this.reDrawPosition();\n      });\n    }\n\n    private onConfigClick() {\n      this.pipTileConfigDialogService.show({\n        dialogClass: 'pip-position-config',\n        locals: {\n          size: this.options.size,\n          locationName: this.options.locationName,\n          hideColors: true,\n        },\n        extensionUrl: 'position_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n        this.options.locationName = result.locationName;\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reDrawPosition();\n    }\n\n    public openLocationEditDialog() {\n      this.pipLocationEditDialog.show({\n        locationName: this.options.locationName,\n        locationPos: this.options.location\n      }, (newPosition) => {\n        if (newPosition) {\n          this.options.location = newPosition.location;\n          this.options.locationName = newPosition.locatioName;\n        }\n      });\n    }\n\n    private reDrawPosition() {\n      this.showPosition = false;\n      this.$timeout(() => {\n        this.showPosition = true;\n      }, 50);\n    }\n  }\n\n\n  const PositionTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: PositionTileController,\n    templateUrl: 'position_tile/PositionTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipPositionTile', PositionTile);\n}","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\n\n{\n  const SMALL_CHART: number = 70;\n  const BIG_CHART: number = 250;\n\n  class StatisticsTileController extends MenuTileService {\n    private _$scope: angular.IScope;\n    private _$timeout: angular.ITimeoutService;\n\n    public reset: boolean = false;\n    public chartSize: number = SMALL_CHART;\n\n    constructor(\n      $scope: angular.IScope,\n      $timeout: angular.ITimeoutService\n    ) {\n      super();\n      this._$scope = $scope;\n      this._$timeout = $timeout;\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.setChartSize();\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reset = true;\n      this.setChartSize();\n      this._$timeout(() => {\n        this.reset = false;\n      }, 500);\n    }\n\n    private setChartSize() {\n      this.chartSize = this.options.size.colSpan == 2 && this.options.size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\n    }\n  }\n\n\n  const StatisticsTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: StatisticsTileController,\n    templateUrl: 'statistics_tile/StatisticsTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipStatisticsTile', StatisticsTile);\n}","{\n  interface DraggableTileAttributes extends ng.IAttributes {\n    pipDraggableTiles: any;\n  }\n\n  function DraggableTileLink(\n    $scope: ng.IScope,\n    $elem: JQuery,\n    $attr: DraggableTileAttributes\n  ) {\n    const docFrag = document.createDocumentFragment(),\n      group = $scope.$eval($attr.pipDraggableTiles);\n\n    group.forEach(function (tile) {\n      const tpl = wrapComponent(tile.getCompiledTemplate());\n      docFrag.appendChild(tpl);\n    });\n\n    $elem.append(docFrag);\n\n    function wrapComponent(elem) {\n      return $('<div>')\n        .addClass('pip-draggable-tile')\n        .append(elem)\n        .get(0);\n    }\n  }\n\n  function DraggableTiles(): ng.IDirective {\n    return {\n      restrict: 'A',\n      link: function(\n        $scope: ng.IScope,\n        $elem: JQuery,\n        $attr: DraggableTileAttributes\n      ) {\n          new DraggableTileLink($scope, $elem, $attr);\n      }\n    };\n  }\n\n  angular\n    .module('pipDraggableTilesGroup')\n    .directive('pipDraggableTiles', DraggableTiles);\n}","export interface TilesGridConstructor {\n  new(tiles, options, columns, elem);\n}\n\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem): ITilesGridService {\n  return new constructor(tiles, options, columns, elem);\n}\n\nexport interface ITilesGridService {\n  tiles: any;\n  opts: any;\n  columns: any;\n  elem: any;\n  gridCells: any;\n  inline: boolean;\n  isMobileLayout: boolean;\n\n  addTile(tile): any;\n  getCellByPosition(row, col): any;\n  getCells(prevCell, rowSpan, colSpan): any;\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\n  getCell(src, basicRow, basicCol, columns): any;\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\n  getBasicRow(prevCell): any;\n  isCellFree(row, col): any;\n  getCellIndex(srcCell): any;\n  reserveCells(start, end, elem): void;\n  clearElements(): void;\n  setAvailableColumns(columns): any;\n  generateGrid(singleTileWidth ? ): any;\n  setTilesDimensions(onlyPosition, draggedTile): any;\n  calcContainerHeight(): any;\n  getTileByNode(node): any;\n  getTileByCoordinates(coords, draggedTile): any;\n  getTileIndex(tile): any;\n  swapTiles(movedTile, beforeTile): any;\n  removeTile(removeTile): any;\n  updateTileOptions(opts): any;\n}\n\nconst MOBILE_LAYOUT_COLUMNS = 2;\n\nexport class TilesGridService implements ITilesGridService {\n  public tiles: any;\n  public opts: any;\n  public columns: any;\n  public elem: any;\n  public gridCells: any = [];\n  public inline: boolean = false;\n  public isMobileLayout: boolean;\n\n  constructor(tiles, options, columns, elem) {\n    this.tiles = tiles;\n    this.opts = options;\n    this.columns = columns || 0; // available columns in a row\n    this.elem = elem;\n    this.gridCells = [];\n    this.inline = options.inline || false;\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n  }\n\n  public addTile(tile): any {\n    this.tiles.push(tile);\n    if (this.tiles.length === 1) {\n      this.generateGrid();\n    }\n\n    return this;\n  };\n\n  public getCellByPosition(row, col): any {\n    return this.gridCells[row][col];\n  };\n\n  public getCells(prevCell, rowSpan, colSpan): any {\n    if (this.isMobileLayout) {\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\n    } else {\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\n    }\n  };\n\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicCol = prevCell && prevCell.col || 0;\n    const basicRow = this.getBasicRow(prevCell);\n\n    // Small tile\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    // Medium tile\n    if (colSpan === 2 && rowSpan === 1) {\n      const prevTileSize = prevCell && prevCell.elem.size || null;\n\n      if (!prevTileSize) {\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\n        if (this.columns - basicCol - 2 > 0) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\n        if (prevCell.row % 2 === 0) {\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\n        } else {\n          if (this.columns - basicCol - 3 >= 0) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n          }\n        }\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\n        if (this.columns - basicCol - 3 >= 0) {\n          if (this.isCellFree(basicRow, basicCol + 1)) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\n          }\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      }\n    }\n\n    // Big tile\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\n    } else if (rowSpan === 2 && colSpan === 2) {\n      if (this.columns - basicCol - 2 > 0) {\n        if (this.isCellFree(basicRow, basicCol + 1)) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\n        }\n      } else {\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\n      }\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getCell(src, basicRow, basicCol, columns): any {\n    let cell, col, row;\n\n    if (this.isMobileLayout) {\n      // mobile layout\n      for (col = basicCol; col < columns; col++) {\n        if (!src[basicRow][col].elem) {\n          cell = src[basicRow][col];\n          break;\n        }\n      }\n\n      return cell;\n    }\n\n    // desktop\n    for (col = basicCol; col < columns; col++) {\n      for (row = 0; row < 2; row++) {\n        if (!src[row + basicRow][col].elem) {\n          cell = src[row + basicRow][col];\n          break;\n        }\n      }\n\n      if (cell) {\n        return cell;\n      }\n    }\n  };\n\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicRow = this.getBasicRow(prevCell);\n    const basicCol = prevCell && prevCell.col || 0;\n\n\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    if (!prevCell) {\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\n    } else if (colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getBasicRow(prevCell): any {\n    let basicRow;\n\n    if (this.isMobileLayout) {\n      if (prevCell) {\n        basicRow = prevCell && prevCell.row || 0;\n      } else {\n        basicRow = 0;\n      }\n    } else {\n      if (prevCell) {\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\n      } else {\n        basicRow = 0;\n      }\n    }\n\n    return basicRow;\n  };\n\n  public isCellFree(row, col): any {\n    return !this.gridCells[row][col].elem;\n  };\n\n  public getCellIndex(srcCell): any {\n    const self = this;\n    let index;\n\n    this.gridCells.forEach((row, rowIndex) => {\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\n        return cell === srcCell;\n      });\n\n      if (index !== -1) {\n        return;\n      }\n    });\n\n    return index !== -1 ? index : 0;\n  };\n\n  public reserveCells(start, end, elem) {\n    this.gridCells.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell.row >= start.row && cell.row <= end.row &&\n          cell.col >= start.col && cell.col <= end.col) {\n          cell.elem = elem;\n        }\n      });\n    });\n  };\n\n  public clearElements() {\n    this.gridCells.forEach((row) => {\n      row.forEach((tile) => {\n        tile.elem = null;\n      });\n    });\n  };\n\n  public setAvailableColumns(columns): any {\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n    this.columns = columns;\n\n    return this;\n  };\n\n  public generateGrid(singleTileWidth ? ): any {\n    const self = this,\n      tileWidth = singleTileWidth || this.opts.tileWidth,\n      offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\n    let colsInRow = 0,\n      rows = 0,\n      gridInRow = [];\n\n    this.gridCells = [];\n\n    this.tiles.forEach((tile, index, srcTiles) => {\n      const tileSize = tile.getSize();\n\n      generateCells(tileSize.colSpan);\n\n      if (srcTiles.length === index + 1) {\n        if (colsInRow < self.columns) {\n          generateCells(self.columns - colsInRow);\n        }\n\n        // Generate more cells for extends tile size to big\n        if (self.tiles.length * 2 > self.gridCells.length) {\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\n            generateCells(self.columns);\n          });\n        }\n      }\n    });\n\n    function generateCells(newCellCount) {\n      Array.apply(null, Array(newCellCount)).forEach(() => {\n        if (self.columns < colsInRow + 1) {\n          rows++;\n          colsInRow = 0;\n\n          self.gridCells.push(gridInRow);\n          gridInRow = [];\n        }\n\n        let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\n        let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\n\n        // Describe grid cell size through block corners coordinates\n        gridInRow.push({\n          top: top,\n          left: left,\n          bottom: top + self.opts.tileHeight,\n          right: left + tileWidth,\n          row: rows,\n          col: colsInRow\n        });\n\n        colsInRow++;\n      });\n    }\n\n    return this;\n  };\n\n  public setTilesDimensions(onlyPosition, draggedTile): any {\n    const self = this;\n    let currIndex = 0;\n    let prevCell;\n\n    if (onlyPosition) {\n      self.clearElements();\n    }\n\n    this.tiles.forEach((tile) => {\n      const tileSize = tile.getSize();\n      let startCell;\n      let width;\n      let height;\n      let cells;\n\n      tile.updateElem('.pip-draggable-tile');\n      if (tileSize.colSpan === 1) {\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\n        } else {\n          startCell = self.getCells(prevCell, 1, 1).start;\n        }\n\n\n        if (!onlyPosition) {\n          width = startCell.right - startCell.left;\n          height = startCell.bottom - startCell.top;\n        }\n\n        prevCell = startCell;\n\n        self.reserveCells(startCell, startCell, tile);\n\n        currIndex++;\n      } else if (tileSize.colSpan === 2) {\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\n        startCell = cells.start;\n\n        if (!onlyPosition) {\n          width = cells.end.right - cells.start.left;\n          height = cells.end.bottom - cells.start.top;\n        }\n\n        prevCell = cells.end;\n\n        self.reserveCells(cells.start, cells.end, tile);\n\n        currIndex += 2;\n      }\n\n      // Render preview\n      // while tiles from group is dragged\n      if (draggedTile === tile) {\n        tile.setPreviewPosition({\n          left: startCell.left,\n          top: startCell.top\n        });\n\n        return;\n      }\n\n      if (!onlyPosition) {\n        tile.setSize(width, height);\n      }\n\n      tile.setPosition(startCell.left, startCell.top);\n    });\n\n    return this;\n  };\n\n  public calcContainerHeight(): any {\n    let maxHeightSize, maxWidthSize;\n\n    if (!this.tiles.length) {\n      return this;\n    }\n\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\n      const tileSize = tile['getSize']();\n      return tileSize.top + tileSize.height;\n    })['getSize']();\n\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\n\n    if (this.inline) {\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\n        const tileSize = tile['getSize']();\n        return tileSize.left + tileSize.width;\n      })['getSize']();\n\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\n    }\n\n    return this;\n  };\n\n  public getTileByNode(node): any {\n    const foundTile = this.tiles.filter((tile) => {\n      return node === tile.getElem();\n    });\n\n    return foundTile.length ? foundTile[0] : null;\n  };\n\n  public getTileByCoordinates(coords, draggedTile): any {\n    return this.tiles\n      .filter((tile) => {\n        const tileSize = tile.getSize();\n\n        return tile !== draggedTile &&\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\n      })[0] || null;\n  };\n\n  public getTileIndex(tile): any {\n    return _.findIndex(this.tiles, tile);\n  };\n\n  public swapTiles(movedTile, beforeTile): any {\n    const movedTileIndex = _.findIndex(this.tiles, movedTile);\n    const beforeTileIndex = _.findIndex(this.tiles, beforeTile);\n\n    this.tiles.splice(movedTileIndex, 1);\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\n\n    return this;\n  };\n\n  public removeTile(removeTile): any {\n    let droppedTile;\n\n    this.tiles.forEach((tile, index, tiles) => {\n      if (tile === removeTile) {\n        droppedTile = tiles.splice(index, 1)[0];\n        return false;\n      }\n    });\n\n    return droppedTile;\n  };\n\n  public updateTileOptions(opts): any {\n    const index = _.findIndex(this.tiles, (tile) => {\n      return tile['getOptions']() === opts;\n    });\n\n    if (index !== -1) {\n      this.tiles[index].setOptions(opts);\n      return true;\n    }\n\n    return false;\n  };\n}\n\n\nangular\n  .module('pipDraggableTilesGroup')\n  .service('pipTilesGrid', function () {\n    return function (tiles, options, columns, elem) {\n      const newGrid = new TilesGridService(tiles, options, columns, elem);\n\n      return newGrid;\n    }\n  });","angular\n    .module('pipDraggableTilesGroup', []);\n\nimport './TileGroupDirective';\nimport './TileGroupService';","export interface ITileTemplateService {\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\n    setImageMarginCSS($element, image): void;\n} \n\n{\n    class tileTemplateService implements ITileTemplateService {\n        private _$interpolate: angular.IInterpolateService;\n        private _$compile: angular.ICompileService;\n        private _$templateRequest: angular.ITemplateRequestService;\n\n        constructor(\n            $interpolate: angular.IInterpolateService,\n            $compile: angular.ICompileService,\n            $templateRequest: angular.ITemplateRequestService\n        ) {\n            this._$interpolate = $interpolate;\n            this._$compile = $compile;\n            this._$templateRequest = $templateRequest;\n        }\n\n        public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\n            const {\n                template,\n                templateUrl,\n                type\n            } = source;\n            let result;\n\n            if (type) {\n                const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\n                return strictCompile == true ?\n                    (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\n                    interpolated;\n            }\n\n            if (template) {\n                return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\n            }\n\n            if (templateUrl) {\n                this._$templateRequest(templateUrl, false).then((html) => {\n                    result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\n                });\n            }\n\n            return result;\n        }\n\n        public setImageMarginCSS($element, image) {\n            let\n                containerWidth = $element.width ? $element.width() : $element.clientWidth,\n                containerHeight = $element.height ? $element.height() : $element.clientHeight,\n                imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\n                imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\n                margin = 0,\n                cssParams = {};\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n                cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n                cssParams['margin-left'] = '';\n            }\n\n            $(image).css(cssParams);\n        }\n    }\n\n    // image load directive TODO: remove to pipImageUtils\n    const ImageLoad = function ImageLoad($parse: ng.IParseService): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (scope: ng.IScope, element: JQuery, attrs: any) {\n                const callback = $parse(attrs.pipImageLoad);\n\n                element.bind('load', (event) => {\n                    callback(scope, {\n                        $event: event\n                    });\n                });\n            }\n        }\n    }\n\n    angular\n        .module('pipDashboard')\n        .service('pipTileTemplate', tileTemplateService)\n        .directive('pipImageLoad', ImageLoad);\n}","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_tile_dialog/AddTile.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_TITLE\\' | translate }}<md-input-container class=\"layout-row flex-auto m0 tm16\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"{{ \\'DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP\\' | translate }}\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS\\' | translate }}</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Cancel\">{{ \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"dialogCtrl.add()\" ng-disabled=\"dialogCtrl.totalWidgets === 0\" arial-label=\"Add\">{{ \\'ADD\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/CalendarTile.html',\n    '<div class=\"widget-box pip-calendar-widget {{ $ctrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ $ctrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ $ctrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-tile-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-tile-config-extend-component class=\"layout-column\" pip-dialog-scope=\"vm\" pip-extension-url=\"vm.extensionUrl\" pip-apply=\"vm.onApply(updatedData)\"></pip-tile-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{ \\'DASHBOARD_TILE_CONFIG_DIALOG_TITLE\\' | translate }}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!$ctrl.hideSizes\" pip-buttons=\"$ctrl.sizes\" ng-model=\"$ctrl.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!$ctrl.hideColors\" pip-colors=\"$ctrl.colors\" ng-model=\"$ctrl.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onCancel()\">{{ \\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\">{{ \\'APPLY\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dashboard/Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"$ctrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"$ctrl.groupedWidgets\" pip-tiles-context=\"$ctrl.widgetsContext\" pip-draggable-grid=\"$ctrl.draggableGridOptions\" pip-group-menu-actions=\"$ctrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container>Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"$ctrl.opacity\" ng-change=\"$ctrl.onOpacitytest($ctrl.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/EventTile.html',\n    '<div class=\"widget-box pip-event-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><img ng-if=\"$ctrl.options.image\" ng-src=\"{{$ctrl.options.image}}\" alt=\"{{$ctrl.options.title || $ctrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ $ctrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"$ctrl.options.date\">{{ $ctrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ $ctrl.options.text || $ctrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in $ctrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"$ctrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"$ctrl.onBlurTitleInput(group)\" ng-keypress=\"$ctrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"$ctrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in $ctrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu_tile/MenuTile.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"$ctrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"$ctrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"$ctrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/NoteTile.html',\n    '<div class=\"widget-box pip-notes-widget {{ $ctrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"$ctrl.options.title || $ctrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span></div><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu><div class=\"text-container flex-auto pip-scroll\"><p>{{ $ctrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_slider_tile/PictureSliderTile.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ $ctrl.options.title }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"$ctrl.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/PositionTile.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!$ctrl.options.locationName\"><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"$ctrl.options.locationName\"><span class=\"flex text-overflow\">{{ $ctrl.options.locationName }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><pip-location-map class=\"flex\" ng-if=\"$ctrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"$ctrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('statistics_tile/StatisticsTile.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.series && !$ctrl.reset\"><pip-pie-chart pip-series=\"$ctrl.options.series\" ng-if=\"!$ctrl.options.chartType || $ctrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"$ctrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n","'use strict';\r\n\r\nimport './settings_service/index';\r\nimport './settings_page/index';\r\n\r\nangular.module('pipSettings', [\r\n    'pipSettings.Service',\r\n    'pipSettings.Page'\r\n]);\r\n\r\nexport * from './settings_service';\r\nexport * from './settings_page';","/**\r\n * @file Registration of settings components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipSettings', [\r\n        'pipSettings.Service',\r\n        'pipSettings.Page'\r\n    ]);\r\n\r\n})();\r\n","// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nclass SettingsPageController {\r\n    private _log: ng.ILogService;\r\n    private _q: ng.IQService;\r\n    private _state: ng.ui.IStateService;\r\n\r\n    public tabs: any;\r\n    public selected: any;\r\n    public onDropdownSelect: any;\r\n\r\n    constructor(\r\n        $log: ng.ILogService,\r\n        $q: ng.IQService,\r\n        $state: ng.ui.IStateService,\r\n        pipNavService,\r\n        pipSettings,\r\n        $rootScope, \r\n        $timeout\r\n    ) {\r\n        this._log = $log;\r\n        this._q = $q;\r\n        this._state = $state;\r\n\r\n        this.tabs = _.filter(pipSettings.getTabs(), function (tab: any) {\r\n                if (tab.visible === true && (tab.access ? tab.access($rootScope.$user, tab) : true)) {\r\n                    return tab;\r\n                }\r\n            });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = {};\r\n        if (this._state.current.name !== 'settings') {\r\n            this.initSelect(this._state.current.name);\r\n        } else if (this._state.current.name === 'settings' && pipSettings.getDefaultTab()) {\r\n            this.initSelect(pipSettings.getDefaultTab().state);\r\n        } else {\r\n            $timeout(function () {\r\n                if (pipSettings.getDefaultTab()) {\r\n                    this.initSelect(pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                     this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Settings\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string) {\r\n        this.selected.tab = _.find(this.tabs, function (tab: any) {\r\n                    return tab.state === state;\r\n                });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n    }\r\n\r\n    public onNavigationSelect(state: string) {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this._state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\nangular.module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n})();","'use strict';\r\n\r\nfunction configureSettingsPageRoutes($stateProvider) {\r\n    $stateProvider\r\n        .state('settings', {\r\n            url: '/settings?party_id',\r\n            auth: true,\r\n            controllerAs: 'vm',\r\n            controller: 'pipSettingsPageController',\r\n            templateUrl: 'settings_page/SettingsPage.html'\r\n        });\r\n       \r\n}\r\n\r\nangular.module('pipSettings.Page')\r\n    .config(configureSettingsPageRoutes);\r\n","'use strict';\r\n\r\nangular.module('pipSettings.Page', [\r\n    'ui.router', \r\n    'pipSettings.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipSettings.Templates'\r\n    ]);\r\n\r\n\r\nimport './SettingsPageController';\r\nimport './SettingsPageRoutes';","'use strict';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: string;\r\n    public access: boolean;\r\n    public visible: boolean;\r\n    public stateConfig: any;\r\n}\r\n\r\nexport interface ISettingsService {\r\n    getDefaultTab();\r\n    showTitleText (newTitleText);\r\n    showTitleLogo(newTitleLogo);\r\n    setDefaultTab(name: string);\r\n    showNavIcon(value);\r\n    getTabs();\r\n}\r\n\r\nexport interface ISettingsProvider extends ng.IServiceProvider {\r\n    getDefaultTab(): SettingsTab;\r\n    addTab(tabObj: any);\r\n    setDefaultTab(name: string): void;\r\n    getFullStateName(state: string): string;\r\n}\r\n\r\nexport class SettingsConfig {\r\n\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n\r\n}\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor($rootScope: ng.IRootScopeService, \r\n                       config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._rootScope = $rootScope;\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, function (tab) {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab() {\r\n        var defaultTab;\r\n        defaultTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string) {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean) {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n    public getTabs() {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n    private _stateProvider: ng.ui.IStateProvider;\r\n\r\n    constructor($stateProvider: ng.ui.IStateProvider) {\r\n        this._stateProvider = $stateProvider;\r\n    }\r\n\r\n    public getFullStateName(state): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        var defaultTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: any) {\r\n        var existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this._stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, function (tab) {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this._stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: SettingsTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value) {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get($rootScope, $state) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SettingsService($rootScope, this._config);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","'use strict';\r\n\r\nangular.module('pipSettings.Service', []);\r\n\r\nimport './SettingsService';","/**\r\n * @file Settings tab logic\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipUserSettings', [\r\n        'ngMaterial', 'pipData',\r\n        'pipSettings.Service',\r\n        'pipSettings.Page',\r\n\r\n        'pipUserSettings.Strings',\r\n        'pipUserSettings.Sessions',\r\n        'pipUserSettings.BasicInfo',\r\n        'pipSettings.Templates'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Settings basic info controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.BasicInfo',\r\n        ['pipUserSettings.ChangePassword', 'pipUserSettings.VerifyEmail', \r\n            'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'basic_info',\r\n            index: 1,\r\n            title: 'SETTINGS_BASIC_INFO_TITLE',\r\n            stateConfig: {\r\n                url: '/basic_info',\r\n                controller: 'pipUserSettingsBasicInfoController',\r\n                templateUrl: 'user_settings/user_settings_basic_info.html',\r\n                auth: true\r\n            }\r\n        });\r\n\r\n        pipSettingsProvider.setDefaultTab('basic_info');\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n     *\r\n     * @description\r\n     * Controller for the predefined 'basic_info' state.\r\n     * Provides sync changes user's profile with remote profile.\r\n     * On state exit everything is saved on the server.\r\n     */\r\n    thisModule.controller('pipUserSettingsBasicInfoController',\r\n        function ($scope, $rootScope, $mdDialog, $state, $window, $timeout, $mdTheming,\r\n                  pipTranslate, pipTransaction, pipTheme,\r\n                  pipToasts, pipDataUser, pipDataParty, pipFormErrors) {\r\n\r\n            try {\r\n                $scope.originalParty = angular.toJson($rootScope.$party);\r\n            } catch (err) {\r\n                throw err;\r\n            }\r\n\r\n            $scope.nameCopy = $rootScope.$party.name;\r\n\r\n            $timeout(function () {\r\n                $scope.loc_pos = $rootScope.$party.loc_pos;\r\n            });\r\n\r\n            $scope.genders = pipTranslate.translateSet(['male', 'female', 'n/s']);\r\n            $scope.languages = pipTranslate.translateSet(['ru', 'en']);\r\n\r\n            $scope.transaction = pipTransaction('settings.basic_info', $scope);\r\n\r\n            $scope.themes = _.keys(_.omit($mdTheming.THEMES, 'default'));\r\n\r\n            $state.get('settings.basic_info').onExit = saveChanges;\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onChangePassword */\r\n            $scope.onChangePassword = onChangePassword;\r\n            /** @see onVerifyEmail */\r\n            $scope.onVerifyEmail = onVerifyEmail;\r\n            /** @see onPictureCreated */\r\n            $scope.onPictureCreated = onPictureCreated;\r\n            /** @see onPictureChanged */\r\n            $scope.onPictureChanged = onPictureChanged;\r\n            /** @see updateUser */\r\n            $scope.onChangeUser = _.debounce(updateUser, 2000);\r\n            /** @see saveChanges */\r\n            $scope.onChangeBasicInfo = _.debounce(saveChanges, 2000);\r\n\r\n            function onPictureChanged() {\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            function onPictureCreated($event) {\r\n                $scope.picture = $event.sender;\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeBasicInfo\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the input information.\r\n             * It is updated user's party profile. Also it updates user's profile in $rootScope.\r\n             */\r\n            function saveChanges() {\r\n                if ($scope.form) {\r\n                    $scope.form.$setSubmitted();\r\n                }\r\n\r\n                if ($rootScope.$party) {\r\n\r\n                    if ($rootScope.$party.type === 'person' && $scope.form.$invalid) {\r\n                        return;\r\n                    }\r\n\r\n                    // Check to avoid unnecessary savings\r\n                    $rootScope.$party.loc_pos = $scope.loc_pos;\r\n                    try {\r\n                        var party = angular.toJson($rootScope.$party);\r\n                    } catch (err) {\r\n                        throw err;\r\n                    }\r\n\r\n                    if (party !== $scope.originalParty) {\r\n                        var tid = $scope.transaction.begin('UPDATING');\r\n\r\n                        pipDataParty.updateParty($rootScope.$party,\r\n                            function (data) {\r\n                                if ($scope.transaction.aborted(tid)) {\r\n                                    return;\r\n                                }\r\n                                $scope.transaction.end();\r\n\r\n                                $scope.originalParty = party;\r\n                                $scope.nameCopy = data.name;\r\n                            }, function (error) {\r\n                                $scope.transaction.end(error);\r\n                                $scope.message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                                $rootScope.$party = angular.fromJson($scope.originalParty);\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeUser\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the user's profile information.\r\n             * Also it updates user's profile in $rootScope.\r\n             */\r\n            function updateUser() {\r\n                var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                if ($rootScope.$user.id === $rootScope.$party.id) {\r\n                    pipDataUser.updateUser(\r\n                        {\r\n                            item: $rootScope.$user\r\n                        },\r\n                        function (data) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                            pipTranslate.use(data.language);\r\n                            $rootScope.$user.language = data.language;\r\n                            $rootScope.$user.theme = data.theme;\r\n                            if ($rootScope.$user.theme) {\r\n                                pipTheme.setCurrentTheme($rootScope.$user.theme, true);\r\n                            }\r\n\r\n                        }, function (error) {\r\n                            var message;\r\n                            \r\n                            $scope.transaction.end(error);\r\n                            message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangePassword\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onChangePassword(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_change_password.html',\r\n                    controller: 'pipUserSettingsChangePasswordController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        if (answer) {\r\n                            message = String() + 'RESET_PWD_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    });\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onVerifyEmail\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onVerifyEmail(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_verify_email.html',\r\n                    controller: 'pipUserSettingsVerifyEmailController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        $scope.user.email_ver = answer;\r\n                        if (answer) {\r\n                            message = String() + 'VERIFY_EMAIL_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings change password controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.ChangePassword', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n     *\r\n     * @description\r\n     * Controller for dialog panel of password change.\r\n     */\r\n    thisModule.controller('pipUserSettingsChangePasswordController',\r\n        function ($scope, $rootScope, $mdDialog, email, pipDataUser, pipTransaction, pipFormErrors) {\r\n\r\n            $scope.transaction = pipTransaction('settings.change_password', $scope);\r\n            $scope.errorsRepeatWithHint = function (form, formPart) {\r\n                if ($scope.showRepeatHint) {\r\n                    return pipFormErrors.errorsWithHint(form, formPart);\r\n                }\r\n\r\n                return {};\r\n            };\r\n            $scope.showRepeatHint = true;\r\n            $scope.changePasData = {};\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            $scope.onCancel = onCancel;\r\n            $scope.onCheckRepeatPassword = onCheckRepeatPassword;\r\n            $scope.onApply = onApply;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCheckRepeatPassword\r\n             *\r\n             * @description\r\n             * Validates a password typed into password fields.\r\n             */\r\n            function onCheckRepeatPassword() {\r\n                if ($scope.changePasData) {\r\n                    if ($scope.repeat === $scope.changePasData.new_password || $scope.repeat === '' || !$scope.repeat) {\r\n                        $scope.form.repeat.$setValidity('repeat', true);\r\n                        if ($scope.repeat === $scope.changePasData.new_password) {\r\n                            $scope.showRepeatHint = false;\r\n                        } else {\r\n                            $scope.showRepeatHint = true;\r\n                        }\r\n                    } else {\r\n                        $scope.showRepeatHint = true;\r\n                        $scope.form.repeat.$setValidity('repeat', false);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onApply\r\n             *\r\n             * @description\r\n             * Approves password change and sends request to the server on password change.\r\n             */\r\n            function onApply() {\r\n                $scope.onCheckRepeatPassword();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n\r\n                if (!$scope.transaction.begin('CHANGE_PASSWORD')) {\r\n                    return;\r\n                }\r\n\r\n                $scope.changePasData.email = email;\r\n\r\n                pipDataUser.changePassword(\r\n                    $scope.changePasData,\r\n                    function () {\r\n                        $scope.transaction.end();\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1107: 'oldPassword',\r\n                                1105: 'newPassword'\r\n                            }\r\n                        );\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings sessions controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Sessions', [\r\n        'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider, pipDataSessionProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'sessions',\r\n            index: 3,\r\n            title: 'SETTINGS_ACTIVE_SESSIONS_TITLE',\r\n            stateConfig: {\r\n                url: '/sessions',\r\n                controller: 'pipUserSettingsSessionsController',\r\n                templateUrl: 'user_settings/user_settings_sessions.html',\r\n                auth: true,\r\n                resolve: {\r\n                    sessions: pipDataSessionProvider.readSessionsResolver,\r\n                    sessionId: pipDataSessionProvider.readSessionIdResolver\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n     *\r\n     * @description\r\n     * Controller provides an interface for managing active sessions.\r\n     */\r\n    thisModule.controller('pipUserSettingsSessionsController',\r\n        function ($scope, pipTransaction, pipDataSession, sessions, sessionId) {\r\n\r\n            $scope.sessionId = sessionId;\r\n            $scope.transaction = pipTransaction('settings.sessions', $scope);\r\n            $scope.sessions = sessions;\r\n\r\n            $scope.onRemoveAll = onRemoveAll;\r\n            $scope.onRemove = onRemove;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemoveAll\r\n             *\r\n             * @description\r\n             * Closes all active session.\r\n             */\r\n            function onRemoveAll() {\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n\r\n                async.eachSeries(\r\n                    $scope.sessions,\r\n                    function (session: any, callback) {\r\n                        if (session.id == $scope.sessionId) {\r\n                            callback();\r\n                        } else {\r\n                            pipDataSession.removeSession(\r\n                                {\r\n                                    session: session\r\n                                },\r\n                                function () {\r\n                                    $scope.sessions = _.without($scope.sessions, session);\r\n                                    callback();\r\n                                },\r\n                                function (error) {\r\n                                    callback;\r\n                                }\r\n                            );\r\n                        }\r\n                    },\r\n                    function (err) {\r\n                        if (err) {\r\n                            $scope.transaction.end(err);\r\n                        }\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n                    });                \r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemove\r\n             *\r\n             * @description\r\n             * Closes passed session.\r\n             *\r\n             * @param {Object} session  Session configuration object\r\n             */\r\n            function onRemove(session, callback) {\r\n                if (session.id === $scope.sessionId) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n                pipDataSession.removeSession(\r\n                    {\r\n                        session: session\r\n                    },\r\n                    function () {\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n\r\n                        $scope.sessions = _.without($scope.sessions, session);\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        $scope.message = 'ERROR_' + error.status || error.data.status_code;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* eslint-disable quote-props */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Strings', ['pipTranslate']);\r\n\r\n    thisModule.config(function (pipTranslateProvider) {\r\n\r\n        // Set translation strings for the module\r\n        pipTranslateProvider.translations('en', {\r\n            'SETTINGS_TITLE': 'Settings',\r\n            'SETTINGS_BASIC_INFO_TITLE': 'Basic info',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'Active sessions',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'Full name',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'Please, verify your email address.',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'Verify email address',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'Your password was changed on ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'Change your password',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'Please, use your real name to let other people know who you are.',\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'Few words about yourself',\r\n\r\n            'SETTINGS_BASIC_INFO_GENDER': 'Gender',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'Birthday',\r\n            'SETTINGS_BASIC_INFO_LOCATION': 'Current location',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'Primary email',\r\n            'SETTINGS_BASIC_INFO_FROM': 'User since ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': 'User ID',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'Change password',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'New password',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'Repeat password',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Current password',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': ' If you notice any unfamiliar devices or locations, click' +\r\n            '\"Close Session\" to end the session.',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'Close session',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'Close active sessions',\r\n            'SETTINGS_ACTIVE_SESSION_OS': 'OS: ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'active',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': 'Blacklist',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Parties from blacklist will not be able to send you invitations and ' +\r\n            'private messages.',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Unblock',\r\n            'SETTINGS_BLACKLIST_EMPTY': 'You have no blocked parties',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': 'Contact info',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': 'Email',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'Add email',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'Add phone',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'Add address',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'Add account',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'Add URL',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'Address',\r\n            'SETTINGS_CONTACT_INFO_PHONE': 'Phone',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Account name',\r\n            'SETTINGS_CONTACT_INFO_URL': 'URL',\r\n\r\n            'THEME': 'Theme',\r\n\r\n            'HINT_PASSWORD': 'Minimum 6 characters',\r\n            'HINT_REPEAT_PASSWORD': 'Repeat password',\r\n\r\n            'ERROR_WRONG_PASSWORD': 'Wrong password',\r\n            'ERROR_IDENTICAL_PASSWORDS': 'Old and new passwords are identical',\r\n            'REPEAT_PASSWORD_INVALID': 'Password does not match',\r\n            'ERROR_EMAIL_INVALID': 'Please, enter a valid email'\r\n        });\r\n\r\n        pipTranslateProvider.translations('ru', {\r\n            'SETTINGS_TITLE': '',\r\n            'SETTINGS_BASIC_INFO_TITLE': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': ' ',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': ',   ,     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': ',     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': '  .',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': '    ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': '   ',\r\n            'SETTINGS_BASIC_INFO_GENDER': '',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': ' ',\r\n            'SETTINGS_BASIC_INFO_LOCATION': ' ',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': '  . ',\r\n            'SETTINGS_BASIC_INFO_FROM': ' ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': ' ',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': '',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': ' ',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': '   -    ' +\r\n            ',   \" \",   .',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': '  ',\r\n            'SETTINGS_ACTIVE_SESSION_OS': ': ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': '',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': '',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': '     ' +\r\n            '      .',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': '',\r\n            'SETTINGS_BLACKLIST_EMPTY': '    ',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': '',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': '  ',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': '  . ',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': ' -',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': '',\r\n            'SETTINGS_CONTACT_INFO_PHONE': '',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': '  ',\r\n            'SETTINGS_CONTACT_INFO_URL': ' ',\r\n\r\n            'THEME': '',\r\n\r\n            'HINT_PASSWORD': ' 6 ',\r\n            'HINT_REPEAT_PASSWORD': ' ',\r\n\r\n            'ERROR_WRONG_PASSWORD': ' ',\r\n            'ERROR_IDENTICAL_PASSWORDS': '    ',\r\n            'REPEAT_PASSWORD_INVALID': '  ',\r\n            'ERROR_EMAIL_INVALID': ',   .'\r\n        });\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Settings verify email controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.VerifyEmail', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n     *\r\n     * @description\r\n     * Controller for verify email dialog panel.\r\n     */\r\n    thisModule.controller('pipUserSettingsVerifyEmailController',\r\n        function ($scope, $rootScope, $mdDialog, pipTransaction, pipFormErrors, pipDataUser, email) {\r\n\r\n            $scope.emailVerified = false;\r\n            $scope.data = {\r\n                email: email,\r\n                code: ''\r\n            };\r\n            $scope.transaction = pipTransaction('settings.verify_email', $scope);\r\n\r\n            /** @see onAbort */\r\n            $scope.onAbort = onAbort;\r\n            /** @see onRequestVerificationClick*/\r\n            $scope.onRequestVerificationClick = onRequestVerificationClick;\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onVerify */\r\n            $scope.onVerify = onVerify;\r\n            /** @see onCancel */\r\n            $scope.onCancel = onCancel;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onAbort\r\n             *\r\n             * @description\r\n             * Aborts a verify request.\r\n             */\r\n            function onAbort() {\r\n                $scope.transaction.abort();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onRequestVerificationClick\r\n             *\r\n             * @description\r\n             * Sends request to verify entered email.\r\n             */\r\n            function onRequestVerificationClick() {\r\n                    var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                pipDataUser.requestEmailVerification(\r\n                    {},                         \r\n                    function (result) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n                        }, \r\n                        function (error) {\r\n                            $scope.transaction.end(error);\r\n                        }\r\n                    );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onVerify\r\n             *\r\n             * @description\r\n             * Initiates request on verify email on the server.\r\n             */\r\n            function onVerify() {\r\n                $scope.form.$setSubmitted();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('Verifying');\r\n\r\n                pipDataUser.verifyEmail(\r\n                    {\r\n                        email: $scope.data.email,\r\n                        code: $scope.data.code\r\n                    }, \r\n                    function (verifyData) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1106: 'email',\r\n                                1103: 'code'\r\n                            }\r\n                        );\r\n\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('settings_page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_basic_info.html',\n    '<form name=\"form\" class=\"w-stretch\" novalidate=\"\"><md-progress-linear class=\"pip-progress-top\" ng-show=\"transaction.busy()\" md-mode=\"indeterminate\"></md-progress-linear><div class=\"layout-row bm12\"><div class=\"md-tile-left\"><pip-avatar-edit pip-party-id=\"$party.id\" pip-created=\"onPictureCreated($event)\" pip-changed=\"onPictureChanged($control, $event)\"></pip-avatar-edit></div><div class=\"md-tile-content tp0 layout-align-center\"><h3 class=\"tm16 bm8 text-one-line\">{{ nameCopy }}</h3><p class=\"text-primary text-overflow m0\">{{::\\'SETTINGS_BASIC_INFO_FROM\\' | translate}} {{$user.signup | formatLongDate }}</p></div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_BASIC_INFO_FULL_NAME\\' | translate}}</label> <input name=\"fullName\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\" ng-model=\"$party.name\" ng-disabled=\"transaction.busy()\" ng-change=\"onChangeBasicInfo()\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.fullName).hint\">{{::\\'ERROR_FULLNAME_INVALID\\' | translate}}</div></md-input-container><md-input-container class=\"md-block bm0\"><label>{{::\\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" required=\"\" ng-model=\"$party.email\" ng-change=\"onChangeBasicInfo()\" pip-email-unique=\"{{$party.email}}\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint && !$user.email_ver\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_HINT\\' | translate}}</div><div ng-messages=\"errorsWithHint(form.email)\" ng-hide=\"$party.type ==\\'team\\'\"><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div><div ng-message=\"emailUnique\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div></div></md-input-container><md-button class=\"md-raised bm16 tm8 rm8\" ng-click=\"onVerifyEmail($event)\" ng-hide=\"$user.email_ver || $party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_CODE\\' | translate}}</md-button><md-button ng-click=\"onChangePassword($event)\" class=\"md-raised bm16 tm8\" ng-hide=\"$party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\\' | translate}}</md-button><md-input-container class=\"md-block flex\"><label>{{::\\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\\' | translate }}</label> <textarea ng-model=\"$party.about\" columns=\"1\" ng-change=\"onChangeBasicInfo()\"></textarea></md-input-container><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'GENDER\\' | translate}}</label><md-select ng-model=\"$party.gender\" ng-change=\"onChangeBasicInfo()\" placeholder=\"{{\\'GENDER\\' | translate}}\"><md-option ng-value=\"gender.id\" ng-repeat=\"gender in genders\">{{gender.name}}</md-option></md-select></md-input-container><div ng-hide=\"$party.type ==\\'team\\'\"><p class=\"text-caption text-grey tm0 bm0\">{{::\\'SETTINGS_BASIC_INFO_BIRTHDAY\\' | translate}}</p><pip-date ng-model=\"$party.birthday\" ng-change=\"onChangeBasicInfo()\" pip-time-mode=\"past time-mode=\" past\"=\"\"></pip-date></div><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'LANGUAGE\\' | translate}}</label><md-select placeholder=\"{{\\'LANGUAGE\\' | translate}}\" ng-model=\"$user.language\" ng-change=\"onChangeUser()\"><md-option ng-value=\"language.id\" ng-repeat=\"language in languages\">{{language.name}}</md-option></md-select></md-input-container><md-input-container class=\"md-block\" ng-if=\"$party.type !=\\'team\\'\"><label>{{::\\'THEME\\' | translate}}</label><md-select class=\"w-stretch theme-text-primary\" ng-model=\"$user.theme\" ng-change=\"onChangeUser()\" ng-disabled=\"transaction.busy()\"><md-option ng-value=\"theme\" ng-repeat=\"theme in themes\" ng-selected=\"$theme == theme ? true : false\">{{ theme | translate }}</md-option></md-select></md-input-container><pip-location-edit class=\"map-edit bm24-flex\" ng-hide=\"$party.type ==\\'team\\'\" pip-changed=\"onChangeBasicInfo()\" pip-location-name=\"$party.loc_name\" pip-location-pos=\"loc_pos\"></pip-location-edit></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_change_password.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><form name=\"form\" ng-submit=\"onApply()\"><div class=\"pip-header\"><h3 class=\"m0\">{{::\\'SETTINGS_CHANGE_PASSWORD_TITLE\\' | translate : module}}</h3></div><div class=\"pip-body\"><div class=\"pip-content\"><div class=\"text-error bm8\" ng-messages=\"form.$serverError\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\\' | translate }}</label> <input name=\"oldPassword\" type=\"password\" ng-model=\"changePasData.old_password\" ng-required=\"change_password.$submitted\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.oldPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"ERROR_1107\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{\\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\\' | translate }}</label> <input name=\"newPassword\" type=\"password\" ng-model=\"changePasData.new_password\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\" pip-clear-errors=\"\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.newPassword).hint\">{{ \\'HINT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsWithHint(form, form.newPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"ERROR_1105\">{{::\\'ERROR_IDENTICAL_PASSWORDS\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{ \\'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\\' | translate }}</label> <input name=\"repeat\" type=\"password\" ng-model=\"repeat\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\"><div class=\"hint\" ng-if=\"errorsRepeatWithHint(form.repeat).hint\">{{::\\'HINT_REPEAT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsRepeatWithHint(form.repeat)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"repeat\">{{::\\'REPEAT_PASSWORD_INVALID\\' | translate }}</div></div></md-input-container></div></div><div class=\"pip-footer\"><div><md-button aria-label=\"xxx\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate }}</md-button><md-button type=\"submit\" class=\"md-accent\" aria-label=\"xxx\">{{::\\'APPLY\\' | translate : module}}</md-button></div></div></form></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_sessions.html',\n    '<md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><div class=\"pip-details-title pip-sessions\"><p class=\"pip-title bm16\">{{::\\'SETTINGS_ACTIVE_SESSIONS_TITLE\\' | translate}}</p><p class=\"pip-subtitle\">{{::\\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\\' | translate}}</p></div><md-list class=\"w-stretch\"><div ng-repeat=\"session in sessions\"><div class=\"layout-row\" ng-init=\"showBlock = session.id != sessionId\" ng-click=\"showBlock = !showBlock\"><p class=\"m0 text-subhead2 text-overflow max-w50-stretch\">{{::session.client}}</p><p class=\"m0 lp4 text-body1 color-secondary-text flex\">{{::\\'SETTINGS_ACTIVE_SESSION_ACTIVE\\' | translate}}</p><p class=\"m0 text-body1 color-secondary-text\">{{::country}}<md-icon ng-if=\"showBlock\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon ng-if=\"!showBlock\" md-svg-icon=\"icons:triangle-down\"></md-icon></p></div><div class=\"layout-row bm8 bp8\" ng-class=\"{\\'divider-bottom\\':!$last}\"><div class=\"flex-50\"><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\">{{session.last_req | date : \\'medium\\'}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_OS\\' | translate}}{{::session.platform}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_IP\\' | translate}}{{::session.address}}</p><md-button class=\"md-raised\" ng-show=\"showBlock && session.id != sessionId\" ng-click=\"onRemove(session)\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\\' | translate}}</md-button></div><pip-location-ip class=\"map-edit flex-50\" ng-if=\"showBlock\" pip-ipaddress=\"session.address\" pip-extra-info=\"country = extraInfo.country\"></pip-location-ip></div></div></md-list><div class=\"layout-row layout-align-end-center\"><md-button class=\"md-raised\" ng-show=\"sessions.length > 1\" ng-click=\"onRemoveAll()\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\\' | translate}}</md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_verify_email.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2>{{::\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{::\\'VERIFY_EMAIL_TEXT_1\\' | translate}}</p><form name=\"form\" novalidate=\"\"><div ng-messages=\"form.$serverError\" class=\"text-error bm8\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"display bp4 md-block\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" ng-model=\"data.email\" required=\"\" step=\"any\" pip-clear-errors=\"\" tabindex=\"1\" ng-disabled=\"transaction.busy()\" pip-test=\"input-email\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"errorsWithHint(form, form.email)\" xng-if=\"!form.email.$pristine\"><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1106\">{{::\\'ERROR_USER_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label> <input name=\"code\" ng-disabled=\"transaction.busy()\" tabindex=\"0\" ng-model=\"data.code\" required=\"\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.code)\"><div ng-message=\"required\">{{::\\'ERROR_CODE_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1103\">{{::\\'ERROR_CODE_WRONG\\' | translate }}</div></div></md-input-container><p>{{::\\'VERIFY_EMAIL_TEXT_21\\' | translate}} <a ng-click=\"onRequestVerificationClick()\" class=\"pointer\" tabindex=\"0\">{{::\\'VERIFY_EMAIL_RESEND\\' | translate}}</a> {{::\\'VERIFY_EMAIL_TEXT_22\\' | translate}}</p></form></div></div><div class=\"pip-footer\"><md-button ng-click=\"onCancel()\" ng-hide=\"transaction.busy()\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-click=\"onVerify()\" ng-hide=\"transaction.busy()\" tabindex=\"0\" aria-label=\"xxx\" ng-disabled=\"data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)\">{{::\\'VERIFY\\' | translate}}</md-button><md-button class=\"md-warn\" ng-show=\"transaction.busy()\" ng-click=\"transaction.abort()\" tabindex=\"0\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","// Prevent junk from going into typescript definitions\r\nimport {IHelpService} from '../help_service/HelpService';\r\n\r\nclass HelpPageController {\r\n    private _log: ng.ILogService;\r\n    private _q: ng.IQService;\r\n    private _state: ng.ui.IStateService;\r\n\r\n    public tabs: any;\r\n    public selected: any;\r\n    public onDropdownSelect: any;\r\n\r\n    constructor(\r\n        $log: ng.ILogService,\r\n        $q: ng.IQService,\r\n        $state: ng.ui.IStateService,\r\n        pipNavService,//: pip.nav.INavService,\r\n        pipHelp: IHelpService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService\r\n    ) {\r\n        this._log = $log;\r\n        this._q = $q;\r\n        this._state = $state;\r\n\r\n        this.tabs = _.filter(pipHelp.getTabs(), function (tab: any) {\r\n              return tab;\r\n                /*if (tab.visible === true && (tab.access ? tab.access($rootScope.$user, tab) : true)) {\r\n                    return tab;\r\n                }*/\r\n            });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = {};\r\n        if (this._state.current.name !== 'help') {\r\n            this.initSelect(this._state.current.name);\r\n        } else if (this._state.current.name === 'help' && pipHelp.getDefaultTab()) {\r\n            this.initSelect(pipHelp.getDefaultTab().state);\r\n        } else {\r\n            $timeout(function () {\r\n                if (pipHelp.getDefaultTab()) {\r\n                    this.initSelect(pipHelp.getDefaultTab().state);\r\n                }\r\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Help\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string) {\r\n        this.selected.tab = _.find(this.tabs, function (tab: any) {\r\n                    return tab.state === state;\r\n                });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n    }\r\n\r\n    public onNavigationSelect(state: string) {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this._state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\nangular.module('pipHelp.Page', [\r\n    'ui.router', \r\n    'pipHelp.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipHelp.Templates'\r\n    ])\r\n    .controller('pipHelpPageController', HelpPageController);\r\n})();\r\n\r\nimport './HelpPageRoutes';","'use strict';\r\n\r\nfunction configureHelpPageRoutes($stateProvider) {\r\n    $stateProvider\r\n        .state('help', {\r\n            url: '/help?party_id',\r\n            auth: true,\r\n            controllerAs: 'vm',\r\n            controller: 'pipHelpPageController',\r\n            templateUrl: 'help_page/HelpPage.html'\r\n        });\r\n       \r\n}\r\n\r\nangular.module('pipHelp.Page')\r\n    .config(configureHelpPageRoutes);\r\n","'use strict';\r\n\r\nexport class HelpTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: string;\r\n    public access: boolean;\r\n    public visible: boolean;\r\n    public stateConfig: any;\r\n}\r\n\r\nexport interface IHelpService {\r\n    getDefaultTab();\r\n    showTitleText (newTitleText);\r\n    showTitleLogo(newTitleLogo);\r\n    setDefaultTab(name: string);\r\n    showNavIcon(value);\r\n    getTabs();\r\n}\r\n\r\nexport interface IHelpProvider extends ng.IServiceProvider {\r\n    getDefaultTab(): HelpTab;\r\n    addTab(tabObj: any);\r\n    setDefaultTab(name: string): void;\r\n    getFullStateName(state: string): string;\r\n}\r\n\r\nexport class HelpConfig {\r\n\r\n    public defaultTab: string;\r\n    public tabs: HelpTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n\r\n}\r\n\r\nclass HelpService implements IHelpService {\r\n    private _config: HelpConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor($rootScope: ng.IRootScopeService, \r\n                       config: HelpConfig) {\r\n        \"ngInject\";\r\n        this._rootScope = $rootScope;\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, function (tab) {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab() {\r\n        var defaultTab;\r\n        defaultTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string) {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean) {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n    public getTabs() {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass HelpProvider implements IHelpProvider {\r\n    private _service: HelpService;\r\n    private _config: HelpConfig = new HelpConfig();\r\n    private _stateProvider: ng.ui.IStateProvider;\r\n\r\n    constructor($stateProvider: ng.ui.IStateProvider) {\r\n        this._stateProvider = $stateProvider;\r\n    }\r\n\r\n    public getFullStateName(state): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        var defaultTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: any) {\r\n        var existingTab: HelpTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === 'help.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this._stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, function (tab) {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this._stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('help', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: HelpTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value) {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get($rootScope, $state) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new HelpService($rootScope, this._config);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipHelp.Service', [])\r\n    .provider('pipHelp', HelpProvider);\r\n\r\n","/**\r\n * @file Registration of all help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\nimport './help_service/HelpService';\r\nimport './help_page/HelpPageController';\r\n\r\nangular.module('pipHelp', [\r\n    'pipHelp.Service',\r\n    'pipHelp.Page'\r\n]);\r\n\r\nexport * from './help_service/HelpService';\r\nexport * from './help_page/HelpPageController';","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-help\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body p0 layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}