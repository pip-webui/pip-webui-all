{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/buttons.ts","src/dependencies/translate.ts","src/fabs/fab_tooltip_visibility.ts","src/refresh_button/refresh_button.ts","src/toggle_buttons/toggle_buttons.ts","temp/pip-webui-buttons-html.js","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/split.ts","src/behaviors.ts","src/draggable/draggable.ts","src/focused/focused.ts","src/infinite_scroll/infinite_scroll.ts","src/selected/selected.ts","src/unsaved_changes/unsaved_changes.ts","src/color_picker/color_picker.ts","src/controls.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.js","src/lists.ts","src/tag_list/tag_list.ts","temp/pip-webui-lists-html.js","src/date/date.ts","src/date/date_filter.ts","src/date/date_service.ts","src/date_directive/date.ts","src/date_range_directive/date_range.ts","src/dates.ts","src/dependencies/translate.js","src/time_range_directive/time_range.ts","src/time_range_edit_directive/time_range_edit.ts","temp/pip-webui-dates-html.js","src/confirmation/confirmation.ts","src/dialogs.ts","src/error_details/error_details.ts","src/information/information.ts","src/options/options.ts","src/options/options_big.ts","temp/pip-webui-dialogs-html.js","src/NavService.ts","src/actions/actions_service.ts","src/actions/primary_actions.ts","src/actions/secondary_actions.ts","src/appbar/appbar.ts","src/appbar/appbar_part.ts","src/appbar/appbar_service.ts","src/breadcrumb/BreadcrumbController.ts","src/breadcrumb/BreadcrumbDirective.ts","src/breadcrumb/BreadcrumbModule.ts","src/breadcrumb/BreadcrumbProvider.ts","src/breadcrumb/BreadcrumbService.ts","src/dependencies/TranslateFilter.ts","src/dropdown/dropdown.ts","src/language_picker/language_picker.ts","src/nav_header/nav_header.ts","src/nav_icon/nav_icon.ts","src/nav_icon/nav_icon_service.ts","src/nav_menu/nav_menu.ts","src/nav_services/nav_header_service.ts","src/nav_services/nav_menu_service.ts","src/nav_services/sidenav_part.ts","src/nav_services/sidenav_service.ts","src/search/SearchBarController.ts","src/search/SearchBarDirective.ts","src/search/SearchModule.ts","src/search/SearchProvider.ts","src/search/SearchService.ts","src/sidenav/sidenav.ts","src/sticky_nav_header/sticky_nav_header.ts","src/sticky_nav_menu/sticky_nav_menu.ts","src/sticky_sidenav/sticky_sidenav.ts","src/tabs/tabs.ts","temp/pip-webui-nav-html.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/common/errors_strings.ts","src/errors.ts","src/errors_pages/errors_pages.ts","src/forms/clear_errors.ts","src/forms/form_errors.ts","src/maintenance/maintenance.ts","src/missing_route/missing_route.ts","src/no_connection/no_connection.ts","src/no_connection_panel/no_connection_panel.ts","src/unknown/unknown.ts","src/unsupported/unsupported.ts","temp/pip-webui-errors-html.js","src/bar/bar_chart.ts","src/charts.ts","src/legend/interactive_legend.ts","src/line/line_chart.ts","src/pie/pie_chart.ts","temp/pip-webui-charts-html.js","src/settings.ts","src/settings_page/settings_page.ts","src/settings_service/settings_service.ts","src/user_settings/user_settings.ts","src/user_settings/user_settings_basic_info.ts","src/user_settings/user_settings_change_password.ts","src/user_settings/user_settings_sessions.ts","src/user_settings/user_settings_strings.ts","src/user_settings/user_settings_verify_email.ts","temp/pip-webui-settings-html.js","src/help.ts","src/help_page/help_page.ts","src/help_service/help_service.ts","temp/pip-webui-help-html.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","config","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","decorateRedirectStateService","4","hookRoutingEvents","$log","$state","RoutingVar","error","unfoundState","to","5","m","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","value","$emit","debug","id","full_name","enumerable","configurable","IdentityProvider","_service","get","set","$get","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","defineProperty","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","provider","8","p","hasOwnProperty","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","end","decode","10","TransactionError","details","cause","stack_trace","data","statusText","status","TransactionService","_transactions","create","transaction","Transaction_1","12","configureTransactionStrings","$injector","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","pipTranslate","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","html","directive","translateDirective","translateHtmlDirective","translateFilter","filter","language","__extends","d","b","__","constructor","Object","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","_persist","_translation","_window","localStorage","getItem","save","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","TranslateProvider","_super","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","18","./TranslateFilter","./TranslateService","19","Codes","hash","result","charCodeAt","verification","random","substr","service","20","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","format","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","args","_i","arguments","parseFormat","21","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","_this","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","modDiff","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","firefox","opera","chrome","browserVersion","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","searchFields","field","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","thisModule","$parse","controller","$scope","$attrs","trigGetter","pipFabTooltipVisibility","showGetter","pipFabShowTooltip","showSetter","assign","$watch","isOpen","template","$element","hide","$button","width","show","textGetter","pipText","visibleGetter","pipVisible","refreshGetter","pipRefresh","children","$text","css","onClick","newValue","ngDisabled","currentButtonValue","currentButton","change","templateUrl","$mdMedia","index","class","isArray","currentButtonIndex","buttonSelected","disabled","enterSpacePress","elem","on","addClass","removeClass","$templateCache","put","layouts","MediaService_1","cardDirective","CardDirectiveLink","_element","_attrs","listener","resize","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","xs","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","../media/MediaService","dialogDirective","documentDirective","ResizeFunctions_1","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","MainBreakpoints","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","7","tilesDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesDirectiveLink","_columnWidth","columnWidth","_container","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","log","columns","layout","LayoutResizedEvent","MediaBreakpoints","sm","md","lg","MediaBreakpointStatuses","breakpoints","MediaProvider","size","callback","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","frame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resizeListener","win","target","srcElement","__resizeRAF__","cancelFrame","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","type","isIE","appendChild","detachEvent","removeEventListener","removeChild","pipSplit","splitElements","forwardTransition","addTransitionSequence","sequence","transitionSequences","toIndex","fromIndex","behaviors","inputEvent","isDefined","touches","originalEvent","$document","pipDraggable","initialize","attr","dragHandles","querySelectorAll","_dragHandle","toggleListeners","scrollContainer","scrollParent","pipScrollContainer","scrollContainerGetter","toBoolean","enable","onDestroy","pipDrag","onEnableChange","pipCenterAnchor","onCenterAnchor","_pressEvents","onpress","_hasTouch","nodeName","newVal","oldVal","_dragEnabled","_centerAnchor","isClickableElement","evt","button","saveElementStyles","cancelPress","_pressTimer","onlongpress","LONG_PRESS","_moveEvents","_releaseEvents","_elementStyle","off","offset","getBoundingClientRect","_dragOffset","allowTransform","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","_deregisterRootMoveListener","origEvent","_data","getDragData","$broadcast","x","y","tx","ty","onDragStartCallback","$data","$event","horizontalScroll","verticalScroll","dragToScroll","moveElement","uid","_myid","dragOffset","onDragComplete","onDragStopCallback","onDragSuccessCallback","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","activationDistance","scrollDistance","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","ngDrag","DocumentTouch","$id","pipDragStart","pipDragStop","pipDragSuccess","$eval","pipDragData","pipVerticalScroll","pipHorizontalScroll","pipActivationDistance","pipScrollDistance","noop","pipDrop","onDragStart","onDragMove","onDragEnd","_dropEnabled","isTouching","pipDragMove","onDragMoveCallback","pipDropSuccess","onDropCallback","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","absorbEvent_","stopPropagation","cancelBubble","returnValue","$mdConstant","init","selector","withHidden","controls","controlsLength","keydownListener","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipWithHidden","ngModel","THROTTLE_MILLISECONDS","pipInfiniteScroll","pipScrollDisabled","pipScrollUseDocumentBottom","pipScrollListenForEvent","isNaN","clientHeight","offsetTop","ownerDocument","handleScrollDistance","v","handleScrollDisabled","scrollEnabled","checkWhenEnabled","onContainerScroll","handleScrollUseDocumentBottom","useDocumentBottom","changeContainer","newContainer","unbind","bind","handleScrollContainer","HTMLElement","append","parents","Array","immediateCheck","unregisterEventListener","windowElement","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","throttle","pipScrollParent","pipScrolImmediateCheck","selectItem","itemParams","console","isScrolled","itemIndex","itemId","className","modifier","itemsLength","raiseEvent","noScroll","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedIndex","selectedId","indexSetter","idSetter","changeGetter","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","indexGetter","pipSelected","idGetter","pipSelectedId","pipSelect","enterSpaceGetter","pipEnterSpacePress","pipNoScroll","pipSkipHidden","pipTreeList","currentElementTabinex","pipSelectedWatch","newSelectedId","newSelectedIndex","currentTarget","ENTER","SPACE","inc","unsavedChangesAvailable","unsavedChangesMessage","afterLeave","onbeforeunload","$routing","unbindFunc","confirm","isFunction","colors","currentColor","colorChange","DEFAULT_COLORS","currentColorIndex","selectColor","sliderIndex","$pipImageSlider","setIndex","pipImageIndex","startInterval","timePromises","blocks","direction","throttled","DEFAULT_INTERVAL","stopInterval","restartInterval","pipAnimationType","pipAnimationInterval","swipeStart","toBlock","nextBlock","prevBlock","slideTo","nextIndex","registerSlider","removeSlider","register","sliderId","sliderScope","sliders","remove","getSlider","nextCarousel","prevCarousel","blockIndex","getSliderScope","pipButtonType","pipSliderId","pipSlideTo","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","describeAttachments","array","attachString","attachTypes","attach","bindText","textString","isClamped","options","pipLineCount","isNumber","clampGetter","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","listGetter","pipList","pipRebind","$compile","backdropElement","closePopover","backdropClick","cancelCallback","onPopoverClick","$e","pos","docWidth","docHeight","popover","calcHeight","title","footer","content","contentHeight","onResize","responsive","defaults","$parent","onShow","onHide","$new","isObject","locals","popoverTemplate","showProgress","logoUrl","loadProgressImage","image","$mdToast","toast","pipErrorDetailsDialog","actions","actionLenght","showDetails","onDetails","ok","onAction","action","showNextToast","toasts","showToast","currentToast","hideDelay","duration","SHOW_TIMEOUT","sounds","then","successCallback","addToast","removeToasts","removeToastsById","getToastById","onStateChangeSuccess","reject","onClearToasts","clearToasts","showNotification","SHOW_TIMEOUT_NOTIFICATIONS","showMessage","showError","hideAllToasts","lists","pipTags","pipType","pipTypeLocal","tagsGetter","dates","formatTimeFilter","pipDateTime","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatDateNumberFilter","formatDateNumber","formatLongDateNumberFilter","formatLongDateNumber","formatTimeNumberFilter","formatTimeNumber","formatLongTimeNumberFilter","formatLongTimeNumber","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","getDateJSON","DateTime","_momentRanged","_defaultFormat","isUndefinedOrNull","getRange","getOperationRange","range","formatDateTime","basicFormat","date","formatTpl","moment","isValid","formatDateTimeY","nowDate","formatMoment","localeData","longDateFormat","year","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","month","startOf","toDate","toEndRange","mssOffset","add","fromNow","JSON","stringify","getNextStart","category","getPrevStart","getNowStart","addHours","hours","toStartDay","toStartRange","toEndDay","toStartWeek","toEndWeek","toStartMonth","toEndMonth","toStartYear","toEndYear","DateTimeService","datetime","_datetime","DateTimeProvider","timeMode","model","ngChange","dayList","days","count","monthList","months","momentMonths","yearList","currentYear","getFullYear","startYear","endYear","years","adjustDay","day","getValue","isDate","getDate","getMonth","setValue","localeDate","_months","_weekdays","_weekdaysMin","_week","dow","DAY","MONTH","YEAR","yearLabel","dayLabel","monthLabel","onDayChanged","onMonthChanged","disableControls","pipChanged","pipDateRangeType","pipDateFormat","pipNoLine","setCurrent","currentState","week","dateRangeType","fillLists","weeks","weekList","shortMonths","correctWeek","prevState","getUTCDate","getUTCMonth","getUTCFullYear","getWeekByDate","adjustWeek","getCountDay","nameDays","momentShortDays","weekday","dayOfWeek","startWeek","UTC","getUTCDay","getWeek","countDay","countPrevMonthDay","endDay","startDay","getTimezoneOffset","onChange","currentDate","currentMonth","currentDay","onYearChanged","onWeekChange","isDay","oldValue","onYearClick","onDayClick","pipStartDate","pipEndDate","defineStartDate","defineEndDate","pipStartLabel","pipEndLabel","pipSize","setDuration","startDate","endDate","startTime","endTime","validateEndDate","setDate","validateStartDate","getTimeInterval","j","minutes","initDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","endLabel","startLabel","intervalTimeCollection","defineDate","onChangeStartDate","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","$watchGroup","dialogs","factory","$mdDialog","targetEvent","clickOutsideToClose","CONFIRM_TITLE","theme","$theme","onCancel","onOk","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","errorDetails","dismissButton","errorMessage","errorCode","errorMethod","errorPath","errorText","INFORMATION_TITLE","pipFormat","truncate","focusToggleControl","option","focusInput","list","OPTIONS_TITLE","applyButtonTitle","appleButtonTitle","selectedOption","active","selectedOptionName","deleted","deletedTitle","onOptionSelect","onKeyPress","onSelect","noActions","noTitle","hint","optionIndex","findIndex","onSelected","onKeyUp","nav","NavService","appBar","navIcon","breadcrumb","sideNav","navHeader","navMenu","2","globalActions","primaryActions","secondaryActions","primaryGlobalActions","secondaryGlobalActions","globalPrimaryActions","globalSecondaryActions","primaryLocalActions","secondaryLocalActions","getConfig","hideLocalActions","sendConfigEvent","showLocalActions","updateActionCount","actionName","localActions","$location","pipActions","onActionsChanged","actionHidden","access","actionCount","onActionClick","$mdOpenMenu","divider","originatorEv","menu","href","stateParams","showMenu","partyAvatarUrl","openMenu","ev","calcActions","secondaryActionsVisible","secondaryDividerVisible","transclude","pipAppBar","onAppBarChanged","ngIfDirective","ngIf","priority","terminal","visible","apply","parts","currentPartValue","partName","partValue","pipAppbarPart","initParts","cssClass","ngClasses","showAppBar","newCssClass","hideAppBar","showShadowSm","showShadowSmXs","showShadow","hideShadow","getOrSetPart","getOrSetParts","isEqual","part","BreadcrumbService_1","BreadcrumbService_2","SearchService_1","BreadcrumbController","pipBreadcrumb","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbBackEvent","onBreadcrumbBack","backCallback","click","openSearch","OpenSearchEvent","../search/SearchService","./BreadcrumbService","breadcrumbDirective","BreadcrumbController_1","./BreadcrumbController","BreadcrumbProvider_1","BreadcrumbDirective_1","./BreadcrumbDirective","./BreadcrumbProvider","11","BreadcrumbProvider","_config","criteria","BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","sendEvent","showDropdown","activeIndex","select","pipTheme","currentTheme","15","NavService_1","16","languages","LanguagePickerController","_translate","setLanguages","lang","onLanguageClick","languagePickerDirective","subtitle","imageUrl","imageCss","pipNavHeader","setImageMarginCSS","container","cssParams","clientWidth","imageWidth","naturalWidth","imageHeight","naturalHeight","margin","onIdentityChanged","defaultImageUrl","$image","imageBlock","onUserClick","load","pipNavIcon","onNavIconChanged","onNavIconClick","clear","setMenu","callbackOrEvent","setIcon","iconName","setBack","setImage","showIcon","showBack","showImage","icon","pipSideNav","pipNavMenu","itemVisible","linkCollection","onConfigChanged","onLinkClick","current","isSectionEmpty","22","setOrGetIcon","sectionIcon","setOrGetCollapsed","collapsed","newConfig","sections","$mdSidenav","setConfig","setCounter","linkTitle","counter","menuItem","links","section","23","onSideNavChanged","pipSidenavPart","24","sideNavId","sideNavState","getOrSetId","getOrSetState","toggle","25","SearchBarController","pipSearch","enabled","SearchChangedEvent","onSearchChanged","focusText","SearchService_2","SearchActivatedEvent","onKeyDown","26","searchBarDirective","27","SearchProvider_1","SearchProvider","SearchBarDirective_1","./SearchProvider","28","SearchConfig","SearchService","./SearchService","29","CloseSearchEvent","onStateChanged1","showHeader","onExpand","isCollapsed","expanded","pipSdeNavElement","onStateChanged","expand","isExpanded","expandedButton","isActive","includes","defaultIicon","setBreakpoints","pipMedia","onSideNavState","navState","setState","setSideNaveState","isResizing","mainWidth","mainContainer","mediaBreakpoints","smallWidth","bigWidth","sidenavState","isLockedOpen","showIconTooltype","windowResize","debounce","tabs","showTabs","showTabsShadow","activeTab","35","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","ThemeRootVar","ThemeChangedEvent","ThemeConfig","ThemeService","$mdTheming","_currentTheme","_theming","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ERROR_ROUTE_TITLE","ERROR_ROUTE_SUBTITLE","ERROR_ROUTE_CONTINUE","ERROR_ROUTE_TRY_AGAIN","ERROR_ROUTE_GO_BACK","ERROR_ROUTE_PAGE_TITLE","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","ERROR_AVAILABLE_TITLE","ERROR_AVAILABLE_SUBTITLE","ERROR_AVAILABLE_CLOSE","ERROR_AVAILABLE_TRY_AGAIN","ERROR_RESPONDING_TITLE","ERROR_RESPONDING_SUBTITLE","ERROR_RESPONDING_RETRY","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","$stateProvider","$ctrls","clearFieldErrors","fieldController","$error","prop","$setValidity","clearFormErrors","formController","$serverError","errorsWithHint","isEmpty","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","errorName","goToUnhandledErrorPage","appHeader","showMenuNavIcon","showTitleBreadcrumb","onClose","timeoutInterval","onContinue","absolute","urlBack","onRetry","retry","parseError","error_details","description","server_stacktrace","client_stacktrace","charts","pipBarChart","series","bindToController","$mdColorPalette","configBarWidthAndLabel","labels","d3","selectAll","chartBars","parentHeight","getBBox","classed","barSize","Number","transition","materialColorToRgba","color","generateParameterColor","vm","legend","chart","chartElem","palette","scale","paletteColors","ordinal","updatedSeries","datum","nv","addGraph","models","discreteBarChart","label","showValues","showXAxis","showYAxis","valueFormat","tooltip","noData","dispatch","pipChartLegend","interactive","colorCheckboxes","checkboxContainers","legendTitles","prepareSeries","hex","pipLineChart","dynamic","updateScroll","domains","boundary","bDiff","domDiff","addZoom","svg","setData","newChart","yAxis","xAxis","xDomain","domain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","prevXDomain","prevScale","d3zoom","prevTranslate","nice","fixDomain","clone","updateChart","zoomed","unzoomed","step","coordinates","point","keypress","setZoom","scaleExtent","behavior","zoom","center0","translate0","coordinates0","center1","getXMinMax","maxVal","minVal","tempMinVal","tempMaxVal","updateZoomOptions","sourceEvents","isVisibleX","isVisibleY","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","tickFormat","utils","pipPieChart","donut","total","renderTotalLabel","svgElem","totalVal","reduce","sum","curr","titleElem","resizeTitleLabelUnwrap","boxSize","resizeTitleLabel","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","settings","auth","pipSettings","onDropdownSelect","onNavigationSelect","initSelect","selected","tab","tabIndex","tabId","getTabs","$user","sortBy","getDefaultTab","getFullStateName","defaultTab","addTab","tabObj","existingTab","validateTab","stateConfig","setDefaultTab","showTitleText","newTitleText","titleText","titleLogo","showTitleLogo","newTitleLogo","showNavIcon","isNavIcon","pipSettingsProvider","pipTransaction","pipToasts","pipDataUser","pipDataParty","pipFormErrors","onPictureChanged","picture","onPictureCreated","sender","saveChanges","$party","$invalid","loc_pos","party","toJson","originalParty","tid","updateParty","nameCopy","status_code","fromJson","updateUser","setCurrentTheme","onChangePassword","email","answer","onVerifyEmail","user","email_ver","genders","omit","onExit","onChangeUser","onChangeBasicInfo","onCheckRepeatPassword","changePasData","repeat","new_password","showRepeatHint","onApply","changePassword","1107","1105","errorsRepeatWithHint","formPart","pipDataSessionProvider","resolve","sessions","readSessionsResolver","sessionId","readSessionIdResolver","pipDataSession","onRemoveAll","async","eachSeries","removeSession","without","onRemove","pipTranslateProvider","SETTINGS_TITLE","SETTINGS_BASIC_INFO_TITLE","SETTINGS_ACTIVE_SESSIONS_TITLE","SETTINGS_BASIC_INFO_FULL_NAME","SETTINGS_BASIC_INFO_VERIFY_HINT","SETTINGS_BASIC_INFO_VERIFY_CODE","SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_NAME_HINT","SETTINGS_BASIC_INFO_WORDS_ABOUT_ME","SETTINGS_BASIC_INFO_GENDER","SETTINGS_BASIC_INFO_BIRTHDAY","SETTINGS_BASIC_INFO_LOCATION","SETTINGS_BASIC_INFO_PRIMARY_EMAIL","SETTINGS_BASIC_INFO_FROM","SETTINGS_BASIC_INFO_USER_ID","SETTINGS_CHANGE_PASSWORD_TITLE","SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD","SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD","SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD","SETTINGS_ACTIVE_SESSIONS_SUBTITLE","SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION","SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS","SETTINGS_ACTIVE_SESSION_OS","SETTINGS_ACTIVE_SESSION_IP","SETTINGS_ACTIVE_SESSION_ACTIVE","SETTINGS_BLACKLIST_TITLE","SETTINGS_BLACKLIST_SUBTITLE","SETTINGS_BLACKLIST_UNBLOCK","SETTINGS_BLACKLIST_EMPTY","SETTINGS_CONTACT_INFO_TITLE","SETTINGS_CONTACT_INFO_EMAIL","SETTINGS_CONTACT_INFO_ADD_EMAIL","SETTINGS_CONTACT_INFO_ADD_PHONE","SETTINGS_CONTACT_INFO_ADD_ADDRESS","SETTINGS_CONTACT_INFO_ADD_ACCOUNT","SETTINGS_CONTACT_INFO_ADD_URL","SETTINGS_CONTACT_INFO_ADDRESS","SETTINGS_CONTACT_INFO_PHONE","SETTINGS_CONTACT_INFO_ACCOUNT_NAME","SETTINGS_CONTACT_INFO_URL","THEME","HINT_PASSWORD","HINT_REPEAT_PASSWORD","ERROR_WRONG_PASSWORD","ERROR_IDENTICAL_PASSWORDS","REPEAT_PASSWORD_INVALID","ERROR_EMAIL_INVALID","onAbort","onRequestVerificationClick","requestEmailVerification","onVerify","verifyEmail","verifyData","1106","1103","emailVerified","help","HelpPageController","pipHelp"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\nimport './common';\r\nimport './default';\r\nimport './bootbarn';\r\n\r\nexport * from './common';","'use strict';\r\n\r\nexport let CurrentState: any;\r\nexport let PreviousState: any;\r\n\r\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        }\r\n    );\r\n\r\n}\r\n\r\nfunction decorateBackStateService($delegate, $window: ng.IWindowService) {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        if (PreviousState != null \r\n            && PreviousState.name != null) {\r\n\r\n            let state = _.cloneDeep(PreviousState);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n    ","'use strict';\r\n\r\nlet RedirectedStates: any = {};\r\n\r\nfunction decorateRedirectStateProvider($delegate) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n\r\n    return $delegate;\r\n    /////////////////////////////////////////////\r\n\r\n    // Specify automatic redirect from one state to another\r\n    function redirect(fromState, toState) {\r\n        RedirectedStates[fromState] = toState;  \r\n        return this;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateProviderDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateProvider);\r\n}\r\n\r\nfunction decorateRedirectStateService($delegate, $timeout) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n    \r\n    return $delegate;\r\n    ////////////////////////////////\r\n    \r\n    // Todo: Move this code directly to event handler?\r\n    // Todo: Nothing calls this code!!\r\n    function redirect(event, state, params) {\r\n        let toState = RedirectedStates[state.name];\r\n        if (_.isFunction(toState)) {\r\n            toState = toState(state.name, params);\r\n\r\n            if (_.isNull(toState))\r\n                throw new Error('Redirected toState cannot be null');\r\n        }\r\n\r\n        if (!!toState) {\r\n            $timeout(() => {\r\n                event.preventDefault();\r\n                $delegate.transitionTo(toState, params, {location: 'replace'});\r\n            });\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addRedirectStateProviderDecorator)\r\n    .config(addRedirectStateDecorator);\r\n    ","'use strict';\r\n\r\nexport let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents(\r\n    $rootScope: ng.IRootScopeService,\r\n    $log: ng.ILogService,\r\n    $state: ng.ui.IStateService\r\n) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateNotFound',\r\n        function(event, unfoundState, fromState, fromParams) {\r\n            event.preventDefault();\r\n\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            // Todo: Move to errors\r\n            $state.go('errors_missing_route',  {\r\n                    unfoundState: unfoundState,\r\n                    fromState : {\r\n                        to: fromState ? fromState.name : '',\r\n                        fromParams: fromParams\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .run(hookRoutingEvents);\r\n    ","'use strict';\r\n\r\nangular.module('pipRouting', ['ui.router']);\r\n\r\nimport './BackDecorator';\r\nimport './RedirectDecorator';\r\nimport './RoutingEvents';\r\n\r\nexport * from './BackDecorator';\r\nexport * from './RoutingEvents';\r\n","'use strict';\r\n\r\nexport let IdentityRootVar = \"$identity\";\r\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nexport interface IIdentity {\r\n    id: string;\r\n    full_name: string;\r\n    details: string;\r\n    email: string;\r\n    photo_url: string;\r\n}\r\n\r\nexport interface IIdentityService {\r\n    identity: IIdentity;\r\n}\r\n\r\nexport interface IIdentityProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    identity: IIdentity;\r\n}\r\n\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: IIdentity;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: IIdentity,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): IIdentity {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: IIdentity) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\r\n\r\n        let identity: IIdentity = value || <IIdentity>{};\r\n        this._log.debug(\"Changed identity to \" + identity.id + \" \" + identity.full_name);\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: IIdentity = null;\r\n    private _service: IdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipIdentity', IdentityProvider);\r\n","'use strict';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nexport interface ISessionService {\r\n    session: any;\r\n    isOpened(): boolean;\r\n\r\n    open(session: any): void;\r\n    close(): void;\r\n}\r\n\r\nexport interface ISessionProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    session: any;\r\n}\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean, \r\n        session: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n    \r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionOpenedEvent, session);\r\n\r\n        this._log.debug(\"Opened session \" + session);\r\n    }\r\n\r\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\r\n\r\n        this._log.debug(\"Closed session \" + oldSession);\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: SessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;  \r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipSession', SessionProvider); \r\n","'use strict';\r\n\r\nangular.module('pipSession', []);\r\n\r\nimport './IdentityService';\r\nimport './SessionService';\r\n\r\nexport * from './IdentityService';\r\nexport * from './SessionService';\r\n","'use strict';\r\n\r\nimport { TransactionError } from './TransactionError'\r\n\r\nexport class Transaction {\r\n    private _scope: string = null;\r\n    private _id: string = null;\r\n    private _operation: string = null;\r\n    private _error: TransactionError = new TransactionError();\r\n    private _progress: number = 0;\r\n\r\n    public constructor(scope: string) {\r\n        this._scope = scope;\r\n    }\r\n\r\n    public get scope(): string {\r\n        return this._scope;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get operation(): string {\r\n        return this._operation;\r\n    }\r\n\r\n    public get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    public get error(): TransactionError {\r\n        return this._error;\r\n    }\r\n\r\n    public get errorMessage(): string {\r\n        return this._error.message;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._id = null;\r\n        this._operation = null;\r\n        this._progress = 0;\r\n        this._error.reset();\r\n    }\r\n\r\n    public busy(): boolean {\r\n        return this._id != null;\r\n    }\r\n\r\n    public failed(): boolean {\r\n        return !this._error.empty();\r\n    }\r\n\r\n    public aborted(id: string): boolean {\r\n        return this._id != id;\r\n    }\r\n\r\n    public begin(operation: string): string {\r\n        // Transaction is already running\r\n        if (this._id != null) return null;\r\n\r\n        this._id = new Date().getTime().toString();\r\n        this._operation = operation || 'PROCESSING'\r\n        this._error.reset();\r\n\r\n        return this._id;\r\n    }\r\n\r\n    public update(progress: number): void {\r\n        this._progress = Math.max(progress, 100);\r\n    }\r\n\r\n    public abort(): void {\r\n        this._id = null;\r\n        this._error.reset();\r\n    }\r\n\r\n    public end(error?: any): void {\r\n        this._error.decode(error);\r\n        this._id = null;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nexport class TransactionError {\r\n    public code: string;\r\n    public message: string;\r\n    public details: any;\r\n    public cause: string;\r\n    public stack_trace: string;\r\n\r\n    public constructor(error?: any) {\r\n        if (error != null)\r\n            this.decode(error);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.code = null;\r\n        this.message = null;\r\n        this.details = null;\r\n        this.cause = null;\r\n        this.stack_trace = null;\r\n    }\r\n\r\n    public empty(): boolean {\r\n        return this.message = null && this.code == null;\r\n    }\r\n\r\n    public decode(error: any): void {\r\n        this.reset();\r\n\r\n        if (error == null) return;\r\n\r\n        // Process regular messages\r\n        if (error.message) \r\n            this.message = error.message;\r\n\r\n        // Process server application errors\r\n        if (error.data) {\r\n            if (error.data.code) { \r\n                // process server error codes here\r\n                this.message = this.message || 'ERROR_' + error.data.code;\r\n                this.code = this.code || error.data.code;\r\n            }\r\n\r\n            if (error.data.message)\r\n                this.message = this.message || error.data.message;\r\n\r\n            this.message = this.message || error.data;\r\n            this.details = this.details || error.data;\r\n\r\n            this.cause = error.data.cause;\r\n            this.stack_trace = error.data.stack_trace;\r\n            this.details = error.data.details;            \r\n        }\r\n\r\n        // Process standard HTTP errors\r\n        if (error.statusText)\r\n            this.message = this.message || error.statusText;\r\n\r\n        if (error.status) {\r\n            this.message = this.message || 'ERROR_' + error.status;\r\n            this.code = this.code || error.status;\r\n        }\r\n        \r\n        this.message = this.message || error;\r\n        this.details = this.details || error;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport { Transaction } from './Transaction';\r\n\r\nexport interface ITransactionService {\r\n    create(scope?: string): Transaction;\r\n    get(scope?: string): Transaction;\r\n}\r\n\r\nclass TransactionService implements TransactionService {\r\n    private _transactions: any = {};\r\n\r\n    public constructor() {}\r\n\r\n    public create(scope?: string): Transaction {\r\n        let transaction = new Transaction(scope);\r\n        \r\n        if (scope != null)\r\n            this._transactions[scope] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    public get(scope?: string): Transaction {\r\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\r\n\r\n        if (transaction == null) {\r\n            transaction = new Transaction(scope);\r\n            if (scope != null)\r\n                this._transactions[scope] = transaction;\r\n        }\r\n\r\n        return transaction;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .service('pipTransaction', TransactionService);\r\n","'use strict';\r\n\r\nfunction configureTransactionStrings($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': '  ...',\r\n            'PROCESSING': '...',\r\n            'LOADING': '...',\r\n            'SAVING': '...'\r\n        });   \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .config(configureTransactionStrings);\r\n","'use strict';\r\n\r\nangular.module('pipTransaction', []);\r\n\r\nimport './TransactionStrings';\r\nimport './TransactionError';\r\nimport './Transaction';\r\nimport './TransactionService';\r\n\r\nexport * from './TransactionError';\r\nexport * from './Transaction';\r\nexport * from './TransactionService';\r\n","'use strict';\r\n\r\nfunction translateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction translateHtmlDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .directive('pipTranslate', translateDirective)\r\n    .directive('pipTranslateHtml', translateHtmlDirective);\r\n","'use strict';\r\n\r\nfunction translateFilter(pipTranslate) {\r\n    \"ngInject\";\r\n\r\n    return function (key) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslate') \r\n        ? $injector.get('pipTranslate') : null;\r\n\r\n    return function (key) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .filter('translate', translateFilter);\r\n","'use strict';\r\n\r\nimport { Translation } from './Translation';\r\nimport { ResetPageEvent } from '../utilities/PageResetService';\r\n\r\nexport let LanguageRootVar = \"$language\";\r\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nexport interface ITranslateService {\r\n    language: string;\r\n\r\n    use(language: string): string;\r\n    setTranslations(language: string, translations: any): void;\r\n    translations(language: string, translations: any): void;\r\n\r\n    translate(key: string): string;\r\n    translateArray(keys: string[]): string[];\r\n    translateSet(keys: string[], keyProp: string, valueProp: string): any[];\r\n    translateObjects(items: any[], keyProp: string, valueProp: string): any[];\r\n    translateWithPrefix(prefix: string, key: string);\r\n    translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n    translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n}\r\n\r\nexport interface ITranslateProvider extends ITranslateService, ng.IServiceProvider {\r\n}\r\n\r\nclass TranslateService implements ITranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n\r\n        if (this._persist && this._window.localStorage)\r\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\r\n\r\n        this._log.debug(\"Set language to \" + this._translation.language);\r\n\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this._log.debug(\"Changing language to \" + value);\r\n\r\n            this.save();                \r\n\r\n            this._rootScope.$emit(LanguageChangedEvent, value);\r\n            this._rootScope.$emit(ResetPageEvent);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTranslate(pipTranslate: ITranslateService) {\r\n    pipTranslate.language;\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .provider('pipTranslate', TranslateProvider)\r\n    .run(initTranslate);\r\n","'use strict';\r\n\r\nexport class Translation {\r\n    protected _language = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': '',\r\n            'ru': '',\r\n            'es': '',\r\n            'pt': '',\r\n            'de': '',\r\n            'fr': ''\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Yet another method to set translation strings for specific language\r\n    public translations(language: string, translations: any): void {\r\n        this.setTranslations(language, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nangular.module('pipTranslate', []);\r\n\r\nimport './Translation';\r\nimport './TranslateService';\r\nimport './TranslateFilter';\r\nimport './TranslateDirective';\r\n\r\nexport * from './Translation';\r\nexport * from './TranslateService';\r\n","'use strict';\r\n\r\nexport interface ICodes {\r\n    // Simple version of string hashcode\r\n    hash(value: string): number;\r\n    // Generates random big number for verification codes\r\n    verification(): string;\r\n}\r\n\r\n\r\nclass Codes implements ICodes {\r\n    // Simple version of string hashcode\r\n    public hash(value: string): number {\r\n        if (value == null) return 0;\r\n        \r\n        let result = 0;\r\n        for (let i = 0; i < value.length; i++)\r\n            result += value.charCodeAt(i);\r\n\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    public verification(): string {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipCodes', [])\r\n    .service('pipCodes', Codes);\r\n","'use strict';\r\n\r\nexport interface IFormat {\r\n    // Creates a sample line from a text\r\n    sample(value: string, maxLength: number): string;\r\n\r\n    sprintf(message: string, ...args: any[]): string;\r\n}\r\n\r\n\r\nclass Format implements IFormat {\r\n    // Cached for parsed formats\r\n    private cache = {};\r\n\r\n    // Creates a sample line from a text\r\n    public sample(value: string, maxLength: number): string {\r\n        if (!value || value == '') return '';\r\n\r\n        var length = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    private strRepeat(str: string, qty: number): string {\r\n        if (qty < 1) return '';\r\n        var result = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getType(variable) {\r\n        return toString.call(variable).slice(8, -1).toLowerCase();\r\n    }\r\n\r\n    private parseFormat(fmt: string) {\r\n        let _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\r\n        while (_fmt) {\r\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                parse_tree.push(match[0]);\r\n            }\r\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                parse_tree.push('%');\r\n            }\r\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                if (match[2]) {\r\n                    arg_names |= 1;\r\n                    var field_list = [], replacement_field = match[2], field_match = [];\r\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                        field_list.push(field_match[1]);\r\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else {\r\n                                throw new Error('Unknown error');\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw new Error('Unknown error');\r\n                    }\r\n                    match[2] = field_list;\r\n                }\r\n                else {\r\n                    arg_names |= 2;\r\n                }\r\n                if (arg_names === 3) {\r\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\r\n                }\r\n                parse_tree.push(match);\r\n            }\r\n            else {\r\n                throw new Error('Unknown error');\r\n            }\r\n            _fmt = _fmt.substring(match[0].length);\r\n        }\r\n        return parse_tree;\r\n    }\r\n\r\n    private format(parse_tree, argv) {\r\n        let cursor = 0; \r\n        let tree_length = parse_tree.length; \r\n        let output = [];\r\n\r\n        for (let i = 0; i < tree_length; i++) {\r\n            let node_type = this.getType(parse_tree[i]);\r\n            if (node_type === 'string') {\r\n                output.push(parse_tree[i]);\r\n            }\r\n            else if (node_type === 'array') {\r\n                let match = parse_tree[i]; // convenience purposes only\r\n                let arg: any;\r\n                if (match[2]) { // keyword argument\r\n                    arg = argv[cursor];\r\n                    for (let k = 0; k < match[2].length; k++) {\r\n                        if (!arg.hasOwnProperty(match[2][k])) {\r\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\r\n                        }\r\n                        arg = arg[match[2][k]];\r\n                    }\r\n                } else if (match[1]) { // positional argument (explicit)\r\n                    arg = argv[match[1]];\r\n                }\r\n                else { // positional argument (implicit)\r\n                    arg = argv[cursor++];\r\n                }\r\n\r\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\r\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\r\n                }\r\n                switch (match[8]) {\r\n                    case 'b': arg = arg.toString(2); break;\r\n                    case 'c': arg = String.fromCharCode(arg); break;\r\n                    case 'd': arg = parseInt(arg, 10); break;\r\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                    case 'o': arg = arg.toString(8); break;\r\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                    case 'u': arg = Math.abs(arg); break;\r\n                    case 'x': arg = arg.toString(16); break;\r\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                }\r\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \r\n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                let pad_length = match[6] - String(arg).length;\r\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\r\n                output.push(match[5] ? arg + pad : pad + arg);\r\n            }\r\n        }\r\n        return output.join('');\r\n    }\r\n    \r\n    public sprintf(message: string, ...args: any[]): string {\r\n        if (!this.cache.hasOwnProperty(message))\r\n            this.cache[message] = this.parseFormat(message);\r\n\r\n        return this.format(this.cache[message], args);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFormat', [])\r\n    .service('pipFormat', Format);\r\n","'use strict';\r\n\r\nexport let ResetPageEvent: string = \"pipResetPage\";\r\nexport let ResetAreaEvent: string = \"pipResetArea\";\r\n\r\nexport let ResetRootVar: string = \"$reset\";\r\nexport let ResetAreaRootVar: string = \"$resetArea\";\r\n\r\nexport interface IPageResetService {\r\n    reset(): void;\r\n    resetArea(area: string): void;\r\n}\r\n\r\n\r\nclass PageResetService implements IPageResetService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._timeout = $timeout;\r\n\r\n        $rootScope[ResetRootVar] = false;\r\n        $rootScope[ResetAreaRootVar] = null;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._log.debug(\"Resetting the entire page\");\r\n        this.performReset(null);\r\n    }\r\n\r\n    public resetArea(area: string): void {\r\n        this._log.debug(\"Resetting the area \" + area);\r\n        this.performReset(area);\r\n    }\r\n\r\n    private performReset(area?: string): void {\r\n        this._rootScope[ResetRootVar] = area == null;\r\n        this._rootScope[ResetAreaRootVar] = area;\r\n\r\n        this._timeout(() => {\r\n            this._rootScope[ResetRootVar] = false;\r\n            this._rootScope[ResetAreaRootVar] = null;\r\n        }, 0);\r\n    }\r\n}\r\n\r\n\r\nfunction hookResetEvents(\r\n    $rootScope: ng.IRootScopeService, \r\n    pipPageReset: IPageResetService\r\n) {\r\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\r\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\r\n}\r\n\r\n\r\nangular.module('pipPageReset', [])\r\n    .service('pipPageReset', PageResetService)\r\n    .run(hookResetEvents);\r\n","'use strict';\r\n\r\nexport interface IScrollService {\r\n    scrollTo(parentElement, childElement, animationDuration): void;\r\n}\r\n\r\nclass ScrollService implements IScrollService {\r\n\r\n    public scrollTo(parentElement, childElement, animationDuration): void {\r\n        if (!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipScroll', [])\r\n    .service('pipScroll', ScrollService);\r\n","'use strict';\r\n\r\nexport interface ISystemInfo {\r\n    browserName: string;\r\n    browserVersion: string;\r\n    platform: string;\r\n    os: string;\r\n\r\n    isDesktop(): boolean;\r\n    isMobile(): boolean;\r\n    isCordova(): boolean;\r\n    isSupported(supported?: any): boolean;\r\n}\r\n\r\n\r\nclass SystemInfo implements ISystemInfo {\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor($window: ng.IWindowService) {\r\n        \"ngInject\";\r\n\r\n        this._window = $window;\r\n    }\r\n\r\n    // todo add support for iPhone\r\n    public get browserName(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    public get browserVersion(): string {\r\n        let version;\r\n        let ua = this._window.navigator.userAgent;\r\n        let browser = this.browserName;\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\r\n                break;\r\n            case \"ie\":\r\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = ua.split(\"Version/\")[1];\r\n                break;\r\n            case \"operaWebkit\":\r\n                version = ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    public get platform(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    public get os(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        try {\r\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\r\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    public isDesktop(): boolean {\r\n        return this.platform == 'desktop';\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        return this.platform == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    public isCordova(): boolean {\r\n        return false;\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    public isSupported(supported?: any): boolean {\r\n        if (!supported) \r\n            supported = {\r\n                edge: 11,\r\n                ie: 11,\r\n                firefox: 43, //4, for testing\r\n                opera: 35,\r\n                chrome: 47\r\n            };\r\n\r\n        let browser = this.browserName;\r\n        let version = this.browserVersion;\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipSystemInfo', [])\r\n    .service('pipSystemInfo', SystemInfo);\r\n","'use strict';\r\n\r\nexport interface ITags {\r\n    normalizeOne(tag: string): string;\r\n    compressOne(tag: string): string;\r\n    equal(tag1: string, tag2: string): boolean;\r\n    normalizeAll(tags: any): string[];\r\n    compressAll(tags: any): string[];\r\n    extract(entity: any, searchFields?: string[]): string[];\r\n}\r\n\r\n\r\nclass Tags implements ITags {\r\n\r\n    public normalizeOne(tag: string): string {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    public compressOne(tag: string): string {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    public equal(tag1: string, tag2: string): boolean {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return this.compressOne(tag1) == this.compressOne(tag2);\r\n    }\r\n\r\n    public normalizeAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public compressAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public extract(entity: any, searchFields?: string[]): string[] {\r\n        let tags = this.normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, (field) => {\r\n            let text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                let hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(this.normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTags', [])\r\n    .service('pipTags', Tags);\r\n","'use strict';\r\n\r\nexport interface ITimerService {\r\n    isStarted(): boolean;\r\n\r\n    addEvent(event: string, timeout: number): void;\r\n    removeEvent(event: string): void;\r\n    clearEvents(): void;\r\n\r\n    start(): void;\r\n    stop(): void;\r\n}\r\n\r\n\r\nclass TimerEvent {\r\n    public event: string;\r\n    public timeout: number;\r\n    public interval: any;\r\n\r\n    public constructor(event: string, timeout: number) {\r\n        this.event = event;\r\n        this.timeout = timeout;\r\n    }\r\n}\r\n\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\r\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\r\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\r\n];\r\n\r\n\r\nclass TimerService implements ITimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $interval: ng.IIntervalService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public isStarted(): boolean {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { \r\n                this._log.debug('Generated timer event ' + event.event); \r\n                this._rootScope.$emit(event.event)\r\n            },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","'use strict';\r\n\r\nimport './Format';\r\nimport './TimerService';\r\nimport './ScrollService';\r\nimport './Tags';\r\nimport './Codes';\r\nimport './SystemInfo';\r\nimport './PageResetService';\r\n\r\nexport * from './Format';\r\nexport * from './TimerService';\r\nexport * from './ScrollService';\r\nexport * from './Tags';\r\nexport * from './Codes';\r\nexport * from './SystemInfo';\r\nexport * from './PageResetService';","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipButtons', [\r\n        'pipToggleButtons',\r\n        'pipRefreshButton',\r\n        'pipFabTooltipVisibility'\r\n    ]);\r\n\r\n})();\r\n\r\n","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipFabTooltipVisibility\", []);\r\n\r\n    thisModule.directive(\"pipFabTooltipVisibility\", function ($parse, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            controller: function($scope, $attrs) {\r\n                var trigGetter = $parse($attrs.pipFabTooltipVisibility),\r\n                    showGetter = $parse($attrs.pipFabShowTooltip),\r\n                    showSetter = showGetter.assign;\r\n\r\n                $scope.$watch(trigGetter, function(isOpen) {\r\n                    if (isOpen) {\r\n                        $timeout(function() {\r\n                            showSetter($scope, isOpen);\r\n                        }, 600);\r\n                    } else {\r\n                        showSetter($scope, isOpen);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipRefreshButton', ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRefreshButton',\r\n        function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                template: String() +\r\n                '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"onClick($event)\" aria-label=\"REFRESH\">' +\r\n                '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\r\n                '<span class=\"pip-refresh-text\"></span>' +\r\n                '</md-button>',\r\n                replace: false,\r\n                link: function ($scope, $element, $attrs: any) {\r\n                    var width, text, show,\r\n                        textGetter = $parse($attrs.pipText),\r\n                        visibleGetter = $parse($attrs.pipVisible),\r\n                        refreshGetter = $parse($attrs.pipRefresh),\r\n                        $button = $element.children('.md-button'),\r\n                        $text = $button.children('.pip-refresh-text');\r\n\r\n                    show = function () {\r\n                        // Set a new text\r\n                        text = textGetter($scope);\r\n                        $text.text(text);\r\n\r\n                        // Show button\r\n                        $button.show();\r\n\r\n                        // Adjust position\r\n                        width = $button.width();\r\n                        $button.css('margin-left', '-' + width / 2 + 'px');\r\n                    };\r\n\r\n                    function hide() {\r\n                        $button.hide();\r\n                    }\r\n\r\n                    $scope.onClick = function () {\r\n                        refreshGetter($scope);\r\n                    };\r\n\r\n                    $scope.$watch(visibleGetter, function (newValue) {\r\n                        if (newValue) {\r\n                            show();\r\n                        } else {\r\n                            hide();\r\n                        }\r\n                    });\r\n\r\n                    $scope.$watch(textGetter, function (newValue) {\r\n                        $text.text(newValue);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipToggleButtons', ['pipButtons.Templates']);\r\n\r\n    thisModule.directive('pipToggleButtons',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    buttons: '=pipButtons',\r\n                    currentButtonValue: '=ngModel',\r\n                    currentButton: '=?pipButtonObject',\r\n                    change: '&ngChange'\r\n                },\r\n                templateUrl: 'toggle_buttons/toggle_buttons.html',\r\n                controller: function ($scope, $element, $attrs, $mdMedia, $timeout) {\r\n                    var index;\r\n\r\n                    $scope.$mdMedia = $mdMedia;\r\n                    $scope.class = $attrs.class || '';\r\n\r\n                    if (!$scope.buttons || _.isArray($scope.buttons) && $scope.buttons.length === 0) {\r\n                        $scope.buttons = [];\r\n                    }\r\n\r\n                    index = _.indexOf($scope.buttons, _.find($scope.buttons, {id: $scope.currentButtonValue}));\r\n                    $scope.currentButtonIndex = index < 0 ? 0 : index;\r\n                    $scope.currentButton = $scope.buttons.length > 0 ? $scope.buttons[$scope.currentButtonIndex]\r\n                        : $scope.currentButton;\r\n\r\n                    $scope.buttonSelected = function (index) {\r\n                        if ($scope.disabled()) {\r\n                            return;\r\n                        }\r\n\r\n                        $scope.currentButtonIndex = index;\r\n                        $scope.currentButton = $scope.buttons[$scope.currentButtonIndex];\r\n                        $scope.currentButtonValue = $scope.currentButton.id || index;\r\n\r\n                        $timeout(function () {\r\n                            if ($scope.change) {\r\n                                $scope.change();\r\n                            }\r\n                        });\r\n                    };\r\n\r\n                    $scope.enterSpacePress = function (event) {\r\n                        $scope.buttonSelected(event.index);\r\n                    };\r\n\r\n                    $scope.disabled = function () {\r\n                        if ($scope.ngDisabled) {\r\n                            return $scope.ngDisabled();\r\n                        }\r\n                    };\r\n                },\r\n                link: function (scope, elem) {\r\n                    elem\r\n                        .on('focusin', function () {\r\n                            elem.addClass('focused-container');\r\n                        })\r\n                        .on('focusout', function () {\r\n                            elem.removeClass('focused-container');\r\n                        });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/toggle_buttons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{class}}\" pip-selected=\"bufButtonIndex\" pip-enter-space-press=\"enterSpacePress($event)\"\\n' +\n    '     ng-if=\"$mdMedia(\\'gt-xs\\')\">\\n' +\n    '    <md-button tabindex=\"-1\" ng-repeat=\"button in buttons\"\\n' +\n    '               ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : currentButtonIndex == $index}\"\\n' +\n    '               ng-attr-style=\"{{ \\'background-color:\\' + (currentButtonIndex == $index ? button.backgroundColor : \\'\\') + \\'!important\\' }}\"\\n' +\n    '               class=\"pip-selectable pip-chip-button flex\" ng-click=\"buttonSelected($index, $event)\"\\n' +\n    '               ng-disabled=\"button.disabled || disabled()\">\\n' +\n    '        {{button.name || button.title | translate}}\\n' +\n    '        <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<md-input-container class=\"md-block\" ng-if=\"$mdMedia(\\'xs\\')\">\\n' +\n    '    <md-select ng-model=\"currentButtonIndex\" ng-disabled=\"disabled()\" aria-label=\"DROPDOWN\" md-on-close=\"buttonSelected(currentButtonIndex)\">\\n' +\n    '        <md-option ng-repeat=\"action in buttons\" value=\"{{ ::$index }}\">\\n' +\n    '            {{ (action.title || action.name) | translate }}\\n' +\n    '            <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span>\\n' +\n    '        </md-option>\\n' +\n    '    </md-select>\\n' +\n    '</md-input-container>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.js.map\n","'use strict';\r\n\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nclass CardDirectiveLink {\r\n    private _element: any;\r\n    private _attrs: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor($rootScope: ng.IRootScopeService, $element: any, $attrs: any) {\r\n        this._element = $element;\r\n        this._rootScope = $rootScope;\r\n        this._attrs = $attrs;\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        var\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width(),\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this._attrs.minWidth ? Math.floor(this._attrs.minWidth) : null,\r\n            minHeight = this._attrs.minHeight ? Math.floor(this._attrs.minHeight) : null,\r\n            width = this._attrs.width ? Math.floor(this._attrs.width) : null,\r\n            height = this._attrs.height ? Math.floor(this._attrs.height) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            var space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this._element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this._element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this._element.css('width', width ? width + 'px' : '');\r\n        this._element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this._element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this._element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            var\r\n                $header = this._element.find('.pip-header:visible'),\r\n                $footer = this._element.find('.pip-footer:visible'),\r\n                $body = this._element.find('.pip-body'),\r\n                maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this._element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this._element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this._element.css('left', left);\r\n            this._element.css('top', top);\r\n\r\n            setTimeout(() => { this._element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this._rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainBreakpoints, MainBreakpointStatuses, MainResizedEvent } from '../media/MediaService'; \r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nclass MainDirectiveController {\r\n    private _element: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._element = $element;        \r\n        this._rootScope = $rootScope;\r\n        this._timeout = $timeout;\r\n\r\n        // Add CSS class\r\n        $element.addClass('pip-main');\r\n\r\n        // Add resize listener\r\n        let listener = () => { this.resize(); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Perform initial calculations\r\n        this.updateBreakpointStatuses();\r\n    }\r\n\r\n    private updateBreakpointStatuses() {\r\n        let width = this._element.innerWidth();\r\n        let body = $('body');\r\n\r\n        MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n            if (_.isBoolean(status))\r\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\r\n        });\r\n\r\n        this._timeout(() => {\r\n            this._rootScope.$apply();\r\n        });\r\n    }\r\n    \r\n    private resize() {\r\n        this.updateBreakpointStatuses();\r\n        this._rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n    }\r\n}\r\n\r\nclass MainBodyDirectiveLink {\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: any\r\n    ) {\r\n        // Add CSS class\r\n        $element.addClass('pip-main-body');\r\n    }\r\n}\r\n\r\nfunction mainDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        controller: MainDirectiveController,\r\n        controllerAs: 'vm' \r\n    }\r\n}\r\n\r\nfunction mainBodyDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: MainBodyDirectiveLink\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipMain', mainDirective)\r\n    .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction simpleDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-simple');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipSimple', simpleDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\nclass TilesDirectiveLink {\r\n    private _element: any;\r\n    private _attrs: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor($scope: ng.IScope, $element: any, $rootScope: ng.IRootScopeService, $attrs: any) {\r\n        this._element = $element;\r\n        this._rootScope = $rootScope;\r\n        this._attrs = $attrs;\r\n\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor($attrs.columnWidth) : 440,\r\n        this._container = $element.children('.pip-tiles-container'),\r\n        this._prevContainerWidth = null,\r\n        this._masonry = Masonry.data(this._container[0]);\r\n        \r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        let listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this._element.parent().width();\r\n        let containerWidth;\r\n        \r\n        console.log();\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this._rootScope.$emit(LayoutResizedEvent);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value) {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: false,\r\n        transclude: true,\r\n        template:\r\n            ($element: any, $attrs: any) => {\r\n                if (convertToBoolean($attrs.pipInfinite)) {\r\n                    return String()\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                    + '</div>';\r\n                } else {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\">'\r\n                        + '</div>';\r\n                }\r\n            },\r\n        controller: ($scope: any) => {\r\n            $scope.tilesOptions = {\r\n                gutter: 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope, $element, $attrs) => {\r\n            new TilesDirectiveLink($scope, $element, $rootScope, $attrs);\r\n        } \r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","'use strict';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport let MainResizedEvent: string = 'pipMainResized';\r\nexport let LayoutResizedEvent: string = 'pipLayoutResized';\r\n\r\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 959, 1024, 1919);\r\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}\r\n\r\nclass MediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        let service = function(size) {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 959, 1024, 1919);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .provider('pipMedia', MediaProvider);\r\n","'use strict';\r\n\r\nlet attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n    let frame = window.requestAnimationFrame \r\n        || (<any>window).mozRequestAnimationFrame \r\n        || (<any>window).webkitRequestAnimationFrame \r\n        || function(callback) { \r\n            return window.setTimeout(callback, 20);     \r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n    let cancel = window.cancelAnimationFrame \r\n        || (<any>window).mozCancelAnimationFrame \r\n        || (<any>window).webkitCancelAnimationFrame \r\n        || window.clearTimeout;\r\n\r\n    return function(id) { \r\n        return cancel(id); \r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    var win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function() {\r\n        var trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function(fn){\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            var obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * @file Split layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSplit', []);\r\n\r\n    thisModule.run( function($rootScope, pipSplit) {\r\n        // Intercept routes\r\n        $rootScope.$on('$stateChangeStart',\r\n            function(event, toState, toParams, fromState, fromParams) {\r\n                // Split animation\r\n                var splitElements = $('.pip-split');\r\n                \r\n                if (splitElements.length > 0) {\r\n                    splitElements.removeClass('pip-transition-forward');\r\n                    splitElements.removeClass('pip-transition-back');\r\n                    if (toState.name != fromState.name) {\r\n                        if (pipSplit.forwardTransition(toState, fromState)) {\r\n                            splitElements.addClass('pip-transition-forward');\r\n                        } else {\r\n                            splitElements.addClass('pip-transition-back');\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n    });\r\n\r\n    thisModule.provider('pipSplit', function(): any {\r\n        var transitionSequences = [];\r\n\r\n        this.addTransitionSequence = addTransitionSequence;\r\n\r\n        this.$get = function () {\r\n            return {\r\n                forwardTransition: forwardTransition\r\n            };\r\n        };\r\n\r\n        return;\r\n\r\n        //----------------------------\r\n\r\n        function addTransitionSequence(sequence) {\r\n            if (!_.isArray(sequence) || sequence.length == 0) {\r\n                throw new Error('Transition sequence must be an array of state names');\r\n            }\r\n\r\n            transitionSequences.push(sequence);\r\n        }\r\n\r\n        function forwardTransition(toState, fromState) {\r\n            var i, toIndex, fromIndex;\r\n\r\n            for (i = 0; i < transitionSequences.length; i++) {\r\n                toIndex = transitionSequences[i].indexOf(toState.name),\r\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\r\n\r\n                if (toIndex > -1) {\r\n                    return toIndex > fromIndex;\r\n                }\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Registration of all WebUI list controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipBehaviors', [\r\n        'pipFocused',\r\n        'pipSelected',\r\n        'pipInfiniteScroll',\r\n        'pipUnsavedChanges',\r\n        'pipDraggable'\r\n    ]);\r\n    \r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipDraggable\", []);\r\n\r\n    thisModule.service('pipDraggable', function () {\r\n\r\n        var scope = this;\r\n        scope.inputEvent = function (event) {\r\n            if (angular.isDefined(event.touches)) {\r\n                return event.touches[0];\r\n            }\r\n            //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n            else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n                return event.originalEvent.touches[0];\r\n            }\r\n            return event;\r\n        };\r\n\r\n    });\r\n\r\n    thisModule.directive('pipDrag',\r\n        function ($rootScope, $parse, $document, $window, pipDraggable) {\r\n            return {\r\n\r\n                restrict: 'A',\r\n                link: function (scope: any, element, attrs: any) {\r\n                    scope.value = attrs.ngDrag;\r\n                    var LONG_PRESS = 50; // 50ms for longpress\r\n                    var offset, _centerAnchor = false, _mx, _my, _tx, _ty, _mrx, _mry;\r\n                    var _hasTouch = ('ontouchstart' in window) || (<any>window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n                    var _pressEvents = 'touchstart mousedown';\r\n                    var _moveEvents = 'touchmove mousemove';\r\n                    var _releaseEvents = 'touchend mouseup';\r\n                    var _dragHandle;\r\n\r\n                    // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n                    var _myid = scope.$id;\r\n                    var _data = null;\r\n\r\n                    var _dragOffset = null;\r\n\r\n                    var _dragEnabled = false;\r\n\r\n                    var _pressTimer = null;\r\n\r\n                    var _elementStyle: any = {};\r\n\r\n                    var onDragStartCallback = $parse(attrs.pipDragStart) || null;\r\n                    var onDragStopCallback = $parse(attrs.pipDragStop) || null;\r\n                    var onDragSuccessCallback = $parse(attrs.pipDragSuccess) || null;\r\n                    var allowTransform = angular.isDefined(attrs.allowTransform) ? scope.$eval(attrs.allowTransform) : false;\r\n\r\n                    var getDragData = $parse(attrs.pipDragData);\r\n                    var\r\n                        verticalScroll = toBoolean(attrs.pipVerticalScroll) || true,\r\n                        horizontalScroll = toBoolean(attrs.pipHorizontalScroll) || true,\r\n                        activationDistance = parseFloat(attrs.pipActivationDistance) || 75,\r\n                        scrollDistance = parseFloat(attrs.pipScrollDistance) || 50,\r\n                        scrollParent = false,\r\n\r\n                        scrollContainer = angular.element(window),\r\n                        scrollContainerGetter = $parse(attrs.pipScrollContainer);\r\n\r\n                    // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n                    var _deregisterRootMoveListener = angular.noop;\r\n\r\n                    initialize();\r\n\r\n                    return;\r\n\r\n                    //-----------------------------------\r\n\r\n                    function initialize() {\r\n                        element.attr('pip-draggable', 'false'); // prevent native drag\r\n                        // check to see if drag handle(s) was specified\r\n                        // if querySelectorAll is available, we use this instead of find\r\n                        // as JQLite find is limited to tagnames\r\n                        let dragHandles: any;\r\n                        if (element[0].querySelectorAll) {\r\n                            dragHandles = angular.element(element[0].querySelectorAll('[pip-drag-handle]'));\r\n                        } else {\r\n                            dragHandles = element.find('[pip-drag-handle]');\r\n                        }\r\n                        if (dragHandles.length) {\r\n                            _dragHandle = dragHandles;\r\n                        }\r\n                        toggleListeners(true);\r\n\r\n                        // Initialize scroll container\r\n                        if (scrollParent) {\r\n                            scrollContainer = angular.element(element.parent());\r\n                        } else if (attrs.pipScrollContainer) {\r\n                            scrollContainer = angular.element(scrollContainerGetter(scope));\r\n                        } else {\r\n                            scrollContainer = angular.element(window);\r\n                        }\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function toggleListeners(enable) {\r\n                        if (!enable)return;\r\n                        // add listeners.\r\n\r\n                        scope.$on('$destroy', onDestroy);\r\n                        scope.$watch(attrs.pipDrag, onEnableChange);\r\n                        scope.$watch(attrs.pipCenterAnchor, onCenterAnchor);\r\n                        // wire up touch events\r\n                        if (_dragHandle) {\r\n                            // handle(s) specified, use those to initiate drag\r\n                            _dragHandle.on(_pressEvents, onpress);\r\n                        } else {\r\n                            // no handle(s) specified, use the element as the handle\r\n                            element.on(_pressEvents, onpress);\r\n                        }\r\n                        if (!_hasTouch && element[0].nodeName.toLowerCase() == \"img\") {\r\n                            element.on('mousedown', function () {\r\n                                return false;\r\n                            }); // prevent native drag for images\r\n                        }\r\n                    }\r\n                    \r\n                    function onDestroy(enable) {\r\n                        toggleListeners(false);\r\n                    }\r\n\r\n                    function onEnableChange(newVal, oldVal) {\r\n                        _dragEnabled = (newVal);\r\n                    }\r\n\r\n                    function onCenterAnchor(newVal, oldVal) {\r\n                        if (angular.isDefined(newVal))\r\n                            _centerAnchor = (newVal || 'true');\r\n                    }\r\n\r\n                    function isClickableElement(evt) {\r\n                        return (\r\n                            angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n                        );\r\n                    }\r\n\r\n                    /*\r\n                     * When the element is clicked start the drag behaviour\r\n                     * On touch devices as a small delay so as not to prevent native window scrolling\r\n                     */\r\n                    function onpress(evt) {\r\n                        if (!_dragEnabled)return;\r\n\r\n                        if (isClickableElement(evt)) {\r\n                            return;\r\n                        }\r\n\r\n                        if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                            // Do not start dragging on right-click\r\n                            return;\r\n                        }\r\n\r\n                        saveElementStyles();\r\n\r\n                        if (_hasTouch) {\r\n                            cancelPress();\r\n                            _pressTimer = setTimeout(function () {\r\n                                cancelPress();\r\n                                onlongpress(evt);\r\n                            }, LONG_PRESS);\r\n                            $document.on(_moveEvents, cancelPress);\r\n                            $document.on(_releaseEvents, cancelPress);\r\n                        } else {\r\n                            onlongpress(evt);\r\n                        }\r\n\r\n                    }\r\n\r\n                    function saveElementStyles() {\r\n                        _elementStyle.left = element.css('css') || 0;\r\n                        _elementStyle.top = element.css('top') || 0;\r\n                        _elementStyle.position = element.css('position');\r\n                        _elementStyle.width = element.css('width');    \r\n                    }\r\n\r\n                    function cancelPress() {\r\n                        clearTimeout(_pressTimer);\r\n                        $document.off(_moveEvents, cancelPress);\r\n                        $document.off(_releaseEvents, cancelPress);\r\n                    }\r\n\r\n                    function onlongpress(evt) {\r\n                        if (!_dragEnabled)return;\r\n                        evt.preventDefault();\r\n\r\n                        offset = element[0].getBoundingClientRect();\r\n                        if (allowTransform)\r\n                            _dragOffset = offset;\r\n                        else {\r\n                            _dragOffset = {left: document.body.scrollLeft, top: document.body.scrollTop};\r\n                        }\r\n\r\n\r\n                        element.centerX = element[0].offsetWidth / 2;\r\n                        element.centerY = element[0].offsetHeight / 2;\r\n\r\n                        _mx = pipDraggable.inputEvent(evt).pageX;\r\n                        _my = pipDraggable.inputEvent(evt).pageY;\r\n                        _mrx = _mx - offset.left;\r\n                        _mry = _my - offset.top;\r\n                        if (_centerAnchor) {\r\n                            _tx = _mx - element.centerX - $window.pageXOffset;\r\n                            _ty = _my - element.centerY - $window.pageYOffset;\r\n                        } else {\r\n                            _tx = _mx - _mrx - $window.pageXOffset;\r\n                            _ty = _my - _mry - $window.pageYOffset;\r\n                        }\r\n\r\n                        $document.on(_moveEvents, onmove);\r\n                        $document.on(_releaseEvents, onrelease);\r\n                        // This event is used to receive manually triggered mouse move events\r\n                        // jqLite unfortunately only supports triggerHandler(...)\r\n                        // See http://api.jquery.com/triggerHandler/\r\n                        // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n                        _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', function (event, origEvent) {\r\n                            onmove(origEvent);\r\n                        });\r\n                    }\r\n\r\n                    function onmove(evt) {\r\n                        if (!_dragEnabled)return;\r\n                        evt.preventDefault();\r\n\r\n                        if (!element.hasClass('pip-dragging')) {\r\n                            _data = getDragData(scope);\r\n                            element.addClass('pip-dragging');\r\n                            $rootScope.$broadcast('draggable:start', {\r\n                                x: _mx,\r\n                                y: _my,\r\n                                tx: _tx,\r\n                                ty: _ty,\r\n                                event: evt,\r\n                                element: element,\r\n                                data: _data\r\n                            });\r\n\r\n                            if (onDragStartCallback) {\r\n                                scope.$apply(function () {\r\n                                    onDragStartCallback(scope, {$data: _data, $event: evt});\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        _mx = pipDraggable.inputEvent(evt).pageX;\r\n                        _my = pipDraggable.inputEvent(evt).pageY;\r\n\r\n                        if (horizontalScroll || verticalScroll) {\r\n                            dragToScroll();\r\n                        }\r\n\r\n                        if (_centerAnchor) {\r\n                            _tx = _mx - element.centerX - _dragOffset.left;\r\n                            _ty = _my - element.centerY - _dragOffset.top;\r\n                        } else {\r\n                            _tx = _mx - _mrx - _dragOffset.left;\r\n                            _ty = _my - _mry - _dragOffset.top;\r\n                        }\r\n\r\n                        moveElement(_tx, _ty);\r\n\r\n                        $rootScope.$broadcast('draggable:move', {\r\n                            x: _mx,\r\n                            y: _my,\r\n                            tx: _tx,\r\n                            ty: _ty,\r\n                            event: evt,\r\n                            element: element,\r\n                            data: _data,\r\n                            uid: _myid,\r\n                            dragOffset: _dragOffset\r\n                        });\r\n                    }\r\n\r\n                    function onrelease(evt) {\r\n                        if (!_dragEnabled)\r\n                            return;\r\n                        evt.preventDefault();\r\n                        $rootScope.$broadcast('draggable:end', {\r\n                            x: _mx,\r\n                            y: _my,\r\n                            tx: _tx,\r\n                            ty: _ty,\r\n                            event: evt,\r\n                            element: element,\r\n                            data: _data,\r\n                            callback: onDragComplete,\r\n                            uid: _myid\r\n                        });\r\n                        element.removeClass('pip-dragging');\r\n                        element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n                        reset();\r\n                        $document.off(_moveEvents, onmove);\r\n                        $document.off(_releaseEvents, onrelease);\r\n\r\n                        if (onDragStopCallback) {\r\n                            scope.$apply(function () {\r\n                                onDragStopCallback(scope, {$data: _data, $event: evt});\r\n                            });\r\n                        }\r\n\r\n                        _deregisterRootMoveListener();\r\n                    }\r\n\r\n                    function onDragComplete(evt) {\r\n                        if (!onDragSuccessCallback)return;\r\n\r\n                        scope.$apply(function () {\r\n                            onDragSuccessCallback(scope, {$data: _data, $event: evt});\r\n                        });\r\n                    }\r\n\r\n                    function reset() {\r\n                        if (allowTransform)\r\n                            element.css({transform: '', 'z-index': '', '-webkit-transform': '', '-ms-transform': ''});\r\n                        else {\r\n                            element.css({'position': _elementStyle.position, top: _elementStyle.top, left: _elementStyle.left, 'z-index': '', width: _elementStyle.width});\r\n                        }\r\n                    }\r\n\r\n                    function moveElement(x, y) {\r\n                        var eWidth = element.css('width');\r\n                        if (allowTransform) {\r\n                            element.css({\r\n                                transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                                'z-index': 99999,\r\n                                '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                                '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                            });\r\n                        } else {\r\n                            element.css({\r\n                                'left': x + 'px',\r\n                                'top': y + 'px',\r\n                                'position': 'fixed',\r\n                                'z-index': 100,\r\n                                width: eWidth\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    function dragToScroll() {\r\n                        var scrollX = 0, scrollY = 0,\r\n                            offset = function (element) {\r\n                                return element.offset() || {left: 0, top: 0};\r\n                            };\r\n\r\n                        if (horizontalScroll) {\r\n                            var\r\n                                containerLeft = offset(scrollContainer).left,\r\n                                containerWidth = scrollContainer.innerWidth(),\r\n                                containerRight = containerLeft + containerWidth;\r\n\r\n                            if ((_mx - containerLeft) < activationDistance) {\r\n                                scrollX = -scrollDistance;\r\n                            }\r\n                            else if ((containerRight - _mx) < activationDistance) {\r\n                                scrollX = scrollDistance;\r\n                            }\r\n                        }\r\n\r\n                        if (verticalScroll) {\r\n                            var\r\n                                containerTop = offset(scrollContainer).top,\r\n                                containerHeight = scrollContainer.innerHeight(),\r\n                                containerBottom = containerTop + containerHeight;\r\n\r\n                            if ((_my - containerTop) < activationDistance) {\r\n                                scrollY = -scrollDistance + 30;\r\n                            }\r\n                            else if ((containerBottom - _my) < activationDistance) {\r\n                                scrollY = scrollDistance - 30;\r\n                            }\r\n                        }\r\n                        if (scrollX !== 0 || scrollY !== 0) {\r\n                            var\r\n                                containerScrollLeft = scrollContainer.scrollLeft(),\r\n                                containerScrollTop = scrollContainer.scrollTop();\r\n\r\n                            scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                            scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    thisModule.directive('pipDrop', \r\n        function ($parse, $timeout, $window, $document, pipDraggable) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: any, element, attrs: any) {\r\n                scope.value = attrs.pipDrop;\r\n                scope.isTouching = false;\r\n\r\n                var _lastDropTouch = null;\r\n                var _myid = scope.$id;\r\n                var _dropEnabled = false;\r\n\r\n                var onDropCallback = $parse(attrs.pipDropSuccess);// || function(){};\r\n                var onDragStartCallback = $parse(attrs.pipDragStart);\r\n                var onDragStopCallback = $parse(attrs.pipDragStop);\r\n                var onDragMoveCallback = $parse(attrs.pipDragMove);\r\n\r\n                initialize();\r\n\r\n                return;\r\n\r\n                //----------------------\r\n\r\n                function initialize() {\r\n                    toggleListeners(true);\r\n                }\r\n\r\n                function toggleListeners(enable) {\r\n                    // remove listeners\r\n                    if (!enable)return;\r\n                    // add listeners.\r\n                    scope.$watch(attrs.pipDrop, onEnableChange);\r\n                    scope.$on('$destroy', onDestroy);\r\n                    scope.$on('draggable:start', onDragStart);\r\n                    scope.$on('draggable:move', onDragMove);\r\n                    scope.$on('draggable:end', onDragEnd);\r\n                }\r\n\r\n                function onDestroy(enable) {\r\n                    toggleListeners(false);\r\n                }\r\n\r\n                function onEnableChange(newVal, oldVal) {\r\n                    _dropEnabled = newVal;\r\n                }\r\n\r\n                function onDragStart(evt, obj) {\r\n                    if (!_dropEnabled)return;\r\n                    isTouching(obj.x, obj.y, obj.element);\r\n\r\n                    if (attrs.pipDragStart) {\r\n                        $timeout(function () {\r\n                            onDragStartCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function onDragMove(evt, obj) {\r\n                    if (!_dropEnabled)return;\r\n                    isTouching(obj.x, obj.y, obj.element);\r\n\r\n                    if (attrs.pipDragMove) {\r\n                        $timeout(function () {\r\n                            onDragMoveCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function onDragEnd(evt, obj) {\r\n                    // don't listen to drop events if this is the element being dragged\r\n                    // only update the styles and return\r\n                    if (!_dropEnabled || _myid === obj.uid) {\r\n                        updateDragStyles(false, obj.element);\r\n                        return;\r\n                    }\r\n\r\n                    if (isTouching(obj.x, obj.y, obj.element)) {\r\n                        // call the pipDraggable pipDragSuccess element callback\r\n                        if (obj.callback) {\r\n                            obj.callback(obj);\r\n                        }\r\n\r\n                        if (attrs.pipDropSuccess) {\r\n                            $timeout(function () {\r\n                                onDropCallback(scope, {\r\n                                    $data: obj.data,\r\n                                    $event: obj,\r\n                                    $target: scope.$eval(scope.value)\r\n                                });\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    if (attrs.pipDragStop) {\r\n                        $timeout(function () {\r\n                            onDragStopCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n\r\n                    updateDragStyles(false, obj.element);\r\n                }\r\n\r\n                function isTouching(mouseX, mouseY, dragElement) {\r\n                    var touching = hitTest(mouseX, mouseY);\r\n                    scope.isTouching = touching;\r\n                    if (touching) {\r\n                        _lastDropTouch = element;\r\n                    }\r\n                    updateDragStyles(touching, dragElement);\r\n                    return touching;\r\n                }\r\n\r\n                function updateDragStyles(touching, dragElement) {\r\n                    if (touching) {\r\n                        element.addClass('pip-drag-enter');\r\n                        dragElement.addClass('pip-drag-over');\r\n                    } else if (_lastDropTouch == element) {\r\n                        _lastDropTouch = null;\r\n                        element.removeClass('pip-drag-enter');\r\n                        dragElement.removeClass('pip-drag-over');\r\n                    }\r\n                };\r\n\r\n                function hitTest(x, y) {\r\n                    var bounds = element[0].getBoundingClientRect();\r\n                    x -= $document[0].body.scrollLeft + $document[0].documentElement.scrollLeft;\r\n                    y -= $document[0].body.scrollTop + $document[0].documentElement.scrollTop;\r\n                    return x >= bounds.left\r\n                        && x <= bounds.right\r\n                        && y <= bounds.bottom\r\n                        && y >= bounds.top;\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    //thisModule.directive('pipDragClone', function ($parse, $timeout, pipDraggable) {\r\n    //    return {\r\n    //        restrict: 'A',\r\n    //        link: function (scope, element, attrs) {\r\n    //            var img, _allowClone = true;\r\n    //            var _dragOffset = null;\r\n    //            scope.clonedData = {};\r\n    //            initialize();\r\n    //            return;\r\n\r\n    //            function initialize() {\r\n//\r\n    //                img = element.find('img');\r\n    //                element.attr('pip-draggable', 'false');\r\n    //                img.attr('draggable', 'false');\r\n    //                reset();\r\n    //                toggleListeners(true);\r\n    //            }\r\n//\r\n//\r\n    //            function toggleListeners(enable) {\r\n    //                // remove listeners\r\n//\r\n    //                if (!enable)return;\r\n    //                // add listeners.\r\n    //                scope.$on('draggable:start', onDragStart);\r\n    //                scope.$on('draggable:move', onDragMove);\r\n    //                scope.$on('draggable:end', onDragEnd);\r\n    //                preventContextMenu();\r\n//\r\n    //            }\r\n\r\n    //            function preventContextMenu() {\r\n    //                //  element.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                img.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                //  element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                img.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //            }\r\n\r\n    //            function onDragStart(evt, obj, elm) {\r\n    //                _allowClone = true;\r\n    //                if (angular.isDefined(obj.data.allowClone)) {\r\n    //                    _allowClone = obj.data.allowClone;\r\n    //                }\r\n    //                if (_allowClone) {\r\n    //                    scope.$apply(function () {\r\n    //                        scope.clonedData = obj.data;\r\n    //                    });\r\n    //                    element.css('width', obj.element[0].offsetWidth);\r\n    //                    element.css('height', obj.element[0].offsetHeight);\r\n//\r\n    //                    moveElement(obj.tx, obj.ty);\r\n    //                }\r\n//\r\n    //            }\r\n\r\n    //            function onDragMove(evt, obj) {\r\n    //                if (_allowClone) {\r\n//\r\n    //                    _tx = obj.tx + obj.dragOffset.left;\r\n    //                    _ty = obj.ty + obj.dragOffset.top;\r\n//\r\n    //                    moveElement(_tx, _ty);\r\n    //                }\r\n    //            }\r\n\r\n    //            function onDragEnd(evt, obj) {\r\n    //                //moveElement(obj.tx,obj.ty);\r\n    //                if (_allowClone) {\r\n    //                    reset();\r\n    //                }\r\n    //            }\r\n//\r\n    //            function reset() {\r\n    //                element.css({left: 0, top: 0, position: 'fixed', 'z-index': -1, visibility: 'hidden'});\r\n    //            }\r\n\r\n    //            function moveElement(x, y) {\r\n    //                element.css({\r\n    //                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n    //                    'z-index': 99999,\r\n    //                    'visibility': 'visible',\r\n    //                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n    //                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n    //                    //,margin: '0'  don't monkey with the margin,\r\n    //                });\r\n    //            }\r\n//\r\n    //            function absorbEvent_(event) {\r\n    //                var e = event;//.originalEvent;\r\n    //                e.preventDefault && e.preventDefault();\r\n    //                e.stopPropagation && e.stopPropagation();\r\n    //                e.cancelBubble = true;\r\n    //                e.returnValue = false;\r\n    //                return false;\r\n    //            }\r\n//\r\n    //        }\r\n    //    };\r\n    //});\r\n\r\n    thisModule.directive('pipPreventDrag', function ($parse, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: any, element, attrs: any) {\r\n                initialize();\r\n\r\n                return;\r\n                //---------------------\r\n\r\n                function initialize() {\r\n                    element.attr('pip-draggable', 'false');\r\n                    toggleListeners(true);\r\n                }\r\n\r\n                function toggleListeners(enable) {\r\n                    // remove listeners\r\n                    if (!enable)return;\r\n                    // add listeners.\r\n                    element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n                }\r\n\r\n                function absorbEvent_(event) {\r\n                    var e = event.originalEvent;\r\n                    e.preventDefault && e.preventDefault();\r\n                    e.stopPropagation && e.stopPropagation();\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n                    return false;\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    thisModule.directive('pipCancelDrag', function () {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, element, attrs) {\r\n                element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n            }\r\n        };\r\n    });\r\n})();\r\n\r\n","/**\r\n * @file Keyboard navigation over few focusable controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipFocused\", []);\r\n\r\n    thisModule.directive('pipFocused', function($timeout, $mdConstant) {\r\n        return {\r\n            require: \"?ngModel\",\r\n            link: function ($scope: any, $element, $attrs: any) {\r\n                var controls, controlsLength,\r\n                    withHidden = $attrs.pipWithHidden;\r\n\r\n                $timeout(init);\r\n                $element.on('keydown', keydownListener);\r\n\r\n                $scope.$watch($attrs.ngModel, function () {\r\n                    $timeout(init);\r\n                }, true);\r\n\r\n                function init() {\r\n                    var selector = withHidden ? '.pip-focusable' : '.pip-focusable:visible';\r\n                    controls = $element.find(selector);\r\n                    controlsLength = controls.length;\r\n\r\n                    // add needed event listeners\r\n                    controls.on('focus', function () {\r\n                        $element.addClass('pip-focused-container');\r\n                        $(this).addClass('md-focused');\r\n                    }).on('focusout', function () {\r\n                        $element.removeClass('pip-focused-container');\r\n                    });\r\n                }\r\n\r\n                function keydownListener(e) {\r\n                    var keyCode = e.which || e.keyCode;\r\n\r\n                    // Check control keyCode\r\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\r\n\r\n                        e.preventDefault();\r\n\r\n                        var \r\n                            increment = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                            moveToControl = controls.index(controls.filter(\".md-focused\")) + increment;\r\n\r\n                        // Move focus to next control\r\n                        if (moveToControl >= 0 && moveToControl < controlsLength) {\r\n                            controls[moveToControl].focus();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n\r\n","/**\r\n * @file Infinite scrolling behavior\r\n * @description\r\n * Modified from https://github.com/sroze/ngInfiniteScroll\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipInfiniteScroll\", []);\r\n\r\n    thisModule.directive('pipInfiniteScroll', \r\n        function($rootScope, $window, $interval, $parse) {\r\n            var THROTTLE_MILLISECONDS = 500;\r\n\r\n            return {\r\n                scope: {\r\n                    pipInfiniteScroll: '&',\r\n                    pipScrollContainer: '=',\r\n                    pipScrollDistance: '=',\r\n                    pipScrollDisabled: '=',\r\n                    pipScrollUseDocumentBottom: '=',\r\n                    pipScrollListenForEvent: '@'\r\n                },\r\n                link: function($scope: any, $element, $attrs: any) {\r\n                    var \r\n                        checkWhenEnabled = null,\r\n                        scrollContainer,\r\n                        immediateCheck = true,\r\n                        scrollDistance = null,\r\n                        scrollEnabled = null, \r\n                        unregisterEventListener = null,\r\n                        useDocumentBottom = false, \r\n                        windowElement = angular.element($window);\r\n                    \r\n                    function height(element) {\r\n                        element = element[0] || element;\r\n                        if (isNaN(element.offsetHeight)) {\r\n                            return element.document.documentElement.clientHeight;\r\n                        } else {\r\n                            return element.offsetHeight;\r\n                        }\r\n                    };\r\n\r\n                    function offsetTop(element) {\r\n                        if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                            return;\r\n                        }\r\n                        return element[0].getBoundingClientRect().top + pageYOffset(element);\r\n                    };\r\n\r\n                    function pageYOffset(element) {\r\n                        element = element[0] || element;\r\n                        if (isNaN(window.pageYOffset)) {\r\n                            return element.document.documentElement.scrollTop;\r\n                        } else {\r\n                            return element.ownerDocument.defaultView.pageYOffset;\r\n                        }\r\n                    };\r\n\r\n                    var onContainerScroll = function() {\r\n                        var \r\n                            containerBottom, \r\n                            containerTopOffset, \r\n                            elementBottom, \r\n                            remaining, \r\n                            shouldScroll;\r\n                                                \r\n                        if (scrollContainer === windowElement) {\r\n                            containerBottom = height(scrollContainer) + pageYOffset(scrollContainer[0].document.documentElement);\r\n                            elementBottom = offsetTop($element) + height($element);\r\n                        } else {\r\n                            containerBottom = height(scrollContainer);\r\n                            containerTopOffset = 0;\r\n                            if (offsetTop(scrollContainer) !== void 0) {\r\n                                containerTopOffset = offsetTop(scrollContainer);\r\n                            }\r\n                            elementBottom = offsetTop($element) - containerTopOffset + height($element);\r\n                        }\r\n\r\n                        if (useDocumentBottom) {\r\n                            elementBottom = height(($element[0].ownerDocument || $element[0].document).documentElement);\r\n                        }\r\n\r\n                        remaining = elementBottom - containerBottom;\r\n                        shouldScroll = remaining <= height(scrollContainer) * scrollDistance + 1;\r\n                        \r\n                        if (shouldScroll) {\r\n                            checkWhenEnabled = true;\r\n                            if (scrollEnabled) {\r\n                                if ($scope.$$phase || $rootScope.$$phase) {\r\n                                    return $scope.pipInfiniteScroll();\r\n                                } else {\r\n                                    return $scope.$apply($scope.pipInfiniteScroll);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return checkWhenEnabled = false;\r\n                        }\r\n                    };\r\n\r\n                    if (THROTTLE_MILLISECONDS != null) {\r\n                        onContainerScroll = _.throttle(onContainerScroll, THROTTLE_MILLISECONDS);                    \r\n                    }\r\n\r\n                    $scope.$on('$destroy', function() {\r\n                        scrollContainer.unbind('scroll', onContainerScroll);\r\n                        if (unregisterEventListener != null) {\r\n                            unregisterEventListener();\r\n                            return unregisterEventListener = null;\r\n                        }\r\n                    });\r\n\r\n                    function handleScrollDistance(v) {\r\n                        return scrollDistance = parseFloat(v) || 0;\r\n                    };\r\n                    $scope.$watch('pipScrollDistance', handleScrollDistance);\r\n                    handleScrollDistance($scope.pipScrollDistance);\r\n                    \r\n                    function handleScrollDisabled(v) {\r\n                        scrollEnabled = !v;\r\n                        if (scrollEnabled && checkWhenEnabled) {\r\n                            checkWhenEnabled = false;\r\n                            return onContainerScroll();\r\n                        }\r\n                    };\r\n                    $scope.$watch('pipScrollDisabled', handleScrollDisabled);\r\n                    handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n                    function handleScrollUseDocumentBottom(v) {\r\n                        return useDocumentBottom = v;\r\n                    };\r\n                    $scope.$watch('pipScrollUseDocumentBottom', handleScrollUseDocumentBottom);\r\n                    handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n                    function changeContainer(newContainer) {\r\n                        if (scrollContainer != null) {\r\n                            scrollContainer.unbind('scroll', onContainerScroll);\r\n                        }\r\n\r\n                        scrollContainer = newContainer;\r\n                        if (newContainer != null) {\r\n                            return scrollContainer.bind('scroll', onContainerScroll);\r\n                        }\r\n                    };\r\n\r\n                    changeContainer(windowElement);\r\n                    if ($scope.pipScrollListenForEvent) {\r\n                        unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, onContainerScroll);\r\n                    }\r\n\r\n                    function handleScrollContainer(newContainer) {\r\n                        if ((newContainer == null) || newContainer.length === 0) {\r\n                            return;\r\n                        }\r\n                        if (newContainer instanceof HTMLElement) {\r\n                            newContainer = angular.element(newContainer);\r\n                        } else if (typeof newContainer.append === 'function') {\r\n                            newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n                        } else if (typeof newContainer === 'string') {\r\n                            newContainer = $element.parents().find(newContainer);\r\n                        }\r\n\r\n                        if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                            (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                            return changeContainer(newContainer);\r\n                        } else {\r\n                            throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n                        }\r\n                    };\r\n                    $scope.$watch('pipScrollContainer', function (newContainer) {\r\n                        if (newContainer !== scrollContainer)\r\n                            handleScrollContainer(newContainer);\r\n                    });\r\n                    handleScrollContainer($scope.pipScrollContainer || []);\r\n                    \r\n                    if ($attrs.pipScrollParent != null) {\r\n                        changeContainer(angular.element($element.parent()));\r\n                    }\r\n                    if ($attrs.pipScrolImmediateCheck != null) {\r\n                        immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n                    }\r\n                    \r\n                    return $interval((function() {\r\n                        if (immediateCheck) {\r\n                            return onContainerScroll();\r\n                        }\r\n                    }), 0, 1);\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Keyboard navigation with scrolling over non-focusable controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipSelected\", []);\r\n\r\n    thisModule.directive('pipSelected',function ($parse, $mdConstant, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function ($scope: any, $element, $attrs: any) {\r\n                var\r\n                    indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null,\r\n                    indexSetter = indexGetter ? indexGetter.assign : null,\r\n                    idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null,\r\n                    idSetter = idGetter ? idGetter.assign : null,\r\n                    changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null,\r\n                    enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null,\r\n                    noScroll = toBoolean($attrs.pipNoScroll),\r\n                    modifier = toBoolean($attrs.pipSkipHidden) ? ':visible' : '',\r\n                    className = toBoolean($attrs.pipTreeList) ? '.pip-selectable-tree' : '.pip-selectable',\r\n                    selectedIndex = indexGetter($scope),\r\n                    currentElementTabinex = $element.attr('tabindex'),\r\n                    pipSelectedWatch = $attrs.pipSelectedWatch,\r\n                    isScrolled = false;\r\n\r\n                // Set tabindex if it's not set yet\r\n                $element.attr('tabindex', currentElementTabinex || 0);\r\n\r\n                // Watch selected item index\r\n                if (!toBoolean($attrs.pipTreeList)) {\r\n                    $scope.$watch(indexGetter, function(newSelectedIndex) {\r\n                        selectItem({itemIndex: newSelectedIndex});\r\n                    });\r\n                } else {\r\n                    $scope.$watch(idGetter, function(newSelectedId) {\r\n                        setTimeout(function () {\r\n                            selectItem({itemId: newSelectedId, raiseEvent: true});\r\n                        }, 0);\r\n                    });\r\n                }\r\n\r\n                // Watch resync selection\r\n                if (pipSelectedWatch) {\r\n                    $scope.$watch(pipSelectedWatch, function() {\r\n                        // Delay update to allow ng-repeat to update DOM\r\n                        setTimeout(function() {\r\n                            selectedIndex = indexGetter($scope);\r\n                            selectItem({itemIndex: selectedIndex});\r\n                        }, 100);\r\n                    });\r\n                }\r\n\r\n                // Select item defined by index\r\n                selectItem({itemIndex: selectedIndex, items: $element.find(className)});\r\n\r\n                // Converts value into boolean\r\n                function toBoolean(value) {\r\n                    if (value == null) return false;\r\n                    if (!value) return false;\r\n                    value = value.toString().toLowerCase();\r\n                    return value == '1' || value == 'true';\r\n                };\r\n                \r\n                // Functions and listeners\r\n\r\n                function selectItem(itemParams) {\r\n                    console.log('selectItem');\r\n                    if (isScrolled) return;\r\n                    var itemIndex = itemParams.itemIndex,\r\n                        itemId = itemParams.itemId,\r\n                        items = itemParams.items || $element.find(className + modifier),\r\n                        itemsLength = items.length,\r\n                        item = (function () {\r\n                            if (itemParams.item) return itemParams.item;\r\n                            if (itemIndex === undefined && itemIndex === -1) {\r\n                                itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                            }\r\n                            if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                                return items[itemIndex]\r\n                            }\r\n                        }()),\r\n                        raiseEvent = itemParams.raiseEvent;\r\n\r\n                    if (item) {\r\n                        $element.find(className).removeClass('selected md-focused');\r\n                        item = angular.element(item)\r\n                            .addClass('selected md-focused')\r\n                            .focus(); // todo   ,   \r\n                        if (!noScroll) scrollToItem(item);\r\n                        if (raiseEvent) defineSelectedIndex(items);\r\n                    }\r\n                };\r\n\r\n                function defineSelectedIndex(items) {\r\n                    var oldSelectedIndex = selectedIndex;\r\n                    selectedIndex = -1;\r\n                    for (var index = 0; index < items.length; index++) {\r\n                        if ($(items[index]).hasClass('selected')) {\r\n                            selectedIndex = index;\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // Execute callback to notify about item select\r\n                    if (oldSelectedIndex != selectedIndex && selectedIndex !== -1) {\r\n                        $scope.$apply(updateIndex);\r\n                    }\r\n\r\n                    function updateIndex() {\r\n                        var selectedItem = angular.element(items[selectedIndex]),\r\n                            selectedId = selectedItem.attr('pip-id');\r\n\r\n                        if (indexSetter) indexSetter($scope, selectedIndex);\r\n                        if (idSetter) idSetter($scope, selectedId);\r\n                        if (changeGetter) {\r\n                            changeGetter($scope, {\r\n                                $event: {\r\n                                    target: $element,\r\n                                    item: selectedItem,\r\n                                    index: selectedIndex,\r\n                                    id: selectedId,\r\n                                    newIndex: selectedIndex,\r\n                                    oldIndex: oldSelectedIndex\r\n                                }\r\n                            });\r\n                        }\r\n                    };\r\n                };\r\n\r\n                function scrollToItem($item) {\r\n                    if (noScroll) return;\r\n\r\n                    var\r\n                        containerTop = $element.offset().top,\r\n                        containerHeight = $element.height(),\r\n                        containerBottom = containerTop + containerHeight,\r\n                        itemTop = $item.offset().top,\r\n                        itemHeight = $item.outerHeight(true),\r\n                        itemBottom = itemTop + itemHeight,\r\n                        containerScrollTop = $element.scrollTop();\r\n\r\n                        isScrolled = true;\r\n                        setTimeout(function () {\r\n                            isScrolled = false;\r\n                        }, 100);\r\n\r\n                    if (containerTop > itemTop) {\r\n                        $element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n                    }\r\n                    else if (containerBottom < itemBottom) {\r\n                        $element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n                    }\r\n\r\n                };\r\n\r\n                $element.on('click touchstart', className, function (event) {\r\n                    selectItem({item: event.currentTarget, raiseEvent: true});\r\n                });\r\n\r\n                $element.on('keydown', function (e) {\r\n                    var keyCode = e.which || e.keyCode;\r\n\r\n                    // Check control keyCode\r\n                    if (keyCode == $mdConstant.KEY_CODE.ENTER || keyCode == $mdConstant.KEY_CODE.SPACE) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n\r\n                        if (enterSpaceGetter) {\r\n                            enterSpaceGetter($scope, {\r\n                                $event: {\r\n                                    target: $element,\r\n                                    index: selectedIndex,\r\n                                    item: $element.find('.selected')\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    } else\r\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW || keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\r\n\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n\r\n                        // Get next selectable control index\r\n                        var items = $element.find(className + modifier),\r\n                            inc = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                            newSelectedIndex = selectedIndex + inc;\r\n\r\n                        // Set next control as selected\r\n                        selectItem({itemIndex: newSelectedIndex, items: items, raiseEvent: true});\r\n                    }\r\n                });\r\n\r\n                $element.on('focusin', function (event) {\r\n                    // Choose selected element\r\n                    var items,\r\n                        selectedItem = $element.find(className + '.selected');\r\n\r\n                    selectedItem.addClass('md-focused');\r\n\r\n                    // If there are not selected elements then pick the first one\r\n                    if (selectedItem.length === 0) {\r\n                        selectedIndex = indexGetter($scope);\r\n                        items = $element.find(className + modifier);\r\n                        selectItem({itemIndex: selectedIndex || 0, items: items, raiseEvent: true});\r\n                    }\r\n                });\r\n\r\n                $element.on('focusout', function (event) {\r\n                    $element.find(className + '.md-focused' + modifier).removeClass('md-focused');\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipUnsavedChanges\", []);\r\n\r\n    thisModule.directive(\"pipUnsavedChanges\", function ($window, $rootScope) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave'\r\n            },\r\n            link: function($scope: any) {\r\n\r\n                $window.onbeforeunload = function() {\r\n                    if ($scope.unsavedChangesAvailable()) {\r\n                        $rootScope.$routing = false;\r\n                        return $scope.unsavedChangesMessage;\r\n                    }\r\n                };\r\n\r\n                var unbindFunc = $scope.$on('$stateChangeStart', function(event) {\r\n                    if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                        $rootScope.$routing = false;\r\n                        event.preventDefault();\r\n                    } else {\r\n                        _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                    }\r\n                });\r\n\r\n                $scope.$on('$destroy', function() {\r\n                    $window.onbeforeunload = null;\r\n                    unbindFunc();\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\r\n\r\n    thisModule.directive('pipColorPicker',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: 'pipColorPickerController'\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipColorPickerController',\r\n        function ($scope, $element, $attrs, $timeout) {\r\n            var\r\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n            $scope.class = $attrs.class || '';\r\n\r\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\r\n                $scope.colors = DEFAULT_COLORS;\r\n            }\r\n\r\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\r\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\r\n\r\n            $scope.disabled = function () {\r\n                if ($scope.ngDisabled) {\r\n                    return $scope.ngDisabled();\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            $scope.selectColor = function (index) {\r\n                if ($scope.disabled()) {\r\n                    return;\r\n                }\r\n                $scope.currentColorIndex = index;\r\n\r\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\r\n\r\n                $timeout(function () {\r\n                    $scope.$apply();\r\n                });\r\n\r\n                if ($scope.colorChange) {\r\n                    $scope.colorChange();\r\n                }\r\n            };\r\n\r\n            $scope.enterSpacePress = function (event) {\r\n                $scope.selectColor(event.index);\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipControls', [\r\n        'pipMarkdown',\r\n        'pipColorPicker',\r\n        'pipRoutingProgress',\r\n        'pipPopover',\r\n        'pipImageSlider',\r\n        'pipToasts',\r\n        'pipControls.Translate'\r\n    ]);\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\n    thisModule.directive('pipImageSlider',\r\n        function () {\r\n            return {\r\n                scope: {\r\n                    sliderIndex: '=pipImageIndex'\r\n                },\r\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\r\n                    var blocks,\r\n                        index = 0, newIndex,\r\n                        direction,\r\n                        type = $parse($attrs.pipAnimationType)($scope),\r\n                        DEFAULT_INTERVAL = 4500,\r\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\r\n                        timePromises,\r\n                        throttled;\r\n\r\n                    $element.addClass('pip-image-slider');\r\n                    $element.addClass('pip-animation-' + type);\r\n\r\n                    $scope.swipeStart = 0;\r\n                    /*\r\n                     if ($swipe)\r\n                     $swipe.bind($element, {\r\n                     'start': function(coords) {\r\n                     if (coords) $scope.swipeStart = coords.x;\r\n                     else $scope.swipeStart = 0;\r\n                     },\r\n                     'end': function(coords) {\r\n                     var delta;\r\n                     if (coords) {\r\n                     delta = $scope.swipeStart - coords.x;\r\n                     if (delta > 150)  $scope.nextBlock();\r\n                     if (delta < -150)  $scope.prevBlock();\r\n                     $scope.swipeStart = 0;\r\n                     } else $scope.swipeStart = 0;\r\n                     }\r\n                     });\r\n                     */\r\n                    setIndex();\r\n\r\n                    $timeout(function () {\r\n                        blocks = $element.find('.pip-animation-block');\r\n                        if (blocks.length > 0) {\r\n                            $(blocks[0]).addClass('pip-show');\r\n                        }\r\n                    });\r\n\r\n                    startInterval();\r\n                    throttled = _.throttle(function () {\r\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\r\n                        index = newIndex;\r\n                        setIndex();\r\n                    }, 700);\r\n\r\n                    $scope.nextBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                        direction = 'next';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.prevBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\r\n                        direction = 'prev';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.slideTo = function (nextIndex) {\r\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\r\n                            return;\r\n                        }\r\n\r\n                        restartInterval();\r\n                        newIndex = nextIndex;\r\n                        direction = nextIndex > index ? 'next' : 'prev';\r\n                        throttled();\r\n                    };\r\n                    \r\n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\r\n\r\n                    function setIndex() {\r\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\r\n                    }\r\n\r\n                    function startInterval() {\r\n                        timePromises = $interval(function () {\r\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                            direction = 'next';\r\n                            throttled();\r\n                        }, interval || DEFAULT_INTERVAL);\r\n                    }\r\n\r\n                    function stopInterval() {\r\n                        $interval.cancel(timePromises);\r\n                    }\r\n\r\n                    $element.on('$destroy', function () {\r\n                        stopInterval();\r\n                        $pipImageSlider.removeSlider($attrs.id);\r\n                    });\r\n\r\n                    function restartInterval() {\r\n                        stopInterval();\r\n                        startInterval();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider.Service', []);\r\n\r\n    thisModule.service('$pipImageSlider',\r\n        function ($timeout) {\r\n\r\n            var ANIMATION_DURATION = 550,\r\n                sliders = {};\r\n\r\n            return {\r\n                nextCarousel: nextCarousel,\r\n                prevCarousel: prevCarousel,\r\n                toBlock: toBlock,\r\n                registerSlider: register,\r\n                removeSlider: remove,\r\n                getSliderScope: getSlider\r\n            };\r\n\r\n            function register(sliderId, sliderScope) {\r\n                sliders[sliderId] = sliderScope;\r\n            }\r\n            \r\n            function remove(sliderId) {\r\n                delete sliders[sliderId];\r\n            }\r\n\r\n            function getSlider(sliderId) {\r\n                return sliders[sliderId];\r\n            }\r\n\r\n            function nextCarousel(nextBlock, prevBlock) {\r\n                nextBlock.addClass('pip-next');\r\n                \r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function prevCarousel(nextBlock, prevBlock) {\r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\r\n                var prevBlock = $(blocks[oldIndex]),\r\n                    blockIndex = nextIndex,\r\n                    nextBlock = $(blocks[blockIndex]);\r\n\r\n                if (type === 'carousel') {\r\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                    if (direction && (direction === 'prev' || direction === 'next')) {\r\n                        if (direction === 'prev') {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    } else {\r\n                        if (nextIndex && nextIndex < oldIndex) {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    }\r\n                } else {\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderButton', []);\r\n\r\n    thisModule.directive('pipSliderButton',\r\n        function () {\r\n            return {\r\n                scope: {},\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var type = $parse($attrs.pipButtonType)($scope),\r\n                        sliderId = $parse($attrs.pipSliderId)($scope);\r\n\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || !type) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId)[type + 'Block']();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderIndicator', []);\r\n\r\n    thisModule.directive('pipSliderIndicator',\r\n        function () {\r\n            return {\r\n                scope: false,\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\r\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\r\n\r\n                    $element.css('cursor', 'pointer');\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || slideTo && slideTo < 0) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId).slideTo(slideTo);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ndeclare var marked: any;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\r\n\r\n    thisModule.run(function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            pipTranslate.setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': ':',\r\n                'checklist': '',\r\n                'documents': '',\r\n                'pictures': '',\r\n                'location': '',\r\n                'time': ''\r\n            });\r\n        }\r\n    });\r\n\r\n    thisModule.directive('pipMarkdown',\r\n        function ($parse, $injector) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                link: function ($scope: any, $element, $attrs: any) {\r\n                    var\r\n                        textGetter = $parse($attrs.pipText),\r\n                        listGetter = $parse($attrs.pipList),\r\n                        clampGetter = $parse($attrs.pipLineCount);\r\n\r\n                    function describeAttachments(array) {\r\n                        var attachString = '',\r\n                            attachTypes = [];\r\n\r\n                        _.each(array, function (attach) {\r\n                            if (attach.type && attach.type !== 'text') {\r\n                                if (attachString.length === 0 && pipTranslate) {\r\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                                }\r\n\r\n                                if (attachTypes.indexOf(attach.type) < 0) {\r\n                                    attachTypes.push(attach.type);\r\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                                    if (pipTranslate)\r\n                                        attachString += pipTranslate.translate(attach.type);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        return attachString;\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function bindText(value) {\r\n                        var textString, isClamped, height, options, obj;\r\n\r\n                        if (_.isArray(value)) {\r\n                            obj = _.find(value, function (item: any) {\r\n                                return item.type === 'text' && item.text;\r\n                            });\r\n\r\n                            textString = obj ? obj.text : describeAttachments(value);\r\n                        } else {\r\n                            textString = value;\r\n                        }\r\n\r\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\r\n                        isClamped = isClamped && textString && textString.length > 0;\r\n                        options = {\r\n                            gfm: true,\r\n                            tables: true,\r\n                            breaks: true,\r\n                            sanitize: true,\r\n                            pedantic: true,\r\n                            smartLists: true,\r\n                            smartypents: false\r\n                        };\r\n                        textString = marked(textString || '', options);\r\n                        if (isClamped) {\r\n                            height = 1.5 * clampGetter();\r\n                        }\r\n                        // Assign value as HTML\r\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\r\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\r\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\r\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n                        $element.find('a').attr('target', 'blank');\r\n                        if (!listGetter() && isClamped) {\r\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\r\n                        }\r\n                    }\r\n\r\n                    // Fill the text\r\n                    bindText(textGetter($scope));\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(textGetter, function (newValue) {\r\n                            bindText(newValue);\r\n                        });\r\n                    }\r\n\r\n                    $scope.$on('pipWindowResized', function () {\r\n                        bindText(textGetter($scope));\r\n                    });\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-markdown');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\n    thisModule.directive('pipPopover', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: true,\r\n            templateUrl: 'popover/popover.html',\r\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\r\n                var backdropElement, content;\r\n\r\n                backdropElement = $('.pip-popover-backdrop');\r\n                backdropElement.on('click keydown scroll', backdropClick);\r\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n                $timeout(function () {\r\n                    position();\r\n                    if ($scope.params.template) {\r\n                        content = $compile($scope.params.template)($scope);\r\n                        $element.find('.pip-popover').append(content);\r\n                    }\r\n\r\n                    init();\r\n                });\r\n\r\n                $timeout(function () {\r\n                    calcHeight();\r\n                }, 200);\r\n\r\n                $scope.onPopoverClick = onPopoverClick;\r\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \r\n\r\n                $rootScope.$on('pipPopoverResize', onResize);\r\n                $(window).resize(onResize);\r\n\r\n                function init() {\r\n                    backdropElement.addClass('opened');\r\n                    $('.pip-popover-backdrop').focus();\r\n                    if ($scope.params.timeout) {\r\n                        $timeout(function () {\r\n                            closePopover();\r\n                        }, $scope.params.timeout);\r\n                    }\r\n                }\r\n\r\n                function backdropClick() {\r\n                    if ($scope.params.cancelCallback) {\r\n                        $scope.params.cancelCallback();\r\n                    }\r\n\r\n                    closePopover();\r\n                }\r\n\r\n                function closePopover() {\r\n                    backdropElement.removeClass('opened');\r\n                    $timeout(function () {\r\n                        backdropElement.remove();\r\n                    }, 100);\r\n                }\r\n\r\n                function onPopoverClick($e) {\r\n                    $e.stopPropagation();\r\n                }\r\n\r\n                function position() {\r\n                    if ($scope.params.element) {\r\n                        var element = $($scope.params.element),\r\n                            pos = element.offset(),\r\n                            width = element.width(),\r\n                            height = element.height(),\r\n                            docWidth = $(document).width(),\r\n                            docHeight = $(document).height(),\r\n                            popover = backdropElement.find('.pip-popover');\r\n\r\n                        if (pos) {\r\n                            popover\r\n                                .css('max-width', docWidth - (docWidth - pos.left))\r\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                                .css('left', pos.left - popover.width() + width / 2)\r\n                                .css('top', pos.top + height + 16);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function calcHeight() {\r\n                    if ($scope.params.calcHeight === false) { return; }\r\n\r\n                    var popover = backdropElement.find('.pip-popover'),\r\n                        title = popover.find('.pip-title'),\r\n                        footer = popover.find('.pip-footer'),\r\n                        content = popover.find('.pip-content'),\r\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n\r\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n                }\r\n\r\n                function onResize() {\r\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n                    position();\r\n                    calcHeight();\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover.Service', []);\r\n\r\n    thisModule.service('pipPopoverService',\r\n        function ($compile, $rootScope, $timeout) {\r\n            var popoverTemplate;\r\n\r\n            popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n\r\n            return {\r\n                show: onShow,\r\n                hide: onHide,\r\n                resize: onResize\r\n            };\r\n\r\n            function onShow(p) {\r\n                var element, scope, params, content;\r\n\r\n                element = $('body');\r\n                if (element.find('md-backdrop').length > 0) { return; }\r\n                onHide();\r\n                scope = $rootScope.$new();\r\n                params = p && _.isObject(p) ? p : {};\r\n                scope.params = params;\r\n                scope.locals = params.locals;\r\n                content = $compile(popoverTemplate)(scope);\r\n                element.append(content);\r\n            }\r\n\r\n            function onHide() {\r\n                var backdropElement = $('.pip-popover-backdrop');\r\n\r\n                backdropElement.removeClass('opened');\r\n                $timeout(function () {\r\n                    backdropElement.remove();\r\n                }, 100);\r\n            }\r\n\r\n            function onResize() {\r\n                $rootScope.$broadcast('pipPopoverResize');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipRoutingProgress', ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRoutingProgress', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                    showProgress: '&',\r\n                    logoUrl: '@'\r\n                },\r\n            templateUrl: 'progress/routing_progress.html',\r\n            controller: 'pipRoutingProgressController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipRoutingProgressController',\r\n        function ($scope, $element, $attrs) {\r\n            var  image = $element.children('img');          \r\n\r\n            loadProgressImage();\r\n\r\n            return;\r\n\r\n            function loadProgressImage() {\r\n                if ($scope.logoUrl) {\r\n                    image.attr('src', $scope.logoUrl);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate']);\r\n\r\n    thisModule.controller('pipToastController',\r\n        function ($scope, $mdToast, toast, $injector) {\r\n            var pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \r\n                ? $injector.get('pipErrorDetailsDialog') : null;\r\n\r\n            // if (toast.type && sounds['toast_' + toast.type]) {\r\n            //     sounds['toast_' + toast.type].play();\r\n            // }\r\n\r\n            $scope.message = toast.message;\r\n            $scope.actions = toast.actions;\r\n            $scope.toast = toast;\r\n            \r\n            if (toast.actions.length === 0) {\r\n                $scope.actionLenght = 0;\r\n            } else if (toast.actions.length === 1) {\r\n                $scope.actionLenght = toast.actions[0].toString().length;\r\n            } else {\r\n                $scope.actionLenght = null;\r\n            }\r\n\r\n            $scope.showDetails = pipErrorDetailsDialog != null;\r\n            $scope.onDetails = function () {\r\n                $mdToast.hide();\r\n\r\n                if (pipErrorDetailsDialog) {\r\n                    pipErrorDetailsDialog.show(\r\n                        {\r\n                            error: $scope.toast.error,\r\n                            ok: 'Ok'\r\n                        },\r\n                        angular.noop,\r\n                        angular.noop\r\n                    );\r\n                }\r\n            };\r\n\r\n            $scope.onAction = function (action) {\r\n                $mdToast.hide(\r\n                    {\r\n                        action: action,\r\n                        id: toast.id,\r\n                        message: toast.message\r\n                    });\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.service('pipToasts',\r\n        function ($rootScope, $mdToast) {\r\n            var\r\n                SHOW_TIMEOUT = 20000,\r\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\r\n                toasts = [],\r\n                currentToast,\r\n                sounds = {};\r\n\r\n            /** pre-load sounds for notifications */\r\n                // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\r\n                // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\r\n                // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\r\n\r\n                // Remove error toasts when page is changed\r\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\r\n            $rootScope.$on('pipSessionClosed', onClearToasts);\r\n            $rootScope.$on('pipIdentityChanged', onClearToasts);\r\n\r\n            return {\r\n                showNotification: showNotification,\r\n                showMessage: showMessage,\r\n                showError: showError,\r\n                hideAllToasts: hideAllToasts,\r\n                clearToasts: clearToasts,\r\n                removeToastsById: removeToastsById,\r\n                getToastById: getToastById\r\n            };\r\n\r\n            // Take the next from queue and show it\r\n            function showNextToast() {\r\n                var toast;\r\n\r\n                if (toasts.length > 0) {\r\n                    toast = toasts[0];\r\n                    toasts.splice(0, 1);\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            // Show toast\r\n            function showToast(toast) {\r\n                currentToast = toast;\r\n\r\n                $mdToast.show({\r\n                    templateUrl: 'toast/toast.html',\r\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: 'pipToastController',\r\n                    locals: {\r\n                        toast: currentToast,\r\n                        sounds: sounds\r\n                    }\r\n                })\r\n                    .then(\r\n                    function showToastOkResult(action) {\r\n                        if (currentToast.successCallback) {\r\n                            currentToast.successCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    },\r\n                    function showToastCancelResult(action) {\r\n                        if (currentToast.cancelCallback) {\r\n                            currentToast.cancelCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    }\r\n                );\r\n            }\r\n\r\n            function addToast(toast) {\r\n                if (currentToast && toast.type !== 'error') {\r\n                    toasts.push(toast);\r\n                } else {\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            function removeToasts(type) {\r\n                var result = [];\r\n\r\n                _.each(toasts, function (toast) {\r\n                    if (!toast.type || toast.type !== type) {\r\n                        result.push(toast);\r\n                    }\r\n                });\r\n                toasts = _.cloneDeep(result);\r\n            }\r\n\r\n            function removeToastsById(id) {\r\n                _.remove(toasts, {id: id});\r\n            }\r\n\r\n            function getToastById(id) {\r\n                return _.find(toasts, {id: id});\r\n            }\r\n\r\n            function onStateChangeSuccess() {\r\n                toasts = _.reject(toasts, function (toast) {\r\n                    return toast.type === 'error';\r\n                });\r\n\r\n                if (currentToast && currentToast.type === 'error') {\r\n                    $mdToast.cancel();\r\n                    showNextToast();\r\n                }\r\n            }\r\n\r\n            function onClearToasts() {\r\n                clearToasts();\r\n            }\r\n\r\n            // Show new notification toast at the top right\r\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\r\n                // pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'showNotification: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'showNotification: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'notification',\r\n                    message: message,\r\n                    actions: actions || ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback,\r\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\r\n                });\r\n            }\r\n\r\n            // Show new message toast at the top right\r\n            function showMessage(message, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showMessage:successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'message',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Show error toast at the bottom right after error occured\r\n            function showError(message, successCallback, cancelCallback, id, error) {\r\n                // pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showError: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    error: error,\r\n                    type: 'error',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Hide and clear all toast when user signs out\r\n            function hideAllToasts() {\r\n                $mdToast.cancel();\r\n                toasts = [];\r\n            }\r\n\r\n            // Clear toasts by type\r\n            function clearToasts(type?: any) {\r\n                if (type) {\r\n                    // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n                    removeToasts(type);\r\n                } else {\r\n                    $mdToast.cancel();\r\n                    toasts = [];\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{class}}\" pip-selected=\"currentColorIndex\" pip-enter-space-press=\"enterSpacePress($event)\">\\n' +\n    '    <li tabindex=\"-1\" ng-repeat=\"color in colors track by color\">\\n' +\n    '        <md-button  tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"selectColor($index)\" aria-label=\"color\" ng-disabled=\"disabled()\">\\n' +\n    '            <md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == currentColor ? \\'circle\\' : \\'radio-off\\' }}\">\\n' +\n    '            </md-icon>\\n' +\n    '        </md-button>\\n' +\n    '    </li>\\n' +\n    '</ul>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"params.templateUrl\" class=\\'pip-popover flex layout-column\\'\\n' +\n    '     ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\">\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<div ng-if=\"params.template\" class=\\'pip-popover\\' ng-click=\"onPopoverClick($event)\">\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\"\\n' +\n    '        ng-show=\"showProgress()\">\\n' +\n    '     <!--ng-show=\"$routing || $reset || toolInitialized\">-->\\n' +\n    '    <div class=\"loader\">\\n' +\n    '        <svg class=\"circular\" viewBox=\"25 25 50 50\">\\n' +\n    '            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\\n' +\n    '        </svg>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <img src=\"\"  height=\"40\" width=\"40\" class=\"pip-img\">\\n' +\n    '\\n' +\n    '    <md-progress-circular md-diameter=\"96\"\\n' +\n    '                          class=\"fix-ie\"></md-progress-circular>\\n' +\n    '\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\"\\n' +\n    '          ng-class=\"{\\'pip-error\\': toast.type==\\'error\\',\\n' +\n    '          \\'pip-column-toast\\': toast.type == \\'error\\' || toast.actions.length > 1 || actionLenght > 4,\\n' +\n    '          \\'pip-no-action-toast\\': actionLenght == 0}\"\\n' +\n    '          style=\"height:initial; max-height: initial; \">\\n' +\n    '\\n' +\n    '    <span class=\"flex-var pip-text\" ng-bind-html=\"message\"></span>\\n' +\n    '    <div class=\"layout-row layout-align-end-start\" class=\"pip-actions\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\">\\n' +\n    '        <md-button class=\"flex-fixed pip-toast-button\" ng-if=\"toast.type==\\'error\\' && toast.error && showDetails\" ng-click=\"onDetails()\">Details</md-button>\\n' +\n    '        <md-button class=\"flex-fixed pip-toast-button\"\\n' +\n    '                   ng-click=\"onAction(action)\"\\n' +\n    '                   ng-repeat=\"action in actions\"\\n' +\n    '                   aria-label=\"{{::action| translate}}\">\\n' +\n    '            {{::action| translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '</md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.js.map\n","/**\r\n * @file Registration of all WebUI list controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipLists', [\r\n\t    'pipTagList'\r\n    ]);\r\n    \r\n})();","/**\r\n * @file Tag list control\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n * @todo\r\n * - Improve samples in sampler app\r\n * - What's pipType and pipTypeLocal? Give better name\r\n * - Do not use ng-if, instead generate template statically\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTagList', ['pipList.Translate']);\r\n\r\n    /**\r\n     * pipTags - set of tags\r\n     * pipType - additional type tag\r\n     * pipTypeLocal - additional translated type tag\r\n     */\r\n    thisModule.directive('pipTagList',\r\n        function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipTags: '=',\r\n                    pipType: '=',\r\n                    pipTypeLocal: '='\r\n                },\r\n                templateUrl: 'tag_list/tag_list.html',\r\n                controller: function ($scope, $element, $attrs) {\r\n                    var tagsGetter;\r\n\r\n                    tagsGetter = $parse($attrs.pipTags);\r\n                    $element.css('display', 'block');\r\n                    // Set tags\r\n                    $scope.tags = tagsGetter($scope);\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(tagsGetter, function () {\r\n                            $scope.tags = tagsGetter($scope);\r\n                        });\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-tag-list');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/tag_list.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\"\\n' +\n    '     ng-if=\"pipType && !pipTypeLocal\">\\n' +\n    '\\n' +\n    '    <span>{{pipType.toUpperCase() | translate | uppercase}}</span>\\n' +\n    '</div>\\n' +\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\"\\n' +\n    '     ng-if=\"pipType && pipTypeLocal\">\\n' +\n    '\\n' +\n    '    <span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span>\\n' +\n    '</div>\\n' +\n    '<div class=\"pip-chip rm4\" ng-repeat=\"tag in pipTags\">\\n' +\n    '    <span>{{::tag}}</span>\\n' +\n    '</div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.js.map\n","'use strict';\r\n\r\nangular.module('pipDateTime', [\r\n    'pipDateTime.Service', 'pipDateTime.Filter'\r\n]);\r\n","'use strict';\r\n\r\nfunction formatTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";\r\n\r\n    return function (value: any, format: string): string {\r\n        return pipDateTime.formatTime(value, format);\r\n    }\r\n}\r\n\r\nfunction formatDateOptionalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, format: string): string {\r\n        return pipDateTime.formatDateOptional(value, format);\r\n    }\r\n}\r\n\r\nfunction formatLongDateFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDate(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMonthFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any) {\r\n        return pipDateTime.formatMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatYearFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatYear(value);\r\n    }\r\n}\r\n\r\nfunction formatWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDayOfWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDayOfWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatDateNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatDateNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatTimeNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongTimeNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthDayFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatShortMonthDayFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatDateRangeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value1: any, value2: any): string {\r\n        return pipDateTime.formatDateRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatDateTimeRangeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value1: any, value2: any): string {\r\n        return pipDateTime.formatDateTimeRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortISOWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekOrdinalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatISOWeekOrdinal(value);\r\n    }\r\n}\r\n\r\nfunction formatDateYFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateYFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatMillisecondsToSecondsFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatMillisecondsToSeconds(value);\r\n    }\r\n}\r\n\r\nfunction formatElapsedIntervalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, start: any): string {\r\n        return pipDateTime.formatElapsedInterval(value, start);\r\n    }\r\n}\r\n\r\nfunction getDateJSONFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.getDateJSON(value);\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipDateTime.Filter', [])\r\n    .filter('formatTime', formatTimeFilter)\r\n    .filter('formatDateOptional', formatDateOptionalFilter)\r\n    .filter('formatShortDate', formatShortDateFilter)\r\n    .filter('formatLongDate', formatLongDateFilter)\r\n    .filter('formatMonth', formatMonthFilter)\r\n    .filter('formatLongMonth', formatLongMonthFilter)\r\n    .filter('formatYear', formatYearFilter)\r\n    .filter('formatWeek', formatWeekFilter)\r\n    .filter('formatShortWeek', formatShortWeekFilter)\r\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\r\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\r\n    .filter('formatShortTime', formatShortTimeFilter)\r\n    .filter('formatLongTime', formatLongTimeFilter)\r\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\r\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\r\n    .filter('formatDateNumber', formatDateNumberFilter)\r\n    .filter('formatLongDateNumber', formatLongDateNumberFilter)\r\n    .filter('formatTimeNumber', formatTimeNumberFilter)\r\n    .filter('formatLongTimeNumber', formatLongTimeNumberFilter)\r\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\r\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\r\n    .filter('formatDateRange', formatDateRangeFilter)\r\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\r\n    .filter('formatISOWeek', formatISOWeekFilter)\r\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\r\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\r\n    .filter('formatDateY', formatDateYFilter)\r\n    .filter('formatLongDateY', formatLongDateYFilter)\r\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\r\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\r\n","'use strict';\r\n\r\nexport interface IDateTimeService {\r\n    formatTime(value: any, format: string): string;\r\n    formatDateOptional(value: any, format: string): string;\r\n    formatShortDate(value: any): string;\r\n    formatLongDate(value: any): string;\r\n    formatMonth(value: any): string;\r\n    formatLongMonth(value: any): string;\r\n    formatYear(value: any): string;\r\n    formatWeek(value: any): string;\r\n    formatShortWeek(value: any): string;\r\n    formatShortDateTime(value: any): string;\r\n    formatLongDateTime(value: any): string;\r\n    formatShortTime(value: any): string;\r\n    formatLongTime(value: any): string;\r\n    formatShortDayOfWeek(value: any): string;\r\n    formatLongDayOfWeek(value: any): string;\r\n    formatDateNumber(value: any): string;\r\n    formatLongDateNumber(value: any): string;\r\n    formatTimeNumber(value: any): string;\r\n    formatLongTimeNumber(value: any): string;\r\n    formatLongMonthDay(value: any): string;\r\n    formatShortMonthDay(value: any): string;\r\n    formatDateRange(value1: any, value2: any): string;\r\n    formatDateTimeRange(value1: any, value2: any): string;\r\n    formatISOWeek(value: any): string;\r\n    formatShortISOWeek(value: any): string;\r\n    formatISOWeekOrdinal(value: any): string;\r\n    formatDateY(value: any): string;\r\n    formatLongDateY(value: any): string;\r\n    formatMillisecondsToSeconds(value: any): string;\r\n    formatElapsedInterval(value: any, start: any): string;\r\n    getDateJSON(date: any): string;\r\n    getNextStart(value: any, category: string): any;\r\n    getPrevStart(value: any, category: string): any;\r\n    getNowStart(category: string): any;\r\n    addHours(value: any, hours: number): any;\r\n    toStartDay(value: any): any;\r\n    toEndDay(value: any, offset: number): any;\r\n    toStartWeek(value: any): any;\r\n    toEndWeek(value: any, offset: number): any;\r\n    toStartMonth(value: any): any;\r\n    toEndMonth(value: any, offset: number): any;\r\n    toStartYear(value: any): any;\r\n    toEndYear(value: any, offset: number): any;\r\n\r\n}    \r\n\r\nexport interface IDateTimeProvider extends IDateTimeService, ng.IServiceProvider {\r\n\r\n}    \r\n\r\nclass DateTime implements IDateTimeService{\r\n    protected _momentRanged = new Array('year','month','week','isoweek', 'day');\r\n    protected _defaultFormat = 'LL'\r\n\r\n    private isUndefinedOrNull(value: any): boolean {\r\n        return angular.isUndefined(value) || value === null;\r\n    }\r\n\r\n    private getRange(value: string): string {\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return 'day';\r\n        }\r\n\r\n        let index = this._momentRanged.indexOf(value)\r\n\r\n        if (index < 0) {\r\n            return 'day'\r\n        } else {\r\n            return this._momentRanged[index];\r\n        }\r\n    }\r\n\r\n    private getOperationRange(value: string): string {\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return 'day';\r\n        }\r\n\r\n        let range = value == 'isoweek' ? 'week' : value,\r\n            index = this._momentRanged.indexOf(range)\r\n\r\n        if (index < 0) {\r\n            return 'day'\r\n        } else {\r\n            return this._momentRanged[index];\r\n        }\r\n    }\r\n\r\n    private formatDateTime(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            formatTpl: string;\r\n        \r\n            if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n        return date.format(formatTpl);\r\n    }\r\n\r\n    private formatDateTimeY(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            nowDate: any,\r\n            formatMoment: string;\r\n        \r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        nowDate = moment();\r\n        formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n        if (nowDate.year() == date.year()) {\r\n            formatMoment = formatMoment.replace(/Y/g,'').replace(/^\\W|\\W$|\\W\\W/,'');\r\n        }\r\n\r\n        return date.format(formatMoment);\r\n    }\r\n\r\n        private formatDay(value: any, basicFormat: string): string {\r\n            var date: any,\r\n                format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\r\n                formatMonthYearless = format.replace(/Y/g,'').replace(/^\\W|\\W$|\\W\\W/,'').replace(/M/g,'');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n\r\n            return date.format(formatMonthYearless);\r\n        }\r\n\r\n        private formatMonthDay(value: any, basicFormat: string): string {\r\n            var date: any,\r\n                format = basicFormat ? basicFormat : this._defaultFormat,\r\n                formatLL = moment.localeData().longDateFormat(format),\r\n                formatYearlessLL = formatLL.replace(/Y/g,'').replace(/^\\W|\\W$|\\W\\W/,'');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n\r\n            return date.format(formatYearlessLL);\r\n        }\r\n\r\n        private formatRange(value1: any, value2: any, basicFormat: string): string {\r\n            var dateStart: any, \r\n                dateEnd: any,\r\n                format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            if (this.isUndefinedOrNull(value1)) { \r\n                dateStart = null;\r\n            } else { \r\n                dateStart = moment(value1);\r\n            }\r\n            if (this.isUndefinedOrNull(value2)) {\r\n                dateEnd = null;\r\n            } else { \r\n                dateEnd = moment(value2);\r\n            }\r\n\r\n            if (dateStart === null && dateEnd === null) return '';\r\n\r\n            if  (dateStart === null) {\r\n                return dateEnd.format(basicFormat);\r\n            } else if (dateEnd === null || dateStart.isSame(dateEnd)) {\r\n                return dateStart.format(basicFormat);;\r\n            }\r\n\r\n            if (dateStart.isAfter(dateEnd)) {\r\n                // todo localization\r\n                throw new Error('Date range error. Start date is more than end date.');\r\n            }\r\n\r\n            if (dateStart.year() == dateEnd.year()) {\r\n                if (dateStart.month() == dateEnd.month()) {\r\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n                } else {\r\n                    return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n                }\r\n            } else {\r\n                return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n            }                \r\n        }\r\n\r\n    private toStartRange(value: any, range: string): any {\r\n        var date: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }       \r\n\r\n        return date.startOf(range).toDate();    \r\n    }\r\n\r\n    private toEndRange(value: any, range: string, offset: number): any {\r\n        var date: any, \r\n            result: any,\r\n            mssOffset: number;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (!angular.isNumber(offset)) {\r\n            mssOffset = 0;\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }       \r\n\r\n        if (mssOffset) {\r\n            result = date.startOf(range).add(mssOffset, 'milliseconds');\r\n        } else {\r\n            result = date.startOf(range);\r\n        }\r\n\r\n        return date.startOf(range).toDate();    \r\n    }\r\n\r\n    public constructor() {};        \r\n\r\n    // formating functions \r\n    // -------------------\r\n\r\n    // todo Optional\r\n    public formatTime(value: any, format: string): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n    // todo Optional\r\n    public formatDateOptional(value: any, format: string): string {\r\n        return this.formatDateTime(value, 'L');\r\n    }\r\n    \r\n    public formatShortDate(value: any): string {\r\n        return this.formatDateTime(value, 'L');\r\n    }\r\n\r\n    public formatLongDate(value: any): string {\r\n        return this.formatDateTime(value, 'LL');\r\n    }\r\n\r\n    public formatMonth(value: any): string {\r\n        return this.formatDateTime(value, 'MM');\r\n    }\r\n\r\n    public formatLongMonth(value: any): string {\r\n        return this.formatDateTime(value, 'MMMM');\r\n    }\r\n\r\n    public formatYear(value: any): string {\r\n        return this.formatDateTime(value, 'YYYY');\r\n    }\r\n\r\n    public formatWeek(value: any): string {\r\n        return this.formatDateTime(value, 'ww');\r\n    }\r\n\r\n    public formatShortWeek(value: any): string {\r\n        return this.formatDateTime(value, 'w');\r\n    }\r\n\r\n    public formatShortDateTime(value: any): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n\r\n    public formatLongDateTime(value: any): string {\r\n        return this.formatDateTime(value, 'LLLL');\r\n    }\r\n\r\n    public formatShortTime(value: any): string {\r\n        return this.formatDateTime(value, 'LT');\r\n    }\r\n\r\n    public formatLongTime(value: any): string {\r\n        return this.formatDateTime(value, 'LTS');\r\n    }\r\n\r\n    public formatShortDayOfWeek(value: any): string {\r\n        return this.formatDateTime(value, 'dd');\r\n    }\r\n\r\n    public formatLongDayOfWeek(value: any): string {\r\n        return this.formatDateTime(value, 'dddd');\r\n    }\r\n\r\n    // numeric month writing formats\r\n    // --------------\r\n\r\n    // numeric month writing \r\n    public formatDateNumber(value: any): string {\r\n        return this.formatDateTime(value, 'l');\r\n    }\r\n    // numeric month writing \r\n    public formatLongDateNumber(value: any): string {\r\n        return this.formatDateTime(value, 'll');\r\n    }  \r\n\r\n    public formatTimeNumber(value: any): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n\r\n    public formatLongTimeNumber(value: any): string {\r\n        return this.formatDateTime(value, 'LLLL');\r\n    }\r\n\r\n    public formatLongMonthDay(value: any): string {\r\n        return this.formatMonthDay(value, 'LL');\r\n    }\r\n\r\n    public formatShortMonthDay(value: any): string {\r\n        return this.formatMonthDay(value, 'L');        \r\n    }  \r\n\r\n    public formatDateRange(value1: any, value2: any): string {\r\n        return this.formatRange(value1, value2, 'LL');\r\n    } \r\n\r\n    public formatDateTimeRange(value1: any, value2: any): string {\r\n        return this.formatRange(value1, value2, 'LLL');\r\n    }    \r\n\r\n    // iso function\r\n    // --------------\r\n\r\n    public formatISOWeek(value: any): string {\r\n        return this.formatDateTime(value, 'WW');\r\n    }\r\n\r\n    public formatShortISOWeek(value: any): string {\r\n        return this.formatDateTime(value, 'W');\r\n    }\r\n\r\n    public formatISOWeekOrdinal(value: any): string {\r\n        return this.formatDateTime(value, 'Wo');\r\n    }        \r\n    // special formats \r\n    // --------------\r\n\r\n    // year option displays if the current year is not equal to, the date of \r\n    public formatDateY(value: any): string {\r\n        return this.formatDateTimeY(value, 'L');\r\n    }\r\n\r\n    // year option displays if the current year is not equal to, the date of\r\n    public formatLongDateY(value: any): string {\r\n        return this.formatDateTimeY(value, 'LL');\r\n    }\r\n\r\n    // todo\r\n    public formatMillisecondsToSeconds(value: any): string {\r\n        return '';\r\n    }\r\n\r\n    // todo\r\n    public formatElapsedInterval(value: any, start: any): string {\r\n        var date: any, \r\n            nowDate: any;\r\n        \r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n        if (this.isUndefinedOrNull(start)) {\r\n            nowDate = moment();\r\n        } else {\r\n            nowDate = moment(start);\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid() || !nowDate.isValid()) {\r\n            return '';\r\n        }\r\n\r\n            return moment(date).fromNow(nowDate);           \r\n    }\r\n\r\n    public getDateJSON(date: any): string {\r\n        return JSON.stringify(moment(date));                \r\n    }\r\n\r\n    // navigation functions \r\n    // ------------------\r\n\r\n    public getNextStart(value: any, category: string): any {\r\n            var date: any, \r\n                range: string, \r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(category);\r\n            result = moment(date).startOf(range).add(this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public getPrevStart(value: any, category: string): any {\r\n            var date: any, \r\n                range: string, \r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(category);\r\n            result = moment(date).startOf(range).add(-1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public getNowStart(category: string): any {\r\n            var date: any, \r\n                range: string, \r\n                result: any;\r\n\r\n            date = moment();\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(category) \r\n            result = moment(date).startOf(range);\r\n\r\n            return result.toDate();\r\n        }  \r\n\r\n        public addHours(value: any, hours: number): any {\r\n            var date: any;\r\n\r\n            if (this.isUndefinedOrNull(value) || !angular.isNumber(hours)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return date.add(hours, 'hours').toDate();\r\n        }  \r\n\r\n        public toStartDay(value: any): any {\r\n            return this.toStartRange(value, 'day');\r\n        }  \r\n\r\n        public toEndDay(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'day', offset);\r\n        }  \r\n\r\n        public toStartWeek(value: any): any {\r\n            return this.toStartRange(value, 'week');\r\n        }  \r\n\r\n        public toEndWeek(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'week', offset);\r\n        }  \r\n\r\n        public toStartMonth(value: any): any {\r\n            return this.toStartRange(value, 'month');\r\n        }  \r\n\r\n        public toEndMonth(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'month', offset);\r\n        }  \r\n\r\n        public toStartYear(value: any): any {\r\n            return this.toStartRange(value, 'year');\r\n        }  \r\n\r\n        public toEndYear(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'year', offset);\r\n        }  \r\n\r\n}\r\n\r\nclass DateTimeService {\r\n    private _datetime: DateTime;\r\n\r\n    public constructor(\r\n        datetime: DateTime,\r\n    ) {\r\n        this._datetime = datetime;\r\n    }\r\n\r\n    // todo Optional\r\n    public formatTime(value: any, format: string): string {\r\n        return this._datetime.formatTime(value, format);\r\n    }\r\n    // todo Optional\r\n    public formatDateOptional(value: any, format: string): string {\r\n        return this._datetime.formatDateOptional(value, format);\r\n    }\r\n\r\n    public formatShortDate(value: any): string {\r\n        return this._datetime.formatShortDate(value);\r\n    }\r\n\r\n    public formatLongDate(value: any): string {\r\n        return this._datetime.formatLongDate(value);\r\n    }\r\n\r\n    public formatMonth(value: any): string {\r\n        return this._datetime.formatMonth(value);\r\n    }\r\n\r\n    public formatLongMonth(value: any): string {\r\n        return this._datetime.formatLongMonth(value);\r\n    }\r\n\r\n    public formatYear(value: any): string {\r\n        return this._datetime.formatYear(value);\r\n    }\r\n\r\n    public formatWeek(value: any): string {\r\n        return this._datetime.formatWeek(value);\r\n    }\r\n\r\n    public formatShortWeek(value: any): string {\r\n        return this._datetime.formatShortWeek(value);\r\n    }\r\n\r\n    public formatShortDateTime(value: any): string {\r\n        return this._datetime.formatShortDateTime(value);\r\n    }\r\n\r\n    public formatLongDateTime(value: any): string {\r\n        return this._datetime.formatLongDateTime(value);\r\n    }\r\n\r\n    public formatShortTime(value: any): string {\r\n        return this._datetime.formatShortTime(value);\r\n    }\r\n\r\n    public formatLongTime(value: any): string {\r\n        return this._datetime.formatLongTime(value);\r\n    }\r\n\r\n    public formatShortDayOfWeek(value: any): string {\r\n        return this._datetime.formatShortDayOfWeek(value);\r\n    }\r\n\r\n    public formatLongDayOfWeek(value: any): string {\r\n        return this._datetime.formatLongDayOfWeek(value);\r\n    }\r\n\r\n    // numeric month writing formats\r\n    // --------------\r\n\r\n    // numeric month writing \r\n    public formatDateNumber(value: any): string {\r\n        return this._datetime.formatDateNumber(value);\r\n    }\r\n    // numeric month writing \r\n    public formatLongDateNumber(value: any): string {\r\n        return this._datetime.formatLongDateNumber(value);\r\n    }  \r\n\r\n    public formatTimeNumber(value: any): string {\r\n        return this._datetime.formatTimeNumber(value);\r\n    }\r\n\r\n    public formatLongTimeNumber(value: any): string {\r\n        return this._datetime.formatLongTimeNumber(value);\r\n    }\r\n\r\n    public formatLongMonthDay(value: any): string {\r\n        return this._datetime.formatLongMonthDay(value);\r\n    }\r\n\r\n    public formatShortMonthDay(value: any): string {\r\n        return this._datetime.formatShortMonthDay(value);        \r\n    }  \r\n\r\n    public formatDateRange(value1: any, value2: any): string {\r\n        return this._datetime.formatDateRange(value1, value2);\r\n    } \r\n\r\n    public formatDateTimeRange(value1: any, value2: any): string {\r\n        return this._datetime.formatDateTimeRange(value1, value2);\r\n    }    \r\n\r\n    // iso function\r\n    // --------------\r\n\r\n    public formatISOWeek(value: any): string {\r\n        return this._datetime.formatISOWeek(value);\r\n    }\r\n\r\n    public formatShortISOWeek(value: any): string {\r\n        return this._datetime.formatShortISOWeek(value);\r\n    }\r\n\r\n    public formatISOWeekOrdinal(value: any): string {\r\n        return this._datetime.formatISOWeekOrdinal(value);\r\n    }        \r\n    // special formats \r\n    // --------------\r\n\r\n    // year option displays if the current year is not equal to, the date of \r\n    public formatDateY(value: any): string {\r\n        return this._datetime.formatDateY(value);\r\n    }\r\n\r\n    // year option displays if the current year is not equal to, the date of\r\n    public formatLongDateY(value: any): string {\r\n        return this._datetime.formatLongDateY(value);\r\n    }\r\n\r\n    // todo\r\n    public formatMillisecondsToSeconds(value: any) {\r\n        return this._datetime.formatMillisecondsToSeconds(value);\r\n    }\r\n\r\n    // todo\r\n    public formatElapsedInterval(value: any, start: any): string {\r\n        return this._datetime.formatElapsedInterval(value, start);         \r\n    }\r\n\r\n    public getDateJSON(date: any): string {\r\n        return this._datetime.getDateJSON(date);                \r\n    }\r\n\r\n    // navigation functions \r\n    // ------------------\r\n\r\n    public getNextStart(value: any, category: string): any {\r\n        return this._datetime.getNextStart(value, category);\r\n    }\r\n\r\n    public getPrevStart(value: any, category: string): any {\r\n        return this._datetime.getPrevStart(value, category);\r\n    }\r\n\r\n    public getNowStart(category: string): any {\r\n        return this._datetime.getNowStart(category);\r\n    }\r\n\r\n    public addHours(value: any, hours: number): any {\r\n        return this._datetime.addHours(value, hours);\r\n    } \r\n\r\n    public toStartDay(value: any): any {\r\n        return this._datetime.toStartDay(value);\r\n    } \r\n\r\n    public toEndDay(value: any, offset: number): any {\r\n        return this._datetime.toEndDay(value, offset);\r\n    } \r\n\r\n    public toStartWeek(value: any): any {\r\n        return this._datetime.toStartWeek(value);\r\n    } \r\n\r\n    public toEndWeek(value: any, offset: number): any {\r\n        return this._datetime.toEndWeek(value, offset);\r\n    } \r\n\r\n    public toStartMonth(value: any): any {\r\n        return this._datetime.toStartMonth(value);\r\n    } \r\n\r\n    public toEndMonth(value: any, offset: number): any {\r\n        return this._datetime.toEndMonth(value, offset);\r\n    } \r\n\r\n    public toStartYear(value: any): any {\r\n        return this._datetime.toStartYear(value);\r\n    } \r\n\r\n    public toEndYear(value: any, offset: number): any {\r\n        return this._datetime.toEndYear(value, offset);\r\n    }  \r\n\r\n}\r\n\r\nclass DateTimeProvider extends DateTime implements IDateTimeProvider {\r\n    private _translation: DateTime;\r\n    private _service: DateTimeService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public $get(): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new DateTimeService(this);\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipDateTime.Service', [])\r\n    .provider('pipDateTime', DateTimeProvider);\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDate', ['pipDates.Templates']);\r\n\r\n    thisModule.directive('pipDate',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    ngChange: '&'\r\n                },\r\n                templateUrl: 'date_directive/date.html',\r\n                controller: 'pipDateController'\r\n            };\r\n        }\r\n    );\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipDateController',\r\n        function ($scope, $element, $injector) { //pipTranslate\r\n            var value,\r\n                localeDate: any = moment.localeData(),\r\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\r\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\r\n                momentShortDays = localeDate._weekdaysMin,\r\n                momentFirstDayOfWeek = localeDate._week.dow;\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    DAY: 'Day',\r\n                    MONTH: 'Month',\r\n                    YEAR: 'Year'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    DAY: '',\r\n                    MONTH: '',\r\n                    YEAR: ''                    \r\n                });\r\n                $scope.dayLabel = pipTranslate.translate('DAY');\r\n                $scope.monthLabel = pipTranslate.translate('MONTH');\r\n                $scope.yearLabel = pipTranslate.translate('YEAR');\r\n            } else {\r\n                $scope.dayLabel = 'Day';\r\n                $scope.monthLabel = 'Month';                \r\n                $scope.yearLabel = 'Year';\r\n\r\n            }\r\n\r\n            function dayList(month, year) {\r\n                var count = 31, days = [], i;\r\n\r\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                    count = 30;\r\n                } else if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n\r\n                for (i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n                }\r\n\r\n                return days;\r\n            }\r\n\r\n            function monthList() {\r\n                var months = [], i;\r\n\r\n                for (i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: momentMonths[i-1]\r\n                    });\r\n                }\r\n\r\n                return months;\r\n            }\r\n\r\n            function yearList() {\r\n                var i,\r\n                    currentYear = new Date().getFullYear(),\r\n                    startYear = $scope.timeMode === 'future' ? currentYear : currentYear - 100,\r\n                    endYear = $scope.timeMode === 'past' ? currentYear : currentYear + 100,\r\n                    years = [];\r\n\r\n                if ($scope.timeMode === 'past') {\r\n                    for (i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n\r\n                return years;\r\n            }\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                if ($scope.days.length !== days.length) {\r\n                    if ($scope.day > days.length) {\r\n                        $scope.day = days.length;\r\n                    }\r\n\r\n                    $scope.days = days;\r\n                }\r\n            }\r\n\r\n            function getValue(v) {\r\n                var value = v ? _.isDate(v) ? v : new Date(v) : null,\r\n                    day = value ? value.getDate() : null,\r\n                    month = value ? value.getMonth() + 1 : null,\r\n                    year = value ? value.getFullYear() : null;\r\n\r\n                // Update day list if month and year were changed\r\n                if ($scope.month !== month && $scope.year !== year) {\r\n                    $scope.days = dayList($scope.month, $scope.year);\r\n                }\r\n\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n            }\r\n\r\n            function setValue() {\r\n                var value;\r\n\r\n                if ($scope.day && $scope.month && $scope.year) {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    $scope.model = value;\r\n                    $scope.ngChange();\r\n                }\r\n            }\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            // Set initial values\r\n            value = $scope.model ? _.isDate($scope.model) ? $scope.model : new Date($scope.model) : null;\r\n            $scope.day = value ? value.getDate() : null;\r\n            $scope.month = value ? value.getMonth() + 1 : null;\r\n            $scope.year = value ? value.getFullYear() : null;\r\n\r\n\r\n\r\n            $scope.days = dayList($scope.month, $scope.year);\r\n            $scope.months = monthList();\r\n            $scope.years = yearList();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue) {\r\n                getValue(newValue);\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipDateRange', ['pipDates.Templates']);\r\n\r\n    thisModule.directive('pipDateRange',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    pipChanged: '&',\r\n                    pipDateRangeType: '@',\r\n                    pipDateFormat: '@',\r\n                    pipNoLine: '@'\r\n                },\r\n                templateUrl: 'date_range_directive/date_range.html',\r\n                controller: 'pipDateRangeController'\r\n            };\r\n        });\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipDateRangeController',\r\n        function ($scope, $element, $mdMedia, $rootScope, $injector) { //pipTranslate, \r\n            var currentDate,\r\n                currentYear,\r\n                currentMonth,\r\n                currentDay,\r\n                prevState: any = {}, \r\n                currentState: any = {},\r\n                localeDate: any = moment.localeData(),\r\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\r\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\r\n                momentShortDays = localeDate._weekdaysMin,\r\n                momentFirstDayOfWeek = localeDate._week.dow;\r\n\r\n            // var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            // if (pipTranslate) {\r\n            //     pipTranslate.setTranslations('en', {\r\n            //         EVENT_NEW_START_TIME: 'Start time',\r\n            //         EVENT_NEW_END_TIME: 'End time'\r\n            //     });\r\n            //     pipTranslate.setTranslations('ru', {\r\n            //         EVENT_NEW_START_TIME: '',\r\n            //         EVENT_NEW_END_TIME: ''                \r\n            //     });\r\n            //     $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\r\n            //             : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n            //     $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\r\n            //             : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            // } else {\r\n            //     $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\r\n            //     $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \r\n            // }\r\n\r\n            currentDate = new Date();\r\n            currentYear = currentDate.getUTCFullYear();\r\n            currentMonth = currentDate.getUTCMonth() + 1;\r\n            currentDay = currentDate.getUTCDate();\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    var date, dayOfWeek;\r\n\r\n                    date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                    dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                var date, dayOfWeek;\r\n\r\n                date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onWeekChange = function () {\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            // visibility\r\n            $scope.isDay = function () {\r\n                return $scope.pipDateRangeType === 'daily';\r\n            };\r\n\r\n            $scope.isWeek = function () {\r\n                return $scope.pipDateRangeType === 'weekly';\r\n            };\r\n\r\n            $scope.isMonth = function () {\r\n                return $scope.pipDateRangeType === 'daily' ||\r\n                    $scope.pipDateRangeType === 'weekly' ||\r\n                    $scope.pipDateRangeType === 'monthly';\r\n            };\r\n\r\n            $scope.onChange = function () {\r\n                if ($scope.pipChanged) {\r\n                    $scope.pipChanged();\r\n                }\r\n            };\r\n\r\n            function setCurrent() {\r\n                currentState.day = $scope.day;\r\n                currentState.month = $scope.month;\r\n                currentState.year = $scope.year;\r\n                currentState.week = $scope.week;\r\n                currentState.dateRangeType = $scope.pipDateRangeType;\r\n                currentState.model = $scope.model;\r\n            }\r\n\r\n            function fillLists() {\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n                $scope.months = monthList();\r\n                $scope.shortMonths = monthList();\r\n                $scope.years = yearList();\r\n\r\n            }\r\n\r\n            function correctWeek() {\r\n                if (!prevState.model || prevState.model && prevState.model.getTime() >= $scope.model.getTime()) {\r\n                    // if shift week -> increase month\r\n                    if ($scope.weeks && $scope.weeks[$scope.week] && $scope.weeks[$scope.week].id <= 0) {\r\n                        if ($scope.month < 12) {\r\n                            $scope.month += 1;\r\n                        } else {\r\n                            $scope.month = 1;\r\n                            $scope.year += 1;\r\n                        }\r\n                        fillLists();\r\n                    }\r\n                }\r\n            }\r\n\r\n            function init() {\r\n                var value;\r\n\r\n                value = $scope.model ? new Date($scope.model) : null;\r\n                $scope.day = value ? value.getUTCDate() : null;\r\n                $scope.month = value ? value.getUTCMonth() + 1 : null;\r\n                $scope.year = value ? value.getUTCFullYear() : null;\r\n                $scope.week = value ? getWeekByDate($scope.day, $scope.month - 1, $scope.year) : null;\r\n\r\n                fillLists();\r\n\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            }\r\n\r\n            // Set initial values\r\n            $scope.$mdMedia = $mdMedia;\r\n\r\n            init();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue, oldValue) {\r\n                if (newValue !== oldValue) {\r\n                    getValue(newValue);\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            $scope.$watch('pipDateRangeType', function (newValue, oldValue) {\r\n                if (newValue !== oldValue && oldValue) {\r\n                    init();\r\n                }\r\n            });\r\n\r\n            $scope.onYearClick = function () {\r\n                if (!$scope.year) {\r\n                    $scope.year = currentYear;\r\n                }\r\n            };\r\n\r\n            $scope.onMonthClick = function () {\r\n                if (!$scope.month) {\r\n                    $scope.month = currentMonth;\r\n                }\r\n            };\r\n\r\n            $scope.onDayClick = function () {\r\n                if (!$scope.year) {\r\n                    $scope.day = currentDay;\r\n                }\r\n            };\r\n            // ---------------------------------------------------------------------------------------\r\n\r\n            function getCountDay(month, year) {\r\n                var count = 31;\r\n\r\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                    count = 30;\r\n                } else if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n\r\n                return count;\r\n            }\r\n\r\n            function dayList(month, year) {\r\n                var count, days, i, ln;\r\n\r\n              //  ln = $rootScope.$language || 'en';\r\n                count = getCountDay(month, year);\r\n                $scope.nameDays = [];\r\n                days = [];\r\n                for (i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n                    $scope.nameDays.push(momentShortDays[moment([year, month - 1, i]).weekday()]);\r\n                }\r\n\r\n                return days;\r\n            }\r\n\r\n            function getWeekByDate(day, month, year) {\r\n                var date, dayOfWeek, startWeek;\r\n\r\n                date = new Date(Date.UTC(year, month, day));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n\r\n                if (dayOfWeek === 1) {\r\n                    startWeek = day;\r\n                } else {\r\n                    startWeek = day + 1 - dayOfWeek;\r\n                }\r\n\r\n                return startWeek;\r\n            }\r\n\r\n            function getWeek(day, countDay, countPrevMonthDay) {\r\n                var endDay, startDay;\r\n\r\n                endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\r\n                startDay = day > 0 ? day : countPrevMonthDay + day;\r\n\r\n                return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\r\n            }\r\n\r\n            function weekList(month, year) { //    \r\n                var weeks, countDay, countPrevMonthDay, startWeek;\r\n\r\n                weeks = [];  //        \r\n                countDay = getCountDay(month, year);\r\n                startWeek = getWeekByDate(1, month - 1, year);\r\n\r\n                countPrevMonthDay = month - 1 ? getCountDay(month - 1, year) : getCountDay(12, year - 1);\r\n                while (startWeek < countDay + 1) {\r\n                    weeks.push({\r\n                        id: startWeek,\r\n                        name: getWeek(startWeek, countDay, countPrevMonthDay)\r\n                    });\r\n                    startWeek = startWeek + 7;\r\n                }\r\n\r\n                return weeks;\r\n            }\r\n\r\n            function monthList() {\r\n                var months = [], i;\r\n\r\n                for (i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: momentMonths[i-1]\r\n                    });\r\n                }\r\n\r\n                return months;\r\n            }\r\n\r\n            function yearList() {\r\n                var startYear, i,\r\n                    endYear,\r\n                    years = [];\r\n\r\n                switch ($scope.timeMode) {\r\n                    case 'future':\r\n                        startYear = currentYear;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    case 'past':\r\n                        startYear = currentYear - 100;\r\n                        endYear = currentYear;\r\n                        break;\r\n                    case 'now':\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    default:\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 50;\r\n                        break;\r\n                }\r\n                if ($scope.timeMode === 'future') {\r\n                    for (i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n\r\n                return years;\r\n            }\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                switch ($scope.pipDateRangeType) {\r\n                    case 'monthly':\r\n                        $scope.day = 1;\r\n                        break;\r\n                    case 'yearly':\r\n                        $scope.month = 1;\r\n                        $scope.day = 1;\r\n                        break;\r\n                    default:\r\n                        if ($scope.days.length !== days.length) {\r\n                            if ($scope.day > days.length) {\r\n                                $scope.day = days.length;\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n                $scope.days = days;\r\n            }\r\n\r\n            function adjustWeek() {\r\n                var weeks;\r\n\r\n                weeks = weekList($scope.month, $scope.year);\r\n                $scope.week = getWeekByDate($scope.week, $scope.month - 1, $scope.year);\r\n                $scope.weeks = weeks;\r\n            }\r\n\r\n            function getValue(v) {\r\n                var value, day, month, year, week;\r\n\r\n                value = v ? new Date(v) : null;\r\n                // Define values\r\n                day = value ? value.getUTCDate() : null;\r\n                month = value ? value.getUTCMonth() + 1 : null;\r\n                year = value ? value.getUTCFullYear() : null;\r\n                week = value ? getWeekByDate(day, month - 1, year) : null;\r\n                // Exit if nothing to update\r\n                if ($scope.day === day && $scope.month === month && $scope.year === year && $scope.week === week) {\r\n                    return;\r\n                }\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n                $scope.week = week;\r\n\r\n                // Define data sources\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n            }\r\n\r\n            function setValue() {\r\n                var value;\r\n\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.week, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                } else {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                }\r\n\r\n                prevState = _.cloneDeep(currentState);\r\n                setCurrent();\r\n                $scope.onChange();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","'use strict';\r\n\r\nangular.module('pipDates', [\r\n    'pipDate',\r\n    'pipTimeRange',\r\n    'pipDateTime',\r\n    'pipTimeRangeEdit',\r\n    'pipDateRange',\r\n    'pipDates.Translate'\r\n]);\r\n","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDates.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTimeRange', []);\r\n\r\n    thisModule.directive('pipTimeRange',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipEndDate: '='\r\n                },\r\n                templateUrl: 'time_range_directive/time_range.html',\r\n                link: function ($scope: any, $element, $attrs) {\r\n\r\n                    function getDateJSON(value) {\r\n                        return value ? new Date(value) : null;\r\n                    }\r\n\r\n                    function defineStartDate() {\r\n                        if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\r\n                            $scope.data.start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate\r\n                                : getDateJSON($scope.pipStartDate);\r\n                        }\r\n                    }\r\n\r\n                    function defineEndDate() {\r\n                        if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\r\n                            $scope.data.end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate\r\n                                : getDateJSON($scope.pipEndDate);\r\n                        }\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    $scope.data = {};\r\n                    $scope.data.start = null;\r\n                    $scope.data.end = null;\r\n                    defineStartDate();\r\n                    defineEndDate();\r\n\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch('pipStartDate',\r\n                            function () {\r\n                                $scope.data.start = null;\r\n                                defineStartDate();\r\n                            }\r\n                        );\r\n                        $scope.$watch('pipEndDate',\r\n                            function () {\r\n                                $scope.data.end = null;\r\n                                defineEndDate();\r\n                            }\r\n                        );\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-time-range');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTimeRangeEdit', []);\r\n\r\n    thisModule.directive('pipTimeRangeEdit',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipChanged: '&',\r\n                    pipEndDate: '=',\r\n                    pipStartLabel: '@',\r\n                    pipEndLabel: '@',\r\n                    disabled: '&ngDisabled',\r\n                    pipSize: '='\r\n                },\r\n                templateUrl: 'time_range_edit_directive/time_range_edit.html',\r\n                controller: 'pipTimeRangeEditController'\r\n            };\r\n        }\r\n    );\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipTimeRangeEditController',\r\n        function ($scope, $element, $attrs, $injector, pipDateTime) { //pipTranslate\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    EVENT_NEW_START_TIME: 'Start time',\r\n                    EVENT_NEW_END_TIME: 'End time'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    EVENT_NEW_START_TIME: '',\r\n                    EVENT_NEW_END_TIME: ''                \r\n                });\r\n                $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\r\n                        : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n                $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\r\n                        : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            } else {\r\n                $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\r\n                $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \r\n            }\r\n\r\n            function getDateJSON(value) {\r\n                return value ? new Date(value) : null;\r\n            }\r\n\r\n            function setDuration() {\r\n                var start, end;\r\n\r\n                if (!$scope.data.startDate || !$scope.data.endDate) {\r\n                    return null;\r\n                }\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n\r\n                return end - start;\r\n            }\r\n\r\n            function validateStartDate() {\r\n                var date, start, end;\r\n\r\n                //     ,   \r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                // c     -  \r\n                if (!$scope.data.startTime) {\r\n                    if (!$scope.data.endTime) {\r\n                        date = new Date();\r\n                        date = date.getTime() - pipDateTime.toStartDay(date);\r\n                        $scope.data.startTime = Math.floor(date / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.startTime = $scope.data.endTime === 0 ? 0 : $scope.data.endTime - 30;\r\n                    }\r\n                }\r\n\r\n                //     ,   \r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n\r\n                //   ,   .       \r\n                if ($scope.data.duration) {\r\n                    end = new Date(start.getTime() + $scope.data.duration);\r\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\r\n                    end = end.getTime() - $scope.data.endDate.getTime();\r\n                    $scope.data.endTime = Math.floor(end / (30 * 60 * 1000)) * 30;\r\n                } else {\r\n                    //     \r\n                    end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n                    if (start >= end) {\r\n                        //    ,    \r\n                        $scope.data.endDate = pipDateTime.toStartDay(new Date(start.getTime() + 30 * 60000));\r\n                        $scope.data.endTime = ($scope.data.startTime + 30) % 1440;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function validateEndDate() {\r\n                var date, start, end;\r\n\r\n                //     ,   \r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                // c     -  \r\n                if (!$scope.data.endTime) {\r\n                    if (!$scope.data.startTime) {\r\n                        date = new Date();\r\n                        date = date.getTime() - pipDateTime.toStartDay(date);\r\n                        $scope.data.endTime = Math.floor(date / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.endTime = $scope.data.startTime === 1410 ? 1410 : $scope.data.startTime + 30;\r\n                    }\r\n                }\r\n\r\n                //  y   ,   \r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n\r\n                if (start >= end) {\r\n                    //    ,    \r\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date(end.getTime() - 30 * 60000));\r\n                    $scope.data.startTime = $scope.data.endTime % 1440 === 0 ? 1410 : $scope.data.endTime - 30;\r\n                }\r\n\r\n                $scope.data.duration = setDuration();\r\n            }\r\n\r\n            function setDate() {\r\n                var time;\r\n\r\n                $scope.data.bind = false;\r\n\r\n                if ($scope.data.startDate) {\r\n                    time = $scope.data.startTime ? $scope.data.startTime * 60 * 1000 : 0;\r\n                    $scope.pipStartDate = new Date($scope.data.startDate.getTime() + time);\r\n                }\r\n\r\n                if ($scope.data.endDate) {\r\n                    time = $scope.data.endTime ? $scope.data.endTime * 60 * 1000 : 0;\r\n                    $scope.pipEndDate = new Date($scope.data.endDate.getTime() + time);\r\n                }\r\n\r\n                $scope.data.bind = true;\r\n            }\r\n\r\n            function defineDate() {\r\n                var start, end;\r\n\r\n                if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\r\n                    start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate : null;\r\n\r\n                    if (!start) {\r\n                        start = getDateJSON($scope.pipStartDate);\r\n                    }\r\n\r\n                    $scope.data.startDate = pipDateTime.toStartDay(start);\r\n                    $scope.data.startTime = (<any>new Date(start) - $scope.data.startDate) / (60 * 1000);\r\n                }\r\n\r\n                if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\r\n                    end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate : null;\r\n\r\n                    if (!start) {\r\n                        end = getDateJSON($scope.pipEndDate);\r\n                    }\r\n\r\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\r\n                    $scope.data.endTime = (<any>new Date(end) - $scope.data.endDate) / (60 * 1000);\r\n                }\r\n\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n            }\r\n\r\n            function getTimeInterval() {\r\n                var result, i, j, minutes;\r\n\r\n                result = [];\r\n                for (i = 0; i < 24; i++) {\r\n                    for (j = 0; j < 2; j++) {\r\n                        minutes = j * 30;\r\n                        result.push({\r\n                            id: i * 60 + minutes,\r\n                            time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\r\n                        });\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            }\r\n\r\n            function initDate() {\r\n                $scope.data.startDate = null;\r\n                $scope.data.startTime = null;\r\n                $scope.data.endDate = null;\r\n                $scope.data.endTime = null;\r\n                $scope.data.duration = null;\r\n            }\r\n\r\n            // initialize data\r\n            $scope.intervalTimeCollection = getTimeInterval();\r\n            $scope.data = {};\r\n            initDate();\r\n            defineDate();\r\n\r\n            // process function\r\n            $scope.onChangeStartDate = function () {\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndDate = function () {\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeStartTime = function () {\r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date());\r\n                }\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndTime = function () {\r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endDate = pipDateTime.toStartDay(new Date());\r\n                }\r\n\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.isDisabled = function () {\r\n                if ($scope.disabled) {\r\n                    return $scope.disabled();\r\n                }\r\n\r\n                return false;\r\n            };\r\n\r\n            $scope.$watchGroup([$scope.pipStartDate, $scope.pipEndDate], function () {\r\n                if ($scope.data.bind) {\r\n                    initDate();\r\n                    defineDate();\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-range-edit');\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_directive/date.html',\n    '<!--\\n' +\n    '@file Date control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\">\\n' +\n    '\t<md-input-container class=\"input-container flex\">\\n' +\n    '\t\t<md-select class=\"pip-date-day flex\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"day\" placeholder=\"{{dayLabel}}\" ng-change=\"onDayChanged()\">\\n' +\n    '\t\t\t<md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{:: opt }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '\t<div class=\"input-container-separator flex-fixed\"></div>\\n' +\n    '\t<md-input-container class=\"input-container flex\">\\n' +\n    '\t\t<md-select class=\"pip-date-monthflex\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"month\" placeholder=\"{{monthLabel}}\" ng-change=\"onMonthChanged()\">\\n' +\n    '\t\t\t<md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{:: opt.name }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '\t<div class=\"input-container-separator flex-fixed\"></div>\\n' +\n    '\t<md-input-container class=\"input-container flex\">\\n' +\n    '\t\t<md-select class=\"pip-date-year flex\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"year\" placeholder=\"{{yearLabel}}\" ng-change=\"onYearChanged()\">\\n' +\n    '\t\t\t<md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{:: opt }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '</div>\\n' +\n    '\t\t\t\t\t');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range_directive/date_range.html',\n    '<!--\\n' +\n    '@file Date range control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\">\\n' +\n    '    <md-input-container ng-show=\"isDay()\" class=\"input-container pip-day flex\"\\n' +\n    '            ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-day\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onDayClick()\"\\n' +\n    '                   ng-model=\"day\"\\n' +\n    '                   ng-change=\"onDayChanged()\"\\n' +\n    '                   placeholder=\"{{dayLabel}}\"\\n' +\n    '                   aria-label=\"DAY\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt \">\\n' +\n    '               {{nameDays[$index]}} {{ opt }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <md-input-container ng-show=\"isWeek()\" class=\"input-container flex\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-week\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   ng-model=\"week\"\\n' +\n    '                   ng-change=\"onWeekChange()\"\\n' +\n    '                   placeholder=\"{{weekLabel}}\"\\n' +\n    '                   aria-label=\"WEEK\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in weeks track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container >\\n' +\n    '    <div class=\"flex-fixed\"\\n' +\n    '         ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\':  $mdMedia(\\'xs\\')}\"\\n' +\n    '         ng-show=\"isDay() || isWeek()\">\\n' +\n    '    </div>\\n' +\n    '    <md-input-container ng-show=\"isMonth() && !monthFormatShort \" class=\"input-container flex\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-month\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onMonthClick()\"\\n' +\n    '                   ng-model=\"month\"\\n' +\n    '                   ng-change=\"onMonthChanged()\"\\n' +\n    '                   placeholder=\"{{monthLabel}}\"\\n' +\n    '                   aria-label=\"MONTH\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <md-input-container ng-show=\"isMonth() && monthFormatShort\" class=\"flex input-container\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-month\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onMonthClick()\"\\n' +\n    '                   ng-model=\"month\"\\n' +\n    '                   ng-change=\"onMonthChanged()\"\\n' +\n    '                   placeholder=\"{{monthLabel}}\"\\n' +\n    '                   aria-label=\"MONTH\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in shortMonths track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <div class=\"flex-fixed\"\\n' +\n    '         ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\':  $mdMedia(\\'xs\\')}\"\\n' +\n    '         ng-show=\"isMonth()\">\\n' +\n    '    </div>\\n' +\n    '    <md-input-container class=\"input-container flex\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-year\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onYearClick()\"\\n' +\n    '                   ng-model=\"year\"\\n' +\n    '                   ng-change=\"onYearChanged()\"\\n' +\n    '                   placeholder=\"{{yearLabel}}\"\\n' +\n    '                   aria-label=\"YEAR\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">\\n' +\n    '                {{ opt }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_directive/time_range.html',\n    '<p>\\n' +\n    '    <span ng-if=\"data.start != null\">{{data.start | formatShortDateTime}}</span>\\n' +\n    '    <span  class=\"separator\" ng-if=\"data.start && data.end\"> - </span>\\n' +\n    '    <span ng-if=\"data.end != null\">{{data.end | formatShortDateTime}}</span>\\n' +\n    '</p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit_directive/time_range_edit.html',\n    '<!--\\n' +\n    '@file Time edit control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\">\\n' +\n    '    <div flex=\"47\" class=\"start-time-container \">\\n' +\n    '        <p class=\"text-caption text-grey\">{{startLabel}}</p>\\n' +\n    '\\n' +\n    '        <div class=\"layout-row layout-align-space-between-center\">\\n' +\n    '            <div class=\"pip-datepicker-container\" flex=\"49\">\\n' +\n    '                <md-datepicker ng-model=\"data.startDate\"\\n' +\n    '                               xmd-placeholder=\"{{startLabel}}\"\\n' +\n    '                               ng-change=\"onChangeStartDate()\"\\n' +\n    '                               ng-disabled=\"isDisabled()\"\\n' +\n    '                               aria-label=\"START-DATE\">\\n' +\n    '                </md-datepicker>\\n' +\n    '            </div>\\n' +\n    '            <div flex>\\n' +\n    '                <md-input-container class=\"input-container\">\\n' +\n    '                    <md-select aria-label=\"START-TIME\" ng-model=\"data.startTime\" ng-disabled=\"isDisabled()\"\\n' +\n    '                               ng-change=\"onChangeStartTime()\">\\n' +\n    '                        <md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}\\n' +\n    '                        </md-option>\\n' +\n    '                    </md-select>\\n' +\n    '                </md-input-container>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div flex=\"47\" class=\"end-time-container\">\\n' +\n    '        <p class=\"text-caption text-grey\">{{endLabel}}</p>\\n' +\n    '\\n' +\n    '        <div class=\"layout-row layout-align-space-between-center\">\\n' +\n    '            <div class=\"pip-datepicker-container flex-49\">\\n' +\n    '                <md-datepicker ng-model=\"data.endDate\"\\n' +\n    '                               xmd-placeholder=\"{{endLabel}}\"\\n' +\n    '                               ng-disabled=\"isDisabled()\"\\n' +\n    '                               ng-change=\"onChangeEndDate()\"\\n' +\n    '                               aria-label=\"END-DATE\">\\n' +\n    '                </md-datepicker>\\n' +\n    '            </div>\\n' +\n    '            <div flex>\\n' +\n    '                <md-input-container class=\"input-container\">\\n' +\n    '                    <md-select aria-label=\"END-TIME\" ng-model=\"data.endTime\" ng-change=\"onChangeEndTime()\"\\n' +\n    '                               ng-disabled=\"isDisabled()\">\\n' +\n    '                        <md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{\\n' +\n    '                            opt.time }}\\n' +\n    '                        </md-option>\\n' +\n    '                    </md-select>\\n' +\n    '                </md-input-container>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.js.map\n","/**\r\n * @file Confirmation dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipConfirmationDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipConfirmationDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'confirmation/confirmation.html',\r\n                        controller: 'pipConfirmationDialogController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function () {\r\n                        if (successCallback) {\r\n                            successCallback();\r\n                        }\r\n                    }, function () {\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipConfirmationDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'CONFIRM_TITLE': 'Confirm'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'CONFIRM_TITLE': ''\r\n                });\r\n\r\n                $scope.title = params.title || 'CONFIRM_TITLE';\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'CANCEL';\r\n            } else {\r\n                $scope.title = params.title || 'Confirm';\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'Cancel';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Registration of dialogs\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipDialogs', [\r\n        'pipInformationDialog',\r\n        'pipConfirmationDialog',\r\n        'pipOptionsDialog',\r\n        'pipOptionsBigDialog',\r\n        'pipErrorDetailsDialog'\r\n    ]);\r\n\r\n})();\r\n\r\n","/**\r\n * @file Error details dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrorDetailsDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipErrorDetailsDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'error_details/error_details.html',\r\n                        controller: 'pipErrorDetailsDialogController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                        .then(function () {\r\n                            if (successCallback) {\r\n                                successCallback();\r\n                            }\r\n                        }, function () {\r\n                            if (cancelCallback) {\r\n                                cancelCallback();\r\n                            }\r\n                        });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipErrorDetailsDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            \r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            \r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'ERROR_DETAILS': 'Error details',\r\n                    'CODE': 'Error code',\r\n                    'PATH': 'Path',\r\n                    'ERROR': 'Error',\r\n                    'METHOD': 'Method',\r\n                    'MESSAGE': 'Message',\r\n                    'DISMISS': 'Dismiss'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'ERROR_DETAILS': ' ',\r\n                    'CODE': ' ',\r\n                    'PATH': '',\r\n                    'ERROR': '',\r\n                    'METHOD': '',\r\n                    'MESSAGE': ''\r\n                });\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'CANCEL';\r\n                $scope.errorDetails = 'ERROR_DETAILS';\r\n                $scope.dismissButton = 'DISMISS';\r\n                $scope.errorMessage = 'MESSAGE';\r\n                $scope.errorCode = 'CODE';\r\n                $scope.errorMethod = 'METHOD';\r\n                $scope.errorPath = 'PATH';\r\n                $scope.errorText = 'ERROR';                \r\n            } else {\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'Cancel';\r\n                $scope.errorDetails = 'Error details';\r\n                $scope.dismissButton = 'Dismiss';\r\n                $scope.errorMessage = 'Message';\r\n                $scope.errorCode = 'Code';\r\n                $scope.errorMethod = 'Method';\r\n                $scope.errorPath = 'Path';\r\n                $scope.error = 'Error';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme\r\n            $scope.error = params.error;\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Information dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipInformationDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipInformationDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, callback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'information/information.html',\r\n                        controller: 'pipInformationDialogController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                        .then(function () {\r\n                            if (callback) {\r\n                                callback();\r\n                            }\r\n                        });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipInformationDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var content = params.message, item;\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'INFORMATION_TITLE': 'Information'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'INFORMATION_TITLE': ''\r\n                });\r\n\r\n                $scope.title = params.title || 'INFORMATION_TITLE';\r\n                $scope.ok = params.ok || 'OK';\r\n                content = pipTranslate.translate(content);\r\n            } else {\r\n                $scope.title = params.title || 'Information';\r\n                $scope.ok = params.ok || 'OK';\r\n            }\r\n\r\n            var pipFormat = $injector.has('pipFormat') ? $injector.get('pipFormat') : null;\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n            if (params.item && pipFormat) {\r\n                item = _.truncate(params.item, 25);\r\n                content = pipFormat.sprintf(content, item);\r\n                console.log('content2', content);\r\n            }\r\n            $scope.content = content;\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Options dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n * - Remove deleted hack in the controller\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipOptionsDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipOptionsDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    if (params.event) {\r\n                        params.event.stopPropagation();\r\n                        params.event.preventDefault();\r\n                    }\r\n\r\n                    function focusToggleControl() {\r\n                        if (params.event && params.event.currentTarget) {\r\n                            params.event.currentTarget.focus();\r\n                        }\r\n                    }\r\n\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'options/options.html',\r\n                        controller: 'pipOptionsDialogController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function (option) {\r\n                        focusToggleControl();\r\n\r\n                        if (successCallback) {\r\n                            successCallback(option);\r\n                        }\r\n                    }, function () {\r\n                        focusToggleControl();\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipOptionsDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'OPTIONS_TITLE': 'Choose Option'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'OPTIONS_TITLE': ' '\r\n                });\r\n\r\n                $scope.title = params.title || 'OPTIONS_TITLE';\r\n                $scope.applyButtonTitle = params.appleButtonTitle || 'SELECT';\r\n            } else {\r\n                $scope.title = params.title || 'Choose Option';\r\n                $scope.applyButtonTitle = params.appleButtonTitle || 'Select';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.options = params.options;\r\n            $scope.selectedOption = _.find(params.options, {active: true}) || {};\r\n            $scope.selectedOptionName = $scope.selectedOption.name;\r\n            $scope.deleted = params.deleted;\r\n            $scope.deletedTitle = params.deletedTitle;\r\n            $scope.onOptionSelect = function (event, option) {\r\n                event.stopPropagation();\r\n                $scope.selectedOptionName = option.name;\r\n            };\r\n            \r\n            $scope.onKeyPress = function (event) {\r\n                if (event.keyCode === 32 || event.keyCode === 13) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    $scope.onSelect();\r\n                }\r\n            };\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onSelect = function () {\r\n                var option;\r\n\r\n                option = _.find(params.options, {name: $scope.selectedOptionName});\r\n                $mdDialog.hide({option: option, deleted: $scope.deleted});\r\n            };\r\n\r\n            // Setting focus to input control\r\n            function focusInput() {\r\n                var list;\r\n\r\n                list = $('.pip-options-dialog .pip-list');\r\n                list.focus();\r\n            }\r\n\r\n            setTimeout(focusInput, 500);\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Options dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n * - Remove deleted hack in the controller\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipOptionsBigDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipOptionsBigDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    if (params.event) {\r\n                        params.event.stopPropagation();\r\n                        params.event.preventDefault();\r\n                    }\r\n\r\n                    function focusToggleControl() {\r\n                        if (params.event && params.event.currentTarget) {\r\n                            params.event.currentTarget.focus();\r\n                        }\r\n                    }\r\n\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'options/options_big.html',\r\n                        controller: 'pipOptionsDialogBigController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function (option) {\r\n                        focusToggleControl();\r\n\r\n                        if (successCallback) {\r\n                            successCallback(option);\r\n                        }\r\n                    }, function () {\r\n                        focusToggleControl();\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipOptionsDialogBigController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'OPTIONS_TITLE': 'Choose Option'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'OPTIONS_TITLE': ' '\r\n                });\r\n\r\n                $scope.title = params.title || 'OPTIONS_TITLE';\r\n                $scope.applyButtonTitle = params.applyButtonTitle || 'SELECT';\r\n            } else {\r\n                $scope.title = params.title || 'Choose Option';\r\n                $scope.applyButtonTitle = params.applyButtonTitle || 'Select';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.options = params.options;\r\n            $scope.noActions = params.noActions || false;\r\n            $scope.noTitle = params.noTitle || false;\r\n            $scope.hint = params.hint || '';\r\n            $scope.selectedOption = _.find(params.options, {active: true}) || {};\r\n            $scope.selectedOptionName = $scope.selectedOption.name;\r\n            $scope.optionIndex = _.findIndex(params.options, $scope.selectedOption);\r\n\r\n            $scope.deleted = params.deleted;\r\n            $scope.deletedTitle = params.deletedTitle;\r\n\r\n            $scope.onOptionSelect = function (event, option) {\r\n                event.stopPropagation();\r\n                $scope.selectedOptionName = option.name;\r\n\r\n                if ($scope.noActions) {\r\n                    $scope.onSelect();\r\n                }\r\n            };\r\n\r\n            $scope.onSelected = function () {\r\n                $scope.selectedOptionName = $scope.options[$scope.optionIndex].name;\r\n\r\n                if ($scope.noActions) {\r\n                    // $scope.onSelect();\r\n                }\r\n            };\r\n\r\n            $scope.onKeyUp = function (event, index) {\r\n                if (event.keyCode === 32 || event.keyCode === 13) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    if (index !== undefined && index > -1 && index < $scope.options.length) {\r\n                        $scope.selectedOptionName = $scope.options[index].name;\r\n                        $scope.onSelect();\r\n                    }\r\n                }\r\n            };\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n            $scope.onSelect = function () {\r\n                var option;\r\n\r\n                option = _.find($scope.options, {name: $scope.selectedOptionName});\r\n                $mdDialog.hide({option: option, deleted: $scope.deleted});\r\n            };\r\n            // Setting focus to input control\r\n            function focusInput() {\r\n                var list;\r\n\r\n                list = $('.pip-options-dialog .pip-list');\r\n                list.focus();\r\n            }\r\n\r\n            setTimeout(focusInput, 500);\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/confirmation.html',\n    '<!--\\n' +\n    '@file Confirmation dialog template\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{::theme}}\">\\n' +\n    '    <div class=\"pip-header\">\\n' +\n    '        <h3>{{:: title}}</h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button ng-click=\"onCancel()\">{{:: cancel}}</md-button>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onOk()\">{{:: ok}}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/error_details.html',\n    '<!--\\n' +\n    '@file Confirmation dialog template\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-header\">\\n' +\n    '            <h3>{{::errorDetails | translate}}</h3>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\"\\n' +\n    '             ng-if=\"error.code || (error.data && error.data.code)\">\\n' +\n    '            {{::errorCode | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.code || (error.data && error.data.code)\">\\n' +\n    '            {{error.code || error.data.code}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\"\\n' +\n    '             ng-if=\"error.path || (error.data && error.data.path)\">\\n' +\n    '            {{::errorPath | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.path || (error.data && error.data.path)\">\\n' +\n    '            {{error.path || error.data.path}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\"\\n' +\n    '             ng-if=\"error.error || (error.data && error.data.error)\">\\n' +\n    '            {{::errorText | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.error || (error.data && error.data.error)\">\\n' +\n    '            {{error.error || error.data.error}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\"\\n' +\n    '             ng-if=\"error.method || (error.data && error.data.method)\">\\n' +\n    '            {{::errorMethod | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.method || (error.data && error.data.method)\">\\n' +\n    '            {{error.method || error.data.method}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\"\\n' +\n    '             ng-if=\"error.message || (error.data && error.data.message)\">\\n' +\n    '            {{::errorMessage | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\"\\n' +\n    '             ng-if=\"error.message || (error.data && error.data.message)\">\\n' +\n    '            {{error.message || error.data.message}}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent m0\" ng-click=\"onOk()\">{{::dismissButton | translate}}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/information.html',\n    '<!--\\n' +\n    '@file Information dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\"\\n' +\n    '           width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <div class=\"pip-header\">\\n' +\n    '        <h3 >{{ title | translate }}</h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            {{ content }}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onOk()\">{{ ok | translate }}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/options.html',\n    '<!--\\n' +\n    '@file Options dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\"\\n' +\n    '           min-width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\">\\n' +\n    '        <div class=\"pip-header\" >\\n' +\n    '            <h3>{{::title | translate}}</h3>\\n' +\n    '            <div ng-show=\"deletedTitle\" class=\"header-option text-subhead1 divider-bottom\">\\n' +\n    '                <md-checkbox ng-model=\"deleted\" aria-label=\"CHECKBOX\">{{::deletedTitle | translate}}</md-checkbox>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <md-radio-group ng-model=\"selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\"\\n' +\n    '                            ng-keypress=\"onKeyPress($event)\" tabindex=\"0\">\\n' +\n    '                <div ng-repeat=\"option in options\" class=\"pip-list-item\" md-ink-ripple\\n' +\n    '                     ui-event=\"{ click: \\'onOptionSelect($event, option)\\' }\"\\n' +\n    '                     ng-class=\"{ selected: option.name == selectedOptionName }\">\\n' +\n    '                    <div class=\"pip-list-item item-padding\">\\n' +\n    '                        <md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{option.icon}}\" ng-if=\"option.icon\">\\n' +\n    '                        </md-icon>\\n' +\n    '                        <div class=\"pip-option-title\">\\n' +\n    '                            {{::option.title | translate}}\\n' +\n    '                        </div>\\n' +\n    '                        <md-radio-button ng-value=\"option.name\" tabindex=\"-1\"\\n' +\n    '                                         aria-label=\"{{::option.title | translate}}\">\\n' +\n    '                        </md-radio-button>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                </div>\\n' +\n    '            </md-radio-group>\\n' +\n    '        </div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"pip-cancel\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button>\\n' +\n    '            <md-button class=\"pip-submit md-accent\" ng-click=\"onSelect()\">{{::applyButtonTitle | translate}}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/options_big.html',\n    '<!--\\n' +\n    '@file Options dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\"\\n' +\n    '           min-width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !noActions}\">\\n' +\n    '        <div class=\"pip-header\" ng-class=\"{\\'header-hint\\': noTitle && hint}\">\\n' +\n    '            <h3 class=\"m0\" ng-if=\"!noTitle\">\\n' +\n    '                {{::title | translate}}\\n' +\n    '            </h3>\\n' +\n    '            <div ng-show=\"noTitle && hint\" class=\"dialog-hint layout-row layout-align-start-center\">\\n' +\n    '                <div class=\"hint-icon-container flex-fixed\" >\\n' +\n    '                    <md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon>\\n' +\n    '                </div>\\n' +\n    '                <div>{{::hint | translate}}</div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"content-divider\" ng-if=\"!noTitle\"></div>\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <div class=\"spacer8\" ng-if=\"noTitle && hint\"></div>\\n' +\n    '            <md-list class=\"pip-menu  pip-ref-list\"\\n' +\n    '                     pip-selected=\"optionIndex\" index=\"{{optionIndex }}\"\\n' +\n    '                     pip-select=\"onSelected($event)\">\\n' +\n    '\\n' +\n    '                <md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\"\\n' +\n    '                              ng-class=\"{\\'selected md-focused\\' : option.name == selectedOptionName,\\n' +\n    '                              \\'divider-bottom\\': $index != options.length - 1}\"\\n' +\n    '                              md-ink-ripple\\n' +\n    '                              ng-keyup=\"onKeyUp($event, $index)\"\\n' +\n    '                              ng-repeat=\"option in options\" >\\n' +\n    '\\n' +\n    '                    <div class=\"pip-content  content-stretch\" ng-click=\"onOptionSelect($event, option)\">\\n' +\n    '                        <p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">\\n' +\n    '                            {{::option.title | translate}}\\n' +\n    '                        </p>\\n' +\n    '                        <div class=\"pip-subtitle spacer-right\"\\n' +\n    '                             style=\"height: inherit\"\\n' +\n    '                             ng-if=\"option.subtitle\">\\n' +\n    '                            {{::option.subtitle | translate}}\\n' +\n    '                        </div>\\n' +\n    '                        <div class=\"pip-subtitle spacer-right\"\\n' +\n    '                             style=\"height: inherit\" ng-if=\"option.text\"\\n' +\n    '                             ng-bind-html=\"option.text | translate\">\\n' +\n    '                        </div>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                </md-list-item>\\n' +\n    '\\n' +\n    '            </md-list>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"spacer8\" ng-if=\"noActions\"></div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '\\n' +\n    '    <div class=\"pip-footer\" ng-if=\"!noActions\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"pip-cancel\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button>\\n' +\n    '            <md-button class=\"pip-submit md-accent\" ng-click=\"onSelect()\" style=\"margin-right: -6px\">\\n' +\n    '                {{::applyButtonTitle | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.js.map\n","'use strict';\r\n\r\nimport { IBreadcrumbService } from './breadcrumb/BreadcrumbService';\r\nimport { ISearchService } from './search/SearchService';\r\n\r\nexport interface INavService {\r\n    appBar: any;\r\n    navIcon: any; \r\n    breadcrumb: IBreadcrumbService;\r\n    actions: any;\r\n    search: ISearchService;\r\n    sideNav: any;\r\n    navHeader: any;\r\n    navMenu: any;   \r\n}\r\n\r\nexport class NavService implements INavService {\r\n    public constructor($injector) {\r\n        \"ngInject\";\r\n\r\n        this.appBar = $injector.has('pipAppBar') ? $injector.get('pipAppBar') : null;\r\n        this.navIcon = $injector.has('pipNavIcon') ? $injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? $injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? $injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? $injector.get('pipSearch') : null;\r\n        this.sideNav = $injector.has('pipSideNav') ? $injector.get('pipSideNav') : null;\r\n        this.navHeader = $injector.has('pipNavHeader') ? $injector.get('pipNavHeader') : null;\r\n        this.navMenu = $injector.has('pipNavMenu') ? $injector.get('pipNavMenu') : null;    \r\n    }\r\n\r\n    public appBar: any;\r\n    public navIcon: any;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: any;\r\n    public search: ISearchService;\r\n    public sideNav: any;        \r\n    public navHeader: any;\r\n    public navMenu: any;    \r\n}\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipActions.Service', []);\r\n\r\nthisModule.provider('pipActions', function (): any {\r\n    var config = {\r\n        // Primary global actions visible on the screen\r\n        primaryGlobalActions: [],\r\n        // Primary local actions visible on the screen\r\n        primaryLocalActions: [],\r\n\r\n        // Secondary global actions available in popup\r\n        secondaryGlobalActions: [],\r\n        // Secondary local actions available in popup\r\n        secondaryLocalActions: []\r\n    };\r\n\r\n    // Configure global parameters\r\n    this.globalActions = globalActions;\r\n    this.globalPrimaryActions = globalPrimaryActions;\r\n    this.globalSecondaryActions = globalSecondaryActions;\r\n\r\n    // Get the service instance\r\n    this.$get = function ($rootScope) {\r\n        return {\r\n            config: getConfig,\r\n            \r\n            show: showLocalActions,\r\n            hide: hideLocalActions,\r\n            count: updateActionCount,\r\n        };\r\n\r\n        // ----------------------\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show actions\r\n        function hideLocalActions() {\r\n            config.primaryLocalActions = [];\r\n            config.secondaryLocalActions = [];\r\n\r\n            sendConfigEvent();\r\n        }\r\n\r\n        function showLocalActions(primaryActions, secondaryActions) {\r\n            config.primaryLocalActions = primaryActions || [];\r\n            config.secondaryLocalActions = secondaryActions || [];\r\n\r\n            sendConfigEvent();\r\n        }\r\n\r\n        // Todo: Why do we need that? it's needs for count badge \r\n        function updateActionCount(actionName, count) {\r\n            // Update global actions\r\n            _.each(config.primaryGlobalActions, function (action) {\r\n                if (action.name === actionName) {\r\n                    action.count = count;\r\n                }\r\n            });\r\n            // Update local action\r\n            _.each(config.primaryLocalActions, function (action) {\r\n                if (action.name === actionName) {\r\n                    action.count = count;\r\n                }\r\n            });\r\n            sendConfigEvent();\r\n        }\r\n\r\n        function sendConfigEvent() {\r\n            $rootScope.$broadcast('pipActionsChanged', config);\r\n        }\r\n    };\r\n\r\n    function globalActions(primaryActions, secondaryActions) {\r\n        config.primaryGlobalActions = primaryActions || [];\r\n        config.secondaryGlobalActions = secondaryActions || [];\r\n    }\r\n\r\n    function globalPrimaryActions(primaryActions) {\r\n        config.primaryGlobalActions = primaryActions || [];\r\n    }\r\n\r\n    function globalSecondaryActions(secondaryActions) {\r\n        config.secondaryGlobalActions = secondaryActions || [];\r\n    }\r\n\r\n});\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPrimaryActions',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipActions.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipPrimaryActions', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                localActions: '=pipLocalActions',\r\n                globalActions: '=pipGlobalActions'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'actions/primary_actions.html';\r\n            },\r\n            controller: 'pipPrimaryActionsController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipPrimaryActionsController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-primary-actions');\r\n\r\n            $scope.config = pipActions.config();\r\n\r\n            if ($scope.localActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.primaryLocalActions = $scope.localActions[0];\r\n            }\r\n\r\n            if ($scope.globalActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.primaryGlobalActions = $scope.globalActions[0];\r\n            }\r\n\r\n            $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n            $scope.actionHidden = actionHidden;\r\n            $scope.actionCount = actionCount;\r\n\r\n            $scope.onActionClick = onActionClick;\r\n\r\n            function onActionsChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function actionHidden(action) {\r\n                return action.access && !action.access(action);\r\n            }\r\n\r\n            function actionCount(action) {\r\n                if (action.count === null || action.count <= 0) {\r\n                    return '';\r\n                }\r\n                if (action.count > 99) {\r\n                    return '!';\r\n                }\r\n\r\n                return action.count;\r\n            }\r\n\r\n            function calcActions(actions) {\r\n                var count = 0;\r\n\r\n                _.each(actions, function (action) {\r\n                    if (!actionHidden(action)) {\r\n                        count++;\r\n                    }\r\n                });\r\n\r\n                return count;\r\n            }\r\n\r\n            function secondaryActionsVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function secondaryDividerVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function onActionClick(action, $mdOpenMenu) {\r\n                if (!action || action.divider) {\r\n                    return;\r\n                }\r\n\r\n                if (action.close) {\r\n                    $scope.originatorEv = null;\r\n                }\r\n\r\n                if (action.menu) {\r\n                    $mdOpenMenu($scope.originatorEv);\r\n                    return;\r\n                }\r\n\r\n                if (action.callback) {\r\n                    action.callback();\r\n                    return;\r\n                }\r\n\r\n                if (action.href) {\r\n                    $window.location.href = action.href;\r\n                    return;\r\n                }\r\n\r\n                if (action.url) {\r\n                    $location.url(action.url);\r\n                    return;\r\n                }\r\n\r\n                if (action.state) {\r\n                    if ($injector.has('$state')) {\r\n                        var $state = $injector.get('$state');\r\n                        $state.go(action.state, action.stateParams);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (action.event) {\r\n                    $rootScope.$broadcast(action.event);\r\n                } else {\r\n                    // Otherwise raise notification\r\n                    $rootScope.$broadcast('pipActionClicked', action.name);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSecondaryActions',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipActions.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipSecondaryActions', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                title: '=pipTitle',\r\n                showMenu: '=pipShowMenu',\r\n                localActions: '=pipLocalActions',\r\n                globalActions: '=pipGlobalActions',\r\n                partyAvatarUrl: '=pipPartyAvatarUrl'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'actions/secondary_actions.html';\r\n            },\r\n            controller: 'pipSecondaryActionsController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSecondaryActionsController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-secondary-actions');\r\n\r\n            $scope.config = pipActions.config();\r\n\r\n            if ($scope.localActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.secondaryLocalActions = $scope.localActions[1];\r\n            }\r\n\r\n            if ($scope.globalActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.secondaryGlobalActions = $scope.globalActions[0];\r\n            }\r\n\r\n            $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n            $scope.actionHidden = actionHidden;\r\n            $scope.actionCount = actionCount;\r\n            $scope.secondaryActionsVisible = secondaryActionsVisible;\r\n            $scope.secondaryDividerVisible = secondaryDividerVisible;\r\n\r\n            $scope.onActionClick = onActionClick;\r\n\r\n            $scope.openMenu = openMenu;\r\n\r\n            function openMenu($mdOpenMenu, ev) {\r\n                $scope.originatorEv = ev;\r\n                $mdOpenMenu(ev);\r\n            }\r\n\r\n            function onActionsChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function actionHidden(action) {\r\n                return action.access && !action.access(action);\r\n            }\r\n\r\n            function actionCount(action) {\r\n                if (action.count === null || action.count <= 0) {\r\n                    return '';\r\n                }\r\n                if (action.count > 99) {\r\n                    return '!';\r\n                }\r\n\r\n                return action.count;\r\n            }\r\n\r\n            function calcActions(actions) {\r\n                var count = 0;\r\n\r\n                _.each(actions, function (action) {\r\n                    if (!actionHidden(action)) {\r\n                        count++;\r\n                    }\r\n                });\r\n\r\n                return count;\r\n            }\r\n\r\n            function secondaryActionsVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function secondaryDividerVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function onActionClick(action, $mdOpenMenu) {\r\n                if (!action || action.divider) {\r\n                    return;\r\n                }\r\n\r\n                if (action.close) {\r\n                    $scope.originatorEv = null;\r\n                }\r\n\r\n                if (action.menu) {\r\n                    $mdOpenMenu($scope.originatorEv);\r\n                    return;\r\n                }\r\n\r\n                if (action.callback) {\r\n                    action.callback();\r\n                    return;\r\n                }\r\n\r\n                if (action.href) {\r\n                    $window.location.href = action.href;\r\n                    return;\r\n                }\r\n\r\n                if (action.url) {\r\n                    $location.url(action.url);\r\n                    return;\r\n                }\r\n\r\n                if (action.state) {\r\n                    if ($injector.has('$state')) {\r\n                        var $state = $injector.get('$state');\r\n                        $state.go(action.state, action.stateParams);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (action.event) {\r\n                    $rootScope.$broadcast(action.event);\r\n                } else {\r\n                    // Otherwise raise notification\r\n                    $rootScope.$broadcast('pipActionClicked', action.name);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar',\r\n        ['ngMaterial', 'pipNav.Templates', 'pipAppBar.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipAppbar', function () {\r\n        return {\r\n            restrict: 'E',\r\n            transclude: true,\r\n            scope: true,\r\n            templateUrl: 'appbar/appbar.html',\r\n            controller: 'pipAppBarController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipAppBarController',\r\n        function ($scope, $element, $rootScope, pipAppBar) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-appbar');\r\n            $element.addClass('color-primary-bg');\r\n            \r\n            $scope.$emit('pipResizeWindow');\r\n\r\n            $scope.config = pipAppBar.config();\r\n\r\n            $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n            function onAppBarChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar.Part', ['pipAppBar.Service']);\r\n\r\n    // Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n    thisModule.directive('pipAppbarPart', function (ngIfDirective) {\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: any, $element, $attrs: any) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = function () {\r\n                    return $scope.visible;\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: 'pipAppBarPartController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipAppBarPartController',\r\n        function ($scope, $element, $attrs, $rootScope, pipAppBar) {\r\n            var partName = '' + $attrs.pipAppbarPart;\r\n            var partValue = null;\r\n\r\n            // Break part apart\r\n            var pos = partName.indexOf(':');\r\n            if (pos > 0) {\r\n                partValue = partName.substr(pos + 1);\r\n                partName = partName.substr(0, pos);\r\n            }\r\n\r\n            onAppBarChanged(null, pipAppBar.config());\r\n\r\n            $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n            function onAppBarChanged(event, config) {\r\n                var parts = config.parts || {};\r\n                var currentPartValue = parts[partName];\r\n\r\n                // Set visible variable to switch ngIf\r\n                var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\r\n\r\n                if (visible != $scope.visible)\r\n                    $scope.visible = visible;\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar.Service', []);\r\n\r\n    thisModule.provider('pipAppBar', function (): any {\r\n        var config = {\r\n            // Theme to be applied to the header\r\n            theme: 'default',\r\n            cssClass: '',\r\n            ngClasses: {},\r\n            // Parts of the appbar\r\n            parts: {},\r\n            showAppBar: true\r\n        };\r\n\r\n        // Configure global parameters\r\n        this.theme = theme;\r\n        this.parts = initParts;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                cssClass: cssClass,\r\n\r\n                part: getOrSetPart,\r\n                parts: getOrSetParts,\r\n                \r\n                show: showAppBar,\r\n                hide: hideAppBar,\r\n                showShadow: showShadow,\r\n                showShadowSm: showShadowSm,\r\n                showShadowSmXs: showShadowSmXs,\r\n                hideShadow: hideShadow\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function getConfig() {\r\n                return config;\r\n            }\r\n\r\n            // Todo: Do we need that \"hack\"?\r\n            function cssClass(newCssClass) {\r\n                if (newCssClass != undefined) {\r\n                    config.cssClass = newCssClass;\r\n                    sendConfigEvent();\r\n                }\r\n\r\n                return config.cssClass;\r\n            }\r\n\r\n            // Show, show appbar \r\n            function showAppBar() {\r\n                config.showAppBar = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            // Show, hide appbar \r\n            function hideAppBar() {\r\n                config.showAppBar = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            // Show, hide appbar shadow\r\n            function showShadowSm() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = true;\r\n                config.ngClasses['pip-shadow-xs'] = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showShadowSmXs() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = true;\r\n                config.ngClasses['pip-shadow-xs'] = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showShadow() {\r\n                config.ngClasses['pip-shadow'] = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function hideShadow() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = false;\r\n                config.ngClasses['pip-shadow-xs'] = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function getOrSetPart(name, value) {\r\n                if (!_.isString(name))\r\n                    throw new Error(\"Part name has to be a string\");\r\n\r\n                if (value != undefined) {\r\n                    if (config.parts[name] != value) {\r\n                        config.parts[name] = value;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts[name];\r\n            }\r\n\r\n            function getOrSetParts(parts) {\r\n                if (_.isObject(parts)) {\r\n                    if (!_.isEqual(config.parts, parts)) {\r\n                        config.parts = parts;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts;\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipAppBarChanged', config);\r\n            }\r\n        };\r\n\r\n        function theme(theme) {\r\n            config.theme = theme || config.theme;\r\n\r\n            return config.theme;\r\n        }\r\n\r\n        function initParts(parts) {\r\n            if (_.isObject(parts)) {\r\n                config.parts = parts;\r\n            }\r\n            return config.parts;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","'use strict';\r\n\r\nimport { BreadcrumbItem } from './BreadcrumbService';\r\nimport { BreadcrumbConfig } from './BreadcrumbService';\r\nimport { IBreadcrumbService } from './BreadcrumbService';\r\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\r\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\r\nimport { OpenSearchEvent } from '../search/SearchService'\r\n\r\nexport class BreadcrumbController {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _window: ng.IWindowService;\r\n    \r\n    public config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        $element: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $state: ng.ui.IStateService,\r\n        pipBreadcrumb: IBreadcrumbService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._window = $window;\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, (event, config) => { this.onBreadcrumbChanged(event, config); });\r\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\r\n    }\r\n\r\n    private onBreadcrumbChanged(event, config) {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack() {\r\n        let items = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let item = items[items.length - 1];\r\n            let backCallback = item.click;\r\n            if (_.isFunction(backCallback)) \r\n                backCallback(item);\r\n            else\r\n                this._window.history.back();\r\n        } else\r\n            this._window.history.back();\r\n    }\r\n\r\n    public onClick(item: BreadcrumbItem) {\r\n        if (_.isFunction(item.click))\r\n            item.click(item);\r\n    }\r\n\r\n    public openSearch() {\r\n        this._rootScope.$broadcast(OpenSearchEvent);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport { BreadcrumbController } from './BreadcrumbController';\r\n\r\nexport function breadcrumbDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {},\r\n        replace: false,\r\n        templateUrl: 'breadcrumb/Breadcrumb.html',\r\n        controller: BreadcrumbController,\r\n        controllerAs: 'vm'\r\n    };\r\n}\r\n","'use strict';\r\n\r\nimport { BreadcrumbProvider } from './BreadcrumbProvider';\r\nimport { breadcrumbDirective } from './BreadcrumbDirective';\r\n\r\nangular\r\n    .module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate'])\r\n    .provider('pipBreadcrumb', BreadcrumbProvider)\r\n    .directive('pipBreadcrumb', breadcrumbDirective);\r\n","'use strict';\r\n\r\nimport { BreadcrumbConfig } from './BreadcrumbService';\r\nimport { BreadcrumbService } from './BreadcrumbService';\r\n\r\nexport interface IBreadcrumbProvider extends ng.IServiceProvider {\r\n    text: string;\r\n}\r\n\r\nexport class BreadcrumbProvider implements IBreadcrumbProvider {\r\n    private _config: BreadcrumbConfig = { \r\n        text: null,\r\n        items: null,\r\n        criteria: null\r\n    };\r\n    private _service: BreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nexport let BreadcrumbChangedEvent = \"pipBreadcrumbChanged\";\r\nexport let BreadcrumbBackEvent = \"pipBreadcrumbBack\";\r\n\r\nexport class BreadcrumbItem {\r\n    title: string;\r\n    click: (item: BreadcrumbItem) => void;\r\n\r\n    public constructor(title: string = null, click: (item: BreadcrumbItem) => void = null) {\r\n        this.title = title;\r\n        this.click = click;\r\n    }\r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n}\r\n\r\nexport interface IBreadcrumbService {\r\n    config: BreadcrumbConfig;\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n}\r\n\r\nexport class BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: BreadcrumbConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendEvent();\r\n    }\r\n\r\n    public sendEvent() {\r\n        this._rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\n","'use strict';\r\n\r\nfunction translateFilter($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n    return function (key) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNav.Translate', [])\r\n    .filter('translate', translateFilter);\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDropdown', ['pipNav.Templates']);\r\n\r\n    thisModule.directive('pipDropdown',\r\n        function ($mdMedia) {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    actions: '=pipActions',\r\n                    showDropdown: '&pipShow',\r\n                    activeIndex: '=pipActiveIndex',\r\n                    select: '=pipDropdownSelect'\r\n                },\r\n                templateUrl: 'dropdown/dropdown.html',\r\n                controller:\r\n                    function ($scope, $element, $attrs, $injector, $rootScope) {\r\n                        var pipTheme = $injector.has('pipTheme') ? $injector.get('pipTheme') : null, \r\n                            currentTheme = 'blue';\r\n                        if (pipTheme) {\r\n                            currentTheme = pipTheme.use();\r\n                        } else if ($rootScope.$theme) {\r\n                            currentTheme = $rootScope.$theme;\r\n                        }\r\n                        $scope.class = ($attrs.class || '') + ' md-' + currentTheme + '-theme';\r\n\r\n                        //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n                        $scope.$mdMedia = $mdMedia;\r\n                        $scope.actions = ($scope.actions && _.isArray($scope.actions)) ? $scope.actions : [];\r\n                        $scope.activeIndex = $scope.activeIndex || 0;\r\n\r\n                        $scope.disabled = function () {\r\n                            if ($scope.ngDisabled()) {\r\n                                return $scope.ngDisabled();\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        };\r\n\r\n                        $scope.onSelect = function (index) {\r\n                            $scope.activeIndex = index;\r\n                            if ($scope.select) {\r\n                                $scope.select($scope.actions[index], $scope.activeIndex);\r\n                            }\r\n                        };\r\n\r\n                        $scope.show = function () {\r\n                            if ($scope.showDropdown()) {\r\n                                return $scope.showDropdown();\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        };\r\n\r\n                    }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nmodule pip.nav {\r\n    'use strict';\r\n\r\n    class LanguagePickerController {\r\n        private _translate: any;\r\n        private _timeout: ng.ITimeoutService;\r\n\r\n        public constructor(\r\n            $scope: any, \r\n            $element: any, \r\n            $attrs: any, \r\n            $rootScope: ng.IRootScopeService, \r\n            $timeout: ng.ITimeoutService,\r\n            $injector: any\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._timeout = $timeout;\r\n            this._translate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.languages = $scope.languages;\r\n\r\n            // Todo: Where is this event coming from? Why not through service or attribute?\r\n            $rootScope.$on('pipSetLanguages', this.setLanguages);\r\n        }\r\n\r\n        public languages: string[] = ['en', 'ru'];\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(lang) {\r\n            this.languages = lang.length > 0 ? lang : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language) {\r\n            if (this._translate != null) {\r\n                this._timeout(() => {\r\n                    this._translate.language = this.language;\r\n                }, 0);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function languagePickerDirective() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                languages: '=languages',\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'language_picker/language_picker.html';\r\n            },\r\n            controller: LanguagePickerController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .directive('pipLanguagePicker', languagePickerDirective);\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavHeader', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipNavHeader.Service']);\r\n\r\n    // Main application nav-header directive\r\n    thisModule.directive('pipNavHeader', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               title: '=pipTitle',\r\n               subtitle: '=pipSubTitle',\r\n               imageUrl: '=pipImage',\r\n               imageCss: '=pipImageCss'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'nav_header/nav_header.html',\r\n           controller: 'pipNavHeaderController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipNavHeaderController', \r\n        function ($scope, $element, $rootScope, $timeout, pipNavHeader) {\r\n           \r\n            var \r\n                image = null, \r\n                imageBlock = $element.find('.pip-nav-header-user'),\r\n                $image;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-header');\r\n\r\n            $rootScope.$on('pipIdentityChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavHeaderImageChanged', onIdentityChanged);\r\n\r\n            $scope.onUserClick = onUserClick;\r\n\r\n            $timeout(function() {\r\n                $image = $element.find('.pip-nav-header-user-image')\r\n                onIdentityChanged();\r\n                $image.load(function ($event) {\r\n                    image = $($event.target);\r\n                    setImageMarginCSS(imageBlock, image);\r\n                });                \r\n            }, 10);\r\n\r\n            return;\r\n\r\n            //------------------------\r\n            function setImageMarginCSS(container, image) {\r\n                var cssParams = {},\r\n                    containerWidth = container.width ? container.width() : container.clientWidth, \r\n                    containerHeight = container.height ? container.height() : container.clientHeight, \r\n                    imageWidth = image[0].naturalWidth || image.width,\r\n                    imageHeight = image[0].naturalHeight || image.height,\r\n                    margin = 0;\r\n\r\n                if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                    margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                    cssParams['margin-left'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + containerHeight + 'px';\r\n                    cssParams['width'] = '' + imageWidth * containerHeight/imageHeight + 'px';\r\n                    cssParams['margin-top'] = '';\r\n                } else {\r\n                    margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                    cssParams['margin-top'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + imageHeight * containerWidth/imageWidth + 'px';\r\n                    cssParams['width'] = '' + containerWidth + 'px';\r\n                    cssParams['margin-left'] = '';\r\n                }\r\n\r\n                image.css(cssParams);\r\n            };\r\n                        \r\n            function onIdentityChanged() {\r\n                var url: string,\r\n                    config = pipNavHeader.config();\r\n\r\n                url = $scope.imageUrl ? $scope.imageUrl : config.defaultImageUrl;\r\n                if (url) {\r\n                    $image.attr('src', url);\r\n                } else {\r\n                    imageBlock.css('display', 'none');\r\n                }\r\n                \r\n            }\r\n\r\n            function onUserClick() {\r\n                $rootScope.$broadcast('pipNavUserClicked');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavIcon',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavIcon.Service']);\r\n\r\n    thisModule.directive('pipNavIcon', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                type: '=pipType',\r\n                imageUrl: '=pipImageUrl'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'nav_icon/nav_icon.html';\r\n            },\r\n            controller: 'pipNavIconController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipNavIconController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, pipNavIcon) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-icon');\r\n\r\n            $scope.config = pipNavIcon.config();\r\n\r\n            $rootScope.$on('pipNavIconChanged', onNavIconChanged);\r\n\r\n            $scope.onNavIconClick = onNavIconClick;\r\n\r\n            function onNavIconChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onNavIconClick() {\r\n                var breadcrumb, backCallback;\r\n\r\n                if (_.isFunction($scope.config.callback)) {\r\n                    // Execute nav icon callback\r\n                    $scope.config.callback();\r\n                } else if ($scope.config.event) {\r\n                    $rootScope.$broadcast($scope.config.event);\r\n                } else if ($scope.config.type == 'menu') {\r\n                    $rootScope.$broadcast('pipOpenSideNav');\r\n                } else if ($scope.config.type == 'back') {\r\n                    $window.history.back();\r\n                } else {\r\n                    $rootScope.$broadcast('pipNavIconClicked');\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavIcon.Service', []);\r\n\r\n    thisModule.provider('pipNavIcon', function (): any {\r\n        var config = {\r\n            // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n            type: 'menu',\r\n            // Image url\r\n            imageUrl: null,\r\n            // Icon name\r\n            iconName: 'back',\r\n            // Handle nav icon click event\r\n            callback: null,\r\n            // Event name\r\n            event: null\r\n        };\r\n\r\n        this.config = getConfig;\r\n        this.clear = clear;\r\n        this.menu = setMenu;\r\n        this.back = setBack;\r\n        this.icon = setIcon;\r\n        this.image = setImage;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                hide: hide,\r\n                menu: showMenu,\r\n                back: showBack,\r\n                icon: showIcon,\r\n                image: showImage\r\n            };\r\n\r\n            // ----------------------\r\n            \r\n            function hide() {\r\n                clear();\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showMenu(callbackOrEvent) {\r\n                setMenu(callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showIcon(iconName, callbackOrEvent) {\r\n                setIcon(iconName, callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showBack(callbackOrEvent) {\r\n                setBack(callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showImage(imageUrl, callbackOrEvent) {\r\n                setImage(imageUrl, callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipNavIconChanged', config);\r\n            }\r\n\r\n        };\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show navigation icon\r\n        function clear() {\r\n            config.type = 'none';\r\n            config.callback = null;\r\n            config.event = null;\r\n        }\r\n\r\n        function setMenu(callbackOrEvent) {\r\n            config.type = 'menu';\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setIcon(iconName, callbackOrEvent) {\r\n            config.type = 'icon';\r\n            config.iconName = iconName;\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setBack(callbackOrEvent) {\r\n            config.type = 'back';\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setImage(imageUrl, callbackOrEvent) {\r\n            config.type = 'image';\r\n            config.imageUrl = imageUrl;\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavMenu', \r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavMenu.Service']);\r\n\r\n    // Main application navmenu directive\r\n    thisModule.directive('pipNavMenu', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               config: '=pipLinks'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'nav_menu/nav_menu.html',\r\n           controller: 'pipNavMenuController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipNavMenuController', \r\n        function ($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-menu');\r\n\r\n            $scope.config = $scope.config || pipNavMenu.get();\r\n\r\n            $rootScope.$on('pipNavMenuChanged', onConfigChanged);\r\n\r\n            $scope.itemVisible = itemVisible;\r\n            $scope.onLinkClick = onLinkClick;\r\n            $scope.isSectionEmpty = isSectionEmpty;\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n            \r\n            function itemVisible(item) {\r\n                return item && item.access && !item.access(item);\r\n            }\r\n\r\n            function isSectionEmpty(linkCollection) {\r\n                var result = true;\r\n                _.each(linkCollection, function(link){\r\n                    if (!itemVisible(link))\r\n                        result = false;\r\n                });\r\n                return result;\r\n            }\r\n\r\n            function onConfigChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onLinkClick(event, link) {\r\n                event.stopPropagation();\r\n\r\n                if (!link) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                if (link.href) {\r\n                    if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $window.location.href = link.href;\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.url) {\r\n                    if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $location.url(link.url);\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.state) {\r\n                    var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n                    \r\n                    if ($state != null && $state.current.name === link.state) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        if ($injector.has('$state')) {\r\n                            var $state = $injector.get('$state');\r\n                            $state.go(link.state, link.stateParams);\r\n                        }\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.event)\r\n                    $rootScope.$broadcast(link.event, link);\r\n\r\n                pipSideNav.close();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavHeader.Service', []);\r\n\r\n    thisModule.provider('pipNavHeader', function (): any {\r\n        var config = {\r\n            // Image url\r\n            defaultImageUrl: null,\r\n        };\r\n\r\n        this.config = getConfig;\r\n        this.clear = clear;\r\n        this.image = setImage;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                image: showImage\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function showImage(imageUrl) {\r\n                setImage(imageUrl);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipNavHeaderImageChanged', config);\r\n            }\r\n\r\n        };\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show navigation icon\r\n        function clear() {\r\n            config.defaultImageUrl = null;\r\n        }\r\n\r\n        function setImage(imageUrl) {\r\n            config.defaultImageUrl = imageUrl;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavMenu.Service', []);\r\n\r\n    thisModule.provider('pipNavMenu', function (): any {\r\n        var config = [],\r\n            collapsed = true,\r\n            sectionIcon: string;\r\n\r\n        this.sections = init;\r\n        this.sectionIcon = setOrGetIcon;\r\n        this.collapsed = setOrGetCollapsed;\r\n\r\n        this.$get = function ($rootScope, $mdSidenav) {\r\n            return {\r\n                get: getConfig,\r\n                set: setConfig,\r\n                setCounter: setCounter,\r\n                collapsed: setOrGetCollapsed,\r\n                icon: setOrGetIcon\r\n            };\r\n            \r\n            //---------------------\r\n\r\n            function getConfig() {\r\n\r\n                return config;  \r\n            }\r\n\r\n            function setConfig(newConfig) {\r\n                init(newConfig);\r\n                $rootScope.$broadcast('pipNavMenuChanged', config);\r\n\r\n                return config;  \r\n            }\r\n\r\n            function setCounter(linkTitle: string, counter: number) {\r\n                if (!linkTitle || !angular.isNumber(counter)) { return; }\r\n\r\n                let section: any, menuItem: any;\r\n\r\n                section = _.find(config, function(s) {\r\n                    let item = _.find(s.links, {title: linkTitle});\r\n                    if (item) {\r\n                        return item;\r\n                    } else { return false };\r\n                });\r\n\r\n                menuItem = _.find(section.links, {title: linkTitle});\r\n                menuItem.count = counter;\r\n                setConfig(config);\r\n            }\r\n        };\r\n\r\n        function setOrGetIcon(value: string) {\r\n            if (_.isString(value)) {\r\n                sectionIcon = value;\r\n            }\r\n\r\n            return sectionIcon;\r\n        }\r\n\r\n        function setOrGetCollapsed(value: boolean) {\r\n            if (value !== undefined) {\r\n                collapsed = value;\r\n            }\r\n\r\n            return collapsed;\r\n        }\r\n\r\n        function init(newConfig) {\r\n            if (_.isArray(newConfig)) {\r\n                config = newConfig;\r\n            }\r\n\r\n            return config;\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav.Part', ['pipSideNav.Service']);\r\n\r\n    // Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n    thisModule.directive('pipSidenavPart', function (ngIfDirective) {\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function($scope: any, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = function() { return $scope.visible };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: 'pipSideNavPartController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSideNavPartController',\r\n        function ($scope, $element, $attrs, $rootScope, pipSideNav) {\r\n            var partName = '' + $attrs.pipSidenavPart;\r\n            var partValue = null;\r\n\r\n            // Break part apart\r\n            var pos = partName.indexOf(':');\r\n            if (pos > 0) {\r\n                partValue = partName.substr(pos + 1);\r\n                partName = partName.substr(0, pos);\r\n            }\r\n\r\n            onSideNavChanged(null, pipSideNav.config())\r\n\r\n            $rootScope.$on('pipSideNavChanged', onSideNavChanged);\r\n\r\n            function onSideNavChanged(event, config) {\r\n                var parts = config.parts || {};\r\n                var currentPartValue = config[partName];\r\n                // Set visible variable to switch ngIf\r\n                $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav.Service', []);\r\n\r\n    thisModule.provider('pipSideNav', function (): any {\r\n        var config = {\r\n            // Theme to be applied to the header\r\n            theme: 'default',\r\n            // Parts of the sidenav\r\n            parts: []\r\n        },\r\n        sideNavId = 'pip-sidenav', // sidenav identificatior\r\n        sideNavState = {};\r\n\r\n        this.id = id; \r\n        this.theme = theme;\r\n        this.parts = initParts;\r\n\r\n        this.$get = function ($rootScope, $mdSidenav) {\r\n            $rootScope.$on('pipOpenSideNav', open);\r\n            $rootScope.$on('pipCloseSideNav', close);\r\n\r\n            return {\r\n                config: getConfig,\r\n                part: getOrSetPart,\r\n                parts: getOrSetParts,\r\n                id: getOrSetId,\r\n                open: open,\r\n                close: close,\r\n                toggle: toggle,\r\n                state: getOrSetState\r\n            };\r\n\r\n            //---------------------\r\n\r\n            function getConfig() {\r\n                return config;  \r\n            }\r\n                            \r\n            function getOrSetPart(name, value) {\r\n                if (!_.isString(name))\r\n                    throw new Error(\"Part name has to be a string\");\r\n\r\n                if (value != undefined) {\r\n                    if (config.parts[name] != value) {\r\n                        config.parts[name] = value;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts[name];\r\n            }\r\n\r\n            function getOrSetId(value) {\r\n                if (_.isString(value)) {\r\n                    if (sideNavId !== value) {\r\n                        sideNavId = value;\r\n                    }\r\n                }\r\n\r\n                return sideNavId;\r\n            }\r\n\r\n            function getOrSetState(value) {\r\n                if (angular.isObject(value)) {\r\n                    sideNavState = _.cloneDeep(value);\r\n                    \r\n                }\r\n                $rootScope.$broadcast('pipSideNavStateChange', sideNavState);\r\n\r\n                return sideNavState;\r\n            }\r\n\r\n            function getOrSetParts(parts) {\r\n                if (_.isObject(parts)) {\r\n                    if (!_.isEqual(config.parts, parts)) {\r\n                        config.parts = parts;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts;\r\n            }\r\n                            \r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipSideNavChanged', config);\r\n            }\r\n\r\n            function open(event) {\r\n\r\n                $mdSidenav(sideNavId).open();\r\n            }\r\n                 \r\n            function close(event) {\r\n                $mdSidenav(sideNavId).close();   \r\n            }                \r\n\r\n            function toggle() {\r\n                $mdSidenav(sideNavId).toggle();   \r\n                $rootScope.$broadcast('pipSideNavToggle', config);\r\n            }\r\n        };\r\n\r\n        function setState(value) {\r\n            sideNavState = value || sideNavState;\r\n\r\n            return sideNavState;\r\n        }\r\n\r\n        function id(value) {\r\n            sideNavId = value || sideNavId;\r\n\r\n            return sideNavId;\r\n        }\r\n\r\n        function theme(theme) {\r\n            config.theme = theme || config.theme;\r\n\r\n            return config.theme;\r\n        }\r\n\r\n        function initParts(parts) {\r\n            if (_.isObject(parts)) {\r\n                config.parts = parts;\r\n            }\r\n\r\n            return config.parts;\r\n        }\r\n    });\r\n\r\n})();\r\n","'use strict';\r\n\r\nimport { SearchConfig } from './SearchService';\r\nimport { ISearchService } from './SearchService';\r\nimport { SearchChangedEvent } from './SearchService';\r\nimport { SearchActivatedEvent } from './SearchService';\r\n\r\nexport class SearchBarController {\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public config: SearchConfig;\r\n    public enabled: boolean = false;\r\n    public search: any = { text: '' };\r\n\r\n    public constructor (\r\n        $element, \r\n        $rootScope: ng.IRootScopeService, \r\n        pipSearch: ISearchService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-search-bar');\r\n\r\n        this.config = pipSearch.config;\r\n\r\n        $rootScope.$on(SearchChangedEvent, (event, config) => { \r\n            this.onSearchChanged(event, config); \r\n        });\r\n    }\r\n\r\n    private onSearchChanged(event, config) {\r\n        this.config = config;\r\n        this.enabled = false;\r\n        this.search.text = '';\r\n    }\r\n\r\n    private focusText() {\r\n        setTimeout(() => {\r\n            let element = $('.pip-search-text');\r\n            if (element.length > 0)\r\n                element.focus();\r\n        }, 0);\r\n    }\r\n\r\n    public enable() {\r\n        this.search.text = this.config.criteria;\r\n        this.enabled = true;\r\n        this.focusText();\r\n    }\r\n\r\n    public onClick() {\r\n        let search = this.search.text;\r\n\r\n        this.search.text = '';\r\n        this.enabled = false;\r\n\r\n        if (this.config.callback)\r\n            this.config.callback(search);\r\n        else\r\n            this._rootScope.$broadcast(SearchActivatedEvent, search);\r\n    }\r\n\r\n    public clear() {\r\n        if (this.search.text) {\r\n            this.search.text = '';\r\n            this.focusText();\r\n        } else {\r\n            this.enabled = false;\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    public onKeyDown(event: any) {\r\n        // Enter pressed\r\n        if (event.keyCode === 13)\r\n            this.onClick();\r\n        // ESC pressed\r\n        else if (event.keyCode === 27)\r\n            this.enabled = false;\r\n    }\r\n}\r\n\r\n","'use strict';\r\n\r\nimport { SearchBarController } from './SearchBarController';\r\n\r\nexport function searchBarDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {},\r\n        replace: false,\r\n        templateUrl: 'search/SearchBar.html',\r\n        controller: SearchBarController,\r\n        controllerAs: 'vm'\r\n    };\r\n}","'use strict';\r\n\r\nimport { searchBarDirective } from './SearchBarDirective';\r\nimport { SearchProvider } from './SearchProvider';\r\n\r\nangular\r\n    .module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates'])\r\n    .provider('pipSearch', SearchProvider)\r\n    .directive('pipSearchBar', searchBarDirective);\r\n","'use strict';\r\n\r\nimport { SearchConfig } from './SearchService';\r\nimport { SearchService } from './SearchService';\r\n\r\nexport interface ISearchProvider extends ng.IServiceProvider {    \r\n}\r\n\r\nexport class SearchProvider implements ISearchProvider {\r\n    private _config: SearchConfig = new SearchConfig();\r\n    private _service: SearchService = null;\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SearchService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    } \r\n}\r\n","'use strict';\r\n\r\nexport let OpenSearchEvent = 'pipOpenSearch';\r\nexport let CloseSearchEvent = 'pipCloseSearch';\r\nexport let SearchChangedEvent = 'pipSearchChanged';\r\nexport let SearchActivatedEvent = 'pipSearchActivated';\r\n\r\nexport class SearchConfig {\r\n    // Search visible\r\n    public visible: boolean;\r\n    // Search criteria\r\n    public criteria: string;\r\n    // History for search autocomplete\r\n    public history: string[];\r\n    // Callback for search\r\n    callback: (criteria: string) => void;\r\n}\r\n\r\nexport interface ISearchService {\r\n    config: SearchConfig;\r\n\r\n    set(callback: (criteria: string) => void, criteria?: string, history?: string[]): void;\r\n    criteria(value: string): void;\r\n    history(history: string[]): void;\r\n\r\n    clear(): void;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n}\r\n\r\nexport class SearchService implements ISearchService {\r\n    private _config: SearchConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: SearchConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n\r\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\r\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\r\n    }\r\n\r\n    public get config(): SearchConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set(callback: (criteria: string) => void, criteria?: string, history?: string[]): void {\r\n        this._config.callback = callback;\r\n        this._config.criteria = criteria;\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.callback = null;\r\n        this._config.criteria = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public open(): void {\r\n        this._config.visible = true;\r\n        this.sendConfigEvent();                \r\n    }\r\n            \r\n    public close(): void {\r\n        this._config.visible = false;        \r\n        this.sendConfigEvent();                \r\n    }                \r\n\r\n    public toggle(): void {\r\n        this._config.visible = !this._config.visible;\r\n        this.sendConfigEvent();                \r\n    }                   \r\n\r\n    public criteria(value: string): void {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public history(history: string[]): void {\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent(): void {\r\n        this._rootScope.$broadcast(SearchChangedEvent, this._config);\r\n    }\r\n}\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav',\r\n        ['ngMaterial', 'pipNav.Templates', 'pipSideNav.Part', 'pipSideNav.Service']);\r\n\r\n    // Main application sidenav directive\r\n    thisModule.directive('pipSidenav', function() {\r\n        return {\r\n            restrict: 'E',\r\n            transclude: true,\r\n            scope: true,\r\n            templateUrl: 'sidenav/sidenav.html',\r\n            controller: 'pipSideNavController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSideNavController',\r\n        function ($scope, $element, $rootScope, pipSideNav) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sidenav');\r\n            pipSideNav.id('pip-sidenav');\r\n\r\n            $rootScope.$on('pipNavIconClicked', onNavIconClick);\r\n\r\n            return;\r\n\r\n            //------------------------\r\n\r\n            function onNavIconClick(event) {\r\n                pipSideNav.open();\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickyNavHeader',\r\n        ['ngMaterial', 'pipNav.Templates', 'pipNavHeader.Service']);\r\n\r\n    // Main application nav-header directive\r\n    thisModule.directive('pipStickyNavHeader', function() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: {\r\n                title: '=pipTitle',\r\n                subtitle: '=pipSubTitle',\r\n                imageUrl: '=pipImage',\r\n                imageCss: '=pipImageCss'\r\n            },\r\n            replace: false,\r\n            templateUrl: 'sticky_nav_header/sticky_nav_header.html',\r\n            controller: 'pipStickyNavHeaderController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipStickyNavHeaderController',\r\n        function ($scope, $element, $rootScope, $timeout, pipNavHeader) {\r\n\r\n            var\r\n                image = null,\r\n                imageBlock = $element.find('.pip-sticky-nav-header-user'),\r\n                $image;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            $rootScope.$on('pipIdentityChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavHeaderImageChanged', onIdentityChanged);\r\n            $rootScope.$on('pipSideNavStateChange', onStateChanged1);\r\n\r\n            $scope.onUserClick = onUserClick;\r\n\r\n            $timeout(function() {\r\n                $image = $element.find('.pip-sticky-nav-header-user-image');\r\n                onIdentityChanged();\r\n                $image.load(function ($event) {\r\n                    image = $($event.target);\r\n                    setImageMarginCSS(imageBlock, image);\r\n                });\r\n            }, 10);\r\n\r\n            return;\r\n\r\n            function onStateChanged1(event, state) {\r\n                if (state  === undefined) return;\r\n                var def = $scope.showHeader === undefined ? 0 : 450;\r\n\r\n                if (state.id == 'toggle') {\r\n                    $timeout(function() {\r\n                        $scope.showHeader = true;\r\n                    }, 450);\r\n                } else {\r\n                    $scope.showHeader = false;\r\n                }\r\n            }\r\n            \r\n            function setImageMarginCSS(container, image) {\r\n                var cssParams = {},\r\n                    containerWidth = container.width ? container.width() : container.clientWidth,\r\n                    containerHeight = container.height ? container.height() : container.clientHeight,\r\n                    imageWidth = image[0].naturalWidth || image.width,\r\n                    imageHeight = image[0].naturalHeight || image.height,\r\n                    margin = 0;\r\n\r\n                if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                    margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                    cssParams['margin-left'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + containerHeight + 'px';\r\n                    cssParams['width'] = '' + imageWidth * containerHeight/imageHeight + 'px';\r\n                    cssParams['margin-top'] = '';\r\n                } else {\r\n                    margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                    cssParams['margin-top'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + imageHeight * containerWidth/imageWidth + 'px';\r\n                    cssParams['width'] = '' + containerWidth + 'px';\r\n                    cssParams['margin-left'] = '';\r\n                }\r\n\r\n                image.css(cssParams);\r\n            };\r\n\r\n            function onIdentityChanged() {\r\n                var url: string,\r\n                    config = pipNavHeader.config();\r\n\r\n                url = $scope.imageUrl ? $scope.imageUrl : config.defaultImageUrl;\r\n                if (url) {\r\n                    $image.attr('src', url);\r\n                } else {\r\n                    imageBlock.css('display', 'none');\r\n                }\r\n            }\r\n\r\n            function onUserClick() {\r\n                $rootScope.$broadcast('pipNavUserClicked');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickyNavMenu',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavMenu.Service']);\r\n\r\n    // Main application navmenu directive\r\n    thisModule.directive('pipStickyNavMenu', function() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: {\r\n                config: '=pipLinks',\r\n                collapsed: '=pipCollapsed'\r\n            },\r\n            replace: false,\r\n            templateUrl: 'sticky_nav_menu/sticky_nav_menu.html',\r\n            controller: 'pipStickyNavMenuController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipStickyNavMenuController',\r\n        function ($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\r\n            var pipSdeNavElement = $element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n            $scope.config = $scope.config || pipNavMenu.get();\r\n\r\n            pipNavMenu.set($scope.config);\r\n            // todo set from services\r\n            $scope.defaultIicon = 'icons:folder';\r\n\r\n            onStateChanged(null, pipSideNav.state());\r\n\r\n            $rootScope.$on('pipNavMenuChanged', onConfigChanged);\r\n            $rootScope.$on('pipSideNavStateChange', onStateChanged);\r\n\r\n            $scope.itemVisible = itemVisible;\r\n            $scope.onLinkClick = onLinkClick;\r\n            $scope.isSectionEmpty = isSectionEmpty;\r\n            $scope.onExpand = onExpand;\r\n            $scope.isActive = isActive;\r\n\r\n            return;\r\n\r\n            function onExpand() {\r\n                if (!$scope.isCollapsed) { return }\r\n\r\n                $scope.expanded = !$scope.expanded;\r\n\r\n                if ($scope.expanded) {\r\n                    pipSdeNavElement.removeClass('pip-sticky-nav-small');\r\n                } else {\r\n                    pipSdeNavElement.addClass('pip-sticky-nav-small');\r\n                }\r\n                $rootScope.$broadcast('pipNavExpanded', $scope.expanded);\r\n            }\r\n\r\n            function itemVisible(item) {\r\n                return item && item.access && !item.access(item);\r\n            }\r\n\r\n            function isSectionEmpty(linkCollection) {\r\n                var result = true;\r\n                _.each(linkCollection, function(link){\r\n                    if (!itemVisible(link))\r\n                        result = false;\r\n                });\r\n                return result;\r\n            }\r\n\r\n            function onConfigChanged(event, config) {\r\n                $scope.isCollapsed = pipNavMenu.collapsed();\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onStateChanged(event, state) {\r\n                pipNavMenu.collapsed(state.expand);\r\n                $scope.isCollapsed = state.expand;\r\n                $scope.expanded = state.isExpanded;\r\n                $scope.expandedButton = state.expandedButton;\r\n\r\n                $scope.sideNavState = state;\r\n            }\r\n\r\n            function isActive(link) {\r\n                if (link.href) {\r\n                    if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                        return true;\r\n                    }\r\n                } else if (link.url) {\r\n                    if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                        return true;\r\n                    }\r\n                } else if (link.state) {\r\n                    var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n\r\n                    if ($state != null && $state.includes(link.state)) {\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            function onLinkClick(event, link) {\r\n                event.stopPropagation();\r\n\r\n                if (!link) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                if (link.href) {\r\n                    if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $window.location.href = link.href;\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.url) {\r\n                    if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $location.url(link.url);\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.state) {\r\n                    var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n\r\n                    if ($state != null && $state.current.name === link.state) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        if ($injector.has('$state')) {\r\n                            var $state = $injector.get('$state');\r\n                            $state.go(link.state, link.stateParams);\r\n                        }\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.event)\r\n                    $rootScope.$broadcast(link.event, link);\r\n\r\n                pipSideNav.close();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickySideNav',\r\n        ['ngMaterial', 'pipNav.Templates', 'pipSideNav.Part', 'pipSideNav.Service']);\r\n\r\n    // Main application sidenav directive\r\n    thisModule.directive('pipStickySidenav', function() {\r\n        return {\r\n            restrict: 'E',\r\n            transclude: true,\r\n            scope: true,\r\n            templateUrl: 'sticky_sidenav/sticky_sidenav.html',\r\n            controller: 'pipStickySideNavController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipStickySideNavController',\r\n        function ($scope, $element, $rootScope, $injector, $mdMedia, $timeout, pipSideNav) {\r\n\r\n            // var pipMedia = $mdMedia, \r\n            var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null,\r\n                mainContainer = '.pip-main',\r\n                bigWidth = 320, // expanded sidenav width\r\n                smallWidth = 72, // shrink sidenav width\r\n                isResizing = false,\r\n                animationDuration = 400,\r\n                mediaBreakpoints; \r\n\r\n            pipMedia = pipMedia !== undefined ? pipMedia : $mdMedia;\r\n\r\n            $scope.navState = {\r\n                toggle: { // media(sm, xs)\r\n                    id: 'toggle',\r\n                    addClass: 'sidenav-mobile', // change size, color, selected?\r\n                    showHeader: true,\r\n                    isLockedOpen: false,\r\n                    expandedButton: false,\r\n                    isExpanded: true,\r\n                    expand: true,\r\n                    showIconTooltype: false\r\n                },\r\n                small: { // media(md)\r\n                    id: 'small',\r\n                    addClass: 'pip-sticky-nav-small sidenav-desktop', // change size, color, selected?\r\n                    showHeader: false,\r\n                    isLockedOpen: true,\r\n                    expandedButton: false,\r\n                    isExpanded: false,\r\n                    expand: false,\r\n                    showIconTooltype: true\r\n                },\r\n                large: { // media(lg)\r\n                    id: 'large',\r\n                    addClass: 'sidenav-desktop', // change size, color, selected?\r\n                    showHeader: false,\r\n                    isLockedOpen: true,\r\n                    expandedButton: true,\r\n                    isExpanded: true,\r\n                    expand: true,\r\n                    showIconTooltype: true \r\n                },\r\n                xlarge: { // media(xl)\r\n                    id: 'xlarge',\r\n                    addClass: 'sidenav-desktop', // change size, color, selected?\r\n                    showHeader: false,\r\n                    isLockedOpen: true,\r\n                    expandedButton: false,\r\n                    isExpanded: true,\r\n                    expand: true,\r\n                    showIconTooltype: false\r\n                }\r\n            };\r\n\r\n            mediaBreakpoints = setBreakpoints();\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-sidenav .sidenav-desktop-not-animation');\r\n            pipSideNav.id('pip-sticky-sidenav');\r\n\r\n            $timeout(setSideNaveState, 100);\r\n\r\n            var windowResize = _.debounce(setSideNaveState, 20);\r\n\r\n            $rootScope.$on('pipNavIconClicked', onNavIconClick);\r\n            $rootScope.$on('pipSideNavState', onSideNavState);\r\n            $rootScope.$on('pipMainResized', windowResize);\r\n\r\n            return;\r\n\r\n            //------------------------\r\n            function setBreakpoints() {\r\n                if (!pipMedia || !angular.isObject(pipMedia.breakpoints)) {\r\n                    return  {xs: 639, sm: 959, md: 1024, lg: 1919}; \r\n                } else {\r\n                    return pipMedia.breakpoints;\r\n                }\r\n            }\r\n\r\n            function onNavIconClick(event) {\r\n                pipSideNav.open();\r\n            }\r\n\r\n            function onSideNavState(event, state) {\r\n                if (angular.isString(state) && $scope.navState[state] !== undefined) {\r\n                    setState(state);\r\n                }\r\n            }\r\n\r\n            function setSideNaveState() {\r\n                if (isResizing) {\r\n                    $timeout(setSideNaveState, animationDuration); // for \r\n\r\n                    return;\r\n                }\r\n                var mainWidth = $(mainContainer).innerWidth();\r\n\r\n                if (mainWidth < mediaBreakpoints.sm ) {\r\n                    setState('toggle');\r\n\r\n                    return;\r\n                } \r\n                if (mainWidth < mediaBreakpoints.md + smallWidth && mainWidth >= mediaBreakpoints.sm + smallWidth) {\r\n                    setState('small');\r\n                    return;\r\n                } \r\n                if (mainWidth >= mediaBreakpoints.md + bigWidth && mainWidth <= mediaBreakpoints.lg ) {\r\n                    setState('large');\r\n                    return;\r\n                } \r\n                if (mainWidth >  mediaBreakpoints.lg ) {\r\n                    setState('xlarge');\r\n                    return;\r\n                } \r\n            }\r\n\r\n            function setState(state: string) {\r\n                if (isResizing) return;\r\n                if ($scope.sidenavState && $scope.sidenavState.id == state) return;\r\n\r\n                if ($scope.sidenavState && $scope.sidenavState.id == 'toggle') {\r\n                    $element.removeClass('sidenav-mobile');\r\n                }\r\n\r\n                if ($scope.sidenavState && $scope.sidenavState.id == 'small') {\r\n                    $element.removeClass('pip-sticky-nav-small');\r\n                }\r\n\r\n                if (state == 'toggle') {\r\n                    $element.removeClass('sidenav-desktop pip-sticky-nav-small'); \r\n                }\r\n                isResizing = true;\r\n                $scope.sidenavState = $scope.navState[state];\r\n                $element.addClass($scope.sidenavState.addClass);\r\n                pipSideNav.state($scope.sidenavState);\r\n\r\n                // complete animation\r\n                $timeout(function () {\r\n                    isResizing = false;\r\n                }, animationDuration);\r\n\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipTabs\", ['pipNav.Templates']);\r\n\r\n    thisModule.directive('pipTabs',\r\n        function () {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    tabs: '=pipTabs',\r\n                    showTabs: '&pipShowTabs',\r\n                    showTabsShadow: '&pipTabsShadow',\r\n                    activeIndex: '=pipActiveIndex',\r\n                    select: '=pipTabsSelect'\r\n                },\r\n                templateUrl: 'tabs/tabs.html',\r\n                controller:\r\n                    function ($scope, $element, $attrs, $mdMedia, $injector, $rootScope) {\r\n                        var pipTheme = $injector.has('pipTheme') ? $injector.get('pipTheme') : null, \r\n                            currentTheme = 'blue';\r\n                        if (pipTheme) {\r\n                            currentTheme = pipTheme.use();\r\n                        } else if ($rootScope.$theme) {\r\n                            currentTheme = $rootScope.$theme;\r\n                        }\r\n                        $scope.class = ($attrs.class || '') + ' md-' + currentTheme + '-theme';\r\n\r\n                        if (pipTranslate) {\r\n                            if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\r\n                                pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\r\n                            } else {\r\n                                pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\r\n                            }\r\n                        }\r\n                        \r\n                        $scope.$mdMedia = $mdMedia;\r\n                        $scope.tabs = ($scope.tabs && _.isArray($scope.tabs)) ? $scope.tabs : [];\r\n\r\n                        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n                        if (pipTranslate) {\r\n                            if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\r\n                                pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\r\n                            } else {\r\n                                pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\r\n                            }\r\n                        }\r\n\r\n                        $scope.activeIndex = $scope.activeIndex || 0;\r\n                        $scope.activeTab = $scope.activeIndex;\r\n\r\n                        $scope.disabled = function () {\r\n                            if ($scope.ngDisabled) {\r\n                                return $scope.ngDisabled();\r\n                            }\r\n                        };\r\n\r\n                        $scope.tabDisabled = function (index) {\r\n                            return ($scope.disabled() && $scope.activeIndex != index);\r\n                        };\r\n\r\n                        $scope.onSelect = function (index) {\r\n                            if ($scope.disabled()) return;\r\n\r\n                            $scope.activeIndex = index;\r\n                            $scope.activeTab = $scope.activeIndex;\r\n                            if ($scope.select) {\r\n                                $scope.select($scope.tabs[$scope.activeIndex], $scope.activeIndex);\r\n                            }\r\n                        };\r\n\r\n                        $scope.showShadow = function () {\r\n                            if ($scope.showTabsShadow) {\r\n                                return $scope.showTabsShadow();\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        };\r\n\r\n                        $scope.show = function () {\r\n                            if ($scope.showTabs) {\r\n                                return $scope.showTabs();\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        };\r\n                    }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/primary_actions.html',\n    '<md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryLocalActions\">\\n' +\n    '    <md-button class=\"pip-primary-actions-action md-icon-button\"\\n' +\n    '                ng-class=\"{ \\'pip-primary-actions-hide-sm\\': action.hideSmall,\\n' +\n    '                            \\'pip-primary-actions-show-sm\\': action.showSmall }\"\\n' +\n    '                ng-click=\"onActionClick(action, $mdOpenMenu);\"\\n' +\n    '                ng-hide=\"actionHidden(action)\"\\n' +\n    '                aria-label=\"{{action.tooltip | translate}}\">\\n' +\n    '        <!--<md-tooltip ng-if=\"action.tooltip\">{{action.tooltip | translate}}</md-tooltip>-->\\n' +\n    '        <div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">\\n' +\n    '            {{actionCount(action)}}\\n' +\n    '        </div>\\n' +\n    '        <md-icon md-svg-icon=\"{{action.icon}}\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-menu-content width=\"3\" >\\n' +\n    '        <md-menu-item ng-repeat-start=\"subAction in action.subActions\"\\n' +\n    '                        ng-if=\"!subAction.divider\"\\n' +\n    '                        ng-hide=\"actionHidden(subAction)\">\\n' +\n    '            <md-button ng-hide=\"subAction.divider\"\\n' +\n    '                        ng-click=\"onActionClick(subAction)\">\\n' +\n    '                {{subAction.title | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end></md-menu-divider>\\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '\\n' +\n    '<md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryGlobalActions\">\\n' +\n    '    <md-button class=\"pip-primary-actions-action md-icon-button\"\\n' +\n    '               ng-class=\"{ \\'pip-primary-actions-hide-sm\\': action.hideSmall,\\n' +\n    '                            \\'pip-primary-actions-show-sm\\': action.showSmall }\"\\n' +\n    '               ng-click=\"onActionClick(action, $mdOpenMenu);\"\\n' +\n    '               ng-hide=\"actionHidden(action)\"\\n' +\n    '               aria-label=\"{{action.tooltip | translate}}\">\\n' +\n    '        <!--<md-tooltip ng-if=\"action.tooltip\">{{action.tooltip | translate}}</md-tooltip>-->\\n' +\n    '        <div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">\\n' +\n    '            {{actionCount(action)}}\\n' +\n    '        </div>\\n' +\n    '        <md-icon md-svg-icon=\"{{action.icon}}\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-menu-content width=\"3\" >\\n' +\n    '        <md-menu-item ng-repeat-start=\"subAction in action.subActions\"\\n' +\n    '                      ng-if=\"!subAction.divider\"\\n' +\n    '                      ng-hide=\"actionHidden(subAction)\">\\n' +\n    '            <md-button ng-hide=\"subAction.divider\"\\n' +\n    '                       ng-click=\"onActionClick(subAction)\">\\n' +\n    '                {{subAction.title | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end></md-menu-divider>\\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/secondary_actions.html',\n    '<md-menu ng-if=\"secondaryActionsVisible()\"\\n' +\n    '    md-position-mode=\"target-right target\">\\n' +\n    '    <md-button class=\"md-icon-button\"\\n' +\n    '        ng-click=\"onSecondaryActionClick(); openMenu($mdOpenMenu, $event);\"\\n' +\n    '        aria-label=\"open actions\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:vdots\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-menu-content width=\"3\">\\n' +\n    '        <!-- Local secondary actions -->\\n' +\n    '        <md-menu-item ng-repeat-start=\"action in config.secondaryLocalActions\"\\n' +\n    '            ng-if=\"!action.divider\"\\n' +\n    '            ng-hide=\"actionHidden(action)\">\\n' +\n    '            <md-button ng-hide=\"action.divider\"\\n' +\n    '                ng-click=\"onActionClick(action)\">\\n' +\n    '                {{action.title | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"action.divider\" ng-repeat-end></md-menu-divider>\\n' +\n    '\\n' +\n    '        <md-menu-divider ng-if=\"secondaryDividerVisible()\" >\\n' +\n    '\\n' +\n    '        </md-menu-divider>\\n' +\n    '        <!-- Global secondary actions -->\\n' +\n    '        <md-menu-item ng-repeat-start=\"action in config.secondaryGlobalActions\"\\n' +\n    '            ng-if=\"!action.divider\"\\n' +\n    '            ng-hide=\"actionHidden(action)\">\\n' +\n    '            <md-button ng-hide=\"action.divider\"\\n' +\n    '                ng-click=\"onActionClick(action)\">\\n' +\n    '                {{action.title | translate}}\\n' +\n    '            </md-button>                    \\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"action.divider\" ng-repeat-end>\\n' +\n    '        </md-menu-divider>                        \\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/appbar.html',\n    '<!--\\n' +\n    '@file App Bar component\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-toolbar md-theme-watch=\"true\" ng-if=\"!$partialReset && config.showAppBar\" ng-class=\"config.ngClasses\"\\n' +\n    '            class=\"{{ config.cssClass }}\" ng-transclude>\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div>\\n' +\n    '    <div class=\"hide-xs text-overflow\">\\n' +\n    '        <!-- Search criteria -->\\n' +\n    '        <span ng-if=\"vm.config.criteria\"\\n' +\n    '            ng-click=\"vm.openSearch()\">{{vm.config.criteria}} -</span>\\n' +\n    '        <!-- Breadcrumb navigation -->\\n' +\n    '        <span class=\"pip-breadcrumb-item\"\\n' +\n    '            ng-if=\"vm.config.items && vm.config.items.length > 0\"\\n' +\n    '            ng-repeat-start=\"item in vm.config.items\"\\n' +\n    '            ng-click=\"vm.onClick(item)\"\\n' +\n    '            ng-init=\"stepWidth = 100/(vm.config.items.length + 1)\"\\n' +\n    '            ng-class=\"{\\'cursor-pointer\\': !$last}\"\\n' +\n    '            ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\">\\n' +\n    '            {{item.title | translate}}\\n' +\n    '        </span>\\n' +\n    '        <md-icon ng-repeat-end md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon>\\n' +\n    '        <!-- Text title -->\\n' +\n    '        <span class=\"pip-title\" ng-if=\"vm.config.text\">{{vm.config.text | translate}}</span>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <!-- Mobile breadcrumb dropdown -->\\n' +\n    '    <md-menu xmd-offset=\"0 48\" class=\"hide-gt-xs\">\\n' +\n    '        <span class=\"pip-mobile-breadcrumb layout-row\"\\n' +\n    '            ng-click=\"$mdOpenMenu()\"\\n' +\n    '            md-ink-ripple\\n' +\n    '            aria-label=\"open breadcrumb\">\\n' +\n    '            <span class=\"text-overflow\">\\n' +\n    '                <!-- Search criteria -->\\n' +\n    '                <span ng-if=\"vm.config.criteria\"\\n' +\n    '                    ng-click=\"vm.openSearch()\">{{vm.config.criteria}} -</span>\\n' +\n    '                <span ng-if=\"vm.config.text\">    \\n' +\n    '                    {{vm.config.text | translate}}\\n' +\n    '                </span>   \\n' +\n    '                <span ng-if=\"vm.config.items && vm.config.items.length > 0\">    \\n' +\n    '                    {{vm.config.items[vm.config.items.length - 1].title | translate}}\\n' +\n    '                </span>                   \\n' +\n    '            </span>\\n' +\n    '            <md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '        </span>\\n' +\n    '        <md-menu-content width=\"3\">\\n' +\n    '            <md-menu-item  ng-repeat=\"item in vm.config.items\" ng-if=\"vm.config.items && vm.config.items.length > 0\">\\n' +\n    '                <md-button ng-click=\"vm.onClick(item)\"><span>{{item.title | translate}}</span></md-button>\\n' +\n    '            </md-menu-item>\\n' +\n    '            <md-menu-item  ng-if=\"vm.config.text\">\\n' +\n    '                <md-button><span class=\"text-grey\">{{vm.config.text | translate}}</span></md-button>\\n' +\n    '            </md-menu-item>\\n' +\n    '        </md-menu-content>\\n' +\n    '    </md-menu>\\n' +\n    '\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{class}}\" ng-if=\"show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $mdMedia(\\'xs\\')}\">\\n' +\n    '    <div class=\"pip-divider\"></div>\\n' +\n    '        <md-select ng-model=\"selectedIndex\" ng-disabled=\"disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple md-on-close=\"onSelect(selectedIndex)\">\\n' +\n    '            <md-option ng-repeat=\"action in actions\" value=\"{{ ::$index }}\" ng-selected=\"activeIndex == $index ? true : false\">\\n' +\n    '                {{ (action.title || action.name) | translate }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '</md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language_picker/language_picker.html',\n    '<md-menu md-position-mode=\"target-right target\">\\n' +\n    '    <span class=\"pip-language\"\\n' +\n    '        ng-click=\"$mdOpenMenu()\"\\n' +\n    '        aria-label=\"language selection\">\\n' +\n    '        {{vm.language | translate}}\\n' +\n    '        <md-icon md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '    </span>\\n' +\n    '    <md-menu-content width=\"3\">\\n' +\n    '        <md-menu-item ng-repeat=\"language in vm.languages\">\\n' +\n    '            <md-button ng-click=\"vm.onLanguageClick(lang)\">{{language | translate}}</md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('nav_header/nav_header.html',\n    '<md-toolbar md-theme=\"{{ $theme }}\" ng-hide=\"!title\" class=\"layout-row layout-align-start-center\">\\n' +\n    '\\n' +\n    '    <md-button class=\"pip-nav-header-user md-icon-button\"\\n' +\n    '                ng-click=\"onUserClick()\"\\n' +\n    '                aria-label=\"current user\">\\n' +\n    '\\n' +\n    '        <img  src=\"\" class=\"pip-nav-header-user-image\" ng-class=\"imageCss\"></img>\\n' +\n    '    </md-button>\\n' +\n    '    \\n' +\n    '    <div class=\"pip-nav-header-user-text\">\\n' +\n    '        <a class=\"pip-nav-header-user-pri\"\\n' +\n    '            ng-click=\"onUserClick()\">\\n' +\n    '            {{ title }}\\n' +\n    '        </a>\\n' +\n    '        <div class=\"pip-nav-header-user-sec\">\\n' +\n    '            {{ subtitle | translate }}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('nav_icon/nav_icon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\"\\n' +\n    '            ng-if=\"config.type != \\'none\\'\"\\n' +\n    '            ng-class=\"config.class\"\\n' +\n    '            ng-click=\"onNavIconClick()\"\\n' +\n    '            aria-label=\"menu\">\\n' +\n    '    <!-- Menu icon -->\\n' +\n    '    <md-icon ng-if=\"config.type==\\'menu\\'\"\\n' +\n    '        md-svg-icon=\"icons:menu\"></md-icon>\\n' +\n    '    <!-- Image -->\\n' +\n    '    <img ng-src=\"{{config.imageUrl}}\" ng-if=\"config.type==\\'image\\'\" height=\"24\" width=\"24\">\\n' +\n    '    <!--<pip-avatar ng-if=\"config.navIconType==\\'menu\\' && (getParty() && !getUser(\\'owner\\'))\"\\n' +\n    '                pip-rebind-avatar=\"true\"\\n' +\n    '                pip-rebind=\"true\"\\n' +\n    '                pip-image-url=\"partyAvatarUrl\"\\n' +\n    '                pip-party-id=\"getParty(\\'id\\')\" class=\"pip-face\"\\n' +\n    '                pip-party-name=\"getParty(\\'name\\')\">\\n' +\n    '    </pip-avatar>-->\\n' +\n    '    <!-- Back icon -->\\n' +\n    '    <md-icon ng-if=\"config.type==\\'back\\'\"\\n' +\n    '        md-svg-icon=\"icons:arrow-left\"></md-icon>\\n' +\n    '    <!--Icon -->\\n' +\n    '    <md-icon ng-if=\"config.type==\\'icon\\'\"\\n' +\n    '             md-svg-icon=\"icons:{{config.iconName}}\"></md-icon>\\n' +\n    '</md-button>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('nav_menu/nav_menu.html',\n    '<md-list>\\n' +\n    '    <div class=\"pip-section\" ng-repeat=\"section in config\"\\n' +\n    '        ng-hide=\"section.access && !section.access(section)\">\\n' +\n    '        \\n' +\n    '        <md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider>\\n' +\n    '        <md-subheader ng-show=\"section.title\">{{::section.title | translate}}</md-subheader>\\n' +\n    '        \\n' +\n    '        <md-list-item class=\"pip-focusable no-border\" \\n' +\n    '            ng-repeat=\"link in section.links\"\\n' +\n    '            ng-click=\"onLinkClick($event, link)\"\\n' +\n    '            ng-hide=\"link.access && !link.access(link)\">\\n' +\n    '            <md-icon md-svg-icon=\"{{link.icon}}\" \\n' +\n    '                ng-hide=\"!link.icon\" \\n' +\n    '                class=\"tm0 bm0\"></md-icon>\\n' +\n    '            <p>{{::link.title | translate}}</p>\\n' +\n    '        </md-list-item>\\n' +\n    '    </div>\\n' +\n    '</md-list>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools layout-row\" ng-if=\"vm.enabled\">\\n' +\n    '    <md-button class=\"md-icon-button\" \\n' +\n    '        aria-label=\"start search\" \\n' +\n    '        ng-click=\"vm.onClick()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:search\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <input class=\"pip-search-text flex\"\\n' +\n    '        type=\"search\"\\n' +\n    '        ng-model=\"vm.search.text\" \\n' +\n    '        ng-keydown=\"vm.onKeyDown($event)\" />\\n' +\n    '    <md-button class=\"md-icon-button\" \\n' +\n    '        aria-label=\"clear search\" \\n' +\n    '        ng-click=\"vm.clear()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:cross-circle\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '<div class=\"md-toolbar-tools layout-row layout-align-end-center\"  ng-if=\"!vm.enabled\">\\n' +\n    '    <md-button class=\"md-icon-button\"\\n' +\n    '               aria-label=\"start search\"\\n' +\n    '               ng-click=\"vm.enable()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:search\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/sidenav.html',\n    '<!--\\n' +\n    '@file Side Nav component\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-sidenav class=\"md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg\"\\n' +\n    '    md-component-id=\"pip-sidenav\" ng-if=\"!$partialReset\" pip-focused ng-transclude>\\n' +\n    '</md-sidenav>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sticky_nav_header/sticky_nav_header.html',\n    '<md-toolbar md-theme=\"{{ $theme }}\" ng-hide=\"!title || !showHeader\" class=\"layout-row layout-align-start-center\">\\n' +\n    '\\n' +\n    '    <div class=\"flex-fixed pip-sticky-nav-header-user\">\\n' +\n    '        <md-button class=\"\"\\n' +\n    '                ng-click=\"onUserClick()\"\\n' +\n    '                aria-label=\"current user\">\\n' +\n    '\\n' +\n    '            <img  src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"imageCss\"></img>\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-sticky-nav-header-user-text\">\\n' +\n    '        <div class=\"pip-sticky-nav-header-user-pri\"\\n' +\n    '             ng-click=\"onUserClick()\">\\n' +\n    '            {{ title }}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-sticky-nav-header-user-sec\">\\n' +\n    '            {{ subtitle | translate }}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sticky_nav_menu/sticky_nav_menu.html',\n    '<md-list>\\n' +\n    '    <md-list-item class=\"pip-focusable no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" \\n' +\n    '        ng-click=\"onExpand()\"\\n' +\n    '        ng-disabled=\"!isCollapsed\"\\n' +\n    '        ng-if=\"expandedButton\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:chevron-left\" ng-if=\"expanded\" class=\"pip-sticky-nav-menu-icon\">\\n' +\n    '            <md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">\\n' +\n    '                {{::\\'Expand menu\\' | translate}}\\n' +\n    '            </md-tooltip>\\n' +\n    '        </md-icon>\\n' +\n    '        <md-icon md-svg-icon=\"icons:chevron-right\" ng-if=\"!expanded\" class=\"pip-sticky-nav-menu-icon\">\\n' +\n    '            <md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">\\n' +\n    '                {{::\\'Shrink menu\\' | translate}} \\n' +\n    '            </md-tooltip>\\n' +\n    '        </md-icon>\\n' +\n    '    </md-list-item>\\n' +\n    '    <md-divider ng-show=\"expandedButton\"></md-divider>\\n' +\n    '    <div class=\"pip-section\" ng-repeat=\"section in config\"\\n' +\n    '         ng-hide=\"section.access && !section.access(section)\">\\n' +\n    '\\n' +\n    '        <md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider>\\n' +\n    '        <md-subheader ng-show=\"section.title\" style=\"height: 48px;\">\\n' +\n    '            <span ng-if=\"expanded\" class=\"pip-sticky-nav-menu-title section-title\">\\n' +\n    '                {{::section.title | translate}}\\n' +\n    '            </span>\\n' +\n    '            <md-icon md-svg-icon=\"{{section.icon}}\" ng-if=\"!expanded && section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\">\\n' +\n    '                <md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">\\n' +\n    '                    {{::section.title | translate}}\\n' +\n    '                </md-tooltip>\\n' +\n    '            </md-icon>\\n' +\n    '            <md-icon md-svg-icon=\"{{defaultIicon}}\" ng-if=\"!expanded && !section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\">\\n' +\n    '                <md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">\\n' +\n    '                    {{::section.title | translate}}\\n' +\n    '                </md-tooltip>\\n' +\n    '            </md-icon>\\n' +\n    '        </md-subheader>\\n' +\n    '\\n' +\n    '        <md-list-item class=\"no-border pip-sticky-nav-menu-item\" \\n' +\n    '                      ng-repeat=\"link in section.links\"\\n' +\n    '                      ng-class=\"{\\'active\\': isActive(link)}\"\\n' +\n    '                      ng-hide=\"link.access && !link.access(link)\">\\n' +\n    '            <md-button class=\"layout-row layout-align-start-center pip-focusable\" \\n' +\n    '                       ng-click=\"onLinkClick($event, link)\">\\n' +\n    '                <div class=\"pip-sticky-nav-menu-icon-block\">\\n' +\n    '                    <md-icon md-svg-icon=\"{{link.icon}}\"\\n' +\n    '                             ng-hide=\"!link.icon\"\\n' +\n    '                             class=\"pip-sticky-nav-menu-icon flex-fixed\">\\n' +\n    '                        <md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">\\n' +\n    '                            {{::link.title | translate}}\\n' +\n    '                        </md-tooltip>\\n' +\n    '                    </md-icon>\\n' +\n    '                </div>\\n' +\n    '                <div class=\"pip-sticky-nav-menu-title\">\\n' +\n    '                    {{::link.title | translate}}\\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '                <!--<div class=\"flex pip-sticky-nav-menu-expander\"></div>-->\\n' +\n    '                <div class=\"pip-sticky-nav-menu-badge color-badge-bg flex-fixed\" ng-if=\"link.count\">\\n' +\n    '                    {{link.count}}\\n' +\n    '                </div>\\n' +\n    '            </md-button>\\n' +\n    '        </md-list-item>\\n' +\n    '    </div>\\n' +\n    '</md-list>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sticky_sidenav/sticky_sidenav.html',\n    '<!--\\n' +\n    '@file Sticky Side Nav component\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"sidenavState.isLockedOpen\"\\n' +\n    '            md-component-id=\"pip-sticky-sidenav\" ng-if=\"!$partialReset\" pip-focused ng-transclude>\\n' +\n    '</md-sidenav>\\n' +\n    '\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/tabs.html',\n    '<md-toolbar class=\"pip-nav {{ class }}\" ng-class=\"{\\'pip-visible\\': show(), \\'pip-shadow\\': showShadow()}\">\\n' +\n    '    <md-tabs ng-if=\"$mdMedia(\\'gt-xs\\')\" md-selected=\"activeTab\" ng-class=\"{\\'disabled\\': disabled()}\"\\n' +\n    '             md-stretch-tabs=\"true\" md-dynamic-height=\"true\">\\n' +\n    '        <md-tab ng-repeat=\"tab in tabs track by $index\" ng-disabled=\"tabDisabled($index)\"\\n' +\n    '                md-on-select=\"onSelect($index)\">\\n' +\n    '            <md-tab-label>\\n' +\n    '                {{::tab.nameLocal }}\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">\\n' +\n    '                    {{::tab.newCounts }}\\n' +\n    '                </div>\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div>\\n' +\n    '            </md-tab-label>\\n' +\n    '        </md-tab>\\n' +\n    '    </md-tabs>\\n' +\n    '    <div class=\"md-subhead pip-tabs-content color-primary-bg  \" ng-if=\"$mdMedia(\\'xs\\')\">\\n' +\n    '        <div class=\"pip-divider position-top m0\"></div>\\n' +\n    '        <md-select ng-model=\"activeIndex\" ng-disabled=\"disabled()\"\\n' +\n    '                   md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple\\n' +\n    '                   md-on-close=\"onSelect(activeIndex)\">\\n' +\n    '            <md-option ng-repeat=\"tab in tabs track by $index\" value=\"{{ ::$index }}\">\\n' +\n    '                {{ ::tab.nameLocal }}\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">\\n' +\n    '                    {{ ::tab.newCounts }}\\n' +\n    '                </div>\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div>\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </div>\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.js.map\n","'use strict';\r\n\r\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-cool': 'Cool'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-cool': ''\r\n    // });\r\n    \r\n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(69, 90, 100, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\r\n\r\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(69, 90, 100, .54)',\r\n        '500': 'rgba(69, 90, 100, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\r\n\r\n\r\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-cool')\r\n        .primaryPalette('bootbarn-cool-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-cool-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-cool-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\r\n    .config(configureBootBarnCoolTheme);\r\n","'use strict';\r\n\r\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-monochrome': 'Monochrome'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-monochrome': ''\r\n    // });\r\n    \r\n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(38, 50, 56, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\r\n\r\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(38, 50, 56, .54)',\r\n        '500': 'rgba(38, 50, 56, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\r\n\r\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-monochrome')\r\n        .primaryPalette('bootbarn-monochrome-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-monochrome-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-monochrome-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\r\n    .config(configureBootBarnMonochromeTheme);\r\n","'use strict';\r\n\r\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-warm': 'Warm'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-warm': ''\r\n    // });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(177, 55, 34, 1)'\r\n        })\r\n        ;\r\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\r\n\r\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\r\n        '300': 'rgba(177, 55, 34, .54)',\r\n        '500': 'rgba(177, 55, 34, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\r\n\r\n\r\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'A700': 'rgba(127, 148, 92, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\r\n\r\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\r\n        'A200': 'rgba(255, 87, 34, 1)',\r\n        'contrastLightColors': ['A200']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-warm')\r\n    .primaryPalette('bootbarn-warm-primary', {\r\n        'default': '500',\r\n        'hue-1': '300'\r\n    })\r\n    .backgroundPalette('bootbarn-warm-background', {\r\n        'default': '50',  // background\r\n        'hue-1': 'A200',  // tiles dialog\r\n        'hue-2': 'A700'   // app bar\r\n    })\r\n    .warnPalette('bootbarn-warm-error', {\r\n        'default': 'A200'\r\n    })\r\n    .accentPalette('bootbarn-warm-accent', {\r\n        'default': 'A700'\r\n    });\r\n}\r\n\r\nangular.module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\r\n    .config(configureBootBarnWarmTheme);\r\n","'use strict';\r\n\r\nimport './BootBarnCoolTheme';\r\nimport './BootBarnWarmTheme';\r\nimport './BootBarnMonochromeTheme';\r\n\r\nangular.module('pipTheme.BootBarn', [\r\n    'ngMaterial',\r\n    'pipTheme.BootBarn.Warm',\r\n    'pipTheme.BootBarn.Cool',\r\n    'pipTheme.BootBarn.Monochrome',\r\n]);\r\n","'use strict';\r\n\r\nexport let ThemeRootVar = \"$theme\";\r\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \r\n\r\nexport interface IThemeService {\r\n    theme: string;\r\n    use(language: string): string;\r\n}\r\n\r\nexport interface IThemeProvider extends IThemeService, ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    persist: boolean;\r\n}\r\n\r\nclass ThemeConfig {\r\n    public theme: string;\r\n}\r\n\r\nclass ThemeService implements IThemeService {\r\n    private _config: ThemeConfig;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _theming: any;\r\n    private _currentTheme: string = null;\r\n\r\n    public constructor(\r\n        config: ThemeConfig,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._theming = $mdTheming;\r\n\r\n        if (this._persist && this._window.localStorage && this._config.theme == \"default\")\r\n            this._config.theme = this._window.localStorage.getItem('theme') || this._config.theme;\r\n\r\n        this._log.debug(\"Set theme to \" + this._config.theme);\r\n\r\n        // Define theme for angular material \r\n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        let body = $('body');\r\n        let newTheme = this._config.theme;\r\n\r\n        // Switch material theme\r\n        // body.attr('md-theme', newTheme);\r\n\r\n        // Change custom theme\r\n        body.addClass(newTheme);\r\n        if (this._currentTheme != null && this._currentTheme != newTheme)\r\n            body.removeClass(this._currentTheme);            \r\n\r\n        this._currentTheme = newTheme;\r\n\r\n        // Set root scope variable\r\n        if (this._setRootVar)\r\n            this._rootScope[ThemeRootVar] = this._config.theme;\r\n\r\n        // Save in local storage\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('theme', this._config.theme);\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        if (value != this._config.theme) {\r\n            if (!(value in this._theming.THEMES))\r\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\r\n\r\n            this._config.theme = value;\r\n            \r\n            this._log.debug(\"Changing theme to \" + value);\r\n\r\n            this.save();                \r\n\r\n            this._rootScope.$emit(ThemeChangedEvent, value);\r\n            this._rootScope.$emit('pipResetPage');\r\n        }\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null)\r\n            this.theme = theme;\r\n        return this.theme;\r\n    }\r\n\r\n}\r\n\r\nclass ThemeProvider implements IThemeProvider {\r\n    private _config: ThemeConfig = new ThemeConfig();\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: ThemeService;\r\n    \r\n    public constructor() {\r\n        this._config.theme = \"default\";\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        this._config.theme = value;\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null)\r\n            this.theme = theme;\r\n        return this.theme;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new ThemeService(this._config, this._setRootVar, this._persist, $rootScope, $log, $window, $mdTheming);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTheme(pipTheme: IThemeService) {\r\n    pipTheme.theme;\r\n}\r\n\r\nangular\r\n    .module('pipTheme')\r\n    .provider('pipTheme', ThemeProvider)\r\n    .run(initTheme);\r\n","'use strict';\r\n\r\nangular.module('pipTheme', ['ngMaterial']);\r\n\r\nimport './ThemeService';\r\n\r\nexport * from './ThemeService';\r\n","'use strict';\r\n\r\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     amber: 'Amber'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     amber: ''\r\n    // });\r\n\r\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\r\n\r\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 152, 0, 1)',\r\n        '900': 'rgba(255, 152, 0, .54);'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('amber')\r\n        .primaryPalette('orange-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('orange-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('orange', {\r\n            'default': '900'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\r\n    .config(configureDefaultAmberTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     blue: 'Blue',\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     blue: ''\r\n    // });\r\n\r\n    registerBlueTheme('default');\r\n    registerBlueTheme('blue');\r\n\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    function registerBlueTheme(themeName) {\r\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\r\n            'contrastDefaultColor': 'light',\r\n            'contrastDarkColors': undefined\r\n        });\r\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\r\n\r\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(33, 150, 243, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\r\n\r\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            '600': 'rgba(0, 200, 83, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\r\n\r\n        $mdThemingProvider.theme(themeName)\r\n            .primaryPalette('blue-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('blue-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('blue-accent', {\r\n                'default': '600'\r\n            });\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\r\n    .config(configureDefaultBlueTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     green: 'Green'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     green: ''\r\n    // });\r\n\r\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(76, 175, 80, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\r\n\r\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\r\n        '300': '#9ed4a1',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\r\n\r\n\r\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\r\n\r\n    $mdThemingProvider.theme('green')\r\n        .primaryPalette('green-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('green-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('green-accent', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Green', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreenTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     grey: 'Grey'\r\n    // });\r\n    \r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     grey: ''\r\n    // });\r\n\r\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)',\r\n        'A400': '#a9b9c0',\r\n        '500': '#607D8B',\r\n        'A700': '#90A4AE',\r\n        //'800': '',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\r\n\r\n\r\n    $mdThemingProvider.theme('grey')\r\n        .primaryPalette('third-party', {\r\n            'default': '500',\r\n            'hue-1': 'A400'\r\n        })\r\n        .backgroundPalette('third-party', {\r\n            'default': '50',  // background\r\n            'hue-1': '500',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('third-party', {\r\n            'default': 'A700'\r\n        });\r\n    \r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreyTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     navy: 'Navy'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     navy: '-'\r\n    // });\r\n\r\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '700': 'rgba(86, 97, 125, 1)',\r\n        '800': 'rgba(86, 97, 125, .54)',\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n    });\r\n    $mdThemingProvider.definePalette('grey', greyPalette);\r\n\r\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\r\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('teal', tealPalette);\r\n\r\n    $mdThemingProvider.theme('navy')\r\n        .primaryPalette('grey', {\r\n            'default': '700',\r\n            'hue-1': '800'\r\n        })\r\n        .backgroundPalette('grey', {\r\n            'default': '50',  // background\r\n            'hue-1': '700',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('teal', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\r\n    .config(configureDefaultNavyTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     orange: 'Orange'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     orange: ''\r\n    // });\r\n\r\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 112, 67, 1)',\r\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\r\n    });\r\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\r\n\r\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 112, 67, 1)',\r\n        '900': 'rgba(255, 152, 67, .54)',\r\n        'A100': 'rgba(255, 171, 64, 1)',\r\n        'contrastLightColors': ['800', '900', 'A100']\r\n    });\r\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('orange')\r\n        .primaryPalette('red-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('red-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('red-primary', {\r\n            'default': 'A100'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\r\n    .config(configureDefaultOrangeTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     pink: 'Pink'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     pink: '',\r\n\r\n    // });\r\n\r\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['A200', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\r\n\r\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\r\n        '600': 'rgba(255, 128, 171, 1)',\r\n        '700': 'rgba(188, 86, 121, .54)',\r\n        '900': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'light'\r\n    });\r\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('pink')\r\n        .primaryPalette('pink-primary', {\r\n            'default': '900',\r\n            'hue-1': '700'\r\n        })\r\n        .backgroundPalette('pink-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('pink-primary', {\r\n            'default': '600'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\r\n    .config(configureDefaultPinkTheme);\r\n","'use strict';\r\n\r\nimport './DefaultBlueTheme';\r\nimport './DefaultPinkTheme';\r\nimport './DefaultAmberTheme';\r\nimport './DefaultOrangeTheme';\r\nimport './DefaultGreenTheme';\r\nimport './DefaultNavyTheme';\r\nimport './DefaultGreyTheme';\r\n\r\n\r\nangular\r\n    .module('pipTheme.Default', [\r\n        'ngMaterial',\r\n        'pipTheme.Blue', \r\n        'pipTheme.Pink',\r\n        'pipTheme.Amber', \r\n        'pipTheme.Orange', \r\n        'pipTheme.Green', \r\n        'pipTheme.Navy', \r\n        'pipTheme.Grey'\r\n    ])\r\n    .config(configureDefaultTheme);\r\n\r\nfunction configureDefaultTheme($mdThemingProvider) {\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n","/**\r\n * @file Errors string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Strings', ['pipTranslate']);\r\n\r\n    thisModule.run(function($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate == null) return;\r\n\r\n        // Set translation strings for the module\r\n        pipTranslate.translations('en', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n                                            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n                                          'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n                                          'technologies. Download on of these great browsers and you\\'ll be on your way:',\r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\r\n\r\n        });\r\n\r\n        pipTranslate.translations('ru', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n            'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n            'technologies. Download on of these great browsers and you\\'ll be on your way:',            \r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\r\n\r\n        });\r\n    });\r\n\r\n})();","/**\r\n * @file Registration of all error handling components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipErrors', [\r\n        'pipErrors.Pages',\r\n        'pipNoConnectionPanel',\r\n        'pipClearErrors',\r\n\t    'pipFormErrors'\r\n    ]);\r\n    \r\n})();","/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Pages', [\r\n        'ngMaterial', \r\n        'pipErrors.Strings', 'pipErrors.NoConnection', 'pipErrors.MissingRoute', 'pipErrors.Unsupported',\r\n        'pipErrors.Unknown', 'pipErrors.Maintenance', 'pipErrors.Translate', 'pipErrors.Templates'\r\n    ]);\r\n\r\n    thisModule.config(\r\n        function ($stateProvider) {\r\n            // Configure module routes\r\n            $stateProvider\r\n                .state('errors_no_connection', {\r\n                    url: '/errors/no_connection',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorNoConnectionController',\r\n                    templateUrl: 'no_connection/no_connection.html'\r\n                })\r\n                .state('errors_maintenance', {\r\n                    url: '/errors/maintenance',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorMaintenanceController',\r\n                    templateUrl: 'maintenance/maintenance.html'\r\n                })\r\n                .state('errors_missing_route', {\r\n                    url: '/errors/missing_route',\r\n                    params: {\r\n                        unfoundState: null,\r\n                        fromState: null\r\n                    },\r\n                    controller: 'pipErrorMissingRouteController',\r\n                    templateUrl: 'missing_route/missing_route.html'\r\n                })\r\n                .state('errors_unsupported', {\r\n                    url: '/errors/unsupported',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnsupportedController',\r\n                    templateUrl: 'unsupported/unsupported.html'\r\n                })\r\n                .state('errors_unknown', {\r\n                    url: '/errors/unknown',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnknownController',\r\n                    templateUrl: 'unknown/unknown.html'\r\n                });\r\n        });\r\n\r\n})();","/**\r\n * @file Special error handling for forms\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipClearErrors', []);\r\n\r\n    thisModule.directive('pipClearErrors', function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: function ($scope, $element, $attrs: any, $ctrls) {\r\n                var \r\n                    fieldController = $ctrls[0],\r\n                    formController = $ctrls[1];\r\n\r\n                $scope.$watch($attrs.ngModel, function (newValue) {\r\n                    clearFieldErrors();\r\n                    clearFormErrors();\r\n                });\r\n\r\n                //-------------------\r\n\r\n                function clearFieldErrors() {\r\n                    var errors = fieldController.$error;\r\n\r\n                    for (var prop in errors) {\r\n                        if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                            fieldController.$setValidity(prop, true);\r\n                        }\r\n                    };\r\n                }\r\n\r\n                function clearFormErrors() {\r\n                    formController.$serverError = {};\r\n                };\r\n            }\r\n        };\r\n    });\r\n\r\n})();","/**\r\n * @file Form error utilities\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n *\r\n */\r\n \r\n /* global _, angular */\r\n \r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFormErrors', []);\r\n\r\n    thisModule.factory('pipFormErrors', function ($rootScope) {\r\n\t\treturn {\r\n\t\t\terrorsWithHint: errorsWithHint,\r\n            //submittedErrors: submittedErrors,\r\n            //submittedErrorsWithHint: submittedErrorsWithHint,\r\n            //dirtyErrors: dirtyErrors,\r\n            //dirtyErrorsWithHint: dirtyErrorsWithHint,\r\n            //touchedErrors: touchedErrors,            \r\n            touchedErrorsWithHint: touchedErrorsWithHint,\r\n            resetFormErrors: resetFormErrors,\r\n            setFormError: setFormError,\r\n            resetFieldsErrors: resetFieldsErrors\r\n\t\t};\r\n\t\t//-------------------\r\n\r\n        function errorsWithHint(field) {\r\n            if (field == null) return;\r\n\t\t\t\r\n            return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n        };\r\n\t\t\r\n//         function submittedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function submittedErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function dirtyErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function dirtyErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function touchedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n//             \r\n//             if (field.$touched || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n\r\n        function touchedErrorsWithHint(form, field) {\r\n            if (form == null) return;\r\n            if (field == null) return;\r\n\r\n            if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\r\n                var result = _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n                return result;\r\n            }\r\n            return { hint: true };\r\n        };\r\n\r\n        function resetFormErrors(form, errors) {\r\n            form.$setPristine();\r\n            form.$setUntouched();\r\n\r\n            if (errors) {\r\n                form.$setDirty();\r\n                form.$setSubmitted();\r\n            }\r\n\r\n            form.$serverError = {};\r\n        };\r\n        \r\n        function resetFieldsErrors(form, field) {\r\n            if (!form) return;\r\n            if (field && form[field] && form[field].$error) {\r\n                 form[field].$error = {};\r\n            } else {\r\n                for (var prop in form) {\r\n                    if (form[prop] && form[prop].$error) {\r\n                        form[prop].$error = {};\r\n                    };\r\n                }\r\n                if (form && form.$error) form.$error = {};\r\n            }\r\n        };\r\n        \r\n        function setFormError(form, error, errorFieldMap) {\r\n            if (error == null) return;\r\n            // Prepare form server errors\r\n            form.$serverError = form.$serverError || {};\r\n            // Prepare error code\r\n            var code = error.code || (error.data || {}).code || null;\r\n            if (!code && error.status) code = error.status;\r\n\r\n            if (code) {\r\n                var \r\n                    errorName = 'ERROR_' + code,\r\n                    field = errorFieldMap ? errorFieldMap[code] : null;\r\n                // Set server error to fields\r\n                if (field && form[field] && form[field].$setValidity) {\r\n                    form[field].$setValidity(errorName, false);\r\n                    return;\r\n                }\r\n\r\n                // Set server error to form\r\n                if (field == 'form') {\r\n                    form.$serverError[errorName] = true;\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n            if (error.data && error.data.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.data.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            // Set as undefined error\r\n            if (error.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            if (error.name) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.name;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            form.$serverError['ERROR_UNKNOWN'] = error;\r\n            goToUnhandledErrorPage(error);\r\n        };\r\n\r\n        function goToUnhandledErrorPage(error) {\r\n            $rootScope.$emit('pipUnhandledInternalError', {\r\n                error: error\r\n            });\r\n        };\r\n        \r\n\t});\r\n\r\n})();","/**\r\n * @file Maintenance error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Maintenance', []);\r\n\r\n    thisModule.controller('pipErrorMaintenanceController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.timeoutInterval = $scope.error && $scope.error.config &&\r\n                        $scope.error.config.params && $scope.error.config.params.interval ? $scope.error.config.params.interval : 0;\r\n\r\n        $scope.onClose = onClose;\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_AVAILABLE_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Missing route error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.MissingRoute', []);\r\n\r\n    thisModule.controller('pipErrorMissingRouteController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        appHeader();\r\n        $rootScope.$routing = false;\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.fromState : {};\r\n        $scope.unfoundState = $state && $state.params ?  $state.params.unfoundState : {};\r\n        $scope.url = $scope.unfoundState && $scope.unfoundState.to ? $state.href($scope.unfoundState.to, $scope.unfoundState.toParams, {absolute: true}) : '';\r\n        $scope.urlBack = $scope.fromState && $scope.fromState.to ? $state.href($scope.fromState.to, $scope.fromState.fromParams, {absolute: true}) : '';\r\n\r\n        $scope.onContinue = onContinue;\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_ROUTE_PAGE_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function onContinue() {\r\n            // Todo: Go to default state '/'\r\n            //pipAuthState.goToAuthorized();\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file No connection error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.NoConnection', []);\r\n\r\n    thisModule.controller('pipErrorNoConnectionController', function ($scope, $state, $rootScope, $window, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        $scope.onRetry = onRetry;\r\n\r\n        return;\r\n\r\n        function onRetry() {\r\n            $window.history.back();\r\n        };\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_RESPONDING_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n    });\r\n\r\n\r\n})();\r\n","/**\r\n * @file No Connection Error panel\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipNoConnectionPanel\", ['pipErrors.Translate']);\r\n\r\n    thisModule.directive('pipNoConnectionPanel',\r\n        function () {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/no_connection_panel.html',\r\n                controller: 'pipNoConnectionPanelController'\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipNoConnectionPanelController',\r\n        function ($scope, $element, $attrs, pipTranslate) {\r\n\r\n            $scope.onRetry = onRetry;\r\n\r\n            return;\r\n\r\n            function onRetry() {\r\n                if ($scope.retry && angular.isFunction($scope.retry)) $scope.retry();\r\n            };\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Unknown error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unknown', []);\r\n\r\n    thisModule.controller('pipErrorUnknownController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.error_details = null;\r\n\r\n        $scope.onDetails = onDetails;\r\n        $scope.onClose = onClose;\r\n\r\n        parseError();\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_UNKNOWN_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function parseError() {\r\n            $scope.error_details = {};\r\n            $scope.error_details.code = $scope.error.code;\r\n            $scope.error_details.description = $scope.error.message;\r\n            $scope.error_details.status = $scope.error.status;\r\n\r\n            $scope.error_details.server_stacktrace = function () {\r\n\r\n            };\r\n\r\n            $scope.error_details.client_stacktrace = function () {\r\n\r\n            };\r\n        };\r\n\r\n        function onDetails() {\r\n            $scope.showError = true;\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Unsupported error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unsupported', []);\r\n\r\n    thisModule.controller('pipErrorUnsupportedController', function ($scope, $state, $rootScope, $mdMedia, pipAppBar) {\r\n\r\n        $scope.$mdMedia = $mdMedia;\r\n        $rootScope.$routing = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_UNSUPPORTED_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/maintenance.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/maintenance.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_AVAILABLE_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_AVAILABLE_SUBTITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\" ng-if=\"timeoutInterval\">\\n' +\n    '        {{::\\'ERROR_AVAILABLE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-error-actions h48 layout-column layout-align-center-center\"\\n' +\n    '         ng-if=\"isCordova\">\\n' +\n    '        <md-button class=\"md-accent\" ng-click=\"onClose($event)\" aria-label=\"CLOSE\" >\\n' +\n    '            {{::\\'ERROR_AVAILABLE_CLOSE\\' | translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/missing_route.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/invalid_route.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_ROUTE_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_ROUTE_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-actions h48 layout-column layout-align-center-center\">\\n' +\n    '        <md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"onContinue($event)\">\\n' +\n    '            {{::\\'ERROR_ROUTE_CONTINUE\\' | translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{url}}\">\\n' +\n    '        {{::\\'ERROR_ROUTE_TRY_AGAIN\\' | translate }}: {{url}}\\n' +\n    '    </a></div>\\n' +\n    '    <div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{urlBack}}\">\\n' +\n    '        {{::\\'ERROR_ROUTE_GO_BACK\\' | translate }}: {{urlBack}}\\n' +\n    '    </a></div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/no_connection.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/no_response.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_RESPONDING_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_RESPONDING_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-actions h48 layout-column layout-align-center-center\">\\n' +\n    '        <md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">\\n' +\n    '            {{::\\'ERROR_RESPONDING_RETRY\\' | translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/no_connection_panel.html',\n    '    <div class=\"pip-empty pip-error layout-column layout-align-center-center flex\">\\n' +\n    '        <img src=\"images/no_response.svg\" class=\"pip-pic block\" >\\n' +\n    '        \\n' +\n    '            <div class=\"pip-error-text\">{{::\\'ERROR_RESPONDING_TITLE\\' | translate}}</div>\\n' +\n    '            <div class=\"pip-error-subtext\">{{::\\'ERROR_RESPONDING_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '            <div class=\"pip-error-actions h48 layout-column layout-align-center-center\">\\n' +\n    '                <md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">\\n' +\n    '                    {{::\\'ERROR_RESPONDING_RETRY\\' | translate}}\\n' +\n    '                </md-button>\\n' +\n    '            </div>\\n' +\n    '    </div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/unknown.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/unknown_error.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_UNKNOWN_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_UNKNOWN_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-subtext\" ng-if=\"showError && error_details && error_details.status\">\\n' +\n    '        <div ng-if=\"error_details.code\">Code: {{error_details.code}}</div>\\n' +\n    '        <div ng-if=\"error_details.description\">Description: {{error_details.description}}</div>\\n' +\n    '        <div ng-if=\"error_details.status\">HTTP status: {{error_details.status}}</div>\\n' +\n    '        <div ng-if=\"error_details.server_stacktrace\">Server stacktrace: {{error_details.server_stacktrace}}</div>\\n' +\n    '        <div ng-if=\"error_details.client_stacktrace\">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-error-actions layout-column layout-align-center-center\">\\n' +\n    '        <div class=\"h48\" ng-if=\"isCordova\">\\n' +\n    '            <md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"onClose($event)\">\\n' +\n    '                {{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"h48\">\\n' +\n    '            <md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"onDetails($event)\">\\n' +\n    '                {{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/unsupported.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_UNSUPPORTED_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">\\n' +\n    '        {{::\\'ERROR_UNSUPPORTED_SUBTITLE\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$mdMedia(\\'gt-xs\\')\">\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"https://www.mozilla.org/ru/firefox/new/\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"http://www.opera.com/ru/download\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_O\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-details\" ng-if=\"$mdMedia(\\'xs\\')\">\\n' +\n    '        <div class=\"layout-row layout-align-center-center\">\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"https://www.mozilla.org/ru/firefox/new/\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"tm16 layout-row layout-align-center-center\">\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"http://www.opera.com/ru/download\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_O\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.js.map\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipBarCharts\r\n     *\r\n     * @description\r\n     * Bar chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipBarCharts', [])\r\n        .directive('pipBarChart', pipBarChart);\r\n\r\n    function pipBarChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'barChart',\r\n            templateUrl: 'bar/bar_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm = this;\r\n                var chart = null;\r\n                var chartElem = null;\r\n                var colors = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n\r\n                vm.data = vm.series || [];\r\n\r\n                if ((vm.series || []).length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                //colors = _.sample(colors, colors.length);\r\n\r\n                // sets legend params\r\n                vm.legend = vm.data[0].values;\r\n                \r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                $scope.$watch('barChart.series', function (updatedSeries) {\r\n                    vm.data = updatedSeries || [];\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n                        chart.update();\r\n                        // Todo: the method does not exist\r\n                        //intervalUpdate(chart.update, 10);\r\n                    }\r\n                });\r\n\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(function () {\r\n                    chart = nv.models.discreteBarChart()\r\n                        .margin({top: 10, right: 0, bottom: 0, left: -50})\r\n                        .x(function (d) { return d.label; })\r\n                        .y(function (d) { return d.value; })\r\n                        .showValues(true)\r\n                        .showXAxis(false)\r\n                        .showYAxis(false)\r\n                        .valueFormat(<any>d3.format('d'))\r\n                        .duration(0)\r\n                        .height(270)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('No data for this moment...');\r\n\r\n                    chartElem = d3.select($element.get(0))\r\n                        .select('.bar-chart svg')\r\n                        .datum(vm.data)\r\n                        .style('height', 270)\r\n                        .call(chart);\r\n\r\n                    //nv.utils.windowResize(chart.update);\r\n\r\n                    return chart;\r\n                }, function () {\r\n                    chart.dispatch.on('beforeUpdate', function () {\r\n                        $timeout(configBarWidthAndLabel, 0);\r\n                    });\r\n\r\n                    $timeout(configBarWidthAndLabel, 0);\r\n                });\r\n\r\n                /**\r\n                 * Aligns value label according to parent container size.\r\n                 * @return {void}\r\n                 */\r\n                function configBarWidthAndLabel() {\r\n                    var labels = d3.selectAll('.nv-bar text')[0],\r\n                        chartBars = d3.selectAll('.nv-bar')[0],\r\n                        parentHeight = (<any>d3.select('.nvd3-svg')[0][0]).getBBox().height;\r\n\r\n                    d3.select('.bar-chart').classed('visible', true);\r\n\r\n                    chartBars.forEach(function (item, index) {\r\n                        var barSize = (<any>item).getBBox(),\r\n                            element = d3.select(item),\r\n                            y = d3.transform(element.attr('transform')).translate[1];\r\n                        \r\n                        element\r\n                            .attr('transform', 'translate(' + Number(index * (38 + 8) + 50) + ', ' + parentHeight + ')')\r\n                            .select('rect')\r\n                            .attr('width', 38);\r\n\r\n                        element\r\n                            .transition()\r\n                            .duration(1000)\r\n                            .attr('transform', 'translate(' + Number(index * (38 + 8) + 50) + ', ' + y + ')');\r\n\r\n                        d3.select(labels[index])\r\n                            .attr('dy', barSize.height / 2)\r\n                            .attr('x', 19);\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    vm.legend.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","/**\r\n * @file Registration of chart WebUI controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipCharts', [\r\n        'pipBarCharts',\r\n        'pipLineCharts',\r\n        'pipPieCharts',\r\n        'pipChartLegends'\r\n    ]);\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipLegends\r\n     *\r\n     * @description\r\n     * Legend of charts\r\n     */\r\n    angular.module('pipChartLegends', [])\r\n        .directive('pipChartLegend', pipChartLegend);\r\n\r\n    function pipChartLegend() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                interactive: '=pipInteractive'\r\n            },\r\n            templateUrl: 'legend/interactive_legend.html',\r\n            controller: function ($element, $scope, $timeout, $mdColorPalette) {\r\n                var colors = _.map($mdColorPalette, function (palette) {\r\n                    return palette[500].hex;\r\n                });\r\n\r\n                function colorCheckboxes() {\r\n                    var checkboxContainers = $($element).find('md-checkbox .md-container');\r\n                    \r\n                    checkboxContainers.each(function (index, item) {\r\n                        $(item)\r\n                            .css('color', $scope.series[index].color || colors[index])\r\n                            .find('.md-icon')\r\n                            .css('background-color', $scope.series[index].color || colors[index]);\r\n                    });\r\n                }\r\n\r\n                function animate() {\r\n                    var legendTitles = $($element).find('.chart-legend-item');\r\n\r\n                    legendTitles.each(function (index, item) {\r\n                        $timeout(function () {\r\n                            $(item).addClass('visible');\r\n                        }, 200 * index);\r\n                    });\r\n                }\r\n                \r\n                function prepareSeries() {\r\n                    $scope.series.forEach(function (item, index) {\r\n                        item.color = item.color || colors[index];\r\n                        item.disabled = item.disabled || false;\r\n                    });   \r\n                }\r\n\r\n                $scope.$watch('series', function () {\r\n                    $timeout(function () {\r\n                        animate();\r\n                        colorCheckboxes();\r\n                    }, 0);\r\n                    prepareSeries();\r\n                }, true);\r\n\r\n                $scope.$watch('interactive', function (newValue, oldValue) {\r\n                    if (newValue == true && newValue != oldValue) {\r\n                        $timeout(colorCheckboxes, 0);\r\n                    }\r\n                });\r\n\r\n                $timeout(function () {\r\n                    animate();\r\n                    colorCheckboxes();\r\n                }, 0);\r\n                prepareSeries();\r\n            }\r\n        };\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipLineCharts\r\n     *\r\n     * @description\r\n     * Line chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipLineCharts', [])\r\n        .directive('pipLineChart', pipLineChart);\r\n\r\n    function pipLineChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                showYAxis: '=pipYAxis',\r\n                showXAxis: '=pipXAxis',\r\n                dynamic: '=pipDynamic'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'lineChart',\r\n            templateUrl: 'line/line_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm        = this;\r\n                var chart     = null;\r\n                var chartElem = null;\r\n                var setZoom = null;\r\n                var updateZoomOptions = null;\r\n                var colors    = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n\r\n                vm.data = vm.series || [];\r\n                vm.sourceEvents = [];\r\n                \r\n                vm.isVisibleX = function () {\r\n                    return vm.showXAxis == undefined ? true : vm.showXAxis; \r\n                };\r\n\r\n                vm.isVisibleY = function () {\r\n                    return vm.showYAxis == undefined ? true : vm.showYAxis;\r\n                };\r\n\r\n                vm.zoomIn = function () {\r\n                    if (setZoom) {\r\n                        setZoom('in');\r\n                    }\r\n                };\r\n\r\n                vm.zoomOut = function () {\r\n                    if (setZoom) {\r\n                        setZoom('out');\r\n                    }\r\n                };\r\n                \r\n                if (vm.series.length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                $scope.$watch('lineChart.series', function (updatedSeries) {\r\n                    vm.data = updatedSeries;\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n\r\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\r\n                    }\r\n                }, true);\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(function () {\r\n                    chart = nv.models.lineChart()\r\n                        .margin({ top: 20, right: 20, bottom: 30, left: 30 })\r\n                        .x(function (d) {\r\n                            return d.x;\r\n                        })\r\n                        .y(function (d) {\r\n                            return d.value;\r\n                        })\r\n                        .height(270)\r\n                        .useInteractiveGuideline(true)\r\n                        .showXAxis(true)\r\n                        .showYAxis(true)\r\n                        .showLegend(false)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('No data for this moment...');\r\n\r\n                    chart.yAxis\r\n                        .tickFormat(function (d) {\r\n                            return d / 1000 + 'k';\r\n                        });\r\n\r\n                    chart.xAxis\r\n                        .tickFormat(function (d) {\r\n                            return d.toFixed(2);\r\n                        });\r\n\r\n                    chartElem = d3.select($element.get(0)).select('.line-chart svg');\r\n                    chartElem.datum(vm.data).style('height', 270).call(chart);\r\n\r\n                    if (vm.dynamic) {\r\n                        addZoom(chart, chartElem);\r\n                    }\r\n\r\n                    nv.utils.windowResize(chart.update);\r\n\r\n                    return chart;\r\n                });\r\n\r\n                function updateScroll(domains, boundary) {\r\n                    var bDiff = boundary[1] - boundary[0],\r\n                        domDiff = domains[1] - domains[0],\r\n                        isEqual = (domains[1] - domains[0])/bDiff === 1;\r\n\r\n                    $($element[0]).find('.visual-scroll')\r\n                        .css('opacity', function () {\r\n                            return isEqual ? 0 : 1;\r\n                        });\r\n\r\n                    if (isEqual) return;\r\n                    \r\n                    $($element[0]).find('.scrolled-block')\r\n                        .css('left', function () {\r\n                            return domains[0]/bDiff * 100 + '%';\r\n                        })\r\n                        .css('width', function () {\r\n                            return domDiff/bDiff * 100 + '%';\r\n                        });\r\n                }\r\n\r\n                function addZoom(chart, svg) {\r\n                    // scaleExtent\r\n                    var scaleExtent = 4;\r\n\r\n                    // parameters\r\n                    var yAxis       = null;\r\n                    var xAxis       = null;\r\n                    var xDomain     = null;\r\n                    var yDomain     = null;\r\n                    var redraw      = null;\r\n                    var svg         = svg;\r\n\r\n                    // scales\r\n                    var xScale = null;\r\n                    var yScale = null;\r\n\r\n                    // min/max boundaries\r\n                    var x_boundary = null;\r\n                    var y_boundary = null;\r\n\r\n                    // create d3 zoom handler\r\n                    var d3zoom = d3.behavior.zoom();\r\n                    var prevXDomain = null;\r\n                    var prevScale = null;\r\n                    var prevTranslate = null;\r\n\r\n                    setData(chart);\r\n\r\n                    function setData(newChart) {\r\n                        // parameters\r\n                        yAxis       = newChart.yAxis;\r\n                        xAxis       = newChart.xAxis;\r\n                        xDomain     = newChart.xDomain || xAxis.scale().domain;\r\n                        yDomain     = newChart.yDomain || yAxis.scale().domain;\r\n                        redraw      = newChart.update;\r\n\r\n                        // scales\r\n                        xScale = xAxis.scale();\r\n                        yScale = yAxis.scale();\r\n\r\n                        // min/max boundaries\r\n                        x_boundary = xAxis.scale().domain().slice();\r\n                        y_boundary = yAxis.scale().domain().slice();\r\n\r\n                        // create d3 zoom handler\r\n                        prevXDomain = x_boundary;\r\n                        prevScale = d3zoom.scale();\r\n                        prevTranslate = d3zoom.translate();\r\n\r\n                        // ensure nice axis\r\n                        xScale.nice();\r\n                        yScale.nice();\r\n                    }\r\n\r\n                    // fix domain\r\n                    function fixDomain(domain, boundary, scale, translate) {\r\n                        if (domain[0] < boundary[0]) {\r\n                            domain[0] = boundary[0];\r\n                            if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                                domain[1] += (boundary[0] - domain[0]);\r\n                            } else {\r\n                                domain[1] = prevXDomain[1];\r\n                                translate = _.clone(prevTranslate);\r\n                            }\r\n\r\n                        }\r\n                        if (domain[1] > boundary[1]) {\r\n                            domain[1] = boundary[1];\r\n                            if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                                domain[0] -= (domain[1] - boundary[1]);\r\n                            } else {\r\n                                domain[0] = prevXDomain[0];\r\n                                translate = _.clone(prevTranslate);\r\n                            }\r\n                        }\r\n\r\n                        d3zoom.translate(translate);\r\n                        prevXDomain = _.clone(domain);\r\n                        prevScale = _.clone(scale);\r\n                        prevTranslate = _.clone(translate);\r\n                        return domain;\r\n                    }\r\n\r\n                    function updateChart() {\r\n                        d3zoom.scale(1);\r\n                        d3zoom.translate([0,0]);\r\n                        xScale.domain(x_boundary);\r\n                        d3zoom.x(xScale).y(yScale);\r\n                        svg.call(d3zoom);\r\n                    }\r\n\r\n                    // zoom event handler\r\n                    function zoomed() {\r\n                        // Switch off vertical zooming temporary\r\n                        // yDomain(yScale.domain());\r\n\r\n                        if ((<any>d3.event).scale === 1) {\r\n                            unzoomed();\r\n                            updateChart();\r\n                        } else {\r\n                            xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\r\n                            redraw();\r\n                        }\r\n\r\n                        updateScroll(xScale.domain(), x_boundary);\r\n                    }\r\n\r\n                    //\r\n                    setZoom = function(which) {\r\n                        var center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                        var translate0 = d3zoom.translate(), coordinates0 = coordinates(center0);\r\n\r\n                        if (which === 'in') {\r\n                            if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                        } else {\r\n                            if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                        }\r\n\r\n                        var center1 = point(coordinates0);\r\n                        d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                        d3zoom.event(svg);\r\n                    };\r\n\r\n                    function step(which) {\r\n                        var translate = d3zoom.translate();\r\n\r\n                        if (which === 'right') {\r\n                            translate[0] -= 20;\r\n                        } else {\r\n                            translate[0] += 20;\r\n                        }\r\n\r\n                        d3zoom.translate(translate);\r\n                        d3zoom.event(svg);\r\n                    }\r\n\r\n                    function coordinates(point) {\r\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\r\n                        return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n                    }\r\n\r\n                    function point(coordinates) {\r\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\r\n                        return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n                    }\r\n\r\n                    function keypress() {\r\n                        switch((<any>d3.event).keyCode) {\r\n                            case 39: step('right'); break;\r\n                            case 37: step('left'); break;\r\n                            case 107: setZoom('in'); break;\r\n                            case 109: setZoom('out');\r\n                        }\r\n                    }\r\n\r\n                    // zoom event handler\r\n                    function unzoomed() {\r\n                        xDomain(x_boundary);\r\n                        redraw();\r\n                        d3zoom.scale(1);\r\n                        d3zoom.translate([0,0]);\r\n                        prevScale = 1;\r\n                        prevTranslate = [0,0];\r\n                    }\r\n\r\n                    // initialize wrapper\r\n                    d3zoom.x(xScale)\r\n                        .y(yScale)\r\n                        .scaleExtent([1, scaleExtent])\r\n                        .on('zoom', zoomed);\r\n\r\n                    // add handler\r\n                    svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n                    $($element.get(0)).addClass('dynamic');\r\n\r\n                    // add keyboard handlers\r\n                    svg\r\n                        .attr('focusable', false)\r\n                        .style('outline', 'none')\r\n                        .on('keydown', keypress)\r\n                        .on('focus', function () {});\r\n\r\n                    var getXMinMax = function(data) {\r\n                        var maxVal, minVal = null;\r\n\r\n                        for(var i=0;i<data.length;i++) {\r\n                            if (!data[i].disabled) {\r\n                                var tempMinVal = d3.max(data[i].values, function(d: any) { return d.x;} );\r\n                                var tempMaxVal = d3.min(data[i].values, function(d: any) { return d.x;} );\r\n                                minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                                maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                            }\r\n                        }\r\n                        return [maxVal, minVal];\r\n                    };\r\n\r\n                    updateZoomOptions = function(data) {\r\n                        yAxis = chart.yAxis;\r\n                        xAxis = chart.xAxis;\r\n\r\n                        xScale = xAxis.scale();\r\n                        yScale = yAxis.scale();\r\n\r\n                        x_boundary = getXMinMax(data);\r\n\r\n                        if (d3zoom.scale() === 1) {\r\n                            d3zoom.x(xScale).y(yScale);\r\n                            svg.call(d3zoom);\r\n                            d3zoom.event(svg);\r\n                        }\r\n\r\n                        updateScroll(xScale.domain(), x_boundary);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    vm.data.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipPieCharts\r\n     *\r\n     * @description\r\n     * Line chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipPieCharts', [])\r\n        .directive('pipPieChart', pipPieChart);\r\n\r\n    function pipPieChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                donut: '=pipDonut',\r\n                legend: '=pipShowLegend',\r\n                total: '=pipShowTotal',\r\n                size: '=pipPieSize'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'pieChart',\r\n            templateUrl: 'pie/pie_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm               = this;\r\n                var chart            = null;\r\n                var titleElem        = null;\r\n                var chartElem        = null;\r\n                var colors           = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n                var resizeTitleLabel = resizeTitleLabelUnwrap;\r\n\r\n                vm.data = vm.data || [];\r\n\r\n                vm.showLegend = function () {\r\n                    return vm.legend !== undefined ? vm.legend: true;\r\n                };\r\n\r\n                if (vm.series.length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                $scope.$watch('pieChart.series', function (newVal) {\r\n                    vm.data = newVal;\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n                        $timeout(resizeTitleLabel);\r\n                    }\r\n                }, true);\r\n\r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(function () {\r\n                    chart = nv.models.pieChart()\r\n                        .margin({ top: 0, right: 0, bottom: 0, left: 0 })\r\n                        .x(function (d) {\r\n                            return vm.donut ? d.value : null;\r\n                        })\r\n                        .y(function (d) {\r\n                            return d.value;\r\n                        })\r\n                        .height(vm.size || 250)\r\n                        .width(vm.size || 250)\r\n                        .showLabels(true)\r\n                        .labelThreshold(.001)\r\n                        .growOnHover(false)\r\n                        .donut(vm.donut)\r\n                        .donutRatio(0.5)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('No data for this moment...');\r\n                    chart.showLegend(false);\r\n\r\n                    chartElem = d3.select($element.get(0))\r\n                        .select('.pie-chart svg')\r\n                        .attr('height', vm.size || 250)\r\n                        .attr('width', vm.size || 250)\r\n                        .style('opacity', 0)\r\n                        .datum(vm.data)\r\n                        .call(chart);\r\n\r\n                    nv.utils.windowResize(function () {\r\n                        chart.update();\r\n                        $timeout(resizeTitleLabel);\r\n                    });\r\n\r\n                    return chart;\r\n                }, function () {\r\n                    $timeout(function () {\r\n                        var svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0];\r\n                        renderTotalLabel(svgElem);\r\n                        d3.select(svgElem)\r\n                            .transition()\r\n                            .duration(1000)\r\n                            .style('opacity', 1);\r\n                        \r\n                        $timeout(resizeTitleLabelUnwrap, 800);\r\n                    });\r\n                });\r\n\r\n                function renderTotalLabel(svgElem) {\r\n                    if (!vm.total && !vm.donut) return;\r\n\r\n                    var totalVal = vm.data.reduce(function (sum, curr) {\r\n                        return sum + curr.value;\r\n                    }, 0);\r\n                    \r\n                    d3.select(svgElem)\r\n                        .select('.nv-pie:not(.nvd3)')\r\n                        .append('text')\r\n                        .classed('label-total', true)\r\n                        .attr('text-anchor', 'middle')\r\n                        .style('dominant-baseline', 'central')\r\n                        .text(totalVal);\r\n\r\n                    titleElem = d3.select($element.find('text.label-total').get(0)).style('opacity', 0);\r\n                }\r\n\r\n                function resizeTitleLabelUnwrap() {\r\n                    if (!vm.total && !vm.donut) return;\r\n\r\n                    var boxSize = vm.donut ? $element.find('.nv-pieLabels').get(0).getBBox()\r\n                        : $element.find('.nvd3.nv-pieChart').get(0).getBBox();\r\n\r\n                    if (!boxSize.width || !boxSize.height) {\r\n                        return;\r\n                    }\r\n\r\n                    titleElem.style('font-size', ~~boxSize.width / (vm.donut ? 2:2.5)).style('opacity', 1);\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    vm.data.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar/bar_chart.html',\n    '<div class=\"bar-chart flex-auto layout-column\">\\n' +\n    '    <svg class=\"flex-auto\"></svg>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<pip-chart-legend pip-series=\"barChart.legend\" pip-interactive=\"false\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('legend/interactive_legend.html',\n    '<div >\\n' +\n    '    <div class=\"chart-legend-item\" ng-repeat=\"item in series\">\\n' +\n    '        <md-checkbox class=\"lp16 m8\"\\n' +\n    '                     ng-model=\"item.disabled\"\\n' +\n    '                     ng-true-value=\"false\"\\n' +\n    '                     ng-false-value=\"true\"\\n' +\n    '                     ng-if=\"interactive\"\\n' +\n    '                     aria-label=\"{{ item.label }}\">\\n' +\n    '            <p class=\"legend-item-value\"\\n' +\n    '               ng-style=\"{\\'background-color\\': item.color}\">\\n' +\n    '                {{ item.value }}\\n' +\n    '            </p>\\n' +\n    '            <p class=\"legend-item-label\">{{:: item.label || item.key }}</p>\\n' +\n    '        </md-checkbox>\\n' +\n    '\\n' +\n    '        <div ng-if=\"!interactive\">\\n' +\n    '            <span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span>\\n' +\n    '            <span>{{:: item.label || item.key}}</span>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line/line_chart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\">\\n' +\n    '    <svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': lineChart.isVisibleX(), \\'visible-y-axis\\': lineChart.isVisibleY()}\">\\n' +\n    '    </svg>\\n' +\n    '    <div class=\"visual-scroll\">\\n' +\n    '        <div class=\"scrolled-block\"></div>\\n' +\n    '    </div>\\n' +\n    '    <md-button class=\"md-fab md-mini minus-button\" ng-click=\"lineChart.zoomOut()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:minus-circle\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-button class=\"md-fab md-mini plus-button\" ng-click=\"lineChart.zoomIn()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:plus-circle\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<pip-chart-legend pip-series=\"lineChart.data\" pip-interactive=\"false\"></pip-chart-legend>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie/pie_chart.html',\n    '<div class=\"pie-chart\" class=\"layout-column flex-auto\" ng-class=\"{\\'circle\\': !pieChart.donut}\">\\n' +\n    '    <svg class=\"flex-auto\"></svg>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<pip-chart-legend pip-series=\"pieChart.data\" pip-interactive=\"false\" ng-if=\"pieChart.showLegend()\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.js.map\n","/**\r\n * @file Registration of settings components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipSettings', [\r\n        'pipSettings.Service',\r\n        'pipSettings.Page'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Define controller for a settings tab\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSettings.Page', [\r\n        'pipSettings.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\r\n        'pipSettings.Templates', 'pipNavIcon', 'pipActions.Service'\r\n    ]);\r\n\r\n    thisModule.config(function ($stateProvider) {\r\n        $stateProvider.state('settings', {\r\n            url: '/settings?party_id',\r\n            auth: true,\r\n            controller: 'pipSettingsPageController',\r\n            templateUrl: 'settings_page/settings_page.html'\r\n        });\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipSettings.Page:pipSettingsPageController\r\n     *\r\n     * @description\r\n     * The controller is used for the whole settings tabs and provides\r\n     * navigation menu on the left and load content into right panel.\r\n     * This component is integrated with `'pipAppBar'` component and adapt the tabs header.\r\n     * The component has predefined states `'settings.base_info'` and `'settings.active_sessions'`. Each of these states\r\n     * require user's authorization.\r\n     *\r\n     * @requires pipAppBar\r\n     */\r\n    thisModule.controller('pipSettingsPageController',\r\n        function ($scope, $state, $rootScope, $timeout, pipAppBar, pipSettings, pipActions,\r\n                  pipBreadcrumb, pipNavIcon) {\r\n\r\n            $scope.tabs = _.filter(pipSettings.getTabs(), function (tab: any) {\r\n                if (tab.visible === true && (tab.access ? tab.access($rootScope.$user, tab) : true)) {\r\n                    return tab;\r\n                }\r\n            });\r\n\r\n            $scope.tabs = _.sortBy($scope.tabs, 'index');\r\n\r\n            $scope.selected = {};\r\n            if ($state.current.name !== 'settings') {\r\n                initSelect($state.current.name);\r\n            } else if ($state.current.name === 'settings' && pipSettings.getDefaultTab()) {\r\n                initSelect(pipSettings.getDefaultTab().state);\r\n            } else {\r\n                $timeout(function () {\r\n                    if (pipSettings.getDefaultTab()) {\r\n                        initSelect(pipSettings.getDefaultTab().state);\r\n                    }\r\n                    if (!pipSettings.getDefaultTab() && $scope.tabs.length > 0) {\r\n                        initSelect($scope.tabs[0].state);\r\n                    }\r\n                });\r\n            }\r\n\r\n            appHeader();\r\n\r\n            /** @see onNavigationSelect */\r\n            $scope.onNavigationSelect = onNavigationSelect;\r\n            /** @see onDropdownSelect */\r\n            $scope.onDropdownSelect = onDropdownSelect;\r\n\r\n            /**\r\n             * Config header panel\r\n             */\r\n            function appHeader() {\r\n                pipActions.hide();\r\n                pipAppBar.part('menu', true);\r\n                pipAppBar.part('actions', 'primary');\r\n                pipAppBar.part('icon', true);\r\n                pipAppBar.part('title', 'breadcrumb');\r\n                pipAppBar.hideShadow();\r\n                pipBreadcrumb.text = 'Settings';\r\n                pipNavIcon.menu();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Page:pipSettingsPageController\r\n             * @name pipSettings.Page:pipSettingsPageController:onDropdownSelect\r\n             *\r\n             * @description\r\n             * Method changes selected tab in the navigation menu and transfer to selected tab(state).\r\n             * It used on mobile screens.\r\n             *\r\n             * @param {Object} state    State configuration object\r\n             */\r\n            function onDropdownSelect(state) {\r\n                onNavigationSelect(state.state);\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Page:pipSettingsPageController\r\n             * @name pipSettings.Page:pipSettingsPageController:onNavigationSelect\r\n             *\r\n             * @description\r\n             * Method changes selected tab in the navigation menu and transfer to selected tab(state).\r\n             * It uses on screens more than mobile.\r\n             *\r\n             * @param {string} state    Name of new state\r\n             */\r\n            function onNavigationSelect(state) {\r\n                initSelect(state);\r\n\r\n                if ($scope.selected.tab) {\r\n                    $state.go(state);\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Establish selected tab\r\n             */\r\n            function initSelect(state) {\r\n                $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\r\n                    return tab.state === state;\r\n                });\r\n                $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\r\n                $scope.selected.tabId = state;\r\n            }\r\n        });\r\n\r\n})();\r\n","/**\r\n * @file Service for settings component\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSettings.Service', []);\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name pipSettings.Service:pipSettingsProvider\r\n     *\r\n     * @description\r\n     * Service provides an interface to manage 'Settings' component behaviour.\r\n     * It is available on config and run phases.\r\n     */\r\n    thisModule.provider('pipSettings', function ($stateProvider) { // pipAuthStateProvider\r\n\r\n        var defaultTab,\r\n            tabs = [],\r\n            titleText = 'SETTINGS_TITLE',\r\n            titleLogo = null,\r\n            isNavIcon = true;\r\n\r\n        // Configure global parameters\r\n        this.showTitleText = showTitleText;\r\n        this.showTitleLogo = showTitleLogo;\r\n        this.showNavIcon = showNavIcon;\r\n\r\n        return {\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:addTab\r\n             *\r\n             * @description\r\n             * Register new tab in 'Settings' component. Before adding a tab this method validates passed object.\r\n             *\r\n             * @param {Object} tabObj  Configuration object for new tab.\r\n             */\r\n            addTab: addTab,\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:getTabs\r\n             *\r\n             * @description\r\n             * Method returns collection of registered tabs.\r\n             *\r\n             * @returns {Array<Object>} Collection of tabs.\r\n             */\r\n            getTabs: getTabs,\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:setDefaultTab\r\n             *\r\n             * @description\r\n             * Establish a tab which is available by default (after chose this component in menu).\r\n             *\r\n             * @param {string} name     Name of the default state for this component.\r\n             */\r\n            setDefaultTab: setDefaultTab,\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:getDefaultTab\r\n             *\r\n             * @description\r\n             * Method returns an config object for tabs established as default (it will be opened when app transeferred to\r\n             * abstract state 'settings').\r\n             *\r\n             * @returns {Array<Object>} Collection of tabs.\r\n             */\r\n            getDefaultTab: getDefaultTab,\r\n                    \r\n            showTitleText: showTitleText,\r\n            showTitleLogo: showTitleLogo,\r\n            showNavIcon: showNavIcon,\r\n\r\n            $get: function () {\r\n                /**\r\n                 * @ngdoc service\r\n                 * @name pipSettings.Service:pipSettings\r\n                 *\r\n                 * @description\r\n                 * Service provides an interface to manage 'Settings' component behaviour.\r\n                 * It is available on config and run phases.\r\n                 */\r\n                return {\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:getTabs\r\n                     *\r\n                     * @description\r\n                     * Method returns collection of registered tabs.\r\n                     *\r\n                     * @returns {Array<Object>} Collection of tabs.\r\n                     */\r\n                    getTabs: getTabs,\r\n\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:addTab\r\n                     *\r\n                     * @description\r\n                     * Register new tab in 'Settings' component. Before adding a tab this method validates passed object.\r\n                     *\r\n                     * @param {Object} tabObj  Configuration object for new tab.\r\n                     */\r\n                    addTab: addTab,\r\n\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:getDefaultTab\r\n                     *\r\n                     * @description\r\n                     * Method returns an config object for tabs established as default (it will be opened when app transeferred to\r\n                     * abstract state 'settings').\r\n                     *\r\n                     * @returns {Array<Object>} Collection of tabs.\r\n                     */\r\n                    getDefaultTab: getDefaultTab,\r\n\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:setDefaultTab\r\n                     *\r\n                     * @description\r\n                     * Establish a tab which is available by default (after chose this component in menu).\r\n                     *\r\n                     * @param {string} name     Name of the default state for this component.\r\n                     */\r\n                    setDefaultTab: setDefaultTab,\r\n\r\n                    showTitleText: showTitleText,\r\n                    showTitleLogo: showTitleLogo,\r\n                    showNavIcon: showNavIcon\r\n                };\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Appends component abstract state prefix to passed state\r\n         */\r\n        function getFullStateName(state) {\r\n            return 'settings.' + state;\r\n        }\r\n\r\n        function getTabs() {\r\n            return _.cloneDeep(tabs);\r\n        }\r\n\r\n        function getDefaultTab() {\r\n            var defaultTab;\r\n\r\n            defaultTab = _.find(tabs, function (p) {\r\n                return p.state === defaultTab;\r\n            });\r\n\r\n            return _.cloneDeep(defaultTab);\r\n        }\r\n\r\n        function addTab(tabObj) {\r\n            var existingTab;\r\n\r\n            validateTab(tabObj);\r\n            existingTab = _.find(tabs, function (p) {\r\n                return p.state === getFullStateName(tabObj.state);\r\n            });\r\n            if (existingTab) {\r\n                throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n            }\r\n\r\n            tabs.push({\r\n                state: getFullStateName(tabObj.state),\r\n                title: tabObj.title,\r\n                index: tabObj.index || 100000,\r\n                access: tabObj.access,\r\n                visible: tabObj.visible !== false,\r\n                stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n            });\r\n\r\n            $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n            // if we just added first state and no default state is specified\r\n            if (typeof defaultTab === 'undefined' && tabs.length === 1) {\r\n                setDefaultTab(tabObj.state);\r\n            }\r\n        }\r\n\r\n        function setDefaultTab(name) {\r\n            // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n            if (!_.find(tabs, function (tab) {\r\n                return tab.state === getFullStateName(name);\r\n            })) {\r\n                throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n            }\r\n\r\n            defaultTab = getFullStateName(name);\r\n            \r\n            //$stateProvider.go(defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n        }\r\n\r\n        /**\r\n         * Validates passed tab config object\r\n         * If passed tab is not valid it will throw an error\r\n         */\r\n        function validateTab(tabObj) {\r\n            if (!tabObj || !_.isObject(tabObj)) {\r\n                throw new Error('Invalid object');\r\n            }\r\n\r\n            if (tabObj.state === null || tabObj.state === '') {\r\n                throw new Error('Tab should have valid Angular UI router state name');\r\n            }\r\n\r\n            if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n                throw new Error('\"access\" should be a function');\r\n            }\r\n\r\n            if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n                throw new Error('Invalid state configuration object');\r\n            }\r\n        }\r\n\r\n        function showTitleText (newTitleText) {\r\n            if (newTitleText) {\r\n                titleText = newTitleText;\r\n                titleLogo = null;\r\n            }\r\n\r\n            return titleText;\r\n        }\r\n\r\n        function showTitleLogo(newTitleLogo) {\r\n            if (newTitleLogo) {\r\n                titleLogo = newTitleLogo;\r\n                titleText = null;\r\n            }\r\n\r\n            return titleLogo;\r\n        }\r\n\r\n        function showNavIcon(value) {\r\n            if (value !== null && value !== undefined) {\r\n                isNavIcon = !!value;\r\n            }\r\n\r\n            return isNavIcon;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Settings tab logic\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipUserSettings', [\r\n        'ngMaterial', 'pipData',\r\n        'pipSettings.Service',\r\n        'pipSettings.Page',\r\n\r\n        'pipUserSettings.Strings',\r\n        'pipUserSettings.Sessions',\r\n        'pipUserSettings.BasicInfo',\r\n        'pipSettings.Templates'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Settings basic info controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.BasicInfo',\r\n        ['pipUserSettings.ChangePassword', 'pipUserSettings.VerifyEmail', \r\n            'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'basic_info',\r\n            index: 1,\r\n            title: 'SETTINGS_BASIC_INFO_TITLE',\r\n            stateConfig: {\r\n                url: '/basic_info',\r\n                controller: 'pipUserSettingsBasicInfoController',\r\n                templateUrl: 'user_settings/user_settings_basic_info.html',\r\n                auth: true\r\n            }\r\n        });\r\n\r\n        pipSettingsProvider.setDefaultTab('basic_info');\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n     *\r\n     * @description\r\n     * Controller for the predefined 'basic_info' state.\r\n     * Provides sync changes user's profile with remote profile.\r\n     * On state exit everything is saved on the server.\r\n     */\r\n    thisModule.controller('pipUserSettingsBasicInfoController',\r\n        function ($scope, $rootScope, $mdDialog, $state, $window, $timeout, $mdTheming,\r\n                  pipTranslate, pipTransaction, pipTheme,\r\n                  pipToasts, pipDataUser, pipDataParty, pipFormErrors) {\r\n\r\n            try {\r\n                $scope.originalParty = angular.toJson($rootScope.$party);\r\n            } catch (err) {\r\n                throw err;\r\n            }\r\n\r\n            $scope.nameCopy = $rootScope.$party.name;\r\n\r\n            $timeout(function () {\r\n                $scope.loc_pos = $rootScope.$party.loc_pos;\r\n            });\r\n\r\n            $scope.genders = pipTranslate.translateSet(['male', 'female', 'n/s']);\r\n            $scope.languages = pipTranslate.translateSet(['ru', 'en']);\r\n\r\n            $scope.transaction = pipTransaction('settings.basic_info', $scope);\r\n\r\n            $scope.themes = _.keys(_.omit($mdTheming.THEMES, 'default'));\r\n\r\n            $state.get('settings.basic_info').onExit = saveChanges;\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onChangePassword */\r\n            $scope.onChangePassword = onChangePassword;\r\n            /** @see onVerifyEmail */\r\n            $scope.onVerifyEmail = onVerifyEmail;\r\n            /** @see onPictureCreated */\r\n            $scope.onPictureCreated = onPictureCreated;\r\n            /** @see onPictureChanged */\r\n            $scope.onPictureChanged = onPictureChanged;\r\n            /** @see updateUser */\r\n            $scope.onChangeUser = _.debounce(updateUser, 2000);\r\n            /** @see saveChanges */\r\n            $scope.onChangeBasicInfo = _.debounce(saveChanges, 2000);\r\n\r\n            function onPictureChanged() {\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            function onPictureCreated($event) {\r\n                $scope.picture = $event.sender;\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeBasicInfo\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the input information.\r\n             * It is updated user's party profile. Also it updates user's profile in $rootScope.\r\n             */\r\n            function saveChanges() {\r\n                if ($scope.form) {\r\n                    $scope.form.$setSubmitted();\r\n                }\r\n\r\n                if ($rootScope.$party) {\r\n\r\n                    if ($rootScope.$party.type === 'person' && $scope.form.$invalid) {\r\n                        return;\r\n                    }\r\n\r\n                    // Check to avoid unnecessary savings\r\n                    $rootScope.$party.loc_pos = $scope.loc_pos;\r\n                    try {\r\n                        var party = angular.toJson($rootScope.$party);\r\n                    } catch (err) {\r\n                        throw err;\r\n                    }\r\n\r\n                    if (party !== $scope.originalParty) {\r\n                        var tid = $scope.transaction.begin('UPDATING');\r\n\r\n                        pipDataParty.updateParty($rootScope.$party,\r\n                            function (data) {\r\n                                if ($scope.transaction.aborted(tid)) {\r\n                                    return;\r\n                                }\r\n                                $scope.transaction.end();\r\n\r\n                                $scope.originalParty = party;\r\n                                $scope.nameCopy = data.name;\r\n                            }, function (error) {\r\n                                $scope.transaction.end(error);\r\n                                $scope.message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                                $rootScope.$party = angular.fromJson($scope.originalParty);\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeUser\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the user's profile information.\r\n             * Also it updates user's profile in $rootScope.\r\n             */\r\n            function updateUser() {\r\n                var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                if ($rootScope.$user.id === $rootScope.$party.id) {\r\n                    pipDataUser.updateUser(\r\n                        {\r\n                            item: $rootScope.$user\r\n                        },\r\n                        function (data) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                            pipTranslate.use(data.language);\r\n                            $rootScope.$user.language = data.language;\r\n                            $rootScope.$user.theme = data.theme;\r\n                            if ($rootScope.$user.theme) {\r\n                                pipTheme.setCurrentTheme($rootScope.$user.theme, true);\r\n                            }\r\n\r\n                        }, function (error) {\r\n                            var message;\r\n                            \r\n                            $scope.transaction.end(error);\r\n                            message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangePassword\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onChangePassword(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_change_password.html',\r\n                    controller: 'pipUserSettingsChangePasswordController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        if (answer) {\r\n                            message = String() + 'RESET_PWD_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    });\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onVerifyEmail\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onVerifyEmail(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_verify_email.html',\r\n                    controller: 'pipUserSettingsVerifyEmailController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        $scope.user.email_ver = answer;\r\n                        if (answer) {\r\n                            message = String() + 'VERIFY_EMAIL_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings change password controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.ChangePassword', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n     *\r\n     * @description\r\n     * Controller for dialog panel of password change.\r\n     */\r\n    thisModule.controller('pipUserSettingsChangePasswordController',\r\n        function ($scope, $rootScope, $mdDialog, email, pipDataUser, pipTransaction, pipFormErrors) {\r\n\r\n            $scope.transaction = pipTransaction('settings.change_password', $scope);\r\n            $scope.errorsRepeatWithHint = function (form, formPart) {\r\n                if ($scope.showRepeatHint) {\r\n                    return pipFormErrors.errorsWithHint(form, formPart);\r\n                }\r\n\r\n                return {};\r\n            };\r\n            $scope.showRepeatHint = true;\r\n            $scope.changePasData = {};\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            $scope.onCancel = onCancel;\r\n            $scope.onCheckRepeatPassword = onCheckRepeatPassword;\r\n            $scope.onApply = onApply;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCheckRepeatPassword\r\n             *\r\n             * @description\r\n             * Validates a password typed into password fields.\r\n             */\r\n            function onCheckRepeatPassword() {\r\n                if ($scope.changePasData) {\r\n                    if ($scope.repeat === $scope.changePasData.new_password || $scope.repeat === '' || !$scope.repeat) {\r\n                        $scope.form.repeat.$setValidity('repeat', true);\r\n                        if ($scope.repeat === $scope.changePasData.new_password) {\r\n                            $scope.showRepeatHint = false;\r\n                        } else {\r\n                            $scope.showRepeatHint = true;\r\n                        }\r\n                    } else {\r\n                        $scope.showRepeatHint = true;\r\n                        $scope.form.repeat.$setValidity('repeat', false);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onApply\r\n             *\r\n             * @description\r\n             * Approves password change and sends request to the server on password change.\r\n             */\r\n            function onApply() {\r\n                $scope.onCheckRepeatPassword();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n\r\n                if (!$scope.transaction.begin('CHANGE_PASSWORD')) {\r\n                    return;\r\n                }\r\n\r\n                $scope.changePasData.email = email;\r\n\r\n                pipDataUser.changePassword(\r\n                    $scope.changePasData,\r\n                    function () {\r\n                        $scope.transaction.end();\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1107: 'oldPassword',\r\n                                1105: 'newPassword'\r\n                            }\r\n                        );\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings sessions controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Sessions', [\r\n        'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider, pipDataSessionProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'sessions',\r\n            index: 3,\r\n            title: 'SETTINGS_ACTIVE_SESSIONS_TITLE',\r\n            stateConfig: {\r\n                url: '/sessions',\r\n                controller: 'pipUserSettingsSessionsController',\r\n                templateUrl: 'user_settings/user_settings_sessions.html',\r\n                auth: true,\r\n                resolve: {\r\n                    sessions: pipDataSessionProvider.readSessionsResolver,\r\n                    sessionId: pipDataSessionProvider.readSessionIdResolver\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n     *\r\n     * @description\r\n     * Controller provides an interface for managing active sessions.\r\n     */\r\n    thisModule.controller('pipUserSettingsSessionsController',\r\n        function ($scope, pipTransaction, pipDataSession, sessions, sessionId) {\r\n\r\n            $scope.sessionId = sessionId;\r\n            $scope.transaction = pipTransaction('settings.sessions', $scope);\r\n            $scope.sessions = sessions;\r\n\r\n            $scope.onRemoveAll = onRemoveAll;\r\n            $scope.onRemove = onRemove;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemoveAll\r\n             *\r\n             * @description\r\n             * Closes all active session.\r\n             */\r\n            function onRemoveAll() {\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n\r\n                async.eachSeries(\r\n                    $scope.sessions,\r\n                    function (session: any, callback) {\r\n                        if (session.id == $scope.sessionId) {\r\n                            callback();\r\n                        } else {\r\n                            pipDataSession.removeSession(\r\n                                {\r\n                                    session: session\r\n                                },\r\n                                function () {\r\n                                    $scope.sessions = _.without($scope.sessions, session);\r\n                                    callback();\r\n                                },\r\n                                function (error) {\r\n                                    callback;\r\n                                }\r\n                            );\r\n                        }\r\n                    },\r\n                    function (err) {\r\n                        if (err) {\r\n                            $scope.transaction.end(err);\r\n                        }\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n                    });                \r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemove\r\n             *\r\n             * @description\r\n             * Closes passed session.\r\n             *\r\n             * @param {Object} session  Session configuration object\r\n             */\r\n            function onRemove(session, callback) {\r\n                if (session.id === $scope.sessionId) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n                pipDataSession.removeSession(\r\n                    {\r\n                        session: session\r\n                    },\r\n                    function () {\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n\r\n                        $scope.sessions = _.without($scope.sessions, session);\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        $scope.message = 'ERROR_' + error.status || error.data.status_code;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* eslint-disable quote-props */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Strings', ['pipTranslate']);\r\n\r\n    thisModule.config(function (pipTranslateProvider) {\r\n\r\n        // Set translation strings for the module\r\n        pipTranslateProvider.translations('en', {\r\n            'SETTINGS_TITLE': 'Settings',\r\n            'SETTINGS_BASIC_INFO_TITLE': 'Basic info',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'Active sessions',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'Full name',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'Please, verify your email address.',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'Verify email address',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'Your password was changed on ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'Change your password',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'Please, use your real name to let other people know who you are.',\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'Few words about yourself',\r\n\r\n            'SETTINGS_BASIC_INFO_GENDER': 'Gender',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'Birthday',\r\n            'SETTINGS_BASIC_INFO_LOCATION': 'Current location',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'Primary email',\r\n            'SETTINGS_BASIC_INFO_FROM': 'User since ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': 'User ID',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'Change password',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'New password',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'Repeat password',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Current password',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': ' If you notice any unfamiliar devices or locations, click' +\r\n            '\"Close Session\" to end the session.',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'Close session',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'Close active sessions',\r\n            'SETTINGS_ACTIVE_SESSION_OS': 'OS: ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'active',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': 'Blacklist',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Parties from blacklist will not be able to send you invitations and ' +\r\n            'private messages.',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Unblock',\r\n            'SETTINGS_BLACKLIST_EMPTY': 'You have no blocked parties',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': 'Contact info',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': 'Email',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'Add email',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'Add phone',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'Add address',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'Add account',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'Add URL',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'Address',\r\n            'SETTINGS_CONTACT_INFO_PHONE': 'Phone',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Account name',\r\n            'SETTINGS_CONTACT_INFO_URL': 'URL',\r\n\r\n            'THEME': 'Theme',\r\n\r\n            'HINT_PASSWORD': 'Minimum 6 characters',\r\n            'HINT_REPEAT_PASSWORD': 'Repeat password',\r\n\r\n            'ERROR_WRONG_PASSWORD': 'Wrong password',\r\n            'ERROR_IDENTICAL_PASSWORDS': 'Old and new passwords are identical',\r\n            'REPEAT_PASSWORD_INVALID': 'Password does not match',\r\n            'ERROR_EMAIL_INVALID': 'Please, enter a valid email'\r\n        });\r\n\r\n        pipTranslateProvider.translations('ru', {\r\n            'SETTINGS_TITLE': '',\r\n            'SETTINGS_BASIC_INFO_TITLE': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': ' ',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': ',   ,     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': ',     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': '  .',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': '    ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': '   ',\r\n            'SETTINGS_BASIC_INFO_GENDER': '',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': ' ',\r\n            'SETTINGS_BASIC_INFO_LOCATION': ' ',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': '  . ',\r\n            'SETTINGS_BASIC_INFO_FROM': ' ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': ' ',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': '',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': ' ',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': '   -    ' +\r\n            ',   \" \",   .',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': '  ',\r\n            'SETTINGS_ACTIVE_SESSION_OS': ': ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': '',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': '',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': '     ' +\r\n            '      .',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': '',\r\n            'SETTINGS_BLACKLIST_EMPTY': '    ',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': '',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': '  ',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': '  . ',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': ' -',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': '',\r\n            'SETTINGS_CONTACT_INFO_PHONE': '',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': '  ',\r\n            'SETTINGS_CONTACT_INFO_URL': ' ',\r\n\r\n            'THEME': '',\r\n\r\n            'HINT_PASSWORD': ' 6 ',\r\n            'HINT_REPEAT_PASSWORD': ' ',\r\n\r\n            'ERROR_WRONG_PASSWORD': ' ',\r\n            'ERROR_IDENTICAL_PASSWORDS': '    ',\r\n            'REPEAT_PASSWORD_INVALID': '  ',\r\n            'ERROR_EMAIL_INVALID': ',   .'\r\n        });\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Settings verify email controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.VerifyEmail', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n     *\r\n     * @description\r\n     * Controller for verify email dialog panel.\r\n     */\r\n    thisModule.controller('pipUserSettingsVerifyEmailController',\r\n        function ($scope, $rootScope, $mdDialog, pipTransaction, pipFormErrors, pipDataUser, email) {\r\n\r\n            $scope.emailVerified = false;\r\n            $scope.data = {\r\n                email: email,\r\n                code: ''\r\n            };\r\n            $scope.transaction = pipTransaction('settings.verify_email', $scope);\r\n\r\n            /** @see onAbort */\r\n            $scope.onAbort = onAbort;\r\n            /** @see onRequestVerificationClick*/\r\n            $scope.onRequestVerificationClick = onRequestVerificationClick;\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onVerify */\r\n            $scope.onVerify = onVerify;\r\n            /** @see onCancel */\r\n            $scope.onCancel = onCancel;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onAbort\r\n             *\r\n             * @description\r\n             * Aborts a verify request.\r\n             */\r\n            function onAbort() {\r\n                $scope.transaction.abort();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onRequestVerificationClick\r\n             *\r\n             * @description\r\n             * Sends request to verify entered email.\r\n             */\r\n            function onRequestVerificationClick() {\r\n                    var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                pipDataUser.requestEmailVerification(\r\n                    {},                         \r\n                    function (result) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n                        }, \r\n                        function (error) {\r\n                            $scope.transaction.end(error);\r\n                        }\r\n                    );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onVerify\r\n             *\r\n             * @description\r\n             * Initiates request on verify email on the server.\r\n             */\r\n            function onVerify() {\r\n                $scope.form.$setSubmitted();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('Verifying');\r\n\r\n                pipDataUser.verifyEmail(\r\n                    {\r\n                        email: $scope.data.email,\r\n                        code: $scope.data.code\r\n                    }, \r\n                    function (verifyData) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1106: 'email',\r\n                                1103: 'code'\r\n                            }\r\n                        );\r\n\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('settings_page/settings_page.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar>\\n' +\n    '<pip-document width=\"800\" min-height=\"400\"\\n' +\n    '              class=\"pip-settings\">\\n' +\n    '\\n' +\n    '    <div class=\"pip-menu-container\"\\n' +\n    '         ng-hide=\"manager === false || !tabs || tabs.length < 1\">\\n' +\n    '        <md-list class=\"pip-menu pip-simple-list hide-xs\"\\n' +\n    '                 pip-selected=\"selected.tabIndex\"\\n' +\n    '                 pip-selected-watch=\"selected.navId\"\\n' +\n    '                 pip-select=\"onNavigationSelect($event.id)\">\\n' +\n    '            <md-list-item class=\"pip-simple-list-item pip-selectable flex\"\\n' +\n    '                          ng-repeat=\"tab in tabs track by tab.state\" ng-if=\"$party.id == $user.id ||\\n' +\n    '                          tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\'\\n' +\n    '                          || tab.state ==\\'settings.blacklist\\'\"\\n' +\n    '                          md-ink-ripple\\n' +\n    '                          pip-id=\"{{:: tab.state }}\">\\n' +\n    '                <p>{{::tab.title | translate}}</p>\\n' +\n    '            </md-list-item>\\n' +\n    '        </md-list>\\n' +\n    '\\n' +\n    '        <div class=\"pip-content-container\" ng-if=\"selected.tab\">\\n' +\n    '            <pip-dropdown class=\"hide-gt-xs\"\\n' +\n    '                          pip-actions=\"tabs\"\\n' +\n    '                          pip-dropdown-select=\"onDropdownSelect\"\\n' +\n    '                          pip-active-index=\"selected.tabIndex\"></pip-dropdown>\\n' +\n    '\\n' +\n    '            <div class=\"pip-body tp24-flex layout-column\" ui-view></div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"layout-column layout-align-center-center flex\"\\n' +\n    '         ng-show=\"manager === false || !tabs || tabs.length < 1\">\\n' +\n    '        {{::\\'ERROR_400\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '</pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_basic_info.html',\n    '<form name=\"form\" class=\"w-stretch\" novalidate>\\n' +\n    '    <md-progress-linear class=\"pip-progress-top\"\\n' +\n    '                        ng-show=\"transaction.busy()\"\\n' +\n    '                        md-mode=\"indeterminate\"></md-progress-linear>\\n' +\n    '    <div class=\"layout-row bm12\">\\n' +\n    '        <div class=\"md-tile-left\">\\n' +\n    '            <pip-avatar-edit pip-party-id=\"$party.id\"\\n' +\n    '                             pip-created=\"onPictureCreated($event)\"\\n' +\n    '                             pip-changed=\"onPictureChanged($control, $event)\">\\n' +\n    '            </pip-avatar-edit>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"md-tile-content tp0 layout-align-center\">\\n' +\n    '            <h3 class=\"tm16 bm8 text-one-line\">{{ nameCopy }}</h3>\\n' +\n    '\\n' +\n    '            <p class=\"text-primary text-overflow m0\">\\n' +\n    '                {{::\\'SETTINGS_BASIC_INFO_FROM\\' | translate}}\\n' +\n    '                {{$user.signup | formatLongDate }}\\n' +\n    '            </p>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\">\\n' +\n    '        <label>{{::\\'SETTINGS_BASIC_INFO_FULL_NAME\\' | translate}}</label>\\n' +\n    '        <input name=\"fullName\" step=\"any\" type=\"text\" tabindex=\"0\" required\\n' +\n    '               ng-model=\"$party.name\"\\n' +\n    '               ng-disabled=\"transaction.busy()\"\\n' +\n    '               ng-change=\"onChangeBasicInfo()\"/>\\n' +\n    '\\n' +\n    '        <div class=\"hint\"\\n' +\n    '             ng-if=\"errorsWithHint(form, form.fullName).hint\">\\n' +\n    '            {{::\\'ERROR_FULLNAME_INVALID\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block bm0\">\\n' +\n    '        <label>{{::\\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\\' | translate}}</label>\\n' +\n    '        <input name=\"email\" type=\"email\" required\\n' +\n    '               ng-model=\"$party.email\"\\n' +\n    '               ng-change=\"onChangeBasicInfo()\"\\n' +\n    '               pip-email-unique=\"{{$party.email}}\"/>\\n' +\n    '\\n' +\n    '        <div class=\"hint\"\\n' +\n    '             ng-if=\"errorsWithHint(form, form.email).hint && !$user.email_ver\">\\n' +\n    '            {{::\\'SETTINGS_BASIC_INFO_VERIFY_HINT\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div ng-messages=\"errorsWithHint(form.email)\" ng-hide=\" $party.type ==\\'team\\'\">\\n' +\n    '            <div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div>\\n' +\n    '            <div ng-message=\"emailUnique\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div>\\n' +\n    '        </div>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-button class=\"md-raised bm16 tm8 rm8\"\\n' +\n    '               ng-click=\"onVerifyEmail($event)\"\\n' +\n    '               ng-hide=\"$user.email_ver || $party.type ==\\'team\\'\">\\n' +\n    '        {{::\\'SETTINGS_BASIC_INFO_VERIFY_CODE\\' | translate}}\\n' +\n    '    </md-button>\\n' +\n    '\\n' +\n    '    <md-button ng-click=\"onChangePassword($event)\" class=\"md-raised bm16 tm8\" ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        {{::\\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\\' | translate}}\\n' +\n    '    </md-button>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block flex\">\\n' +\n    '        <label>{{::\\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\\' | translate }}</label>\\n' +\n    '        <textarea ng-model=\"$party.about\" columns=\"1\"\\n' +\n    '                  ng-change=\"onChangeBasicInfo()\"></textarea>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        <label>{{::\\'GENDER\\' | translate}}</label>\\n' +\n    '        <md-select ng-model=\"$party.gender\" ng-change=\"onChangeBasicInfo()\"\\n' +\n    '                   placeholder=\"{{\\'GENDER\\' | translate}}\">\\n' +\n    '            <md-option ng-value=\"gender.id\" ng-repeat=\"gender in genders\">{{gender.name}}</md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <div ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        <p class=\"text-caption text-grey tm0 bm0\">{{::\\'SETTINGS_BASIC_INFO_BIRTHDAY\\' | translate}}</p>\\n' +\n    '        <pip-date ng-model=\"$party.birthday\"\\n' +\n    '                  ng-change=\"onChangeBasicInfo()\"\\n' +\n    '                  pip-time-mode=\"past\\n' +\n    '                  time-mode=\"past\"></pip-date>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\"\\n' +\n    '                        ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        <label>{{::\\'LANGUAGE\\' | translate}}</label>\\n' +\n    '        <md-select placeholder=\"{{\\'LANGUAGE\\' | translate}}\"\\n' +\n    '                   ng-model=\"$user.language\"\\n' +\n    '                   ng-change=\"onChangeUser()\">\\n' +\n    '            <md-option ng-value=\"language.id\"\\n' +\n    '                       ng-repeat=\"language in languages\">\\n' +\n    '                {{language.name}}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\"\\n' +\n    '                        ng-if=\"$party.type !=\\'team\\'\">\\n' +\n    '        <label>{{::\\'THEME\\' | translate}}</label>\\n' +\n    '        <md-select class=\"w-stretch theme-text-primary\"\\n' +\n    '                   ng-model=\"$user.theme\"\\n' +\n    '                   ng-change=\"onChangeUser()\"\\n' +\n    '                   ng-disabled=\"transaction.busy()\">\\n' +\n    '            <md-option ng-value=\"theme\"\\n' +\n    '                       ng-repeat=\"theme in themes\"\\n' +\n    '                       ng-selected=\"$theme == theme ? true : false\">\\n' +\n    '                {{ theme | translate }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <pip-location-edit class=\"map-edit bm24-flex\"\\n' +\n    '                       ng-hide=\"$party.type ==\\'team\\'\"\\n' +\n    '                       pip-changed=\"onChangeBasicInfo()\"\\n' +\n    '                       pip-location-name=\"$party.loc_name\"\\n' +\n    '                       pip-location-pos=\"loc_pos\">\\n' +\n    '    </pip-location-edit>\\n' +\n    '</form>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_change_password.html',\n    '<md-dialog class=\"pip-dialog layout-column\"  width=\"440\">\\n' +\n    '    <form name=\"form\" ng-submit=\"onApply()\" >\\n' +\n    '    <div class=\"pip-header\">\\n' +\n    '        <h3 class=\"m0\">\\n' +\n    '            {{::\\'SETTINGS_CHANGE_PASSWORD_TITLE\\' | translate : module}}\\n' +\n    '        </h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <div class=\"text-error bm8\"\\n' +\n    '                 ng-messages=\"form.$serverError\">\\n' +\n    '                <div ng-message=\"ERROR_UNKNOWN\">\\n' +\n    '                    {{ form.$serverError.ERROR_UNKNOWN | translate }}\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '\\n' +\n    '            <md-input-container class=\"md-block\">\\n' +\n    '                <label>{{::\\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\\' | translate }}</label>\\n' +\n    '                <input name=\"oldPassword\" type=\"password\"\\n' +\n    '                       ng-model=\"changePasData.old_password\"\\n' +\n    '                       ng-required=\"change_password.$submitted\"\\n' +\n    '                       pip-clear-errors/>\\n' +\n    '\\n' +\n    '                <div ng-messages=\"errorsWithHint(form, form.oldPassword)\">\\n' +\n    '                    <div ng-message=\"required\">\\n' +\n    '                        {{::\\'ERROR_REQUIRED\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                    <div ng-message=\"ERROR_1107\">\\n' +\n    '                        {{::\\'ERROR_WRONG_PASSWORD\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '            </md-input-container>\\n' +\n    '\\n' +\n    '            <md-input-container class=\"md-block\">\\n' +\n    '                <label>{{\\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\\' | translate }}</label>\\n' +\n    '                <input name=\"newPassword\" type=\"password\"\\n' +\n    '                       ng-model=\"changePasData.new_password\"\\n' +\n    '                       ng-change=\"onCheckRepeatPassword()\"\\n' +\n    '                       ng-required=\"change_password.$submitted\"\\n' +\n    '                       ng-minlength=\"6\"\\n' +\n    '                       pip-clear-errors/>\\n' +\n    '                <div class=\"hint\"\\n' +\n    '                     ng-if=\"errorsWithHint(form, form.newPassword).hint\">\\n' +\n    '                    {{ \\'HINT_PASSWORD\\' | translate }}\\n' +\n    '                </div>\\n' +\n    '                <div ng-messages=\"errorsWithHint(form, form.newPassword)\">\\n' +\n    '                    <div ng-message=\"required\">\\n' +\n    '                        {{::\\'ERROR_REQUIRED\\' | translate}}\\n' +\n    '                    </div>\\n' +\n    '                    <div ng-message=\"minlength\">\\n' +\n    '                        {{::\\'HINT_PASSWORD\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                    <div ng-message=\"ERROR_1105\">\\n' +\n    '                        {{::\\'ERROR_IDENTICAL_PASSWORDS\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                </div>\\n' +\n    '            </md-input-container>\\n' +\n    '\\n' +\n    '            <md-input-container class=\"md-block\">\\n' +\n    '                <label>{{ \\'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\\' | translate }}</label>\\n' +\n    '                <input name=\"repeat\"  type=\"password\"\\n' +\n    '                       ng-model=\"repeat\"\\n' +\n    '                       ng-change=\"onCheckRepeatPassword()\"\\n' +\n    '                       ng-required=\"change_password.$submitted\"\\n' +\n    '                       ng-minlength=\"6\" />\\n' +\n    '\\n' +\n    '                <div class=\"hint\"\\n' +\n    '                     ng-if=\"errorsRepeatWithHint(form.repeat).hint\">\\n' +\n    '                    {{::\\'HINT_REPEAT_PASSWORD\\' | translate }}\\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '                <div ng-messages=\"errorsRepeatWithHint(form.repeat)\">\\n' +\n    '                    <div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div>\\n' +\n    '                    <div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div>\\n' +\n    '                    <div ng-message=\"repeat\">{{::\\'REPEAT_PASSWORD_INVALID\\' | translate }}</div>\\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '            </md-input-container>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button aria-label=\"xxx\"\\n' +\n    '                       ng-click=\"onCancel()\">\\n' +\n    '                {{::\\'CANCEL\\' | translate }}\\n' +\n    '            </md-button>\\n' +\n    '            <md-button type=\"submit\" class=\"md-accent\" aria-label=\"xxx\">\\n' +\n    '                {{::\\'APPLY\\' | translate : module}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    </form>\\n' +\n    '</md-dialog>\\n' +\n    '\\n' +\n    '\\n' +\n    '\\n' +\n    '\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_sessions.html',\n    '\\n' +\n    '    <md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\">\\n' +\n    '    </md-progress-linear>\\n' +\n    '    <div class=\"pip-details-title pip-sessions\">\\n' +\n    '        <p class=\"pip-title bm16\">\\n' +\n    '            {{::\\'SETTINGS_ACTIVE_SESSIONS_TITLE\\' | translate}}\\n' +\n    '        </p>\\n' +\n    '\\n' +\n    '        <p class=\"pip-subtitle\">\\n' +\n    '            {{::\\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\\' | translate}}\\n' +\n    '        </p>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '\\n' +\n    '<md-list class=\"w-stretch\">\\n' +\n    '    <div ng-repeat=\"session in sessions\" >\\n' +\n    '        <div class=\"layout-row\"\\n' +\n    '             ng-init=\"showBlock = session.id != sessionId\"\\n' +\n    '             ng-click=\"showBlock = !showBlock\" >\\n' +\n    '            <p class=\"m0 text-subhead2 text-overflow max-w50-stretch\">\\n' +\n    '                {{::session.client}}\\n' +\n    '            </p>\\n' +\n    '            <p class=\"m0 lp4 text-body1 color-secondary-text flex\">\\n' +\n    '                {{::\\'SETTINGS_ACTIVE_SESSION_ACTIVE\\' | translate}}\\n' +\n    '            </p>\\n' +\n    '            <p class=\"m0 text-body1 color-secondary-text\">\\n' +\n    '                {{::country}}\\n' +\n    '                <md-icon ng-if=\"showBlock\" md-svg-icon=\"icons:triangle-up\"></md-icon>\\n' +\n    '                <md-icon ng-if=\"!showBlock\" md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '            </p>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row bm8 bp8\" ng-class=\"{\\'divider-bottom\\':!$last}\" >\\n' +\n    '            <div class=\"flex-50\">\\n' +\n    '                <p class=\"m0 bm4 text-body1 text-overflow color-secondary-text \">\\n' +\n    '                    {{session.last_req | date : \\'medium\\'}}\\n' +\n    '                </p>\\n' +\n    '                <p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\"\\n' +\n    '                   ng-show=\"showBlock\">\\n' +\n    '                    {{::\\'SETTINGS_ACTIVE_SESSION_OS\\' | translate}}{{::session.platform}}</p>\\n' +\n    '                <p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\"\\n' +\n    '                   ng-show=\"showBlock\">\\n' +\n    '                    {{::\\'SETTINGS_ACTIVE_SESSION_IP\\' | translate}}{{::session.address}}\\n' +\n    '                </p>\\n' +\n    '                <md-button class=\"md-raised\"\\n' +\n    '                           ng-show=\"showBlock && session.id != sessionId\"\\n' +\n    '                           ng-click=\"onRemove(session)\">\\n' +\n    '                    {{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\\' | translate}}\\n' +\n    '                </md-button>\\n' +\n    '            </div>\\n' +\n    '\\n' +\n    '            <pip-location-ip class=\"map-edit flex-50\" ng-if=\"showBlock\"\\n' +\n    '                             pip-ipaddress=\"session.address\"\\n' +\n    '                             pip-extra-info=\"country = extraInfo.country\">\\n' +\n    '            </pip-location-ip>\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '    </div>\\n' +\n    '</md-list>\\n' +\n    '<div class=\"layout-row layout-align-end-center\">\\n' +\n    '    <md-button class=\"md-raised\"\\n' +\n    '               ng-show=\"sessions.length > 1\"\\n' +\n    '               ng-click=\"onRemoveAll()\">\\n' +\n    '        {{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\\' | translate}}\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_verify_email.html',\n    '<md-dialog class=\"pip-dialog layout-column\"  width=\"440\">\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '                <md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\" >\\n' +\n    '                </md-progress-linear>\\n' +\n    '\\n' +\n    '                <h2>{{::\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2>\\n' +\n    '\\n' +\n    '                <p class=\"title-padding\">{{::\\'VERIFY_EMAIL_TEXT_1\\' | translate}} </p>\\n' +\n    '\\n' +\n    '                <form name=\\'form\\' novalidate>\\n' +\n    '                    <div ng-messages=\"form.$serverError\" class=\"text-error bm8\">\\n' +\n    '                        <div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                    <md-input-container class=\"display  bp4 md-block\" >\\n' +\n    '                        <label>{{::\\'EMAIL\\' | translate}}</label>\\n' +\n    '                        <input name=\"email\" type=\"email\" ng-model=\"data.email\" required step=\"any\"\\n' +\n    '                               pip-clear-errors  tabindex=\"1\"\\n' +\n    '                               ng-disabled=\"transaction.busy()\"\\n' +\n    '                               pip-test=\"input-email\"/>\\n' +\n    '                        <div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint\">{{::\\'HINT_EMAIL\\' | translate}}</div>\\n' +\n    '                        <div ng-messages=\"errorsWithHint(form, form.email)\"\\n' +\n    '                             xng-if=\"!form.email.$pristine\">\\n' +\n    '                            <div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div>\\n' +\n    '                            <div ng-message=\"ERROR_1106\">{{::\\'ERROR_USER_NOT_FOUND\\' | translate}}</div>\\n' +\n    '                        </div>\\n' +\n    '                    </md-input-container>\\n' +\n    '\\n' +\n    '                    <md-input-container class=\"md-block\">\\n' +\n    '                        <label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label>\\n' +\n    '                        <input name=\"code\" ng-disabled=\"transaction.busy()\" tabindex=\"0\"\\n' +\n    '                               ng-model=\"data.code\" required pip-clear-errors/>\\n' +\n    '                        <div ng-messages=\"errorsWithHint(form, form.code)\">\\n' +\n    '                            <div ng-message=\"required\"> {{::\\'ERROR_CODE_INVALID\\' | translate }}</div>\\n' +\n    '                            <div ng-message=\"ERROR_1103\"> {{::\\'ERROR_CODE_WRONG\\' | translate }}</div>\\n' +\n    '                        </div>\\n' +\n    '                    </md-input-container>\\n' +\n    '\\n' +\n    '                    <p>\\n' +\n    '                        {{::\\'VERIFY_EMAIL_TEXT_21\\' | translate}}\\n' +\n    '                        <a ng-click=\"onRequestVerificationClick()\" class=\"pointer\" tabindex=\"0\">{{::\\'VERIFY_EMAIL_RESEND\\' | translate}}</a>\\n' +\n    '                        {{::\\'VERIFY_EMAIL_TEXT_22\\' | translate}}\\n' +\n    '                    </p>\\n' +\n    '                </form>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-footer\">\\n' +\n    '            <md-button ng-click=\"onCancel()\" ng-hide=\"transaction.busy()\" aria-label=\"xxx\">\\n' +\n    '                {{::\\'CANCEL\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onVerify()\" ng-hide=\"transaction.busy()\" tabindex=\"0\" aria-label=\"xxx\"\\n' +\n    '                ng-disabled=\"data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)\">\\n' +\n    '                {{::\\'VERIFY\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '            <md-button class=\"md-warn\" ng-show=\"transaction.busy()\" ng-click=\"transaction.abort()\" tabindex=\"0\" aria-label=\"xxx\">\\n' +\n    '                {{::\\'CANCEL\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '\\n' +\n    '        </div>\\n' +\n    '</md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.js.map\n","/**\r\n * @file Registration of all help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp', [\r\n        'pipHelp.Service',\r\n        'pipHelp.Page'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Page template for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp.Page', ['ui.router', 'pipHelp.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\r\n        'pipHelp.Templates'])\r\n        .config(config)\r\n        .controller('pipHelpPageController', HelpPageController);\r\n\r\n    function config($stateProvider) {\r\n        $stateProvider.state('help', {\r\n            url: '/help',\r\n            auth: false,\r\n            controller: 'pipHelpPageController',\r\n            templateUrl: 'help_page/help_page.html'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipHelp.Page.pipHelpPageController\r\n     *\r\n     * @description\r\n     * The controller is used for the root Help component.\r\n     * It manages available tabs provide navigation through those ones.\r\n     *\r\n     * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L40 View source}\r\n     *\r\n     *\r\n     * @param {Object} $rootScope   Root scope object\r\n     * @param {Object} $scope       Scope for the current controller\r\n     * @param {Object} $state       UI Router service\r\n     * @param {Object} pipAppBar    Service provides an interface to manage on application bar header.\r\n     * @param {Object} pipHelp      Service to manage this component behaviour\r\n     */\r\n    function HelpPageController($rootScope, $scope, $state, pipAppBar, pipHelp) {\r\n\r\n        $scope.tabs = _.filter(pipHelp.getTabs(), function (tab: any) {\r\n            if (tab.visible && (tab.access !== angular.noop ? tab.access($rootScope.$user, tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n        $scope.selected = {};\r\n\r\n        if ($state.current.name !== 'help') {\r\n            initSelect($state.current.name);\r\n        } else {\r\n            initSelect(pipHelp.getDefaultTab().state);\r\n        }\r\n\r\n        appHeader();\r\n\r\n        $scope.onNavigationSelect = onNavigationSelect;\r\n        $scope.onDropdownSelect = onDropdownSelect;\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onDropdownSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L72 View source}\r\n         *\r\n         * @param {Object} state    State configuration object\r\n         */\r\n        function onDropdownSelect(state) {\r\n            onNavigationSelect(state.state);\r\n        }\r\n\r\n        /**\r\n         * Config appBar due to this page\r\n         */\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showTitleText('Help');\r\n            pipAppBar.showShadowSm();\r\n            pipAppBar.showLocalActions(null, []);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onNavigationSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L98 View source}\r\n         *\r\n         * @param {string} state    Name of the target state.\r\n         */\r\n        function onNavigationSelect(state) {\r\n            initSelect(state);\r\n\r\n            if ($scope.selected.tab) {\r\n                $state.go(state);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set selected item for highlighting in the nav menu\r\n         */\r\n        function initSelect(state) {\r\n            $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\r\n                return tab.state === state;\r\n            });\r\n\r\n            $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\r\n            $scope.selected.tabId = state;\r\n        }\r\n    }\r\n})();\r\n","/**\r\n * @file Service for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name pipHelp.Service.pipHelp\r\n     *\r\n     * @description\r\n     * This service is provided an interface to manage the Help component.\r\n     * It is available on the config and run application phases. On the both phases the interface is the same.\r\n     * This module requires the '$state' module.\r\n     */\r\n    angular.module('pipHelp.Service', ['ui.router'])\r\n        .provider('pipHelp',\r\n            function ($stateProvider): any {\r\n                var defaultTab,\r\n                    tabs = [];\r\n\r\n                /** @see addTab */\r\n                this.addTab = addTab;\r\n\r\n                /** @see setDefaultTab */\r\n                this.setDefaultTab = setDefaultTab;\r\n\r\n                /** @see getTabs */\r\n                this.getTabs = getTabs;\r\n\r\n                /** @see getDefaultTab */\r\n                this.getDefaultTab = getDefaultTab;\r\n\r\n                this.$get = function () {\r\n                    return {\r\n                        /** @see getTabs */\r\n                        getTabs: getTabs,\r\n\r\n                        /** @see getDefaultTab */\r\n                        getDefaultTab: getDefaultTab,\r\n\r\n                        /** @see addTab */\r\n                        addTab: addTab,\r\n\r\n                        /** @see setDefaultTab */\r\n                        setDefaultTab: setDefaultTab\r\n                    };\r\n                };\r\n\r\n                /**\r\n                 * This method build the full name of state within the abstract 'help' state\r\n                 */\r\n                function getFullStateName(state) {\r\n                    return 'help.' + state;\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getTabs\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method returns asset of all tabs registered in the Help component.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L79 View source}\r\n                 *\r\n                 * @returns {Array<Object>} List of registered states\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getTabs();\r\n                 * </pre>\r\n                 */\r\n                function getTabs() {\r\n                    return _.cloneDeep(tabs);\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method return name of the default state.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L101 View source}\r\n                 *\r\n                 * @returns {string} Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getDefaultTab();\r\n                 * </pre>\r\n                 */\r\n                function getDefaultTab() {\r\n                    return _.cloneDeep(_.find(tabs, function (tab) {\r\n                        return tab.state === defaultTab;\r\n                    }));\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#addTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method allows add new tab into navigation menu. It accepts config object to define new state\r\n                 * with needed params.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L139 View source}\r\n                 *\r\n                 * @param {Object} tabObj Configuration object contains settings for another tab\r\n                 * @param {Object.<string>} tabObj.state   Name of tab state which is available via UI router\r\n                 * @param {Object.<string>} tabObj.title   Tab title in the navigation menu.\r\n                 * @param {Object.<boolean>} tabObj.access If it is true it will be available only for logged in users\r\n                 * @param {Object.<boolean>} tabObj.visible If it is true the tab will be visible\r\n                 * @param {Object.<Object>} tabObj.stateConfig  Configuration object in format like UI Router state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 *  // on the config phase\r\n                 *  pipHelpProvider.addTab({\r\n                 *      state: 'test',\r\n                 *      title: 'Test help tab',\r\n                 *      auth: true,\r\n                 *      stateConfig: {\r\n                 *          url: '/test',\r\n                 *          templateUrl: 'help/help_test1.html'\r\n                 *      }\r\n                 *  });\r\n                 * </pre>\r\n                 */\r\n                function addTab(tabObj) {\r\n                    var tab;\r\n\r\n                    validateTab(tabObj);\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(tabObj.state);\r\n                    });\r\n                    if (tab) {\r\n                        throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n                    }\r\n\r\n                    tabs.push({\r\n                        state: getFullStateName(tabObj.state),\r\n                        title: tabObj.title,\r\n                        access: tabObj.access || angular.noop,\r\n                        visible: tabObj.visible || true,\r\n                        stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n                    });\r\n\r\n                    $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n                    // if we just added first state and no default state is specified\r\n                    if (_.isUndefined(defaultTab) && tabs.length === 1) {\r\n                        setDefaultTab(tabObj.state);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#setDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method establishes passed state as default which is redirected at after transfer on abstract\r\n                 * state\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L185 View source}\r\n                 *\r\n                 * @param {Object} name     Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * pipHelpProvider.setDefaultTab('test');\r\n                 * </pre>\r\n                 */\r\n                function setDefaultTab(name) {\r\n                    var tab, error;\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(name);\r\n                    });\r\n                    if (!tab) {\r\n                        error = new Error('Tab with state name \"' + name + '\" is not registered');\r\n                        throw error;\r\n                    }\r\n\r\n                    defaultTab = getFullStateName(name);\r\n\r\n                    $stateProvider.redirect('help', getFullStateName(name));\r\n                }\r\n\r\n                /**\r\n                 * This method validates passed state.\r\n                 * If it is incorrect it will throw an error.\r\n                 */\r\n                function validateTab(tabObj) {\r\n                    if (!tabObj || !_.isObject(tabObj)) {\r\n                        throw new Error('Invalid object');\r\n                    }\r\n\r\n                    if (!tabObj.state || tabObj.state === '') {\r\n                        throw new Error('Tab should have valid Angular UI router state name');\r\n                    }\r\n\r\n                    if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n                        throw new Error('\"access\" should be a function');\r\n                    }\r\n\r\n                    if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n                        throw new Error('Invalid state configuration object');\r\n                    }\r\n                }\r\n            });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/help_page.html',\n    '<!--\\n' +\n    '@file Help page\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar>\\n' +\n    '\\n' +\n    '<pip-document width=\"800\" min-height=\"400\">\\n' +\n    '    <div class=\"pip-menu-container pip-help\"\\n' +\n    '         ng-if=\"manager !== false\">\\n' +\n    '        <md-list class=\"pip-menu pip-simple-list hide-xs\"\\n' +\n    '                 pip-selected=\"selected.tabIndex\"\\n' +\n    '                 pip-selected-watch=\"selected.navId\"\\n' +\n    '                 pip-select=\"onNavigationSelect($event.id)\">\\n' +\n    '            <md-list-item class=\"pip-simple-list-item pip-selectable\"\\n' +\n    '                          ng-repeat=\"tab in tabs track by tab.state\"\\n' +\n    '                          md-ink-ripple\\n' +\n    '                          pip-id=\"{{::tab.state }}\">\\n' +\n    '                <p> {{::tab.title | translate}} </p>\\n' +\n    '            </md-list-item>\\n' +\n    '        </md-list>\\n' +\n    '\\n' +\n    '        <div class=\"pip-content-container\">\\n' +\n    '            <pip-dropdown class=\"hide-gt-xs\"\\n' +\n    '                          pip-actions=\"tabs\"\\n' +\n    '                          pip-dropdown-select=\"onDropdownSelect\"\\n' +\n    '                          pip-active-index=\"selected.tabIndex\"></pip-dropdown>\\n' +\n    '            <div class=\"pip-body layout-column flex\" ui-view></div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"layout-column layout-align-center-center flex\"\\n' +\n    '         ng-if=\"manager === false\">\\n' +\n    '        {{::\\'ERROR_400\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '</pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.js.map\n"]}