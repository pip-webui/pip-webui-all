{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/buttons.ts","src/dependencies/translate.ts","src/fabs/fab_tooltip_visibility.ts","src/refresh_button/refresh_button.ts","src/toggle_buttons/toggle_buttons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanelDirective.ts","src/auxpanel/AuxPanelPartDirective.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/split.ts","src/behaviors.ts","src/draggable/draggable.ts","src/focused/focused.ts","src/infinite_scroll/infinite_scroll.ts","src/keyboard_shortcuts/KeyboardShortcut.ts","src/keyboard_shortcuts/ShorcutsRegisterService.ts","src/keyboard_shortcuts/ShortcutDirective.ts","src/keyboard_shortcuts/ShortcutsService.ts","src/keyboard_shortcuts/index.ts","src/selected/selected.ts","src/unsaved_changes/unsaved_changes.ts","src/color_picker/color_picker.ts","src/controls.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js","src/lists.ts","src/tag_list/tag_list.ts","temp/pip-webui-lists-html.min.js","src/date/date.ts","src/date/date_filter.ts","src/date/date_service.ts","src/date_directive/date.ts","src/date_range_directive/date_range.ts","src/dates.ts","src/dependencies/translate.js","src/time_range_directive/time_range.ts","src/time_range_edit_directive/time_range_edit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationController.ts","src/confirmation/ConfirmationService.ts","src/confirmation/index.ts","src/dialogs.ts","src/error_details/ErrorDetailsController.ts","src/error_details/ErrorDetailsService.ts","src/error_details/index.ts","src/information/InformationController.ts","src/information/InformationService.ts","src/information/index.ts","src/options/OptionsBigController.ts","src/options/OptionsBigService.ts","src/options/OptionsController.ts","src/options/OptionsService.ts","src/options/index.ts","temp/pip-webui-dialogs-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/common/errors_strings.ts","src/errors.ts","src/errors_pages/errors_module.ts","src/errors_pages/errors_pages.ts","src/errors_pages/errors_service.ts","src/forms/clear_errors.ts","src/forms/form_errors.ts","src/maintenance/maintenance.ts","src/missing_route/missing_route.ts","src/no_connection/no_connection.ts","src/no_connection_panel/no_connection_panel.ts","src/unknown/unknown.ts","src/unsupported/unsupported.ts","temp/pip-webui-errors-html.min.js","src/bar/bar_chart.ts","src/charts.ts","src/legend/interactive_legend.ts","src/line/line_chart.ts","src/pie/pie_chart.ts","temp/pip-webui-charts-html.min.js","src/location/location.ts","src/location_dialog/location_dialog.ts","src/location_edit/location_edit.ts","src/location_ip/location_ip.ts","src/location_map/location_map.ts","src/locations.ts","temp/pip-webui-locations-html.min.js","src/common/ButtonsUpload.ts","src/fail/FileFailController.ts","src/files.ts","src/select/FileSelectController.ts","src/service/FileUploadService.ts","src/start/FileStartController.ts","src/start/index.ts","src/success/FileSuccessController.ts","src/success/index.ts","src/upload/FileUploadController.ts","src/upload/index.ts","temp/pip-webui-files-html.min.js","src/Dashboard.ts","src/DashboardComponent.ts","src/DashboardController.ts","src/dialogs/add_component/AddComponentDialogController.ts","src/dialogs/add_component/AddComponentProvider.ts","src/dialogs/widget_config/ConfigDialogController.ts","src/dialogs/widget_config/ConfigDialogExtendComponent.ts","src/dialogs/widget_config/ConfigDialogService.ts","src/draggable/Draggable.ts","src/draggable/DraggableController.ts","src/draggable/DraggableDirective.ts","src/draggable/DraggableTileService.ts","src/draggable/draggable_group/DraggableTilesGroupDirective.ts","src/draggable/draggable_group/DraggableTilesGroupService.ts","src/utility/WidgetTemplateUtility.ts","src/widgets/Widgets.ts","src/widgets/calendar/WidgetCalendar.ts","src/widgets/event/WidgetEvent.ts","src/widgets/menu/WidgetMenuDirective.ts","src/widgets/menu/WidgetMenuService.ts","src/widgets/notes/WidgetNotes.ts","src/widgets/picture_slider/WidgetPictureSlider.ts","src/widgets/position/WidgetPosition.ts","src/widgets/statistics/WidgetStatistics.ts","temp/pip-webui-dashboard-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","defineProperty","value","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","config","hookRoutingEvents","$log","$state","RoutingVar","error","5","m","p","hasOwnProperty","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","$emit","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","get","set","$get","provider","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","8","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","id","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","10","TransactionError","decode","details","cause","stack_trace","data","statusText","status","11","TransactionService","_transactions","create","transaction","Transaction_1","12","$injector","pipTranslate","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","configureTransactionStrings","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","directive","translateDirective","translateHtmlDirective","15","translateFilter","16","initTranslate","language","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","__","constructor","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","save","changeLocale","locale","localeDate","moment","localeData","months","isArray","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","_this","TranslateProvider","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","./TranslateFilter","./TranslateService","19","Codes","hash","result","verification","random","substr","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","parseFormat","args","21","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","opera","browserVersion","service","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","field","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","ToggleButtonsFilter","filter","FabTooltipVisibilityController","$element","$attrs","$scope","$parse","trigGetter","showGetter","showSetter","assign","isOpen","isFunction","pipFabTooltipVisibility","controller","4","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","$onChanges","changes","currentValue","hide","onClick","$event","width","css","RefreshButtonComponent","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","index","currentButtonIndex","disabled","on","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","bindings","component","$templateCache","put","layouts","MediaService_1","AuxPanelDirective","AuxPanelDirectiveController","transclude","controllerAs","pipAuxPanel","normalSize","largeSize","_pipAuxPanel","isGtxs","Number","MainBreakpoints","xs","isGtlg","lg","../media/MediaService","2","AuxPanelPartDirectiveController","onAuxPanelChanged","currentPartValue","parts","partName","partValue","pipAuxPanelPart","pos","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","apply","hookAuxPanelEvents","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelChangedEvent","AuxPanelStateChangedEvent","AuxPanelConfig","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","_state","$broadcast","toggle","_i","arguments","c","reject","cc","part","AuxPanelProvider","type","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","CardDirectiveLink","listener","resize","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","cardDirective","7","dialogDirective","documentDirective","mainDirective","MainDirectiveController","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesOptions","TilesDirectiveLink","_columnWidth","columnWidth","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","columns","layout","LayoutResizedEvent","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","defaultView","__resizeElement__","addEventListener","resizeListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","detachEvent","removeChild","thisModule","pipSplit","splitElements","forwardTransition","addTransitionSequence","sequence","transitionSequences","toIndex","fromIndex","behaviors","inputEvent","isDefined","touches","originalEvent","$document","pipDraggable","initialize","attr","dragHandles","querySelectorAll","_dragHandle","toggleListeners","scrollContainer","scrollParent","pipScrollContainer","scrollContainerGetter","toBoolean","enable","onDestroy","$watch","pipDrag","onEnableChange","pipCenterAnchor","onCenterAnchor","_pressEvents","onpress","_hasTouch","nodeName","newVal","oldVal","_dragEnabled","_centerAnchor","isClickableElement","evt","button","saveElementStyles","cancelPress","_pressTimer","onlongpress","LONG_PRESS","_moveEvents","_releaseEvents","_elementStyle","off","offset","getBoundingClientRect","_dragOffset","allowTransform","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","_deregisterRootMoveListener","origEvent","_data","getDragData","x","y","tx","ty","onDragStartCallback","$data","horizontalScroll","verticalScroll","dragToScroll","moveElement","uid","_myid","dragOffset","onDragComplete","onDragStopCallback","onDragSuccessCallback","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","activationDistance","scrollDistance","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","ngDrag","DocumentTouch","$id","pipDragStart","pipDragStop","pipDragSuccess","$eval","pipDragData","pipVerticalScroll","pipHorizontalScroll","pipActivationDistance","pipScrollDistance","noop","pipDrop","onDragStart","onDragMove","onDragEnd","_dropEnabled","isTouching","pipDragMove","onDragMoveCallback","pipDropSuccess","onDropCallback","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","absorbEvent_","stopPropagation","cancelBubble","returnValue","$mdConstant","rgba","color","focusedColor","arr","red","blue","green","opacity","opacityLimit","opacityDelta","setTabindex","checkTabindex","controls","findIndex","focusedTabindex","init","selector","withHidden","controlsLength","reInit","isOpacity","_color","keydownListener","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipWithHidden","pipFocusedColor","pipFocusedRebind","pipFocusedTabindex","pipFocusedOpacity","ngModel","pipFocusedData","$observe","THROTTLE_MILLISECONDS","pipInfiniteScroll","pipScrollDisabled","pipScrollUseDocumentBottom","pipScrollListenForEvent","isNaN","clientHeight","offsetTop","ownerDocument","handleScrollDistance","v","handleScrollDisabled","scrollEnabled","checkWhenEnabled","onContainerScroll","handleScrollUseDocumentBottom","useDocumentBottom","changeContainer","newContainer","unbind","bind","handleScrollContainer","HTMLElement","append","parents","immediateCheck","unregisterEventListener","windowElement","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","throttle","pipScrollParent","pipScrolImmediateCheck","ShortcutOption","KeyboardEvent","Keydown","Keyup","Keypress","KeyboardShortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","pause","break","insert","home","delete","end","pageup","page_up","pu","pagedown","page_down","pd","up","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","shift","wanted","pressed","ctrl","alt","meta","shorcut","Type","eventCallback","DisableInInput","element_1","nodeType","parentNode","tagName","character","kp","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","KeyboardShortcut_1","ShortcutsRegister","_defaultOption","defaults","getDefaultOption","_shortcuts","defaultOption","Target","checkAddShortcut","add","shorcutName","remove","shorcutOption","getElementById","newKeyboardShortcut","shortcutCombination","binding","removeEventListener","ShortcutsRegisterProvider","_option","ShortcutController","pipShortcutsRegister","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","options","pipShorcutOptions","keypressShortcut","action","shortcutsDirective","ShortcutsChangedEvent","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","defaultOptions","ShortcutsService","$location","_oldConfig","_location","_injector","_pipShortcutsRegister","addShortcuts","sendChangeEvent","removeShortcuts","collection","shortcut","access","keypress","href","stateParams","generalOptions","targetId","onLocal","ShortcutsProvider","./ShortcutDirective","./ShortcutsService","selectItem","itemParams","itemIndex","itemId","className","modifier","itemsLength","raiseEvent","noScroll","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedIndex","selectedId","indexSetter","idSetter","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","isScrolled","getTargetElementFromEventTarget","eventTarget","Node","TEXT_NODE","touchHasMoved","touch","changedTouches","boundary","touchBoundary","touchStartX","touchStartY","onClickEvent","currentTarget","onTouchStart","ev","targetElement","trackingClick","trackingClickStart","timeStamp","lastClickTime","tapdelay","onTouchMove","onTouchEnd","newTrackingClickStart","cancelNextClick","tapTimeout","onTouchCancel","onKeyDown","ENTER","SPACE","inc","newSelectedIndex","onFocusIn","indexGetter","onFocusOut","pipSelected","idGetter","pipSelectedId","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","pipNoScroll","pipSkipHidden","pipTreeList","currentElementTabinex","pipSelectedWatch","newSelectedId","unsavedChangesAvailable","unsavedChangesMessage","afterLeave","onbeforeunload","$routing","confirm","cancelLeave","unbindFunc","DEFAULT_COLORS","ColorPickerController","_$timeout","_$scope","colors","colorChange","currentColor","currentColorIndex","selectColor","pipColorPicker","templateUrl","pipImageSliderController","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","sliderIndex","_type","_$attrs","_$interval","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","direction","blockIndex","pipButtonType","pipSliderId","vm","slideTo","pipSlideTo","Config","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","MarkdownController","_pipTranslate","_$parse","_$injector","_$element","_text","_isList","_clamp","_rebind","bindText","newText","describeAttachments","array","attachTypes","attach","attachString","isClamped","textString","pipLineCount","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","isList","clamp","rebind","PopoverController","$compile","template","calcH","calcHeight","cancelCallback","backdropElement","backdropClick","responsive","content","onResize","closePopover","onPopoverClick","$e","docWidth","docHeight","popover","title","footer","contentHeight","pipPopover","PopoverService","_$compile","_$rootScope","popoverTemplate","$new","isObject","locals","RoutingController","showProgress","logoUrl","_image","loadProgressImage","RoutingProgress","ToastController","$mdToast","toast","_pipErrorDetailsDialog","_$mdToast","actions","actionLenght","onDetails","ok","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","currentToast","duration","then","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","lists","TagListController","typeLocal","TagList","pipTags","pipType","pipTypeLocal","dates","formatTimeFilter","pipDateTime","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","getDateJSON","DateTimeConfig","DateTime","_momentRanged","_defaultFormat","timeZone","isUndefinedOrNull","getRange","getOperationRange","range","formatDateTime","basicFormat","date","formatTpl","utcOffset","isValid","formatDateTimeY","nowDate","formatMoment","longDateFormat","year","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","month","toStartRange","startOf","toDate","toEndRange","mssOffset","toDateWithTime","formatDate","toTodayDate","day","useTimeZone","fromNow","getNextStart","category","getPrevStart","getNowStart","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","toEndMonth","toStartYear","toEndYear","DateTimeService","datetime","_datetime","DateTimeProvider","timeMode","model","ngChange","dayList","count","monthList","momentMonths","yearList","currentYear","getFullYear","startYear","endYear","years","adjustDay","getValue","isDate","getDate","getMonth","setValue","DAY","MONTH","YEAR","dayLabel","monthLabel","yearLabel","onYearChanged","disableControls","newValue","pipChanged","pipDateRangeType","pipDateFormat","pipNoLine","$mdMedia","setCurrent","currentState","week","dateRangeType","fillLists","weeks","weekList","correctWeek","prevState","getUTCDate","getUTCMonth","getUTCFullYear","getWeekByDate","adjustWeek","getCountDay","nameDays","momentShortDays","weekday","dayOfWeek","startWeek","UTC","getUTCDay","getWeek","countDay","countPrevMonthDay","startDay","endDay","getTimezoneOffset","onChange","currentMonth","currentDay","currentDate","onDayChanged","onMonthChanged","onWeekChange","oldValue","onYearClick","onMonthClick","onDayClick","defineStartDate","pipStartDate","defineEndDate","pipEndDate","pipRebind","pipStartLabel","pipEndLabel","pipHideTime","pipSize","setDuration","startDate","endDate","startTime","endTime","validateStartDate","round","validateEndDate","setDate","defineDate","getTimeInterval","j","minutes","initDate","showTime","EVENT_NEW_END_TIME","EVENT_NEW_START_TIME","startLabel","endLabel","intervalTimeCollection","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","$watchGroup","dialogs","ConfirmationParams","ConfirmationDialogController","$mdDialog","CONFIRM_TITLE","theme","onOk","onCancel","ConfirmationService","_mdDialog","targetEvent","./ConfirmationService","ErrorStrings","errorDetails","dismissButton","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorParams","ErrorDetailsDialogController","OK","CANCEL","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","$theme","ErrorDetailsService","./ErrorDetailsService","InformationStrings","InformationParams","InformationDialogController","INFORMATION_TITLE","pipFormat","truncate","InformationService","clickOutsideToClose","./InformationService","OptionsBigData","OptionsBigParams","noTitle","noActions","optionIndex","OptionsBigDialogController","selectedOptionName","deleted","OPTIONS_TITLE","applyButtonTitle","selectedOption","active","deletedTitle","hint","focusInput","onOptionSelect","onSelected","onKeyUp","list","OptionsBigService","OptionsData","icon","OptionsParams","OptionsDialogController","onKeyPress","OptionsService","./OptionsBigController","./OptionsBigService","./OptionsController","./OptionsService","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeRootVar","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ERROR_ROUTE_TITLE","ERROR_ROUTE_SUBTITLE","ERROR_ROUTE_CONTINUE","ERROR_ROUTE_TRY_AGAIN","ERROR_ROUTE_GO_BACK","ERROR_ROUTE_PAGE_TITLE","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","ERROR_AVAILABLE_TITLE","ERROR_AVAILABLE_SUBTITLE","ERROR_AVAILABLE_CLOSE","ERROR_AVAILABLE_TRY_AGAIN","ERROR_RESPONDING_TITLE","ERROR_RESPONDING_SUBTITLE","ERROR_RESPONDING_RETRY","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","filterTranslate","ErrorsPageRun","pipErrorsService","errorConfig","Unsupported","Active","checkSupported","MissingRoute","unfoundState","to","NoConnection","noConnectionError","Unknown","unknownError","Maintenance","maintenanceError","goToErrors","pipSystemInfo","ie","firefox","chrome","AuthHttpResponseInterceptor","$q","responseError","rejection","console","maintenance_1","ErrorsPageConfig","$stateProvider","$httpProvider","interceptors","ErrorMaintenanceController","../maintenance/maintenance","ErrorStateItem","ErrorsConfig","Name","Event","Title","SubTitle","Breadcrumb","Image","ErrorsService","getErrorItemByKey","errorName","ErrorsProvider","configureErrorByKey","errorParams","defaultsDeep","configureErrors","ClearErrorsLink","$ctrls","_fieldController","_formController","clearFieldErrors","clearFormErrors","$error","prop","$setValidity","$serverError","clearErrors","FormErrors","errorsWithHint","isEmpty","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","goToUnhandledErrorPage","PipMaintenanceError","PipMaintenanceErrorConfig","PipMaintenanceErrorParams","_errorKey","pipNavService","media","appHeader","timeoutInterval","appbar","addShadow","showMenu","breadcrumb","PipMissingRouteErrorState","ErrorMissingRouteController","absolute","urlBack","onContinue","PipNoConnectionError","ErrorNoConnectionController","onRetry","NoConnectionPanelController","_retry","PipUnknownErrorDetails","ErrorUnknownController","parseError","error_details","server_stacktrace","client_stacktrace","PipUnsupportedError","ErrorUnsupportedController","charts","pipBarChart","series","xTickFormat","yTickFormat","interactiveLegend","$mdColorPalette","prepareData","seria","drawEmptyState","d3","select","chartElem","classed","margin","configBarWidthAndLabel","labels","chartBars","getBBox","barHeight","barWidth","transition","materialColorToRgba","getMaterialColor","generateParameterColor","chart","palette","legend","clone","scale","paletteColors","ordinal","updatedSeries","datum","updatedLegend","nv","addGraph","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","enabled","noData","yAxis","tickFormat","xAxis","utils","windowResize","pipChartLegend","interactive","colorCheckboxes","checkboxContainers","legendTitles","prepareSeries","hex","pipLineChart","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","getHeight","updateScroll","domains","bDiff","domDiff","isEqual","addZoom","svg","setData","newChart","xDomain","domain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","prevXDomain","prevScale","d3zoom","prevTranslate","nice","fixDomain","updateChart","zoomed","unzoomed","step","coordinates","point","setZoom","scaleExtent","behavior","zoom","center0","translate0","coordinates0","center1","getXMinMax","maxVal","minVal","tempMinVal","tempMaxVal","updateZoomOptions","filteredColor","sourceEvents","isVisibleX","isVisibleY","zoomIn","zoomOut","tickValues","selectAll","heigth","lineChart","useInteractiveGuideline","showLegend","tooltipW","bodyWidth","removeTooltip","pipPieChart","donut","total","centered","pie","sort","arc","innerRadius","outerRadius","centerChart","svgElem","leftMargin","renderTotalLabel","totalVal","reduce","sum","curr","titleElem","resizeTitleLabelUnwrap","boxSize","resizeTitleLabel","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","locations","pipLocationName","pipLocationPos","pipLocationResize","pipShowLocationIcon","pipCollapse","clearMap","$mapControl","$mapContainer","generateMap","showMap","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Map","Marker","$name","$up","$down","collapsable","click","LocationDialogService","_$mdDialog","locationName","locationPos","LocationEditDialogController","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","mapContainer","setMap","animation","Animation","DROP","thisMarker_1","addListener","getPosition","tid","lat","lng","geocoder","Geocoder","geocode","results","GeocoderStatus","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogRun","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","$http","pipLocationEditDialog","pipLocationHolder","$empty","defineCoordinates","address","geometry","debounce","onMapClick","onMapKeyPress","defineCoordinatesDebounced","pipIpaddress","pipExtraInfo","ipAddress","response","geoplugin_latitude","geoplugin_longitude","extraInfo","city","geoplugin_city","regionCode","geoplugin_regionCode","region","geoplugin_regionName","areaCode","geoplugin_areaCode","countryCode","geoplugin_countryCode","country","geoplugin_countryName","continentCode","geoplugin_continentCode","pipLocationPositions","pipIconPath","pipStretch","loc","determineCoordinates","fill","stroke","points","checkLocation","LatLngBounds","path","iconPath","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","stretchMap","files","ButtonsUpload","filerTranslate","FileFailController","FileSelectController_1","FileFailController_1","FileUploadService_1","fileModelDirective","fileModel","modelSetter","fileSelectDirective","localFile","FileSelectController","fileFailDirective","./fail/FileFailController","./select/FileSelectController","./service/FileUploadService","./start/index","./success/index","./upload/index","onUploadButtonClick","onDeleteButtonClick","forml","FileUploadState","All","Start","Upload","Fail","FileUploadService","upload","file","fd","FormData","lengthComputable","loaded","headers","Content-Type","success","FileStartController","fileStartDirective","FileStartController_1","FileSuccessController","FileSuccessController_1","FileSuccessBindings","fileSuccessDirective","FileUploadButtons","FileUploadController","buttonFunction","uploadButtons","failButtons","startButtons","onAbort","retry","FileUploadController_1","FileUploadBindings","FileUploadChanges","fileUploadDirective","./FileUploadController","dashboard","pipDashboard","gridOptions","groupAdditionalActions","groupedWidgets","DROP_TO_CREATE_NEW_GROUP","configureAvailableWidgets","pipAddComponentDialogProvider","configWidgetList","amount","DEFAULT_GRID_OPTIONS","draggableOptions","tileWidth","tileHeight","inline","$interpolate","pipAddComponentDialog","pipWidgetTemplate","groupIndex","addComponent","removeGroup","log","_includeTpl","groupMenuActions","defaultGroupMenuActions","_$interpolate","_pipAddComponentDialog","_pipWidgetTemplate","draggableGridOptions","widgetsContext","compileWidgets","group","removedWidgets","source","widget","colSpan","rowSpan","menu","object","removeWidget","opts","getTemplate","activeGroup","addWidgets","widgets","widgetGroup","DashboardController","AddComponentDialogController","groups","activeGroupIndex","widgetList","defaultWidgets","encrease","widgetIndex","decrease","AddComponentDialogService","_widgetList","AddComponentDialogProvider","TileColors","all","TileSizes","WidgetConfigDialogController","dialogTitle","sizes","sizeId","sizeX","sizeY","./ConfigDialogService","$templateRequest","pipExtensionUrl","replaceWith","pipWidgetConfigComponent","WidgetConfigDialogService","./DraggableController","./DraggableDirective","./DraggableTileService","./draggable_group/DraggableTilesGroupDirective","./draggable_group/DraggableTilesGroupService","DraggableTileService_1","DraggableTilesGroupService_1","SIMPLE_LAYOUT_COLUMNS_COUNT","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","DEFAULT_OPTIONS","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","tileGroups","merge","mobileBreakpoint","tilesTemplates","tile","tileScope","tilesContext","IDragTileConstructor","DragTileService","tpl","availableWidth","getContainerWidth","availableColumns","getAvailableColumns","setAvailableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","watch","prevVal","changedGroupIndex","addGroup","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","_a","from","elem","attributes","tileOptions","fromTileIndex","reIndexTiles","indexes","container","tiles","gIndex","child","removeGroups","newGroups","removeIndexes","remain","containers","reverse","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","addTile","newTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","getTileByCoordinates","draggedTileIndex","getTileIndex","belowElemIndex","belowElement","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","autoScroll","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragDirective","$container","$elem","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTile","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","rightCornerCell","getBasicRow","getCell","gridCopy","basicRow","basicCol","rowShift","prevTileSize","isCellFree","src","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","generateCells","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","tileSize","currIndex","startCell","cells","maxHeightSize","maxWidthSize","maxBy","node","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","newGrid","ImageLoad","pipImageLoad","widgetTemplateService","strictCompile","interpolated","_$templateRequest","setImageMarginCSS","image","clientWidth","imageWidth","naturalWidth","imageHeight","naturalHeight","cssParams","CalendarWidgetController","pipWidgetMenu","pipWidgetConfigDialogService","_configDialog","union","onConfigClick","dialogClass","extensionUrl","changeSize","MenuWidgetService","is","drawImage","EventWidgetController","onImageLoad","onOpacitytest","_oldOpacity","pipEventWidget","callAction","actionName","MenuWidgetProvider","NotesWidgetController","PictureSliderController","animationType","_widgetUtility","animationInterval","WidgetMenuService_1","pipPictureSliderWidget","PositionWidgetController","showPosition","_locationDialog","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","pipPositionWidget","chartSize","SMALL_CHART","setChartSize","StatisticsWidgetController","BIG_CHART","pipStatisticsWidget","../menu/WidgetMenuService","25"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nimport './common';\nimport './default';\nimport './bootbarn';\n\nexport * from './common';","export let CurrentState: any;\nexport let PreviousState: any;\n\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n            CurrentState = {\n                name: toState.name, \n                url: toState.url, \n                params: toParams\n            };\n\n            PreviousState = {\n                name: fromState.name, \n                url: fromState.url, \n                params: fromParams\n            };\n        }\n    );\n\n}\n\nfunction decorateBackStateService($delegate: any, $window: ng.IWindowService): any {\n    \"ngInject\";\n\n    $delegate.goBack = goBack;\n    $delegate.goBackAndSelect = goBackAndSelect;\n\n    return $delegate;\n    //////////////////////////////////////////////////\n\n    function goBack(): void {\n        $window.history.back()\n    }\n\n    function goBackAndSelect(params: any): void {\n        // todo: define end fix PreviousState\n        if (PreviousState != null \n            && PreviousState.name != null) {\n\n            let state = _.cloneDeep(PreviousState);\n\n            // Override selected parameters\n            state.params = _.extend(state.params, params);\n\n            $delegate.go(state.name, state.params);\n        } else {\n            $window.history.back();\n        }\n    }\n}\n\nfunction addBackStateDecorator($provide) {\n    $provide.decorator('$state', decorateBackStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addBackStateDecorator)\n    .run(captureStateTranslations);\n    ","let RedirectedStates: any = {};\n\nfunction decorateRedirectStateProvider($delegate) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n\n    return $delegate;\n    /////////////////////////////////////////////\n\n    // Specify automatic redirect from one state to another\n    function redirect(fromState, toState) {\n        RedirectedStates[fromState] = toState;  \n        return this;\n    }\n}\n\nfunction addRedirectStateProviderDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateProvider);\n}\n\nfunction decorateRedirectStateService($delegate, $timeout) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n    \n    return $delegate;\n    ////////////////////////////////\n    \n    // Todo: Move this code directly to event handler?\n    // Todo: Nothing calls this code!!\n    function redirect(event, state, params) {\n        let toState = RedirectedStates[state.name];\n        if (_.isFunction(toState)) {\n            toState = toState(state.name, params);\n\n            if (_.isNull(toState))\n                throw new Error('Redirected toState cannot be null');\n        }\n\n        if (!!toState) {\n            $timeout(() => {\n                event.preventDefault();\n                $delegate.transitionTo(toState, params, {location: 'replace'});\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\nfunction addRedirectStateDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addRedirectStateProviderDecorator)\n    .config(addRedirectStateDecorator);\n    ","export let RoutingVar: string = \"$routing\";\n\nfunction hookRoutingEvents(\n    $rootScope: ng.IRootScopeService,\n    $log: ng.ILogService,\n    $state: ng.ui.IStateService\n) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeStart',\n        (event, toState, toParams, fromState, fromParams) => {\n            $rootScope[RoutingVar] = true;\n        }\n    );\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;                \n        }\n    );\n\n    // Intercept route error\n    $rootScope.$on('$stateChangeError',\n        (event, toState, toParams, fromState, fromParams, error) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;\n\n            $log.error('Error while switching route to ' + toState.name);\n            $log.error(error);\n        }\n    );\n\n}\n\nangular\n    .module('pipRouting')\n    .run(hookRoutingEvents);\n    ","angular.module('pipRouting', ['ui.router']);\n\nimport './BackDecorator';\nimport './RedirectDecorator';\nimport './RoutingEvents';\n\nexport * from './BackDecorator';\nexport * from './RoutingEvents';\n","export let IdentityRootVar = \"$identity\";\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\n\nexport interface IIdentity {\n    id: string;\n    full_name: string;\n    details: string;\n    email: string;\n    photo_url: string;\n    groups: string[];\n}\n\nexport interface IIdentityService {\n    identity: any;\n}\n\nexport interface IIdentityProvider extends ng.IServiceProvider {\n    setRootVar: boolean;\n    identity: any;\n}\n\n\nclass IdentityService implements IIdentityService {\n    private _identity: any;\n    private _setRootVar: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean,\n        identity: any,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._identity = identity;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n\n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[IdentityRootVar] = this._identity;\n    }\n\n    public get identity(): any {\n        return this._identity;\n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n        this.setRootVar();\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\n\n        let identity: any = value || {};\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\n    }\n}\n\nclass IdentityProvider implements IdentityProvider {\n    private _setRootVar = true;\n    private _identity: any = null;\n    private _service: IdentityService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get identity(): any {\n        return this._identity;  \n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\n\n        return this._service;\n    }\n\n}\n\nangular\n    .module('pipSession')\n    .provider('pipIdentity', IdentityProvider);\n","export const SessionRootVar = \"$session\";\nexport const SessionOpenedEvent = \"pipSessionOpened\";\nexport const SessionClosedEvent = \"pipSessionClosed\";\n\nexport interface ISessionService {\n    session: any;\n    isOpened(): boolean;\n\n    open(session: any): void;\n    close(): void;\n}\n\nexport interface ISessionProvider extends ng.IServiceProvider {\n    setRootVar: boolean;\n    session: any;\n}\n\nclass SessionService implements ISessionService {\n    private _setRootVar: boolean;\n    private _session: any;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean, \n        session: any, \n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._session = session;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n    \n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[SessionRootVar] = this._session;\n    }\n\n    public get session(): any {\n        return this._session;\n    }\n\n    public isOpened(): boolean {\n        return this._session != null;\n    }\n\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\n        if (session == null)\n            throw new Error(\"Session cannot be null\");\n\n        this._session = session;\n        this.setRootVar();\n        this._rootScope.$emit(SessionOpenedEvent, session);\n\n        this._log.debug(\"Opened session \" + session);\n    }\n\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\n        let oldSession = this._session;\n\n        this._session = null;\n        this.setRootVar();\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\n\n        this._log.debug(\"Closed session \" + oldSession);\n    }\n}\n\nclass SessionProvider implements ISessionProvider {\n    private _setRootVar = true;\n    private _session: any = null;\n    private _service: SessionService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get session(): any {\n        return this._session;  \n    }\n\n    public set session(value: any) {\n        this._session = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipSession')\n    .provider('pipSession', SessionProvider); \n","angular.module('pipSession', []);\n\nimport './IdentityService';\nimport './SessionService';\n\nexport * from './IdentityService';\nexport * from './SessionService';\n","import { TransactionError } from './TransactionError'\n\nexport class Transaction {\n    private _scope: string = null;\n    private _id: string = null;\n    private _operation: string = null;\n    private _error: TransactionError = new TransactionError();\n    private _progress: number = 0;\n\n    public constructor(scope: string) {\n        this._scope = scope;\n    }\n\n    public get scope(): string {\n        return this._scope;\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public get operation(): string {\n        return this._operation;\n    }\n\n    public get progress(): number {\n        return this._progress;\n    }\n\n    public get error(): TransactionError {\n        return this._error;\n    }\n\n    public get errorMessage(): string {\n        return this._error.message;\n    }\n\n    public reset(): void {\n        this._id = null;\n        this._operation = null;\n        this._progress = 0;\n        this._error.reset();\n    }\n\n    public busy(): boolean {\n        return this._id != null;\n    }\n\n    public failed(): boolean {\n        return !this._error.empty();\n    }\n\n    public aborted(id: string): boolean {\n        return this._id != id;\n    }\n\n    public begin(operation: string): string {\n        // Transaction is already running\n        if (this._id != null) return null;\n\n        this._id = new Date().getTime().toString();\n        this._operation = operation || 'PROCESSING'\n        this._error.reset();\n\n        return this._id;\n    }\n\n    public update(progress: number): void {\n        this._progress = Math.max(progress, 100);\n    }\n\n    public abort(): void {\n        this._id = null;\n        this._error.reset();\n    }\n\n    public end(error?: any): void {\n        this._error.decode(error);\n        this._id = null;\n    }\n}\n","export class TransactionError {\n    public code: string;\n    public message: string;\n    public details: any;\n    public cause: string;\n    public stack_trace: string;\n\n    public constructor(error?: any) {\n        if (error != null)\n            this.decode(error);\n    }\n\n    public reset(): void {\n        this.code = null;\n        this.message = null;\n        this.details = null;\n        this.cause = null;\n        this.stack_trace = null;\n    }\n\n    public empty(): boolean {\n        return this.message = null && this.code == null;\n    }\n\n    public decode(error: any): void {\n        this.reset();\n\n        if (error == null) return;\n\n        // Process regular messages\n        if (error.message) {\n            this.message = error.message;\n        }\n\n        // Process server application errors\n        if (error.data) {\n            if (error.data.code) { \n                // process server error codes here\n                this.message = this.message || 'ERROR_' + error.data.code;\n                this.code = this.code || error.data.code;\n            }\n\n            if (error.data.message) {\n                this.message = this.message || error.data.message;\n            }\n\n            this.message = this.message || error.data;\n            this.details = this.details || error.data;\n\n            this.cause = error.data.cause;\n            this.stack_trace = error.data.stack_trace;\n            this.details = error.data.details;            \n        }\n\n        // Process standard HTTP errors\n        if (error.statusText) {\n            this.message = this.message || error.statusText;\n        }\n        if (error.status) {\n            this.message = this.message || 'ERROR_' + error.status;\n            this.code = this.code || error.status;\n        }\n        \n        this.message = this.message || error;\n        this.details = this.details || error;\n    }\n}\n","import { Transaction } from './Transaction';\n\nexport interface ITransactionService {\n    create(scope?: string): Transaction;\n    get(scope?: string): Transaction;\n}\n\nclass TransactionService implements ITransactionService {\n    private _transactions: Transaction = <Transaction>{};\n\n    public constructor() {}\n\n    public create(scope?: string): Transaction {\n        let transaction: Transaction = new Transaction(scope);\n        \n        if (scope != null)\n            this._transactions[scope] = transaction;\n\n        return transaction;\n    }\n\n    public get(scope?: string): Transaction {\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\n\n        if (transaction == null) {\n            transaction = new Transaction(scope);\n            if (scope != null)\n                this._transactions[scope] = transaction;\n        }\n\n        return transaction;\n    }\n}\n\nangular\n    .module('pipTransaction')\n    .service('pipTransaction', TransactionService);\n","import { ITranslateService } from '../translate/TranslateService';\n\nfunction configureTransactionStrings($injector: ng.auto.IInjectorService) {\n    \"ngInject\";\n\n    let pipTranslate: ITranslateService = $injector.has('pipTranslateProvider') \n        ? <ITranslateService>$injector.get('pipTranslateProvider') : null;\n\n    if (pipTranslate) {\n        pipTranslate.setTranslations('en', {\n            'ENTERING': 'Entering...',\n            'PROCESSING': 'Processing...',\n            'LOADING': 'Loading...',\n            'SAVING': 'Saving...'\n        });\n\n        pipTranslate.setTranslations('ru', {\n            'ENTERING': '  ...',\n            'PROCESSING': '...',\n            'LOADING': '...',\n            'SAVING': '...'\n        });   \n    }\n    \n}\n\nangular\n    .module('pipTransaction')\n    .config(configureTransactionStrings);\n","angular.module('pipTransaction', []);\n\nimport './TransactionStrings';\nimport './TransactionError';\nimport './Transaction';\nimport './TransactionService';\n\nexport * from './TransactionError';\nexport * from './Transaction';\nexport * from './TransactionService';\n","import { ITranslateService } from '../translate/TranslateService';\n\nfunction translateDirective(pipTranslate): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslate',\n            key2: '@key'\n        },\n        link: (scope: ng.IScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\n            let key: string = scope.key1 || scope.key2;\n            let value: string = pipTranslate.translate(key);\n            element.text(value);\n        }\n    };\n}\n\nfunction translateHtmlDirective(pipTranslate: ITranslateService): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslateHtml',\n            key2: '@key'\n        },\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\n            let key: string = scope.key1 || scope.key2;\n            let value: string = pipTranslate.translate(key);\n            element.html(value);\n        }\n    };\n}\n\nangular\n    .module('pipTranslate')\n    .directive('pipTranslate', translateDirective)\n    .directive('pipTranslateHtml', translateHtmlDirective);\n","import { ITranslateService } from './TranslateService';\n\nfunction translateFilter(pipTranslate: ITranslateService) {\n    \"ngInject\";\n\n    return function (key: string) {\n        return pipTranslate.translate(key) || key;\n    }\n}\n\nfunction optionalTranslateFilter($injector: ng.auto.IInjectorService) {\n    \"ngInject\";\n\n    let pipTranslate: ITranslateService = $injector.has('pipTranslate') \n        ? <ITranslateService>$injector.get('pipTranslate') : null;\n\n    return function (key: string) {\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\n    }\n}\n\nangular\n    .module('pipTranslate')\n    .filter('translate', translateFilter);\n","import { Translation } from './Translation';\nimport { ResetPageEvent } from '../utilities/PageResetService';\n\nexport let LanguageRootVar = \"$language\";\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \n\nexport interface ITranslateService {\n    language: string;\n\n    use(language: string): string;\n    setTranslations(language: string, translations: any): void;\n    translations(language: string, translations: any): void;\n\n    translate(key: string): string;\n    translateArray(keys: string[]): string[];\n    translateSet(keys: string[], keyProp: string, valueProp: string): any[];\n    translateObjects(items: any[], keyProp: string, valueProp: string): any[];\n    translateWithPrefix(prefix: string, key: string);\n    translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string);\n    translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string);\n}\n\nexport interface ITranslateProvider extends ITranslateService, ng.IServiceProvider {\n}\n\nclass TranslateService implements ITranslateService {\n    private _translation: Translation;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _window: ng.IWindowService;\n    private _mdDateLocale: angular.material.IDateLocaleProvider;\n\n    public constructor(\n        translation: Translation,\n        setRootVar: boolean,\n        persist: boolean,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService,\n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._translation = translation;\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._window = $window;\n        this._mdDateLocale = $mdDateLocale;\n\n        if (this._persist && this._window.localStorage)\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\n\n        this._log.debug(\"Set language to \" + this._translation.language);\n\n        this.save();\n    }\n\n    private changeLocale(locale: string) {\n        if (!locale) return;\n\n        // var localeDate: moment.MomentLanguageData;\n        var localeDate: any;\n\n        moment.locale(locale);\n        localeDate = moment.localeData();\n\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\n    }\n\n    private save(): void {\n        if (this._setRootVar)\n            this._rootScope[LanguageRootVar] = this._translation.language;\n\n        if (this._persist && this._window.localStorage != null)\n            this._window.localStorage.setItem('language', this._translation.language);\n    }\n\n    public get language(): string {\n        return this._translation.language;\n    }\n\n    public set language(value: string) {\n        if (value != this._translation.language) {\n            this._translation.language = value;\n            \n            this._log.debug(\"Changing language to \" + value);\n\n            this.changeLocale(this._translation.language);\n            this.save();   \n\n            this._rootScope.$emit(LanguageChangedEvent, value);\n            this._rootScope.$emit(ResetPageEvent);\n        }\n    }\n\n    public use(language: string): string {\n        if (language != null)\n            this.language = language;\n        return this.language;\n    }\n\n    public setTranslations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translate(key: string): string {\n        return this._translation.translate(key);\n    }\n\n    public translateArray(keys: string[]): string[] {\n        return this._translation.translateArray(keys);\n    }\n    \n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateSet(keys, keyProp, valueProp);\n    }\n\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateObjects(items, keyProp, valueProp);\n    }\n\n    public translateWithPrefix(prefix: string, key: string) {\n        return this._translation.translateWithPrefix(prefix, key);\n    }\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\n    }\n\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\n    }\n}\n\nclass TranslateProvider extends Translation implements ITranslateProvider {\n    private _translation: Translation;\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: TranslateService;\n    \n    public constructor() {\n        super();\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null) \n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\n\n        return this._service;\n    }\n}\n\nfunction initTranslate(pipTranslate: ITranslateService) {\n    pipTranslate.language;\n}\n\nangular\n    .module('pipTranslate')\n    .provider('pipTranslate', TranslateProvider)\n    .run(initTranslate);\n","export class Translation {\n    protected _language: string = 'en';\n    protected _translations = {\n        en: {\n            'en': 'English',\n            'ru': 'Russian',\n            'es': 'Spanish',\n            'pt': 'Portuguese',\n            'de': 'German',\n            'fr': 'French'\n        },\n        ru: {\n            'en': '',\n            'ru': '',\n            'es': '',\n            'pt': '',\n            'de': '',\n            'fr': ''\n        }\n    };\n\n    public constructor() {}\n\n    public get language(): string { return this._language; }\n    public set language(value: string) { this._language = value; }\n\n    public use(language: string): string {\n        if (language != null)\n            this._language = language;\n        return this._language;\n    }\n\n    // Set translation strings for specific language\n    public setTranslations(language: string, translations: any): void {\n        let map = this._translations[language] || {};\n        this._translations[language] = _.extend(map, translations);\n    }\n\n    // Yet another method to set translation strings for specific language\n    public translations(language: string, translations: any): void {\n        this.setTranslations(language, translations);\n    }\n\n    // Translate a string by key using set language\n    public translate(key: string): string {\n        if (_.isNull(key) || _.isUndefined(key)) return '';\n\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    }\n\n    // Translate an array of strings\n    public translateArray(keys: string[]): string[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        let values: string[] = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (k: string) {\n            let key = k || '';\n            values.push(translations[key] || key);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings into array of objects (set)\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values: any[] = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate a collection of objects\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(items) || items.length == 0) return [];\n\n        keyProp = keyProp || 'name';\n        valueProp = valueProp || 'nameLocal';\n\n        let translations = this._translations[this._language] || {};\n\n        _.each(items, function (item: any) {\n            let key = item[keyProp] || '';\n\n            item[valueProp] = translations[key] || key;\n        });\n\n        return items;\n    }\n\n    // Translate a string by key  with prefix using set language todo\n    public translateWithPrefix(prefix: string, key: string) {\n        prefix = prefix ? prefix + '_' : '';\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\n        if (key == null) return '';\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    };\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {}; \n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + '_' + key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\n\n            values.push(value);\n        });\n\n        return values;\n    }\n}\n","angular.module('pipTranslate', []);\n\nimport './Translation';\nimport './TranslateService';\nimport './TranslateFilter';\nimport './TranslateDirective';\n\nexport * from './Translation';\nexport * from './TranslateService';\n","export interface ICodes {\n    // Simple version of string hashcode\n    hash(value: string): number;\n    // Generates random big number for verification codes\n    verification(): string;\n}\n\n\nclass Codes implements ICodes {\n    // Simple version of string hashcode\n    public hash(value: string): number {\n        if (value == null) return 0;\n        \n        let result: number = 0;\n        for (let i = 0; i < value.length; i++)\n            result += value.charCodeAt(i);\n\n        return result;\n    }\n\n    // Generates random big number for verification codes\n    public verification(): string {\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\n    }\n}\n\nangular\n    .module('pipCodes', [])\n    .service('pipCodes', Codes);\n","export interface IFormat {\n    // Creates a sample line from a text\n    sample(value: string, maxLength: number): string;\n\n    sprintf(message: string, ...args: any[]): string;\n}\n\n\nclass Format implements IFormat {\n    // Cached for parsed formats\n    private cache = {};\n\n    // Creates a sample line from a text\n    public sample(value: string, maxLength: number): string {\n        if (!value || value == '') {\n            return '';\n        }\n\n        var length: number = value.indexOf('\\n');\n        length = length >= 0 ? length : value.length;\n        length = length < maxLength ? value.length : maxLength;\n\n        return value.substring(0, length);\n    }\n\n    private strRepeat(str: string, qty: number): string {\n        if (qty < 1) { \n            return '';\n        }\n        var result: string = '';\n        while (qty > 0) {\n            if (qty & 1) result += str;\n            qty >>= 1, str += str;\n        }\n        return result;\n    }\n\n    private getType(variable): string {\n        return toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    private parseFormat(fmt: string): any {\n        let _fmt: string = fmt, match = [], parse_tree = [], arg_names: number = 0;\n        while (_fmt) {\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\n                parse_tree.push(match[0]);\n            }\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\n                parse_tree.push('%');\n            }\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    let field_list: string[] = [], replacement_field: string = match[2], field_match: string[] = [];\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1]);\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else {\n                                throw new Error('Unknown error');\n                            }\n                        }\n                    }\n                    else {\n                        throw new Error('Unknown error');\n                    }\n                    match[2] = field_list;\n                }\n                else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\n                }\n                parse_tree.push(match);\n            }\n            else {\n                throw new Error('Unknown error');\n            }\n            _fmt = _fmt.substring(match[0].length);\n        }\n        return parse_tree;\n    }\n\n    private format(parse_tree: any, argv: any): string {\n        let cursor: number = 0; \n        let tree_length: number = parse_tree.length; \n        let output = [];\n\n        for (let i = 0; i < tree_length; i++) {\n            let node_type = this.getType(parse_tree[i]);\n            if (node_type === 'string') {\n                output.push(parse_tree[i]);\n            }\n            else if (node_type === 'array') {\n                let match = parse_tree[i]; // convenience purposes only\n                let arg: any;\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor];\n                    for (let k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                } else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]];\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\n                }\n                switch (match[8]) {\n                    case 'b': arg = arg.toString(2); break;\n                    case 'c': arg = String.fromCharCode(arg); break;\n                    case 'd': arg = parseInt(arg, 10); break;\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\n                    case 'o': arg = arg.toString(8); break;\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\n                    case 'u': arg = Math.abs(arg); break;\n                    case 'x': arg = arg.toString(16); break;\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\n                }\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\n                let pad_length = match[6] - String(arg).length;\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\n                output.push(match[5] ? arg + pad : pad + arg);\n            }\n        }\n        return output.join('');\n    }\n    \n    public sprintf(message: string, ...args: any[]): string {\n        if (!this.cache.hasOwnProperty(message))\n            this.cache[message] = this.parseFormat(message);\n\n        return this.format(this.cache[message], args);\n    }\n}\n\n\nangular\n    .module('pipFormat', [])\n    .service('pipFormat', Format);\n","export let ResetPageEvent: string = \"pipResetPage\";\nexport let ResetAreaEvent: string = \"pipResetArea\";\n\nexport let ResetRootVar: string = \"$reset\";\nexport let ResetAreaRootVar: string = \"$resetArea\";\n\nexport interface IPageResetService {\n    reset(): void;\n    resetArea(area: string): void;\n}\n\n\nclass PageResetService implements IPageResetService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _timeout: ng.ITimeoutService;\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $timeout: ng.ITimeoutService\n    ) {\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._timeout = $timeout;\n\n        $rootScope[ResetRootVar] = false;\n        $rootScope[ResetAreaRootVar] = null;\n    }\n\n    public reset(): void {\n        this._log.debug(\"Resetting the entire page\");\n        this.performReset(null);\n    }\n\n    public resetArea(area: string): void {\n        this._log.debug(\"Resetting the area \" + area);\n        this.performReset(area);\n    }\n\n    private performReset(area?: string): void {\n        this._rootScope[ResetRootVar] = area == null;\n        this._rootScope[ResetAreaRootVar] = area;\n\n        this._timeout(() => {\n            this._rootScope[ResetRootVar] = false;\n            this._rootScope[ResetAreaRootVar] = null;\n        }, 0);\n    }\n}\n\n\nfunction hookResetEvents(\n    $rootScope: ng.IRootScopeService, \n    pipPageReset: IPageResetService\n) {\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\n}\n\n\nangular.module('pipPageReset', [])\n    .service('pipPageReset', PageResetService)\n    .run(hookResetEvents);\n","export interface IScrollService {\n    scrollTo(parentElement, childElement, animationDuration): void;\n}\n\nclass ScrollService implements IScrollService {\n\n    public scrollTo(parentElement, childElement, animationDuration): void {\n        if (!parentElement || !childElement) return;\n        if (animationDuration == undefined) animationDuration = 300;\n\n        setTimeout(function () {\n            if (!$(childElement).position()) return;\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n            if (modDiff < 20) return;\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n            if (animationDuration > 0)\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, animationDuration);\n        }, 100);\n    }\n\n}\n\n\nangular\n    .module('pipScroll', [])\n    .service('pipScroll', ScrollService);\n","export interface ISystemInfo {\n    browserName: string;\n    browserVersion: string;\n    platform: string;\n    os: string;\n\n    isDesktop(): boolean;\n    isMobile(): boolean;\n    isCordova(): boolean;\n    isSupported(supported?: any): boolean;\n}\n\n\nclass SystemInfo implements ISystemInfo {\n    private _window: ng.IWindowService;\n\n    public constructor($window: ng.IWindowService) {\n        \"ngInject\";\n\n        this._window = $window;\n    }\n\n    // todo add support for iPhone\n    public get browserName(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (ua.search(/Edge/) > -1) return \"edge\";\n        if (ua.search(/MSIE/) > -1) return \"ie\";\n        if (ua.search(/Trident/) > -1) return \"ie\";\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\n        if (ua.search(/Opera/) > -1) return \"opera\";\n        if (ua.search(/OPR/) > -1) return \"opera\";\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\n        if (ua.search(/Safari/) > -1) return \"safari\";\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\n        \n        return \"unknown\";\n    }\n\n    public get browserVersion(): string {\n        let version;\n        let ua = this._window.navigator.userAgent;\n        let browser = this.browserName;\n\n        switch (browser) {\n            case \"edge\":\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\n                break;\n            case \"ie\":\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\n                break;\n            case \"ie11\":\n                browser = \"ie\";\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\n                break;\n            case \"firefox\":\n                version = ua.split(\"Firefox/\")[1];\n                break;\n            case \"opera\":\n                version = ua.split(\"Version/\")[1];\n                break;\n            case \"operaWebkit\":\n                version = ua.split(\"OPR/\")[1];\n                break;\n            case \"yabrowser\":\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\n                break;\n            case \"chrome\":\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\n                break;\n            case \"safari\":\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\n                break;\n            case \"maxthon\":\n                version = ua.split(\"Maxthon/\")[1];\n                break;\n        }\n\n        return version;\n    }\n    \n    public get platform(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \n            return 'mobile';\n\n        return 'desktop';\n    }\n\n    public get os(): string {\n        let ua = this._window.navigator.userAgent;\n\n        try {\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\n        } catch (err) {\n            return 'unknown'\n        }\n    }\n\n    public isDesktop(): boolean {\n        return this.platform == 'desktop';\n    }\n\n    public isMobile(): boolean {\n        return this.platform == 'mobile';\n    }\n\n    // Todo: complete implementation\n    public isCordova(): boolean {\n        return false;\n    }\n\n    // Todo: Move to errors\n    public isSupported(supported?: any): boolean {\n        if (!supported) \n            supported = {\n                edge: 11,\n                ie: 11,\n                firefox: 43, //4, for testing\n                opera: 35,\n                chrome: 47\n            };\n\n        let browser = this.browserName;\n        let version = this.browserVersion;\n        version = version.split(\".\")[0]\n\n        if (browser && supported[browser] && version >= supported[browser]) \n            return true;\n\n        return true;\n    }\n}\n\n\nangular\n    .module('pipSystemInfo', [])\n    .service('pipSystemInfo', SystemInfo);\n","'use strict';\n\nexport interface ITags {\n    normalizeOne(tag: string): string;\n    compressOne(tag: string): string;\n    equal(tag1: string, tag2: string): boolean;\n    normalizeAll(tags: any): string[];\n    compressAll(tags: any): string[];\n    extract(entity: any, searchFields?: string[]): string[];\n}\n\n\nclass Tags implements ITags {\n\n    public normalizeOne(tag: string): string {\n        return tag \n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\n            : null;\n    }\n\n    public compressOne(tag: string): string {\n        return tag\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\n            : null;\n    }\n\n    public equal(tag1: string, tag2: string): boolean {\n        if (tag1 == null && tag2 == null)\n            return true;\n        if (tag1 == null || tag2 == null)\n            return false;\n        return this.compressOne(tag1) == this.compressOne(tag2);\n    }\n\n    public normalizeAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\n\n        return tags;\n    }\n\n    public compressAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\n\n        return tags;\n    }\n\n    public extract(entity: any, searchFields?: string[]): string[] {\n        let tags = this.normalizeAll(entity.tags);\n\n        _.each(searchFields, (field) => {\n            let text = entity[field] || '';\n\n            if (text != '') {\n                let hashTags = text.match(/#\\w+/g);\n                tags = tags.concat(this.normalizeAll(hashTags));\n            }\n        });\n\n        return _.uniq(tags);\n    }\n}\n\n\nangular\n    .module('pipTags', [])\n    .service('pipTags', Tags);\n","export interface ITimerService {\n    isStarted(): boolean;\n\n    addEvent(event: string, timeout: number): void;\n    removeEvent(event: string): void;\n    clearEvents(): void;\n\n    start(): void;\n    stop(): void;\n}\n\n\nclass TimerEvent {\n    public event: string;\n    public timeout: number;\n    public interval: any;\n\n    public constructor(event: string, timeout: number) {\n        this.event = event;\n        this.timeout = timeout;\n    }\n}\n\n\nlet DefaultEvents: TimerEvent[] = [\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\n];\n\n\nclass TimerService implements ITimerService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _interval: ng.IIntervalService;        \n    private _started = false;\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $interval: ng.IIntervalService\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._interval = $interval;\n    }\n\n    public isStarted(): boolean {\n        return this._started;\n    }\n\n    public addEvent(event: string, timeout: number): void {\n        var existingEvent = _.find(this._events, (e) => e.event == event);\n        if (existingEvent != null) return;\n\n        let newEvent = <TimerEvent> {\n            event: event,\n            timeout: timeout\n        };\n        this._events.push(newEvent);\n\n        if (this._started)\n            this.startEvent(newEvent);\n    }\n\n    public removeEvent(event: string): void {\n        for (let i = this._events.length - 1; i >= 0; i--) {\n            let existingEvent = this._events[i];\n            if (existingEvent.event == event) {\n                this.stopEvent(existingEvent);\n                this._events.splice(i, 1);\n            }\n        }\n    }\n\n    public clearEvents(): void {\n        this.stop();\n        this._events = [];\n    }\n\n    private startEvent(event: TimerEvent): void {\n        event.interval = this._interval(\n            () => { \n                this._log.debug('Generated timer event ' + event.event); \n                this._rootScope.$emit(event.event)\n            },\n            event.timeout\n        )\n    }\n\n    private stopEvent(event: TimerEvent): void {\n        if (event.interval != null) {\n            try {\n                this._interval.cancel(event.interval);\n            } catch (ex) {\n                // Do nothing\n            }\n            event.interval = null;\n        }\n    }\n\n    public start(): void {\n        if (this._started) return;\n\n        _.each(this._events, (event) => {\n            this.startEvent(event);\n        });\n\n        this._started = true;\n    }\n\n    public stop(): void {\n        _.each(this._events, (event) => {\n            this.stopEvent(event);\n        });\n\n        this._started = false;\n    }\n}\n\n\nangular.module('pipTimer', [])\n    .service('pipTimer', TimerService);\n","import './Format';\nimport './TimerService';\nimport './ScrollService';\nimport './Tags';\nimport './Codes';\nimport './SystemInfo';\nimport './PageResetService';\n\nexport * from './Format';\nexport * from './TimerService';\nexport * from './ScrollService';\nexport * from './Tags';\nexport * from './Codes';\nexport * from './SystemInfo';\nexport * from './PageResetService';","/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipButtons', [\n        'pipToggleButtons',\n        'pipRefreshButton',\n        'pipFabTooltipVisibility'\n    ]);\n\n})();\n\n","/**\n * @file Optional filter to translate string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular */\n\n(() => {\n    'use strict';\n    function filerTranslate($injector: angular.auto.IInjectorService) {\n        let pipTranslate: any = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return (key: string) => {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular.module('pipFiles.Translate', [])\n        .filter('translate', filerTranslate);\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass FabTooltipVisibilityController {\n    private _element;\n    private _scope: angular.IScope;\n    private _timeout: ng.ITimeoutService;\n\n    constructor(\n        $element: any,\n        $attrs: angular.IAttributes,\n        $scope: angular.IScope,\n        $timeout: ng.ITimeoutService,\n        $parse\n    ) {\n        \"ngInject\";\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\n            showGetter = $parse($attrs['pipFabShowTooltip']),\n            showSetter = showGetter.assign;\n\n        $scope.$watch(trigGetter, (isOpen) => {\n            if (!_.isFunction(showSetter)) return;\n\n            if (isOpen) {\n                $timeout(() => {\n                    showSetter($scope, isOpen);\n                }, 600);\n            } else {\n                showSetter($scope, isOpen);\n            }\n        });\n    }\n}\n\n(() => {\n    function pipFabTooltipVisibility($parse, $timeout) {\n        return {\n            restrict: 'A',\n            scope: false,\n            controller: FabTooltipVisibilityController\n        };\n    }\n\n    angular\n        .module('pipFabTooltipVisibility', [])\n        .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\n\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ninterface IRefreshButtonBindings {\n    [key: string]: any;\n\n    text: any,\n    visible: any,\n    onRefresh: any\n}\n\nconst RefreshButtonBindings: IRefreshButtonBindings = {\n    text: '<pipText',\n    visible: '<pipVisible',\n    onRefresh: '&?pipRefresh'\n}\n\nclass RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\n    [key: string]: ng.IChangesObject<any>;\n    // Not one way bindings\n    onRefresh: ng.IChangesObject<({$event: any}) => ng.IPromise<any>>;\n    // One way bindings\n    text: ng.IChangesObject<string>;\n    visible: ng.IChangesObject<boolean>;\n}\n\nclass RefreshButtonController implements IRefreshButtonBindings {\n\n    private _textElement: any;\n    private _buttonElement: any;\n    private _width: number;\n\n    public text: string;\n    public visible: boolean;\n    public onRefresh: (param: {$event: ng.IAngularEvent}) => ng.IPromise<any>;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $element: any,\n        private $attrs: ng.IAttributes\n    ) { }\n\n    public $postLink() {\n        this._buttonElement = this.$element.children('.md-button');\n        this._textElement = this._buttonElement.children('.pip-refresh-text');\n        \n        this.show();\n    }\n\n    public $onChanges(changes: RefreshButtonChanges) {\n        if (changes.visible.currentValue === true) {\n            this.text = changes.text.currentValue;\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    public onClick($event) {\n        if (this.onRefresh) {\n            this.onRefresh({$event: $event});\n        }\n    }\n\n    private show() {\n        if (this._textElement === undefined || this._buttonElement === undefined) {\n            return;\n        }\n        // Set new text\n        this._textElement.text(this.text);\n        // Show button\n        this._buttonElement.show();\n        // Adjust position\n        const width = this._buttonElement.width();\n        this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\n    }\n\n    private hide() {\n        this._buttonElement.hide();\n    }\n}\n\n\n(function () {\n    'use strict';\n\n    const RefreshButtonComponent = {\n        bindings: RefreshButtonBindings,\n        controller: RefreshButtonController,\n        template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\n            '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\n            '<span class=\"pip-refresh-text\"></span>' +\n            '</md-button>'\n    };\n\n    angular.module('pipRefreshButton', ['ngMaterial'])\n        .component('pipRefreshButton', RefreshButtonComponent);\n\n})();","// /// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass ToggleButton {\n    id: any;\n    name: string;\n    disabled: boolean;\n    level: number;\n    diselectable: boolean;\n    filled: boolean;\n}\n\ninterface IToggleButtonsBindings {\n    [key: string]: any;\n\n    ngDisabled: any,\n    buttons: any,\n    currentButtonValue: any,\n    currentButton: any,\n    multiselect: any,\n    change: any,\n    onlyToggle: any\n}\n\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\n    ngDisabled: '<?',\n    buttons: '<pipButtons',\n    currentButtonValue: '=ngModel',\n    currentButton: '=?pipButtonObject',\n    multiselect: '<?pipMultiselect',\n    change: '&ngChange',\n    onlyToggle: '<?pipOnlyToggle'\n}\n\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\n    [key: string]: ng.IChangesObject<any>;\n    // Not one way bindings\n    currentButtonValue: any;\n    currentButton: any;\n    change: ng.IChangesObject<() => ng.IPromise<void>>;\n    // One way bindings\n    ngDisabled: ng.IChangesObject<boolean>;\n    buttons: ng.IChangesObject<ToggleButton[]>;\n    multiselect: ng.IChangesObject<boolean>;\n    onlyToggle: ng.IChangesObject<boolean>;\n}\n\nclass ToggleButtonsController implements IToggleButtonsBindings {\n    lenght: number;\n\n    public ngDisabled: boolean;\n    public class: string;\n    public multiselect: boolean;\n    public buttons: ToggleButton[];\n    public disabled: boolean;\n    public currentButtonValue: any;\n    public currentButtonIndex: number;\n    public currentButton: any;\n    public change: () => ng.IPromise<any>;\n    public onlyToggle: boolean;\n    public pipMedia: any;\n\n    constructor(\n        private $element: any,\n        private $attrs: angular.IAttributes,\n        private $scope: angular.IScope,\n        private $timeout: ng.ITimeoutService,\n        $injector: ng.auto.IInjectorService\n    ) {\n        \"ngInject\";\n\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.class = $attrs['class'] || '';\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $onChanges(changes: ToggleButtonsChanges) {\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : false;\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false;\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : false;\n\n        this.buttons = !changes.buttons || _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? \n            [] : changes.buttons.currentValue;\n\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $postLink() {\n        this.$element\n            .on('focusin', () => {\n                this.$element.addClass('focused-container');\n            })\n            .on('focusout', () => {\n                this.$element.removeClass('focused-container');\n            });\n    }\n\n    public buttonSelected(index) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.currentButtonIndex = index;\n        this.currentButton = this.buttons[this.currentButtonIndex];\n        this.currentButtonValue = this.currentButton.id || index;\n\n        this.$timeout(() => {\n            if (this.change) {\n                this.change();\n            }\n        });\n    }\n\n    public enterSpacePress(event) {\n        this.buttonSelected(event.index);\n    }\n\n    public highlightButton(index) {\n        if (this.multiselect &&\n            !_.isUndefined(this.currentButton.level) &&\n            !_.isUndefined(this.buttons[index].level)) {\n\n            return this.currentButton.level >= this.buttons[index].level;\n        }\n\n        return this.currentButtonIndex == index;\n    }\n}\n\n(function () {\n    'use strict';\n\n    // We can use this variant, which requires less memory allocation\n    /*const ToggleButtons = {\n        bindings: ToggleButtonsBindings,\n        templateUrl: 'toggle_buttons/toggle_buttons.html',\n        controller: ToggleButtonsController,\n    }*/\n\n    // Or this variant, which safer\n    /*class ToggleButtons implements ng.IComponentOptions {\n        public bindings: IToggleButtonsBindings;\n        public controller: ng.Injectable<ng.IControllerConstructor>;\n        public templateUrl: string;\n\n        constructor() {\n            this.bindings = ToggleButtonsBindings;\n            this.controller = ToggleButtonsController;\n            this.templateUrl = 'toggle_buttons/toggle_buttons.html';\n        }\n    }*/\n\n    // Or, I think, this variant. \n    // This one is safe because we've specified interface and requires less memory allocation because we use constant.\n    const ToggleButtons: ng.IComponentOptions = {\n        bindings: ToggleButtonsBindings,\n        templateUrl: 'toggle_buttons/toggle_buttons.html',\n        controller: ToggleButtonsController\n    }\n\n    angular\n        .module('pipToggleButtons', ['pipButtons.Templates'])\n        .component('pipToggleButtons', ToggleButtons);\n    \n})();","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/toggle_buttons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","'use strict';\n\nimport { MainBreakpoints } from '../media/MediaService';\nimport { IAuxPanelService } from './AuxPanelService';\n\n(() => {\n\nclass AuxPanelDirectiveController {\n    private _pipAuxPanel: IAuxPanelService;\n    private normalSize: number = 320;\n    private largeSize: number = 480;\n\n    public constructor(pipAuxPanel: IAuxPanelService) {\n        this._pipAuxPanel = pipAuxPanel;\n    }\n\n    public isGtxs():boolean {\n        return Number($('body').width()) > MainBreakpoints.xs && this._pipAuxPanel.isOpen();\n    }\n\n    public isGtlg():boolean {\n        return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\n    }\n}\n\nfunction AuxPanelDirective() {\n    return {\n        restrict: 'E',\n        replace: true,\n        controller: AuxPanelDirectiveController,\n        transclude: true,\n        controllerAs: 'vm',\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': vm.isGtlg()}\"' + \n                    'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"vm.isGtxs()\" pip-focused ng-transclude>' + \n                    '</md-sidenav>'\n    }\n}\n\nangular\n    .module('pipAuxPanel')\n    .directive('pipAuxPanel', AuxPanelDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction AuxPanelPartDirectiveController($scope, $element, $attrs, $rootScope, pipAuxPanel) {\n    \"ngInject\";\n\n    var partName = '' + $attrs.pipAuxPanelPart;\n    var partValue = null;\n\n    // Break part apart\n    var pos = partName.indexOf(':');\n    if (pos > 0) {\n        partValue = partName.substr(pos + 1);\n        partName = partName.substr(0, pos);\n    }\n\n    onAuxPanelChanged(null, pipAuxPanel.config)\n    $rootScope.$on('pipAuxPanelChanged', onAuxPanelChanged);\n\n    function onAuxPanelChanged(event, config) {\n        var parts = config.parts || {};\n        var currentPartValue = config[partName];\n        // Set visible variable to switch ngIf\n\n        $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\n    }\n\n}\n\nfunction AuxPanelPartDirective(ngIfDirective) {\n    \"ngInject\";\n\n    var ngIf = ngIfDirective[0];\n\n    return {\n        transclude: ngIf.transclude,\n        priority: ngIf.priority,\n        terminal: ngIf.terminal,\n        restrict: ngIf.restrict,\n        scope: true,\n        link: function($scope: any, $element, $attrs) {\n            // Visualize based on visible variable in scope\n            $attrs.ngIf = function() { return $scope.visible };\n            ngIf.link.apply(ngIf);\n        },\n        controller: AuxPanelPartDirectiveController\n    };\n}\n\nangular\n    .module('pipAuxPanel')\n    .directive('pipAuxPanelPart', AuxPanelPartDirective);\n\n})();","'use strict';\n\nexport let AuxPanelChangedEvent = 'pipAuxPanelChanged';\nexport let AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\nexport let OpenAuxPanelEvent = 'pipOpenAuxPanel';\nexport let CloseAuxPanelEvent = 'pipCloseAuxPanel';\n\nexport class AuxPanelConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n} \n\nexport interface IAuxPanelService {\n    readonly config: AuxPanelConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;    \n\n    isOpen(): boolean;\n    open(): void;\n    close(): void;\n    toggle(): void;\n  \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\n    config: AuxPanelConfig;\n    parts: any;\n    type: string;\n    classes: string[];\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nclass AuxPanelService implements IAuxPanelService {\n    private _config: AuxPanelConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n    private id = 'pip-auxpanel';\n\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\n    }\n\n    public isOpen(): boolean {\n        return this._sidenav(this.id).isOpen();\n    }\n\n    public open() {\n        this._sidenav(this.id).open();\n    }\n            \n    public close() {\n        this._sidenav(this.id).close();\n    }\n\n    public toggle() {\n        this._sidenav(this.id).toggle();\n    }\n  \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\n    }\n}\n\nclass AuxPanelProvider implements IAuxPanelProvider {\n    private _config: AuxPanelConfig = {\n        parts: {},\n        classes: [],\n        type: 'sticky',\n        state: null\n    };\n\n    private _service: AuxPanelService;\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public set config(value: AuxPanelConfig) {\n        this._config = value || new AuxPanelConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public open(): void {\n        this._service.open();\n    }\n\n    public close(): void {\n        this._service.close();\n    }\n\n    public toggle(): void {\n        this._service.toggle();\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }     \n}\n\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\n}\n\nangular\n    .module('pipAuxPanel')\n    .provider('pipAuxPanel', AuxPanelProvider)\n    .run(hookAuxPanelEvents);\n","'use strict';\n\nangular.module('pipAuxPanel', ['ngMaterial']);\n\nimport './AuxPanelService';\nimport './AuxPanelPartDirective';\nimport './AuxPanelDirective';\n\nexport * from './AuxPanelService';","'use strict';\n\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\ninterface ICardDirectiveAttributes extends ng.IAttributes {\n    minWidth: string | number;\n    minHeight: string | number;\n    width: string | number;\n    height: string | number;\n}\n\nclass CardDirectiveLink {\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService, \n        private $element: JQuery, \n        private $attrs: ICardDirectiveAttributes\n    ) {\n\n        // Add class to the element\n        $element.addClass('pip-card');\n\n        let listener = () => { this.resize(); }\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, listener);\n\n        // Resize right away to avoid flicking\n        this.resize();\n\n        // Resize the element right away\n        setTimeout(listener, 100);\n    }\n\n    private resize() {\n        const\n            $mainBody = $('.pip-main-body'),\n            cardContainer = $('.pip-card-container'),\n            windowWidth = $('pip-main').width();\n        let\n            maxWidth = $mainBody.width(),\n            maxHeight = $mainBody.height(),\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\n            left, top;\n\n        // Full-screen on phone\n        if (MainBreakpointStatuses.xs) {\n            minWidth = null;\n            minHeight = null;\n            width = null;\n            height = null;\n            maxWidth = null;\n            maxHeight = null;\n        }\n        // Card view with adjustable margins on tablet and desktop\n        else {\n            // Set margin and maximum dimensions\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\n            maxWidth -= space * 2;\n            maxHeight -= space * 2;\n\n            // Set minimum dimensions\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\n\n            // Set regular dimensions\n            width = width ? Math.min(width, maxWidth) : null;\n            height = height ? Math.min(height, maxHeight) : null;\n        }\n\n        // Set dimensions\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\n        this.$element.css('width', width ? width + 'px' : '');\n        this.$element.css('height', height ? height + 'px' : '');\n\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\n            const\n                $header = this.$element.find('.pip-header:visible'),\n                $footer = this.$element.find('.pip-footer:visible'),\n                $body = this.$element.find('.pip-body');\n            let maxBodyHeight = maxHeight || $mainBody.height();\n\n            if ($header.length > 0)\n                maxBodyHeight -= $header.outerHeight(true);\n            if ($footer.length > 0)\n                maxBodyHeight -= $footer.outerHeight(true);\n\n            $body.css('max-height', maxBodyHeight + 'px');\n        } else {\n            cardContainer.addClass('pip-scroll');\n            if (MainBreakpointStatuses.xs) {\n                left = 0;\n                top = 0;\n            } else {\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\n            }\n\n            this.$element.css('left', left);\n            this.$element.css('top', top);\n\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\n        }\n\n        // Notify child controls that layout was resized\n        this.$rootScope.$emit('pipLayoutResized');\n    }\n}\n\nfunction cardDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            new CardDirectiveLink($rootScope, $element, $attrs);\n        }\n    }\n}\n\n\nangular\n    .module('pipLayout')\n    .directive('pipCard', cardDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction dialogDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-dialog');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDialog', dialogDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction documentDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-document');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDocument', documentDirective);\n\n})();","'use strict';\n\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainBreakpoints, MainBreakpointStatuses, MainResizedEvent } from '../media/MediaService'; \n\n// Avoid default export\n(() => {\n\ninterface IMainDirectiveAttributes extends ng.IAttributes {\n    pipContainer: string;\n}\n\nclass MainDirectiveController implements ng.IController {\n    private _container: any;\n\n    public constructor(\n        private $scope: ng.IScope, \n        private $element: angular.IRootElementService, \n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $attrs: IMainDirectiveAttributes\n    ) {\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\n\n        // Add CSS class\n        $element.addClass('pip-main');\n\n        // Add resize listener\n        const listener = () => { this.resize(); };\n        addResizeListener(this._container[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener(this._container[0], listener);\n        });\n\n        // Perform initial calculations\n        this.updateBreakpointStatuses();\n    }\n\n    private updateBreakpointStatuses() {\n        const width = this._container.innerWidth();\n        const body = $('body');\n\n        MainBreakpointStatuses.update(MainBreakpoints, width);\n\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\n            if (_.isBoolean(status)) {\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\n            }\n        });\n\n        this.$timeout(() => {\n            this.$rootScope.$apply();\n        });\n    }\n    \n    private resize() {\n        this.updateBreakpointStatuses();\n        this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\n    }\n}\n\nclass MainBodyDirectiveLink {\n    public constructor(\n        $scope: ng.IScope, \n        $element: angular.IRootElementService\n    ) {\n        // Add CSS class\n        $element.addClass('pip-main-body');\n    }\n}\n\nfunction mainDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        controller: MainDirectiveController,\n        controllerAs: 'vm' \n    }\n}\n\nfunction mainBodyDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: MainBodyDirectiveLink\n    }\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipMain', mainDirective)\n    .directive('pipMainBody', mainBodyDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction simpleDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-simple');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipSimple', simpleDirective);\n\n})();","'use strict';\n\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\ndeclare var Masonry: any;\n\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\n    columnWidth: string | number;\n    pipInfinite: string | boolean | number;\n}\n\nclass TilesOptions {\n    gutter: number;\n    isFitWidth: boolean;\n    isResizeBound: boolean;\n    transitionDuration: number;\n}\n\ninterface ITilesControllerScope extends ng.IScope {\n    tilesOptions: TilesOptions;\n}\n\nclass TilesDirectiveLink {\n    private _columnWidth: number;\n    private _container: any;\n    private _prevContainerWidth: number;\n    private _masonry: any;\n    private _sizer: any;\n\n    public constructor(\n        $scope: ng.IScope, \n        private $element: JQuery, \n        private $attrs: ITilesDirectiveAttributes,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440,\n        this._container = $element.children('.pip-tiles-container'),\n        this._prevContainerWidth = null,\n        this._masonry = Masonry.data(this._container[0]);\n        \n        // Add class to the element\n        $element.addClass('pip-tiles');\n\n        // Add resize listener\n        const listener = () => { this.resize(false); };\n        addResizeListener($element[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener($element[0], listener);\n        });\n\n        // Insert sizer\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\n        this._sizer.appendTo(this._container);\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\n\n        // Resize the element right away\n        this.resize(true);\n    }\n\n    private resize(force: boolean) {\n        let width = this.$element.parent().width(),\n            containerWidth;\n\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\n            width = width - 24 * 2;\n\n            let columns = Math.floor(width / this._columnWidth);\n            containerWidth = (this._columnWidth + 16) * columns - 16;\n\n            if (containerWidth > width) {\n                columns--;\n                containerWidth = (this._columnWidth + 16) * columns - 16;\n            }\n\n            if (columns < 1) {\n                containerWidth = width;\n                this._sizer.css('width', containerWidth + 'px');\n            } else {\n                this._sizer.css('width', this._columnWidth + 'px');\n            }\n\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.removeClass('pip-mobile');\n        } else {\n            width = width - 16 * 2;\n            containerWidth = width;\n\n            this._sizer.css('width', containerWidth + 'px');\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.addClass('pip-mobile');\n        }\n\n        // Manually call layout on tile container\n        if (this._prevContainerWidth != containerWidth || force) {\n            this._prevContainerWidth = containerWidth;\n            this._masonry.layout();\n\n            // Notify child controls that layout was resized\n            this.$rootScope.$emit(LayoutResizedEvent);\n        }\n    }\n}\n\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\n    \"ngInject\";\n\n    // Converts value into boolean\n    function convertToBoolean(value): boolean {\n        if (value == null) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n    }\n\n    return {\n        restrict: 'EA',\n        scope: false,\n        transclude: true,\n        template:\n            ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n                if (convertToBoolean($attrs.pipInfinite)) {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\n                        + ' pip-infinite-scroll=\"readScroll()\" >'\n                        + '</div>';\n                } else {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\">'\n                        + '</div>';\n                }\n            },\n        controller: ($scope: ITilesControllerScope) => {\n            $scope.tilesOptions = {\n                gutter: 8,//16\n                isFitWidth: false,\n                isResizeBound: false,\n                transitionDuration: 0 // '0.2s'\n            };\n        },\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipTiles', tilesDirective);\n","'use strict';\n\nexport class MediaBreakpoints {\n    public constructor(\n        xs: number, sm: number, md: number, lg: number\n    ) {\n        this.xs = xs;\n        this.sm = sm;\n        this.md = md;\n        this.lg = lg;\n    }\n\n    public xs: number;\n    public sm: number;\n    public md: number;\n    public lg: number;\n}\n\nexport class MediaBreakpointStatuses {\n    public width: number;\n    public 'xs': boolean;\n    public 'gt-xs': boolean;\n    public 'sm': boolean;\n    public 'gt-sm': boolean;\n    public 'md': boolean;\n    public 'gt-md': boolean;\n    public 'lg': boolean;\n    public 'gt-lg': boolean;\n    public 'xl': boolean;\n\n    public update(breakpoints: MediaBreakpoints, width: number) {\n        if (breakpoints == null) return;\n\n        this.width = width;\n        this['xs'] = width <= breakpoints.xs;\n        this['gt-xs'] = width > breakpoints.xs;\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\n        this['gt-sm'] = width > breakpoints.sm;\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\n        this['gt-md'] = width > breakpoints.md;\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\n        this['gt-lg'] = width > breakpoints.lg;\n        this['xl'] = this['gt-lg'];\n    }\n}\n\nexport let MainResizedEvent: string = 'pipMainResized';\nexport let LayoutResizedEvent: string = 'pipLayoutResized';\n\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\n\nexport interface IMediaService {\n    (breakpoint: string): boolean;\n    breakpoints: MediaBreakpoints;\n    width: number;\n} \n\nexport interface IMediaProvider extends ng.IServiceProvider {\n    breakpoints: MediaBreakpoints;\n}\n\nclass MediaProvider implements IMediaProvider {\n    public get breakpoints(): MediaBreakpoints {\n        return MainBreakpoints;\n    }\n\n    public set breakpoints(value: MediaBreakpoints) {\n        MainBreakpoints = value;\n    }\n\n    public $get() {\n        const service = function(size) {\n            return MainBreakpointStatuses[size];\n        }\n\n        Object.defineProperty(service, 'breakpoints', {\n            get: () => { return MainBreakpoints; },\n            set: (value) => { \n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\n                \n                MainBreakpointStatuses.update(\n                    MainBreakpoints, \n                    MainBreakpointStatuses.width\n                );\n            }\n        });\n\n        Object.defineProperty(service, 'width', {\n            get: () => { \n                return MainBreakpointStatuses.width; \n            }\n        });\n\n        return service; \n    }\n}\n\nangular\n    .module('pipMedia')\n    .provider('pipMedia', MediaProvider);\n","'use strict';\n\nlet attachEvent = (<any>document).attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nfunction requestFrame(callback): any {\n    let frame = window.requestAnimationFrame \n        || (<any>window).mozRequestAnimationFrame \n        || (<any>window).webkitRequestAnimationFrame \n        || function(callback) { \n            return window.setTimeout(callback, 20);     \n        };\n\n    return frame(callback);\n}\n\nfunction cancelFrame(): any {\n    let cancel = window.cancelAnimationFrame \n        || (<any>window).mozCancelAnimationFrame \n        || (<any>window).webkitCancelAnimationFrame \n        || window.clearTimeout;\n\n    return function(id) { \n        return cancel(id); \n    };\n}\n\nfunction resizeListener(event: any): void {\n    const win = event.target || event.srcElement;\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\n    win.__resizeRAF__ = requestFrame(function() {\n        const trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function(fn){\n            fn.call(trigger, event);\n        });\n    });\n}\n\nfunction loadListener(event: any): void {\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nexport function addResizeListener(element, listener): void {\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = loadListener;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n\n    element.__resizeListeners__.push(listener);\n}\n\nexport function removeResizeListener(element, listener): void {\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\n    if (!element.__resizeListeners__.length) {\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\n        else {\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n        }\n    }\n}\n","'use strict';\n\nangular.module('pipMedia', []);\n\nimport './MediaService';\nimport './ResizeFunctions';\n\nexport * from './MediaService';\nexport * from './ResizeFunctions';","/**\n * @file Split layout\n * @copyright Digital Living Software Corp. 2014-2015\n */\n\n/* global $, angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSplit', []);\n\n    thisModule.run( function($rootScope, pipSplit) {\n        // Intercept routes\n        $rootScope.$on('$stateChangeStart',\n            function(event, toState, toParams, fromState, fromParams) {\n                // Split animation\n                var splitElements = $('.pip-split');\n                \n                if (splitElements.length > 0) {\n                    splitElements.removeClass('pip-transition-forward');\n                    splitElements.removeClass('pip-transition-back');\n                    if (toState.name != fromState.name) {\n                        if (pipSplit.forwardTransition(toState, fromState)) {\n                            splitElements.addClass('pip-transition-forward');\n                        } else {\n                            splitElements.addClass('pip-transition-back');\n                        }\n                    }\n                }\n\n            }\n        );\n\n    });\n\n    thisModule.provider('pipSplit', function(): any {\n        var transitionSequences = [];\n\n        this.addTransitionSequence = addTransitionSequence;\n\n        this.$get = function () {\n            return {\n                forwardTransition: forwardTransition\n            };\n        };\n\n        return;\n\n        //----------------------------\n\n        function addTransitionSequence(sequence) {\n            if (!_.isArray(sequence) || sequence.length == 0) {\n                throw new Error('Transition sequence must be an array of state names');\n            }\n\n            transitionSequences.push(sequence);\n        }\n\n        function forwardTransition(toState, fromState) {\n            var i, toIndex, fromIndex;\n\n            for (i = 0; i < transitionSequences.length; i++) {\n                toIndex = transitionSequences[i].indexOf(toState.name),\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\n\n                if (toIndex > -1) {\n                    return toIndex > fromIndex;\n                }\n            }\n\n            return false\n        }\n\n    });\n\n})();\n","/**\n * @file Registration of all WebUI list controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipBehaviors', [\n        'pipFocused',\n        'pipSelected',\n        'pipInfiniteScroll',\n        'pipUnsavedChanges',\n        'pipDraggable',\n        'pipShortcuts'\n    ]);\n    \n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipDraggable\", []);\n\n    thisModule.service('pipDraggable', function () {\n\n        var scope = this;\n        scope.inputEvent = function (event) {\n            if (angular.isDefined(event.touches)) {\n                return event.touches[0];\n            }\n            //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\n            else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\n                return event.originalEvent.touches[0];\n            }\n            return event;\n        };\n\n    });\n\n    thisModule.directive('pipDrag',\n        function ($rootScope, $parse, $document, $window, pipDraggable) {\n            return {\n\n                restrict: 'A',\n                link: function (scope: any, element, attrs: any) {\n                    scope.value = attrs.ngDrag;\n                    var LONG_PRESS = 50; // 50ms for longpress\n                    var offset, _centerAnchor = false, _mx, _my, _tx, _ty, _mrx, _mry;\n                    var _hasTouch = ('ontouchstart' in window) || (<any>window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\n                    var _pressEvents = 'touchstart mousedown';\n                    var _moveEvents = 'touchmove mousemove';\n                    var _releaseEvents = 'touchend mouseup';\n                    var _dragHandle;\n\n                    // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\n                    var _myid = scope.$id;\n                    var _data = null;\n\n                    var _dragOffset = null;\n\n                    var _dragEnabled = false;\n\n                    var _pressTimer = null;\n\n                    var _elementStyle: any = {};\n\n                    var onDragStartCallback = $parse(attrs.pipDragStart) || null;\n                    var onDragStopCallback = $parse(attrs.pipDragStop) || null;\n                    var onDragSuccessCallback = $parse(attrs.pipDragSuccess) || null;\n                    var allowTransform = angular.isDefined(attrs.allowTransform) ? scope.$eval(attrs.allowTransform) : false;\n\n                    var getDragData = $parse(attrs.pipDragData);\n                    var\n                        verticalScroll = toBoolean(attrs.pipVerticalScroll) || true,\n                        horizontalScroll = toBoolean(attrs.pipHorizontalScroll) || true,\n                        activationDistance = parseFloat(attrs.pipActivationDistance) || 75,\n                        scrollDistance = parseFloat(attrs.pipScrollDistance) || 50,\n                        scrollParent = false,\n\n                        scrollContainer = angular.element(window),\n                        scrollContainerGetter = $parse(attrs.pipScrollContainer);\n\n                    // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\n                    var _deregisterRootMoveListener = angular.noop;\n\n                    initialize();\n\n                    return;\n\n                    //-----------------------------------\n\n                    function initialize() {\n                        element.attr('pip-draggable', 'false'); // prevent native drag\n                        // check to see if drag handle(s) was specified\n                        // if querySelectorAll is available, we use this instead of find\n                        // as JQLite find is limited to tagnames\n                        let dragHandles: any;\n                        if (element[0].querySelectorAll) {\n                            dragHandles = angular.element(element[0].querySelectorAll('[pip-drag-handle]'));\n                        } else {\n                            dragHandles = element.find('[pip-drag-handle]');\n                        }\n                        if (dragHandles.length) {\n                            _dragHandle = dragHandles;\n                        }\n                        toggleListeners(true);\n\n                        // Initialize scroll container\n                        if (scrollParent) {\n                            scrollContainer = angular.element(element.parent());\n                        } else if (attrs.pipScrollContainer) {\n                            scrollContainer = angular.element(scrollContainerGetter(scope));\n                        } else {\n                            scrollContainer = angular.element(window);\n                        }\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    function toggleListeners(enable) {\n                        if (!enable)return;\n                        // add listeners.\n\n                        scope.$on('$destroy', onDestroy);\n                        scope.$watch(attrs.pipDrag, onEnableChange);\n                        scope.$watch(attrs.pipCenterAnchor, onCenterAnchor);\n                        // wire up touch events\n                        if (_dragHandle) {\n                            // handle(s) specified, use those to initiate drag\n                            _dragHandle.on(_pressEvents, onpress);\n                        } else {\n                            // no handle(s) specified, use the element as the handle\n                            element.on(_pressEvents, onpress);\n                        }\n                        if (!_hasTouch && element[0].nodeName.toLowerCase() == \"img\") {\n                            element.on('mousedown', function () {\n                                return false;\n                            }); // prevent native drag for images\n                        }\n                    }\n                    \n                    function onDestroy(enable) {\n                        toggleListeners(false);\n                    }\n\n                    function onEnableChange(newVal, oldVal) {\n                        _dragEnabled = (newVal);\n                    }\n\n                    function onCenterAnchor(newVal, oldVal) {\n                        if (angular.isDefined(newVal))\n                            _centerAnchor = (newVal || 'true');\n                    }\n\n                    function isClickableElement(evt) {\n                        return (\n                            angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\n                        );\n                    }\n\n                    /*\n                     * When the element is clicked start the drag behaviour\n                     * On touch devices as a small delay so as not to prevent native window scrolling\n                     */\n                    function onpress(evt) {\n                        if (!_dragEnabled)return;\n\n                        if (isClickableElement(evt)) {\n                            return;\n                        }\n\n                        if (evt.type == \"mousedown\" && evt.button != 0) {\n                            // Do not start dragging on right-click\n                            return;\n                        }\n\n                        saveElementStyles();\n\n                        if (_hasTouch) {\n                            cancelPress();\n                            _pressTimer = setTimeout(function () {\n                                cancelPress();\n                                onlongpress(evt);\n                            }, LONG_PRESS);\n                            $document.on(_moveEvents, cancelPress);\n                            $document.on(_releaseEvents, cancelPress);\n                        } else {\n                            onlongpress(evt);\n                        }\n\n                    }\n\n                    function saveElementStyles() {\n                        _elementStyle.left = element.css('css') || 0;\n                        _elementStyle.top = element.css('top') || 0;\n                        _elementStyle.position = element.css('position');\n                        _elementStyle.width = element.css('width');    \n                    }\n\n                    function cancelPress() {\n                        clearTimeout(_pressTimer);\n                        $document.off(_moveEvents, cancelPress);\n                        $document.off(_releaseEvents, cancelPress);\n                    }\n\n                    function onlongpress(evt) {\n                        if (!_dragEnabled)return;\n                        evt.preventDefault();\n\n                        offset = element[0].getBoundingClientRect();\n                        if (allowTransform)\n                            _dragOffset = offset;\n                        else {\n                            _dragOffset = {left: document.body.scrollLeft, top: document.body.scrollTop};\n                        }\n\n\n                        (<any>element).centerX = element[0].offsetWidth / 2;\n                        (<any>element).centerY = element[0].offsetHeight / 2;\n\n                        _mx = pipDraggable.inputEvent(evt).pageX;\n                        _my = pipDraggable.inputEvent(evt).pageY;\n                        _mrx = _mx - offset.left;\n                        _mry = _my - offset.top;\n                        if (_centerAnchor) {\n                            _tx = _mx - (<any>element).centerX - $window.pageXOffset;\n                            _ty = _my - (<any>element).centerY - $window.pageYOffset;\n                        } else {\n                            _tx = _mx - _mrx - $window.pageXOffset;\n                            _ty = _my - _mry - $window.pageYOffset;\n                        }\n\n                        $document.on(_moveEvents, onmove);\n                        $document.on(_releaseEvents, onrelease);\n                        // This event is used to receive manually triggered mouse move events\n                        // jqLite unfortunately only supports triggerHandler(...)\n                        // See http://api.jquery.com/triggerHandler/\n                        // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\n                        _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', function (event, origEvent) {\n                            onmove(origEvent);\n                        });\n                    }\n\n                    function onmove(evt) {\n                        if (!_dragEnabled)return;\n                        evt.preventDefault();\n\n                        if (!element.hasClass('pip-dragging')) {\n                            _data = getDragData(scope);\n                            element.addClass('pip-dragging');\n                            $rootScope.$broadcast('draggable:start', {\n                                x: _mx,\n                                y: _my,\n                                tx: _tx,\n                                ty: _ty,\n                                event: evt,\n                                element: element,\n                                data: _data\n                            });\n\n                            if (onDragStartCallback) {\n                                scope.$apply(function () {\n                                    onDragStartCallback(scope, {$data: _data, $event: evt});\n                                });\n                            }\n                        }\n\n                        _mx = pipDraggable.inputEvent(evt).pageX;\n                        _my = pipDraggable.inputEvent(evt).pageY;\n\n                        if (horizontalScroll || verticalScroll) {\n                            dragToScroll();\n                        }\n\n                        if (_centerAnchor) {\n                            _tx = _mx - (<any>element).centerX - _dragOffset.left;\n                            _ty = _my - (<any>element).centerY - _dragOffset.top;\n                        } else {\n                            _tx = _mx - _mrx - _dragOffset.left;\n                            _ty = _my - _mry - _dragOffset.top;\n                        }\n\n                        moveElement(_tx, _ty);\n\n                        $rootScope.$broadcast('draggable:move', {\n                            x: _mx,\n                            y: _my,\n                            tx: _tx,\n                            ty: _ty,\n                            event: evt,\n                            element: element,\n                            data: _data,\n                            uid: _myid,\n                            dragOffset: _dragOffset\n                        });\n                    }\n\n                    function onrelease(evt) {\n                        if (!_dragEnabled)\n                            return;\n                        evt.preventDefault();\n                        $rootScope.$broadcast('draggable:end', {\n                            x: _mx,\n                            y: _my,\n                            tx: _tx,\n                            ty: _ty,\n                            event: evt,\n                            element: element,\n                            data: _data,\n                            callback: onDragComplete,\n                            uid: _myid\n                        });\n                        element.removeClass('pip-dragging');\n                        element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\n                        reset();\n                        $document.off(_moveEvents, onmove);\n                        $document.off(_releaseEvents, onrelease);\n\n                        if (onDragStopCallback) {\n                            scope.$apply(function () {\n                                onDragStopCallback(scope, {$data: _data, $event: evt});\n                            });\n                        }\n\n                        _deregisterRootMoveListener();\n                    }\n\n                    function onDragComplete(evt) {\n                        if (!onDragSuccessCallback)return;\n\n                        scope.$apply(function () {\n                            onDragSuccessCallback(scope, {$data: _data, $event: evt});\n                        });\n                    }\n\n                    function reset() {\n                        if (allowTransform)\n                            element.css({transform: '', 'z-index': '', '-webkit-transform': '', '-ms-transform': ''});\n                        else {\n                            element.css({'position': _elementStyle.position, top: _elementStyle.top, left: _elementStyle.left, 'z-index': '', width: _elementStyle.width});\n                        }\n                    }\n\n                    function moveElement(x, y) {\n                        var eWidth = element.css('width');\n                        if (allowTransform) {\n                            element.css({\n                                transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                                'z-index': 99999,\n                                '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                                '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n                            });\n                        } else {\n                            element.css({\n                                'left': x + 'px',\n                                'top': y + 'px',\n                                'position': 'fixed',\n                                'z-index': 100,\n                                width: eWidth\n                            });\n                        }\n                    }\n\n                    function dragToScroll() {\n                        var scrollX = 0, scrollY = 0,\n                            offset = function (element) {\n                                return element.offset() || {left: 0, top: 0};\n                            };\n\n                        if (horizontalScroll) {\n                            var\n                                containerLeft = offset(scrollContainer).left,\n                                containerWidth = scrollContainer.innerWidth(),\n                                containerRight = containerLeft + containerWidth;\n\n                            if ((_mx - containerLeft) < activationDistance) {\n                                scrollX = -scrollDistance;\n                            }\n                            else if ((containerRight - _mx) < activationDistance) {\n                                scrollX = scrollDistance;\n                            }\n                        }\n\n                        if (verticalScroll) {\n                            var\n                                containerTop = offset(scrollContainer).top,\n                                containerHeight = scrollContainer.innerHeight(),\n                                containerBottom = containerTop + containerHeight;\n\n                            if ((_my - containerTop) < activationDistance) {\n                                scrollY = -scrollDistance + 30;\n                            }\n                            else if ((containerBottom - _my) < activationDistance) {\n                                scrollY = scrollDistance - 30;\n                            }\n                        }\n                        if (scrollX !== 0 || scrollY !== 0) {\n                            var\n                                containerScrollLeft = scrollContainer.scrollLeft(),\n                                containerScrollTop = scrollContainer.scrollTop();\n\n                            scrollContainer.scrollLeft(containerScrollLeft + scrollX);\n                            scrollContainer.scrollTop(containerScrollTop + scrollY);\n                        }\n\n                    }\n                }\n            }\n        });\n\n    thisModule.directive('pipDrop', \n        function ($parse, $timeout, $window, $document, pipDraggable) {\n        return {\n            restrict: 'A',\n            link: function (scope: any, element, attrs: any) {\n                scope.value = attrs.pipDrop;\n                scope.isTouching = false;\n\n                var _lastDropTouch = null;\n                var _myid = scope.$id;\n                var _dropEnabled = false;\n\n                var onDropCallback = $parse(attrs.pipDropSuccess);// || function(){};\n                var onDragStartCallback = $parse(attrs.pipDragStart);\n                var onDragStopCallback = $parse(attrs.pipDragStop);\n                var onDragMoveCallback = $parse(attrs.pipDragMove);\n\n                initialize();\n\n                return;\n\n                //----------------------\n\n                function initialize() {\n                    toggleListeners(true);\n                }\n\n                function toggleListeners(enable) {\n                    // remove listeners\n                    if (!enable)return;\n                    // add listeners.\n                    scope.$watch(attrs.pipDrop, onEnableChange);\n                    scope.$on('$destroy', onDestroy);\n                    scope.$on('draggable:start', onDragStart);\n                    scope.$on('draggable:move', onDragMove);\n                    scope.$on('draggable:end', onDragEnd);\n                }\n\n                function onDestroy(enable) {\n                    toggleListeners(false);\n                }\n\n                function onEnableChange(newVal, oldVal) {\n                    _dropEnabled = newVal;\n                }\n\n                function onDragStart(evt, obj) {\n                    if (!_dropEnabled)return;\n                    isTouching(obj.x, obj.y, obj.element);\n\n                    if (attrs.pipDragStart) {\n                        $timeout(function () {\n                            onDragStartCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n                }\n\n                function onDragMove(evt, obj) {\n                    if (!_dropEnabled)return;\n                    isTouching(obj.x, obj.y, obj.element);\n\n                    if (attrs.pipDragMove) {\n                        $timeout(function () {\n                            onDragMoveCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n                }\n\n                function onDragEnd(evt, obj) {\n                    // don't listen to drop events if this is the element being dragged\n                    // only update the styles and return\n                    if (!_dropEnabled || _myid === obj.uid) {\n                        updateDragStyles(false, obj.element);\n                        return;\n                    }\n\n                    if (isTouching(obj.x, obj.y, obj.element)) {\n                        // call the pipDraggable pipDragSuccess element callback\n                        if (obj.callback) {\n                            obj.callback(obj);\n                        }\n\n                        if (attrs.pipDropSuccess) {\n                            $timeout(function () {\n                                onDropCallback(scope, {\n                                    $data: obj.data,\n                                    $event: obj,\n                                    $target: scope.$eval(scope.value)\n                                });\n                            });\n                        }\n                    }\n\n                    if (attrs.pipDragStop) {\n                        $timeout(function () {\n                            onDragStopCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n\n                    updateDragStyles(false, obj.element);\n                }\n\n                function isTouching(mouseX, mouseY, dragElement) {\n                    var touching = hitTest(mouseX, mouseY);\n                    scope.isTouching = touching;\n                    if (touching) {\n                        _lastDropTouch = element;\n                    }\n                    updateDragStyles(touching, dragElement);\n                    return touching;\n                }\n\n                function updateDragStyles(touching, dragElement) {\n                    if (touching) {\n                        element.addClass('pip-drag-enter');\n                        dragElement.addClass('pip-drag-over');\n                    } else if (_lastDropTouch == element) {\n                        _lastDropTouch = null;\n                        element.removeClass('pip-drag-enter');\n                        dragElement.removeClass('pip-drag-over');\n                    }\n                };\n\n                function hitTest(x, y) {\n                    var bounds = element[0].getBoundingClientRect();\n                    x -= $document[0].body.scrollLeft + $document[0].documentElement.scrollLeft;\n                    y -= $document[0].body.scrollTop + $document[0].documentElement.scrollTop;\n                    return x >= bounds.left\n                        && x <= bounds.right\n                        && y <= bounds.bottom\n                        && y >= bounds.top;\n                }\n            }\n        };\n    });\n\n    //thisModule.directive('pipDragClone', function ($parse, $timeout, pipDraggable) {\n    //    return {\n    //        restrict: 'A',\n    //        link: function (scope, element, attrs) {\n    //            var img, _allowClone = true;\n    //            var _dragOffset = null;\n    //            scope.clonedData = {};\n    //            initialize();\n    //            return;\n\n    //            function initialize() {\n//\n    //                img = element.find('img');\n    //                element.attr('pip-draggable', 'false');\n    //                img.attr('draggable', 'false');\n    //                reset();\n    //                toggleListeners(true);\n    //            }\n//\n//\n    //            function toggleListeners(enable) {\n    //                // remove listeners\n//\n    //                if (!enable)return;\n    //                // add listeners.\n    //                scope.$on('draggable:start', onDragStart);\n    //                scope.$on('draggable:move', onDragMove);\n    //                scope.$on('draggable:end', onDragEnd);\n    //                preventContextMenu();\n//\n    //            }\n\n    //            function preventContextMenu() {\n    //                //  element.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                img.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                //  element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                img.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //            }\n\n    //            function onDragStart(evt, obj, elm) {\n    //                _allowClone = true;\n    //                if (angular.isDefined(obj.data.allowClone)) {\n    //                    _allowClone = obj.data.allowClone;\n    //                }\n    //                if (_allowClone) {\n    //                    scope.$apply(function () {\n    //                        scope.clonedData = obj.data;\n    //                    });\n    //                    element.css('width', obj.element[0].offsetWidth);\n    //                    element.css('height', obj.element[0].offsetHeight);\n//\n    //                    moveElement(obj.tx, obj.ty);\n    //                }\n//\n    //            }\n\n    //            function onDragMove(evt, obj) {\n    //                if (_allowClone) {\n//\n    //                    _tx = obj.tx + obj.dragOffset.left;\n    //                    _ty = obj.ty + obj.dragOffset.top;\n//\n    //                    moveElement(_tx, _ty);\n    //                }\n    //            }\n\n    //            function onDragEnd(evt, obj) {\n    //                //moveElement(obj.tx,obj.ty);\n    //                if (_allowClone) {\n    //                    reset();\n    //                }\n    //            }\n//\n    //            function reset() {\n    //                element.css({left: 0, top: 0, position: 'fixed', 'z-index': -1, visibility: 'hidden'});\n    //            }\n\n    //            function moveElement(x, y) {\n    //                element.css({\n    //                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n    //                    'z-index': 99999,\n    //                    'visibility': 'visible',\n    //                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n    //                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n    //                    //,margin: '0'  don't monkey with the margin,\n    //                });\n    //            }\n//\n    //            function absorbEvent_(event) {\n    //                var e = event;//.originalEvent;\n    //                e.preventDefault && e.preventDefault();\n    //                e.stopPropagation && e.stopPropagation();\n    //                e.cancelBubble = true;\n    //                e.returnValue = false;\n    //                return false;\n    //            }\n//\n    //        }\n    //    };\n    //});\n\n    thisModule.directive('pipPreventDrag', function ($parse, $timeout) {\n        return {\n            restrict: 'A',\n            link: function (scope: any, element, attrs: any) {\n                initialize();\n\n                return;\n                //---------------------\n\n                function initialize() {\n                    element.attr('pip-draggable', 'false');\n                    toggleListeners(true);\n                }\n\n                function toggleListeners(enable) {\n                    // remove listeners\n                    if (!enable)return;\n                    // add listeners.\n                    element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n                }\n\n                function absorbEvent_(event) {\n                    var e = event.originalEvent;\n                    e.preventDefault && e.preventDefault();\n                    e.stopPropagation && e.stopPropagation();\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n                    return false;\n                }\n            }\n        };\n    });\n\n    thisModule.directive('pipCancelDrag', function () {\n        return {\n            restrict: 'A',\n            link: function (scope, element, attrs) {\n                element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\n            }\n        };\n    });\n})();\n\n","/**\n * @file Keyboard navigation over few focusable controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipFocused\", []);\n\n    thisModule.directive('pipFocused', function ($timeout, $mdConstant, $window) {\n        return {\n            // restrict: 'EA',\n            require: \"?ngModel\",\n            link: function ($scope: any, $element, $attrs: any) {\n                var controls, controlsLength,\n                    withHidden = $attrs.pipWithHidden,\n                    opacityDelta = 0.4,\n                    opacityLimit = 0.5,\n                    _color,\n                    focusedColor = $attrs.pipFocusedColor ? $attrs.pipFocusedColor : null,\n                    reInit = $attrs.pipFocusedRebind ? $attrs.pipFocusedRebind : null,\n                    focusedTabindex = $attrs.pipFocusedTabindex ? parseInt($attrs.pipFocusedTabindex) || 0 : 0,\n                    isOpacity = $attrs.pipFocusedOpacity ? toBoolean($attrs.pipFocusedOpacity) : false;\n\n                $timeout(init);\n                $element.on('keydown', keydownListener);\n\n                if ($attrs.ngModel) {\n                    $scope.$watch($attrs.ngModel, function () {\n                        $timeout(init);\n                    }, true);\n                }\n\n                if ($attrs.pipFocusedData) {\n                    $attrs.$observe('pipFocusedData', function () {\n                        $timeout(init);\n                    }, true);\n                }      \n                          \n                // Converts value into boolean\n                function toBoolean(value) {\n                    if (value == null) return false;\n                    if (!value) return false;\n                    value = value.toString().toLowerCase();\n                    return value == '1' || value == 'true';\n                };\n\n                function rgba(color) {\n                    if (focusedColor) {\n                        return focusedColor;\n                    }\n\n                    var arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\n\n                    if (!arr || arr.length < 3) {\n                        return ''\n                    }\n\n                    let red, blue, green, opacity;\n\n                    opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\n                    red = arr[0];\n                    blue = arr[1];\n                    green = arr[2];\n\n                    if (opacity < opacityLimit) {\n                        opacity += opacityDelta;\n                    } else {\n                        opacity -= opacityDelta;\n                    }\n\n                    return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\n                }\n\n                function setTabindex(element, value) {\n                    element.attr('tabindex', value);\n                }\n\n                function checkTabindex(controls) {\n                    let index = _.findIndex(controls, (c) => {\n                        return c['tabindex'] > -1;\n                    });\n\n                    if (index == -1 && controls.length > 0) {\n                        // let el = controls[0];\n                        setTabindex(angular.element(controls[0]), focusedTabindex);\n                    }\n                }\n\n                function init() {\n                    var selector = withHidden ? '.pip-focusable' : '.pip-focusable:visible';\n                    controls = $element.find(selector);\n                    controlsLength = controls.length;\n                    checkTabindex(controls);\n                    // add needed event listeners\n                    controls.on('focus', function () {\n                        if ($(this).hasClass('md-focused')) {\n                            return;\n                        }\n                        if (reInit) {\n                            init();\n                        }\n                        $element.addClass('pip-focused-container');\n                        if (isOpacity) {\n                            let ell = angular.element($(this)[0]);\n\n                            _color = $(this).css('backgroundColor');\n                            // _color = $window.getComputedStyle($(this)[0], null).backgroundColor;\n                            $(this).css('backgroundColor', rgba(_color));\n                            $(this).addClass('md-focused');\n                        } else {\n                            $(this).addClass('md-focused md-focused-opacity');\n                        }\n                        \n                        // setTabindex(angular.element($(this)[0]), 0);\n                    }).on('focusout', function () {\n                        if (!$(this).hasClass('md-focused')) {\n                            return;\n                        }                        \n                        $element.removeClass('pip-focused-container');\n\n                        if (isOpacity) {\n                            // $(this).css('backgroundColor', _color);\n                            $(this).css('backgroundColor', \"\");\n                            $(this).removeClass('md-focused md-focused-opacity');\n                        } else {\n                            $(this).removeClass('md-focused');\n                        }\n                        // if I go from block all element have tabindex = -1\n                        // setTabindex(angular.element($(this)[0]), -1);\n                    });\n                }\n\n                function keydownListener(e) {\n                    var keyCode = e.which || e.keyCode;\n                    // Check control keyCode\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\n\n                        e.preventDefault();\n\n                        var\n                            increment = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                            moveToControl = controls.index(controls.filter(\".md-focused\")) + increment;\n                        // Move focus to next control\n                        if (moveToControl >= 0 && moveToControl < controlsLength) {\n                            controls[moveToControl].focus();\n                        }\n                    }\n                }\n            }\n        };\n    });\n\n})();\n\n","/**\n * @file Infinite scrolling behavior\n * @description\n * Modified from https://github.com/sroze/ngInfiniteScroll\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipInfiniteScroll\", []);\n\n    thisModule.directive('pipInfiniteScroll', \n        function($rootScope, $window, $interval, $parse) {\n            var THROTTLE_MILLISECONDS = 500;\n\n            return {\n                scope: {\n                    pipInfiniteScroll: '&',\n                    pipScrollContainer: '=',\n                    pipScrollDistance: '=',\n                    pipScrollDisabled: '=',\n                    pipScrollUseDocumentBottom: '=',\n                    pipScrollListenForEvent: '@'\n                },\n                link: function($scope: any, $element, $attrs: any) {\n                    var \n                        checkWhenEnabled = null,\n                        scrollContainer,\n                        immediateCheck = true,\n                        scrollDistance = null,\n                        scrollEnabled = null, \n                        unregisterEventListener = null,\n                        useDocumentBottom = false, \n                        windowElement = angular.element($window);\n                    \n                    function height(element) {\n                        element = element[0] || element;\n                        if (isNaN(element.offsetHeight)) {\n                            return element.document.documentElement.clientHeight;\n                        } else {\n                            return element.offsetHeight;\n                        }\n                    };\n\n                    function offsetTop(element) {\n                        if (!element[0].getBoundingClientRect || element.css('none')) {\n                            return;\n                        }\n                        return element[0].getBoundingClientRect().top + pageYOffset(element);\n                    };\n\n                    function pageYOffset(element) {\n                        element = element[0] || element;\n                        if (isNaN(window.pageYOffset)) {\n                            return element.document.documentElement.scrollTop;\n                        } else {\n                            return element.ownerDocument.defaultView.pageYOffset;\n                        }\n                    };\n\n                    var onContainerScroll = function() {\n                        var \n                            containerBottom, \n                            containerTopOffset, \n                            elementBottom, \n                            remaining, \n                            shouldScroll;\n                                                \n                        if (scrollContainer === windowElement) {\n                            containerBottom = height(scrollContainer) + pageYOffset(scrollContainer[0].document.documentElement);\n                            elementBottom = offsetTop($element) + height($element);\n                        } else {\n                            containerBottom = height(scrollContainer);\n                            containerTopOffset = 0;\n                            if (offsetTop(scrollContainer) !== void 0) {\n                                containerTopOffset = offsetTop(scrollContainer);\n                            }\n                            elementBottom = offsetTop($element) - containerTopOffset + height($element);\n                        }\n\n                        if (useDocumentBottom) {\n                            elementBottom = height(($element[0].ownerDocument || (<any>$element[0]).document).documentElement);\n                        }\n\n                        remaining = elementBottom - containerBottom;\n                        shouldScroll = remaining <= height(scrollContainer) * scrollDistance + 1;\n                        \n                        if (shouldScroll) {\n                            checkWhenEnabled = true;\n                            if (scrollEnabled) {\n                                if ($scope.$$phase || $rootScope.$$phase) {\n                                    return $scope.pipInfiniteScroll();\n                                } else {\n                                    return $scope.$apply($scope.pipInfiniteScroll);\n                                }\n                            }\n                        } else {\n                            return checkWhenEnabled = false;\n                        }\n                    };\n\n                    if (THROTTLE_MILLISECONDS != null) {\n                        onContainerScroll = _.throttle(onContainerScroll, THROTTLE_MILLISECONDS);                    \n                    }\n\n                    $scope.$on('$destroy', function() {\n                        scrollContainer.unbind('scroll', onContainerScroll);\n                        if (unregisterEventListener != null) {\n                            unregisterEventListener();\n                            return unregisterEventListener = null;\n                        }\n                    });\n\n                    function handleScrollDistance(v) {\n                        return scrollDistance = parseFloat(v) || 0;\n                    };\n                    $scope.$watch('pipScrollDistance', handleScrollDistance);\n                    handleScrollDistance($scope.pipScrollDistance);\n                    \n                    function handleScrollDisabled(v) {\n                        scrollEnabled = !v;\n                        if (scrollEnabled && checkWhenEnabled) {\n                            checkWhenEnabled = false;\n                            return onContainerScroll();\n                        }\n                    };\n                    $scope.$watch('pipScrollDisabled', handleScrollDisabled);\n                    handleScrollDisabled($scope.pipScrollDisabled);\n\n                    function handleScrollUseDocumentBottom(v) {\n                        return useDocumentBottom = v;\n                    };\n                    $scope.$watch('pipScrollUseDocumentBottom', handleScrollUseDocumentBottom);\n                    handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\n\n                    function changeContainer(newContainer) {\n                        if (scrollContainer != null) {\n                            scrollContainer.unbind('scroll', onContainerScroll);\n                        }\n\n                        scrollContainer = newContainer;\n                        if (newContainer != null) {\n                            return scrollContainer.bind('scroll', onContainerScroll);\n                        }\n                    };\n\n                    changeContainer(windowElement);\n                    if ($scope.pipScrollListenForEvent) {\n                        unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, onContainerScroll);\n                    }\n\n                    function handleScrollContainer(newContainer) {\n                        if ((newContainer == null) || newContainer.length === 0) {\n                            return;\n                        }\n                        if (newContainer instanceof HTMLElement) {\n                            newContainer = angular.element(newContainer);\n                        } else if (typeof newContainer.append === 'function') {\n                            newContainer = angular.element(newContainer[newContainer.length - 1]);\n                        } else if (typeof newContainer === 'string') {\n                            newContainer = $element.parents().find(newContainer);\n                        }\n\n                        if (newContainer != null && (!Array.isArray(newContainer) ||\n                            (Array.isArray(newContainer) && newContainer.length > 0))) {\n                            return changeContainer(newContainer);\n                        } else {\n                            throw new Error(\"Invalid pip-scroll-container attribute.\");\n                        }\n                    };\n                    $scope.$watch('pipScrollContainer', function (newContainer) {\n                        if (newContainer !== scrollContainer)\n                            handleScrollContainer(newContainer);\n                    });\n                    handleScrollContainer($scope.pipScrollContainer || []);\n                    \n                    if ($attrs.pipScrollParent != null) {\n                        changeContainer(angular.element($element.parent()));\n                    }\n                    if ($attrs.pipScrolImmediateCheck != null) {\n                        immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\n                    }\n                    \n                    return $interval((function() {\n                        if (immediateCheck) {\n                            return onContainerScroll();\n                        }\n                    }), 0, 1);\n                }\n            }\n        }\n    );\n\n})();\n\n","'use strict';\n\nexport class ShortcutOption {\n    Type: KeyboardEvent;\n    Propagate: boolean;\n    DisableInInput: boolean;\n    Target: any; // event target object\n    Keycode: number;\n}\n\nexport class KeyboardEvent {\n    static Keydown: string = 'keydown';\n    static Keyup: string = 'keyup';\n    static Keypress: string = 'keypress';\n}\n\nexport class KeyboardShortcut {\n    private shift_nums = {\n        \"`\": \"~\",\n        \"1\": \"!\",\n        \"2\": \"@\",\n        \"3\": \"#\",\n        \"4\": \"$\",\n        \"5\": \"%\",\n        \"6\": \"^\",\n        \"7\": \"&\",\n        \"8\": \"*\",\n        \"9\": \"(\",\n        \"0\": \")\",\n        \"-\": \"_\",\n        \"=\": \"+\",\n        \";\": \":\",\n        \"'\": \"\\\"\",\n        \",\": \"<\",\n        \".\": \">\",\n        \"/\": \"?\",\n        \"\\\\\": \"|\"\n    };\n\n    private special_keys = {\n        'esc': 27,\n        'escape': 27,\n        'tab': 9,\n        'space': 32,\n        'return': 13,\n        'enter': 13,\n        'backspace': 8,\n\n        'scrolllock': 145,\n        'scroll_lock': 145,\n        'scroll': 145,\n        'capslock': 20,\n        'caps_lock': 20,\n        'caps': 20,\n        'numlock': 144,\n        'num_lock': 144,\n        'num': 144,\n\n        'pause': 19,\n        'break': 19,\n\n        'insert': 45,\n        'home': 36,\n        'delete': 46,\n        'end': 35,\n\n        'pageup': 33,\n        'page_up': 33,\n        'pu': 33,\n\n        'pagedown': 34,\n        'page_down': 34,\n        'pd': 34,\n\n        'left': 37,\n        'up': 38,\n        'right': 39,\n        'down': 40,\n\n        'f1': 112,\n        'f2': 113,\n        'f3': 114,\n        'f4': 115,\n        'f5': 116,\n        'f6': 117,\n        'f7': 118,\n        'f8': 119,\n        'f9': 120,\n        'f10': 121,\n        'f11': 122,\n        'f12': 123\n    };\n\n    private modifiers = {\n        shift: { wanted: false, pressed: false },\n        ctrl: { wanted: false, pressed: false },\n        alt: { wanted: false, pressed: false },\n        meta: { wanted: false, pressed: false }\t//Meta is Mac specific\n    };\n\n    public eventCallback: Function;\n    public target: any;\n    public event: KeyboardEvent;\n    public option: ShortcutOption;\n    public shorcut: string;\n    public callback: Function;\n\n    public constructor(\n        element: any,\n        shorcutCombination: string,\n        option: ShortcutOption,\n        callback: (e?: JQueryEventObject) => void\n    ) {\n        \"ngInject\";\n\n        this.target = element;\n        this.shorcut = shorcutCombination;\n        this.event = option.Type;\n        this.option = option;\n        this.callback = callback;\n\n        this.eventCallback = (event: JQueryEventObject) => {\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\n            let code: number;\n\n            if (this.option.DisableInInput) { //Don't enable shortcut keys in Input, Textarea fields\n                let element;\n                if (e.target) {\n                    element = e.target;\n                } else if (e.srcElement) {\n                    element = e.srcElement;\n                }\n\n                if (element.nodeType == 3) {\n                    element = element.parentNode;\n                }\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\n            }\n            //Find Which key is pressed\n            if (e.keyCode) {\n                code = e.keyCode;\n            } else if (e.which) {\n                code = e.which;\n            }\n\n            let character = String.fromCharCode(code).toLowerCase();\n\n            if (code == 188) character = \",\"; //If the user presses , when the type is onkeydown\n            if (code == 190) character = \".\"; //If the user presses , when the type is onkeydown\n\n            let keys: string[] = this.shorcut.split(\"+\");\n            //Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\n            let kp: number = 0;\n\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\n\n            let i: number = 0;\n            for (i = 0; i < keys.length; i++) {\n                let k: string = keys[i];\n                //Modifiers\n                if (k == 'ctrl' || k == 'control') {\n                    kp++;\n                    this.modifiers.ctrl.wanted = true;\n                } else if (k == 'shift') {\n                    kp++;\n                    this.modifiers.shift.wanted = true;\n                } else if (k == 'alt') {\n                    kp++;\n                    this.modifiers.alt.wanted = true;\n                } else if (k == 'meta') {\n                    kp++;\n                    this.modifiers.meta.wanted = true;\n                } else if (k.length > 1) { //If it is a special key\n                    if (this.special_keys[k] == code) {\n                        kp++;\n                    }\n                } else if (this.option.Keycode) {\n                    if (this.option.Keycode == code) kp++;\n                } else { //The special keys did not match\n                    if (character == k) kp++;\n                    else {\n                        if (this.shift_nums[character] && e.shiftKey) { //Stupid Shift key bug created by using lowercase\n                            character = this.shift_nums[character];\n                            if (character == k) {\n                                kp++;\n                            }\n                        }\n                    }\n                }\n            }\n            \n            if (kp == keys.length &&\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\n\n                this.callback(e);\n\n                if (!this.option.Propagate) { //Stop the event\n                    //e.cancelBubble is supported by IE - this will kill the bubbling process.\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n\n                    //e.stopPropagation works in Firefox.\n                    if (e.stopPropagation) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                    }\n\n                    return false;\n                }\n            }\n            this.modifiers.ctrl.pressed = false;\n            this.modifiers.shift.pressed = false;\n            this.modifiers.alt.pressed = false;\n            this.modifiers.meta.pressed = false;\n        };\n    }\n}\n","'use strict';\n\nimport  {\n    KeyboardShortcut,\n    ShortcutOption,\n    KeyboardEvent\n} from \"./KeyboardShortcut\";\n\nexport interface IKeyboardShortcuts {\n    [key: string]: KeyboardShortcut\n}\n\nexport interface IShortcutsRegisterService {\n    add(shorcutName: string, callback: () => void, options: ShortcutOption): void;\n    remove(shorcutName: string): void;\n\n    shorcuts: IKeyboardShortcuts\n}\n\nexport interface IShortcutsRegisterProvider extends ng.IServiceProvider {\n    option: ShortcutOption;\n}\n\nexport class ShortcutsRegister implements IShortcutsRegisterService {\n    private _log: ng.ILogService;\n    private _defaultOption: ShortcutOption;\n    private _shortcuts: IKeyboardShortcuts;\n\n    public constructor(\n        $log: ng.ILogService,\n        option: ShortcutOption\n    ) {\n        \"ngInject\";\n        this._log = $log;\n        this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\n\n        this._shortcuts = {};\n    }\n\n    private getDefaultOption(): ShortcutOption {\n        let defaultOption: ShortcutOption = {\n            Type: KeyboardEvent.Keydown,\n            Propagate: false,\n            DisableInInput: false,\n            Target: document,\n            Keycode: null\n        };\n\n        return defaultOption;\n    }\n\n    private checkAddShortcut(element: any, shorcutCombination: string, callback: (e: JQueryEventObject) => void): boolean {\n        if (!element) {\n            this._log.error('Register shortcut: element undentified!');\n\n            return false;\n        }\n\n        if (!shorcutCombination) {\n            this._log.error('Register shortcut: shorcut combination undentified!');\n\n            return false;\n        }\n\n        if (!callback) {\n            this._log.error('Register shortcut: shorcut callback undentified!');\n\n            return false;\n        }\n\n        return true;\n    }\n\n    public get shorcuts(): IKeyboardShortcuts {\n        return this._shortcuts;\n    }\n\n    public add(shorcutName: string, callback: (e: JQueryEventObject) => void, option: ShortcutOption): void {\n        this.remove(shorcutName);\n        let shorcutOption: ShortcutOption = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\n        let shorcutCombination: string = shorcutName.toLowerCase();\n        let element = shorcutOption.Target;\n\n\n        if (typeof shorcutOption.Target == 'string') {\n            element = document.getElementById(shorcutOption.Target);\n        } else {\n            element = shorcutOption.Target;\n        }\n\n        if (!this.checkAddShortcut(element, shorcutCombination, callback)) {\n            \n            return\n        }\n\n        let newKeyboardShortcut = new KeyboardShortcut(element, shorcutCombination, shorcutOption, callback);\n\n\t\tthis._shortcuts[shorcutCombination] = newKeyboardShortcut;\n\n\t\t//Attach the function with the event\n\t\tif (element.addEventListener) { \n            element.addEventListener(shorcutOption.Type, newKeyboardShortcut.eventCallback, false);\n        } else if (element.attachEvent) { \n            element.attachEvent('on' + shorcutOption.Type, newKeyboardShortcut.eventCallback);\n        } else { \n            element.on(shorcutOption.Type, newKeyboardShortcut.eventCallback); \n        }\n    }\n\n    public remove(shorcutName: string): void {\n\t\tlet shortcutCombination = shorcutName.toLowerCase();\n\t\tlet binding: KeyboardShortcut = this._shortcuts[shortcutCombination];\n\n\t\tdelete(this._shortcuts[shortcutCombination])\n\t\tif (!binding) return;\n\n\t\tlet type = binding.event;\n\t\tlet element = binding.target;\n\t\tlet callback = binding.eventCallback;\n\n\t\tif (element.detachEvent) {\n            element.detachEvent('on' + type, callback);\n        } else if (element.removeEventListener) { \n            element.removeEventListener(type, callback, false);\n        } else { \n            // element['on' + type] = false;\n            element.off(type, callback);\n        }\n    }\n}\n\n\n\nclass ShortcutsRegisterProvider implements IShortcutsRegisterProvider {\n    private _service: ShortcutsRegister;\n    private _option: ShortcutOption;\n\n    public get option(): ShortcutOption {\n        return this._option;\n    }\n\n    public set option(value: ShortcutOption) {\n        this._option = value || new ShortcutOption();\n    }\n\n    public $get(\n        $log: ng.ILogService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShortcutsRegister($log, this._option);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipShortcuts')\n    .provider('pipShortcutsRegister', ShortcutsRegisterProvider);\n","'use strict';\n\nimport  {\n    ShortcutOption,\n} from \"./KeyboardShortcut\";\n\nimport  {\n    IShortcutsRegisterService,\n} from \"./ShorcutsRegisterService\";\n\n\n    // thisModule.directive('pipSelected', function ($parse, $mdConstant, $timeout) {\n    //     return {\n    //         restrict: 'A',\n    //         scope: false,\n\nclass ShortcutController {\n    private _log: ng.ILogService;\n\n    private actionShortcuts: Function;\n    private nameShortcuts: string;\n    private options: ShortcutOption;\n\n    constructor(\n        $element: any,\n        $attrs: any,\n        $scope: ng.IScope,\n        $log: ng.ILogService,\n        $parse: any,\n        pipShortcutsRegister: IShortcutsRegisterService\n    ) {\n        \"ngInject\";\n        this._log = $log;\n\n        if ($attrs.pipShortcutAction) {\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\n            let a1 = $attrs.pipShortcutAction;\n            this.actionShortcuts($scope, {$event: {}});\n        } else {\n            this._log.error('Shorcunt action does not set.');\n\n            return\n        }\n\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\n            this.nameShortcuts = $attrs.pipShortcutName;\n        } else {\n            this._log.error('Shorcunt name does not set.');\n\n            return\n        }\n\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOption>$attrs.pipShorcutOptions : <ShortcutOption>{};\n        this.options.Target = $element;\n        // regester keyboard shortcut\n        pipShortcutsRegister.add(this.nameShortcuts, (e?: any) => {\n            this.actionShortcuts($scope, {$event: {'e': e}});          \n        }, this.options);\n    }\n\n    private keypressShortcut(action) {\n        this.actionShortcuts();\n    }\n}\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function shortcutsDirective($parse) {\n        return {\n            restrict: 'A',\n            scope: false,            \n            controller: ShortcutController\n        };\n    }\n\n    angular\n        .module('pipShortcuts')\n        .directive('pipShortcut', shortcutsDirective);\n})();","'use strict';\n\n\nimport {\n    ShortcutsRegister\n} from \"./ShorcutsRegisterService\"\nimport  {\n    KeyboardShortcut,\n    ShortcutOption,\n    KeyboardEvent\n} from \"./KeyboardShortcut\";\n\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\n\nexport class ShortcutItem {\n    // Shortcut combination\n    public shortcut: string;\n    // target object \n    public target?: any;\n    // target element by Id\n    public targetId?: string;\n    // // target element by class (firstelement??)\n    // public targetClass?: string;\n    // Access function\n    public access?: (event: JQueryEventObject) => boolean;\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public keypress?: (event: JQueryEventObject) => void;\n    // default options\n    public options?: ShortcutOption;    \n}\n\n// export class ShortcutItem extends SimpleShortcutItem {\n//     public shortcuts: SimpleShortcutItem[];\n// }\n\nexport class ShortcutsConfig {\n    // Global shortcut \n    public globalShortcuts: ShortcutItem[] = [];\n    // Local shortcut \n    public localShortcuts: ShortcutItem[] = [];\n    // default options\n    public defaultOptions: ShortcutOption = null;\n}\n\nexport interface IShortcutsService {\n    readonly config: ShortcutsConfig;\n\n    globalShortcuts: ShortcutItem[];\n    localShortcuts: ShortcutItem[];\n\n    on(globalShortcuts?: ShortcutItem[], localShortcuts?: ShortcutItem[]): void;\n    onLocal(localShortcuts?: ShortcutItem[]): void;\n    off(): void;\n}\n\nexport interface IShortcutsProvider extends ng.IServiceProvider {\n    config: ShortcutsConfig;\n    \n    globalShortcuts: ShortcutItem[];\n    localShortcuts: ShortcutItem[];\n    defaultOptions: ShortcutOption;\n}\n\nclass ShortcutsService implements IShortcutsService {\n    private _config: ShortcutsConfig;\n    private _oldConfig: ShortcutsConfig;\n    private _rootScope: ng.IRootScopeService;\n    private _window: ng.IWindowService;\n    private _location: ng.ILocationService;\n    private _injector: ng.auto.IInjectorService;    \n    private _pipShortcutsRegister: ShortcutsRegister;\n\n    public constructor(\n        config: ShortcutsConfig,\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService, \n        $location: ng.ILocationService, \n        $injector: ng.auto.IInjectorService,\n        pipShortcutsRegister: ShortcutsRegister\n    ) {\n        this._config = config;\n        this._oldConfig = _.cloneDeep(this._config);\n        this._rootScope = $rootScope;\n        this._window = $window;\n        this._location = $location;\n        this._injector = $injector;    \n        this._pipShortcutsRegister = pipShortcutsRegister;\n\n        // add shortcuts\n        this.addShortcuts(this._config.globalShortcuts);\n        this.addShortcuts(this._config.localShortcuts);        \n    }\n\n    // private declaration \n    private sendChangeEvent() {\n        // remove shortcuts\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\n        this.removeShortcuts(this._oldConfig.localShortcuts);\n        // add shortcuts\n        this.addShortcuts(this._config.globalShortcuts);\n        this.addShortcuts(this._config.localShortcuts);\n\n        this._rootScope.$emit(ShortcutsChangedEvent, this._config);\n        // save current config to oldConfig\n        this._oldConfig = _.cloneDeep(this._config);\n    }\n\n    private removeShortcuts(collection: ShortcutItem[]): void {\n        _.each(collection, (k) => {\n            this._pipShortcutsRegister.remove(k.shortcut);\n        });\n    }\n\n    private keypressShortcut(shorcut: ShortcutItem, event: JQueryEventObject) {\n        if (shorcut.access && _.isFunction(shorcut.access)) {\n            if (!shorcut.access(event)) {\n                return;\n            }\n        } \n\n        if (shorcut.keypress) {\n            shorcut.keypress(event);\n            return;\n        }\n\n        if (shorcut.href) {\n            this._window.location.href = shorcut.href;\n            return;\n        }\n\n        if (shorcut.url) {\n            this._location.url(shorcut.url);\n            return;\n        }\n\n        if (shorcut.state) {\n            if (this._injector.has('$state')) {\n                var $state = this._injector.get('$state');\n                $state['go'](shorcut.state, shorcut.stateParams);\n            }\n            return;\n        }\n\n        if (shorcut.event) {\n            this._rootScope.$broadcast(shorcut.event);\n        } else {\n            // Otherwise raise notification\n            this._rootScope.$broadcast('pipShortcutKeypress', shorcut.shortcut);\n        }\n    }\n\n    private addShortcuts(collection: ShortcutItem[]): void {\n        let generalOptions: ShortcutOption = this._config.defaultOptions ? this._config.defaultOptions : <ShortcutOption>{};\n        \n        _.each(collection, (k) => {\n            let option: ShortcutOption = k.options ? k.options : generalOptions;\n            let target: any;\n\n            target = k.target ? k.target : k.targetId;\n            option.Target = target;\n            // regester keyboard shortcut\n            this._pipShortcutsRegister.add(k.shortcut, (e?: any) => {\n                this.keypressShortcut(k, e);        \n            }, option);              \n        });\n    }\n\n    // public declaration \n\n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public get defaultOptions(): ShortcutOption {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOption) {\n        this._config.defaultOptions = value || null;\n        this.sendChangeEvent();\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get localShortcuts(): ShortcutItem[] {\n        return this._config.localShortcuts;\n    }\n\n    public set localShortcuts(value: ShortcutItem[]) {\n        this._config.localShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n\n    public on(globalShortcuts?: ShortcutItem[], localShortcuts?: ShortcutItem[]): void {\n        if (globalShortcuts && _.isArray(globalShortcuts)) {\n            this._config.globalShortcuts = globalShortcuts;    \n        }\n        if (localShortcuts && _.isArray(localShortcuts)) {\n            this._config.localShortcuts = localShortcuts;    \n        }        \n\n        this.sendChangeEvent();\n    }\n\n    public onLocal(localShortcuts?: ShortcutItem[]): void {\n        if (localShortcuts && _.isArray(localShortcuts)) {\n            this._config.localShortcuts = localShortcuts;    \n        }        \n\n        this.sendChangeEvent();\n    }\n\n    public off(): void {\n        this._config.globalShortcuts = [];\n        this._config.localShortcuts = [];\n        this.sendChangeEvent();\n    }\n}\n\nclass ShortcutsProvider implements IShortcutsProvider {\n    private _config: ShortcutsConfig = new ShortcutsConfig();\n    private _service: ShortcutsService;\n\n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public set config(value: ShortcutsConfig) {\n        this._config = value || new ShortcutsConfig();\n    }\n\n    public get defaultOptions(): ShortcutOption {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOption) {\n        this._config.defaultOptions = value || null;\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n    }\n\n    public get localShortcuts(): ShortcutItem[] {\n        return this._config.localShortcuts;\n    }\n\n    public set localShortcuts(value: ShortcutItem[]) {\n        this._config.localShortcuts = value || [];\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService, \n        $window: ng.IWindowService, \n        $location: ng.ILocationService, \n        $injector: ng.auto.IInjectorService,\n        pipShortcutsRegister: ShortcutsRegister\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutsRegister);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipShortcuts')\n    .provider('pipShortcuts', ShortcutsProvider);\n\n","'use strict';\n\nangular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\n\nimport './ShorcutsRegisterService';\nimport './ShortcutsService';\nimport './ShortcutDirective';\n\nexport * from './ShortcutsService';\nexport * from './ShorcutsRegisterService';","/**\n * @file Keyboard navigation with scrolling over non-focusable controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipSelected\", []);\n\n    thisModule.directive('pipSelected', function ($parse, $mdConstant, $timeout) {\n        return {\n            restrict: 'A',\n            scope: false,\n            link: function ($scope: any, $element, $attrs: any) {\n                var\n                    indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null,\n                    indexSetter = indexGetter ? indexGetter.assign : null,\n                    idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null,\n                    idSetter = idGetter ? idGetter.assign : null,\n                    changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null,\n                    enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null,\n                    noScroll = toBoolean($attrs.pipNoScroll),\n                    modifier = toBoolean($attrs.pipSkipHidden) ? ':visible' : '',\n                    className = toBoolean($attrs.pipTreeList) ? '.pip-selectable-tree' : '.pip-selectable',\n                    selectedIndex = indexGetter($scope),\n                    currentElementTabinex = $element.attr('tabindex'),\n                    pipSelectedWatch = $attrs.pipSelectedWatch,\n                    isScrolled = false;\n\n                // variables for touch    \n                var touchStartX, touchStartY, trackingClick, trackingClickStart, targetElement, lastClickTime, cancelNextClick;\n                // constant for touch\n                var touchBoundary = 10,\n                    tapdelay = 200,\n                    tapTimeout = 700;\n\n                // Set tabindex if it's not set yet\n                $element.attr('tabindex', currentElementTabinex || 0);\n                \n                $element.on('click', className, onClickEvent);\n                $element.on('touchstart', className, onTouchStart);\n                $element.on('touchmove', className, onTouchMove);\n                $element.on('touchend', className, onTouchEnd);\n                $element.on('touchcancel', className, onTouchCancel);\n                $element.on('keydown', onKeyDown);\n                $element.on('focusin', onFocusIn);\n                $element.on('focusout', onFocusOut);\n\n                // Watch selected item index\n                if (!toBoolean($attrs.pipTreeList)) {\n                    $scope.$watch(indexGetter, function (newSelectedIndex) {\n                        selectItem({ itemIndex: newSelectedIndex });\n                    });\n                } else {\n                    $scope.$watch(idGetter, function (newSelectedId) {\n                        setTimeout(function () {\n                            selectItem({ itemId: newSelectedId, raiseEvent: true });\n                        }, 0);\n                    });\n                }\n\n                // Watch resync selection\n                if (pipSelectedWatch) {\n                    $scope.$watch(pipSelectedWatch, function () {\n                        // Delay update to allow ng-repeat to update DOM\n                        setTimeout(function () {\n                            selectedIndex = indexGetter($scope);\n                            selectItem({ itemIndex: selectedIndex });\n                        }, 100);\n                    });\n                }\n\n                // Select item defined by index\n                selectItem({ itemIndex: selectedIndex, items: $element.find(className) });\n\n                // Converts value into boolean\n                function toBoolean(value) {\n                    if (value == null) return false;\n                    if (!value) return false;\n                    value = value.toString().toLowerCase();\n                    return value == '1' || value == 'true';\n                };\n\n                // Functions and listeners\n                function selectItem(itemParams) {\n                    if (isScrolled) return;\n                    var itemIndex = itemParams.itemIndex,\n                        itemId = itemParams.itemId,\n                        items = itemParams.items || $element.find(className + modifier),\n                        itemsLength = items.length,\n                        item = (function () {\n                            if (itemParams.item) return itemParams.item;\n                            if (itemIndex === undefined && itemIndex === -1) {\n                                itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\n                            }\n                            if (itemIndex >= 0 && itemIndex < itemsLength) {\n                                return items[itemIndex]\n                            }\n                        } ()),\n                        raiseEvent = itemParams.raiseEvent;\n\n                    if (item) {\n                        $element.find(className).removeClass('selected md-focused');\n                        item = angular.element(item)\n                            .addClass('selected md-focused')\n                            .focus(); // todo   ,   \n                        if (!noScroll) scrollToItem(item);\n                        if (raiseEvent) defineSelectedIndex(items);\n                    }\n                };\n\n                function defineSelectedIndex(items) {\n                    var oldSelectedIndex = selectedIndex;\n                    selectedIndex = -1;\n                    for (var index = 0; index < items.length; index++) {\n                        if ($(items[index]).hasClass('selected')) {\n                            selectedIndex = index;\n\n                            break;\n                        }\n                    }\n\n                    // Execute callback to notify about item select\n                    if (oldSelectedIndex != selectedIndex && selectedIndex !== -1) {\n                        $scope.$apply(updateIndex);\n                    } else {\n                        $scope.$apply(onSelect);\n                    }\n\n                    function updateIndex() {\n                        var selectedItem = angular.element(items[selectedIndex]),\n                            selectedId = selectedItem.attr('pip-id');\n\n                        if (indexSetter) indexSetter($scope, selectedIndex);\n                        if (idSetter) idSetter($scope, selectedId);\n                        onSelect();\n                    };\n\n                    function onSelect() {\n                        var selectedItem = angular.element(items[selectedIndex]),\n                            selectedId = selectedItem.attr('pip-id');\n\n                        if (changeGetter) {\n                            changeGetter($scope, {\n                                $event: {\n                                    target: $element,\n                                    item: selectedItem,\n                                    index: selectedIndex,\n                                    id: selectedId,\n                                    newIndex: selectedIndex,\n                                    oldIndex: oldSelectedIndex\n                                }\n                            });\n                        }\n                    }\n                };\n\n                function scrollToItem($item) {\n                    if (noScroll) return;\n\n                    var\n                        containerTop = $element.offset().top,\n                        containerHeight = $element.height(),\n                        containerBottom = containerTop + containerHeight,\n                        itemTop = $item.offset().top,\n                        itemHeight = $item.outerHeight(true),\n                        itemBottom = itemTop + itemHeight,\n                        containerScrollTop = $element.scrollTop();\n\n                    isScrolled = true;\n                    setTimeout(function () {\n                        isScrolled = false;\n                    }, 100);\n\n                    if (containerTop > itemTop) {\n                        $element.scrollTop(containerScrollTop + itemTop - containerTop);\n                    }\n                    else if (containerBottom < itemBottom) {\n                        $element.scrollTop(containerScrollTop + itemBottom - containerBottom);\n                    }\n\n                };\n\n                function getTargetElementFromEventTarget(eventTarget) {\n                    // On some older browsers the event target may be a text node.\n                    if (eventTarget.nodeType === Node.TEXT_NODE) {\n                        return eventTarget.parentNode;\n                    }\n\n                    return eventTarget;\n                };\n\n                function touchHasMoved(event) {\n                    var touch = event.changedTouches[0], boundary = touchBoundary; //Touchmove boundary, beyond which a click will be cancelled.\n\n                    if (Math.abs(touch.pageX - touchStartX) > boundary || Math.abs(touch.pageY - touchStartY) > boundary) {\n                        return true;\n                    }\n\n                    return false;\n                };\n\n                function onClickEvent(event) {\n                    selectItem({ item: event.currentTarget, raiseEvent: true });\n                }\n\n                function onTouchStart(ev) {\n                    //ev.preventDefault();\n\n                    let event = ev.originalEvent;\n                    if (event['targetTouches'].length > 1) {\n                        return true;\n                    }\n                    let targetElement = getTargetElementFromEventTarget(event.target);\n                    let touch = event['targetTouches'][0];\n\n                    trackingClick = true;\n                    trackingClickStart = event.timeStamp;\n                    targetElement = targetElement;\n\n                    touchStartX = touch.pageX;\n                    touchStartY = touch.pageY;\n\n                    if ((event.timeStamp - lastClickTime) < tapdelay) {\n                      //  event.preventDefault();\n                    }\n\n                    return true;\n                }\n\n                function onTouchMove(ev) {\n                    if (!trackingClick) {\n                        return true;\n                    }\n                    let event = ev.originalEvent;\n                    // If the touch has moved, cancel the click tracking\n                    if (targetElement !== getTargetElementFromEventTarget(event.target) || touchHasMoved(event)) {\n                        trackingClick = false;\n                        targetElement = null;\n                    }\n\n                    return true;\n                }\n\n                function onTouchEnd(ev) {\n                    var forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = targetElement;\n\n                    if (!trackingClick) {\n                        return true;\n                    }\n                    event = ev.originalEvent;\n                    // Prevent phantom clicks on fast double-tap \n                    if ((event.timeStamp - lastClickTime) < tapdelay) {\n                        cancelNextClick = true;\n                        return true;\n                    }\n\n                    if ((event.timeStamp - trackingClickStart) > tapTimeout) {\n                        return true;\n                    }\n\n                    // Reset to prevent wrong click cancel on input \n                    cancelNextClick = false;\n\n                    lastClickTime = event.timeStamp;\n\n                    newTrackingClickStart = trackingClickStart;\n                    trackingClick = false;\n                    trackingClickStart = 0;\n\n                    selectItem({ item: ev.currentTarget, raiseEvent: true });\n\n                    return false;\n                }\n\n                function onTouchCancel(ev) {\n                    trackingClick = false;\n                    targetElement = null;\n                }\n\n                function onKeyDown(e) {\n                    var keyCode = e.which || e.keyCode;\n\n                    // Check control keyCode\n                    if (keyCode == $mdConstant.KEY_CODE.ENTER || keyCode == $mdConstant.KEY_CODE.SPACE) {\n                        e.preventDefault();\n                        e.stopPropagation();\n\n                        if (enterSpaceGetter) {\n                            enterSpaceGetter($scope, {\n                                $event: {\n                                    target: $element,\n                                    index: selectedIndex,\n                                    item: $element.find('.selected')\n                                }\n                            });\n                        }\n\n                    } else\n                        if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW || keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\n                            keyCode == $mdConstant.KEY_CODE.UP_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\n\n                            e.preventDefault();\n                            e.stopPropagation();\n\n                            // Get next selectable control index\n                            var items = $element.find(className + modifier),\n                                inc = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                                newSelectedIndex = selectedIndex + inc;\n\n                            // Set next control as selected\n                            selectItem({ itemIndex: newSelectedIndex, items: items, raiseEvent: true });\n                        }\n                }\n\n                function onFocusIn(event) {\n                    // Choose selected element\n                    var items,\n                        selectedItem = $element.find(className + '.selected');\n\n                    selectedItem.addClass('md-focused');\n\n                    // If there are not selected elements then pick the first one\n                    if (selectedItem.length === 0) {\n                        selectedIndex = indexGetter($scope);\n                        items = $element.find(className + modifier);\n                        selectItem({ itemIndex: selectedIndex || 0, items: items, raiseEvent: true });\n                    }\n                }\n\n                function onFocusOut(event) {\n                    $element.find(className + '.md-focused' + modifier).removeClass('md-focused');\n                }\n            }\n        };\n    });\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function(){\n    'use strict';\n\n    var thisModule = angular.module(\"pipUnsavedChanges\", []);\n\n    thisModule.directive(\"pipUnsavedChanges\", function ($window, $rootScope) {\n        return {\n            restrict: 'AE',\n            scope: {\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\n                afterLeave: '&pipUnsavedChangesAfterLeave',\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\n            },\n            link: function($scope: any) {\n\n                $window.onbeforeunload = function() {\n                    if ($scope.unsavedChangesAvailable()) {\n                        $rootScope.$routing = false;\n                        return $scope.unsavedChangesMessage;\n                    }\n                };\n\n                var unbindFunc = $scope.$on('$stateChangeStart', function(event) {\n                    if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\n                        $rootScope.$routing = false;\n                         _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\n                        event.preventDefault();\n                    } else {\n                        _.isFunction($scope.afterLeave) && $scope.afterLeave();\n                    }\n                });\n\n                $scope.$on('$destroy', function() {\n                    $window.onbeforeunload = null;\n                    unbindFunc();\n                });\n            }\n        };\n    });\n\n})();\n\n","export interface IColorPicker {\n    class: string;\n    colors: string[];\n    currentColor: string;\n    currentColorIndex: number;\n    ngDisabled: Function;\n    colorChange: Function;\n\n    enterSpacePress(event): void;\n    disabled(): boolean;\n    selectColor(index: number);\n}\n\nconst DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\nexport class ColorPickerController implements IColorPicker {\n\n    private _$timeout;\n    private _$scope: ng.IScope;\n\n    public class: string;\n    public colors: string[];\n    public currentColor: string;\n    public currentColorIndex: number;\n    public ngDisabled: Function;\n    public colorChange: Function;\n\n    constructor(\n        $scope: ng.IScope,\n        $element,\n        $attrs,\n        $timeout) {\n        this._$timeout = $timeout;\n        this._$scope = $scope;\n\n        this.class = $attrs.class || '';\n        this.colors = !$scope['vm']['colors'] || \n                _.isArray($scope['vm']['colors']) && $scope['vm']['colors'].length === 0 ? DEFAULT_COLORS : $scope['vm']['colors'];\n        this.colorChange = $scope['vm']['colorChange'] || null;\n        this.currentColor = $scope['vm']['currentColor'] || this.colors[0];\n        this.currentColorIndex = this.colors.indexOf(this.currentColor);\n        this.ngDisabled = $scope['vm']['ngDisabled'] || false;\n    }\n\n    public $onChanges(changes: any) {\n        this.colors = _.isArray(changes['colors'].currentValue) && changes['colors'].currentValue.length !== 0 ? \n            changes['colors'].currentValue : DEFAULT_COLORS;\n        this.currentColor = changes['currentColor'].currentValue || this.colors[0];\n    }\n\n    public disabled(): boolean {\n        if (this.ngDisabled) {\n            return true;\n        }\n\n        return false;\n    };\n\n    public selectColor(index: number) {\n        if (this.disabled()) {\n            return;\n        }\n        this.currentColorIndex = index;\n        this.currentColor = this.colors[this.currentColorIndex];\n        this._$timeout(() => {\n            this._$scope.$apply();\n        });\n\n        if (this.colorChange) {\n            this.colorChange();\n        }\n    };\n\n    public enterSpacePress(event): void {\n        this.selectColor(event.index);\n    };\n\n}\n\nconst pipColorPicker = {\n    bindings: {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '<?ngChange'\n    },\n    templateUrl: 'color_picker/color_picker.html',\n    controller: ColorPickerController,\n    controllerAs: 'vm'\n}\n\nangular\n    .module('pipColorPicker', ['pipControls.Templates'])\n    .component('pipColorPicker', pipColorPicker);","/// <reference path=\"../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipControls', [\n        'pipMarkdown',\n        'pipColorPicker',\n        'pipRoutingProgress',\n        'pipPopover',\n        'pipImageSlider',\n        'pipToasts',\n        'pipControls.Translate'\n    ]);\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass pipImageSliderController{\n\n    private _$attrs;\n    private _$interval: angular.IIntervalService;\n    private _$scope: angular.IScope;\n\n    private _blocks: any[];\n    private _index: number = 0;\n    private _newIndex: number;\n    private _direction: string;\n    private _type: any;\n    private DEFAULT_INTERVAL = 4500;\n    private _interval;\n    private _timePromises;\n    private _throttled: Function;\n\n    public swipeStart: number = 0;\n    public sliderIndex: number;\n    public slideTo: Function;\n\n    constructor(\n        $scope: ng.IScope, \n        $element, \n        $attrs, \n        $parse: ng.IParseService, \n        $timeout: angular.ITimeoutService,\n        $interval: angular.IIntervalService, \n        pipImageSlider) {\n\n        this.sliderIndex = $scope['vm']['sliderIndex'];\n        this._type = $scope['vm']['type']();\n        this._interval = $scope['vm']['interval']();\n        this._$attrs = $attrs;\n        this._$interval = $interval;\n        this._$scope = $scope;\n        $scope['slideTo'] = this.slideToPrivate;\n\n        $element.addClass('pip-image-slider');\n        $element.addClass('pip-animation-' + this._type);\n        \n        this.setIndex();\n\n        $timeout(() => {\n            this._blocks = $element.find('.pip-animation-block');\n            if (this._blocks.length > 0) {\n                $(this._blocks[0]).addClass('pip-show');\n            }\n        });\n\n        this.startInterval();\n\n        this._throttled = _.throttle(() => {\n            pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n            this._index = this._newIndex;\n            this.setIndex();\n        }, 700);\n        \n        if ($attrs.id) { pipImageSlider.registerSlider($attrs.id, $scope) }\n\n        $element.on('$destroy', () => {\n            this.stopInterval();\n            pipImageSlider.removeSlider($attrs.id);\n        });\n\n    }\n\n    public nextBlock() {\n        this.restartInterval();\n        this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n        this._direction = 'next';\n        this._throttled();\n    }\n\n    public prevBlock() {\n        this.restartInterval();\n        this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n        this._direction = 'prev';\n        this._throttled();\n    }\n\n    private slideToPrivate(nextIndex: number) {\n        if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n            return;\n        }\n\n        this.restartInterval();\n        this._newIndex = nextIndex;\n        this._direction = nextIndex > this._index ? 'next' : 'prev';\n        this._throttled();\n    }\n\n    private setIndex() {\n        if (this._$attrs.pipImageIndex) this.sliderIndex = this._index;\n    }\n\n    private startInterval() {\n        this._timePromises = this._$interval(() => {\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }, this._interval || this.DEFAULT_INTERVAL);\n    }\n\n    private stopInterval() {\n        this._$interval.cancel(this._timePromises);\n    }\n\n    private restartInterval() {\n        this.stopInterval();\n        this.startInterval();\n    }\n}\n\n(() => {\n\n    function pipImageSlider() {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n\n    angular\n        .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service'])\n        .directive('pipImageSlider', pipImageSlider);\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ninterface IImageSliderService {\n    registerSlider(sliderId: string, sliderScope): void;\n    removeSlider(sliderId: string): void;\n    getSliderScope(sliderId: string);\n    nextCarousel(nextBlock, prevBlock): void;\n    prevCarousel(nextBlock, prevBlock): void;\n    toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void;\n}\n\nclass ImageSliderService {\n    private _$timeout: angular.ITimeoutService;\n    private ANIMATION_DURATION: number = 550;\n    private _sliders = {};\n\n    constructor($timeout: angular.ITimeoutService) {\n        this._$timeout = $timeout;\n    }\n\n    public registerSlider(sliderId: string, sliderScope): void {\n        this._sliders[sliderId] = sliderScope;\n    }\n            \n    public removeSlider(sliderId: string): void {\n        delete this._sliders[sliderId];\n    }\n\n    public getSliderScope(sliderId: string) {\n        return this._sliders[sliderId];\n    }\n\n    public nextCarousel(nextBlock, prevBlock): void {\n        nextBlock.addClass('pip-next');\n                \n        this._$timeout(() => {\n            nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n            prevBlock.addClass('animated').removeClass('pip-show');\n        }, 100);\n    }\n\n    public prevCarousel(nextBlock, prevBlock): void {\n        this._$timeout(() => {\n            nextBlock.addClass('animated').addClass('pip-show');\n            prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n        }, 100);\n    }\n\n    public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n        let prevBlock = $(blocks[oldIndex]),\n            blockIndex: number = nextIndex,\n            nextBlock = $(blocks[blockIndex]);\n\n        if (type === 'carousel') {\n            $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n            if (direction && (direction === 'prev' || direction === 'next')) {\n                if (direction === 'prev') {\n                    this.prevCarousel(nextBlock, prevBlock);\n                } else {\n                    this.nextCarousel(nextBlock, prevBlock);\n                }\n            } else {\n                if (nextIndex && nextIndex < oldIndex) {\n                    this.prevCarousel(nextBlock, prevBlock);\n                } else {\n                    this.nextCarousel(nextBlock, prevBlock);\n                }\n            }\n        } else {\n            prevBlock.addClass('animated').removeClass('pip-show');\n            nextBlock.addClass('animated').addClass('pip-show');\n        }\n    }\n\n}\n\n\n(() => {\n    'use strict';\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderButton', []);\n\n    thisModule.directive('pipSliderButton',\n        function () {\n            return {\n                scope: {},\n                controller: function ($scope, $element, $parse, $attrs, pipImageSlider) {\n                    var type = $parse($attrs.pipButtonType)($scope),\n                        sliderId = $parse($attrs.pipSliderId)($scope);\n\n                    $element.on('click', () => {\n                        if (!sliderId || !type) {\n                            return;\n                        }\n\n                        pipImageSlider.getSliderScope(sliderId).vm[type + 'Block']();\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderIndicator', []);\n\n    thisModule.directive('pipSliderIndicator',\n        function () {\n            return {\n                scope: false,\n                controller: ($scope, $element, $parse, $attrs, pipImageSlider) => {\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\n\n                    $element.css('cursor', 'pointer');\n                    $element.on('click',  () => {\n                        if (!sliderId || slideTo && slideTo < 0) {\n                            return;\n                        }\n                        pipImageSlider.getSliderScope(sliderId).vm.slideToPrivate(slideTo);\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ndeclare var marked: any;\n\nfunction Config($injector) {\n    const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n    if (pipTranslate) {\n        pipTranslate.setTranslations('en', {\n            'MARKDOWN_ATTACHMENTS': 'Attachments:',\n            'checklist': 'Checklist',\n            'documents': 'Documents',\n            'pictures': 'Pictures',\n            'location': 'Location',\n            'time': 'Time'\n        });\n        pipTranslate.setTranslations('ru', {\n            'MARKDOWN_ATTACHMENTS': ':',\n            'checklist': '',\n            'documents': '',\n            'pictures': '',\n            'location': '',\n            'time': ''\n        });\n    }\n}\n\nclass MarkdownController {\n    private _pipTranslate;\n    private _$parse: angular.IParseService;\n    private _$scope: angular.IScope;\n    private _$injector;\n    private _$element;\n    private _$attrs;\n    private _text;\n    private _isList;\n    private _clamp;\n    private _rebind;\n\n    constructor(\n        $scope: angular.IScope,\n        $parse: angular.IParseService,\n        $attrs,\n        $element,\n        $injector\n    ) {\n        this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        this._$parse = $parse;\n        this._$scope = $scope;\n        this._$injector = $injector;\n        this._$element = $element;\n        this._$attrs = $attrs;\n        this._text = $scope['$ctrl']['text'];\n        this._isList = $scope['$ctrl']['isList'];\n        this._clamp = $scope['$ctrl']['clamp'];\n        this._rebind = $scope['$ctrl']['rebind'];\n    }\n\n    public $postLink() {\n        // Fill the text\n        this.bindText(this._text);\n\n        this._$scope.$on('pipWindowResized', function () {\n            if (this.bindText) this.bindText(this._text(this._$scope));\n        });\n\n        // Add class\n        this._$element.addClass('pip-markdown');\n\n    }\n\n    public $onChanges(changes: any) {\n        const newText = changes['text'].currentValue;\n\n        if (this._rebind) {\n            if (this._text !== newText) {\n                this._text = newText;\n                this.bindText(this._text);\n            }\n        }\n    }\n\n    private describeAttachments(array) {\n        var attachString = '',\n            attachTypes = [];\n\n        _.each(array, function (attach) {\n            if (attach.type && attach.type !== 'text') {\n                if (attachString.length === 0 && this._pipTranslate) {\n                    attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                }\n\n                if (attachTypes.indexOf(attach.type) < 0) {\n                    attachTypes.push(attach.type);\n                    attachString += attachTypes.length > 1 ? ', ' : ' ';\n                    if (this._pipTranslate)\n                        attachString += this._pipTranslate.translate(attach.type);\n                }\n            }\n        });\n\n        return attachString;\n    }\n\n    private bindText(value) {\n        var textString, isClamped, height, options, obj;\n\n        if (_.isArray(value)) {\n            obj = _.find(value, function (item: any) {\n                return item.type === 'text' && item.text;\n            });\n\n            textString = obj ? obj.text : this.describeAttachments(value);\n        } else {\n            textString = value;\n        }\n\n        isClamped = this._$attrs.pipLineCount && _.isNumber(this._clamp);\n        isClamped = isClamped && textString && textString.length > 0;\n        options = {\n            gfm: true,\n            tables: true,\n            breaks: true,\n            sanitize: true,\n            pedantic: true,\n            smartLists: true,\n            smartypents: false\n        };\n        textString = marked(textString || '', options);\n        if (isClamped) {\n            height = 1.5 * this._clamp;\n        } \n        // Assign value as HTML\n        this._$element.html('<div' + (isClamped ? this._isList ? 'class=\"pip-markdown-content ' +\n            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n            ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this._isList ?\n            ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n        this._$element.find('a').attr('target', 'blank');\n        if (!this._isList && isClamped) {\n            this._$element.append('<div class=\"pip-gradient-block\"></div>');\n        }\n    }\n}\n\n(function () {\n    'use strict';\n\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: {\n            text: '<pipText',\n            isList: '<?pipList',\n            clamp: '<?pipLineCount',\n            rebind: '<?pipRebind'\n        }\n    }\n\n    angular.module('pipMarkdown', ['ngSanitize'])\n        .run(Config)\n        .component('pipMarkdown', MarkdownComponent);\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n\nexport class PopoverController {\n  \n    private _$timeout;\n    private _$scope: ng.IScope;\n\n    public timeout;\n    public backdropElement;\n    public content;\n    public element;\n    public calcH: boolean;\n\n    public templateUrl;\n    public template\n\n    public cancelCallback: Function;\n\n    constructor( \n        $scope: ng.IScope,\n        $rootScope,\n        $element,\n        $timeout, \n        $compile\n       ) {\n           //$scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \n           this._$timeout = $timeout;\n           this.templateUrl = $scope['params'].templateUrl;\n           this.template = $scope['params'].template;\n           this.timeout = $scope['params'].timeout;\n           this.element = $scope['params'].element;\n           this.calcH = $scope['params'].calcHeight;\n           this.cancelCallback = $scope['params'].cancelCallback;\n           this.backdropElement = $('.pip-popover-backdrop');\n           this.backdropElement.on('click keydown scroll',() =>{ this.backdropClick()});\n           this.backdropElement.addClass($scope['params'].responsive !== false ? 'pip-responsive' : '');\n\n           $timeout(() => {\n                this.position();\n                if ($scope['params'].template) {\n                    this.content = $compile($scope['params'].template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n                }\n\n                this.init();\n           });\n\n           $timeout(() => { this.calcHeight(); }, 200);\n           $rootScope.$on('pipPopoverResize', () => { this.onResize()});\n           $(window).resize(() => { this.onResize() });\n\n    }\n\n    public backdropClick() {\n        if (this.cancelCallback) {\n            this.cancelCallback();\n        }\n        this.closePopover();\n    }\n\n    public closePopover() {\n        this.backdropElement.removeClass('opened');\n        this._$timeout(() => {\n            this.backdropElement.remove();\n        }, 100);\n    }\n\n    public onPopoverClick($e) {\n        $e.stopPropagation();\n    }\n\n\n    private init() {\n        this.backdropElement.addClass('opened');\n        $('.pip-popover-backdrop').focus();\n        if (this.timeout) {\n            this._$timeout(function () {\n                this.closePopover();\n            }, this.timeout);\n        }\n    }\n\n    private position() {\n        if (this.element) {\n            let element = $(this.element),\n                pos = element.offset(),\n                width = element.width(),\n                height = element.height(),\n                docWidth = $(document).width(),\n                docHeight = $(document).height(),\n                popover = this.backdropElement.find('.pip-popover');\n\n            if (pos) {\n                popover\n                    .css('max-width', docWidth - (docWidth - pos.left))\n                    .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                    .css('left', pos.left - popover.width() + width / 2)\n                    .css('top', pos.top + height + 16);\n            }\n        }\n    }\n\n    private onResize() {\n        this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n        this.position();\n        this.calcHeight();\n    }\n\n    private calcHeight() {\n        if (this.calcH === false) { return; }\n        let popover = this.backdropElement.find('.pip-popover'),\n        title = popover.find('.pip-title'),\n        footer = popover.find('.pip-footer'),\n        content = popover.find('.pip-content'),\n        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n        content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n    }\n}\n\n(() => {\n    function pipPopover($parse: any) {\n        \"ngInject\";\n\n          return {\n                restrict: 'EA',\n                scope: true,\n                templateUrl: 'popover/popover.html',\n                controller: PopoverController,\n                controllerAs: 'vm'\n            };\n    }\n\n    angular\n        .module('pipPopover', ['pipPopover.Service'])\n        .directive('pipPopover', pipPopover);\n\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nexport class PopoverService {\n  \n    private _$timeout;\n    private _$scope: ng.IScope;\n    private _$compile;\n    private _$rootScope: ng.IRootScopeService;\n\n    public popoverTemplate: string;\n\n    constructor( \n        $compile,\n        $rootScope, \n        $timeout\n       ) {\n           this._$compile = $compile;\n           this._$rootScope = $rootScope;\n           this._$timeout = $timeout;\n           this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n    }\n\n    public show(p) {\n        let element, scope: ng.IScope, params, content;\n            \n        element = $('body');\n        if (element.find('md-backdrop').length > 0) { return; }\n        this.hide();\n        scope = this._$rootScope.$new();\n        params = p && _.isObject(p) ? p : {};\n        scope['params'] = params;\n        scope['locals'] = params.locals;\n        content = this._$compile(this.popoverTemplate)(scope);\n        element.append(content);\n    }\n\n    public hide() {\n        let backdropElement = $('.pip-popover-backdrop');\n        backdropElement.removeClass('opened');\n        this._$timeout(() => {\n            backdropElement.remove();\n        }, 100);\n    }\n\n    public resize() {\n        this._$rootScope.$broadcast('pipPopoverResize');\n    }\n}\n\n\n(() => {\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass RoutingController {\n    private _image: any;\n    private _$element;\n\n    public logoUrl: string;\n    public showProgress: Function;\n\n    constructor( \n        $scope: ng.IScope,\n        $element)\n    {\n\n        this._$element = $element;\n        this.showProgress = $scope['vm']['showProgress'];\n        this.logoUrl = $scope['vm']['logoUrl'];    \n    }\n\n    public $postLink() {\n        this._image = this._$element.find('img'); \n        this.loadProgressImage();\n    }\n\n    public loadProgressImage() {\n        if (this.logoUrl) {\n            this._image.attr('src', this.logoUrl);\n        }\n    }\n}\n\n\n(() => {\n\n    const RoutingProgress = {\n            replace: true,\n            bindings: {\n                showProgress: '&',\n                logoUrl: '@'\n            },\n            templateUrl: 'progress/routing_progress.html',\n            controller: RoutingController,\n            controllerAs: 'vm'\n    }\n\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ninterface IPipToast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n\nclass ToastController {\n    private _$mdToast: angular.material.IToastService;\n    private _pipErrorDetailsDialog;\n\n    public message: string;\n    public actions: string[];\n    public toast: IPipToast;\n    public actionLenght: number;\n    public showDetails: boolean;\n\n    constructor( \n        $mdToast: angular.material.IToastService, \n        toast: IPipToast, \n        $injector\n       ) {\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \n                ? $injector.get('pipErrorDetailsDialog') : null;\n            this._$mdToast = $mdToast;\n            this.message = toast.message;\n            this.actions = toast.actions;\n            this.toast = toast;\n            \n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n\n    }\n\n     public onDetails(): void {\n        this._$mdToast.hide();\n        if (this._pipErrorDetailsDialog) {\n            this._pipErrorDetailsDialog.show(\n            {\n                error: this.toast.error,\n                ok: 'Ok'\n            },\n            angular.noop,\n            angular.noop\n            );\n        }\n    }\n\n    public onAction(action): void {\n        this._$mdToast.hide(\n        {\n            action: action,\n            id: this.toast.id,\n            message: this.message\n        });\n\n    }\n}\n\ninterface IToastService {\n    showNextToast(): void;\n    showToast(toast: IPipToast): void;\n    addToast(toast): void;\n    removeToasts(type: string): void;\n    getToastById(id: string): IPipToast;\n    removeToastsById(id: string): void;\n    onClearToasts(): void;\n    showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string);\n    showMessage(message: string, successCallback, cancelCallback, id?: string);\n    showError(message: string, successCallback, cancelCallback, id: string, error: any);\n    hideAllToasts(): void;\n    clearToasts(type?: string);\n}\n\nclass ToastService implements IToastService {\n    private SHOW_TIMEOUT: number = 20000;\n    private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n    private toasts: IPipToast[] = [];\n    private currentToast: any;\n    private sounds: any = {};\n\n    private _$mdToast: angular.material.IToastService;\n\n    constructor(\n        $rootScope: ng.IRootScopeService, \n        $mdToast: angular.material.IToastService) {\n\n        this._$mdToast = $mdToast;\n\n        $rootScope.$on('$stateChangeSuccess', () => {this.onStateChangeSuccess()});\n        $rootScope.$on('pipSessionClosed', () => {this.onClearToasts()});\n        $rootScope.$on('pipIdentityChanged', () => {this.onClearToasts()});\n    }\n\n    public showNextToast(): void {\n        let toast: IPipToast;\n\n        if (this.toasts.length > 0) {\n            toast = this.toasts[0];\n            this.toasts.splice(0, 1);\n            this.showToast(toast);\n        }\n    }\n\n     // Show toast\n     public showToast(toast: IPipToast): void {\n        this.currentToast = toast;\n\n        this._$mdToast.show({\n            templateUrl: 'toast/toast.html',\n            hideDelay: toast.duration || this.SHOW_TIMEOUT,\n            position: 'bottom left',\n            controller: ToastController,\n            controllerAs: 'vm',\n            locals: {\n                toast: this.currentToast,\n                sounds: this.sounds\n            }\n        })\n        .then( \n            (action: string) => {\n                this.showToastOkResult(action);\n            },\n            (action: string) => {\n                this.showToastCancelResult(action);\n            }\n        );\n    }\n\n    private showToastCancelResult(action: string):void {\n        if (this.currentToast.cancelCallback) {\n            this.currentToast.cancelCallback(action);\n        }\n        this.currentToast = null;\n        this.showNextToast();\n    }\n\n    private showToastOkResult(action: string): void {\n        if (this.currentToast.successCallback) {\n            this.currentToast.successCallback(action);\n        }\n        this.currentToast = null;\n        this.showNextToast();\n    }\n\n    public addToast(toast): void {\n        if (this.currentToast && toast.type !== 'error') {\n            this.toasts.push(toast);\n        } else {\n            this.showToast(toast);\n        }\n    }\n\n    public removeToasts(type: string): void {\n        let result: any[] = [];\n        _.each(this.toasts, (toast) => {\n            if (!toast.type || toast.type !== type) {\n                result.push(toast);\n            }\n        });\n        this.toasts = _.cloneDeep(result);\n    }\n\n    public removeToastsById(id: string): void {\n        _.remove(this.toasts, {id: id});\n    }\n\n    public getToastById(id: string): IPipToast {\n        return _.find(this.toasts, {id: id});\n    }\n\n    public onStateChangeSuccess() {}\n\n    public onClearToasts(): void {\n        this.clearToasts(null);\n    }\n\n    public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n        this.addToast({\n            id: id || null,\n            type: 'notification',\n            message: message,\n            actions: actions || ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback,\n            duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n        });\n    }\n\n    public showMessage(message: string, successCallback, cancelCallback, id?: string) {\n        this.addToast({\n            id: id || null,\n            type: 'message',\n            message: message,\n            actions: ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback\n        });\n    }\n\n     public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n        this.addToast({\n            id: id || null,\n            error: error,\n            type: 'error',\n            message: message || 'Unknown error.',\n            actions: ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback\n        });\n    }\n\n    public hideAllToasts(): void {\n        this._$mdToast.cancel();\n        this.toasts = [];\n    }\n\n    public clearToasts(type?: string) {\n        if (type) {\n            // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n            this.removeToasts(type);\n        } else {\n            this._$mdToast.cancel();\n            this.toasts = [];\n        }\n    }\n\n}\n\n\n(() => {\n    angular\n        .module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n        .service('pipToasts', ToastService);\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{vm.class}}\" pip-selected=\"vm.currentColorIndex\" pip-enter-space-press=\"vm.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in vm.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"vm.selectColor($index)\" aria-label=\"color\" ng-disabled=\"vm.disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == vm.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"vm.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"vm.onPopoverClick($event)\" ng-include=\"vm.templateUrl\"></div><div ng-if=\"vm.template\" class=\"pip-popover\" ng-click=\"vm.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"vm.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","/**\n * @file Registration of all WebUI list controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(() => {\n    'use strict';\n\n    angular.module('pipLists', [ 'pipTagList' ]);\n    \n})();","/**\n * @file Tag list control\n * @copyright Digital Living Software Corp. 2014-2015\n */\ninterface ITagList {\n    tags: string[];\n    type: string;\n    typeLocal: string;\n}\n\nclass TagListController implements ITagList {\n    private _rebind: string;\n\n    public tags: string[];\n    public type: string;\n    public typeLocal: string;\n\n    constructor(\n         $scope: ng.IScope, \n         $element: ng.IRootElementService\n    ) {\n\n        // Set tags\n        this.tags = $scope['pipTags'];\n        this.type = $scope['pipType'];\n        this.typeLocal = $scope['pipTypeLocal'];\n        this._rebind = $scope['pipRebind'];\n      \n        if (this.toBoolean(this._rebind)) {\n            $scope.$watch('pipTags', () => {\n                this.tags = $scope['pipTags'];\n            });\n        }\n\n        $element.css('display', 'block');\n        $element.addClass('pip-tag-list');\n     }\n\n     private toBoolean(value: string): boolean {\n        if (_.isNull(value) || _.isUndefined(value)) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n     }\n }\n\n(() => {\n    'use strict';\n\n     /**\n     * pipTags - set of tags\n     * pipType - additional type tag\n     * pipTypeLocal - additional translated type tag\n     */\n     function TagList ($parse) {\n        return {\n            restrict: 'E',\n            scope: {\n                pipTags: '=',\n                pipType: '=',\n                pipTypeLocal: '='\n            },\n            templateUrl: 'tag_list/tag_list.html',\n            controller: TagListController,\n            controllerAs: '$ctrl'\n        };\n     }\n\n    angular.module('pipTagList', ['pipList.Translate'])\n        .directive('pipTagList', TagList)\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/tag_list.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","'use strict';\n\nangular.module('pipDateTime', [\n    'pipDateTime.Service', 'pipDateTime.Filter'\n]);\n","'use strict';\n\nfunction formatTimeFilter(pipDateTime: any) {\n    \"ngInject\";\n\n    return function (value: any, format: string): string {\n        return pipDateTime.formatTime(value, format);\n    }\n}\n\nfunction formatDateOptionalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, format: string): string {\n        return pipDateTime.formatDateOptional(value, format);\n    }\n}\n\nfunction formatLongDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDate(value);\n    }\n}\n\nfunction formatShortDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDate(value);\n    }\n}\n\nfunction formatMiddleDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMiddleDate(value);\n    }\n}\n\nfunction formatMonthFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any) {\n        return pipDateTime.formatMonth(value);\n    }\n}\n\nfunction formatLongMonthFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongMonth(value);\n    }\n}\n\nfunction formatYearFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatYear(value);\n    }\n}\n\nfunction formatWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatWeek(value);\n    }\n}\n\nfunction formatShortWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortWeek(value);\n    }\n}\n\nfunction formatShortDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDateTime(value);\n    }\n}\n\nfunction formatMiddleDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMiddleDateTime(value);\n    }\n}\n\nfunction formatLongDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDateTime(value);\n    }\n}\n\nfunction formatShortDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatShortDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatMiddleDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatMiddleDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatLongDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatLongDateLongTime(value, firstTime);\n    }\n}\n\nfunction bbFormatDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.bbFormatDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatFullDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatFullDateTime(value);\n    }\n}\n\nfunction formatShortTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortTime(value);\n    }\n}\n\nfunction formatLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongTime(value);\n    }\n}\n\nfunction formatShortDayOfWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDayOfWeek(value);\n    }\n}\n\nfunction formatLongDayOfWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDayOfWeek(value);\n    }\n}\n\nfunction formatLongMonthDayFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongMonthDay(value);\n    }\n}\n\nfunction formatShortMonthDayFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortMonthDay(value);\n    }\n}\n\nfunction formatDateRangeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value1: any, value2: any): string {\n        return pipDateTime.formatDateRange(value1, value2);\n    }\n}\n\nfunction formatDateTimeRangeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value1: any, value2: any): string {\n        return pipDateTime.formatDateTimeRange(value1, value2);\n    }\n}\n\nfunction formatISOWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatISOWeek(value);\n    }\n}\n\nfunction formatShortISOWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortISOWeek(value);\n    }\n}\n\nfunction formatISOWeekOrdinalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatISOWeekOrdinal(value);\n    }\n}\n\nfunction formatDateYFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatDateY(value);\n    }\n}\n\nfunction formatLongDateYFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDateY(value);\n    }\n}\n\nfunction formatTodayDateLongTimeLongFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateLongTimeLong(value);\n    }\n}\n\nfunction formatTodayDateShortTimeLongFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateShortTimeLong(value);\n    }\n}\n\nfunction formatTodayDateLongTimeShortFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateLongTimeShort(value);\n    }\n}\n\nfunction formatTodayDateShortTimeShortFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateShortTimeShort(value);\n    }\n}\n\nfunction formatMillisecondsToSecondsFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMillisecondsToSeconds(value);\n    }\n}\n\nfunction formatElapsedIntervalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, start: any): string {\n        return pipDateTime.formatElapsedInterval(value, start);\n    }\n}\n\nfunction getDateJSONFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.getDateJSON(value);\n    }\n}\n\nangular\n    .module('pipDateTime.Filter', [])\n    .filter('formatTime', formatTimeFilter)\n    .filter('formatDateOptional', formatDateOptionalFilter)\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\n    .filter('formatShortDate', formatShortDateFilter)\n    .filter('formatMiddleDate', formatMiddleDateFilter)\n    .filter('formatLongDate', formatLongDateFilter)\n    .filter('formatMonth', formatMonthFilter)\n    .filter('formatLongMonth', formatLongMonthFilter)\n    .filter('formatYear', formatYearFilter)\n    .filter('formatWeek', formatWeekFilter)\n    .filter('formatShortWeek', formatShortWeekFilter)\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)    \n    .filter('formatLongDateTime', formatLongDateTimeFilter)\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)    \n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)    \n    .filter('formatFullDateTime', formatFullDateTimeFilter)\n    .filter('formatShortTime', formatShortTimeFilter)\n    .filter('formatLongTime', formatLongTimeFilter)\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\n    .filter('formatDateRange', formatDateRangeFilter)\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\n    .filter('formatISOWeek', formatISOWeekFilter)\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\n    .filter('formatDateY', formatDateYFilter)\n    .filter('formatLongDateY', formatLongDateYFilter)\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\n","'use strict';\n\nexport class DateTimeConfig {\n    timeZone: number;\n}\n\nexport interface IDateTimeService {\n    readonly config: DateTimeConfig;\n    useTimeZone(offset: number);\n\n    bbFormatDateLongTime(value: any, firstTime?: boolean): string; \n    \n    formatTime(value: any, format: string): string;\n    formatDateOptional(value: any, format: string): string;\n    formatShortDate(value: any): string;\n    formatMiddleDate(value: any): string;\n    formatLongDate(value: any): string;\n    formatMonth(value: any): string;\n    formatLongMonth(value: any): string;\n    formatYear(value: any): string;\n    formatWeek(value: any): string;\n    formatShortWeek(value: any): string;\n    formatShortDateTime(value: any): string;\n    formatMiddleDateTime(value: any): string;    \n    formatLongDateTime(value: any): string;\n    formatFullDateTime(value: any): string;\n    formatShortDateLongTime(value: any, firstTime?: boolean): string;\n    formatMiddleDateLongTime(value: any, firstTime?: boolean): string;    \n    formatLongDateLongTime(value: any, firstTime?: boolean): string;    \n    formatShortTime(value: any): string;\n    formatLongTime(value: any): string;\n    formatShortDayOfWeek(value: any): string;\n    formatLongDayOfWeek(value: any): string;\n    formatLongMonthDay(value: any): string;\n    formatShortMonthDay(value: any): string;\n    formatDateRange(value1: any, value2: any): string;\n    formatDateTimeRange(value1: any, value2: any): string;\n    formatISOWeek(value: any): string;\n    formatShortISOWeek(value: any): string;\n    formatISOWeekOrdinal(value: any): string;\n    formatDateY(value: any): string;\n    formatLongDateY(value: any): string;\n    formatTodayDateLongTimeLong(value: any): string;\n    formatTodayDateShortTimeLong(value: any): string;\n    formatTodayDateLongTimeShort(value: any): string;\n    formatTodayDateShortTimeShort(value: any): string;\n    formatMillisecondsToSeconds(value: any): string;\n    formatElapsedInterval(value: any, start: any): string;\n\n    getDateJSON(date: any): string;\n    getNextStart(value: any, category: string): any;\n    getPrevStart(value: any, category: string): any;\n    getNowStart(category: string): any;\n\n    addHours(value: any, hours: number): any;\n    toStartDay(value: any): any;\n    toEndDay(value: any, offset: number): any;\n    toStartWeek(value: any): any;\n    toEndWeek(value: any, offset: number): any;\n    toStartMonth(value: any): any;\n    toEndMonth(value: any, offset: number): any;\n    toStartYear(value: any): any;\n    toEndYear(value: any, offset: number): any;\n \n}\n\nexport interface IDateTimeProvider extends IDateTimeService, ng.IServiceProvider {\n\n}\n\nclass DateTime implements IDateTimeService {\n    private _config: DateTimeConfig;\n    protected _momentRanged = new Array('year', 'month', 'week', 'isoweek', 'day');\n    protected _defaultFormat = 'LL'\n\n    private isUndefinedOrNull(value: any): boolean {\n        return angular.isUndefined(value) || value === null;\n    }\n\n    private getRange(value: string): string {\n        if (this.isUndefinedOrNull(value)) {\n            return 'day';\n        }\n\n        let index = this._momentRanged.indexOf(value)\n\n        if (index < 0) {\n            return 'day'\n        } else {\n            return this._momentRanged[index];\n        }\n    }\n\n    private getOperationRange(value: string): string {\n        if (this.isUndefinedOrNull(value)) {\n            return 'day';\n        }\n\n        let range = value == 'isoweek' ? 'week' : value,\n            index = this._momentRanged.indexOf(range)\n\n        if (index < 0) {\n            return 'day'\n        } else {\n            return this._momentRanged[index];\n        }\n    }\n\n    private formatDateTime(value: any, basicFormat: string): string {\n        var date: any,\n            formatTpl: string;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        formatTpl = basicFormat ? basicFormat : this._defaultFormat;\n\n        return date.format(formatTpl);\n    }\n\n    private formatDateTimeY(value: any, basicFormat: string): string {\n        var date: any,\n            nowDate: any,\n            formatMoment: string;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n        formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\n\n        if (nowDate.year() == date.year()) {\n            formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n        }\n\n        return date.format(formatMoment);\n    }\n\n    private formatDay(value: any, basicFormat: string): string {\n        var date: any,\n            format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\n            formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.format(formatMonthYearless);\n    }\n\n    private formatMonthDay(value: any, basicFormat: string): string {\n        var date: any,\n            format = basicFormat ? basicFormat : this._defaultFormat,\n            formatLL = moment.localeData().longDateFormat(format),\n            formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.format(formatYearlessLL);\n    }\n\n//  use timezone not testing\n    private formatRange(value1: any, value2: any, basicFormat: string): string {\n        var dateStart: any,\n            dateEnd: any,\n            format = basicFormat ? basicFormat : this._defaultFormat;\n\n        if (this.isUndefinedOrNull(value1)) {\n            dateStart = null;\n        } else {\n            dateStart = (this._config.timeZone != undefined && this._config.timeZone != null) ?  moment(value1).utcOffset(this._config.timeZone) : moment(value1);\n        }\n        if (this.isUndefinedOrNull(value2)) {\n            dateEnd = null;\n        } else {\n            dateEnd = (this._config.timeZone != undefined && this._config.timeZone != null) ?  moment(value2).utcOffset(this._config.timeZone) : moment(value2);\n        }\n\n        if (dateStart === null && dateEnd === null) return '';\n\n        if (dateStart === null) {\n            return dateEnd.format(basicFormat);\n        } else if (dateEnd === null || dateStart.isSame(dateEnd)) {\n            return dateStart.format(basicFormat);;\n        }\n\n        if (dateStart.isAfter(dateEnd)) {\n            // todo localization\n            throw new Error('Date range error. Start date is more than end date.');\n        }\n\n        if (dateStart.year() == dateEnd.year()) {\n            if (dateStart.month() == dateEnd.month()) {\n                return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            } else {\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            }\n        } else {\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\n        }\n    }\n\n    private toStartRange(value: any, range: string): any {\n        var date: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.startOf(range).toDate();\n    }\n\n    private toEndRange(value: any, range: string, offset: number): any {\n        var date: any,\n            result: any,\n            mssOffset: number;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (!angular.isNumber(offset)) {\n            mssOffset = 0;\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        if (mssOffset) {\n            result = date.startOf(range).add(mssOffset, 'milliseconds');\n        } else {\n            result = date.startOf(range);\n        }\n\n        return date.startOf(range).toDate();\n    }\n\n    private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\n        var date: any,\n            result: string,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n        if (firstTime) {\n            result = date.format(formatTime) + ' ' + date.format(formatDate);\n        } else {\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\n        }\n\n        return result;\n    }\n\n    private toTodayDate(value: any, formatDate: string, formatTime: string): any {\n        var date: any,\n            result: string,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n\n        if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day()) {\n            result = date.format(formatTime);\n        } else {\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\n        }\n\n        return result;\n    }\n\n    public constructor(config: DateTimeConfig) { \n        this._config = config || { timeZone: null };\n    };\n\n    public get config(): DateTimeConfig {\n        return this._config;\n    }\n\n    public useTimeZone(offset: number) {\n        this._config.timeZone = offset;\n    }\n    // formating functions \n    // -------------------\n\n    // todo Optional\n    public formatTime(value: any, format: string): string {\n        return this.formatDateTime(value, 'LLL');\n    }\n    // todo Optional\n    public formatDateOptional(value: any, format: string): string {\n        return this.formatDateTime(value, 'L');\n    }\n\n    // date formats\n    public formatShortDate(value: any): string {\n        return this.formatDateTime(value, 'L');\n    }\n\n    public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime); \n    }\n\n    public formatMiddleDate(value: any): string {\n        return this.formatDateTime(value, 'll');\n    }\n\n    public formatLongDate(value: any): string {\n        return this.formatDateTime(value, 'LL');\n    }\n\n    public formatMonth(value: any): string {\n        return this.formatDateTime(value, 'MM');\n    }\n\n    public formatLongMonth(value: any): string {\n        return this.formatDateTime(value, 'MMMM');\n    }\n\n    public formatYear(value: any): string {\n        return this.formatDateTime(value, 'YYYY');\n    }\n\n    public formatWeek(value: any): string {\n        return this.formatDateTime(value, 'ww');\n    }\n\n    public formatShortWeek(value: any): string {\n        return this.formatDateTime(value, 'w');\n    }\n\n    public formatShortDateTime(value: any): string {\n        return this.toDateWithTime(value, 'L', 'LT'); \n    }\n\n    public formatMiddleDateTime(value: any): string {\n        return this.formatDateTime(value, 'lll');\n    }\n\n    public formatLongDateTime(value: any): string {\n        return this.formatDateTime(value, 'LLL');\n    }\n\n    public formatFullDateTime(value: any): string {\n        return this.formatDateTime(value, 'LLLL');\n    }\n\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'L', 'LTS', firstTime); \n    }\n\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'll', 'LTS', firstTime);\n    }\n\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\n    }\n\n    public formatShortTime(value: any): string {\n        return this.formatDateTime(value, 'LT');\n    }\n\n    public formatLongTime(value: any): string {\n        return this.formatDateTime(value, 'LTS');\n    }\n\n    public formatShortDayOfWeek(value: any): string {\n        return this.formatDateTime(value, 'dd');\n    }\n\n    public formatLongDayOfWeek(value: any): string {\n        return this.formatDateTime(value, 'dddd');\n    }\n\n    // public formatTimeNumber(value: any): string {\n    //     return this.formatDateTime(value, 'LLL');\n    // }\n\n    // public formatLongTimeNumber(value: any): string {\n    //     return this.formatDateTime(value, 'LLLL');\n    // }\n\n    ///-----------------\n\n    public formatLongMonthDay(value: any): string {\n        return this.formatMonthDay(value, 'LL');\n    }\n\n    public formatShortMonthDay(value: any): string {\n        return this.formatMonthDay(value, 'L');\n    }\n\n    public formatDateRange(value1: any, value2: any): string {\n        return this.formatRange(value1, value2, 'LL');\n    }\n\n    public formatDateTimeRange(value1: any, value2: any): string {\n        return this.formatRange(value1, value2, 'LLL');\n    }\n\n    // iso function\n    // --------------\n\n    public formatISOWeek(value: any): string {\n        return this.formatDateTime(value, 'WW');\n    }\n\n    public formatShortISOWeek(value: any): string {\n        return this.formatDateTime(value, 'W');\n    }\n\n    public formatISOWeekOrdinal(value: any): string {\n        return this.formatDateTime(value, 'Wo');\n    }\n    // special formats \n    // --------------\n\n    // year option displays if the current year is not equal to, the date of \n    public formatDateY(value: any): string {\n        return this.formatDateTimeY(value, 'L');\n    }\n\n    // year option displays if the current year is not equal to, the date of\n    public formatLongDateY(value: any): string {\n        return this.formatDateTimeY(value, 'LL');\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateLongTimeLong(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LTS')\n    }\n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateShortTimeLong(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LTS')\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateLongTimeShort(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LT')\n    }\n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateShortTimeShort(value: any): string {\n        return this.toTodayDate(value, 'll', 'LT')\n    }\n\n    // todo\n    public formatMillisecondsToSeconds(value: any): string {\n        return '';\n    }\n\n    // todo\n    public formatElapsedInterval(value: any, start: any): string {\n        var date: any,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n        if (this.isUndefinedOrNull(start)) {\n            nowDate = moment();\n        } else {\n            nowDate = moment(start);\n        }\n\n        date = moment(value);\n        if (!date.isValid() || !nowDate.isValid()) {\n            return '';\n        }\n\n        return moment(date).fromNow(nowDate);\n    }\n\n    public getDateJSON(date: any): string {\n        return JSON.stringify(moment(date));\n    }\n\n    // navigation functions \n    // ------------------\n\n    public getNextStart(value: any, category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category);\n        result = moment(date).startOf(range).add(this.getOperationRange(range));\n\n        return result.toDate();\n    }\n\n    public getPrevStart(value: any, category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category);\n        result = moment(date).startOf(range).add(-1, this.getOperationRange(range));\n\n        return result.toDate();\n    }\n\n    public getNowStart(category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        date = moment();\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category)\n        result = moment(date).startOf(range);\n\n        return result.toDate();\n    }\n\n    public addHours(value: any, hours: number): any {\n        var date: any;\n\n        if (this.isUndefinedOrNull(value) || !angular.isNumber(hours)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.add(hours, 'hours').toDate();\n    }\n\n    public toStartDay(value: any): any {\n        return this.toStartRange(value, 'day');\n    }\n\n    public toEndDay(value: any, offset: number): any {\n        return this.toEndRange(value, 'day', offset);\n    }\n\n    public toStartWeek(value: any): any {\n        return this.toStartRange(value, 'week');\n    }\n\n    public toEndWeek(value: any, offset: number): any {\n        return this.toEndRange(value, 'week', offset);\n    }\n\n    public toStartMonth(value: any): any {\n        return this.toStartRange(value, 'month');\n    }\n\n    public toEndMonth(value: any, offset: number): any {\n        return this.toEndRange(value, 'month', offset);\n    }\n\n    public toStartYear(value: any): any {\n        return this.toStartRange(value, 'year');\n    }\n\n    public toEndYear(value: any, offset: number): any {\n        return this.toEndRange(value, 'year', offset);\n    }\n\n}\n\nclass DateTimeService {\n    private _datetime: DateTime;\n    private _config: DateTimeConfig;\n\n    public constructor(\n        datetime: DateTime,\n    ) {\n        this._config = { timeZone: null};\n        this._datetime = datetime;\n    }\n\n    // todo Optional\n    public useTimeZone(offset: number): void {\n        return this._datetime.useTimeZone(offset);\n    }\n\n    // todo Optional\n    public formatTime(value: any, format: string): string {\n        return this._datetime.formatTime(value, format);\n    }\n\n    // todo Optional\n    public formatDateOptional(value: any, format: string): string {\n        return this._datetime.formatDateOptional(value, format);\n    }\n\n    public formatShortDate(value: any): string {\n        return this._datetime.formatShortDate(value);\n    }\n\n    public formatMiddleDate(value: any): string {\n        return this._datetime.formatMiddleDate(value);\n    }\n\n    public formatLongDate(value: any): string {\n        return this._datetime.formatLongDate(value);\n    }\n\n    public formatMonth(value: any): string {\n        return this._datetime.formatMonth(value);\n    }\n\n    public formatLongMonth(value: any): string {\n        return this._datetime.formatLongMonth(value);\n    }\n\n    public formatYear(value: any): string {\n        return this._datetime.formatYear(value);\n    }\n\n    public formatWeek(value: any): string {\n        return this._datetime.formatWeek(value);\n    }\n\n    public formatShortWeek(value: any): string {\n        return this._datetime.formatShortWeek(value);\n    }\n\n    public formatShortDateTime(value: any): string {\n        return this._datetime.formatShortDateTime(value);\n    }\n\n    public formatMiddleDateTime(value: any): string {\n        return this._datetime.formatMiddleDateTime(value);\n    }\n\n    public formatLongDateTime(value: any): string {\n        return this._datetime.formatLongDateTime(value);\n    }\n\n    public formatFullDateTime(value: any): string {\n        return this._datetime.formatFullDateTime(value);\n    }\n\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatShortDateLongTime(value, firstTime);\n    }\n\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatMiddleDateLongTime(value, firstTime);\n    }\n\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatLongDateLongTime(value, firstTime);\n    }\n\n    public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.bbFormatDateLongTime(value, firstTime);\n    }\n\n    public formatShortTime(value: any): string {\n        return this._datetime.formatShortTime(value);\n    }\n\n    public formatLongTime(value: any): string {\n        return this._datetime.formatLongTime(value);\n    }\n\n    public formatShortDayOfWeek(value: any): string {\n        return this._datetime.formatShortDayOfWeek(value);\n    }\n\n    public formatLongDayOfWeek(value: any): string {\n        return this._datetime.formatLongDayOfWeek(value);\n    }\n\n    public formatLongMonthDay(value: any): string {\n        return this._datetime.formatLongMonthDay(value);\n    }\n\n    public formatShortMonthDay(value: any): string {\n        return this._datetime.formatShortMonthDay(value);\n    }\n\n    public formatDateRange(value1: any, value2: any): string {\n        return this._datetime.formatDateRange(value1, value2);\n    }\n\n    public formatDateTimeRange(value1: any, value2: any): string {\n        return this._datetime.formatDateTimeRange(value1, value2);\n    }\n\n    // iso function\n    // --------------\n\n    public formatISOWeek(value: any): string {\n        return this._datetime.formatISOWeek(value);\n    }\n\n    public formatShortISOWeek(value: any): string {\n        return this._datetime.formatShortISOWeek(value);\n    }\n\n    public formatISOWeekOrdinal(value: any): string {\n        return this._datetime.formatISOWeekOrdinal(value);\n    }\n    // special formats \n    // --------------\n\n    // year option displays if the current year is not equal to, the date of \n    public formatDateY(value: any): string {\n        return this._datetime.formatDateY(value);\n    }\n\n    // year option displays if the current year is not equal to, the date of\n    public formatLongDateY(value: any): string {\n        return this._datetime.formatLongDateY(value);\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateLongTimeLong(value: any): string {\n        return this._datetime.formatTodayDateLongTimeLong(value);\n    }    \n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateShortTimeLong(value: any): string {\n        return this._datetime.formatTodayDateShortTimeLong(value);\n    }     \n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateLongTimeShort(value: any): string {\n        return this._datetime.formatTodayDateLongTimeShort(value);\n    }     \n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateShortTimeShort(value: any): string {\n        return this._datetime.formatTodayDateShortTimeShort(value);\n    }     \n\n    // todo\n    public formatMillisecondsToSeconds(value: any) {\n        return this._datetime.formatMillisecondsToSeconds(value);\n    }\n\n    // todo\n    public formatElapsedInterval(value: any, start: any): string {\n        return this._datetime.formatElapsedInterval(value, start);\n    }\n\n    public getDateJSON(date: any): string {\n        return this._datetime.getDateJSON(date);\n    }\n\n    // navigation functions \n    // ------------------\n\n    public getNextStart(value: any, category: string): any {\n        return this._datetime.getNextStart(value, category);\n    }\n\n    public getPrevStart(value: any, category: string): any {\n        return this._datetime.getPrevStart(value, category);\n    }\n\n    public getNowStart(category: string): any {\n        return this._datetime.getNowStart(category);\n    }\n\n    public addHours(value: any, hours: number): any {\n        return this._datetime.addHours(value, hours);\n    }\n\n    public toStartDay(value: any): any {\n        return this._datetime.toStartDay(value);\n    }\n\n    public toEndDay(value: any, offset: number): any {\n        return this._datetime.toEndDay(value, offset);\n    }\n\n    public toStartWeek(value: any): any {\n        return this._datetime.toStartWeek(value);\n    }\n\n    public toEndWeek(value: any, offset: number): any {\n        return this._datetime.toEndWeek(value, offset);\n    }\n\n    public toStartMonth(value: any): any {\n        return this._datetime.toStartMonth(value);\n    }\n\n    public toEndMonth(value: any, offset: number): any {\n        return this._datetime.toEndMonth(value, offset);\n    }\n\n    public toStartYear(value: any): any {\n        return this._datetime.toStartYear(value);\n    }\n\n    public toEndYear(value: any, offset: number): any {\n        return this._datetime.toEndYear(value, offset);\n    }\n\n}\n\nclass DateTimeProvider extends DateTime implements IDateTimeProvider {\n    private _translation: DateTime;\n    private _service: DateTimeService;\n\n    public constructor() {\n        super({ timeZone: null });\n    }\n\n    public $get(): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new DateTimeService(this);\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDateTime.Service', [])\n    .provider('pipDateTime', DateTimeProvider);\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipDate', ['pipDates.Templates']);\n\n    thisModule.directive('pipDate',\n        function () {\n            return {\n                restrict: 'EA',\n                require: 'ngModel',\n                scope: {\n                    timeMode: '@pipTimeMode',\n                    disabled: '&ngDisabled',\n                    model: '=ngModel',\n                    ngChange: '&'\n                },\n                templateUrl: 'date_directive/date.html',\n                controller: 'pipDateController'\n            };\n        }\n    );\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipDateController',\n        function ($scope, $element, $injector) { //pipTranslate\n            var value,\n                localeDate: any = moment.localeData(),\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\n                momentShortDays = localeDate._weekdaysMin,\n                momentFirstDayOfWeek = localeDate._week.dow;\n\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    DAY: 'Day',\n                    MONTH: 'Month',\n                    YEAR: 'Year'\n                });\n                pipTranslate.setTranslations('ru', {\n                    DAY: '',\n                    MONTH: '',\n                    YEAR: ''                    \n                });\n                $scope.dayLabel = pipTranslate.translate('DAY');\n                $scope.monthLabel = pipTranslate.translate('MONTH');\n                $scope.yearLabel = pipTranslate.translate('YEAR');\n            } else {\n                $scope.dayLabel = 'Day';\n                $scope.monthLabel = 'Month';                \n                $scope.yearLabel = 'Year';\n\n            }\n\n            function dayList(month, year) {\n                var count = 31, days = [], i;\n\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\n                    count = 30;\n                } else if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n\n                for (i = 1; i <= count; i++) {\n                    days.push(i);\n                }\n\n                return days;\n            }\n\n            function monthList() {\n                var months = [], i;\n\n                for (i = 1; i <= 12; i++) {\n                    months.push({\n                        id: i,\n                        name: momentMonths[i-1]\n                    });\n                }\n\n                return months;\n            }\n\n            function yearList() {\n                var i,\n                    currentYear = new Date().getFullYear(),\n                    startYear = $scope.timeMode === 'future' ? currentYear : currentYear - 100,\n                    endYear = $scope.timeMode === 'past' ? currentYear : currentYear + 100,\n                    years = [];\n\n                if ($scope.timeMode === 'past') {\n                    for (i = endYear; i >= startYear; i--) {\n                        years.push(i);\n                    }\n                } else {\n                    for (i = startYear; i <= endYear; i++) {\n                        years.push(i);\n                    }\n                }\n\n                return years;\n            }\n\n            function adjustDay() {\n                var days = dayList($scope.month, $scope.year);\n\n                if ($scope.days.length !== days.length) {\n                    if ($scope.day > days.length) {\n                        $scope.day = days.length;\n                    }\n\n                    $scope.days = days;\n                }\n            }\n\n            function getValue(v) {\n                var value = v ? _.isDate(v) ? v : new Date(v) : null,\n                    day = value ? value.getDate() : null,\n                    month = value ? value.getMonth() + 1 : null,\n                    year = value ? value.getFullYear() : null;\n\n                // Update day list if month and year were changed\n                if ($scope.month !== month && $scope.year !== year) {\n                    $scope.days = dayList($scope.month, $scope.year);\n                }\n\n                // Assign values to scope\n                $scope.day = day;\n                $scope.month = month;\n                $scope.year = year;\n            }\n\n            function setValue() {\n                var value;\n\n                if ($scope.day && $scope.month && $scope.year) {\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\n                    $scope.model = value;\n                    $scope.ngChange();\n                }\n            }\n\n            $scope.onDayChanged = function () {\n                setValue();\n            };\n\n            $scope.onMonthChanged = function () {\n                adjustDay();\n                setValue();\n            };\n\n            $scope.onYearChanged = function () {\n                adjustDay();\n                setValue();\n            };\n\n            // Set initial values\n            value = $scope.model ? _.isDate($scope.model) ? $scope.model : new Date($scope.model) : null;\n            $scope.day = value ? value.getDate() : null;\n            $scope.month = value ? value.getMonth() + 1 : null;\n            $scope.year = value ? value.getFullYear() : null;\n\n\n\n            $scope.days = dayList($scope.month, $scope.year);\n            $scope.months = monthList();\n            $scope.years = yearList();\n\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\n\n            // React on changes\n            $scope.$watch('model', function (newValue) {\n                getValue(newValue);\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n        }\n    );\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n    var thisModule = angular.module('pipDateRange', ['pipDates.Templates']);\n\n    thisModule.directive('pipDateRange',\n        function () {\n            return {\n                restrict: 'EA',\n                require: 'ngModel',\n                scope: {\n                    timeMode: '@pipTimeMode',\n                    disabled: '&ngDisabled',\n                    model: '=ngModel',\n                    pipChanged: '&',\n                    pipDateRangeType: '@',\n                    pipDateFormat: '@',\n                    pipNoLine: '@'\n                },\n                templateUrl: 'date_range_directive/date_range.html',\n                controller: 'pipDateRangeController'\n            };\n        });\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipDateRangeController',\n        function ($scope, $element, $mdMedia, $rootScope, $injector, $timeout) { //pipTranslate, \n            var currentDate,\n                currentYear,\n                currentMonth,\n                currentDay,\n                prevState: any = {}, \n                currentState: any = {},\n                localeDate: any = moment.localeData(),\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\n                momentShortDays = localeDate._weekdaysMin,\n                momentFirstDayOfWeek = localeDate._week.dow;\n\n            // var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            // if (pipTranslate) {\n            //     pipTranslate.setTranslations('en', {\n            //         EVENT_NEW_START_TIME: 'Start time',\n            //         EVENT_NEW_END_TIME: 'End time'\n            //     });\n            //     pipTranslate.setTranslations('ru', {\n            //         EVENT_NEW_START_TIME: '',\n            //         EVENT_NEW_END_TIME: ''                \n            //     });\n            //     $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\n            //             : pipTranslate.translate('EVENT_NEW_START_TIME');\n            //     $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\n            //             : pipTranslate.translate('EVENT_NEW_END_TIME');\n            // } else {\n            //     $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\n            //     $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \n            // }\n\n            currentDate = new Date();\n            currentYear = currentDate.getUTCFullYear();\n            currentMonth = currentDate.getUTCMonth() + 1;\n            currentDay = currentDate.getUTCDate();\n\n            $scope.onDayChanged = function () {\n                setValue();\n            };\n\n            $scope.onMonthChanged = function () {\n                if ($scope.pipDateRangeType === 'weekly') {\n                    var date, dayOfWeek;\n\n                    date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\n                    dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\n                    correctWeek();\n                    adjustWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            $scope.onYearChanged = function () {\n                var date, dayOfWeek;\n\n                date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                if ($scope.pipDateRangeType === 'weekly') {\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\n                    adjustWeek();\n                    correctWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            $scope.onWeekChange = function () {\n                if ($scope.pipDateRangeType === 'weekly') {\n                    adjustWeek();\n                    correctWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            // visibility\n            $scope.isDay = function () {\n                return $scope.pipDateRangeType === 'daily';\n            };\n\n            $scope.isWeek = function () {\n                return $scope.pipDateRangeType === 'weekly';\n            };\n\n            $scope.isMonth = function () {\n                return $scope.pipDateRangeType === 'daily' ||\n                    $scope.pipDateRangeType === 'weekly' ||\n                    $scope.pipDateRangeType === 'monthly';\n            };\n\n            $scope.onChange = function () {\n                if ($scope.pipChanged) {\n                    $timeout(function() {\n                        $scope.pipChanged();\n                    }, 0);\n                }\n            };\n\n            function setCurrent() {\n                currentState.day = $scope.day;\n                currentState.month = $scope.month;\n                currentState.year = $scope.year;\n                currentState.week = $scope.week;\n                currentState.dateRangeType = $scope.pipDateRangeType;\n                currentState.model = $scope.model;\n            }\n\n            function fillLists() {\n                $scope.days = dayList($scope.month, $scope.year);\n                $scope.weeks = weekList($scope.month, $scope.year);\n                $scope.months = monthList();\n                $scope.shortMonths = monthList();\n                $scope.years = yearList();\n\n            }\n\n            function correctWeek() {\n                if (!prevState.model || prevState.model && prevState.model.getTime() >= $scope.model.getTime()) {\n                    // if shift week -> increase month\n                    if ($scope.weeks && $scope.weeks[$scope.week] && $scope.weeks[$scope.week].id <= 0) {\n                        if ($scope.month < 12) {\n                            $scope.month += 1;\n                        } else {\n                            $scope.month = 1;\n                            $scope.year += 1;\n                        }\n                        fillLists();\n                    }\n                }\n            }\n\n            function init() {\n                var value;\n\n                value = $scope.model ? new Date($scope.model) : null;\n                $scope.day = value ? value.getUTCDate() : null;\n                $scope.month = value ? value.getUTCMonth() + 1 : null;\n                $scope.year = value ? value.getUTCFullYear() : null;\n                $scope.week = value ? getWeekByDate($scope.day, $scope.month - 1, $scope.year) : null;\n\n                fillLists();\n\n                if ($scope.pipDateRangeType === 'weekly') {\n                    correctWeek();\n                    adjustWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            }\n\n            // Set initial values\n            $scope.$mdMedia = $mdMedia;\n\n            init();\n\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\n\n            // React on changes\n            $scope.$watch('model', function (newValue, oldValue) {\n                if (newValue !== oldValue) {\n                    getValue(newValue);\n                }\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n\n            $scope.$watch('pipDateRangeType', function (newValue, oldValue) {\n                if (newValue !== oldValue && oldValue) {\n                    init();\n                }\n            });\n\n            $scope.onYearClick = function () {\n                if (!$scope.year) {\n                    $scope.year = currentYear;\n                }\n            };\n\n            $scope.onMonthClick = function () {\n                if (!$scope.month) {\n                    $scope.month = currentMonth;\n                }\n            };\n\n            $scope.onDayClick = function () {\n                if (!$scope.year) {\n                    $scope.day = currentDay;\n                }\n            };\n            // ---------------------------------------------------------------------------------------\n\n            function getCountDay(month, year) {\n                var count = 31;\n\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\n                    count = 30;\n                } else if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n\n                return count;\n            }\n\n            function dayList(month, year) {\n                var count, days, i, ln;\n\n              //  ln = $rootScope.$language || 'en';\n                count = getCountDay(month, year);\n                $scope.nameDays = [];\n                days = [];\n                for (i = 1; i <= count; i++) {\n                    days.push(i);\n                    $scope.nameDays.push(momentShortDays[moment([year, month - 1, i]).weekday()]);\n                }\n\n                return days;\n            }\n\n            function getWeekByDate(day, month, year) {\n                var date, dayOfWeek, startWeek;\n\n                date = new Date(Date.UTC(year, month, day));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n\n                if (dayOfWeek === 1) {\n                    startWeek = day;\n                } else {\n                    startWeek = day + 1 - dayOfWeek;\n                }\n\n                return startWeek;\n            }\n\n            function getWeek(day, countDay, countPrevMonthDay) {\n                var endDay, startDay;\n\n                endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\n                startDay = day > 0 ? day : countPrevMonthDay + day;\n\n                return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\n            }\n\n            function weekList(month, year) { //    \n                var weeks, countDay, countPrevMonthDay, startWeek;\n\n                weeks = [];  //        \n                countDay = getCountDay(month, year);\n                startWeek = getWeekByDate(1, month - 1, year);\n\n                countPrevMonthDay = month - 1 ? getCountDay(month - 1, year) : getCountDay(12, year - 1);\n                while (startWeek < countDay + 1) {\n                    weeks.push({\n                        id: startWeek,\n                        name: getWeek(startWeek, countDay, countPrevMonthDay)\n                    });\n                    startWeek = startWeek + 7;\n                }\n\n                return weeks;\n            }\n\n            function monthList() {\n                var months = [], i;\n\n                for (i = 1; i <= 12; i++) {\n                    months.push({\n                        id: i,\n                        name: momentMonths[i-1]\n                    });\n                }\n\n                return months;\n            }\n\n            function yearList() {\n                var startYear, i,\n                    endYear,\n                    years = [];\n\n                switch ($scope.timeMode) {\n                    case 'future':\n                        startYear = currentYear;\n                        endYear = currentYear + 100;\n                        break;\n                    case 'past':\n                        startYear = currentYear - 100;\n                        endYear = currentYear;\n                        break;\n                    case 'now':\n                        startYear = currentYear - 50;\n                        endYear = currentYear + 100;\n                        break;\n                    default:\n                        startYear = currentYear - 50;\n                        endYear = currentYear + 50;\n                        break;\n                }\n                if ($scope.timeMode === 'future') {\n                    for (i = startYear; i <= endYear; i++) {\n                        years.push(i);\n                    }\n                } else {\n                    for (i = endYear; i >= startYear; i--) {\n                        years.push(i);\n                    }\n                }\n\n                return years;\n            }\n\n            function adjustDay() {\n                var days = dayList($scope.month, $scope.year);\n\n                switch ($scope.pipDateRangeType) {\n                    case 'monthly':\n                        $scope.day = 1;\n                        break;\n                    case 'yearly':\n                        $scope.month = 1;\n                        $scope.day = 1;\n                        break;\n                    default:\n                        if ($scope.days.length !== days.length) {\n                            if ($scope.day > days.length) {\n                                $scope.day = days.length;\n                            }\n                        }\n                        break;\n                }\n                $scope.days = days;\n            }\n\n            function adjustWeek() {\n                var weeks;\n\n                weeks = weekList($scope.month, $scope.year);\n                $scope.week = getWeekByDate($scope.week, $scope.month - 1, $scope.year);\n                $scope.weeks = weeks;\n            }\n\n            function getValue(v) {\n                var value, day, month, year, week;\n\n                value = v ? new Date(v) : null;\n                // Define values\n                day = value ? value.getUTCDate() : null;\n                month = value ? value.getUTCMonth() + 1 : null;\n                year = value ? value.getUTCFullYear() : null;\n                week = value ? getWeekByDate(day, month - 1, year) : null;\n                // Exit if nothing to update\n                if ($scope.day === day && $scope.month === month && $scope.year === year && $scope.week === week) {\n                    return;\n                }\n                // Assign values to scope\n                $scope.day = day;\n                $scope.month = month;\n                $scope.year = year;\n                $scope.week = week;\n\n                // Define data sources\n                $scope.days = dayList($scope.month, $scope.year);\n                $scope.weeks = weekList($scope.month, $scope.year);\n            }\n\n            function setValue() {\n                var value;\n\n                if ($scope.pipDateRangeType === 'weekly') {\n                    value = new Date($scope.year, $scope.month - 1, $scope.week, 0, 0, 0, 0);\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                    $scope.model = value;\n                } else {\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                    $scope.model = value;\n                }\n\n                prevState = _.cloneDeep(currentState);\n                setCurrent();\n                $scope.onChange();\n            }\n        }\n    );\n\n})();\n","'use strict';\n\nangular.module('pipDates', [\n    'pipDate',\n    'pipTimeRange',\n    'pipDateTime',\n    'pipTimeRangeEdit',\n    'pipDateRange',\n    'pipDates.Translate'\n]);\n","/**\n * @file Optional filter to translate string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipDates.Translate', []);\n\n    thisModule.filter('translate', function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipTimeRange', []);\n\n    thisModule.directive('pipTimeRange',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipStartDate: '=',\n                    pipEndDate: '='\n                },\n                templateUrl: 'time_range_directive/time_range.html',\n                link: function ($scope: any, $element, $attrs) {\n\n                    function getDateJSON(value) {\n                        return value ? new Date(value) : null;\n                    }\n\n                    function defineStartDate() {\n                        if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\n                            $scope.data.start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate\n                                : getDateJSON($scope.pipStartDate);\n                        }\n                    }\n\n                    function defineEndDate() {\n                        if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\n                            $scope.data.end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate\n                                : getDateJSON($scope.pipEndDate);\n                        }\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    $scope.data = {};\n                    $scope.data.start = null;\n                    $scope.data.end = null;\n                    defineStartDate();\n                    defineEndDate();\n\n                    if (toBoolean((<any>$attrs).pipRebind)) {\n                        $scope.$watch('pipStartDate',\n                            function () {\n                                $scope.data.start = null;\n                                defineStartDate();\n                            }\n                        );\n                        $scope.$watch('pipEndDate',\n                            function () {\n                                $scope.data.end = null;\n                                defineEndDate();\n                            }\n                        );\n                    }\n\n                    // Add class\n                    $element.addClass('pip-time-range');\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipTimeRangeEdit', []);\n\n    thisModule.directive('pipTimeRangeEdit',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipStartDate: '=',\n                    pipChanged: '&',\n                    pipEndDate: '=',\n                    pipStartLabel: '@',\n                    pipEndLabel: '@',\n                    disabled: '&ngDisabled',\n                    pipHideTime: '=',\n                    pipSize: '='\n                },\n                templateUrl: 'time_range_edit_directive/time_range_edit.html',\n                controller: 'pipTimeRangeEditController'\n            };\n        }\n    );\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipTimeRangeEditController',\n        function ($scope, $element, $attrs, $injector, pipDateTime) { //pipTranslate\n\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    EVENT_NEW_START_TIME: 'Start time',\n                    EVENT_NEW_END_TIME: 'End time'\n                });\n                pipTranslate.setTranslations('ru', {\n                    EVENT_NEW_START_TIME: '',\n                    EVENT_NEW_END_TIME: ''                \n                });\n                $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\n                        : pipTranslate.translate('EVENT_NEW_START_TIME');\n                $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\n                        : pipTranslate.translate('EVENT_NEW_END_TIME');\n            } else {\n                $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\n                $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \n            }\n\n            function getDateJSON(value) {\n                return value ? new Date(value) : null;\n            }\n\n            function setDuration() {\n                var start, end;\n\n                if (!$scope.data.startDate || !$scope.data.endDate) {\n                    return null;\n                }\n                \n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n\n                return end - start;\n            }\n\n            function validateStartDate() {\n                var date, start, end;\n                //     ,   \n                if (!$scope.data.startDate) {\n                    $scope.data.startTime = null;\n\n                    return;\n                }\n\n                // c     -  \n                if ($scope.data.startTime === undefined || $scope.data.startTime === null) {\n                    if (!$scope.data.endTime) {\n                        date = new Date();\n                        date = date.getTime() - pipDateTime.toStartDay(date);\n                        $scope.data.startTime = Math.floor(date / (30 * 60 * 1000)) * 30;\n                    } else {\n                        $scope.data.startTime = $scope.data.endTime === 0 ? 0 : $scope.data.endTime - 30;\n                    }\n                }\n\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n\n                //   ,   .       \n                if ($scope.data.duration) {\n                    end = new Date(start.getTime() + $scope.data.duration);\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\n                    end = end.getTime() - $scope.data.endDate.getTime();\n                    $scope.data.endTime = Math.floor(end / (30 * 60 * 1000)) * 30;\n                } else {\n                    //     \n                    end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n                    if (start >= end) {\n                        //    ,    \n                        $scope.data.endDate = pipDateTime.toStartDay(new Date(start.getTime() + 30 * 60000));\n                        $scope.data.endTime = ($scope.data.startTime + 30) % 1440;\n                    }\n                }\n\n                $scope.data.startTime = Math.round($scope.data.startTime / 30) * 30;\n            }\n\n            function validateEndDate() {\n                var date, start, end;\n\n                //     ,   \n                if (!$scope.data.endDate) {\n                    $scope.data.endTime = null;\n\n                    return;\n                }\n\n                // c     -  \n                if ($scope.data.endTime === undefined || $scope.data.endTime === null) {\n                    if (!$scope.data.startTime) {\n                        date = new Date();\n                        date = date.getTime() - pipDateTime.toStartDay(date);\n                        $scope.data.endTime = Math.floor(date / (30 * 60 * 1000)) * 30;\n                    } else {\n                        $scope.data.endTime = $scope.data.startTime === 1410 ? 1410 : $scope.data.startTime + 30;\n                    }\n                }\n\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n\n                if (start >= end) {\n                    //    ,    \n                    $scope.data.startDate = pipDateTime.toStartDay(new Date(end.getTime() - 30 * 60000));\n                    $scope.data.startTime = $scope.data.endTime % 1440 === 0 ? 1410 : $scope.data.endTime - 30;\n                }\n\n                $scope.data.endTime = Math.round($scope.data.endTime / 30) * 30;\n                $scope.data.duration = setDuration();\n            }\n\n            function setDate() {\n                var time;\n\n                $scope.data.bind = false;\n\n                if ($scope.data.startDate) {\n                    time = $scope.data.startTime ? $scope.data.startTime * 60 * 1000 : 0;\n                    $scope.pipStartDate = new Date($scope.data.startDate.getTime() + time);\n                }\n\n                if ($scope.data.endDate) {\n                    time = $scope.data.endTime ? $scope.data.endTime * 60 * 1000 : 0;\n                    $scope.pipEndDate = new Date($scope.data.endDate.getTime() + time);\n                }\n\n                $scope.data.bind = true;\n            }\n\n            function defineDate() {\n                var start, end;\n\n                if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\n                    start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate : null;\n\n                    if (!start) {\n                        start = getDateJSON($scope.pipStartDate);\n                    }\n\n                    $scope.data.startDate = pipDateTime.toStartDay(start);\n                    $scope.data.startTime = (<any>new Date(start) - $scope.data.startDate) / (60 * 1000);\n                }\n\n                if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\n                    end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate : null;\n\n                    if (!start) {\n                        end = getDateJSON($scope.pipEndDate);\n                    }\n\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\n                    $scope.data.endTime = (<any>new Date(end) - $scope.data.endDate) / (60 * 1000);\n                }\n\n                validateStartDate();\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n            }\n\n            function getTimeInterval() {\n                var result, i, j, minutes;\n\n                result = [];\n                for (i = 0; i < 24; i++) {\n                    for (j = 0; j < 2; j++) {\n                        minutes = j * 30;\n                        result.push({\n                            id: i * 60 + minutes,\n                            time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\n                        });\n                    }\n                }\n\n                return result;\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function initDate() {\n                $scope.data.startDate = null;\n                $scope.data.startTime = null;\n                $scope.data.endDate = null;\n                $scope.data.endTime = null;\n                $scope.data.duration = null;\n                $scope.showTime = !toBoolean($scope.pipHideTime);\n            }\n\n            // initialize data\n            $scope.intervalTimeCollection = getTimeInterval();\n            $scope.data = {};\n            initDate();\n            defineDate();\n\n            // process function\n            $scope.onChangeStartDate = function (newV) {\n                validateStartDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeEndDate = function () {\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeStartTime = function () {\n                if (!$scope.data.startDate) {\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date());\n                }\n                validateStartDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeEndTime = function () {\n                if (!$scope.data.endDate) {\n                    $scope.data.endDate = pipDateTime.toStartDay(new Date());\n                }\n\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.isDisabled = function () {\n                if ($scope.disabled) {\n                    return $scope.disabled();\n                }\n\n                return false;\n            };\n\n            $scope.$watchGroup([$scope.pipStartDate, $scope.pipEndDate], function () {\n                if ($scope.data.bind) {\n                    initDate();\n                    defineDate();\n                }\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n\n            // Add class\n            $element.addClass('pip-time-range-edit');\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_directive/date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"disableControls\" ng-model=\"day\" placeholder=\"{{dayLabel}}\" ng-change=\"onDayChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"disableControls\" ng-model=\"month\" placeholder=\"{{monthLabel}}\" ng-change=\"onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"disableControls\" ng-model=\"year\" placeholder=\"{{yearLabel}}\" ng-change=\"onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range_directive/date_range.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onDayClick()\" ng-model=\"day\" ng-change=\"onDayChanged()\" placeholder=\"{{dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" ng-model=\"week\" ng-change=\"onWeekChange()\" placeholder=\"{{weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isDay() || isWeek()\"></div><md-input-container ng-show=\"isMonth() && !monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isMonth() && monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onYearClick()\" ng-model=\"year\" ng-change=\"onYearChanged()\" placeholder=\"{{yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_directive/time_range.html',\n    '<p><span ng-if=\"data.start != null\">{{data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"data.start && data.end\">-</span> <span ng-if=\"data.end != null\">{{data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit_directive/time_range_edit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"data.startDate\" xmd-placeholder=\"{{startLabel}}\" ng-change=\"onChangeStartDate()\" ng-disabled=\"isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"data.startTime\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeStartTime(data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"data.endDate\" xmd-placeholder=\"{{endLabel}}\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"data.endTime\" ng-change=\"onChangeEndTime()\" ng-disabled=\"isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","'use strict';\n\nexport class ConfirmationParams {\n    public ok: string = 'OK';\n    public title?: string; \n    public cancel: string = 'Cancel';\n    public event?: MouseEvent;\n}\n\nexport class ConfirmationDialogController {\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: ConfirmationParams;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService,\n        params: ConfirmationParams) \n    {\n        \"ngInject\";\n        this.config = new ConfirmationParams();\n\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'CONFIRM_TITLE': 'Confirm' });\n            pipTranslate.translations('ru', { 'CONFIRM_TITLE': ''});\n\n            this.config.title = pipTranslate.translate(params.title) || pipTranslate.translate('CONFIRM_TITLE');\n            this.config.ok = pipTranslate.translate(params.ok) || pipTranslate.translate('OK');\n            this.config.cancel = pipTranslate.translate(params.cancel) || ('CANCEL');\n        } else {\n            this.config.title = params.title || 'Confirm';\n            this.config.ok = params.ok || 'OK';\n            this.config.cancel = params.cancel || 'Cancel';\n        }\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipConfirmationDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates'])\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","import { ConfirmationParams } from './ConfirmationController';\n\nexport interface IConfirmationService {\n    show(params: ConfirmationParams, successCallback?: () => void, cancelCallback?: () => void): any;\n}\n\nclass ConfirmationService implements IConfirmationService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params: ConfirmationParams, successCallback?: () => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'confirmation/ConfirmationDialog.html',\n            controller: 'pipConfirmationDialogController',\n            controllerAs: 'vm',\n            locals: { params: params },\n            clickOutsideToClose: true\n        })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipConfirmationDialog')\n    .service('pipConfirmationDialog', ConfirmationService);","'use strict';\n\nimport './ConfirmationController';\nimport './ConfirmationService';\n","/**\n * @file Registration of dialogs\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n'use strict';\n\nimport './error_details';\nimport './information';\nimport './options';\nimport './confirmation';\n\nangular\n    .module('pipDialogs', [\n        'pipInformationDialog',\n        'pipConfirmationDialog',\n        'pipOptionsDialog',\n        'pipOptionsBigDialog',\n        'pipErrorDetailsDialog',\n        //'pipErrorDetails2Dialog'\n    ]);\n\nexport * from './error_details';\n//export * from './error_details2';\nexport * from './information';\nexport * from './options';\nexport * from './confirmation';\n","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class ErrorStrings {\n    public ok: string = 'OK';\n    public cancel: string = 'Cancel';\n    public errorDetails: string = 'Error details';\n    public dismissButton: string = 'Dismiss';\n    public errorMessage: string = 'Message';\n    public errorCode: string = 'Code';\n    public errorMethod: string = 'Method';\n    public errorPath: string = 'Path';\n    public error: string = 'Error';\n    public errorText: string = 'Error';   \n}\n\nexport class ErrorParams {\n    public ok: string = 'OK';\n    public cancel: string = 'CANCEL';\n    public error: string = 'ERROR';\n}\n\nexport class ErrorDetailsDialogController {\n    public $mdDialog: ng.material.IDialogService;\n    public theme: string;\n    public config: ErrorStrings;\n\n    constructor(\n        $mdDialog: ng.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService, \n        params: ErrorParams) \n    {\n        \"ngInject\";\n        this.config = new ErrorStrings();\n        let pipTranslate: pip.services.ITranslateService = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n            if (pipTranslate) {\n                pipTranslate.translations('en', {\n                    'OK': 'Ok',\n                    'CANCEL': 'Cancel',\n                    'ERROR_DETAILS': 'Error details',\n                    'CODE': 'Error code',\n                    'PATH': 'Path',\n                    'ERROR': 'Error',\n                    'METHOD': 'Method',\n                    'MESSAGE': 'Message',\n                    'DISMISS': 'Dismiss'\n                });\n                pipTranslate.translations('ru', {\n                    'OK': '',\n                    'CANCEL': '',                    \n                    'ERROR_DETAILS': ' ',\n                    'CODE': ' ',\n                    'PATH': '',\n                    'ERROR': '',\n                    'METHOD': '',\n                    'MESSAGE': ''\n                });\n                this.config.ok = pipTranslate.translate(params.ok) || pipTranslate.translate('OK');\n                this.config.cancel = pipTranslate.translate(params.cancel) || pipTranslate.translate('CANCEL');\n                this.config.errorDetails = pipTranslate.translate('ERROR_DETAILS');\n                this.config.dismissButton = pipTranslate.translate('DISMISS');\n                this.config.errorMessage = pipTranslate.translate('MESSAGE');\n                this.config.errorCode = pipTranslate.translate('CODE');\n                this.config.errorMethod = pipTranslate.translate('METHOD');\n                this.config.errorPath = pipTranslate.translate('PATH');\n                this.config.errorText = pipTranslate.translate('ERROR');                \n            } else {\n                this.config.ok = params.ok || 'Ok';\n                this.config.cancel = params.cancel || 'Cancel';\n            }\n            this.$mdDialog = $mdDialog;\n            this.theme = $rootScope.$theme;\n            this.config.error = params.error;\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","\nclass ErrorDetailsService {\n    public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback, cancelCallback) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'error_details/ErrorDetails.html',\n            controller: 'pipErrorDetailsDialogController',\n            controllerAs: 'vm',\n            locals: {params: params},\n            clickOutsideToClose: true\n         })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .service('pipErrorDetailsDialog', ErrorDetailsService);","'use strict';\n\nangular\n    .module('pipErrorDetailsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ErrorDetailsService';\nimport './ErrorDetailsController';\n","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class InformationStrings {\n    public ok: string = 'OK';\n    public title: string; \n    public message: string;\n    public error: string;\n    public content;\n}\n\nexport class InformationParams {\n    public ok: string = 'OK';\n    public title?: string; \n    public message?: string;\n    public error?: string;\n    public item: any;\n}\n\nexport class InformationDialogController {\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: InformationStrings;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService, \n        params: InformationParams) \n    {\n        \"ngInject\";\n        this.config = new InformationStrings();\n\n        let content = params.message, item;\n\n        let pipTranslate: pip.services.ITranslateService = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': '' });\n\n            this.config.title = pipTranslate.translate(params.title) || pipTranslate.translate('INFORMATION_TITLE');\n            this.config.ok = pipTranslate.translate(params.ok) || pipTranslate.translate('OK');\n            content = pipTranslate.translate(content);\n        } else {\n            this.config.title = params.title || 'Information';\n            this.config.ok = params.ok || 'OK';\n        }\n\n        let pipFormat: pip.services.IFormat = $injector.has('pipFormat') ? <pip.services.IFormat>$injector.get('pipFormat') : null;\n\n        if (params.item && pipFormat) {\n            item = _.truncate(params.item, 25);\n            content = pipFormat.sprintf(content, item);\n        }\n        this.config.content = content;\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n        this.config.error = params.error;\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipInformationDialog')\n    .controller('pipInformationDialogController', InformationDialogController);","export interface IInformationService {\n    show(params, successCallback?: () => void, cancelCallback?: () => void): any;\n}\n\nclass InformationService implements IInformationService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'information/InformationDialog.html',\n            controller: 'pipInformationDialogController',\n            controllerAs: 'vm',\n            locals: { params: params},\n            clickOutsideToClose: true\n         })\n        .then(function () {\n            if (successCallback) {\n                successCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipInformationDialog')\n    .service('pipInformationDialog', InformationService);","'use strict';\n\nangular\n    .module('pipInformationDialog', [\n        'ngMaterial',\n        'pipDialogs.Translate', \n        'pipDialogs.Templates']);\n\nimport './InformationService';\nimport './InformationController';\n","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class OptionsBigData {\n    public name: string;\n    public title: string;\n    public subtitle: string;\n}\n\nexport class OptionsBigParams {\n    public title?: string;  \n    public applyButtonTitle?: string;\n    public options?: OptionsBigData[];\n    public selectedOption?: OptionsBigData;\n    public deleted?: boolean;\n    public selectedOptionName?: string;\n    public deletedTitle?: string;\n    public hint?: string;\n    public noTitle: boolean = false;\n    public noActions: boolean = false;\n    public optionIndex: number = 0;\n}\n\nexport interface IOptionsBigDialogController {\n    onOk(): void;\n    onCancel(): void;\n    onKeyUp(event: JQueryKeyEventObject, index: number): void;\n    onOptionSelect(event: ng.IAngularEvent, option: OptionsBigData);\n    onSelected(): void;\n    onSelect: Function;\n    config: OptionsBigParams;\n    theme: string;\n}\n\nexport class OptionsBigDialogController implements IOptionsBigDialogController {\n\n    private $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: OptionsBigParams;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService, \n        params: OptionsBigParams) \n    {\n        \"ngInject\";\n\n        this.$mdDialog = $mdDialog;\n        this.config = new OptionsBigParams();\n        var pipTranslate: pip.services.ITranslateService = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option'});\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' '});\n\n            this.config.title =  pipTranslate.translate(params.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.config.applyButtonTitle = pipTranslate.translate(params.applyButtonTitle) || pipTranslate.translate('SELECT');\n        } else {\n            this.config.title = params.title || 'Choose Option';\n            this.config.applyButtonTitle = params.applyButtonTitle || 'Select';\n        }\n\n        this.theme = $rootScope['$theme'];\n        this.config.options = params.options;\n        this.config.selectedOption = _.find(params.options, {active: true}) || new OptionsBigData();\n        this.config.selectedOptionName = this.config.selectedOption.name;\n        this.config.deleted = params.deleted;\n        this.config.deletedTitle = params.deletedTitle;\n        this.config.noActions = params.noActions || false;\n        this.config.noTitle = params.noTitle || false;\n        this.config.hint = params.hint || '';\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigData) {\n        event.stopPropagation();\n        this.config.selectedOptionName = option.name;\n\n        if (this.config.noActions) {\n            this.onSelect();\n        }\n    }\n\n    public onSelected() {\n        this.config.selectedOptionName = this.config.options[this.config.optionIndex].name;\n\n        if (this.config.noActions) {\n               this.onSelect();\n        }\n    }\n\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (index !== undefined && index > -1 && index < this.config.options.length) {\n                this.config.selectedOptionName = this.config.options[index].name;\n                this.onSelect();\n            }\n        }\n    }\n    \n    public onSelect = function () {\n        let option: OptionsBigData;\n        option = <OptionsBigData>_.find(this.config.options, {name: this.config.selectedOptionName}) || new OptionsBigData();\n        this.$mdDialog.hide({option: option, deleted: this.config.deleted});\n    };\n\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);","export interface IOptionsBigService {\n    show(params, successCallback?: (option) => void, cancelCallback?: () => void): any;\n}\n\nclass OptionsBigService implements IOptionsBigService {\n    public _mdDialog: angular.material.IDialogService;\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback?: (option) => void, cancelCallback?: () => void): any {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsBigDialog.html',\n            controller: 'pipOptionsBigDialogController',\n            controllerAs: 'vm',\n            locals: {params: params},\n            clickOutsideToClose: true\n         })\n        .then((option) => {\n            if (successCallback) {\n                successCallback(option);\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .service('pipOptionsBigDialog', OptionsBigService);","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class OptionsData {\n    public icon: string = 'star';\n    public name: string;\n    public title: string;\n    public active: boolean = true; \n}\n\nexport class OptionsParams {\n    public title?: string;  \n    public applyButtonTitle?: string;\n    public options?: OptionsData[];\n    public selectedOption?: OptionsData;\n    public deleted?: boolean;\n    public selectedOptionName?: string;\n    public deletedTitle?: string;\n}\n\nexport class OptionsDialogController {\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: OptionsParams;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService, \n        params: OptionsParams) {\n        \"ngInject\";\n\n        this.$mdDialog = $mdDialog;\n        this.config = new OptionsParams();\n        var pipTranslate: pip.services.ITranslateService = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option'});\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' '});\n\n            this.config.title = pipTranslate.translate(params.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.config.applyButtonTitle = pipTranslate.translate(params.applyButtonTitle) || pipTranslate.translate('SELECT');\n        } else {\n            this.config.title = params.title || 'Choose Option';\n            this.config.applyButtonTitle = params.applyButtonTitle || 'Select';\n        }\n\n        this.theme = $rootScope['$theme'];\n        this.config.options = params.options;\n        this.config.selectedOption = _.find(params.options, {active: true}) || new OptionsData();\n        this.config.selectedOptionName = this.config.selectedOption.name;\n        this.config.deleted = params.deleted;\n        this.config.deletedTitle = params.deletedTitle;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsData) {\n        event.stopPropagation();\n        this.config.selectedOptionName = option.name;\n    }\n            \n    public onKeyPress (event: JQueryKeyEventObject) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            this.onSelect();\n        }\n    }\n\n    public onSelect() {\n        let option: OptionsData;\n        option = _.find(this.config.options, {name: this.config.selectedOptionName});\n\n        this.$mdDialog.hide({option: option, deleted: this.config.deleted});\n    }\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsDialog')\n    .controller('pipOptionsDialogController', OptionsDialogController);","\nexport interface IOptionsService {\n    show(params, successCallback?: (option) => void, cancelCallback?: () => void): any;\n}\n\nclass OptionsService implements IOptionsService {\n    public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public  show(params, successCallback?: (option) => void, cancelCallback?: () => void): any {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsDialog.html',\n            controller: 'pipOptionsDialogController',\n            controllerAs: 'vm',\n            locals: {params: params},\n            clickOutsideToClose: true\n         })\n        .then((option) => {\n            if (successCallback) {\n                successCallback(option.option);\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipOptionsDialog')\n    .service('pipOptionsDialog', OptionsService);","'use strict';\n\nangular\n    .module('pipOptionsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsService';\nimport './OptionsController';\n\n\nangular\n    .module('pipOptionsBigDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n        \nimport './OptionsBigService';\nimport './OptionsBigController';","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{::vm.theme}}\"><div class=\"pip-header\"><h3>{{:: vm.config.title}}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"vm.onCancel()\">{{:: vm.config.cancel}}</md-button><md-button class=\"md-accent\" ng-click=\"vm.onOk()\">{{:: vm.config.ok}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetails.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{vm.theme}}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{::vm.config.errorDetails | translate}}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"vm.config.error.code || (vm.config.error.data && error.data.code)\">{{::vm.config.errorCode | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.code || (vm.config.error.data && vm.config.error.data.code)\">{{vm.config.error.code || vm.config.error.data.code}}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"vm.config.error.path || (vm.config.error.data && vm.config.error.data.path)\">{{::vm.config.errorPath | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.path || (vm.config.error.data && vm.config.error.data.path)\">{{vm.config.error.path || vm.config.error.data.path}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.error || (vm.config.error.data && vm.config.error.data.error)\">{{::vm.config.errorText | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.error || (vm.config.error.data && vm.config.error.data.error)\">{{vm.config.error.error || vm.config.error.data.error}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.method || (vm.config.error.data && vm.config.error.data.method)\">{{::vm.config.errorMethod | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.method || (vm.config.error.data && vm.config.error.data.method)\">{{vm.config.error.method || vm.config.error.data.method}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.message || (vm.config.error.data && vm.config.error.data.message)\">{{::vm.config.errorMessage | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.message || (vm.config.error.data && vm.config.error.data.message)\">{{vm.config.error.message || vm.config.error.data.message}}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"vm.onOk()\">{{::vm.config.dismissButton | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{vm.theme}}\"><div class=\"pip-header\"><h3>{{:: vm.config.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ vm.config.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"vm.onOk()\">{{ vm.config.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{vm.theme}}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !vm.config.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': vm.config.noTitle && vm.config.hint}\"><h3 class=\"m0\" ng-if=\"!vm.config.noTitle\">{{::vm.config.title | translate}}</h3><div ng-show=\"vm.config.noTitle && vm.config.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{::vm.config.hint | translate}}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"vm.config.optionIndex\" index=\"{{vm.config.optionIndex }}\" pip-select=\"vm.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"vm.onKeyUp($event, $index)\" ng-repeat=\"option in vm.config.options\"><div class=\"pip-content content-stretch\" ng-click=\"vm.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{::option.title | translate}}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{::option.subtitle | translate}}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"vm.config.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!vm.config.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"vm.onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"vm.onSelect()\" style=\"margin-right: -6px\">{{::vm.config.applyButtonTitle | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{vm.theme}}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{::vm.config.title | translate}}</h3><div ng-show=\"vm.config.deletedTitle\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"deleted\" aria-label=\"CHECKBOX\">{{::vm.config.deletedTitle | translate}}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"vm.config.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"vm.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in vm.config.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'vm.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == vm.config.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{option.icon}}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{::option.title | translate}}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{::option.title | translate}}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"vm.onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"vm.onSelect()\">{{::vm.config.applyButtonTitle | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","'use strict';\n\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-cool': 'Cool'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     'bootbarn-cool': ''\n    // });\n    \n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(69, 90, 100, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\n\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(69, 90, 100, .54)',\n        '500': 'rgba(69, 90, 100, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\n\n\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-cool')\n        .primaryPalette('bootbarn-cool-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-cool-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-cool-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\n    .config(configureBootBarnCoolTheme);\n","'use strict';\n\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-monochrome': 'Monochrome'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     'bootbarn-monochrome': ''\n    // });\n    \n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(38, 50, 56, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\n\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(38, 50, 56, .54)',\n        '500': 'rgba(38, 50, 56, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\n\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-monochrome')\n        .primaryPalette('bootbarn-monochrome-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-monochrome-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-monochrome-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\n    .config(configureBootBarnMonochromeTheme);\n","'use strict';\n\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-warm': 'Warm'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     'bootbarn-warm': ''\n    // });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(177, 55, 34, 1)'\n        })\n        ;\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\n\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\n        '300': 'rgba(177, 55, 34, .54)',\n        '500': 'rgba(177, 55, 34, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\n\n\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'A700': 'rgba(127, 148, 92, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\n\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\n        'A200': 'rgba(255, 82, 82, 1)',\n        'contrastLightColors': ['A200']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\n\n    $mdThemingProvider.theme('bootbarn-warm')\n    .primaryPalette('bootbarn-warm-primary', {\n        'default': '500',\n        'hue-1': '300'\n    })\n    .backgroundPalette('bootbarn-warm-background', {\n        'default': '50',  // background\n        'hue-1': 'A200',  // tiles dialog\n        'hue-2': 'A700'   // app bar\n    })\n    .warnPalette('bootbarn-warm-error', {\n        'default': 'A200'\n    })\n    .accentPalette('bootbarn-warm-accent', {\n        'default': 'A700'\n    });\n}\n\nangular.module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\n    .config(configureBootBarnWarmTheme);\n","'use strict';\n\nimport './BootBarnCoolTheme';\nimport './BootBarnWarmTheme';\nimport './BootBarnMonochromeTheme';\n\nangular.module('pipTheme.BootBarn', [\n    'ngMaterial',\n    'pipTheme.BootBarn.Warm',\n    'pipTheme.BootBarn.Cool',\n    'pipTheme.BootBarn.Monochrome',\n]);\n","'use strict';\n\nexport let ThemeRootVar = \"$theme\";\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \nexport let ThemeResetPage = \"pipResetPage\";    \n\nexport interface IThemeService {\n    theme: string;\n    use(language: string): string;\n}\n\nexport interface IThemeProvider extends IThemeService, ng.IServiceProvider {\n    setRootVar: boolean;\n    persist: boolean;\n}\n\nclass ThemeConfig {\n    public theme: string;\n}\n\nclass ThemeService implements IThemeService {\n    private _config: ThemeConfig;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _currentTheme: string = null;\n\n    public constructor(\n        private $log: ng.ILogService,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $mdTheming,\n        config: ThemeConfig,\n        setRootVar: boolean,\n        persist: boolean,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._config = config;\n\n        if (this._persist && this.$window.localStorage && this._config.theme == \"default\")\n            this._config.theme = this.$window.localStorage.getItem('theme') || this._config.theme;\n\n        this.$log.debug(\"Set theme to \" + this._config.theme);\n\n        // Define theme for angular material \n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\n        this.save();\n    }\n\n    private save(): void {\n        let body = $('body');\n        let newTheme = this._config.theme;\n\n        // Switch material theme\n        // body.attr('md-theme', newTheme);\n\n        // Change custom theme\n        body.addClass(newTheme);\n        if (this._currentTheme != null && this._currentTheme != newTheme)\n            body.removeClass(this._currentTheme);            \n\n        this._currentTheme = newTheme;\n\n        // Set root scope variable\n        if (this._setRootVar)\n            this.$rootScope[ThemeRootVar] = this._config.theme;\n\n        // Save in local storage\n        if (this._persist && this.$window.localStorage != null)\n            this.$window.localStorage.setItem('theme', this._config.theme);\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        if (value != this._config.theme) {\n            if (!(value in this.$mdTheming.THEMES))\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\n\n            this._config.theme = value;\n            \n            this.$log.debug(\"Changing theme to \" + value);\n\n            this.save();                \n\n            this.$rootScope.$emit(ThemeChangedEvent, value);\n            this.$rootScope.$emit(ThemeResetPage);\n        }\n    }\n\n    public use(theme: string): string {\n        if (theme != null)\n            this.theme = theme;\n        return this.theme;\n    }\n\n}\n\nclass ThemeProvider implements IThemeProvider {\n    private _config: ThemeConfig = new ThemeConfig();\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: ThemeService;\n    \n    public constructor() {\n        this._config.theme = \"default\";\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        this._config.theme = value;\n    }\n\n    public use(theme: string): string {\n        if (theme != null)\n            this.theme = theme;\n        return this.theme;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdTheming: any\n    ): ThemeService {\n        \"ngInject\";\n\n        if (_.isNull(this._service) || _.isUndefined(this._service)) \n            this._service = new ThemeService( $log, $rootScope, $window, this._config,  $mdTheming, this._setRootVar, this._persist);\n\n        return this._service;\n    }\n}\n\nfunction initTheme(pipTheme: IThemeService) {\n    pipTheme.theme;\n}\n\nangular\n    .module('pipTheme')\n    .provider('pipTheme', ThemeProvider)\n    .run(initTheme);\n","'use strict';\n\nangular.module('pipTheme', ['ngMaterial']);\n\nimport './ThemeService';\n\nexport * from './ThemeService';\n","'use strict';\n\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     amber: 'Amber'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     amber: ''\n    // });\n\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)'\n    });\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\n\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 152, 0, 1)',\n        '900': 'rgba(255, 152, 0, .54);'\n    });\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\n\n    $mdThemingProvider.theme('amber')\n        .primaryPalette('orange-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('orange-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('orange', {\n            'default': '900'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\n    .config(configureDefaultAmberTheme);\n","'use strict';\n\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     blue: 'Blue',\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     blue: ''\n    // });\n\n    registerBlueTheme('default');\n    registerBlueTheme('blue');\n\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    function registerBlueTheme(themeName) {\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\n            'contrastDefaultColor': 'light',\n            'contrastDarkColors': undefined\n        });\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\n\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(33, 150, 243, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\n\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\n            '600': 'rgba(0, 200, 83, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\n\n        $mdThemingProvider.theme(themeName)\n            .primaryPalette('blue-primary', {\n                'default': '500',\n                'hue-1': '300'\n            })\n            .backgroundPalette('blue-background', {\n                'default': '50',  // background\n                'hue-1': 'A200',  // tiles dialog\n                'hue-2': 'A700'   // app bar\n            })\n            .warnPalette('red', {\n                'default': 'A200'\n            })\n            .accentPalette('blue-accent', {\n                'default': '600'\n            });\n    }\n}\n\nangular\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\n    .config(configureDefaultBlueTheme);\n","'use strict';\n\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     green: 'Green'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     green: ''\n    // });\n\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(76, 175, 80, 1)'\n    });\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\n\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\n        '300': '#9ed4a1',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\n\n\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\n\n    $mdThemingProvider.theme('green')\n        .primaryPalette('green-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('green-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('green-accent', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Green', [ 'ngMaterial' ])\n    .config(configureDefaultGreenTheme);\n","'use strict';\n\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     grey: 'Grey'\n    // });\n    \n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     grey: ''\n    // });\n\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)',\n        'A400': '#a9b9c0',\n        '500': '#607D8B',\n        'A700': '#90A4AE',\n        //'800': '',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\n\n\n    $mdThemingProvider.theme('grey')\n        .primaryPalette('third-party', {\n            'default': '500',\n            'hue-1': 'A400'\n        })\n        .backgroundPalette('third-party', {\n            'default': '50',  // background\n            'hue-1': '500',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('third-party', {\n            'default': 'A700'\n        });\n    \n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\n    .config(configureDefaultGreyTheme);\n","'use strict';\n\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     navy: 'Navy'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     navy: '-'\n    // });\n\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\n        '700': 'rgba(86, 97, 125, 1)',\n        '800': 'rgba(86, 97, 125, .54)',\n        'A100': 'rgba(250, 250, 250, 1)',\n    });\n    $mdThemingProvider.definePalette('grey', greyPalette);\n\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('teal', tealPalette);\n\n    $mdThemingProvider.theme('navy')\n        .primaryPalette('grey', {\n            'default': '700',\n            'hue-1': '800'\n        })\n        .backgroundPalette('grey', {\n            'default': '50',  // background\n            'hue-1': '700',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('teal', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\n    .config(configureDefaultNavyTheme);\n","'use strict';\n\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     orange: 'Orange'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     orange: ''\n    // });\n\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 112, 67, 1)',\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\n    });\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\n\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 112, 67, 1)',\n        '900': 'rgba(255, 152, 67, .54)',\n        'A100': 'rgba(255, 171, 64, 1)',\n        'contrastLightColors': ['800', '900', 'A100']\n    });\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\n\n    $mdThemingProvider.theme('orange')\n        .primaryPalette('red-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('red-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('red-primary', {\n            'default': 'A100'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\n    .config(configureDefaultOrangeTheme);\n","'use strict';\n\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     pink: 'Pink'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     pink: '',\n\n    // });\n\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['A200', 'A700']\n    });\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\n\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\n        '600': 'rgba(255, 128, 171, 1)',\n        '700': 'rgba(188, 86, 121, .54)',\n        '900': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'light'\n    });\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\n\n    $mdThemingProvider.theme('pink')\n        .primaryPalette('pink-primary', {\n            'default': '900',\n            'hue-1': '700'\n        })\n        .backgroundPalette('pink-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('pink-primary', {\n            'default': '600'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\n    .config(configureDefaultPinkTheme);\n","'use strict';\n\nimport './DefaultBlueTheme';\nimport './DefaultPinkTheme';\nimport './DefaultAmberTheme';\nimport './DefaultOrangeTheme';\nimport './DefaultGreenTheme';\nimport './DefaultNavyTheme';\nimport './DefaultGreyTheme';\n\n\nangular\n    .module('pipTheme.Default', [\n        'ngMaterial',\n        'pipTheme.Blue', \n        'pipTheme.Pink',\n        'pipTheme.Amber', \n        'pipTheme.Orange', \n        'pipTheme.Green', \n        'pipTheme.Navy', \n        'pipTheme.Grey'\n    ])\n    .config(configureDefaultTheme);\n\nfunction configureDefaultTheme($mdThemingProvider) {\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n","/**\n * @file Errors string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Strings', ['pipTranslate']);\n\n    thisModule.run(($injector: angular.auto.IInjectorService) => {\n        let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        if (pipTranslate == null) return;\n\n        // Set translation strings for the module\n        pipTranslate.translations('en', {\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n            'ERROR_ROUTE_CONTINUE': 'Continue',\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\n\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n            'ERROR_UNKNOWN_CLOSE': 'Close',\n            'ERROR_UNKNOWN_DETAILS': 'Details',\n\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n                                            'a short period. We\\'ll be back soon. Thank for your patience.',\n            'ERROR_AVAILABLE_CLOSE': 'Close',\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\n\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\n            'ERROR_RESPONDING_RETRY': 'Retry',\n\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n                                          'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n                                          'technologies. Download one of these great browsers and you\\'ll be on your way:',\n            'ERROR_UNSUPPORTED_O': 'Opera',\n            'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\n\n        });\n\n        pipTranslate.translations('ru', {\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n            'ERROR_ROUTE_CONTINUE': 'Continue',\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\n\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n            'ERROR_UNKNOWN_CLOSE': 'Close',\n            'ERROR_UNKNOWN_DETAILS': 'Details',\n\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n            'a short period. We\\'ll be back soon. Thank for your patience.',\n            'ERROR_AVAILABLE_CLOSE': 'Close',\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\n\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\n            'ERROR_RESPONDING_RETRY': 'Retry',\n\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n            'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n            'technologies. Download one of these great browsers and you\\'ll be on your way:',            \n            'ERROR_UNSUPPORTED_O': 'Opera',\n            'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\n\n        });\n    });\n\n})();","/**\n * @file Registration of all error handling components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(() => {\n    'use strict';\n\n    angular.module('pipErrors', [\n        'pipErrors.Pages',\n        'pipErrorsService',\n        'pipNoConnectionPanel',\n        'pipClearErrors',\n\t    'pipFormErrors'\n\n    ]);\n    \n})();","'use strict';\n\nangular.module('pipErrorsService', []);\n\nimport './errors_service';","/* global angular */\n\nimport {IErrorsService, ErrorsConfig} from './errors_service';\n\nclass ErrorsPageRun {\n    constructor(\n        $rootScope: ng.IRootScopeService, \n        private $state: ng.ui.IStateService, \n        private $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let errorConfig: ErrorsConfig = pipErrorsService.config;\n\n            if (errorConfig.Unsupported.Active) {\n                this.checkSupported();\n            }\n\n            if (errorConfig.MissingRoute.Active) {\n                $rootScope.$on('$stateNotFound',\n                    (\n                        event: angular.IAngularEvent, \n                        unfoundState: ng.ui.IState, \n                        fromState: ng.ui.IState, \n                        fromParams: any) => {\n                        event.preventDefault();\n\n                        $state.go('errors_missing_route', {\n                            unfoundState: unfoundState,\n                            fromState: {\n                                to: fromState ? fromState.name : '',\n                                fromParams: fromParams\n                            }\n                        }\n                        );\n                        $rootScope['$routing'] = false;\n                    }\n                );\n            }\n\n            if (errorConfig.NoConnection.Active) {\n                $rootScope.$on('pipNoConnectionError', \n                (event: angular.IAngularEvent, params) => { \n                    this.noConnectionError(event, params)\n                });\n            }\n\n            if (errorConfig.Unknown.Active) {\n                $rootScope.$on('pipUnknownError',\n                (event: angular.IAngularEvent, params) => { \n                    this.unknownError(event, params)\n                });\n            }\n\n            if (errorConfig.Maintenance.Active) {\n                $rootScope.$on('pipMaintenanceError',\n                (event: angular.IAngularEvent, params) => { \n                    this.maintenanceError(event, params)\n                });\n            }\n    }\n\n    private goToErrors(toState: string, params) {\n        if (toState == null)\n            throw new Error('Error state was not defined');\n\n        this.$state.go(toState, params);\n    }\n\n    private maintenanceError(event: angular.IAngularEvent, params) {\n        this.goToErrors('errors_maintenance', params);\n    }\n\n    private noConnectionError(event: angular.IAngularEvent, params) {\n        this.goToErrors('errors_no_connection', params);\n    }\n\n    private unknownError(event: angular.IAngularEvent, params) {\n        this.goToErrors('errors_unknown', params);\n    }\n// todo: implement this into puplic service\n    private checkSupported(supported?: any) {\n        let pipSystemInfo: any = this.$injector.has('pipSystemInfo') ? this.$injector.get('pipSystemInfo') : null;\n        if (!pipSystemInfo) { return; }\n\n                // todo make configured\n        if (!supported) {\n            supported = {\n                edge: 11,\n                ie: 11,\n                firefox: 43, //4, for testing\n                opera: 35,\n                chrome: 47\n            };\n        }\n\n        let browser: string = pipSystemInfo.browserName;\n        let version: string = pipSystemInfo.browserVersion;\n            version = version.split(\".\")[0]\n\n        if (browser && supported[browser] && version >= supported[browser]) {\n            return;\n        }\n                // if not supported\n        this.$state.go('errors_unsupported');\n    }\n}\n\ninterface IAuthHttpResponseInterceptor {\n    responseError(rejection);\n}\n\nclass AuthHttpResponseInterceptor implements IAuthHttpResponseInterceptor{\n    constructor(\n        private $q: ng.IQService, \n        private $location: ng.ILocationService, \n        private $rootScope: ng.IRootScopeService) {}\n    public responseError(rejection) {\n        let toState: string = this.$rootScope['$state'] && this.$rootScope['$state'].name ? this.$rootScope['$state'].name : null,\n            toParams = this.$rootScope['$state'] && this.$rootScope['$state'].params ? this.$rootScope['$state'].params : null;\n\n        switch (rejection.status) {\n            case 503:\n                //available (maintenance)\n                this.$rootScope.$emit('pipMaintenanceError', { error: rejection });\n                break;\n            case -1:\n                this.$rootScope.$emit('pipNoConnectionError', { error: rejection });\n                break;\n            default:\n                console.error(\"errors_unknown\", rejection);\n                break;\n        }\n\n        return this.$q.reject(rejection);\n    }\n\n}\n\n    import {ErrorMaintenanceController} from '../maintenance/maintenance';\n\n(() => {\n    'use strict';\n\n    function ErrorsPageConfig(\n        $stateProvider: ng.ui.IStateProvider, \n        $httpProvider: ng.IHttpProvider\n    ) {\n        // Attach interceptor to react on unauthorized errors\n        $httpProvider.interceptors.push('pipAuthHttpResponseInterceptor');\n\n            // Configure module routes\n        $stateProvider\n                .state('errors_no_connection', {\n                    url: '/errors/no_connection',\n                    params: {\n                        error: null\n                    },\n                    controller: 'pipErrorNoConnectionController',\n                     controllerAs: '$ctrl',\n                    templateUrl: 'no_connection/no_connection.html'\n                })\n                .state('errors_maintenance', {\n                    url: '/errors/maintenance',\n                    params: {\n                        error: null\n                    },\n                    controller: ErrorMaintenanceController,\n                    controllerAs: '$ctrl',\n                    templateUrl: 'maintenance/maintenance.html'\n                })\n                .state('errors_missing_route', {\n                    url: '/errors/missing_route',\n                    params: {\n                        unfoundState: null,\n                        fromState: null\n                    },\n                    controller: 'pipErrorMissingRouteController',\n                    controllerAs: '$ctrl',\n                    templateUrl: 'missing_route/missing_route.html'\n                })\n                .state('errors_unsupported', {\n                    url: '/errors/unsupported',\n                    params: {\n                        error: null\n                    },\n                    controllerAs: '$ctrl',\n                    controller: 'pipErrorUnsupportedController',\n                    templateUrl: 'unsupported/unsupported.html'\n                })\n                .state('errors_unknown', {\n                    url: '/errors/unknown',\n                    params: {\n                        error: null\n                    }, \n                    controllerAs: '$ctrl',\n                    controller: 'pipErrorUnknownController',\n                    templateUrl: 'unknown/unknown.html'\n                });\n    }\n\n    angular.module('pipErrors.Pages', [\n        'ngMaterial',\n        'pipErrors.Strings', 'pipErrors.NoConnection', 'pipErrors.MissingRoute', 'pipErrors.Unsupported',\n        'pipErrors.Unknown', 'pipErrors.Maintenance', 'pipErrors.Translate', 'pipErrors.Templates'\n    ])\n    .config(ErrorsPageConfig)\n    .run((\n        $rootScope: ng.IRootScopeService, \n        $state: ng.ui.IStateService, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) => {\n        let run = new ErrorsPageRun($rootScope, $state, $injector, pipErrorsService);\n    })\n    .service('pipAuthHttpResponseInterceptor', AuthHttpResponseInterceptor);\n\n})();\n\n","'use strict';\n\nexport class ErrorStateItem {\n    Active: boolean;\n    Name: string;\n    Event: string;\n    Title: string;\n    SubTitle: String;\n    Breadcrumb: string;\n    Image: string;\n    Params?: any;\n}\n\nexport class ErrorsConfig {\n    Maintenance: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_maintenance',\n        Event: 'pipMaintenanceError',\n        Title: 'ERROR_AVAILABLE_TITLE',\n        SubTitle: 'ERROR_AVAILABLE_SUBTITLE',\n        Breadcrumb: 'ERROR_AVAILABLE_TITLE',\n        Image: 'images/maintenance.svg'\n        \n    };\n    MissingRoute: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_missing_route',\n        Event: '$stateNotFound',\n        Title: 'ERROR_ROUTE_TITLE',\n        SubTitle: 'ERROR_ROUTE_SUBTITLE',\n        Breadcrumb: 'ERROR_ROUTE_PAGE_TITLE',\n        Image: 'images/invalid_route.svg'\n    };\n    NoConnection: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_no_connection',\n        Event: 'pipNoConnectionError',\n        Title: 'ERROR_RESPONDING_TITLE',\n        SubTitle: 'ERROR_RESPONDING_SUBTITLE',\n        Breadcrumb: 'ERROR_RESPONDING_TITLE',\n        Image: 'images/no_response.svg'\n    };\n    Unknown: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_unknown',\n        Event: 'pipUnknownError',\n        Title: 'ERROR_UNKNOWN_TITLE',\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\n        Image: 'images/unknown_error.svg'\n    };\n    Unsupported: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_unsupported',\n        Event: '',\n        Title: 'ERROR_UNSUPPORTED_TITLE',\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\n        Image: '',\n        Params: {\n            supported: {\n                edge: 11,\n                ie: 11,\n                firefox: 43, \n                opera: 35,\n                chrome: 47\n            }\n        }\n    }\n}\n\nexport interface IErrorsService {\n    getErrorItemByKey(errorName: string): ErrorStateItem;\n\n    config: ErrorsConfig;\n}\n\nexport interface IErrorsProvider extends ng.IServiceProvider {\n    configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void;\n    configureErrors(value: ErrorsConfig): void;\n    config: ErrorsConfig;\n}\n\nclass ErrorsService implements IErrorsService {\n    private _config: ErrorsConfig;\n\n    public constructor(\n        config: ErrorsConfig\n    ) {\n        \"ngInject\";\n\n        this._config = config || new ErrorsConfig();\n    }\n\n    public get config(): ErrorsConfig {\n        console.log(this._config);\n        return this._config;\n    }\n\n    public getErrorItemByKey(errorName: string): ErrorStateItem {\n        if (!errorName || !this._config[errorName]) {\n            return null;\n        }\n\n        return this._config[errorName];\n    }\n\n}\n\nclass ErrorsProvider implements IErrorsProvider {\n    private _service: ErrorsService;\n    public config: ErrorsConfig;\n\n    constructor() {\n        this.config = new ErrorsConfig();\n    }\n\n    public configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void {\n        if (!errorName || !errorParams) return;\n        if (!this.config[errorName]) return;\n\n        this.config[errorName] = <ErrorStateItem>_.defaultsDeep(errorParams, this.config[errorName]);\n    }\n\n    public configureErrors(value: ErrorsConfig): void {\n        if (!value) return;\n\n        this.config = <ErrorsConfig>_.defaultsDeep(value, this.config);\n    }\n\n    public $get(): ErrorsService {\n        \"ngInject\";\n\n        if (this._service == null ) {\n            this._service = new ErrorsService(this.config);\n        }\n\n        return this._service;\n    }\n}\n\n(() => {\nangular\n    .module('pipErrorsService')\n    .provider('pipErrorsService', ErrorsProvider);\n\n})();\n","/**\n * @file Special error handling for forms\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nclass ClearErrorsLink {\n    private _fieldController: any;\n    private _formController: any;\n\n    constructor(\n        $scope: ng.IScope,\n        $element: ng.IRootElementService, \n        $attrs: ng.IAttributes, \n        $ctrls\n    ) {\n        this._fieldController = $ctrls[0],\n        this._formController = $ctrls[1];\n\n        $scope.$watch($attrs['ngModel'], (newValue) => {\n            this.clearFieldErrors();\n            this.clearFormErrors();\n        });\n    }\n\n    private clearFieldErrors() {\n        let errors = this._fieldController.$error;\n\n        for (let prop in errors) {\n            if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\n                this._fieldController.$setValidity(prop, true);\n            }\n        }\n    }\n\n    private clearFormErrors() {\n        this._formController.$serverError = {};\n    }\n}\n\n(() => {\n    'use strict';\n\n    function clearErrors () {\n        return {\n            restrict: 'A',\n            require: ['ngModel', '^?form'],\n            link: ClearErrorsLink\n        };\n    }\n\n    var thisModule = angular.module('pipClearErrors', []);\n\n    thisModule.directive('pipClearErrors', clearErrors);\n\n})();","/**\n * @file Form error utilities\n * @copyright Digital Living Software Corp. 2014-2016\n *\n */\n \n /* global _, angular */\n\n class FormErrors {\n\n    constructor(private $rootScope: ng.IRootScopeService) {}\n\n    public errorsWithHint(field) {\n        if (field == null) return;\n\t\t\t\n        return _.isEmpty(field.$error) ? { hint: true } : field.$error;\n    };\n\n    public touchedErrorsWithHint(form: ng.IFormController, field) {\n        if (form == null) return;\n        if (field == null) return;\n\n        if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\n            let result = _.isEmpty(field.$error) ? { hint: true} : field.$error;\n            return result;\n        }\n        return { hint: true };\n    }\n\n    public resetFormErrors(form: ng.IFormController, errors?: boolean): void {\n        form.$setPristine();\n        form.$setUntouched();\n\n        if (errors) {\n            form.$setDirty();\n            form.$setSubmitted();\n        }\n\n        form['$serverError'] = {};\n    }\n\n    public resetFieldsErrors(form: ng.IFormController, field) {\n        if (!form) return;\n        if (field && form[field] && form[field].$error) {\n            form[field].$error = {};\n        } else {\n            for (let prop in form) {\n                if (form[prop] && form[prop].$error) {\n                    form[prop].$error = {};\n                }\n            }\n            if (form && form.$error) { \n                form.$error = {}; \n            }\n        }\n    }\n\n    public setFormError(form: ng.IFormController, error, errorFieldMap) {\n            if (error == null) return;\n            // Prepare form server errors\n            form['$serverError'] = form['$serverError'] || {};\n            // Prepare error code\n            let code: string = error.code || (error.data || {}).code || null;\n            if (!code && error.status) code = error.status;\n\n            if (code) {\n                let errorName = 'ERROR_' + code,\n                    field = errorFieldMap ? errorFieldMap[code] : null;\n                // Set server error to fields\n                if (field && form[field] && form[field].$setValidity) {\n                    form[field].$setValidity(errorName, false);\n                    return;\n                }\n\n                // Set server error to form\n                if (field == 'form') {\n                    form['$serverError'][errorName] = true;\n                    return;\n                }\n            }\n\n            // if undefined error for this form or code === undefined/null, go to unhandled error page\n            if (error.data && error.data.message) {\n                form['$serverError']['ERROR_UNKNOWN'] = error.data.message;\n                this.goToUnhandledErrorPage(error);\n                return;\n            }\n\n            // Set as undefined error\n            if (error.message) {\n                form['$serverError']['ERROR_UNKNOWN'] = error.message;\n                this.goToUnhandledErrorPage(error);\n                return;\n            }\n\n            if (error.name) {\n                form['$serverError']['ERROR_UNKNOWN'] = error.name;\n                this.goToUnhandledErrorPage(error);\n                return;\n            }\n\n            \n            form['$serverError']['ERROR_UNKNOWN'] = error;\n            this.goToUnhandledErrorPage(error);\n        }\n\n        private goToUnhandledErrorPage(error) {\n            this.$rootScope.$emit('pipUnhandledInternalError', {\n                error: error\n            });\n        };\n }\n \n(() => {\n    'use strict';\n\n    angular.module('pipFormErrors', [])\n    .service('pipFormErrors', FormErrors);\n\n})();","/**\n * @file Maintenance error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipMaintenanceError {\n    config?: PipMaintenanceErrorConfig;\n}\nexport class PipMaintenanceErrorConfig {\n    params?: PipMaintenanceErrorParams;\n}\nexport class PipMaintenanceErrorParams {\n    interval?: number = 0;\n}\n\nexport class ErrorMaintenanceController {\n    private _errorKey: string = 'Maintenance';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipMaintenanceError;\n    public timeoutInterval: number;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n        this.timeoutInterval = this.error && this.error.config &&\n            this.error.config.params && this.error.config.params.interval ? this.error.config.params.interval : 0;\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n}\n\n\n(() => {\n    'use strict';\n\n    angular.module('pipErrors.Maintenance', []).controller('PipErrorMaintenanceController', ErrorMaintenanceController);\n\n})();\n","/**\n * @file Missing route error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nclass PipMissingRouteErrorState {\n   to: string;\n   toParams: any;\n   fromParams: any;\n}\n\nclass ErrorMissingRouteController {\n    private _errorKey: string = 'MissingRoute';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public fromState: PipMissingRouteErrorState;\n    public unfoundState: PipMissingRouteErrorState;\n    public url: string;\n    public urlBack: string;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.fromState = $state && $state.params && $state.params['fromState'] ?  $state.params['fromState'] : {};\n        this.unfoundState = $state && $state.params ?  $state.params['unfoundState'] : {};\n        this.url = this.unfoundState && this.unfoundState.to ? $state.href(this.unfoundState.to, this.unfoundState.toParams, {absolute: true}) : '';\n        this.urlBack = this.fromState && this.fromState.to ? $state.href(this.fromState.to, this.fromState.fromParams, {absolute: true}) : '';\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    public  onContinue() {\n            // Todo: Go to default state '/'\n            //pipAuthState.goToAuthorized();\n    };\n}\n\n\n(() => {\n    'use strict';\n\n    angular.module('pipErrors.MissingRoute', [])\n        .controller('pipErrorMissingRouteController', ErrorMissingRouteController);\n\n})();\n","/**\n * @file No connection error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipNoConnectionError {\n    config?: any;\n}\n\nexport class ErrorNoConnectionController {\n    private _errorKey: string = 'NoConnection';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipNoConnectionError;\n\n    constructor(\n        private $window: ng.IWindowService,\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    public onRetry() {\n        this.$window.history.back();\n    }\n}\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.NoConnection', []);\n\n    thisModule.controller('pipErrorNoConnectionController',  ErrorNoConnectionController);\n\n\n})();\n","/**\n * @file No Connection Error panel\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global _, angular */\nclass NoConnectionPanelController {\n    private _retry: Function;\n    constructor($scope: ng.IScope){\n        this._retry = $scope['retry'];\n    }\n\n    public onRetry() {\n        if (this._retry && angular.isFunction(this._retry)) this._retry();\n    }\n}\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module(\"pipNoConnectionPanel\", ['pipErrors.Translate']);\n\n    thisModule.directive('pipNoConnectionPanel',\n        () => {\n            return {\n                restrict: 'E',\n                scope: {\n                    error: '=pipError',\n                    retry: '=pipRetry'\n                },\n                templateUrl: 'no_connection_panel/no_connection_panel.html',\n                controller: 'pipNoConnectionPanelController',\n                controllerAs: '$ctrl'\n            };\n        }\n    );\n\n    thisModule.controller('pipNoConnectionPanelController', NoConnectionPanelController);\n\n})();\n\n","/**\n * @file Unknown error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipUnknownErrorDetails {\n    code: number;\n    message: string;\n    status: string;\n    server_stacktrace: Function;\n    client_stacktrace: Function;\n}\n\nexport class ErrorUnknownController {\n    private _errorKey: string = 'Unknown';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipUnknownErrorDetails;\n    public error_details: PipUnknownErrorDetails;\n    public showError: boolean;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.showError = $scope['showError'];\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n        \n        this.parseError();\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    private parseError() {\n        this.error_details = new PipUnknownErrorDetails();\n        this.error_details.code = this.error.code;\n        this.error_details.message = this.error.message;\n        this.error_details.status = this.error.status;\n\n        this.error_details.server_stacktrace = () => {};\n\n        this.error_details.client_stacktrace = () => {};\n    }\n\n    public onDetails() {\n        this.showError = true;\n    }\n\n}\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Unknown', []);\n\n    thisModule.controller('pipErrorUnknownController', ErrorUnknownController);\n\n})();\n","/**\n * @file Unsupported error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipUnsupportedError {\n    config?: any;\n}\n\nexport class ErrorUnsupportedController {\n    private _errorKey: string = 'Unsupported';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipUnsupportedError;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n}\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Unsupported', []);\n\n    thisModule.controller('pipErrorUnsupportedController', ErrorUnsupportedController);\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/maintenance.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_AVAILABLE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_AVAILABLE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.timeoutInterval\">{{::\\'ERROR_AVAILABLE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"$ctrl.isCordova\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_AVAILABLE_CLOSE\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/no_connection.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/missing_route.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"$ctrl.onContinue($event)\">{{::\\'ERROR_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{$ctrl.url}}\">{{::\\'ERROR_ROUTE_TRY_AGAIN\\' | translate }}: {{$ctrl.url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{$ctrl.urlBack}}\">{{::\\'ERROR_ROUTE_GO_BACK\\' | translate }}: {{$ctrl.urlBack}}</a></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/no_connection_panel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/unknown.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.showError && $ctrl.error_details && $ctrl.error_details.message\"><div ng-if=\"$ctrl.error_details.code\">Code: {{$ctrl.error_details.code}}</div><div ng-if=\"$ctrl.error_details.message\">Description: {{$ctrl.error_details.message}}</div><div ng-if=\"$ctrl.error_details.status\">HTTP status: {{$ctrl.error_details.status}}</div><div ng-if=\"$ctrl.error_details.server_stacktrace\">Server stacktrace: {{$ctrl.error_details.server_stacktrace}}</div><div ng-if=\"$ctrl.error_details.client_stacktrace\">Client stacktrace stacktrace: {{$ctrl.error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"$ctrl.isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"$ctrl.error_details && $ctrl.error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"$ctrl.onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/unsupported.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$ctrl.media(\\'gt-xs\\')\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$ctrl.media(\\'xs\\')\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipBarCharts\n     *\n     * @description\n     * Bar chart on top of Rickshaw charts\n     */\n    angular.module('pipBarCharts', [])\n        .directive('pipBarChart', pipBarChart);\n\n    function pipBarChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                xTickFormat: '=pipXTickFormat',\n                yTickFormat: '=pipYTickFormat',\n                interactiveLegend: '=pipInterLegend'\n            },\n            bindToController: true,\n            controllerAs: 'barChart',\n            templateUrl: 'bar/bar_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                let vm = this;\n                let chart = null;\n                let chartElem = null;\n                let colors = _.map($mdColorPalette, function (palette, color) {\n                    return color;\n                });\n                colors = _.filter(colors, function(color){\n                    return _.isObject($mdColorPalette[color]) && _.isObject($mdColorPalette[color][500] && _.isArray($mdColorPalette[color][500].value));\n                });                \n                let height = 270;\n\n                vm.data = prepareData(vm.series) || [];\n                vm.legend = _.clone(vm.series);\n                \n                if ((vm.series || []).length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                $scope.$watch('barChart.series', function (updatedSeries) {\n                    vm.data = prepareData(updatedSeries);\n                    vm.legend = _.clone(vm.series);\n                    generateParameterColor();\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        configBarWidthAndLabel();\n                        drawEmptyState();\n                    }\n                });\n\n                $scope.$watch('barChart.legend', function(updatedLegend) {\n                    vm.data = prepareData(updatedLegend);\n                    vm.legend = updatedLegend;\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        configBarWidthAndLabel();\n                        drawEmptyState();\n                    }\n                }, true);\n\n                function prepareData(data) {\n                    let result = [];\n                    _.each(data, (seria) => {\n                        if (!seria.disabled && seria.values) result.push(seria);\n                    });\n\n                    return _.cloneDeep(result);\n                }\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(function () {\n                    chart = nv.models.discreteBarChart()\n                        .margin({top: 10, right: 0, bottom: 10, left: 50})\n                        .x(function (d) { return d.label || d.key || d.x; })\n                        .y(function (d) { return d.value; })\n                        .showValues(true)\n                        .staggerLabels(true) \n                        .showXAxis(true)\n                        .showYAxis(true)\n                        .valueFormat(<any>d3.format('d'))\n                        .duration(0)\n                        .height(height)\n                        .color(function(d) {\n                            return vm.data[d.series].color || materialColorToRgba(colors[d.series]);\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n\n                    chart.yAxis\n                        .tickFormat(function (d) {\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\n                        });\n\n                    chart.xAxis\n                        .tickFormat(function (d) {\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\n                        });\n\n                    chartElem = d3.select($element.get(0))\n                        .select('.bar-chart svg')\n                        .datum(vm.data)\n                        .style('height', '285px')\n                        .call(chart);\n\n                    nv.utils.windowResize(() => {\n                        chart.update();\n                         configBarWidthAndLabel(0);\n                         drawEmptyState();\n                    });\n\n                    return chart;\n                }, function () {\n\n                    $timeout(configBarWidthAndLabel, 0);\n                    drawEmptyState();\n                });\n\n                function drawEmptyState() {\n                    if ($element.find('.nv-noData').length === 0) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                    } else {\n                        let g = chartElem.append('g').classed('empty-state', true),\n                            width = $element.find('.nvd3-svg').innerWidth(),\n                            margin = width * 0.1;\n\n                        g.append('g')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', height - 10)\n                            .attr('width', 38);\n\n                        g.append('g')\n                            .attr('transform', 'translate(42, 60)')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', 200)\n                            .attr('width', 38);\n\n                        g.append('g')\n                            .attr('transform', 'translate(84, 160)')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', 100)\n                            .attr('width', 38);\n\n                        g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2*margin) / 126) + ', 1)' );\n                    }\n                }\n\n                /**\n                 * Aligns value label according to parent container size.\n                 * @return {void}\n                 */\n                function configBarWidthAndLabel(timeout: number = 1000) {\n                    var labels = $element.find('.nv-bar text'),\n                        chartBars = $element.find('.nv-bar'),\n                        parentHeight = (<any>$element.find('.nvd3-svg')[0]).getBBox().height;\n\n                    d3.select($element.find('.bar-chart')[0]).classed('visible', true);\n\n                    chartBars.each(function (index, item) {\n                        var barHeight = Number(d3.select(<any>item).select('rect').attr('height')),\n                            barWidth = Number(d3.select(<any>item).select('rect').attr('width')),\n                            element = d3.select(<any>item),\n                            x = d3.transform(element.attr('transform')).translate[0],\n                            y = d3.transform(element.attr('transform')).translate[1];\n\n                        element\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + (height - 20) + ')')\n                            .select('rect').attr('height', 0);\n\n                        element\n                            .transition()\n                            .duration(timeout)\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + y + ')')\n                            .select('rect').attr('height', barHeight);\n\n                        d3.select(labels[index])\n                            .attr('dy', barHeight / 2 + 10)\n                            .attr('x', barWidth / 2);\n                    });\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function getMaterialColor(index) {\n                    if (!colors || colors.length < 1) return null;\n\n                    if (index >= colors.length) {\n                        index = 0;\n                    }\n\n                    return materialColorToRgba(colors[index]);\n                } \n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        if (item.values[0]) {\n                            item.values[0].color = item.values[0].color || getMaterialColor(index);\n                            item.color = item.values[0].color;\n                        }\n                    });\n                }\n            }\n        };\n    }\n})();","/**\n * @file Registration of chart WebUI controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipCharts', [\n        'pipBarCharts',\n        'pipLineCharts',\n        'pipPieCharts',\n        'pipChartLegends',\n        'pipCharts.Templates'\n    ]);\n\n})();\n\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipLegends\n     *\n     * @description\n     * Legend of charts\n     */\n    angular.module('pipChartLegends', [])\n        .directive('pipChartLegend', pipChartLegend);\n\n    function pipChartLegend() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                interactive: '=pipInteractive'\n            },\n            templateUrl: 'legend/interactive_legend.html',\n            controller: function ($element, $scope, $timeout, $mdColorPalette) {\n                var colors = _.map($mdColorPalette, function (palette) {\n                    return palette[500].hex;\n                });\n                colors = _.filter(colors, function(color){\n                    return color !== undefined && color !== null;\n                });  \n                function colorCheckboxes() {\n                    var checkboxContainers = $($element).find('md-checkbox .md-container');\n\n                    checkboxContainers.each(function (index, item) {\n                        if (index >= $scope.series.length) {\n                            return \n                        }\n                        $(item)\n                            .css('color', $scope.series[index].color || colors[index])\n                            .find('.md-icon')\n                            .css('background-color', $scope.series[index].color || colors[index]);\n                    });\n                }\n\n                function animate() {\n                    var legendTitles = $($element).find('.chart-legend-item');\n\n                    legendTitles.each(function (index, item) {\n                        $timeout(function () {\n                            $(item).addClass('visible');\n                        }, 200 * index);\n                    });\n                }\n                \n                function prepareSeries() {\n                    if (!$scope.series) return;\n\n                    $scope.series.forEach(function (item, index) {\n                        item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : colors[index]);\n                        item.disabled = item.disabled || false;\n                    });   \n                }\n\n                $scope.$watch('series', function () {\n                    $timeout(function () {\n                        animate();\n                        colorCheckboxes();\n                    }, 0);\n                    prepareSeries();\n                }, true);\n\n                $scope.$watch('interactive', function (newValue, oldValue) {\n                    if (newValue == true && newValue != oldValue) {\n                        $timeout(colorCheckboxes, 0);\n                    }\n                });\n\n                $timeout(function () {\n                    animate();\n                    colorCheckboxes();\n                }, 0);\n                prepareSeries();\n            }\n        };\n    }\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipLineCharts\n     *\n     * @description\n     * Line chart on top of Rickshaw charts\n     */\n    angular.module('pipLineCharts', [])\n        .directive('pipLineChart', pipLineChart);\n\n    function pipLineChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                showYAxis: '=pipYAxis',\n                showXAxis: '=pipXAxis',\n                xFormat: '=pipXFormat',\n                xTickFormat: '=pipXTickFormat',\n                yTickFormat: '=pipYTickFormat',\n                xTickValues: '=pipXTickValues',\n                dynamic: '=pipDynamic',\n                fixedHeight: '@pipDiagramHeight',\n                dynamicHeight: '@pipDynamicHeight',\n                minHeight: '@pipMinHeight',\n                maxHeight: '@pipMaxHeight',\n                interactiveLegend: '=pipInterLegend'\n            },\n            bindToController: true,\n            controllerAs: 'lineChart',\n            templateUrl: 'line/line_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                var vm        = this;\n                var chart     = null;\n                var chartElem = null;\n                var setZoom = null;\n                var updateZoomOptions = null;\n                var fixedHeight = vm.fixedHeight || 270;\n                var dynamicHeight = vm.dynamicHeight || false;\n                var minHeight = vm.minHeight || fixedHeight;\n                var maxHeight = vm.maxHeight || fixedHeight;\n\n                var filteredColor = _.filter($mdColorPalette, function(palette, color){\n                    return _.isObject(color) && _.isObject(color[500] && _.isArray(color[500].value));\n                });\n                var colors = _.map(filteredColor, function (palette, color) {\n                    return color;\n                });\n                colors = _.filter(colors, function(color){\n                    return _.isObject($mdColorPalette[color]) && _.isObject($mdColorPalette[color][500] && _.isArray($mdColorPalette[color][500].value));\n                });\n                vm.data = prepareData(vm.series) || [];\n                vm.legend = _.clone(vm.series);\n                vm.sourceEvents = [];\n                \n                vm.isVisibleX = function () {\n                    return vm.showXAxis == undefined ? true : vm.showXAxis; \n                };\n\n                vm.isVisibleY = function () {\n                    return vm.showYAxis == undefined ? true : vm.showYAxis;\n                };\n\n                vm.zoomIn = function () {\n                    if (setZoom) {\n                        setZoom('in');\n                    }\n                };\n\n                vm.zoomOut = function () {\n                    if (setZoom) {\n                        setZoom('out');\n                    }\n                };\n                \n                if (vm.series && vm.series.length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                // Sets colors of items\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                $scope.$watch('lineChart.series', function (updatedSeries) {\n                    vm.data = prepareData(updatedSeries);\n                    vm.legend = _.clone(vm.series);\n\n                    generateParameterColor();\n\n                    if (chart) {\n                         chart.xAxis\n                            .tickValues(vm.xTickValues && _.isArray(vm.xTickValues) && vm.xTickValues.length > 2 ? \n                                d3.range(vm.xTickValues[0], vm.xTickValues[1], vm.xTickValues[2]) : null);\n\n                        chartElem.datum(vm.data || []).call(chart);\n                        drawEmptyState();\n                        \n                        if (updateZoomOptions) updateZoomOptions(vm.data);\n                    }\n                }, true);\n\n                $scope.$watch('lineChart.legend', function(updatedLegend) {\n                    vm.data = prepareData(updatedLegend);\n                    vm.legend = updatedLegend;\n\n                    if (chart) {\n                        chartElem.datum(vm.data || []).call(chart);\n                        drawEmptyState();\n\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\n                    }\n                }, true);\n\n                $scope.$on('$destroy', () => {\n                   setTimeout(()=> {d3.selectAll('.nvtooltip').style('opacity', 0); }, 800)\n                });\n\n                function prepareData(data) {\n                    let result = [];\n                    _.each(data, (seria) => {\n                        if (!seria.disabled && seria.values) result.push(seria);\n                    });\n\n                    return _.cloneDeep(result);\n                }\n\n                var getHeight = () => {\n                    if (dynamicHeight) {\n                        const heigth = Math.min(Math.max(minHeight, $element.parent().innerHeight()), maxHeight);\n                        return heigth;\n                    } else {\n                        return fixedHeight;\n                    }\n                };\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(() => {\n                    chart = nv.models.lineChart()\n                        .margin({ top: 20, right: 20, bottom: 30, left: 30 })\n                        .x(function (d) {\n                            return (d !== undefined && d.x !== undefined) ? (vm.xFormat ? vm.xFormat(d.x) : d.x) : d;\n                        })\n                        .y(function (d) {\n                            return (d !== undefined && d.value !== undefined) ? d.value : d;\n                        })\n                        .height(getHeight() - 50)\n                        .useInteractiveGuideline(true)\n                        .showXAxis(true)\n                        .showYAxis(true)\n                        .showLegend(false)\n                        .color(function(d) {\n                            return d.color || (<any>d3.scale).paletteColors().range();\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n\n                    chart.yAxis\n                        .tickFormat(function (d) {\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\n                        });\n\n                    chart.xAxis\n                        .tickFormat(function (d) {\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\n                        })\n                        .tickValues(vm.xTickValues && _.isArray(vm.xTickValues) && vm.xTickValues.length > 2 ? \n                                d3.range(vm.xTickValues[0], vm.xTickValues[1], vm.xTickValues[2]) : null);\n\n                    chartElem = d3.select($element.get(0)).select('.line-chart svg');\n                    chartElem.datum(vm.data || []).style('height', (getHeight() - 50) + 'px').call(chart);\n                    // Handle touches for correcting tooltip position\n                    $('.line-chart svg').on('touchstart touchmove', (e) => { \n                        setTimeout(() => {\n                            let tooltip = $('.nvtooltip'),\n                                tooltipW = tooltip.innerWidth(),\n                                bodyWidth = $('body').innerWidth(),\n                                x = e.originalEvent['touches'][0]['pageX'],\n                                y = e.originalEvent['touches'][0]['pageY'];\n\n                            tooltip.css('transform', 'translate(' \n                                + (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' \n                                + y + ')');\n                            tooltip.css('left', 0); \n                            tooltip.css('top', 0);\n                        }); \n                    });\n\n                    $('.line-chart svg').on('touchstart touchend', (e) => { \n                        let removeTooltip = () => {\n                            let tooltip = $('.nvtooltip');\n                            tooltip.css('opacity', 0);\n                        };\n\n                        removeTooltip();\n\n                        setTimeout(() => {\n                            removeTooltip();\n                        }, 500); \n                    });\n\n                    if (vm.dynamic) {\n                        addZoom(chart, chartElem);\n                    }\n\n                    nv.utils.windowResize(() => { onResize(); });\n\n                    $scope.$on('pipMainResized', () => { onResize(); });\n\n                    return chart;\n                }, () => {\n                    drawEmptyState();\n                });\n\n                function onResize() {\n                    chart.height(getHeight() - 50);\n                    chartElem.style('height', (getHeight() - 50) + 'px');\n                    chart.update();\n                    drawEmptyState();\n                }\n\n                function drawEmptyState() {\n                    if (!$element.find('text.nv-noData').get(0)) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                    } else {\n                        let containerWidth = $element.find('.line-chart').innerWidth(),\n                            containerHeight = $element.find('.line-chart').innerHeight();\n                        \n                        if ($element.find('.empty-state').get(0)) {\n                            chartElem\n                                .select('image')\n                                .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\n                        } else {\n                            chartElem\n                                .append(\"defs\")\n                                .append(\"pattern\")\n                                .attr(\"height\", 1)\n                                .attr(\"width\", 1)\n                                .attr(\"x\", \"0\")\n                                .attr(\"y\", \"0\")\n                                .attr(\"id\", \"bg\")\n                                .append(\"image\")\n                                .attr('x', 17)\n                                .attr('y', 0)\n                                .attr('height', \"216px\")\n                                .attr('width', \"1151px\")\n                                .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\n                                .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\n\n                            chartElem\n                                .append('rect')\n                                .classed('empty-state', true)\n                                .attr('height', \"100%\")\n                                .attr('width', \"100%\")\n                                .attr('fill', 'url(#bg)');\n                        }\n                    }\n                }\n\n                function updateScroll(domains, boundary) {\n                    var bDiff = boundary[1] - boundary[0],\n                        domDiff = domains[1] - domains[0],\n                        isEqual = (domains[1] - domains[0])/bDiff === 1;\n\n                    $($element[0]).find('.visual-scroll')\n                        .css('opacity', function () {\n                            return isEqual ? 0 : 1;\n                        });\n\n                    if (isEqual) return;\n                    \n                    $($element[0]).find('.scrolled-block')\n                        .css('left', function () {\n                            return domains[0]/bDiff * 100 + '%';\n                        })\n                        .css('width', function () {\n                            return domDiff/bDiff * 100 + '%';\n                        });\n                }\n\n                function addZoom(chart, svg) {\n                    // scaleExtent\n                    var scaleExtent = 4;\n\n                    // parameters\n                    var yAxis       = null;\n                    var xAxis       = null;\n                    var xDomain     = null;\n                    var yDomain     = null;\n                    var redraw      = null;\n                    var svg         = svg;\n\n                    // scales\n                    var xScale = null;\n                    var yScale = null;\n\n                    // min/max boundaries\n                    var x_boundary = null;\n                    var y_boundary = null;\n\n                    // create d3 zoom handler\n                    var d3zoom = d3.behavior.zoom();\n                    var prevXDomain = null;\n                    var prevScale = null;\n                    var prevTranslate = null;\n\n                    setData(chart);\n\n                    function setData(newChart) {\n                        // parameters\n                        yAxis       = newChart.yAxis;\n                        xAxis       = newChart.xAxis;\n                        xDomain     = newChart.xDomain || xAxis.scale().domain;\n                        yDomain     = newChart.yDomain || yAxis.scale().domain;\n                        redraw      = newChart.update;\n\n                        // scales\n                        xScale = xAxis.scale();\n                        yScale = yAxis.scale();\n\n                        // min/max boundaries\n                        x_boundary = xAxis.scale().domain().slice();\n                        y_boundary = yAxis.scale().domain().slice();\n\n                        // create d3 zoom handler\n                        prevXDomain = x_boundary;\n                        prevScale = d3zoom.scale();\n                        prevTranslate = d3zoom.translate();\n\n                        // ensure nice axis\n                        xScale.nice();\n                        yScale.nice();\n                    }\n\n                    // fix domain\n                    function fixDomain(domain, boundary, scale, translate) {\n                        if (domain[0] < boundary[0]) {\n                            domain[0] = boundary[0];\n                            if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\n                                domain[1] += (boundary[0] - domain[0]);\n                            } else {\n                                domain[1] = prevXDomain[1];\n                                translate = _.clone(prevTranslate);\n                            }\n\n                        }\n                        if (domain[1] > boundary[1]) {\n                            domain[1] = boundary[1];\n                            if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\n                                domain[0] -= (domain[1] - boundary[1]);\n                            } else {\n                                domain[0] = prevXDomain[0];\n                                translate = _.clone(prevTranslate);\n                            }\n                        }\n\n                        d3zoom.translate(translate);\n                        prevXDomain = _.clone(domain);\n                        prevScale = _.clone(scale);\n                        prevTranslate = _.clone(translate);\n                        return domain;\n                    }\n\n                    function updateChart() {\n                        d3zoom.scale(1);\n                        d3zoom.translate([0,0]);\n                        xScale.domain(x_boundary);\n                        d3zoom.x(xScale).y(yScale);\n                        svg.call(d3zoom);\n                    }\n\n                    // zoom event handler\n                    function zoomed() {\n                        // Switch off vertical zooming temporary\n                        // yDomain(yScale.domain());\n\n                        if ((<any>d3.event).scale === 1) {\n                            unzoomed();\n                            updateChart();\n                        } else {\n                            xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\n                            redraw();\n                        }\n\n                        updateScroll(xScale.domain(), x_boundary);\n                    }\n\n                    //\n                    setZoom = function(which) {\n                        var center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\n                        var translate0 = d3zoom.translate(), coordinates0 = coordinates(center0);\n\n                        if (which === 'in') {\n                            if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\n                        } else {\n                            if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\n                        }\n\n                        var center1 = point(coordinates0);\n                        d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\n\n                        d3zoom.event(svg);\n                    };\n\n                    function step(which) {\n                        var translate = d3zoom.translate();\n\n                        if (which === 'right') {\n                            translate[0] -= 20;\n                        } else {\n                            translate[0] += 20;\n                        }\n\n                        d3zoom.translate(translate);\n                        d3zoom.event(svg);\n                    }\n\n                    function coordinates(point) {\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\n                        return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\n                    }\n\n                    function point(coordinates) {\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\n                        return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\n                    }\n\n                    function keypress() {\n                        switch((<any>d3.event).keyCode) {\n                            case 39: step('right'); break;\n                            case 37: step('left'); break;\n                            case 107: setZoom('in'); break;\n                            case 109: setZoom('out');\n                        }\n                    }\n\n                    // zoom event handler\n                    function unzoomed() {\n                        xDomain(x_boundary);\n                        redraw();\n                        d3zoom.scale(1);\n                        d3zoom.translate([0,0]);\n                        prevScale = 1;\n                        prevTranslate = [0,0];\n                    }\n\n                    // initialize wrapper\n                    d3zoom.x(xScale)\n                        .y(yScale)\n                        .scaleExtent([1, scaleExtent])\n                        .on('zoom', zoomed);\n\n                    // add handler\n                    svg.call(d3zoom).on('dblclick.zoom', unzoomed);\n                    $($element.get(0)).addClass('dynamic');\n\n                    // add keyboard handlers\n                    svg\n                        .attr('focusable', false)\n                        .style('outline', 'none')\n                        .on('keydown', keypress)\n                        .on('focus', function () {});\n\n                    var getXMinMax = function(data) {\n                        var maxVal, minVal = null;\n\n                        for(var i=0;i<data.length;i++) {\n                            if (!data[i].disabled) {\n                                var tempMinVal = d3.max(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\n                                var tempMaxVal = d3.min(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\n                                minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\n                                maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\n                            }\n                        }\n                        return [maxVal, minVal];\n                    };\n\n                    updateZoomOptions = function(data) {\n                        yAxis = chart.yAxis;\n                        xAxis = chart.xAxis;\n\n                        xScale = xAxis.scale();\n                        yScale = yAxis.scale();\n\n                        x_boundary = getXMinMax(data);\n\n                        if (d3zoom.scale() === 1) {\n                            d3zoom.x(xScale).y(yScale);\n                            svg.call(d3zoom);\n                            d3zoom.event(svg);\n                        }\n\n                        updateScroll(xScale.domain(), x_boundary);\n                    }\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function getMaterialColor(index) {\n                    if (!colors || colors.length < 1) return null;\n\n                    if (index >= colors.length) {\n                        index = 0;\n                    }\n\n                    return materialColorToRgba(colors[index]);\n                }                \n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        item.color = item.color || getMaterialColor(index);\n                    });\n                }\n            }\n        };\n    }\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipPieCharts\n     *\n     * @description\n     * Line chart on top of Rickshaw charts\n     */\n    angular.module('pipPieCharts', [])\n        .directive('pipPieChart', pipPieChart);\n\n    function pipPieChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                donut: '=pipDonut',\n                legend: '=pipShowLegend',\n                total: '=pipShowTotal',\n                size: '=pipPieSize',\n                centered: '=pipCentered'\n            },\n            bindToController: true,\n            controllerAs: 'pieChart',\n            templateUrl: 'pie/pie_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                var vm               = this;\n                var chart            = null;\n                var titleElem        = null;\n                var chartElem        = null;\n                var colors           = _.map($mdColorPalette, function (palette, color) {\n                    return color;\n                });\n                colors = _.filter(colors, function(color){\n                    return _.isObject($mdColorPalette[color]) && _.isObject($mdColorPalette[color][500] && _.isArray($mdColorPalette[color][500].value));\n                });                \n                var resizeTitleLabel = resizeTitleLabelUnwrap;\n\n                vm.data = vm.data || [];\n\n                vm.showLegend = function () {\n                    return vm.legend !== undefined ? vm.legend: true;\n                };\n\n                if (vm.series && vm.series.length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                $scope.$watch('pieChart.series', function (newVal) {\n                    vm.data = newVal;\n\n                    generateParameterColor();\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        $timeout(resizeTitleLabel);\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\n                    }\n                }, true);\n\n                // Sets colors of items\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(() => {\n                    chart = nv.models.pieChart()\n                        .margin({ top: 0, right: 0, bottom: 0, left: 0 })\n                        .x(function (d) {\n                            return vm.donut ? d.value : null;\n                        })\n                        .y(function (d) {\n                            return d.value;\n                        })\n                        .height(vm.size || 250)\n                        .width(vm.size || 250)\n                        .showLabels(true)\n                        .labelThreshold(.001)\n                        .growOnHover(false)\n                        .donut(vm.donut)\n                        .donutRatio(0.5)\n                        .color(function(d) {\n                            return d.color || (<any>d3.scale).paletteColors().range();\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n                    chart.showLegend(false);\n\n                    chartElem = d3.select($element.get(0))\n                        .select('.pie-chart')\n                        .style('height', (vm.size || 250) + 'px')\n                        .style('width', vm.centered ? '100%' : (vm.size || 250) + 'px')\n                        .select('svg')\n                        .style('opacity', 0)\n                        .datum(vm.data || [])\n                        .call(chart);\n\n                    nv.utils.windowResize(function () {\n                        chart.update();\n                        $timeout(resizeTitleLabel);\n                        centerChart();\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\n                    });\n\n                    return chart;\n                }, () => {\n                    $timeout(function () {\n                        var svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0];\n                        renderTotalLabel(svgElem);\n                        d3.select(svgElem)\n                            .transition()\n                            .duration(1000)\n                            .style('opacity', 1);\n                        \n                        $timeout(resizeTitleLabelUnwrap, 800);\n                        centerChart();\n                        drawEmptyState(svgElem);\n                    });\n                });\n\n                function drawEmptyState(svg) {\n                    if (!$element.find('text.nv-noData').get(0)) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                        $element.find('.pip-empty-pie-text').remove();\n                    } else {\n                    \n                        if ($element.find('.pip-empty-pie-text').length === 0) { \n                            $element.find('.pie-chart')\n                                .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\n                        }\n\n                        var pie = d3.layout.pie().sort(null),\n                            size = Number(vm.size || 250);\n\n                        var arc = d3.svg.arc()\n                            .innerRadius(size / 2 - 20)\n                            .outerRadius(size / 2 - 57);\n                    \n                        svg = d3.select(svg)\n                            .append(\"g\")\n                            .classed('empty-state', true)\n                            .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\n                    \n                        var path = svg.selectAll(\"path\")\n                            .data(pie([1]))\n                            .enter().append(\"path\")\n                            .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\n                            .attr(\"d\", <any>arc);\n                    }\n                }\n\n                function centerChart() {\n                    if (vm.centered) {\n                        let svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0],\n                        leftMargin = $(svgElem).innerWidth() / 2 - (vm.size || 250) / 2;\n                        d3.select($element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\n                    }\n                }\n\n                function renderTotalLabel(svgElem) {\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\n\n                    let totalVal = vm.data.reduce(function (sum, curr) {\n                        return sum + curr.value;\n                    }, 0);\n\n                    if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\n                    \n                    d3.select(svgElem)\n                        .select('.nv-pie:not(.nvd3)')\n                        .append('text')\n                        .classed('label-total', true)\n                        .attr('text-anchor', 'middle')\n                        .style('dominant-baseline', 'central')\n                        .text(totalVal);\n\n                    titleElem = d3.select($element.find('text.label-total').get(0)).style('opacity', 0);\n                }\n\n                function resizeTitleLabelUnwrap() {\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\n\n                    var boxSize =  $element.find('.nvd3.nv-pieChart').get(0).getBBox();\n\n                    if (!boxSize.width || !boxSize.height) {\n                        return;\n                    }\n\n                    titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function getMaterialColor(index) {\n                    if (!colors || colors.length < 1) return null;\n\n                    if (index >= colors.length) {\n                        index = 0;\n                    }\n\n                    return materialColorToRgba(colors[index]);\n                } \n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        item.color = item.color || getMaterialColor(index);\n                    });\n                }\n            }\n        };\n    }\n})();","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar/bar_chart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend pip-series=\"barChart.legend\" pip-interactive=\"barChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('legend/interactive_legend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line/line_chart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': lineChart.isVisibleX(), \\'visible-y-axis\\': lineChart.isVisibleY()}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"lineChart.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"lineChart.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"lineChart.legend\" pip-interactive=\"lineChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie/pie_chart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !pieChart.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"pieChart.data\" pip-interactive=\"false\" ng-if=\"pieChart.showLegend()\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","/**\n * @file Location control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n\n/* global angular, google */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocation\", []);\n\n    thisModule.directive('pipLocation', \n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipLocationName: '&',\n                    pipLocationPos: '&',\n                    pipLocationResize: '&',\n                    pipShowLocationIcon: '='\n                },\n                template: \n                    function($element, $attrs: any) {\n                        function toBoolean(value) {\n                            if (value == null) return false;\n                            if (!value) return false;\n                            value = value.toString().toLowerCase();\n                            return value == '1' || value == 'true';\n                        }\n\n                        if (toBoolean($attrs.pipCollapse)) {\n                            return String()\n                                + '<div class=\"pip-location-name location-collapse\" ng-click=\"pipLocationResize()\" ng-hide=\"!pipLocationName()\"'\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\">'\n                                + '<md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"pipShowLocationIcon\"></md-icon>'\n                                + '<span class=\"pip-location-text\">{{pipLocationName()}}</span> '\n                                + '</div>'\n                                + '<div class=\"pip-location-container\" ng-hide=\"!pipLocationPos()\"></div>';\n                        } else {\n                            return String()\n                                + '<md-button class=\"pip-location-name\" ng-click=\"pipLocationResize()\" '\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\">'\n                                + '<div class=\"layout-align-start-center layout-row w-stretch\">'\n                                + '<md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"pipShowLocationIcon\"></md-icon>'\n                                + '<span class=\"pip-location-text flex\">{{pipLocationName()}}</span>'\n                                + '<md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-if=\"!showMap\"></md-icon>'\n                                + '<md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-if=\"showMap\"></md-icon>'\n                                + '</div></md-button>'\n                                + '<div class=\"pip-location-container\"'\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"></div>';\n                        }\n                    },\n                controller: 'pipLocationController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationController',\n        function ($scope, $element, $attrs) {\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            var \n                $name = $element.children('.pip-location-name'),\n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null,\n                $up = $element.find('.icon-up'),\n                $down = $element.find('.icon-down'),\n                collapsable = toBoolean($attrs.pipCollapse);\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n                $mapContainer.hide();\n            };\n\n            function generateMap() {\n                var location = $scope.pipLocationPos();\n                \n                // Safeguard for bad coordinates\n                if ($scope.showMap == false || location == null\n                    || location.coordinates == null\n                    || location.coordinates.length < 0) {\n                    clearMap();\n                    return;\n                }\n\n                // Determine map coordinates\n                var coordinates = new google.maps.LatLng(\n                    location.coordinates[0],\n                    location.coordinates[1]\n                );\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapContainer.show();\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map with point marker\n                var \n                    mapOptions = {\n                        center: coordinates,\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: false,\n                        draggable: false\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions);\n                    \n                new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n            };\n\n            // Process user actions\n            if (!collapsable) {\n                $scope.showMap = false;\n                $up.hide();\n                $mapContainer.hide();\n\n                $name.click(function (event) {\n                    event.stopPropagation();\n                    if ($attrs.disabled) return;\n                    $scope.showMap = !$scope.showMap;\n                    $up[$scope.showMap ? 'show' : 'hide']();\n                    $down[!$scope.showMap ? 'show' : 'hide']();\n                    generateMap();\n                });\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch($scope.pipLocationPos,\n                    function (newValue) {\n                        generateMap();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location');\n\n            // Visualize map\n            if ($scope.pipLocationPos()) generateMap();\n            else clearMap();\n        }    \n    );\n\n})();\n","/**\n * @file Location edit dialog\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve sample in sampler app\n */\n \n/* global angular, google */\n\nclass LocationDialogService {\n    private _$mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._$mdDialog = $mdDialog;\n    }\n\n    public show (params, successCallback, cancelCallback) {\n        this._$mdDialog.show({\n            controller: 'pipLocationEditDialogController',\n            controllerAs: '$ctrl',\n            templateUrl: 'location_dialog/location_dialog.html',\n            locals: {\n                locationName: params.locationName,\n                locationPos: params.locationPos\n            },\n            clickOutsideToClose: true\n        })\n        .then((result) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n}\n\nclass LocationEditDialogController {\n    private _map = null;\n    private _marker = null;\n    private _$scope: ng.IScope;\n    private _$mdDialog: angular.material.IDialogService;\n\n    public theme: string;\n    public locationPos;\n    public locationName;\n    public supportSet: boolean;\n\n    constructor(\n        $scope: ng.IScope, \n        $rootScope: ng.IRootScopeService, \n        $timeout: angular.ITimeoutService, \n        $mdDialog: angular.material.IDialogService,\n        locationPos, \n        locationName) {\n\n        this._$mdDialog = $mdDialog;\n        this._$scope = $scope;\n        this.theme = $rootScope['$theme'];\n        this.locationPos = locationPos && locationPos.type == 'Point'\n                && locationPos.coordinates && locationPos.coordinates.length == 2\n                ? locationPos : null;\n        this.locationName = locationName;\n        this.supportSet = navigator.geolocation != null;\n\n         // Wait until dialog is initialized\n        $timeout(() => {\n            let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n            // Calculate coordinate of the center\n            let coordinates = this.locationPos ?\n                new google.maps.LatLng(\n                    this.locationPos.coordinates[0],\n                    this.locationPos.coordinates[1]\n                ) : null;\n\n                // Create the map with point marker\n            let mapOptions = {\n                center: new google.maps.LatLng(0, 0),\n                zoom: 1,\n                mapTypeId: google.maps.MapTypeId.ROADMAP,\n                disableDefaultUI: true\n            }\n            if (coordinates != null) {\n                mapOptions.center = coordinates;\n                mapOptions.zoom = 12;\n            }\n\n            this._map = new google.maps.Map(mapContainer[0], mapOptions);\n            this._marker = this.createMarker(coordinates);\n\n                // Fix resizing issue\n            setTimeout(() => {\n                google.maps.event.trigger(this._map, 'resize');\n            }, 1000);\n        }, 0);\n\n        $scope.$on('pipLayoutResized', () => {\n            if (this._map == null) return;\n            google.maps.event.trigger(this._map, 'resize');\n        });\n\n    }\n\n    public createMarker (coordinates) {\n        if (this._marker) this._marker.setMap(null);\n        if (coordinates) {\n            this._marker = new google.maps.Marker({ \n                position: coordinates, \n                map: this._map,\n                draggable: true,\n                animation: google.maps.Animation.DROP\n            });\n\n            let thisMarker = this._marker;\n            google.maps.event.addListener(thisMarker, 'dragend', () => {\n                let coordinates = thisMarker.getPosition(); \n                    this.changeLocation(coordinates, null);\n            });\n        } else {\n            this._marker = null;\n        }\n\n        return this._marker;\n    }\n\n    public changeLocation(coordinates, tid) {\n        this.locationPos = {\n            type: 'Point',\n            coordinates: [coordinates.lat(), coordinates.lng()]\n        };\n        this.locationName = null;\n\n        if (tid == null) {\n            // tid = $scope.transaction.begin();\n            if (tid == null) return;\n        }\n\n        // Read address\n        let geocoder = new google.maps.Geocoder();\n        geocoder.geocode({ location: coordinates }, (results, status) => {\n            // if ($scope.transaction.aborted(tid)) return;\n\n            // Process positive response\n            if (status == google.maps.GeocoderStatus.OK && results && results.length > 0) {\n                this.locationName = results[0].formatted_address;\n            }\n\n                    // $scope.transaction.end();\n            this._$scope.$apply();\n        })\n    }\n    public onAddPin() {\n        if (this._map == null) return;\n\n        let coordinates = this._map.getCenter();\n            this._marker = this.createMarker(coordinates);\n            this.changeLocation(coordinates, null);\n    }\n\n    public onRemovePin() {\n        if (this._map == null) return;\n        this._marker = this.createMarker(null);\n        this.locationPos = null;\n        this.locationName = null;\n    }\n\n    public onZoomIn() {\n        if (this._map == null) return;\n        let zoom = this._map.getZoom();\n        this._map.setZoom(zoom + 1);\n    }\n\n    public onZoomOut() {\n        if (this._map == null) return;\n        let zoom = this._map.getZoom();\n        this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n    }\n\n    public onSetLocation = function () {\n        if (this._map == null) return;\n\n                // var tid = $scope.transaction.begin();\n                // if (tid == null) return;\n\n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                        // if ($scope.transaction.aborted(tid)) return;\n\n                let coordinates = new google.maps.LatLng(\n                    position.coords.latitude, position.coords.longitude);\n                this._marker = this.createMarker(coordinates);\n                this._map.setCenter(coordinates);\n                this._map.setZoom(12);\n                this.changeLocation(coordinates, null);\n            },\n            () => {\n                        // $scope.transaction.end();\n                this.$scope.$apply();\n            },\n        {\n            maximumAge: 0,\n            enableHighAccuracy: true,\n            timeout: 5000\n        });\n    }\n\n    public onCancel(): void {\n        this._$mdDialog.cancel();\n    }\n\n    public onApply(): void {\n        this._$mdDialog.hide({\n            location: this.locationPos,\n            locationPos: this.locationPos,\n            locationName: this.locationName   \n        })\n    }\n\n    \n\n}\n\n(() => {\n    'use strict';\n    function LocationDialogRun ($injector) {\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.setTranslations('en', {\n                'LOCATION_ADD_LOCATION': 'Add location',\n                'LOCATION_SET_LOCATION': 'Set location',\n                'LOCATION_ADD_PIN': 'Add pin',\n                'LOCATION_REMOVE_PIN': 'Remove pin'\n            });\n            pipTranslate.setTranslations('ru', {\n                'LOCATION_ADD_LOCATION': ' ',\n                'LOCATION_SET_LOCATION': ' ',\n                'LOCATION_ADD_PIN': ' ',\n                'LOCATION_REMOVE_PIN': ' '\n            });\n        }\n    }\n\n\n    angular.module('pipLocationEditDialog', ['ngMaterial',  'pipLocations.Templates'])\n           .run(LocationDialogRun)\n           .service('pipLocationEditDialog', LocationDialogService)\n           .controller('pipLocationEditDialogController', LocationEditDialogController \n        /*function ($scope, $rootScope, $timeout, $mdDialog,  locationPos, locationName) {\n\n            $scope.theme = $rootScope.$theme;\n            $scope.locationPos = locationPos && locationPos.type == 'Point'\n                && locationPos.coordinates && locationPos.coordinates.length == 2\n                ? locationPos : null;\n            $scope.locationName = locationName;\n            $scope.supportSet = navigator.geolocation != null;\n\n            // $scope.transaction = pipTransaction('location_edit_dialog', $scope);\n\n            var map = null, marker = null;\n\n            function createMarker (coordinates) {\n                if (marker) marker.setMap(null);\n                \n                if (coordinates) {\n                    marker = new google.maps.Marker({ \n                        position: coordinates, \n                        map: map,\n                        draggable: true,\n                        animation: google.maps.Animation.DROP\n                    });\n\n                    var thisMarker = marker;\n                    google.maps.event.addListener(thisMarker, 'dragend', function() {\n                       var coordinates = thisMarker.getPosition(); \n                       changeLocation(coordinates, null);\n                    });\n                } else {\n                    marker = null;\n                }\n\n                return marker;\n            };\n\n            function changeLocation(coordinates, tid) {\n                $scope.locationPos = {\n                    type: 'Point',\n                    coordinates: [coordinates.lat(), coordinates.lng()]\n                };\n                $scope.locationName = null;\n\n                if (tid == null) {\n                    // tid = $scope.transaction.begin();\n                    if (tid == null) return;\n                }\n\n                // Read address\n                var geocoder = new google.maps.Geocoder();\n                geocoder.geocode({ location: coordinates }, function(results, status) {\n                    // if ($scope.transaction.aborted(tid)) return;\n\n                    // Process positive response\n                    if (status == google.maps.GeocoderStatus.OK\n                        && results && results.length > 0) {\n                        $scope.locationName = results[0].formatted_address;\n                    }\n\n                    // $scope.transaction.end();\n                    $scope.$apply();\n                });\n            };\n\n            // Wait until dialog is initialized\n            $timeout(function () {\n                var mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n\n                // Calculate coordinate of the center\n                var coordinates = $scope.locationPos ?\n                    new google.maps.LatLng(\n                        $scope.locationPos.coordinates[0],\n                        $scope.locationPos.coordinates[1]\n                    ) : null;\n\n                // Create the map with point marker\n                var mapOptions = {\n                    center: new google.maps.LatLng(0, 0),\n                    zoom: 1,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true\n                };\n                if (coordinates != null) {\n                    mapOptions.center = coordinates;\n                    mapOptions.zoom = 12;\n                }\n\n                map = new google.maps.Map(mapContainer[0], mapOptions);\n                marker = createMarker(coordinates);\n\n                // Fix resizing issue\n                setTimeout(function () {\n                    google.maps.event.trigger(map, 'resize');\n                }, 1000);\n            }, 0);\n\n            $scope.$on('pipLayoutResized', function (event) {\n                if (map == null) return;\n                google.maps.event.trigger(map, 'resize');\n            });\n\n            $scope.onAddPin = function () {\n                if (map == null) return;\n\n                var coordinates = map.getCenter();\n                marker = createMarker(coordinates);\n                changeLocation(coordinates, null);\n            };\n\n            $scope.onRemovePin = function () {\n                if (map == null) return;\n                marker = createMarker(null);\n                $scope.locationPos = null;\n                $scope.locationName = null;\n            };\n\n            $scope.onZoomIn = function () {\n                if (map == null) return;\n                var zoom = map.getZoom();\n                map.setZoom(zoom + 1);\n            };\n\n            $scope.onZoomOut = function () {\n                if (map == null) return;\n                var zoom = map.getZoom();\n                map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n            };\n\n            $scope.onSetLocation = function () {\n                if (map == null) return;\n\n                // var tid = $scope.transaction.begin();\n                // if (tid == null) return;\n\n                navigator.geolocation.getCurrentPosition(\n                    function (position) {\n                        // if ($scope.transaction.aborted(tid)) return;\n\n                        var coordinates = new google.maps.LatLng(\n                            position.coords.latitude, position.coords.longitude);\n\n                        marker = createMarker(coordinates);\n                        map.setCenter(coordinates);\n                        map.setZoom(12);\n\n                        changeLocation(coordinates, null);\n                    },\n                    function () {\n                        // $scope.transaction.end();\n                        $scope.$apply();\n                    },\n                    {\n                        maximumAge: 0,\n                        enableHighAccuracy: true,\n                        timeout: 5000\n                    }\n                );\n            };\n\n            $scope.onCancel = function () {\n                $mdDialog.cancel();\n            };\n\n            $scope.onApply = function () {\n                $mdDialog.hide({\n                    location: $scope.locationPos,\n                    locationPos: $scope.locationPos,\n                    locationName: $scope.locationName   \n                });\n            };\n        }*/\n    );\n})();\n","/**\n * @file Location edit control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n \n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationEdit\", ['pipLocationEditDialog']);\n\n    thisModule.directive('pipLocationEdit',\n        function ($parse, $http, pipLocationEditDialog) {\n            return {\n                restrict: 'EAC',\n                scope: {\n                    pipLocationName: '=',\n                    pipLocationPos: '=',\n                    pipLocationHolder: '=',\n                    ngDisabled: '&',\n                    pipChanged: '&'\n                },\n                template: String()\n                    + '<md-input-container class=\"md-block\">'\n                    + '<label>{{ \\'LOCATION\\' | translate }}</label>'\n                    + '<input ng-model=\"pipLocationName\"'\n                    + 'ng-disabled=\"ngDisabled()\"/></md-input-container>'\n                    + '<div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\">'\n                    + '<md-button class=\"md-raised\" ng-disabled=\"ngDisabled()\" ng-click=\"onSetLocation()\"'\n                    + 'aria-label=\"LOCATION_ADD_LOCATION\">'\n                    + '<span class=\"icon-location\"></span> {{::\\'LOCATION_ADD_LOCATION\\' | translate }}'\n                    + '</md-button></div>'\n                    + '<div class=\"pip-location-container\" tabindex=\"{{ ngDisabled() ? -1 : 0 }}\"'\n                    + ' ng-click=\"onMapClick($event)\" ng-keypress=\"\"onMapKeyPress($event)\"></div>',\n                controller: function ($scope, $element) {\n                    $element.find('md-input-container').attr('md-no-float', !!$scope.pipLocationHolder);\n                },\n                link: function ($scope: any, $element) {\n\n                    var \n                        $empty = $element.children('.pip-location-empty'),\n                        $mapContainer = $element.children('.pip-location-container'),\n                        $mapControl = null;\n\n                    function clearMap() {\n                        // Remove map control\n                        if ($mapControl) $mapControl.remove();\n                        $mapControl = null;\n\n                        // Toggle control visibility\n                        $mapContainer.hide();\n                        $empty.show();\n                    };\n\n                    function generateMap() {\n                        // Safeguard for bad coordinates\n                        var location = $scope.pipLocationPos;\n                        if (location == null || location.coordinates == null || location.coordinates.length < 0) {\n                            clearMap();\n                            return;\n                        }\n\n                        // Determine map coordinates\n                        var coordinates = new google.maps.LatLng(\n                            location.coordinates[0],\n                            location.coordinates[1]\n                        );\n\n                        // Clean up the control\n                        if ($mapControl) $mapControl.remove();\n\n                        // Toggle control visibility\n                        $mapContainer.show();\n                        $empty.hide();\n\n                        // Add a new map\n                        $mapControl = $('<div></div>');\n                        $mapControl.appendTo($mapContainer);\n\n                        // Create the map with point marker\n                        var mapOptions = {\n                            center: coordinates,\n                            zoom: 12,\n                            mapTypeId: google.maps.MapTypeId.ROADMAP,\n                            disableDefaultUI: true,\n                            disableDoubleClickZoom: true,\n                            scrollwheel: false,\n                            draggable: false\n                        };\n                        var map = new google.maps.Map($mapControl[0], mapOptions);\n                        var marker = new google.maps.Marker({\n                            position: coordinates,\n                            map: map\n                        });\n                    };\n\n                    function defineCoordinates() {\n                        var locationName = $scope.pipLocationName;\n\n                        if (locationName == '') {\n                            $scope.pipLocationPos = null;\n                            clearMap();\n                            $scope.$apply();\n                            return;\n                        }\n\n                    //    $http.get('http://maps.googleapis.com/maps/api/geocode/json?address=' + locationName)\n                    //    .success(function (response) { ... })\n                    //    .error(function (response) {... });\n\n                        var geocoder = new google.maps.Geocoder();\n                        geocoder.geocode({ address: locationName }, function(results, status) {\n                            $scope.$apply(function() {\n                                // Process response\n                                if (status == google.maps.GeocoderStatus.OK) {\n                                    // Check for empty results\n                                    if (results == null || results.length == 0) {\n                                        $scope.pipLocationPos = null;\n                                        clearMap();\n                                        return;\n                                    }\n\n                                    var \n                                        geometry = results[0].geometry || {},\n                                        location = geometry.location || {};\n\n                                    // Check for empty results again\n                                    if (location.lat == null || location.lng == null) {\n                                        $scope.pipLocationPos = null;\n                                        clearMap();\n                                        return;\n                                    }\n\n                                    $scope.pipLocationPos = {\n                                        type: 'Point',\n                                        coordinates: [\n                                            location.lat(),\n                                            location.lng()\n                                        ]\n                                    };\n\n                                    //generateMap();                                \n                                } \n                                // Process error...\n                                else {\n                                    $scope.pipLocationPos = null;\n                                    //clearMap();                                \n                                }\n                            });\n                        });\n\n                    };\n                    var defineCoordinatesDebounced = _.debounce(defineCoordinates, 2000);\n\n                    // Process user actions\n                    \n                    $scope.onSetLocation = function() {\n                        if ($scope.ngDisabled()) return;\n                          \n                        pipLocationEditDialog.show(\n                            {\n                                locationName: $scope.pipLocationName,\n                                locationPos: $scope.pipLocationPos\n                            },\n                            function (result) {\n                                var \n                                    location = result.location,\n                                    locationName = result.locationName;\n\n                                // Do not change anything if location is about the same\n                                if ($scope.pipLocationPos && $scope.pipLocationPos.type == 'Point'\n                                    && $scope.pipLocationPos.coordinates.length == 2\n                                    && location && location.coordinates.length == 2\n                                    && ($scope.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001\n                                    && ($scope.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001\n                                    && (locationName == $scope.pipLocationName)) {\n                                    return;        \n                                }\n\n                                $scope.pipLocationPos = location;\n                                $scope.pipLocationName = locationName;\n\n                                if (locationName == null && location != null) {\n                                    $scope.pipLocationName = \n                                        '(' + result.location.coordinates[0]\n                                        + ',' + result.location.coordinates[1] + ')';\n                                }\n                                $scope.pipChanged();\n                                $mapContainer[0].focus();\n                            }\n                        );\n                    };\n\n                    $scope.onMapClick = function ($event) {\n                        if ($scope.ngDisabled()) return;\n\n                        $mapContainer[0].focus();\n                        $scope.onSetLocation();\n                        //$event.stopPropagation();\n                    };\n\n                    $scope.onMapKeyPress = function($event) {\n                        if ($scope.ngDisabled()) return;\n\n                        if ($event.keyCode == 13 || $event.keyCode == 32) {\n                            $scope.onSetLocation();\n                            //$event.stopPropagation();\n                        }  \n                    };\n\n                    // Watch for location name changes\n                    $scope.$watch(\n                        function () {\n                            return $scope.pipLocationName\n                        },\n                        function (newValue, oldValue) {\n                            if (newValue != oldValue)\n                                defineCoordinatesDebounced();\n                        }\n                    );\n\n                    $scope.$watch(\n                        function () {\n                            return $scope.pipLocationPos\n                        },\n                        function () {\n                            generateMap();\n                        }\n                    );\n\n                    // Add class\n                    $element.addClass('pip-location-edit');\n\n                    // Visualize map\n                    if ($scope.pipLocationPos) generateMap();\n                    else clearMap();\n                }\n            }\n        }\n    );\n\n})();\n","/**\n * @file Location IP control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n \n/* global angular, google */\n\ndeclare let google: any;\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationIp\", []);\n\n    thisModule.directive('pipLocationIp',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipIpaddress: '&',\n                    pipExtraInfo: '&'\n                },\n                template: '<div class=\"pip-location-container\"></div>',\n                controller: 'pipLocationIpController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationIpController',\n        function ($scope, $element, $attrs, $http) {\n\n            var \n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null;\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n            }\n\n            function generateMap(latitude, longitude) {\n                // Safeguard for bad coordinates\n                if (latitude == null || longitude == null) {\n                    clearMap();\n                    return;\n                }\n\n                // Determine map coordinates\n                var coordinates = new google.maps.LatLng(\n                    latitude,\n                    longitude\n                );\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map with point marker\n                var \n                    mapOptions = {\n                        center: coordinates,\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: false,\n                        draggable: false\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions);\n                    \n                new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function defineCoordinates() {\n                var ipAddress = $scope.pipIpaddress();\n\n                if (ipAddress == '') {\n                    clearMap();\n                    return;\n                }\n\n                // Todo: Find more reliable geocoding service to locate ip addresses\n                $http.jsonp('https://www.geoplugin.net/json.gp?ip=' + ipAddress + '&jsoncallback=JSON_CALLBACK')\n                .success(function (response) {\n                    if (response != null \n                        && response.geoplugin_latitude != null\n                        && response.geoplugin_longitude != null) {\n                        \n                        generateMap(response.geoplugin_latitude, response.geoplugin_longitude);\n\n                        if ($scope.pipExtraInfo) {\n                            var extraInfo = {\n                                city: response.geoplugin_city,  \n                                regionCode: response.geoplugin_regionCode,  \n                                region: response.geoplugin_regionName,  \n                                areaCode: response.geoplugin_areaCode,  \n                                countryCode: response.geoplugin_countryCode,  \n                                country: response.geoplugin_countryName,  \n                                continentCode: response.geoplugin_continentCode\n                            };\n                            $scope.pipExtraInfo({ extraInfo: extraInfo });\n                        }\n                    } else {\n                        clearMap();\n                    }\n                })\n                .error(function (response) {\n                    console.error(response);\n                    clearMap();\n                });\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch(\n                    function () {\n                        return $scope.pipIpaddress()\n                    },\n                    function (newValue) {\n                        defineCoordinates();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location-ip');\n\n            // Visualize map\n            defineCoordinates();\n        }        \n    );\n\n})();\n\n","/**\n * @file Location map control\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular, google */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationMap\", []);\n\n    thisModule.directive('pipLocationMap',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipLocationPos: '&',\n                    pipLocationPositions: '&',\n                    pipIconPath: '&',\n                    pipDraggable: '&',\n                    pipStretch: '&'\n                },\n                template: '<div class=\"pip-location-container\"></div>',\n                controller: 'pipLocationMapController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationMapController',\n        ['$scope', '$element', '$attrs', '$parse', '$timeout', function ($scope, $element, $attrs, $parse, $timeout) {\n            var\n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null,\n                stretchMap = $scope.pipStretch() || false,\n                iconPath = $scope.pipIconPath();\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n            }\n\n            function checkLocation (loc) {\n                return !(loc == null\n                || loc.coordinates == null\n                || loc.coordinates.length < 0);\n            }\n\n            function determineCoordinates(loc) {\n                var point = new google.maps.LatLng(\n                    loc.coordinates[0],\n                    loc.coordinates[1]\n                );\n\n                point.fill = loc.fill;\n                point.stroke = loc.stroke;\n\n                return point;\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function generateMap() {\n                var location = $scope.pipLocationPos(),\n                    locations = $scope.pipLocationPositions(),\n                    points = [],\n                    draggable = $scope.pipDraggable() || false;\n\n                // Safeguard for bad coordinates\n                if (checkLocation(location)) {\n                    points.push(determineCoordinates(location));\n                } else {\n                    if (locations && locations.length && locations.length > 0) {\n                        locations.forEach(function (loc) {\n                            if (checkLocation(loc)) {\n                                points.push(determineCoordinates(loc));\n                            }\n                        });\n                    }\n                }\n\n                if (points.length === 0) {\n                    clearMap();\n                    return;\n                }\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map\n                var\n                    mapOptions = {\n                        center: points[0],\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: draggable,\n                        draggable: draggable\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions),\n                    bounds = new google.maps.LatLngBounds();\n\n                // Create markers\n                points.forEach(function(point) {\n                    var icon = {\n                        path: iconPath,\n                        fillColor: point.fill || '#EF5350',\n                        fillOpacity: 1,\n                        scale: 1,\n                        strokeColor: point.stroke || 'white',\n                        strokeWeight: 5\n                    };\n\n                    new google.maps.Marker({\n                        position: point,\n                        map: map,\n                        icon: iconPath ? icon : null\n                    });\n                    bounds.extend(point);\n                });\n\n                // Auto-config of zoom and center\n                if (points.length > 1) map.fitBounds(bounds);\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch(\n                    function () {\n                        return $scope.pipLocationPos()\n                    },\n                    function () {\n                        generateMap();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location-map');\n            if (stretchMap) $mapContainer.addClass('stretch');\n\n            // Visualize map\n            if ($scope.pipLocationPos() || $scope.pipLocationPositions()) $timeout(generateMap, 200);\n            else clearMap();\n        }]\n    );\n\n})();\n\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipLocations', [        \n        'pipLocation',\n        'pipLocationMap',\n        'pipLocationIp',\n        'pipLocationEditDialog',\n        'pipLocationEdit',\n        'pipLocations.Translate'\n    ]);\n    \n})();\n\n\n","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/location_dialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","export class ButtonsUpload {\n    public title: string;\n    public click: Function;\n}","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nexport interface IFileFailController {\n    name: string;\n    type: string;\n    error: string;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileFailController implements IFileFailController {\n    public name: string;\n    public type: string;\n    public error: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n        this.type = $scope['type'] || 'file';\n        this.name = $scope['name'];\n        this.buttons = $scope['buttons'] || null;\n        this.error = $scope['error'] || null;\n        \n        $scope.$watch('error', (error: string) => {\n            this.error = error;\n        })\n      \n    }\n}","\nimport {FileSelectController} from './select/FileSelectController';\nimport {FileFailController} from './fail/FileFailController';\nimport {FileUploadService} from './service/FileUploadService';\n\nimport './success/index';\nimport './upload/index';\nimport './start/index';\n\n(() => {\n    function fileModelDirective($parse: any) {\n        \"ngInject\";\n\n        return {\n            restrict: 'A',\n            link: (scope, element, attrs) => {\n                let model = $parse(attrs.fileModel);\n                let modelSetter = model.assign;\n                \n                element.bind('change', () => {\n                    scope.$apply(() => {\n                        modelSetter(scope, element[0].files[0]);\n                    });\n                });\n            }\n        };\n    }\n\n    function fileSelectDirective() {\n        return {\n            restrict: 'E',\n            replace: true,\n            scope: {\n                localFile: '='\n            },\n            controller: FileSelectController,\n            controllerAs: 'vm',\n            templateUrl: 'select/FileSelect.html'\n        };\n    }\n     function fileFailDirective() {\n        return {\n            restrict: 'E',\n            replace: true,\n            controller: FileFailController,\n            controllerAs: 'vm',\n            scope: {\n                buttons: '=?pipButtons',\n                name: '=pipName',\n                type: '=?pipType',\n                error: '=pipError'\n            },\n            templateUrl: 'fail/FileFail.html'\n        };\n    }\n\n\n    angular\n        .module('pipFiles', ['pipFiles.SuccessUpload', 'pipFiles.FileUpload', 'pipFiles.StartUpload'])\n        .directive('fileModel', fileModelDirective)\n        .directive('pipFileSelect', fileSelectDirective)\n        .directive('pipFailUpload', fileFailDirective)\n        .service('pipFileUpload', FileUploadService);\n\n\n})();\n","export interface IFileSelectController {\n    localFile: any;\n    onUploadButtonClick(): void ;\n    onDeleteButtonClick(): void;\n}\n\nexport class FileSelectController implements IFileSelectController {\n    public localFile: any;\n    \n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        this.localFile = $scope['localFile'];\n        $scope.$watch('vm.localFile', (item) => {\n            $scope['localFile'] = item;\n        }) \n    }\n\n    public onUploadButtonClick(): void {\n        $('#inp_file').click();\n    }\n\n    public onDeleteButtonClick(): void {\n        this.localFile = null;\n        let forml = document.getElementById('inp_form');\n        (<any>forml).reset();\n\n    }\n}","export class FileUploadState {\n    public static All: string[] = ['start', 'upload', 'fail'];\n    public static Start: string = 'start';\n    public static Upload: string = 'upload';\n    public static Fail: string = 'fail';\n}\n\nexport interface IFileUploadService {\n    progress: number;\n    state: string;\n    error: string;\n    upload(url: string, file: any, transaction: any, callback?: (data: any, err: any) => void): void;\n}\n\nexport class FileUploadService implements IFileUploadService {\n    public progress: number;\n    public state: string;\n    public error: string = null;\n\n    public constructor( private $http: ng.IHttpService) {}\n\n    public upload(url: string, file: any, callback?: (data: any, err: any) => void): void {\n        \n        let fd: FormData = new FormData();\n        fd.append('file', file);\n        \n        this.progress = 0;\n        this.state = FileUploadState.Start;\n        this.$http.post(url, fd, <any>{\n            uploadEventHandlers: {\n                progress: (e: any) => {\n                    if (e.lengthComputable) {\n                        this.progress = (e.loaded / e.total) * 100;\n                    }\n                }\n            },\n            headers: { 'Content-Type': undefined }\n        })    \n        .success((response: any) => {\n            this.state = FileUploadState.Upload;\n\n            if (callback) callback(response, null);\n        })    \n        .error((response: any) => {\n            this.state = FileUploadState.Fail;\n            this.error = response.Error || response;\n\n            if (callback) callback(null, response);\n        });\n    }\n}","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nexport interface IFileStartController {\n    name: string;\n    type: string;\n    progress: number;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileStartController implements IFileStartController {\n    public name: string;\n    public progress: number = 0;\n    public type: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n      \n        $scope.$watch('progress', (progress: number) => {\n            this.progress = progress;\n        })\n    }\n}","\nimport {FileStartController} from './FileStartController';\n\n(() => {\n \n    const fileStartDirective = {\n        restrict: 'E',\n        replace: true,\n        controller: FileStartController,\n        controllerAs: 'vm',\n        bindings: {\n            buttons: '=?pipButtons',\n            name: '=pipName',\n            type: '=?pipType',\n            progress: '=?pipProgress'\n        },\n        templateUrl: 'start/FileStart.html'\n    };\n\n    angular\n        .module('pipFiles.StartUpload', [])\n        .component('pipStartUpload', fileStartDirective)\n\n\n})();\n","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nimport { IFileSuccessBindings} from './index';\n\nexport interface IFileSuccessController {\n    name: string;\n    type: string;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\n    public name: string;\n    public type: string = 'file';\n    public buttons: ButtonsUpload[];\n\n    constructor() {}\n\n    public $onChanges(changes) {}\n}","\nimport {FileSuccessController} from './FileSuccessController';\n\nexport interface IFileSuccessBindings {\n    [key: string]: any;\n\n    type: any\n    buttons: any,\n    name: any\n}\n\nconst FileSuccessBindings: IFileSuccessBindings = {\n    buttons: '=?pipButtons',\n    name: '=pipName',\n    type: '=?pipType',\n};\n\n(() => {\n \n     const fileSuccessDirective = {\n            restrict: 'E',\n            replace: true,\n            controller: FileSuccessController,\n            controllerAs: 'vm',\n            bindings: FileSuccessBindings,\n            templateUrl: 'success/FileSuccess.html'\n    }\n\n\n    angular\n        .module('pipFiles.SuccessUpload', [])\n        .component('pipSuccesUpload', fileSuccessDirective)\n\n\n})();\n","\nimport {\n    IFileUploadService\n} from \"../service/FileUploadService\";\n\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nimport {\n    FileUploadChanges\n} from \"./index\";\n\nexport interface IFileUploadController {\n    name: string;\n    type: string;\n    state: string;\n    progress: number;\n    onCancel(): void;\n    onRetry(): void;\n    onAbort(): void;\n}\n\nexport class FileUploadButtons {\n    retry: Function;\n    cancel: Function;\n    abort: Function;\n}\n\nexport class FileUploadController implements IFileUploadController {\n    public buttonFunction: FileUploadButtons;\n    public uploadButtons: ButtonsUpload[];\n    public failButtons: ButtonsUpload[];\n    public startButtons: ButtonsUpload[];\n\n    public name: string;\n    public type: string;\n    public state: string;\n    public progress: number;\n    public buttons: boolean;\n    public error: string = null;\n\n    constructor( $scope: ng.IScope ) {\n        \"ngInject\";\n        \n        // Init parameters\n        if (this.buttonFunction) {\n            this.uploadButtons = [];\n            this.failButtons = [\n                {title: 'Cancel', click: () => { this.onCancel()}},\n                {title: 'Retry', click: () => { this.onRetry()}}\n            ];\n            this.startButtons = [\n                {title: 'Abort', click: () => { this.onAbort() }}\n            ];\n        }\n    }\n\n    \n    public $onChanges(changes: FileUploadChanges) {\n        if (changes.state) {\n            this.state = changes.state.currentValue;\n        }\n\n        if (changes.progress) {\n            this.progress = changes.progress.currentValue;\n        }\n\n        if (changes.error) {\n            this.error = changes.error.currentValue;\n        }\n\n    }\n\n    public onCancel(): void {\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\n    }\n\n    public onRetry(): void {\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\n    }\n\n    public onAbort() {\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\n    }\n\n}","\nimport {FileUploadController, FileUploadButtons} from './FileUploadController';\n\nexport interface IFileUploadBindings {\n    [key: string]: any;\n\n    buttonFunction: any,\n    buttons: any,\n    error: any,\n    name: any,\n    state: any,\n    type: any,\n    progress: any\n}\n\nconst FileUploadBindings: IFileUploadBindings = {\n    buttonFunction: '<?pipButtonFunctions',\n    buttons: '<?pipButtons',\n    error: '<?pipError',\n    name: '<pipName',\n    state: '<pipState',\n    type: '<?pipType',\n    progress: '<pipProgress'\n}\n\nexport class FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\n    [key: string]: ng.IChangesObject<any>;\n    // Not one way bindings\n\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\n    buttons: ng.IChangesObject<boolean>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    state: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n    progress: ng.IChangesObject<number>;\n    //currentButtonValue: any;\n    //currentButton: any;\n    //change: ng.IChangesObject<() => ng.IPromise<void>>;\n    // One way bindings\n}\n\nconst fileUploadDirective = {\n    controller: FileUploadController,\n    bindings: FileUploadBindings,\n    templateUrl: 'upload/FileUpload.html'\n};\n\n\n(() => {\n\n    angular\n        .module('pipFiles.FileUpload', [])\n        .component('pipFileUpload', fileUploadDirective)\n       \n})();\n","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{vm.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div><div class=\"color-error pip-error\">{{vm.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in vm.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"vm.localFile\" id=\"inp_file\" ng-model=\"vm.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"vm.onUploadButtonClick()\" ng-if=\"!vm.localFile\">Choose File</md-button><div ng-if=\"vm.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{vm.localFile.name}}</div><div ng-if=\"vm.localFile.size\" class=\"color-secondary-text\">{{vm.localFile.size}}</div></div><md-button ng-click=\"vm.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::vm.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{vm.progress}}\" ng-if=\"vm.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"vm.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == \\'upload\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == \\'fail\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == \\'start\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n","import './widgets/Widgets';\nimport './draggable/Draggable';\n\n(function () {\n  'use strict';\n\n  angular.module('pipDashboard', [\n    'pipWidget', \n    'pipDragged', \n    'pipWidgetConfigDialog', \n    'pipAddDashboardComponentDialog',\n    'pipDashboard.Templates',\n\n    // External pip modules\n    'pipLayout',\n    'pipLocations',\n    'pipDateTime',\n    'pipCharts',\n    'pipTranslate',\n    'pipControls'\n  ]);\n  \n})();\n\nimport './utility/WidgetTemplateUtility';\nimport './dialogs/widget_config/ConfigDialogController';\nimport './dialogs/add_component/AddComponentDialogController';\nimport './DashboardController';\nimport './DashboardComponent';\n","(function () {\n  'use strict';\n\n  const pipDashboard = {\n    bindings: {\n      gridOptions: '=pipGridOptions',\n      groupAdditionalActions: '=pipGroupActions',\n      groupedWidgets: '=pipGroups'\n    },\n    controller: 'pipDashboardCtrl',\n    controllerAs: 'dashboardCtrl',\n    templateUrl: 'Dashboard.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipDashboard', pipDashboard);\n})();","'use strict';\n\nimport { IWidgetTemplateService } from './utility/WidgetTemplateUtility';\n\nfunction setTranslations($injector) {\n  var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n  if (pipTranslate) {\n    pipTranslate.setTranslations('en', {\n      DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\n    });\n    pipTranslate.setTranslations('ru', {\n      DROP_TO_CREATE_NEW_GROUP: '     '\n    });\n  }\n}\n\nfunction configureAvailableWidgets(pipAddComponentDialogProvider) {\n  pipAddComponentDialogProvider.configWidgetList([\n    [{\n        title: 'Event',\n        icon: 'document',\n        name: 'event',\n        amount: 0\n      },\n      {\n        title: 'Position',\n        icon: 'location',\n        name: 'position',\n        amount: 0\n      }\n    ],\n    [{\n        title: 'Calendar',\n        icon: 'date',\n        name: 'calendar',\n        amount: 0\n      },\n      {\n        title: 'Sticky Notes',\n        icon: 'note-take',\n        name: 'notes',\n        amount: 0\n      },\n      {\n        title: 'Statistics',\n        icon: 'tr-statistics',\n        name: 'statistics',\n        amount: 0\n      }\n    ]\n  ]);\n}\n\nimport { IAddComponentDialogService } from './dialogs/add_component/AddComponentProvider'\n\nclass draggableOptions {\n  tileWidth: number;\n  tileHeight: number;\n  gutter: number;\n  inline: boolean;\n}\n\nlet DEFAULT_GRID_OPTIONS: draggableOptions = {\n  tileWidth: 150, // 'px'\n  tileHeight: 150, // 'px'\n  gutter: 10, // 'px'\n  inline: false\n};\n\nclass DashboardController {\n  private defaultGroupMenuActions: any = [{\n      title: 'Add Component',\n      callback: (groupIndex) => {\n        this.addComponent(groupIndex);\n      }\n    },\n    {\n      title: 'Remove',\n      callback: (groupIndex) => {\n        this.removeGroup(groupIndex);\n      }\n    },\n    {\n      title: 'Configurate',\n      callback: (groupIndex) => {\n        console.log('configurate group with index:', groupIndex);\n      }\n    }\n  ];\n  private _$scope: angular.IScope;\n  private _$rootScope: angular.IRootScopeService;\n  private _$attrs: any;\n  private _$element: any;\n  private _$timeout: angular.ITimeoutService;\n  private _$interpolate: angular.IInterpolateService;\n  private _pipAddComponentDialog: IAddComponentDialogService;\n  private _pipWidgetTemplate: IWidgetTemplateService;\n  private _includeTpl: string = '<pip-{{ type }}-widget group=\"groupIndex\" index=\"index\"' +\n    'pip-options=\"$parent.dashboardCtrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\n    '</pip-{{ type }}-widget>';\n\n  public groupedWidgets: any;\n  public draggableGridOptions: draggableOptions;\n  public widgetsTemplates: any;\n  public groupMenuActions: any = this.defaultGroupMenuActions;\n  public widgetsContext: any;\n\n  constructor(\n    $scope: angular.IScope,\n    $rootScope: angular.IRootScopeService,\n    $attrs: any,\n    $element: any,\n    $timeout: angular.ITimeoutService,\n    $interpolate: angular.IInterpolateService,\n    pipAddComponentDialog: IAddComponentDialogService,\n    pipWidgetTemplate: IWidgetTemplateService\n  ) {\n    this._$scope = $scope;\n    this._$rootScope = $rootScope;\n    this._$attrs = $attrs;\n    this._$element = $element;\n    this._$timeout = $timeout;\n    this._$interpolate = $interpolate;\n    this._pipAddComponentDialog = pipAddComponentDialog;\n    this._pipWidgetTemplate = pipWidgetTemplate;\n\n    // Add class to style scroll bar\n    $element.addClass('pip-scroll');\n\n    // Set tiles grid options\n    this.draggableGridOptions = $scope['gridOptions'] || DEFAULT_GRID_OPTIONS;\n\n    // Switch inline displaying\n    if (this.draggableGridOptions.inline === true) {\n      $element.addClass('inline-grid');\n    }\n    // Extend group's menu actions\n    if ($scope['groupAdditionalActions']) angular.extend(this.groupMenuActions, $scope['groupAdditionalActions']);\n\n    // Compile widgets\n    this.widgetsContext = $scope;\n    this.compileWidgets();\n\n    this._$timeout(() => {\n      this._$element.addClass('visible');\n    }, 700);\n  }\n\n  private compileWidgets() {\n    _.each(this.groupedWidgets, (group, groupIndex) => {\n        group.removedWidgets = group.removedWidgets || [],\n        group.source = group.source.map((widget, index) => {\n          // Establish default props\n          widget.size = widget.size || {\n            colSpan: 1,\n            rowSpan: 1\n          };\n          widget.index = index;\n          widget.groupIndex = groupIndex;\n          widget.menu = widget.menu || {};\n          angular.extend(widget.menu, [{\n            title: 'Remove',\n            click: (item, params, object) => {\n              this.removeWidget(item, params, object);\n            }\n          }]);\n\n          return {\n            opts: widget,\n            template: this._pipWidgetTemplate.getTemplate(widget, this._includeTpl)\n          };\n        })\n    });\n  }\n\n  public addComponent(groupIndex) {\n    this._pipAddComponentDialog\n      .show(this.groupedWidgets, groupIndex)\n      .then((data) => {\n        var activeGroup;\n\n        if (!data) {\n          return;\n        }\n\n        if (data.groupIndex !== -1) {\n          activeGroup = this.groupedWidgets[data.groupIndex];\n        } else {\n          activeGroup = {\n            title: 'New group',\n            source: []\n          };\n        }\n\n        this.addWidgets(activeGroup.source, data.widgets);\n\n        if (data.groupIndex === -1) {\n          this.groupedWidgets.push(activeGroup);\n        }\n\n        this.compileWidgets();\n      });\n  };\n\n  public removeGroup = (groupIndex) => {\n    console.log('removeGroup', groupIndex);\n    this.groupedWidgets.splice(groupIndex, 1);\n  }\n\n  private addWidgets(group, widgets) {\n    widgets.forEach((widgetGroup) => {\n      widgetGroup.forEach((widget) => {\n        if (widget.amount) {\n          Array.apply(null, Array(widget.amount)).forEach(() => {\n            group.push({\n              type: widget.name\n            });\n          });\n        }\n      });\n    });\n  }\n\n  private removeWidget(item, params, object) {\n    this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n    this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\n    this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\n    this._$timeout(() => {\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n    });\n  }\n\n}\n\nangular\n  .module('pipDashboard')\n  .config(configureAvailableWidgets)\n  .run(setTranslations)\n  .controller('pipDashboardCtrl', DashboardController);","'use strict';\n\nexport class AddComponentDialogController {\n    public _mdDialog: angular.material.IDialogService;\n    public activeGroupIndex: number;\n    public defaultWidgets: any;\n    public groups: any;\n\n    constructor(\n        groups, \n        activeGroupIndex, \n        widgetList,\n        $mdDialog: angular.material.IDialogService\n    ) {\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\n        this.defaultWidgets   = _.cloneDeep(widgetList);\n        this.groups = _.map(groups, function (group) {\n          return group['title'];\n        });\n        this._mdDialog = $mdDialog;\n    }\n\n    public add () {\n          this._mdDialog.hide({\n            groupIndex: this.activeGroupIndex,\n            widgets   : this.defaultWidgets\n          });\n        };\n\n    public cancel () {\n          this._mdDialog.cancel();\n        };\n\n    public encrease (groupIndex, widgetIndex) {\n          var widget = this.defaultWidgets[groupIndex][widgetIndex];\n          widget.amount++;\n    };\n\n    public decrease (groupIndex, widgetIndex) {\n          var widget    = this.defaultWidgets[groupIndex][widgetIndex];\n          widget.amount = widget.amount ? widget.amount - 1 : 0;\n    };\n}\n\nangular\n    .module('pipAddDashboardComponentDialog', ['ngMaterial'])\n    .controller('pipAddDashboardComponentDialogController', AddComponentDialogController);\n\nimport './AddComponentProvider';","'use strict';\n\nexport interface IAddComponentDialogService {\n  show(groups, activeGroupIndex): any;\n}\n\nclass AddComponentDialogService implements IAddComponentDialogService {\n    public _mdDialog: angular.material.IDialogService;\n    private _widgetList: any;\n\n    public constructor(widgetList: any, $mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n        this._widgetList = widgetList;\n    }\n\n    public show(groups, activeGroupIndex) {\n        return this._mdDialog\n          .show({\n            templateUrl     : 'dialogs/add_component/AddComponent.html',\n            bindToController: true,\n            controller      : 'pipAddDashboardComponentDialogController',\n            controllerAs    : 'dialogCtrl',\n            resolve: {\n              groups: () => {\n                return groups;\n              },\n              activeGroupIndex: () => {\n                return activeGroupIndex;\n              },\n              widgetList: () => {\n                return this._widgetList;\n              }\n           }\n          });\n      };\n}\n\nclass AddComponentDialogProvider {\n  private _service: AddComponentDialogService;\n  private _widgetList: any = null;\n\n  constructor() {\n  }\n\n  public configWidgetList = function (list) {\n      this._widgetList = list;\n  };\n\n  public $get($mdDialog: angular.material.IDialogService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AddComponentDialogService(this._widgetList, $mdDialog);\n        \n        return this._service;\n  }\n}\n\nangular\n    .module('pipDashboard')\n    .provider('pipAddComponentDialog', AddComponentDialogProvider);\n","'use strict';\n\nclass TileColors {\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\n}\n\nclass TileSizes {\n    static all: any = [\n        {name: 'SMALL', id: '11'},\n        {name: 'WIDE', id: '21'},\n        {name: 'LARGE', id: '22'}\n    ];\n}\n\nexport class WidgetConfigDialogController {\n    public dialogTitle: string = \"Edit tile\";\n    public $mdDialog: angular.material.IDialogService;\n    public transclude: any;\n    public params: any;\n    public colors: string[] = TileColors.all;\n    public sizes: any = TileSizes.all;\n    public sizeId: string = TileSizes.all[0].id;\n\n    private _$element: any;\n    private _$timeout: angular.ITimeoutService;\n\n    constructor(\n        params,\n        $mdDialog: angular.material.IDialogService,\n        $compile: angular.ICompileService,\n        $timeout: angular.ITimeoutService,\n        $injector,\n        $scope: angular.IScope,\n        $rootScope) {\n        \"ngInject\";\n\n        this.$mdDialog = $mdDialog;\n        this._$timeout = $timeout;\n\n        this.params = params;\n        angular.extend(this, this.params);\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\n    }\n\n    public onApply(): void {\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\n        this.$mdDialog.hide(this);\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n}\n\nangular\n    .module('pipWidgetConfigDialog', ['ngMaterial'])\n    .controller('pipWidgetConfigDialogController', WidgetConfigDialogController);\n\nimport './ConfigDialogService';\nimport './ConfigDialogExtendComponent';","\n(() => {\n    'use strict';\n    \n    function pipWidgetConfigComponent(\n        $templateRequest: angular.ITemplateRequestService,\n        $compile: angular.ICompileService\n    ) {\n        return {\n            restrict: 'E',\n            templateUrl: 'dialogs/widget_config/ConfigDialogExtendComponent.html',\n            scope: false,\n            link: ($scope: angular.IScope, $element: any, $attrs: any) => {\n                $templateRequest($attrs.pipExtensionUrl, false).then((html) => {\n                    $element.find('pip-extension-point').replaceWith($compile(html)($scope));\n                });\n            }\n        }\n    }\n\n    angular\n        .module('pipWidgetConfigDialog')\n        .directive('pipWidgetConfigExtendComponent', pipWidgetConfigComponent);\n\n})();","export interface IWidgetConfigService {\n    show(params: any, successCallback?: (key) => void, cancelCallback?: () => void): any;\n}\n\nclass WidgetConfigDialogService {\n  public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback?: (key) => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: params.templateUrl || 'dialogs/widget_config/ConfigDialog.html',\n            controller: 'pipWidgetConfigDialogController',\n            controllerAs: 'vm',\n            locals: {params: params},\n            clickOutsideToClose: true\n         })\n        .then((key) => {\n            if (successCallback) {\n                successCallback(key);\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });         \n    }\n}\n\n\n(() => {\n  'use strict';\n\n  angular\n    .module('pipWidgetConfigDialog')\n    .service('pipWidgetConfigDialogService', WidgetConfigDialogService);\n  \n})();\n","(function () {\n  'use strict';\n\n  angular.module('pipDragged', []);\n})();\n\nimport './DraggableTileService';\nimport './DraggableController';\nimport './DraggableDirective';\nimport './draggable_group/DraggableTilesGroupService'\nimport './draggable_group/DraggableTilesGroupDirective'","'use strict';\n\ndeclare var interact;\n\nimport { DragTileService, IDragTileService, IDragTileConstructor } from './DraggableTileService';\nimport { TilesGridService, ITilesGridService, ITilesGridConstructor } from './draggable_group/DraggableTilesGroupService';\n\nlet SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\nexport let DEFAULT_TILE_WIDTH: number = 150;\nexport let DEFAULT_TILE_HEIGHT: number = 150;\nexport let UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\n\nlet DEFAULT_OPTIONS = {\n    tileWidth              : DEFAULT_TILE_WIDTH,   // 'px'\n    tileHeight             : DEFAULT_TILE_HEIGHT,   // 'px'\n    gutter                 : 20,    // 'px'\n    container              : 'pip-draggable-grid:first-of-type',\n    //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\n    activeDropzoneClass    : 'dropzone-active',\n    groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\n};\n\nclass DraggableController {\n  public opts: any;\n  public groups: any;\n  public sourceDropZoneElem: any = null;\n  public isSameDropzone: boolean = true;\n  public tileGroups: any = null;\n  public availableWidth: any;\n  public availableColumns: any;\n  public groupsContainers: any;\n  public container: any;\n  public activeDraggedGroup: any;\n  public draggedTile: any;\n  public containerOffset: any;\n\n  private _$timeout: angular.ITimeoutService;\n  private _$rootScope: angular.IRootScopeService;\n  private _$scope: angular.IScope;\n  private _$compile: angular.ICompileService;\n  private _$element: any;\n\n  constructor(\n    $scope: angular.IScope, \n    $rootScope: angular.IRootScopeService, \n    $compile: angular.ICompileService, \n    $timeout: angular.ITimeoutService,\n    $element: any, \n    pipDragTile: IDragTileService, \n    pipTilesGrid: ITilesGridService,\n    pipMedia: pip.layouts.IMediaService\n  ) {\n    this._$timeout = $timeout;\n    this._$rootScope = $rootScope;\n    this._$scope = $scope;\n    this._$compile = $compile;\n    this._$element = $element;\n\n    this.opts = _.merge({ mobileBreakpoint: pipMedia.breakpoints.xs }, DEFAULT_OPTIONS, $scope['draggableCtrl'].options);\n\n    this.groups = $scope['draggableCtrl'].tilesTemplates.map((group, groupIndex) => {\n      return {\n        title : group.title,\n        editingName : false,\n        index: groupIndex,\n        source: group.source.map((tile) => {\n          let tileScope = $rootScope.$new(false, $scope['draggableCtrl'].tilesContext);\n          tileScope['index'] = tile.opts.index;\n          tileScope['groupIndex'] = tile.opts.groupIndex;\n\n          return IDragTileConstructor(DragTileService, {\n            tpl    : $compile(tile.template)(tileScope),\n            options: tile.opts,\n            size   : tile.opts.size\n          });\n        })\n      };\n    });\n\n    // Add templates watcher\n    $scope.$watch('draggableCtrl.tilesTemplates', (newVal) => {\n      this.watch(newVal);\n    }, true);\n\n    // Initialize data\n    this.initialize();\n\n    // Resize handler TODO: replace by pip resize watchers\n    $(window).on('resize', _.debounce(() => {\n      this.availableWidth   = this.getContainerWidth();\n      this.availableColumns = this.getAvailableColumns(this.availableWidth);\n\n      this.tileGroups.forEach((group) => {\n        group\n          .setAvailableColumns(this.availableColumns)\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight();\n      });\n    }, 50));\n  }\n\n  // Watch handler\n  private watch(newVal) {\n      const prevVal = this.groups;\n      let changedGroupIndex = null;\n\n      if (newVal.length > prevVal.length) {\n        this.addGroup(newVal[newVal.length - 1]);\n\n        return;\n      }\n\n      if (newVal.length < prevVal.length) {\n        this.removeGroups(newVal);\n\n        return;\n      }\n\n      for (let i = 0; i < newVal.length; i++) {\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\n          changedGroupIndex = i;\n\n          if (groupWidgetDiff < 0) {\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\n            \n            _.each(newTiles, (tile) => {\n              console.log('tile', tile);\n            });\n\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\n\n            this._$timeout(() => { this.updateTilesGroups(); });\n          } else {\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\n            this.updateTilesOptions(newVal);\n            this._$timeout(() => { this.updateTilesGroups(); });\n          }\n\n          return;\n        }\n      }\n\n      if (newVal && this.tileGroups) {\n        this.updateTilesOptions(newVal);\n        this._$timeout(() => { this.updateTilesGroups(); });\n      }\n  }\n\n  // Inline edit group handlers\n  public onTitleClick(group, event) {\n      if (!group.editingName) {\n        group.oldTitle = _.clone(group.title);\n        group.editingName = true;\n        this._$timeout(() => {\n          $(event.currentTarget.children[0]).focus();\n        });\n      }\n  }\n\n  public cancelEditing (group) {\n      group.title = group.oldTitle;\n    }\n\n    public onBlurTitleInput (group) {\n      this._$timeout(() => {\n        group.editingName = false;\n        this._$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\n        // Update title in outer scope\n        this._$scope['draggableCtrl'].tilesTemplates[group.index].title = group.title;\n      }, 100);\n    }\n\n    public onKyepressTitleInput (group, event) {\n      if (event.keyCode === 13) {\n        this.onBlurTitleInput(group);\n      }\n    }\n\n    // Update outer scope functions\n    private updateTilesTemplates(updateType: string, source?: any) {\n      switch(updateType) {\n        case 'addGroup': \n          if (this.groups.length !== this._$scope['draggableCtrl'].tilesTemplates.length) {\n              this._$scope['draggableCtrl'].tilesTemplates.push(source);\n          }          \n          break;\n        case 'moveTile': \n          const {fromIndex, toIndex, tileOptions, fromTileIndex} = {\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\n            toIndex: source.to.elem.attributes['data-group-id'].value,\n            tileOptions: source.tile.opts.options,\n            fromTileIndex: source.tile.opts.options.index\n          }\n          this._$scope['draggableCtrl'].tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\n          this._$scope['draggableCtrl'].tilesTemplates[toIndex].source.push({opts: tileOptions});\n\n          this.reIndexTiles(source.from.elem);\n          this.reIndexTiles(source.to.elem);\n          break;\n      }\n    }\n\n    // Manage tiles functions\n    private removeTiles(group, indexes, container) {\n      const tiles = $(container).find('.pip-draggable-tile');\n\n      _.each(indexes, (index) => {\n        group.tiles.splice(index, 1);\n        tiles[index].remove();\n      });\n\n      this.reIndexTiles(container);\n    }\n\n    private reIndexTiles(container, gIndex?) {\n      const tiles = $(container).find('.pip-draggable-tile'),\n            groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\n\n      _.each(tiles, (tile, index) => {\n        let child = $(tile).children()[0];\n        angular.element(child).scope()['index'] = index;\n        angular.element(child).scope()['groupIndex'] = groupIndex;\n      });\n    }\n\n    private removeGroups(newGroups) {\n      const removeIndexes = [],\n            remain = [],\n            containers = [];\n\n\n      _.each(this.groups, (group, index) => {\n          if (_.findIndex(newGroups, (g) => { return g['title'] === group.title}) < 0) {\n            removeIndexes.push(index);\n          } else {\n            remain.push(index);\n          }\n      });\n\n      _.each(removeIndexes.reverse(), (index) => {\n          this.groups.splice(index, 1);\n          this.tileGroups.splice(index, 1);\n      });\n\n      _.each(remain, (index) => {\n          containers.push(this.groupsContainers[index]);\n      });\n      \n       this.groupsContainers = containers;\n\n      _.each(this.groupsContainers, (container, index) => {\n          this.reIndexTiles(container, index);\n      });\n    }\n\n    private addGroup(sourceGroup) {\n      let group = {\n        title : sourceGroup.title,\n        source: sourceGroup.source.map((tile) => {\n          let tileScope = this._$rootScope.$new(false, this._$scope['draggableCtrl'].tilesContext);\n          tileScope['index'] = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index ;\n          tileScope['groupIndex'] = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\n          return IDragTileConstructor(DragTileService, {\n            tpl    : this._$compile(tile.template)(tileScope),\n            options: tile.opts,\n            size   : tile.opts.size\n          });\n        })\n      };\n\n      this.groups.push(group);\n      if (!this._$scope.$$phase) this._$scope.$apply();\n\n      this._$timeout(() => {\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups.push(\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n            .setTilesDimensions()\n            .calcContainerHeight()\n        );\n      });\n\n      this.updateTilesTemplates('addGroup', sourceGroup);\n    }\n\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\n      newTiles.forEach((tile) => {\n        const tileScope = this._$rootScope.$new(false, this._$scope['draggableCtrl'].tilesContext);\n        tileScope['index'] = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index ;\n        tileScope['groupIndex'] = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\n\n        const newTile = IDragTileConstructor(DragTileService,{\n          tpl    : this._$compile(tile.template)(tileScope),\n          options: tile.opts,\n          size   : tile.opts.size\n        });\n\n        group.addTile(newTile);\n\n        $('<div>')\n          .addClass('pip-draggable-tile')\n          .append(newTile.getCompiledTemplate())\n          .appendTo(groupContainer);\n      });\n    }\n\n    private updateTilesOptions(optionsGroup) {\n      optionsGroup.forEach((optionGroup) => {\n        optionGroup.source.forEach((tileOptions) => {\n          this.tileGroups.forEach((group) => {\n            group.updateTileOptions(tileOptions.opts);\n          });\n        });\n      });\n    }\n\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\n      return tileGroups.map((group, index) => {\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight();\n      });\n    }\n\n    private updateTilesGroups(onlyPosition?, draggedTile?) {\n      this.tileGroups.forEach((group) => {\n        if (!onlyPosition) {\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\n        }\n\n        group\n          .setTilesDimensions(onlyPosition, draggedTile)\n          .calcContainerHeight();\n      });\n    }\n\n    private getContainerWidth(): any {\n      const container = this._$scope['$container'] || $('body');\n      return container.width();\n    }\n\n    private getAvailableColumns(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT\n        : Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\n    }\n\n    private getActiveGroupAndTile(elem): any {\n      const active = {};\n\n      this.tileGroups.forEach((group) => {\n        const foundTile = group.getTileByNode(elem);\n\n        if (foundTile) {\n          active['group'] = group;\n          active['tile']  = foundTile;\n          return;\n        }\n      });\n\n      return active;\n    }\n\n    private getSingleTileWidthForMobile(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\n    }\n\n    private onDragStartListener(event) {\n      const activeEntities = this.getActiveGroupAndTile(event.target);\n\n      this.container          = $(event.target).parent('.pip-draggable-group').get(0);\n      this.draggedTile        = activeEntities['tile'];\n      this.activeDraggedGroup = activeEntities['group'];\n      \n      this._$element.addClass('drag-transfer');\n\n      this.draggedTile.startDrag();\n    }\n\n    private onDragMoveListener(event) {\n      const target = event.target;\n      const x      = (parseFloat(target.style.left) || 0) + event.dx;\n      const y      = (parseFloat(target.style.top) || 0) + event.dy;\n\n      this.containerOffset = this.getContainerOffset();\n\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\n      target.style.top  = y + 'px';\n\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\n        left: event.pageX - this.containerOffset.left,\n        top : event.pageY - this.containerOffset.top\n      }, this.draggedTile);\n\n      if (belowElement) {\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\n        const belowElemIndex   = this.activeDraggedGroup.getTileIndex(belowElement);\n\n        if ((draggedTileIndex + 1) === belowElemIndex) {\n          return;\n        }\n\n        this.activeDraggedGroup\n          .swapTiles(this.draggedTile, belowElement)\n          .setTilesDimensions(true, this.draggedTile);\n\n        this._$timeout(() => { this.setGroupContainersHeight(); }, 0);\n      }\n    }\n\n    private onDragEndListener() {\n      this.draggedTile.stopDrag(this.isSameDropzone);\n\n      this._$element.removeClass('drag-transfer');\n      this.activeDraggedGroup = null;\n      this.draggedTile        = null;\n    }\n\n    private getContainerOffset() {\n      const containerRect = this.container.getBoundingClientRect();\n\n      return {\n        left: containerRect.left,\n        top : containerRect.top\n      };\n    }\n\n    private setGroupContainersHeight() {\n      this.tileGroups.forEach((tileGroup) => {\n        tileGroup.calcContainerHeight();\n      });\n    }\n\n    private moveTile(from, to, tile) {\n      let elem;\n      const movedTile = from.removeTile(tile);\n      const tileScope = this._$rootScope.$new(false, this._$scope['draggableCtrl'].tilesContext);\n          tileScope['index'] = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index ;\n          tileScope['groupIndex'] = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\n\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\n        .find(movedTile.getElem())\n        .remove();\n\n      if (to !== null) {\n        to.addTile(movedTile);\n\n        elem = this._$compile(movedTile.getElem())(tileScope);\n\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\n          .append(elem);\n\n        this._$timeout(to.setTilesDimensions.bind(to, true));\n      }\n\n      this.updateTilesTemplates('moveTile', {from: from, to: to, tile: movedTile});\n    }\n\n    private onDropListener(event) {\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\n      const droppedGroup      = this.tileGroups[droppedGroupIndex];\n\n      if (this.activeDraggedGroup !== droppedGroup) {\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\n      }\n\n      this.updateTilesGroups(true);\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropToFictGroupListener(event) {\n      const from = this.activeDraggedGroup;\n      const tile = this.draggedTile;\n\n      this.addGroup({title: 'New group', source: []});\n      this._$timeout(() => {\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\n        this.updateTilesGroups(true);\n      });\n\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropEnterListener(event) {\n      if (!this.sourceDropZoneElem) {\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\n      }\n\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\n        $('body').css('cursor', 'copy');\n        this.isSameDropzone = false;\n      } else {\n        $('body').css('cursor', '');\n        this.isSameDropzone = true;\n      }\n    }\n\n    private onDropDeactivateListener(event) {\n      if (this.sourceDropZoneElem !== event.target) {\n        event.target.classList.remove(this.opts.activeDropzoneClass);\n        $('body').css('cursor', '');\n      }\n    }\n\n    private onDropLeaveListener(event) {\n      event.target.classList.remove(this.opts.activeDropzoneClass);\n    }\n\n    private initialize() {\n      this._$timeout(() => {\n        this.availableWidth   = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups       = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\n\n        interact('.pip-draggable-tile')\n          .draggable({\n            // enable autoScroll\n            autoScroll: true,\n            onstart: (event) => { this.onDragStartListener(event) },\n            onmove : (event) => { this.onDragMoveListener(event) },\n            onend  : (event) => { this.onDragEndListener() }\n          });\n        \n        interact('.pip-draggable-group.fict-group')\n          .dropzone({\n            ondrop: (event) => { console.log('here');  this.onDropToFictGroupListener(event) },\n            ondragenter     : (event) => { this.onDropEnterListener(event) },\n            ondropdeactivate: (event) => { this.onDropDeactivateListener(event) },\n            ondragleave     : (event) => { this.onDropLeaveListener(event) }\n          })\n        \n        interact('.pip-draggable-group')\n          .dropzone({\n            ondrop          : (event) => { this.onDropListener(event) },\n            ondragenter     : (event) => { this.onDropEnterListener(event) },\n            ondropdeactivate: (event) => { this.onDropDeactivateListener(event) },\n            ondragleave     : (event) => { this.onDropLeaveListener(event) }\n          });\n\n        this._$scope['$container']\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\n            interact('.pip-draggable-tile').draggable(false);\n            $(this).trigger('click');\n          })\n          .on('mouseup touchend', () => {\n            interact('.pip-draggable-tile').draggable(true);\n          });\n      }, 0);\n    }\n\n}\n\n\nangular\n    .module('pipDragged')\n    .controller('pipDraggableCtrl', DraggableController);\n","'use strict';\n\nangular\n  .module('pipDragged')\n  .directive('pipDraggableGrid', DragDirective);\n\nfunction DragDirective() {\n  return {\n    restrict: 'E',\n    scope: {\n      tilesTemplates: '=pipTilesTemplates',\n      tilesContext: '=pipTilesContext',\n      options: '=pipDraggableGrid',\n      groupMenuActions: '=pipGroupMenuActions'\n    },\n    templateUrl: 'draggable/Draggable.html',\n    bindToController: true,\n    controllerAs: 'draggableCtrl',\n    controller: 'pipDraggableCtrl',\n    link: function ($scope, $elem) {\n      $scope.$container = $elem;\n    }\n  };\n}","'use strict';\n\nexport interface DragTileConstructor {\n  new (options: any);\n}\n\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\n  return new constructor(options);\n}\n\nexport interface IDragTileService {\n  tpl: any;\n  opts: any;\n  size: any;\n  elem: any;\n  preview: any;\n  getSize(): any;\n  setSize(width, height): any;\n  setPosition(left, top): any;\n  getCompiledTemplate(): any;\n  updateElem(parent): any;\n  getElem(): any;\n  startDrag(): any;\n  stopDrag(isAnimate): any;\n  setPreviewPosition(coords): void;\n  getOptions(): any;\n  setOptions(options): any;\n}\n\nlet DEFAULT_TILE_SIZE = {\n  colSpan: 1,\n  rowSpan: 1\n};\n\nexport class DragTileService implements IDragTileService {\n  public tpl: any;\n  public opts: any;\n  public size: any;\n  public elem: any;\n  public preview: any;\n\n  constructor (options: any) {\n    this.tpl = options.tpl.get(0);\n    this.opts = options;\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\n    this.elem = null;\n  }\n\n  public getSize(): any {\n    return this.size;\n  }\n\n  public setSize(width, height): any {\n    this.size.width = width;\n    this.size.height = height;\n\n    if (this.elem) {\n      this.elem.css({\n        width: width,\n        height: height\n      });\n    }\n\n    return this;\n  }\n\n  public setPosition(left, top): any {\n    this.size.left = left;\n    this.size.top = top;\n\n    if (this.elem) {\n      this.elem.css({\n        left: left,\n        top: top\n      });\n    }\n\n    return this;\n  }\n\n  public getCompiledTemplate(): any {\n    return this.tpl;\n  };\n\n  public updateElem(parent): any {\n    this.elem = $(this.tpl).parent(parent);\n\n    return this;\n  };\n\n  public getElem(): any {\n    return this.elem.get(0);\n  };\n\n  public startDrag(): any {\n    this.preview = $('<div>')\n      .addClass('pip-dragged-preview')\n      .css({\n        position: 'absolute',\n        left: this.elem.css('left'),\n        top: this.elem.css('top'),\n        width: this.elem.css('width'),\n        height: this.elem.css('height')\n      });\n\n    this.elem\n      .addClass('no-animation')\n      .css({\n        zIndex: '9999'\n      })\n      .after(this.preview);\n\n    return this;\n  };\n\n  public stopDrag(isAnimate): any {\n    let self = this;\n\n    if (isAnimate) {\n      this.elem\n        .removeClass('no-animation')\n        .css({\n          left: this.preview.css('left'),\n          top: this.preview.css('top')\n        })\n        .on('transitionend', onTransitionEnd);\n    } else {\n      self.elem\n        .css({\n          left: self.preview.css('left'),\n          top: self.preview.css('top'),\n          zIndex: ''\n        })\n        .removeClass('no-animation');\n\n      self.preview.remove();\n      self.preview = null;\n    }\n\n    return this;\n\n    function onTransitionEnd() {\n      if (self.preview) {\n        self.preview.remove();\n        self.preview = null;\n      }\n\n      self.elem\n        .css('zIndex', '')\n        .off('transitionend', onTransitionEnd);\n    }\n  };\n\n  public setPreviewPosition(coords) {\n    this.preview.css(coords);\n  };\n\n  public getOptions(): any {\n    return this.opts.options;\n  };\n\n  public setOptions(options): any {\n    _.merge(this.opts.options, options);\n    _.merge(this.size, options.size);\n\n    return this;\n  };\n}\n\nangular\n  .module('pipDragged')\n  .service('pipDragTile', function () {\n    return function (options) {\n      let newTile = new DragTileService(options);\n\n      return newTile;\n    }\n  });","'use strict';\n\nangular\n  .module('pipDragged')\n  .directive('pipDraggableTiles', DraggableTile);\n\nfunction DraggableTile() {\n  return {\n    restrict: 'A',\n    link: function ($scope, $elem, $attr) {\n      var docFrag = document.createDocumentFragment();\n      var group = $scope.$eval($attr.pipDraggableTiles);\n\n      group.forEach(function (tile) {\n        var tpl = wrapComponent(tile.getCompiledTemplate());\n        docFrag.appendChild(tpl);\n      });\n\n      $elem.append(docFrag);\n\n      function wrapComponent(elem) {\n        return $('<div>')\n          .addClass('pip-draggable-tile')\n          .append(elem)\n          .get(0);\n      }\n    }\n  };\n}","'use strict';\n\nexport interface TilesGridConstructor {\n  new (tiles, options, columns, elem);\n}\n\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem):ITilesGridService {\n  return new constructor(tiles, options, columns, elem);\n}\n\nexport interface ITilesGridService {\n  tiles: any;\n  opts: any;\n  columns: any;\n  elem: any;\n  gridCells: any;\n  inline: boolean;\n  isMobileLayout: boolean;\n\n  addTile(tile): any;\n  getCellByPosition(row, col): any;\n  getCells(prevCell, rowSpan, colSpan): any;\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\n  getCell(src, basicRow, basicCol, columns): any;\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\n  getBasicRow(prevCell): any;\n  isCellFree(row, col): any;\n  getCellIndex(srcCell): any;\n  reserveCells(start, end, elem): void;\n  clearElements(): void;\n  setAvailableColumns(columns): any;\n  generateGrid(singleTileWidth?): any;\n  setTilesDimensions(onlyPosition, draggedTile): any;\n  calcContainerHeight(): any;\n  getTileByNode(node): any;\n  getTileByCoordinates(coords, draggedTile): any;\n  getTileIndex(tile): any;\n  swapTiles(movedTile, beforeTile): any;\n  removeTile(removeTile): any;\n  updateTileOptions(opts): any;\n}\n\nlet MOBILE_LAYOUT_COLUMNS = 2;\n\nexport class TilesGridService implements ITilesGridService {\n  public tiles: any;\n  public opts: any;\n  public columns: any;\n  public elem: any;\n  public gridCells: any = [];\n  public inline: boolean = false;\n  public isMobileLayout: boolean;\n\n  constructor(tiles, options, columns, elem) {\n    this.tiles = tiles;\n    this.opts = options;\n    this.columns = columns || 0; // available columns in a row\n    this.elem = elem;\n    this.gridCells = [];\n    this.inline = options.inline || false;\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n  }\n\n  public addTile(tile): any {\n    this.tiles.push(tile);\n    if (this.tiles.length === 1) {\n      this.generateGrid();\n    }\n\n    return this;\n  };\n\n  public getCellByPosition(row, col): any {\n    return this.gridCells[row][col];\n  };\n\n  public getCells(prevCell, rowSpan, colSpan): any {\n    if (this.isMobileLayout) {\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\n    } else {\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\n    }\n  };\n\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    let basicCol = prevCell && prevCell.col || 0;\n    let basicRow = this.getBasicRow(prevCell);\n\n    // Small tile\n    if (colSpan === 1 && rowSpan === 1) {\n      let gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          let rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    // Medium tile\n    if (colSpan === 2 && rowSpan === 1) {\n      let prevTileSize = prevCell && prevCell.elem.size || null;\n\n      if (!prevTileSize) {\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\n        if (this.columns - basicCol - 2 > 0) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\n        if (prevCell.row % 2 === 0) {\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\n        } else {\n          if (this.columns - basicCol - 3 >= 0) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n          }\n        }\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\n        if (this.columns - basicCol - 3 >= 0) {\n          if (this.isCellFree(basicRow, basicCol + 1)) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\n          }\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      }\n    }\n\n    // Big tile\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\n    } else if (rowSpan === 2 && colSpan === 2) {\n      if (this.columns - basicCol - 2 > 0) {\n        if (this.isCellFree(basicRow, basicCol + 1)) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\n        }\n      } else {\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\n      }\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getCell(src, basicRow, basicCol, columns): any {\n    let cell;\n    let col;\n    let row;\n\n    if (this.isMobileLayout) {\n      // mobile layout\n      for (col = basicCol; col < columns; col++) {\n        if (!src[basicRow][col].elem) {\n          cell = src[basicRow][col];\n          break;\n        }\n      }\n\n      return cell;\n    }\n\n    // desktop\n    for (col = basicCol; col < columns; col++) {\n      for (row = 0; row < 2; row++) {\n        if (!src[row + basicRow][col].elem) {\n          cell = src[row + basicRow][col];\n          break;\n        }\n      }\n\n      if (cell) {\n        return cell;\n      }\n    }\n  };\n\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    let basicRow = this.getBasicRow(prevCell);\n    let basicCol = prevCell && prevCell.col || 0;\n\n\n    if (colSpan === 1 && rowSpan === 1) {\n      let gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          let rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    if (!prevCell) {\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\n    } else if (colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getBasicRow(prevCell): any {\n    let basicRow;\n\n    if (this.isMobileLayout) {\n      if (prevCell) {\n        basicRow = prevCell && prevCell.row || 0;\n      } else {\n        basicRow = 0;\n      }\n    } else {\n      if (prevCell) {\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\n      } else {\n        basicRow = 0;\n      }\n    }\n\n    return basicRow;\n  };\n\n  public isCellFree(row, col): any {\n    return !this.gridCells[row][col].elem;\n  };\n\n  public getCellIndex(srcCell): any {\n    let self = this;\n    let index;\n\n    this.gridCells.forEach((row, rowIndex) => {\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\n        return cell === srcCell;\n      });\n\n      if (index !== -1) {\n        return;\n      }\n    });\n\n    return index !== -1 ? index : 0;\n  };\n\n  public reserveCells(start, end, elem) {\n    this.gridCells.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell.row >= start.row && cell.row <= end.row &&\n          cell.col >= start.col && cell.col <= end.col) {\n          cell.elem = elem;\n        }\n      });\n    });\n  };\n\n  public clearElements() {\n    this.gridCells.forEach((row) => {\n      row.forEach((tile) => {\n        tile.elem = null;\n      });\n    });\n  };\n\n  public setAvailableColumns(columns): any {\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n    this.columns = columns;\n\n    return this;\n  };\n\n  public generateGrid(singleTileWidth?): any {\n    let self = this;\n    let colsInRow = 0;\n    let rows = 0;\n    let tileWidth = singleTileWidth || this.opts.tileWidth;\n    let offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\n    let gridInRow = [];\n\n    this.gridCells = [];\n\n    this.tiles.forEach((tile, index, srcTiles) => {\n      let tileSize = tile.getSize();\n\n      generateCells(tileSize.colSpan);\n\n      if (srcTiles.length === index + 1) {\n        if (colsInRow < self.columns) {\n          generateCells(self.columns - colsInRow);\n        }\n\n        // Generate more cells for extends tile size to big\n        if (self.tiles.length * 2 > self.gridCells.length) {\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\n            generateCells(self.columns);\n          });\n        }\n      }\n    });\n\n    function generateCells(newCellCount) {\n        Array.apply(null, Array(newCellCount)).forEach(() => {\n          if (self.columns < colsInRow + 1) {\n            rows++;\n            colsInRow = 0;\n\n            self.gridCells.push(gridInRow);\n            gridInRow = [];\n          }\n\n          let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\n          let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\n\n          // Describe grid cell size through block corners coordinates\n          gridInRow.push({\n            top: top,\n            left: left,\n            bottom: top + self.opts.tileHeight,\n            right: left + tileWidth,\n            row: rows,\n            col: colsInRow\n          });\n\n          colsInRow++;\n        });\n      }\n\n    return this;\n  };\n\n  public setTilesDimensions(onlyPosition, draggedTile): any {\n    let self = this;\n    let currIndex = 0;\n    let prevCell;\n\n    if (onlyPosition) {\n      self.clearElements();\n    }\n\n    this.tiles.forEach((tile) => {\n      let tileSize = tile.getSize();\n      let startCell;\n      let width;\n      let height;\n      let cells;\n\n      tile.updateElem('.pip-draggable-tile');\n      if (tileSize.colSpan === 1) {\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\n        } else {\n          startCell = self.getCells(prevCell, 1, 1).start;\n        }\n\n\n        if (!onlyPosition) {\n          width = startCell.right - startCell.left;\n          height = startCell.bottom - startCell.top;\n        }\n\n        prevCell = startCell;\n\n        self.reserveCells(startCell, startCell, tile);\n\n        currIndex++;\n      } else if (tileSize.colSpan === 2) {\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\n        startCell = cells.start;\n\n        if (!onlyPosition) {\n          width = cells.end.right - cells.start.left;\n          height = cells.end.bottom - cells.start.top;\n        }\n\n        prevCell = cells.end;\n\n        self.reserveCells(cells.start, cells.end, tile);\n\n        currIndex += 2;\n      }\n\n      // Render preview\n      // while tiles from group is dragged\n      if (draggedTile === tile) {\n        tile.setPreviewPosition({\n          left: startCell.left,\n          top: startCell.top\n        });\n\n        return;\n      }\n\n      if (!onlyPosition) {\n        tile.setSize(width, height);\n      }\n\n      tile.setPosition(startCell.left, startCell.top);\n    });\n\n    return this;\n  };\n\n  public calcContainerHeight(): any {\n    let maxHeightSize, maxWidthSize;\n\n    if (!this.tiles.length) {\n      return this;\n    }\n\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\n      let tileSize = tile['getSize']();\n      return tileSize.top + tileSize.height;\n    })['getSize']();\n\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\n\n    if (this.inline) {\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\n        let tileSize = tile['getSize']();\n        return tileSize.left + tileSize.width;\n      })['getSize']();\n\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\n    }\n\n    return this;\n  };\n\n  public getTileByNode(node): any {\n    let foundTile = this.tiles.filter((tile) => {\n      return node === tile.getElem();\n    });\n\n    return foundTile.length ? foundTile[0] : null;\n  };\n\n  public getTileByCoordinates(coords, draggedTile): any {\n    return this.tiles\n      .filter((tile) => {\n        let tileSize = tile.getSize();\n\n        return tile !== draggedTile &&\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\n      })[0] || null;\n  };\n\n  public getTileIndex(tile): any {\n    return _.findIndex(this.tiles, tile);\n  };\n\n  public swapTiles(movedTile, beforeTile): any {\n    let movedTileIndex = _.findIndex(this.tiles, movedTile);\n    let beforeTileIndex = _.findIndex(this.tiles, beforeTile);\n\n    this.tiles.splice(movedTileIndex, 1);\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\n\n    return this;\n  };\n\n  public removeTile(removeTile): any {\n    let droppedTile;\n\n    this.tiles.forEach((tile, index, tiles) => {\n      if (tile === removeTile) {\n        droppedTile = tiles.splice(index, 1)[0];\n        return false;\n      }\n    });\n\n    return droppedTile;\n  };\n\n  public updateTileOptions(opts): any {\n    let index = _.findIndex(this.tiles, (tile) => {\n      return tile['getOptions']() === opts;\n    });\n\n    if (index !== -1) {\n      this.tiles[index].setOptions(opts);\n      return true;\n    }\n\n    return false;\n  };\n}\n\nangular\n  .module('pipDragged')\n  .service('pipTilesGrid', function () {\n    return function (tiles, options, columns, elem) {\n      let newGrid = new TilesGridService(tiles, options, columns, elem);\n\n      return newGrid;\n    }\n  });","export interface IWidgetTemplateService {\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\n    setImageMarginCSS($element, image): void;\n}\n\nclass widgetTemplateService implements IWidgetTemplateService {\n    private _$interpolate: angular.IInterpolateService;\n    private _$compile: angular.ICompileService;\n    private _$templateRequest: angular.ITemplateRequestService;\n\n    constructor(\n        $interpolate: angular.IInterpolateService,\n        $compile: angular.ICompileService,\n        $templateRequest: angular.ITemplateRequestService\n    ) {\n        this._$interpolate = $interpolate;\n        this._$compile = $compile;\n        this._$templateRequest = $templateRequest;\n    }\n\n    public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\n        const {\n            template,\n            templateUrl,\n            type\n        } = source;\n        let result;\n\n        if (type) {\n            const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\n            return strictCompile == true ?\n                (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\n                interpolated;\n        }\n\n        if (template) {\n            return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\n        }\n\n        if (templateUrl) {\n            this._$templateRequest(templateUrl, false).then((html) => {\n                result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\n            });\n        }\n\n        return result;\n    }\n\n    public setImageMarginCSS($element, image) {\n        let\n            containerWidth = $element.width ? $element.width() : $element.clientWidth, \n            containerHeight = $element.height ? $element.height() : $element.clientHeight,\n            imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\n            imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\n            margin = 0,\n            cssParams = {};\n\n        if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n            margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n            cssParams['margin-left'] = '' + margin + 'px';\n            cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n            cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n            cssParams['margin-top'] = '';\n        } else {\n            margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n            cssParams['margin-top'] = '' + margin + 'px';\n            cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n            cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n            cssParams['margin-left'] = '';\n        }\n\n        $(image).css(cssParams);\n    }\n}\n\n// image load directive TODO: remove to pipImageUtils\nfunction ImageLoad($parse) {\n    return {\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            var callback = $parse(attrs.pipImageLoad);\n            element.bind('load', (event) => {\n                callback(scope, {$event: event});\n            });\n        } \n    }\n}\n\nangular\n    .module('pipDashboard')\n    .service('pipWidgetTemplate', widgetTemplateService)\n    .directive('pipImageLoad', ImageLoad);","(() => {\n  'use strict';\n\n  angular.module('pipWidget', []);\n})();\n\nimport './calendar/WidgetCalendar';\nimport './event/WidgetEvent';\nimport './menu/WidgetMenuService';\nimport './menu/WidgetMenuDirective';\nimport './notes/WidgetNotes';\nimport './position/WidgetPosition';\nimport './statistics/WidgetStatistics';\nimport './picture_slider/WidgetPictureSlider';\n","import { MenuWidgetService } from '../menu/WidgetMenuService';\nimport { IWidgetConfigService } from '../../dialogs/widget_config/ConfigDialogService';\n\nclass CalendarWidgetController extends MenuWidgetService {\n  private _$scope: angular.IScope;\n  private _configDialog: IWidgetConfigService;\n\n  public color: string = 'blue';\n\n  constructor(\n    pipWidgetMenu: any,\n    $scope: angular.IScope,\n    pipWidgetConfigDialogService: IWidgetConfigService\n  ) {\n      super();\n      this._$scope = $scope;\n      this._configDialog = pipWidgetConfigDialogService;\n\n      if (this['options']) {\n        this.menu = this['options']['menu'] ? _.union(this.menu, this['options']['menu']) : this.menu;\n        this.menu.push({ title: 'Configurate', click: () => {\n          this.onConfigClick();\n        }});\n        this['options'].date = this['options'].date || new Date();\n        this.color = this['options'].color || this.color;\n      }\n  }\n\n  private onConfigClick() {\n    this._configDialog.show({\n      dialogClass: 'pip-calendar-config',\n      color: this.color,\n      size: this['options'].size,\n      date: this['options'].date,\n      extensionUrl: 'widgets/calendar/ConfigDialogExtension.html'\n    }, (result: any) => {\n      this.color = result.color;\n      this['options'].color = result.color;\n      this.changeSize(result.size);\n      this['options'].date = result.date;\n    });\n  }\n\n}\n\n(() => {\n\n  let pipCalendarWidget = {\n      bindings        : {\n        options: '=pipOptions',\n      },\n      controller      : CalendarWidgetController,\n      controllerAs    : 'widgetCtrl',\n      templateUrl     : 'widgets/calendar/WidgetCalendar.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipCalendarWidget', pipCalendarWidget);\n\n})();\n","import { MenuWidgetService} from '../menu/WidgetMenuService';\nimport { IWidgetConfigService } from '../../dialogs/widget_config/ConfigDialogService';\n\nclass EventWidgetController extends MenuWidgetService {\n  private _$scope: angular.IScope;\n  private _$element: any;\n  private _$timeout: angular.ITimeoutService;\n  private _configDialog: IWidgetConfigService;\n  private _oldOpacity: number;\n\n  public color: string = 'gray';\n  public opacity: number = 0.57;\n\n  constructor(\n    pipWidgetMenu: any,\n    $scope: angular.IScope,\n    $element: any,\n    $timeout: angular.ITimeoutService,\n    pipWidgetConfigDialogService: IWidgetConfigService\n  ) {\n    super();\n    this._$scope = $scope;\n    this._$element = $element;\n    this._$timeout = $timeout;\n    this._configDialog = pipWidgetConfigDialogService;\n\n    if (this['options']) {\n      if (this['options']['menu']) this.menu = _.union(this.menu, this['options']['menu']);\n    }\n\n    this.menu.push({ title: 'Configurate', click: () => {\n          this.onConfigClick();\n    }});\n    this.color = this['options'].color || this.color;\n    this.opacity = this['options'].opacity || this.opacity;\n\n    this.drawImage();\n\n    // TODO it doesn't work\n    $scope.$watch(() => { return $element.is(':visible'); }, (newVal) => {\n      this.drawImage();\n    });\n  }\n\n  private drawImage() {\n    if (this['options'].image) {\n      this._$timeout(() => {\n        this.onImageLoad(this._$element.find('img'));\n      }, 500);\n    }\n  }\n\n  private onConfigClick() {\n    this._oldOpacity = _.clone(this.opacity);\n    this._configDialog.show({\n      dialogClass: 'pip-calendar-config',\n      color: this.color,\n      size: this['options'].size || {colSpan: 1, rowSpan: 1},\n      date: this['options'].date,\n      title: this['options'].title,\n      text: this['options'].text,\n      opacity: this.opacity,\n      onOpacitytest: (opacity) => {\n        this.opacity = opacity;\n      },\n      extensionUrl: 'widgets/event/ConfigDialogExtension.html'\n    }, (result: any) => {\n      this.color = result.color;\n      this['options'].color = result.color;\n      this.changeSize(result.size);\n      this['options'].date = result.date;\n      this['options'].title = result.title;\n      this['options'].text = result.text;\n      this['options'].opacity = result.opacity;\n    }, () => {\n      this.opacity = this._oldOpacity;\n    });\n  }\n\n  private onImageLoad(image) {\n    this.setImageMarginCSS(this._$element.parent(), image);\n  }\n\n  public changeSize(params) {\n    this['options'].size.colSpan = params.sizeX;\n    this['options'].size.rowSpan = params.sizeY;\n\n    if (this['options'].image) {\n      this._$timeout(() => {\n        this.setImageMarginCSS(this._$element.parent(), this._$element.find('img'));\n      }, 500);\n    }\n  }\n\n  // Later replace by pipImageUtils sevice's function\n  private setImageMarginCSS($element, image) {\n    let\n      containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\n      containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\n      imageWidth = image[0].naturalWidth || image.width,\n      imageHeight = image[0].naturalHeight || image.height,\n      margin = 0,\n      cssParams = {};\n\n    if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n      margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n      cssParams['margin-left'] = '' + margin + 'px';\n      cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n      cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n      cssParams['margin-top'] = '';\n    } else {\n      margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n      cssParams['margin-top'] = '' + margin + 'px';\n      cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n      cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n      cssParams['margin-left'] = '';\n    }\n\n    image.css(cssParams);\n  }\n}\n\n\n(() => {\n  let pipEventWidget =  {\n      bindings: {\n        options: '=pipOptions'\n      },\n      controller: EventWidgetController,\n      controllerAs: 'widgetCtrl',\n      templateUrl: 'widgets/event/WidgetEvent.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipEventWidget', pipEventWidget);\n})();","(() => {\n  'use strict';\n\n  angular\n    .module('pipWidget')\n    .directive('pipMenuWidget', pipMenuWidget);\n\n  function pipMenuWidget() {\n    return {\n      restrict        : 'EA',\n      templateUrl     : 'widgets/menu/WidgetMenu.html'\n    };\n  }\n})();\n","\nexport class MenuWidgetService {\n  public menu: any = [\n    {\n      title: 'Change Size',\n      action: angular.noop,\n      submenu: [{\n          title: '1 x 1',\n          action: 'changeSize',\n          params: {\n            sizeX: 1,\n            sizeY: 1\n          }\n        },\n        {\n          title: '2 x 1',\n          action: 'changeSize',\n          params: {\n            sizeX: 2,\n            sizeY: 1\n          }\n        },\n        {\n          title: '2 x 2',\n          action: 'changeSize',\n          params: {\n            sizeX: 2,\n            sizeY: 2\n          }\n        }\n      ]\n    }\n  ];\n\n  constructor() {\n    \"ngInject\";\n  }\n\n  public callAction(actionName, params, item) {\n    if (this[actionName]) {\n      this[actionName].call(this, params);\n    }\n\n    if (item['click']) {\n      item['click'].call(item, params, this);\n    }\n  };\n\n  public changeSize(params) {\n    this['options'].size.colSpan = params.sizeX;\n    this['options'].size.rowSpan = params.sizeY;\n  };\n}\n\nclass MenuWidgetProvider {\n    private _service: MenuWidgetService;\n\n    constructor() {\n    }\n\n   public $get() {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new MenuWidgetService();\n        \n        return this._service;\n    }\n}\n\n(function () {\n  'use strict';\n\n  angular\n    .module('pipWidget')\n    .provider('pipWidgetMenu', MenuWidgetProvider);\n})();","'use strict';\n\nimport { MenuWidgetService } from '../menu/WidgetMenuService';\nimport { IWidgetConfigService } from '../../dialogs/widget_config/ConfigDialogService';\n\nclass NotesWidgetController extends MenuWidgetService {\n  private _$scope: angular.IScope;\n  private _configDialog: IWidgetConfigService;\n\n  public color: string = 'orange';\n\n  constructor(\n    pipWidgetMenu: any,\n    $scope: angular.IScope,\n    pipWidgetConfigDialogService: IWidgetConfigService\n  ) {\n      super();\n      this._$scope = $scope;\n      this._configDialog = pipWidgetConfigDialogService;\n\n      if (this['options']) {\n        this.menu = this['options']['menu'] ? _.union(this.menu, this['options']['menu']) : this.menu;\n      }\n\n      this.menu.push({ title: 'Configurate', click: () => {\n          this.onConfigClick();\n      }});\n      this.color = this['options'].color || this.color;\n  }\n\n  private onConfigClick() {\n    this._configDialog.show({\n      dialogClass: 'pip-calendar-config',\n      color: this.color,\n      size: this['options'].size,\n      title: this['options'].title,\n      text: this['options'].text,\n      extensionUrl: 'widgets/notes/ConfigDialogExtension.html'\n    }, (result: any) => {\n      this.color = result.color;\n      this['options'].color = result.color;\n      this.changeSize(result.size);\n      this['options'].text = result.text;\n      this['options'].title = result.title;\n    });\n  }\n}\n\n  let pipNotesWidget = {\n      bindings           : {\n        options: '=pipOptions'\n      },\n      controller      : NotesWidgetController,\n      controllerAs    : 'widgetCtrl',\n      templateUrl     : 'widgets/notes/WidgetNotes.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipNotesWidget', pipNotesWidget);\n\n","'use strict';\n\nimport {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\nimport {\n  IWidgetTemplateService\n} from '../../utility/WidgetTemplateUtility';\n\nclass PictureSliderController extends MenuWidgetService {\n  private _$scope: angular.IScope;\n  private _configDialog: IWidgetConfigService;\n  private _widgetUtility: IWidgetTemplateService;\n  private _$element: any;\n  private _$timeout: angular.ITimeoutService;\n\n  public animationType: string = 'fading';\n  public animationInterval: number = 5000;\n\n  constructor(\n    pipWidgetMenu: any,\n    $scope: angular.IScope,\n    $element: any,\n    $timeout: angular.ITimeoutService,\n    pipWidgetConfigDialogService: IWidgetConfigService,\n    pipWidgetTemplate: IWidgetTemplateService\n  ) {\n    super();\n    this._$scope = $scope;\n    this._configDialog = pipWidgetConfigDialogService;\n    this._widgetUtility = pipWidgetTemplate;\n    this._$element = $element;\n    this._$timeout = $timeout;\n    if (this['options']) {\n      this.animationType = this['options'].animationType || this.animationType;\n      this.animationInterval = this['options'].animationInterval || this.animationInterval;\n    }\n  }\n\n  public onImageLoad($event) {\n    this._$timeout(() => {\n      this._widgetUtility.setImageMarginCSS(this._$element.parent(), $event.target);\n    });\n  }\n\n  public changeSize(params) {\n    this['options'].size.colSpan = params.sizeX;\n    this['options'].size.rowSpan = params.sizeY;\n\n    this._$timeout(() => {\n      _.each(this._$element.find('img'), (image) => {\n        this._widgetUtility.setImageMarginCSS(this._$element.parent(), image);\n      });\n    }, 500);\n  }\n}\n\nlet pipPictureSliderWidget = {\n  bindings: {\n    options: '=pipOptions',\n    index: '=',\n    group: '='\n  },\n  controller: PictureSliderController,\n  templateUrl: 'widgets/picture_slider/WidgetPictureSlider.html',\n  controllerAs: 'widgetCtrl'\n}\n\nangular\n  .module('pipWidget')\n  .component('pipPictureSliderWidget', pipPictureSliderWidget);","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\n\nclass PositionWidgetController extends MenuWidgetService {\n  private _$scope: angular.IScope;\n  private _$timeout: angular.ITimeoutService;\n  private _configDialog: IWidgetConfigService;\n  private _locationDialog: any;\n\n  public showPosition: boolean = true;\n\n  constructor(\n    pipWidgetMenu: any,\n    $scope: angular.IScope,\n    $timeout: angular.ITimeoutService,\n    $element: any,\n    pipWidgetConfigDialogService: IWidgetConfigService,\n    pipLocationEditDialog: any,\n  ) {\n    super();\n    this._$scope = $scope;\n    this._$timeout = $timeout;\n    this._configDialog = pipWidgetConfigDialogService;\n    this._locationDialog = pipLocationEditDialog;\n\n    if (this['options']) {\n      if (this['options']['menu']) this.menu = _.union(this.menu, this['options']['menu']);\n    }\n\n    this.menu.push({\n      title: 'Configurate',\n      click: () => {\n        this.onConfigClick();\n      }\n    });\n    this.menu.push({\n      title: 'Change location',\n      click: () => {\n        this.openLocationEditDialog();\n      }\n    });\n\n    this['options'].location = this['options'].location || this['options'].position;\n\n    $scope.$watch('widgetCtrl.options.location', () => {\n      this.reDrawPosition();\n    });\n\n    // TODO it doesn't work\n    $scope.$watch(() => { return $element.is(':visible'); }, (newVal) => {\n      if (newVal == true) this.reDrawPosition();\n    });\n  }\n\n  private onConfigClick() {\n    this._configDialog.show({\n      dialogClass: 'pip-position-config',\n      size: this['options'].size,\n      locationName: this['options'].locationName,\n      hideColors: true,\n      extensionUrl: 'widgets/position/ConfigDialogExtension.html'\n    }, (result: any) => {\n      this.changeSize(result.size);\n      this['options'].locationName = result.locationName;\n    });\n  }\n\n  public changeSize(params) {\n    this['options'].size.colSpan = params.sizeX;\n    this['options'].size.rowSpan = params.sizeY;\n\n    this.reDrawPosition();\n  }\n\n  public openLocationEditDialog() {\n    this._locationDialog.show({\n      locationName: this['options'].locationName,\n      locationPos: this['options'].location\n    }, (newPosition) => {\n      if (newPosition) {\n        this['options'].location = newPosition.location;\n        this['options'].locationName = newPosition.locatioName;\n      }\n    });\n  }\n\n  private reDrawPosition() {\n    this.showPosition = false;\n    this._$timeout(() => {\n      this.showPosition = true;\n    }, 50);\n  }\n}\n\n\nlet pipPositionWidget = {\n  bindings: {\n    options: '=pipOptions',\n    index: '=',\n    group: '='\n  },\n  controller: PositionWidgetController,\n  controllerAs: 'widgetCtrl',\n  templateUrl: 'widgets/position/WidgetPosition.html'\n}\n\nangular\n  .module('pipWidget')\n  .component('pipPositionWidget', pipPositionWidget);","import { MenuWidgetService } from '../menu/WidgetMenuService';\n\nlet SMALL_CHART: number = 70;\nlet BIG_CHART: number = 250;\n\nclass StatisticsWidgetController extends MenuWidgetService {\n  private _$scope: angular.IScope;\n  private _$timeout: angular.ITimeoutService;\n\n  public reset: boolean = false;\n  public chartSize: number = SMALL_CHART;\n\n  constructor(\n    pipWidgetMenu: any,\n    $scope: angular.IScope,\n    $timeout: angular.ITimeoutService\n  ) {\n      super();\n      this._$scope = $scope;\n      this._$timeout = $timeout;\n\n      if (this['options']) {\n        this.menu = this['options']['menu'] ? _.union(this.menu, this['options']['menu']) : this.menu;\n      }\n\n      this.setChartSize();\n  }\n\n  public changeSize(params) {\n    this['options'].size.colSpan = params.sizeX;\n    this['options'].size.rowSpan = params.sizeY;\n\n    this.reset = true;\n    this.setChartSize();\n    this._$timeout(() => {\n      this.reset = false;\n    }, 500);\n  }\n\n  private setChartSize() {\n    this.chartSize = this['options'].size.colSpan == 2 && this['options'].size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\n  }\n}\n\n(() => {\n  'use strict';\n\n  let pipStatisticsWidget = {\n      bindings           : {\n        options: '=pipOptions'\n      },\n      bindToController: true,\n      controller      : StatisticsWidgetController,\n      controllerAs    : 'widgetCtrl',\n      templateUrl     : 'widgets/statistics/WidgetStatistics.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipStatisticsWidget', pipStatisticsWidget);\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"dashboardCtrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"dashboardCtrl.groupedWidgets\" pip-tiles-context=\"dashboardCtrl.widgetsContext\" pip-draggable-grid=\"dashboardCtrl.draggableGridOptions\" pip-group-menu-actions=\"dashboardCtrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in draggableCtrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"draggableCtrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"draggableCtrl.onBlurTitleInput(group)\" ng-keypress=\"draggableCtrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"draggableCtrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in draggableCtrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/add_component/AddComponent.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">Add component<md-input-container class=\"layout-row flex-auto m0\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"Create New Group\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Add\">Cancel</md-button><md-button ng-click=\"dialogCtrl.add()\" arial-label=\"Cancel\">Add</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/widget_config/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-widget-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-widget-config-extend-component class=\"layout-column\" pip-extension-url=\"{{ vm.params.extensionUrl }}\"></pip-widget-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/widget_config/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{vm.dialogTitle}}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!vm.hideSizes\" pip-buttons=\"vm.sizes\" ng-model=\"vm.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!vm.hideColors\" pip-colors=\"vm.colors\" ng-model=\"vm.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"vm.onCancel()\">Cancel</md-button><md-button class=\"md-accent\" ng-click=\"vm.onApply()\">Apply</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/calendar/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"vm.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/calendar/WidgetCalendar.html',\n    '<div class=\"widget-box pip-calendar-widget {{ widgetCtrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: widgetCtrl.options.size.colSpan == 1 && widgetCtrl.options.size.rowSpan == 1, medium: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 1, big: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-menu-widget></pip-menu-widget></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ widgetCtrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ widgetCtrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ widgetCtrl.options.date | formatLongMonth }} {{ widgetCtrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"widgetCtrl.options.size.colSpan == 1 && widgetCtrl.options.size.rowSpan == 1\">{{ widgetCtrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"widgetCtrl.options.size.colSpan == 1 && widgetCtrl.options.size.rowSpan == 1\">{{ widgetCtrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ widgetCtrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ widgetCtrl.options.date | formatLongMonth }} {{ widgetCtrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/event/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"vm.title\"></md-input-container>Date:<md-datepicker ng-model=\"vm.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"vm.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"vm.opacity\" ng-change=\"vm.onOpacitytest(vm.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/event/WidgetEvent.html',\n    '<div class=\"widget-box pip-event-widget {{ widgetCtrl.color }} layout-column layout-fill\" ng-class=\"{ small: widgetCtrl.options.size.colSpan == 1 && widgetCtrl.options.size.rowSpan == 1, medium: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 1, big: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 2 }\"><img ng-if=\"widgetCtrl.options.image\" ng-src=\"{{widgetCtrl.options.image}}\" alt=\"{{widgetCtrl.options.title || widgetCtrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ widgetCtrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ widgetCtrl.options.title || widgetCtrl.options.name }}</span><pip-menu-widget ng-if=\"!widgetCtrl.options.hideMenu\"></pip-menu-widget></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"widgetCtrl.options.date\">{{ widgetCtrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ widgetCtrl.options.text || widgetCtrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/menu/WidgetMenu.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in widgetCtrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"widgetCtrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"widgetCtrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"widgetCtrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/notes/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"vm.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"vm.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/notes/WidgetNotes.html',\n    '<div class=\"widget-box pip-notes-widget {{ widgetCtrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"widgetCtrl.options.title || widgetCtrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ widgetCtrl.options.title || widgetCtrl.options.name }}</span></div><pip-menu-widget ng-if=\"!widgetCtrl.options.hideMenu\"></pip-menu-widget><div class=\"text-container flex-auto pip-scroll\"><p>{{ widgetCtrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/picture_slider/WidgetPictureSlider.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ widgetCtrl.color }} layout-column layout-fill\" ng-class=\"{ small: widgetCtrl.options.size.colSpan == 1 && widgetCtrl.options.size.rowSpan == 1, medium: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 1, big: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 2 }\" index=\"{{ widgetCtrl.index }}\" group=\"{{ widgetCtrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ widgetCtrl.options.title }}</span><pip-menu-widget ng-if=\"!widgetCtrl.options.hideMenu\"></pip-menu-widget></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"widgetCtrl.animationInterval\" ng-if=\"widgetCtrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in widgetCtrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"widgetCtrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"widgetCtrl.animationInterval\" ng-if=\"widgetCtrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in widgetCtrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"widgetCtrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/position/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"vm.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/position/WidgetPosition.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: widgetCtrl.options.size.colSpan == 1 && widgetCtrl.options.size.rowSpan == 1, medium: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 1, big: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 2 }\" index=\"{{ widgetCtrl.index }}\" group=\"{{ widgetCtrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!widgetCtrl.options.locationName\"><pip-menu-widget ng-if=\"!widgetCtrl.options.hideMenu\"></pip-menu-widget></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"widgetCtrl.options.locationName\"><span class=\"flex text-overflow\">{{ widgetCtrl.options.locationName }}</span><pip-menu-widget ng-if=\"!widgetCtrl.options.hideMenu\"></pip-menu-widget></div><pip-location-map class=\"flex\" ng-if=\"widgetCtrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"widgetCtrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/statistics/WidgetStatistics.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: widgetCtrl.options.size.colSpan == 1 && widgetCtrl.options.size.rowSpan == 1, medium: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 1, big: widgetCtrl.options.size.colSpan == 2 && widgetCtrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ widgetCtrl.options.title || widgetCtrl.options.name }}</span><pip-menu-widget></pip-menu-widget></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"widgetCtrl.options.series && !widgetCtrl.reset\"><pip-pie-chart pip-series=\"widgetCtrl.options.series\" ng-if=\"!widgetCtrl.options.chartType || widgetCtrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"widgetCtrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n"]}