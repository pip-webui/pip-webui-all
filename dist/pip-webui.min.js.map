{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/dependencies/TranslateFilter.ts","src/fabs/FabTooltipVisibility.ts","src/refresh_button/RefreshButton.ts","src/toggle_buttons/ToggleButtons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/focused.ts","src/infinite_scroll/infiniteScroll.ts","src/selected/selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/unsavedChanges.ts","src/color_picker/ColorPicker.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","src/toast/index.ts","temp/pip-webui-controls-html.min.js","src/tag_list/TagList.ts","temp/pip-webui-lists-html.min.js","src/date/Date.ts","src/date_format/DateConvertService.ts","src/date_format/DateFormatFilter.ts","src/date_format/DateFormatService.ts","src/date_format/index.ts","src/date_format/IDateConvertService.ts","src/date_format/IDateFormatService.ts","src/date_range/DateRange.ts","src/time_range/TimeRange.ts","src/time_range_edit/TimeRangeEdit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationDialogController.ts","src/confirmation/ConfirmationDialogParams.ts","src/confirmation/ConfirmationDialogService.ts","src/confirmation/index.ts","src/error_details/ErrorDetailsDialogController.ts","src/error_details/ErrorDetailsDialogParams.ts","src/error_details/ErrorDetailsDialogService.ts","src/error_details/index.ts","src/information/InformationDialogController.ts","src/information/InformationDialogParams.ts","src/information/InformationDialogService.ts","src/information/index.ts","src/options/OptionsDialogController.ts","src/options/OptionsDialogData.ts","src/options/OptionsDialogParams.ts","src/options/OptionsDialogResult.ts","src/options/OptionsDialogService.ts","src/options/index.ts","src/options_big/OptionsBigDialogController.ts","src/options_big/OptionsBigDialogData.ts","src/options_big/OptionsBigDialogParams.ts","src/options_big/OptionsBigDialogResult.ts","src/options_big/OptionsBigDialogService.ts","src/options_big/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/IActionsService.ts","src/actions/PrimaryActions.ts","src/actions/SecondaryActions.ts","src/actions/index.ts","src/appbar/AppBar.ts","src/appbar/AppBarConfig.ts","src/appbar/AppBarPart.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/Breadcrumb.ts","src/breadcrumb/BreadcrumbConfig.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dropdown/Dropdown.ts","src/header/NavHeader.ts","src/header/NavHeaderConfig.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIcon.ts","src/icon/NavIconConfig.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenu.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBar.ts","src/search/SearchConfig.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNav.ts","src/sidenav/SideNavPart.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/Tabs.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/error_pages/ErrorPageConfig.ts","src/error_pages/ErrorPageConfigService.ts","src/form_errors/ClearErrorsDirective.ts","src/form_errors/FormErrorsService.ts","src/maintenance/MaintenanceErrorPage.ts","src/missing_route/MissingRouteErrorPage.ts","src/no_connection/NoConnectionErrorPage.ts","src/no_connection_panel/NoConnectionPanel.ts","src/unknown/UnknownErrorPage.ts","src/unsupported/UnsupportedErrorPage.ts","temp/pip-webui-errors-html.min.js","src/bar_chart/BarChart.ts","src/chart_colors/ChartColorsService.ts","src/chart_legend/ChartInteractiveLegend.ts","src/line_chart/LineChart.ts","src/pie_chart/PieChart.ts","temp/pip-webui-charts-html.min.js","src/location/Location.ts","src/location_dialog/LocationDialog.ts","src/location_dialog/LocationDialogParams.ts","src/location_dialog/index.ts","src/location_edit/LocationEdit.ts","src/location_ip/LocationIp.ts","src/location_map/LocationMap.ts","temp/pip-webui-locations-html.min.js","src/common/ButtonsUpload.ts","src/fail/FileFail.ts","src/model/FileModel.ts","src/select/FileSelect.ts","src/service/FileUploadService.ts","src/service/FileUploadState.ts","src/start/FileStart.ts","src/success/FileSuccess.ts","src/upload/FileUpload.ts","temp/pip-webui-files-html.min.js","src/Dashboard.ts","src/DashboardComponent.ts","src/dialogs/add_component/AddComponentDialogController.ts","src/dialogs/add_component/AddComponentProvider.ts","src/dialogs/widget_config/ConfigDialogController.ts","src/dialogs/widget_config/ConfigDialogExtendComponent.ts","src/dialogs/widget_config/ConfigDialogService.ts","src/draggable/Draggable.ts","src/draggable/DraggableComponent.ts","src/draggable/DraggableTileService.ts","src/draggable/draggable_group/DraggableTilesGroupDirective.ts","src/draggable/draggable_group/DraggableTilesGroupService.ts","src/utility/WidgetTemplateUtility.ts","src/widgets/WidgetClass.ts","src/widgets/Widgets.ts","src/widgets/calendar/WidgetCalendar.ts","src/widgets/event/WidgetEvent.ts","src/widgets/menu/WidgetMenuDirective.ts","src/widgets/menu/WidgetMenuService.ts","src/widgets/notes/WidgetNotes.ts","src/widgets/picture_slider/WidgetPictureSlider.ts","src/widgets/position/WidgetPosition.ts","src/widgets/statistics/WidgetStatistics.ts","temp/pip-webui-dashboard-html.min.js","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js","src/page/HelpPage.ts","src/page/HelpPageRoutes.ts","src/service/HelpConfig.ts","src/service/HelpPageSelectedTab.ts","src/service/HelpService.ts","src/service/HelpStateConfig.ts","src/service/HelpTab.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","defineProperty","value","config","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","hookRoutingEvents","$log","$state","RoutingVar","error","5","m","p","hasOwnProperty","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","$emit","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","get","set","$get","provider","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","8","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","id","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","10","TransactionError","decode","details","cause","stack_trace","data","statusText","status","11","TransactionService","_transactions","create","transaction","Transaction_1","service","12","$injector","pipTranslate","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","configureTransactionStrings","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","html","directive","translateDirective","translateHtmlDirective","15","translateFilter","16","language","initTranslate","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","__","constructor","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","save","changeLocale","locale","localeDate","moment","localeData","months","isArray","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","_this","TranslateProvider","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","./TranslateFilter","./TranslateService","19","Codes","hash","result","charCodeAt","verification","random","substr","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","args","_i","arguments","parseFormat","21","hookResetEvents","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","chrome","browserVersion","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","searchFields","field","entity","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","filter","2","pipFabTooltipVisibility","$parse","controller","FabTooltipVisibilityController_1","$element","$attrs","$scope","showGetter","showSetter","assign","$watch","trigGetter","isOpen","isFunction","./refresh_button/RefreshButton","./toggle_buttons/ToggleButtons","4","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","$onChanges","changes","currentValue","hide","onClick","$event","width","css","RefreshButtonComponent","component","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","index","currentButtonIndex","disabled","on","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","bindings","$templateCache","put","layouts","MediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","isGtxs","Number","MainBreakpoints","xs","isGtlg","lg","AuxPanel","transclude","template","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","apply","AuxPanelPartController_1","partName","pipAuxPanelPart","pos","partValue","onAuxPanelChanged","currentPartValue","parts","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelService","$mdSidenav","_config","_sidenav","_state","toggle","classes","c","sendConfigEvent","reject","cc","part","AuxPanelChangedEvent","AuxPanelProvider","type","./IAuxPanelService","AuxPanelStateChangedEvent","AuxPanelConfig","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","7","IMediaService_1","cardDirective","CardDirectiveLink","listener","resize","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","../media/MediaService","dialogDirective","ResizeFunctions_1","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","columns","layout","LayoutResizedEvent","tilesDirective","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resizeListener","target","srcElement","win","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","detachEvent","removeEventListener","behaviors","CancelDragLink_1","attr","CancelDrag","DragLink_1","$document","pipDraggable","LONG_PRESS","_centerAnchor","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","_data","_dragOffset","_dragEnabled","_pressTimer","_elementStyle","scrollParent","scrollContainer","_deregisterRootMoveListener","noop","ngDrag","_myid","$id","onDragStartCallback","pipDragStart","onDragStopCallback","pipDragStop","onDragSuccessCallback","pipDragSuccess","allowTransform","isDefined","$eval","getDragData","pipDragData","verticalScroll","pipVerticalScroll","horizontalScroll","pipHorizontalScroll","activationDistance","pipActivationDistance","scrollDistance","scrollContainerGetter","pipScrollContainer","initialize","dragHandles","querySelectorAll","_dragHandle","toggleListeners","enable","onDestroy","pipDrag","newVal","oldVal","onEnableChange","pipCenterAnchor","onCenterAnchor","onpress","nodeName","isClickableElement","evt","button","saveElementStyles","cancelPress","onlongpress","off","offset","getBoundingClientRect","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","inputEvent","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","origEvent","$broadcast","x","y","tx","ty","$data","dragToScroll","moveElement","uid","dragOffset","onDragComplete","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","Drag","DraggableService","touches","originalEvent","DropLink_1","pipDrop","isTouching","onDropCallback","pipDropSuccess","onDragMoveCallback","pipDragMove","onDragStart","onDragMove","onDragEnd","_dropEnabled","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","Drop","PreventDragLink_1","absorbEvent_","stopPropagation","cancelBubble","returnValue","./Drag","./DraggableService","./Drop","./PreventDrag","FocusedLink_1","$mdConstant","opacityDelta","opacityLimit","keydownListener","init","ngModel","pipFocusedData","selector","pipWithHidden","onFocusClass","pipFocusedClass","controls","controlsLength","checkTabindex","currentTarget","pipRebind","pipFocusedOpacity","color","oldBackgroundColor","rgba","pipFocusedColor","arr","red","blue","green","opacity","setTabindex","findIndex","pipFocusedTabindex","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipFocusedRebind","./focused/focused","./infinite_scroll/infiniteScroll","./selected/selected","./shortcuts/index","./unsaved_changes/unsavedChanges","InfiniteScrollLink_1","THROTTLE_MILLISECONDS","checkWhenEnabled","immediateCheck","scrollEnabled","unregisterEventListener","useDocumentBottom","windowElement","onContainerScrollThrottle","throttle","onContainerScroll","unbind","v","handleScrollDistance","pipScrollDistance","handleScrollDisabled","pipScrollDisabled","handleScrollUseDocumentBottom","pipScrollUseDocumentBottom","pipScrollListenForEvent","newContainer","handleScrollContainer","pipScrollParent","changeContainer","pipScrolImmediateCheck","isNaN","clientHeight","offsetTop","ownerDocument","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","pipInfiniteScroll","bind","HTMLElement","append","parents","InfiniteScroll","SelectedLink_1","touchBoundary","tapdelay","tapTimeout","indexGetter","pipSelected","indexSetter","idGetter","pipSelectedId","idSetter","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","noScroll","pipNoScroll","modifier","pipSkipHidden","className","pipTreeList","selectedIndex","currentElementTabinex","pipSelectedWatch","isScrolled","onClickEvent","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onKeyDown","onFocusIn","onFocusOut","newSelectedId","selectItem","itemId","raiseEvent","newSelectedIndex","itemIndex","itemParams","itemsLength","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedId","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","getTargetElementFromEventTarget","eventTarget","nodeType","Node","TEXT_NODE","parentNode","touchHasMoved","touch","changedTouches","boundary","touchStartX","touchStartY","ev","targetElement","trackingClick","trackingClickStart","timeStamp","newTrackingClickStart","lastClickTime","cancelNextClick","ENTER","SPACE","inc","Selected","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","KeyboardEvent","Keydown","Keyup","Keypress","ShortcutOptions","Shortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","pause","break","insert","home","delete","end","pageup","page_up","pu","pagedown","page_down","pd","up","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","shift","wanted","pressed","ctrl","alt","meta","shorcut","Type","DisableInInput","element_1","tagName","character","kp","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","ShortcutBindingService_1","_shortcuts","_defaultOption","defaults","getDefaultOption","defaultOption","Shortcut_1","Target","add","shortcut","remove","shortcutOption","shortcutCombination","getElementById","newKeyboardShortcut","eventCallback","binding","ShortcutBindingProvider","_option","ShortcutController","pipShortcutBinding","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","options","pipShorcutOptions","keypressShortcut","action","shortcutsDirective","ShortcutsChangedEvent","ShortcutsService","$location","_oldConfig","addShortcuts","sendChangeEvent","removeShortcuts","collection","access","keypress","href","stateParams","generalOptions","defaultOptions","targetId","ShortcutsProvider","IShortcutsService_1","./IShortcutsService","./ShortcutBindingService","./ShortcutDirective","./ShortcutsService","onbeforeunload","unsavedChangesAvailable","unsavedChangesMessage","unbindFunc","confirm","cancelLeave","afterLeave","ColorPickerBindings","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","currentColorIndex","selectColor","pipColorPicker","templateUrl","pipImageSliderController_1","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","_type","slideTo","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","direction","blockIndex","vm","SliderButtonController_1","SliderIndicatorController_1","SliderIndicator","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","MarkdownBindings","isList","clamp","rebind","MarkdownController","MarkdownChanges","bindText","_text","_$scope","newText","describeAttachments","array","attachTypes","attach","attachString","_pipTranslate","textString","isClamped","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","ConfigTranslations","MarkdownComponent","PopoverController","$compile","$templateRequest","backdropElement","backdropClick","responsive","locals","content","then","calcHeight","onResize","cancelCallback","closePopover","onPopoverClick","docWidth","docHeight","popover","title","footer","contentHeight","PopoverBindings","Popover","PopoverService","popoverTemplate","$new","isObject","./PopoverService","RoutingBindings","showProgress","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","actions","actionLenght","onDetails","ok","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","hideDelay","duration","currentToast","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","./Toast","./ToastService","lists","./tag_list/TagList","TagListController","toBoolean","TagListBindings","typeLocal","rebuid","TagList","TagListChanges","dates","DateBindings","timeMode","model","ngChange","DateController","DateChanges","momentMonths","momentDays","momentShortDays","momentFirstDayOfWeek","isDate","day","getDate","month","getMonth","year","getFullYear","dayList","monthList","years","yearList","disableControls","getValue","count","currentYear","startYear","endYear","adjustDay","setValue","onMonthChanged","onYearChanged","DateComponent","DateTimeConvert","_momentRanged","_defaultFormat","timeZone","isUndefinedOrNull","getRange","getOperationRange","range","formatDateTime","basicFormat","date","formatTpl","utcOffset","isValid","formatDateTimeY","nowDate","formatMoment","longDateFormat","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","value1","value2","dateStart","dateEnd","isSame","isAfter","toStartRange","startOf","toDate","toEndRange","mssOffset","toDateWithTime","formatDate","formatTime","firstTime","toTodayDate","useTimeZone","getDateJSON","getNextStart","category","getPrevStart","getNowStart","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","toEndMonth","toStartYear","toEndYear","DateTimeConvertService","datetime","_datetime","DateConvertProvider","formatTimeFilter","pipDateFormat","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","pipDateConvert","DateFormatService","fromNow","DateTimeFormatService","DateFormatProvider","DateTimeConfig","DateRangeBindings","DateRangeChanges","DateRangeController","$mdMedia","prevState","currentState","standalone","currentDate","getUTCFullYear","currentMonth","getUTCMonth","currentDay","getUTCDate","newValue","oldValue","dayOfWeek","UTC","getUTCDay","week","getWeekByDate","correctWeek","adjustWeek","onWeekChange","isDay","isWeek","isMonth","onChange","pipChanged","setCurrent","dateRangeType","fillLists","weeks","weekList","onYearClick","onMonthClick","onDayClick","getCountDay","nameDays","weekday","startWeek","getWeek","countDay","countPrevMonthDay","startDay","endDay","getTimezoneOffset","daterange","TimeRangeData","TimeRangeController","TimeRangeChanges","defineStartDate","defineEndDate","TimeRangeBindings","TimeRangeComponent","IntervalTimeRange","MinutesInHour","TimeRangeEditData_1","pipStartDate","startLabel","endLabel","intervalTimeCollection","getTimeInterval","initDate","defineDate","pipEndDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","pipStartLabel","pipEndLabel","setDuration","startDate","endDate","startTime","MillisecondsInSecond","endTime","validateStartDate","HoursInDay","round","TimeRangeEditController","validateEndDate","setDate","minutes","j","showTime","pipHideTime","onChangeStartDate","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","TimeRangeEditComponent","TimeRangeEditBindings","dialogs","ConfirmationDialogParams_1","ConfirmationDialogController","$mdDialog","_injector","CONFIRM_TITLE","onOk","onCancel","ConfirmationDialogParams","ConfirmationDialogService","_mdDialog","targetEvent","./ConfirmationDialogParams","./ConfirmationDialogService","./IConfirmationDialogService","ErrorDialogStrings","errorDetails","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorDetailsDialogController","strings","theme","$theme","OK","CANCEL","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","dismissButton","getErrorText","ErrorDetailsDialogParams","ErrorDetailsDialogService","clickOutsideToClose","InformationDialogController","INFORMATION_TITLE","pipFormat","InformationDialogParams","InformationDialogService","OptionsDialogController","selectedOption","active","opt","optionIndex","selectedOptionName","focusInput","OPTIONS_TITLE","onOptionSelect","onKeyPress","isCheckboxOption","list","OptionsDialogParams","OptionsDialogData","18","OptionsDialogResult","OptionsDialogService","OptionsBigDialogController","OptionsBigDialogData_1","OptionsBigDialogData","noActions","onSelected","onKeyUp","OptionsBigDialogParams","OptionsBigDialogResult","OptionsBigDialogService","27","./OptionsBigDialogController","./OptionsBigDialogData","./OptionsBigDialogParams","./OptionsBigDialogResult","./OptionsBigDialogService","28","nav","IActionsService_1","IActionsService_2","IActionsService_3","ActionsService","primaryGlobalActions","secondaryGlobalActions","primaryLocalActions","secondaryLocalActions","primaryActions","secondaryActions","updateCount","clearCounts","ActionsChangedEvent","openMenuEvent","SecondaryActionsOpenEvent","ActionsProvider","ActionsConfig","SimpleActionItem","ActionItem","PrimaryActionsController","pipActions","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","onActionsChanged","$onInit","localActions","globalActions","isHidden","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","click","PrimaryActionsBindings","PrimaryActionsChanges","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","calcActions","secondaryActionsVisible","secondaryDividerVisible","SecondaryActionsBindings","SecondaryActionsChanges","AppBarController","pipAppBar","onAppBarChanged","appbar","AppBarConfig","AppBarPartController","_partName","_partValue","appbarPart","AppBarChangedEvent","AppBarService","shadowBreakpoints","setShadow","hideShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","AppBarConfig_1","./AppBar","./AppBarConfig","./AppBarPart","./AppBarService","BreadcrumbController","pipBreadcrumb","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","_media","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","onOpenMenu","onSubActionClick","breadcrumb","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","criteria","showText","showItems","BreadcrumbProvider","BreadcrumbConfig_1","./BreadcrumbConfig","NavService","icon","sidenav","header","menu","showMenu","DropdownController","_pipTheme","_pipMedia","currentTheme","themeClass","media","activeIndex","select","pipChange","showDropdown","DropdownBindings","DropdownChanges","dropdown","NavHeaderController","pipNavHeader","navConstant","imageUrl","initImage","cleanupNavHeaderChanged","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","$onDestroy","imageBlock","image","onImageLoad","onerror","onImageError","initHeader","subtitle","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","imageWidth","imageHeight","margin","loadError","defaultImageUrl","onUserClick","navHeader","NavHeaderConfig","20","NavHeaderService","callbackOrEvent","NavHeaderChangedEvent","NavHeaderProvider","NavHeaderConfig_1","clear","./NavHeaderService","22","23","SideNavService_1","NavIconService_1","NavIconBindings","NavIconChanges","NavIconController","pipNavIcon","clearFn","onNavIconChanged","onNavIconClick","OpenSideNavEvent","NavIconClickedEvent","NavIcon","NavIconConfig","25","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconChangedEvent","NavIconConfig_1","NavIconProvider","setMenu","setIcon","setBack","./NavIconConfig","26","./INavIconService","./NavIcon","./NavIconService","constant","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_MIDDLE_WIDTH","SIDENAV_SMALL_WIDTH","./appbar","./breadcrumb","./common/NavService","./dropdown/Dropdown","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/Tabs","LanguagePickerDirectiveController","_translate","setLanguages","languages","onLanguageClick","LanguagePickerBindings","languagePickerDirective","navMenuDirective","NavMenuController","pipSideNav","pipNavMenu","_animationDuration","SIDENAV_ANIMATION_DURATION","_pipSideNavElement","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","expanded","isSectionEmpty","linkCollection","expand","isExpanded","expandedButton","sideNavState","isActive","parentState","includes","clickLink","current","NavMenuBindings","NavMenuChangedEvent","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","31","./NavMenuService","32","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchActivatedEvent","SearchBar","./SearchService","34","SearchConfig","CloseSearchEvent","SearchService","SearchProvider","36","./SearchBar","./SearchConfig","37","SideNavController","_bigWidth","SIDENAV_LARGE_WIDTH","_middleWidth","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","setSideNaveState","windowResize","debounce","cleanupSideNavState","onSideNavState","sidenavState","backdrop","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","cleanupMainResized","stateName","mainWidth","_mainContainer","sideNavWidth","currentWidth","Small","Large","XLarge","SideNavBindings","sideNav","38","sidenavPartDirective","SideNavPartBindings_1","SideNavPartController_1","hookSideNavEvents","CloseSideNavEvent","SideNavService","SideNavStateChangedEvent","SideNavChangedEvent","SideNavConfig","SideNavProvider","./SideNavState","40","SideNavState","isLockedOpen","showIconTooltype","small","large","xlarge","41","./SideNavPart","./SideNavService","42","PipTab","TabsChanges","TabsDirectiveController","setTheme","setTranslate","tabs","tabDisabled","selectedTabId","showShadow","showTabsShadow","showTabs","previousValue","Tabs","TabsBindings","43","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeRootVar","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ErrorPageConfig","ErrorPageConfigs","Maintenance","Active","Name","Event","Title","SubTitle","Breadcrumb","Image","MissingRoute","NoConnection","Unknown","Unsupported","Params","SupportedBrowsers","ie","firefox","opera","ErrorPageConfig_1","ErrorPageConfigService","getErrorPageConfig","pageName","console","log","ErrorPageConfigProvider","configs","setErrorPageConfig","defaultsDeep","setAllErrorPageConfigs","setSupportedBrowsers","browsers","./ErrorPageConfig","clearErrorsDirective","ClearErrorsLink","$ctrls","_fieldController","_formController","clearFieldErrors","clearFormErrors","$error","prop","$setValidity","$serverError","FormErrorsService","errorsWithHint","isEmpty","hint","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","errorName","goToUnhandledErrorPage","$stateProvider","ErrorsMaintenanceState","MaintenanceErrorPageController","initMaintenanceErrorPage","pipErrorPageConfigService","MaintenanceErrorEvent","setMaintenanceErrorPageResources","ERROR_MAINTENANCE_TITLE","ERROR_MAINTENANCE_SUBTITLE","ERROR_MAINTENANCE_TRY_AGAIN","configureMaintenanceErrorPageRoute","MaintenanceError","MaintenanceErrorConfig","MaintenanceErrorParams","_pageName","pipNavService","appHeader","timeoutInterval","configureMissingRouteErrorPageRoute","ErrorsMissingRouteState","unfoundState","MissingRouteErrorPageController","StateNotFoundEvent","to","setMissingRouteErrorPageResources","ERROR_MISSING_ROUTE_TITLE","ERROR_MISSING_ROUTE_SUBTITLE","ERROR_MISSING_ROUTE_CONTINUE","ERROR_MISSING_ROUTE_TRY_AGAIN","ERROR_MISSING_ROUTE_GO_BACK","ERROR_MISSING_ROUTE_PAGE_TITLE","initMissingRouteErrorPage","MissingRouteErrorState","absolute","urlBack","onContinue","configureNoConnectionErrorPageRoute","ErrorsConnectionState","NoConnectionErrorPageController","initNoConnectionErrorPage","ErrorsConnectionEvent","setNoConnectionErrorPageResources","ERROR_NO_CONNECTION_RETRY","ERROR_NO_CONNECTION_TITLE","ERROR_NO_CONNECTION_SUBTITLE","NoConnectionError","errorConfig","onRetry","NoConnectionPanelController","_retry","retry","configureUnknownErrorPageRoute","ErrorsUnknownState","UnknownErrorPageController","initUnknownErrorPage","ErrorsUnknownEvent","setUnknownErrorPageResources","ERROR_UNKNOWN_DETAILS","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","UnknownErrorDetails","parseError","error_details","server_stacktrace","client_stacktrace","configureUnsupportedErrorPageRoute","UnsupportedErrorPageController","initUnsupportedErrorPage","pipSystemInfo","supportedVersions","setUnsupportedErrorPageResources","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_FM_VER","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","UnsupportedError","charts","BarChartBindings","series","xTickFormat","yTickFormat","interactiveLegend","BarChartController","BarChartBindingsChanges","pipChartColors","chart","generateMaterialColors","updatedLegend","prepareData","legend","updateChart","clone","generateParameterColor","paletteColors","d3","scale","ordinal","materialColorToRgba","instantiateChart","chartElem","datum","configBarWidthAndLabel","drawEmptyState","nv","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","seria","classed","labels","chartBars","getBBox","barHeight","barWidth","transition","getMaterialColor","BarChart","ChartColorsService","$mdColorPalette","palette","ChartLegendBindings","interactive","ChartLegendBindingsChanges","ChartLegendController","updateLegends","colorCheckboxes","prepareSeries","checkboxContainers","legendTitles","materialColor","ChartLegend","LineChartBindings","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","LineChartBindingsChanges","LineChartController","HEIGHT","setZoom","updateZoomOptions","selectAll","updateXTickValues","updateSeries","getHeight","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","tickValues","tooltipW","bodyWidth","removeTooltip","addZoom","updateScroll","domains","bDiff","domDiff","isEqual","svg","scaleExtent","xDomain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","d3zoom","behavior","zoom","prevXDomain","prevScale","prevTranslate","setData","newChart","domain","nice","zoomed","unzoomed","fixDomain","translate0","coordinates0","coordinates","center0","center1","point","step","LineChart","PieChartBindings","donut","total","centered","PieChartBindingsChanges","PieChartController","resizeTitleLabelUnwrap","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","centerChart","renderTotalLabel","svgElem","pie","sort","arc","innerRadius","outerRadius","leftMargin","totalVal","reduce","sum","curr","titleElem","boxSize","PieChart","locations","LocationBindings","pipLocationName","pipLocationPos","pipShowLocationIcon","pipCollapse","pipDisabled","pipLocationResize","LocationController","LocationBindingsChanges","showMap","mapContainer","generateMap","redrawMap","clearMap","mapControl","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Map","Marker","LocationComponent","LocationEditDialogController_1","locationPos","locationName","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","setMap","animation","Animation","DROP","thisMarker_1","addListener","getPosition","tid","lat","lng","geocoder","Geocoder","geocode","latLng","results","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogService","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","LocationDialogParams","LocationEditBindings","pipLocationHolder","LocationEditBindingsChanges","LocationEditController","pipLocationEditDialog","defineCoordinatesDebounced","defineCoordinates","GeocoderStatus","geometry","location_1","longtitude","onMapClick","onMapKeyPress","LocationEdit","LocationIpBindings","pipIpaddress","pipExtraInfo","LocationIpBindingsChanges","LocationIpController","$http","ipAddress","response","extraInfo","city","regionCode","region","regionName","zipCode","countryCode","country","countryName","LocationIp","LocationMapBindings","pipLocationPositions","pipIconPath","pipStretch","LocationMapBindingsChanges","LocationMapController","checkLocation","loc","determineCoordinates","fill","stroke","points","LatLngBounds","path","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","LocationMap","files","ButtonsUpload","FileFailBindings","FileFailController","FileFailChanges","fileFailComponent","./model/FileModel","./select/FileSelect","./service/FileUploadService","./start/FileStart","./success/FileSuccess","./upload/FileUpload","fileModelLink","fileModel","modelSetter","fileModelDirective","FileSelectBindings","localFile","FileSelectController","onUploadButtonClick","onDeleteButtonClick","forml","fileSelectDirective","FileUploadService","upload","file","resultCallback","progressCallback","fd","FormData","FileUploadState_1","FileUploadState","Uploading","lengthComputable","loaded","headers","Content-Type","success","Completed","Failed","FileStartBindings","FileStartChanges","FileStartController","fileStartDirective","FileSuccessBindings","FileSuccessController","fileSuccessDirective","FileUploadBindings","FileUploadButtons","buttonFunction","FileUploadChanges","FileUploadController","uploadButtons","failButtons","startButtons","onAbort","fileUploadDirective","dashboard","DROP_TO_CREATE_NEW_GROUP","configureAvailableWidgets","pipAddComponentDialogProvider","configWidgetList","amount","DEFAULT_GRID_OPTIONS_1","draggableOptions","tileWidth","tileHeight","inline","DashboardController","$interpolate","pipAddComponentDialog","pipWidgetTemplate","groupIndex","addComponent","removeGroup","_includeTpl","groupMenuActions","defaultGroupMenuActions","groupedWidgets","draggableGridOptions","gridOptions","groupAdditionalActions","widgetsContext","compileWidgets","group","removedWidgets","source","widget","colSpan","rowSpan","object","removeWidget","opts","getTemplate","activeGroup","addWidgets","widgets","widgetGroup","AddComponentDialogWidget","AddComponentDialogController","groups","activeGroupIndex","widgetList","totalWidgets","defaultWidgets","encrease","widgetIndex","decrease","AddComponentDialogController_1","DASHBOARD_ADD_COMPONENT_DIALOG_TITLE","DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS","DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP","AddComponentDialogService_1","AddComponentDialogProvider","_widgetList","./AddComponentDialogController","TileColors","all","TileSizes","WidgetConfigDialogController","sizes","sizeId","updatedData","sizeX","sizeY","./ConfigDialogService","WidgetConfigExtendComponentBindings","pipExtensionUrl","pipDialogScope","pipApply","WidgetConfigExtendComponentChanges","WidgetConfigExtendComponentController","replaceWith","pipWidgetConfigComponent","DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE","DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL","DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE","DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE","WidgetConfigDialogService","ConfigDialogController_1","./ConfigDialogController","./DraggableComponent","./DraggableTileService","./draggable_group/DraggableTilesGroupDirective","./draggable_group/DraggableTilesGroupService","DraggableTileService_1","DraggableTilesGroupService_1","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","SIMPLE_LAYOUT_COLUMNS_COUNT","DEFAULT_OPTIONS","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","merge","tilesTemplates","tile","tileScope","createTileScope","IDragTileConstructor","DragTileService","tpl","watch","getContainerWidth","getAvailableColumns","availableWidth","tileGroups","setAvailableColumns","availableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","$container","prevVal","changedGroupIndex","addGroup","removeGroups","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","_a","fromIndex","from","elem","attributes","toIndex","tileOptions","fromTileIndex","reIndexTiles","tilesContext","indexes","container","tiles","gIndex","child","newGroups","removeIndexes","remain","containers","reverse","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","newTile","addTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","mobileBreakpoint","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","belowElement","getTileByCoordinates","getTileIndex","draggedTileIndex","belowElemIndex","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","autoScroll","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragComponent","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","after","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","DraggableTileLink","$elem","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTile","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","basicCol","basicRow","getBasicRow","gridCopy","getCell","rowShift","prevTileSize","rightCornerCell","isCellFree","src","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","tileSize","generateCells","currIndex","startCell","cells","maxHeightSize","maxWidthSize","maxBy","node","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","widgetTemplateService","_$interpolate","_$compile","_$templateRequest","strictCompile","interpolated","naturalWidth","naturalHeight","pipImageLoad","ImageLoad","DashboardWidget","pipWidgetConfigDialogService","union","onConfigClick","dialogClass","extensionUrl","changeSize","CalendarWidgetController","WidgetMenuService_1","MenuWidgetService","drawImage","is","EventWidgetController","onOpacitytest","_oldOpacity","EventWidget","callAction","actionName","MenuWidgetProvider","NotesWidgetController","PictureSliderController","animationType","animationInterval","PositionWidgetController","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","showPosition","PositionWidget","StatisticsWidgetController","pipWidgetMenu","chartSize","SMALL_CHART_1","_$timeout","setChartSize","BIG_CHART_1","StatisticsWidget","../menu/WidgetMenuService","24","settings","SettingsPageSelectedTab_1","SettingsPageController","pipSettings","getTabs","sortBy","selected","SettingsPageSelectedTab","initSelect","getDefaultTab","onDropdownSelect","onNavigationSelect","tabIndex","tabId","../service/SettingsPageSelectedTab","configureSettingsPageRoutes","auth","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsConfig_1","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","addTab","tabObj","existingTab","validateTab","stateConfig","SettingsStateConfig","SettingsTab","./SettingsConfig","./SettingsPageSelectedTab","./SettingsService","./SettingsStateConfig","./SettingsTab","help","HelpPageSelectedTab_1","HelpPageController","pipHelp","HelpPageSelectedTab","configureHelpPageRoutes","./HelpPage","./HelpPageRoutes","HelpConfig","HelpService","HelpProvider","HelpConfig_1","HelpStateConfig","HelpTab","./HelpConfig","./HelpPageSelectedTab","./HelpService","./HelpStateConfig","./HelpTab"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","﻿import './service';\r\nimport './page';\r\n\r\nangular.module('pipHelp', [\r\n    'pipHelp.Service',\r\n    'pipHelp.Page'\r\n]);\r\n\r\nexport * from './service';\r\n","export let CurrentState: any;\r\nexport let PreviousState: any;\r\n\r\n// Run function to set CurrentState and PreviousState global variables\r\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        }\r\n    );\r\n\r\n}\r\n\r\n// Decorator function to modify $state service by adding goBack and goBackAndSelect methods\r\nfunction decorateBackStateService($delegate: any, $window: ng.IWindowService): any {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        // todo: define end fix PreviousState\r\n        if (PreviousState != null \r\n            && PreviousState.name != null) {\r\n\r\n            let state = _.cloneDeep(PreviousState);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\n// Config function to decorate $state service\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n    ","let RedirectedStates: any = {};\r\n\r\n// Decorator function to add $stateProvider redirect method\r\nfunction decorateRedirectStateProvider($delegate) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n\r\n    return $delegate;\r\n    /////////////////////////////////////////////\r\n\r\n    // Specify automatic redirect from one state to another\r\n    function redirect(fromState, toState) {\r\n        RedirectedStates[fromState] = toState;  \r\n        return this;\r\n    }\r\n}\r\n\r\n// Config function to decorate $state provider\r\nfunction addRedirectStateProviderDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateProvider);\r\n}\r\n\r\n// Decorator function to add redirect method to $state service\r\nfunction decorateRedirectStateService($delegate, $timeout) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n    \r\n    return $delegate;\r\n    ////////////////////////////////\r\n    \r\n    // Todo: Move this code directly to event handler?\r\n    // Todo: Nothing calls this code!!\r\n    function redirect(event, state, params) {\r\n        let toState = RedirectedStates[state.name];\r\n        if (_.isFunction(toState)) {\r\n            toState = toState(state.name, params);\r\n\r\n            if (_.isNull(toState))\r\n                throw new Error('Redirected toState cannot be null');\r\n        }\r\n\r\n        if (!!toState) {\r\n            $timeout(() => {\r\n                event.preventDefault();\r\n                $delegate.transitionTo(toState, params, {location: 'replace'});\r\n            });\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\n// Config function to decorate $state service\r\nfunction addRedirectStateDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addRedirectStateProviderDecorator)\r\n    .config(addRedirectStateDecorator);\r\n    ","export let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents(\r\n    $rootScope: ng.IRootScopeService,\r\n    $log: ng.ILogService,\r\n    $state: ng.ui.IStateService\r\n) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .run(hookRoutingEvents);\r\n    ","angular.module('pipRouting', ['ui.router']);\r\n\r\nimport './BackDecorator';\r\nimport './RedirectDecorator';\r\nimport './RoutingEvents';\r\n\r\nexport * from './BackDecorator';\r\nexport * from './RoutingEvents';\r\n","import { IIdentityService, IIdentityProvider } from './IIdentityService';\r\n\r\nexport let IdentityRootVar = \"$identity\";\r\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: any;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\r\n\r\n        let identity: any = value || {};\r\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: any = null;\r\n    private _service: IdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipIdentity', IdentityProvider);\r\n","import { ISessionService, ISessionProvider } from './ISessionService';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean, \r\n        session: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n    \r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionOpenedEvent, session);\r\n\r\n        this._log.debug(\"Opened session \" + session);\r\n    }\r\n\r\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\r\n\r\n        this._log.debug(\"Closed session \" + oldSession);\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: SessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;  \r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipSession', SessionProvider); \r\n","angular.module('pipSession', []);\r\n\r\nimport './IdentityService';\r\nimport './SessionService';\r\n\r\nexport * from './IIdentity';\r\nexport * from './IIdentityService';\r\nexport * from './IdentityService';\r\n\r\nexport * from './ISessionService';\r\nexport * from './SessionService';\r\n","import { TransactionError } from './TransactionError'\r\n\r\nexport class Transaction {\r\n    private _scope: string = null;\r\n    private _id: string = null;\r\n    private _operation: string = null;\r\n    private _error: TransactionError = new TransactionError();\r\n    private _progress: number = 0;\r\n\r\n    public constructor(scope: string) {\r\n        this._scope = scope;\r\n    }\r\n\r\n    public get scope(): string {\r\n        return this._scope;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get operation(): string {\r\n        return this._operation;\r\n    }\r\n\r\n    public get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    public get error(): TransactionError {\r\n        return this._error;\r\n    }\r\n\r\n    public get errorMessage(): string {\r\n        return this._error.message;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._id = null;\r\n        this._operation = null;\r\n        this._progress = 0;\r\n        this._error.reset();\r\n    }\r\n\r\n    public busy(): boolean {\r\n        return this._id != null;\r\n    }\r\n\r\n    public failed(): boolean {\r\n        return !this._error.empty();\r\n    }\r\n\r\n    public aborted(id: string): boolean {\r\n        return this._id != id;\r\n    }\r\n\r\n    public begin(operation: string): string {\r\n        // Transaction is already running\r\n        if (this._id != null) return null;\r\n\r\n        this._id = new Date().getTime().toString();\r\n        this._operation = operation || 'PROCESSING'\r\n        this._error.reset();\r\n\r\n        return this._id;\r\n    }\r\n\r\n    public update(progress: number): void {\r\n        this._progress = Math.max(progress, 100);\r\n    }\r\n\r\n    public abort(): void {\r\n        this._id = null;\r\n        this._error.reset();\r\n    }\r\n\r\n    public end(error?: any): void {\r\n        this._error.decode(error);\r\n        this._id = null;\r\n    }\r\n}\r\n","export class TransactionError {\r\n    public code: string;\r\n    public message: string;\r\n    public details: any;\r\n    public cause: string;\r\n    public stack_trace: string;\r\n\r\n    public constructor(error?: any) {\r\n        if (error != null)\r\n            this.decode(error);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.code = null;\r\n        this.message = null;\r\n        this.details = null;\r\n        this.cause = null;\r\n        this.stack_trace = null;\r\n    }\r\n\r\n    public empty(): boolean {\r\n        return this.message = null && this.code == null;\r\n    }\r\n\r\n    public decode(error: any): void {\r\n        this.reset();\r\n\r\n        if (error == null) return;\r\n\r\n        // Process regular messages\r\n        if (error.message) {\r\n            this.message = error.message;\r\n        }\r\n\r\n        // Process server application errors\r\n        if (error.data) {\r\n            if (error.data.code) { \r\n                // process server error codes here\r\n                this.message = this.message || 'ERROR_' + error.data.code;\r\n                this.code = this.code || error.data.code;\r\n            }\r\n\r\n            if (error.data.message) {\r\n                this.message = this.message || error.data.message;\r\n            }\r\n\r\n            this.message = this.message || error.data;\r\n            this.details = this.details || error.data;\r\n\r\n            this.cause = error.data.cause;\r\n            this.stack_trace = error.data.stack_trace;\r\n            this.details = error.data.details;            \r\n        }\r\n\r\n        // Process standard HTTP errors\r\n        if (error.statusText) {\r\n            this.message = this.message || error.statusText;\r\n        }\r\n        if (error.status) {\r\n            this.message = this.message || 'ERROR_' + error.status;\r\n            this.code = this.code || error.status;\r\n        }\r\n        \r\n        this.message = this.message || error;\r\n        this.details = this.details || error;\r\n    }\r\n}\r\n","import { Transaction } from './Transaction';\r\nimport { ITransactionService } from './ITransactionService';\r\n\r\nclass TransactionService implements ITransactionService {\r\n    private _transactions: Transaction = <Transaction>{};\r\n\r\n    public constructor() {}\r\n\r\n    public create(scope?: string): Transaction {\r\n        let transaction: Transaction = new Transaction(scope);\r\n        \r\n        if (scope != null)\r\n            this._transactions[scope] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    public get(scope?: string): Transaction {\r\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\r\n\r\n        if (transaction == null) {\r\n            transaction = new Transaction(scope);\r\n            if (scope != null)\r\n                this._transactions[scope] = transaction;\r\n        }\r\n\r\n        return transaction;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .service('pipTransaction', TransactionService);\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction configureTransactionStrings($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslateProvider') \r\n        ? <ITranslateService>$injector.get('pipTranslateProvider') : null;\r\n\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': 'Вход в систему...',\r\n            'PROCESSING': 'Обрабатывается...',\r\n            'LOADING': 'Загружается...',\r\n            'SAVING': 'Сохраняется...'\r\n        });   \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .config(configureTransactionStrings);\r\n","angular.module('pipTransaction', []);\r\n\r\nimport './TransactionStrings';\r\nimport './TransactionError';\r\nimport './Transaction';\r\nimport './TransactionService';\r\n\r\nexport * from './TransactionError';\r\nexport * from './Transaction';\r\nexport * from './ITransactionService';\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction translateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction translateHtmlDirective(pipTranslate: ITranslateService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .directive('pipTranslate', translateDirective)\r\n    .directive('pipTranslateHtml', translateHtmlDirective);\r\n","import { ITranslateService } from './ITranslateService';\r\n\r\nfunction translateFilter(pipTranslate: ITranslateService) {\r\n    \"ngInject\";\r\n\r\n    return function (key: string) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslate') \r\n        ? <ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n    return function (key: string) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .filter('translate', translateFilter);\r\n","﻿import { Translation } from './Translation';\r\nimport { ResetPageEvent } from '../utilities/PageResetService';\r\nimport { ITranslateService, ITranslateProvider } from './ITranslateService';\r\n\r\nexport let LanguageRootVar = \"$language\";\r\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nclass TranslateService implements ITranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _mdDateLocale: angular.material.IDateLocaleProvider;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider,\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._mdDateLocale = $mdDateLocale;\r\n\r\n        if (this._persist && this._window.localStorage)\r\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\r\n\r\n        this._log.debug(\"Set language to \" + this._translation.language);\r\n\r\n        this.save();\r\n    }\r\n\r\n    private changeLocale(locale: string) {\r\n        if (!locale) return;\r\n\r\n        // var localeDate: moment.MomentLanguageData;\r\n        var localeDate: any;\r\n\r\n        moment.locale(locale);\r\n        localeDate = moment.localeData();\r\n\r\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\r\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\r\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\r\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\r\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this._log.debug(\"Changing language to \" + value);\r\n\r\n            this.changeLocale(this._translation.language);\r\n            this.save();   \r\n\r\n            this._rootScope.$emit(LanguageChangedEvent, value);\r\n            this._rootScope.$emit(ResetPageEvent);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTranslate(pipTranslate: ITranslateService) {\r\n    pipTranslate.language;\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .provider('pipTranslate', TranslateProvider)\r\n    .run(initTranslate);\r\n","export class Translation {\r\n    protected _language: string = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': 'Английский',\r\n            'ru': 'Русский',\r\n            'es': 'Испанский',\r\n            'pt': 'Португальский',\r\n            'de': 'Немецкий',\r\n            'fr': 'Французский'\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Yet another method to set translation strings for specific language\r\n    public translations(language: string, translations: any): void {\r\n        this.setTranslations(language, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values: string[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k: string) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item: any) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","angular.module('pipTranslate', []);\r\n\r\nimport './Translation';\r\nimport './TranslateService';\r\nimport './TranslateFilter';\r\nimport './TranslateDirective';\r\n\r\nexport * from './Translation';\r\nexport * from './ITranslateService';\r\nexport * from './TranslateService';\r\n","import { ICodes } from './ICodes';\r\n\r\nclass Codes implements ICodes {\r\n    // Simple version of string hashcode\r\n    public hash(value: string): number {\r\n        if (value == null) return 0;\r\n        \r\n        let result: number = 0;\r\n        for (let i = 0; i < value.length; i++)\r\n            result += value.charCodeAt(i);\r\n\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    public verification(): string {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipCodes', [])\r\n    .service('pipCodes', Codes);\r\n","import { IFormat } from './IFormat';\r\n\r\nclass Format implements IFormat {\r\n    // Cached for parsed formats\r\n    private cache = {};\r\n\r\n    // Creates a sample line from a text\r\n    public sample(value: string, maxLength: number): string {\r\n        if (!value || value == '') {\r\n            return '';\r\n        }\r\n\r\n        var length: number = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    private strRepeat(str: string, qty: number): string {\r\n        if (qty < 1) { \r\n            return '';\r\n        }\r\n        var result: string = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getType(variable): string {\r\n        return toString.call(variable).slice(8, -1).toLowerCase();\r\n    }\r\n\r\n    private parseFormat(fmt: string): any {\r\n        let _fmt: string = fmt, match = [], parse_tree = [], arg_names: number = 0;\r\n        while (_fmt) {\r\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                parse_tree.push(match[0]);\r\n            }\r\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                parse_tree.push('%');\r\n            }\r\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                if (match[2]) {\r\n                    arg_names |= 1;\r\n                    let field_list: string[] = [], replacement_field: string = match[2], field_match: string[] = [];\r\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                        field_list.push(field_match[1]);\r\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else {\r\n                                throw new Error('Unknown error');\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw new Error('Unknown error');\r\n                    }\r\n                    match[2] = field_list;\r\n                }\r\n                else {\r\n                    arg_names |= 2;\r\n                }\r\n                if (arg_names === 3) {\r\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\r\n                }\r\n                parse_tree.push(match);\r\n            }\r\n            else {\r\n                throw new Error('Unknown error');\r\n            }\r\n            _fmt = _fmt.substring(match[0].length);\r\n        }\r\n        return parse_tree;\r\n    }\r\n\r\n    private format(parse_tree: any, argv: any): string {\r\n        let cursor: number = 0; \r\n        let tree_length: number = parse_tree.length; \r\n        let output = [];\r\n\r\n        for (let i = 0; i < tree_length; i++) {\r\n            let node_type = this.getType(parse_tree[i]);\r\n            if (node_type === 'string') {\r\n                output.push(parse_tree[i]);\r\n            }\r\n            else if (node_type === 'array') {\r\n                let match = parse_tree[i]; // convenience purposes only\r\n                let arg: any;\r\n                if (match[2]) { // keyword argument\r\n                    arg = argv[cursor];\r\n                    for (let k = 0; k < match[2].length; k++) {\r\n                        if (!arg.hasOwnProperty(match[2][k])) {\r\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\r\n                        }\r\n                        arg = arg[match[2][k]];\r\n                    }\r\n                } else if (match[1]) { // positional argument (explicit)\r\n                    arg = argv[match[1]];\r\n                }\r\n                else { // positional argument (implicit)\r\n                    arg = argv[cursor++];\r\n                }\r\n\r\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\r\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\r\n                }\r\n                switch (match[8]) {\r\n                    case 'b': arg = arg.toString(2); break;\r\n                    case 'c': arg = String.fromCharCode(arg); break;\r\n                    case 'd': arg = parseInt(arg, 10); break;\r\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                    case 'o': arg = arg.toString(8); break;\r\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                    case 'u': arg = Math.abs(arg); break;\r\n                    case 'x': arg = arg.toString(16); break;\r\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                }\r\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \r\n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                let pad_length = match[6] - String(arg).length;\r\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\r\n                output.push(match[5] ? arg + pad : pad + arg);\r\n            }\r\n        }\r\n        return output.join('');\r\n    }\r\n    \r\n    public sprintf(message: string, ...args: any[]): string {\r\n        if (!this.cache.hasOwnProperty(message))\r\n            this.cache[message] = this.parseFormat(message);\r\n\r\n        return this.format(this.cache[message], args);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFormat', [])\r\n    .service('pipFormat', Format);\r\n","import { IPageResetService } from './IPageResetService';\r\n\r\n\r\nexport let ResetPageEvent: string = \"pipResetPage\";\r\nexport let ResetAreaEvent: string = \"pipResetArea\";\r\n\r\nexport let ResetRootVar: string = \"$reset\";\r\nexport let ResetAreaRootVar: string = \"$resetArea\";\r\n\r\n\r\nclass PageResetService implements IPageResetService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._timeout = $timeout;\r\n\r\n        $rootScope[ResetRootVar] = false;\r\n        $rootScope[ResetAreaRootVar] = null;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._log.debug(\"Resetting the entire page\");\r\n        this.performReset(null);\r\n    }\r\n\r\n    public resetArea(area: string): void {\r\n        this._log.debug(\"Resetting the area \" + area);\r\n        this.performReset(area);\r\n    }\r\n\r\n    private performReset(area?: string): void {\r\n        this._rootScope[ResetRootVar] = area == null;\r\n        this._rootScope[ResetAreaRootVar] = area;\r\n\r\n        this._timeout(() => {\r\n            this._rootScope[ResetRootVar] = false;\r\n            this._rootScope[ResetAreaRootVar] = null;\r\n        }, 0);\r\n    }\r\n}\r\n\r\n\r\nfunction hookResetEvents(\r\n    $rootScope: ng.IRootScopeService, \r\n    pipPageReset: IPageResetService\r\n) {\r\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\r\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\r\n}\r\n\r\n\r\nangular.module('pipPageReset', [])\r\n    .service('pipPageReset', PageResetService)\r\n    .run(hookResetEvents);\r\n","import { IScrollService } from './IScrollService';\r\n\r\n\r\nclass ScrollService implements IScrollService {\r\n\r\n    public scrollTo(parentElement, childElement, animationDuration): void {\r\n        if (!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipScroll', [])\r\n    .service('pipScroll', ScrollService);\r\n","import { ISystemInfo } from './ISystemInfo';\r\n\r\n\r\nclass SystemInfo implements ISystemInfo {\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor($window: ng.IWindowService) {\r\n        \"ngInject\";\r\n\r\n        this._window = $window;\r\n    }\r\n\r\n    // todo add support for iPhone\r\n    public get browserName(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    public get browserVersion(): string {\r\n        let version;\r\n        let ua = this._window.navigator.userAgent;\r\n        let browser = this.browserName;\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\r\n                break;\r\n            case \"ie\":\r\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = ua.split(\"Version/\")[1];\r\n                break;\r\n            case \"operaWebkit\":\r\n                version = ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    public get platform(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    public get os(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        try {\r\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\r\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    public isDesktop(): boolean {\r\n        return this.platform == 'desktop';\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        return this.platform == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    public isCordova(): boolean {\r\n        return false;\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    public isSupported(supported?: any): boolean {\r\n        if (!supported) \r\n            supported = {\r\n                edge: 11,\r\n                ie: 11,\r\n                firefox: 43, //4, for testing\r\n                opera: 35,\r\n                chrome: 47\r\n            };\r\n\r\n        let browser = this.browserName;\r\n        let version = this.browserVersion;\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipSystemInfo', [])\r\n    .service('pipSystemInfo', SystemInfo);\r\n","import { ITags } from './ITags';\r\n\r\nclass Tags implements ITags {\r\n\r\n    public normalizeOne(tag: string): string {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    public compressOne(tag: string): string {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    public equal(tag1: string, tag2: string): boolean {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return this.compressOne(tag1) == this.compressOne(tag2);\r\n    }\r\n\r\n    public normalizeAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public compressAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public extract(entity: any, searchFields?: string[]): string[] {\r\n        let tags = this.normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, (field) => {\r\n            let text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                let hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(this.normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTags', [])\r\n    .service('pipTags', Tags);\r\n","import { ITimerService } from './ITimerService';\r\n\r\nclass TimerEvent {\r\n    public event: string;\r\n    public timeout: number;\r\n    public interval: any;\r\n\r\n    public constructor(event: string, timeout: number) {\r\n        this.event = event;\r\n        this.timeout = timeout;\r\n    }\r\n}\r\n\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\r\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\r\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\r\n];\r\n\r\n\r\nclass TimerService implements ITimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $interval: ng.IIntervalService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public isStarted(): boolean {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { \r\n                this._log.debug('Generated timer event ' + event.event); \r\n                this._rootScope.$emit(event.event)\r\n            },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","import './Format';\r\nimport './TimerService';\r\nimport './ScrollService';\r\nimport './Tags';\r\nimport './Codes';\r\nimport './SystemInfo';\r\nimport './PageResetService';\r\n\r\nexport * from './IFormat';\r\nexport * from './ITimerService';\r\nexport * from './IScrollService';\r\nexport * from './ITags';\r\nexport * from './ICodes';\r\nexport * from './ISystemInfo';\r\nexport * from './IPageResetService';","{\r\n    function filter($injector: ng.auto.IInjectorService) {\r\n         let pipTranslate: any = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return (key) => {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular.module('pipHelp.Translate', [])\r\n           .filter('translate', filter);\r\n\r\n}\r\n","{\r\n\r\nclass FabTooltipVisibilityController {\r\n    private _element;\r\n    private _scope: angular.IScope;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    constructor(\r\n        $element: any,\r\n        $attrs: angular.IAttributes,\r\n        $scope: angular.IScope,\r\n        $timeout: ng.ITimeoutService,\r\n        $parse\r\n    ) {\r\n        \"ngInject\";\r\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\r\n            showGetter = $parse($attrs['pipFabShowTooltip']),\r\n            showSetter = showGetter.assign;\r\n\r\n        $scope.$watch(trigGetter, (isOpen) => {\r\n            if (!_.isFunction(showSetter)) return;\r\n\r\n            if (isOpen) {\r\n                $timeout(() => {\r\n                    showSetter($scope, isOpen);\r\n                }, 600);\r\n            } else {\r\n                showSetter($scope, isOpen);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nfunction pipFabTooltipVisibility($parse, $timeout): ng.IDirective {\r\n    return {\r\n        restrict: 'A',\r\n        scope: false,\r\n        controller: FabTooltipVisibilityController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipFabTooltipVisibility', [])\r\n    .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\r\n\r\n}","{\r\n\r\ninterface IRefreshButtonBindings {\r\n    [key: string]: any;\r\n\r\n    text: any;\r\n    visible: any;\r\n    onRefresh: any\r\n}\r\n\r\nconst RefreshButtonBindings: IRefreshButtonBindings = {\r\n    text: '<pipText',\r\n    visible: '<pipVisible',\r\n    onRefresh: '&?pipRefresh'\r\n}\r\n\r\nclass RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\r\n    [key: string]: ng.IChangesObject < any > ;\r\n    // Not one way bindings\r\n    onRefresh: ng.IChangesObject < ({\r\n        $event: any\r\n    }) => ng.IPromise < any >> ;\r\n    // One way bindings\r\n    text: ng.IChangesObject < string > ;\r\n    visible: ng.IChangesObject < boolean > ;\r\n}\r\n\r\nclass RefreshButtonController implements IRefreshButtonBindings {\r\n\r\n    private _textElement: any;\r\n    private _buttonElement: any;\r\n    private _width: number;\r\n\r\n    public text: string;\r\n    public visible: boolean;\r\n    public onRefresh: (param: {\r\n        $event: ng.IAngularEvent\r\n    }) => ng.IPromise < any > ;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        private $element: any,\r\n        private $attrs: ng.IAttributes\r\n    ) {}\r\n\r\n    public $postLink() {\r\n        this._buttonElement = this.$element.children('.md-button');\r\n        this._textElement = this._buttonElement.children('.pip-refresh-text');\r\n\r\n        this.show();\r\n    }\r\n\r\n    public $onChanges(changes: RefreshButtonChanges) {\r\n        if (changes.visible.currentValue === true) {\r\n            this.text = changes.text.currentValue;\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    public onClick($event) {\r\n        if (this.onRefresh) {\r\n            this.onRefresh({\r\n                $event: $event\r\n            });\r\n        }\r\n    }\r\n\r\n    private show() {\r\n        if (this._textElement === undefined || this._buttonElement === undefined) {\r\n            return;\r\n        }\r\n        // Set new text\r\n        this._textElement.text(this.text);\r\n        // Show button\r\n        this._buttonElement.show();\r\n        // Adjust position\r\n        const width = this._buttonElement.width();\r\n        this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\r\n    }\r\n\r\n    private hide() {\r\n        this._buttonElement.hide();\r\n    }\r\n}\r\n\r\n\r\nconst RefreshButtonComponent: ng.IComponentOptions = {\r\n    bindings: RefreshButtonBindings,\r\n    controller: RefreshButtonController,\r\n    template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\r\n        '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\r\n        '<span class=\"pip-refresh-text\"></span>' +\r\n        '</md-button>'\r\n};\r\n\r\nangular\r\n    .module('pipRefreshButton', ['ngMaterial'])\r\n    .component('pipRefreshButton', RefreshButtonComponent);\r\n\r\n}","{\r\n\r\nclass ToggleButton {\r\n    id: any;\r\n    name: string;\r\n    disabled: boolean;\r\n    level: number;\r\n    diselectable: boolean;\r\n    filled: boolean;\r\n}\r\n\r\ninterface IToggleButtonsBindings {\r\n    [key: string]: any;\r\n\r\n    ngDisabled: any;\r\n    buttons: any;\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    multiselect: any;\r\n    change: any;\r\n    onlyToggle: any\r\n}\r\n\r\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\r\n    ngDisabled: '<?',\r\n    buttons: '<pipButtons',\r\n    currentButtonValue: '=ngModel',\r\n    currentButton: '=?pipButtonObject',\r\n    multiselect: '<?pipMultiselect',\r\n    change: '&ngChange',\r\n    onlyToggle: '<?pipOnlyToggle'\r\n}\r\n\r\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\r\n    [key: string]: ng.IChangesObject < any > ;\r\n    // Not one way bindings\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    change: ng.IChangesObject < () => ng.IPromise < void >> ;\r\n    // One way bindings\r\n    ngDisabled: ng.IChangesObject < boolean > ;\r\n    buttons: ng.IChangesObject < ToggleButton[] > ;\r\n    multiselect: ng.IChangesObject < boolean > ;\r\n    onlyToggle: ng.IChangesObject < boolean > ;\r\n}\r\n\r\nclass ToggleButtonsController implements IToggleButtonsBindings {\r\n    lenght: number;\r\n\r\n    public ngDisabled: boolean;\r\n    public class: string;\r\n    public multiselect: boolean;\r\n    public buttons: ToggleButton[];\r\n    public disabled: boolean;\r\n    public currentButtonValue: any;\r\n    public currentButtonIndex: number;\r\n    public currentButton: any;\r\n    public change: () => ng.IPromise < any > ;\r\n    public onlyToggle: boolean;\r\n    public pipMedia: any;\r\n\r\n    constructor(\r\n        private $element: any,\r\n        private $attrs: angular.IAttributes,\r\n        private $scope: angular.IScope,\r\n        private $timeout: ng.ITimeoutService,\r\n        $injector: ng.auto.IInjectorService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.class = $attrs['class'] || '';\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $onChanges(changes: ToggleButtonsChanges) {\r\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : false;\r\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false;\r\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : false;\r\n\r\n        this.buttons = !changes.buttons || _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? [] : changes.buttons.currentValue;\r\n\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $postLink() {\r\n        this.$element\r\n            .on('focusin', () => {\r\n                this.$element.addClass('focused-container');\r\n            })\r\n            .on('focusout', () => {\r\n                this.$element.removeClass('focused-container');\r\n            });\r\n    }\r\n\r\n    public buttonSelected(index) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.currentButtonIndex = index;\r\n        this.currentButton = this.buttons[this.currentButtonIndex];\r\n        this.currentButtonValue = this.currentButton.id || index;\r\n\r\n        this.$timeout(() => {\r\n            if (this.change) {\r\n                this.change();\r\n            }\r\n        });\r\n    }\r\n\r\n    public enterSpacePress(event) {\r\n        this.buttonSelected(event.index);\r\n    }\r\n\r\n    public highlightButton(index) {\r\n        if (this.multiselect &&\r\n            !_.isUndefined(this.currentButton.level) &&\r\n            !_.isUndefined(this.buttons[index].level)) {\r\n\r\n            return this.currentButton.level >= this.buttons[index].level;\r\n        }\r\n\r\n        return this.currentButtonIndex == index;\r\n    }\r\n}\r\n\r\nconst ToggleButtons: ng.IComponentOptions = {\r\n    bindings: ToggleButtonsBindings,\r\n    templateUrl: 'toggle_buttons/ToggleButtons.html',\r\n    controller: ToggleButtonsController\r\n}\r\n\r\nangular\r\n    .module('pipToggleButtons', ['pipButtons.Templates'])\r\n    .component('pipToggleButtons', ToggleButtons);\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/ToggleButtons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","import { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './IAuxPanelService';\r\n\r\n{\r\n    class AuxPanelDirectiveController {\r\n        private normalSize: number = 320;\r\n        private largeSize: number = 480;\r\n\r\n        public constructor(private pipAuxPanel: IAuxPanelService) { }\r\n\r\n        public isGtxs(): boolean {\r\n            return Number($('body').width()) > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n        }\r\n\r\n        public isGtlg(): boolean {\r\n            return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\r\n        }\r\n    }\r\n\r\n    const AuxPanel: ng.IComponentOptions = {\r\n\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\r\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" pip-focused ng-transclude>' +\r\n        '</md-sidenav>'\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .component('pipAuxPanel', AuxPanel);\r\n\r\n}","{\r\n\r\n    class AuxPanelPartController {\r\n        private partName: string;\r\n        private partValue: string;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipAuxPanel) {\r\n\r\n            this.partName = '' + $attrs.pipAuxPanelPart;\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\r\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\r\n                this.onAuxPanelChanged(event, config);\r\n            });\r\n\r\n        }\r\n\r\n        private onAuxPanelChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = config[this.partName];\r\n            // Set visible variable to switch ngIf\r\n\r\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\r\n        }\r\n    }\r\n\r\n\r\n    function AuxPanelPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function ($scope: ng.IScope, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: AuxPanelPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent } from './IAuxPanelService';\r\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n    }\r\n            \r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n  \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}","angular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPart';\r\nimport './AuxPanel';\r\n\r\nexport * from './IAuxPanelService';","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface ICardDirectiveAttributes extends ng.IAttributes {\r\n    minWidth: string | number;\r\n    minHeight: string | number;\r\n    width: string | number;\r\n    height: string | number;\r\n}\r\n\r\nclass CardDirectiveLink {\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService, \r\n        private $element: JQuery, \r\n        private $attrs: ICardDirectiveAttributes\r\n    ) {\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        const\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width();\r\n        let\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\r\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\r\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\r\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this.$element.css('width', width ? width + 'px' : '');\r\n        this.$element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            const\r\n                $header = this.$element.find('.pip-header:visible'),\r\n                $footer = this.$element.find('.pip-footer:visible'),\r\n                $body = this.$element.find('.pip-body');\r\n            let maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this.$element.css('left', left);\r\n            this.$element.css('top', top);\r\n\r\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this.$rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent } from '../media/IMediaService'; \r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService'; \r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface IMainDirectiveAttributes extends ng.IAttributes {\r\n    pipContainer: string;\r\n}\r\n\r\nclass MainDirectiveController implements ng.IController {\r\n    private _container: any;\r\n\r\n    public constructor(\r\n        private $scope: ng.IScope, \r\n        private $element: angular.IRootElementService, \r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private $attrs: IMainDirectiveAttributes\r\n    ) {\r\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\r\n\r\n        // Add CSS class\r\n        $element.addClass('pip-main');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(); };\r\n        addResizeListener(this._container[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener(this._container[0], listener);\r\n        });\r\n\r\n        // Perform initial calculations\r\n        this.updateBreakpointStatuses();\r\n    }\r\n\r\n    private updateBreakpointStatuses() {\r\n        const width = this._container.innerWidth();\r\n        const body = $('body');\r\n\r\n        MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n            if (_.isBoolean(status)) {\r\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\r\n            }\r\n        });\r\n\r\n        this.$timeout(() => {\r\n            this.$rootScope.$apply();\r\n        });\r\n    }\r\n    \r\n    private resize() {\r\n        this.updateBreakpointStatuses();\r\n        this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n    }\r\n}\r\n\r\nclass MainBodyDirectiveLink {\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: angular.IRootElementService\r\n    ) {\r\n        // Add CSS class\r\n        $element.addClass('pip-main-body');\r\n    }\r\n}\r\n\r\nfunction mainDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        controller: MainDirectiveController,\r\n        controllerAs: 'vm' \r\n    }\r\n}\r\n\r\nfunction mainBodyDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: MainBodyDirectiveLink\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipMain', mainDirective)\r\n    .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","(() => {\r\n\r\nfunction simpleDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-simple');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipSimple', simpleDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\r\n    columnWidth: string | number;\r\n    pipInfinite: string | boolean | number;\r\n}\r\n\r\nclass TilesOptions {\r\n    gutter: number;\r\n    isFitWidth: boolean;\r\n    isResizeBound: boolean;\r\n    transitionDuration: number;\r\n}\r\n\r\ninterface ITilesControllerScope extends ng.IScope {\r\n    tilesOptions: TilesOptions;\r\n}\r\n\r\nclass TilesDirectiveLink {\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        private $element: JQuery, \r\n        private $attrs: ITilesDirectiveAttributes,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440,\r\n        this._container = $element.children('.pip-tiles-container'),\r\n        this._prevContainerWidth = null,\r\n        this._masonry = Masonry.data(this._container[0]);\r\n        \r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this.$element.parent().width(),\r\n            containerWidth;\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this.$rootScope.$emit(LayoutResizedEvent);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value): boolean {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: false,\r\n        transclude: true,\r\n        template:\r\n            ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n                if (convertToBoolean($attrs.pipInfinite)) {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                        + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                        + '</div>';\r\n                } else {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\">'\r\n                        + '</div>';\r\n                }\r\n            },\r\n        controller: ($scope: ITilesControllerScope) => {\r\n            $scope.tilesOptions = {\r\n                gutter: 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","export const MainResizedEvent = 'pipMainResized';\r\nexport const LayoutResizedEvent = 'pipLayoutResized';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null || width == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\r\nimport { IMediaProvider } from './IMediaService';\r\n\r\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\r\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nclass MediaProvider implements IMediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        const service = (size) => {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipMedia')\r\n    .provider('pipMedia', MediaProvider);\r\n","let attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n    let frame = window.requestAnimationFrame\r\n        || (<any>window).mozRequestAnimationFrame\r\n        || (<any>window).webkitRequestAnimationFrame\r\n        || function (callback) {\r\n            return window.setTimeout(callback, 20);\r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n    let cancel = window.cancelAnimationFrame\r\n        || (<any>window).mozCancelAnimationFrame\r\n        || (<any>window).webkitCancelAnimationFrame\r\n        || window.clearTimeout;\r\n\r\n    return function (id) {\r\n        return cancel(id);\r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    const win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function () {\r\n        const trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function (fn) {\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    if (this.contentDocument) {\r\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n    }\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            if (element.__resizeTrigger__.contentDocument) {\r\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n            }\r\n        }\r\n    }\r\n}\r\n","angular.module('pipMedia', []);\r\n\r\nimport './MediaService';\r\nimport './ResizeFunctions';\r\n\r\nexport * from './IMediaService';\r\nexport * from './MediaService';\r\nexport * from './ResizeFunctions';","{\r\n    class CancelDragLink {\r\n        constructor(\r\n            $element: JQuery\r\n        ) {\r\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n        }\r\n    }\r\n\r\n    const CancelDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new CancelDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipCancelDrag', CancelDrag);\r\n}","import { IDraggableService } from './DraggableService';\r\n\r\n{\r\n    interface IDragLinkScope extends ng.IScope {\r\n        value: any;\r\n    }\r\n\r\n    interface IDragLinkAttributes extends ng.IAttributes {\r\n        ngDrag: any;\r\n        pipDragStart: any;\r\n        pipDragStop: any;\r\n        pipDragSuccess: any;\r\n        allowTransform: any;\r\n        pipDragData: any;\r\n        pipVerticalScroll: any;\r\n        pipHorizontalScroll: any;\r\n        pipActivationDistance: any;\r\n        pipScrollContainer: any;\r\n        pipDrag: any;\r\n        pipCenterAnchor: any;\r\n    }\r\n\r\n    class DragLink {\r\n        private LONG_PRESS: number = 50; // 50ms for longpress\r\n        private offset: any;\r\n        private _centerAnchor: boolean = false;\r\n        private _mx: number;\r\n        private _my: number;\r\n        private _tx: number;\r\n        private _ty: number;\r\n        private _mrx: number;\r\n        private _mry: number;\r\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n        private _pressEvents: string = 'touchstart mousedown';\r\n        private _moveEvents: string = 'touchmove mousemove';\r\n        private _releaseEvents: string = 'touchend mouseup';\r\n        private _dragHandle: any;\r\n\r\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n        private _myid: string | number;\r\n        private _data: any = null;\r\n\r\n        private _dragOffset: any = null;\r\n\r\n        private _dragEnabled: boolean = false;\r\n\r\n        private _pressTimer: any = null;\r\n\r\n        private _elementStyle: any = {};\r\n\r\n        private onDragStartCallback: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragSuccessCallback: Function;\r\n        private allowTransform: boolean;\r\n\r\n        private getDragData: any;\r\n        private verticalScroll: boolean;\r\n        private horizontalScroll: boolean;\r\n        private activationDistance: number;\r\n        private scrollDistance: number;\r\n        private scrollParent: boolean = false;\r\n\r\n        private scrollContainer: JQuery = angular.element(window);\r\n        private scrollContainerGetter: any;\r\n\r\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n        private _deregisterRootMoveListener: Function = angular.noop;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $window: ng.IWindowService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDragLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDragLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.ngDrag;\r\n            this._myid = $scope.$id;\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\r\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\r\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\r\n\r\n            this.getDragData = $parse($attrs.pipDragData);\r\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\r\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\r\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\r\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\r\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\r\n\r\n            this.$element.css('cursor', 'move');\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\r\n            // check to see if drag handle(s) was specified\r\n            // if querySelectorAll is available, we use this instead of find\r\n            // as JQLite find is limited to tagnames\r\n            let dragHandles: any;\r\n            if (this.$element[0].querySelectorAll) {\r\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\r\n            } else {\r\n                dragHandles = this.$element.find('[pip-drag-handle]');\r\n            }\r\n            if (dragHandles.length) {\r\n                this._dragHandle = dragHandles;\r\n            }\r\n            this.toggleListeners(true);\r\n\r\n            // Initialize scroll container\r\n            if (this.scrollParent) {\r\n                this.scrollContainer = angular.element(this.$element.parent());\r\n            } else if (this.$attrs.pipScrollContainer) {\r\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\r\n            } else {\r\n                this.scrollContainer = angular.element(window);\r\n            }\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            if (!enable) return;\r\n            // add listeners.\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                this.onDestroy(enable);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\r\n                this.onCenterAnchor(newVal, oldVal);\r\n            });\r\n            // wire up touch events\r\n            if (this._dragHandle) {\r\n                // handle(s) specified, use those to initiate drag\r\n                this._dragHandle.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            } else {\r\n                // no handle(s) specified, use the element as the handle\r\n                this.$element.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            }\r\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\r\n                this.$element.on('mousedown', () => {\r\n                    return false;\r\n                }); // prevent native drag for images\r\n            }\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dragEnabled = (newVal);\r\n        }\r\n\r\n        private onCenterAnchor(newVal, oldVal) {\r\n            if (angular.isDefined(newVal))\r\n                this._centerAnchor = (newVal || 'true');\r\n        }\r\n\r\n        private isClickableElement(evt) {\r\n            return (\r\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n            );\r\n        }\r\n\r\n        /*\r\n         * When the element is clicked start the drag behaviour\r\n         * On touch devices as a small delay so as not to prevent native window scrolling\r\n         */\r\n        private onpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n\r\n            if (this.isClickableElement(evt)) {\r\n                return;\r\n            }\r\n\r\n            if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                // Do not start dragging on right-click\r\n                return;\r\n            }\r\n\r\n            this.saveElementStyles();\r\n\r\n            if (this._hasTouch) {\r\n                this.cancelPress();\r\n                this._pressTimer = setTimeout(() => {\r\n                    this.cancelPress();\r\n                    this.onlongpress(evt);\r\n                }, this.LONG_PRESS);\r\n                this.$document.on(this._moveEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n                this.$document.on(this._releaseEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n            } else {\r\n                this.onlongpress(evt);\r\n            }\r\n        }\r\n\r\n        private saveElementStyles() {\r\n            this._elementStyle.left = this.$element.css('css') || 0;\r\n            this._elementStyle.top = this.$element.css('top') || 0;\r\n            this._elementStyle.position = this.$element.css('position');\r\n            this._elementStyle.width = this.$element.css('width');\r\n        }\r\n\r\n        private cancelPress() {\r\n            clearTimeout(this._pressTimer);\r\n            this.$document.off(this._moveEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n            this.$document.off(this._releaseEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n        }\r\n\r\n        private onlongpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n\r\n            this.offset = this.$element[0].getBoundingClientRect();\r\n            if (this.allowTransform)\r\n                this._dragOffset = this.offset;\r\n            else {\r\n                this._dragOffset = {\r\n                    left: document.body.scrollLeft,\r\n                    top: document.body.scrollTop\r\n                };\r\n            }\r\n\r\n\r\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\r\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n            this._mrx = this._mx - this.offset.left;\r\n            this._mry = this._my - this.offset.top;\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\r\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\r\n            }\r\n\r\n            this.$document.on(this._moveEvents, (event) => {\r\n                this.onmove(event);\r\n            });\r\n            this.$document.on(this._releaseEvents, (event) => {\r\n                this.onrelease(event);\r\n            });\r\n            // This event is used to receive manually triggered mouse move events\r\n            // jqLite unfortunately only supports triggerHandler(...)\r\n            // See http://api.jquery.com/triggerHandler/\r\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\r\n                this.onmove(origEvent);\r\n            });\r\n        }\r\n\r\n        private onmove(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n            if (!this.$element.hasClass('pip-dragging')) {\r\n                this._data = this.getDragData(this.$scope);\r\n                this.$element.addClass('pip-dragging');\r\n                this.$rootScope.$broadcast('draggable:start', {\r\n                    x: this._mx,\r\n                    y: this._my,\r\n                    tx: this._tx,\r\n                    ty: this._ty,\r\n                    event: evt,\r\n                    element: this.$element,\r\n                    data: this._data\r\n                });\r\n\r\n                if (this.onDragStartCallback) {\r\n                    this.$scope.$apply(() => {\r\n                        this.onDragStartCallback(this.$scope, {\r\n                            $data: this._data,\r\n                            $event: evt\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n\r\n            if (this.horizontalScroll || this.verticalScroll) {\r\n                this.dragToScroll();\r\n            }\r\n\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\r\n                this._ty = this._my - this._mry - this._dragOffset.top;\r\n            }\r\n\r\n            this.moveElement(this._tx, this._ty);\r\n\r\n            this.$rootScope.$broadcast('draggable:move', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                uid: this._myid,\r\n                dragOffset: this._dragOffset\r\n            });\r\n        }\r\n\r\n        private onrelease(evt) {\r\n            if (!this._dragEnabled)\r\n                return;\r\n            evt.preventDefault();\r\n            this.$rootScope.$broadcast('draggable:end', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                callback: this.onDragComplete,\r\n                uid: this._myid\r\n            });\r\n            this.$element.removeClass('pip-dragging');\r\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n            this.reset();\r\n            this.$document.off(this._moveEvents);\r\n            this.$document.off(this._releaseEvents);\r\n            if (this.onDragStopCallback) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: evt\r\n                    });\r\n                });\r\n            }\r\n\r\n            this._deregisterRootMoveListener();\r\n        }\r\n\r\n        private onDragComplete(evt) {\r\n            if (!this.onDragSuccessCallback) return;\r\n\r\n            this.$scope.$apply(() => {\r\n                this.onDragSuccessCallback(this.$scope, {\r\n                    $data: this._data,\r\n                    $event: evt\r\n                });\r\n            });\r\n        }\r\n\r\n        private reset() {\r\n            if (this.allowTransform)\r\n                this.$element.css({\r\n                    transform: '',\r\n                    'z-index': '',\r\n                    '-webkit-transform': '',\r\n                    '-ms-transform': ''\r\n                });\r\n            else {\r\n                this.$element.css({\r\n                    position: this._elementStyle.position,\r\n                    top: this._elementStyle.top,\r\n                    left: this._elementStyle.left,\r\n                    'z-index': '',\r\n                    width: this._elementStyle.width\r\n                });\r\n            }\r\n        }\r\n\r\n        private moveElement(x, y) {\r\n            const eWidth = this.$element.css('width');\r\n            if (this.allowTransform) {\r\n                this.$element.css({\r\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    'z-index': 99999,\r\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                });\r\n            } else {\r\n                this.$element.css({\r\n                    'left': x + 'px',\r\n                    'top': y + 'px',\r\n                    'position': 'fixed',\r\n                    'z-index': 100,\r\n                    width: eWidth\r\n                });\r\n            }\r\n        }\r\n\r\n        private dragToScroll() {\r\n            let scrollX = 0,\r\n                scrollY = 0,\r\n                offset = (element) => {\r\n                    return element.offset() || {\r\n                        left: 0,\r\n                        top: 0\r\n                    };\r\n                };\r\n\r\n            if (this.horizontalScroll) {\r\n                const\r\n                    containerLeft = offset(this.scrollContainer).left,\r\n                    containerWidth = this.scrollContainer.innerWidth(),\r\n                    containerRight = containerLeft + containerWidth;\r\n\r\n                if ((this._mx - containerLeft) < this.activationDistance) {\r\n                    scrollX = -this.scrollDistance;\r\n                } else if ((containerRight - this._mx) < this.activationDistance) {\r\n                    scrollX = this.scrollDistance;\r\n                }\r\n            }\r\n\r\n            if (this.verticalScroll) {\r\n                const\r\n                    containerTop = offset(this.scrollContainer).top,\r\n                    containerHeight = this.scrollContainer.innerHeight(),\r\n                    containerBottom = containerTop + containerHeight;\r\n\r\n                if ((this._my - containerTop) < this.activationDistance) {\r\n                    scrollY = -this.scrollDistance + 30;\r\n                } else if ((containerBottom - this._my) < this.activationDistance) {\r\n                    scrollY = this.scrollDistance - 30;\r\n                }\r\n            }\r\n            if (scrollX !== 0 || scrollY !== 0) {\r\n                const\r\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\r\n                    containerScrollTop = this.scrollContainer.scrollTop();\r\n\r\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const Drag = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $window: ng.IWindowService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDragLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDragLinkAttributes\r\n            ) {\r\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrag', Drag);\r\n}","export interface IDraggableService {\r\n    inputEvent(event: any);\r\n}\r\n\r\nclass DraggableService implements IDraggableService {\r\n    public inputEvent(event) {\r\n        if (angular.isDefined(event.touches)) {\r\n            return event.touches[0];\r\n        }\r\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n            return event.originalEvent.touches[0];\r\n        }\r\n        return event;\r\n    };\r\n}\r\n\r\nangular\r\n    .module(\"pipDraggable\")\r\n    .service('pipDraggable', DraggableService);\r\n    ","import { IDraggableService } from './DraggableService';\r\n\r\n{\r\n    interface IDropLinkScope extends ng.IScope {\r\n        value: any;\r\n        isTouching: any;\r\n    }\r\n\r\n    interface IDropLinkAttributes extends ng.IAttributes {\r\n        pipDrop: any;\r\n        pipDropSuccess: any;\r\n        pipDragStart: any;\r\n        pipDragStop: any;\r\n        pipDragMove: any;\r\n    }\r\n\r\n    class DropLink {\r\n\r\n        private _lastDropTouch: any;\r\n        private _myid: number | string;\r\n        private _dropEnabled: boolean;\r\n\r\n        private onDropCallback: Function; // || function(){};\r\n        private onDragStartCallback: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragMoveCallback: Function;\r\n\r\n        constructor(\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDropLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDropLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.pipDrop;\r\n            $scope.isTouching = false;\r\n\r\n            this._myid = $scope.$id;\r\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\r\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\r\n\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$on('$destroy', (event) => {\r\n                this.onDestroy(event);\r\n            });\r\n            this.$scope.$on('draggable:start', (evt, obj) => {\r\n                this.onDragStart(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:move', (evt, obj) => {\r\n                this.onDragMove(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:end', (evt, obj) => {\r\n                this.onDragEnd(evt, obj);\r\n            });\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dropEnabled = newVal;\r\n        }\r\n\r\n        private onDragStart(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element);\r\n\r\n            if (this.$attrs.pipDragStart) {\r\n                this.$timeout(() => {\r\n                    this.onDragStartCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragMove(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element);\r\n\r\n            if (this.$attrs.pipDragMove) {\r\n                this.$timeout(() => {\r\n                    this.onDragMoveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragEnd(evt, obj) {\r\n            // don't listen to drop events if this is the element being dragged\r\n            // only update the styles and return\r\n            if (!this._dropEnabled || this._myid === obj.uid) {\r\n                this.updateDragStyles(false, obj.element);\r\n                return;\r\n            }\r\n\r\n            if (this.isTouching(obj.x, obj.y, obj.element)) {\r\n                // call the pipDraggable pipDragSuccess element callback\r\n                if (obj.callback) {\r\n                    obj.callback(obj);\r\n                }\r\n\r\n                if (this.$attrs.pipDropSuccess) {\r\n                    this.$timeout(() => {\r\n                        this.onDropCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (this.$attrs.pipDragStop) {\r\n                this.$timeout(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.updateDragStyles(false, obj.element);\r\n        }\r\n\r\n        private isTouching(mouseX, mouseY, dragElement) {\r\n            const touching = this.hitTest(mouseX, mouseY);\r\n            this.$scope.isTouching = touching;\r\n            if (touching) {\r\n                this._lastDropTouch = this.$element;\r\n            }\r\n            this.updateDragStyles(touching, dragElement);\r\n            return touching;\r\n        }\r\n\r\n        private updateDragStyles(touching, dragElement) {\r\n            if (touching) {\r\n                this.$element.addClass('pip-drag-enter');\r\n                dragElement.addClass('pip-drag-over');\r\n            } else if (this._lastDropTouch == this.$element) {\r\n                this._lastDropTouch = null;\r\n                this.$element.removeClass('pip-drag-enter');\r\n                dragElement.removeClass('pip-drag-over');\r\n            }\r\n        };\r\n\r\n        private hitTest(x, y) {\r\n            const bounds = this.$element[0].getBoundingClientRect();\r\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\r\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\r\n            return x >= bounds.left &&\r\n                x <= bounds.right &&\r\n                y <= bounds.bottom &&\r\n                y >= bounds.top;\r\n        }\r\n    }\r\n\r\n    const Drop = function (\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $timeout: ng.ITimeoutService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDropLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDropLinkAttributes\r\n            ) {\r\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrop', Drop);\r\n}","{\r\n\r\n    class PreventDragLink {\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false');\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\r\n        }\r\n\r\n        private absorbEvent_(event) {\r\n            const e = event.originalEvent;\r\n            e.preventDefault && e.preventDefault();\r\n            e.stopPropagation && e.stopPropagation();\r\n            e.cancelBubble = true;\r\n            e.returnValue = false;\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    const PreventDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new PreventDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipPreventDrag', PreventDrag);\r\n}","angular.module(\"pipDraggable\", []);\r\n\r\nimport './DraggableService';\r\nimport './Drag';\r\nimport './Drop';\r\nimport './PreventDrag';\r\nimport './CancelDrag';\r\n","{\r\n    interface FocusedScope extends ng.IScope {\r\n        pipFocusedColor: Function;\r\n        pipFocusedClass: Function;\r\n        pipFocusedRebind: Function;\r\n        pipFocusedTabindex: Function;\r\n        pipFocusedOpacity: Function;\r\n        pipFocusedData: Function;\r\n        pipWithHidden: Function;\r\n        pipRebind: Function;\r\n    }\r\n\r\n    interface FocusedAttributes extends ng.IAttributes {\r\n        ngModel: any;\r\n        pipFocusedData: any;\r\n    }\r\n\r\n    class FocusedLink implements ng.IDirective {\r\n        private controls: JQuery;\r\n        private controlsLength: number;\r\n        private color: string;\r\n        private opacityDelta: number = 0.4;\r\n        private opacityLimit: number = 0.5;\r\n        private oldBackgroundColor: string;\r\n        private onFocusClass: string;\r\n\r\n        constructor(\r\n            private $scope: FocusedScope,\r\n            private $element: JQuery,\r\n            $attrs: FocusedAttributes,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $mdConstant: any,\r\n            private $window: ng.IWindowService\r\n        ) {\r\n\r\n            $element.on('keydown', (e) => {\r\n                this.keydownListener(e);\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.init();\r\n            });\r\n\r\n            if ($attrs.ngModel) {\r\n                $scope.$watch('ngModel', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n\r\n            if ($attrs.pipFocusedData) {\r\n                $scope.$watch('pipFocusedData', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\r\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\r\n            this.controls = this.$element.find(selector);\r\n            this.controlsLength = this.controls.length;\r\n            this.checkTabindex(this.controls);\r\n            // Add event listeners\r\n            this.controls.on('focus', (event) => {\r\n                const target = event.currentTarget;\r\n                if ($(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\r\n                    this.init();\r\n                }\r\n                this.$element.addClass('pip-focused-container');\r\n                $(target).addClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n\r\n                    this.color = $(target).css('backgroundColor');\r\n                    this.oldBackgroundColor = this.color;\r\n                    $(target).css('backgroundColor', this.rgba(this.color));\r\n                    $(target).addClass('md-focused');\r\n                } else {\r\n                    $(target).addClass('md-focused md-focused-opacity');\r\n                }\r\n\r\n            }).on('focusout', (event) => {\r\n                const target = event.currentTarget;\r\n                if (!$(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                this.$element.removeClass('pip-focused-container');\r\n                $(target).removeClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\r\n                    $(target).removeClass('md-focused md-focused-opacity');\r\n                } else {\r\n                    $(target).removeClass('md-focused');\r\n                }\r\n            });\r\n        }\r\n\r\n        private rgba(color) {\r\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\r\n                return this.$scope.pipFocusedColor();\r\n            }\r\n\r\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\r\n\r\n            if (!arr || arr.length < 3) {\r\n                return ''\r\n            }\r\n\r\n            let red, blue, green, opacity;\r\n\r\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\r\n            red = arr[0];\r\n            blue = arr[1];\r\n            green = arr[2];\r\n\r\n            if (opacity < this.opacityLimit) {\r\n                opacity += this.opacityDelta;\r\n            } else {\r\n                opacity -= this.opacityDelta;\r\n            }\r\n\r\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\r\n        }\r\n\r\n        private setTabindex(element, value) {\r\n            element.attr('tabindex', value);\r\n        }\r\n\r\n        private checkTabindex(controls) {\r\n            const index = _.findIndex(controls, (c) => {\r\n                return c['tabindex'] > -1;\r\n            });\r\n\r\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\r\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\r\n            }\r\n        }\r\n\r\n        private keydownListener(e) {\r\n            const keyCode = e.which || e.keyCode;\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                e.preventDefault();\r\n\r\n                const\r\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\r\n                // Move focus to next control\r\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\r\n                    this.controls[moveToControl].focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const Focused = function ($timeout: ng.ITimeoutService, \r\n        $mdConstant: any, \r\n        $window: ng.IWindowService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipFocusedColor: '&?',\r\n                pipFocusedClass: '&?',\r\n                pipFocusedRebind: '&?',\r\n                pipFocusedTabindex: '&?',\r\n                pipFocusedOpacity: '&?',\r\n                pipFocusedData: '&?',\r\n                pipWithHidden: '&?',\r\n                pipRebind: '&?'\r\n            },\r\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\r\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipFocused\", [])\r\n        .directive('pipFocused', Focused);\r\n}","{\r\n    interface InfiniteScrollScope extends ng.IScope {\r\n        pipInfiniteScroll: Function;\r\n        pipScrollContainer: JQuery;\r\n        pipScrollDistance: number | string;\r\n        pipScrollDisabled: boolean;\r\n        pipScrollUseDocumentBottom: boolean;\r\n        pipScrollListenForEvent: string;\r\n    }\r\n\r\n    interface InfiniteScrollAttributes extends ng.IAttributes {\r\n        pipScrollParent: any;\r\n        pipScrolImmediateCheck: any;\r\n    }\r\n\r\n    class InfiniteScrollLink {\r\n        private THROTTLE_MILLISECONDS: number = 500;\r\n        private checkWhenEnabled = null;\r\n        private scrollContainer = null;\r\n        private immediateCheck = true;\r\n        private scrollDistance = null;\r\n        private scrollEnabled = null;\r\n        private unregisterEventListener = null;\r\n        private useDocumentBottom = false;\r\n        private windowElement = null;\r\n        private onContainerScrollThrottle: Function;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $window: ng.IWindowService,\r\n            private $interval: ng.IIntervalService,\r\n            private $scope: InfiniteScrollScope,\r\n            private $element: JQuery,\r\n            private $attrs: InfiniteScrollAttributes\r\n        ) {\r\n            this.windowElement = angular.element($window);\r\n\r\n            this.onContainerScrollThrottle = _.throttle(() => {\r\n                this.onContainerScroll();\r\n            }, this.THROTTLE_MILLISECONDS);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n                if (this.unregisterEventListener !== null) {\r\n                    this.unregisterEventListener();\r\n                    return this.unregisterEventListener = null;\r\n                }\r\n            });\r\n\r\n            $scope.$watch('pipScrollDistance', (v) => {\r\n                this.handleScrollDistance(v);\r\n            });\r\n            this.handleScrollDistance($scope.pipScrollDistance);\r\n\r\n            $scope.$watch('pipScrollDisabled', (v) => {\r\n                this.handleScrollDisabled(v);\r\n            });\r\n            this.handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\r\n                this.handleScrollUseDocumentBottom(v);\r\n            });\r\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n            this.changeContainer(this.windowElement);\r\n            if ($scope.pipScrollListenForEvent) {\r\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            $scope.$watch('pipScrollContainer', (newContainer) => {\r\n                if (newContainer != this.scrollContainer)\r\n                    this.handleScrollContainer(newContainer);\r\n            });\r\n            this.handleScrollContainer($scope.pipScrollContainer || []);\r\n\r\n            if ($attrs.pipScrollParent !== null) {\r\n                this.changeContainer(angular.element($element.parent()));\r\n            }\r\n            if ($attrs.pipScrolImmediateCheck !== null) {\r\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n            }\r\n\r\n            $interval((function () {\r\n                if (this.immediateCheck) {\r\n                    return this.onContainerScrollThrottle();\r\n                }\r\n            }), 0, 1);\r\n        }\r\n\r\n        private height(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(element.offsetHeight)) {\r\n                return element.document.documentElement.clientHeight;\r\n            } else {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        private offsetTop(element) {\r\n            if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                return;\r\n            }\r\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\r\n        }\r\n\r\n        private pageYOffset(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(window.pageYOffset)) {\r\n                return element.document.documentElement.scrollTop;\r\n            } else {\r\n                return element.ownerDocument.defaultView.pageYOffset;\r\n            }\r\n        }\r\n\r\n        private onContainerScroll() {\r\n            let containerBottom,\r\n                containerTopOffset,\r\n                elementBottom,\r\n                remaining,\r\n                shouldScroll;\r\n\r\n            if (this.scrollContainer === this.windowElement) {\r\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\r\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\r\n            } else {\r\n                containerBottom = this.height(this.scrollContainer);\r\n                containerTopOffset = 0;\r\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\r\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\r\n                }\r\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\r\n            }\r\n\r\n            if (this.useDocumentBottom) {\r\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\r\n            }\r\n\r\n            remaining = elementBottom - containerBottom;\r\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\r\n\r\n            if (shouldScroll) {\r\n                this.checkWhenEnabled = true;\r\n                if (this.scrollEnabled) {\r\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\r\n                        return this.$scope.pipInfiniteScroll();\r\n                    } else {\r\n                        return this.$scope.$apply(() => {\r\n                            this.$scope.pipInfiniteScroll();\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                return this.checkWhenEnabled = false;\r\n            }\r\n        }\r\n\r\n        private handleScrollDistance(v) {\r\n            return this.scrollDistance = parseFloat(v) || 0;\r\n        }\r\n\r\n        private handleScrollDisabled(v) {\r\n            this.scrollEnabled = !v;\r\n            if (this.scrollEnabled && this.checkWhenEnabled) {\r\n                this.checkWhenEnabled = false;\r\n                this.onContainerScrollThrottle();\r\n            }\r\n        }\r\n\r\n        private handleScrollUseDocumentBottom(v) {\r\n            return this.useDocumentBottom = v;\r\n        }\r\n\r\n        private changeContainer(newContainer) {\r\n            if (this.scrollContainer) {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            this.scrollContainer = newContainer;\r\n            if (newContainer) {\r\n                return this.scrollContainer.bind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n        }\r\n\r\n        private handleScrollContainer(newContainer) {\r\n            if ((newContainer == null) || newContainer.length === 0) {\r\n                return;\r\n            }\r\n            if (newContainer instanceof HTMLElement) {\r\n                newContainer = angular.element(newContainer);\r\n            } else if (typeof newContainer.append === 'function') {\r\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n            } else if (typeof newContainer === 'string') {\r\n                newContainer = this.$element.parents().find(newContainer);\r\n            }\r\n\r\n            if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                return this.changeContainer(newContainer);\r\n            } else {\r\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const InfiniteScroll = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $interval: ng.IIntervalService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipInfiniteScroll: '&',\r\n                pipScrollContainer: '=',\r\n                pipScrollDistance: '=',\r\n                pipScrollDisabled: '=',\r\n                pipScrollUseDocumentBottom: '=',\r\n                pipScrollListenForEvent: '@'\r\n            },\r\n            link: function (\r\n                $scope: InfiniteScrollScope,\r\n                $element: JQuery,\r\n                $attrs: InfiniteScrollAttributes\r\n            ) {\r\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipInfiniteScroll\", [])\r\n        .directive('pipInfiniteScroll', InfiniteScroll);\r\n}","{\r\n    interface SelectedAttributes extends ng.IAttributes {\r\n        pipSelected: any;\r\n        pipSelectedId: any;\r\n        pipSelect: any;\r\n        pipEnterSpacePress: any;\r\n        pipNoScroll: any;\r\n        pipSkipHidden: any;\r\n        pipTreeList: any;\r\n        pipSelectedWatch: any;\r\n    }\r\n\r\n    class SelectedLink {\r\n        private indexGetter: any;\r\n        private indexSetter: any;\r\n        private idSetter: any;\r\n        private idGetter: any;\r\n        private changeGetter: any;\r\n        private enterSpaceGetter: any;\r\n        private noScroll: any;\r\n        private modifier: any;\r\n        private className: any;\r\n        private selectedIndex: any;\r\n        private currentElementTabinex: any;\r\n        private pipSelectedWatch: any;\r\n        private isScrolled: any;\r\n        // Variables for touch functions\r\n        private touchStartX: any;\r\n        private touchStartY: any;\r\n        private trackingClick: any;\r\n        private trackingClickStart: any;\r\n        private targetElement: any;\r\n        private lastClickTime: any;\r\n        private cancelNextClick: any;\r\n        // Constants for touch functions\r\n        private touchBoundary: number = 10;\r\n        private tapdelay: number = 200;\r\n        private tapTimeout: number = 700;\r\n\r\n        constructor(\r\n            $parse: ng.IParseService,\r\n            private $mdConstant: any,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs: SelectedAttributes\r\n        ) {\r\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\r\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\r\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\r\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\r\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\r\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\r\n            this.noScroll = $attrs.pipNoScroll;\r\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\r\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\r\n            this.selectedIndex = this.indexGetter($scope);\r\n            this.currentElementTabinex = $element.attr('tabindex');\r\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\r\n            this.isScrolled = false;\r\n\r\n            $element.attr('tabindex', this.currentElementTabinex || 0);\r\n\r\n            $element.on('click', this.className, (event) => {\r\n                this.onClickEvent(event);\r\n            });\r\n            $element.on('touchstart', this.className, (event) => {\r\n                this.onTouchStart(event);\r\n            });\r\n            $element.on('touchmove', this.className, (event) => {\r\n                this.onTouchMove(event);\r\n            });\r\n            $element.on('touchend', this.className, (event) => {\r\n                this.onTouchEnd(event);\r\n            });\r\n            $element.on('touchcancel', this.className, (event) => {\r\n                this.onTouchCancel(event);\r\n            });\r\n            $element.on('keydown', (event) => {\r\n                this.onKeyDown(event);\r\n            });\r\n            $element.on('focusin', (event) => {\r\n                this.onFocusIn(event);\r\n            });\r\n            $element.on('focusout', (event) => {\r\n                this.onFocusOut(event);\r\n            });\r\n\r\n            // Watch selected item index\r\n            if (!$attrs.pipTreeList) {\r\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\r\n                    this.selectItem({\r\n                        itemIndex: newSelectedIndex\r\n                    });\r\n                });\r\n            } else {\r\n                $scope.$watch(this.idGetter, (newSelectedId) => {\r\n                    $timeout(() => {\r\n                        this.selectItem({\r\n                            itemId: newSelectedId,\r\n                            raiseEvent: true\r\n                        });\r\n                    }, 0);\r\n                });\r\n            }\r\n\r\n            // Watch resync selection\r\n            if (this.pipSelectedWatch) {\r\n                $scope.$watch(this.pipSelectedWatch, () => {\r\n                    // Delay update to allow ng-repeat to update DOM\r\n                    $timeout(() => {\r\n                        this.selectedIndex = this.indexGetter($scope);\r\n                        this.selectItem({\r\n                            itemIndex: this.selectedIndex\r\n                        });\r\n                    }, 100);\r\n                });\r\n            }\r\n\r\n            // Select item defined by index\r\n            this.selectItem({\r\n                itemIndex: this.selectedIndex,\r\n                items: $element.find(this.className)\r\n            });\r\n        }\r\n\r\n        private selectItem(itemParams) {\r\n            if (this.isScrolled) return;\r\n            let itemIndex = itemParams.itemIndex,\r\n                itemId = itemParams.itemId,\r\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\r\n                itemsLength = items.length,\r\n                item = () => {\r\n                    if (itemParams.item) return itemParams.item;\r\n                    if (itemIndex === undefined && itemIndex === -1) {\r\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                    }\r\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                        return items[itemIndex]\r\n                    }\r\n\r\n                    return false;\r\n                },\r\n                raiseEvent = itemParams.raiseEvent;\r\n                item = item();\r\n            if (item) {\r\n                this.$element.find(this.className).removeClass('selected md-focused');\r\n                item = <any>angular.element(item)\r\n                    .addClass('selected md-focused')\r\n                    .focus();\r\n                if (!this.noScroll) this.scrollToItem(item);\r\n                if (raiseEvent) this.defineSelectedIndex(items);\r\n            }\r\n        };\r\n\r\n        private defineSelectedIndex(items) {\r\n            const oldSelectedIndex = this.selectedIndex;\r\n            this.selectedIndex = -1;\r\n            for (var index = 0; index < items.length; index++) {\r\n                if ($(items[index]).hasClass('selected')) {\r\n                    this.selectedIndex = index;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const updateIndex = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\r\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\r\n                onSelect();\r\n            };\r\n\r\n            const onSelect = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.changeGetter) {\r\n                    this.changeGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            item: selectedItem,\r\n                            index: this.selectedIndex,\r\n                            id: selectedId,\r\n                            newIndex: this.selectedIndex,\r\n                            oldIndex: oldSelectedIndex\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Execute callback to notify about item select\r\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\r\n                this.$scope.$apply(() => { updateIndex(); });\r\n            } else {\r\n                this.$scope.$apply(() => { onSelect(); });\r\n            }\r\n        };\r\n\r\n        private scrollToItem($item) {\r\n            if (this.noScroll || !$item.offset()) return;\r\n\r\n            const\r\n                containerTop = this.$element.offset().top,\r\n                containerHeight = this.$element.height(),\r\n                containerBottom = containerTop + containerHeight,\r\n                itemTop = $item.offset().top,\r\n                itemHeight = $item.outerHeight(true),\r\n                itemBottom = itemTop + itemHeight,\r\n                containerScrollTop = this.$element.scrollTop();\r\n\r\n            this.isScrolled = true;\r\n            this.$timeout(() => {\r\n                this.isScrolled = false;\r\n            }, 100);\r\n\r\n            if (containerTop > itemTop) {\r\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n            } else if (containerBottom < itemBottom) {\r\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n            }\r\n        };\r\n\r\n        private getTargetElementFromEventTarget(eventTarget) {\r\n            // On some older browsers the event target may be a text node.\r\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\r\n                return eventTarget.parentNode;\r\n            }\r\n\r\n            return eventTarget;\r\n        };\r\n\r\n        private touchHasMoved(event) {\r\n            const touch = event.changedTouches[0],\r\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\r\n\r\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        private onClickEvent(event) {\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n        }\r\n\r\n        private onTouchStart(event) {\r\n            const ev = event.originalEvent;\r\n            if (ev['targetTouches'].length > 1) {\r\n                return true;\r\n            }\r\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\r\n                touch = ev['targetTouches'][0];\r\n\r\n            this.trackingClick = true;\r\n            this.trackingClickStart = ev.timeStamp;\r\n            this.targetElement = targetElement;\r\n\r\n            this.touchStartX = touch.pageX;\r\n            this.touchStartY = touch.pageY;\r\n\r\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                //  event.preventDefault();\r\n            }*/\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchMove(event) {\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // If the touch has moved, cancel the click tracking\r\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\r\n                this.trackingClick = false;\r\n                this.targetElement = null;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchEnd(event) {\r\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\r\n\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // Prevent phantom clicks on fast double-tap \r\n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                this.cancelNextClick = true;\r\n                return true;\r\n            }\r\n\r\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\r\n                return true;\r\n            }\r\n\r\n            // Reset to prevent wrong click cancel on input \r\n            this.cancelNextClick = false;\r\n\r\n            this.lastClickTime = event.timeStamp;\r\n\r\n            newTrackingClickStart = this.trackingClickStart;\r\n            this.trackingClick = false;\r\n            this.trackingClickStart = 0;\r\n\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n\r\n            return false;\r\n        }\r\n\r\n        private onTouchCancel(event) {\r\n            this.trackingClick = false;\r\n            this.targetElement = null;\r\n        }\r\n\r\n        private onKeyDown(event) {\r\n            var keyCode = event.which || event.keyCode;\r\n\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                if (this.enterSpaceGetter) {\r\n                    this.enterSpaceGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            index: this.selectedIndex,\r\n                            item: this.$element.find('.selected')\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                // Get next selectable control index\r\n                const items = this.$element.find(this.className + this.modifier),\r\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    newSelectedIndex = this.selectedIndex + inc;\r\n\r\n                // Set next control as selected\r\n                this.selectItem({\r\n                    itemIndex: newSelectedIndex,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusIn(event) {\r\n            // Choose selected element\r\n            let items,\r\n                selectedItem = this.$element.find(this.className + '.selected');\r\n\r\n            selectedItem.addClass('md-focused');\r\n\r\n            // If there are not selected elements then pick the first one\r\n            if (selectedItem.length === 0) {\r\n                this.selectedIndex = this.indexGetter(this.$scope);\r\n                items = this.$element.find(this.className + this.modifier);\r\n                this.selectItem({\r\n                    itemIndex: this.selectedIndex || 0,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusOut(event) {\r\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\r\n        }\r\n    }\r\n\r\n    const Selected = function (\r\n        $parse: ng.IParseService,\r\n        $mdConstant: any,\r\n        $timeout: ng.ITimeoutService\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: SelectedAttributes\r\n            ) {\r\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipSelected\", [])\r\n        .directive('pipSelected', Selected);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\n\r\nexport class ShortcutItem {\r\n    // Shortcut combination\r\n    public shortcut: string;\r\n    // Target object \r\n    public target?: any;\r\n    // Target element by Id\r\n    public targetId?: string;\r\n    // Target element by class (firstelement??)\r\n    // Public targetClass?: string;\r\n    // Access function\r\n    public access?: (event: JQueryEventObject) => boolean;\r\n    // Window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public keypress?: (event: JQueryEventObject) => void;\r\n    // Default options\r\n    public options?: ShortcutOptions;    \r\n}\r\n\r\n// export class ShortcutItem extends SimpleShortcutItem {\r\n//     public shortcuts: SimpleShortcutItem[];\r\n// }\r\n\r\nexport class ShortcutsConfig {\r\n    // Global shortcut \r\n    public globalShortcuts: ShortcutItem[] = [];\r\n    // Local shortcut \r\n    public localShortcuts: ShortcutItem[] = [];\r\n    // Default options\r\n    public defaultOptions: ShortcutOptions = null;\r\n}\r\n\r\nexport interface IShortcutsService {\r\n    readonly config: ShortcutsConfig;\r\n\r\n    globalShortcuts: ShortcutItem[];\r\n    localShortcuts: ShortcutItem[];\r\n}\r\n\r\nexport interface IShortcutsProvider extends ng.IServiceProvider {\r\n    config: ShortcutsConfig;\r\n    \r\n    globalShortcuts: ShortcutItem[];\r\n    defaultOptions: ShortcutOptions;\r\n}\r\n","export class KeyboardEvent {\r\n    static Keydown: string = 'keydown';\r\n    static Keyup: string = 'keyup';\r\n    static Keypress: string = 'keypress';\r\n}\r\n\r\nexport class ShortcutOptions {\r\n    Type: KeyboardEvent;\r\n    Propagate: boolean;\r\n    DisableInInput: boolean;\r\n    Target: any; // Event target object\r\n    Keycode: number;\r\n}\r\n\r\nexport class Shortcut {\r\n    private shift_nums = {\r\n        \"`\": \"~\",\r\n        \"1\": \"!\",\r\n        \"2\": \"@\",\r\n        \"3\": \"#\",\r\n        \"4\": \"$\",\r\n        \"5\": \"%\",\r\n        \"6\": \"^\",\r\n        \"7\": \"&\",\r\n        \"8\": \"*\",\r\n        \"9\": \"(\",\r\n        \"0\": \")\",\r\n        \"-\": \"_\",\r\n        \"=\": \"+\",\r\n        \";\": \":\",\r\n        \"'\": \"\\\"\",\r\n        \",\": \"<\",\r\n        \".\": \">\",\r\n        \"/\": \"?\",\r\n        \"\\\\\": \"|\"\r\n    };\r\n\r\n    private special_keys = {\r\n        'esc': 27,\r\n        'escape': 27,\r\n        'tab': 9,\r\n        'space': 32,\r\n        'return': 13,\r\n        'enter': 13,\r\n        'backspace': 8,\r\n\r\n        'scrolllock': 145,\r\n        'scroll_lock': 145,\r\n        'scroll': 145,\r\n        'capslock': 20,\r\n        'caps_lock': 20,\r\n        'caps': 20,\r\n        'numlock': 144,\r\n        'num_lock': 144,\r\n        'num': 144,\r\n\r\n        'pause': 19,\r\n        'break': 19,\r\n\r\n        'insert': 45,\r\n        'home': 36,\r\n        'delete': 46,\r\n        'end': 35,\r\n\r\n        'pageup': 33,\r\n        'page_up': 33,\r\n        'pu': 33,\r\n\r\n        'pagedown': 34,\r\n        'page_down': 34,\r\n        'pd': 34,\r\n\r\n        'left': 37,\r\n        'up': 38,\r\n        'right': 39,\r\n        'down': 40,\r\n\r\n        'f1': 112,\r\n        'f2': 113,\r\n        'f3': 114,\r\n        'f4': 115,\r\n        'f5': 116,\r\n        'f6': 117,\r\n        'f7': 118,\r\n        'f8': 119,\r\n        'f9': 120,\r\n        'f10': 121,\r\n        'f11': 122,\r\n        'f12': 123\r\n    };\r\n\r\n    private modifiers = {\r\n        shift: { wanted: false, pressed: false },\r\n        ctrl: { wanted: false, pressed: false },\r\n        alt: { wanted: false, pressed: false },\r\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\r\n    };\r\n\r\n    public eventCallback: Function;\r\n    public target: any;\r\n    public event: KeyboardEvent;\r\n    public option: ShortcutOptions;\r\n    public shorcut: string;\r\n    public callback: Function;\r\n\r\n    public constructor(\r\n        element: any,\r\n        shorcutCombination: string,\r\n        option: ShortcutOptions,\r\n        callback: (e?: JQueryEventObject) => void\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.target = element;\r\n        this.shorcut = shorcutCombination;\r\n        this.event = option.Type;\r\n        this.option = option;\r\n        this.callback = callback;\r\n\r\n        this.eventCallback = (event: JQueryEventObject) => {\r\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\r\n            let code: number;\r\n\r\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\r\n                let element;\r\n                if (e.target) {\r\n                    element = e.target;\r\n                } else if (e.srcElement) {\r\n                    element = e.srcElement;\r\n                }\r\n\r\n                if (element.nodeType == 3) {\r\n                    element = element.parentNode;\r\n                }\r\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\r\n            }\r\n            // Find Which key is pressed\r\n            if (e.keyCode) {\r\n                code = e.keyCode;\r\n            } else if (e.which) {\r\n                code = e.which;\r\n            }\r\n\r\n            let character = String.fromCharCode(code).toLowerCase();\r\n\r\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\r\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\r\n\r\n            let keys: string[] = this.shorcut.split(\"+\");\r\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\r\n            let kp: number = 0;\r\n\r\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\r\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\r\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\r\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\r\n\r\n            let i: number = 0;\r\n            for (i = 0; i < keys.length; i++) {\r\n                let k: string = keys[i];\r\n                // Modifiers\r\n                if (k == 'ctrl' || k == 'control') {\r\n                    kp++;\r\n                    this.modifiers.ctrl.wanted = true;\r\n                } else if (k == 'shift') {\r\n                    kp++;\r\n                    this.modifiers.shift.wanted = true;\r\n                } else if (k == 'alt') {\r\n                    kp++;\r\n                    this.modifiers.alt.wanted = true;\r\n                } else if (k == 'meta') {\r\n                    kp++;\r\n                    this.modifiers.meta.wanted = true;\r\n                } else if (k.length > 1) { // If it is a special key\r\n                    if (this.special_keys[k] == code) {\r\n                        kp++;\r\n                    }\r\n                } else if (this.option.Keycode) {\r\n                    if (this.option.Keycode == code) kp++;\r\n                } else { // The special keys did not match\r\n                    if (character == k) kp++;\r\n                    else {\r\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\r\n                            character = this.shift_nums[character];\r\n                            if (character == k) {\r\n                                kp++;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (kp == keys.length &&\r\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\r\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\r\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\r\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\r\n\r\n                this.callback(e);\r\n\r\n                if (!this.option.Propagate) { // Stop the event\r\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    // e.stopPropagation works in Firefox.\r\n                    if (e.stopPropagation) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n            }\r\n            this.modifiers.ctrl.pressed = false;\r\n            this.modifiers.shift.pressed = false;\r\n            this.modifiers.alt.pressed = false;\r\n            this.modifiers.meta.pressed = false;\r\n        };\r\n    }\r\n}\r\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\r\n\r\n{\r\n    class ShortcutBindingService implements IShortcutBindingService {\r\n        private _log: ng.ILogService;\r\n        private _defaultOption: ShortcutOptions;\r\n        private _shortcuts: IKeyboardShortcuts = {};\r\n\r\n        public constructor(\r\n            $log: ng.ILogService,\r\n            option: ShortcutOptions\r\n        ) {\r\n            \"ngInject\";\r\n            this._log = $log;\r\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\r\n        }\r\n\r\n        private getDefaultOption(): ShortcutOptions {\r\n            let defaultOption: ShortcutOptions = {\r\n                Type: KeyboardEvent.Keydown,\r\n                Propagate: false,\r\n                DisableInInput: false,\r\n                Target: document,\r\n                Keycode: null\r\n            };\r\n\r\n            return defaultOption;\r\n        }\r\n\r\n        public get shortcuts(): IKeyboardShortcuts {\r\n            return this._shortcuts;\r\n        }\r\n\r\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\r\n            this.remove(shortcut);\r\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\r\n            let shortcutCombination: string = shortcut.toLowerCase();\r\n            let element = shortcutOption.Target;\r\n\r\n            if (typeof shortcutOption.Target == 'string') {\r\n                element = document.getElementById(shortcutOption.Target);\r\n            } else {\r\n                element = shortcutOption.Target;\r\n            }\r\n\r\n            if (!element) {\r\n                this._log.error('Register shortcut: element undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!shortcutCombination) {\r\n                this._log.error('Register shortcut: shortcut combination undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!callback) {\r\n                this._log.error('Register shortcut: shorcut callback undentified!');\r\n                return;\r\n            }\r\n\r\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\r\n\r\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\r\n\r\n            //Attach the function with the event\r\n            if (element.addEventListener) {\r\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\r\n            } else if (element.attachEvent) {\r\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            } else {\r\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            }\r\n        }\r\n\r\n        public remove(shorcut: string): void {\r\n            let shortcutCombination = shorcut.toLowerCase();\r\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\r\n\r\n            delete(this._shortcuts[shortcutCombination])\r\n            if (!binding) return;\r\n\r\n            let type = binding.event;\r\n            let element = binding.target;\r\n            let callback = binding.eventCallback;\r\n\r\n            if (element.detachEvent) {\r\n                element.detachEvent('on' + type, callback);\r\n            } else if (element.removeEventListener) {\r\n                element.removeEventListener(type, callback, false);\r\n            } else {\r\n                // element['on' + type] = false;\r\n                element.off(type, callback);\r\n            }\r\n        }\r\n    }\r\n\r\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\r\n        private _service: ShortcutBindingService;\r\n        private _option: ShortcutOptions;\r\n\r\n        public get option(): ShortcutOptions {\r\n            return this._option;\r\n        }\r\n\r\n        public set option(value: ShortcutOptions) {\r\n            this._option = value || new ShortcutOptions();\r\n        }\r\n\r\n        public $get(\r\n            $log: ng.ILogService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new ShortcutBindingService($log, this._option);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\r\n\r\ninterface ShortcutAttributes extends ng.IAttributes {\r\n    pipShortcutAction: any;\r\n    pipShortcutName: any;\r\n    pipShorcutOptions: ShortcutOptions;\r\n}\r\n\r\nclass ShortcutController implements ng.IController  {\r\n    private actionShortcuts: Function;\r\n    private nameShortcuts: string;\r\n    private options: ShortcutOptions;\r\n\r\n    constructor(\r\n        $element: JQuery,\r\n        $attrs: ShortcutAttributes,\r\n        $scope: ng.IScope,\r\n        $log: ng.ILogService,\r\n        $parse: ng.IParseService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if ($attrs.pipShortcutAction) {\r\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\r\n            this.actionShortcuts($scope, {$event: {}});\r\n        } else {\r\n            $log.error('Shortcut action does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\r\n            this.nameShortcuts = $attrs.pipShortcutName;\r\n        } else {\r\n            $log.error('Shortcut name does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\r\n        this.options.Target = $element;\r\n        \r\n        // Registration of keybord shortcuts\r\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\r\n            this.actionShortcuts($scope, {$event: {'e': e}});          \r\n        }, this.options);\r\n    }\r\n\r\n    private keypressShortcut(action) {\r\n        this.actionShortcuts();\r\n    }\r\n}\r\n\r\n// Prevent junk from going into typescript definitions\r\n{\r\n    const shortcutsDirective = function(): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,            \r\n            controller: ShortcutController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .directive('pipShortcut', shortcutsDirective);\r\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\r\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\r\n\r\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\r\n\r\nclass ShortcutsService implements IShortcutsService {\r\n    private _oldConfig: ShortcutsConfig;\r\n    private _config: ShortcutsConfig;\r\n\r\n    public constructor(\r\n        config: ShortcutsConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService, \r\n        private $location: ng.ILocationService, \r\n        private $injector: ng.auto.IInjectorService,\r\n        private pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        this._config = config;\r\n        this._oldConfig = _.cloneDeep(this._config);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this._config.globalShortcuts);\r\n        this.addShortcuts(this._config.localShortcuts);        \r\n    }\r\n\r\n    // Describe private functions\r\n    private sendChangeEvent() {\r\n        // Remove shortcuts\r\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\r\n        this.removeShortcuts(this._oldConfig.localShortcuts);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this.config.globalShortcuts);\r\n        this.addShortcuts(this.config.localShortcuts);\r\n\r\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\r\n\r\n        // Save current config to oldConfig\r\n        this._oldConfig = _.cloneDeep(this.config);\r\n    }\r\n\r\n    private removeShortcuts(collection: ShortcutItem[]): void {\r\n        _.each(collection, (k) => {\r\n            this.pipShortcutBinding.remove(k.shortcut);\r\n        });\r\n    }\r\n\r\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\r\n        if (item.access && _.isFunction(item.access)) {\r\n            if (!item.access(event)) {\r\n                return;\r\n            }\r\n        } \r\n\r\n        if (item.keypress) {\r\n            item.keypress(event);\r\n            return;\r\n        }\r\n\r\n        if (item.href) {\r\n            this.$window.location.href = item.href;\r\n            return;\r\n        }\r\n\r\n        if (item.url) {\r\n            this.$location.url(item.url);\r\n            return;\r\n        }\r\n\r\n        if (item.state) {\r\n            if (this.$injector.has('$state')) {\r\n                var $state = this.$injector.get('$state');\r\n                $state['go'](item.state, item.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (item.event) {\r\n            this.$rootScope.$broadcast(item.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\r\n        }\r\n    }\r\n\r\n    private addShortcuts(collection: ShortcutItem[]): void {\r\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\r\n        \r\n        _.each(collection, (k) => {\r\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\r\n            let target: any;\r\n\r\n            target = k.target ? k.target : k.targetId;\r\n            option.Target = target;\r\n            // Registration of keyboard shortcut\r\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\r\n                this.keypressShortcut(k, e);        \r\n            }, option);              \r\n        });\r\n    }\r\n\r\n    // Describe public functions \r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get localShortcuts(): ShortcutItem[] {\r\n        return this._config.localShortcuts;\r\n    }\r\n\r\n    public set localShortcuts(value: ShortcutItem[]) {\r\n        this._config.localShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n}\r\n\r\nclass ShortcutsProvider implements IShortcutsProvider {\r\n    private _config: ShortcutsConfig = new ShortcutsConfig();\r\n    private _service: ShortcutsService;\r\n\r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ShortcutsConfig) {\r\n        this._config = value || new ShortcutsConfig();\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService, \r\n        $window: ng.IWindowService, \r\n        $location: ng.ILocationService, \r\n        $injector: ng.auto.IInjectorService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipShortcuts')\r\n    .provider('pipShortcuts', ShortcutsProvider);\r\n\r\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\r\n\r\nimport './ShortcutBindingService';\r\nimport './ShortcutsService';\r\nimport './ShortcutDirective';\r\n\r\nexport * from './IShortcutsService';\r\nexport * from './IShortcutBindingService';\r\nexport * from './ShortcutsService';\r\nexport * from './ShortcutBindingService';","{\r\n    interface UnsavedChangesScope extends ng.IScope {\r\n        unsavedChangesAvailable: Function;\r\n        unsavedChangesMessage: string;\r\n        cancelLeave: Function;\r\n        afterLeave: Function;\r\n    }\r\n\r\n    class UnsavedChangesLink {\r\n        constructor(\r\n            $scope: UnsavedChangesScope,\r\n            $window: ng.IWindowService\r\n        ) {\r\n            $window.onbeforeunload = () => {\r\n                if ($scope.unsavedChangesAvailable()) {\r\n                    return $scope.unsavedChangesMessage;\r\n                }\r\n            };\r\n\r\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\r\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\r\n                    event.preventDefault();\r\n                } else {\r\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                }\r\n            });\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $window.onbeforeunload = null;\r\n                unbindFunc();\r\n            });\r\n        }\r\n    }\r\n\r\n    const UnsavedChanges = function ($window: ng.IWindowService) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave',\r\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\r\n            },\r\n            link: function ($scope: UnsavedChangesScope) {\r\n                new UnsavedChangesLink($scope, $window);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module(\"pipUnsavedChanges\", [])\r\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\r\n}","{\r\n    interface IColorPickerBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        colors: any;\r\n        currentColor: any;\r\n        colorChange: any;\r\n    }\r\n\r\n    interface IColorPickerAttributes extends ng.IAttributes {\r\n        class: string;\r\n    }\r\n\r\n    const ColorPickerBindings: IColorPickerBindings = {\r\n        ngDisabled: '<?ngDisabled',\r\n        colors: '<pipColors',\r\n        currentColor: '=ngModel',\r\n        colorChange: '&?ngChange'\r\n    }\r\n\r\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\r\n        currentColor: any;\r\n\r\n        ngDisabled: ng.IChangesObject < boolean > ;\r\n        colors: ng.IChangesObject < string[] > ;\r\n    }\r\n\r\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n    class ColorPickerController implements IColorPickerBindings {\r\n        public class: string;\r\n        public colors: string[];\r\n        public currentColor: string;\r\n        public currentColorIndex: number;\r\n        public ngDisabled: boolean;\r\n        public colorChange: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            $attrs: IColorPickerAttributes,\r\n            private $timeout: ng.ITimeoutService\r\n        ) { \r\n            this.class = $attrs.class || ''; \r\n        }\r\n\r\n        public $onChanges(changes: ColorPickerChanges) {\r\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\r\n                changes.colors.currentValue : DEFAULT_COLORS;\r\n            this.currentColor = this.currentColor || this.colors[0];\r\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\r\n\r\n            this.ngDisabled = changes.ngDisabled.currentValue;\r\n        }\r\n\r\n        public selectColor(index: number) {\r\n            if (this.ngDisabled) {\r\n                return;\r\n            }\r\n            this.currentColorIndex = index;\r\n            this.currentColor = this.colors[this.currentColorIndex];\r\n            this.$timeout(() => {\r\n                this.$scope.$apply();\r\n            });\r\n\r\n            if (this.colorChange) {\r\n                this.colorChange();\r\n            }\r\n        };\r\n\r\n        public enterSpacePress(event): void {\r\n            this.selectColor(event.index);\r\n        };\r\n\r\n    }\r\n\r\n    const pipColorPicker: ng.IComponentOptions = {\r\n        bindings: ColorPickerBindings,\r\n        templateUrl: 'color_picker/ColorPicker.html',\r\n        controller: ColorPickerController\r\n    }\r\n\r\n    angular\r\n        .module('pipColorPicker', ['pipControls.Templates'])\r\n        .component('pipColorPicker', pipColorPicker);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class pipImageSliderController implements ng.IController {\r\n        private _blocks: any[];\r\n        private _index: number = 0;\r\n        private _newIndex: number;\r\n        private _direction: string;\r\n        private _type: string;\r\n        private DEFAULT_INTERVAL:number = 4500;\r\n        private _interval: number | string;\r\n        private _timePromises;\r\n        private _throttled: Function;\r\n\r\n        public swipeStart: number = 0;\r\n        public sliderIndex: number;\r\n        public slideTo: Function;\r\n        public type: Function;\r\n        public interval: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs,\r\n            private $parse: ng.IParseService,\r\n            private $timeout: angular.ITimeoutService,\r\n            private $interval: angular.IIntervalService,\r\n            private pipImageSlider: IImageSliderService\r\n        ) {\r\n\r\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\r\n            this._type = this.type();\r\n            this._interval = this.interval();\r\n            this.slideTo = this.slideToPrivate;\r\n\r\n            $element.addClass('pip-image-slider');\r\n            $element.addClass('pip-animation-' + this._type);\r\n\r\n            this.setIndex();\r\n\r\n            $timeout(() => {\r\n                this._blocks = <any>$element.find('.pip-animation-block');\r\n                if (this._blocks.length > 0) {\r\n                    $(this._blocks[0]).addClass('pip-show');\r\n                }\r\n            });\r\n\r\n            this.startInterval();\r\n\r\n            this._throttled = _.throttle(() => {\r\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\r\n                this._index = this._newIndex;\r\n                this.setIndex();\r\n            }, 700);\r\n\r\n            if ($attrs.id) {\r\n                pipImageSlider.registerSlider($attrs.id, $scope)\r\n            }\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.stopInterval();\r\n                pipImageSlider.removeSlider($attrs.id);\r\n            });\r\n\r\n        }\r\n\r\n        public nextBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n            this._direction = 'next';\r\n            this._throttled();\r\n        }\r\n\r\n        public prevBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\r\n            this._direction = 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private slideToPrivate(nextIndex: number) {\r\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\r\n                return;\r\n            }\r\n\r\n            this.restartInterval();\r\n            this._newIndex = nextIndex;\r\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private setIndex() {\r\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\r\n        }\r\n\r\n        private startInterval() {\r\n            this._timePromises = this.$interval(() => {\r\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n                this._direction = 'next';\r\n                this._throttled();\r\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\r\n        }\r\n\r\n        private stopInterval() {\r\n            this.$interval.cancel(this._timePromises);\r\n        }\r\n\r\n        private restartInterval() {\r\n            this.stopInterval();\r\n            this.startInterval();\r\n        }\r\n    }\r\n\r\n    const ImageSlider = function(): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                sliderIndex: '=pipImageIndex',\r\n                type: '&pipAnimationType',\r\n                interval: '&pipAnimationInterval'\r\n            },\r\n            bindToController: true,\r\n            controller: pipImageSliderController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular.module('pipImageSlider')\r\n        .directive('pipImageSlider', ImageSlider);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class ImageSliderService implements IImageSliderService {\r\n        private ANIMATION_DURATION: number = 550;\r\n        private _sliders: Object = {};\r\n\r\n        constructor(\r\n            private $timeout: angular.ITimeoutService\r\n        ) {}\r\n\r\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\r\n            this._sliders[sliderId] = sliderScope;\r\n        }\r\n\r\n        public removeSlider(sliderId: string): void {\r\n            delete this._sliders[sliderId];\r\n        }\r\n\r\n        public getSliderScope(sliderId: string) {\r\n            return this._sliders[sliderId];\r\n        }\r\n\r\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            nextBlock.addClass('pip-next');\r\n\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\r\n            const prevBlock = $(blocks[oldIndex]),\r\n                blockIndex = nextIndex,\r\n                nextBlock = $(blocks[blockIndex]);\r\n\r\n            if (type === 'carousel') {\r\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                if (direction && (direction === 'prev' || direction === 'next')) {\r\n                    if (direction === 'prev') {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                } else {\r\n                    if (nextIndex && nextIndex < oldIndex) {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                }\r\n            } else {\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipImageSlider.Service', [])\r\n        .service('pipImageSlider', ImageSliderService);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderButtonController implements ng.IController {\r\n        public direction: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || !this.direction()) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderButton = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                direction: '&pipButtonType',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderButtonController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderButton', [])\r\n        .directive('pipSliderButton', SliderButton);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderIndicatorController implements ng.IController {\r\n        public slideTo: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.css('cursor', 'pointer');\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || this.slideTo() === undefined) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderIndicator = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                slideTo: '&pipSlideTo',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderIndicatorController\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderIndicator', [])\r\n        .directive('pipSliderIndicator', SliderIndicator);\r\n}","angular\r\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\nimport './ImageSlider';\r\nimport './ImageSliderService';\r\nimport './SliderButton';\r\nimport './SliderIndicator';\r\n\r\nexport * from './IImageSliderService';","declare var marked: any;\r\n\r\n{\r\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\r\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            (<any>pipTranslate).setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            (<any>pipTranslate).setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\r\n                'checklist': 'Список',\r\n                'documents': 'Документы',\r\n                'pictures': 'Изображения',\r\n                'location': 'Местонахождение',\r\n                'time': 'Время'\r\n            });\r\n        }\r\n    }\r\n\r\n    interface IMarkdownBindings {\r\n        [key: string]: any;\r\n\r\n        text: any;\r\n        isList: any;\r\n        clamp: any;\r\n        rebind: any;\r\n    }\r\n\r\n    const MarkdownBindings: IMarkdownBindings = {\r\n        text: '<pipText',\r\n        isList: '<?pipList',\r\n        clamp: '<?pipLineCount',\r\n        rebind: '<?pipRebind'\r\n    }\r\n\r\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        text: ng.IChangesObject < string > ;\r\n        isList: ng.IChangesObject < boolean > ;\r\n        clamp: ng.IChangesObject < number | string > ;\r\n        rebind: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class MarkdownController implements IMarkdownBindings, ng.IController {\r\n        private _pipTranslate;\r\n\r\n        public text: string;\r\n        public isList: boolean;\r\n        public clamp: string | number;\r\n        public rebind: boolean;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $element: JQuery,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        }\r\n\r\n        public $postLink() {\r\n            // Fill the text\r\n            this.bindText(this.text);\r\n\r\n            this.$scope.$on('pipWindowResized', function () {\r\n                if (this.bindText) this.bindText(this._text(this._$scope));\r\n            });\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-markdown');\r\n\r\n        }\r\n\r\n        public $onChanges(changes: MarkdownChanges) {\r\n            const newText = changes.text.currentValue;\r\n\r\n            if (this.rebind) {\r\n                this.text = newText;\r\n                this.bindText(this.text);\r\n            }\r\n        }\r\n\r\n        private describeAttachments(array) {\r\n            var attachString = '',\r\n                attachTypes = [];\r\n\r\n            _.each(array, function (attach) {\r\n                if (attach.type && attach.type !== 'text') {\r\n                    if (attachString.length === 0 && this._pipTranslate) {\r\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                    }\r\n\r\n                    if (attachTypes.indexOf(attach.type) < 0) {\r\n                        attachTypes.push(attach.type);\r\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                        if (this._pipTranslate)\r\n                            attachString += this._pipTranslate.translate(attach.type);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return attachString;\r\n        }\r\n\r\n        private bindText(value) {\r\n            let textString, isClamped, height, options, obj;\r\n\r\n            if (_.isArray(value)) {\r\n                obj = _.find(value, function (item: any) {\r\n                    return item.type === 'text' && item.text;\r\n                });\r\n\r\n                textString = obj ? obj.text : this.describeAttachments(value);\r\n            } else {\r\n                textString = value;\r\n            }\r\n\r\n            isClamped = this.clamp && _.isNumber(this.clamp);\r\n            isClamped = isClamped && textString && textString.length > 0;\r\n            options = {\r\n                gfm: true,\r\n                tables: true,\r\n                breaks: true,\r\n                sanitize: true,\r\n                pedantic: true,\r\n                smartLists: true,\r\n                smartypents: false\r\n            };\r\n            textString = marked(textString || '', options);\r\n            if (isClamped) {\r\n                height = 1.5 * Number(this.clamp);\r\n            }\r\n            // Assign value as HTML\r\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\r\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\r\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\r\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n            this.$element.find('a').attr('target', 'blank');\r\n            if (!this.isList && isClamped) {\r\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\r\n            }\r\n        }\r\n    }\r\n    const MarkdownComponent = {\r\n        controller: MarkdownController,\r\n        bindings: MarkdownBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipMarkdown', ['ngSanitize'])\r\n        .run(ConfigTranslations)\r\n        .component('pipMarkdown', MarkdownComponent);\r\n}","{\r\n    interface IPopoverBindings {\r\n        [key: string]: any;\r\n\r\n        params: any;\r\n    }\r\n\r\n    const PopoverBindings: IPopoverBindings = {\r\n        params: '<pipParams'\r\n    }\r\n\r\n    class PopoverController implements IPopoverBindings, ng.IController {\r\n        private backdropElement;\r\n        private content;\r\n        public params: any;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $compile: ng.ICompileService,\r\n            private $templateRequest: ng.ITemplateRequestService\r\n        ) {\r\n            this.backdropElement = $('.pip-popover-backdrop');\r\n            this.backdropElement.on('click keydown scroll', () => {\r\n                this.backdropClick();\r\n            });\r\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n            $timeout(() => {\r\n                this.position();\r\n                angular.extend($scope, this.params.locals);\r\n\r\n                if (this.params.template) {\r\n                    this.content = $compile(this.params.template)($scope);\r\n                    $element.find('.pip-popover').append(this.content);\r\n\r\n                    this.init();\r\n                } else {\r\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\r\n                        this.content = $compile(html)($scope);\r\n                        $element.find('.pip-popover').append(this.content);\r\n\r\n                        this.init();\r\n                    });\r\n                }\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.calcHeight();\r\n            }, 200);\r\n            $rootScope.$on('pipPopoverResize', () => {\r\n                this.onResize()\r\n            });\r\n            $(window).resize(() => {\r\n                this.onResize()\r\n            });\r\n        }\r\n\r\n        public backdropClick() {\r\n            if (this.params.cancelCallback) {\r\n                this.params.cancelCallback();\r\n            }\r\n            this.closePopover();\r\n        }\r\n\r\n        public closePopover() {\r\n            this.backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                this.backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public onPopoverClick(event) {\r\n            event.stopPropagation();\r\n        }\r\n\r\n        private init() {\r\n            this.backdropElement.addClass('opened');\r\n            $('.pip-popover-backdrop').focus();\r\n            if (this.params.timeout) {\r\n                this.$timeout(function () {\r\n                    this.closePopover();\r\n                }, this.params.timeout);\r\n            }\r\n        }\r\n\r\n        private position() {\r\n            if (this.params.element) {\r\n                let element = $(this.params.element),\r\n                    pos = element.offset(),\r\n                    width = element.width(),\r\n                    height = element.height(),\r\n                    docWidth = $(document).width(),\r\n                    docHeight = $(document).height(),\r\n                    popover = this.backdropElement.find('.pip-popover');\r\n\r\n                if (pos) {\r\n                    popover\r\n                        .css('max-width', docWidth - (docWidth - pos.left))\r\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                        .css('left', pos.left - popover.width() + width / 2)\r\n                        .css('top', pos.top + height + 16);\r\n                }\r\n            }\r\n        }\r\n\r\n        private onResize() {\r\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n            this.position();\r\n            this.calcHeight();\r\n        }\r\n\r\n        private calcHeight() {\r\n            if (this.params.calcHeight === false) {\r\n                return;\r\n            }\r\n            const popover = this.backdropElement.find('.pip-popover'),\r\n                title = popover.find('.pip-title'),\r\n                footer = popover.find('.pip-footer'),\r\n                content = popover.find('.pip-content'),\r\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n        }\r\n    }\r\n\r\n    const Popover: ng.IComponentOptions = {\r\n        bindings: PopoverBindings,\r\n        templateUrl: 'popover/Popover.html',\r\n        controller: PopoverController\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover')\r\n        .component('pipPopover', Popover);\r\n}","import { IPopoverService } from './IPopoverService';\r\n\r\n{\r\n    interface PopoverTemplateScope extends ng.IScope {\r\n        params ? : any;\r\n        locals ? : any;\r\n    }\r\n\r\n    class PopoverService implements IPopoverService {\r\n        private popoverTemplate: string;\r\n\r\n        constructor(\r\n            private $compile: ng.ICompileService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService\r\n        ) {\r\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n        }\r\n\r\n        public show(p: Object) {\r\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\r\n\r\n            element = $('body');\r\n            if (element.find('md-backdrop').length > 0) {\r\n                return;\r\n            }\r\n            this.hide();\r\n            scope = this.$rootScope.$new();\r\n            params = p && _.isObject(p) ? p : {};\r\n            scope.params = params;\r\n            scope.locals = params.locals;\r\n            content = this.$compile(this.popoverTemplate)(scope);\r\n            element.append(content);\r\n        }\r\n\r\n        public hide() {\r\n            const backdropElement = $('.pip-popover-backdrop');\r\n            backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public resize() {\r\n            this.$rootScope.$broadcast('pipPopoverResize');\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover.Service', [])\r\n        .service('pipPopoverService', PopoverService);\r\n}","angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\nimport './Popover';\r\nimport './PopoverService';\r\n\r\nexport * from './IPopoverService';","{\r\n    interface IRoutingBindings {\r\n        [key: string]: any;\r\n\r\n        logoUrl: any;\r\n        showProgress: any;\r\n    }\r\n\r\n    const RoutingBindings: IRoutingBindings = {\r\n        showProgress: '&',\r\n        logoUrl: '@'\r\n    }\r\n\r\n    class RoutingController implements ng.IController, IRoutingBindings {\r\n        private _image: any;\r\n\r\n        public logoUrl: string;\r\n        public showProgress: Function;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            private $element: JQuery\r\n        ) { }\r\n\r\n        public $postLink() {\r\n            this._image = this.$element.find('img');\r\n            this.loadProgressImage();\r\n        }\r\n\r\n        public loadProgressImage() {\r\n            if (this.logoUrl) {\r\n                this._image.attr('src', this.logoUrl);\r\n            }\r\n        }\r\n    }\r\n\r\n    const RoutingProgress: ng.IComponentOptions = {\r\n        bindings: RoutingBindings,\r\n        templateUrl: 'progress/RoutingProgress.html',\r\n        controller: RoutingController\r\n    }\r\n\r\n    angular\r\n        .module('pipRoutingProgress', ['ngMaterial'])\r\n        .component('pipRoutingProgress', RoutingProgress);\r\n}","export class Toast {\r\n    type: string;\r\n    id: string;\r\n    error: any;\r\n    message: string;\r\n    actions: string[];\r\n    duration: number;\r\n    successCallback: Function;\r\n    cancelCallback: Function\r\n}\r\n","import { Toast } from './Toast';\r\nimport { IToastService } from './IToastService';\r\n\r\n{\r\n    class ToastController {\r\n        private _pipErrorDetailsDialog;\r\n\r\n        public message: string;\r\n        public actions: string[];\r\n        public actionLenght: number;\r\n        public showDetails: boolean;\r\n\r\n        constructor(\r\n            private $mdToast: angular.material.IToastService,\r\n            public toast: Toast,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\r\n                $injector.get('pipErrorDetailsDialog') : null;\r\n            this.message = toast.message;\r\n            this.actions = toast.actions;\r\n\r\n            if (toast.actions.length === 0) {\r\n                this.actionLenght = 0;\r\n            } else {\r\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\r\n            }\r\n\r\n            this.showDetails = this._pipErrorDetailsDialog != null;\r\n        }\r\n\r\n        public onDetails(): void {\r\n            this.$mdToast.hide();\r\n            if (this._pipErrorDetailsDialog) {\r\n                this._pipErrorDetailsDialog.show({\r\n                        error: this.toast.error,\r\n                        ok: 'Ok'\r\n                    },\r\n                    angular.noop,\r\n                    angular.noop\r\n                );\r\n            }\r\n        }\r\n\r\n        public onAction(action): void {\r\n            this.$mdToast.hide({\r\n                action: action,\r\n                id: this.toast.id,\r\n                message: this.message\r\n            });\r\n        }\r\n    }\r\n\r\n    class ToastService implements IToastService {\r\n        private SHOW_TIMEOUT: number = 20000;\r\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\r\n        private toasts: Toast[] = [];\r\n        private currentToast: any;\r\n        private sounds: any = {};\r\n\r\n        constructor(\r\n            $rootScope: ng.IRootScopeService,\r\n            private $mdToast: angular.material.IToastService\r\n        ) {\r\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\r\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\r\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\r\n        }\r\n\r\n        public showNextToast(): void {\r\n            let toast: Toast;\r\n\r\n            if (this.toasts.length > 0) {\r\n                toast = this.toasts[0];\r\n                this.toasts.splice(0, 1);\r\n                this.showToast(toast);\r\n            }\r\n        }\r\n\r\n        // Show toast\r\n        public showToast(toast: Toast): void {\r\n            this.currentToast = toast;\r\n\r\n            this.$mdToast.show({\r\n                    templateUrl: 'toast/Toast.html',\r\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: ToastController,\r\n                    controllerAs: 'vm',\r\n                    locals: {\r\n                        toast: this.currentToast,\r\n                        sounds: this.sounds\r\n                    }\r\n                })\r\n                .then(\r\n                    (action: string) => {\r\n                        this.showToastOkResult(action);\r\n                    },\r\n                    (action: string) => {\r\n                        this.showToastCancelResult(action);\r\n                    }\r\n                );\r\n        }\r\n\r\n        private showToastCancelResult(action: string): void {\r\n            if (this.currentToast.cancelCallback) {\r\n                this.currentToast.cancelCallback(action);\r\n            }\r\n            this.currentToast = null;\r\n            this.showNextToast();\r\n        }\r\n\r\n        private showToastOkResult(action: string): void {\r\n            if (this.currentToast.successCallback) {\r\n                this.currentToast.successCallback(action);\r\n            }\r\n            this.currentToast = null;\r\n            this.showNextToast();\r\n        }\r\n\r\n        public addToast(toast): void {\r\n            if (this.currentToast && toast.type !== 'error') {\r\n                this.toasts.push(toast);\r\n            } else {\r\n                this.showToast(toast);\r\n            }\r\n        }\r\n\r\n        public removeToasts(type: string): void {\r\n            const result: any[] = [];\r\n            _.each(this.toasts, (toast) => {\r\n                if (!toast.type || toast.type !== type) {\r\n                    result.push(toast);\r\n                }\r\n            });\r\n            this.toasts = _.cloneDeep(result);\r\n        }\r\n\r\n        public removeToastsById(id: string): void {\r\n            _.remove(this.toasts, {\r\n                id: id\r\n            });\r\n        }\r\n\r\n        public getToastById(id: string): Toast {\r\n            return _.find(this.toasts, {\r\n                id: id\r\n            });\r\n        }\r\n\r\n        public onStateChangeSuccess() {}\r\n\r\n        public onClearToasts(): void {\r\n            this.clearToasts(null);\r\n        }\r\n\r\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\r\n            this.addToast({\r\n                id: id || null,\r\n                type: 'notification',\r\n                message: message,\r\n                actions: actions || ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback,\r\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\r\n            });\r\n        }\r\n\r\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\r\n            this.addToast({\r\n                id: id || null,\r\n                type: 'message',\r\n                message: message,\r\n                actions: ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback\r\n            });\r\n        }\r\n\r\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\r\n            this.addToast({\r\n                id: id || null,\r\n                error: error,\r\n                type: 'error',\r\n                message: message || 'Unknown error.',\r\n                actions: ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback\r\n            });\r\n        }\r\n\r\n        public hideAllToasts(): void {\r\n            this.$mdToast.cancel();\r\n            this.toasts = [];\r\n        }\r\n\r\n        public clearToasts(type ? : string) {\r\n            if (type) {\r\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n                this.removeToasts(type);\r\n            } else {\r\n                this.$mdToast.cancel();\r\n                this.toasts = [];\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    angular\r\n        .module('pipToasts')\r\n        .service('pipToasts', ToastService);\r\n}","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\r\n\r\nimport './ToastService';\r\nimport './Toast';\r\n\r\nexport * from './IToastService';","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/colorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","{\r\n    interface ITagList {\r\n        tags: string[];\r\n        type: string;\r\n        typeLocal: string;\r\n    }\r\n\r\n    class TagListController implements ITagList {\r\n        public rebind: string;\r\n\r\n        public tags: string[];\r\n        public type: string;\r\n        public typeLocal: string;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService\r\n        ) {\r\n\r\n            // Set tags\r\n            $element.css('display', 'block');\r\n            $element.addClass('pip-tag-list');\r\n        }\r\n\r\n        private toBoolean(value: string): boolean {\r\n            if (_.isNull(value) || _.isUndefined(value)) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TagListChanges) {\r\n            if (this.rebind && changes.tags) {\r\n                this.tags = changes.tags.currentValue;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    interface ITagListBindings {\r\n        [key: string]: any;\r\n\r\n        tags: any,\r\n        type: any,\r\n        typeLocal: any,\r\n        rebuid: any\r\n    }\r\n\r\n    const TagListBindings: ITagListBindings = {\r\n        tags: '<pipTags',\r\n        type: '<pipType',\r\n        typeLocal: '<pipTypeLocal',\r\n        rebuid: '<pipRebind'\r\n    }\r\n\r\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        tags: ng.IChangesObject<string[]>;\r\n        type: ng.IChangesObject<string>;\r\n        typeLocal: ng.IChangesObject<string>;\r\n        rebuid: ng.IChangesObject<boolean>\r\n    }\r\n\r\n    const TagList = {\r\n        bindings: TagListBindings,\r\n        templateUrl: 'tag_list/TagList.html',\r\n        controller: TagListController\r\n    }\r\n\r\n    angular\r\n        .module('pipTagList', ['pipList.Translate'])\r\n        .component('pipTagList', TagList)\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","\r\n(() => {\r\n    interface IDateBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any,\r\n        disabled: any,\r\n        model: any,\r\n        ngChange: any\r\n    }\r\n\r\n    const DateBindings: IDateBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '<ngModel',\r\n        ngChange: '<'\r\n    }\r\n\r\n    class DateChanges implements ng.IOnChangesObject, IDateBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => boolean>;\r\n        model: ng.IChangesObject<Date>;\r\n        ngChange: ng.IChangesObject<(date: Date) => void>;\r\n    }\r\n\r\n\r\n    class DateController {\r\n        private value: any;\r\n        private localeDate: moment.MomentLanguageData = moment.localeData();\r\n        private momentMonths: any[];\r\n        private momentDays: any[];\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public timeMode: string;\r\n        public day: number;\r\n        public month: number;\r\n        public year: number;\r\n\r\n        public model: Date;\r\n        public ngChange: (date: Date) => void;\r\n\r\n        public days: number[];\r\n        public months: any[];\r\n        public years: number[];\r\n        public disabled: () => boolean;\r\n        public disableControls: boolean;\r\n\r\n        constructor(\r\n            $injector: angular.auto.IInjectorService,\r\n            $scope: ng.IScope) {\r\n            this.momentMonths = angular.isArray(this.localeDate['_months']) ? this.localeDate['_months'] : this.localeDate['_months'].format;\r\n            this.momentDays = angular.isArray(this.localeDate['_weekdays']) ? this.localeDate['_weekdays'] : this.localeDate['_weekdays'].format;\r\n            this.momentShortDays = this.localeDate['_weekdaysMin'];\r\n            this.momentFirstDayOfWeek = this.localeDate['_week'].dow;\r\n\r\n            let value = this.model ? _.isDate(this.model) ? this.model : new Date(this.model) : null;\r\n            this.day = value ? value.getDate() : null;\r\n            this.month = value ? value.getMonth() + 1 : null;\r\n            this.year = value ? value.getFullYear() : null;\r\n\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.years = this.yearList();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateChanges) {\r\n            if (changes.model && changes.model.currentValue) {\r\n                this.model = changes.model.currentValue;\r\n                this.getValue(this.model);\r\n            }\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number = 31, days: number[] = [];\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n            } else {\r\n                if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n            }\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList(): number[] {\r\n            let currentYear: number = new Date().getFullYear(),\r\n                startYear: number = this.timeMode === 'future' ? currentYear : currentYear - 100,\r\n                endYear: number = this.timeMode === 'past' ? currentYear : currentYear + 100,\r\n                years = [];\r\n\r\n            if (this.timeMode === 'past') {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            if (this.days.length !== days.length) {\r\n                if (this.day > days.length) {\r\n                    this.day = days.length;\r\n                }\r\n\r\n                this.days = days;\r\n            }\r\n        }\r\n\r\n        private getValue(v: any) {\r\n            let value: Date = v ? _.isDate(v) ? v : new Date(v) : null,\r\n                day: number = value ? value.getDate() : null,\r\n                month: number = value ? value.getMonth() + 1 : null,\r\n                year: number = value ? value.getFullYear() : null;\r\n\r\n            // Update day list if month and year were changed\r\n            if (this.month !== month && this.year !== year) {\r\n                this.days = this.dayList(this.month, this.year);\r\n            }\r\n\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n        }\r\n\r\n        public setValue() {\r\n            let value: Date;\r\n\r\n            if (this.day && this.month && this.year) {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                this.model = value;\r\n                this.ngChange(this.model);\r\n            }\r\n        }\r\n\r\n        public onMonthChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n    }\r\n\r\n    const DateComponent: ng.IComponentOptions = {\r\n        bindings: DateBindings,\r\n        templateUrl: 'date/Date.html',\r\n        controller: DateController\r\n    }\r\n\r\n    angular\r\n        .module('pipDate', ['pipDates.Templates'])\r\n        .component('pipDate', DateComponent)\r\n})();\r\n\r\n","import { DateTimeConfig, IDateConvertService, IDateConvertProvider } from './IDateConvertService';\r\n\r\n(() => {\r\n    class DateTimeConvert implements IDateConvertService {\r\n        private _config: DateTimeConfig;\r\n        protected _momentRanged: string[] = new Array('year', 'month', 'week', 'isoweek', 'day');\r\n        protected _defaultFormat: string = 'LL'\r\n\r\n        private isUndefinedOrNull(value: any): boolean {\r\n            return angular.isUndefined(value) || value === null;\r\n        }\r\n\r\n        private getRange(value: string): string {\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return 'day';\r\n            }\r\n\r\n            let index = this._momentRanged.indexOf(value)\r\n\r\n            if (index < 0) {\r\n                return 'day'\r\n            }\r\n            return this._momentRanged[index];\r\n        }\r\n\r\n        private getOperationRange(value: string): string {\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return 'day';\r\n            }\r\n\r\n            let range = value == 'isoweek' ? 'week' : value,\r\n                index = this._momentRanged.indexOf(range)\r\n\r\n            if (index < 0) {\r\n                return 'day'\r\n            }\r\n            return this._momentRanged[index];\r\n\r\n        }\r\n\r\n        private formatDateTime(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                formatTpl: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            return date.format(formatTpl);\r\n        }\r\n\r\n        private formatDateTimeY(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                formatMoment: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            nowDate = moment();\r\n            formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n            if (nowDate.year() == date.year()) {\r\n                formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n            }\r\n\r\n            return date.format(formatMoment);\r\n        }\r\n\r\n        private formatDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\r\n                formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return date.format(formatMonthYearless);\r\n        }\r\n\r\n        private formatMonthDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                format = basicFormat ? basicFormat : this._defaultFormat,\r\n                formatLL = moment.localeData().longDateFormat(format),\r\n                formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return date.format(formatYearlessLL);\r\n        }\r\n\r\n        //  use timezone not testing\r\n        private formatRange(value1: any, value2: any, basicFormat: string): string {\r\n            let dateStart: moment.Moment,\r\n                dateEnd: moment.Moment,\r\n                format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            if (this.isUndefinedOrNull(value1)) {\r\n                dateStart = null;\r\n            } else {\r\n                dateStart = (this._config.timeZone != undefined && this._config.timeZone != null) ? moment(value1).utcOffset(this._config.timeZone) : moment(value1);\r\n            }\r\n            if (this.isUndefinedOrNull(value2)) {\r\n                dateEnd = null;\r\n            } else {\r\n                dateEnd = (this._config.timeZone != undefined && this._config.timeZone != null) ? moment(value2).utcOffset(this._config.timeZone) : moment(value2);\r\n            }\r\n\r\n            if (dateStart === null && dateEnd === null) return '';\r\n\r\n            if (dateStart === null) {\r\n                return dateEnd.format(basicFormat);\r\n            }\r\n            if (dateEnd === null || dateStart.isSame(dateEnd)) {\r\n                return dateStart.format(basicFormat);;\r\n            }\r\n\r\n            if (dateStart.isAfter(dateEnd)) {\r\n                // todo localization\r\n                throw new Error('Date range error. Start date is more than end date.');\r\n            }\r\n\r\n            if (dateStart.year() == dateEnd.year()) {\r\n                if (dateStart.month() == dateEnd.month()) {\r\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n                }\r\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n\r\n            }\r\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n\r\n        }\r\n\r\n        private toStartRange(value: any, range: string): Date {\r\n            let date: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                throw new Error('toStartRange - value is undefined or null');\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n            if (!date.isValid()) {\r\n                throw new Error('toStartRange - date is invalid');\r\n            }\r\n\r\n            return date.startOf(range).toDate();\r\n        }\r\n\r\n        private toEndRange(value: any, range: string, offset: number): any {\r\n            let date: any,\r\n                result: any,\r\n                mssOffset: number;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (!angular.isNumber(offset)) {\r\n                mssOffset = 0;\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            if (mssOffset) {\r\n                result = date.startOf(range).add(mssOffset, 'milliseconds');\r\n            } else {\r\n                result = date.startOf(range);\r\n            }\r\n\r\n            return date.startOf(range).toDate();\r\n        }\r\n\r\n        private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\r\n            let date: moment.Moment,\r\n                result: string,\r\n                nowDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            nowDate = moment();\r\n            if (firstTime) {\r\n                result = date.format(formatTime) + ' ' + date.format(formatDate);\r\n            } else {\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        private toTodayDate(value: any, formatDate: string, formatTime: string): any {\r\n            let date: moment.Moment,\r\n                result: string,\r\n                nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            nowDate = moment();\r\n\r\n            if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day()) {\r\n                result = date.format(formatTime);\r\n            } else {\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        public constructor(config: DateTimeConfig) {\r\n            this._config = config || { timeZone: null };\r\n        };\r\n\r\n        public get config(): DateTimeConfig {\r\n            return this._config;\r\n        }\r\n\r\n        public useTimeZone(offset: number) {\r\n            this._config.timeZone = offset;\r\n        }\r\n        \r\n      \r\n\r\n        public getDateJSON(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n\r\n        // navigation functions \r\n        // ------------------\r\n\r\n        public getNextStart(value: any, category: string): any {\r\n            let date: moment.Moment,\r\n                range: string,\r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(category);\r\n            result = moment(date).startOf(range).add(this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public getPrevStart(value: any, category: string): Date {\r\n            let date: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                throw new Error('getPrevStart - value is undefined or null');\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                throw new Error('getPrevStart - date is invalid');\r\n            }\r\n\r\n            range = this.getRange(category);\r\n            result = moment(date).startOf(range).add(-1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public getNowStart(category: string): Date {\r\n            let date: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            date = moment();\r\n            if (!date.isValid()) {\r\n                throw new Error('getNowStart - date is invalid');\r\n            }\r\n\r\n            range = this.getRange(category)\r\n            result = moment(date).startOf(range);\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public addHours(value: any, hours: number): Date {\r\n            let date: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value) || !angular.isNumber(hours)) {\r\n                throw new Error('addHours - value is undefined or null or hours is not a number');\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                throw new Error('addHours - date is invalid');\r\n            }\r\n\r\n            return date.add(hours, 'hours').toDate();\r\n        }\r\n\r\n        public toStartDay(value: any): Date {\r\n            return this.toStartRange(value, 'day');\r\n        }\r\n\r\n        public toEndDay(value: any, offset: number): Date {\r\n            return this.toEndRange(value, 'day', offset);\r\n        }\r\n\r\n        public toStartWeek(value: any): Date {\r\n            return this.toStartRange(value, 'week');\r\n        }\r\n\r\n        public toEndWeek(value: any, offset: number): Date {\r\n            return this.toEndRange(value, 'week', offset);\r\n        }\r\n\r\n        public toStartMonth(value: any): Date {\r\n            return this.toStartRange(value, 'month');\r\n        }\r\n\r\n        public toEndMonth(value: any, offset: number): Date {\r\n            return this.toEndRange(value, 'month', offset);\r\n        }\r\n\r\n        public toStartYear(value: any): Date {\r\n            return this.toStartRange(value, 'year');\r\n        }\r\n\r\n        public toEndYear(value: any, offset: number): Date {\r\n            return this.toEndRange(value, 'year', offset);\r\n        }\r\n\r\n    }\r\n\r\n    class DateTimeConvertService {\r\n        private _datetime: DateTimeConvert;\r\n        private _config: DateTimeConfig;\r\n\r\n        public constructor(\r\n            datetime: DateTimeConvert,\r\n        ) {\r\n            this._config = { timeZone: null };\r\n            this._datetime = datetime;\r\n        }\r\n\r\n        // todo Optional\r\n        public useTimeZone(offset: number): void {\r\n            return this._datetime.useTimeZone(offset);\r\n        }\r\n\r\n     \r\n\r\n        public getDateJSON(date: any): string {\r\n            return this._datetime.getDateJSON(date);\r\n        }\r\n\r\n        // navigation functions \r\n        // ------------------\r\n\r\n        public getNextStart(value: any, category: string): any {\r\n            return this._datetime.getNextStart(value, category);\r\n        }\r\n\r\n        public getPrevStart(value: any, category: string): any {\r\n            return this._datetime.getPrevStart(value, category);\r\n        }\r\n\r\n        public getNowStart(category: string): any {\r\n            return this._datetime.getNowStart(category);\r\n        }\r\n\r\n        public addHours(value: any, hours: number): any {\r\n            return this._datetime.addHours(value, hours);\r\n        }\r\n\r\n        public toStartDay(value: any): any {\r\n            return this._datetime.toStartDay(value);\r\n        }\r\n\r\n        public toEndDay(value: any, offset: number): any {\r\n            return this._datetime.toEndDay(value, offset);\r\n        }\r\n\r\n        public toStartWeek(value: any): any {\r\n            return this._datetime.toStartWeek(value);\r\n        }\r\n\r\n        public toEndWeek(value: any, offset: number): any {\r\n            return this._datetime.toEndWeek(value, offset);\r\n        }\r\n\r\n        public toStartMonth(value: any): any {\r\n            return this._datetime.toStartMonth(value);\r\n        }\r\n\r\n        public toEndMonth(value: any, offset: number): any {\r\n            return this._datetime.toEndMonth(value, offset);\r\n        }\r\n\r\n        public toStartYear(value: any): any {\r\n            return this._datetime.toStartYear(value);\r\n        }\r\n\r\n        public toEndYear(value: any, offset: number): any {\r\n            return this._datetime.toEndYear(value, offset);\r\n        }\r\n\r\n    }\r\n\r\n    class DateConvertProvider extends DateTimeConvert implements IDateConvertProvider {\r\n        private _translation: DateTimeConvert;\r\n        private _service: DateTimeConvertService;\r\n\r\n        public constructor() {\r\n            super({ timeZone: null });\r\n        }\r\n\r\n        public $get(): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateTimeConvertService(this);\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Convert', [])\r\n        .provider('pipDateConvert', DateConvertProvider);\r\n})();","import { IDateFormatService } from './IDateFormatService';\r\nimport { IDateConvertService } from './IDateConvertService';\r\n\r\nfunction formatTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatTime(value, format);\r\n    }\r\n}\r\n\r\nfunction formatDateOptionalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatDateOptional(value, format);\r\n    }\r\n}\r\n\r\nfunction formatLongDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDate(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any) => {\r\n        return pipDateFormat.formatMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatYearFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatYear(value);\r\n    }\r\n}\r\n\r\nfunction formatWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatShortDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatMiddleDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatLongDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatLongDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction bbFormatDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.bbFormatDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatFullDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatFullDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatShortMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatDateRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatDateTimeRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateTimeRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekOrdinalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeekOrdinal(value);\r\n    }\r\n}\r\n\r\nfunction formatDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatMillisecondsToSecondsFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMillisecondsToSeconds(value);\r\n    }\r\n}\r\n\r\nfunction formatElapsedIntervalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, start: any): string => {\r\n        return pipDateFormat.formatElapsedInterval(value, start);\r\n    }\r\n}\r\n\r\nfunction getDateJSONFilter(pipDateConvert: IDateConvertService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateConvert.getDateJSON(value);\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipDate.Filter', [])\r\n    .filter('formatTime', formatTimeFilter)\r\n    .filter('formatDateOptional', formatDateOptionalFilter)\r\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\r\n    .filter('formatShortDate', formatShortDateFilter)\r\n    .filter('formatMiddleDate', formatMiddleDateFilter)\r\n    .filter('formatLongDate', formatLongDateFilter)\r\n    .filter('formatMonth', formatMonthFilter)\r\n    .filter('formatLongMonth', formatLongMonthFilter)\r\n    .filter('formatYear', formatYearFilter)\r\n    .filter('formatWeek', formatWeekFilter)\r\n    .filter('formatShortWeek', formatShortWeekFilter)\r\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\r\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)\r\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\r\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\r\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)\r\n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)\r\n    .filter('formatFullDateTime', formatFullDateTimeFilter)\r\n    .filter('formatShortTime', formatShortTimeFilter)\r\n    .filter('formatLongTime', formatLongTimeFilter)\r\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\r\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\r\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\r\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\r\n    .filter('formatDateRange', formatDateRangeFilter)\r\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\r\n    .filter('formatISOWeek', formatISOWeekFilter)\r\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\r\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\r\n    .filter('formatDateY', formatDateYFilter)\r\n    .filter('formatLongDateY', formatLongDateYFilter)\r\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\r\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\r\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\r\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\r\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\r\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\r\n","import { DateTimeConfig, IDateFormatService, IDateFormatProvider } from './IDateFormatService';\r\n\r\n(() => {\r\n    class DateFormatService implements IDateFormatService {\r\n        private _config: DateTimeConfig;\r\n        protected _momentRanged: string[] = new Array('year', 'month', 'week', 'isoweek', 'day');\r\n        protected _defaultFormat: string = 'LL'\r\n\r\n        private isUndefinedOrNull(value: any): boolean {\r\n            return angular.isUndefined(value) || value === null;\r\n        }\r\n\r\n     \r\n        private formatDateTime(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                formatTpl: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            return date.format(formatTpl);\r\n        }\r\n\r\n        private formatDateTimeY(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                formatMoment: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            nowDate = moment();\r\n            formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n            if (nowDate.year() == date.year()) {\r\n                formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n            }\r\n\r\n            return date.format(formatMoment);\r\n        }\r\n\r\n        private formatDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\r\n                formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return date.format(formatMonthYearless);\r\n        }\r\n\r\n        private formatMonthDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment,\r\n                format = basicFormat ? basicFormat : this._defaultFormat,\r\n                formatLL = moment.localeData().longDateFormat(format),\r\n                formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return date.format(formatYearlessLL);\r\n        }\r\n\r\n        //  use timezone not testing\r\n        private formatRange(value1: any, value2: any, basicFormat: string): string {\r\n            let dateStart: moment.Moment,\r\n                dateEnd: moment.Moment,\r\n                format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            if (this.isUndefinedOrNull(value1)) {\r\n                dateStart = null;\r\n            } else {\r\n                dateStart = (this._config.timeZone != undefined && this._config.timeZone != null) ? moment(value1).utcOffset(this._config.timeZone) : moment(value1);\r\n            }\r\n            if (this.isUndefinedOrNull(value2)) {\r\n                dateEnd = null;\r\n            } else {\r\n                dateEnd = (this._config.timeZone != undefined && this._config.timeZone != null) ? moment(value2).utcOffset(this._config.timeZone) : moment(value2);\r\n            }\r\n\r\n            if (dateStart === null && dateEnd === null) return '';\r\n\r\n            if (dateStart === null) {\r\n                return dateEnd.format(basicFormat);\r\n            }\r\n            if (dateEnd === null || dateStart.isSame(dateEnd)) {\r\n                return dateStart.format(basicFormat);;\r\n            }\r\n\r\n            if (dateStart.isAfter(dateEnd)) {\r\n                // todo localization\r\n                throw new Error('Date range error. Start date is more than end date.');\r\n            }\r\n\r\n            if (dateStart.year() == dateEnd.year()) {\r\n                if (dateStart.month() == dateEnd.month()) {\r\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n                }\r\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n\r\n            }\r\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n\r\n        }\r\n\r\n        private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\r\n            let date: moment.Moment,\r\n                result: string,\r\n                nowDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            nowDate = moment();\r\n            if (firstTime) {\r\n                result = date.format(formatTime) + ' ' + date.format(formatDate);\r\n            } else {\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        private toTodayDate(value: any, formatDate: string, formatTime: string): any {\r\n            let date: moment.Moment,\r\n                result: string,\r\n                nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this._config.timeZone != undefined && this._config.timeZone != null) {\r\n                date = moment(value).utcOffset(this._config.timeZone);\r\n            } else {\r\n                date = moment(value);\r\n            }\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            nowDate = moment();\r\n\r\n            if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day()) {\r\n                result = date.format(formatTime);\r\n            } else {\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        public constructor(config: DateTimeConfig) {\r\n            this._config = config || { timeZone: null };\r\n        };\r\n\r\n        public get config(): DateTimeConfig {\r\n            return this._config;\r\n        }\r\n\r\n        public useTimeZone(offset: number) {\r\n            this._config.timeZone = offset;\r\n        }\r\n        \r\n        // formating functions \r\n        // -------------------\r\n\r\n        public formatTime(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatDateOptional(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        // date formats\r\n        public formatShortDate(value: any): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDate(value: any): string {\r\n            return this.formatDateTime(value, 'll');\r\n        }\r\n\r\n        public formatLongDate(value: any): string {\r\n            return this.formatDateTime(value, 'LL');\r\n        }\r\n\r\n        public formatMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MM');\r\n        }\r\n\r\n        public formatLongMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MMMM');\r\n        }\r\n\r\n        public formatYear(value: any): string {\r\n            return this.formatDateTime(value, 'YYYY');\r\n        }\r\n\r\n        public formatWeek(value: any): string {\r\n            return this.formatDateTime(value, 'ww');\r\n        }\r\n\r\n        public formatShortWeek(value: any): string {\r\n            return this.formatDateTime(value, 'w');\r\n        }\r\n\r\n        public formatShortDateTime(value: any): string {\r\n            return this.toDateWithTime(value, 'L', 'LT');\r\n        }\r\n\r\n        public formatMiddleDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'lll');\r\n        }\r\n\r\n        public formatLongDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatFullDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLLL');\r\n        }\r\n\r\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'L', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'll', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatShortTime(value: any): string {\r\n            return this.formatDateTime(value, 'LT');\r\n        }\r\n\r\n        public formatLongTime(value: any): string {\r\n            return this.formatDateTime(value, 'LTS');\r\n        }\r\n\r\n        public formatShortDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dd');\r\n        }\r\n\r\n        public formatLongDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dddd');\r\n        }\r\n\r\n        // public formatTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLL');\r\n        // }\r\n\r\n        // public formatLongTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLLL');\r\n        // }\r\n\r\n        ///-----------------\r\n\r\n        public formatLongMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'LL');\r\n        }\r\n\r\n        public formatShortMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'L');\r\n        }\r\n\r\n        public formatDateRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LL');\r\n        }\r\n\r\n        public formatDateTimeRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LLL');\r\n        }\r\n\r\n        // iso function\r\n        // --------------\r\n\r\n        public formatISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'WW');\r\n        }\r\n\r\n        public formatShortISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'W');\r\n        }\r\n\r\n        public formatISOWeekOrdinal(value: any): string {\r\n            return this.formatDateTime(value, 'Wo');\r\n        }\r\n        // special formats \r\n        // --------------\r\n\r\n        // year option displays if the current year is not equal to, the date of \r\n        public formatDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'L');\r\n        }\r\n\r\n        // year option displays if the current year is not equal to, the date of\r\n        public formatLongDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'LL');\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateLongTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateShortTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateLongTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LT')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateShortTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'll', 'LT')\r\n        }\r\n\r\n        // todo\r\n        public formatMillisecondsToSeconds(value: any): string {\r\n            return '';\r\n        }\r\n\r\n        public formatElapsedInterval(value: any, start: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return moment(date).fromNow(nowDate);\r\n        }\r\n\r\n        public getDateJSON(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    class DateTimeFormatService {\r\n        private _datetime: DateFormatService;\r\n        private _config: DateTimeConfig;\r\n\r\n        public constructor(\r\n            datetime: DateFormatService,\r\n        ) {\r\n            this._config = { timeZone: null };\r\n            this._datetime = datetime;\r\n        }\r\n\r\n        // todo Optional\r\n        public useTimeZone(offset: number): void {\r\n            return this._datetime.useTimeZone(offset);\r\n        }\r\n\r\n        // todo Optional\r\n        public formatTime(value: any, format: string): string {\r\n            return this._datetime.formatTime(value, format);\r\n        }\r\n\r\n        // todo Optional\r\n        public formatDateOptional(value: any, format: string): string {\r\n            return this._datetime.formatDateOptional(value, format);\r\n        }\r\n\r\n        public formatShortDate(value: any): string {\r\n            return this._datetime.formatShortDate(value);\r\n        }\r\n\r\n        public formatMiddleDate(value: any): string {\r\n            return this._datetime.formatMiddleDate(value);\r\n        }\r\n\r\n        public formatLongDate(value: any): string {\r\n            return this._datetime.formatLongDate(value);\r\n        }\r\n\r\n        public formatMonth(value: any): string {\r\n            return this._datetime.formatMonth(value);\r\n        }\r\n\r\n        public formatLongMonth(value: any): string {\r\n            return this._datetime.formatLongMonth(value);\r\n        }\r\n\r\n        public formatYear(value: any): string {\r\n            return this._datetime.formatYear(value);\r\n        }\r\n\r\n        public formatWeek(value: any): string {\r\n            return this._datetime.formatWeek(value);\r\n        }\r\n\r\n        public formatShortWeek(value: any): string {\r\n            return this._datetime.formatShortWeek(value);\r\n        }\r\n\r\n        public formatShortDateTime(value: any): string {\r\n            return this._datetime.formatShortDateTime(value);\r\n        }\r\n\r\n        public formatMiddleDateTime(value: any): string {\r\n            return this._datetime.formatMiddleDateTime(value);\r\n        }\r\n\r\n        public formatLongDateTime(value: any): string {\r\n            return this._datetime.formatLongDateTime(value);\r\n        }\r\n\r\n        public formatFullDateTime(value: any): string {\r\n            return this._datetime.formatFullDateTime(value);\r\n        }\r\n\r\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this._datetime.formatShortDateLongTime(value, firstTime);\r\n        }\r\n\r\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this._datetime.formatMiddleDateLongTime(value, firstTime);\r\n        }\r\n\r\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this._datetime.formatLongDateLongTime(value, firstTime);\r\n        }\r\n\r\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this._datetime.bbFormatDateLongTime(value, firstTime);\r\n        }\r\n\r\n        public formatShortTime(value: any): string {\r\n            return this._datetime.formatShortTime(value);\r\n        }\r\n\r\n        public formatLongTime(value: any): string {\r\n            return this._datetime.formatLongTime(value);\r\n        }\r\n\r\n        public formatShortDayOfWeek(value: any): string {\r\n            return this._datetime.formatShortDayOfWeek(value);\r\n        }\r\n\r\n        public formatLongDayOfWeek(value: any): string {\r\n            return this._datetime.formatLongDayOfWeek(value);\r\n        }\r\n\r\n        public formatLongMonthDay(value: any): string {\r\n            return this._datetime.formatLongMonthDay(value);\r\n        }\r\n\r\n        public formatShortMonthDay(value: any): string {\r\n            return this._datetime.formatShortMonthDay(value);\r\n        }\r\n\r\n        public formatDateRange(value1: any, value2: any): string {\r\n            return this._datetime.formatDateRange(value1, value2);\r\n        }\r\n\r\n        public formatDateTimeRange(value1: any, value2: any): string {\r\n            return this._datetime.formatDateTimeRange(value1, value2);\r\n        }\r\n\r\n        // iso function\r\n        // --------------\r\n\r\n        public formatISOWeek(value: any): string {\r\n            return this._datetime.formatISOWeek(value);\r\n        }\r\n\r\n        public formatShortISOWeek(value: any): string {\r\n            return this._datetime.formatShortISOWeek(value);\r\n        }\r\n\r\n        public formatISOWeekOrdinal(value: any): string {\r\n            return this._datetime.formatISOWeekOrdinal(value);\r\n        }\r\n        // special formats \r\n        // --------------\r\n\r\n        // year option displays if the current year is not equal to, the date of \r\n        public formatDateY(value: any): string {\r\n            return this._datetime.formatDateY(value);\r\n        }\r\n\r\n        // year option displays if the current year is not equal to, the date of\r\n        public formatLongDateY(value: any): string {\r\n            return this._datetime.formatLongDateY(value);\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateLongTimeLong(value: any): string {\r\n            return this._datetime.formatTodayDateLongTimeLong(value);\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateShortTimeLong(value: any): string {\r\n            return this._datetime.formatTodayDateShortTimeLong(value);\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateLongTimeShort(value: any): string {\r\n            return this._datetime.formatTodayDateLongTimeShort(value);\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateShortTimeShort(value: any): string {\r\n            return this._datetime.formatTodayDateShortTimeShort(value);\r\n        }\r\n\r\n        public formatMillisecondsToSeconds(value: any) {\r\n            return this._datetime.formatMillisecondsToSeconds(value);\r\n        }\r\n\r\n        public formatElapsedInterval(value: any, start: any): string {\r\n            return this._datetime.formatElapsedInterval(value, start);\r\n        }\r\n\r\n        public getDateJSON(date: any): string {\r\n            return this._datetime.getDateJSON(date);\r\n        }\r\n\r\n    }\r\n\r\n    class DateFormatProvider extends DateFormatService implements IDateFormatProvider {\r\n        private _translation: DateFormatService;\r\n        private _service: DateTimeFormatService;\r\n\r\n        public constructor() {\r\n            super({ timeZone: null });\r\n        }\r\n\r\n        public $get(): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateTimeFormatService(this);\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Format', [])\r\n        .provider('pipDateFormat', DateFormatProvider);\r\n})();","\r\nangular.module('pipDate.Common', [\r\n    'pipDate.Convert',\r\n    'pipDate.Format',\r\n    'pipDate.Filter'\r\n]);\r\n","export class DateTimeConfig {\r\n    timeZone: number;\r\n}\r\n\r\nexport interface IDateConvertService {\r\n    readonly config: DateTimeConfig;\r\n    useTimeZone(offset: number);\r\n   \r\n    getDateJSON(date: any): string;\r\n    getNextStart(value: any, category: string): Date;\r\n    getPrevStart(value: any, category: string): Date;\r\n    getNowStart(category: string): Date;\r\n\r\n    addHours(value: any, hours: number): Date;\r\n    toStartDay(value: any): Date;\r\n    toEndDay(value: any, offset: number): Date;\r\n    toStartWeek(value: any): Date;\r\n    toEndWeek(value: any, offset: number): Date;\r\n    toStartMonth(value: any): Date;\r\n    toEndMonth(value: any, offset: number): Date;\r\n    toStartYear(value: any): Date;\r\n    toEndYear(value: any, offset: number): Date;\r\n \r\n}\r\n\r\nexport interface IDateConvertProvider extends IDateConvertService, ng.IServiceProvider {}","export class DateTimeConfig {\r\n    timeZone: number;\r\n}\r\n\r\nexport interface IDateFormatService {\r\n    readonly config: DateTimeConfig;\r\n    useTimeZone(offset: number);\r\n\r\n    bbFormatDateLongTime(value: any, firstTime?: boolean): string; \r\n    \r\n    formatTime(value: any, format: string): string;\r\n    formatDateOptional(value: any, format: string): string;\r\n    formatShortDate(value: any): string;\r\n    formatMiddleDate(value: any): string;\r\n    formatLongDate(value: any): string;\r\n    formatMonth(value: any): string;\r\n    formatLongMonth(value: any): string;\r\n    formatYear(value: any): string;\r\n    formatWeek(value: any): string;\r\n    formatShortWeek(value: any): string;\r\n    formatShortDateTime(value: any): string;\r\n    formatMiddleDateTime(value: any): string;    \r\n    formatLongDateTime(value: any): string;\r\n    formatFullDateTime(value: any): string;\r\n    formatShortDateLongTime(value: any, firstTime?: boolean): string;\r\n    formatMiddleDateLongTime(value: any, firstTime?: boolean): string;    \r\n    formatLongDateLongTime(value: any, firstTime?: boolean): string;    \r\n    formatShortTime(value: any): string;\r\n    formatLongTime(value: any): string;\r\n    formatShortDayOfWeek(value: any): string;\r\n    formatLongDayOfWeek(value: any): string;\r\n    formatLongMonthDay(value: any): string;\r\n    formatShortMonthDay(value: any): string;\r\n    formatDateRange(value1: any, value2: any): string;\r\n    formatDateTimeRange(value1: any, value2: any): string;\r\n    formatISOWeek(value: any): string;\r\n    formatShortISOWeek(value: any): string;\r\n    formatISOWeekOrdinal(value: any): string;\r\n    formatDateY(value: any): string;\r\n    formatLongDateY(value: any): string;\r\n    formatTodayDateLongTimeLong(value: any): string;\r\n    formatTodayDateShortTimeLong(value: any): string;\r\n    formatTodayDateLongTimeShort(value: any): string;\r\n    formatTodayDateShortTimeShort(value: any): string;\r\n    formatMillisecondsToSeconds(value: any): string;\r\n    formatElapsedInterval(value: any, start: any): string;\r\n\r\n}\r\n\r\nexport interface IDateFormatProvider extends IDateFormatService, ng.IServiceProvider {}","\r\n(() => {\r\n    interface IDateRangeBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any;\r\n        disabled: any;\r\n        model: any;\r\n        pipChanged: any;\r\n        type: any;\r\n        pipDateFormat: any;\r\n        pipNoLine: any;\r\n    }\r\n\r\n    const DateRangeBindings: IDateRangeBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '=ngModel',\r\n        pipChanged: '&',\r\n        type: '@pipDateRangeType',\r\n        pipDateFormat: '@',\r\n        pipNoLine: '@'\r\n    }\r\n\r\n\r\n    class DateRangeChanges implements ng.IOnChangesObject, IDateRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        model: ng.IChangesObject<any>;\r\n        pipChanged: ng.IChangesObject<() => void>;\r\n        type: ng.IChangesObject<string>;\r\n        pipDateFormat: ng.IChangesObject<any>;\r\n        pipNoLine: ng.IChangesObject<any>;\r\n    }\r\n\r\n    class DateRangeController {\r\n        private currentDate: Date;\r\n        private currentYear: number;\r\n        private currentMonth: number;\r\n        private currentDay: number;\r\n        private prevState: any = {};\r\n        private currentState: any = {};\r\n        private localeDate: any;\r\n        private momentMonths: any;\r\n        private momentDays: any;\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public type: string;\r\n        public pipChanged: Function;\r\n        public year: number;\r\n        public month: number;\r\n        public week: any;\r\n        public day: number;\r\n        public shortMonths: string[];\r\n        public days: number[];\r\n        public weeks: any[];\r\n        public months: number[];\r\n        public years: number[];\r\n        public nameDays: string[];\r\n        public model: any;\r\n        public disabled: Function;\r\n        public disableControls: boolean;\r\n        public timeMode: string;\r\n\r\n        constructor(\r\n            public $mdMedia: angular.material.IMedia,\r\n            private $timeout: ng.ITimeoutService,\r\n            $scope: ng.IScope,\r\n            $element,\r\n            $rootScope: ng.IRootScopeService,\r\n            $injector: angular.auto.IInjectorService) {\r\n\r\n            this.localeDate = moment.localeData();\r\n            this.momentMonths = angular.isArray(this.localeDate._months) ? this.localeDate._months : this.localeDate._months.standalone;\r\n            this.momentDays = angular.isArray(this.localeDate._weekdays) ? this.localeDate._weekdays : this.localeDate._weekdays.format;\r\n            this.momentShortDays = this.localeDate._weekdaysMin;\r\n            this.momentFirstDayOfWeek = this.localeDate._week.dow;\r\n\r\n            this.currentDate = new Date();\r\n            this.currentYear = this.currentDate.getUTCFullYear();\r\n            this.currentMonth = this.currentDate.getUTCMonth() + 1;\r\n            this.currentDay = this.currentDate.getUTCDate();\r\n\r\n            this.init();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n\r\n            $scope.$watch('$ctrl.type', (newValue, oldValue) => {\r\n                if (newValue !== oldValue && oldValue) {\r\n                    this.init();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateRangeChanges) {\r\n            if (changes.type && changes.type.currentValue) {\r\n                this.type = changes.type.currentValue;\r\n                this.init();\r\n            }\r\n\r\n            /*if (changes.type && changes.type.currentValue && changes.type.currentValue != changes.type.previousValue) {\r\n               this.type = changes.type.currentValue; \r\n               this.init();\r\n           }\r\n   \r\n           if (changes.disabled && changes.disabled.currentValue) {\r\n                this.disableControls = changes.disabled.currentValue();\r\n           }\r\n   \r\n           if (changes.model && changes.model.currentValue) {\r\n                 this.getValue(changes.model.currentValue);\r\n           }*/\r\n\r\n        }\r\n\r\n        public onMonthChanged(): void {\r\n            if (this.type === 'weekly') {\r\n                let date: Date, dayOfWeek: number;\r\n                date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.correctWeek();\r\n                this.adjustWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged(): void {\r\n            let date: Date, dayOfWeek: number;\r\n            date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n            if (this.type === 'weekly') {\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public onWeekChange() {\r\n            if (this.type === 'weekly') {\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public isDay(): boolean {\r\n            return this.type === 'daily';\r\n        };\r\n\r\n        public isWeek(): boolean {\r\n            return this.type === 'weekly';\r\n        };\r\n\r\n        public isMonth(): boolean {\r\n            return this.type === 'daily' ||\r\n                this.type === 'weekly' ||\r\n                this.type === 'monthly';\r\n        };\r\n\r\n        public onChange() {\r\n            if (this.pipChanged) {\r\n                this.$timeout(() => {\r\n                    this.pipChanged();\r\n                }, 0);\r\n            }\r\n        };\r\n\r\n        private setCurrent() {\r\n            this.currentState.day = this.day;\r\n            this.currentState.month = this.month;\r\n            this.currentState.year = this.year;\r\n            this.currentState.week = this.week;\r\n            this.currentState.dateRangeType = this.type;\r\n            this.currentState.model = this.model;\r\n        }\r\n\r\n        private fillLists() {\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.shortMonths = this.monthList();\r\n            this.years = this.yearList();\r\n        }\r\n\r\n        private correctWeek() {\r\n            if (!this.prevState.model || this.prevState.model && this.prevState.model.getTime() >= this.model.getTime()) {\r\n                // if shift week -> increase month\r\n                if (this.weeks && this.weeks[this.week] && this.weeks[this.week].id <= 0) {\r\n                    if (this.month < 12) {\r\n                        this.month += 1;\r\n                    } else {\r\n                        this.month = 1;\r\n                        this.year += 1;\r\n                    }\r\n                    this.fillLists();\r\n                }\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            let value: Date;\r\n\r\n            value = this.model ? new Date(this.model) : null;\r\n            this.day = value ? value.getUTCDate() : null;\r\n            this.month = value ? value.getUTCMonth() + 1 : null;\r\n            this.year = value ? value.getUTCFullYear() : null;\r\n            this.week = value ? this.getWeekByDate(this.day, this.month - 1, this.year) : null;\r\n\r\n            this.fillLists();\r\n\r\n            if (this.type === 'weekly') {\r\n                this.correctWeek();\r\n            }\r\n            this.adjustWeek();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearClick() {\r\n            if (!this.year) {\r\n                this.year = this.currentYear;\r\n            }\r\n        };\r\n\r\n        public onMonthClick() {\r\n            if (!this.month) {\r\n                this.month = this.currentMonth;\r\n            }\r\n        };\r\n\r\n        public onDayClick() {\r\n            if (!this.year) {\r\n                this.day = this.currentDay;\r\n            }\r\n        };\r\n        // ---------------------------------------------------------------------------------------\r\n\r\n        public getCountDay(month: number, year: number): number {\r\n            let count = 31;\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n                return count;\r\n            }\r\n\r\n            if (month === 2) {\r\n                if (year) {\r\n                    count = year % 4 === 0 ? 29 : 28;\r\n                    return count;\r\n                }\r\n                count = 28;\r\n            }\r\n\r\n            return count;\r\n\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number, days: number[];\r\n\r\n            count = this.getCountDay(month, year);\r\n            this.nameDays = [];\r\n            days = [];\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n                this.nameDays.push(this.momentShortDays[moment([year, month - 1, i]).weekday()]);\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        public getWeekByDate(day, month, year) {\r\n            let date: Date, dayOfWeek: number, startWeek;\r\n\r\n            date = new Date(Date.UTC(year, month, day));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n\r\n            if (dayOfWeek === 1) {\r\n                startWeek = day;\r\n            } else {\r\n                startWeek = day + 1 - dayOfWeek;\r\n            }\r\n\r\n            return startWeek;\r\n        }\r\n\r\n        public getWeek(day: number, countDay: number, countPrevMonthDay) {\r\n            let endDay: number, startDay: number;\r\n\r\n            endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\r\n            startDay = day > 0 ? day : countPrevMonthDay + day;\r\n\r\n            return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\r\n        }\r\n\r\n        public weekList(month: number, year: number) { // возвращает список начала надели\r\n            let weeks: any[], countDay: number, countPrevMonthDay: number, startWeek: number;\r\n\r\n            weeks = [];  // в массиве первые дни недели в текущем месяце\r\n            countDay = this.getCountDay(month, year);\r\n            startWeek = this.getWeekByDate(1, month - 1, year);\r\n\r\n            countPrevMonthDay = month - 1 ? this.getCountDay(month - 1, year) : this.getCountDay(12, year - 1);\r\n            while (startWeek < countDay + 1) {\r\n                weeks.push({\r\n                    id: startWeek,\r\n                    name: this.getWeek(startWeek, countDay, countPrevMonthDay)\r\n                });\r\n                startWeek = startWeek + 7;\r\n            }\r\n\r\n            return weeks;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList() {\r\n            let startYear: number, endYear: number, years: any[] = [];\r\n\r\n            switch (this.timeMode) {\r\n                case 'future':\r\n                    startYear = this.currentYear;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                case 'past':\r\n                    startYear = this.currentYear - 100;\r\n                    endYear = this.currentYear;\r\n                    break;\r\n                case 'now':\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                default:\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 50;\r\n                    break;\r\n            }\r\n            if (this.timeMode === 'future') {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            switch (this.type) {\r\n                case 'monthly':\r\n                    this.day = 1;\r\n                    break;\r\n                case 'yearly':\r\n                    this.month = 1;\r\n                    this.day = 1;\r\n                    break;\r\n                default:\r\n                    if (this.days.length !== days.length) {\r\n                        if (this.day > days.length) {\r\n                            this.day = days.length;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            this.days = days;\r\n        }\r\n\r\n        private adjustWeek() {\r\n            let weeks = this.weekList(this.month, this.year);\r\n            this.week = this.getWeekByDate(this.week, this.month - 1, this.year);\r\n            this.weeks = weeks;\r\n        }\r\n\r\n        private getValue(v) {\r\n            let value: Date, day: number, month: number, year: number, week: string;\r\n\r\n            value = v ? new Date(v) : null;\r\n            // Define values\r\n            day = value ? value.getUTCDate() : null;\r\n            month = value ? value.getUTCMonth() + 1 : null;\r\n            year = value ? value.getUTCFullYear() : null;\r\n            week = value ? this.getWeekByDate(day, month - 1, year) : null;\r\n            // Exit if nothing to update\r\n            if (this.day === day && this.month === month && this.year === year && this.week === week) {\r\n                return;\r\n            }\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n            this.week = week;\r\n\r\n            // Define data sources\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n        }\r\n\r\n        public setValue() {\r\n            let value;\r\n\r\n            if (this.type === 'weekly') {\r\n                value = new Date(this.year, this.month - 1, this.week, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            } else {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            }\r\n\r\n            this.prevState = _.cloneDeep(this.currentState);\r\n            this.setCurrent();\r\n            this.onChange();\r\n        }\r\n\r\n    }\r\n\r\n    const daterange: ng.IComponentOptions = {\r\n        bindings: DateRangeBindings,\r\n        templateUrl: 'date_range/DateRange.html',\r\n        controller: DateRangeController \r\n\r\n    };\r\n    angular\r\n        .module('pipDateRange', ['pipDates.Templates'])\r\n        .component('pipDateRange', daterange)\r\n})();\r\n","\r\n(() => {\r\n    class TimeRangeData {\r\n        start: Date;\r\n        end: Date;\r\n    }\r\n\r\n    interface ITimeRangeBindings {\r\n        [key: string]: any;\r\n\r\n        start: any;\r\n        end: any;\r\n    }\r\n\r\n    const TimeRangeBindings: ITimeRangeBindings = {\r\n        start: '<pipStartDate',\r\n        end: '<pipEndDate'\r\n    }\r\n\r\n    class TimeRangeChanges implements ng.IOnChangesObject, ITimeRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        start: ng.IChangesObject<Date>;\r\n        end: ng.IChangesObject<Date>;\r\n    }\r\n\r\n    class TimeRangeController {\r\n        public data: TimeRangeData;\r\n        public start: Date;\r\n        public end: Date;\r\n\r\n        constructor($scope: ng.IScope, $attrs: ng.IAttributes, $element: JQuery) {\r\n            this.data = new TimeRangeData();\r\n            this.defineStartDate();\r\n            this.defineEndDate();\r\n\r\n            $element.addClass('pip-time-range');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeChanges) {\r\n            if (changes.start && changes.start.currentValue) {\r\n                this.data.start = null;\r\n                this.defineStartDate();\r\n            }\r\n            if (changes.end && changes.end.currentValue) {\r\n                this.data.end = null;\r\n                this.defineEndDate();\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private defineStartDate() {\r\n            if (this.start !== null && this.start !== undefined) {\r\n                this.data.start = _.isDate(this.start) ? this.start\r\n                    : this.getDateJSON(this.start);\r\n            }\r\n        }\r\n\r\n        private defineEndDate() {\r\n            if (this.end !== null && this.end !== undefined) {\r\n                this.data.end = _.isDate(this.end) ? this.end\r\n                    : this.getDateJSON(this.end);\r\n            }\r\n        }\r\n\r\n        private toBoolean(value): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n    }\r\n\r\n    const TimeRangeComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeBindings,\r\n        templateUrl: 'time_range/TimeRange.html',\r\n        controller: TimeRangeController\r\n    }\r\n\r\n    angular.module('pipTimeRange', [])\r\n        .component('pipTimeRange', TimeRangeComponent);\r\n\r\n})();\r\n","export const IntervalTimeRange = 30;\r\nexport const MinutesInHour = 60;\r\nexport const HoursInDay = 24;\r\nexport const MillisecondsInSecond = 1000;\r\n\r\n{\r\n    class TimeRangeEditData {\r\n        endTime: number;\r\n        startTime: number;\r\n        startDate: Date;\r\n        endDate: Date;\r\n        duration: number;\r\n        bind: boolean = false;\r\n    }\r\n\r\n\r\n    interface ITimeRangeEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipStartDate: any,\r\n        pipChanged: any,\r\n        pipEndDate: any,\r\n        pipStartLabel: any,\r\n        pipEndLabel: any,\r\n        disabled: any,\r\n        pipHideTime: any,\r\n        pipSize: any\r\n    }\r\n\r\n    const TimeRangeEditBindings: ITimeRangeEditBindings = {\r\n        pipStartDate: '<',\r\n        pipChanged: '=',\r\n        pipEndDate: '<',\r\n        pipStartLabel: '@',\r\n        pipEndLabel: '@',\r\n        disabled: '&ngDisabled',\r\n        pipHideTime: '=',\r\n        pipSize: '='\r\n    }\r\n\r\n    class TimeRangeEditChanges implements ng.IOnChangesObject, ITimeRangeEditBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        pipStartDate: ng.IChangesObject<Date>;\r\n        pipChanged: ng.IChangesObject<(start: Date, end: Date) => void>\r\n        pipEndDate: ng.IChangesObject<Date>;\r\n        pipStartLabel: ng.IChangesObject<string>;\r\n        pipEndLabel: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        pipHideTime: ng.IChangesObject<boolean>;\r\n        pipSize: ng.IChangesObject<any>;\r\n    }\r\n\r\n\r\n    class TimeRangeEditController {\r\n        public startLabel: string = 'Start time';\r\n        public endLabel: string = 'End time';\r\n        public pipStartLabel: string;\r\n        public pipEndLabel: string;\r\n\r\n        public pipEndDate: Date;\r\n        public pipStartDate: Date;\r\n        public pipHideTime: boolean;\r\n        public pipSize;\r\n        public showTime: boolean;\r\n        public data: TimeRangeEditData;\r\n        public intervalTimeCollection: any;\r\n        public disabled: () => boolean;\r\n\r\n        public pipChanged: (start: Date, end: Date) => void;\r\n\r\n        constructor(\r\n            private $injector: angular.auto.IInjectorService,\r\n            private pipDateConvert,\r\n            private $scope: ng.IScope,\r\n            $element: JQuery) {\r\n\r\n            this.translate();\r\n            this.intervalTimeCollection = this.getTimeInterval();\r\n            this.data = new TimeRangeEditData();\r\n            this.initDate();\r\n            this.defineDate();\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-range-edit');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeEditChanges) {\r\n            if (changes.pipStartDate && changes.pipStartDate.currentValue) {\r\n                this.pipStartDate = changes.pipStartDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n            if (changes.pipEndDate && changes.pipEndDate.currentValue) {\r\n                this.pipEndDate = changes.pipEndDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n\r\n        }\r\n\r\n        private translate() {\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    EVENT_NEW_START_TIME: 'Start time',\r\n                    EVENT_NEW_END_TIME: 'End time'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    EVENT_NEW_START_TIME: 'Начало',\r\n                    EVENT_NEW_END_TIME: 'Конец'\r\n                });\r\n                this.startLabel = this.pipStartLabel ? pipTranslate.translate(this.pipStartLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n                this.endLabel = this.pipEndLabel ? pipTranslate.translate(this.pipEndLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private setDuration() {\r\n            let start, end;\r\n\r\n            if (!this.data.startDate || !this.data.endDate) {\r\n                return null;\r\n            }\r\n\r\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n            return end - start;\r\n        }\r\n\r\n        private validateStartDate() {\r\n            let date: Date, start: Date, end: Date, endTime: number, startTime: number;\r\n            // если начальная дата не задана, обнуляем и выходим\r\n            if (!this.data.startDate) {\r\n                this.data.startTime = null;\r\n\r\n                return;\r\n            }\r\n\r\n            // еcли не задано начальное время - задаем его\r\n            if (_.isUndefined(this.data.startTime) || _.isNull(this.data.startTime)) {\r\n                if (!this.data.endTime) {\r\n                    start = new Date();\r\n                    startTime = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.startTime = Math.floor(startTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.startTime = this.data.endTime === 0 ? 0 : this.data.endTime - IntervalTimeRange;\r\n                }\r\n            }\r\n\r\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n            // Если есть длительность, то сохраняем ее. Длительность можно изменить только изменяя конечную дату\r\n            if (this.data.duration) {\r\n                end = new Date(start.getTime() + this.data.duration);\r\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                endTime = end.getTime() - this.data.endDate.getTime();\r\n                this.data.endTime = Math.floor(endTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n            } else {\r\n                // Если нет длительности сравниваем даты\r\n                end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n                if (start >= end) {\r\n                    // Если начальная дата больше, то двигаем конечную дату\r\n                    this.data.endDate = this.pipDateConvert.toStartDay(new Date(start.getTime() + (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)));\r\n                    this.data.endTime = (this.data.startTime + IntervalTimeRange) % (HoursInDay * MinutesInHour); // минут в сутках\r\n                }\r\n            }\r\n\r\n            this.data.startTime = Math.round(this.data.startTime / IntervalTimeRange) * IntervalTimeRange;\r\n        }\r\n\r\n\r\n        private validateEndDate() {\r\n            let date: any, start: Date, end: Date;\r\n\r\n            if (!this.data.endDate) {\r\n                this.data.endTime = null;\r\n\r\n                return;\r\n            }\r\n\r\n            // еcли не задано конечное время - задаем его\r\n            if (_.isUndefined(this.data.endTime) || _.isNull(this.data.endTime)) {\r\n                if (!this.data.startTime) {\r\n                    date = new Date();\r\n                    date = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.endTime = Math.floor(date / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.endTime = this.data.startTime === (HoursInDay * MinutesInHour - IntervalTimeRange) ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.startTime + IntervalTimeRange;\r\n                }\r\n            }\r\n\r\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n            if (start >= end) {\r\n                // Если начальная дата больше, то двигаем начальную дату\r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date(end.getTime() - IntervalTimeRange * MinutesInHour * MillisecondsInSecond));\r\n                this.data.startTime = this.data.endTime % (HoursInDay * MinutesInHour) === 0 ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.endTime - IntervalTimeRange;\r\n            }\r\n\r\n            this.data.endTime = Math.round(this.data.endTime / IntervalTimeRange) * IntervalTimeRange;\r\n            this.data.duration = this.setDuration();\r\n        }\r\n\r\n        private setDate() {\r\n            let time: number;\r\n\r\n            if (!this.data) this.data = new TimeRangeEditData();\r\n            this.data.bind = false;\r\n\r\n            if (this.data.startDate) {\r\n                time = this.data.startTime ? this.data.startTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipStartDate = new Date(this.data.startDate.getTime() + time);\r\n            }\r\n\r\n            if (this.data.endDate) {\r\n                time = this.data.endTime ? this.data.endTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipEndDate = new Date(this.data.endDate.getTime() + time);\r\n            }\r\n\r\n            this.data.bind = true;\r\n        }\r\n\r\n        private defineDate() {\r\n            let start: Date, end: Date;\r\n\r\n            if (this.pipStartDate !== null && this.pipStartDate !== undefined) {\r\n                start = _.isDate(this.pipStartDate) ? this.pipStartDate : null;\r\n\r\n                if (!start) {\r\n                    start = this.getDateJSON(this.pipStartDate);\r\n                }\r\n\r\n                this.data.startDate = this.pipDateConvert.toStartDay(start);\r\n                this.data.startTime = (<any>new Date(start) - <any>this.data.startDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            if (this.pipEndDate !== null && this.pipEndDate !== undefined) {\r\n                end = _.isDate(this.pipEndDate) ? this.pipEndDate : null;\r\n\r\n                if (!start) {\r\n                    end = this.getDateJSON(this.pipEndDate);\r\n                }\r\n\r\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                this.data.endTime = (<any>new Date(end) - <any>this.data.endDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            this.validateStartDate();\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n        }\r\n\r\n        private getTimeInterval() {\r\n            let result, minutes: number;\r\n\r\n            result = [];\r\n            for (let i: number = 0; i < 24; i++) {\r\n                for (let j: number = 0; j < 2; j++) {\r\n                    minutes = j * IntervalTimeRange;\r\n                    result.push({\r\n                        id: i * MinutesInHour + minutes,\r\n                        time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\r\n                    });\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        private toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        private initDate() {\r\n            this.data.startDate = null;\r\n            this.data.startTime = null;\r\n            this.data.endDate = null;\r\n            this.data.endTime = null;\r\n            this.data.duration = null;\r\n            this.showTime = !this.toBoolean(this.pipHideTime);\r\n        }\r\n\r\n        public onChangeStartDate(newV) {\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndDate() {\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeStartTime() {\r\n            if (!this.data.startDate) {\r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndTime() {\r\n            if (!this.data.endDate) {\r\n                this.data.endDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public isDisabled() {\r\n            if (this.disabled) {\r\n                return this.disabled();\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n    }\r\n\r\n    const TimeRangeEditComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeEditBindings,\r\n        templateUrl: 'time_range_edit/TimeRangeEdit.html',\r\n        controller: TimeRangeEditController\r\n    };\r\n    angular.module('pipTimeRangeEdit', [])\r\n        .component('pipTimeRangeEdit', TimeRangeEditComponent)\r\n\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date/Date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.day\" placeholder=\"{{$ctrl.dayLabel}}\" ng-change=\"$ctrl.setValue()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.month\" placeholder=\"{{$ctrl.monthLabel}}\" ng-change=\"$ctrl.onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.year\" placeholder=\"{{$ctrl.yearLabel}}\" ng-change=\"$ctrl.onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range/DateRange.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"$ctrl.isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onDayClick()\" ng-model=\"$ctrl.day\" ng-change=\"$ctrl.setValue()\" placeholder=\"{{$ctrl.dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{$ctrl.nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" ng-model=\"$ctrl.week\" ng-change=\"$ctrl.onWeekChange()\" placeholder=\"{{$ctrl.weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isDay() || $ctrl.isWeek()\"></div><md-input-container ng-show=\"$ctrl.isMonth() && !$ctrl.monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isMonth() && $ctrl.monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onYearClick()\" ng-model=\"$ctrl.year\" ng-change=\"$ctrl.onYearChanged()\" placeholder=\"{{$ctrl.yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range/TimeRange.html',\n    '<p><span ng-if=\"$ctrl.data.start != null\">{{$ctrl.data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"$ctrl.data.start && $ctrl.data.end\">-</span> <span ng-if=\"$ctrl.data.end != null\">{{$ctrl.data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit/TimeRangeEdit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"$ctrl.data.startDate\" xmd-placeholder=\"{{$ctrl.startLabel}}\" ng-change=\"$ctrl.onChangeStartDate()\" ng-disabled=\"$ctrl.isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"$ctrl.data.startTime\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeStartTime($ctrl.data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"$ctrl.data.endDate\" xmd-placeholder=\"{{$ctrl.endLabel}}\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"$ctrl.data.endTime\" ng-change=\"$ctrl.onChangeEndTime()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\n\r\nclass ConfirmationDialogController extends  ConfirmationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this._injector = $injector;\r\n\r\n        this.initTranslate();\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope['$theme'];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'CONFIRM_TITLE': 'Confirm' });\r\n            pipTranslate.translations('ru', { 'CONFIRM_TITLE': 'Подтвердите'});\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('CONFIRM_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Confirm';\r\n            this.ok = this.ok || 'OK';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","export class ConfirmationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Cancel button caption\r\n    public cancel?: string;\r\n}\r\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\nimport { IConfirmationDialogService } from './IConfirmationDialogService';\r\n\r\nclass ConfirmationDialogService implements IConfirmationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params: ConfirmationDialogParams, successCallback?: () => void, cancelCallback?: () => void) {\r\n        this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'confirmation/ConfirmationDialog.html',\r\n            controller: 'pipConfirmationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n        })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .service('pipConfirmationDialog', ConfirmationDialogService);","angular\r\n    .module('pipConfirmationDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ConfirmationDialogParams';\r\nimport './ConfirmationDialogController';\r\nimport './IConfirmationDialogService';\r\nimport './ConfirmationDialogService';\r\n\r\nexport * from './IConfirmationDialogService';\r\n","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\n\r\nclass ErrorDialogStrings {\r\n    public errorDetails: string = 'Error details';\r\n    public errorMessage: string = 'Message';\r\n    public errorCode: string = 'Code';\r\n    public errorMethod: string = 'Method';\r\n    public errorPath: string = 'Path';\r\n    public errorText: string = 'Error';   \r\n}\r\n\r\nclass ErrorDetailsDialogController extends ErrorDetailsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: ng.material.IDialogService;\r\n    public theme: string;\r\n    public strings: ErrorDialogStrings;\r\n\r\n    constructor(\r\n        $mdDialog: ng.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n        \r\n        super();\r\n\r\n        this.strings = new ErrorDialogStrings();\r\n        this._injector = $injector;\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope.$theme;\r\n\r\n        this.initTranslate();\r\n\r\n        if (!this.error) {\r\n            this.error = '<none>';             \r\n        }\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', {\r\n                'OK': 'Ok',\r\n                'CANCEL': 'Cancel',\r\n                'ERROR_DETAILS': 'Error details',\r\n                'CODE': 'Error code',\r\n                'PATH': 'Path',\r\n                'ERROR': 'Error',\r\n                'METHOD': 'Method',\r\n                'MESSAGE': 'Message',\r\n                'DISMISS': 'Dismiss'\r\n            });\r\n            pipTranslate.translations('ru', {\r\n                'OK': 'Ок',\r\n                'CANCEL': 'Отмена',\r\n                'ERROR_DETAILS': 'Детали ошибки',\r\n                'CODE': 'Код ошибки',\r\n                'PATH': 'Путь',\r\n                'ERROR': 'Ошибка',\r\n                'METHOD': 'Метод',\r\n                'MESSAGE': 'Сообщение'\r\n            });\r\n            this.dismissButton = pipTranslate.translate(this.dismissButton) || pipTranslate.translate('DISMISS');\r\n\r\n            this.strings.errorDetails = pipTranslate.translate('ERROR_DETAILS');\r\n            this.strings.errorMessage = pipTranslate.translate('MESSAGE');\r\n            this.strings.errorCode = pipTranslate.translate('CODE');\r\n            this.strings.errorMethod = pipTranslate.translate('METHOD');\r\n            this.strings.errorPath = pipTranslate.translate('PATH');\r\n            this.strings.errorText = pipTranslate.translate('ERROR');\r\n        } else {\r\n            this.dismissButton = this.dismissButton || 'Dismiss';\r\n        }\r\n    }\r\n    \r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public isString(error): boolean {\r\n        return _.isString(error);\r\n    }\r\n\r\n    public getErrorText(): string {\r\n        let error: string;\r\n\r\n        if (_.isString(this.error)) { \r\n            return this.error\r\n        } \r\n        if (this.error && this.error.error) {\r\n            return this.error.error.toString();\r\n        }\r\n        if (this.error && this.error.data && this.error.data.error) {\r\n            return this.error.data.error.toString();\r\n        }\r\n        \r\n        return '<none>';\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","export class ErrorDetailsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Close button label\r\n    public dismissButton?: string;\r\n    // Error object or string\r\n    public error: any;\r\n}","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\nimport { IErrorDetailsDialogService } from './IErrorDetailsDialogService';\r\n\r\nclass ErrorDetailsDialogService implements IErrorDetailsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    \r\n    public show(params: ErrorDetailsDialogParams, \r\n        successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'error_details/ErrorDetailsDialog.html',\r\n            controller: 'pipErrorDetailsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params, \r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .service('pipErrorDetailsDialog', ErrorDetailsDialogService);","angular\r\n    .module('pipErrorDetailsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ErrorDetailsDialogParams';\r\nimport './ErrorDetailsDialogService';\r\nimport './ErrorDetailsDialogController';\r\n\r\nexport * from './ErrorDetailsDialogParams';\r\nexport * from './IErrorDetailsDialogService';","import { InformationDialogParams } from './InformationDialogParams';\r\n\r\nclass InformationDialogController extends InformationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public content: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();        \r\n        this._injector = $injector;\r\n\r\n        this.initTranslate()\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope['$theme'];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        let content: string = this.message;\r\n        let item: string;\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': 'Информация' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('INFORMATION_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\r\n            content = pipTranslate.translate(content);\r\n        } else {\r\n            this.title = this.title || 'Information';\r\n            this.ok = this.ok || 'OK';\r\n        }\r\n\r\n        let pipFormat: pip.services.IFormat = this._injector.has('pipFormat') \r\n            ? <pip.services.IFormat>this._injector.get('pipFormat') : null;\r\n\r\n        if (this.item && pipFormat) {\r\n            // item = _.truncate(params.item, 25);\r\n            content = pipFormat.sprintf(content, item);\r\n        }\r\n\r\n        this.content = content;        \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .controller('pipInformationDialogController', InformationDialogController);","export class InformationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Dialog messag. You can use formatting options (%s, %d etc.). \r\n    public message: string;\r\n    // Paramentrs for message string\r\n    public item?: any;\r\n}","import { InformationDialogParams } from './InformationDialogParams';\r\nimport { IInformationDialogService } from './IInformationDialogService';\r\n\r\nclass InformationDialogService implements IInformationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'information/InformationDialog.html',\r\n            controller: 'pipInformationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(function () {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .service('pipInformationDialog', InformationDialogService);","angular\r\n    .module('pipInformationDialog', [\r\n        'ngMaterial',\r\n        'pipDialogs.Translate', \r\n        'pipDialogs.Templates']);\r\n\r\nimport './InformationDialogParams';\r\nimport './InformationDialogController';\r\nimport './InformationDialogService';\r\n\r\n\r\nexport * from './IInformationDialogService';\r\nexport * from './InformationDialogParams';\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\nimport { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\n\r\nclass OptionsDialogController extends OptionsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public optionIndex: number;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService, \r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope['$theme'];\r\n        this.options = this.options || [];\r\n\r\n        this.initTranslate();\r\n        \r\n        this.selectedOption = _.find(this.options, {active: true}) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': 'Выберите опцию' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n        }\r\n              \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n    }\r\n            \r\n    public onKeyPress (event: JQueryKeyEventObject) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelect() {\r\n        let option: OptionsDialogData;\r\n        option = _.find(this.options, { name: this.selectedOptionName });\r\n\r\n        this.$mdDialog.hide({ option: option, isCheckboxOption: this.isCheckboxOption });\r\n    }\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .controller('pipOptionsDialogController', OptionsDialogController);","\r\nexport class OptionsDialogData {\r\n    public icon: string = 'star';\r\n    public name: string;\r\n    public title: string;\r\n    public active: boolean = true; \r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Dialog title \r\n    public title?: string;\r\n    // confirm button title\r\n    public ok?: string;\r\n    // Dialog options array\r\n    public options?: OptionsDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;\r\n    // Value for checkbox option\r\n    public isCheckboxOption?: boolean;\r\n    // Checkbox caption, Checkbox visible if caption is set\r\n    public checkboxOptionCaption?: string;\r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogResult {\r\n    public option: OptionsDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\nimport { IOptionsDialogService } from './IOptionsDialogService';\r\n\r\nclass OptionsDialogService implements IOptionsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public  show(params: OptionsDialogParams, \r\n        successCallback?: (result: OptionsDialogResult) => void, \r\n        cancelCallback?: () => void): any {\r\n        \r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options/OptionsDialog.html',\r\n            controller: 'pipOptionsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .service('pipOptionsDialog', OptionsDialogService);","angular\r\n    .module('pipOptionsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsDialogData';\r\nimport './OptionsDialogParams';\r\nimport './OptionsDialogResult';\r\nimport './OptionsDialogController';\r\nimport './OptionsDialogService';\r\n\r\n\r\nexport * from './OptionsDialogData';\r\nexport * from './OptionsDialogParams';\r\nexport * from './OptionsDialogResult';\r\nexport * from './OptionsDialogService';\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nclass OptionsBigDialogController extends OptionsBigDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    private $mdDialog: angular.material.IDialogService;\r\n\r\n    public theme: string;\r\n    public optionIndex: number;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService, \r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope['$theme'];\r\n\r\n        this.initTranslate()\r\n\r\n        this.selectedOption = _.find(this.options, {active: true}) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsBigDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': 'Выберите опцию' });\r\n\r\n            this.title =  pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n        }        \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n\r\n        if (this.noActions) {\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelected() {\r\n        this.selectedOptionName = this.options[this.optionIndex].name;\r\n\r\n        if (this.noActions) {\r\n               this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            if (index !== undefined && index > -1 && index < this.options.length) {\r\n                this.selectedOptionName = this.options[index].name;\r\n                this.onSelect();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public onSelect = function () {\r\n        let option: OptionsBigDialogData;\r\n        option = <OptionsBigDialogData>_.find(this.options, { name: this.selectedOptionName }) || new OptionsBigDialogData();\r\n        this.$mdDialog.hide({ option: option });\r\n    };\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);\r\n","export class OptionsBigDialogData {\r\n    public name: string;\r\n    public title: string;\r\n    public subtitle: string;\r\n}\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;   \r\n    // Dialog title \r\n    public title?: string;  \r\n    // confirm button title\r\n    public ok?: string;\r\n    // Dialog options array\r\n    public options?: OptionsBigDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsBigDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;    \r\n    // Dialog hint title\r\n    public hint?: string;\r\n    // Show title\r\n    public noTitle;\r\n    // Show action button\r\n    public noActions;\r\n}\r\n\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogResult {\r\n    public option: OptionsBigDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogResult } from './OptionsBigDialogResult';\r\nimport { IOptionsBigDialogService } from './IOptionsBigDialogService';\r\n\r\nclass OptionsBigDialogService implements IOptionsBigDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback?: (result: OptionsBigDialogResult) => void, cancelCallback?: () => void): any {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options_big/OptionsBigDialog.html',\r\n            controller: 'pipOptionsBigDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,        \r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsBigDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .service('pipOptionsBigDialog', OptionsBigDialogService);","angular\r\n    .module('pipOptionsBigDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsBigDialogParams';\r\nimport './OptionsBigDialogData';\r\nimport './OptionsBigDialogResult';\r\nimport './OptionsBigDialogController';\r\nimport './OptionsBigDialogService';\r\n\r\n\r\nexport * from './OptionsBigDialogParams';\r\nexport * from './OptionsBigDialogData';\r\nexport * from './OptionsBigDialogResult';\r\nexport * from './IOptionsBigDialogService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{ ::$ctrl.theme }}\"><div class=\"pip-header\"><h3>{{ :: $ctrl.title }}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"$ctrl.onCancel()\">{{ :: $ctrl.cancel }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ :: $ctrl.ok }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetailsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{ ::$ctrl.strings.errorDetails | translate }}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ ::$ctrl.strings.errorCode | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ $ctrl.error.code || $ctrl.error.data.code }}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ ::$ctrl.strings.errorPath | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ $ctrl.error.path || $ctrl.error.data.path }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.isString($ctrl.error) || $ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ ::$ctrl.strings.errorText | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ $ctrl.getErrorText() }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ ::$ctrl.strings.errorMethod | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ $ctrl.error.method || $ctrl.error.data.method }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ ::$ctrl.strings.errorMessage | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ $ctrl.error.message || $ctrl.error.data.message }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"$ctrl.onOk()\">{{ ::$ctrl.dismissButton | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-header\"><h3>{{:: $ctrl.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ $ctrl.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ $ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.checkboxOptionCaption\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"$ctrl.isCheckboxOption\" aria-label=\"CHECKBOX\">{{ ::$ctrl.checkboxOptionCaption | translate }}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"$ctrl.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"$ctrl.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in $ctrl.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'$ctrl.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == $ctrl.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{ option.icon }}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{ ::option.title | translate }}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{ ::option.title | translate }}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_big/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !$ctrl.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': $ctrl.noTitle && $ctrl.hint}\"><h3 class=\"m0\" ng-if=\"!$ctrl.noTitle\">{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.noTitle && $ctrl.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{ ::$ctrl.hint | translate }}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"$ctrl.optionIndex\" index=\"{{ $ctrl.optionIndex }}\" pip-select=\"$ctrl.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == $ctrl.selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"$ctrl.onKeyUp($event, $index)\" ng-repeat=\"option in $ctrl.options\"><div class=\"pip-content content-stretch\" ng-click=\"$ctrl.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{ ::option.title | translate }}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{ ::option.subtitle | translate }}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"$ctrl.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!$ctrl.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\" style=\"margin-right: -6px\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","import { ActionsConfig } from './IActionsService';\r\nimport { ActionItem } from './IActionsService';\r\nimport { ActionsChangedEvent } from './IActionsService';\r\nimport { SecondaryActionsOpenEvent } from './IActionsService';\r\nimport { IActionsService } from './IActionsService';\r\nimport { IActionsProvider } from './IActionsService';\r\n\r\n\r\nclass ActionsService implements IActionsService {\r\n    private _config: ActionsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: ActionsConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\r\n        this._config.primaryLocalActions = primaryActions || [];\r\n        this._config.secondaryLocalActions = secondaryActions || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.primaryLocalActions = [];\r\n        this._config.secondaryLocalActions = [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(action: string, count: number) {\r\n        if (action == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\r\n    }\r\n\r\n    public openMenuEvent(): void {\r\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\r\n    }\r\n}\r\n\r\nclass ActionsProvider implements IActionsProvider {\r\n    private _config: ActionsConfig = new ActionsConfig();\r\n    private _service: ActionsService;\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ActionsConfig) {\r\n        this._config = value || new ActionsConfig();\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ActionsService(this._config, $rootScope);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipActions')\r\n    .provider('pipActions', ActionsProvider);\r\n\r\n","export const ActionsChangedEvent: string = 'pipActionsChanged';\r\nexport const SecondaryActionsOpenEvent: string = 'pipSecondaryActionsOpen';\r\n\r\nexport class SimpleActionItem {\r\n    // Name to refer to the item\r\n    public name: string;\r\n    // Link visible title\r\n    public title?: string;\r\n    // Show divider instead of title\r\n    public divider?: boolean;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Counter badge\r\n    public count?: number;\r\n    // Access function\r\n    public access?: (action: SimpleActionItem) => boolean;\r\n    // Show on specified breakpoints\r\n    public breakpoints?: string[];\r\n    // window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public click?: (action: SimpleActionItem) => void;\r\n}\r\n\r\nexport class ActionItem extends SimpleActionItem {\r\n    public subActions: SimpleActionItem[];\r\n}\r\n\r\nexport class ActionsConfig {\r\n    // Primary global actions visible on the screen\r\n    public primaryGlobalActions: ActionItem[] = [];\r\n    // Primary local actions visible on the screen\r\n    public primaryLocalActions: ActionItem[] = [];\r\n\r\n    // Secondary global actions available in popup\r\n    public secondaryGlobalActions: ActionItem[] = [];\r\n    // Secondary local actions available in popup\r\n    public secondaryLocalActions: ActionItem[]= [];\r\n}\r\n\r\nexport interface IActionsService {\r\n    readonly config: ActionsConfig;\r\n\r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n\r\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\r\n    hide(): void;\r\n    updateCount(link: string, count: number): void; \r\n    clearCounts(): void;\r\n    openMenuEvent(): void;\r\n}\r\n\r\nexport interface IActionsProvider extends ng.IServiceProvider {\r\n    config: ActionsConfig;\r\n    \r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n}","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass PrimaryActionsController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public config: ActionsConfig;\r\n\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n    public originatorEv: any;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $log: ng.ILogService,\r\n        $attrs: ng.IAttributes\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                DOCUMENTS_ATTACHED: 'document(s) attached',\r\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                DOCUMENTS_ATTACHED: 'документов добавлено',\r\n                ERROR_DOCUMENTS_LOADED: 'Ошибка: <%= error_number %> документ(ов) не загружено'\r\n\r\n            });\r\n        }\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-primary-actions');\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n    }\r\n    \r\n    public $onInit() {\r\n        if (this.localActions) {\r\n            this.pipActions.primaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            this.pipActions.primaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = this.pipActions.config;\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('this._state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null ;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface IPrimaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any,\r\n    originatorEv: any\r\n}\r\n\r\nconst PrimaryActionsBindings: IPrimaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions',\r\n    originatorEv: '<?pipOriginatorEv'\r\n}\r\n\r\nclass PrimaryActionsChanges implements ng.IOnChangesObject, IPrimaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n    originatorEv: ng.IChangesObject<any>;\r\n}\r\n\r\n\r\n(() => {\r\n    const primaryActions: ng.IComponentOptions = {\r\n        bindings: PrimaryActionsBindings,\r\n        templateUrl: 'actions/PrimaryActions.html',\r\n        controller: PrimaryActionsController\r\n    };\r\n\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipPrimaryActions', primaryActions);\r\n\r\n})();","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass SecondaryActionsController {\r\n    private pipTranslate: pip.services.ITranslateService\r\n    private _menuFn: Function;\r\n    private originatorEv: any;\r\n\r\n    public config: ActionsConfig;\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n\r\n    constructor(\r\n        private $attrs: ng.IAttributes,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $element: ng.IAugmentedJQuery,\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-secondary-actions');\r\n\r\n        if (this.localActions) {\r\n            pipActions.secondaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            pipActions.secondaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = pipActions.config;\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n        this.$rootScope.$on('pipSecondaryActionsOpen', () => {\r\n            this.onActionsMenuOpen();\r\n        });\r\n\r\n    }\r\n\r\n    public getMenu(menuFn: Function): void {\r\n         this._menuFn = menuFn;\r\n    }\r\n\r\n    public onActionsMenuOpen(): void {\r\n        this._menuFn();\r\n    }\r\n\r\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\r\n        this.originatorEv = ev;\r\n        $mdOpenMenu(ev);\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n\r\n    private calcActions(actions: ActionItem[]): number {\r\n        let count: number = 0;\r\n\r\n        _.each(actions, (action: ActionItem) => {\r\n            if (!this.isHidden(action)) {\r\n                count++;\r\n            }\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    public secondaryActionsVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public secondaryDividerVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        // todo: do not supported into ActionItem\r\n        // if (action.close) {\r\n        //     this.$scope.originatorEv = null;\r\n        // }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('this._state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface ISecondaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any\r\n}\r\n\r\nconst SecondaryActionsBindings: ISecondaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions'\r\n}\r\n\r\nclass SecondaryActionsChanges implements ng.IOnChangesObject, ISecondaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n}\r\n\r\n\r\n(() => {\r\n    const secondaryActions: ng.IComponentOptions = {\r\n        bindings: SecondaryActionsBindings,\r\n        templateUrl: 'actions/SecondaryActions.html',\r\n        controller: SecondaryActionsController\r\n    };\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipSecondaryActions', secondaryActions);\r\n\r\n})();\r\n","angular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\r\n\r\nimport './ActionsService';\r\nimport './PrimaryActions';\r\nimport './SecondaryActions';\r\n\r\nexport * from './IActionsService';","﻿import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarController {\r\n    public config: AppBarConfig;\r\n\r\n    constructor(\r\n        $element: ng.IAugmentedJQuery,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n        // Apply class and call resize\r\n        $element.addClass('pip-appbar');\r\n        $element.addClass('color-primary-bg');\r\n\r\n        this.config = pipAppBar.config;\r\n\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(event, config)\r\n        });\r\n    }\r\n\r\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        this.config = config;\r\n    }\r\n    \r\n}\r\n\r\n{\r\n    const appbar: ng.IComponentOptions = {\r\n        transclude: true,\r\n        templateUrl: 'appbar/AppBar.html',\r\n        controller: AppBarController\r\n    }\r\n\r\n    angular\r\n        .module('pipAppBar')\r\n        .component('pipAppbar', appbar);\r\n\r\n}","export class AppBarConfig {\r\n    visible: boolean;\r\n    parts: any;\r\n    classes: string[];\r\n} ","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarPartController {\r\n    \r\n    private _partName: string;\r\n    private _partValue: string;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $log: ng.ILogService,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._partName = String($attrs['pipAppbarPart']);\r\n        this._partValue = null;\r\n\r\n        // Break part apart\r\n        let pos: number = this._partName.indexOf(':');\r\n        if (pos > 0) {\r\n            this._partValue = this._partName.substr(pos + 1);\r\n            this._partName = this._partName.substr(0, pos);\r\n        }\r\n\r\n        this.onAppBarChanged(null, pipAppBar.config);\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(null, config)\r\n        });\r\n\r\n    }\r\n\r\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        let parts: any = config.parts || {};\r\n        let currentPartValue = parts[this._partName];\r\n\r\n        // Set visible variable to switch ngIf\r\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\r\n\r\n        if (visible != this.$scope['visible'])\r\n            this.$scope['visible'] = visible;\r\n    }\r\n\r\n}\r\n\r\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n(() => {\r\n    function appbarPart(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs['ngIf'] = () => {\r\n                    return $scope['visible'];\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: AppBarPartController\r\n        };\r\n    }\r\n\r\n    angular.module('pipAppBar')\r\n        .directive('pipAppbarPart', appbarPart);\r\n\r\n})();","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService, IAppBarProvider } from './IAppBarService';\r\n\r\nexport const AppBarChangedEvent: string = 'pipAppBarChanged';\r\n\r\nclass AppBarService implements IAppBarService {\r\n    private _config: AppBarConfig;\r\n\r\n    public constructor(config: AppBarConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\r\n        this._config.visible = true;\r\n        this._config.parts = parts || this._config.parts || {};\r\n        this._config.classes = classes || this._config.classes || [];\r\n        if (shadowBreakpoints) {\r\n            this.setShadow(shadowBreakpoints); \r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private hideShadow(): void {\r\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\r\n    }\r\n\r\n    private setShadow(breakpoints: string[]): void {\r\n        this.hideShadow();\r\n\r\n        if (breakpoints != null && breakpoints.length > 0) {\r\n            _.each(breakpoints, (bp) => {\r\n                this._config.classes.push('pip-shadow-' + bp);\r\n            });\r\n        } else {\r\n            this._config.classes.push('pip-shadow');\r\n        }\r\n    }\r\n\r\n    public addShadow(...breakpoints: string[]): void {\r\n        this.setShadow(breakpoints);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeShadow(): void {\r\n        this.hideShadow();\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(AppBarChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AppBarProvider implements IAppBarProvider {\r\n    private _config: AppBarConfig = {\r\n        visible: true,\r\n        parts: {},\r\n        classes: []\r\n    };\r\n    private _service: AppBarService;\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AppBarConfig) {\r\n        this._config = value || new AppBarConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AppBarService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nangular\r\n    .module('pipAppBar')\r\n    .provider('pipAppBar', AppBarProvider);\r\n","angular\r\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './AppBarConfig';\r\nimport './AppBarService';\r\nimport './AppBar';\r\nimport './AppBarPart';\r\n\r\nexport * from './AppBarService';\r\n","import { SimpleActionItem } from '../actions/IActionsService';\r\nimport { BreadcrumbItem } from './BreadcrumbConfig';\r\nimport { BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService } from './IBreadcrumbService';\r\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\r\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\r\nimport { OpenSearchEvent } from '../search/SearchService';\r\n\r\nclass BreadcrumbController {\r\n    private originatorEv: Event;\r\n    private _media: any;\r\n\r\n    public config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private $injector: ng.auto.IInjectorService,\r\n        pipBreadcrumb: IBreadcrumbService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $state: ng.ui.IStateService,\r\n        $element: ng.IAugmentedJQuery,\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\r\n            this.onBreadcrumbChanged(event, config);\r\n        });\r\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\r\n    }\r\n\r\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack(): void {\r\n        let items: BreadcrumbItem[] = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let item: BreadcrumbItem = items[items.length - 1];\r\n            if (_.isFunction(item.click)) {\r\n                item.click(item);\r\n            } else {\r\n                this.$window.history.back();\r\n            }\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n    }\r\n\r\n    public onClick(item: BreadcrumbItem): void {\r\n        if (_.isFunction(item.click)) {\r\n            item.click(item);\r\n        }\r\n    }\r\n\r\n    public openSearch(): void {\r\n        this.$rootScope.$broadcast(OpenSearchEvent);\r\n    }\r\n\r\n    public actionsVisible(item: BreadcrumbItem): boolean {\r\n\r\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\r\n    }\r\n\r\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\r\n        this.originatorEv = event;\r\n        $mdOpenMenu(this.originatorEv);\r\n    }\r\n\r\n    public onSubActionClick(action: SimpleActionItem): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.get('$state') as ng.ui.IStateService\r\n                _state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n            this.originatorEv = null;\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n            this.originatorEv = null;\r\n        }\r\n    }\r\n}\r\n\r\nconst breadcrumb: ng.IComponentOptions = {\r\n    bindings: {},\r\n    templateUrl: 'breadcrumb/Breadcrumb.html',\r\n    controller: BreadcrumbController\r\n}\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .component('pipBreadcrumb', breadcrumb);","import { SimpleActionItem } from '../actions/IActionsService';\r\nexport class BreadcrumbItem {\r\n    title: string = null;\r\n    click?: (item: BreadcrumbItem) => void = null;   \r\n    subActions?: SimpleActionItem[] = null; \r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n}\r\n","import { BreadcrumbItem, BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService, IBreadcrumbProvider } from './IBreadcrumbService';\r\n\r\nexport const BreadcrumbChangedEvent: string = \"pipBreadcrumbChanged\";\r\nexport const BreadcrumbBackEvent: string = \"pipBreadcrumbBack\";\r\n\r\nclass BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        config: BreadcrumbConfig\r\n    ) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showText(text: string, criteria?: string): void {\r\n        this._config.text = text;\r\n        this._config.items = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\r\n        this._config.items = items || [];\r\n        this._config.text = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public sendConfigEvent() {\r\n        this.$rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\n\r\nclass BreadcrumbProvider implements IBreadcrumbProvider, ng.IServiceProvider {\r\n    private _config: BreadcrumbConfig = new BreadcrumbConfig();\r\n    private _service: BreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): IBreadcrumbService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService($rootScope, this._config);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .provider('pipBreadcrumb', BreadcrumbProvider);\r\n","angular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\r\n\r\nimport './Breadcrumb';\r\nimport './BreadcrumbService';\r\n\r\nexport * from './BreadcrumbService';\r\n\r\n\r\n","import { INavService } from './INavService'\r\nimport { INavIconService } from '../icon/INavIconService';\r\nimport { INavMenuService } from '../menu/INavMenuService';\r\nimport { INavHeaderService } from '../header/INavHeaderService';\r\nimport { IBreadcrumbService } from '../breadcrumb/IBreadcrumbService';\r\nimport { ISearchService } from '../search/ISearchService';\r\nimport { IActionsService } from '../actions/IActionsService';\r\nimport { IAppBarService } from '../appbar/IAppBarService';\r\nimport { ISideNavService } from '../sidenav/ISideNavService';\r\n\r\nclass NavService implements INavService {\r\n\r\n    public appbar: IAppBarService;\r\n    public icon: INavIconService;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: IActionsService;\r\n    public search: ISearchService;\r\n    public sidenav: ISideNavService;\r\n    public header: INavHeaderService;\r\n    public menu: INavMenuService;\r\n\r\n    public constructor($injector: ng.auto.IInjectorService) {\r\n        \"ngInject\";\r\n\r\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\r\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\r\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\r\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\r\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\r\n    }\r\n\r\n    public reset() {\r\n        // Reset appbar\r\n        if (this.appbar) {\r\n            this.appbar.show();\r\n        }\r\n\r\n        // Reset icon\r\n        if (this.icon) {\r\n            this.icon.showMenu();\r\n        }\r\n\r\n        // Reset breadcrumb\r\n        if (this.breadcrumb) {\r\n            this.breadcrumb.showText(null);\r\n        }\r\n\r\n        // Reset actions\r\n        if (this.actions) {\r\n            this.actions.show();\r\n        }\r\n\r\n        // Reset search\r\n        if (this.search) {\r\n            this.search.set(null);\r\n        }\r\n\r\n        if (this.sidenav) {\r\n            this.sidenav.show();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavService', [])\r\n    .service('pipNavService', NavService);","{\r\n    class DropdownController {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n\r\n        public themeClass: string;\r\n        public media: any;\r\n        public actions: any[]; // string or array\r\n        public activeIndex: number;\r\n        public selectedIndex: number;\r\n        public currentTheme: string;\r\n\r\n        public ngDisabled: Function;\r\n        public showDropdown: Function;\r\n        public select: any;\r\n        public pipChange: Function;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            $element: ng.IAugmentedJQuery,\r\n            $attrs: ng.IAttributes,\r\n            $injector: ng.auto.IInjectorService,\r\n            $log: ng.ILogService,\r\n            $rootScope: ng.IRootScopeService,\r\n            $mdMedia: angular.material.IMedia,\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\r\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if ($rootScope['$theme']) {\r\n                this.currentTheme = $rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = ($attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\r\n\r\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n            this.media = !_.isUndefined(this._pipMedia) ? this._pipMedia : $mdMedia;\r\n            this.actions = (this.actions && _.isArray(this.actions)) ? this.actions : [];\r\n            this.activeIndex = this.activeIndex || 0;\r\n        }\r\n\r\n        public disabled(): boolean {\r\n            if (this.ngDisabled) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public onSelect(index: number): void {\r\n            this.activeIndex = index;\r\n            if (this.select) {\r\n                this.select(this.actions[index], this.activeIndex);\r\n            }\r\n\r\n            if (this.pipChange) {\r\n                this.$timeout(() => {\r\n                    this.pipChange();\r\n                });\r\n            }\r\n        }\r\n\r\n        public show(): boolean {\r\n            let result: boolean;\r\n            if (this.showDropdown()) {\r\n                return !!this.showDropdown();\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    interface IDropdownBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any,\r\n        actions: any,\r\n        showDropdown: any,\r\n        activeIndex: any,\r\n        select: any,\r\n        pipChange: any\r\n    }\r\n\r\n    const DropdownBindings: IDropdownBindings = {\r\n        ngDisabled: '&',\r\n        actions: '=pipActions',\r\n        showDropdown: '&pipShow',\r\n        activeIndex: '=pipActiveIndex',\r\n        select: '=pipDropdownSelect',\r\n        pipChange: '&'\r\n    }\r\n\r\n    class DropdownChanges implements ng.IOnChangesObject, IDropdownBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        ngDisabled: ng.IChangesObject<Function>;\r\n        actions: ng.IChangesObject<any>;\r\n        showDropdown: ng.IChangesObject<Function>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<any>;\r\n        pipChange: ng.IChangesObject<Function>;\r\n    }\r\n\r\n    const dropdown: ng.IComponentOptions = {\r\n        bindings: DropdownBindings,\r\n        templateUrl: 'dropdown/Dropdown.html',\r\n        controller: DropdownController\r\n    };\r\n\r\n    angular\r\n        .module('pipDropdown', ['pipNav.Templates'])\r\n        .component('pipDropdown', dropdown);\r\n\r\n}","import { INavHeaderService } from \"./INavHeaderService\";\r\nimport { NavHeaderConfig } from \"./NavHeaderConfig\";\r\n\r\n{\r\n    class NavHeaderController {\r\n        private cleanupNavHeaderChanged: Function;\r\n        private cleanupSideNavStateChanged: Function;\r\n\r\n        public title: string;\r\n        public subtitle: string;\r\n        public imageUrl: string = null;\r\n        public imageCss: string;\r\n        public image: any;\r\n        public imageBlock: any;\r\n        public loadedDefaultImage: boolean;\r\n        public showHeader: boolean;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $scope: angular.IScope,\r\n            $log: ng.ILogService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipNavHeader: INavHeaderService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            this.initImage();\r\n\r\n            this.cleanupNavHeaderChanged = $rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\r\n                this.onNavHeaderChanged($event, config)\r\n            });\r\n            this.cleanupSideNavStateChanged = $rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n        }\r\n\r\n        public $onDestroy() {\r\n\r\n            if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n                this.cleanupNavHeaderChanged();\r\n            }\r\n            if (angular.isFunction(this.cleanupSideNavStateChanged)) {\r\n                this.cleanupSideNavStateChanged();\r\n            }\r\n        }\r\n\r\n        private initImage() {\r\n            this.imageBlock = this.$element.find('.pip-sticky-nav-header-user');\r\n\r\n            this.$timeout(() => {\r\n                this.image = this.$element.find('.pip-sticky-nav-header-user-image');\r\n\r\n                if (this.image[0]) {\r\n                    this.image[0].onload = (() => this.onImageLoad());\r\n\r\n                    // ($event: HTMLElement, erroev: Event): any =>  {\r\n                    //     this.onImageLoad($event);\r\n                    //     return null;\r\n                    // }\r\n                    this.image[0].onerror = (() => this.onImageError());\r\n                    // ($event: ng.IAngularEvent) => {\r\n                    //     this.onImageError($event);\r\n                    // }\r\n                } else {\r\n                    this.image.onload = (() => this.onImageLoad());\r\n                    this.image.onerror = (() => this.onImageError());\r\n                }\r\n\r\n                this.onNavHeaderChanged(null, this.pipNavHeader.config);\r\n            }, 20);\r\n        }\r\n\r\n        private initHeader() {\r\n            if (!this.pipNavHeader.config) return;\r\n\r\n            this.title = this.pipNavHeader.config.title;\r\n            this.subtitle = this.pipNavHeader.config.subtitle;\r\n            this.imageUrl = this.pipNavHeader.config.imageUrl;\r\n            this.imageCss = this.pipNavHeader.config.imageCss;\r\n        }\r\n\r\n        // // When image is loaded resize/reposition it\r\n        // private onImageLoad($event) {\r\n        //     let image: ng.IAugmentedJQuery = $($event.target);\r\n        //     this.setImageMarginCSS(image);\r\n        // };\r\n\r\n        // private onImageError($event) {\r\n        //     if (this.loadedDefaultImage) return;\r\n        //     this.$scope.$apply(() => {\r\n        //         this.setImage(this.pipNavHeader.config, true);\r\n        //     });\r\n        // };\r\n        // When image is loaded resize/reposition it\r\n        private onImageLoad() {\r\n            this.setImageMarginCSS(this.image);\r\n        };\r\n\r\n        private onImageError() {\r\n            if (this.loadedDefaultImage) return;\r\n            this.$scope.$apply(() => {\r\n                this.setImage(this.pipNavHeader.config, true);\r\n            });\r\n        };\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\r\n            if (state === undefined) return;\r\n\r\n            if (state.id == 'toggle') {\r\n                this.$timeout(() => {\r\n                    this.showHeader = state && state.id == 'toggle';\r\n                }, 400);\r\n            } else {\r\n                this.showHeader = false;\r\n            }\r\n        }\r\n\r\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\r\n            var cssParams = {},\r\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\r\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\r\n                imageWidth = image[0]['naturalWidth'] || image.width,\r\n                imageHeight = image[0]['naturalHeight'] || image.height,\r\n                margin = 0;\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\r\n                cssParams['width'] = '' + containerWidth + 'px';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            image.css(cssParams);\r\n        };\r\n\r\n        private setImage(config, loadError: boolean) {\r\n            if (!config) return;\r\n\r\n            let url: string;\r\n\r\n            if (!loadError && !!config.imageUrl) {\r\n                url = config.imageUrl;\r\n            } else {\r\n                this.loadedDefaultImage = true;\r\n                url = config.defaultImageUrl;\r\n            }\r\n\r\n            if (url && this.image) {\r\n                this.image.attr('src', url);\r\n            } else {\r\n                this.imageBlock.css(\"display\", \"none\");\r\n            }\r\n        }\r\n\r\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\r\n            if (!config) return;\r\n\r\n            this.title = config.title;\r\n            this.subtitle = config.subtitle;\r\n            this.imageUrl = config.imageUrl;\r\n            this.imageCss = config.imageCss;\r\n\r\n            this.setImage(config, false)\r\n        }\r\n\r\n        public onUserClick() {\r\n            this.$rootScope.$broadcast('pipNavUserClicked'); // todo\r\n        }\r\n\r\n    }\r\n\r\n    const navHeader: ng.IComponentOptions = {\r\n        templateUrl: 'header/NavHeader.html',\r\n        controller: NavHeaderController\r\n    };\r\n\r\n    angular\r\n        .module('pipNavHeader')\r\n        .component('pipNavHeader', navHeader);\r\n\r\n}","export class NavHeaderConfig {\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Image url\r\n    public defaultImageUrl: string;\r\n    // Title\r\n    public title: string;\r\n    // Subtitle\r\n    public subtitle: string;\r\n    // image styles\r\n    public imageCss: string;\r\n    // Handle header click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavHeaderConfig } from \"./NavHeaderConfig\";\r\nimport { INavHeaderService, INavHeaderProvider } from \"./INavHeaderService\";\r\n\r\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\r\n\r\nclass NavHeaderService implements INavHeaderService {\r\n    private _config: NavHeaderConfig;\r\n\r\n    public constructor(config: NavHeaderConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(NavHeaderChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavHeaderProvider implements INavHeaderProvider {\r\n    private _config: NavHeaderConfig = new NavHeaderConfig();\r\n    private _service: NavHeaderService;\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavHeaderConfig) {\r\n        this._config = value || new NavHeaderConfig();\r\n    }\r\n\r\n    public get defaultImageUrl(): string {\r\n        return this._config.defaultImageUrl;\r\n    }\r\n\r\n    public set defaultImageUrl(value: string) {\r\n        this._config.defaultImageUrl = value;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n    }\r\n\r\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavHeaderService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavHeader')\r\n    .provider('pipNavHeader', NavHeaderProvider);\r\n","angular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './NavHeaderService';\r\nimport './NavHeader';\r\n\r\nexport * from './NavHeaderService';","import { OpenSideNavEvent } from '../sidenav/SideNavService';\r\nimport { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService } from './INavIconService';\r\nimport { NavIconClickedEvent, NavIconChangedEvent } from './NavIconService';\r\n\r\ninterface INavIconBindings {\r\n    [key: string]: any;\r\n\r\n    type: any;\r\n    imageUrl: any;\r\n    icon: any;\r\n}\r\n\r\nconst NavIconBindings: INavIconBindings = {\r\n    type: '<?pipType',\r\n    imageUrl: '<?pipImageUrl',\r\n    icon: '<?pipIcon'\r\n}\r\n\r\nclass NavIconChanges implements ng.IOnChangesObject, INavIconBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n    // Not one way bindings\r\n\r\n    type: ng.IChangesObject<string>;\r\n    imageUrl: ng.IChangesObject<string>;\r\n    icon: ng.IChangesObject<string>;\r\n}\r\n\r\nclass NavIconController implements INavIconBindings {\r\n    private clearFn: Function;\r\n\r\n    public config: NavIconConfig;\r\n    public type: string;\r\n    public imageUrl: string;\r\n    public icon: string;\r\n\r\n    constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        $element: ng.IAugmentedJQuery,\r\n        $scope: angular.IScope,\r\n        $log: ng.ILogService,\r\n        pipNavIcon: INavIconService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-nav-icon');\r\n\r\n        this.config = pipNavIcon.config;\r\n\r\n        this.clearFn = $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\r\n            this.onNavIconChanged(event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onInit() {\r\n        if (this.type) {\r\n            this.config.type = this.type;\r\n        }\r\n        if (this.imageUrl) {\r\n            this.config.imageUrl = this.imageUrl;\r\n        }\r\n        if (this.icon) {\r\n            this.config.icon = this.icon;\r\n        }        \r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    public onNavIconClick(): void {\r\n        if (_.isFunction(this.config.click)) {\r\n            // Execute nav icon callback\r\n            this.config.click();\r\n        } else if (this.config.event) {\r\n            this.$rootScope.$broadcast(this.config.event);\r\n        } else if (this.config.type == 'menu') {\r\n            this.$rootScope.$broadcast(OpenSideNavEvent);\r\n        } else if (this.config.type == 'back') {\r\n            this.$window.history.back();\r\n        } else {\r\n            this.$rootScope.$broadcast(NavIconClickedEvent);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst NavIcon: ng.IComponentOptions = {\r\n    bindings: NavIconBindings,\r\n    templateUrl: 'icon/NavIcon.html',\r\n    controller: NavIconController\r\n}\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .component('pipNavIcon', NavIcon);\r\n","export class NavIconConfig {\r\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n    public type: string;\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Icon name\r\n    public icon: string;\r\n    // Handle nav icon click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService, INavIconProvider } from './INavIconService';\r\n\r\nexport const NavIconClickedEvent: string = 'pipNavIconClicked';\r\nexport const NavIconChangedEvent: string = 'pipNavIconChanged';\r\n\r\nclass NavIconService implements INavIconService {\r\n    private _config: NavIconConfig;\r\n\r\n    public constructor(config: NavIconConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n            this._config.event = null;\r\n        } else if (_.isString(callbackOrEvent)) {\r\n            this._config.click = null;\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public showMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(NavIconChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavIconProvider implements INavIconProvider {\r\n    private _config: NavIconConfig = new NavIconConfig();\r\n    private _service: NavIconService;\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavIconConfig) {\r\n        this._config = value || new NavIconConfig();\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public setMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavIconService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n     \r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .provider('pipNavIcon', NavIconProvider);\r\n","angular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavIconConfig';\r\nimport './INavIconService';\r\nimport './NavIconService';\r\nimport './NavIcon';\r\n\r\n\r\nexport * from './NavIconConfig';\r\nexport * from './INavIconService';\r\nexport * from './NavIconService';\r\n","{\r\n    class LanguagePickerDirectiveController implements ILanguagePickerBindings {\r\n        private _translate: pip.services.ITranslateService;\r\n        public languages: string[] = ['en', 'ru'];\r\n        public value: string = null;\r\n\r\n        public constructor(\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            $rootScope: ng.IRootScopeService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.setLanguages(this.languages);\r\n\r\n            this.value = this.value  || this.languages[0];\r\n        }\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(languages: string[]): void {\r\n            this.languages = languages.length > 0 ? languages : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language: string) {\r\n            if (this._translate != null) {\r\n                this.value = language;\r\n                // this.$timeout(() => {\r\n                this._translate.language = this.value;\r\n                // }, 0);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    interface ILanguagePickerBindings {\r\n        [key: string]: any;\r\n\r\n        languages: any,\r\n        value: any\r\n    }\r\n\r\n    const LanguagePickerBindings: ILanguagePickerBindings = {\r\n        languages: '<languages',\r\n        value: '=?value'\r\n    }\r\n\r\n    const languagePickerDirective: ng.IComponentOptions = {\r\n        bindings: LanguagePickerBindings,\r\n        templateUrl: 'language/LanguagePicker.html',\r\n        controller: LanguagePickerDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .component('pipLanguagePicker', languagePickerDirective);\r\n\r\n}","import { ISideNavService} from '../sidenav/ISideNavService';\r\nimport { INavMenuService} from './INavMenuService';\r\nimport { SideNavStateNames, SideNavState, SideNavConfig } from '../sidenav/SideNavState';\r\nimport { NavMenuConfig, NavMenuSection, NavMenuLink } from './NavMenuConfig';\r\n\r\n(() => {\r\n    class NavMenuController {\r\n        private _state: angular.ui.IStateService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n        private _animationDuration;\r\n        private _pipSideNavElement: ng.IAugmentedJQuery;\r\n\r\n        public sections: NavMenuSection[];\r\n        public defaultIcon: string;\r\n        public isCollapsed: boolean;\r\n        public expanded: boolean;\r\n        public expandedButton: boolean;\r\n        public sideNavState: SideNavState;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $window: ng.IWindowService,\r\n            private $location: ng.ILocationService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipSideNav: ISideNavService,\r\n            private pipNavMenu: INavMenuService,\r\n\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._state = $injector.has('$state') ? <angular.ui.IStateService>$injector.get('$state') : null;\r\n\r\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\r\n                this._pipSideNavElement = $element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n\r\n            this.sections = this.$scope['sections'] || this.pipNavMenu.sections;\r\n\r\n            this.setCollapsible();\r\n\r\n            this.defaultIcon = this.pipNavMenu.defaultIcon;\r\n\r\n            this.onStateChanged(null, this.pipSideNav.state);\r\n\r\n            let cleanupNavMenuChanged: Function = this.$rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\r\n                this.onConfigChanged($event, config)\r\n            });\r\n            let cleanupSideNavStateChanged: Function = this.$rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                if (angular.isFunction(cleanupNavMenuChanged)) {\r\n                    cleanupNavMenuChanged();\r\n                }\r\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\r\n                    cleanupSideNavStateChanged();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private setCollapsible(): void {\r\n            var collapsed: boolean;\r\n            if (angular.isFunction(this.$scope['collapsed'])) {\r\n                collapsed = this.$scope['collapsed']();\r\n            } else {\r\n                collapsed = this.$scope['collapsed'] !== false && this.$scope['collapsed'] !== 'false';\r\n            }\r\n\r\n            this.isCollapsed = collapsed;\r\n        }\r\n\r\n        public onExpand(): void {\r\n            if (!this.isCollapsed) { return }\r\n\r\n            this.expanded = !this.expanded;\r\n\r\n            if (this.expanded) {\r\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\r\n            } else {\r\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\r\n            }\r\n            this.$rootScope.$emit('pipNavExpanded', this.expanded);\r\n        }\r\n\r\n        public isHidden(item: NavMenuLink): boolean {\r\n            return item && item.access && !item.access(item);\r\n        }\r\n\r\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\r\n            var result = true;\r\n            _.each(linkCollection, (link: NavMenuLink) => {\r\n                if (!this.isHidden(link)) {\r\n                    result = false;\r\n                }\r\n            });\r\n\r\n            return result;\r\n        }\r\n\r\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\r\n            if (!config) return;\r\n            this.sections = config.sections;\r\n        }\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\r\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\r\n            if (!state) return;\r\n\r\n            this.isCollapsed = state.expand;\r\n            this.expanded = state.isExpanded;\r\n            this.expandedButton = state.expandedButton;\r\n\r\n            this.sideNavState = state;\r\n        }\r\n\r\n        public isActive(link: NavMenuLink): boolean {\r\n            if (link.parentState) {\r\n\r\n                if (this._state != null && this._state.includes(link.parentState)) {\r\n                    return true;\r\n                }\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.includes(link.state)) {\r\n                    return true;\r\n                }\r\n            } else if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    return true;\r\n                }\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\r\n            event.stopPropagation();\r\n\r\n            if (!link) {\r\n                this.pipSideNav.close();\r\n\r\n                return;\r\n            }\r\n\r\n            if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$window.location.href = link.href;\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    this.pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$location.url(link.url);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.current.name === link.state) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this._state.go(link.state, link.stateParams);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.event) {\r\n                this.$rootScope.$broadcast(link.event, link);\r\n            }\r\n\r\n            this.pipSideNav.close();\r\n        }\r\n    }\r\n\r\n    interface INavMenuBindings {\r\n        [key: string]: any;\r\n        sections: any,\r\n        collapsed: any\r\n    }\r\n\r\n    const NavMenuBindings: INavMenuBindings = {\r\n        sections: '=?pipSections',\r\n        collapsed: '=?pipCollapsed'\r\n    };\r\n\r\n    function navMenuDirective() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: NavMenuBindings,\r\n            replace: false,\r\n            templateUrl: 'menu/NavMenu.html',\r\n            controller: NavMenuController,\r\n            controllerAs: '$ctrl'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipNavMenu')\r\n        .directive('pipNavMenu', navMenuDirective);\r\n\r\n})();","import { NavMenuConfig, NavMenuSection } from './NavMenuConfig';\r\nimport { INavMenuService, INavMenuProvider } from './INavMenuService';\r\n\r\nexport const NavMenuChangedEvent = 'pipNavMenuChanged';\r\n\r\nclass NavMenuService implements INavMenuService {\r\n    private _config: NavMenuConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: NavMenuConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public updateBadgeStyle(link: string, style: string): void {\r\n        if (link == null || !_.isString(style)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.badgeStyle = style;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(link: string, count: number): void {\r\n        if (link == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.count = count;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                l.count = null;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavMenuProvider implements INavMenuProvider {\r\n    private _config: NavMenuConfig = {\r\n        sections: [],\r\n        defaultIcon: 'icons:folder'\r\n    };\r\n    private _service: NavMenuService;\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavMenuService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavMenu')\r\n    .provider('pipNavMenu', NavMenuProvider);\r\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavMenuService';\r\nimport './NavMenu';","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchService } from './ISearchService';\r\nimport { OpenSearchEvent, CloseSearchEvent, SearchChangedEvent, SearchActivatedEvent } from './SearchService';\r\n\r\nclass SearchBarController {\r\n    private clearFn: Function;\r\n\r\n    public config: SearchConfig;\r\n    public enabled: boolean = false;\r\n    public search: any = { text: '' };\r\n\r\n    public constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $rootScope: ng.IRootScopeService,\r\n        pipSearch: ISearchService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-search-bar');\r\n\r\n        this.config = pipSearch.config;\r\n        this.stateChange();\r\n        this.clearFn = $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\r\n            this.onSearchChanged(event, config);\r\n        });\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    private stateChange(): void {\r\n        if (this.enabled) {\r\n            this.$element.addClass('w-stretch');\r\n            this.$element.parent().addClass('pip-search-active');\r\n\r\n        } else {\r\n            this.$element.removeClass('w-stretch');\r\n            this.$element.parent().removeClass('pip-search-active');\r\n        }\r\n    }\r\n\r\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\r\n        this.config = config;\r\n        this.enabled = false;\r\n        this.search.text = '';\r\n        this.stateChange();\r\n    }\r\n\r\n    private focusText(): void {\r\n        setTimeout(() => {\r\n            let element: JQuery = $('.pip-search-text');\r\n            if (element.length > 0)\r\n                element.focus();\r\n        }, 0);\r\n    }\r\n\r\n    public enable(): void {\r\n        this.search.text = this.config.criteria;\r\n        this.enabled = true;\r\n        this.focusText();\r\n        this.stateChange();\r\n    }\r\n\r\n    public onClick(): void {\r\n        let search = this.search.text;\r\n\r\n        this.search.text = '';\r\n        this.enabled = false;\r\n        this.stateChange();\r\n\r\n        if (this.config.callback) {\r\n            this.config.callback(search);\r\n        } else {\r\n            this.$rootScope.$broadcast(SearchActivatedEvent, search);\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        if (this.search.text) {\r\n            this.search.text = '';\r\n            this.focusText();\r\n        } else {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    public onKeyDown(event: KeyboardEvent): void {\r\n        // Enter pressed\r\n        if (event.keyCode === 13)\r\n            this.onClick();\r\n        // ESC pressed\r\n        else if (event.keyCode === 27) {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n        }\r\n    }\r\n}\r\n\r\nconst SearchBar: ng.IComponentOptions = {\r\n    templateUrl: 'search/SearchBar.html',\r\n    controller: SearchBarController\r\n}\r\n\r\nangular\r\n    .module('pipSearchBar')\r\n    .component('pipSearchBar', SearchBar);\r\n","export class SearchConfig {\r\n    // Search visible\r\n    public visible: boolean;\r\n    // Search criteria\r\n    public criteria: string;\r\n    // Custom search parameters\r\n    public params: any;\r\n    // History for search autocomplete\r\n    public history: string[];\r\n    // Callback for search\r\n    callback: (criteria: string) => void;\r\n}","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchProvider, ISearchService } from './ISearchService';\r\n\r\nexport const OpenSearchEvent = 'pipOpenSearch';\r\nexport const CloseSearchEvent = 'pipCloseSearch';\r\nexport const SearchChangedEvent = 'pipSearchChanged';\r\nexport const SearchActivatedEvent = 'pipSearchActivated';\r\n\r\nclass SearchService implements ISearchService {\r\n    private _config: SearchConfig;\r\n\r\n    public constructor(\r\n        config: SearchConfig,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n\r\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\r\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\r\n    }\r\n\r\n    public get config(): SearchConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get params(): any {\r\n        return this._config.params;\r\n    }\r\n\r\n    public set params(value: any) {\r\n        this._config.params = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get history(): string[] {\r\n        return this._config.history;\r\n    }\r\n\r\n    public set history(value: string[]) {\r\n        this._config.history = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get callback(): (criteria: string) => void {\r\n        return this._config.callback;\r\n    }\r\n\r\n    public set callback(value: (criteria: string) => void) {\r\n        this._config.callback = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\r\n        this._config.callback = callback;\r\n        this._config.criteria = criteria;\r\n        this._config.params = params;\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.callback = null;\r\n        this._config.criteria = null;\r\n        this._config.params = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public open(): void {\r\n        this._config.visible = true;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public close(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._config.visible = !this._config.visible;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent(): void {\r\n        this.$rootScope.$broadcast(SearchChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SearchProvider implements ISearchProvider {\r\n    private _config: SearchConfig = new SearchConfig();\r\n    private _service: SearchService = null;\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SearchService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipSearchBar')\r\n    .provider('pipSearch', SearchProvider);\r\n","angular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './SearchConfig';\r\nimport './ISearchService';\r\nimport './SearchService';\r\nimport './SearchBar';\r\n\r\nexport * from './ISearchService';\r\n","import { ISideNavService } from './ISideNavService';\r\nimport { SideNavStateNames, SideNavState, SideNavStateConfig, SideNavConfig } from './SideNavState';\r\n\r\nclass SideNavController implements ISideNavBindings {\r\n    private _pipMedia: pip.layouts.IMediaService;\r\n    private _isResizing: boolean;\r\n    private _animationDuration: number;\r\n    private _mainContainer: string; // todo add  to config\r\n    private _bigWidth: number;\r\n    private _middleWidth: number;\r\n    private _smallWidth: number;\r\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\r\n    private _navState: SideNavStateConfig;\r\n    private cleanupMainResized: Function;\r\n    private cleanupSideNavState: Function;\r\n    private cleanupNavHeaderChanged: Function;\r\n    private cleanupSideNavChanged: Function;\r\n    private windowResize: Function;\r\n\r\n    public sidenavState: SideNavState;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private pipSideNav: ISideNavService,\r\n        navConstant: any\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\r\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\r\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\r\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\r\n        this._isResizing = false;\r\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\r\n        this._navState = new SideNavStateConfig();\r\n        this._mediaBreakpoints = this.setBreakpoints();\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-sticky-sidenav');\r\n\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type != 'popup') {\r\n            this.$timeout(() => {\r\n                this.setSideNaveState()\r\n            }, 100);\r\n\r\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\r\n            this.cleanupMainResized = this.$rootScope.$on('pipMainResized', () => {\r\n                this.windowResize();\r\n            });\r\n            this.cleanupSideNavState = this.$rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\r\n                this.onSideNavState($event, state)\r\n            });\r\n        } else {\r\n            this._isResizing = false;\r\n            this.sidenavState = null;\r\n            this.$timeout(() => {\r\n                if (this.pipSideNav.config.backdrop == false) {\r\n                    this.$element.addClass('pip-sidenav-hide-backdrop');\r\n                } else {\r\n                    this.$element.removeClass('pip-sidenav-hide-backdrop');\r\n                }\r\n                this.setState(SideNavStateNames.Toggle);\r\n            }, 100);\r\n        }\r\n\r\n        this.cleanupNavHeaderChanged = this.$rootScope.$on('pipNavIconClicked', () => {\r\n            this.onNavIconClick();\r\n        });\r\n        this.cleanupSideNavChanged = this.$rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\r\n            this.onSideNavChanged($event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n            this.cleanupNavHeaderChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavChanged)) {\r\n            this.cleanupSideNavChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupMainResized)) {\r\n            this.cleanupMainResized();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavState)) {\r\n            this.cleanupSideNavState();\r\n        }\r\n    }\r\n\r\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\r\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\r\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\r\n        } else {\r\n            return this._pipMedia.breakpoints;\r\n        }\r\n    }\r\n\r\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\r\n        if (config && config.visible) {\r\n            this.$element.css('display', 'block');\r\n        } else {\r\n            this.$element.css('display', 'none');\r\n        }\r\n    }\r\n\r\n    private onNavIconClick(): void {\r\n        this.pipSideNav.open();\r\n    }\r\n\r\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\r\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\r\n            this.setState(stateName);\r\n        }\r\n    }\r\n\r\n    private setSideNaveState(): void {\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type == 'popup') { return }\r\n\r\n        if (this._isResizing) {\r\n            this.$timeout(() => { this.setSideNaveState() }, this._animationDuration);\r\n\r\n            return;\r\n        }\r\n\r\n        let mainWidth: number = $(this._mainContainer).innerWidth();\r\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\r\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 2 : 0; // add border width\r\n\r\n        if (mainWidth + currentWidth < this._mediaBreakpoints.sm) {\r\n            this.setState(SideNavStateNames.Toggle);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth < this._mediaBreakpoints.md) {\r\n            this.setState(SideNavStateNames.Small);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth < this._mediaBreakpoints.lg) {\r\n            this.setState(SideNavStateNames.Large);\r\n            return;\r\n        }\r\n        this.setState(SideNavStateNames.XLarge);\r\n    }\r\n\r\n    private setState(stateName: SideNavStateNames) {\r\n        if (this._isResizing) return;\r\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\r\n\r\n        if (stateName != SideNavStateNames.Toggle) {\r\n            this.$element.removeClass('sidenav-mobile');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Small) {\r\n            this.$element.removeClass('pip-sticky-nav-small');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.XLarge) {\r\n            this.$element.removeClass('sidenav-desktop');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Large) {\r\n            this.$element.removeClass('sidenav-smalldesktop');\r\n        }\r\n\r\n        this._isResizing = true;\r\n        /*if (stateName == SideNavStateNames.Toggle) {\r\n            this.pipSideNav.close();\r\n        }*/\r\n        this.sidenavState = this._navState[String(stateName)];\r\n        this.$element.addClass(this.sidenavState.addClass);\r\n\r\n        this.pipSideNav.state = this.sidenavState;\r\n\r\n        // check sideNav State\r\n        this.$timeout(() => {\r\n            this.setSideNaveState()\r\n        }, 15);\r\n\r\n        // complete animation\r\n        this.$timeout(() => {\r\n            this._isResizing = false;\r\n        }, this._animationDuration); //animationDuration\r\n\r\n    }\r\n}\r\n\r\n\r\ninterface ISideNavBindings {\r\n    [key: string]: any;\r\n    sidenavState: any;\r\n}\r\n\r\nconst SideNavBindings: ISideNavBindings = {\r\n    sidenavState: '=?'\r\n};\r\n\r\n(() => {\r\n\r\n    const sideNav: ng.IComponentOptions = {\r\n        transclude: true,\r\n        bindings: SideNavBindings,\r\n        templateUrl: 'sidenav/SideNav.html',\r\n        controller: SideNavController\r\n    };\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .component('pipSidenav', sideNav);\r\n\r\n})();","{\r\n\r\n    interface ISideNavPartBindings {\r\n        [key: string]: any;\r\n        visible: any\r\n    }\r\n\r\n    const SideNavPartBindings: ISideNavPartBindings = {\r\n        visible: '=?'\r\n    }\r\n\r\n    class SideNavPartController {\r\n        private partName: string;\r\n        private partValue: string = null;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipSideNav) {\r\n\r\n            this.partName = '' + $attrs['pipSidenavPart'];\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onSideNavChanged(null, pipSideNav.config)\r\n            $rootScope.$on('pipSideNavChanged', (event, config) => { this.onSideNavChanged(event, config) });\r\n        }\r\n\r\n        private onSideNavChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = parts[this.partName];\r\n            let visible: boolean = !!(this.partValue ? currentPartValue == this.partValue : currentPartValue);\r\n\r\n            if (visible != this.$scope['visible'])\r\n                this.$scope['visible'] = visible;\r\n        }\r\n    }\r\n\r\n    function sidenavPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: SideNavPartBindings,\r\n            link: function linkFunction(\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes) {\r\n                $attrs['ngIf'] = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: SideNavPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .directive('pipSidenavPart', sidenavPartDirective);\r\n\r\n}","import { SideNavState, SideNavConfig } from \"./SideNavState\";\r\nimport { ISideNavProvider, ISideNavService } from \"./ISideNavService\";\r\n\r\nexport const SideNavChangedEvent = 'pipSideNavChanged';\r\nexport const SideNavStateChangedEvent = 'pipSideNavStateChanged';\r\nexport const OpenSideNavEvent = 'pipOpenSideNav';\r\nexport const CloseSideNavEvent = 'pipCloseSideNav';\r\n\r\nclass SideNavService implements ISideNavService {\r\n    private _config: SideNavConfig;\r\n    private _state: any;\r\n\r\n    public constructor(\r\n        config: SideNavConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this.$rootScope.$broadcast(SideNavStateChangedEvent, value);\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public open() {\r\n        this.$mdSidenav('pip-sticky-sidenav').open();\r\n    }\r\n\r\n    public close() {\r\n        this.$mdSidenav('pip-sticky-sidenav').close();\r\n    }\r\n\r\n    public toggle() {\r\n        this.$mdSidenav('pip-sticky-sidenav').toggle();\r\n    }\r\n\r\n    public show() {\r\n        if (!this._config.visible) {\r\n            this._config.visible = true;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        if (this._config.visible) {\r\n            this._config.visible = false;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(SideNavChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SideNavProvider implements ISideNavProvider {\r\n    private _config: SideNavConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'popup',\r\n        backdrop: true,\r\n        state: null,\r\n        visible: true\r\n    };\r\n\r\n    private _service: SideNavService;\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: SideNavConfig) {\r\n        this._config = value || new SideNavConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get visible(): boolean {\r\n        return this._config.visible;\r\n    }\r\n\r\n    public set visible(value: boolean) {\r\n        this._config.visible = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\r\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\r\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipSideNav')\r\n    .provider('pipSideNav', SideNavProvider)\r\n    .run(hookSideNavEvents);\r\n","export class SideNavStateNames {\r\n    static Toggle: string = 'toggle';\r\n    static Small: string = 'small';\r\n    static Large: string = 'large';\r\n    static XLarge: string = 'xlarge';\r\n}\r\n\r\nexport class SideNavState {\r\n    id: SideNavStateNames;\r\n    // Class which added to sidenav in this state\r\n    addClass: string;\r\n    // Side nav always open\r\n    isLockedOpen: boolean;\r\n    // Show SideNav header \r\n    showHeader: boolean;\r\n    // Show expanded button\r\n    expandedButton: boolean;\r\n    // SideNav has expand\r\n    isExpanded: boolean;\r\n    // SideNav is Expanded in this state by default\r\n    expand: boolean;\r\n    // Tooltype is show\r\n    showIconTooltype: boolean;\r\n}\r\n\r\nexport class SideNavStateConfig {\r\n    toggle: SideNavState = { // media(sm, xs)\r\n        id: SideNavStateNames.Toggle,\r\n        addClass: 'sidenav-mobile',\r\n        showHeader: true,\r\n        isLockedOpen: false,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n    small: SideNavState = { // media(md)\r\n        id: SideNavStateNames.Small,\r\n        addClass: 'pip-sticky-nav-small sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: false,\r\n        expand: false,\r\n        showIconTooltype: true\r\n    };\r\n    large: SideNavState = { // media(lg)\r\n        id: SideNavStateNames.Large,\r\n        addClass: 'sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: true,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: true\r\n    };\r\n    xlarge: SideNavState = { // media(xl)\r\n        id: SideNavStateNames.XLarge,\r\n        addClass: 'sidenav-desktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n}\r\n\r\nexport class SideNavConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: SideNavState;\r\n    type: string;\r\n    backdrop: boolean = true;\r\n    visible: boolean;\r\n}","angular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './SideNavState';\r\nimport './SideNavService';\r\nimport './SideNavPart';\r\nimport './SideNav';\r\n\r\nexport * from './SideNavService';","\r\nexport class PipTab {\r\n    id: string;\r\n    name?: string;\r\n    count: number;\r\n    title: string;\r\n}\r\n\r\n{\r\n    interface ITabsBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        tabs: any;\r\n        showTabs: any;\r\n        showTabsShadow: any;\r\n        activeIndex: any;\r\n        select: any;\r\n        breakpoints: any;\r\n        themeClass: any;\r\n    }\r\n\r\n    const TabsBindings: ITabsBindings = {\r\n        ngDisabled: '&?', // function\r\n        tabs: '<pipTabs', // PipTab[]\r\n        showTabs: '&pipShowTabs', // function\r\n        showTabsShadow: '&pipTabsShadow', // function\r\n        activeIndex: '<?pipActiveIndex', // number\r\n        select: '=pipTabsSelect', // function\r\n        breakpoints: '<?pipBreakpoints', // string\r\n        themeClass: '<?themeClass', // string\r\n    }\r\n\r\n    class TabsChanges implements ng.IOnChangesObject, ITabsBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        tabs: ng.IChangesObject<PipTab[]>;\r\n        showTabs: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        showTabsShadow: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        breakpoints: ng.IChangesObject<string>;\r\n        themeClass: ng.IChangesObject<string>;\r\n    }\r\n\r\n    class TabsDirectiveController implements ITabsBindings {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private pipMedia;\r\n        private selectedTabId: string;\r\n\r\n        public ngDisabled: Function;\r\n        public tabs: PipTab[];\r\n        public activeIndex: number;\r\n        public breakpoints: string;\r\n        public showTabs: Function;\r\n        public showTabsShadow: Function;\r\n        public select: Function;\r\n        public themeClass: string;\r\n\r\n        public currentTheme: string;\r\n\r\n        public change: () => ng.IPromise<any>;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $injector: ng.auto.IInjectorService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private navConstant: any,\r\n            $mdMedia: angular.material.IMedia\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.setTheme();\r\n            this.pipMedia = this.$injector.has('pipMedia') ? <pip.layouts.IMediaService>this.$injector.get('pipMedia') : $mdMedia;\r\n            \r\n            if (!this.breakpoints) {\r\n                this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n            }\r\n        }\r\n\r\n        private setTheme(): void {\r\n            this._pipTheme = this.$injector.has('pipTheme') ? <pip.themes.IThemeService>this.$injector.get('pipTheme') : null;\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if (this.$rootScope['$theme']) {\r\n                this.currentTheme = this.$rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = (this.themeClass || '') + ' md-' + this.currentTheme + '-theme';\r\n        }\r\n\r\n        private setTranslate(): void {\r\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n            if (this._pipTranslate) {\r\n                if (this.tabs.length > 0 && this.tabs[0].title) {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\r\n                } else {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\r\n                }\r\n            }\r\n        }\r\n\r\n        public isDisabled(): boolean {\r\n            if (_.isFunction(this.ngDisabled)) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return this.toBoolean(this.ngDisabled);\r\n            }\r\n        };\r\n\r\n        public tabDisabled(index: number): boolean {\r\n            return (this.isDisabled() && this.activeIndex != index);\r\n        };\r\n\r\n        public onSelect(index: number): void {\r\n            if (this.isDisabled()) return;\r\n            this.activeIndex = index;\r\n            this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            this.$timeout(() => {\r\n                if (this.select) {\r\n                    this.select(this.tabs[this.activeIndex], this.activeIndex);\r\n                }\r\n            }, 0);\r\n\r\n        };\r\n\r\n        public showShadow(): boolean {\r\n            if (_.isFunction(this.showTabsShadow)) {\r\n                return this.showTabsShadow();\r\n            } else {\r\n                return this.toBoolean(this.showTabsShadow);\r\n            }\r\n        };\r\n\r\n        public show(): boolean {\r\n            if (!this.showTabs) return true;\r\n            if (_.isFunction(this.showTabs)) {\r\n                return this.showTabs();\r\n            } else {\r\n                return this.toBoolean(this.showTabs);\r\n            }\r\n        };\r\n\r\n        public toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TabsChanges) {\r\n\r\n            if (!changes.breakpoints) {\r\n                if (!this.breakpoints) {\r\n                    this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n                }\r\n            } else {\r\n                this.breakpoints = changes.breakpoints.currentValue ? changes.breakpoints.currentValue : this.navConstant.TAB_BREAKPOINT\r\n            }\r\n\r\n            if (changes.activeIndex === undefined) {\r\n                if (!this.activeIndex) {\r\n                    this.activeIndex = 0;\r\n                }\r\n            } else {\r\n                this.activeIndex = changes.activeIndex.currentValue || 0;\r\n                if (this.$timeout && this.activeIndex !== changes.activeIndex.previousValue) {\r\n                    this.$timeout(() => {\r\n                        let a = this.$element.find('md-tabs-canvas');\r\n                        if (a && a[0]) {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                        }\r\n                        a.on('focusout', () => {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            this.$timeout(() => {\r\n                                angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            }, 50);\r\n                        });\r\n                    }, 1000);\r\n                }\r\n            }\r\n\r\n            if (changes.tabs === undefined || !_.isArray(changes.tabs.currentValue)) {\r\n                if (!this.tabs) {\r\n                    this.tabs = [];\r\n                }\r\n            } else {\r\n                this.tabs = changes.tabs.currentValue;\r\n                this.setTranslate();\r\n            }\r\n\r\n            if (!changes.activeIndex && changes.tabs && this.selectedTabId !== undefined) {\r\n                const index = _.indexOf(this.tabs, _.find(this.tabs, {\r\n                    id: this.selectedTabId\r\n                }));\r\n                if (index < 0) {\r\n                    this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n                } else if (this.tabs.length > 0 && this.activeIndex) {\r\n                    this.onSelect(index);\r\n                }\r\n            } else {\r\n                this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const Tabs: ng.IComponentOptions = {\r\n        bindings: TabsBindings,\r\n        templateUrl: 'tabs/Tabs.html',\r\n        controller: TabsDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipTabs', ['pipNav.Templates'])\r\n        .component('pipTabs', Tabs);\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"{{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"!$ctrl._media(\\'xs\\')\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"$ctrl._media(\\'xs\\')\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"$ctrl.showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"$ctrl.imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"$ctrl.onUserClick()\" tabindex=\"-1\">{{ $ctrl.title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ $ctrl.subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.value | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.expanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.expanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" ng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.expanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\" ng-hide=\"link.access && !link.access(link)\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-click=\"$ctrl.clickLink($event, link)\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\">{{ ::link.tooltipText | translate }}</md-tooltip><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!($ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded)\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar ng-if=\"$ctrl.pipMedia\" class=\"pip-nav color-primary-bg {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs class=\"color-primary-bg\" ng-if=\"$ctrl.pipMedia($ctrl.breakpoints)\" md-selected=\"$ctrl.activeIndex\" ng-class=\"{\\'disabled\\': $ctrl.isDisabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.pipMedia($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.activeIndex\" ng-disabled=\"$ctrl.isDisabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","{\n\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-cool': 'Cool'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-cool': ''\n    // });\n    \n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(69, 90, 100, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\n\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(69, 90, 100, .54)',\n        '500': 'rgba(69, 90, 100, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\n\n\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-cool')\n        .primaryPalette('bootbarn-cool-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-cool-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-cool-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\n    .config(configureBootBarnCoolTheme);\n\n}","{\n\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-monochrome': 'Monochrome'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-monochrome': ''\n    // });\n    \n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(38, 50, 56, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\n\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(38, 50, 56, .54)',\n        '500': 'rgba(38, 50, 56, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\n\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-monochrome')\n        .primaryPalette('bootbarn-monochrome-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-monochrome-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-monochrome-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\n    .config(configureBootBarnMonochromeTheme);\n\n}","{\n\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-warm': 'Warm'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-warm': 'Коричневая'\n    // });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(177, 55, 34, 1)'\n        })\n        ;\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\n\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\n        '300': 'rgba(177, 55, 34, .54)',\n        '500': 'rgba(177, 55, 34, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\n\n\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'A700': 'rgba(127, 148, 92, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\n\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\n        'A200': 'rgba(255, 82, 82, 1)',\n        'contrastLightColors': ['A200']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\n\n    $mdThemingProvider.theme('bootbarn-warm')\n    .primaryPalette('bootbarn-warm-primary', {\n        'default': '500',\n        'hue-1': '300'\n    })\n    .backgroundPalette('bootbarn-warm-background', {\n        'default': '50',  // background\n        'hue-1': 'A200',  // tiles dialog\n        'hue-2': 'A700'   // app bar\n    })\n    .warnPalette('bootbarn-warm-error', {\n        'default': 'A200'\n    })\n    .accentPalette('bootbarn-warm-accent', {\n        'default': 'A700'\n    });\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\n    .config(configureBootBarnWarmTheme);\n\n}","import './BootBarnCoolTheme';\nimport './BootBarnWarmTheme';\nimport './BootBarnMonochromeTheme';\n\nangular.module('pipTheme.BootBarn', [\n    'ngMaterial',\n    'pipTheme.BootBarn.Warm',\n    'pipTheme.BootBarn.Cool',\n    'pipTheme.BootBarn.Monochrome',\n]);\n","import { IThemeService, IThemeProvider } from './IThemeService';\n\nexport let ThemeRootVar = \"$theme\";\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \nexport let ThemeResetPage = \"pipResetPage\";    \n\nclass ThemeConfig {\n    public theme: string;\n}\n\nclass ThemeService implements IThemeService {\n    private _config: ThemeConfig;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _currentTheme: string = null;\n\n    public constructor(\n        private $log: ng.ILogService,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $mdTheming,\n        config: ThemeConfig,\n        setRootVar: boolean,\n        persist: boolean,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._config = config;\n\n        //if (this._persist && this.$window.localStorage && this._config.theme == \"default\")\n        this._config.theme = this.$window.localStorage.getItem('theme') || this._config.theme || 'default';\n\n        this.$log.debug(\"Set theme to \" + this._config.theme);\n\n        // Define theme for angular material \n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\n        this.save();\n    }\n\n    private save(): void {\n        let body = $('body');\n        let newTheme: string = this._config.theme;\n\n        // Switch material theme\n        // body.attr('md-theme', newTheme);\n\n        // Change custom theme\n        body.addClass(newTheme);\n        if (this._currentTheme != null && this._currentTheme != newTheme)\n            body.removeClass(this._currentTheme);            \n\n        this._currentTheme = newTheme;\n\n        // Set root scope variable\n        if (this._setRootVar)\n            this.$rootScope[ThemeRootVar] = this._config.theme;\n\n        // Save in local storage\n        if (this._persist && this.$window.localStorage != null)\n            this.$window.localStorage.setItem('theme', this._config.theme);\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        if (value != this._config.theme) {\n            if (!(value in this.$mdTheming.THEMES))\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\n\n            this._config.theme = value;\n            \n            this.$log.debug(\"Changing theme to \" + value);\n\n            this.save();                \n\n            this.$rootScope.$emit(ThemeChangedEvent, value);\n            this.$rootScope.$emit(ThemeResetPage);\n        }\n    }\n\n    public use(theme: string): string {\n        if (theme != null) {\n            this._config.theme = theme;\n            this.save();    \n        }     \n        return this._config.theme;\n    }\n\n}\n\n\nclass ThemeProvider implements IThemeProvider {\n    private _config: ThemeConfig = new ThemeConfig();\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: ThemeService;\n    \n    public constructor() {\n        this._config.theme = \"default\";\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        this._config.theme = value;\n    }\n\n    public use(theme: string): string {\n        if (theme != null) {\n            this._config.theme = theme;\n            let body = $('body');\n            body.addClass(this._config.theme);\n        }\n        return this._config.theme;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdTheming: any\n    ): ThemeService {\n        \"ngInject\";\n        if (_.isUndefined(this._service) || _.isNull(this._service))  {\n            this._service = new ThemeService($log, $rootScope, $window, this._config,  $mdTheming, this._setRootVar, this._persist);\n        }\n         \n        return this._service;\n    }\n}\n\n\nfunction initTheme(pipTheme: IThemeService) {\n    pipTheme.theme;\n}\n\n\nangular\n    .module('pipTheme')\n    .provider('pipTheme', ThemeProvider)\n    .run(initTheme);\n","angular.module('pipTheme', ['ngMaterial']);\n\nimport './ThemeService';\n\nexport * from './IThemeService';\nexport * from './ThemeService';\n","{\n\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     amber: 'Amber'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     amber: 'Янтарная'\n    // });\n\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)'\n    });\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\n\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 152, 0, 1)',\n        '900': 'rgba(255, 152, 0, .54);'\n    });\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\n\n    $mdThemingProvider.theme('amber')\n        .primaryPalette('orange-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('orange-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('orange', {\n            'default': '900'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\n    .config(configureDefaultAmberTheme);\n    \n}","{\n\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     blue: 'Blue',\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     blue: 'Голубая'\n    // });\n\n    registerBlueTheme('default');\n    registerBlueTheme('blue');\n\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    function registerBlueTheme(themeName) {\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\n            'contrastDefaultColor': 'light',\n            'contrastDarkColors': undefined\n        });\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\n\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(33, 150, 243, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\n\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\n            '600': 'rgba(0, 200, 83, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\n\n        $mdThemingProvider.theme(themeName)\n            .primaryPalette('blue-primary', {\n                'default': '500',\n                'hue-1': '300'\n            })\n            .backgroundPalette('blue-background', {\n                'default': '50',  // background\n                'hue-1': 'A200',  // tiles dialog\n                'hue-2': 'A700'   // app bar\n            })\n            .warnPalette('red', {\n                'default': 'A200'\n            })\n            .accentPalette('blue-accent', {\n                'default': '600'\n            });\n    }\n}\n\n\nangular\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\n    .config(configureDefaultBlueTheme);\n\n}","{\n\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     green: 'Green'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     green: 'Зеленая'\n    // });\n\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(76, 175, 80, 1)'\n    });\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\n\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\n        '300': '#9ed4a1',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\n\n\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\n\n    $mdThemingProvider.theme('green')\n        .primaryPalette('green-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('green-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('green-accent', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.Green', [ 'ngMaterial' ])\n    .config(configureDefaultGreenTheme);\n\n}","{\n\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     grey: 'Grey'\n    // });\n    \n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     grey: 'Серая'\n    // });\n\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)',\n        'A400': '#a9b9c0',\n        '500': '#607D8B',\n        'A700': '#90A4AE',\n        //'800': '',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\n\n\n    $mdThemingProvider.theme('grey')\n        .primaryPalette('third-party', {\n            'default': '500',\n            'hue-1': 'A400'\n        })\n        .backgroundPalette('third-party', {\n            'default': '50',  // background\n            'hue-1': '500',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('third-party', {\n            'default': 'A700'\n        });\n    \n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\n    .config(configureDefaultGreyTheme);\n\n}","{\n\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     navy: 'Navy'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     navy: 'Сине-серая'\n    // });\n\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\n        '700': 'rgba(86, 97, 125, 1)',\n        '800': 'rgba(86, 97, 125, .54)',\n        'A100': 'rgba(250, 250, 250, 1)',\n    });\n    $mdThemingProvider.definePalette('grey', greyPalette);\n\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('teal', tealPalette);\n\n    $mdThemingProvider.theme('navy')\n        .primaryPalette('grey', {\n            'default': '700',\n            'hue-1': '800'\n        })\n        .backgroundPalette('grey', {\n            'default': '50',  // background\n            'hue-1': '700',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('teal', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\n    .config(configureDefaultNavyTheme);\n    \n}","{\n\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     orange: 'Orange'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     orange: 'Оранжевая'\n    // });\n\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 112, 67, 1)',\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\n    });\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\n\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 112, 67, 1)',\n        '900': 'rgba(255, 152, 67, .54)',\n        'A100': 'rgba(255, 171, 64, 1)',\n        'contrastLightColors': ['800', '900', 'A100']\n    });\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\n\n    $mdThemingProvider.theme('orange')\n        .primaryPalette('red-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('red-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('red-primary', {\n            'default': 'A100'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\n    .config(configureDefaultOrangeTheme);\n\n}","{\n\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     pink: 'Pink'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     pink: 'Розовая',\n\n    // });\n\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['A200', 'A700']\n    });\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\n\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\n        '600': 'rgba(255, 128, 171, 1)',\n        '700': 'rgba(188, 86, 121, .54)',\n        '900': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'light'\n    });\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\n\n    $mdThemingProvider.theme('pink')\n        .primaryPalette('pink-primary', {\n            'default': '900',\n            'hue-1': '700'\n        })\n        .backgroundPalette('pink-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('pink-primary', {\n            'default': '600'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\n    .config(configureDefaultPinkTheme);\n    \n}","import './DefaultBlueTheme';\nimport './DefaultPinkTheme';\nimport './DefaultAmberTheme';\nimport './DefaultOrangeTheme';\nimport './DefaultGreenTheme';\nimport './DefaultNavyTheme';\nimport './DefaultGreyTheme';\n\nfunction configureDefaultTheme($mdThemingProvider) {\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Default', [\n        'ngMaterial',\n        'pipTheme.Blue', \n        'pipTheme.Pink',\n        'pipTheme.Amber', \n        'pipTheme.Orange', \n        'pipTheme.Green', \n        'pipTheme.Navy', \n        'pipTheme.Grey'\n    ])\n    .config(configureDefaultTheme);\n","\r\nexport class ErrorPageConfig {\r\n    Active: boolean;\r\n    Name: string;\r\n    Event: string;\r\n    Title: string;\r\n    SubTitle: String;\r\n    Breadcrumb: string;\r\n    Image: string;\r\n    Params?: any;\r\n}\r\n\r\nexport class ErrorPageConfigs {\r\n\r\n    Maintenance: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_maintenance',\r\n        Event: 'pipMaintenanceError',\r\n        Title: 'ERROR_MAINTENANCE_TITLE',\r\n        SubTitle: 'ERROR_MAINTENANCE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MAINTENANCE_TITLE',\r\n        Image: 'images/maintenance.svg'\r\n\r\n    };\r\n\r\n    MissingRoute: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_missing_route',\r\n        Event: '$stateNotFound',\r\n        Title: 'ERROR_MISSING_ROUTE_TITLE',\r\n        SubTitle: 'ERROR_MISSING_ROUTE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MISSING_ROUTE_PAGE_TITLE',\r\n        Image: 'images/invalid_route.svg'\r\n    };\r\n\r\n    NoConnection: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_no_connection',\r\n        Event: 'pipNoConnectionError',\r\n        Title: 'ERROR_NO_CONNECTION_TITLE',\r\n        SubTitle: 'ERROR_NO_CONNECTION_SUBTITLE',\r\n        Breadcrumb: 'ERROR_NO_CONNECTION_TITLE',\r\n        Image: 'images/no_response.svg'\r\n    };\r\n\r\n    Unknown: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unknown',\r\n        Event: 'pipUnknownError',\r\n        Title: 'ERROR_UNKNOWN_TITLE',\r\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\r\n        Image: 'images/unknown_error.svg'\r\n    };\r\n\r\n    Unsupported: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unsupported',\r\n        Event: '',\r\n        Title: 'ERROR_UNSUPPORTED_TITLE',\r\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\r\n        Image: '',\r\n        Params: {}\r\n    }\r\n}\r\n\r\nexport class SupportedBrowsers {\r\n    edge: number = 11;\r\n    ie: number = 11;\r\n    firefox: number = 43;\r\n    opera: number = 35;\r\n    chrome: number = 47;\r\n}\r\n","import { IErrorPageConfigService, IErrorPageConfigProvider } from './IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig, SupportedBrowsers } from './ErrorPageConfig';\r\n\r\nclass ErrorPageConfigService implements IErrorPageConfigService {\r\n    private _config: ErrorPageConfigs;\r\n\r\n    public constructor(\r\n        config: ErrorPageConfigs\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._config = config || new ErrorPageConfigs();\r\n    }\r\n\r\n    public get configs(): ErrorPageConfigs {\r\n        return this._config;\r\n    }\r\n\r\n    public getErrorPageConfig(pageName: string): ErrorPageConfig {\r\n        console.log(pageName, this._config);\r\n        if (!pageName || !this._config[pageName]) {\r\n            return null;\r\n        }\r\n\r\n        return this._config[pageName];\r\n    }\r\n\r\n}\r\n\r\nclass ErrorPageConfigProvider implements IErrorPageConfigProvider {\r\n    private _service: ErrorPageConfigService;\r\n    public configs: ErrorPageConfigs;\r\n\r\n    constructor() {\r\n        this.configs = new ErrorPageConfigs();\r\n        this.configs.Unsupported.Params.supported = new SupportedBrowsers();\r\n    }\r\n\r\n    public setErrorPageConfig(pageName: string, config: ErrorPageConfig): void {\r\n        if (!pageName || !config) return;\r\n        if (!this.configs[pageName]) return;\r\n\r\n        this.configs[pageName] = <ErrorPageConfig>_.defaultsDeep(config, this.configs[pageName]);\r\n    }\r\n\r\n    public setAllErrorPageConfigs(configs: ErrorPageConfigs): void {\r\n        if (!configs) return;\r\n\r\n        this.configs = <ErrorPageConfigs>_.defaultsDeep(configs, this.configs);\r\n    }\r\n\r\n    public setSupportedBrowsers(browsers: SupportedBrowsers): void {\r\n        this.configs.Unsupported.Params.supported = browsers;\r\n    }\r\n\r\n    public $get(): ErrorPageConfigService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new ErrorPageConfigService(this.configs);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrorPageConfigService', [])\r\n        .provider('pipErrorPageConfigService', ErrorPageConfigProvider);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class ClearErrorsLink {\r\n        private _fieldController: any;\r\n        private _formController: any;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $ctrls\r\n        ) {\r\n            this._fieldController = $ctrls[0];\r\n            this._formController = $ctrls[1];\r\n\r\n            $scope.$watch($attrs['ngModel'], (newValue) => {\r\n                this.clearFieldErrors();\r\n                this.clearFormErrors();\r\n            });\r\n        }\r\n\r\n        private clearFieldErrors() {\r\n            let errors = this._fieldController.$error;\r\n\r\n            for (let prop in errors) {\r\n                if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                    this._fieldController.$setValidity(prop, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        private clearFormErrors() {\r\n            this._formController.$serverError = {};\r\n        }\r\n    }\r\n\r\n    function clearErrorsDirective() {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: ClearErrorsLink\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipClearErrors', [])\r\n        .directive('pipClearErrors', clearErrorsDirective);\r\n})();","import { IFormErrorsService } from './IFormErrorsService';\r\n\r\nclass FormErrorsService {\r\n\r\n    constructor(private $rootScope: ng.IRootScopeService) { }\r\n\r\n    public errorsWithHint(field: any) {\r\n        if (field == null) return;\r\n\r\n        return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n    };\r\n\r\n    public touchedErrorsWithHint(form: ng.IFormController, field: any) {\r\n        if (form == null) return;\r\n        if (field == null) return;\r\n\r\n        if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\r\n            let result = _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n            return result;\r\n        }\r\n        return { hint: true };\r\n    }\r\n\r\n    public resetFormErrors(form: ng.IFormController, errors?: boolean): void {\r\n        form.$setPristine();\r\n        form.$setUntouched();\r\n\r\n        if (errors) {\r\n            form.$setDirty();\r\n            form.$setSubmitted();\r\n        }\r\n\r\n        form['$serverError'] = {};\r\n    }\r\n\r\n    public resetFieldsErrors(form: ng.IFormController, field: any): void {\r\n        if (!form) return;\r\n        if (field && form[field] && form[field].$error) {\r\n            form[field].$error = {};\r\n        } else {\r\n            for (let prop in form) {\r\n                if (form[prop] && form[prop].$error) {\r\n                    form[prop].$error = {};\r\n                }\r\n            }\r\n            if (form && form.$error) {\r\n                form.$error = {};\r\n            }\r\n        }\r\n    }\r\n\r\n    public setFormError(form: ng.IFormController, error, errorFieldMap) {\r\n        if (error == null) return;\r\n        // Prepare form server errors\r\n        form['$serverError'] = form['$serverError'] || {};\r\n        // Prepare error code\r\n        let code: string = error.code || (error.data || {}).code || null;\r\n        if (!code && error.status) code = error.status;\r\n\r\n        if (code) {\r\n            let errorName = 'ERROR_' + code,\r\n                field = errorFieldMap ? errorFieldMap[code] : null;\r\n            // Set server error to fields\r\n            if (field && form[field] && form[field].$setValidity) {\r\n                form[field].$setValidity(errorName, false);\r\n                return;\r\n            }\r\n\r\n            // Set server error to form\r\n            if (field == 'form') {\r\n                form['$serverError'][errorName] = true;\r\n                return;\r\n            }\r\n        }\r\n\r\n        // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n        if (error.data && error.data.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.data.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        // Set as undefined error\r\n        if (error.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        if (error.name) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.name;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n\r\n        form['$serverError']['ERROR_UNKNOWN'] = error;\r\n        this.goToUnhandledErrorPage(error);\r\n    }\r\n\r\n    private goToUnhandledErrorPage(error) {\r\n        this.$rootScope.$emit('pipUnhandledInternalError', {\r\n            error: error\r\n        });\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipFormErrors', [])\r\n        .service('pipFormErrors', FormErrorsService);\r\n\r\n})();","export let ErrorsMaintenanceState = 'errors_maintenance';\r\nexport let MaintenanceErrorEvent = 'pipMaintenanceError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MaintenanceError {\r\n    config?: MaintenanceErrorConfig;\r\n}\r\n\r\nclass MaintenanceErrorConfig {\r\n    params?: MaintenanceErrorParams;\r\n}\r\n\r\nclass MaintenanceErrorParams {\r\n    interval?: number = 0;\r\n}\r\n\r\nclass MaintenanceErrorPageController {\r\n    private _pageName: string = 'Maintenance';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: MaintenanceError;\r\n    public timeoutInterval: number;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n        this.timeoutInterval = this.error && this.error.config &&\r\n            this.error.config.params && this.error.config.params.interval ? this.error.config.params.interval : 0;\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n}\r\n\r\nfunction configureMaintenanceErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsMaintenanceState, {\r\n                url: '/errors/maintenance',\r\n                params: {\r\n                    error: null\r\n                },\r\n                controller: MaintenanceErrorPageController,\r\n                controllerAs: '$ctrl',\r\n                templateUrl: 'maintenance/MaintenanceErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initMaintenanceErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Maintenance.Active) return;\r\n\r\n    $rootScope.$on(MaintenanceErrorEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        this.$state.go(ErrorsMaintenanceState, params);\r\n    });\r\n}\r\n\r\nfunction setMaintenanceErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MAINTENANCE_TITLE': 'The server is on maintenance',\r\n        'ERROR_MAINTENANCE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n        'a short period. We\\'ll be back soon. Thank for your patience.',\r\n        'ERROR_MAINTENANCE_CLOSE': 'Close',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Try after'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MAINTENANCE_TITLE': 'The server is on maintenance',\r\n        'ERROR_MAINTENANCE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n        'a short period. We\\'ll be back soon. Thank for your patience.',\r\n        'ERROR_MAINTENANCE_CLOSE': 'Close',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Try after'\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMaintenanceErrorPageRoute)\r\n        .run(initMaintenanceErrorPage)\r\n        .run(setMaintenanceErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsMissingRouteState = 'errors_missing_route';\r\nexport let StateNotFoundEvent = '$stateNotFound';  \r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MissingRouteErrorState {\r\n    to: string;\r\n    toParams: any;\r\n    fromParams: any;\r\n}\r\n\r\nclass MissingRouteErrorPageController {\r\n    private _pageName: string = 'MissingRoute';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public fromState: MissingRouteErrorState;\r\n    public unfoundState: MissingRouteErrorState;\r\n    public url: string;\r\n    public urlBack: string;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        private $location: ng.ILocationService,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.fromState = $state && $state.params && $state.params['fromState'] ? $state.params['fromState'] : {};\r\n        this.unfoundState = $state && $state.params ? $state.params['unfoundState'] : {};\r\n        this.url = this.unfoundState && this.unfoundState.to ? $state.href(this.unfoundState.to, this.unfoundState.toParams, { absolute: true }) : '';\r\n        this.urlBack = this.fromState && this.fromState.to ? $state.href(this.fromState.to, this.fromState.fromParams, { absolute: true }) : '';\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onContinue() {\r\n        this.$location.url('/');\r\n    }\r\n}\r\n\r\nfunction configureMissingRouteErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n    $stateProvider\r\n        .state(ErrorsMissingRouteState, {\r\n            url: '/errors/missing_route',\r\n            params: {\r\n                unfoundState: null,\r\n                fromState: null\r\n            },\r\n            controller: MissingRouteErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'missing_route/MissingRouteErrorPage.html'\r\n        });\r\n}\r\n\r\n\r\nfunction initMissingRouteErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.MissingRoute.Active) return;\r\n\r\n    $rootScope.$on(StateNotFoundEvent,\r\n        (\r\n            event: angular.IAngularEvent,\r\n            unfoundState: ng.ui.IState,\r\n            fromState: ng.ui.IState,\r\n            fromParams: any) => {\r\n            event.preventDefault();\r\n\r\n            $state.go(ErrorsMissingRouteState, {\r\n                unfoundState: unfoundState,\r\n                fromState: {\r\n                    to: fromState ? fromState.name : '',\r\n                    fromParams: fromParams\r\n                }\r\n            });\r\n\r\n            $rootScope[pip.services.RoutingVar] = false;\r\n        }\r\n    );\r\n}\r\n\r\nfunction setMissingRouteErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MISSING_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Continue',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Try again',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Go Back',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Wrong page'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MISSING_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Continue',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Try again',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Go Back',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Wrong page'\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMissingRouteErrorPageRoute)\r\n        .run(initMissingRouteErrorPage)\r\n        .run(setMissingRouteErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsConnectionState = 'errors_no_connection';\r\nexport let ErrorsConnectionEvent = 'pipNoConnectionError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass NoConnectionError {\r\n    config?: any;\r\n}\r\n\r\nclass NoConnectionErrorPageController {\r\n    private _pageName: string = 'NoConnection';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: NoConnectionError;\r\n\r\n    constructor(\r\n        private $window: ng.IWindowService,\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onRetry() {\r\n        this.$window.history.back();\r\n    }\r\n}\r\n\r\nfunction configureNoConnectionErrorPageRoute(\r\n    $injector: angular.auto.IInjectorService,\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state(ErrorsConnectionState, {\r\n            url: '/errors/no_connection',\r\n            params: {\r\n                error: null\r\n            },\r\n            controller: NoConnectionErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'no_connection/NoConnectionErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initNoConnectionErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.NoConnection.Active) return;\r\n\r\n\r\n    $rootScope.$on(ErrorsConnectionEvent,\r\n        (event: angular.IAngularEvent, params) => {\r\n            this.$state.go(ErrorsConnectionState, params);\r\n        });\r\n}\r\n\r\nfunction setNoConnectionErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_NO_CONNECTION_TITLE': 'No connection to the server',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n        'ERROR_NO_CONNECTION_RETRY': 'Retry',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_NO_CONNECTION_TITLE': 'No connection to the server',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\r\n        'ERROR_NO_CONNECTION_RETRY': 'Retry',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureNoConnectionErrorPageRoute)\r\n        .run(initNoConnectionErrorPage)\r\n        .run(setNoConnectionErrorPageResources);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class NoConnectionPanelController {\r\n        private _retry: Function;\r\n        public error: any;\r\n        constructor($scope: ng.IScope) {\r\n            this._retry = $scope['retry'];\r\n            this.error = $scope['error'];\r\n        }\r\n\r\n        public onRetry() {\r\n            if (this._retry && angular.isFunction(this._retry)) this._retry();\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipNoConnectionPanel\", [])\r\n        .directive('pipNoConnectionPanel',\r\n        () => {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/NoConnectionPanel.html',\r\n                controller: NoConnectionPanelController,\r\n                controllerAs: '$ctrl'\r\n            };\r\n        }\r\n        )\r\n\r\n})();\r\n\r\n","export let ErrorsUnknownState = 'errors_unknown';\r\nexport let ErrorsUnknownEvent = 'pipUnknownError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnknownErrorDetails {\r\n    code: number;\r\n    message: string;\r\n    status: string;\r\n    server_stacktrace: Function;\r\n    client_stacktrace: Function;\r\n}\r\n\r\nclass UnknownErrorPageController {\r\n    private _pageName: string = 'Unknown';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnknownErrorDetails;\r\n    public error_details: UnknownErrorDetails;\r\n    public showError: boolean;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService, \r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia, \r\n        $injector: angular.auto.IInjectorService,  \r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.showError = $scope['showError'];\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\r\n        \r\n        this.parseError();\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    private parseError() {\r\n        this.error_details = new UnknownErrorDetails();\r\n        this.error_details.code = this.error.code;\r\n        this.error_details.message = this.error.message;\r\n        this.error_details.status = this.error.status;\r\n\r\n        this.error_details.server_stacktrace = () => {};\r\n\r\n        this.error_details.client_stacktrace = () => {};\r\n    }\r\n\r\n    public onDetails() {\r\n        this.showError = true;\r\n    }\r\n\r\n}\r\n\r\nfunction configureUnknownErrorPageRoute (\r\n    $injector: angular.auto.IInjectorService, \r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsUnknownState, {\r\n                url: '/errors/unknown',\r\n                params: {\r\n                    error: null\r\n                }, \r\n                controllerAs: '$ctrl',\r\n                controller: UnknownErrorPageController,\r\n                templateUrl: 'unknown/UnknownErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initUnknownErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unknown.Active) return;\r\n\r\n    $rootScope.$on(ErrorsUnknownEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        this.$state.go(ErrorsUnknownState, params);\r\n    });\r\n}\r\n\r\nfunction setUnknownErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n        'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n        'ERROR_UNKNOWN_CLOSE': 'Close',\r\n        'ERROR_UNKNOWN_DETAILS': 'Details',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n        'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n        'ERROR_UNKNOWN_CLOSE': 'Close',\r\n        'ERROR_UNKNOWN_DETAILS': 'Details',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnknownErrorPageRoute)\r\n        .run(initUnknownErrorPage)\r\n        .run(setUnknownErrorPageResources);\r\n\r\n})();\r\n","\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnsupportedError {\r\n    config?: any;\r\n}\r\n\r\nclass UnsupportedErrorPageController {\r\n    private _pageName: string = 'Unsupported';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnsupportedError;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n}\r\n\r\nfunction configureUnsupportedErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state('errors_unsupported', {\r\n            url: '/errors/unsupported',\r\n            params: {\r\n                error: null\r\n            },\r\n            controllerAs: '$ctrl',\r\n            controller: UnsupportedErrorPageController,\r\n            templateUrl: 'unsupported/UnsupportedErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initUnsupportedErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unsupported.Active) return;\r\n\r\n    let pipSystemInfo: any = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null;\r\n    if (!pipSystemInfo) { return; }\r\n\r\n    let supportedVersions = config.Unsupported.Params.supported;\r\n\r\n    let browser: string = pipSystemInfo.browserName;\r\n    let version: string = pipSystemInfo.browserVersion;\r\n    version = version.split(\".\")[0]\r\n\r\n    if (browser\r\n        && supportedVersions[browser]\r\n        && version >= supportedVersions[browser]) {\r\n        return;\r\n    }\r\n    // if not supported\r\n    this.$state.go('errors_unsupported');\r\n}\r\n\r\nfunction setUnsupportedErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n        'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n        'technologies. Download one of these great browsers and you\\'ll be on your way:',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\r\n\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n        'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n        'technologies. Download one of these great browsers and you\\'ll be on your way:',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\r\n\r\n    });\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnsupportedErrorPageRoute)\r\n        .run(initUnsupportedErrorPage)\r\n        .run(setUnsupportedErrorPageResources);\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/MaintenanceErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_MAINTENANCE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_MAINTENANCE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.timeoutInterval\">{{::\\'ERROR_MAINTENANCE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"$ctrl.isCordova\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_MAINTENANCE_CLOSE\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/MissingRouteErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"$ctrl.onContinue($event)\">{{::\\'ERROR_MISSING_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{$ctrl.url}}\">{{::\\'ERROR_MISSING_ROUTE_TRY_AGAIN\\' | translate }}: {{$ctrl.url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{$ctrl.urlBack}}\">{{::\\'ERROR_MISSING_ROUTE_GO_BACK\\' | translate }}: {{$ctrl.urlBack}}</a></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/NoConnectionErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/NoConnectionPanel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{$ctrl.error.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.error.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.error.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/UnknownErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.showError && $ctrl.error_details && $ctrl.error_details.message\"><div ng-if=\"$ctrl.error_details.code\">Code: {{$ctrl.error_details.code}}</div><div ng-if=\"$ctrl.error_details.message\">Description: {{$ctrl.error_details.message}}</div><div ng-if=\"$ctrl.error_details.status\">HTTP status: {{$ctrl.error_details.status}}</div><div ng-if=\"$ctrl.error_details.server_stacktrace\">Server stacktrace: {{$ctrl.error_details.server_stacktrace}}</div><div ng-if=\"$ctrl.error_details.client_stacktrace\">Client stacktrace stacktrace: {{$ctrl.error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"$ctrl.isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"$ctrl.error_details && $ctrl.error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"$ctrl.onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/UnsupportedErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$ctrl.media(\\'gt-xs\\')\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$ctrl.media(\\'xs\\')\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IBarChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const BarChartBindings: IBarChartBindings = {\r\n        series: '<pipSeries',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class BarChartBindingsChanges implements IBarChartBindings, ng.IOnChangesObject {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        xTickFormat: ng.IChangesObject < any > ;\r\n        yTickFormat: ng.IChangesObject < any > ;\r\n        interactiveLegend: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class BarChartController implements ng.IController, IBarChartBindings {\r\n        public series: any;\r\n        public xTickFormat: any;\r\n        public yTickFormat: any;\r\n        public interactiveLegend: boolean;\r\n        public legend: any;\r\n\r\n        private data: any;\r\n        private chart: nv.DiscreteBarChart = null;\r\n        private chartElem: any;\r\n        private colors: string[];\r\n        private height: number = 270;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                if (!updatedLegend) return;\r\n\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n            this.generateParameterColor();\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: BarChartBindingsChanges) {\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : null;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : null;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : null;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.data = this.prepareData(this.series);\r\n                this.legend = _.clone(this.series);\r\n                this.generateParameterColor();\r\n                this.updateChart();\r\n            }\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.chartElem.datum(this.data).call(this.chart);\r\n                this.configBarWidthAndLabel();\r\n                this.drawEmptyState();\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.discreteBarChart()\r\n                    .margin({\r\n                        top: 10,\r\n                        right: 0,\r\n                        bottom: 10,\r\n                        left: 50\r\n                    })\r\n                    .x((d) => {\r\n                        return d.label || d.key || d.x;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .showValues(true)\r\n                    .staggerLabels(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .valueFormat( < any > d3.format('d'))\r\n                    .duration(0)\r\n                    .height(this.height)\r\n                    .color((d) => {\r\n                        return this.data[d.series].color || this.pipChartColors.materialColorToRgba(this.colors[d.series]);\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d) => {\r\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chartElem = < any > d3.select(this.$element.get(0))\r\n                    .select('.bar-chart svg')\r\n                    .datum(this.data)\r\n                    .style('height', '285px')\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.chart.update();\r\n                    this.configBarWidthAndLabel(0);\r\n                    this.drawEmptyState();\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    this.configBarWidthAndLabel();\r\n                }, 0);\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private prepareData(data): any {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (this.$element.find('.nv-noData').length === 0) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const g = this.chartElem.append('g').classed('empty-state', true),\r\n                    width = this.$element.find('.nvd3-svg').innerWidth(),\r\n                    margin = width * 0.1;\r\n\r\n                g.append('g')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', this.height - 10)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(42, 60)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 200)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(84, 160)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 100)\r\n                    .attr('width', 38);\r\n\r\n                g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2 * margin) / 126) + ', 1)');\r\n            }\r\n        }\r\n\r\n        private configBarWidthAndLabel(timeout: number = 1000) {\r\n            const labels = this.$element.find('.nv-bar text'),\r\n                chartBars = this.$element.find('.nv-bar'),\r\n                parentHeight = ( < any > this.$element.find('.nvd3-svg')[0]).getBBox().height;\r\n\r\n            d3.select(this.$element.find('.bar-chart')[0]).classed('visible', true);\r\n\r\n            _.each(chartBars, (item: EventTarget, index: number) => {\r\n                const barHeight = Number(d3.select(item).select('rect').attr('height')),\r\n                    barWidth = Number(d3.select(item).select('rect').attr('width')),\r\n                    element = d3.select(item),\r\n                    x = d3.transform(element.attr('transform')).translate[0],\r\n                    y = d3.transform(element.attr('transform')).translate[1];\r\n\r\n                element\r\n                    .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + (this.height - 20) + ')')\r\n                    .select('rect').attr('height', 0);\r\n\r\n                element\r\n                    .transition()\r\n                    .duration(timeout)\r\n                    .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + y + ')')\r\n                    .select('rect').attr('height', barHeight);\r\n\r\n                d3.select(labels[index])\r\n                    .attr('dy', barHeight / 2 + 10)\r\n                    .attr('x', barWidth / 2);\r\n            });\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                if (item.values[0]) {\r\n                    item.values[0].color = item.values[0].color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n                    item.color = item.values[0].color;\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const BarChart: ng.IComponentOptions = {\r\n        bindings: BarChartBindings,\r\n        templateUrl: 'bar_chart/BarChart.html',\r\n        controller: BarChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipBarCharts', [])\r\n        .component('pipBarChart', BarChart);\r\n}","import { IChartColorsService } from './IChartColorsService';\r\n\r\n{\r\n    class ChartColorsService implements IChartColorsService {\r\n        constructor(\r\n            private $mdColorPalette: angular.material.IColorPalette\r\n        ) { \r\n            \"ngInject\";\r\n        }\r\n\r\n        public getMaterialColor(index: number, colors: string[]): string {\r\n            if (!colors || colors.length < 1) return null;\r\n\r\n            if (index >= colors.length) {\r\n                index = 0;\r\n            }\r\n\r\n            return this.materialColorToRgba(colors[index]);\r\n        }\r\n\r\n        public materialColorToRgba(color: string): string {\r\n            return 'rgba(' + this.$mdColorPalette[color][500].value[0] + ',' +\r\n                this.$mdColorPalette[color][500].value[1] + ',' +\r\n                this.$mdColorPalette[color][500].value[2] + ',' +\r\n                (this.$mdColorPalette[color][500].value[3] || 1) + ')';\r\n        }\r\n\r\n        public generateMaterialColors(): string[] {\r\n            let colors = _.map((<any>this.$mdColorPalette), (palette, color: string) => {\r\n                return color;\r\n            });\r\n            colors = _.filter(colors, (color: string) => {\r\n                return _.isObject(this.$mdColorPalette[color]) && _.isObject(this.$mdColorPalette[color][500]) && _.isArray(this.$mdColorPalette[color][500].value);\r\n            });\r\n\r\n            return colors;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipChartColors', [])\r\n        .service('pipChartColors', ChartColorsService);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        interactive: any;\r\n    }\r\n\r\n    const ChartLegendBindings: IChartLegendBindings = {\r\n        series: '<pipSeries',\r\n        interactive: '<pipInteractive'\r\n    }\r\n\r\n    class ChartLegendBindingsChanges implements ng.IOnChangesObject, IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        interactive: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class ChartLegendController implements ng.IController, IChartLegendBindings {\r\n        public series: any;\r\n        public interactive: boolean;\r\n\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.updateLegends();\r\n        }\r\n\r\n        public $onChanges(changes: ChartLegendBindingsChanges) {\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.updateLegends();\r\n            }\r\n\r\n            if (changes.interactive && changes.interactive.currentValue !== changes.interactive.previousValue) {\r\n                this.interactive = changes.interactive.currentValue;\r\n                if (this.interactive === true) {\r\n                    this.$timeout(() => {\r\n                        this.colorCheckboxes();\r\n                    }, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateLegends() {\r\n            this.$timeout(() => {\r\n                this.animate();\r\n                this.colorCheckboxes();\r\n            }, 0);\r\n            this.prepareSeries();\r\n        }\r\n\r\n        private colorCheckboxes() {\r\n            const checkboxContainers = this.$element.find('md-checkbox .md-container');\r\n\r\n            _.each(checkboxContainers, (item: EventTarget, index: number) => {\r\n                if (index >= this.series.length) {\r\n                    return\r\n                }\r\n                $(item)\r\n                    .css('color', this.series[index].color || this.colors[index])\r\n                    .find('.md-icon')\r\n                    .css('background-color', this.series[index].color || this.colors[index]);\r\n            });\r\n        }\r\n\r\n        private animate() {\r\n            const legendTitles = this.$element.find('.chart-legend-item');\r\n\r\n            _.each(legendTitles, (item: EventTarget, index: number) => {\r\n                this.$timeout(() => {\r\n                    $(item).addClass('visible');\r\n                }, 200 * index);\r\n            });\r\n        }\r\n\r\n        private prepareSeries() {\r\n            if (!this.series) return;\r\n\r\n            _.each(this.series, (item: any, index: number) => {\r\n                const materialColor = this.pipChartColors.getMaterialColor(index, this.colors);\r\n                item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : materialColor);\r\n                item.disabled = item.disabled || false;\r\n            });\r\n        }\r\n    }\r\n\r\n    const ChartLegend: ng.IComponentOptions = {\r\n        bindings: ChartLegendBindings,\r\n        templateUrl: 'chart_legend/ChartInteractiveLegend.html',\r\n        controller: ChartLegendController\r\n    }\r\n\r\n    angular\r\n        .module('pipChartLegends', [])\r\n        .component('pipChartLegend', ChartLegend);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        showYAxis: any;\r\n        showXAxis: any;\r\n        xFormat: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        xTickValues: any;\r\n        dynamic: any;\r\n        fixedHeight: any;\r\n        dynamicHeight: any;\r\n        minHeight: any;\r\n        maxHeight: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const LineChartBindings: ILineChartBindings = {\r\n        series: '<pipSeries',\r\n        showYAxis: '<?pipYAxis',\r\n        showXAxis: '<?pipXAxis',\r\n        xFormat: '<?pipXFormat',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        xTickValues: '<?pipXTickValues',\r\n        dynamic: '<?pipDynamic',\r\n        fixedHeight: '<?pipDiagramHeight',\r\n        dynamicHeight: '<?pipDynamicHeight',\r\n        minHeight: '<?pipMinHeight',\r\n        maxHeight: '<?pipMaxHeight',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class LineChartBindingsChanges implements ng.IOnChangesObject, ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        fixedHeight: ng.IChangesObject < number > ;\r\n        dynamicHeight: ng.IChangesObject < boolean > ;\r\n        minHeight: ng.IChangesObject < number > ;\r\n        maxHeight: ng.IChangesObject < number > ;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        showYAxis: ng.IChangesObject < boolean > ;\r\n        showXAxis: ng.IChangesObject < boolean > ;\r\n        xFormat: ng.IChangesObject < any > ;\r\n        xTickFormat: ng.IChangesObject < any > ;\r\n        yTickFormat: ng.IChangesObject < any > ;\r\n        xTickValues: ng.IChangesObject < any > ;\r\n        dynamic: ng.IChangesObject < boolean > ;\r\n        interactiveLegend: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class LineChartController implements ng.IController, ILineChartBindings {\r\n        private HEIGHT = 270;\r\n        private chart: nv.LineChart = null;\r\n        private chartElem: any = null;\r\n        private setZoom: Function = null;\r\n        private updateZoomOptions: Function = null;\r\n        private colors: string[];\r\n        \r\n        public fixedHeight: number = this.HEIGHT;\r\n        public dynamicHeight: boolean = false;\r\n        public minHeight: number = this.HEIGHT;\r\n        public maxHeight: number = this.HEIGHT;\r\n        public series: any;\r\n        public showYAxis: boolean = true;\r\n        public showXAxis: boolean = true;\r\n        public xFormat: Function;\r\n        public xTickFormat: Function;\r\n        public yTickFormat: Function;\r\n        public xTickValues: number[];\r\n        public dynamic: boolean = false;\r\n        public interactiveLegend: boolean = false;\r\n        public data: any;\r\n        public legend: any;\r\n        public sourceEvents: any;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $timeout(() => {\r\n                    d3.selectAll('.nvtooltip').style('opacity', 0);\r\n                }, 800)\r\n            });\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series) || [];\r\n            this.legend = _.clone(this.series);\r\n            this.sourceEvents = [];\r\n\r\n            this.generateParameterColor();\r\n\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: LineChartBindingsChanges) {\r\n            this.fixedHeight = changes.fixedHeight ? changes.fixedHeight.currentValue : this.HEIGHT;\r\n            this.minHeight = changes.minHeight ? changes.minHeight.currentValue : this.HEIGHT;\r\n            this.maxHeight = changes.maxHeight ? changes.maxHeight.currentValue : this.HEIGHT;\r\n            this.dynamicHeight = changes.dynamicHeight ? changes.dynamicHeight.currentValue : this.dynamicHeight;\r\n\r\n            this.showXAxis = changes.showXAxis ? changes.showXAxis.currentValue : this.showXAxis;\r\n            this.showYAxis = changes.showYAxis ? changes.showYAxis.currentValue : this.showYAxis;\r\n            this.dynamic = changes.dynamic ? changes.dynamic.currentValue : this.dynamic;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : this.interactiveLegend;\r\n\r\n            this.xFormat = changes.xFormat ? changes.xFormat.currentValue : this.xFormat;\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : this.xTickFormat;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : this.yTickFormat;\r\n\r\n            if (changes.xTickValues && changes.xTickValues.currentValue !== changes.xTickValues.previousValue) {\r\n                this.xTickValues = changes.xTickValues.currentValue;\r\n                this.updateXTickValues();\r\n                if (this.chartElem && this.chart) this.chartElem.datum(this.data || []).call(this.chart);\r\n            }\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.updateSeries();\r\n            }\r\n        }\r\n\r\n        private prepareData(data) {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private getHeight() {\r\n            /*if (this.dynamicHeight) {\r\n                const heigth = Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight);\r\n                return heigth;\r\n            } else {\r\n                return this.fixedHeight;\r\n            }*/\r\n            return this.dynamicHeight ? Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight) : this.fixedHeight;\r\n        };\r\n\r\n        public zoomIn() {\r\n            if (this.setZoom) {\r\n                this.setZoom('in');\r\n            }\r\n        };\r\n\r\n        public zoomOut() {\r\n            if (this.setZoom) {\r\n                this.setZoom('out');\r\n            }\r\n        };\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.lineChart()\r\n                    .margin({\r\n                        top: 20,\r\n                        right: 20,\r\n                        bottom: 30,\r\n                        left: 30\r\n                    })\r\n                    .x((d) => {\r\n                        return (d !== undefined && d.x !== undefined) ? (this.xFormat ? this.xFormat(d.x) : d.x) : d;\r\n                    })\r\n                    .y((d) => {\r\n                        return (d !== undefined && d.value !== undefined) ? d.value : d;\r\n                    })\r\n                    .height(this.getHeight() - 50)\r\n                    .useInteractiveGuideline(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .showLegend(false)\r\n                    .color((d) => {\r\n                        return d.color || ( < any > d3.scale).paletteColors().range();\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d) => {\r\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    })\r\n                    .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                        d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0)).select('.line-chart svg');\r\n                this.chartElem.datum(this.data || []).style('height', (this.getHeight() - 50) + 'px').call(this.chart);\r\n                // Handle touches for correcting tooltip position\r\n                $('.line-chart svg').on('touchstart touchmove', (e) => {\r\n                    this.$timeout(() => {\r\n                        const tooltip = $('.nvtooltip'),\r\n                            tooltipW = tooltip.innerWidth(),\r\n                            bodyWidth = $('body').innerWidth(),\r\n                            x = e.originalEvent['touches'][0]['pageX'],\r\n                            y = e.originalEvent['touches'][0]['pageY'];\r\n\r\n                        tooltip.css('transform', 'translate(' +\r\n                            (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' +\r\n                            y + ')');\r\n                        tooltip.css('left', 0);\r\n                        tooltip.css('top', 0);\r\n                    });\r\n                });\r\n\r\n                $('.line-chart svg').on('touchstart touchend', (e) => {\r\n                    const removeTooltip = () => {\r\n                        $('.nvtooltip').css('opacity', 0);\r\n                    };\r\n\r\n                    removeTooltip();\r\n\r\n                    this.$timeout(() => {\r\n                        removeTooltip();\r\n                    }, 500);\r\n                });\r\n\r\n                if (this.dynamic) {\r\n                    this.addZoom(this.chart, this.chartElem);\r\n                }\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$scope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private updateXTickValues() {\r\n            if (!this.chart) return;\r\n\r\n            this.chart.xAxis\r\n                .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                    d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.updateXTickValues();\r\n\r\n                this.chartElem.datum(this.data || []).call(this.chart);\r\n                this.drawEmptyState();\r\n\r\n                if (this.updateZoomOptions) this.updateZoomOptions(this.data);\r\n            }\r\n        }\r\n\r\n        private updateSeries() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n\r\n            this.generateParameterColor();\r\n            this.updateChart();\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.height(this.getHeight() - 50);\r\n            this.chartElem.style('height', (this.getHeight() - 50) + 'px');\r\n            this.chart.update();\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const containerWidth = this.$element.find('.line-chart').innerWidth(),\r\n                    containerHeight = this.$element.find('.line-chart').innerHeight();\r\n\r\n                if (this.$element.find('.empty-state').get(0)) {\r\n                    this.chartElem\r\n                        .select('image')\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\r\n                } else {\r\n                    this.chartElem\r\n                        .append(\"defs\")\r\n                        .append(\"pattern\")\r\n                        .attr(\"height\", 1)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"x\", \"0\")\r\n                        .attr(\"y\", \"0\")\r\n                        .attr(\"id\", \"bg\")\r\n                        .append(\"image\")\r\n                        .attr('x', 17)\r\n                        .attr('y', 0)\r\n                        .attr('height', \"216px\")\r\n                        .attr('width', \"1151px\")\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\r\n                        .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\r\n\r\n                    this.chartElem\r\n                        .append('rect')\r\n                        .classed('empty-state', true)\r\n                        .attr('height', \"100%\")\r\n                        .attr('width', \"100%\")\r\n                        .attr('fill', 'url(#bg)');\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateScroll(domains, boundary) {\r\n            const bDiff = boundary[1] - boundary[0],\r\n                domDiff = domains[1] - domains[0],\r\n                isEqual = domDiff / bDiff === 1;\r\n\r\n            $(this.$element[0]).find('.visual-scroll')\r\n                .css('opacity', function () {\r\n                    return isEqual ? 0 : 1;\r\n                });\r\n\r\n            if (isEqual) return;\r\n\r\n            $(this.$element[0]).find('.scrolled-block')\r\n                .css('left', () => {\r\n                    return (domains[0] - boundary[0]) / bDiff * 100 + '%';\r\n                })\r\n                .css('width', () => {\r\n                    return domDiff / bDiff * 100 + '%';\r\n                });\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n        private addZoom(chart, svg) {\r\n            // Scale Extent\r\n            const scaleExtent = 4;\r\n\r\n            // Parameters\r\n            let yAxis = null;\r\n            let xAxis = null;\r\n            let xDomain = null;\r\n            let yDomain = null;\r\n            let redraw = null;\r\n\r\n            // Scales\r\n            let xScale = null;\r\n            let yScale = null;\r\n\r\n            // Min/max boundaries\r\n            let x_boundary = null;\r\n            let y_boundary = null;\r\n\r\n            // Create d3 zoom handler\r\n            let d3zoom = d3.behavior.zoom();\r\n            let prevXDomain = null;\r\n            let prevScale = null;\r\n            let prevTranslate = null;\r\n\r\n            const setData = (newChart) => {\r\n                // Parameters\r\n                yAxis = newChart.yAxis;\r\n                xAxis = newChart.xAxis;\r\n                xDomain = newChart.xDomain || xAxis.scale().domain;\r\n                yDomain = newChart.yDomain || yAxis.scale().domain;\r\n                redraw = newChart.update;\r\n\r\n                // Scales\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                // Min/max boundaries\r\n                x_boundary = xAxis.scale().domain().slice();\r\n                y_boundary = yAxis.scale().domain().slice();\r\n\r\n                // Create d3 zoom handler\r\n                prevXDomain = x_boundary;\r\n                prevScale = d3zoom.scale();\r\n                prevTranslate = d3zoom.translate();\r\n\r\n                // Ensure nice axis\r\n                xScale.nice();\r\n                yScale.nice();\r\n            }\r\n\r\n            setData(chart);\r\n\r\n            // Fix domain\r\n            const fixDomain = (domain, boundary, scale, translate) => {\r\n                if (domain[0] < boundary[0]) {\r\n                    domain[0] = boundary[0];\r\n                    if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                        domain[1] += (boundary[0] - domain[0]);\r\n                    } else {\r\n                        domain[1] = prevXDomain[1];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n\r\n                }\r\n                if (domain[1] > boundary[1]) {\r\n                    domain[1] = boundary[1];\r\n                    if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                        domain[0] -= (domain[1] - boundary[1]);\r\n                    } else {\r\n                        domain[0] = prevXDomain[0];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                prevXDomain = _.clone(domain);\r\n                prevScale = _.clone(scale);\r\n                prevTranslate = _.clone(translate);\r\n\r\n                return domain;\r\n            }\r\n\r\n            const updateChart = () => {\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                xScale.domain(x_boundary);\r\n                d3zoom.x(xScale).y(yScale);\r\n                svg.call(d3zoom);\r\n            }\r\n\r\n            // Zoom event handler\r\n            const zoomed = () => {\r\n                if (( < any > d3.event).scale === 1) {\r\n                    unzoomed();\r\n                    updateChart();\r\n                } else {\r\n                    xDomain(fixDomain(xScale.domain(), x_boundary, ( < any > d3.event).scale, ( < any > d3.event).translate));\r\n                    redraw();\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n\r\n            // Describe set zoom function\r\n            this.setZoom = (which) => {\r\n                const center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                const translate0 = d3zoom.translate(),\r\n                    coordinates0 = coordinates(center0);\r\n\r\n                if (which === 'in') {\r\n                    if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                } else {\r\n                    if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                }\r\n\r\n                const center1 = point(coordinates0);\r\n                d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                d3zoom.event(svg);\r\n            };\r\n\r\n            const step = (which) => {\r\n                const translate = d3zoom.translate();\r\n\r\n                if (which === 'right') {\r\n                    translate[0] -= 20;\r\n                } else {\r\n                    translate[0] += 20;\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                d3zoom.event(svg);\r\n            }\r\n\r\n            const coordinates = (point) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n            }\r\n\r\n            const point = (coordinates) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n            }\r\n\r\n            const keypress = () => {\r\n                switch (( < any > d3.event).keyCode) {\r\n                    case 39:\r\n                        step('right');\r\n                        break;\r\n                    case 37:\r\n                        step('left');\r\n                        break;\r\n                    case 107:\r\n                        this.setZoom('in');\r\n                        break;\r\n                    case 109:\r\n                        this.setZoom('out');\r\n                }\r\n            }\r\n\r\n            // Zoom event handler\r\n            const unzoomed = () => {\r\n                xDomain(x_boundary);\r\n                redraw();\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                prevScale = 1;\r\n                prevTranslate = [0, 0];\r\n            }\r\n\r\n            // Initialize wrapper\r\n            d3zoom.x(xScale)\r\n                .y(yScale)\r\n                .scaleExtent([1, scaleExtent])\r\n                .on('zoom', zoomed);\r\n\r\n            // Add handler\r\n            svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n            $(this.$element.get(0)).addClass('dynamic');\r\n\r\n            // Add keyboard handlers\r\n            svg\r\n                .attr('focusable', false)\r\n                .style('outline', 'none')\r\n                .on('keydown', keypress)\r\n                .on('focus', () => {});\r\n\r\n            const getXMinMax = (data) => {\r\n                let maxVal, minVal = null;\r\n\r\n                for (let i = 0; i < data.length; i++) {\r\n                    if (!data[i].disabled) {\r\n                        const tempMinVal = d3.max(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        const tempMaxVal = d3.min(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                        maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                    }\r\n                }\r\n                return [maxVal, minVal];\r\n            };\r\n\r\n            const updateZoomOptions = (data) => {\r\n                yAxis = chart.yAxis;\r\n                xAxis = chart.xAxis;\r\n\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                x_boundary = getXMinMax(data);\r\n\r\n                if (d3zoom.scale() === 1) {\r\n                    d3zoom.x(xScale).y(yScale);\r\n                    svg.call(d3zoom);\r\n                    d3zoom.event(svg);\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n        }\r\n    }\r\n\r\n    const LineChart: ng.IComponentOptions = {\r\n        bindings: LineChartBindings,\r\n        templateUrl: 'line_chart/LineChart.html',\r\n        controller: LineChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipLineCharts', [])\r\n        .component('pipLineChart', LineChart);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        donut: any;\r\n        legend: any;\r\n        total: any;\r\n        size: any;\r\n        centered: any;\r\n    }\r\n\r\n    const PieChartBindings: IPieChartBindings = {\r\n        series: '<pipSeries',\r\n        donut: '<?pipDonut',\r\n        legend: '<?pipShowLegend',\r\n        total: '<?pipShowTotal',\r\n        size: '<?pipPieSize',\r\n        centered: '<?pipCentered'\r\n    }\r\n\r\n    class PieChartBindingsChanges implements ng.IOnChangesObject, IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        donut: ng.IChangesObject < boolean > ;\r\n        legend: ng.IChangesObject < boolean > ;\r\n        total: ng.IChangesObject < boolean > ;\r\n        size: ng.IChangesObject < number | string > ;\r\n        centered: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class PieChartController implements ng.IController, IPieChartBindings {\r\n        public series: any;\r\n        public donut: boolean = false;\r\n        public legend: boolean = true;\r\n        public total: boolean = true;\r\n        public size: number | string = 250;\r\n        public centered: boolean = false;\r\n\r\n        private data: any;\r\n        private chart: nv.PieChart = null;\r\n        private chartElem: any;\r\n        private titleElem: any;\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.series;\r\n            this.generateParameterColor();\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: PieChartBindingsChanges) {\r\n            this.legend = changes.legend ? changes.legend.currentValue : this.legend;\r\n            this.centered = changes.centered ? changes.centered.currentValue : this.centered;\r\n            this.donut = changes.donut ? changes.donut.currentValue : this.donut;\r\n            this.size = changes.size ? changes.size.currentValue : this.size;\r\n            this.total = changes.total ? changes.total.currentValue : this.total;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.data = changes.series.currentValue;\r\n                this.generateParameterColor();\r\n\r\n                if (this.chart) {\r\n                    this.chartElem.datum(this.data).call(this.chart);\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                }\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.pieChart()\r\n                    .margin({\r\n                        top: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        left: 0\r\n                    })\r\n                    .x((d) => {\r\n                        return this.donut ? d.value : null;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .height(Number(this.size))\r\n                    .width(Number(this.size))\r\n                    .showLabels(true)\r\n                    .labelThreshold(.001)\r\n                    .growOnHover(false)\r\n                    .donut(this.donut)\r\n                    .donutRatio(0.5)\r\n                    .color((d) => {\r\n                        return d.color || ( < any > d3.scale).paletteColors().range();\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n                this.chart.showLegend(false);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0))\r\n                    .select('.pie-chart')\r\n                    .style('height', (this.size) + 'px')\r\n                    .style('width', this.centered ? '100%' : (this.size) + 'px')\r\n                    .select('svg')\r\n                    .style('opacity', 0)\r\n                    .datum(this.data || [])\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.chart.update();\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.centerChart();\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0];\r\n                    this.renderTotalLabel(svgElem);\r\n                    d3.select(svgElem)\r\n                        .transition()\r\n                        .duration(1000)\r\n                        .style('opacity', 1);\r\n\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    }, 800);\r\n                    this.centerChart();\r\n                    this.drawEmptyState(svgElem);\r\n                });\r\n            });\r\n        }\r\n\r\n        private drawEmptyState(svg) {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n                this.$element.find('.pip-empty-pie-text').remove();\r\n            } else {\r\n                if (this.$element.find('.pip-empty-pie-text').length === 0) {\r\n                    this.$element.find('.pie-chart')\r\n                        .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\r\n                }\r\n\r\n                const pie = d3.layout.pie().sort(null),\r\n                    size = Number(this.size);\r\n\r\n                const arc = d3.svg.arc()\r\n                    .innerRadius(size / 2 - 20)\r\n                    .outerRadius(size / 2 - 57);\r\n\r\n                svg = d3.select(svg)\r\n                    .append(\"g\")\r\n                    .classed('empty-state', true)\r\n                    .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\r\n\r\n                const path = svg.selectAll(\"path\")\r\n                    .data(pie([1]))\r\n                    .enter().append(\"path\")\r\n                    .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\r\n                    .attr(\"d\", < any > arc);\r\n            }\r\n        }\r\n\r\n        private centerChart() {\r\n            if (this.centered) {\r\n                const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0],\r\n                    leftMargin = $(svgElem).innerWidth() / 2 - (Number(this.size) || 250) / 2;\r\n                d3.select(this.$element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\r\n            }\r\n        }\r\n\r\n        private renderTotalLabel(svgElem) {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            let totalVal = this.data.reduce(function (sum, curr) {\r\n                return sum + curr.value;\r\n            }, 0);\r\n\r\n            if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\r\n\r\n            d3.select(svgElem)\r\n                .select('.nv-pie:not(.nvd3)')\r\n                .append('text')\r\n                .classed('label-total', true)\r\n                .attr('text-anchor', 'middle')\r\n                .style('dominant-baseline', 'central')\r\n                .text(totalVal);\r\n\r\n            this.titleElem = d3.select(this.$element.find('text.label-total').get(0)).style('opacity', 0);\r\n        }\r\n\r\n        private resizeTitleLabelUnwrap() {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            const boxSize = ( < any > this.$element.find('.nvd3.nv-pieChart').get(0)).getBBox();\r\n\r\n            if (!boxSize.width || !boxSize.height) {\r\n                return;\r\n            }\r\n\r\n            this.titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const PieChart: ng.IComponentOptions = {\r\n        bindings: PieChartBindings,\r\n        templateUrl: 'pie_chart/PieChart.html',\r\n        controller: PieChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipPieCharts', [])\r\n        .component('pipPieChart', PieChart);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar_chart/BarChart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend ng-show=\"$ctrl.legend\" pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('chart_legend/ChartInteractiveLegend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in $ctrl.series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"$ctrl.interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!$ctrl.interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line_chart/LineChart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': $ctrl.showXAxis, \\'visible-y-axis\\': $ctrl.showYAxis}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"$ctrl.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"$ctrl.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie_chart/PieChart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !$ctrl.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"$ctrl.data\" pip-interactive=\"false\" ng-if=\"$ctrl.legend\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","{\n    interface ILocationBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipShowLocationIcon: any;\n        pipCollapse: any;\n        pipRebind: any;\n        pipDisabled: any;\n        pipLocationResize: any;\n    }\n\n    const LocationBindings: ILocationBindings = {\n        pipLocationName: '<',\n        pipLocationPos: '<',\n        pipShowLocationIcon: '<',\n        pipCollapse: '<',\n        pipRebind: '<',\n        pipDisabled: '<',\n        pipLocationResize: '&'\n    }\n\n    class LocationBindingsChanges implements ng.IOnChangesObject, ILocationBindings {\n        [key: string]: any;\n\n        pipLocationName: ng.IChangesObject < string > ;\n        pipLocationPos: ng.IChangesObject < any > ;\n        pipShowLocationIcon: ng.IChangesObject < boolean > ;\n        pipCollapse: ng.IChangesObject < boolean > ;\n        pipRebind: ng.IChangesObject < boolean > ;\n        pipDisabled: ng.IChangesObject < boolean > ;\n\n        pipLocationResize: any;\n    }\n\n    class LocationController implements ng.IController, ILocationBindings {\n        public pipLocationName: string;\n        public pipLocationPos: any;\n        public pipShowLocationIcon: boolean;\n        public pipCollapse: boolean;\n        public pipRebind: boolean;\n        public pipDisabled: boolean;\n        public showMap: boolean = true;\n        public pipLocationResize: Function;\n\n        private name: JQuery;\n        private mapContainer: JQuery;\n        private mapControl: JQuery;\n\n        constructor(\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $scope: ng.IScope\n        ) {\n            \"ngInject\";\n            // Add class\n            $element.addClass('pip-location');\n        }\n\n        public $postLink() {\n            this.$timeout(() => {\n                this.name = this.$element.find('.pip-location-name');\n                this.mapContainer = this.$element.find('.pip-location-container');\n\n                if (this.pipCollapse === true) {\n                    this.mapContainer.hide();\n                    this.showMap = false;\n\n                    // Process user click\n                    this.name.click((event) => {\n                        event.stopPropagation();\n                        if (this.pipDisabled) return;\n                        this.showMap = !this.showMap;\n                        this.mapContainer[this.showMap ? 'show' : 'hide']();\n                        if (this.showMap) this.generateMap();\n                        if (!this.$scope.$$phase) this.$scope.$apply();\n                    });\n                }\n\n                this.redrawMap();\n            });\n        }\n\n        private redrawMap() {\n            if (!this.mapContainer) return;\n\n            // Visualize map\n            if (this.pipLocationPos && this.showMap === true) {\n                this.generateMap();\n            } else {\n                this.clearMap();\n            }\n        }\n\n        public $onChanges(changes: LocationBindingsChanges) {\n            this.pipRebind = changes.pipRebind \n                ? changes.pipRebind.currentValue || false : false;\n            this.pipShowLocationIcon = changes.pipShowLocationIcon \n                ? changes.pipShowLocationIcon.currentValue || false : false;\n            this.pipCollapse = changes.pipCollapse \n                ? changes.pipCollapse.currentValue || false : false;\n            this.pipDisabled = changes.pipDisabled \n                ? changes.pipDisabled.currentValue || false : false;\n\n            if (this.pipRebind) {\n                this.pipLocationName = changes.pipLocationName \n                    ? changes.pipLocationName.currentValue : null;\n                this.pipLocationPos = changes.pipLocationPos \n                    ? changes.pipLocationPos.currentValue : null;\n                this.redrawMap();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n            this.mapContainer.hide();\n        }\n\n        private generateMap() {\n            const location = this.pipLocationPos;\n\n            // Safeguard for bad coordinates\n            if (this.showMap === false \n                || location == null \n                || location.coordinates == null \n                || location.coordinates.length < 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            const coordinates = new google.maps.LatLng(\n                location.coordinates[0],\n                location.coordinates[1]\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapContainer.show();\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const\n                mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\n\n            new google.maps.Marker({\n                position: coordinates,\n                map: map\n            });\n        };\n    }\n\n    const LocationComponent: ng.IComponentOptions = {\n        bindings: LocationBindings,\n        templateUrl: 'location/Location.html',\n        controller: LocationController\n    }\n\n    angular\n        .module(\"pipLocation\", [])\n        .component('pipLocation', LocationComponent);\n}","import { ILocationDialogService } from './ILocationDialogService';\nimport { LocationDialogParams } from './LocationDialogParams';\n\n{\n    class LocationEditDialogController {\n        private _map = null;\n        private _marker = null;\n\n        public theme: string;\n        public locationPos;\n        public locationName;\n        public supportSet: boolean;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $timeout: angular.ITimeoutService,\n            private $mdDialog: angular.material.IDialogService,\n            locationPos: any,\n            locationName: string\n        ) {\n            this.theme = $rootScope['$theme'];\n            this.locationPos = locationPos && locationPos.type == 'Point' &&\n                locationPos.coordinates && locationPos.coordinates.length == 2 ?\n                locationPos : null;\n            this.locationName = locationName;\n            this.supportSet = navigator.geolocation != null;\n\n            // Wait until dialog is initialized\n            $timeout(() => {\n                let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n                // Calculate coordinate of the center\n                let coordinates = this.locationPos ?\n                    new google.maps.LatLng(\n                        this.locationPos.coordinates[0],\n                        this.locationPos.coordinates[1]\n                    ) : null;\n\n                // Create the map with point marker\n                const mapOptions = {\n                    center: new google.maps.LatLng(0, 0),\n                    zoom: 1,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true\n                }\n                if (coordinates != null) {\n                    mapOptions.center = coordinates;\n                    mapOptions.zoom = 12;\n                }\n\n                this._map = new google.maps.Map(mapContainer[0], mapOptions);\n                this._marker = this.createMarker(coordinates);\n\n                // Fix resizing issue\n                $timeout(() => {\n                    google.maps.event.trigger(this._map, 'resize');\n                }, 1000);\n            }, 0);\n\n            $scope.$on('pipLayoutResized', () => {\n                if (this._map == null) return;\n                google.maps.event.trigger(this._map, 'resize');\n            });\n\n        }\n\n        private createMarker(coordinates) {\n            if (this._marker) this._marker.setMap(null);\n            if (coordinates) {\n                this._marker = new google.maps.Marker({\n                    position: coordinates,\n                    map: this._map,\n                    draggable: true,\n                    animation: google.maps.Animation.DROP\n                });\n\n                let thisMarker = this._marker;\n                google.maps.event.addListener(thisMarker, 'dragend', () => {\n                    let coordinates = thisMarker.getPosition();\n                    this.changeLocation(coordinates, null);\n                });\n            } else {\n                this._marker = null;\n            }\n\n            return this._marker;\n        }\n\n        private changeLocation(coordinates, tid) {\n            this.locationPos = {\n                type: 'Point',\n                coordinates: [coordinates.lat(), coordinates.lng()]\n            };\n            this.locationName = null;\n            // Read address\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({\n                latLng: coordinates\n            }, (results, status) => {\n                // Process positive response\n                if (results && results.length > 0) {\n                    this.locationName = results[0].formatted_address;\n                }\n\n                this.$scope.$apply();\n            })\n        }\n        // Describe user actions\n        public onAddPin() {\n            if (this._map === null) return;\n\n            const coordinates = this._map.getCenter();\n            this._marker = this.createMarker(coordinates);\n            this.changeLocation(coordinates, null);\n        }\n\n        public onRemovePin() {\n            if (this._map === null) return;\n            this._marker = this.createMarker(null);\n            this.locationPos = null;\n            this.locationName = null;\n        }\n\n        public onZoomIn() {\n            if (this._map === null) return;\n            const zoom = this._map.getZoom();\n            this._map.setZoom(zoom + 1);\n        }\n\n        public onZoomOut() {\n            if (this._map === null) return;\n            const zoom = this._map.getZoom();\n            this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n        }\n\n        public onSetLocation = function () {\n            if (this._map === null) return;\n\n            navigator.geolocation.getCurrentPosition(\n                (position) => {\n                    const coordinates = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                    this._marker = this.createMarker(coordinates);\n                    this._map.setCenter(coordinates);\n                    this._map.setZoom(12);\n                    this.changeLocation(coordinates, null);\n                },\n                () => {\n                    this.$scope.$apply();\n                }, {\n                    maximumAge: 0,\n                    enableHighAccuracy: true,\n                    timeout: 5000\n                });\n        }\n\n        public onCancel(): void {\n            this.$mdDialog.cancel();\n        }\n\n        public onApply(): void {\n            this.$mdDialog.hide({\n                location: this.locationPos,\n                locationPos: this.locationPos,\n                locationName: this.locationName\n            })\n        }\n    }\n    \n    class LocationDialogService implements ILocationDialogService {\n        constructor(\n            private $mdDialog: angular.material.IDialogService\n        ) {}\n\n        public show(params: LocationDialogParams, successCallback?, cancelCallback?) {\n            this.$mdDialog.show({\n                    controller: LocationEditDialogController,\n                    controllerAs: '$ctrl',\n                    templateUrl: 'location_dialog/LocationDialog.html',\n                    locals: {\n                        locationName: params.locationName,\n                        locationPos: params.locationPos\n                    },\n                    clickOutsideToClose: true\n                })\n                .then((result) => {\n                    if (successCallback) {\n                        successCallback(result);\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    const LocationDialogRun = function($injector: ng.auto.IInjectorService) {\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            ( < any > pipTranslate).setTranslations('en', {\n                'LOCATION_ADD_LOCATION': 'Add location',\n                'LOCATION_SET_LOCATION': 'Set location',\n                'LOCATION_ADD_PIN': 'Add pin',\n                'LOCATION_REMOVE_PIN': 'Remove pin'\n            });\n            ( < any > pipTranslate).setTranslations('ru', {\n                'LOCATION_ADD_LOCATION': 'Добавить местоположение',\n                'LOCATION_SET_LOCATION': 'Определить положение',\n                'LOCATION_ADD_PIN': 'Добавить точку',\n                'LOCATION_REMOVE_PIN': 'Убрать точку'\n            });\n        }\n    }\n\n\n    angular\n        .module('pipLocationEditDialog')\n        .run(LocationDialogRun)\n        .service('pipLocationEditDialog', LocationDialogService);\n}","export class LocationDialogParams {\n    // Locations position\n    locationPos: any;\n    // Location name\n    locationName: string;\n}","angular.module('pipLocationEditDialog', ['ngMaterial', 'pipLocations.Templates']);\n\nimport './LocationDialog'","import { ILocationDialogService } from '../location_dialog/ILocationDialogService';\n\n{\n    interface ILocationEditBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipLocationHolder: any;\n        ngDisabled: any;\n        pipChanged: any;\n    }\n\n    const LocationEditBindings: ILocationEditBindings = {\n        pipLocationName: '=',\n        pipLocationPos: '=',\n        pipLocationHolder: '=',\n        ngDisabled: '<',\n        pipChanged: '&'\n    }\n\n    class LocationEditBindingsChanges implements ng.IOnChangesObject, ILocationEditBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipLocationHolder: any;\n        pipChanged: any;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n    }\n\n    class LocationEditController implements ng.IController, ILocationEditBindings {\n        public pipLocationName: string;\n        public pipLocationPos: any;\n        public pipLocationHolder: boolean;\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n\n        private empty: JQuery;\n        private mapContainer: JQuery;\n        private mapControl: any;\n        private defineCoordinatesDebounced: Function;\n\n        constructor(\n            private $element: JQuery,\n            private $scope: ng.IScope,\n            private pipLocationEditDialog: ILocationDialogService\n        ) {\n            this.defineCoordinatesDebounced = _.debounce(() => {\n                this.defineCoordinates\n            }, 2000);\n        }\n\n        public $postLink() {\n            this.$element.find('md-input-container').attr('md-no-float', (!!this.pipLocationHolder).toString());\n            // Set containers\n            this.empty = this.$element.children('.pip-location-empty');\n            this.mapContainer = this.$element.children('.pip-location-container');\n            this.mapControl = null;\n\n            // Add watchers\n            this.$scope.$watch('$ctrl.pipLocationName',\n                (newValue, oldValue) => {\n                    if (newValue !== oldValue) {\n                        this.defineCoordinatesDebounced();\n                    }\n                }\n            );\n            this.$scope.$watch('$ctrl.pipLocationPos',\n                () => {\n                    this.generateMap();\n                }\n            );\n\n            // Add class\n            this.$element.addClass('pip-location-edit');\n\n            // Visualize map\n            if (this.pipLocationPos) {\n                this.generateMap();\n            } else {\n                this.clearMap();\n            }\n        }\n\n        public $onChanges(changes: LocationEditBindingsChanges) {\n            this.ngDisabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false; \n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n\n            // Toggle control visibility\n            this.mapContainer.hide();\n            this.empty.show();\n        }\n\n        private generateMap() {\n            // Safeguard for bad coordinates\n            const location = this.pipLocationPos;\n            if (location == null || location.coordinates == null || location.coordinates.length < 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            const coordinates = new google.maps.LatLng(\n                location.coordinates[0],\n                location.coordinates[1]\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n\n            // Toggle control visibility\n            this.mapContainer.show();\n            this.empty.hide();\n\n            // Add a new map\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\n                marker = new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n        }\n\n        private defineCoordinates() {\n            const locationName = this.pipLocationName;\n\n            if (locationName == '') {\n                this.pipLocationPos = null;\n                this.clearMap();\n                this.$scope.$apply();\n                return;\n            }\n\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({\n                address: locationName\n            }, function (results, status) {\n                this.$scope.$apply(function () {\n                    // Process response\n                    if (status === google.maps.GeocoderStatus.OK) {\n                        // Check for empty results\n                        if (results === null || results.length === 0) {\n                            this.pipLocationPos = null;\n                            this.clearMap();\n                            return;\n                        }\n\n                        const geometry = results[0].geometry || {},\n                            location = geometry.location || {};\n\n                        // Check for empty results again\n                        if (location.lat === null || location.lng === null) {\n                            this.pipLocationPos = null;\n                            this.clearMap();\n                            return;\n                        }\n\n                        this.pipLocationPos = {\n                            type: 'Point',\n                            coordinates: {\n                                latitude: location.lat(),\n                                longtitude: location.lng()\n                            }\n                        };\n                        this.generateMap();\n                    }\n                    else {\n                        this.pipLocationPos = null;\n                        this.clearMap();\n                    }\n                });\n            });\n        };\n\n        public onSetLocation() {\n            if (this.ngDisabled) return;\n\n            this.pipLocationEditDialog.show({\n                    locationName: this.pipLocationName,\n                    locationPos: this.pipLocationPos\n                },\n                (result) => {\n                    const\n                        location = result.location,\n                        locationName = result.locationName;\n\n                    // Do not change anything if location is about the same\n                    if (this.pipLocationPos && this.pipLocationPos.type == 'Point' &&\n                        this.pipLocationPos.coordinates.length == 2 &&\n                        location && location.coordinates.length == 2 &&\n                        (this.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001 &&\n                        (this.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001 &&\n                        (locationName === this.pipLocationName)) {\n                        return;\n                    }\n\n                    this.pipLocationPos = location;\n                    this.pipLocationName = locationName;\n\n                    if (locationName === null && location !== null) {\n                        this.pipLocationName =\n                            '(' + result.location.coordinates[0] +\n                            ',' + result.location.coordinates[1] + ')';\n                    }\n                    this.pipChanged();\n                    this.mapContainer[0].focus();\n                }\n            );\n        };\n\n        public onMapClick($event) {\n            if (this.ngDisabled) return;\n\n            this.mapContainer[0].focus();\n            this.onSetLocation();\n            //$event.stopPropagation();\n        };\n\n        public onMapKeyPress($event) {\n            if (this.ngDisabled) return;\n\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\n                this.onSetLocation();\n                //$event.stopPropagation();\n            }\n        };\n    }\n\n    const LocationEdit: ng.IComponentOptions = {\n        bindings: LocationEditBindings,\n        templateUrl: 'location_edit/LocationEdit.html',\n        controller: LocationEditController\n    }\n\n    angular\n        .module(\"pipLocationEdit\", ['pipLocationEditDialog'])\n        .component('pipLocationEdit', LocationEdit);\n\n}","declare let google: any;\n\n{\n    interface ILocationIpBindings {\n        [key: string]: any;\n\n        pipIpaddress: any;\n        pipExtraInfo: any;\n        pipRebind: any;\n    }\n\n    const LocationIpBindings: ILocationIpBindings = {\n        pipIpaddress: '<',\n        pipExtraInfo: '&',\n        pipRebind: '<'\n    }\n\n    interface IIpResponseInfo {\n        city: string;\n        regionCode: string | number;\n        regionName: string;\n        zipCode: string | number;\n        countryCode: string | number;\n        countryName: string;\n        latitude: string | number;\n        longitude: string | number;\n    }\n\n    class LocationIpBindingsChanges implements ng.IOnChangesObject, ILocationIpBindings {\n        [key: string]: any;\n\n        pipExtraInfo: any;\n\n        pipIpaddress: ng.IChangesObject < string > ;\n        pipRebind: ng.IChangesObject < boolean >\n    }\n\n    class LocationIpController implements ng.IController, ILocationIpBindings {\n        private mapContainer: JQuery;\n        private mapControl: any;\n\n        public pipExtraInfo: any;\n        public pipIpaddress: string;\n        public pipRebind: boolean;\n\n        constructor(\n            $element: JQuery,\n            private $http: ng.IHttpService\n        ) {\n            this.mapContainer = $element.children('.pip-location-container');\n            $element.addClass('pip-location-ip');\n            this.defineCoordinates();\n        }\n\n        public $onChanges(changes: LocationIpBindingsChanges) {\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\n\n            if (this.pipRebind === true) {\n                this.pipIpaddress = changes.pipIpaddress ? changes.pipIpaddress.currentValue : this.pipIpaddress;\n                this.defineCoordinates();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n        }\n\n        private generateMap(latitude, longitude) {\n            // Safeguard for bad coordinates\n            if (latitude == null || longitude == null) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            var coordinates = new google.maps.LatLng(\n                latitude,\n                longitude\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const\n                mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\n\n            new google.maps.Marker({\n                position: coordinates,\n                map: map\n            });\n        }\n\n        private defineCoordinates() {\n            const ipAddress = this.pipIpaddress;\n\n            if (ipAddress == '') {\n                this.clearMap();\n                return;\n            }\n\n            this.$http.get('https://freegeoip.net/json/' + ipAddress)\n                .success((response: IIpResponseInfo) => {\n                    if (response != null &&\n                        response.latitude != null &&\n                        response.longitude != null) {\n\n                        this.generateMap(response.latitude, response.longitude);\n\n                        if (this.pipExtraInfo) {\n                            const extraInfo = {\n                                city: response.city,\n                                regionCode: response.regionCode,\n                                region: response.regionName,\n                                zipCode: response.zipCode,\n                                countryCode: response.countryCode,\n                                country: response.countryName\n                            };\n                            this.pipExtraInfo({\n                                extraInfo: extraInfo\n                            });\n                        }\n                    } else {\n                        this.clearMap();\n                    }\n                })\n                .error((response) => {\n                    this.clearMap();\n                });\n        }\n    }\n\n    const LocationIp: ng.IComponentOptions = {\n        bindings: LocationIpBindings,\n        template: '<div class=\"pip-location-container\"></div>',\n        controller: LocationIpController\n    }\n\n    angular\n        .module(\"pipLocationIp\", [])\n        .component('pipLocationIp', LocationIp);\n}","{\n\n    interface ILocationMapBindings {\n        [key: string]: any;\n\n        pipLocationPos: any;\n        pipLocationPositions: any;\n        pipIconPath: any;\n        pipDraggable: any;\n        pipStretch: any;\n        pipRebind: any;\n    }\n\n    const LocationMapBindings: ILocationMapBindings = {\n        pipLocationPos: '<',\n        pipLocationPositions: '<',\n        pipIconPath: '<',\n        pipDraggable: '<',\n        pipStretch: '<',\n        pipRebind: '<'\n    }\n\n    class LocationMapBindingsChanges implements ng.IOnChangesObject, ILocationMapBindings {\n        [key: string]: any;\n\n        pipLocationPos: ng.IChangesObject<any>;\n        pipLocationPositions: ng.IChangesObject<any>;\n        pipIconPath: ng.IChangesObject<string>;\n        pipDraggable: ng.IChangesObject<boolean>;\n        pipStretch: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class LocationMapController implements ng.IController, ILocationMapBindings {\n        public pipLocationPos: any;\n        public pipLocationPositions: any;\n        public pipIconPath: string;\n        public pipDraggable: boolean;\n        public pipStretch: boolean;\n        public pipRebind: boolean;\n\n        private mapContainer: JQuery;\n        private mapControl: any = null;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            this.mapContainer = $element.children('.pip-location-container');\n            $element.addClass('pip-location-map');\n        }\n\n        public $onChanges(changes: LocationMapBindingsChanges) {\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\n            this.pipDraggable = changes.pipDraggable ? changes.pipDraggable.currentValue || false : false;\n            this.pipStretch = changes.pipStretch ? changes.pipStretch.currentValue || false : false;\n\n            if (this.pipStretch === true)  {\n                this.mapContainer.addClass('stretch');\n            } else {\n                this.mapContainer.removeClass('stretch');\n            }\n\n            if (this.pipRebind === true) {\n                this.pipLocationPos = changes.pipLocationPos ? changes.pipLocationPos.currentValue : this.pipLocationPos;\n                this.pipLocationPositions = changes.pipLocationPositions ? changes.pipLocationPositions.currentValue : this.pipLocationPos;\n                this.pipIconPath = changes.pipIconPath ? changes.pipIconPath.currentValue : this.pipIconPath;\n\n                this.generateMap();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n        }\n\n        private checkLocation(loc) {\n            return !(loc == null || loc.coordinates == null || loc.coordinates.length < 0);\n        }\n\n        private determineCoordinates(loc) {\n            const point = new google.maps.LatLng(\n                loc.coordinates[0],\n                loc.coordinates[1]\n            );\n\n            point.fill = loc.fill;\n            point.stroke = loc.stroke;\n\n            return point;\n        }\n\n        private generateMap() {\n            const location = this.pipLocationPos,\n                locations = this.pipLocationPositions,\n                points = [],\n                draggable = this.pipDraggable || false;\n\n            // Safeguard for bad coordinates\n            if (this.checkLocation(location)) {\n                points.push(this.determineCoordinates(location));\n            } else {\n                if (locations && locations.length && locations.length > 0) {\n                    _.each(locations, (loc) => {\n                        if (this.checkLocation(loc)) {\n                            points.push(this.determineCoordinates(loc));\n                        }\n                    });\n                }\n            }\n\n            if (points.length === 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map\n            const mapOptions = {\n                    center: points[0],\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: draggable,\n                    draggable: draggable\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\n                bounds = new google.maps.LatLngBounds();\n\n            // Create markers\n            _.each(points, (point) => {\n                const icon = {\n                    path: this.pipIconPath,\n                    fillColor: point.fill || '#EF5350',\n                    fillOpacity: 1,\n                    scale: 1,\n                    strokeColor: point.stroke || 'white',\n                    strokeWeight: 5\n                };\n\n                new google.maps.Marker({\n                    position: point,\n                    map: map,\n                    icon: this.pipIconPath ? icon : null\n                });\n                bounds.extend(point);\n            });\n\n            // Auto-config of zoom and center\n            if (points.length > 1) map.fitBounds(bounds);\n        }\n    }\n\n    const LocationMap: ng.IComponentOptions = {\n        bindings: LocationMapBindings,\n        template: '<div class=\"pip-location-container\"></div>',\n        controller: LocationMapController\n    }\n\n    angular\n        .module(\"pipLocationMap\", [])\n        .component('pipLocationMap', LocationMap);\n}","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/LocationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location/Location.html',\n    '<div class=\"pip-location-name location-collapse\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"!$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text\">{{$ctrl.pipLocationName}}</span></div><md-button class=\"pip-location-name\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text flex\">{{$ctrl.pipLocationName}}</span><md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-show=\"!$ctrl.showMap\"></md-icon><md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-show=\"$ctrl.showMap\"></md-icon></div></md-button><div class=\"pip-location-container\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_edit/LocationEdit.html',\n    '<md-input-container class=\"md-block\"><label>{{ \\'LOCATION\\' | translate }}</label> <input ng-model=\"$ctrl.pipLocationName\" ng-disabled=\"$ctrl.ngDisabled\"></md-input-container><div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\"><md-button class=\"md-raised\" ng-disabled=\"$ctrl.ngDisabled\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"LOCATION_ADD_LOCATION\"><span class=\"icon-location\"></span> {{\\'LOCATION_ADD_LOCATION\\' | translate }}</md-button></div><div class=\"pip-location-container\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-click=\"$ctrl.onMapClick($event)\" ng-keypress=\"$ctrl.onMapKeyPress($event)\"></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","export class ButtonsUpload {\r\n    public title: string;\r\n    public click: Function;\r\n}","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileFailBindings {\r\n    [key: string]: any;\r\n\r\n    buttons: any,\r\n    name: any,\r\n    type: any,\r\n    error: any\r\n}\r\n\r\nconst FileFailBindings: IFileFailBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    error: '<pipError'\r\n}\r\n\r\nclass FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n}\r\n\r\n\r\ninterface IFileFailController {\r\n    name: string;\r\n    type: string;\r\n    error: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileFailController implements IFileFailController, IFileFailBindings {\r\n    public name: string;\r\n    public type: string;\r\n    public error: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n        \r\n        $scope.$watch('error', (error: string) => {\r\n            this.error = error;\r\n        })\r\n    }\r\n}\r\n\r\nconst fileFailComponent: ng.IComponentOptions = {\r\n    controller: FileFailController,\r\n    bindings: FileFailBindings,\r\n    templateUrl: 'fail/FileFail.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.FailUpload', [])\r\n    .component('pipFailUpload', fileFailComponent)\r\n","{\r\n    function fileModelLink(scope, element, attrs, $parse) {\r\n        let model = $parse(attrs.fileModel);\r\n        let modelSetter = model.assign;\r\n                \r\n        element.bind('change', () => {\r\n            scope.$apply(() => {\r\n                modelSetter(scope, element[0].files[0]);\r\n            });\r\n        });\r\n    }\r\n\r\n    function fileModelDirective($parse: ng.IParseProvider) {\r\n        \"ngInject\";\r\n\r\n        return {\r\n            restrict: 'A',\r\n            link: (scope: ng.IScope, element, attrs: ng.IAttributes) => { \r\n                fileModelLink(scope, element, attrs, $parse) \r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Model', [])\r\n        .directive('fileModel', fileModelDirective)\r\n}","{\r\n\r\n    interface IFileSelectController {\r\n        localFile: any;\r\n        onUploadButtonClick(): void;\r\n        onDeleteButtonClick(): void;\r\n    }\r\n\r\n    interface IFileSelectBindings {\r\n        [key: string]: any;\r\n\r\n        localFile: any,\r\n        change: any\r\n    }\r\n\r\n    const FileSelectBindings: IFileSelectBindings = {\r\n        localFile: '<pipLocalFile',\r\n        change: '<pipChange'\r\n    }\r\n\r\n    class FileSelectController implements IFileSelectController {\r\n        public localFile: any;\r\n        public change: Function;\r\n\r\n        constructor($scope: ng.IScope) {\r\n            \"ngInject\";\r\n            $scope.$watch('$ctrl.localFile', (item) => {\r\n                if (this.change) {\r\n                    this.change(this.localFile);\r\n                }\r\n            })\r\n        }\r\n\r\n        public onUploadButtonClick(): void {\r\n            $('#inp_file').click();\r\n        }\r\n\r\n        public onDeleteButtonClick(): void {\r\n            this.localFile = null;\r\n            let forml = document.getElementById('inp_form');\r\n            (<any>forml).reset();\r\n\r\n        }\r\n    }\r\n\r\n    const fileSelectDirective = {\r\n        restrict: 'E',\r\n        replace: true,\r\n        bindings: FileSelectBindings,\r\n        controller: FileSelectController,\r\n        templateUrl: 'select/FileSelect.html'\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Select', [])\r\n        .component('pipFileSelect', fileSelectDirective)\r\n\r\n}\r\n","import { FileUploadState } from './FileUploadState';\r\nimport { IFileUploadService } from './IFileUploadService';\r\n\r\nclass FileUploadService implements IFileUploadService {\r\n\r\n    public constructor(private $http: ng.IHttpService) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    public upload(file: any, url: string,\r\n        resultCallback?: (data: any, err: any) => void,\r\n        progressCallback?: (state: FileUploadState, progress: number) => void\r\n    ): void {\r\n\r\n        let fd: FormData = new FormData();\r\n        fd.append('file', file);\r\n\r\n        if (progressCallback)\r\n            progressCallback(FileUploadState.Uploading, 0);\r\n\r\n        this.$http.post(url, fd, <any>{\r\n            uploadEventHandlers: {\r\n                progress: (e: any) => {\r\n                    if (e.lengthComputable && progressCallback) {\r\n                        progressCallback(FileUploadState.Uploading, (e.loaded / e.total) * 100);\r\n                    }\r\n                }\r\n            },\r\n            headers: { 'Content-Type': undefined }\r\n        })\r\n        .success((response: any) => {\r\n            if (progressCallback)\r\n                progressCallback(FileUploadState.Completed, 100);\r\n\r\n            if (resultCallback)\r\n                resultCallback(response, null);\r\n        })\r\n        .error((response: any) => {\r\n            if (progressCallback)\r\n                progressCallback(FileUploadState.Failed, 0);\r\n\r\n            if (resultCallback)\r\n                resultCallback(null, response.Error || response);\r\n        });\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipFiles.Service', [])\r\n    .service('pipFileUpload', FileUploadService);\r\n","export enum FileUploadState {\r\n    Uploading,\r\n    Completed,\r\n    Failed\r\n}","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileStartBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any,\r\n    progress: any\r\n}\r\n\r\nconst FileStartBindings: IFileStartBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    progress: '<?pipProgress'\r\n};\r\n\r\n\r\nclass FileStartChanges implements ng.IOnChangesObject, IFileStartBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\ninterface IFileStartController {\r\n    name: string;\r\n    type: string;\r\n    progress: number;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileStartController implements IFileStartController {\r\n    public name: string;\r\n    public progress: number = 0;\r\n    public type: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() { }\r\n\r\n    public $onChanges(changes: FileStartChanges) {\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nconst fileStartDirective = {\r\n    controller: FileStartController,\r\n    bindings: FileStartBindings,\r\n    templateUrl: 'start/FileStart.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.StartUpload', [])\r\n    .component('pipStartUpload', fileStartDirective)\r\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileSuccessBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any\r\n}\r\n\r\nconst FileSuccessBindings: IFileSuccessBindings = {\r\n    buttons: '=?pipButtons',\r\n    name: '=pipName',\r\n    type: '=?pipType',\r\n}\r\n\r\ninterface IFileSuccessController {\r\n    name: string;\r\n    type: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\r\n    public name: string;\r\n    public type: string = 'file';\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() {}\r\n\r\n    public $onChanges(changes) {}\r\n}\r\n\r\nconst fileSuccessDirective = {\r\n    restrict: 'E',\r\n    replace: true,\r\n    controller: FileSuccessController,\r\n    controllerAs: 'vm',\r\n    bindings: FileSuccessBindings,\r\n    templateUrl: 'success/FileSuccess.html'\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFiles.SuccessUpload', [])\r\n    .component('pipSuccesUpload', fileSuccessDirective)\r\n","import { IFileUploadService } from \"../service/IFileUploadService\";\r\nimport { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\nclass FileUploadButtons {\r\n    retry: Function;\r\n    cancel: Function;\r\n    abort: Function;\r\n}\r\n\r\ninterface IFileUploadController {\r\n    name: string;\r\n    type: string;\r\n    state: string;\r\n    progress: number;\r\n    onCancel(): void;\r\n    onRetry(): void;\r\n    onAbort(): void;\r\n}\r\n\r\ninterface IFileUploadBindings {\r\n    [key: string]: any;\r\n\r\n    buttonFunction: any,\r\n    buttons: any,\r\n    error: any,\r\n    name: any,\r\n    state: any,\r\n    type: any,\r\n    progress: any\r\n}\r\n\r\nconst FileUploadBindings: IFileUploadBindings = {\r\n    buttonFunction: '<?pipButtonFunctions',\r\n    buttons: '<?pipButtons',\r\n    error: '<?pipError',\r\n    name: '<pipName',\r\n    state: '<pipState',\r\n    type: '<?pipType',\r\n    progress: '<pipProgress'\r\n}\r\n\r\nclass FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\r\n    buttons: ng.IChangesObject<boolean>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    state: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\nclass FileUploadController implements IFileUploadController, IFileUploadBindings {\r\n    public buttonFunction: FileUploadButtons;\r\n    public uploadButtons: ButtonsUpload[];\r\n    public failButtons: ButtonsUpload[];\r\n    public startButtons: ButtonsUpload[];\r\n\r\n    public name: string;\r\n    public type: string;\r\n    public state: string;\r\n    public progress: number;\r\n    public buttons: boolean;\r\n    public error: string = null;\r\n\r\n    constructor($scope: ng.IScope) { }\r\n\r\n    public $onInit() {\r\n        if (this.buttons) {\r\n            this.uploadButtons = [];\r\n            this.failButtons = [\r\n                { title: 'Cancel', click: () => { this.onCancel() } },\r\n                { title: 'Retry', click: () => { this.onRetry() } }\r\n            ];\r\n            this.startButtons = [\r\n                { title: 'Abort', click: () => { this.onAbort() } }\r\n            ];\r\n        }\r\n    }\r\n\r\n    public $onChanges(changes: FileUploadChanges) {\r\n        if (changes.state) {\r\n            this.state = changes.state.currentValue;\r\n        }\r\n\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n        if (changes.error) {\r\n            this.error = changes.error.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    public onCancel(): void {\r\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\r\n    }\r\n\r\n    public onRetry(): void {\r\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\r\n    }\r\n\r\n    public onAbort() {\r\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\r\n    }\r\n\r\n}\r\n\r\nconst fileUploadDirective = {\r\n    controller: FileUploadController,\r\n    bindings: FileUploadBindings,\r\n    templateUrl: 'upload/FileUpload.html'\r\n};\r\n\r\n\r\nangular\r\n    .module('pipFiles.FileUpload', [])\r\n    .component('pipFileUpload', fileUploadDirective)\r\n","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{$ctrl.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div class=\"color-error pip-error\">{{$ctrl.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"$ctrl.localFile\" id=\"inp_file\" ng-model=\"$ctrl.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"$ctrl.onUploadButtonClick()\" ng-if=\"!$ctrl.localFile\">Choose File</md-button><div ng-if=\"$ctrl.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{$ctrl.localFile.name}}</div><div ng-if=\"$ctrl.localFile.size\" class=\"color-secondary-text\">{{$ctrl.localFile.size}}</div></div><md-button ng-click=\"$ctrl.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::$ctrl.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{$ctrl.progress}}\" ng-if=\"$ctrl.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"$ctrl.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in $ctrl.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == 2\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == 0\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n","import './widgets/Widgets';\nimport './draggable/Draggable';\n\nangular.module('pipDashboard', [\n  'pipWidget',\n  'pipDragged',\n  'pipWidgetConfigDialog',\n  'pipAddDashboardComponentDialog',\n  'pipDashboard.Templates',\n\n  // External pip modules\n  'pipLayout',\n  'pipLocations',\n  'pipDateTime',\n  'pipCharts',\n  'pipTranslate',\n  'pipControls'\n]);\n\nimport './utility/WidgetTemplateUtility';\nimport './dialogs/widget_config/ConfigDialogController';\nimport './dialogs/add_component/AddComponentDialogController';\nimport './DashboardComponent';\n","import {\n  IWidgetTemplateService\n} from './utility/WidgetTemplateUtility';\nimport {\n  IAddComponentDialogService,\n  IAddComponentDialogprovider\n} from './dialogs/add_component/AddComponentProvider'\n\n{\n  const setTranslations = function ($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      ( < any > pipTranslate).setTranslations('en', {\n        DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\n      });\n      ( < any > pipTranslate).setTranslations('ru', {\n        DROP_TO_CREATE_NEW_GROUP: 'Перетащите сюда для создания новой группы'\n      });\n    }\n  }\n\n  const configureAvailableWidgets = function (pipAddComponentDialogProvider: IAddComponentDialogprovider) {\n    pipAddComponentDialogProvider.configWidgetList([\n      [{\n          title: 'Event',\n          icon: 'document',\n          name: 'event',\n          amount: 0\n        },\n        {\n          title: 'Position',\n          icon: 'location',\n          name: 'position',\n          amount: 0\n        }\n      ],\n      [{\n          title: 'Calendar',\n          icon: 'date',\n          name: 'calendar',\n          amount: 0\n        },\n        {\n          title: 'Sticky Notes',\n          icon: 'note-take',\n          name: 'notes',\n          amount: 0\n        },\n        {\n          title: 'Statistics',\n          icon: 'tr-statistics',\n          name: 'statistics',\n          amount: 0\n        }\n      ]\n    ]);\n  }\n\n  class draggableOptions {\n    tileWidth: number;\n    tileHeight: number;\n    gutter: number;\n    inline: boolean;\n  }\n\n  const DEFAULT_GRID_OPTIONS: draggableOptions = {\n    tileWidth: 150, // 'px'\n    tileHeight: 150, // 'px'\n    gutter: 10, // 'px'\n    inline: false\n  };\n\n  interface DashboardBindings {\n      gridOptions: any;\n      groupAdditionalActions: any;\n      groupedWidgets: any;\n  }\n\n  class DashboardController implements ng.IController, DashboardBindings {\n    private defaultGroupMenuActions: any = [{\n        title: 'Add Component',\n        callback: (groupIndex) => {\n          this.addComponent(groupIndex);\n        }\n      },\n      {\n        title: 'Remove',\n        callback: (groupIndex) => {\n          this.removeGroup(groupIndex);\n        }\n      },\n      {\n        title: 'Configurate',\n        callback: (groupIndex) => {\n          console.log('configurate group with index:', groupIndex);\n        }\n      }\n    ];\n    private _includeTpl: string = '<pip-{{ type }}-widget group=\"groupIndex\" index=\"index\"' +\n      'pip-options=\"$parent.$ctrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\n      '</pip-{{ type }}-widget>';\n\n    public groupedWidgets: any;\n    public draggableGridOptions: draggableOptions;\n    public widgetsTemplates: any;\n    public groupMenuActions: any = this.defaultGroupMenuActions;\n    public widgetsContext: any;\n    public gridOptions: any;\n    public groupAdditionalActions: any;\n\n    constructor(\n      $scope: angular.IScope,\n      private $rootScope: angular.IRootScopeService,\n      private $attrs: any,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private $interpolate: angular.IInterpolateService,\n      private pipAddComponentDialog: IAddComponentDialogService,\n      private pipWidgetTemplate: IWidgetTemplateService\n    ) {\n      // Add class to style scroll bar\n      $element.addClass('pip-scroll');\n\n      // Set tiles grid options\n      this.draggableGridOptions = this.gridOptions || DEFAULT_GRID_OPTIONS;\n\n      // Switch inline displaying\n      if (this.draggableGridOptions.inline === true) {\n        $element.addClass('inline-grid');\n      }\n      // Extend group's menu actions\n      if (this.groupAdditionalActions) angular.extend(this.groupMenuActions, this.groupAdditionalActions);\n\n      // Compile widgets\n      this.widgetsContext = $scope;\n      this.compileWidgets();\n\n      this.$timeout(() => {\n        this.$element.addClass('visible');\n      }, 700);\n    }\n\n    private compileWidgets() {\n      _.each(this.groupedWidgets, (group, groupIndex) => {\n        group.removedWidgets = group.removedWidgets || [],\n          group.source = group.source.map((widget, index) => {\n            // Establish default props\n            widget.size = widget.size || {\n              colSpan: 1,\n              rowSpan: 1\n            };\n            widget.index = index;\n            widget.groupIndex = groupIndex;\n            widget.menu = widget.menu || {};\n            angular.extend(widget.menu, [{\n              title: 'Remove',\n              click: (item, params, object) => {\n                this.removeWidget(item, params, object);\n              }\n            }]);\n\n            return {\n              opts: widget,\n              template: this.pipWidgetTemplate.getTemplate(widget, this._includeTpl)\n            };\n          })\n      });\n    }\n\n    public addComponent(groupIndex) {\n      this.pipAddComponentDialog\n        .show(this.groupedWidgets, groupIndex)\n        .then((data) => {\n          var activeGroup;\n\n          if (!data) {\n            return;\n          }\n\n          if (data.groupIndex !== -1) {\n            activeGroup = this.groupedWidgets[data.groupIndex];\n          } else {\n            activeGroup = {\n              title: 'New group',\n              source: []\n            };\n          }\n\n          this.addWidgets(activeGroup.source, data.widgets);\n\n          if (data.groupIndex === -1) {\n            this.groupedWidgets.push(activeGroup);\n          }\n\n          this.compileWidgets();\n        });\n    };\n\n    public removeGroup = (groupIndex) => {\n      console.log('removeGroup', groupIndex);\n      this.groupedWidgets.splice(groupIndex, 1);\n    }\n\n    private addWidgets(group, widgets) {\n      widgets.forEach((widgetGroup) => {\n        widgetGroup.forEach((widget) => {\n          if (widget.amount) {\n            Array.apply(null, Array(widget.amount)).forEach(() => {\n              group.push({\n                type: widget.name\n              });\n            });\n          }\n        });\n      });\n    }\n\n    private removeWidget(item, params, object) {\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\n      this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\n      this.$timeout(() => {\n        this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      });\n    }\n\n  }\n\n  const pipDashboard: ng.IComponentOptions = {\n    bindings: {\n      gridOptions: '=pipGridOptions',\n      groupAdditionalActions: '=pipGroupActions',\n      groupedWidgets: '=pipGroups'\n    },\n    controller: DashboardController,\n    templateUrl: 'Dashboard.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .config(configureAvailableWidgets)\n    .config(setTranslations)\n    .component('pipDashboard', pipDashboard);\n\n}","export class AddComponentDialogWidget {\n    title: string;\n    icon: string;\n    name: string;\n    amount: number;\n}\n\nexport class AddComponentDialogController implements ng.IController {\n    public defaultWidgets: [AddComponentDialogWidget[]];\n    public groups: any;\n    public totalWidgets: number = 0;\n\n    constructor(\n        groups, // Later may be group type\n        public activeGroupIndex: number,\n        widgetList: [AddComponentDialogWidget[]],\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\n        this.defaultWidgets = _.cloneDeep(widgetList);\n        this.groups = _.map(groups, function (group) {\n            return group['title'];\n        });\n    }\n\n    public add() {\n        this.$mdDialog.hide({\n            groupIndex: this.activeGroupIndex,\n            widgets: this.defaultWidgets\n        });\n    };\n\n    public cancel() {\n        this.$mdDialog.cancel();\n    };\n\n    public encrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultWidgets[groupIndex][widgetIndex];\n        widget.amount++;\n        this.totalWidgets++;\n    };\n\n    public decrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultWidgets[groupIndex][widgetIndex];\n        widget.amount = widget.amount ? widget.amount - 1 : 0;\n        this.totalWidgets = this.totalWidgets ? this.totalWidgets - 1 : 0;\n    };\n}\n\nangular\n    .module('pipAddDashboardComponentDialog', ['ngMaterial']);\n\nimport './AddComponentProvider';","import {\n  AddComponentDialogWidget,\n  AddComponentDialogController\n} from './AddComponentDialogController';\n\nexport interface IAddComponentDialogService {\n  show(groups, activeGroupIndex): angular.IPromise < any > ;\n}\n\nexport interface IAddComponentDialogprovider {\n  configWidgetList(list: [AddComponentDialogWidget[]]): void;\n}\n\n{\n  const setTranslations = function($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      (<any>pipTranslate).setTranslations('en', {\n        DASHBOARD_ADD_COMPONENT_DIALOG_TITLE: 'Add component',\n        DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS: 'Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount',\n        DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP: 'Create new group'\n      });\n      (<any>pipTranslate).setTranslations('ru', {\n        DASHBOARD_ADD_COMPONENT_DIALOG_TITLE: 'Добавить компонент',\n        DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS: 'Используйте \"Enter\" или \"+\" клавиши на клавиатуре чтобы увеличить и \"Delete\" or \"-\" чтобы уменшить количество тайлов',\n        DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP: 'Создать новую группу'\n      });\n    }\n  }\n\n  class AddComponentDialogService implements IAddComponentDialogService {\n\n    public constructor(\n      private widgetList: [AddComponentDialogWidget[]],\n      private $mdDialog: angular.material.IDialogService\n    ) {}\n\n    public show(groups, activeGroupIndex) {\n      return this.$mdDialog\n        .show({\n          templateUrl: 'dialogs/add_component/AddComponent.html',\n          bindToController: true,\n          controller: AddComponentDialogController,\n          controllerAs: 'dialogCtrl',\n          clickOutsideToClose: true,\n          resolve: {\n            groups: () => {\n              return groups;\n            },\n            activeGroupIndex: () => {\n              return activeGroupIndex;\n            },\n            widgetList: () => {\n              return (<any>this.widgetList);\n            }\n          }\n        });\n    };\n  }\n\n  class AddComponentDialogProvider implements IAddComponentDialogprovider {\n    private _service: AddComponentDialogService;\n    private _widgetList: [AddComponentDialogWidget[]] = null;\n\n    constructor() {}\n\n    public configWidgetList = function (list: [AddComponentDialogWidget[]]) {\n      this._widgetList = list;\n    };\n\n    public $get($mdDialog: angular.material.IDialogService) {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new AddComponentDialogService(this._widgetList, $mdDialog);\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipDashboard')\n    .config(setTranslations)\n    .provider('pipAddComponentDialog', AddComponentDialogProvider);\n}","\nclass TileColors {\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\n}\n\nclass TileSizes {\n    static all: any = [{\n            name: 'DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL',\n            id: '11'\n        },\n        {\n            name: 'DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE',\n            id: '21'\n        },\n        {\n            name: 'DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE',\n            id: '22'\n        }\n    ];\n}\n\nexport class WidgetConfigDialogController {\n    public colors: string[] = TileColors.all;\n    public sizes: any = TileSizes.all;\n    public sizeId: string = TileSizes.all[0].id;\n    public onCancel: Function;\n\n    constructor(\n        public params,\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        \"ngInject\";\n\n        angular.extend(this, this.params);\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\n\n        this.onCancel = () => {\n            this.$mdDialog.cancel();\n        }\n    }\n\n    public onApply(updatedData) {\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\n        this.$mdDialog.hide(updatedData);\n    }\n}\n\nangular\n    .module('pipWidgetConfigDialog', ['ngMaterial']);\n\nimport './ConfigDialogService';\nimport './ConfigDialogExtendComponent';","{    \n    interface IWidgetConfigExtendComponentBindings {\n        [key: string]: any;\n\n        pipExtensionUrl: any;\n        pipDialogScope: any;\n        pipApply: any;\n    }\n\n    const WidgetConfigExtendComponentBindings: IWidgetConfigExtendComponentBindings = {\n        pipExtensionUrl: '<',\n        pipDialogScope: '<',\n        pipApply: '&'\n    }\n\n    class WidgetConfigExtendComponentChanges implements ng.IOnChangesObject, IWidgetConfigExtendComponentBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipExtensionUrl: ng.IChangesObject<string>;\n        pipDialogScope: ng.IChangesObject<ng.IScope>;\n\n        pipApply: ng.IChangesObject<({updatedData: any}) => ng.IPromise<void>>;\n    }\n\n    interface IWidgetConfigExtendComponentAttributes extends ng.IAttributes {\n        pipExtensionUrl: string\n    }\n\n    class WidgetConfigExtendComponentController implements IWidgetConfigExtendComponentBindings {\n        public pipExtensionUrl: string;\n        public pipDialogScope: ng.IScope;\n        public pipApply: (param: {updatedData: any}) => ng.IPromise<void>;\n\n        constructor(\n            private $templateRequest: angular.ITemplateRequestService,\n            private $compile: angular.ICompileService,\n            private $scope: angular.IScope, \n            private $element: JQuery, \n            private $attrs: IWidgetConfigExtendComponentAttributes\n        ) { }\n\n        public $onChanges(changes: WidgetConfigExtendComponentChanges) {\n            if (changes.pipDialogScope) {\n                angular.extend(this, changes.pipDialogScope.currentValue);\n            }\n            if (changes.pipExtensionUrl) {\n                this.$templateRequest(changes.pipExtensionUrl.currentValue, false).then((html) => {\n                    this.$element.find('pip-extension-point').replaceWith(this.$compile(html)(this.$scope));\n                });\n            }\n        }\n\n        public onApply() {\n            this.pipApply({updatedData: this});\n        }\n    }\n\n    const pipWidgetConfigComponent: ng.IComponentOptions = {\n        templateUrl: 'dialogs/widget_config/ConfigDialogExtendComponent.html',\n        controller: WidgetConfigExtendComponentController,\n        bindings: WidgetConfigExtendComponentBindings\n    }\n\n    angular\n        .module('pipWidgetConfigDialog')\n        .component('pipWidgetConfigExtendComponent', pipWidgetConfigComponent);\n}","import { WidgetConfigDialogController } from './ConfigDialogController';\n\nexport interface IWidgetConfigService {\n    show(params: IWidgetConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void): any;\n}\n\nexport interface IWidgetConfigDialogOptions extends angular.material.IDialogOptions {\n    dialogClass?: string;\n    extensionUrl?: string;\n    event?: any;\n}\n\n{\n    const setTranslations = function($injector: ng.auto.IInjectorService) {\n        const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n        if (pipTranslate) {\n            ( < any > pipTranslate).setTranslations('en', {\n                DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE: 'Edit tile',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL: 'Small',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE: 'Wide',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE: 'Large'\n            });\n            ( < any > pipTranslate).setTranslations('ru', {\n                DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE: 'Изменить виджет',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL: 'Мален.',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE: 'Широкий',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE: 'Большой'\n            });\n        }\n    }\n\n    class WidgetConfigDialogService {\n        public constructor(\n            public $mdDialog: angular.material.IDialogService\n        ) {}\n\n        public show(params: IWidgetConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: params.templateUrl || 'dialogs/widget_config/ConfigDialog.html',\n                    controller: WidgetConfigDialogController,\n                    bindToController: true,\n                    controllerAs: 'vm',\n                    locals: {\n                        params: params.locals\n                    },\n                    clickOutsideToClose: true\n                })\n                .then((key) => {\n                    if (successCallback) {\n                        successCallback(key);\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    angular\n        .module('pipWidgetConfigDialog')\n        .config(setTranslations)\n        .service('pipWidgetConfigDialogService', WidgetConfigDialogService);\n}","angular.module('pipDragged', []);\n\nimport './DraggableTileService';\nimport './DraggableComponent';\nimport './draggable_group/DraggableTilesGroupService'\nimport './draggable_group/DraggableTilesGroupDirective'","declare var interact;\n\nimport {\n  DragTileService,\n  IDragTileService,\n  IDragTileConstructor\n} from './DraggableTileService';\nimport {\n  TilesGridService,\n  ITilesGridService,\n  ITilesGridConstructor\n} from './draggable_group/DraggableTilesGroupService';\n\nexport const DEFAULT_TILE_WIDTH: number = 150;\nexport const DEFAULT_TILE_HEIGHT: number = 150;\nexport const UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\n\nconst SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\nconst DEFAULT_OPTIONS = {\n  tileWidth: DEFAULT_TILE_WIDTH, // 'px'\n  tileHeight: DEFAULT_TILE_HEIGHT, // 'px'\n  gutter: 20, // 'px'\n  container: 'pip-draggable-grid:first-of-type',\n  //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\n  activeDropzoneClass: 'dropzone-active',\n  groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\n};\n\n{\n  interface IDraggableBindings {\n      tilesTemplates: any;\n      tilesContext: any;\n      options: any;\n      groupMenuActions: any;\n      $container: JQuery;\n  }\n\n  interface IDraggableControllerScope extends ng.IScope {\n    $container: JQuery;\n    tilesTemplates: any;\n    options: any;\n  }\n\n  interface ITileScope extends ng.IScope {\n    index: number | string;\n    groupIndex: number | string;\n  }\n\n  class DraggableController implements ng.IComponentController, IDraggableBindings {\n    public opts: any;\n    public groups: any;\n    public sourceDropZoneElem: any = null;\n    public isSameDropzone: boolean = true;\n    public tileGroups: any = null;\n    public availableWidth: number;\n    public availableColumns: number;\n    public groupsContainers: any;\n    public container: any;\n    public activeDraggedGroup: any;\n    public draggedTile: any;\n    public containerOffset: any;\n    public tilesTemplates: any;\n    public tilesContext: any;\n    public options: any;\n    public groupMenuActions: any;\n    public $container: JQuery;\n\n    constructor(\n      private $scope: IDraggableControllerScope,\n      private $rootScope: angular.IRootScopeService,\n      private $compile: angular.ICompileService,\n      private $timeout: angular.ITimeoutService,\n      private $element: JQuery,\n      pipDragTile: IDragTileService,\n      pipTilesGrid: ITilesGridService,\n      pipMedia: pip.layouts.IMediaService\n    ) {\n      this.opts = _.merge({\n        mobileBreakpoint: pipMedia.breakpoints.xs\n      }, DEFAULT_OPTIONS, this.options);\n\n      this.groups = this.tilesTemplates.map((group, groupIndex) => {\n        return {\n          title: group.title,\n          editingName: false,\n          index: groupIndex,\n          source: group.source.map((tile) => {\n            const tileScope = this.createTileScope(tile);\n\n            return IDragTileConstructor(DragTileService, {\n              tpl: $compile(tile.template)(tileScope),\n              options: tile.opts,\n              size: tile.opts.size\n            });\n          })\n        };\n      });\n\n      // Add templates watcher\n      $scope.$watch('$ctrl.tilesTemplates', (newVal) => {\n        this.watch(newVal);\n      }, true);\n\n      // Initialize data\n      this.initialize();\n\n      // Resize handler TODO: replace by pip resize watchers\n      $(window).on('resize', _.debounce(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n\n        this.tileGroups.forEach((group) => {\n          group\n            .setAvailableColumns(this.availableColumns)\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n            .setTilesDimensions()\n            .calcContainerHeight();\n        });\n      }, 50));\n    }\n\n    // Post link function\n    public $postLink() {\n      this.$container = this.$element;\n    }\n\n    // Watch handler\n    private watch(newVal) {\n      const prevVal = this.groups;\n      let changedGroupIndex = null;\n\n      if (newVal.length > prevVal.length) {\n        this.addGroup(newVal[newVal.length - 1]);\n\n        return;\n      }\n\n      if (newVal.length < prevVal.length) {\n        this.removeGroups(newVal);\n\n        return;\n      }\n\n      for (let i = 0; i < newVal.length; i++) {\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\n          changedGroupIndex = i;\n\n          if (groupWidgetDiff < 0) {\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\n\n            _.each(newTiles, (tile) => {\n              console.log('tile', tile);\n            });\n\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\n\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          } else {\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\n            this.updateTilesOptions(newVal);\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          }\n\n          return;\n        }\n      }\n\n      if (newVal && this.tileGroups) {\n        this.updateTilesOptions(newVal);\n        this.$timeout(() => {\n          this.updateTilesGroups();\n        });\n      }\n    }\n\n    // Inline edit group handlers\n    public onTitleClick(group, event) {\n      if (!group.editingName) {\n        group.oldTitle = _.clone(group.title);\n        group.editingName = true;\n        this.$timeout(() => {\n          $(event.currentTarget.children[0]).focus();\n        });\n      }\n    }\n\n    public cancelEditing(group) {\n      group.title = group.oldTitle;\n    }\n\n    public onBlurTitleInput(group) {\n      this.$timeout(() => {\n        group.editingName = false;\n        this.$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\n        // Update title in outer scope\n        this.tilesTemplates[group.index].title = group.title;\n      }, 100);\n    }\n\n    public onKyepressTitleInput(group, event) {\n      if (event.keyCode === 13) {\n        this.onBlurTitleInput(group);\n      }\n    }\n\n    // Update outer scope functions\n    private updateTilesTemplates(updateType: string, source ? : any) {\n      switch (updateType) {\n        case 'addGroup':\n          if (this.groups.length !== this.tilesTemplates.length) {\n            this.tilesTemplates.push(source);\n          }\n          break;\n        case 'moveTile':\n          const {\n            fromIndex,\n            toIndex,\n            tileOptions,\n            fromTileIndex\n          } = {\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\n            toIndex: source.to.elem.attributes['data-group-id'].value,\n            tileOptions: source.tile.opts.options,\n            fromTileIndex: source.tile.opts.options.index\n          }\n          this.tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\n          this.tilesTemplates[toIndex].source.push({\n            opts: tileOptions\n          });\n\n          this.reIndexTiles(source.from.elem);\n          this.reIndexTiles(source.to.elem);\n          break;\n      }\n    }\n\n    // Manage tiles functions\n    private createTileScope(tile: any): ITileScope {\n      const tileScope = < ITileScope > this.$rootScope.$new(false, this.tilesContext);\n      tileScope.index = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index;\n      tileScope.groupIndex = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\n\n      return tileScope;\n    }\n\n    private removeTiles(group, indexes, container) {\n      const tiles = $(container).find('.pip-draggable-tile');\n\n      _.each(indexes, (index) => {\n        group.tiles.splice(index, 1);\n        tiles[index].remove();\n      });\n\n      this.reIndexTiles(container);\n    }\n\n    private reIndexTiles(container, gIndex ? ) {\n      const tiles = $(container).find('.pip-draggable-tile'),\n        groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\n\n      _.each(tiles, (tile, index) => {\n        const child = $(tile).children()[0];\n        angular.element(child).scope()['index'] = index;\n        angular.element(child).scope()['groupIndex'] = groupIndex;\n      });\n    }\n\n    private removeGroups(newGroups) {\n      const removeIndexes = [],\n        remain = [],\n        containers = [];\n\n\n      _.each(this.groups, (group, index) => {\n        if (_.findIndex(newGroups, (g) => {\n            return g['title'] === group.title\n          }) < 0) {\n          removeIndexes.push(index);\n        } else {\n          remain.push(index);\n        }\n      });\n\n      _.each(removeIndexes.reverse(), (index) => {\n        this.groups.splice(index, 1);\n        this.tileGroups.splice(index, 1);\n      });\n\n      _.each(remain, (index) => {\n        containers.push(this.groupsContainers[index]);\n      });\n\n      this.groupsContainers = containers;\n\n      _.each(this.groupsContainers, (container, index) => {\n        this.reIndexTiles(container, index);\n      });\n    }\n\n    private addGroup(sourceGroup) {\n      const group = {\n        title: sourceGroup.title,\n        source: sourceGroup.source.map((tile) => {\n          const tileScope = this.createTileScope(tile);\n\n          return IDragTileConstructor(DragTileService, {\n            tpl: this.$compile(tile.template)(tileScope),\n            options: tile.opts,\n            size: tile.opts.size\n          });\n        })\n      };\n\n      this.groups.push(group);\n      if (!this.$scope.$$phase) this.$scope.$apply();\n\n      this.$timeout(() => {\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups.push(\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight()\n        );\n      });\n\n      this.updateTilesTemplates('addGroup', sourceGroup);\n    }\n\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\n      newTiles.forEach((tile) => {\n        const tileScope = this.createTileScope(tile);\n\n        const newTile = IDragTileConstructor(DragTileService, {\n          tpl: this.$compile(tile.template)(tileScope),\n          options: tile.opts,\n          size: tile.opts.size\n        });\n\n        group.addTile(newTile);\n\n        $('<div>')\n          .addClass('pip-draggable-tile')\n          .append(newTile.getCompiledTemplate())\n          .appendTo(groupContainer);\n      });\n    }\n\n    private updateTilesOptions(optionsGroup) {\n      optionsGroup.forEach((optionGroup) => {\n        optionGroup.source.forEach((tileOptions) => {\n          this.tileGroups.forEach((group) => {\n            group.updateTileOptions(tileOptions.opts);\n          });\n        });\n      });\n    }\n\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\n      return tileGroups.map((group, index) => {\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight();\n      });\n    }\n\n    private updateTilesGroups(onlyPosition ? , draggedTile ? ) {\n      this.tileGroups.forEach((group) => {\n        if (!onlyPosition) {\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\n        }\n\n        group\n          .setTilesDimensions(onlyPosition, draggedTile)\n          .calcContainerHeight();\n      });\n    }\n\n    private getContainerWidth(): any {\n      const container = this.$container || $('body');\n      return container.width();\n    }\n\n    private getAvailableColumns(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT :\n        Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\n    }\n\n    private getActiveGroupAndTile(elem): any {\n      const active = {};\n\n      this.tileGroups.forEach((group) => {\n        const foundTile = group.getTileByNode(elem);\n\n        if (foundTile) {\n          active['group'] = group;\n          active['tile'] = foundTile;\n          return;\n        }\n      });\n\n      return active;\n    }\n\n    private getSingleTileWidthForMobile(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\n    }\n\n    private onDragStartListener(event) {\n      const activeEntities = this.getActiveGroupAndTile(event.target);\n\n      this.container = $(event.target).parent('.pip-draggable-group').get(0);\n      this.draggedTile = activeEntities['tile'];\n      this.activeDraggedGroup = activeEntities['group'];\n\n      this.$element.addClass('drag-transfer');\n\n      this.draggedTile.startDrag();\n    }\n\n    private onDragMoveListener(event) {\n      const target = event.target;\n      const x = (parseFloat(target.style.left) || 0) + event.dx;\n      const y = (parseFloat(target.style.top) || 0) + event.dy;\n\n      this.containerOffset = this.getContainerOffset();\n\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\n      target.style.top = y + 'px';\n\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\n        left: event.pageX - this.containerOffset.left,\n        top: event.pageY - this.containerOffset.top\n      }, this.draggedTile);\n\n      if (belowElement) {\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\n        const belowElemIndex = this.activeDraggedGroup.getTileIndex(belowElement);\n\n        if ((draggedTileIndex + 1) === belowElemIndex) {\n          return;\n        }\n\n        this.activeDraggedGroup\n          .swapTiles(this.draggedTile, belowElement)\n          .setTilesDimensions(true, this.draggedTile);\n\n        this.$timeout(() => {\n          this.setGroupContainersHeight();\n        }, 0);\n      }\n    }\n\n    private onDragEndListener() {\n      this.draggedTile.stopDrag(this.isSameDropzone);\n\n      this.$element.removeClass('drag-transfer');\n      this.activeDraggedGroup = null;\n      this.draggedTile = null;\n    }\n\n    private getContainerOffset() {\n      const containerRect = this.container.getBoundingClientRect();\n\n      return {\n        left: containerRect.left,\n        top: containerRect.top\n      };\n    }\n\n    private setGroupContainersHeight() {\n      this.tileGroups.forEach((tileGroup) => {\n        tileGroup.calcContainerHeight();\n      });\n    }\n\n    private moveTile(from, to, tile) {\n      let elem;\n      const movedTile = from.removeTile(tile);\n      const tileScope = this.createTileScope(tile);\n\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\n        .find(movedTile.getElem())\n        .remove();\n\n      if (to !== null) {\n        to.addTile(movedTile);\n\n        elem = this.$compile(movedTile.getElem())(tileScope);\n\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\n          .append(elem);\n\n        this.$timeout(to.setTilesDimensions.bind(to, true));\n      }\n\n      this.updateTilesTemplates('moveTile', {\n        from: from,\n        to: to,\n        tile: movedTile\n      });\n    }\n\n    private onDropListener(event) {\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\n      const droppedGroup = this.tileGroups[droppedGroupIndex];\n\n      if (this.activeDraggedGroup !== droppedGroup) {\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\n      }\n\n      this.updateTilesGroups(true);\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropToFictGroupListener(event) {\n      const from = this.activeDraggedGroup;\n      const tile = this.draggedTile;\n\n      this.addGroup({\n        title: 'New group',\n        source: []\n      });\n      this.$timeout(() => {\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\n        this.updateTilesGroups(true);\n      });\n\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropEnterListener(event) {\n      if (!this.sourceDropZoneElem) {\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\n      }\n\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\n        $('body').css('cursor', 'copy');\n        this.isSameDropzone = false;\n      } else {\n        $('body').css('cursor', '');\n        this.isSameDropzone = true;\n      }\n    }\n\n    private onDropDeactivateListener(event) {\n      if (this.sourceDropZoneElem !== event.target) {\n        event.target.classList.remove(this.opts.activeDropzoneClass);\n        $('body').css('cursor', '');\n      }\n    }\n\n    private onDropLeaveListener(event) {\n      event.target.classList.remove(this.opts.activeDropzoneClass);\n    }\n\n    private initialize() {\n      this.$timeout(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\n\n        interact('.pip-draggable-tile')\n          .draggable({\n            // enable autoScroll\n            autoScroll: true,\n            onstart: (event) => {\n              this.onDragStartListener(event)\n            },\n            onmove: (event) => {\n              this.onDragMoveListener(event)\n            },\n            onend: (event) => {\n              this.onDragEndListener()\n            }\n          });\n\n        interact('.pip-draggable-group.fict-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropToFictGroupListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          })\n\n        interact('.pip-draggable-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          });\n\n        this.$container\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\n            interact('.pip-draggable-tile').draggable(false);\n            $(this).trigger('click');\n          })\n          .on('mouseup touchend', () => {\n            interact('.pip-draggable-tile').draggable(true);\n          });\n      }, 0);\n    }\n\n  }\n\n  const DragComponent: ng.IComponentOptions = {\n    bindings: {\n      tilesTemplates: '=pipTilesTemplates',\n      tilesContext: '=pipTilesContext',\n      options: '=pipDraggableGrid',\n      groupMenuActions: '=pipGroupMenuActions'\n    },\n    templateUrl: 'draggable/Draggable.html',\n    controller: DraggableController\n  }\n\n  angular.module('pipDragged')\n    .component('pipDraggableGrid', DragComponent);\n}","export interface DragTileConstructor {\n  new (options: any);\n}\n\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\n  return new constructor(options);\n}\n\nexport interface IDragTileService {\n  tpl: any;\n  opts: any;\n  size: any;\n  elem: any;\n  preview: any;\n  getSize(): any;\n  setSize(width, height): any;\n  setPosition(left, top): any;\n  getCompiledTemplate(): any;\n  updateElem(parent): any;\n  getElem(): any;\n  startDrag(): any;\n  stopDrag(isAnimate): any;\n  setPreviewPosition(coords): void;\n  getOptions(): any;\n  setOptions(options): any;\n}\n\nlet DEFAULT_TILE_SIZE = {\n  colSpan: 1,\n  rowSpan: 1\n};\n\nexport class DragTileService implements IDragTileService {\n  public tpl: any;\n  public opts: any;\n  public size: any;\n  public elem: any;\n  public preview: any;\n\n  constructor (options: any) {\n    this.tpl = options.tpl.get(0);\n    this.opts = options;\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\n    this.elem = null;\n  }\n\n  public getSize(): any {\n    return this.size;\n  }\n\n  public setSize(width, height): any {\n    this.size.width = width;\n    this.size.height = height;\n\n    if (this.elem) {\n      this.elem.css({\n        width: width,\n        height: height\n      });\n    }\n\n    return this;\n  }\n\n  public setPosition(left, top): any {\n    this.size.left = left;\n    this.size.top = top;\n\n    if (this.elem) {\n      this.elem.css({\n        left: left,\n        top: top\n      });\n    }\n\n    return this;\n  }\n\n  public getCompiledTemplate(): any {\n    return this.tpl;\n  };\n\n  public updateElem(parent): any {\n    this.elem = $(this.tpl).parent(parent);\n\n    return this;\n  };\n\n  public getElem(): any {\n    return this.elem.get(0);\n  };\n\n  public startDrag(): any {\n    this.preview = $('<div>')\n      .addClass('pip-dragged-preview')\n      .css({\n        position: 'absolute',\n        left: this.elem.css('left'),\n        top: this.elem.css('top'),\n        width: this.elem.css('width'),\n        height: this.elem.css('height')\n      });\n\n    this.elem\n      .addClass('no-animation')\n      .css({\n        zIndex: '9999'\n      })\n      .after(this.preview);\n\n    return this;\n  };\n\n  public stopDrag(isAnimate): any {\n    let self = this;\n\n    if (isAnimate) {\n      this.elem\n        .removeClass('no-animation')\n        .css({\n          left: this.preview.css('left'),\n          top: this.preview.css('top')\n        })\n        .on('transitionend', onTransitionEnd);\n    } else {\n      self.elem\n        .css({\n          left: self.preview.css('left'),\n          top: self.preview.css('top'),\n          zIndex: ''\n        })\n        .removeClass('no-animation');\n\n      self.preview.remove();\n      self.preview = null;\n    }\n\n    return this;\n\n    function onTransitionEnd() {\n      if (self.preview) {\n        self.preview.remove();\n        self.preview = null;\n      }\n\n      self.elem\n        .css('zIndex', '')\n        .off('transitionend', onTransitionEnd);\n    }\n  };\n\n  public setPreviewPosition(coords) {\n    this.preview.css(coords);\n  };\n\n  public getOptions(): any {\n    return this.opts.options;\n  };\n\n  public setOptions(options): any {\n    _.merge(this.opts.options, options);\n    _.merge(this.size, options.size);\n\n    return this;\n  };\n}\n\nangular\n  .module('pipDragged')\n  .service('pipDragTile', function () {\n    return function (options) {\n      let newTile = new DragTileService(options);\n\n      return newTile;\n    }\n  });","{\n  interface DraggableTileAttributes extends ng.IAttributes {\n    pipDraggableTiles: any;\n  }\n\n  function DraggableTileLink(\n    $scope: ng.IScope,\n    $elem: JQuery,\n    $attr: DraggableTileAttributes\n  ) {\n    const docFrag = document.createDocumentFragment(),\n      group = $scope.$eval($attr.pipDraggableTiles);\n\n    group.forEach(function (tile) {\n      const tpl = wrapComponent(tile.getCompiledTemplate());\n      docFrag.appendChild(tpl);\n    });\n\n    $elem.append(docFrag);\n\n    function wrapComponent(elem) {\n      return $('<div>')\n        .addClass('pip-draggable-tile')\n        .append(elem)\n        .get(0);\n    }\n  }\n\n  function DraggableTile() {\n    return {\n      restrict: 'A',\n      link: DraggableTileLink\n    };\n  }\n\n  angular\n    .module('pipDragged')\n    .directive('pipDraggableTiles', DraggableTile);\n\n}","export interface TilesGridConstructor {\n  new(tiles, options, columns, elem);\n}\n\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem): ITilesGridService {\n  return new constructor(tiles, options, columns, elem);\n}\n\nexport interface ITilesGridService {\n  tiles: any;\n  opts: any;\n  columns: any;\n  elem: any;\n  gridCells: any;\n  inline: boolean;\n  isMobileLayout: boolean;\n\n  addTile(tile): any;\n  getCellByPosition(row, col): any;\n  getCells(prevCell, rowSpan, colSpan): any;\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\n  getCell(src, basicRow, basicCol, columns): any;\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\n  getBasicRow(prevCell): any;\n  isCellFree(row, col): any;\n  getCellIndex(srcCell): any;\n  reserveCells(start, end, elem): void;\n  clearElements(): void;\n  setAvailableColumns(columns): any;\n  generateGrid(singleTileWidth ? ): any;\n  setTilesDimensions(onlyPosition, draggedTile): any;\n  calcContainerHeight(): any;\n  getTileByNode(node): any;\n  getTileByCoordinates(coords, draggedTile): any;\n  getTileIndex(tile): any;\n  swapTiles(movedTile, beforeTile): any;\n  removeTile(removeTile): any;\n  updateTileOptions(opts): any;\n}\n\nconst MOBILE_LAYOUT_COLUMNS = 2;\n\nexport class TilesGridService implements ITilesGridService {\n  public tiles: any;\n  public opts: any;\n  public columns: any;\n  public elem: any;\n  public gridCells: any = [];\n  public inline: boolean = false;\n  public isMobileLayout: boolean;\n\n  constructor(tiles, options, columns, elem) {\n    this.tiles = tiles;\n    this.opts = options;\n    this.columns = columns || 0; // available columns in a row\n    this.elem = elem;\n    this.gridCells = [];\n    this.inline = options.inline || false;\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n  }\n\n  public addTile(tile): any {\n    this.tiles.push(tile);\n    if (this.tiles.length === 1) {\n      this.generateGrid();\n    }\n\n    return this;\n  };\n\n  public getCellByPosition(row, col): any {\n    return this.gridCells[row][col];\n  };\n\n  public getCells(prevCell, rowSpan, colSpan): any {\n    if (this.isMobileLayout) {\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\n    } else {\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\n    }\n  };\n\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicCol = prevCell && prevCell.col || 0;\n    const basicRow = this.getBasicRow(prevCell);\n\n    // Small tile\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    // Medium tile\n    if (colSpan === 2 && rowSpan === 1) {\n      const prevTileSize = prevCell && prevCell.elem.size || null;\n\n      if (!prevTileSize) {\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\n        if (this.columns - basicCol - 2 > 0) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\n        if (prevCell.row % 2 === 0) {\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\n        } else {\n          if (this.columns - basicCol - 3 >= 0) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n          }\n        }\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\n        if (this.columns - basicCol - 3 >= 0) {\n          if (this.isCellFree(basicRow, basicCol + 1)) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\n          }\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      }\n    }\n\n    // Big tile\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\n    } else if (rowSpan === 2 && colSpan === 2) {\n      if (this.columns - basicCol - 2 > 0) {\n        if (this.isCellFree(basicRow, basicCol + 1)) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\n        }\n      } else {\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\n      }\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getCell(src, basicRow, basicCol, columns): any {\n    let cell, col, row;\n\n    if (this.isMobileLayout) {\n      // mobile layout\n      for (col = basicCol; col < columns; col++) {\n        if (!src[basicRow][col].elem) {\n          cell = src[basicRow][col];\n          break;\n        }\n      }\n\n      return cell;\n    }\n\n    // desktop\n    for (col = basicCol; col < columns; col++) {\n      for (row = 0; row < 2; row++) {\n        if (!src[row + basicRow][col].elem) {\n          cell = src[row + basicRow][col];\n          break;\n        }\n      }\n\n      if (cell) {\n        return cell;\n      }\n    }\n  };\n\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicRow = this.getBasicRow(prevCell);\n    const basicCol = prevCell && prevCell.col || 0;\n\n\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    if (!prevCell) {\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\n    } else if (colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getBasicRow(prevCell): any {\n    let basicRow;\n\n    if (this.isMobileLayout) {\n      if (prevCell) {\n        basicRow = prevCell && prevCell.row || 0;\n      } else {\n        basicRow = 0;\n      }\n    } else {\n      if (prevCell) {\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\n      } else {\n        basicRow = 0;\n      }\n    }\n\n    return basicRow;\n  };\n\n  public isCellFree(row, col): any {\n    return !this.gridCells[row][col].elem;\n  };\n\n  public getCellIndex(srcCell): any {\n    const self = this;\n    let index;\n\n    this.gridCells.forEach((row, rowIndex) => {\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\n        return cell === srcCell;\n      });\n\n      if (index !== -1) {\n        return;\n      }\n    });\n\n    return index !== -1 ? index : 0;\n  };\n\n  public reserveCells(start, end, elem) {\n    this.gridCells.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell.row >= start.row && cell.row <= end.row &&\n          cell.col >= start.col && cell.col <= end.col) {\n          cell.elem = elem;\n        }\n      });\n    });\n  };\n\n  public clearElements() {\n    this.gridCells.forEach((row) => {\n      row.forEach((tile) => {\n        tile.elem = null;\n      });\n    });\n  };\n\n  public setAvailableColumns(columns): any {\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n    this.columns = columns;\n\n    return this;\n  };\n\n  public generateGrid(singleTileWidth ? ): any {\n    const self = this,\n          tileWidth = singleTileWidth || this.opts.tileWidth,\n          offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\n    let   colsInRow = 0,\n          rows = 0,\n          gridInRow = [];\n\n    this.gridCells = [];\n\n    this.tiles.forEach((tile, index, srcTiles) => {\n      const tileSize = tile.getSize();\n\n      generateCells(tileSize.colSpan);\n\n      if (srcTiles.length === index + 1) {\n        if (colsInRow < self.columns) {\n          generateCells(self.columns - colsInRow);\n        }\n\n        // Generate more cells for extends tile size to big\n        if (self.tiles.length * 2 > self.gridCells.length) {\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\n            generateCells(self.columns);\n          });\n        }\n      }\n    });\n\n    function generateCells(newCellCount) {\n      Array.apply(null, Array(newCellCount)).forEach(() => {\n        if (self.columns < colsInRow + 1) {\n          rows++;\n          colsInRow = 0;\n\n          self.gridCells.push(gridInRow);\n          gridInRow = [];\n        }\n\n        let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\n        let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\n\n        // Describe grid cell size through block corners coordinates\n        gridInRow.push({\n          top: top,\n          left: left,\n          bottom: top + self.opts.tileHeight,\n          right: left + tileWidth,\n          row: rows,\n          col: colsInRow\n        });\n\n        colsInRow++;\n      });\n    }\n\n    return this;\n  };\n\n  public setTilesDimensions(onlyPosition, draggedTile): any {\n    const self = this;\n    let currIndex = 0;\n    let prevCell;\n\n    if (onlyPosition) {\n      self.clearElements();\n    }\n\n    this.tiles.forEach((tile) => {\n      const tileSize = tile.getSize();\n      let startCell;\n      let width;\n      let height;\n      let cells;\n\n      tile.updateElem('.pip-draggable-tile');\n      if (tileSize.colSpan === 1) {\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\n        } else {\n          startCell = self.getCells(prevCell, 1, 1).start;\n        }\n\n\n        if (!onlyPosition) {\n          width = startCell.right - startCell.left;\n          height = startCell.bottom - startCell.top;\n        }\n\n        prevCell = startCell;\n\n        self.reserveCells(startCell, startCell, tile);\n\n        currIndex++;\n      } else if (tileSize.colSpan === 2) {\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\n        startCell = cells.start;\n\n        if (!onlyPosition) {\n          width = cells.end.right - cells.start.left;\n          height = cells.end.bottom - cells.start.top;\n        }\n\n        prevCell = cells.end;\n\n        self.reserveCells(cells.start, cells.end, tile);\n\n        currIndex += 2;\n      }\n\n      // Render preview\n      // while tiles from group is dragged\n      if (draggedTile === tile) {\n        tile.setPreviewPosition({\n          left: startCell.left,\n          top: startCell.top\n        });\n\n        return;\n      }\n\n      if (!onlyPosition) {\n        tile.setSize(width, height);\n      }\n\n      tile.setPosition(startCell.left, startCell.top);\n    });\n\n    return this;\n  };\n\n  public calcContainerHeight(): any {\n    let maxHeightSize, maxWidthSize;\n\n    if (!this.tiles.length) {\n      return this;\n    }\n\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\n      const tileSize = tile['getSize']();\n      return tileSize.top + tileSize.height;\n    })['getSize']();\n\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\n\n    if (this.inline) {\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\n        const tileSize = tile['getSize']();\n        return tileSize.left + tileSize.width;\n      })['getSize']();\n\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\n    }\n\n    return this;\n  };\n\n  public getTileByNode(node): any {\n    const foundTile = this.tiles.filter((tile) => {\n      return node === tile.getElem();\n    });\n\n    return foundTile.length ? foundTile[0] : null;\n  };\n\n  public getTileByCoordinates(coords, draggedTile): any {\n    return this.tiles\n      .filter((tile) => {\n        const tileSize = tile.getSize();\n\n        return tile !== draggedTile &&\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\n      })[0] || null;\n  };\n\n  public getTileIndex(tile): any {\n    return _.findIndex(this.tiles, tile);\n  };\n\n  public swapTiles(movedTile, beforeTile): any {\n    const movedTileIndex = _.findIndex(this.tiles, movedTile);\n    const beforeTileIndex = _.findIndex(this.tiles, beforeTile);\n\n    this.tiles.splice(movedTileIndex, 1);\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\n\n    return this;\n  };\n\n  public removeTile(removeTile): any {\n    let droppedTile;\n\n    this.tiles.forEach((tile, index, tiles) => {\n      if (tile === removeTile) {\n        droppedTile = tiles.splice(index, 1)[0];\n        return false;\n      }\n    });\n\n    return droppedTile;\n  };\n\n  public updateTileOptions(opts): any {\n    const index = _.findIndex(this.tiles, (tile) => {\n      return tile['getOptions']() === opts;\n    });\n\n    if (index !== -1) {\n      this.tiles[index].setOptions(opts);\n      return true;\n    }\n\n    return false;\n  };\n}\n\nangular\n  .module('pipDragged')\n  .service('pipTilesGrid', function () {\n    return function (tiles, options, columns, elem) {\n      let newGrid = new TilesGridService(tiles, options, columns, elem);\n\n      return newGrid;\n    }\n  });","export interface IWidgetTemplateService {\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\n    setImageMarginCSS($element, image): void;\n} \n\n{\n    class widgetTemplateService implements IWidgetTemplateService {\n        private _$interpolate: angular.IInterpolateService;\n        private _$compile: angular.ICompileService;\n        private _$templateRequest: angular.ITemplateRequestService;\n\n        constructor(\n            $interpolate: angular.IInterpolateService,\n            $compile: angular.ICompileService,\n            $templateRequest: angular.ITemplateRequestService\n        ) {\n            this._$interpolate = $interpolate;\n            this._$compile = $compile;\n            this._$templateRequest = $templateRequest;\n        }\n\n        public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\n            const {\n                template,\n                templateUrl,\n                type\n            } = source;\n            let result;\n\n            if (type) {\n                const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\n                return strictCompile == true ?\n                    (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\n                    interpolated;\n            }\n\n            if (template) {\n                return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\n            }\n\n            if (templateUrl) {\n                this._$templateRequest(templateUrl, false).then((html) => {\n                    result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\n                });\n            }\n\n            return result;\n        }\n\n        public setImageMarginCSS($element, image) {\n            let\n                containerWidth = $element.width ? $element.width() : $element.clientWidth,\n                containerHeight = $element.height ? $element.height() : $element.clientHeight,\n                imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\n                imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\n                margin = 0,\n                cssParams = {};\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n                cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n                cssParams['margin-left'] = '';\n            }\n\n            $(image).css(cssParams);\n        }\n    }\n\n    // image load directive TODO: remove to pipImageUtils\n    const ImageLoad = function ImageLoad($parse: ng.IParseService): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (scope: ng.IScope, element: JQuery, attrs: any) {\n                const callback = $parse(attrs.pipImageLoad);\n\n                element.bind('load', (event) => {\n                    callback(scope, {\n                        $event: event\n                    });\n                });\n            }\n        }\n    }\n\n    angular\n        .module('pipDashboard')\n        .service('pipWidgetTemplate', widgetTemplateService)\n        .directive('pipImageLoad', ImageLoad);\n}","export interface IDashboardWidget {\n    options: any;\n    color: string;\n    size: Object | string | number;\n}\n\nexport class DashboardWidget implements IDashboardWidget {\n    public options: any;\n    public color: string;\n    public size: Object | string | number;\n\n    constructor() { }\n}","angular.module('pipWidget', []);\n\nimport './calendar/WidgetCalendar';\nimport './event/WidgetEvent';\nimport './menu/WidgetMenuService';\nimport './menu/WidgetMenuDirective';\nimport './notes/WidgetNotes';\nimport './position/WidgetPosition';\nimport './statistics/WidgetStatistics';\nimport './picture_slider/WidgetPictureSlider';\n","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\n\n{\n  class CalendarWidgetController extends MenuWidgetService {\n    constructor(\n      private pipWidgetConfigDialogService: IWidgetConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n        this.menu.push({\n          title: 'Configurate',\n          click: () => {\n            this.onConfigClick();\n          }\n        });\n        this.options.date = this.options.date || new Date();\n        this.color = this.options.color || 'blue';\n      }\n    }\n\n    private onConfigClick() {\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          date: this.options.date,\n        },\n        extensionUrl: 'widgets/calendar/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n      });\n    }\n\n  }\n\n  const CalendarWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions',\n    },\n    controller: CalendarWidgetController,\n    templateUrl: 'widgets/calendar/WidgetCalendar.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipCalendarWidget', CalendarWidget);\n\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService'; \n{\n  class EventWidgetController extends MenuWidgetService {\n    private _oldOpacity: number;\n\n    public opacity: number = 0.57;\n\n    constructor(\n      $scope: ng.IScope,\n      private $element: JQuery,\n      private $timeout: angular.ITimeoutService,\n      private pipWidgetConfigDialogService: IWidgetConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'gray';\n      this.opacity = this.options.opacity || this.opacity;\n\n      this.drawImage();\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        this.drawImage();\n      });\n    }\n\n    private drawImage() {\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.onImageLoad(this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    private onConfigClick() {\n      this._oldOpacity = _.clone(this.opacity);\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size || {\n            colSpan: 1,\n            rowSpan: 1\n          },\n          date: this.options.date,\n          title: this.options.title,\n          text: this.options.text,\n          opacity: this.opacity,\n          onOpacitytest: (opacity) => {\n            this.opacity = opacity;\n          }\n        },\n        extensionUrl: 'widgets/event/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n        this.options.title = result.title;\n        this.options.text = result.text;\n        this.options.opacity = result.opacity;\n      }, () => {\n        this.opacity = this._oldOpacity;\n      });\n    }\n\n    private onImageLoad(image) {\n      this.setImageMarginCSS(this.$element.parent(), image);\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.setImageMarginCSS(this.$element.parent(), this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    // Later replace by pipImageUtils sevice's function\n    private setImageMarginCSS($element, image) {\n      let\n        containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\n        containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\n        imageWidth = image[0].naturalWidth || image.width,\n        imageHeight = image[0].naturalHeight || image.height,\n        margin = 0,\n        cssParams = {};\n\n      if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n        margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n        cssParams['margin-left'] = '' + margin + 'px';\n        cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n        cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n        cssParams['margin-top'] = '';\n      } else {\n        margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n        cssParams['margin-top'] = '' + margin + 'px';\n        cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n        cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n        cssParams['margin-left'] = '';\n      }\n\n      image.css(cssParams);\n    }\n  }\n\n\n  const EventWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: EventWidgetController,\n    templateUrl: 'widgets/event/WidgetEvent.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipEventWidget', EventWidget);\n}","(() => {\n  'use strict';\n\n  angular\n    .module('pipWidget')\n    .directive('pipMenuWidget', pipMenuWidget);\n\n  function pipMenuWidget() {\n    return {\n      restrict        : 'EA',\n      templateUrl     : 'widgets/menu/WidgetMenu.html'\n    };\n  }\n})();\n","import { DashboardWidget } from '../WidgetClass';\n\nexport class MenuWidgetService extends DashboardWidget {\n  public menu: any = [{\n    title: 'Change Size',\n    action: angular.noop,\n    submenu: [{\n        title: '1 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 1,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 2',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 2\n        }\n      }\n    ]\n  }];\n\n  constructor() {\n    \"ngInject\";\n\n    super();\n  }\n\n  public callAction(actionName, params, item) {\n    if (this[actionName]) {\n      this[actionName].call(this, params);\n    }\n\n    if (item['click']) {\n      item['click'].call(item, params, this);\n    }\n  };\n\n  public changeSize(params) {\n    this.options.size.colSpan = params.sizeX;\n    this.options.size.rowSpan = params.sizeY;\n  };\n}\n\n{\n  class MenuWidgetProvider {\n    private _service: MenuWidgetService;\n\n    constructor() {}\n\n    public $get() {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new MenuWidgetService();\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipWidget')\n    .provider('pipWidgetMenu', MenuWidgetProvider);\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\n\n{\n  class NotesWidgetController extends MenuWidgetService {\n\n    constructor(\n      private pipWidgetConfigDialogService: IWidgetConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'orange';\n    }\n\n    private onConfigClick() {\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          title: this.options.title,\n          text: this.options.text,\n        },\n        extensionUrl: 'widgets/notes/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.color = result.color;\n        this.options.color = result.color;\n        this.changeSize(result.size);\n        this.options.text = result.text;\n        this.options.title = result.title;\n      });\n    }\n  }\n\n  const NotesWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: NotesWidgetController,\n    templateUrl: 'widgets/notes/WidgetNotes.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipNotesWidget', NotesWidget);\n}","'use strict';\n\nimport {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\nimport {\n  IWidgetTemplateService\n} from '../../utility/WidgetTemplateUtility';\n\n{\n  class PictureSliderController extends MenuWidgetService {\n    public animationType: string = 'fading';\n    public animationInterval: number = 5000;\n\n    constructor(\n      private $scope: angular.IScope,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private pipWidgetConfigDialogService: IWidgetConfigService,\n      private pipWidgetTemplate: IWidgetTemplateService\n    ) {\n      super();\n\n      if (this.options) {\n        this.animationType = this.options.animationType || this.animationType;\n        this.animationInterval = this.options.animationInterval || this.animationInterval;\n      }\n    }\n\n    public onImageLoad($event) {\n      this.$timeout(() => {\n        this.pipWidgetTemplate.setImageMarginCSS(this.$element.parent(), $event.target);\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.$timeout(() => {\n        _.each(this.$element.find('img'), (image) => {\n          this.pipWidgetTemplate.setImageMarginCSS(this.$element.parent(), image);\n        });\n      }, 500);\n    }\n  }\n\n  const PictureSliderWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: PictureSliderController,\n    templateUrl: 'widgets/picture_slider/WidgetPictureSlider.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipPictureSliderWidget', PictureSliderWidget);\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\n\n{\n  class PositionWidgetController extends MenuWidgetService {\n    public showPosition: boolean = true;\n\n    constructor(\n      $scope: angular.IScope,\n      private $timeout: angular.ITimeoutService,\n      private $element: any,\n      private pipWidgetConfigDialogService: IWidgetConfigService,\n      private pipLocationEditDialog: any,\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.menu.push({\n        title: 'Change location',\n        click: () => {\n          this.openLocationEditDialog();\n        }\n      });\n\n      this.options.location = this.options.location || this.options.position;\n\n      $scope.$watch('widgetCtrl.options.location', () => {\n        this.reDrawPosition();\n      });\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        if (newVal == true) this.reDrawPosition();\n      });\n    }\n\n    private onConfigClick() {\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-position-config',\n        locals: {\n          size: this.options.size,\n          locationName: this.options.locationName,\n          hideColors: true,\n        },\n        extensionUrl: 'widgets/position/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n        this.options.locationName = result.locationName;\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reDrawPosition();\n    }\n\n    public openLocationEditDialog() {\n      this.pipLocationEditDialog.show({\n        locationName: this.options.locationName,\n        locationPos: this.options.location\n      }, (newPosition) => {\n        if (newPosition) {\n          this.options.location = newPosition.location;\n          this.options.locationName = newPosition.locatioName;\n        }\n      });\n    }\n\n    private reDrawPosition() {\n      this.showPosition = false;\n      this.$timeout(() => {\n        this.showPosition = true;\n      }, 50);\n    }\n  }\n\n\n  const PositionWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions',\n      index: '=',\n      group: '='\n    },\n    controller: PositionWidgetController,\n    templateUrl: 'widgets/position/WidgetPosition.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipPositionWidget', PositionWidget);\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\n\n{\n  const SMALL_CHART: number = 70;\n  const BIG_CHART: number = 250;\n\n  class StatisticsWidgetController extends MenuWidgetService {\n    private _$scope: angular.IScope;\n    private _$timeout: angular.ITimeoutService;\n\n    public reset: boolean = false;\n    public chartSize: number = SMALL_CHART;\n\n    constructor(\n      pipWidgetMenu: any,\n      $scope: angular.IScope,\n      $timeout: angular.ITimeoutService\n    ) {\n      super();\n      this._$scope = $scope;\n      this._$timeout = $timeout;\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.setChartSize();\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reset = true;\n      this.setChartSize();\n      this._$timeout(() => {\n        this.reset = false;\n      }, 500);\n    }\n\n    private setChartSize() {\n      this.chartSize = this.options.size.colSpan == 2 && this.options.size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\n    }\n  }\n\n\n  const StatisticsWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: StatisticsWidgetController,\n    templateUrl: 'widgets/statistics/WidgetStatistics.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipStatisticsWidget', StatisticsWidget);\n}","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"$ctrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"$ctrl.groupedWidgets\" pip-tiles-context=\"$ctrl.widgetsContext\" pip-draggable-grid=\"$ctrl.draggableGridOptions\" pip-group-menu-actions=\"$ctrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in $ctrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"$ctrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"$ctrl.onBlurTitleInput(group)\" ng-keypress=\"$ctrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"$ctrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in $ctrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/add_component/AddComponent.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">{{ \\'DASHBOARD_ADD_COMPONENT_DIALOG_TITLE\\' | translate }}<md-input-container class=\"layout-row flex-auto m0 tm16\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"{{ \\'DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP\\' | translate }}\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">{{ \\'DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS\\' | translate }}</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Cancel\">{{ \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"dialogCtrl.add()\" ng-disabled=\"dialogCtrl.totalWidgets === 0\" arial-label=\"Add\">{{ \\'ADD\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/widget_config/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-widget-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-widget-config-extend-component class=\"layout-column\" pip-dialog-scope=\"vm\" pip-extension-url=\"vm.params.extensionUrl\" pip-apply=\"vm.onApply(updatedData)\"></pip-widget-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/widget_config/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{ \\'DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE\\' | translate }}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!$ctrl.hideSizes\" pip-buttons=\"$ctrl.sizes\" ng-model=\"$ctrl.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!$ctrl.hideColors\" pip-colors=\"$ctrl.colors\" ng-model=\"$ctrl.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onCancel()\">{{ \\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\">{{ \\'APPLY\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/calendar/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/calendar/WidgetCalendar.html',\n    '<div class=\"widget-box pip-calendar-widget {{ $ctrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-menu-widget></pip-menu-widget></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ $ctrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ $ctrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/event/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container>Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"$ctrl.opacity\" ng-change=\"$ctrl.onOpacitytest($ctrl.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/event/WidgetEvent.html',\n    '<div class=\"widget-box pip-event-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><img ng-if=\"$ctrl.options.image\" ng-src=\"{{$ctrl.options.image}}\" alt=\"{{$ctrl.options.title || $ctrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ $ctrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"$ctrl.options.date\">{{ $ctrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ $ctrl.options.text || $ctrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/menu/WidgetMenu.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"$ctrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"$ctrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"$ctrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/picture_slider/WidgetPictureSlider.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ $ctrl.options.title }}</span><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/notes/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/notes/WidgetNotes.html',\n    '<div class=\"widget-box pip-notes-widget {{ $ctrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"$ctrl.options.title || $ctrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span></div><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget><div class=\"text-container flex-auto pip-scroll\"><p>{{ $ctrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/position/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"$ctrl.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/position/WidgetPosition.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!$ctrl.options.locationName\"><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"$ctrl.options.locationName\"><span class=\"flex text-overflow\">{{ $ctrl.options.locationName }}</span><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><pip-location-map class=\"flex\" ng-if=\"$ctrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"$ctrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/statistics/WidgetStatistics.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-menu-widget></pip-menu-widget></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.series && !$ctrl.reset\"><pip-pie-chart pip-series=\"$ctrl.options.series\" ng-if=\"!$ctrl.options.chartType || $ctrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"$ctrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n","import { ISettingsService } from '../service/ISettingsService';\r\nimport { SettingsTab } from '../service/SettingsTab';\r\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\r\n\r\ninterface ISettingsPageController {\r\n    tabs: SettingsTab[];\r\n    selected: SettingsPageSelectedTab;\r\n    onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass SettingsPageController implements ISettingsPageController {\r\n    public tabs: SettingsTab[];\r\n    public selected: SettingsPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        private $state: ng.ui.IStateService,\r\n        pipNavService: pip.nav.INavService,\r\n        pipSettings: ISettingsService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService\r\n    ) {\r\n\r\n        this.tabs = _.filter(pipSettings.getTabs(), (tab: SettingsTab) => {\r\n                if (tab.visible === true && (tab.access ? tab.access($rootScope['$user'], tab) : true)) {\r\n                    return tab;\r\n                }\r\n            });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new SettingsPageSelectedTab();\r\n        if (this.$state.current.name !== 'settings') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'settings' && pipSettings.getDefaultTab()) {\r\n            this.initSelect(pipSettings.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipSettings.getDefaultTab()) {\r\n                    this.initSelect(pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                     this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Settings\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this.$state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n","{\r\n    function configureSettingsPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('settings', {\r\n                url: '/settings?party_id',\r\n                auth: true,\r\n                controllerAs: 'vm',\r\n                controller: 'pipSettingsPageController',\r\n                templateUrl: 'page/SettingsPage.html'\r\n            });\r\n\r\n    }\r\n\r\n    angular.module('pipSettings.Page')\r\n        .config(configureSettingsPageRoutes);\r\n}\r\n","angular.module('pipHelp.Page', [\r\n    'ui.router', \r\n    'pipHelp.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipHelp.Templates'\r\n    ]);\r\n\r\nimport './HelpPage';\r\nimport './HelpPageRoutes';","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsConfig {\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsPageSelectedTab {\r\n    public tab: SettingsTab;\r\n    public tabIndex: number = 0;\r\n    public tabId: string;\r\n}","import { SettingsTab } from './SettingsTab';\r\nimport { SettingsConfig } from './SettingsConfig';\r\nimport { ISettingsService } from './ISettingsService';\r\nimport { ISettingsProvider } from './ISettingsService';\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n\r\n    public constructor(config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): SettingsTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: SettingsTab): void {\r\n        let existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //console.log(this.$stateProvider);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n    private validateTab(tabObj: SettingsTab): void {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): ISettingsService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new SettingsService(this._config);\r\n        }\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","export class SettingsStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}","import { SettingsStateConfig } from './SettingsStateConfig';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: SettingsStateConfig;\r\n}\r\n","angular\r\n    .module('pipHelp.Service', []);\r\n\r\nimport './HelpConfig';\r\nimport './HelpPageSelectedTab';\r\nimport './HelpTab';\r\nimport './HelpStateConfig';\r\nimport './HelpService';\r\n\r\nexport * from './HelpConfig';\r\nexport * from './HelpPageSelectedTab';\r\nexport * from './HelpTab';\r\nexport * from './HelpStateConfig';\r\nexport * from './HelpService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","import { IHelpService } from '../service/IHelpService';\r\nimport { HelpTab } from '../service/HelpTab';\r\nimport { HelpPageSelectedTab } from '../service/HelpPageSelectedTab';\r\n\r\ninterface IHelpPage {\r\n    tabs: HelpTab[];\r\n    selected: HelpPageSelectedTab;\r\n    onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass HelpPageController implements IHelpPage, ng.IController {\r\n    public tabs: HelpTab[];\r\n    public selected: HelpPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        private $log: ng.ILogService,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService,\r\n        pipNavService: pip.nav.INavService,\r\n        pipHelp: IHelpService\r\n    ) {\r\n\r\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: HelpTab) =>{\r\n            if (tab.visible === true) {\r\n                    return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new HelpPageSelectedTab();\r\n        if (this.$state.current.name !== 'help') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'help' && pipHelp.getDefaultTab()) {\r\n            this.initSelect(pipHelp.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipHelp.getDefaultTab()) {\r\n                    this.initSelect(pipHelp.getDefaultTab().state);\r\n                }\r\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Help\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        \r\n        this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n        console.log('a',state);\r\n\r\n        if (this.selected.tab) {\r\n            this.$state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipHelp.Page')\r\n    .controller('pipHelpPageController', HelpPageController);\r\n","{\r\n    function configureHelpPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('help', {\r\n                url: '/help?party_id',\r\n                auth: true,\r\n                controllerAs: '$ctrl',\r\n                controller: 'pipHelpPageController',\r\n                templateUrl: 'page/HelpPage.html'\r\n            });      \r\n    }\r\n\r\n    angular.module('pipHelp.Page')\r\n        .config(configureHelpPageRoutes);\r\n}","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpConfig {\r\n    public defaultTab: string;\r\n    public tabs: HelpTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: string = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpPageSelectedTab {\r\n    public tab: HelpTab;\r\n    public tabIndex: number;\r\n    public tabId: string;\r\n}","import { HelpConfig } from \"./HelpConfig\";\r\nimport { HelpTab } from './HelpTab';\r\nimport { IHelpService } from \"./IHelpService\";\r\nimport { IHelpProvider } from \"./IHelpService\";\r\n\r\nclass HelpService implements IHelpService {\r\n\r\n    public constructor(private _config: HelpConfig) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): HelpTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass HelpProvider implements IHelpProvider, ng.IServiceProvider {\r\n    private _service: HelpService;\r\n    private _config: HelpConfig = new HelpConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) { }\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: HelpTab): void {\r\n        let existingTab: HelpTab;\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === 'help.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n        //pipAuthStateProvider.redirect('help', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: HelpTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (!_.isNull(value) && !_.isUndefined(value)) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): IHelpService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new HelpService(this._config);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipHelp.Service')\r\n    .provider('pipHelp', HelpProvider);\r\n","export class HelpStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}\r\n","import { HelpStateConfig } from './HelpStateConfig';\r\n\r\nexport class HelpTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: HelpStateConfig;\r\n}\r\n\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-help\"><div class=\"pip-menu-container\" ng-hide=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"$ctrl.selected.tabIndex\" pip-selected-watch=\"$ctrl.selected.navId\" pip-select=\"$ctrl.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in $ctrl.tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"$ctrl.tabs\" pip-dropdown-select=\"$ctrl.onDropdownSelect\" pip-active-index=\"$ctrl.selected.tabIndex\"></pip-dropdown><div class=\"pip-body p0 layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}