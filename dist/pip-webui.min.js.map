{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/buttons.ts","src/dependencies/translate.ts","src/fabs/fab_tooltip_visibility.ts","src/refresh_button/refresh_button.ts","src/toggle_buttons/toggle_buttons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanelDirective.ts","src/auxpanel/AuxPanelPartDirective.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/split.ts","src/behaviors.ts","src/draggable/draggable.ts","src/focused/focused.ts","src/infinite_scroll/infinite_scroll.ts","src/selected/selected.ts","src/unsaved_changes/unsaved_changes.ts","src/color_picker/color_picker.ts","src/controls.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js","src/lists.ts","src/tag_list/tag_list.ts","temp/pip-webui-lists-html.min.js","src/date/date.ts","src/date/date_filter.ts","src/date/date_service.ts","src/date_directive/date.ts","src/date_range_directive/date_range.ts","src/dates.ts","src/dependencies/translate.js","src/time_range_directive/time_range.ts","src/time_range_edit_directive/time_range_edit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationController.ts","src/confirmation/ConfirmationService.ts","src/confirmation/index.ts","src/dialogs.ts","src/error_details/ErrorDetailsController.ts","src/error_details/ErrorDetailsService.ts","src/error_details/index.ts","src/information/InformationController.ts","src/information/InformationService.ts","src/information/index.ts","src/options/OptionsBigController.ts","src/options/OptionsBigService.ts","src/options/OptionsController.ts","src/options/OptionsService.ts","src/options/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/PrimaryActionsDirective.ts","src/actions/SecondaryActionsDirective.ts","src/actions/index.ts","src/appbar/AppBarDirective.ts","src/appbar/AppBarPartDirective.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/BreadcrumbDirective.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dependencies/TranslateFilter.ts","src/dropdown/DropdownDirective.ts","src/header/NavHeaderService.ts","src/header/StickyNavHeaderDirective.ts","src/header/index.ts","src/icon/NavIconDirective.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenuService.ts","src/menu/StickyNavMenuDirective.ts","src/menu/index.ts","src/search/SearchBarDirective.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNavPartDirective.ts","src/sidenav/SideNavService.ts","src/sidenav/StickySideNavDirective.ts","src/sidenav/index.ts","src/tabs/TabsDirective.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/common/errors_strings.ts","src/errors.ts","src/errors_pages/errors_pages.ts","src/forms/clear_errors.ts","src/forms/form_errors.ts","src/maintenance/maintenance.ts","src/missing_route/missing_route.ts","src/no_connection/no_connection.ts","src/no_connection_panel/no_connection_panel.ts","src/unknown/unknown.ts","src/unsupported/unsupported.ts","temp/pip-webui-errors-html.min.js","src/bar/bar_chart.ts","src/charts.ts","src/legend/interactive_legend.ts","src/line/line_chart.ts","src/pie/pie_chart.ts","temp/pip-webui-charts-html.min.js","src/SettingsModule.ts","src/settings.ts","src/settings_page/SettingsPageController.ts","src/settings_page/SettingsPageRoutes.ts","src/settings_page/index.ts","src/settings_service/SettingsService.ts","src/settings_service/index.ts","src/user_settings/user_settings.ts","src/user_settings/user_settings_basic_info.ts","src/user_settings/user_settings_change_password.ts","src/user_settings/user_settings_sessions.ts","src/user_settings/user_settings_strings.ts","src/user_settings/user_settings_verify_email.ts","temp/pip-webui-settings-html.min.js","src/help.ts","src/help_page/help_page.ts","src/help_service/help_service.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","config","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","decorateRedirectStateService","4","hookRoutingEvents","$log","$state","RoutingVar","error","unfoundState","to","5","m","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","value","$emit","debug","id","full_name","enumerable","configurable","IdentityProvider","_service","get","set","$get","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","defineProperty","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","provider","8","p","hasOwnProperty","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","end","decode","10","TransactionError","details","cause","stack_trace","data","statusText","status","TransactionService","_transactions","create","transaction","Transaction_1","12","configureTransactionStrings","$injector","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","pipTranslate","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","html","directive","translateDirective","translateHtmlDirective","translateFilter","filter","language","__extends","d","b","__","constructor","Object","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","save","changeLocale","locale","localeDate","moment","localeData","months","isArray","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","TranslateProvider","_super","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","18","./TranslateFilter","./TranslateService","19","Codes","hash","result","charCodeAt","verification","random","substr","service","20","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","args","_i","arguments","parseFormat","21","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","_this","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","modDiff","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","firefox","opera","chrome","browserVersion","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","searchFields","field","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","thisModule","$parse","controller","$scope","$attrs","trigGetter","pipFabTooltipVisibility","showGetter","pipFabShowTooltip","showSetter","assign","$watch","isOpen","template","$element","hide","$button","width","show","textGetter","pipText","visibleGetter","pipVisible","refreshGetter","pipRefresh","children","$text","css","onClick","newValue","ngDisabled","currentButtonValue","currentButton","change","onlyToggle","templateUrl","$mdMedia","index","class","currentButtonIndex","buttonSelected","disabled","enterSpacePress","elem","on","addClass","removeClass","$templateCache","put","layouts","MediaService_1","AuxPanelDirective","AuxPanelDirectiveController","transclude","controllerAs","pipAuxPanel","_pipAuxPanel","isGtxs","Number","MainBreakpoints","xs","isGtmd","md","../media/MediaService","2","AuxPanelPartDirectiveController","onAuxPanelChanged","currentPartValue","parts","partName","visible","partValue","pipAuxPanelPart","pos","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","apply","hookAuxPanelEvents","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelChangedEvent","AuxPanelStateChangedEvent","AuxPanelConfig","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","_state","$broadcast","toggle","c","reject","cc","part","AuxPanelProvider","type","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/MediaService","./media/ResizeFunctions","CardDirectiveLink","_element","_attrs","listener","resize","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","cardDirective","7","dialogDirective","documentDirective","mainDirective","MainDirectiveController","mainBodyDirective","MainBodyDirectiveLink","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesDirectiveLink","_columnWidth","columnWidth","_container","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","parent","log","columns","containerWidth","layout","LayoutResizedEvent","MediaBreakpoints","sm","lg","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","defaultView","__resizeElement__","addEventListener","resizeListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","detachEvent","pipSplit","splitElements","forwardTransition","addTransitionSequence","sequence","transitionSequences","toIndex","fromIndex","behaviors","inputEvent","isDefined","touches","originalEvent","$document","pipDraggable","initialize","attr","dragHandles","querySelectorAll","_dragHandle","toggleListeners","scrollContainer","scrollParent","pipScrollContainer","scrollContainerGetter","toBoolean","enable","onDestroy","pipDrag","onEnableChange","pipCenterAnchor","onCenterAnchor","_pressEvents","onpress","_hasTouch","nodeName","newVal","oldVal","_dragEnabled","_centerAnchor","isClickableElement","evt","button","saveElementStyles","cancelPress","_pressTimer","onlongpress","LONG_PRESS","_moveEvents","_releaseEvents","_elementStyle","off","offset","getBoundingClientRect","_dragOffset","allowTransform","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","_deregisterRootMoveListener","origEvent","_data","getDragData","x","y","tx","ty","onDragStartCallback","$data","$event","horizontalScroll","verticalScroll","dragToScroll","moveElement","uid","_myid","dragOffset","onDragComplete","onDragStopCallback","onDragSuccessCallback","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","activationDistance","scrollDistance","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","ngDrag","DocumentTouch","$id","pipDragStart","pipDragStop","pipDragSuccess","$eval","pipDragData","pipVerticalScroll","pipHorizontalScroll","pipActivationDistance","pipScrollDistance","noop","pipDrop","onDragStart","onDragMove","onDragEnd","_dropEnabled","isTouching","pipDragMove","onDragMoveCallback","pipDropSuccess","onDropCallback","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","absorbEvent_","stopPropagation","cancelBubble","returnValue","$mdConstant","init","selector","withHidden","controls","controlsLength","keydownListener","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipWithHidden","ngModel","THROTTLE_MILLISECONDS","pipInfiniteScroll","pipScrollDisabled","pipScrollUseDocumentBottom","pipScrollListenForEvent","isNaN","clientHeight","offsetTop","ownerDocument","handleScrollDistance","v","handleScrollDisabled","scrollEnabled","checkWhenEnabled","onContainerScroll","handleScrollUseDocumentBottom","useDocumentBottom","changeContainer","newContainer","unbind","bind","handleScrollContainer","HTMLElement","append","parents","Array","immediateCheck","unregisterEventListener","windowElement","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","throttle","pipScrollParent","pipScrolImmediateCheck","selectItem","itemParams","isScrolled","itemIndex","itemId","className","modifier","itemsLength","raiseEvent","noScroll","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedIndex","selectedId","indexSetter","idSetter","changeGetter","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","indexGetter","pipSelected","idGetter","pipSelectedId","pipSelect","enterSpaceGetter","pipEnterSpacePress","pipNoScroll","pipSkipHidden","pipTreeList","currentElementTabinex","pipSelectedWatch","newSelectedId","newSelectedIndex","currentTarget","ENTER","SPACE","inc","unsavedChangesAvailable","unsavedChangesMessage","afterLeave","onbeforeunload","$routing","unbindFunc","confirm","isFunction","colors","currentColor","colorChange","DEFAULT_COLORS","currentColorIndex","selectColor","sliderIndex","$pipImageSlider","setIndex","pipImageIndex","startInterval","timePromises","blocks","direction","throttled","DEFAULT_INTERVAL","stopInterval","restartInterval","pipAnimationType","pipAnimationInterval","swipeStart","toBlock","nextBlock","prevBlock","slideTo","nextIndex","registerSlider","removeSlider","register","sliderId","sliderScope","sliders","remove","getSlider","nextCarousel","prevCarousel","blockIndex","getSliderScope","pipButtonType","pipSliderId","pipSlideTo","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","describeAttachments","array","attachString","attachTypes","attach","bindText","textString","isClamped","options","pipLineCount","isNumber","clampGetter","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","listGetter","pipList","pipRebind","$compile","backdropElement","closePopover","backdropClick","cancelCallback","onPopoverClick","$e","docWidth","docHeight","popover","calcHeight","title","footer","content","contentHeight","onResize","responsive","defaults","$parent","onShow","onHide","$new","isObject","locals","popoverTemplate","showProgress","logoUrl","loadProgressImage","image","$mdToast","toast","pipErrorDetailsDialog","actions","actionLenght","showDetails","onDetails","ok","onAction","action","showNextToast","toasts","showToast","currentToast","hideDelay","duration","SHOW_TIMEOUT","sounds","then","successCallback","addToast","removeToasts","removeToastsById","getToastById","onStateChangeSuccess","onClearToasts","clearToasts","showNotification","SHOW_TIMEOUT_NOTIFICATIONS","showMessage","showError","hideAllToasts","lists","pipTags","pipType","pipTypeLocal","tagsGetter","dates","formatTimeFilter","pipDateTime","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","getDateJSON","DateTimeConfig","DateTime","_momentRanged","_defaultFormat","timeZone","isUndefinedOrNull","getRange","getOperationRange","range","formatDateTime","basicFormat","date","formatTpl","utcOffset","isValid","formatDateTimeY","nowDate","formatMoment","longDateFormat","year","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","month","toStartRange","startOf","toDate","toEndRange","mssOffset","add","toDateWithTime","formatDate","toTodayDate","day","useTimeZone","fromNow","JSON","stringify","getNextStart","category","getPrevStart","getNowStart","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","toEndMonth","toStartYear","toEndYear","DateTimeService","datetime","_datetime","DateTimeProvider","timeMode","ngChange","count","monthList","momentMonths","yearList","currentYear","getFullYear","startYear","endYear","years","adjustDay","dayList","getValue","isDate","getDate","getMonth","setValue","model","DAY","MONTH","YEAR","dayLabel","monthLabel","yearLabel","onYearChanged","disableControls","pipChanged","pipDateRangeType","pipDateFormat","pipNoLine","setCurrent","currentState","week","dateRangeType","fillLists","weeks","weekList","correctWeek","prevState","getUTCDate","getUTCMonth","getUTCFullYear","getWeekByDate","adjustWeek","getCountDay","nameDays","momentShortDays","weekday","dayOfWeek","startWeek","UTC","getUTCDay","countDay","countPrevMonthDay","endDay","startDay","getWeek","getTimezoneOffset","onChange","currentDate","currentMonth","currentDay","onMonthChanged","onWeekChange","isMonth","oldValue","onMonthClick","onDayClick","defineStartDate","pipStartDate","defineEndDate","pipEndDate","pipStartLabel","pipEndLabel","pipSize","setDuration","startDate","endDate","startTime","endTime","validateStartDate","validateEndDate","setDate","defineDate","getTimeInterval","j","minutes","initDate","EVENT_NEW_END_TIME","startLabel","endLabel","intervalTimeCollection","onChangeStartDate","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","$watchGroup","dialogs","ConfirmationParams","ConfirmationDialogController","$mdDialog","CONFIRM_TITLE","theme","$theme","onOk","onCancel","ConfirmationService","_mdDialog","targetEvent","./ConfirmationService","./confirmation","./error_details","./information","./options","ErrorStrings","errorDetails","dismissButton","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorParams","ErrorDetailsDialogController","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","ErrorDetailsService","./ErrorDetailsService","InformationStrings","InformationParams","InformationDialogController","INFORMATION_TITLE","pipFormat","truncate","console","InformationService","clickOutsideToClose","11","./InformationController","./InformationService","OptionsBigData","OptionsBigParams","noTitle","noActions","optionIndex","OptionsBigDialogController","onSelect","option","selectedOptionName","deleted","OPTIONS_TITLE","applyButtonTitle","selectedOption","active","deletedTitle","hint","focusInput","onOptionSelect","onSelected","onKeyUp","list","OptionsBigService","OptionsData","icon","OptionsParams","OptionsDialogController","onKeyPress","OptionsService","16","./OptionsBigController","./OptionsBigService","./OptionsController","./OptionsService","nav","ActionsChangedEvent","SimpleActionItem","ActionItem","ActionsConfig","primaryGlobalActions","primaryLocalActions","secondaryGlobalActions","secondaryLocalActions","ActionsService","sendChangeEvent","primaryActions","secondaryActions","updateCount","clearCounts","ActionsProvider","PrimaryActionsController","$location","pipActions","onActionsChanged","isHidden","access","actionCount","clickAction","$mdOpenMenu","divider","originatorEv","menu","click","href","stateParams","localActions","globalActions","primaryActionsDirective","SecondaryActionsController","openMenu","ev","calcActions","secondaryActionsVisible","secondaryDividerVisible","secondaryActionsDirective","./ActionsService","./PrimaryActionsDirective","./SecondaryActionsDirective","AppBarDirectiveController","pipAppBar","onAppBarChanged","appbarDirective","AppBarPartDirectiveController","pipAppbarPart","appbarPartDirective","AppBarChangedEvent","AppBarConfig","AppBarService","shadowBreakpoints","setShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","./AppBarDirective","./AppBarPartDirective","./AppBarService","breadcrumbDirective","BreadcrumbController","pipBreadcrumb","_location","_injector","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","backCallback","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","subActions","onOpenMenu","onSubActionClick","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","criteria","showText","showItems","BreadcrumbProvider","NavService","appbar","breadcrumb","sidenav","header","showMenu","DropdownDirectiveController","pipTheme","currentTheme","activeIndex","select","showDropdown","dropdownDirective","15","NavHeaderChangedEvent","NavHeaderConfig","NavHeaderService","subtitle","imageUrl","callbackOrEvent","NavHeaderProvider","defaultImageUrl","clear","pipNavHeader","onImageLoad","setImageMarginCSS","imageBlock","onImageError","loadedDefaultImage","onStateChanged","showHeader","container","cssParams","clientWidth","imageWidth","naturalWidth","imageHeight","naturalHeight","margin","setImage","loadError","$image","onNavHeaderChanged","imageCss","onUserClick","onerror","stickyNavHeaderDirective","./StickyNavHeaderDirective","NavIconDirectiveController","pipNavIcon","onNavIconChanged","onNavIconClick","navIconDirective","NavIconChangedEvent","NavIconConfig","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconProvider","setMenu","setIcon","setBack","./NavIconDirective","./NavIconService","./appbar","./breadcrumb","./common/NavService","./dependencies/TranslateFilter","./dropdown/DropdownDirective","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/TabsDirective","22","languagePickerDirective","languages","LanguagePickerDirectiveController","_translate","setLanguages","lang","onLanguageClick","23","NavMenuChangedEvent","NavMenuLink","NavMenuSection","NavMenuConfig","NavMenuService","sections","defaultIcon","links","NavMenuProvider","StickyNavMenuDirectiveController","pipSideNav","pipNavMenu","setCollapsible","collapsed","isCollapsed","onExpand","expanded","pipSideNavElement","isSectionEmpty","linkCollection","onConfigChanged","expand","isExpanded","expandedButton","sideNavState","isActive","parentstate","includes","current","itemVisible","clickLink","stickyNavMenuDirective","25","./StickyNavMenuDirective","26","searchBarDirective","SearchBarController","pipSearch","enabled","SearchChangedEvent","onSearchChanged","focusText","SearchService_2","SearchActivatedEvent","onKeyDown","27","CloseSearchEvent","SearchConfig","SearchService","SearchProvider","./SearchService","29","onSideNavChanged","pipSidenavPart","sidenavPartDirective","SideNavPartDirectiveController","OpenSideNavEvent","CloseSideNavEvent","SideNavChangedEvent","SideNavConfig","SideNavService","SideNavStateChangedEvent","SideNavProvider","setBreakpoints","pipMedia","onSideNavState","navState","setState","setSideNaveState","isResizing","mainWidth","mainContainer","sideNavWidth","currentWidth","mediaBreakpoints","smallWidth","bigWidth","sidenavState","isLockedOpen","showIconTooltype","xlarge","windowResize","debounce","stickySideNavDirective","StickySideNavDirectiveController","./SideNavService","./StickySideNavDirective","33","TabsDirectiveController","tabs","activeTab","tabDisabled","showShadow","showTabsShadow","showTabs","tabsDirective","34","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","ThemeRootVar","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","_theming","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ERROR_ROUTE_TITLE","ERROR_ROUTE_SUBTITLE","ERROR_ROUTE_CONTINUE","ERROR_ROUTE_TRY_AGAIN","ERROR_ROUTE_GO_BACK","ERROR_ROUTE_PAGE_TITLE","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","ERROR_AVAILABLE_TITLE","ERROR_AVAILABLE_SUBTITLE","ERROR_AVAILABLE_CLOSE","ERROR_AVAILABLE_TRY_AGAIN","ERROR_RESPONDING_TITLE","ERROR_RESPONDING_SUBTITLE","ERROR_RESPONDING_RETRY","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","$stateProvider","$ctrls","clearFieldErrors","fieldController","$error","prop","$setValidity","clearFormErrors","formController","$serverError","factory","errorsWithHint","isEmpty","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","errorName","goToUnhandledErrorPage","appHeader","showMenuNavIcon","showTitleBreadcrumb","showLocalActions","onClose","timeoutInterval","onContinue","absolute","urlBack","onRetry","retry","parseError","error_details","description","server_stacktrace","client_stacktrace","charts","pipBarChart","series","xTickFormat","yTickFormat","interactiveLegend","bindToController","$mdColorPalette","prepareData","seria","drawEmptyState","d3","chartElem","classed","configBarWidthAndLabel","labels","chartBars","getBBox","barHeight","barWidth","transition","materialColorToRgba","color","generateParameterColor","vm","chart","palette","legend","clone","scale","paletteColors","ordinal","updatedSeries","datum","updatedLegend","nv","addGraph","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","utils","pipChartLegend","interactive","colorCheckboxes","checkboxContainers","legendTitles","prepareSeries","hex","pipLineChart","xFormat","dynamic","updateScroll","domains","boundary","bDiff","domDiff","isEqual","addZoom","svg","setData","newChart","xDomain","domain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","prevXDomain","prevScale","d3zoom","prevTranslate","nice","fixDomain","updateChart","zoomed","unzoomed","step","coordinates","point","keypress","setZoom","scaleExtent","behavior","zoom","center0","translate0","coordinates0","center1","getXMinMax","maxVal","minVal","tempMinVal","tempMaxVal","updateZoomOptions","sourceEvents","isVisibleX","isVisibleY","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","pipPieChart","donut","total","pie","sort","arc","innerRadius","outerRadius","selectAll","enter","renderTotalLabel","svgElem","totalVal","reduce","sum","curr","titleElem","resizeTitleLabelUnwrap","boxSize","resizeTitleLabel","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","settings","./settings_page/index","./settings_service/index","SettingsPageController","$q","pipNavService","pipSettings","_q","getTabs","tab","$user","sortBy","selected","initSelect","getDefaultTab","tabIndex","tabId","onDropdownSelect","onNavigationSelect","configureSettingsPageRoutes","auth","SettingsTab","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsService","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","_stateProvider","getFullStateName","addTab","tabObj","existingTab","validateTab","stateConfig","setDefaultTab","pipSettingsProvider","pipTransaction","pipToasts","pipDataUser","pipDataParty","pipFormErrors","onPictureChanged","picture","onPictureCreated","sender","saveChanges","$party","$invalid","loc_pos","party","toJson","originalParty","tid","updateParty","nameCopy","status_code","fromJson","updateUser","setCurrentTheme","onChangePassword","email","answer","onVerifyEmail","user","email_ver","genders","omit","onExit","onChangeBasicInfo","repeat","changePasData","new_password","showRepeatHint","onApply","onCheckRepeatPassword","changePassword","1107","1105","errorsRepeatWithHint","formPart","pipDataSessionProvider","resolve","sessions","readSessionsResolver","sessionId","readSessionIdResolver","pipDataSession","eachSeries","removeSession","without","onRemove","onRemoveAll","pipTranslateProvider","SETTINGS_TITLE","SETTINGS_BASIC_INFO_TITLE","SETTINGS_ACTIVE_SESSIONS_TITLE","SETTINGS_BASIC_INFO_FULL_NAME","SETTINGS_BASIC_INFO_VERIFY_HINT","SETTINGS_BASIC_INFO_VERIFY_CODE","SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_NAME_HINT","SETTINGS_BASIC_INFO_WORDS_ABOUT_ME","SETTINGS_BASIC_INFO_GENDER","SETTINGS_BASIC_INFO_BIRTHDAY","SETTINGS_BASIC_INFO_LOCATION","SETTINGS_BASIC_INFO_PRIMARY_EMAIL","SETTINGS_BASIC_INFO_FROM","SETTINGS_BASIC_INFO_USER_ID","SETTINGS_CHANGE_PASSWORD_TITLE","SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD","SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD","SETTINGS_ACTIVE_SESSIONS_SUBTITLE","SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION","SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS","SETTINGS_ACTIVE_SESSION_OS","SETTINGS_ACTIVE_SESSION_ACTIVE","SETTINGS_BLACKLIST_TITLE","SETTINGS_BLACKLIST_SUBTITLE","SETTINGS_BLACKLIST_UNBLOCK","SETTINGS_BLACKLIST_EMPTY","SETTINGS_CONTACT_INFO_TITLE","SETTINGS_CONTACT_INFO_EMAIL","SETTINGS_CONTACT_INFO_ADD_EMAIL","SETTINGS_CONTACT_INFO_ADD_PHONE","SETTINGS_CONTACT_INFO_ADD_ADDRESS","SETTINGS_CONTACT_INFO_ADD_ACCOUNT","SETTINGS_CONTACT_INFO_ADD_URL","SETTINGS_CONTACT_INFO_ADDRESS","SETTINGS_CONTACT_INFO_PHONE","SETTINGS_CONTACT_INFO_ACCOUNT_NAME","SETTINGS_CONTACT_INFO_URL","THEME","HINT_PASSWORD","HINT_REPEAT_PASSWORD","ERROR_WRONG_PASSWORD","ERROR_IDENTICAL_PASSWORDS","REPEAT_PASSWORD_INVALID","ERROR_EMAIL_INVALID","onAbort","requestEmailVerification","onVerify","verifyEmail","verifyData","1106","1103","emailVerified","onRequestVerificationClick","help","HelpPageController","pipHelp","showShadowSm"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\nimport './common';\r\nimport './default';\r\nimport './bootbarn';\r\n\r\nexport * from './common';","'use strict';\r\n\r\nexport let CurrentState: any;\r\nexport let PreviousState: any;\r\n\r\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        }\r\n    );\r\n\r\n}\r\n\r\nfunction decorateBackStateService($delegate, $window: ng.IWindowService) {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        if (PreviousState != null \r\n            && PreviousState.name != null) {\r\n\r\n            let state = _.cloneDeep(PreviousState);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n    ","'use strict';\r\n\r\nlet RedirectedStates: any = {};\r\n\r\nfunction decorateRedirectStateProvider($delegate) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n\r\n    return $delegate;\r\n    /////////////////////////////////////////////\r\n\r\n    // Specify automatic redirect from one state to another\r\n    function redirect(fromState, toState) {\r\n        RedirectedStates[fromState] = toState;  \r\n        return this;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateProviderDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateProvider);\r\n}\r\n\r\nfunction decorateRedirectStateService($delegate, $timeout) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n    \r\n    return $delegate;\r\n    ////////////////////////////////\r\n    \r\n    // Todo: Move this code directly to event handler?\r\n    // Todo: Nothing calls this code!!\r\n    function redirect(event, state, params) {\r\n        let toState = RedirectedStates[state.name];\r\n        if (_.isFunction(toState)) {\r\n            toState = toState(state.name, params);\r\n\r\n            if (_.isNull(toState))\r\n                throw new Error('Redirected toState cannot be null');\r\n        }\r\n\r\n        if (!!toState) {\r\n            $timeout(() => {\r\n                event.preventDefault();\r\n                $delegate.transitionTo(toState, params, {location: 'replace'});\r\n            });\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addRedirectStateProviderDecorator)\r\n    .config(addRedirectStateDecorator);\r\n    ","'use strict';\r\n\r\nexport let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents(\r\n    $rootScope: ng.IRootScopeService,\r\n    $log: ng.ILogService,\r\n    $state: ng.ui.IStateService\r\n) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateNotFound',\r\n        function(event, unfoundState, fromState, fromParams) {\r\n            event.preventDefault();\r\n\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            // Todo: Move to errors\r\n            $state.go('errors_missing_route',  {\r\n                    unfoundState: unfoundState,\r\n                    fromState : {\r\n                        to: fromState ? fromState.name : '',\r\n                        fromParams: fromParams\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .run(hookRoutingEvents);\r\n    ","'use strict';\r\n\r\nangular.module('pipRouting', ['ui.router']);\r\n\r\nimport './BackDecorator';\r\nimport './RedirectDecorator';\r\nimport './RoutingEvents';\r\n\r\nexport * from './BackDecorator';\r\nexport * from './RoutingEvents';\r\n","'use strict';\r\n\r\nexport let IdentityRootVar = \"$identity\";\r\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nexport interface IIdentity {\r\n    id: string;\r\n    full_name: string;\r\n    details: string;\r\n    email: string;\r\n    photo_url: string;\r\n}\r\n\r\nexport interface IIdentityService {\r\n    identity: IIdentity;\r\n}\r\n\r\nexport interface IIdentityProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    identity: IIdentity;\r\n}\r\n\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: IIdentity;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: IIdentity,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): IIdentity {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: IIdentity) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\r\n\r\n        let identity: IIdentity = value || <IIdentity>{};\r\n        this._log.debug(\"Changed identity to \" + identity.id + \" \" + identity.full_name);\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: IIdentity = null;\r\n    private _service: IdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipIdentity', IdentityProvider);\r\n","'use strict';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nexport interface ISessionService {\r\n    session: any;\r\n    isOpened(): boolean;\r\n\r\n    open(session: any): void;\r\n    close(): void;\r\n}\r\n\r\nexport interface ISessionProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    session: any;\r\n}\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean, \r\n        session: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n    \r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionOpenedEvent, session);\r\n\r\n        this._log.debug(\"Opened session \" + session);\r\n    }\r\n\r\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\r\n\r\n        this._log.debug(\"Closed session \" + oldSession);\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: SessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;  \r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipSession', SessionProvider); \r\n","'use strict';\r\n\r\nangular.module('pipSession', []);\r\n\r\nimport './IdentityService';\r\nimport './SessionService';\r\n\r\nexport * from './IdentityService';\r\nexport * from './SessionService';\r\n","'use strict';\r\n\r\nimport { TransactionError } from './TransactionError'\r\n\r\nexport class Transaction {\r\n    private _scope: string = null;\r\n    private _id: string = null;\r\n    private _operation: string = null;\r\n    private _error: TransactionError = new TransactionError();\r\n    private _progress: number = 0;\r\n\r\n    public constructor(scope: string) {\r\n        this._scope = scope;\r\n    }\r\n\r\n    public get scope(): string {\r\n        return this._scope;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get operation(): string {\r\n        return this._operation;\r\n    }\r\n\r\n    public get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    public get error(): TransactionError {\r\n        return this._error;\r\n    }\r\n\r\n    public get errorMessage(): string {\r\n        return this._error.message;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._id = null;\r\n        this._operation = null;\r\n        this._progress = 0;\r\n        this._error.reset();\r\n    }\r\n\r\n    public busy(): boolean {\r\n        return this._id != null;\r\n    }\r\n\r\n    public failed(): boolean {\r\n        return !this._error.empty();\r\n    }\r\n\r\n    public aborted(id: string): boolean {\r\n        return this._id != id;\r\n    }\r\n\r\n    public begin(operation: string): string {\r\n        // Transaction is already running\r\n        if (this._id != null) return null;\r\n\r\n        this._id = new Date().getTime().toString();\r\n        this._operation = operation || 'PROCESSING'\r\n        this._error.reset();\r\n\r\n        return this._id;\r\n    }\r\n\r\n    public update(progress: number): void {\r\n        this._progress = Math.max(progress, 100);\r\n    }\r\n\r\n    public abort(): void {\r\n        this._id = null;\r\n        this._error.reset();\r\n    }\r\n\r\n    public end(error?: any): void {\r\n        this._error.decode(error);\r\n        this._id = null;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nexport class TransactionError {\r\n    public code: string;\r\n    public message: string;\r\n    public details: any;\r\n    public cause: string;\r\n    public stack_trace: string;\r\n\r\n    public constructor(error?: any) {\r\n        if (error != null)\r\n            this.decode(error);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.code = null;\r\n        this.message = null;\r\n        this.details = null;\r\n        this.cause = null;\r\n        this.stack_trace = null;\r\n    }\r\n\r\n    public empty(): boolean {\r\n        return this.message = null && this.code == null;\r\n    }\r\n\r\n    public decode(error: any): void {\r\n        this.reset();\r\n\r\n        if (error == null) return;\r\n\r\n        // Process regular messages\r\n        if (error.message) \r\n            this.message = error.message;\r\n\r\n        // Process server application errors\r\n        if (error.data) {\r\n            if (error.data.code) { \r\n                // process server error codes here\r\n                this.message = this.message || 'ERROR_' + error.data.code;\r\n                this.code = this.code || error.data.code;\r\n            }\r\n\r\n            if (error.data.message)\r\n                this.message = this.message || error.data.message;\r\n\r\n            this.message = this.message || error.data;\r\n            this.details = this.details || error.data;\r\n\r\n            this.cause = error.data.cause;\r\n            this.stack_trace = error.data.stack_trace;\r\n            this.details = error.data.details;            \r\n        }\r\n\r\n        // Process standard HTTP errors\r\n        if (error.statusText)\r\n            this.message = this.message || error.statusText;\r\n\r\n        if (error.status) {\r\n            this.message = this.message || 'ERROR_' + error.status;\r\n            this.code = this.code || error.status;\r\n        }\r\n        \r\n        this.message = this.message || error;\r\n        this.details = this.details || error;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport { Transaction } from './Transaction';\r\n\r\nexport interface ITransactionService {\r\n    create(scope?: string): Transaction;\r\n    get(scope?: string): Transaction;\r\n}\r\n\r\nclass TransactionService implements ITransactionService {\r\n    private _transactions: any = {};\r\n\r\n    public constructor() {}\r\n\r\n    public create(scope?: string): Transaction {\r\n        let transaction = new Transaction(scope);\r\n        \r\n        if (scope != null)\r\n            this._transactions[scope] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    public get(scope?: string): Transaction {\r\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\r\n\r\n        if (transaction == null) {\r\n            transaction = new Transaction(scope);\r\n            if (scope != null)\r\n                this._transactions[scope] = transaction;\r\n        }\r\n\r\n        return transaction;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .service('pipTransaction', TransactionService);\r\n","'use strict';\r\n\r\nfunction configureTransactionStrings($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': '  ...',\r\n            'PROCESSING': '...',\r\n            'LOADING': '...',\r\n            'SAVING': '...'\r\n        });   \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .config(configureTransactionStrings);\r\n","'use strict';\r\n\r\nangular.module('pipTransaction', []);\r\n\r\nimport './TransactionStrings';\r\nimport './TransactionError';\r\nimport './Transaction';\r\nimport './TransactionService';\r\n\r\nexport * from './TransactionError';\r\nexport * from './Transaction';\r\nexport * from './TransactionService';\r\n","'use strict';\r\n\r\nfunction translateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction translateHtmlDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .directive('pipTranslate', translateDirective)\r\n    .directive('pipTranslateHtml', translateHtmlDirective);\r\n","'use strict';\r\n\r\nfunction translateFilter(pipTranslate) {\r\n    \"ngInject\";\r\n\r\n    return function (key) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslate') \r\n        ? $injector.get('pipTranslate') : null;\r\n\r\n    return function (key) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .filter('translate', translateFilter);\r\n","'use strict';\r\n\r\nimport { Translation } from './Translation';\r\nimport { ResetPageEvent } from '../utilities/PageResetService';\r\n\r\nexport let LanguageRootVar = \"$language\";\r\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nexport interface ITranslateService {\r\n    language: string;\r\n\r\n    use(language: string): string;\r\n    setTranslations(language: string, translations: any): void;\r\n    translations(language: string, translations: any): void;\r\n\r\n    translate(key: string): string;\r\n    translateArray(keys: string[]): string[];\r\n    translateSet(keys: string[], keyProp: string, valueProp: string): any[];\r\n    translateObjects(items: any[], keyProp: string, valueProp: string): any[];\r\n    translateWithPrefix(prefix: string, key: string);\r\n    translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n    translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n}\r\n\r\nexport interface ITranslateProvider extends ITranslateService, ng.IServiceProvider {\r\n}\r\n\r\nclass TranslateService implements ITranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _mdDateLocale;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider,\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._mdDateLocale = $mdDateLocale;\r\n\r\n        if (this._persist && this._window.localStorage)\r\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\r\n\r\n        this._log.debug(\"Set language to \" + this._translation.language);\r\n\r\n        this.save();\r\n    }\r\n\r\n    private changeLocale(locale: string) {\r\n        if (!locale) return;\r\n\r\n        // var localeDate: moment.MomentLanguageData;\r\n        var localeDate: any;\r\n\r\n        moment.locale(locale);\r\n        localeDate = moment.localeData();\r\n\r\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\r\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\r\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\r\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\r\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this._log.debug(\"Changing language to \" + value);\r\n\r\n            this.changeLocale(this._translation.language);\r\n            this.save();   \r\n\r\n            this._rootScope.$emit(LanguageChangedEvent, value);\r\n            this._rootScope.$emit(ResetPageEvent);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTranslate(pipTranslate: ITranslateService) {\r\n    pipTranslate.language;\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .provider('pipTranslate', TranslateProvider)\r\n    .run(initTranslate);\r\n","'use strict';\r\n\r\nexport class Translation {\r\n    protected _language = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': '',\r\n            'ru': '',\r\n            'es': '',\r\n            'pt': '',\r\n            'de': '',\r\n            'fr': ''\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Yet another method to set translation strings for specific language\r\n    public translations(language: string, translations: any): void {\r\n        this.setTranslations(language, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nangular.module('pipTranslate', []);\r\n\r\nimport './Translation';\r\nimport './TranslateService';\r\nimport './TranslateFilter';\r\nimport './TranslateDirective';\r\n\r\nexport * from './Translation';\r\nexport * from './TranslateService';\r\n","'use strict';\r\n\r\nexport interface ICodes {\r\n    // Simple version of string hashcode\r\n    hash(value: string): number;\r\n    // Generates random big number for verification codes\r\n    verification(): string;\r\n}\r\n\r\n\r\nclass Codes implements ICodes {\r\n    // Simple version of string hashcode\r\n    public hash(value: string): number {\r\n        if (value == null) return 0;\r\n        \r\n        let result = 0;\r\n        for (let i = 0; i < value.length; i++)\r\n            result += value.charCodeAt(i);\r\n\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    public verification(): string {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipCodes', [])\r\n    .service('pipCodes', Codes);\r\n","'use strict';\r\n\r\nexport interface IFormat {\r\n    // Creates a sample line from a text\r\n    sample(value: string, maxLength: number): string;\r\n\r\n    sprintf(message: string, ...args: any[]): string;\r\n}\r\n\r\n\r\nclass Format implements IFormat {\r\n    // Cached for parsed formats\r\n    private cache = {};\r\n\r\n    // Creates a sample line from a text\r\n    public sample(value: string, maxLength: number): string {\r\n        if (!value || value == '') return '';\r\n\r\n        var length = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    private strRepeat(str: string, qty: number): string {\r\n        if (qty < 1) return '';\r\n        var result = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getType(variable) {\r\n        return toString.call(variable).slice(8, -1).toLowerCase();\r\n    }\r\n\r\n    private parseFormat(fmt: string) {\r\n        let _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\r\n        while (_fmt) {\r\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                parse_tree.push(match[0]);\r\n            }\r\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                parse_tree.push('%');\r\n            }\r\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                if (match[2]) {\r\n                    arg_names |= 1;\r\n                    var field_list = [], replacement_field = match[2], field_match = [];\r\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                        field_list.push(field_match[1]);\r\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else {\r\n                                throw new Error('Unknown error');\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw new Error('Unknown error');\r\n                    }\r\n                    match[2] = field_list;\r\n                }\r\n                else {\r\n                    arg_names |= 2;\r\n                }\r\n                if (arg_names === 3) {\r\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\r\n                }\r\n                parse_tree.push(match);\r\n            }\r\n            else {\r\n                throw new Error('Unknown error');\r\n            }\r\n            _fmt = _fmt.substring(match[0].length);\r\n        }\r\n        return parse_tree;\r\n    }\r\n\r\n    private format(parse_tree, argv) {\r\n        let cursor = 0; \r\n        let tree_length = parse_tree.length; \r\n        let output = [];\r\n\r\n        for (let i = 0; i < tree_length; i++) {\r\n            let node_type = this.getType(parse_tree[i]);\r\n            if (node_type === 'string') {\r\n                output.push(parse_tree[i]);\r\n            }\r\n            else if (node_type === 'array') {\r\n                let match = parse_tree[i]; // convenience purposes only\r\n                let arg: any;\r\n                if (match[2]) { // keyword argument\r\n                    arg = argv[cursor];\r\n                    for (let k = 0; k < match[2].length; k++) {\r\n                        if (!arg.hasOwnProperty(match[2][k])) {\r\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\r\n                        }\r\n                        arg = arg[match[2][k]];\r\n                    }\r\n                } else if (match[1]) { // positional argument (explicit)\r\n                    arg = argv[match[1]];\r\n                }\r\n                else { // positional argument (implicit)\r\n                    arg = argv[cursor++];\r\n                }\r\n\r\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\r\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\r\n                }\r\n                switch (match[8]) {\r\n                    case 'b': arg = arg.toString(2); break;\r\n                    case 'c': arg = String.fromCharCode(arg); break;\r\n                    case 'd': arg = parseInt(arg, 10); break;\r\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                    case 'o': arg = arg.toString(8); break;\r\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                    case 'u': arg = Math.abs(arg); break;\r\n                    case 'x': arg = arg.toString(16); break;\r\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                }\r\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \r\n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                let pad_length = match[6] - String(arg).length;\r\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\r\n                output.push(match[5] ? arg + pad : pad + arg);\r\n            }\r\n        }\r\n        return output.join('');\r\n    }\r\n    \r\n    public sprintf(message: string, ...args: any[]): string {\r\n        if (!this.cache.hasOwnProperty(message))\r\n            this.cache[message] = this.parseFormat(message);\r\n\r\n        return this.format(this.cache[message], args);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFormat', [])\r\n    .service('pipFormat', Format);\r\n","'use strict';\r\n\r\nexport let ResetPageEvent: string = \"pipResetPage\";\r\nexport let ResetAreaEvent: string = \"pipResetArea\";\r\n\r\nexport let ResetRootVar: string = \"$reset\";\r\nexport let ResetAreaRootVar: string = \"$resetArea\";\r\n\r\nexport interface IPageResetService {\r\n    reset(): void;\r\n    resetArea(area: string): void;\r\n}\r\n\r\n\r\nclass PageResetService implements IPageResetService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._timeout = $timeout;\r\n\r\n        $rootScope[ResetRootVar] = false;\r\n        $rootScope[ResetAreaRootVar] = null;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._log.debug(\"Resetting the entire page\");\r\n        this.performReset(null);\r\n    }\r\n\r\n    public resetArea(area: string): void {\r\n        this._log.debug(\"Resetting the area \" + area);\r\n        this.performReset(area);\r\n    }\r\n\r\n    private performReset(area?: string): void {\r\n        this._rootScope[ResetRootVar] = area == null;\r\n        this._rootScope[ResetAreaRootVar] = area;\r\n\r\n        this._timeout(() => {\r\n            this._rootScope[ResetRootVar] = false;\r\n            this._rootScope[ResetAreaRootVar] = null;\r\n        }, 0);\r\n    }\r\n}\r\n\r\n\r\nfunction hookResetEvents(\r\n    $rootScope: ng.IRootScopeService, \r\n    pipPageReset: IPageResetService\r\n) {\r\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\r\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\r\n}\r\n\r\n\r\nangular.module('pipPageReset', [])\r\n    .service('pipPageReset', PageResetService)\r\n    .run(hookResetEvents);\r\n","'use strict';\r\n\r\nexport interface IScrollService {\r\n    scrollTo(parentElement, childElement, animationDuration): void;\r\n}\r\n\r\nclass ScrollService implements IScrollService {\r\n\r\n    public scrollTo(parentElement, childElement, animationDuration): void {\r\n        if (!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipScroll', [])\r\n    .service('pipScroll', ScrollService);\r\n","'use strict';\r\n\r\nexport interface ISystemInfo {\r\n    browserName: string;\r\n    browserVersion: string;\r\n    platform: string;\r\n    os: string;\r\n\r\n    isDesktop(): boolean;\r\n    isMobile(): boolean;\r\n    isCordova(): boolean;\r\n    isSupported(supported?: any): boolean;\r\n}\r\n\r\n\r\nclass SystemInfo implements ISystemInfo {\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor($window: ng.IWindowService) {\r\n        \"ngInject\";\r\n\r\n        this._window = $window;\r\n    }\r\n\r\n    // todo add support for iPhone\r\n    public get browserName(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    public get browserVersion(): string {\r\n        let version;\r\n        let ua = this._window.navigator.userAgent;\r\n        let browser = this.browserName;\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\r\n                break;\r\n            case \"ie\":\r\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = ua.split(\"Version/\")[1];\r\n                break;\r\n            case \"operaWebkit\":\r\n                version = ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    public get platform(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    public get os(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        try {\r\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\r\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    public isDesktop(): boolean {\r\n        return this.platform == 'desktop';\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        return this.platform == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    public isCordova(): boolean {\r\n        return false;\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    public isSupported(supported?: any): boolean {\r\n        if (!supported) \r\n            supported = {\r\n                edge: 11,\r\n                ie: 11,\r\n                firefox: 43, //4, for testing\r\n                opera: 35,\r\n                chrome: 47\r\n            };\r\n\r\n        let browser = this.browserName;\r\n        let version = this.browserVersion;\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipSystemInfo', [])\r\n    .service('pipSystemInfo', SystemInfo);\r\n","'use strict';\r\n\r\nexport interface ITags {\r\n    normalizeOne(tag: string): string;\r\n    compressOne(tag: string): string;\r\n    equal(tag1: string, tag2: string): boolean;\r\n    normalizeAll(tags: any): string[];\r\n    compressAll(tags: any): string[];\r\n    extract(entity: any, searchFields?: string[]): string[];\r\n}\r\n\r\n\r\nclass Tags implements ITags {\r\n\r\n    public normalizeOne(tag: string): string {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    public compressOne(tag: string): string {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    public equal(tag1: string, tag2: string): boolean {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return this.compressOne(tag1) == this.compressOne(tag2);\r\n    }\r\n\r\n    public normalizeAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public compressAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public extract(entity: any, searchFields?: string[]): string[] {\r\n        let tags = this.normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, (field) => {\r\n            let text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                let hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(this.normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTags', [])\r\n    .service('pipTags', Tags);\r\n","'use strict';\r\n\r\nexport interface ITimerService {\r\n    isStarted(): boolean;\r\n\r\n    addEvent(event: string, timeout: number): void;\r\n    removeEvent(event: string): void;\r\n    clearEvents(): void;\r\n\r\n    start(): void;\r\n    stop(): void;\r\n}\r\n\r\n\r\nclass TimerEvent {\r\n    public event: string;\r\n    public timeout: number;\r\n    public interval: any;\r\n\r\n    public constructor(event: string, timeout: number) {\r\n        this.event = event;\r\n        this.timeout = timeout;\r\n    }\r\n}\r\n\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\r\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\r\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\r\n];\r\n\r\n\r\nclass TimerService implements ITimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $interval: ng.IIntervalService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public isStarted(): boolean {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { \r\n                this._log.debug('Generated timer event ' + event.event); \r\n                this._rootScope.$emit(event.event)\r\n            },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","'use strict';\r\n\r\nimport './Format';\r\nimport './TimerService';\r\nimport './ScrollService';\r\nimport './Tags';\r\nimport './Codes';\r\nimport './SystemInfo';\r\nimport './PageResetService';\r\n\r\nexport * from './Format';\r\nexport * from './TimerService';\r\nexport * from './ScrollService';\r\nexport * from './Tags';\r\nexport * from './Codes';\r\nexport * from './SystemInfo';\r\nexport * from './PageResetService';","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipButtons', [\r\n        'pipToggleButtons',\r\n        'pipRefreshButton',\r\n        'pipFabTooltipVisibility'\r\n    ]);\r\n\r\n})();\r\n\r\n","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipFabTooltipVisibility\", []);\r\n\r\n    thisModule.directive(\"pipFabTooltipVisibility\", function ($parse, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            controller: function($scope, $attrs) {\r\n                var trigGetter = $parse($attrs.pipFabTooltipVisibility),\r\n                    showGetter = $parse($attrs.pipFabShowTooltip),\r\n                    showSetter = showGetter.assign;\r\n\r\n                $scope.$watch(trigGetter, function(isOpen) {\r\n                    if (isOpen) {\r\n                        $timeout(function() {\r\n                            showSetter($scope, isOpen);\r\n                        }, 600);\r\n                    } else {\r\n                        showSetter($scope, isOpen);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipRefreshButton', ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRefreshButton',\r\n        function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                template: String() +\r\n                '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"onClick($event)\" aria-label=\"REFRESH\">' +\r\n                '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\r\n                '<span class=\"pip-refresh-text\"></span>' +\r\n                '</md-button>',\r\n                replace: false,\r\n                link: function ($scope, $element, $attrs: any) {\r\n                    var width, text, show,\r\n                        textGetter = $parse($attrs.pipText),\r\n                        visibleGetter = $parse($attrs.pipVisible),\r\n                        refreshGetter = $parse($attrs.pipRefresh),\r\n                        $button = $element.children('.md-button'),\r\n                        $text = $button.children('.pip-refresh-text');\r\n\r\n                    show = function () {\r\n                        // Set a new text\r\n                        text = textGetter($scope);\r\n                        $text.text(text);\r\n\r\n                        // Show button\r\n                        $button.show();\r\n\r\n                        // Adjust position\r\n                        width = $button.width();\r\n                        $button.css('margin-left', '-' + width / 2 + 'px');\r\n                    };\r\n\r\n                    function hide() {\r\n                        $button.hide();\r\n                    }\r\n\r\n                    $scope.onClick = function () {\r\n                        refreshGetter($scope);\r\n                    };\r\n\r\n                    $scope.$watch(visibleGetter, function (newValue) {\r\n                        if (newValue) {\r\n                            show();\r\n                        } else {\r\n                            hide();\r\n                        }\r\n                    });\r\n\r\n                    $scope.$watch(textGetter, function (newValue) {\r\n                        $text.text(newValue);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipToggleButtons', ['pipButtons.Templates']);\r\n\r\n    thisModule.directive('pipToggleButtons',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    buttons: '=pipButtons',\r\n                    currentButtonValue: '=ngModel',\r\n                    currentButton: '=?pipButtonObject',\r\n                    change: '&ngChange',\r\n                    onlyToggle: '=?pipOnlyToggle'\r\n                },\r\n                templateUrl: 'toggle_buttons/toggle_buttons.html',\r\n                controller: function ($scope, $element, $attrs, $mdMedia, $timeout) {\r\n                    var index;\r\n\r\n                    $scope.$mdMedia = $mdMedia;\r\n                    $scope.class = $attrs.class || '';\r\n\r\n                    if (!$scope.buttons || _.isArray($scope.buttons) && $scope.buttons.length === 0) {\r\n                        $scope.buttons = [];\r\n                    }\r\n\r\n                    index = _.indexOf($scope.buttons, _.find($scope.buttons, {id: $scope.currentButtonValue}));\r\n                    $scope.currentButtonIndex = index < 0 ? 0 : index;\r\n                    $scope.currentButton = $scope.buttons.length > 0 ? $scope.buttons[$scope.currentButtonIndex]\r\n                        : $scope.currentButton;\r\n\r\n                    $scope.buttonSelected = function (index) {\r\n                        if ($scope.disabled()) {\r\n                            return;\r\n                        }\r\n\r\n                        $scope.currentButtonIndex = index;\r\n                        $scope.currentButton = $scope.buttons[$scope.currentButtonIndex];\r\n                        $scope.currentButtonValue = $scope.currentButton.id || index;\r\n\r\n                        $timeout(function () {\r\n                            if ($scope.change) {\r\n                                $scope.change();\r\n                            }\r\n                        });\r\n                    };\r\n\r\n                    $scope.enterSpacePress = function (event) {\r\n                        $scope.buttonSelected(event.index);\r\n                    };\r\n\r\n                    $scope.disabled = function () {\r\n                        if ($scope.ngDisabled) {\r\n                            return $scope.ngDisabled();\r\n                        }\r\n                    };\r\n                },\r\n                link: function (scope, elem) {\r\n                    elem\r\n                        .on('focusin', function () {\r\n                            elem.addClass('focused-container');\r\n                        })\r\n                        .on('focusout', function () {\r\n                            elem.removeClass('focused-container');\r\n                        });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/toggle_buttons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{class}}\" pip-selected=\"bufButtonIndex\" pip-enter-space-press=\"enterSpacePress($event)\" ng-if=\"$mdMedia(\\'gt-xs\\') || onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : currentButtonIndex == $index}\" ng-attr-style=\"{{ \\'background-color:\\' + (currentButtonIndex == $index ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"buttonSelected($index, $event)\" ng-disabled=\"button.disabled || disabled()\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$mdMedia(\\'xs\\') && !onlyToggle\"><md-select ng-model=\"currentButtonIndex\" ng-disabled=\"disabled()\" aria-label=\"DROPDOWN\" md-on-close=\"buttonSelected(currentButtonIndex)\"><md-option ng-repeat=\"action in buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","'use strict';\r\n\r\nimport { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './AuxPanelService';\r\n\r\n(() => {\r\n\r\nclass AuxPanelDirectiveController {\r\n    private _pipAuxPanel: IAuxPanelService;\r\n\r\n    public constructor(pipAuxPanel: IAuxPanelService) {\r\n        this._pipAuxPanel = pipAuxPanel;\r\n    }\r\n\r\n    public isGtxs():boolean {\r\n        return Number($('body').width()) > MainBreakpoints.xs && this._pipAuxPanel.isOpen();\r\n    }\r\n\r\n    public isGtmd():boolean {\r\n        return Number($('body').width()) > MainBreakpoints.md;\r\n    }\r\n}\r\n\r\nfunction AuxPanelDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        replace: true,\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        controllerAs: 'vm',\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': vm.isGtmd()}\"' + \r\n                    'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"vm.isGtxs()\" pip-focused ng-transclude>' + \r\n                    '</md-sidenav>'\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .directive('pipAuxPanel', AuxPanelDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction AuxPanelPartDirectiveController($scope, $element, $attrs, $rootScope, pipAuxPanel) {\r\n    \"ngInject\";\r\n\r\n    var partName = '' + $attrs.pipAuxPanelPart;\r\n    var partValue = null;\r\n\r\n    // Break part apart\r\n    var pos = partName.indexOf(':');\r\n    if (pos > 0) {\r\n        partValue = partName.substr(pos + 1);\r\n        partName = partName.substr(0, pos);\r\n    }\r\n\r\n    onAuxPanelChanged(null, pipAuxPanel.config)\r\n    $rootScope.$on('pipAuxPanelChanged', onAuxPanelChanged);\r\n\r\n    function onAuxPanelChanged(event, config) {\r\n        var parts = config.parts || {};\r\n        var currentPartValue = config[partName];\r\n        // Set visible variable to switch ngIf\r\n\r\n        $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\r\n    }\r\n\r\n}\r\n\r\nfunction AuxPanelPartDirective(ngIfDirective) {\r\n    \"ngInject\";\r\n\r\n    var ngIf = ngIfDirective[0];\r\n\r\n    return {\r\n        transclude: ngIf.transclude,\r\n        priority: ngIf.priority,\r\n        terminal: ngIf.terminal,\r\n        restrict: ngIf.restrict,\r\n        scope: true,\r\n        link: function($scope: any, $element, $attrs) {\r\n            // Visualize based on visible variable in scope\r\n            $attrs.ngIf = function() { return $scope.visible };\r\n            ngIf.link.apply(ngIf);\r\n        },\r\n        controller: AuxPanelPartDirectiveController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport let AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport let OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport let CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n    }\r\n            \r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n  \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","'use strict';\r\n\r\nangular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPartDirective';\r\nimport './AuxPanelDirective';\r\n\r\nexport * from './AuxPanelService';","'use strict';\r\n\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nclass CardDirectiveLink {\r\n    private _element: any;\r\n    private _attrs: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor($rootScope: ng.IRootScopeService, $element: any, $attrs: any) {\r\n        this._element = $element;\r\n        this._rootScope = $rootScope;\r\n        this._attrs = $attrs;\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        var\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width(),\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this._attrs.minWidth ? Math.floor(this._attrs.minWidth) : null,\r\n            minHeight = this._attrs.minHeight ? Math.floor(this._attrs.minHeight) : null,\r\n            width = this._attrs.width ? Math.floor(this._attrs.width) : null,\r\n            height = this._attrs.height ? Math.floor(this._attrs.height) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            var space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this._element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this._element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this._element.css('width', width ? width + 'px' : '');\r\n        this._element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this._element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this._element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            var\r\n                $header = this._element.find('.pip-header:visible'),\r\n                $footer = this._element.find('.pip-footer:visible'),\r\n                $body = this._element.find('.pip-body'),\r\n                maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this._element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this._element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this._element.css('left', left);\r\n            this._element.css('top', top);\r\n\r\n            setTimeout(() => { this._element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this._rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainBreakpoints, MainBreakpointStatuses, MainResizedEvent } from '../media/MediaService'; \r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nclass MainDirectiveController {\r\n    private _element: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._element = $element;        \r\n        this._rootScope = $rootScope;\r\n        this._timeout = $timeout;\r\n\r\n        // Add CSS class\r\n        $element.addClass('pip-main');\r\n\r\n        // Add resize listener\r\n        let listener = () => { this.resize(); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Perform initial calculations\r\n        this.updateBreakpointStatuses();\r\n    }\r\n\r\n    private updateBreakpointStatuses() {\r\n        let width = this._element.innerWidth();\r\n        let body = $('body');\r\n\r\n        MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n            if (_.isBoolean(status))\r\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\r\n        });\r\n\r\n        this._timeout(() => {\r\n            this._rootScope.$apply();\r\n        });\r\n    }\r\n    \r\n    private resize() {\r\n        this.updateBreakpointStatuses();\r\n        this._rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n    }\r\n}\r\n\r\nclass MainBodyDirectiveLink {\r\n    public constructor(\r\n        $scope: ng.IScope, \r\n        $element: any\r\n    ) {\r\n        // Add CSS class\r\n        $element.addClass('pip-main-body');\r\n    }\r\n}\r\n\r\nfunction mainDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        controller: MainDirectiveController,\r\n        controllerAs: 'vm' \r\n    }\r\n}\r\n\r\nfunction mainBodyDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: MainBodyDirectiveLink\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipMain', mainDirective)\r\n    .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\nfunction simpleDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            $element.addClass('pip-simple');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipSimple', simpleDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\nclass TilesDirectiveLink {\r\n    private _element: any;\r\n    private _attrs: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor($scope: ng.IScope, $element: any, $rootScope: ng.IRootScopeService, $attrs: any) {\r\n        this._element = $element;\r\n        this._rootScope = $rootScope;\r\n        this._attrs = $attrs;\r\n\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor($attrs.columnWidth) : 440,\r\n        this._container = $element.children('.pip-tiles-container'),\r\n        this._prevContainerWidth = null,\r\n        this._masonry = Masonry.data(this._container[0]);\r\n        \r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        let listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this._element.parent().width();\r\n        let containerWidth;\r\n        \r\n        console.log();\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this._rootScope.$emit(LayoutResizedEvent);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value) {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: false,\r\n        transclude: true,\r\n        template:\r\n            ($element: any, $attrs: any) => {\r\n                if (convertToBoolean($attrs.pipInfinite)) {\r\n                    return String()\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                    + '</div>';\r\n                } else {\r\n                    return String()\r\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                        + ' masonry-options=\"tilesOptions\">'\r\n                        + '</div>';\r\n                }\r\n            },\r\n        controller: ($scope: any) => {\r\n            $scope.tilesOptions = {\r\n                gutter: 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope, $element, $attrs) => {\r\n            new TilesDirectiveLink($scope, $element, $rootScope, $attrs);\r\n        } \r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","'use strict';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport let MainResizedEvent: string = 'pipMainResized';\r\nexport let LayoutResizedEvent: string = 'pipLayoutResized';\r\n\r\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 1119, 1439, 1919);\r\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}\r\n\r\nclass MediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        let service = function(size) {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 1110, 1220, 1599);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .provider('pipMedia', MediaProvider);\r\n","'use strict';\r\n\r\nlet attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n    let frame = window.requestAnimationFrame \r\n        || (<any>window).mozRequestAnimationFrame \r\n        || (<any>window).webkitRequestAnimationFrame \r\n        || function(callback) { \r\n            return window.setTimeout(callback, 20);     \r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n    let cancel = window.cancelAnimationFrame \r\n        || (<any>window).mozCancelAnimationFrame \r\n        || (<any>window).webkitCancelAnimationFrame \r\n        || window.clearTimeout;\r\n\r\n    return function(id) { \r\n        return cancel(id); \r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    var win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function() {\r\n        var trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function(fn){\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            var obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * @file Split layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSplit', []);\r\n\r\n    thisModule.run( function($rootScope, pipSplit) {\r\n        // Intercept routes\r\n        $rootScope.$on('$stateChangeStart',\r\n            function(event, toState, toParams, fromState, fromParams) {\r\n                // Split animation\r\n                var splitElements = $('.pip-split');\r\n                \r\n                if (splitElements.length > 0) {\r\n                    splitElements.removeClass('pip-transition-forward');\r\n                    splitElements.removeClass('pip-transition-back');\r\n                    if (toState.name != fromState.name) {\r\n                        if (pipSplit.forwardTransition(toState, fromState)) {\r\n                            splitElements.addClass('pip-transition-forward');\r\n                        } else {\r\n                            splitElements.addClass('pip-transition-back');\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n    });\r\n\r\n    thisModule.provider('pipSplit', function(): any {\r\n        var transitionSequences = [];\r\n\r\n        this.addTransitionSequence = addTransitionSequence;\r\n\r\n        this.$get = function () {\r\n            return {\r\n                forwardTransition: forwardTransition\r\n            };\r\n        };\r\n\r\n        return;\r\n\r\n        //----------------------------\r\n\r\n        function addTransitionSequence(sequence) {\r\n            if (!_.isArray(sequence) || sequence.length == 0) {\r\n                throw new Error('Transition sequence must be an array of state names');\r\n            }\r\n\r\n            transitionSequences.push(sequence);\r\n        }\r\n\r\n        function forwardTransition(toState, fromState) {\r\n            var i, toIndex, fromIndex;\r\n\r\n            for (i = 0; i < transitionSequences.length; i++) {\r\n                toIndex = transitionSequences[i].indexOf(toState.name),\r\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\r\n\r\n                if (toIndex > -1) {\r\n                    return toIndex > fromIndex;\r\n                }\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Registration of all WebUI list controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipBehaviors', [\r\n        'pipFocused',\r\n        'pipSelected',\r\n        'pipInfiniteScroll',\r\n        'pipUnsavedChanges',\r\n        'pipDraggable'\r\n    ]);\r\n    \r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipDraggable\", []);\r\n\r\n    thisModule.service('pipDraggable', function () {\r\n\r\n        var scope = this;\r\n        scope.inputEvent = function (event) {\r\n            if (angular.isDefined(event.touches)) {\r\n                return event.touches[0];\r\n            }\r\n            //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n            else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n                return event.originalEvent.touches[0];\r\n            }\r\n            return event;\r\n        };\r\n\r\n    });\r\n\r\n    thisModule.directive('pipDrag',\r\n        function ($rootScope, $parse, $document, $window, pipDraggable) {\r\n            return {\r\n\r\n                restrict: 'A',\r\n                link: function (scope: any, element, attrs: any) {\r\n                    scope.value = attrs.ngDrag;\r\n                    var LONG_PRESS = 50; // 50ms for longpress\r\n                    var offset, _centerAnchor = false, _mx, _my, _tx, _ty, _mrx, _mry;\r\n                    var _hasTouch = ('ontouchstart' in window) || (<any>window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n                    var _pressEvents = 'touchstart mousedown';\r\n                    var _moveEvents = 'touchmove mousemove';\r\n                    var _releaseEvents = 'touchend mouseup';\r\n                    var _dragHandle;\r\n\r\n                    // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n                    var _myid = scope.$id;\r\n                    var _data = null;\r\n\r\n                    var _dragOffset = null;\r\n\r\n                    var _dragEnabled = false;\r\n\r\n                    var _pressTimer = null;\r\n\r\n                    var _elementStyle: any = {};\r\n\r\n                    var onDragStartCallback = $parse(attrs.pipDragStart) || null;\r\n                    var onDragStopCallback = $parse(attrs.pipDragStop) || null;\r\n                    var onDragSuccessCallback = $parse(attrs.pipDragSuccess) || null;\r\n                    var allowTransform = angular.isDefined(attrs.allowTransform) ? scope.$eval(attrs.allowTransform) : false;\r\n\r\n                    var getDragData = $parse(attrs.pipDragData);\r\n                    var\r\n                        verticalScroll = toBoolean(attrs.pipVerticalScroll) || true,\r\n                        horizontalScroll = toBoolean(attrs.pipHorizontalScroll) || true,\r\n                        activationDistance = parseFloat(attrs.pipActivationDistance) || 75,\r\n                        scrollDistance = parseFloat(attrs.pipScrollDistance) || 50,\r\n                        scrollParent = false,\r\n\r\n                        scrollContainer = angular.element(window),\r\n                        scrollContainerGetter = $parse(attrs.pipScrollContainer);\r\n\r\n                    // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n                    var _deregisterRootMoveListener = angular.noop;\r\n\r\n                    initialize();\r\n\r\n                    return;\r\n\r\n                    //-----------------------------------\r\n\r\n                    function initialize() {\r\n                        element.attr('pip-draggable', 'false'); // prevent native drag\r\n                        // check to see if drag handle(s) was specified\r\n                        // if querySelectorAll is available, we use this instead of find\r\n                        // as JQLite find is limited to tagnames\r\n                        let dragHandles: any;\r\n                        if (element[0].querySelectorAll) {\r\n                            dragHandles = angular.element(element[0].querySelectorAll('[pip-drag-handle]'));\r\n                        } else {\r\n                            dragHandles = element.find('[pip-drag-handle]');\r\n                        }\r\n                        if (dragHandles.length) {\r\n                            _dragHandle = dragHandles;\r\n                        }\r\n                        toggleListeners(true);\r\n\r\n                        // Initialize scroll container\r\n                        if (scrollParent) {\r\n                            scrollContainer = angular.element(element.parent());\r\n                        } else if (attrs.pipScrollContainer) {\r\n                            scrollContainer = angular.element(scrollContainerGetter(scope));\r\n                        } else {\r\n                            scrollContainer = angular.element(window);\r\n                        }\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function toggleListeners(enable) {\r\n                        if (!enable)return;\r\n                        // add listeners.\r\n\r\n                        scope.$on('$destroy', onDestroy);\r\n                        scope.$watch(attrs.pipDrag, onEnableChange);\r\n                        scope.$watch(attrs.pipCenterAnchor, onCenterAnchor);\r\n                        // wire up touch events\r\n                        if (_dragHandle) {\r\n                            // handle(s) specified, use those to initiate drag\r\n                            _dragHandle.on(_pressEvents, onpress);\r\n                        } else {\r\n                            // no handle(s) specified, use the element as the handle\r\n                            element.on(_pressEvents, onpress);\r\n                        }\r\n                        if (!_hasTouch && element[0].nodeName.toLowerCase() == \"img\") {\r\n                            element.on('mousedown', function () {\r\n                                return false;\r\n                            }); // prevent native drag for images\r\n                        }\r\n                    }\r\n                    \r\n                    function onDestroy(enable) {\r\n                        toggleListeners(false);\r\n                    }\r\n\r\n                    function onEnableChange(newVal, oldVal) {\r\n                        _dragEnabled = (newVal);\r\n                    }\r\n\r\n                    function onCenterAnchor(newVal, oldVal) {\r\n                        if (angular.isDefined(newVal))\r\n                            _centerAnchor = (newVal || 'true');\r\n                    }\r\n\r\n                    function isClickableElement(evt) {\r\n                        return (\r\n                            angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n                        );\r\n                    }\r\n\r\n                    /*\r\n                     * When the element is clicked start the drag behaviour\r\n                     * On touch devices as a small delay so as not to prevent native window scrolling\r\n                     */\r\n                    function onpress(evt) {\r\n                        if (!_dragEnabled)return;\r\n\r\n                        if (isClickableElement(evt)) {\r\n                            return;\r\n                        }\r\n\r\n                        if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                            // Do not start dragging on right-click\r\n                            return;\r\n                        }\r\n\r\n                        saveElementStyles();\r\n\r\n                        if (_hasTouch) {\r\n                            cancelPress();\r\n                            _pressTimer = setTimeout(function () {\r\n                                cancelPress();\r\n                                onlongpress(evt);\r\n                            }, LONG_PRESS);\r\n                            $document.on(_moveEvents, cancelPress);\r\n                            $document.on(_releaseEvents, cancelPress);\r\n                        } else {\r\n                            onlongpress(evt);\r\n                        }\r\n\r\n                    }\r\n\r\n                    function saveElementStyles() {\r\n                        _elementStyle.left = element.css('css') || 0;\r\n                        _elementStyle.top = element.css('top') || 0;\r\n                        _elementStyle.position = element.css('position');\r\n                        _elementStyle.width = element.css('width');    \r\n                    }\r\n\r\n                    function cancelPress() {\r\n                        clearTimeout(_pressTimer);\r\n                        $document.off(_moveEvents, cancelPress);\r\n                        $document.off(_releaseEvents, cancelPress);\r\n                    }\r\n\r\n                    function onlongpress(evt) {\r\n                        if (!_dragEnabled)return;\r\n                        evt.preventDefault();\r\n\r\n                        offset = element[0].getBoundingClientRect();\r\n                        if (allowTransform)\r\n                            _dragOffset = offset;\r\n                        else {\r\n                            _dragOffset = {left: document.body.scrollLeft, top: document.body.scrollTop};\r\n                        }\r\n\r\n\r\n                        element.centerX = element[0].offsetWidth / 2;\r\n                        element.centerY = element[0].offsetHeight / 2;\r\n\r\n                        _mx = pipDraggable.inputEvent(evt).pageX;\r\n                        _my = pipDraggable.inputEvent(evt).pageY;\r\n                        _mrx = _mx - offset.left;\r\n                        _mry = _my - offset.top;\r\n                        if (_centerAnchor) {\r\n                            _tx = _mx - element.centerX - $window.pageXOffset;\r\n                            _ty = _my - element.centerY - $window.pageYOffset;\r\n                        } else {\r\n                            _tx = _mx - _mrx - $window.pageXOffset;\r\n                            _ty = _my - _mry - $window.pageYOffset;\r\n                        }\r\n\r\n                        $document.on(_moveEvents, onmove);\r\n                        $document.on(_releaseEvents, onrelease);\r\n                        // This event is used to receive manually triggered mouse move events\r\n                        // jqLite unfortunately only supports triggerHandler(...)\r\n                        // See http://api.jquery.com/triggerHandler/\r\n                        // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n                        _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', function (event, origEvent) {\r\n                            onmove(origEvent);\r\n                        });\r\n                    }\r\n\r\n                    function onmove(evt) {\r\n                        if (!_dragEnabled)return;\r\n                        evt.preventDefault();\r\n\r\n                        if (!element.hasClass('pip-dragging')) {\r\n                            _data = getDragData(scope);\r\n                            element.addClass('pip-dragging');\r\n                            $rootScope.$broadcast('draggable:start', {\r\n                                x: _mx,\r\n                                y: _my,\r\n                                tx: _tx,\r\n                                ty: _ty,\r\n                                event: evt,\r\n                                element: element,\r\n                                data: _data\r\n                            });\r\n\r\n                            if (onDragStartCallback) {\r\n                                scope.$apply(function () {\r\n                                    onDragStartCallback(scope, {$data: _data, $event: evt});\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        _mx = pipDraggable.inputEvent(evt).pageX;\r\n                        _my = pipDraggable.inputEvent(evt).pageY;\r\n\r\n                        if (horizontalScroll || verticalScroll) {\r\n                            dragToScroll();\r\n                        }\r\n\r\n                        if (_centerAnchor) {\r\n                            _tx = _mx - element.centerX - _dragOffset.left;\r\n                            _ty = _my - element.centerY - _dragOffset.top;\r\n                        } else {\r\n                            _tx = _mx - _mrx - _dragOffset.left;\r\n                            _ty = _my - _mry - _dragOffset.top;\r\n                        }\r\n\r\n                        moveElement(_tx, _ty);\r\n\r\n                        $rootScope.$broadcast('draggable:move', {\r\n                            x: _mx,\r\n                            y: _my,\r\n                            tx: _tx,\r\n                            ty: _ty,\r\n                            event: evt,\r\n                            element: element,\r\n                            data: _data,\r\n                            uid: _myid,\r\n                            dragOffset: _dragOffset\r\n                        });\r\n                    }\r\n\r\n                    function onrelease(evt) {\r\n                        if (!_dragEnabled)\r\n                            return;\r\n                        evt.preventDefault();\r\n                        $rootScope.$broadcast('draggable:end', {\r\n                            x: _mx,\r\n                            y: _my,\r\n                            tx: _tx,\r\n                            ty: _ty,\r\n                            event: evt,\r\n                            element: element,\r\n                            data: _data,\r\n                            callback: onDragComplete,\r\n                            uid: _myid\r\n                        });\r\n                        element.removeClass('pip-dragging');\r\n                        element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n                        reset();\r\n                        $document.off(_moveEvents, onmove);\r\n                        $document.off(_releaseEvents, onrelease);\r\n\r\n                        if (onDragStopCallback) {\r\n                            scope.$apply(function () {\r\n                                onDragStopCallback(scope, {$data: _data, $event: evt});\r\n                            });\r\n                        }\r\n\r\n                        _deregisterRootMoveListener();\r\n                    }\r\n\r\n                    function onDragComplete(evt) {\r\n                        if (!onDragSuccessCallback)return;\r\n\r\n                        scope.$apply(function () {\r\n                            onDragSuccessCallback(scope, {$data: _data, $event: evt});\r\n                        });\r\n                    }\r\n\r\n                    function reset() {\r\n                        if (allowTransform)\r\n                            element.css({transform: '', 'z-index': '', '-webkit-transform': '', '-ms-transform': ''});\r\n                        else {\r\n                            element.css({'position': _elementStyle.position, top: _elementStyle.top, left: _elementStyle.left, 'z-index': '', width: _elementStyle.width});\r\n                        }\r\n                    }\r\n\r\n                    function moveElement(x, y) {\r\n                        var eWidth = element.css('width');\r\n                        if (allowTransform) {\r\n                            element.css({\r\n                                transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                                'z-index': 99999,\r\n                                '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                                '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                            });\r\n                        } else {\r\n                            element.css({\r\n                                'left': x + 'px',\r\n                                'top': y + 'px',\r\n                                'position': 'fixed',\r\n                                'z-index': 100,\r\n                                width: eWidth\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    function dragToScroll() {\r\n                        var scrollX = 0, scrollY = 0,\r\n                            offset = function (element) {\r\n                                return element.offset() || {left: 0, top: 0};\r\n                            };\r\n\r\n                        if (horizontalScroll) {\r\n                            var\r\n                                containerLeft = offset(scrollContainer).left,\r\n                                containerWidth = scrollContainer.innerWidth(),\r\n                                containerRight = containerLeft + containerWidth;\r\n\r\n                            if ((_mx - containerLeft) < activationDistance) {\r\n                                scrollX = -scrollDistance;\r\n                            }\r\n                            else if ((containerRight - _mx) < activationDistance) {\r\n                                scrollX = scrollDistance;\r\n                            }\r\n                        }\r\n\r\n                        if (verticalScroll) {\r\n                            var\r\n                                containerTop = offset(scrollContainer).top,\r\n                                containerHeight = scrollContainer.innerHeight(),\r\n                                containerBottom = containerTop + containerHeight;\r\n\r\n                            if ((_my - containerTop) < activationDistance) {\r\n                                scrollY = -scrollDistance + 30;\r\n                            }\r\n                            else if ((containerBottom - _my) < activationDistance) {\r\n                                scrollY = scrollDistance - 30;\r\n                            }\r\n                        }\r\n                        if (scrollX !== 0 || scrollY !== 0) {\r\n                            var\r\n                                containerScrollLeft = scrollContainer.scrollLeft(),\r\n                                containerScrollTop = scrollContainer.scrollTop();\r\n\r\n                            scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                            scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    thisModule.directive('pipDrop', \r\n        function ($parse, $timeout, $window, $document, pipDraggable) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: any, element, attrs: any) {\r\n                scope.value = attrs.pipDrop;\r\n                scope.isTouching = false;\r\n\r\n                var _lastDropTouch = null;\r\n                var _myid = scope.$id;\r\n                var _dropEnabled = false;\r\n\r\n                var onDropCallback = $parse(attrs.pipDropSuccess);// || function(){};\r\n                var onDragStartCallback = $parse(attrs.pipDragStart);\r\n                var onDragStopCallback = $parse(attrs.pipDragStop);\r\n                var onDragMoveCallback = $parse(attrs.pipDragMove);\r\n\r\n                initialize();\r\n\r\n                return;\r\n\r\n                //----------------------\r\n\r\n                function initialize() {\r\n                    toggleListeners(true);\r\n                }\r\n\r\n                function toggleListeners(enable) {\r\n                    // remove listeners\r\n                    if (!enable)return;\r\n                    // add listeners.\r\n                    scope.$watch(attrs.pipDrop, onEnableChange);\r\n                    scope.$on('$destroy', onDestroy);\r\n                    scope.$on('draggable:start', onDragStart);\r\n                    scope.$on('draggable:move', onDragMove);\r\n                    scope.$on('draggable:end', onDragEnd);\r\n                }\r\n\r\n                function onDestroy(enable) {\r\n                    toggleListeners(false);\r\n                }\r\n\r\n                function onEnableChange(newVal, oldVal) {\r\n                    _dropEnabled = newVal;\r\n                }\r\n\r\n                function onDragStart(evt, obj) {\r\n                    if (!_dropEnabled)return;\r\n                    isTouching(obj.x, obj.y, obj.element);\r\n\r\n                    if (attrs.pipDragStart) {\r\n                        $timeout(function () {\r\n                            onDragStartCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function onDragMove(evt, obj) {\r\n                    if (!_dropEnabled)return;\r\n                    isTouching(obj.x, obj.y, obj.element);\r\n\r\n                    if (attrs.pipDragMove) {\r\n                        $timeout(function () {\r\n                            onDragMoveCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function onDragEnd(evt, obj) {\r\n                    // don't listen to drop events if this is the element being dragged\r\n                    // only update the styles and return\r\n                    if (!_dropEnabled || _myid === obj.uid) {\r\n                        updateDragStyles(false, obj.element);\r\n                        return;\r\n                    }\r\n\r\n                    if (isTouching(obj.x, obj.y, obj.element)) {\r\n                        // call the pipDraggable pipDragSuccess element callback\r\n                        if (obj.callback) {\r\n                            obj.callback(obj);\r\n                        }\r\n\r\n                        if (attrs.pipDropSuccess) {\r\n                            $timeout(function () {\r\n                                onDropCallback(scope, {\r\n                                    $data: obj.data,\r\n                                    $event: obj,\r\n                                    $target: scope.$eval(scope.value)\r\n                                });\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    if (attrs.pipDragStop) {\r\n                        $timeout(function () {\r\n                            onDragStopCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n\r\n                    updateDragStyles(false, obj.element);\r\n                }\r\n\r\n                function isTouching(mouseX, mouseY, dragElement) {\r\n                    var touching = hitTest(mouseX, mouseY);\r\n                    scope.isTouching = touching;\r\n                    if (touching) {\r\n                        _lastDropTouch = element;\r\n                    }\r\n                    updateDragStyles(touching, dragElement);\r\n                    return touching;\r\n                }\r\n\r\n                function updateDragStyles(touching, dragElement) {\r\n                    if (touching) {\r\n                        element.addClass('pip-drag-enter');\r\n                        dragElement.addClass('pip-drag-over');\r\n                    } else if (_lastDropTouch == element) {\r\n                        _lastDropTouch = null;\r\n                        element.removeClass('pip-drag-enter');\r\n                        dragElement.removeClass('pip-drag-over');\r\n                    }\r\n                };\r\n\r\n                function hitTest(x, y) {\r\n                    var bounds = element[0].getBoundingClientRect();\r\n                    x -= $document[0].body.scrollLeft + $document[0].documentElement.scrollLeft;\r\n                    y -= $document[0].body.scrollTop + $document[0].documentElement.scrollTop;\r\n                    return x >= bounds.left\r\n                        && x <= bounds.right\r\n                        && y <= bounds.bottom\r\n                        && y >= bounds.top;\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    //thisModule.directive('pipDragClone', function ($parse, $timeout, pipDraggable) {\r\n    //    return {\r\n    //        restrict: 'A',\r\n    //        link: function (scope, element, attrs) {\r\n    //            var img, _allowClone = true;\r\n    //            var _dragOffset = null;\r\n    //            scope.clonedData = {};\r\n    //            initialize();\r\n    //            return;\r\n\r\n    //            function initialize() {\r\n//\r\n    //                img = element.find('img');\r\n    //                element.attr('pip-draggable', 'false');\r\n    //                img.attr('draggable', 'false');\r\n    //                reset();\r\n    //                toggleListeners(true);\r\n    //            }\r\n//\r\n//\r\n    //            function toggleListeners(enable) {\r\n    //                // remove listeners\r\n//\r\n    //                if (!enable)return;\r\n    //                // add listeners.\r\n    //                scope.$on('draggable:start', onDragStart);\r\n    //                scope.$on('draggable:move', onDragMove);\r\n    //                scope.$on('draggable:end', onDragEnd);\r\n    //                preventContextMenu();\r\n//\r\n    //            }\r\n\r\n    //            function preventContextMenu() {\r\n    //                //  element.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                img.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                //  element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                img.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //            }\r\n\r\n    //            function onDragStart(evt, obj, elm) {\r\n    //                _allowClone = true;\r\n    //                if (angular.isDefined(obj.data.allowClone)) {\r\n    //                    _allowClone = obj.data.allowClone;\r\n    //                }\r\n    //                if (_allowClone) {\r\n    //                    scope.$apply(function () {\r\n    //                        scope.clonedData = obj.data;\r\n    //                    });\r\n    //                    element.css('width', obj.element[0].offsetWidth);\r\n    //                    element.css('height', obj.element[0].offsetHeight);\r\n//\r\n    //                    moveElement(obj.tx, obj.ty);\r\n    //                }\r\n//\r\n    //            }\r\n\r\n    //            function onDragMove(evt, obj) {\r\n    //                if (_allowClone) {\r\n//\r\n    //                    _tx = obj.tx + obj.dragOffset.left;\r\n    //                    _ty = obj.ty + obj.dragOffset.top;\r\n//\r\n    //                    moveElement(_tx, _ty);\r\n    //                }\r\n    //            }\r\n\r\n    //            function onDragEnd(evt, obj) {\r\n    //                //moveElement(obj.tx,obj.ty);\r\n    //                if (_allowClone) {\r\n    //                    reset();\r\n    //                }\r\n    //            }\r\n//\r\n    //            function reset() {\r\n    //                element.css({left: 0, top: 0, position: 'fixed', 'z-index': -1, visibility: 'hidden'});\r\n    //            }\r\n\r\n    //            function moveElement(x, y) {\r\n    //                element.css({\r\n    //                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n    //                    'z-index': 99999,\r\n    //                    'visibility': 'visible',\r\n    //                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n    //                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n    //                    //,margin: '0'  don't monkey with the margin,\r\n    //                });\r\n    //            }\r\n//\r\n    //            function absorbEvent_(event) {\r\n    //                var e = event;//.originalEvent;\r\n    //                e.preventDefault && e.preventDefault();\r\n    //                e.stopPropagation && e.stopPropagation();\r\n    //                e.cancelBubble = true;\r\n    //                e.returnValue = false;\r\n    //                return false;\r\n    //            }\r\n//\r\n    //        }\r\n    //    };\r\n    //});\r\n\r\n    thisModule.directive('pipPreventDrag', function ($parse, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: any, element, attrs: any) {\r\n                initialize();\r\n\r\n                return;\r\n                //---------------------\r\n\r\n                function initialize() {\r\n                    element.attr('pip-draggable', 'false');\r\n                    toggleListeners(true);\r\n                }\r\n\r\n                function toggleListeners(enable) {\r\n                    // remove listeners\r\n                    if (!enable)return;\r\n                    // add listeners.\r\n                    element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n                }\r\n\r\n                function absorbEvent_(event) {\r\n                    var e = event.originalEvent;\r\n                    e.preventDefault && e.preventDefault();\r\n                    e.stopPropagation && e.stopPropagation();\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n                    return false;\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    thisModule.directive('pipCancelDrag', function () {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, element, attrs) {\r\n                element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n            }\r\n        };\r\n    });\r\n})();\r\n\r\n","/**\r\n * @file Keyboard navigation over few focusable controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipFocused\", []);\r\n\r\n    thisModule.directive('pipFocused', function($timeout, $mdConstant) {\r\n        return {\r\n            require: \"?ngModel\",\r\n            link: function ($scope: any, $element, $attrs: any) {\r\n                var controls, controlsLength,\r\n                    withHidden = $attrs.pipWithHidden;\r\n\r\n                $timeout(init);\r\n                $element.on('keydown', keydownListener);\r\n\r\n                $scope.$watch($attrs.ngModel, function () {\r\n                    $timeout(init);\r\n                }, true);\r\n\r\n                function init() {\r\n                    var selector = withHidden ? '.pip-focusable' : '.pip-focusable:visible';\r\n                    controls = $element.find(selector);\r\n                    controlsLength = controls.length;\r\n\r\n                    // add needed event listeners\r\n                    controls.on('focus', function () {\r\n                        $element.addClass('pip-focused-container');\r\n                        $(this).addClass('md-focused');\r\n                    }).on('focusout', function () {\r\n                        $element.removeClass('pip-focused-container');\r\n                    });\r\n                }\r\n\r\n                function keydownListener(e) {\r\n                    var keyCode = e.which || e.keyCode;\r\n\r\n                    // Check control keyCode\r\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\r\n\r\n                        e.preventDefault();\r\n\r\n                        var \r\n                            increment = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                            moveToControl = controls.index(controls.filter(\".md-focused\")) + increment;\r\n\r\n                        // Move focus to next control\r\n                        if (moveToControl >= 0 && moveToControl < controlsLength) {\r\n                            controls[moveToControl].focus();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n\r\n","/**\r\n * @file Infinite scrolling behavior\r\n * @description\r\n * Modified from https://github.com/sroze/ngInfiniteScroll\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipInfiniteScroll\", []);\r\n\r\n    thisModule.directive('pipInfiniteScroll', \r\n        function($rootScope, $window, $interval, $parse) {\r\n            var THROTTLE_MILLISECONDS = 500;\r\n\r\n            return {\r\n                scope: {\r\n                    pipInfiniteScroll: '&',\r\n                    pipScrollContainer: '=',\r\n                    pipScrollDistance: '=',\r\n                    pipScrollDisabled: '=',\r\n                    pipScrollUseDocumentBottom: '=',\r\n                    pipScrollListenForEvent: '@'\r\n                },\r\n                link: function($scope: any, $element, $attrs: any) {\r\n                    var \r\n                        checkWhenEnabled = null,\r\n                        scrollContainer,\r\n                        immediateCheck = true,\r\n                        scrollDistance = null,\r\n                        scrollEnabled = null, \r\n                        unregisterEventListener = null,\r\n                        useDocumentBottom = false, \r\n                        windowElement = angular.element($window);\r\n                    \r\n                    function height(element) {\r\n                        element = element[0] || element;\r\n                        if (isNaN(element.offsetHeight)) {\r\n                            return element.document.documentElement.clientHeight;\r\n                        } else {\r\n                            return element.offsetHeight;\r\n                        }\r\n                    };\r\n\r\n                    function offsetTop(element) {\r\n                        if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                            return;\r\n                        }\r\n                        return element[0].getBoundingClientRect().top + pageYOffset(element);\r\n                    };\r\n\r\n                    function pageYOffset(element) {\r\n                        element = element[0] || element;\r\n                        if (isNaN(window.pageYOffset)) {\r\n                            return element.document.documentElement.scrollTop;\r\n                        } else {\r\n                            return element.ownerDocument.defaultView.pageYOffset;\r\n                        }\r\n                    };\r\n\r\n                    var onContainerScroll = function() {\r\n                        var \r\n                            containerBottom, \r\n                            containerTopOffset, \r\n                            elementBottom, \r\n                            remaining, \r\n                            shouldScroll;\r\n                                                \r\n                        if (scrollContainer === windowElement) {\r\n                            containerBottom = height(scrollContainer) + pageYOffset(scrollContainer[0].document.documentElement);\r\n                            elementBottom = offsetTop($element) + height($element);\r\n                        } else {\r\n                            containerBottom = height(scrollContainer);\r\n                            containerTopOffset = 0;\r\n                            if (offsetTop(scrollContainer) !== void 0) {\r\n                                containerTopOffset = offsetTop(scrollContainer);\r\n                            }\r\n                            elementBottom = offsetTop($element) - containerTopOffset + height($element);\r\n                        }\r\n\r\n                        if (useDocumentBottom) {\r\n                            elementBottom = height(($element[0].ownerDocument || $element[0].document).documentElement);\r\n                        }\r\n\r\n                        remaining = elementBottom - containerBottom;\r\n                        shouldScroll = remaining <= height(scrollContainer) * scrollDistance + 1;\r\n                        \r\n                        if (shouldScroll) {\r\n                            checkWhenEnabled = true;\r\n                            if (scrollEnabled) {\r\n                                if ($scope.$$phase || $rootScope.$$phase) {\r\n                                    return $scope.pipInfiniteScroll();\r\n                                } else {\r\n                                    return $scope.$apply($scope.pipInfiniteScroll);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return checkWhenEnabled = false;\r\n                        }\r\n                    };\r\n\r\n                    if (THROTTLE_MILLISECONDS != null) {\r\n                        onContainerScroll = _.throttle(onContainerScroll, THROTTLE_MILLISECONDS);                    \r\n                    }\r\n\r\n                    $scope.$on('$destroy', function() {\r\n                        scrollContainer.unbind('scroll', onContainerScroll);\r\n                        if (unregisterEventListener != null) {\r\n                            unregisterEventListener();\r\n                            return unregisterEventListener = null;\r\n                        }\r\n                    });\r\n\r\n                    function handleScrollDistance(v) {\r\n                        return scrollDistance = parseFloat(v) || 0;\r\n                    };\r\n                    $scope.$watch('pipScrollDistance', handleScrollDistance);\r\n                    handleScrollDistance($scope.pipScrollDistance);\r\n                    \r\n                    function handleScrollDisabled(v) {\r\n                        scrollEnabled = !v;\r\n                        if (scrollEnabled && checkWhenEnabled) {\r\n                            checkWhenEnabled = false;\r\n                            return onContainerScroll();\r\n                        }\r\n                    };\r\n                    $scope.$watch('pipScrollDisabled', handleScrollDisabled);\r\n                    handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n                    function handleScrollUseDocumentBottom(v) {\r\n                        return useDocumentBottom = v;\r\n                    };\r\n                    $scope.$watch('pipScrollUseDocumentBottom', handleScrollUseDocumentBottom);\r\n                    handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n                    function changeContainer(newContainer) {\r\n                        if (scrollContainer != null) {\r\n                            scrollContainer.unbind('scroll', onContainerScroll);\r\n                        }\r\n\r\n                        scrollContainer = newContainer;\r\n                        if (newContainer != null) {\r\n                            return scrollContainer.bind('scroll', onContainerScroll);\r\n                        }\r\n                    };\r\n\r\n                    changeContainer(windowElement);\r\n                    if ($scope.pipScrollListenForEvent) {\r\n                        unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, onContainerScroll);\r\n                    }\r\n\r\n                    function handleScrollContainer(newContainer) {\r\n                        if ((newContainer == null) || newContainer.length === 0) {\r\n                            return;\r\n                        }\r\n                        if (newContainer instanceof HTMLElement) {\r\n                            newContainer = angular.element(newContainer);\r\n                        } else if (typeof newContainer.append === 'function') {\r\n                            newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n                        } else if (typeof newContainer === 'string') {\r\n                            newContainer = $element.parents().find(newContainer);\r\n                        }\r\n\r\n                        if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                            (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                            return changeContainer(newContainer);\r\n                        } else {\r\n                            throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n                        }\r\n                    };\r\n                    $scope.$watch('pipScrollContainer', function (newContainer) {\r\n                        if (newContainer !== scrollContainer)\r\n                            handleScrollContainer(newContainer);\r\n                    });\r\n                    handleScrollContainer($scope.pipScrollContainer || []);\r\n                    \r\n                    if ($attrs.pipScrollParent != null) {\r\n                        changeContainer(angular.element($element.parent()));\r\n                    }\r\n                    if ($attrs.pipScrolImmediateCheck != null) {\r\n                        immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n                    }\r\n                    \r\n                    return $interval((function() {\r\n                        if (immediateCheck) {\r\n                            return onContainerScroll();\r\n                        }\r\n                    }), 0, 1);\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Keyboard navigation with scrolling over non-focusable controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipSelected\", []);\r\n\r\n    thisModule.directive('pipSelected',function ($parse, $mdConstant, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function ($scope: any, $element, $attrs: any) {\r\n                var\r\n                    indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null,\r\n                    indexSetter = indexGetter ? indexGetter.assign : null,\r\n                    idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null,\r\n                    idSetter = idGetter ? idGetter.assign : null,\r\n                    changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null,\r\n                    enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null,\r\n                    noScroll = toBoolean($attrs.pipNoScroll),\r\n                    modifier = toBoolean($attrs.pipSkipHidden) ? ':visible' : '',\r\n                    className = toBoolean($attrs.pipTreeList) ? '.pip-selectable-tree' : '.pip-selectable',\r\n                    selectedIndex = indexGetter($scope),\r\n                    currentElementTabinex = $element.attr('tabindex'),\r\n                    pipSelectedWatch = $attrs.pipSelectedWatch,\r\n                    isScrolled = false;\r\n\r\n                // Set tabindex if it's not set yet\r\n                $element.attr('tabindex', currentElementTabinex || 0);\r\n\r\n                // Watch selected item index\r\n                if (!toBoolean($attrs.pipTreeList)) {\r\n                    $scope.$watch(indexGetter, function(newSelectedIndex) {\r\n                        selectItem({itemIndex: newSelectedIndex});\r\n                    });\r\n                } else {\r\n                    $scope.$watch(idGetter, function(newSelectedId) {\r\n                        setTimeout(function () {\r\n                            selectItem({itemId: newSelectedId, raiseEvent: true});\r\n                        }, 0);\r\n                    });\r\n                }\r\n\r\n                // Watch resync selection\r\n                if (pipSelectedWatch) {\r\n                    $scope.$watch(pipSelectedWatch, function() {\r\n                        // Delay update to allow ng-repeat to update DOM\r\n                        setTimeout(function() {\r\n                            selectedIndex = indexGetter($scope);\r\n                            selectItem({itemIndex: selectedIndex});\r\n                        }, 100);\r\n                    });\r\n                }\r\n\r\n                // Select item defined by index\r\n                selectItem({itemIndex: selectedIndex, items: $element.find(className)});\r\n\r\n                // Converts value into boolean\r\n                function toBoolean(value) {\r\n                    if (value == null) return false;\r\n                    if (!value) return false;\r\n                    value = value.toString().toLowerCase();\r\n                    return value == '1' || value == 'true';\r\n                };\r\n                \r\n                // Functions and listeners\r\n\r\n                function selectItem(itemParams) {\r\n                    if (isScrolled) return;\r\n                    var itemIndex = itemParams.itemIndex,\r\n                        itemId = itemParams.itemId,\r\n                        items = itemParams.items || $element.find(className + modifier),\r\n                        itemsLength = items.length,\r\n                        item = (function () {\r\n                            if (itemParams.item) return itemParams.item;\r\n                            if (itemIndex === undefined && itemIndex === -1) {\r\n                                itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                            }\r\n                            if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                                return items[itemIndex]\r\n                            }\r\n                        }()),\r\n                        raiseEvent = itemParams.raiseEvent;\r\n\r\n                    if (item) {\r\n                        $element.find(className).removeClass('selected md-focused');\r\n                        item = angular.element(item)\r\n                            .addClass('selected md-focused')\r\n                            .focus(); // todo   ,   \r\n                        if (!noScroll) scrollToItem(item);\r\n                        if (raiseEvent) defineSelectedIndex(items);\r\n                    }\r\n                };\r\n\r\n                function defineSelectedIndex(items) {\r\n                    var oldSelectedIndex = selectedIndex;\r\n                    selectedIndex = -1;\r\n                    for (var index = 0; index < items.length; index++) {\r\n                        if ($(items[index]).hasClass('selected')) {\r\n                            selectedIndex = index;\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // Execute callback to notify about item select\r\n                    if (oldSelectedIndex != selectedIndex && selectedIndex !== -1) {\r\n                        $scope.$apply(updateIndex);\r\n                    }\r\n\r\n                    function updateIndex() {\r\n                        var selectedItem = angular.element(items[selectedIndex]),\r\n                            selectedId = selectedItem.attr('pip-id');\r\n\r\n                        if (indexSetter) indexSetter($scope, selectedIndex);\r\n                        if (idSetter) idSetter($scope, selectedId);\r\n                        if (changeGetter) {\r\n                            changeGetter($scope, {\r\n                                $event: {\r\n                                    target: $element,\r\n                                    item: selectedItem,\r\n                                    index: selectedIndex,\r\n                                    id: selectedId,\r\n                                    newIndex: selectedIndex,\r\n                                    oldIndex: oldSelectedIndex\r\n                                }\r\n                            });\r\n                        }\r\n                    };\r\n                };\r\n\r\n                function scrollToItem($item) {\r\n                    if (noScroll) return;\r\n\r\n                    var\r\n                        containerTop = $element.offset().top,\r\n                        containerHeight = $element.height(),\r\n                        containerBottom = containerTop + containerHeight,\r\n                        itemTop = $item.offset().top,\r\n                        itemHeight = $item.outerHeight(true),\r\n                        itemBottom = itemTop + itemHeight,\r\n                        containerScrollTop = $element.scrollTop();\r\n\r\n                        isScrolled = true;\r\n                        setTimeout(function () {\r\n                            isScrolled = false;\r\n                        }, 100);\r\n\r\n                    if (containerTop > itemTop) {\r\n                        $element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n                    }\r\n                    else if (containerBottom < itemBottom) {\r\n                        $element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n                    }\r\n\r\n                };\r\n\r\n                $element.on('click touchstart', className, function (event) {\r\n                    selectItem({item: event.currentTarget, raiseEvent: true});\r\n                });\r\n\r\n                $element.on('keydown', function (e) {\r\n                    var keyCode = e.which || e.keyCode;\r\n\r\n                    // Check control keyCode\r\n                    if (keyCode == $mdConstant.KEY_CODE.ENTER || keyCode == $mdConstant.KEY_CODE.SPACE) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n\r\n                        if (enterSpaceGetter) {\r\n                            enterSpaceGetter($scope, {\r\n                                $event: {\r\n                                    target: $element,\r\n                                    index: selectedIndex,\r\n                                    item: $element.find('.selected')\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    } else\r\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW || keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\r\n\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n\r\n                        // Get next selectable control index\r\n                        var items = $element.find(className + modifier),\r\n                            inc = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                            newSelectedIndex = selectedIndex + inc;\r\n\r\n                        // Set next control as selected\r\n                        selectItem({itemIndex: newSelectedIndex, items: items, raiseEvent: true});\r\n                    }\r\n                });\r\n\r\n                $element.on('focusin', function (event) {\r\n                    // Choose selected element\r\n                    var items,\r\n                        selectedItem = $element.find(className + '.selected');\r\n\r\n                    selectedItem.addClass('md-focused');\r\n\r\n                    // If there are not selected elements then pick the first one\r\n                    if (selectedItem.length === 0) {\r\n                        selectedIndex = indexGetter($scope);\r\n                        items = $element.find(className + modifier);\r\n                        selectItem({itemIndex: selectedIndex || 0, items: items, raiseEvent: true});\r\n                    }\r\n                });\r\n\r\n                $element.on('focusout', function (event) {\r\n                    $element.find(className + '.md-focused' + modifier).removeClass('md-focused');\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipUnsavedChanges\", []);\r\n\r\n    thisModule.directive(\"pipUnsavedChanges\", function ($window, $rootScope) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave'\r\n            },\r\n            link: function($scope: any) {\r\n\r\n                $window.onbeforeunload = function() {\r\n                    if ($scope.unsavedChangesAvailable()) {\r\n                        $rootScope.$routing = false;\r\n                        return $scope.unsavedChangesMessage;\r\n                    }\r\n                };\r\n\r\n                var unbindFunc = $scope.$on('$stateChangeStart', function(event) {\r\n                    if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                        $rootScope.$routing = false;\r\n                        event.preventDefault();\r\n                    } else {\r\n                        _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                    }\r\n                });\r\n\r\n                $scope.$on('$destroy', function() {\r\n                    $window.onbeforeunload = null;\r\n                    unbindFunc();\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\r\n\r\n    thisModule.directive('pipColorPicker',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: 'pipColorPickerController'\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipColorPickerController',\r\n        function ($scope, $element, $attrs, $timeout) {\r\n            var\r\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n            $scope.class = $attrs.class || '';\r\n\r\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\r\n                $scope.colors = DEFAULT_COLORS;\r\n            }\r\n\r\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\r\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\r\n\r\n            $scope.disabled = function () {\r\n                if ($scope.ngDisabled) {\r\n                    return $scope.ngDisabled();\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            $scope.selectColor = function (index) {\r\n                if ($scope.disabled()) {\r\n                    return;\r\n                }\r\n                $scope.currentColorIndex = index;\r\n\r\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\r\n\r\n                $timeout(function () {\r\n                    $scope.$apply();\r\n                });\r\n\r\n                if ($scope.colorChange) {\r\n                    $scope.colorChange();\r\n                }\r\n            };\r\n\r\n            $scope.enterSpacePress = function (event) {\r\n                $scope.selectColor(event.index);\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipControls', [\r\n        'pipMarkdown',\r\n        'pipColorPicker',\r\n        'pipRoutingProgress',\r\n        'pipPopover',\r\n        'pipImageSlider',\r\n        'pipToasts',\r\n        'pipControls.Translate'\r\n    ]);\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\n    thisModule.directive('pipImageSlider',\r\n        function () {\r\n            return {\r\n                scope: {\r\n                    sliderIndex: '=pipImageIndex'\r\n                },\r\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\r\n                    var blocks,\r\n                        index = 0, newIndex,\r\n                        direction,\r\n                        type = $parse($attrs.pipAnimationType)($scope),\r\n                        DEFAULT_INTERVAL = 4500,\r\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\r\n                        timePromises,\r\n                        throttled;\r\n\r\n                    $element.addClass('pip-image-slider');\r\n                    $element.addClass('pip-animation-' + type);\r\n\r\n                    $scope.swipeStart = 0;\r\n                    /*\r\n                     if ($swipe)\r\n                     $swipe.bind($element, {\r\n                     'start': function(coords) {\r\n                     if (coords) $scope.swipeStart = coords.x;\r\n                     else $scope.swipeStart = 0;\r\n                     },\r\n                     'end': function(coords) {\r\n                     var delta;\r\n                     if (coords) {\r\n                     delta = $scope.swipeStart - coords.x;\r\n                     if (delta > 150)  $scope.nextBlock();\r\n                     if (delta < -150)  $scope.prevBlock();\r\n                     $scope.swipeStart = 0;\r\n                     } else $scope.swipeStart = 0;\r\n                     }\r\n                     });\r\n                     */\r\n                    setIndex();\r\n\r\n                    $timeout(function () {\r\n                        blocks = $element.find('.pip-animation-block');\r\n                        if (blocks.length > 0) {\r\n                            $(blocks[0]).addClass('pip-show');\r\n                        }\r\n                    });\r\n\r\n                    startInterval();\r\n                    throttled = _.throttle(function () {\r\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\r\n                        index = newIndex;\r\n                        setIndex();\r\n                    }, 700);\r\n\r\n                    $scope.nextBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                        direction = 'next';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.prevBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\r\n                        direction = 'prev';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.slideTo = function (nextIndex) {\r\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\r\n                            return;\r\n                        }\r\n\r\n                        restartInterval();\r\n                        newIndex = nextIndex;\r\n                        direction = nextIndex > index ? 'next' : 'prev';\r\n                        throttled();\r\n                    };\r\n                    \r\n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\r\n\r\n                    function setIndex() {\r\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\r\n                    }\r\n\r\n                    function startInterval() {\r\n                        timePromises = $interval(function () {\r\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                            direction = 'next';\r\n                            throttled();\r\n                        }, interval || DEFAULT_INTERVAL);\r\n                    }\r\n\r\n                    function stopInterval() {\r\n                        $interval.cancel(timePromises);\r\n                    }\r\n\r\n                    $element.on('$destroy', function () {\r\n                        stopInterval();\r\n                        $pipImageSlider.removeSlider($attrs.id);\r\n                    });\r\n\r\n                    function restartInterval() {\r\n                        stopInterval();\r\n                        startInterval();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider.Service', []);\r\n\r\n    thisModule.service('$pipImageSlider',\r\n        function ($timeout) {\r\n\r\n            var ANIMATION_DURATION = 550,\r\n                sliders = {};\r\n\r\n            return {\r\n                nextCarousel: nextCarousel,\r\n                prevCarousel: prevCarousel,\r\n                toBlock: toBlock,\r\n                registerSlider: register,\r\n                removeSlider: remove,\r\n                getSliderScope: getSlider\r\n            };\r\n\r\n            function register(sliderId, sliderScope) {\r\n                sliders[sliderId] = sliderScope;\r\n            }\r\n            \r\n            function remove(sliderId) {\r\n                delete sliders[sliderId];\r\n            }\r\n\r\n            function getSlider(sliderId) {\r\n                return sliders[sliderId];\r\n            }\r\n\r\n            function nextCarousel(nextBlock, prevBlock) {\r\n                nextBlock.addClass('pip-next');\r\n                \r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function prevCarousel(nextBlock, prevBlock) {\r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\r\n                var prevBlock = $(blocks[oldIndex]),\r\n                    blockIndex = nextIndex,\r\n                    nextBlock = $(blocks[blockIndex]);\r\n\r\n                if (type === 'carousel') {\r\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                    if (direction && (direction === 'prev' || direction === 'next')) {\r\n                        if (direction === 'prev') {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    } else {\r\n                        if (nextIndex && nextIndex < oldIndex) {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    }\r\n                } else {\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderButton', []);\r\n\r\n    thisModule.directive('pipSliderButton',\r\n        function () {\r\n            return {\r\n                scope: {},\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var type = $parse($attrs.pipButtonType)($scope),\r\n                        sliderId = $parse($attrs.pipSliderId)($scope);\r\n\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || !type) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId)[type + 'Block']();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderIndicator', []);\r\n\r\n    thisModule.directive('pipSliderIndicator',\r\n        function () {\r\n            return {\r\n                scope: false,\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\r\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\r\n\r\n                    $element.css('cursor', 'pointer');\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || slideTo && slideTo < 0) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId).slideTo(slideTo);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ndeclare var marked: any;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\r\n\r\n    thisModule.run(function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            pipTranslate.setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': ':',\r\n                'checklist': '',\r\n                'documents': '',\r\n                'pictures': '',\r\n                'location': '',\r\n                'time': ''\r\n            });\r\n        }\r\n    });\r\n\r\n    thisModule.directive('pipMarkdown',\r\n        function ($parse, $injector) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                link: function ($scope: any, $element, $attrs: any) {\r\n                    var\r\n                        textGetter = $parse($attrs.pipText),\r\n                        listGetter = $parse($attrs.pipList),\r\n                        clampGetter = $parse($attrs.pipLineCount);\r\n\r\n                    function describeAttachments(array) {\r\n                        var attachString = '',\r\n                            attachTypes = [];\r\n\r\n                        _.each(array, function (attach) {\r\n                            if (attach.type && attach.type !== 'text') {\r\n                                if (attachString.length === 0 && pipTranslate) {\r\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                                }\r\n\r\n                                if (attachTypes.indexOf(attach.type) < 0) {\r\n                                    attachTypes.push(attach.type);\r\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                                    if (pipTranslate)\r\n                                        attachString += pipTranslate.translate(attach.type);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        return attachString;\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function bindText(value) {\r\n                        var textString, isClamped, height, options, obj;\r\n\r\n                        if (_.isArray(value)) {\r\n                            obj = _.find(value, function (item: any) {\r\n                                return item.type === 'text' && item.text;\r\n                            });\r\n\r\n                            textString = obj ? obj.text : describeAttachments(value);\r\n                        } else {\r\n                            textString = value;\r\n                        }\r\n\r\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\r\n                        isClamped = isClamped && textString && textString.length > 0;\r\n                        options = {\r\n                            gfm: true,\r\n                            tables: true,\r\n                            breaks: true,\r\n                            sanitize: true,\r\n                            pedantic: true,\r\n                            smartLists: true,\r\n                            smartypents: false\r\n                        };\r\n                        textString = marked(textString || '', options);\r\n                        if (isClamped) {\r\n                            height = 1.5 * clampGetter();\r\n                        }\r\n                        // Assign value as HTML\r\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\r\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\r\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\r\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n                        $element.find('a').attr('target', 'blank');\r\n                        if (!listGetter() && isClamped) {\r\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\r\n                        }\r\n                    }\r\n\r\n                    // Fill the text\r\n                    bindText(textGetter($scope));\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(textGetter, function (newValue) {\r\n                            bindText(newValue);\r\n                        });\r\n                    }\r\n\r\n                    $scope.$on('pipWindowResized', function () {\r\n                        bindText(textGetter($scope));\r\n                    });\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-markdown');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\n    thisModule.directive('pipPopover', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: true,\r\n            templateUrl: 'popover/popover.html',\r\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\r\n                var backdropElement, content;\r\n\r\n                backdropElement = $('.pip-popover-backdrop');\r\n                backdropElement.on('click keydown scroll', backdropClick);\r\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n                $timeout(function () {\r\n                    position();\r\n                    if ($scope.params.template) {\r\n                        content = $compile($scope.params.template)($scope);\r\n                        $element.find('.pip-popover').append(content);\r\n                    }\r\n\r\n                    init();\r\n                });\r\n\r\n                $timeout(function () {\r\n                    calcHeight();\r\n                }, 200);\r\n\r\n                $scope.onPopoverClick = onPopoverClick;\r\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \r\n\r\n                $rootScope.$on('pipPopoverResize', onResize);\r\n                $(window).resize(onResize);\r\n\r\n                function init() {\r\n                    backdropElement.addClass('opened');\r\n                    $('.pip-popover-backdrop').focus();\r\n                    if ($scope.params.timeout) {\r\n                        $timeout(function () {\r\n                            closePopover();\r\n                        }, $scope.params.timeout);\r\n                    }\r\n                }\r\n\r\n                function backdropClick() {\r\n                    if ($scope.params.cancelCallback) {\r\n                        $scope.params.cancelCallback();\r\n                    }\r\n\r\n                    closePopover();\r\n                }\r\n\r\n                function closePopover() {\r\n                    backdropElement.removeClass('opened');\r\n                    $timeout(function () {\r\n                        backdropElement.remove();\r\n                    }, 100);\r\n                }\r\n\r\n                function onPopoverClick($e) {\r\n                    $e.stopPropagation();\r\n                }\r\n\r\n                function position() {\r\n                    if ($scope.params.element) {\r\n                        var element = $($scope.params.element),\r\n                            pos = element.offset(),\r\n                            width = element.width(),\r\n                            height = element.height(),\r\n                            docWidth = $(document).width(),\r\n                            docHeight = $(document).height(),\r\n                            popover = backdropElement.find('.pip-popover');\r\n\r\n                        if (pos) {\r\n                            popover\r\n                                .css('max-width', docWidth - (docWidth - pos.left))\r\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                                .css('left', pos.left - popover.width() + width / 2)\r\n                                .css('top', pos.top + height + 16);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function calcHeight() {\r\n                    if ($scope.params.calcHeight === false) { return; }\r\n\r\n                    var popover = backdropElement.find('.pip-popover'),\r\n                        title = popover.find('.pip-title'),\r\n                        footer = popover.find('.pip-footer'),\r\n                        content = popover.find('.pip-content'),\r\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n\r\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n                }\r\n\r\n                function onResize() {\r\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n                    position();\r\n                    calcHeight();\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover.Service', []);\r\n\r\n    thisModule.service('pipPopoverService',\r\n        function ($compile, $rootScope, $timeout) {\r\n            var popoverTemplate;\r\n\r\n            popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n\r\n            return {\r\n                show: onShow,\r\n                hide: onHide,\r\n                resize: onResize\r\n            };\r\n\r\n            function onShow(p) {\r\n                var element, scope, params, content;\r\n\r\n                element = $('body');\r\n                if (element.find('md-backdrop').length > 0) { return; }\r\n                onHide();\r\n                scope = $rootScope.$new();\r\n                params = p && _.isObject(p) ? p : {};\r\n                scope.params = params;\r\n                scope.locals = params.locals;\r\n                content = $compile(popoverTemplate)(scope);\r\n                element.append(content);\r\n            }\r\n\r\n            function onHide() {\r\n                var backdropElement = $('.pip-popover-backdrop');\r\n\r\n                backdropElement.removeClass('opened');\r\n                $timeout(function () {\r\n                    backdropElement.remove();\r\n                }, 100);\r\n            }\r\n\r\n            function onResize() {\r\n                $rootScope.$broadcast('pipPopoverResize');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipRoutingProgress', ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRoutingProgress', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                    showProgress: '&',\r\n                    logoUrl: '@'\r\n                },\r\n            templateUrl: 'progress/routing_progress.html',\r\n            controller: 'pipRoutingProgressController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipRoutingProgressController',\r\n        function ($scope, $element, $attrs) {\r\n            var  image = $element.children('img');          \r\n\r\n            loadProgressImage();\r\n\r\n            return;\r\n\r\n            function loadProgressImage() {\r\n                if ($scope.logoUrl) {\r\n                    image.attr('src', $scope.logoUrl);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate']);\r\n\r\n    thisModule.controller('pipToastController',\r\n        function ($scope, $mdToast, toast, $injector) {\r\n            var pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \r\n                ? $injector.get('pipErrorDetailsDialog') : null;\r\n\r\n            // if (toast.type && sounds['toast_' + toast.type]) {\r\n            //     sounds['toast_' + toast.type].play();\r\n            // }\r\n\r\n            $scope.message = toast.message;\r\n            $scope.actions = toast.actions;\r\n            $scope.toast = toast;\r\n            \r\n            if (toast.actions.length === 0) {\r\n                $scope.actionLenght = 0;\r\n            } else if (toast.actions.length === 1) {\r\n                $scope.actionLenght = toast.actions[0].toString().length;\r\n            } else {\r\n                $scope.actionLenght = null;\r\n            }\r\n\r\n            $scope.showDetails = pipErrorDetailsDialog != null;\r\n            $scope.onDetails = function () {\r\n                $mdToast.hide();\r\n\r\n                if (pipErrorDetailsDialog) {\r\n                    pipErrorDetailsDialog.show(\r\n                        {\r\n                            error: $scope.toast.error,\r\n                            ok: 'Ok'\r\n                        },\r\n                        angular.noop,\r\n                        angular.noop\r\n                    );\r\n                }\r\n            };\r\n\r\n            $scope.onAction = function (action) {\r\n                $mdToast.hide(\r\n                    {\r\n                        action: action,\r\n                        id: toast.id,\r\n                        message: toast.message\r\n                    });\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.service('pipToasts',\r\n        function ($rootScope, $mdToast) {\r\n            var\r\n                SHOW_TIMEOUT = 20000,\r\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\r\n                toasts = [],\r\n                currentToast,\r\n                sounds = {};\r\n\r\n            /** pre-load sounds for notifications */\r\n                // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\r\n                // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\r\n                // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\r\n\r\n                // Remove error toasts when page is changed\r\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\r\n            $rootScope.$on('pipSessionClosed', onClearToasts);\r\n            $rootScope.$on('pipIdentityChanged', onClearToasts);\r\n\r\n            return {\r\n                showNotification: showNotification,\r\n                showMessage: showMessage,\r\n                showError: showError,\r\n                hideAllToasts: hideAllToasts,\r\n                clearToasts: clearToasts,\r\n                removeToastsById: removeToastsById,\r\n                getToastById: getToastById\r\n            };\r\n\r\n            // Take the next from queue and show it\r\n            function showNextToast() {\r\n                var toast;\r\n\r\n                if (toasts.length > 0) {\r\n                    toast = toasts[0];\r\n                    toasts.splice(0, 1);\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            // Show toast\r\n            function showToast(toast) {\r\n                currentToast = toast;\r\n\r\n                $mdToast.show({\r\n                    templateUrl: 'toast/toast.html',\r\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: 'pipToastController',\r\n                    locals: {\r\n                        toast: currentToast,\r\n                        sounds: sounds\r\n                    }\r\n                })\r\n                    .then(\r\n                    function showToastOkResult(action) {\r\n                        if (currentToast.successCallback) {\r\n                            currentToast.successCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    },\r\n                    function showToastCancelResult(action) {\r\n                        if (currentToast.cancelCallback) {\r\n                            currentToast.cancelCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    }\r\n                );\r\n            }\r\n\r\n            function addToast(toast) {\r\n                if (currentToast && toast.type !== 'error') {\r\n                    toasts.push(toast);\r\n                } else {\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            function removeToasts(type) {\r\n                var result = [];\r\n\r\n                _.each(toasts, function (toast) {\r\n                    if (!toast.type || toast.type !== type) {\r\n                        result.push(toast);\r\n                    }\r\n                });\r\n                toasts = _.cloneDeep(result);\r\n            }\r\n\r\n            function removeToastsById(id) {\r\n                _.remove(toasts, {id: id});\r\n            }\r\n\r\n            function getToastById(id) {\r\n                return _.find(toasts, {id: id});\r\n            }\r\n\r\n            function onStateChangeSuccess() {\r\n                toasts = _.reject(toasts, function (toast) {\r\n                    return toast.type === 'error';\r\n                });\r\n\r\n                if (currentToast && currentToast.type === 'error') {\r\n                    $mdToast.cancel();\r\n                    showNextToast();\r\n                }\r\n            }\r\n\r\n            function onClearToasts() {\r\n                clearToasts();\r\n            }\r\n\r\n            // Show new notification toast at the top right\r\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\r\n                // pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'showNotification: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'showNotification: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'notification',\r\n                    message: message,\r\n                    actions: actions || ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback,\r\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\r\n                });\r\n            }\r\n\r\n            // Show new message toast at the top right\r\n            function showMessage(message, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showMessage:successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'message',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Show error toast at the bottom right after error occured\r\n            function showError(message, successCallback, cancelCallback, id, error) {\r\n                // pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showError: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    error: error,\r\n                    type: 'error',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Hide and clear all toast when user signs out\r\n            function hideAllToasts() {\r\n                $mdToast.cancel();\r\n                toasts = [];\r\n            }\r\n\r\n            // Clear toasts by type\r\n            function clearToasts(type?: any) {\r\n                if (type) {\r\n                    // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n                    removeToasts(type);\r\n                } else {\r\n                    $mdToast.cancel();\r\n                    toasts = [];\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{class}}\" pip-selected=\"currentColorIndex\" pip-enter-space-press=\"enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"selectColor($index)\" aria-label=\"color\" ng-disabled=\"disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"params.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\"></div><div ng-if=\"params.template\" class=\"pip-popover\" ng-click=\"onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': toast.type==\\'error\\', \\'pip-column-toast\\': toast.type == \\'error\\' || toast.actions.length > 1 || actionLenght > 4, \\'pip-no-action-toast\\': actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"message\"></span><div class=\"layout-row layout-align-end-start\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\"><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"toast.type==\\'error\\' && toast.error && showDetails\" ng-click=\"onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"onAction(action)\" ng-repeat=\"action in actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","/**\r\n * @file Registration of all WebUI list controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipLists', [\r\n\t    'pipTagList'\r\n    ]);\r\n    \r\n})();","/**\r\n * @file Tag list control\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n * @todo\r\n * - Improve samples in sampler app\r\n * - What's pipType and pipTypeLocal? Give better name\r\n * - Do not use ng-if, instead generate template statically\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTagList', ['pipList.Translate']);\r\n\r\n    /**\r\n     * pipTags - set of tags\r\n     * pipType - additional type tag\r\n     * pipTypeLocal - additional translated type tag\r\n     */\r\n    thisModule.directive('pipTagList',\r\n        function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipTags: '=',\r\n                    pipType: '=',\r\n                    pipTypeLocal: '='\r\n                },\r\n                templateUrl: 'tag_list/tag_list.html',\r\n                controller: function ($scope, $element, $attrs) {\r\n                    var tagsGetter;\r\n\r\n                    tagsGetter = $parse($attrs.pipTags);\r\n                    $element.css('display', 'block');\r\n                    // Set tags\r\n                    $scope.tags = tagsGetter($scope);\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(tagsGetter, function () {\r\n                            $scope.tags = tagsGetter($scope);\r\n                        });\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-tag-list');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/tag_list.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\" ng-if=\"pipType && !pipTypeLocal\"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\" ng-if=\"pipType && pipTypeLocal\"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in pipTags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","'use strict';\r\n\r\nangular.module('pipDateTime', [\r\n    'pipDateTime.Service', 'pipDateTime.Filter'\r\n]);\r\n","'use strict';\r\n\r\nfunction formatTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";\r\n\r\n    return function (value: any, format: string): string {\r\n        return pipDateTime.formatTime(value, format);\r\n    }\r\n}\r\n\r\nfunction formatDateOptionalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, format: string): string {\r\n        return pipDateTime.formatDateOptional(value, format);\r\n    }\r\n}\r\n\r\nfunction formatLongDateFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDate(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatMiddleDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMonthFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any) {\r\n        return pipDateTime.formatMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatYearFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatYear(value);\r\n    }\r\n}\r\n\r\nfunction formatWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatMiddleDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateLongTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, firstTime: boolean): string {\r\n        return pipDateTime.formatShortDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateLongTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, firstTime: boolean): string {\r\n        return pipDateTime.formatMiddleDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatLongDateLongTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, firstTime: boolean): string {\r\n        return pipDateTime.formatLongDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatFullDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatFullDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDayOfWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDayOfWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthDayFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatShortMonthDayFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatDateRangeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value1: any, value2: any): string {\r\n        return pipDateTime.formatDateRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatDateTimeRangeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value1: any, value2: any): string {\r\n        return pipDateTime.formatDateTimeRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortISOWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekOrdinalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatISOWeekOrdinal(value);\r\n    }\r\n}\r\n\r\nfunction formatDateYFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateYFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeLongFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatTodayDateLongTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeLongFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatTodayDateShortTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeShortFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatTodayDateLongTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeShortFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatTodayDateShortTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatMillisecondsToSecondsFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatMillisecondsToSeconds(value);\r\n    }\r\n}\r\n\r\nfunction formatElapsedIntervalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, start: any): string {\r\n        return pipDateTime.formatElapsedInterval(value, start);\r\n    }\r\n}\r\n\r\nfunction getDateJSONFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.getDateJSON(value);\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipDateTime.Filter', [])\r\n    .filter('formatTime', formatTimeFilter)\r\n    .filter('formatDateOptional', formatDateOptionalFilter)\r\n    .filter('formatShortDate', formatShortDateFilter)\r\n    .filter('formatMiddleDate', formatMiddleDateFilter)\r\n    .filter('formatLongDate', formatLongDateFilter)\r\n    .filter('formatMonth', formatMonthFilter)\r\n    .filter('formatLongMonth', formatLongMonthFilter)\r\n    .filter('formatYear', formatYearFilter)\r\n    .filter('formatWeek', formatWeekFilter)\r\n    .filter('formatShortWeek', formatShortWeekFilter)\r\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\r\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)    \r\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\r\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\r\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)    \r\n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)    \r\n    .filter('formatFullDateTime', formatFullDateTimeFilter)\r\n    .filter('formatShortTime', formatShortTimeFilter)\r\n    .filter('formatLongTime', formatLongTimeFilter)\r\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\r\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\r\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\r\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\r\n    .filter('formatDateRange', formatDateRangeFilter)\r\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\r\n    .filter('formatISOWeek', formatISOWeekFilter)\r\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\r\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\r\n    .filter('formatDateY', formatDateYFilter)\r\n    .filter('formatLongDateY', formatLongDateYFilter)\r\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\r\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\r\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\r\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\r\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\r\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\r\n","'use strict';\r\n\r\nexport class DateTimeConfig {\r\n    timeZone: number;\r\n}\r\n\r\nexport interface IDateTimeService {\r\n    readonly config: DateTimeConfig;\r\n    useTimeZone(offset: number);\r\n\r\n    formatTime(value: any, format: string): string;\r\n    formatDateOptional(value: any, format: string): string;\r\n    formatShortDate(value: any): string;\r\n    formatMiddleDate(value: any): string;\r\n    formatLongDate(value: any): string;\r\n    formatMonth(value: any): string;\r\n    formatLongMonth(value: any): string;\r\n    formatYear(value: any): string;\r\n    formatWeek(value: any): string;\r\n    formatShortWeek(value: any): string;\r\n    formatShortDateTime(value: any): string;\r\n    formatMiddleDateTime(value: any): string;    \r\n    formatLongDateTime(value: any): string;\r\n    formatFullDateTime(value: any): string;\r\n    formatShortDateLongTime(value: any, firstTime?: boolean): string;\r\n    formatMiddleDateLongTime(value: any, firstTime?: boolean): string;    \r\n    formatLongDateLongTime(value: any, firstTime?: boolean): string;    \r\n    formatShortTime(value: any): string;\r\n    formatLongTime(value: any): string;\r\n    formatShortDayOfWeek(value: any): string;\r\n    formatLongDayOfWeek(value: any): string;\r\n    formatLongMonthDay(value: any): string;\r\n    formatShortMonthDay(value: any): string;\r\n    formatDateRange(value1: any, value2: any): string;\r\n    formatDateTimeRange(value1: any, value2: any): string;\r\n    formatISOWeek(value: any): string;\r\n    formatShortISOWeek(value: any): string;\r\n    formatISOWeekOrdinal(value: any): string;\r\n    formatDateY(value: any): string;\r\n    formatLongDateY(value: any): string;\r\n    formatTodayDateLongTimeLong(value: any): string;\r\n    formatTodayDateShortTimeLong(value: any): string;\r\n    formatTodayDateLongTimeShort(value: any): string;\r\n    formatTodayDateShortTimeShort(value: any): string;\r\n    formatMillisecondsToSeconds(value: any): string;\r\n    formatElapsedInterval(value: any, start: any): string;\r\n\r\n    getDateJSON(date: any): string;\r\n    getNextStart(value: any, category: string): any;\r\n    getPrevStart(value: any, category: string): any;\r\n    getNowStart(category: string): any;\r\n\r\n    addHours(value: any, hours: number): any;\r\n    toStartDay(value: any): any;\r\n    toEndDay(value: any, offset: number): any;\r\n    toStartWeek(value: any): any;\r\n    toEndWeek(value: any, offset: number): any;\r\n    toStartMonth(value: any): any;\r\n    toEndMonth(value: any, offset: number): any;\r\n    toStartYear(value: any): any;\r\n    toEndYear(value: any, offset: number): any;\r\n \r\n}\r\n\r\nexport interface IDateTimeProvider extends IDateTimeService, ng.IServiceProvider {\r\n\r\n}\r\n\r\nclass DateTime implements IDateTimeService {\r\n    private _config: DateTimeConfig;\r\n    protected _momentRanged = new Array('year', 'month', 'week', 'isoweek', 'day');\r\n    protected _defaultFormat = 'LL'\r\n\r\n    private isUndefinedOrNull(value: any): boolean {\r\n        return angular.isUndefined(value) || value === null;\r\n    }\r\n\r\n    private getRange(value: string): string {\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return 'day';\r\n        }\r\n\r\n        let index = this._momentRanged.indexOf(value)\r\n\r\n        if (index < 0) {\r\n            return 'day'\r\n        } else {\r\n            return this._momentRanged[index];\r\n        }\r\n    }\r\n\r\n    private getOperationRange(value: string): string {\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return 'day';\r\n        }\r\n\r\n        let range = value == 'isoweek' ? 'week' : value,\r\n            index = this._momentRanged.indexOf(range)\r\n\r\n        if (index < 0) {\r\n            return 'day'\r\n        } else {\r\n            return this._momentRanged[index];\r\n        }\r\n    }\r\n\r\n    private formatDateTime(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            formatTpl: string;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        \r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n        return date.format(formatTpl);\r\n    }\r\n\r\n    private formatDateTimeY(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            nowDate: any,\r\n            formatMoment: string;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        \r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        nowDate = moment();\r\n        formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n        if (nowDate.year() == date.year()) {\r\n            formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n        }\r\n\r\n        return date.format(formatMoment);\r\n    }\r\n\r\n    private formatDay(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\r\n            formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        \r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        return date.format(formatMonthYearless);\r\n    }\r\n\r\n    private formatMonthDay(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            format = basicFormat ? basicFormat : this._defaultFormat,\r\n            formatLL = moment.localeData().longDateFormat(format),\r\n            formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        \r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        return date.format(formatYearlessLL);\r\n    }\r\n\r\n//  use timezone not testing\r\n    private formatRange(value1: any, value2: any, basicFormat: string): string {\r\n        var dateStart: any,\r\n            dateEnd: any,\r\n            format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n        if (this.isUndefinedOrNull(value1)) {\r\n            dateStart = null;\r\n        } else {\r\n            dateStart = this._config.timeZone ?  moment(value1).utcOffset(this._config.timeZone) : moment(value1);\r\n        }\r\n        if (this.isUndefinedOrNull(value2)) {\r\n            dateEnd = null;\r\n        } else {\r\n            dateEnd = this._config.timeZone ?  moment(value2).utcOffset(this._config.timeZone) : moment(value2);\r\n        }\r\n\r\n        if (dateStart === null && dateEnd === null) return '';\r\n\r\n        if (dateStart === null) {\r\n            return dateEnd.format(basicFormat);\r\n        } else if (dateEnd === null || dateStart.isSame(dateEnd)) {\r\n            return dateStart.format(basicFormat);;\r\n        }\r\n\r\n        if (dateStart.isAfter(dateEnd)) {\r\n            // todo localization\r\n            throw new Error('Date range error. Start date is more than end date.');\r\n        }\r\n\r\n        if (dateStart.year() == dateEnd.year()) {\r\n            if (dateStart.month() == dateEnd.month()) {\r\n                return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n            } else {\r\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n            }\r\n        } else {\r\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n        }\r\n    }\r\n\r\n    private toStartRange(value: any, range: string): any {\r\n        var date: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        return date.startOf(range).toDate();\r\n    }\r\n\r\n    private toEndRange(value: any, range: string, offset: number): any {\r\n        var date: any,\r\n            result: any,\r\n            mssOffset: number;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (!angular.isNumber(offset)) {\r\n            mssOffset = 0;\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        if (mssOffset) {\r\n            result = date.startOf(range).add(mssOffset, 'milliseconds');\r\n        } else {\r\n            result = date.startOf(range);\r\n        }\r\n\r\n        return date.startOf(range).toDate();\r\n    }\r\n\r\n    private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\r\n        var date: any,\r\n            result: string,\r\n            nowDate: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        nowDate = moment();\r\n        if (firstTime) {\r\n            result = date.format(formatTime) + ' ' + date.format(formatDate);\r\n        } else {\r\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private toTodayDate(value: any, formatDate: string, formatTime: string): any {\r\n        var date: any,\r\n            result: string,\r\n            nowDate: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (this._config.timeZone) {\r\n            date = moment(value).utcOffset(this._config.timeZone);\r\n        } else {\r\n            date = moment(value);\r\n        }\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        nowDate = moment();\r\n\r\n        if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day()) {\r\n            result = date.format(formatTime);\r\n        } else {\r\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public constructor(config: DateTimeConfig) { \r\n        this._config = config || { timeZone: null };\r\n    };\r\n\r\n    public get config(): DateTimeConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public useTimeZone(offset: number) {\r\n        this._config.timeZone = offset;\r\n    }\r\n    // formating functions \r\n    // -------------------\r\n\r\n    // todo Optional\r\n    public formatTime(value: any, format: string): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n    // todo Optional\r\n    public formatDateOptional(value: any, format: string): string {\r\n        return this.formatDateTime(value, 'L');\r\n    }\r\n\r\n    // date formats\r\n    public formatShortDate(value: any): string {\r\n        return this.formatDateTime(value, 'L');\r\n    }\r\n\r\n    public formatMiddleDate(value: any): string {\r\n        return this.formatDateTime(value, 'll');\r\n    }\r\n\r\n    public formatLongDate(value: any): string {\r\n        return this.formatDateTime(value, 'LL');\r\n    }\r\n\r\n    public formatMonth(value: any): string {\r\n        return this.formatDateTime(value, 'MM');\r\n    }\r\n\r\n    public formatLongMonth(value: any): string {\r\n        return this.formatDateTime(value, 'MMMM');\r\n    }\r\n\r\n    public formatYear(value: any): string {\r\n        return this.formatDateTime(value, 'YYYY');\r\n    }\r\n\r\n    public formatWeek(value: any): string {\r\n        return this.formatDateTime(value, 'ww');\r\n    }\r\n\r\n    public formatShortWeek(value: any): string {\r\n        return this.formatDateTime(value, 'w');\r\n    }\r\n\r\n    public formatShortDateTime(value: any): string {\r\n        return this.toDateWithTime(value, 'L', 'LT'); \r\n    }\r\n\r\n    public formatMiddleDateTime(value: any): string {\r\n        return this.formatDateTime(value, 'lll');\r\n    }\r\n\r\n    public formatLongDateTime(value: any): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n\r\n    public formatFullDateTime(value: any): string {\r\n        return this.formatDateTime(value, 'LLLL');\r\n    }\r\n\r\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\r\n        return this.toDateWithTime(value, 'L', 'LTS', firstTime); \r\n    }\r\n\r\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\r\n        return this.toDateWithTime(value, 'll', 'LTS', firstTime);\r\n    }\r\n\r\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\r\n        return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\r\n    }\r\n\r\n    public formatShortTime(value: any): string {\r\n        return this.formatDateTime(value, 'LT');\r\n    }\r\n\r\n    public formatLongTime(value: any): string {\r\n        return this.formatDateTime(value, 'LTS');\r\n    }\r\n\r\n    public formatShortDayOfWeek(value: any): string {\r\n        return this.formatDateTime(value, 'dd');\r\n    }\r\n\r\n    public formatLongDayOfWeek(value: any): string {\r\n        return this.formatDateTime(value, 'dddd');\r\n    }\r\n\r\n    // public formatTimeNumber(value: any): string {\r\n    //     return this.formatDateTime(value, 'LLL');\r\n    // }\r\n\r\n    // public formatLongTimeNumber(value: any): string {\r\n    //     return this.formatDateTime(value, 'LLLL');\r\n    // }\r\n\r\n    ///-----------------\r\n\r\n    public formatLongMonthDay(value: any): string {\r\n        return this.formatMonthDay(value, 'LL');\r\n    }\r\n\r\n    public formatShortMonthDay(value: any): string {\r\n        return this.formatMonthDay(value, 'L');\r\n    }\r\n\r\n    public formatDateRange(value1: any, value2: any): string {\r\n        return this.formatRange(value1, value2, 'LL');\r\n    }\r\n\r\n    public formatDateTimeRange(value1: any, value2: any): string {\r\n        return this.formatRange(value1, value2, 'LLL');\r\n    }\r\n\r\n    // iso function\r\n    // --------------\r\n\r\n    public formatISOWeek(value: any): string {\r\n        return this.formatDateTime(value, 'WW');\r\n    }\r\n\r\n    public formatShortISOWeek(value: any): string {\r\n        return this.formatDateTime(value, 'W');\r\n    }\r\n\r\n    public formatISOWeekOrdinal(value: any): string {\r\n        return this.formatDateTime(value, 'Wo');\r\n    }\r\n    // special formats \r\n    // --------------\r\n\r\n    // year option displays if the current year is not equal to, the date of \r\n    public formatDateY(value: any): string {\r\n        return this.formatDateTimeY(value, 'L');\r\n    }\r\n\r\n    // year option displays if the current year is not equal to, the date of\r\n    public formatLongDateY(value: any): string {\r\n        return this.formatDateTimeY(value, 'LL');\r\n    }\r\n\r\n    // date displays if the current date  is not equal now \r\n    // September 4 1986 8:30:25 PM or 8:30:25 PM\r\n    public formatTodayDateLongTimeLong(value: any): string {\r\n        return this.toTodayDate(value, 'LL', 'LTS')\r\n    }\r\n\r\n    // date displays if the current date  is not equal now \r\n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\r\n    public formatTodayDateShortTimeLong(value: any): string {\r\n        return this.toTodayDate(value, 'LL', 'LTS')\r\n    }\r\n\r\n    // date displays if the current date  is not equal now \r\n    // September 4 1986 8:30 PM or 8:30 PM\r\n    public formatTodayDateLongTimeShort(value: any): string {\r\n        return this.toTodayDate(value, 'LL', 'LT')\r\n    }\r\n\r\n    // date displays if the current date  is not equal now \r\n    // Sep 4 1986 8:30 PM or 8:30 PM\r\n    public formatTodayDateShortTimeShort(value: any): string {\r\n        return this.toTodayDate(value, 'll', 'LT')\r\n    }\r\n\r\n    // todo\r\n    public formatMillisecondsToSeconds(value: any): string {\r\n        return '';\r\n    }\r\n\r\n    // todo\r\n    public formatElapsedInterval(value: any, start: any): string {\r\n        var date: any,\r\n            nowDate: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n        if (this.isUndefinedOrNull(start)) {\r\n            nowDate = moment();\r\n        } else {\r\n            nowDate = moment(start);\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid() || !nowDate.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        return moment(date).fromNow(nowDate);\r\n    }\r\n\r\n    public getDateJSON(date: any): string {\r\n        return JSON.stringify(moment(date));\r\n    }\r\n\r\n    // navigation functions \r\n    // ------------------\r\n\r\n    public getNextStart(value: any, category: string): any {\r\n        var date: any,\r\n            range: string,\r\n            result: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        range = this.getRange(category);\r\n        result = moment(date).startOf(range).add(this.getOperationRange(range));\r\n\r\n        return result.toDate();\r\n    }\r\n\r\n    public getPrevStart(value: any, category: string): any {\r\n        var date: any,\r\n            range: string,\r\n            result: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        range = this.getRange(category);\r\n        result = moment(date).startOf(range).add(-1, this.getOperationRange(range));\r\n\r\n        return result.toDate();\r\n    }\r\n\r\n    public getNowStart(category: string): any {\r\n        var date: any,\r\n            range: string,\r\n            result: any;\r\n\r\n        date = moment();\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        range = this.getRange(category)\r\n        result = moment(date).startOf(range);\r\n\r\n        return result.toDate();\r\n    }\r\n\r\n    public addHours(value: any, hours: number): any {\r\n        var date: any;\r\n\r\n        if (this.isUndefinedOrNull(value) || !angular.isNumber(hours)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        return date.add(hours, 'hours').toDate();\r\n    }\r\n\r\n    public toStartDay(value: any): any {\r\n        return this.toStartRange(value, 'day');\r\n    }\r\n\r\n    public toEndDay(value: any, offset: number): any {\r\n        return this.toEndRange(value, 'day', offset);\r\n    }\r\n\r\n    public toStartWeek(value: any): any {\r\n        return this.toStartRange(value, 'week');\r\n    }\r\n\r\n    public toEndWeek(value: any, offset: number): any {\r\n        return this.toEndRange(value, 'week', offset);\r\n    }\r\n\r\n    public toStartMonth(value: any): any {\r\n        return this.toStartRange(value, 'month');\r\n    }\r\n\r\n    public toEndMonth(value: any, offset: number): any {\r\n        return this.toEndRange(value, 'month', offset);\r\n    }\r\n\r\n    public toStartYear(value: any): any {\r\n        return this.toStartRange(value, 'year');\r\n    }\r\n\r\n    public toEndYear(value: any, offset: number): any {\r\n        return this.toEndRange(value, 'year', offset);\r\n    }\r\n\r\n}\r\n\r\nclass DateTimeService {\r\n    private _datetime: DateTime;\r\n    private _config: DateTimeConfig;\r\n\r\n    public constructor(\r\n        datetime: DateTime,\r\n    ) {\r\n        this._config = { timeZone: null};\r\n        this._datetime = datetime;\r\n    }\r\n\r\n    // todo Optional\r\n    public useTimeZone(offset: number): void {\r\n        return this._datetime.useTimeZone(offset);\r\n    }\r\n\r\n    // todo Optional\r\n    public formatTime(value: any, format: string): string {\r\n        return this._datetime.formatTime(value, format);\r\n    }\r\n\r\n    // todo Optional\r\n    public formatDateOptional(value: any, format: string): string {\r\n        return this._datetime.formatDateOptional(value, format);\r\n    }\r\n\r\n    public formatShortDate(value: any): string {\r\n        return this._datetime.formatShortDate(value);\r\n    }\r\n\r\n    public formatMiddleDate(value: any): string {\r\n        return this._datetime.formatMiddleDate(value);\r\n    }\r\n\r\n    public formatLongDate(value: any): string {\r\n        return this._datetime.formatLongDate(value);\r\n    }\r\n\r\n    public formatMonth(value: any): string {\r\n        return this._datetime.formatMonth(value);\r\n    }\r\n\r\n    public formatLongMonth(value: any): string {\r\n        return this._datetime.formatLongMonth(value);\r\n    }\r\n\r\n    public formatYear(value: any): string {\r\n        return this._datetime.formatYear(value);\r\n    }\r\n\r\n    public formatWeek(value: any): string {\r\n        return this._datetime.formatWeek(value);\r\n    }\r\n\r\n    public formatShortWeek(value: any): string {\r\n        return this._datetime.formatShortWeek(value);\r\n    }\r\n\r\n    public formatShortDateTime(value: any): string {\r\n        return this._datetime.formatShortDateTime(value);\r\n    }\r\n\r\n    public formatMiddleDateTime(value: any): string {\r\n        return this._datetime.formatMiddleDateTime(value);\r\n    }\r\n\r\n    public formatLongDateTime(value: any): string {\r\n        return this._datetime.formatLongDateTime(value);\r\n    }\r\n\r\n    public formatFullDateTime(value: any): string {\r\n        return this._datetime.formatFullDateTime(value);\r\n    }\r\n\r\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\r\n        return this._datetime.formatShortDateLongTime(value, firstTime);\r\n    }\r\n\r\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\r\n        return this._datetime.formatMiddleDateLongTime(value, firstTime);\r\n    }\r\n\r\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\r\n        return this._datetime.formatLongDateLongTime(value, firstTime);\r\n    }\r\n\r\n    public formatShortTime(value: any): string {\r\n        return this._datetime.formatShortTime(value);\r\n    }\r\n\r\n    public formatLongTime(value: any): string {\r\n        return this._datetime.formatLongTime(value);\r\n    }\r\n\r\n    public formatShortDayOfWeek(value: any): string {\r\n        return this._datetime.formatShortDayOfWeek(value);\r\n    }\r\n\r\n    public formatLongDayOfWeek(value: any): string {\r\n        return this._datetime.formatLongDayOfWeek(value);\r\n    }\r\n\r\n    public formatLongMonthDay(value: any): string {\r\n        return this._datetime.formatLongMonthDay(value);\r\n    }\r\n\r\n    public formatShortMonthDay(value: any): string {\r\n        return this._datetime.formatShortMonthDay(value);\r\n    }\r\n\r\n    public formatDateRange(value1: any, value2: any): string {\r\n        return this._datetime.formatDateRange(value1, value2);\r\n    }\r\n\r\n    public formatDateTimeRange(value1: any, value2: any): string {\r\n        return this._datetime.formatDateTimeRange(value1, value2);\r\n    }\r\n\r\n    // iso function\r\n    // --------------\r\n\r\n    public formatISOWeek(value: any): string {\r\n        return this._datetime.formatISOWeek(value);\r\n    }\r\n\r\n    public formatShortISOWeek(value: any): string {\r\n        return this._datetime.formatShortISOWeek(value);\r\n    }\r\n\r\n    public formatISOWeekOrdinal(value: any): string {\r\n        return this._datetime.formatISOWeekOrdinal(value);\r\n    }\r\n    // special formats \r\n    // --------------\r\n\r\n    // year option displays if the current year is not equal to, the date of \r\n    public formatDateY(value: any): string {\r\n        return this._datetime.formatDateY(value);\r\n    }\r\n\r\n    // year option displays if the current year is not equal to, the date of\r\n    public formatLongDateY(value: any): string {\r\n        return this._datetime.formatLongDateY(value);\r\n    }\r\n\r\n    // date displays if the current date  is not equal now \r\n    // September 4 1986 8:30:25 PM or 8:30:25 PM\r\n    public formatTodayDateLongTimeLong(value: any): string {\r\n        return this._datetime.formatTodayDateLongTimeLong(value);\r\n    }    \r\n\r\n    // date displays if the current date  is not equal now \r\n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\r\n    public formatTodayDateShortTimeLong(value: any): string {\r\n        return this._datetime.formatTodayDateShortTimeLong(value);\r\n    }     \r\n\r\n    // date displays if the current date  is not equal now \r\n    // September 4 1986 8:30 PM or 8:30 PM\r\n    public formatTodayDateLongTimeShort(value: any): string {\r\n        return this._datetime.formatTodayDateLongTimeShort(value);\r\n    }     \r\n\r\n    // date displays if the current date  is not equal now \r\n    // Sep 4 1986 8:30 PM or 8:30 PM\r\n    public formatTodayDateShortTimeShort(value: any): string {\r\n        return this._datetime.formatTodayDateShortTimeShort(value);\r\n    }     \r\n\r\n    // todo\r\n    public formatMillisecondsToSeconds(value: any) {\r\n        return this._datetime.formatMillisecondsToSeconds(value);\r\n    }\r\n\r\n    // todo\r\n    public formatElapsedInterval(value: any, start: any): string {\r\n        return this._datetime.formatElapsedInterval(value, start);\r\n    }\r\n\r\n    public getDateJSON(date: any): string {\r\n        return this._datetime.getDateJSON(date);\r\n    }\r\n\r\n    // navigation functions \r\n    // ------------------\r\n\r\n    public getNextStart(value: any, category: string): any {\r\n        return this._datetime.getNextStart(value, category);\r\n    }\r\n\r\n    public getPrevStart(value: any, category: string): any {\r\n        return this._datetime.getPrevStart(value, category);\r\n    }\r\n\r\n    public getNowStart(category: string): any {\r\n        return this._datetime.getNowStart(category);\r\n    }\r\n\r\n    public addHours(value: any, hours: number): any {\r\n        return this._datetime.addHours(value, hours);\r\n    }\r\n\r\n    public toStartDay(value: any): any {\r\n        return this._datetime.toStartDay(value);\r\n    }\r\n\r\n    public toEndDay(value: any, offset: number): any {\r\n        return this._datetime.toEndDay(value, offset);\r\n    }\r\n\r\n    public toStartWeek(value: any): any {\r\n        return this._datetime.toStartWeek(value);\r\n    }\r\n\r\n    public toEndWeek(value: any, offset: number): any {\r\n        return this._datetime.toEndWeek(value, offset);\r\n    }\r\n\r\n    public toStartMonth(value: any): any {\r\n        return this._datetime.toStartMonth(value);\r\n    }\r\n\r\n    public toEndMonth(value: any, offset: number): any {\r\n        return this._datetime.toEndMonth(value, offset);\r\n    }\r\n\r\n    public toStartYear(value: any): any {\r\n        return this._datetime.toStartYear(value);\r\n    }\r\n\r\n    public toEndYear(value: any, offset: number): any {\r\n        return this._datetime.toEndYear(value, offset);\r\n    }\r\n\r\n}\r\n\r\nclass DateTimeProvider extends DateTime implements IDateTimeProvider {\r\n    private _translation: DateTime;\r\n    private _service: DateTimeService;\r\n\r\n    public constructor() {\r\n        super({ timeZone: null });\r\n    }\r\n\r\n    public $get(): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new DateTimeService(this);\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipDateTime.Service', [])\r\n    .provider('pipDateTime', DateTimeProvider);\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDate', ['pipDates.Templates']);\r\n\r\n    thisModule.directive('pipDate',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    ngChange: '&'\r\n                },\r\n                templateUrl: 'date_directive/date.html',\r\n                controller: 'pipDateController'\r\n            };\r\n        }\r\n    );\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipDateController',\r\n        function ($scope, $element, $injector) { //pipTranslate\r\n            var value,\r\n                localeDate: any = moment.localeData(),\r\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\r\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\r\n                momentShortDays = localeDate._weekdaysMin,\r\n                momentFirstDayOfWeek = localeDate._week.dow;\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    DAY: 'Day',\r\n                    MONTH: 'Month',\r\n                    YEAR: 'Year'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    DAY: '',\r\n                    MONTH: '',\r\n                    YEAR: ''                    \r\n                });\r\n                $scope.dayLabel = pipTranslate.translate('DAY');\r\n                $scope.monthLabel = pipTranslate.translate('MONTH');\r\n                $scope.yearLabel = pipTranslate.translate('YEAR');\r\n            } else {\r\n                $scope.dayLabel = 'Day';\r\n                $scope.monthLabel = 'Month';                \r\n                $scope.yearLabel = 'Year';\r\n\r\n            }\r\n\r\n            function dayList(month, year) {\r\n                var count = 31, days = [], i;\r\n\r\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                    count = 30;\r\n                } else if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n\r\n                for (i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n                }\r\n\r\n                return days;\r\n            }\r\n\r\n            function monthList() {\r\n                var months = [], i;\r\n\r\n                for (i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: momentMonths[i-1]\r\n                    });\r\n                }\r\n\r\n                return months;\r\n            }\r\n\r\n            function yearList() {\r\n                var i,\r\n                    currentYear = new Date().getFullYear(),\r\n                    startYear = $scope.timeMode === 'future' ? currentYear : currentYear - 100,\r\n                    endYear = $scope.timeMode === 'past' ? currentYear : currentYear + 100,\r\n                    years = [];\r\n\r\n                if ($scope.timeMode === 'past') {\r\n                    for (i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n\r\n                return years;\r\n            }\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                if ($scope.days.length !== days.length) {\r\n                    if ($scope.day > days.length) {\r\n                        $scope.day = days.length;\r\n                    }\r\n\r\n                    $scope.days = days;\r\n                }\r\n            }\r\n\r\n            function getValue(v) {\r\n                var value = v ? _.isDate(v) ? v : new Date(v) : null,\r\n                    day = value ? value.getDate() : null,\r\n                    month = value ? value.getMonth() + 1 : null,\r\n                    year = value ? value.getFullYear() : null;\r\n\r\n                // Update day list if month and year were changed\r\n                if ($scope.month !== month && $scope.year !== year) {\r\n                    $scope.days = dayList($scope.month, $scope.year);\r\n                }\r\n\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n            }\r\n\r\n            function setValue() {\r\n                var value;\r\n\r\n                if ($scope.day && $scope.month && $scope.year) {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    $scope.model = value;\r\n                    $scope.ngChange();\r\n                }\r\n            }\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            // Set initial values\r\n            value = $scope.model ? _.isDate($scope.model) ? $scope.model : new Date($scope.model) : null;\r\n            $scope.day = value ? value.getDate() : null;\r\n            $scope.month = value ? value.getMonth() + 1 : null;\r\n            $scope.year = value ? value.getFullYear() : null;\r\n\r\n\r\n\r\n            $scope.days = dayList($scope.month, $scope.year);\r\n            $scope.months = monthList();\r\n            $scope.years = yearList();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue) {\r\n                getValue(newValue);\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipDateRange', ['pipDates.Templates']);\r\n\r\n    thisModule.directive('pipDateRange',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    pipChanged: '&',\r\n                    pipDateRangeType: '@',\r\n                    pipDateFormat: '@',\r\n                    pipNoLine: '@'\r\n                },\r\n                templateUrl: 'date_range_directive/date_range.html',\r\n                controller: 'pipDateRangeController'\r\n            };\r\n        });\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipDateRangeController',\r\n        function ($scope, $element, $mdMedia, $rootScope, $injector) { //pipTranslate, \r\n            var currentDate,\r\n                currentYear,\r\n                currentMonth,\r\n                currentDay,\r\n                prevState: any = {}, \r\n                currentState: any = {},\r\n                localeDate: any = moment.localeData(),\r\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\r\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\r\n                momentShortDays = localeDate._weekdaysMin,\r\n                momentFirstDayOfWeek = localeDate._week.dow;\r\n\r\n            // var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            // if (pipTranslate) {\r\n            //     pipTranslate.setTranslations('en', {\r\n            //         EVENT_NEW_START_TIME: 'Start time',\r\n            //         EVENT_NEW_END_TIME: 'End time'\r\n            //     });\r\n            //     pipTranslate.setTranslations('ru', {\r\n            //         EVENT_NEW_START_TIME: '',\r\n            //         EVENT_NEW_END_TIME: ''                \r\n            //     });\r\n            //     $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\r\n            //             : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n            //     $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\r\n            //             : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            // } else {\r\n            //     $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\r\n            //     $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \r\n            // }\r\n\r\n            currentDate = new Date();\r\n            currentYear = currentDate.getUTCFullYear();\r\n            currentMonth = currentDate.getUTCMonth() + 1;\r\n            currentDay = currentDate.getUTCDate();\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    var date, dayOfWeek;\r\n\r\n                    date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                    dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                var date, dayOfWeek;\r\n\r\n                date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onWeekChange = function () {\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            // visibility\r\n            $scope.isDay = function () {\r\n                return $scope.pipDateRangeType === 'daily';\r\n            };\r\n\r\n            $scope.isWeek = function () {\r\n                return $scope.pipDateRangeType === 'weekly';\r\n            };\r\n\r\n            $scope.isMonth = function () {\r\n                return $scope.pipDateRangeType === 'daily' ||\r\n                    $scope.pipDateRangeType === 'weekly' ||\r\n                    $scope.pipDateRangeType === 'monthly';\r\n            };\r\n\r\n            $scope.onChange = function () {\r\n                if ($scope.pipChanged) {\r\n                    $scope.pipChanged();\r\n                }\r\n            };\r\n\r\n            function setCurrent() {\r\n                currentState.day = $scope.day;\r\n                currentState.month = $scope.month;\r\n                currentState.year = $scope.year;\r\n                currentState.week = $scope.week;\r\n                currentState.dateRangeType = $scope.pipDateRangeType;\r\n                currentState.model = $scope.model;\r\n            }\r\n\r\n            function fillLists() {\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n                $scope.months = monthList();\r\n                $scope.shortMonths = monthList();\r\n                $scope.years = yearList();\r\n\r\n            }\r\n\r\n            function correctWeek() {\r\n                if (!prevState.model || prevState.model && prevState.model.getTime() >= $scope.model.getTime()) {\r\n                    // if shift week -> increase month\r\n                    if ($scope.weeks && $scope.weeks[$scope.week] && $scope.weeks[$scope.week].id <= 0) {\r\n                        if ($scope.month < 12) {\r\n                            $scope.month += 1;\r\n                        } else {\r\n                            $scope.month = 1;\r\n                            $scope.year += 1;\r\n                        }\r\n                        fillLists();\r\n                    }\r\n                }\r\n            }\r\n\r\n            function init() {\r\n                var value;\r\n\r\n                value = $scope.model ? new Date($scope.model) : null;\r\n                $scope.day = value ? value.getUTCDate() : null;\r\n                $scope.month = value ? value.getUTCMonth() + 1 : null;\r\n                $scope.year = value ? value.getUTCFullYear() : null;\r\n                $scope.week = value ? getWeekByDate($scope.day, $scope.month - 1, $scope.year) : null;\r\n\r\n                fillLists();\r\n\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            }\r\n\r\n            // Set initial values\r\n            $scope.$mdMedia = $mdMedia;\r\n\r\n            init();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue, oldValue) {\r\n                if (newValue !== oldValue) {\r\n                    getValue(newValue);\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            $scope.$watch('pipDateRangeType', function (newValue, oldValue) {\r\n                if (newValue !== oldValue && oldValue) {\r\n                    init();\r\n                }\r\n            });\r\n\r\n            $scope.onYearClick = function () {\r\n                if (!$scope.year) {\r\n                    $scope.year = currentYear;\r\n                }\r\n            };\r\n\r\n            $scope.onMonthClick = function () {\r\n                if (!$scope.month) {\r\n                    $scope.month = currentMonth;\r\n                }\r\n            };\r\n\r\n            $scope.onDayClick = function () {\r\n                if (!$scope.year) {\r\n                    $scope.day = currentDay;\r\n                }\r\n            };\r\n            // ---------------------------------------------------------------------------------------\r\n\r\n            function getCountDay(month, year) {\r\n                var count = 31;\r\n\r\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                    count = 30;\r\n                } else if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n\r\n                return count;\r\n            }\r\n\r\n            function dayList(month, year) {\r\n                var count, days, i, ln;\r\n\r\n              //  ln = $rootScope.$language || 'en';\r\n                count = getCountDay(month, year);\r\n                $scope.nameDays = [];\r\n                days = [];\r\n                for (i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n                    $scope.nameDays.push(momentShortDays[moment([year, month - 1, i]).weekday()]);\r\n                }\r\n\r\n                return days;\r\n            }\r\n\r\n            function getWeekByDate(day, month, year) {\r\n                var date, dayOfWeek, startWeek;\r\n\r\n                date = new Date(Date.UTC(year, month, day));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n\r\n                if (dayOfWeek === 1) {\r\n                    startWeek = day;\r\n                } else {\r\n                    startWeek = day + 1 - dayOfWeek;\r\n                }\r\n\r\n                return startWeek;\r\n            }\r\n\r\n            function getWeek(day, countDay, countPrevMonthDay) {\r\n                var endDay, startDay;\r\n\r\n                endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\r\n                startDay = day > 0 ? day : countPrevMonthDay + day;\r\n\r\n                return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\r\n            }\r\n\r\n            function weekList(month, year) { //    \r\n                var weeks, countDay, countPrevMonthDay, startWeek;\r\n\r\n                weeks = [];  //        \r\n                countDay = getCountDay(month, year);\r\n                startWeek = getWeekByDate(1, month - 1, year);\r\n\r\n                countPrevMonthDay = month - 1 ? getCountDay(month - 1, year) : getCountDay(12, year - 1);\r\n                while (startWeek < countDay + 1) {\r\n                    weeks.push({\r\n                        id: startWeek,\r\n                        name: getWeek(startWeek, countDay, countPrevMonthDay)\r\n                    });\r\n                    startWeek = startWeek + 7;\r\n                }\r\n\r\n                return weeks;\r\n            }\r\n\r\n            function monthList() {\r\n                var months = [], i;\r\n\r\n                for (i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: momentMonths[i-1]\r\n                    });\r\n                }\r\n\r\n                return months;\r\n            }\r\n\r\n            function yearList() {\r\n                var startYear, i,\r\n                    endYear,\r\n                    years = [];\r\n\r\n                switch ($scope.timeMode) {\r\n                    case 'future':\r\n                        startYear = currentYear;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    case 'past':\r\n                        startYear = currentYear - 100;\r\n                        endYear = currentYear;\r\n                        break;\r\n                    case 'now':\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    default:\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 50;\r\n                        break;\r\n                }\r\n                if ($scope.timeMode === 'future') {\r\n                    for (i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n\r\n                return years;\r\n            }\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                switch ($scope.pipDateRangeType) {\r\n                    case 'monthly':\r\n                        $scope.day = 1;\r\n                        break;\r\n                    case 'yearly':\r\n                        $scope.month = 1;\r\n                        $scope.day = 1;\r\n                        break;\r\n                    default:\r\n                        if ($scope.days.length !== days.length) {\r\n                            if ($scope.day > days.length) {\r\n                                $scope.day = days.length;\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n                $scope.days = days;\r\n            }\r\n\r\n            function adjustWeek() {\r\n                var weeks;\r\n\r\n                weeks = weekList($scope.month, $scope.year);\r\n                $scope.week = getWeekByDate($scope.week, $scope.month - 1, $scope.year);\r\n                $scope.weeks = weeks;\r\n            }\r\n\r\n            function getValue(v) {\r\n                var value, day, month, year, week;\r\n\r\n                value = v ? new Date(v) : null;\r\n                // Define values\r\n                day = value ? value.getUTCDate() : null;\r\n                month = value ? value.getUTCMonth() + 1 : null;\r\n                year = value ? value.getUTCFullYear() : null;\r\n                week = value ? getWeekByDate(day, month - 1, year) : null;\r\n                // Exit if nothing to update\r\n                if ($scope.day === day && $scope.month === month && $scope.year === year && $scope.week === week) {\r\n                    return;\r\n                }\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n                $scope.week = week;\r\n\r\n                // Define data sources\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n            }\r\n\r\n            function setValue() {\r\n                var value;\r\n\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.week, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                } else {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                }\r\n\r\n                prevState = _.cloneDeep(currentState);\r\n                setCurrent();\r\n                $scope.onChange();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","'use strict';\r\n\r\nangular.module('pipDates', [\r\n    'pipDate',\r\n    'pipTimeRange',\r\n    'pipDateTime',\r\n    'pipTimeRangeEdit',\r\n    'pipDateRange',\r\n    'pipDates.Translate'\r\n]);\r\n","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDates.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTimeRange', []);\r\n\r\n    thisModule.directive('pipTimeRange',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipEndDate: '='\r\n                },\r\n                templateUrl: 'time_range_directive/time_range.html',\r\n                link: function ($scope: any, $element, $attrs) {\r\n\r\n                    function getDateJSON(value) {\r\n                        return value ? new Date(value) : null;\r\n                    }\r\n\r\n                    function defineStartDate() {\r\n                        if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\r\n                            $scope.data.start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate\r\n                                : getDateJSON($scope.pipStartDate);\r\n                        }\r\n                    }\r\n\r\n                    function defineEndDate() {\r\n                        if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\r\n                            $scope.data.end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate\r\n                                : getDateJSON($scope.pipEndDate);\r\n                        }\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    $scope.data = {};\r\n                    $scope.data.start = null;\r\n                    $scope.data.end = null;\r\n                    defineStartDate();\r\n                    defineEndDate();\r\n\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch('pipStartDate',\r\n                            function () {\r\n                                $scope.data.start = null;\r\n                                defineStartDate();\r\n                            }\r\n                        );\r\n                        $scope.$watch('pipEndDate',\r\n                            function () {\r\n                                $scope.data.end = null;\r\n                                defineEndDate();\r\n                            }\r\n                        );\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-time-range');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTimeRangeEdit', []);\r\n\r\n    thisModule.directive('pipTimeRangeEdit',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipChanged: '&',\r\n                    pipEndDate: '=',\r\n                    pipStartLabel: '@',\r\n                    pipEndLabel: '@',\r\n                    disabled: '&ngDisabled',\r\n                    pipSize: '='\r\n                },\r\n                templateUrl: 'time_range_edit_directive/time_range_edit.html',\r\n                controller: 'pipTimeRangeEditController'\r\n            };\r\n        }\r\n    );\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipTimeRangeEditController',\r\n        function ($scope, $element, $attrs, $injector, pipDateTime) { //pipTranslate\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    EVENT_NEW_START_TIME: 'Start time',\r\n                    EVENT_NEW_END_TIME: 'End time'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    EVENT_NEW_START_TIME: '',\r\n                    EVENT_NEW_END_TIME: ''                \r\n                });\r\n                $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\r\n                        : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n                $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\r\n                        : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            } else {\r\n                $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\r\n                $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \r\n            }\r\n\r\n            function getDateJSON(value) {\r\n                return value ? new Date(value) : null;\r\n            }\r\n\r\n            function setDuration() {\r\n                var start, end;\r\n\r\n                if (!$scope.data.startDate || !$scope.data.endDate) {\r\n                    return null;\r\n                }\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n\r\n                return end - start;\r\n            }\r\n\r\n            function validateStartDate() {\r\n                var date, start, end;\r\n\r\n                //     ,   \r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                // c     -  \r\n                if (!$scope.data.startTime) {\r\n                    if (!$scope.data.endTime) {\r\n                        date = new Date();\r\n                        date = date.getTime() - pipDateTime.toStartDay(date);\r\n                        $scope.data.startTime = Math.floor(date / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.startTime = $scope.data.endTime === 0 ? 0 : $scope.data.endTime - 30;\r\n                    }\r\n                }\r\n\r\n                //     ,   \r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n\r\n                //   ,   .       \r\n                if ($scope.data.duration) {\r\n                    end = new Date(start.getTime() + $scope.data.duration);\r\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\r\n                    end = end.getTime() - $scope.data.endDate.getTime();\r\n                    $scope.data.endTime = Math.floor(end / (30 * 60 * 1000)) * 30;\r\n                } else {\r\n                    //     \r\n                    end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n                    if (start >= end) {\r\n                        //    ,    \r\n                        $scope.data.endDate = pipDateTime.toStartDay(new Date(start.getTime() + 30 * 60000));\r\n                        $scope.data.endTime = ($scope.data.startTime + 30) % 1440;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function validateEndDate() {\r\n                var date, start, end;\r\n\r\n                //     ,   \r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                // c     -  \r\n                if (!$scope.data.endTime) {\r\n                    if (!$scope.data.startTime) {\r\n                        date = new Date();\r\n                        date = date.getTime() - pipDateTime.toStartDay(date);\r\n                        $scope.data.endTime = Math.floor(date / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.endTime = $scope.data.startTime === 1410 ? 1410 : $scope.data.startTime + 30;\r\n                    }\r\n                }\r\n\r\n                //  y   ,   \r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n\r\n                if (start >= end) {\r\n                    //    ,    \r\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date(end.getTime() - 30 * 60000));\r\n                    $scope.data.startTime = $scope.data.endTime % 1440 === 0 ? 1410 : $scope.data.endTime - 30;\r\n                }\r\n\r\n                $scope.data.duration = setDuration();\r\n            }\r\n\r\n            function setDate() {\r\n                var time;\r\n\r\n                $scope.data.bind = false;\r\n\r\n                if ($scope.data.startDate) {\r\n                    time = $scope.data.startTime ? $scope.data.startTime * 60 * 1000 : 0;\r\n                    $scope.pipStartDate = new Date($scope.data.startDate.getTime() + time);\r\n                }\r\n\r\n                if ($scope.data.endDate) {\r\n                    time = $scope.data.endTime ? $scope.data.endTime * 60 * 1000 : 0;\r\n                    $scope.pipEndDate = new Date($scope.data.endDate.getTime() + time);\r\n                }\r\n\r\n                $scope.data.bind = true;\r\n            }\r\n\r\n            function defineDate() {\r\n                var start, end;\r\n\r\n                if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\r\n                    start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate : null;\r\n\r\n                    if (!start) {\r\n                        start = getDateJSON($scope.pipStartDate);\r\n                    }\r\n\r\n                    $scope.data.startDate = pipDateTime.toStartDay(start);\r\n                    $scope.data.startTime = (<any>new Date(start) - $scope.data.startDate) / (60 * 1000);\r\n                }\r\n\r\n                if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\r\n                    end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate : null;\r\n\r\n                    if (!start) {\r\n                        end = getDateJSON($scope.pipEndDate);\r\n                    }\r\n\r\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\r\n                    $scope.data.endTime = (<any>new Date(end) - $scope.data.endDate) / (60 * 1000);\r\n                }\r\n\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n            }\r\n\r\n            function getTimeInterval() {\r\n                var result, i, j, minutes;\r\n\r\n                result = [];\r\n                for (i = 0; i < 24; i++) {\r\n                    for (j = 0; j < 2; j++) {\r\n                        minutes = j * 30;\r\n                        result.push({\r\n                            id: i * 60 + minutes,\r\n                            time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\r\n                        });\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            }\r\n\r\n            function initDate() {\r\n                $scope.data.startDate = null;\r\n                $scope.data.startTime = null;\r\n                $scope.data.endDate = null;\r\n                $scope.data.endTime = null;\r\n                $scope.data.duration = null;\r\n            }\r\n\r\n            // initialize data\r\n            $scope.intervalTimeCollection = getTimeInterval();\r\n            $scope.data = {};\r\n            initDate();\r\n            defineDate();\r\n\r\n            // process function\r\n            $scope.onChangeStartDate = function () {\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndDate = function () {\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeStartTime = function () {\r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date());\r\n                }\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndTime = function () {\r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endDate = pipDateTime.toStartDay(new Date());\r\n                }\r\n\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.isDisabled = function () {\r\n                if ($scope.disabled) {\r\n                    return $scope.disabled();\r\n                }\r\n\r\n                return false;\r\n            };\r\n\r\n            $scope.$watchGroup([$scope.pipStartDate, $scope.pipEndDate], function () {\r\n                if ($scope.data.bind) {\r\n                    initDate();\r\n                    defineDate();\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-range-edit');\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range_directive/date_range.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onDayClick()\" ng-model=\"day\" ng-change=\"onDayChanged()\" placeholder=\"{{dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" ng-model=\"week\" ng-change=\"onWeekChange()\" placeholder=\"{{weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isDay() || isWeek()\"></div><md-input-container ng-show=\"isMonth() && !monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isMonth() && monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onYearClick()\" ng-model=\"year\" ng-change=\"onYearChanged()\" placeholder=\"{{yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_directive/date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"disableControls\" ng-model=\"day\" placeholder=\"{{dayLabel}}\" ng-change=\"onDayChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"disableControls\" ng-model=\"month\" placeholder=\"{{monthLabel}}\" ng-change=\"onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"disableControls\" ng-model=\"year\" placeholder=\"{{yearLabel}}\" ng-change=\"onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_directive/time_range.html',\n    '<p><span ng-if=\"data.start != null\">{{data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"data.start && data.end\">-</span> <span ng-if=\"data.end != null\">{{data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit_directive/time_range_edit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"data.startDate\" xmd-placeholder=\"{{startLabel}}\" ng-change=\"onChangeStartDate()\" ng-disabled=\"isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"data.startTime\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeStartTime()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"data.endDate\" xmd-placeholder=\"{{endLabel}}\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"data.endTime\" ng-change=\"onChangeEndTime()\" ng-disabled=\"isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","'use strict';\r\n\r\nexport class ConfirmationParams {\r\n    public ok: string = 'OK';\r\n    public title: string; \r\n    public cancel: string = 'Cancel';\r\n}\r\n\r\nexport class ConfirmationDialogController {\r\n\r\n    public $mdDialog;\r\n    public theme;\r\n    public config: ConfirmationParams;\r\n\r\n    constructor(\r\n        $mdDialog,\r\n        $injector,\r\n        $rootScope, \r\n        params: ConfirmationParams) {\r\n        \"ngInject\";\r\n        this.config = new ConfirmationParams();\r\n\r\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'CONFIRM_TITLE': 'Confirm' });\r\n            pipTranslate.translations('ru', { 'CONFIRM_TITLE': ''});\r\n\r\n            this.config.title = params.title || 'CONFIRM_TITLE';\r\n            this.config.ok = params.ok || 'OK';\r\n            this.config.cancel = params.cancel || 'CANCEL';\r\n        } else {\r\n            this.config.title = params.title || 'Confirm';\r\n            this.config.ok = params.ok || 'OK';\r\n            this.config.cancel = params.cancel || 'Cancel';\r\n        }\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope.$theme;\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates'])\r\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","\r\nclass ConfirmationService {\r\n    public _mdDialog;\r\n    public constructor($mdDialog) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback, cancelCallback) {\r\n        this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'confirmation/ConfirmationDialog.html',\r\n            controller: 'pipConfirmationDialogController',\r\n            controllerAs: 'vm',\r\n            locals: { params: params },\r\n            clickOutsideToClose: true\r\n        })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .service('pipConfirmationDialog', ConfirmationService);","'use strict';\r\n\r\nimport './ConfirmationController';\r\nimport './ConfirmationService';\r\n","/**\r\n * @file Registration of dialogs\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n'use strict';\r\n\r\nimport './error_details';\r\nimport './information';\r\nimport './options';\r\nimport './confirmation';\r\n\r\nangular\r\n    .module('pipDialogs', [\r\n        'pipInformationDialog',\r\n        'pipConfirmationDialog',\r\n        'pipOptionsDialog',\r\n        'pipOptionsBigDialog',\r\n        'pipErrorDetailsDialog',\r\n        //'pipErrorDetails2Dialog'\r\n    ]);\r\n\r\nexport * from './error_details';\r\n//export * from './error_details2';\r\nexport * from './information';\r\nexport * from './options';\r\nexport * from './confirmation';\r\n","'use strict';\r\n\r\nimport IWindowService = angular.IWindowService;\r\n\r\nexport class ErrorStrings {\r\n    public ok: string = 'OK';\r\n    public cancel: string = 'Cancel';\r\n    public errorDetails: string = 'Error details';\r\n    public dismissButton: string = 'Dismiss';\r\n    public errorMessage: string = 'Message';\r\n    public errorCode: string = 'Code';\r\n    public errorMethod: string = 'Method';\r\n    public errorPath: string = 'Path';\r\n    public error: string = 'Error';\r\n    public errorText: string = 'Error';   \r\n}\r\n\r\nexport class ErrorParams {\r\n    public ok: string = 'OK';\r\n    public cancel: string = 'CANCEL';\r\n    public error: string = 'ERROR';\r\n}\r\n\r\nexport class ErrorDetailsDialogController {\r\n\r\n    public $mdDialog;\r\n    public theme;\r\n    public config: ErrorStrings;\r\n\r\n    constructor(\r\n        $mdDialog,\r\n        $injector,\r\n        $rootScope, \r\n        params: ErrorParams) {\r\n        \"ngInject\";\r\n        this.config = new ErrorStrings();\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'ERROR_DETAILS': 'Error details',\r\n                    'CODE': 'Error code',\r\n                    'PATH': 'Path',\r\n                    'ERROR': 'Error',\r\n                    'METHOD': 'Method',\r\n                    'MESSAGE': 'Message',\r\n                    'DISMISS': 'Dismiss'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'ERROR_DETAILS': ' ',\r\n                    'CODE': ' ',\r\n                    'PATH': '',\r\n                    'ERROR': '',\r\n                    'METHOD': '',\r\n                    'MESSAGE': ''\r\n                });\r\n                this.config.ok = params.ok;\r\n                this.config.cancel = params.cancel;\r\n                this.config.errorDetails = 'ERROR_DETAILS';\r\n                this.config.dismissButton = 'DISMISS';\r\n                this.config.errorMessage = 'MESSAGE';\r\n                this.config.errorCode = 'CODE';\r\n                this.config.errorMethod = 'METHOD';\r\n                this.config.errorPath = 'PATH';\r\n                this.config.errorText = 'ERROR';                \r\n            } else {\r\n                this.config.ok = params.ok;\r\n                this.config.cancel = params.cancel;\r\n            }\r\n            this.$mdDialog = $mdDialog;\r\n            this.theme = $rootScope.$theme;\r\n            this.config.error = params.error;\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","\r\nclass ErrorDetailsService {\r\n    public _mdDialog;\r\n    public constructor($mdDialog) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback, cancelCallback) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'error_details/ErrorDetails.html',\r\n            controller: 'pipErrorDetailsDialogController',\r\n            controllerAs: 'vm',\r\n            locals: {params: params},\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .service('pipErrorDetailsDialog', ErrorDetailsService);","'use strict';\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ErrorDetailsService';\r\nimport './ErrorDetailsController';\r\n","'use strict';\r\n\r\nimport IWindowService = angular.IWindowService;\r\n\r\nexport class InformationStrings {\r\n    public ok: string = 'OK';\r\n    public title: string; \r\n    public message: string;\r\n    public error: string;\r\n    public content;\r\n}\r\n\r\nexport class InformationParams {\r\n    public ok: string = 'OK';\r\n    public title: string; \r\n    public message: string;\r\n    public error: string;\r\n    public item;\r\n}\r\n\r\nexport class InformationDialogController {\r\n\r\n    public $mdDialog;\r\n    public theme;\r\n    public config: InformationStrings;\r\n\r\n    constructor(\r\n        $mdDialog,\r\n        $injector,\r\n        $rootScope, \r\n        params: InformationParams) {\r\n        \"ngInject\";\r\n        this.config = new InformationStrings();\r\n\r\n        var content = params.message, item;\r\n\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': '' });\r\n\r\n            this.config.title = params.title || 'INFORMATION_TITLE';\r\n            this.config.ok = params.ok || 'OK';\r\n            content = pipTranslate.translate(content);\r\n        } else {\r\n            this.config.title = params.title || 'Information';\r\n            this.config.ok = params.ok || 'OK';\r\n        }\r\n\r\n        var pipFormat = $injector.has('pipFormat') ? $injector.get('pipFormat') : null;\r\n\r\n        if (params.item && pipFormat) {\r\n            item = _.truncate(params.item, 25);\r\n            content = pipFormat.sprintf(content, item);\r\n            console.log('content2', content);\r\n        }\r\n        this.config.content = content;\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope.$theme;\r\n        this.config.error = params.error;\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .controller('pipInformationDialogController', InformationDialogController);","\r\nclass InformationService {\r\n    public _mdDialog;\r\n    public constructor($mdDialog) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params, successCallback, cancelCallback) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'information/InformationDialog.html',\r\n            controller: 'pipInformationDialogController',\r\n            controllerAs: 'vm',\r\n            locals: { params: params},\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(function () {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .service('pipInformationDialog', InformationService);","'use strict';\r\n\r\nangular\r\n    .module('pipInformationDialog', [\r\n        'ngMaterial',\r\n        'pipDialogs.Translate', \r\n        'pipDialogs.Templates']);\r\n\r\nimport './InformationService';\r\nimport './InformationController';\r\n","'use strict';\r\n\r\nimport IWindowService = angular.IWindowService;\r\n\r\nexport class OptionsBigData {\r\n    public name: string;\r\n    public title: string;\r\n    public subtitle: string;\r\n}\r\n\r\nexport class OptionsBigParams {\r\n    public title: string;  \r\n    public applyButtonTitle: string;\r\n    public options: OptionsBigData[];\r\n    public selectedOption: OptionsBigData;\r\n    public deleted;\r\n    public selectedOptionName: string;\r\n    public deletedTitle: string;\r\n    public hint: string;\r\n    public noTitle: boolean = false;\r\n    public noActions: boolean = false;\r\n    public optionIndex: number = 0;\r\n}\r\n\r\nexport class OptionsBigDialogController {\r\n\r\n    public $mdDialog;\r\n    public theme;\r\n    public config: OptionsBigParams;\r\n\r\n    constructor(\r\n        $mdDialog,\r\n        $injector, \r\n        $rootScope, \r\n        params: OptionsBigParams) {\r\n        \"ngInject\";\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.config = new OptionsBigParams();\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option'});\r\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' '});\r\n\r\n            this.config.title = params.title || 'OPTIONS_TITLE';\r\n            this.config.applyButtonTitle = params.applyButtonTitle || 'SELECT';\r\n        } else {\r\n            this.config.title = params.title || 'Choose Option';\r\n            this.config.applyButtonTitle = params.applyButtonTitle || 'Select';\r\n        }\r\n\r\n        this.theme = $rootScope.$theme;\r\n        this.config.options = params.options;\r\n        this.config.selectedOption = _.find(params.options, {active: true}) || new OptionsBigData();\r\n        this.config.selectedOptionName = this.config.selectedOption.name;\r\n        this.config.deleted = params.deleted;\r\n        this.config.deletedTitle = params.deletedTitle;\r\n        this.config.noActions = params.noActions || false;\r\n        this.config.noTitle = params.noTitle || false;\r\n        this.config.hint = params.hint || '';\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event, option) {\r\n        event.stopPropagation();\r\n        this.config.selectedOptionName = option.name;\r\n\r\n        if (this.config.noActions) {\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelected() {\r\n        this.config.selectedOptionName = this.config.options[this.config.optionIndex].name;\r\n\r\n        if (this.config.noActions) {\r\n               this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onKeyUp(event, index) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            if (index !== undefined && index > -1 && index < this.config.options.length) {\r\n                this.config.selectedOptionName = this.config.options[index].name;\r\n                this.onSelect();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public onSelect = function () {\r\n        let option;\r\n        option = _.find(this.config.options, {name: this.config.selectedOptionName}) || new OptionsBigData();\r\n        this.$mdDialog.hide({option: option, deleted: this.config.deleted});\r\n    };\r\n\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);","\r\nclass OptionsBigService {\r\n    public _mdDialog;\r\n    public constructor($mdDialog) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback, cancelCallback) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options/OptionsBigDialog.html',\r\n            controller: 'pipOptionsBigDialogController',\r\n            controllerAs: 'vm',\r\n            locals: {params: params},\r\n            clickOutsideToClose: true\r\n         })\r\n        .then((option) => {\r\n            if (successCallback) {\r\n                successCallback(option);\r\n            }\r\n        }, () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .service('pipOptionsBigDialog', OptionsBigService);","'use strict';\r\n\r\nimport IWindowService = angular.IWindowService;\r\n\r\nexport class OptionsData {\r\n    public icon: string = 'star';\r\n    public name: string;\r\n    public title: string;\r\n    public active: boolean = true; \r\n}\r\n\r\nexport class OptionsParams {\r\n    public title: string;  \r\n    public applyButtonTitle: string;\r\n    public options: OptionsData[];\r\n    public selectedOption: OptionsData;\r\n    public deleted;\r\n    public selectedOptionName: string;\r\n    public deletedTitle: string;\r\n}\r\n\r\nexport class OptionsDialogController {\r\n\r\n    public $mdDialog;\r\n    public theme;\r\n    public config: OptionsParams;\r\n\r\n    constructor(\r\n        $mdDialog,\r\n        $injector, \r\n        $rootScope, \r\n        params: OptionsParams) {\r\n        \"ngInject\";\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.config = new OptionsParams();\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option'});\r\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' '});\r\n\r\n            this.config.title = params.title || 'OPTIONS_TITLE';\r\n            this.config.applyButtonTitle = params.applyButtonTitle || 'SELECT';\r\n        } else {\r\n            this.config.title = params.title || 'Choose Option';\r\n            this.config.applyButtonTitle = params.applyButtonTitle || 'Select';\r\n        }\r\n\r\n        this.theme = $rootScope.$theme;\r\n        this.config.options = params.options;\r\n        this.config.selectedOption = _.find(params.options, {active: true}) || new OptionsData();\r\n        this.config.selectedOptionName = this.config.selectedOption.name;\r\n        this.config.deleted = params.deleted;\r\n        this.config.deletedTitle = params.deletedTitle;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event, option: OptionsData) {\r\n        event.stopPropagation();\r\n        this.config.selectedOptionName = option.name;\r\n\r\n    }\r\n            \r\n    public onKeyPress (event) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelect() {\r\n        let option: OptionsData;\r\n        option = _.find(this.config.options, {name: this.config.selectedOptionName});\r\n        console.log(option);\r\n        this.$mdDialog.hide({option: option, deleted: this.config.deleted});\r\n    }\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .controller('pipOptionsDialogController', OptionsDialogController);","\r\nclass OptionsService {\r\n    public _mdDialog;\r\n    public constructor($mdDialog) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback, cancelCallback) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options/OptionsDialog.html',\r\n            controller: 'pipOptionsDialogController',\r\n            controllerAs: 'vm',\r\n            locals: {params: params},\r\n            clickOutsideToClose: true\r\n         })\r\n        .then((option) => {\r\n            if (successCallback) {\r\n                successCallback(option.option);\r\n            }\r\n        }, () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .service('pipOptionsDialog', OptionsService);","'use strict';\r\n\r\nangular\r\n    .module('pipOptionsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsService';\r\nimport './OptionsController';\r\n\r\n\r\nangular\r\n    .module('pipOptionsBigDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n        \r\nimport './OptionsBigService';\r\nimport './OptionsBigController';","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{::vm.theme}}\"><div class=\"pip-header\"><h3>{{:: vm.config.title}}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"vm.onCancel()\">{{:: vm.config.cancel}}</md-button><md-button class=\"md-accent\" ng-click=\"vm.onOk()\">{{:: vm.config.ok}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{vm.theme}}\"><div class=\"pip-header\"><h3>{{:: vm.config.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ vm.config.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"vm.onOk()\">{{ vm.config.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetails.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{vm.theme}}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{::vm.config.errorDetails | translate}}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"vm.config.error.code || (vm.config.error.data && error.data.code)\">{{::vm.config.errorCode | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.code || (vm.config.error.data && vm.config.error.data.code)\">{{vm.config.error.code || vm.config.error.data.code}}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"vm.config.error.path || (vm.config.error.data && vm.config.error.data.path)\">{{::vm.config.errorPath | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.path || (vm.config.error.data && vm.config.error.data.path)\">{{vm.config.error.path || vm.config.error.data.path}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.error || (vm.config.error.data && vm.config.error.data.error)\">{{::vm.config.errorText | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.error || (vm.config.error.data && vm.config.error.data.error)\">{{vm.config.error.error || vm.config.error.data.error}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.method || (vm.config.error.data && vm.config.error.data.method)\">{{::vm.config.errorMethod | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.method || (vm.config.error.data && vm.config.error.data.method)\">{{vm.config.error.method || vm.config.error.data.method}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.message || (vm.config.error.data && vm.config.error.data.message)\">{{::vm.config.errorMessage | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.message || (vm.config.error.data && vm.config.error.data.message)\">{{vm.config.error.message || vm.config.error.data.message}}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"vm.onOk()\">{{::vm.config.dismissButton | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{vm.theme}}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !vm.config.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': vm.config.noTitle && vm.config.hint}\"><h3 class=\"m0\" ng-if=\"!vm.config.noTitle\">{{::vm.config.title | translate}}</h3><div ng-show=\"vm.config.noTitle && vm.config.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{::vm.config.hint | translate}}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"vm.config.optionIndex\" index=\"{{vm.config.optionIndex }}\" pip-select=\"vm.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"vm.onKeyUp($event, $index)\" ng-repeat=\"option in vm.config.options\"><div class=\"pip-content content-stretch\" ng-click=\"vm.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{::option.title | translate}}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{::option.subtitle | translate}}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"vm.config.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!vm.config.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"vm.onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"vm.onSelect()\" style=\"margin-right: -6px\">{{::vm.config.applyButtonTitle | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{vm.theme}}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{::vm.config.title | translate}}</h3><div ng-show=\"vm.config.deletedTitle\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"deleted\" aria-label=\"CHECKBOX\">{{::vm.config.deletedTitle | translate}}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"vm.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"vm.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in vm.config.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'vm.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == vm.config.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{option.icon}}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{::option.title | translate}}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{::option.title | translate}}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"vm.onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"vm.onSelect()\">{{::vm.config.applyButtonTitle | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","'use strict';\r\n\r\nexport let ActionsChangedEvent = 'pipActionsChanged';\r\n\r\nexport class SimpleActionItem {\r\n    // Name to refer to the item\r\n    public name: string;\r\n    // Link visible title\r\n    public title?: string;\r\n    // Show divider instead of title\r\n    public divider?: boolean;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Counter badge\r\n    public count?: number;\r\n    // Access function\r\n    public access?: (action: SimpleActionItem) => boolean;\r\n    // Show on specified breakpoints\r\n    public breakpoints?: string[];\r\n    // window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public click?: (action: SimpleActionItem) => void;\r\n}\r\n\r\nexport class ActionItem extends SimpleActionItem {\r\n    public subActions: SimpleActionItem[];\r\n}\r\n\r\nexport class ActionsConfig {\r\n    // Primary global actions visible on the screen\r\n    public primaryGlobalActions: ActionItem[] = [];\r\n    // Primary local actions visible on the screen\r\n    public primaryLocalActions: ActionItem[] = [];\r\n\r\n    // Secondary global actions available in popup\r\n    public secondaryGlobalActions: ActionItem[] = [];\r\n    // Secondary local actions available in popup\r\n    public secondaryLocalActions: ActionItem[]= [];\r\n}\r\n\r\nexport interface IActionsService {\r\n    readonly config: ActionsConfig;\r\n\r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n\r\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\r\n    hide(): void;\r\n    updateCount(link: string, count: number): void; \r\n    clearCounts(): void;\r\n}\r\n\r\nexport interface IActionsProvider extends ng.IServiceProvider {\r\n    config: ActionsConfig;\r\n    \r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n}\r\n\r\nclass ActionsService implements IActionsService {\r\n    private _config: ActionsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: ActionsConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\r\n        this._config.primaryLocalActions = primaryActions || [];\r\n        this._config.secondaryLocalActions = secondaryActions || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.primaryLocalActions = [];\r\n        this._config.secondaryLocalActions = [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(action: string, count: number) {\r\n        if (action == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass ActionsProvider implements IActionsProvider {\r\n    private _config: ActionsConfig = new ActionsConfig();\r\n    private _service: ActionsService;\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ActionsConfig) {\r\n        this._config = value || new ActionsConfig();\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ActionsService(this._config, $rootScope);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipActions')\r\n    .provider('pipActions', ActionsProvider);\r\n\r\n","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction PrimaryActionsController(\r\n    $scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n\r\n    // Apply class and call resize\r\n    $element.addClass('pip-primary-actions');\r\n\r\n    if ($scope.localActions) \r\n        pipActions.primaryLocalActions = $scope.localActions;\r\n\r\n    if ($scope.globalActions)\r\n        pipActions.primaryGlobalActions = $scope.globalActions;\r\n\r\n    $scope.config = pipActions.config;\r\n\r\n    $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n    $scope.isHidden = isHidden;\r\n    $scope.actionCount = actionCount;\r\n    $scope.clickAction = clickAction;\r\n\r\n    return;\r\n    ///////////////////////\r\n\r\n    function onActionsChanged(event, config) {\r\n        $scope.config = config;\r\n    }\r\n\r\n    function isHidden(action) {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    function actionCount(action) {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return action.count;\r\n    }\r\n\r\n    function calcActions(actions) {\r\n        var count = 0;\r\n\r\n        _.each(actions, function (action) {\r\n            if (!isHidden(action)) {\r\n                count++;\r\n            }\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    function secondaryActionsVisible() {\r\n        return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n            calcActions($scope.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    function secondaryDividerVisible() {\r\n        return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n            calcActions($scope.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    function clickAction(action, $mdOpenMenu) {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.close) {\r\n            $scope.originatorEv = null;\r\n        }\r\n\r\n        if (action.menu) {\r\n            $mdOpenMenu($scope.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click();\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            $window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            $location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if ($injector.has('$state')) {\r\n                var $state = $injector.get('$state');\r\n                $state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            $rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            $rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction primaryActionsDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            localActions: '=pipLocalActions',\r\n            globalActions: '=pipGlobalActions'\r\n        },\r\n        replace: false,\r\n        templateUrl: 'actions/PrimaryActions.html',\r\n        controller: PrimaryActionsController\r\n    };\r\n}\r\n\r\n\r\nangular\r\n    .module('pipActions')\r\n    .directive('pipPrimaryActions', primaryActionsDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction SecondaryActionsController(\r\n    $scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n\r\n    // Apply class and call resize\r\n    $element.addClass('pip-secondary-actions');\r\n\r\n    if ($scope.localActions) \r\n        pipActions.secondaryLocalActions = $scope.localActions;\r\n\r\n    if ($scope.globalActions) \r\n        pipActions.secondaryGlobalActions = $scope.globalActions;\r\n\r\n    $scope.config = pipActions.config;\r\n\r\n    $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n    $scope.isHidden = isHidden;\r\n    $scope.actionCount = actionCount;\r\n    $scope.secondaryActionsVisible = secondaryActionsVisible;\r\n    $scope.secondaryDividerVisible = secondaryDividerVisible;\r\n\r\n    $scope.clickAction = clickAction;\r\n\r\n    $scope.openMenu = openMenu;\r\n\r\n    return;\r\n    /////////////////////\r\n\r\n    function openMenu($mdOpenMenu, ev) {\r\n        $scope.originatorEv = ev;\r\n        $mdOpenMenu(ev);\r\n    }\r\n\r\n    function onActionsChanged(event, config) {\r\n        $scope.config = config;\r\n\r\n    }\r\n\r\n    function isHidden(action) {\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    function actionCount(action) {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return action.count;\r\n    }\r\n\r\n    function calcActions(actions) {\r\n        var count = 0;\r\n\r\n        _.each(actions, function (action) {\r\n            if (!isHidden(action)) {\r\n                count++;\r\n            }\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    function secondaryActionsVisible() {\r\n        return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n            calcActions($scope.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    function secondaryDividerVisible() {\r\n        return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n            calcActions($scope.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    function clickAction(action, $mdOpenMenu) {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.close) {\r\n            $scope.originatorEv = null;\r\n        }\r\n\r\n        if (action.menu) {\r\n            $mdOpenMenu($scope.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click();\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            $window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            $location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if ($injector.has('$state')) {\r\n                var $state = $injector.get('$state');\r\n                $state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            $rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            $rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction secondaryActionsDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            localActions: '=pipLocalActions',\r\n            globalActions: '=pipGlobalActions'\r\n        },\r\n        replace: false,\r\n        templateUrl: 'actions/SecondaryActions.html',\r\n        controller: SecondaryActionsController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipActions')\r\n    .directive('pipSecondaryActions', secondaryActionsDirective);\r\n\r\n})();","'use strict';\r\n\r\nangular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\r\n\r\nimport './ActionsService';\r\nimport './PrimaryActionsDirective';\r\nimport './SecondaryActionsDirective';\r\n\r\nexport * from './ActionsService';","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction AppBarDirectiveController($scope, $element, $rootScope, pipAppBar) {\r\n    \"ngInject\";\r\n\r\n    // Apply class and call resize\r\n    $element.addClass('pip-appbar');\r\n    $element.addClass('color-primary-bg');\r\n    \r\n    //$scope.$emit('pipResizeWindow');\r\n\r\n    $scope.config = pipAppBar.config;\r\n\r\n    $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n    function onAppBarChanged(event, config) {\r\n        $scope.config = config;\r\n    }\r\n}\r\n\r\nfunction appbarDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        transclude: true,\r\n        scope: true,\r\n        templateUrl: 'appbar/AppBar.html',\r\n        controller: AppBarDirectiveController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipAppBar')\r\n    .directive('pipAppbar', appbarDirective);\r\n\r\n})();","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction AppBarPartDirectiveController($scope, $element, $attrs, $rootScope, pipAppBar) {\r\n    \"ngInject\";\r\n\r\n    var partName = '' + $attrs.pipAppbarPart;\r\n    var partValue = null;\r\n\r\n    // Break part apart\r\n    var pos = partName.indexOf(':');\r\n    if (pos > 0) {\r\n        partValue = partName.substr(pos + 1);\r\n        partName = partName.substr(0, pos);\r\n    }\r\n\r\n    onAppBarChanged(null, pipAppBar.config);\r\n\r\n    $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n    function onAppBarChanged(event, config) {\r\n        var parts = config.parts || {};\r\n        var currentPartValue = parts[partName];\r\n\r\n        // Set visible variable to switch ngIf\r\n        var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\r\n\r\n        if (visible != $scope.visible)\r\n            $scope.visible = visible;\r\n    }\r\n\r\n}\r\n\r\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\nfunction appbarPartDirective(ngIfDirective) {\r\n    \"ngInject\";\r\n\r\n    var ngIf = ngIfDirective[0];\r\n\r\n    return {\r\n        transclude: ngIf.transclude,\r\n        priority: ngIf.priority,\r\n        terminal: ngIf.terminal,\r\n        restrict: ngIf.restrict,\r\n        scope: true,\r\n        link: function linkFunction($scope: any, $element, $attrs: any) {\r\n            // Visualize based on visible variable in scope\r\n            $attrs.ngIf = function () {\r\n                return $scope.visible;\r\n            };\r\n            ngIf.link.apply(ngIf, arguments);\r\n        },\r\n        controller: AppBarPartDirectiveController\r\n    };\r\n}\r\n\r\nangular.module('pipAppBar')\r\n    .directive('pipAppbarPart', appbarPartDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let AppBarChangedEvent = 'pipAppBarChanged';\r\n\r\nexport class AppBarConfig {\r\n    visible: boolean;\r\n    parts: any;\r\n    classes: string[];\r\n} \r\n\r\nexport interface IAppBarService {\r\n    readonly config: AppBarConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n\r\n    show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void;\r\n    hide(): void;\r\n \r\n    addShadow(...breakpoints: string[]): void;\r\n    removeShadow(): void;\r\n \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAppBarProvider extends ng.IServiceProvider {\r\n    config: AppBarConfig;\r\n    parts: any;\r\n    classes: string[];\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}\r\n\r\nclass AppBarService implements IAppBarService {\r\n    private _config: AppBarConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(config: AppBarConfig, $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\r\n        this._config.visible = true;\r\n        this._config.parts = parts || this._config.parts || {};\r\n        this._config.classes = classes || this._config.classes || [];\r\n        if (shadowBreakpoints) this.setShadow(shadowBreakpoints);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private setShadow(breakpoints: string[]): void {\r\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\r\n\r\n        if (breakpoints != null) {\r\n            this._config.classes.push('pip-shadow');\r\n            _.each(breakpoints, (bp) => {\r\n                this._config.classes.push('pip-shadow-' + bp);\r\n            });\r\n        }\r\n    }\r\n\r\n    public addShadow(...breakpoints: string[]): void {\r\n        this.setShadow(breakpoints);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeShadow(): void {\r\n        this.setShadow(null);\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$broadcast(AppBarChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AppBarProvider implements IAppBarProvider {\r\n    private _config: AppBarConfig = {\r\n        visible: true,\r\n        parts: {},\r\n        classes: []\r\n    };\r\n    private _service: AppBarService;\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AppBarConfig) {\r\n        this._config = value || new AppBarConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AppBarService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nangular\r\n    .module('pipAppBar')\r\n    .provider('pipAppBar', AppBarProvider);\r\n","'use strict';\r\n\r\nangular\r\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './AppBarService';\r\nimport './AppBarDirective';\r\nimport './AppBarPartDirective';\r\n\r\nexport * from './AppBarService';\r\n","'use strict';\r\n\r\nimport { SimpleActionItem } from '../actions/ActionsService';\r\nimport { BreadcrumbItem } from './BreadcrumbService';\r\nimport { BreadcrumbConfig } from './BreadcrumbService';\r\nimport { IBreadcrumbService } from './BreadcrumbService';\r\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\r\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\r\nimport { OpenSearchEvent } from '../search/SearchService'\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nclass BreadcrumbController {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _window: ng.IWindowService;\r\n    private _location: ng.ILocationService;\r\n    private _injector: ng.auto.IInjectorService;\r\n    private originatorEv: Event;\r\n    \r\n    public config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        $element: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $state: ng.ui.IStateService,\r\n        $location: ng.ILocationService,\r\n        $injector: ng.auto.IInjectorService,\r\n        pipBreadcrumb: IBreadcrumbService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._window = $window;\r\n        this._location = $location;\r\n        this._injector = $injector;\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, (event, config) => { this.onBreadcrumbChanged(event, config); });\r\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\r\n    }\r\n\r\n    private onBreadcrumbChanged(event, config) {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack() {\r\n        let items = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let item = items[items.length - 1];\r\n            let backCallback = item.click;\r\n            if (_.isFunction(backCallback)) \r\n                backCallback(item);\r\n            else\r\n                this._window.history.back();\r\n        } else\r\n            this._window.history.back();\r\n    }\r\n\r\n    public onClick(item: BreadcrumbItem) {\r\n        if (_.isFunction(item.click))\r\n            item.click(item);\r\n    }\r\n\r\n    public openSearch() {\r\n        this._rootScope.$broadcast(OpenSearchEvent);\r\n    }\r\n    \r\n    public actionsVisible(item: BreadcrumbItem): boolean {\r\n\r\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\r\n    }\r\n\r\n    public onOpenMenu($mdOpenMenu, event: Event) {\r\n        this.originatorEv = event;\r\n        $mdOpenMenu(this.originatorEv);\r\n    }\r\n\r\n    public onSubActionClick(action: SimpleActionItem): void { \r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this._window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this._location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this._injector.has('$state')) {\r\n                let $state = this._injector.get('$state') as ng.ui.IStateService\r\n                $state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this._rootScope.$broadcast(action.event);\r\n            this.originatorEv = null;\r\n        } else {\r\n            // Otherwise raise notification\r\n            this._rootScope.$broadcast('pipActionClicked', action.name);\r\n            this.originatorEv = null;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction breadcrumbDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {},\r\n        replace: false,\r\n        templateUrl: 'breadcrumb/Breadcrumb.html',\r\n        controller: BreadcrumbController,\r\n        controllerAs: 'vm'\r\n    };\r\n}\r\n\r\n\r\nangular.module('pipBreadcrumb')\r\n    .directive('pipBreadcrumb', breadcrumbDirective);\r\n\r\n})();","'use strict';\r\n\r\nimport { SimpleActionItem } from '../actions/ActionsService';\r\nexport let BreadcrumbChangedEvent = \"pipBreadcrumbChanged\";\r\nexport let BreadcrumbBackEvent = \"pipBreadcrumbBack\";\r\n\r\nexport class BreadcrumbItem {\r\n    title: string;\r\n    click?: (item: BreadcrumbItem) => void;   \r\n    subActions?: SimpleActionItem[]; \r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n}\r\n\r\nexport interface IBreadcrumbService {\r\n    config: BreadcrumbConfig;\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n\r\n    showText(text: string, criteria?: string);\r\n    showItems(items: BreadcrumbItem[], criteria?: string);\r\n}\r\n\r\nexport interface IBreadcrumbProvider extends ng.IServiceProvider {\r\n    text: string;\r\n}\r\n\r\n\r\nclass BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: BreadcrumbConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showText(text: string, criteria?: string) {\r\n        this._config.text = text;\r\n        this._config.items = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showItems(items: BreadcrumbItem[], criteria?: string) {\r\n        this._config.items = items || [];\r\n        this._config.text = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public sendConfigEvent() {\r\n        this._rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\n\r\nclass BreadcrumbProvider implements IBreadcrumbProvider {\r\n    private _config: BreadcrumbConfig = { \r\n        text: null,\r\n        items: null,\r\n        criteria: null\r\n    };\r\n    private _service: BreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipBreadcrumb')\r\n    .provider('pipBreadcrumb', BreadcrumbProvider);\r\n","'use strict';\r\n\r\nangular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\r\n\r\nimport './BreadcrumbDirective';\r\nimport './BreadcrumbService';\r\n\r\nexport * from './BreadcrumbService';\r\n\r\n\r\n","'use strict';\r\n\r\nimport { INavIconService } from '../icon/NavIconService';\r\nimport { INavMenuService } from '../menu/NavMenuService';\r\nimport { INavHeaderService } from '../header/NavHeaderService';\r\nimport { IBreadcrumbService } from '../breadcrumb/BreadcrumbService';\r\nimport { ISearchService } from '../search/SearchService';\r\nimport { IActionsService } from '../actions/ActionsService';\r\nimport { IAppBarService } from '../appbar/AppBarService';\r\nimport { ISideNavService } from '../sidenav/SideNavService';\r\n\r\nexport interface INavService {\r\n    appbar: IAppBarService;\r\n    icon: INavIconService; \r\n    breadcrumb: IBreadcrumbService;\r\n    actions: IActionsService;\r\n    search: ISearchService;\r\n    sidenav: ISideNavService;\r\n    header: INavHeaderService;\r\n    menu: INavMenuService;   \r\n\r\n    reset(): void;\r\n}\r\n\r\nclass NavService implements INavService {\r\n\r\n    public constructor($injector) {\r\n        \"ngInject\";\r\n\r\n        this.appbar = $injector.has('pipAppBar') ? $injector.get('pipAppBar') : null;\r\n        this.icon = $injector.has('pipNavIcon') ? $injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? $injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? $injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? $injector.get('pipSearch') : null;\r\n        this.sidenav = $injector.has('pipSideNav') ? $injector.get('pipSideNav') : null;\r\n        this.header = $injector.has('pipNavHeader') ? $injector.get('pipNavHeader') : null;\r\n        this.menu = $injector.has('pipNavMenu') ? $injector.get('pipNavMenu') : null;    \r\n    }\r\n\r\n    public appbar: IAppBarService;\r\n    public icon: INavIconService;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: IActionsService;\r\n    public search: ISearchService;\r\n    public sidenav: ISideNavService;        \r\n    public header: INavHeaderService;\r\n    public menu: INavMenuService;    \r\n\r\n    public reset() {\r\n        // Reset appbar\r\n        if (this.appbar) \r\n            this.appbar.show();\r\n\r\n        // Reset icon\r\n        if (this.icon)\r\n            this.icon.showMenu();\r\n\r\n        // Reset breadcrumb\r\n        if (this.breadcrumb)\r\n            this.breadcrumb.showText(null);\r\n\r\n        // Reset actions\r\n        if (this.actions)\r\n            this.actions.show();\r\n\r\n        // Reset search\r\n        if (this.search)\r\n            this.search.set(null);\r\n\r\n        if (this.sidenav)\r\n            this.sidenav.show();\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavService', [])\r\n    .service('pipNavService', NavService);","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction translateFilter($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n    return function (key) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNav.Translate', [])\r\n    .filter('translate', translateFilter);\r\n\r\n})();","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction DropdownDirectiveController($scope, $element, $attrs, $injector, $rootScope, $mdMedia) {\r\n    \"ngInject\";\r\n\r\n    let pipTheme = $injector.has('pipTheme') ? $injector.get('pipTheme') : null; \r\n    let currentTheme = 'default';\r\n\r\n    if (pipTheme)\r\n        currentTheme = pipTheme.use();\r\n    else if ($rootScope.$theme)\r\n        currentTheme = $rootScope.$theme;\r\n\r\n    $scope.class = ($attrs.class || '') + ' md-' + currentTheme + '-theme';\r\n\r\n    //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n    $scope.$mdMedia = $mdMedia;\r\n    $scope.actions = ($scope.actions && _.isArray($scope.actions)) ? $scope.actions : [];\r\n    $scope.activeIndex = $scope.activeIndex || 0;\r\n\r\n    $scope.disabled = function () {\r\n        if ($scope.ngDisabled()) {\r\n            return $scope.ngDisabled();\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    $scope.onSelect = function (index) {\r\n        $scope.activeIndex = index;\r\n        if ($scope.select) {\r\n            $scope.select($scope.actions[index], $scope.activeIndex);\r\n        }\r\n    };\r\n\r\n    $scope.show = function () {\r\n        if ($scope.showDropdown()) {\r\n            return $scope.showDropdown();\r\n        } else {\r\n            return true;\r\n        }\r\n    };\r\n\r\n}\r\n\r\nfunction dropdownDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            ngDisabled: '&',\r\n            actions: '=pipActions',\r\n            showDropdown: '&pipShow',\r\n            activeIndex: '=pipActiveIndex',\r\n            select: '=pipDropdownSelect'\r\n        },\r\n        templateUrl: 'dropdown/Dropdown.html',\r\n        controller: DropdownDirectiveController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipDropdown', ['pipNav.Templates'])\r\n    .directive('pipDropdown', dropdownDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\r\n\r\nexport class NavHeaderConfig {\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Image url\r\n    public defaultImageUrl: string;\r\n    // Title\r\n    public title: string;\r\n    // Subtitle\r\n    public subtitle: string;\r\n    // Handle header click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};\r\n\r\nexport interface INavHeaderService {\r\n    readonly config: NavHeaderConfig;\r\n    imageUrl: string;\r\n    title: string;\r\n    subtitle: string;\r\n    click: () => void;\r\n    event: string;\r\n\r\n    show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void;\r\n    hide(): void;\r\n}\r\n\r\nexport interface INavHeaderProvider extends ng.IServiceProvider {\r\n    config: NavHeaderConfig;\r\n    defaultImageUrl: string;\r\n    imageUrl: string;\r\n    title: string;\r\n    subtitle: string;\r\n    click: () => void;\r\n    event: string;\r\n\r\n    set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void;\r\n    clear(): void;\r\n}\r\n\r\nclass NavHeaderService {\r\n    private _config: NavHeaderConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(config: NavHeaderConfig, $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n       this._rootScope.$emit(NavHeaderChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavHeaderProvider implements INavHeaderProvider {\r\n    private _config: NavHeaderConfig = new NavHeaderConfig();\r\n    private _service: NavHeaderService;\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavHeaderConfig) {\r\n        this._config = value || new NavHeaderConfig();\r\n    }\r\n\r\n    public get defaultImageUrl(): string {\r\n        return this._config.defaultImageUrl;\r\n    }\r\n\r\n    public set defaultImageUrl(value: string) {\r\n        this._config.defaultImageUrl = value;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n    }\r\n\r\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavHeaderService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n     \r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavHeader')\r\n    .provider('pipNavHeader', NavHeaderProvider);\r\n","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\n    function StickyNavHeaderDirectiveController($scope, $element, $rootScope, $timeout, pipNavHeader) {\r\n        \"ngInject\";\r\n\r\n        var\r\n            image = null,\r\n            imageBlock = $element.find('.pip-sticky-nav-header-user'),\r\n            $image,\r\n            currentState,\r\n            loadedDefaultImage = false;\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-sticky-nav-header');\r\n\r\n        $scope.onUserClick = onUserClick;\r\n        $scope.onImageError = onImageError;\r\n        $scope.onImageLoad = onImageLoad;\r\n\r\n        $timeout(function () {\r\n            $image = $element.find('.pip-sticky-nav-header-user-image');\r\n\r\n            if ($image[0]) {\r\n                $image[0].onload = onImageLoad;\r\n                $image[0].onerror = onImageError;\r\n            } else {\r\n                $image.onload = onImageLoad;\r\n                $image.onerror = onImageError;\r\n            }\r\n\r\n            onNavHeaderChanged(null, pipNavHeader.config);\r\n        }, 20);\r\n\r\n        $rootScope.$on('pipNavHeaderChanged', onNavHeaderChanged);\r\n        $rootScope.$on('pipSideNavStateChanged', onStateChanged);\r\n\r\n        return;\r\n\r\n        function initHeader() {\r\n            if (!pipNavHeader.config) return;\r\n\r\n            $scope.title = pipNavHeader.config.title;\r\n            $scope.subtitle = pipNavHeader.config.subtitle;\r\n            $scope.imageUrl = pipNavHeader.config.imageUrl;\r\n            $scope.imageCss = pipNavHeader.config.imageCss;\r\n        }\r\n\r\n        // When image is loaded resize/reposition it\r\n        function onImageLoad($event) {\r\n            var image = $($event.target);\r\n            setImageMarginCSS(imageBlock, image);\r\n        };\r\n\r\n        function onImageError($event) {\r\n            if (loadedDefaultImage) return;\r\n            $scope.$apply(function () {\r\n                setImage(pipNavHeader.config, true);\r\n            });\r\n        };\r\n\r\n        function onStateChanged(event, state) {\r\n            if (state === undefined) return;\r\n            currentState = state;\r\n\r\n            if (state.id == 'toggle') {\r\n                $timeout(function () {\r\n                    $scope.showHeader = currentState && currentState.id == 'toggle';\r\n                }, 400);\r\n            } else {\r\n                $scope.showHeader = false;\r\n            }\r\n        }\r\n\r\n        function setImageMarginCSS(container, image) {\r\n            var cssParams = {},\r\n                containerWidth = container.width ? container.width() : container.clientWidth,\r\n                containerHeight = container.height ? container.height() : container.clientHeight,\r\n                imageWidth = image[0].naturalWidth || image.width,\r\n                imageHeight = image[0].naturalHeight || image.height,\r\n                margin = 0;\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\r\n                cssParams['width'] = '' + containerWidth + 'px';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            image.css(cssParams);\r\n        };\r\n\r\n        function setImage(config, loadError: boolean) {\r\n            if (!config) return;\r\n\r\n            var url: string;\r\n\r\n            if (!loadError && !!config.imageUrl && !loadedDefaultImage) {\r\n                url = config.imageUrl;\r\n            } else {\r\n                loadedDefaultImage = true;\r\n                url = config.defaultImageUrl;\r\n            }\r\n\r\n            if (url && $image) {\r\n                $image.attr('src', url);\r\n            } else {\r\n                imageBlock.css('display', 'none');\r\n            }\r\n        }\r\n\r\n        function onNavHeaderChanged($event, config) {\r\n            if (!config) return;\r\n            setImage(config, false)\r\n\r\n            $scope.title = config.title;\r\n            $scope.subtitle = config.subtitle;\r\n            $scope.imageUrl = config.imageUrl;\r\n            $scope.imageCss = config.imageCss;\r\n        }\r\n\r\n        function onUserClick() {\r\n            $rootScope.$broadcast('pipNavUserClicked');\r\n        }\r\n\r\n    }\r\n\r\n    function stickyNavHeaderDirective() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: {\r\n\r\n            },\r\n            replace: false,\r\n            templateUrl: 'header/StickyNavHeader.html',\r\n            controller: StickyNavHeaderDirectiveController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipNavHeader')\r\n        .directive('pipStickyNavHeader', stickyNavHeaderDirective);\r\n\r\n})();","'use strict';\r\n\r\nangular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './NavHeaderService';\r\nimport './StickyNavHeaderDirective';\r\n\r\nexport * from './NavHeaderService';","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction NavIconDirectiveController($scope, $element, $attrs, $rootScope, $window, pipNavIcon) {\r\n    \"ngInject\";\r\n\r\n    // Apply class and call resize\r\n    $element.addClass('pip-nav-icon');\r\n\r\n    $scope.config = pipNavIcon.config;\r\n\r\n    $rootScope.$on('pipNavIconChanged', onNavIconChanged);\r\n\r\n    $scope.onNavIconClick = onNavIconClick;\r\n\r\n    function onNavIconChanged(event, config) {\r\n        $scope.config = config;\r\n    }\r\n\r\n    function onNavIconClick() {\r\n        var breadcrumb, backCallback;\r\n\r\n        if (_.isFunction($scope.config.click)) {\r\n            // Execute nav icon callback\r\n            $scope.config.click();\r\n        } else if ($scope.config.event) {\r\n            $rootScope.$broadcast($scope.config.event);\r\n        } else if ($scope.config.type == 'menu') {\r\n            $rootScope.$broadcast('pipOpenSideNav');\r\n        } else if ($scope.config.type == 'back') {\r\n            $window.history.back();\r\n        } else {\r\n            $rootScope.$broadcast('pipNavIconClicked');\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction navIconDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            type: '=pipType',\r\n            imageUrl: '=pipImageUrl',\r\n            icon: '=pipIcon'\r\n        },\r\n        replace: false,\r\n        templateUrl: 'icon/NavIcon.html',\r\n        controller: NavIconDirectiveController\r\n    };\r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .directive('pipNavIcon', navIconDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let NavIconChangedEvent = 'pipNavIconChanged';\r\n\r\nexport class NavIconConfig {\r\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n    public type: string;\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Icon name\r\n    public icon: string;\r\n    // Handle nav icon click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};\r\n\r\nexport interface INavIconService {\r\n    readonly config: NavIconConfig;\r\n\r\n    showMenu(callbackOrEvent?: any): void;\r\n    showIcon(icon: string, callbackOrEvent?: any): void;\r\n    showBack(callbackOrEvent?: any): void;\r\n    showImage(imageUrl: string, callbackOrEvent?: any): void;\r\n    hide(): void;\r\n}\r\n\r\nexport interface INavIconProvider extends ng.IServiceProvider {\r\n    config: NavIconConfig;\r\n\r\n    setMenu(callbackOrEvent?: any): void;\r\n    setIcon(icon: string, callbackOrEvent?: any): void;\r\n    setBack(callbackOrEvent?: any): void;\r\n    setImage(imageUrl: string, callbackOrEvent?: any): void;\r\n    clear(): void;\r\n}\r\n\r\nclass NavIconService implements INavIconService {\r\n    private _config: NavIconConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(config: NavIconConfig, $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public showMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$broadcast(NavIconChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavIconProvider implements INavIconProvider {\r\n    private _config: NavIconConfig = new NavIconConfig();\r\n    private _service: NavIconService;\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavIconConfig) {\r\n        this._config = value || new NavIconConfig();\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public setMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavIconService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n     \r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .provider('pipNavIcon', NavIconProvider);\r\n","'use strict';\r\n\r\nangular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavIconService';\r\nimport './NavIconDirective';\r\n\r\nexport * from './NavIconService';\r\n","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nclass LanguagePickerDirectiveController {\r\n    private _translate: any;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $scope: any, \r\n        $element: any, \r\n        $attrs: any, \r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: ng.ITimeoutService,\r\n        $injector: any\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._timeout = $timeout;\r\n        this._translate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-language-picker');\r\n\r\n        this.languages = $scope.languages;\r\n\r\n        // Todo: Where is this event coming from? Why not through service or attribute?\r\n        $rootScope.$on('pipSetLanguages', this.setLanguages);\r\n    }\r\n\r\n    public languages: string[] = ['en', 'ru'];\r\n\r\n    public get language() {\r\n        return this._translate ? this._translate.language : null;\r\n    }\r\n\r\n    public setLanguages(lang) {\r\n        this.languages = lang.length > 0 ? lang : ['en', 'ru'];\r\n    }\r\n\r\n    public onLanguageClick(language) {\r\n        if (this._translate != null) {\r\n            this._timeout(() => {\r\n                this._translate.language = this.language;\r\n            }, 0);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction languagePickerDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            languages: '=languages',\r\n        },\r\n        replace: false,\r\n        templateUrl: function (element, attr) {\r\n            return 'language/LanguagePicker.html';\r\n        },\r\n        controller: LanguagePickerDirectiveController,\r\n        controllerAs: 'vm'\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLanguagePicker', [\r\n        'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n    ])\r\n    .directive('pipLanguagePicker', languagePickerDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let NavMenuChangedEvent = 'pipNavMenuChanged';\r\n\r\nexport class NavMenuLink {\r\n    // Name to refer to the item\r\n    public name: string;\r\n    // Link visible title\r\n    public title: string;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Counter badge\r\n    public count?: number;\r\n    // Access function\r\n    public access?: (link: NavMenuLink) => boolean;\r\n    // window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public click?: (link: NavMenuLink) => void;\r\n}\r\n\r\nexport class NavMenuSection {\r\n    // Name to refer to the section\r\n    public name: string;\r\n    // Section visible title\r\n    public title?: string;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Links shown in the section\r\n    public links: NavMenuLink[];\r\n    // Access function\r\n    public access?: (section: NavMenuSection) => boolean;\r\n}\r\n\r\nexport class NavMenuConfig {\r\n    sections: NavMenuSection[];\r\n    defaultIcon: string;\r\n}\r\n\r\nexport interface INavMenuService {\r\n    sections: NavMenuSection[];\r\n    defaultIcon: string;\r\n    updateCount(link: string, count: number): void; \r\n    clearCounts(): void;\r\n}\r\n\r\nexport interface INavMenuProvider extends ng.IServiceProvider {\r\n    sections: NavMenuSection[];\r\n    defaultIcon: string;\r\n}\r\n\r\nclass NavMenuService implements INavMenuService {\r\n    private _config: NavMenuConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: NavMenuConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(link: string, count: number) {\r\n        if (link == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.count = count;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                l.count = null;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavMenuProvider implements INavMenuProvider {\r\n    private _config: NavMenuConfig = {\r\n        sections: [],\r\n        defaultIcon: 'icons:folder'\r\n    };\r\n    private _service: NavMenuService;\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavMenuService(this._config, $rootScope);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavMenu')\r\n    .provider('pipNavMenu', NavMenuProvider);\r\n","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\n    function StickyNavMenuDirectiveController($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\r\n        \"ngInject\";\r\n\r\n        var animationDuration = 450,\r\n            pipSideNavElement = $element.parent().parent();\r\n        // Apply class and call resize\r\n        $element.addClass('pip-sticky-nav-menu');\r\n\r\n        $scope.sections = $scope.sections || pipNavMenu.sections;\r\n        // pipNavMenu.sections = $scope.sections;\r\n        setCollapsible();\r\n        // todo set from services\r\n        $scope.defaultIcon = pipNavMenu.defaultIcon;\r\n\r\n        onStateChanged(null, pipSideNav.state);\r\n\r\n        $rootScope.$on('pipNavMenuChanged', onConfigChanged);\r\n        $rootScope.$on('pipSideNavStateChanged', onStateChanged);\r\n\r\n        $scope.itemVisible = isHidden;\r\n        $scope.clickLink = clickLink;\r\n        $scope.isSectionEmpty = isSectionEmpty;\r\n        $scope.onExpand = onExpand;\r\n        $scope.isActive = isActive;\r\n\r\n        return;\r\n\r\n        function setCollapsible() {\r\n            var collapsed;\r\n            if (angular.isFunction($scope.collapsed)) {\r\n                collapsed = $scope.collapsed();\r\n            } else {\r\n                collapsed = $scope.collapsed !== false && $scope.collapsed !== 'false';\r\n            }\r\n\r\n            $scope.isCollapsed = collapsed;\r\n        }\r\n\r\n        function onExpand() {\r\n            if (!$scope.isCollapsed) { return }\r\n\r\n            $scope.expanded = !$scope.expanded;\r\n\r\n            if ($scope.expanded) {\r\n                pipSideNavElement.removeClass('pip-sticky-nav-small');\r\n            } else {\r\n                pipSideNavElement.addClass('pip-sticky-nav-small');\r\n            }\r\n            $rootScope.$emit('pipNavExpanded', $scope.expanded);\r\n        }\r\n\r\n        function isHidden(item) {\r\n            return item && item.access && !item.access(item);\r\n        }\r\n\r\n        function isSectionEmpty(linkCollection) {\r\n            var result = true;\r\n            _.each(linkCollection, function (link) {\r\n                if (!isHidden(link))\r\n                    result = false;\r\n            });\r\n            return result;\r\n        }\r\n\r\n        function onConfigChanged(event, config) {\r\n            if (!config) return;\r\n\r\n            $scope.sections = config.sections;\r\n        }\r\n\r\n        function onStateChanged(event, state) {\r\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\r\n            //pipNavMenu.collapsed(state.expand);\r\n            if (!state) return;\r\n\r\n            $scope.isCollapsed = state.expand;\r\n            $scope.expanded = state.isExpanded;\r\n            $scope.expandedButton = state.expandedButton;\r\n\r\n            $scope.sideNavState = state;\r\n        }\r\n\r\n        function isActive(link) {\r\n            if (link.parentstate) {\r\n                var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n                if ($state != null && $state.includes(link.parentstate)) {\r\n                    return true;\r\n                }\r\n            } else if (link.state) {\r\n                var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n                if ($state != null && $state.includes(link.state)) {\r\n                    return true;\r\n                }\r\n            } else if (link.href) {\r\n                if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                    return true;\r\n                }\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n\r\n            return false;\r\n        }\r\n\r\n        function clickLink(event, link) {\r\n            event.stopPropagation();\r\n\r\n            if (!link) {\r\n                pipSideNav.close();\r\n                return;\r\n            }\r\n\r\n            if (link.href) {\r\n                if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                pipSideNav.close();\r\n                $timeout(function () {\r\n                    $window.location.href = link.href;\r\n                }, animationDuration);\r\n\r\n                return;\r\n            }\r\n            else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                pipSideNav.close();\r\n                $timeout(function () {\r\n                    $location.url(link.url);\r\n                }, animationDuration);\r\n\r\n                return;\r\n            }\r\n            else if (link.state) {\r\n                var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n\r\n                if ($state != null && $state.current.name === link.state) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                pipSideNav.close();\r\n                $timeout(function () {\r\n                    if ($injector.has('$state')) {\r\n                        var $state = $injector.get('$state');\r\n                        $state.go(link.state, link.stateParams);\r\n                    }\r\n                }, animationDuration);\r\n\r\n                return;\r\n            }\r\n            else if (link.event)\r\n                $rootScope.$broadcast(link.event, link);\r\n\r\n            pipSideNav.close();\r\n        }\r\n    }\r\n\r\n    function stickyNavMenuDirective() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: {\r\n                // sections: '?=pipSections',\r\n                // collapsed: '=pipCollapsed'\r\n            },\r\n            replace: false,\r\n            templateUrl: 'menu/StickyNavMenu.html',\r\n            controller: StickyNavMenuDirectiveController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipNavMenu')\r\n        .directive('pipStickyNavMenu', stickyNavMenuDirective);\r\n\r\n})();","'use strict';\r\n\r\nangular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavMenuService';\r\nimport './StickyNavMenuDirective';\r\n\r\nexport * from './NavMenuService';","'use strict';\r\n\r\nimport { SearchConfig } from './SearchService';\r\nimport { ISearchService } from './SearchService';\r\nimport { SearchChangedEvent } from './SearchService';\r\nimport { SearchActivatedEvent } from './SearchService';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nclass SearchBarController {\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public config: SearchConfig;\r\n    public enabled: boolean = false;\r\n    public search: any = { text: '' };\r\n\r\n    public constructor (\r\n        $element, \r\n        $rootScope: ng.IRootScopeService, \r\n        pipSearch: ISearchService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-search-bar');\r\n\r\n        this.config = pipSearch.config;\r\n\r\n        $rootScope.$on(SearchChangedEvent, (event, config) => { \r\n            this.onSearchChanged(event, config); \r\n        });\r\n    }\r\n\r\n    private onSearchChanged(event, config) {\r\n        this.config = config;\r\n        this.enabled = false;\r\n        this.search.text = '';\r\n    }\r\n\r\n    private focusText() {\r\n        setTimeout(() => {\r\n            let element = $('.pip-search-text');\r\n            if (element.length > 0)\r\n                element.focus();\r\n        }, 0);\r\n    }\r\n\r\n    public enable() {\r\n        this.search.text = this.config.criteria;\r\n        this.enabled = true;\r\n        this.focusText();\r\n    }\r\n\r\n    public onClick() {\r\n        let search = this.search.text;\r\n\r\n        this.search.text = '';\r\n        this.enabled = false;\r\n\r\n        if (this.config.callback)\r\n            this.config.callback(search);\r\n        else\r\n            this._rootScope.$broadcast(SearchActivatedEvent, search);\r\n    }\r\n\r\n    public clear() {\r\n        if (this.search.text) {\r\n            this.search.text = '';\r\n            this.focusText();\r\n        } else {\r\n            this.enabled = false;\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    public onKeyDown(event: any) {\r\n        // Enter pressed\r\n        if (event.keyCode === 13)\r\n            this.onClick();\r\n        // ESC pressed\r\n        else if (event.keyCode === 27)\r\n            this.enabled = false;\r\n    }\r\n}\r\n\r\n\r\nfunction searchBarDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {},\r\n        replace: false,\r\n        templateUrl: 'search/SearchBar.html',\r\n        controller: SearchBarController,\r\n        controllerAs: 'vm'\r\n    };\r\n}\r\n\r\nangular.module('pipSearchBar')\r\n    .directive('pipSearchBar', searchBarDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let OpenSearchEvent = 'pipOpenSearch';\r\nexport let CloseSearchEvent = 'pipCloseSearch';\r\nexport let SearchChangedEvent = 'pipSearchChanged';\r\nexport let SearchActivatedEvent = 'pipSearchActivated';\r\n\r\nexport class SearchConfig {\r\n    // Search visible\r\n    public visible: boolean;\r\n    // Search criteria\r\n    public criteria: string;\r\n    // Custom search parameters\r\n    public params: any;\r\n    // History for search autocomplete\r\n    public history: string[];\r\n    // Callback for search\r\n    callback: (criteria: string) => void;\r\n}\r\n\r\nexport interface ISearchService {\r\n    config: SearchConfig;\r\n    criteria: string;\r\n    params: any;\r\n    history: string[];\r\n    callback: (criteria: string) => void;\r\n\r\n    set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void;\r\n    clear(): void;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n}\r\n\r\nexport interface ISearchProvider extends ng.IServiceProvider {    \r\n}\r\n\r\n\r\nclass SearchService implements ISearchService {\r\n    private _config: SearchConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: SearchConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n\r\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\r\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\r\n    }\r\n\r\n    public get config(): SearchConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get params(): any {\r\n        return this._config.params;\r\n    }\r\n\r\n    public set params(value: any) {\r\n        this._config.params = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get history(): string[] {\r\n        return this._config.history;\r\n    }\r\n\r\n    public set history(value: string[]) {\r\n        this._config.history = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get callback(): (criteria: string) => void {\r\n        return this._config.callback;\r\n    }\r\n\r\n    public set callback(value: (criteria: string) => void) {\r\n        this._config.callback = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\r\n        this._config.callback = callback;\r\n        this._config.criteria = criteria;\r\n        this._config.params = params;\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.callback = null;\r\n        this._config.criteria = null;\r\n        this._config.params = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public open(): void {\r\n        this._config.visible = true;\r\n        this.sendConfigEvent();                \r\n    }\r\n            \r\n    public close(): void {\r\n        this._config.visible = false;        \r\n        this.sendConfigEvent();                \r\n    }                \r\n\r\n    public toggle(): void {\r\n        this._config.visible = !this._config.visible;\r\n        this.sendConfigEvent();                \r\n    }                   \r\n\r\n    private sendConfigEvent(): void {\r\n        this._rootScope.$broadcast(SearchChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SearchProvider implements ISearchProvider {\r\n    private _config: SearchConfig = new SearchConfig();\r\n    private _service: SearchService = null;\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SearchService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    } \r\n}\r\n\r\n\r\nangular.module('pipSearchBar')\r\n    .provider('pipSearch', SearchProvider);\r\n","'use strict';\r\n\r\nangular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './SearchService';\r\nimport './SearchBarDirective';\r\n\r\nexport * from './SearchService';","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\n    function SideNavPartDirectiveController($scope, $element, $attrs, $rootScope, pipSideNav) {\r\n        \"ngInject\";\r\n\r\n        var partName = '' + $attrs.pipSidenavPart;\r\n        var partValue = null;\r\n\r\n        // Break part apart\r\n        var pos = partName.indexOf(':');\r\n        if (pos > 0) {\r\n            partValue = partName.substr(pos + 1);\r\n            partName = partName.substr(0, pos);\r\n        }\r\n\r\n        onSideNavChanged(null, pipSideNav.config)\r\n        $rootScope.$on('pipSideNavChanged', onSideNavChanged);\r\n\r\n        function onSideNavChanged(event, config) {\r\n            var parts = config.parts || {};\r\n            var currentPartValue = parts[partName];\r\n            var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\r\n\r\n            if (visible != $scope.visible)\r\n                $scope.visible = visible;\r\n        }\r\n\r\n    }\r\n\r\n    function sidenavPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: any, $element, $attrs) {\r\n                $attrs.ngIf = function () { return $scope.visible };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: SideNavPartDirectiveController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .directive('pipSidenavPart', sidenavPartDirective);\r\n\r\n})();","'use strict';\r\n\r\nexport let SideNavChangedEvent = 'pipSideNavChanged';\r\nexport let SideNavStateChangedEvent = 'pipSideNavStateChanged';\r\nexport let OpenSideNavEvent = 'pipOpenSideNav';\r\nexport let CloseSideNavEvent = 'pipCloseSideNav';\r\n\r\nexport class SideNavConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n    visible: boolean;\r\n}\r\n\r\nexport interface ISideNavService {\r\n    readonly config: SideNavConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n    show(): void;\r\n    hide(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface ISideNavProvider extends ng.IServiceProvider {\r\n    config: SideNavConfig;\r\n    parts: any;\r\n    type: string;\r\n    visible: boolean;\r\n    classes: string[];\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}\r\n\r\nclass SideNavService implements ISideNavService {\r\n    private _config: SideNavConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-sticky-sidenav';\r\n\r\n    public constructor(config: SideNavConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(SideNavStateChangedEvent, value);\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n    }\r\n\r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n\r\n    public show() {\r\n        if (!this._config.visible) {\r\n            this._config.visible = true;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        if (this._config.visible) {\r\n            this._config.visible = false;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(SideNavChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SideNavProvider implements ISideNavProvider {\r\n    private _config: SideNavConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null,\r\n        visible: true\r\n    };\r\n\r\n    private _service: SideNavService;\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: SideNavConfig) {\r\n        this._config = value || new SideNavConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get visible(): boolean {\r\n        return this._config.visible;\r\n    }\r\n\r\n    public set visible(value: boolean) {\r\n        this._config.visible = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\r\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\r\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipSideNav')\r\n    .provider('pipSideNav', SideNavProvider)\r\n    .run(hookSideNavEvents);\r\n","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\n    function StickySideNavDirectiveController($scope, $element, $rootScope, $injector, $mdMedia, $timeout, pipSideNav) {\r\n        \"ngInject\";\r\n\r\n        // var pipMedia = $mdMedia, \r\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null,\r\n            mainContainer = '.pip-main',\r\n            bigWidth = 320, // expanded sidenav width\r\n            smallWidth = 72, // shrink sidenav width\r\n            isResizing = false,\r\n            animationDuration = 600,\r\n            mediaBreakpoints;\r\n\r\n        pipMedia = pipMedia !== undefined ? pipMedia : $mdMedia;\r\n\r\n        $scope.navState = {\r\n            toggle: { // media(sm, xs)\r\n                id: 'toggle',\r\n                addClass: 'sidenav-mobile', // change size, color, selected?\r\n                showHeader: true,\r\n                isLockedOpen: false,\r\n                expandedButton: false,\r\n                isExpanded: true,\r\n                expand: true,\r\n                showIconTooltype: false\r\n            },\r\n            small: { // media(md)\r\n                id: 'small',\r\n                addClass: 'pip-sticky-nav-small sidenav-desktop', // change size, color, selected?\r\n                showHeader: false,\r\n                isLockedOpen: true,\r\n                expandedButton: false,\r\n                isExpanded: false,\r\n                expand: false,\r\n                showIconTooltype: true\r\n            },\r\n            large: { // media(lg)\r\n                id: 'large',\r\n                addClass: 'sidenav-desktop', // change size, color, selected?\r\n                showHeader: false,\r\n                isLockedOpen: true,\r\n                expandedButton: true,\r\n                isExpanded: true,\r\n                expand: true,\r\n                showIconTooltype: true\r\n            },\r\n            xlarge: { // media(xl)\r\n                id: 'xlarge',\r\n                addClass: 'sidenav-desktop', // change size, color, selected?\r\n                showHeader: false,\r\n                isLockedOpen: true,\r\n                expandedButton: false,\r\n                isExpanded: true,\r\n                expand: true,\r\n                showIconTooltype: false\r\n            }\r\n        };\r\n\r\n        mediaBreakpoints = setBreakpoints();\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-sticky-sidenav');\r\n\r\n        if (pipSideNav.config && pipSideNav.config.type != 'popup') {\r\n            $timeout(function () {\r\n                setSideNaveState()\r\n            }, 100);\r\n\r\n            var windowResize = _.debounce(setSideNaveState, 10);\r\n            $rootScope.$on('pipMainResized', windowResize);\r\n            $rootScope.$on('pipSideNavState', onSideNavState);\r\n        } else {\r\n            isResizing = false;\r\n            $scope.sidenavState = null;\r\n            $timeout(function () {\r\n                setState('toggle');\r\n            }, 100);\r\n\r\n        }\r\n\r\n        $rootScope.$on('pipNavIconClicked', onNavIconClick);\r\n        $rootScope.$on('pipSideNavChanged', onSideNavChanged);\r\n\r\n        return;\r\n\r\n        //------------------------\r\n        function setBreakpoints() {\r\n            if (!pipMedia || !angular.isObject(pipMedia.breakpoints)) {\r\n                return { xs: 639, sm: 959, md: 1024, lg: 1919 };\r\n            } else {\r\n                return pipMedia.breakpoints;\r\n            }\r\n        }\r\n\r\n        function onSideNavChanged(event, config) {\r\n            var config = config || {};\r\n\r\n            if (config.visible) {\r\n                $element.css('display', 'block');\r\n            } else {\r\n                $element.css('display', 'none');\r\n            }\r\n        }\r\n\r\n        function onNavIconClick(event) {\r\n            pipSideNav.open();\r\n        }\r\n\r\n        function onSideNavState(event, state) {\r\n            if (angular.isString(state) && $scope.navState[state] !== undefined) {\r\n                setState(state);\r\n            }\r\n        }\r\n\r\n        function setSideNaveState() {\r\n            if (isResizing) {\r\n                $timeout(setSideNaveState, animationDuration); // for \r\n\r\n                return;\r\n            }\r\n            let mainWidth = $(mainContainer).innerWidth();\r\n            let sideNavWidth = $('.pip-sticky-sidenav').innerWidth();\r\n            let currentWidth = sideNavWidth ? sideNavWidth + 2 : 0; // add border width\r\n\r\n            if (mainWidth + currentWidth < mediaBreakpoints.sm - smallWidth) {\r\n                setState('toggle', );\r\n                return;\r\n            }            \r\n            if (mainWidth + currentWidth < mediaBreakpoints.md - smallWidth) {\r\n                setState('small');\r\n                return;\r\n            }   \r\n            if (mainWidth + currentWidth < mediaBreakpoints.lg - bigWidth) {\r\n                setState('large');\r\n                return;\r\n            }        \r\n            setState('xlarge');     \r\n            // if (mainWidth < mediaBreakpoints.sm) {\r\n            //     setState('toggle');\r\n\r\n            //     return;\r\n            // }\r\n            // if (mainWidth < mediaBreakpoints.md + smallWidth && mainWidth >= mediaBreakpoints.sm + smallWidth) {\r\n            //     setState('small');\r\n            //     return;\r\n            // }\r\n            // if (mainWidth >= mediaBreakpoints.md + bigWidth && mainWidth <= mediaBreakpoints.lg) {\r\n            //     setState('large');\r\n            //     return;\r\n            // }\r\n            // if (mainWidth > mediaBreakpoints.lg) {\r\n            //     setState('xlarge');\r\n            //     return;\r\n            // }\r\n\r\n            // if (!$scope.sidenavState || !$scope.sidenavState.id) {\r\n            //     if (mainWidth < mediaBreakpoints.sm + smallWidth) {\r\n            //         setState('toggle');\r\n\r\n            //         return;\r\n            //     }\r\n            //     if (mainWidth > mediaBreakpoints.md + bigWidth) {\r\n            //         setState('large');\r\n            //         return;\r\n            //     }\r\n            //     setState('small');\r\n            // }\r\n        }\r\n\r\n        function setState(state: string) {\r\n            if (isResizing) return;\r\n            if ($scope.sidenavState && $scope.sidenavState.id == state) return;\r\n\r\n            if (state != 'toggle') {\r\n                $element.removeClass('sidenav-mobile');\r\n            }\r\n\r\n            if (state != 'small') {\r\n                $element.removeClass('pip-sticky-nav-small');\r\n            }\r\n\r\n            if (state == 'toggle') {\r\n                $element.removeClass('sidenav-desktop');\r\n            }\r\n            isResizing = true;\r\n            if (state == 'toggle') {\r\n                pipSideNav.close();\r\n            }\r\n            $scope.sidenavState = $scope.navState[state];\r\n            $element.addClass($scope.sidenavState.addClass);\r\n\r\n            pipSideNav.state = $scope.sidenavState;\r\n            // check sideNav State\r\n            $timeout(function () {\r\n                setSideNaveState()\r\n            }, 15);\r\n\r\n            // complete animation\r\n            $timeout(function () {\r\n                isResizing = false;\r\n            }, animationDuration); //animationDuration\r\n\r\n        }\r\n    }\r\n\r\n    function stickySideNavDirective() {\r\n        return {\r\n            restrict: 'E',\r\n            transclude: true,\r\n            scope: true,\r\n            templateUrl: 'sidenav/StickySideNav.html',\r\n            controller: StickySideNavDirectiveController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .directive('pipStickySidenav', stickySideNavDirective);\r\n\r\n})();","'use strict';\r\n\r\nangular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './SideNavService';\r\nimport './SideNavPartDirective';\r\nimport './StickySideNavDirective';\r\n\r\nexport * from './SideNavService';","'use strict';\r\n\r\n// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nfunction TabsDirectiveController($scope, $element, $attrs, $mdMedia, $injector, $rootScope) {\r\n    \"ngInject\";\r\n\r\n    var pipTheme = $injector.has('pipTheme') ? $injector.get('pipTheme') : null, \r\n        currentTheme = 'default';\r\n    if (pipTheme)\r\n        currentTheme = pipTheme.use();\r\n    else if ($rootScope.$theme)\r\n        currentTheme = $rootScope.$theme;\r\n\r\n    $scope.class = ($attrs.class || '') + ' md-' + currentTheme + '-theme';\r\n\r\n    if (pipTranslate) {\r\n        if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\r\n            pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\r\n        } else {\r\n            pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\r\n        }\r\n    }\r\n    \r\n    $scope.$mdMedia = $mdMedia;\r\n    $scope.tabs = ($scope.tabs && _.isArray($scope.tabs)) ? $scope.tabs : [];\r\n\r\n    var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate) {\r\n        if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\r\n            pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\r\n        } else {\r\n            pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\r\n        }\r\n    }\r\n\r\n    $scope.activeIndex = $scope.activeIndex || 0;\r\n    $scope.activeTab = $scope.activeIndex;\r\n\r\n    $scope.disabled = function () {\r\n        if ($scope.ngDisabled) {\r\n            return $scope.ngDisabled();\r\n        }\r\n    };\r\n\r\n    $scope.tabDisabled = function (index) {\r\n        return ($scope.disabled() && $scope.activeIndex != index);\r\n    };\r\n\r\n    $scope.onSelect = function (index) {\r\n        if ($scope.disabled()) return;\r\n\r\n        $scope.activeIndex = index;\r\n        $scope.activeTab = $scope.activeIndex;\r\n        if ($scope.select) {\r\n            $scope.select($scope.tabs[$scope.activeIndex], $scope.activeIndex);\r\n        }\r\n    };\r\n\r\n    $scope.showShadow = function () {\r\n        if ($scope.showTabsShadow) {\r\n            return $scope.showTabsShadow();\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    $scope.show = function () {\r\n        if ($scope.showTabs) {\r\n            return $scope.showTabs();\r\n        } else {\r\n            return true;\r\n        }\r\n    };\r\n}\r\n\r\n\r\nfunction tabsDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            ngDisabled: '&',\r\n            tabs: '=pipTabs',\r\n            showTabs: '&pipShowTabs',\r\n            showTabsShadow: '&pipTabsShadow',\r\n            activeIndex: '=pipActiveIndex',\r\n            select: '=pipTabsSelect'\r\n        },\r\n        templateUrl: 'tabs/Tabs.html',\r\n        controller: TabsDirectiveController\r\n    };\r\n}\r\n\r\n\r\nangular\r\n    .module(\"pipTabs\", ['pipNav.Templates'])\r\n    .directive('pipTabs', tabsDirective);\r\n\r\n})();","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button\" ng-click=\"clickAction(action, $mdOpenMenu);\" ng-hide=\"isHidden(action)\" aria-label=\"{{action.title | translate}}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{actionCount(action)}}</div><md-icon md-svg-icon=\"{{action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"isHidden(subAction)\"><md-button ng-hide=\"subAction.divider\" ng-click=\"clickAction(subAction)\">{{::subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button\" ng-click=\"clickAction(action, $mdOpenMenu);\" ng-hide=\"isHidden(action)\" aria-label=\"{{action.title | translate}}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{actionCount(action)}}</div><md-icon md-svg-icon=\"{{action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"isHidden(subAction)\"><md-button ng-hide=\"subAction.divider\" ng-click=\"clickAction(subAction)\">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" ng-click=\"onSecondaryActionClick(); openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"clickAction(action)\">{{::action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"clickAction(action)\">{{::action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"{{ config.classes.join(\\' \\') }}\" ng-if=\"config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div><div class=\"hide-xs text-overflow\"><span ng-if=\"vm.config.criteria\" ng-click=\"vm.openSearch()\">{{vm.config.criteria}} -</span><span class=\"pip-breadcrumb-item\" ng-if=\"vm.config.items && vm.config.items.length > 0\" ng-repeat-start=\"item in vm.config.items\" ng-click=\"vm.onClick(item)\" ng-init=\"stepWidth = 100/(vm.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span class=\"hide-xs\" ng-if=\"!$last || !vm.actionsVisible(item)\">{{item.title | translate}}</span><md-menu class=\"hide-xs\" ng-if=\"$last && vm.actionsVisible(item)\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer\" ng-click=\"vm.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{item.title | translate}}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"vm.onSubActionClick(subItem)\" ng-hide=\"action.divider\"><span>{{subItem.title | translate}}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title\" ng-if=\"vm.config.text\">{{vm.config.text | translate}}</span></div><md-menu xmd-offset=\"0 48\" class=\"hide-gt-xs\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"vm.config.items && vm.config.items.length > 1 ? $mdOpenMenu() : return\" md-ink-ripple=\"\" aria-label=\"open breadcrumb\"><span class=\"text-overflow\"><span ng-if=\"vm.config.criteria\" ng-click=\"vm.openSearch()\">{{vm.config.criteria}} -</span> <span ng-if=\"vm.config.text\">{{vm.config.text | translate}}</span> <span ng-if=\"vm.config.items && vm.config.items.length > 0\">{{vm.config.items[vm.config.items.length - 1].title | translate}}</span></span><md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\" ng-if=\"vm.config.items && vm.config.items.length > 1\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"item in vm.config.items\" ng-if=\"vm.config.items && vm.config.items.length > 0\"><md-button ng-click=\"vm.onClick(item)\"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.config.text\"><md-button><span class=\"text-grey\">{{vm.config.text | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{class}}\" ng-if=\"show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $mdMedia(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"selectedIndex\" ng-disabled=\"disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"onSelect(selectedIndex)\"><md-option ng-repeat=\"action in actions\" value=\"{{ ::$index }}\" ng-selected=\"activeIndex == $index ? true : false\">{{ (action.title || action.name) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/StickyNavHeader.html',\n    '<md-toolbar ng-show=\"showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"onUserClick()\" aria-label=\"current user\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"onUserClick()\">{{ title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"config.type != \\'none\\'\" ng-class=\"config.class\" ng-click=\"onNavIconClick()\" aria-label=\"menu\"><md-icon ng-if=\"config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{config.imageUrl}}\" ng-if=\"config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"config.type==\\'icon\\'\" md-svg-icon=\"{{config.icon}}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{vm.language | translate}}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in vm.languages\"><md-button ng-click=\"vm.onLanguageClick(lang)\">{{language | translate}}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/StickyNavMenu.html',\n    '<md-list><md-list-item class=\"pip-focusable no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"onExpand()\" ng-disabled=\"!isCollapsed\" ng-if=\"expandedButton\"><md-icon md-svg-icon=\"icons:chevron-left\" ng-if=\"expanded\" class=\"pip-sticky-nav-menu-icon\"><md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">{{::\\'Expand menu\\' | translate}}</md-tooltip></md-icon><md-icon md-svg-icon=\"icons:chevron-right\" ng-if=\"!expanded\" class=\"pip-sticky-nav-menu-icon\"><md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">{{::\\'Shrink menu\\' | translate}}</md-tooltip></md-icon></md-list-item><md-divider ng-show=\"expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in sections\" ng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"expanded\" class=\"pip-sticky-nav-menu-title section-title\">{{::section.title | translate}}</span><md-icon md-svg-icon=\"{{section.icon}}\" ng-if=\"!expanded && section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\"><md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">{{::section.title | translate}}</md-tooltip></md-icon><md-icon md-svg-icon=\"{{defaultIcon}}\" ng-if=\"!expanded && !section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\"><md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">{{::section.title | translate}}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': isActive(link)}\" ng-hide=\"link.access && !link.access(link)\"><md-button class=\"layout-row layout-align-start-center pip-focusable\" ng-click=\"clickLink($event, link)\"><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon md-svg-icon=\"{{link.icon}}\" ng-hide=\"!link.icon\" class=\"pip-sticky-nav-menu-icon flex-fixed\"><md-tooltip md-visible=\"showTooltip\" ng-show=\"sideNavState.showIconTooltype && !expanded\" md-direction=\"right\">{{::link.title | translate}}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{::link.title | translate}}</div><div class=\"pip-sticky-nav-menu-badge color-badge-bg flex-fixed\" ng-if=\"link.count\">{{link.count}}</div></md-button></md-list-item></div></md-list>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools layout-row\" ng-if=\"vm.enabled\"><md-button class=\"md-icon-button\" aria-label=\"start search\" ng-click=\"vm.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" ng-model=\"vm.search.text\" ng-keydown=\"vm.onKeyDown($event)\"><md-button class=\"md-icon-button\" aria-label=\"clear search\" ng-click=\"vm.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div><div class=\"md-toolbar-tools layout-row layout-align-end-center\" ng-if=\"!vm.enabled\"><md-button class=\"md-icon-button\" aria-label=\"start search\" ng-click=\"vm.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar class=\"pip-nav {{ class }}\" ng-class=\"{\\'pip-visible\\': show(), \\'pip-shadow\\': showShadow()}\"><md-tabs ng-if=\"$mdMedia(\\'gt-xs\\')\" md-selected=\"activeTab\" ng-class=\"{\\'disabled\\': disabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in tabs track by $index\" ng-disabled=\"tabDisabled($index)\" md-on-select=\"onSelect($index)\"><md-tab-label>{{::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">{{::tab.newCounts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"$mdMedia(\\'xs\\')\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"activeIndex\" ng-disabled=\"disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"onSelect(activeIndex)\"><md-option ng-repeat=\"tab in tabs track by $index\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">{{ ::tab.newCounts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/StickySideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" pip-focused=\"\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","'use strict';\r\n\r\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-cool': 'Cool'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-cool': ''\r\n    // });\r\n    \r\n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(69, 90, 100, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\r\n\r\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(69, 90, 100, .54)',\r\n        '500': 'rgba(69, 90, 100, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\r\n\r\n\r\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-cool')\r\n        .primaryPalette('bootbarn-cool-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-cool-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-cool-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\r\n    .config(configureBootBarnCoolTheme);\r\n","'use strict';\r\n\r\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-monochrome': 'Monochrome'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-monochrome': ''\r\n    // });\r\n    \r\n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(38, 50, 56, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\r\n\r\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(38, 50, 56, .54)',\r\n        '500': 'rgba(38, 50, 56, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\r\n\r\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-monochrome')\r\n        .primaryPalette('bootbarn-monochrome-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-monochrome-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-monochrome-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\r\n    .config(configureBootBarnMonochromeTheme);\r\n","'use strict';\r\n\r\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-warm': 'Warm'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-warm': ''\r\n    // });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(177, 55, 34, 1)'\r\n        })\r\n        ;\r\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\r\n\r\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\r\n        '300': 'rgba(177, 55, 34, .54)',\r\n        '500': 'rgba(177, 55, 34, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\r\n\r\n\r\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'A700': 'rgba(127, 148, 92, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\r\n\r\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\r\n        'A200': 'rgba(255, 87, 34, 1)',\r\n        'contrastLightColors': ['A200']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-warm')\r\n    .primaryPalette('bootbarn-warm-primary', {\r\n        'default': '500',\r\n        'hue-1': '300'\r\n    })\r\n    .backgroundPalette('bootbarn-warm-background', {\r\n        'default': '50',  // background\r\n        'hue-1': 'A200',  // tiles dialog\r\n        'hue-2': 'A700'   // app bar\r\n    })\r\n    .warnPalette('bootbarn-warm-error', {\r\n        'default': 'A200'\r\n    })\r\n    .accentPalette('bootbarn-warm-accent', {\r\n        'default': 'A700'\r\n    });\r\n}\r\n\r\nangular.module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\r\n    .config(configureBootBarnWarmTheme);\r\n","'use strict';\r\n\r\nimport './BootBarnCoolTheme';\r\nimport './BootBarnWarmTheme';\r\nimport './BootBarnMonochromeTheme';\r\n\r\nangular.module('pipTheme.BootBarn', [\r\n    'ngMaterial',\r\n    'pipTheme.BootBarn.Warm',\r\n    'pipTheme.BootBarn.Cool',\r\n    'pipTheme.BootBarn.Monochrome',\r\n]);\r\n","'use strict';\r\n\r\nexport let ThemeRootVar = \"$theme\";\r\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \r\nexport let ThemeResetPage = \"pipResetPage\";    \r\n\r\nexport interface IThemeService {\r\n    theme: string;\r\n    use(language: string): string;\r\n}\r\n\r\nexport interface IThemeProvider extends IThemeService, ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    persist: boolean;\r\n}\r\n\r\nclass ThemeConfig {\r\n    public theme: string;\r\n}\r\n\r\nclass ThemeService implements IThemeService {\r\n    private _config: ThemeConfig;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _theming: any;\r\n    private _currentTheme: string = null;\r\n\r\n    public constructor(\r\n        config: ThemeConfig,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._theming = $mdTheming;\r\n\r\n        if (this._persist && this._window.localStorage && this._config.theme == \"default\")\r\n            this._config.theme = this._window.localStorage.getItem('theme') || this._config.theme;\r\n\r\n        this._log.debug(\"Set theme to \" + this._config.theme);\r\n\r\n        // Define theme for angular material \r\n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        let body = $('body');\r\n        let newTheme = this._config.theme;\r\n\r\n        // Switch material theme\r\n        // body.attr('md-theme', newTheme);\r\n\r\n        // Change custom theme\r\n        body.addClass(newTheme);\r\n        if (this._currentTheme != null && this._currentTheme != newTheme)\r\n            body.removeClass(this._currentTheme);            \r\n\r\n        this._currentTheme = newTheme;\r\n\r\n        // Set root scope variable\r\n        if (this._setRootVar)\r\n            this._rootScope[ThemeRootVar] = this._config.theme;\r\n\r\n        // Save in local storage\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('theme', this._config.theme);\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        if (value != this._config.theme) {\r\n            if (!(value in this._theming.THEMES))\r\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\r\n\r\n            this._config.theme = value;\r\n            \r\n            this._log.debug(\"Changing theme to \" + value);\r\n\r\n            this.save();                \r\n\r\n            this._rootScope.$emit(ThemeChangedEvent, value);\r\n            this._rootScope.$emit(ThemeResetPage);\r\n        }\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null)\r\n            this.theme = theme;\r\n        return this.theme;\r\n    }\r\n\r\n}\r\n\r\nclass ThemeProvider implements IThemeProvider {\r\n    private _config: ThemeConfig = new ThemeConfig();\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: ThemeService;\r\n    \r\n    public constructor() {\r\n        this._config.theme = \"default\";\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        this._config.theme = value;\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null)\r\n            this.theme = theme;\r\n        return this.theme;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new ThemeService(this._config, this._setRootVar, this._persist, $rootScope, $log, $window, $mdTheming);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTheme(pipTheme: IThemeService) {\r\n    pipTheme.theme;\r\n}\r\n\r\nangular\r\n    .module('pipTheme')\r\n    .provider('pipTheme', ThemeProvider)\r\n    .run(initTheme);\r\n","'use strict';\r\n\r\nangular.module('pipTheme', ['ngMaterial']);\r\n\r\nimport './ThemeService';\r\n\r\nexport * from './ThemeService';\r\n","'use strict';\r\n\r\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     amber: 'Amber'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     amber: ''\r\n    // });\r\n\r\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\r\n\r\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 152, 0, 1)',\r\n        '900': 'rgba(255, 152, 0, .54);'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('amber')\r\n        .primaryPalette('orange-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('orange-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('orange', {\r\n            'default': '900'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\r\n    .config(configureDefaultAmberTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     blue: 'Blue',\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     blue: ''\r\n    // });\r\n\r\n    registerBlueTheme('default');\r\n    registerBlueTheme('blue');\r\n\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    function registerBlueTheme(themeName) {\r\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\r\n            'contrastDefaultColor': 'light',\r\n            'contrastDarkColors': undefined\r\n        });\r\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\r\n\r\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(33, 150, 243, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\r\n\r\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            '600': 'rgba(0, 200, 83, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\r\n\r\n        $mdThemingProvider.theme(themeName)\r\n            .primaryPalette('blue-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('blue-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('blue-accent', {\r\n                'default': '600'\r\n            });\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\r\n    .config(configureDefaultBlueTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     green: 'Green'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     green: ''\r\n    // });\r\n\r\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(76, 175, 80, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\r\n\r\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\r\n        '300': '#9ed4a1',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\r\n\r\n\r\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\r\n\r\n    $mdThemingProvider.theme('green')\r\n        .primaryPalette('green-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('green-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('green-accent', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Green', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreenTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     grey: 'Grey'\r\n    // });\r\n    \r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     grey: ''\r\n    // });\r\n\r\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)',\r\n        'A400': '#a9b9c0',\r\n        '500': '#607D8B',\r\n        'A700': '#90A4AE',\r\n        //'800': '',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\r\n\r\n\r\n    $mdThemingProvider.theme('grey')\r\n        .primaryPalette('third-party', {\r\n            'default': '500',\r\n            'hue-1': 'A400'\r\n        })\r\n        .backgroundPalette('third-party', {\r\n            'default': '50',  // background\r\n            'hue-1': '500',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('third-party', {\r\n            'default': 'A700'\r\n        });\r\n    \r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreyTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     navy: 'Navy'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     navy: '-'\r\n    // });\r\n\r\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '700': 'rgba(86, 97, 125, 1)',\r\n        '800': 'rgba(86, 97, 125, .54)',\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n    });\r\n    $mdThemingProvider.definePalette('grey', greyPalette);\r\n\r\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\r\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('teal', tealPalette);\r\n\r\n    $mdThemingProvider.theme('navy')\r\n        .primaryPalette('grey', {\r\n            'default': '700',\r\n            'hue-1': '800'\r\n        })\r\n        .backgroundPalette('grey', {\r\n            'default': '50',  // background\r\n            'hue-1': '700',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('teal', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\r\n    .config(configureDefaultNavyTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     orange: 'Orange'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     orange: ''\r\n    // });\r\n\r\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 112, 67, 1)',\r\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\r\n    });\r\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\r\n\r\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 112, 67, 1)',\r\n        '900': 'rgba(255, 152, 67, .54)',\r\n        'A100': 'rgba(255, 171, 64, 1)',\r\n        'contrastLightColors': ['800', '900', 'A100']\r\n    });\r\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('orange')\r\n        .primaryPalette('red-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('red-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('red-primary', {\r\n            'default': 'A100'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\r\n    .config(configureDefaultOrangeTheme);\r\n","'use strict';\r\n\r\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     pink: 'Pink'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     pink: '',\r\n\r\n    // });\r\n\r\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['A200', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\r\n\r\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\r\n        '600': 'rgba(255, 128, 171, 1)',\r\n        '700': 'rgba(188, 86, 121, .54)',\r\n        '900': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'light'\r\n    });\r\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('pink')\r\n        .primaryPalette('pink-primary', {\r\n            'default': '900',\r\n            'hue-1': '700'\r\n        })\r\n        .backgroundPalette('pink-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('pink-primary', {\r\n            'default': '600'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\r\n    .config(configureDefaultPinkTheme);\r\n","'use strict';\r\n\r\nimport './DefaultBlueTheme';\r\nimport './DefaultPinkTheme';\r\nimport './DefaultAmberTheme';\r\nimport './DefaultOrangeTheme';\r\nimport './DefaultGreenTheme';\r\nimport './DefaultNavyTheme';\r\nimport './DefaultGreyTheme';\r\n\r\n\r\nangular\r\n    .module('pipTheme.Default', [\r\n        'ngMaterial',\r\n        'pipTheme.Blue', \r\n        'pipTheme.Pink',\r\n        'pipTheme.Amber', \r\n        'pipTheme.Orange', \r\n        'pipTheme.Green', \r\n        'pipTheme.Navy', \r\n        'pipTheme.Grey'\r\n    ])\r\n    .config(configureDefaultTheme);\r\n\r\nfunction configureDefaultTheme($mdThemingProvider) {\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n","/**\r\n * @file Errors string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Strings', ['pipTranslate']);\r\n\r\n    thisModule.run(function($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate == null) return;\r\n\r\n        // Set translation strings for the module\r\n        pipTranslate.translations('en', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n                                            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n                                          'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n                                          'technologies. Download on of these great browsers and you\\'ll be on your way:',\r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\r\n\r\n        });\r\n\r\n        pipTranslate.translations('ru', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n            'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n            'technologies. Download on of these great browsers and you\\'ll be on your way:',            \r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\r\n\r\n        });\r\n    });\r\n\r\n})();","/**\r\n * @file Registration of all error handling components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipErrors', [\r\n        'pipErrors.Pages',\r\n        'pipNoConnectionPanel',\r\n        'pipClearErrors',\r\n\t    'pipFormErrors'\r\n    ]);\r\n    \r\n})();","/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Pages', [\r\n        'ngMaterial', \r\n        'pipErrors.Strings', 'pipErrors.NoConnection', 'pipErrors.MissingRoute', 'pipErrors.Unsupported',\r\n        'pipErrors.Unknown', 'pipErrors.Maintenance', 'pipErrors.Translate', 'pipErrors.Templates'\r\n    ]);\r\n\r\n    thisModule.config(\r\n        function ($stateProvider) {\r\n            // Configure module routes\r\n            $stateProvider\r\n                .state('errors_no_connection', {\r\n                    url: '/errors/no_connection',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorNoConnectionController',\r\n                    templateUrl: 'no_connection/no_connection.html'\r\n                })\r\n                .state('errors_maintenance', {\r\n                    url: '/errors/maintenance',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorMaintenanceController',\r\n                    templateUrl: 'maintenance/maintenance.html'\r\n                })\r\n                .state('errors_missing_route', {\r\n                    url: '/errors/missing_route',\r\n                    params: {\r\n                        unfoundState: null,\r\n                        fromState: null\r\n                    },\r\n                    controller: 'pipErrorMissingRouteController',\r\n                    templateUrl: 'missing_route/missing_route.html'\r\n                })\r\n                .state('errors_unsupported', {\r\n                    url: '/errors/unsupported',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnsupportedController',\r\n                    templateUrl: 'unsupported/unsupported.html'\r\n                })\r\n                .state('errors_unknown', {\r\n                    url: '/errors/unknown',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnknownController',\r\n                    templateUrl: 'unknown/unknown.html'\r\n                });\r\n        });\r\n\r\n})();","/**\r\n * @file Special error handling for forms\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipClearErrors', []);\r\n\r\n    thisModule.directive('pipClearErrors', function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: function ($scope, $element, $attrs: any, $ctrls) {\r\n                var \r\n                    fieldController = $ctrls[0],\r\n                    formController = $ctrls[1];\r\n\r\n                $scope.$watch($attrs.ngModel, function (newValue) {\r\n                    clearFieldErrors();\r\n                    clearFormErrors();\r\n                });\r\n\r\n                //-------------------\r\n\r\n                function clearFieldErrors() {\r\n                    var errors = fieldController.$error;\r\n\r\n                    for (var prop in errors) {\r\n                        if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                            fieldController.$setValidity(prop, true);\r\n                        }\r\n                    };\r\n                }\r\n\r\n                function clearFormErrors() {\r\n                    formController.$serverError = {};\r\n                };\r\n            }\r\n        };\r\n    });\r\n\r\n})();","/**\r\n * @file Form error utilities\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n *\r\n */\r\n \r\n /* global _, angular */\r\n \r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFormErrors', []);\r\n\r\n    thisModule.factory('pipFormErrors', function ($rootScope) {\r\n\t\treturn {\r\n\t\t\terrorsWithHint: errorsWithHint,\r\n            //submittedErrors: submittedErrors,\r\n            //submittedErrorsWithHint: submittedErrorsWithHint,\r\n            //dirtyErrors: dirtyErrors,\r\n            //dirtyErrorsWithHint: dirtyErrorsWithHint,\r\n            //touchedErrors: touchedErrors,            \r\n            touchedErrorsWithHint: touchedErrorsWithHint,\r\n            resetFormErrors: resetFormErrors,\r\n            setFormError: setFormError,\r\n            resetFieldsErrors: resetFieldsErrors\r\n\t\t};\r\n\t\t//-------------------\r\n\r\n        function errorsWithHint(field) {\r\n            if (field == null) return;\r\n\t\t\t\r\n            return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n        };\r\n\t\t\r\n//         function submittedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function submittedErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function dirtyErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function dirtyErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function touchedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n//             \r\n//             if (field.$touched || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n\r\n        function touchedErrorsWithHint(form, field) {\r\n            if (form == null) return;\r\n            if (field == null) return;\r\n\r\n            if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\r\n                var result = _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n                return result;\r\n            }\r\n            return { hint: true };\r\n        };\r\n\r\n        function resetFormErrors(form, errors) {\r\n            form.$setPristine();\r\n            form.$setUntouched();\r\n\r\n            if (errors) {\r\n                form.$setDirty();\r\n                form.$setSubmitted();\r\n            }\r\n\r\n            form.$serverError = {};\r\n        };\r\n        \r\n        function resetFieldsErrors(form, field) {\r\n            if (!form) return;\r\n            if (field && form[field] && form[field].$error) {\r\n                 form[field].$error = {};\r\n            } else {\r\n                for (var prop in form) {\r\n                    if (form[prop] && form[prop].$error) {\r\n                        form[prop].$error = {};\r\n                    };\r\n                }\r\n                if (form && form.$error) form.$error = {};\r\n            }\r\n        };\r\n        \r\n        function setFormError(form, error, errorFieldMap) {\r\n            if (error == null) return;\r\n            // Prepare form server errors\r\n            form.$serverError = form.$serverError || {};\r\n            // Prepare error code\r\n            var code = error.code || (error.data || {}).code || null;\r\n            if (!code && error.status) code = error.status;\r\n\r\n            if (code) {\r\n                var \r\n                    errorName = 'ERROR_' + code,\r\n                    field = errorFieldMap ? errorFieldMap[code] : null;\r\n                // Set server error to fields\r\n                if (field && form[field] && form[field].$setValidity) {\r\n                    form[field].$setValidity(errorName, false);\r\n                    return;\r\n                }\r\n\r\n                // Set server error to form\r\n                if (field == 'form') {\r\n                    form.$serverError[errorName] = true;\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n            if (error.data && error.data.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.data.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            // Set as undefined error\r\n            if (error.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            if (error.name) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.name;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            form.$serverError['ERROR_UNKNOWN'] = error;\r\n            goToUnhandledErrorPage(error);\r\n        };\r\n\r\n        function goToUnhandledErrorPage(error) {\r\n            $rootScope.$emit('pipUnhandledInternalError', {\r\n                error: error\r\n            });\r\n        };\r\n        \r\n\t});\r\n\r\n})();","/**\r\n * @file Maintenance error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Maintenance', []);\r\n\r\n    thisModule.controller('pipErrorMaintenanceController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.timeoutInterval = $scope.error && $scope.error.config &&\r\n                        $scope.error.config.params && $scope.error.config.params.interval ? $scope.error.config.params.interval : 0;\r\n\r\n        $scope.onClose = onClose;\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.addShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_AVAILABLE_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Missing route error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.MissingRoute', []);\r\n\r\n    thisModule.controller('pipErrorMissingRouteController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        appHeader();\r\n        $rootScope.$routing = false;\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.fromState : {};\r\n        $scope.unfoundState = $state && $state.params ?  $state.params.unfoundState : {};\r\n        $scope.url = $scope.unfoundState && $scope.unfoundState.to ? $state.href($scope.unfoundState.to, $scope.unfoundState.toParams, {absolute: true}) : '';\r\n        $scope.urlBack = $scope.fromState && $scope.fromState.to ? $state.href($scope.fromState.to, $scope.fromState.fromParams, {absolute: true}) : '';\r\n\r\n        $scope.onContinue = onContinue;\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.addShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_ROUTE_PAGE_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function onContinue() {\r\n            // Todo: Go to default state '/'\r\n            //pipAuthState.goToAuthorized();\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file No connection error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.NoConnection', []);\r\n\r\n    thisModule.controller('pipErrorNoConnectionController', function ($scope, $state, $rootScope, $window, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        $scope.onRetry = onRetry;\r\n\r\n        return;\r\n\r\n        function onRetry() {\r\n            $window.history.back();\r\n        };\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.addShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_RESPONDING_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n    });\r\n\r\n\r\n})();\r\n","/**\r\n * @file No Connection Error panel\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipNoConnectionPanel\", ['pipErrors.Translate']);\r\n\r\n    thisModule.directive('pipNoConnectionPanel',\r\n        function () {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/no_connection_panel.html',\r\n                controller: 'pipNoConnectionPanelController'\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipNoConnectionPanelController',\r\n        function ($scope, $element, $attrs, pipTranslate) {\r\n\r\n            $scope.onRetry = onRetry;\r\n\r\n            return;\r\n\r\n            function onRetry() {\r\n                if ($scope.retry && angular.isFunction($scope.retry)) $scope.retry();\r\n            };\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Unknown error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unknown', []);\r\n\r\n    thisModule.controller('pipErrorUnknownController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.error_details = null;\r\n\r\n        $scope.onDetails = onDetails;\r\n        $scope.onClose = onClose;\r\n\r\n        parseError();\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.addShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_UNKNOWN_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function parseError() {\r\n            $scope.error_details = {};\r\n            $scope.error_details.code = $scope.error.code;\r\n            $scope.error_details.description = $scope.error.message;\r\n            $scope.error_details.status = $scope.error.status;\r\n\r\n            $scope.error_details.server_stacktrace = function () {\r\n\r\n            };\r\n\r\n            $scope.error_details.client_stacktrace = function () {\r\n\r\n            };\r\n        };\r\n\r\n        function onDetails() {\r\n            $scope.showError = true;\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Unsupported error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unsupported', []);\r\n\r\n    thisModule.controller('pipErrorUnsupportedController', function ($scope, $state, $rootScope, $mdMedia, pipAppBar) {\r\n\r\n        $scope.$mdMedia = $mdMedia;\r\n        $rootScope.$routing = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.addShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_UNSUPPORTED_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/maintenance.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\"><div style=\"background-image: url(\\'images/maintenance.svg\\');\" class=\"pip-pic\"></div><div class=\"pip-error-text\">{{::\\'ERROR_AVAILABLE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_AVAILABLE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"timeoutInterval\">{{::\\'ERROR_AVAILABLE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"isCordova\"><md-button class=\"md-accent\" ng-click=\"onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_AVAILABLE_CLOSE\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/missing_route.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\"><div style=\"background-image: url(\\'images/invalid_route.svg\\');\" class=\"pip-pic\"></div><div class=\"pip-error-text\">{{::\\'ERROR_ROUTE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_ROUTE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"onContinue($event)\">{{::\\'ERROR_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{url}}\">{{::\\'ERROR_ROUTE_TRY_AGAIN\\' | translate }}: {{url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{urlBack}}\">{{::\\'ERROR_ROUTE_GO_BACK\\' | translate }}: {{urlBack}}</a></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/no_connection.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\"><div style=\"background-image: url(\\'images/no_response.svg\\');\" class=\"pip-pic\"></div><div class=\"pip-error-text\">{{::\\'ERROR_RESPONDING_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_RESPONDING_SUBTITLE\\' | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/no_connection_panel.html',\n    '<div class=\"pip-empty pip-error layout-column layout-align-center-center flex\"><img src=\"images/no_response.svg\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_RESPONDING_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_RESPONDING_SUBTITLE\\' | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/unknown.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\"><div style=\"background-image: url(\\'images/unknown_error.svg\\');\" class=\"pip-pic\"></div><div class=\"pip-error-text\">{{::\\'ERROR_UNKNOWN_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_UNKNOWN_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"showError && error_details && error_details.status\"><div ng-if=\"error_details.code\">Code: {{error_details.code}}</div><div ng-if=\"error_details.description\">Description: {{error_details.description}}</div><div ng-if=\"error_details.status\">HTTP status: {{error_details.status}}</div><div ng-if=\"error_details.server_stacktrace\">Server stacktrace: {{error_details.server_stacktrace}}</div><div ng-if=\"error_details.client_stacktrace\">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/unsupported.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::\\'ERROR_UNSUPPORTED_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_UNSUPPORTED_SUBTITLE\\' | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$mdMedia(\\'gt-xs\\')\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$mdMedia(\\'xs\\')\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipBarCharts\r\n     *\r\n     * @description\r\n     * Bar chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipBarCharts', [])\r\n        .directive('pipBarChart', pipBarChart);\r\n\r\n    function pipBarChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                xTickFormat: '=pipXTickFormat',\r\n                yTickFormat: '=pipYTickFormat',\r\n                interactiveLegend: '=pipInterLegend'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'barChart',\r\n            templateUrl: 'bar/bar_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                let vm = this;\r\n                let chart = null;\r\n                let chartElem = null;\r\n                let colors = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n                let height = 270;\r\n\r\n                vm.data = prepareData(vm.series) || [];\r\n                vm.legend = _.clone(vm.series);\r\n                \r\n                if ((vm.series || []).length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                $scope.$watch('barChart.series', function (updatedSeries) {\r\n                    vm.data = prepareData(updatedSeries);\r\n                    vm.legend = _.clone(vm.series);\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n                        configBarWidthAndLabel();\r\n                        drawEmptyState();\r\n                    }\r\n                });\r\n\r\n                $scope.$watch('barChart.legend', function(updatedLegend) {\r\n                    vm.data = prepareData(updatedLegend);\r\n                    vm.legend = updatedLegend;\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n                        configBarWidthAndLabel();\r\n                        drawEmptyState();\r\n                    }\r\n                }, true);\r\n\r\n                function prepareData(data) {\r\n                    let result = [];\r\n                    _.each(data, (seria) => {\r\n                        if (!seria.disabled) result.push(seria);\r\n                    });\r\n\r\n                    return _.cloneDeep(result);\r\n                }\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(function () {\r\n                    chart = nv.models.discreteBarChart()\r\n                        .margin({top: 10, right: 0, bottom: 10, left: 50})\r\n                        .x(function (d) { return d.label || d.key || d.x; })\r\n                        .y(function (d) { return d.value; })\r\n                        .showValues(true)\r\n                        .staggerLabels(true) \r\n                        .showXAxis(true)\r\n                        .showYAxis(true)\r\n                        .valueFormat(<any>d3.format('d'))\r\n                        .duration(0)\r\n                        .height(height)\r\n                        .color(function(d) {\r\n                            return d.color || materialColorToRgba(colors[d.series]);\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('There is no data right now...');\r\n\r\n                    chart.yAxis\r\n                        .tickFormat(function (d) {\r\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\r\n                        });\r\n\r\n                    chart.xAxis\r\n                        .tickFormat(function (d) {\r\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\r\n                        });\r\n\r\n                    chartElem = d3.select($element.get(0))\r\n                        .select('.bar-chart svg')\r\n                        .datum(vm.data)\r\n                        .style('height', '285px')\r\n                        .call(chart);\r\n\r\n                    nv.utils.windowResize(() => {\r\n                        chart.update();\r\n                         configBarWidthAndLabel(0);\r\n                    });\r\n\r\n                    return chart;\r\n                }, function () {\r\n\r\n                    $timeout(configBarWidthAndLabel, 0);\r\n                    drawEmptyState();\r\n                });\r\n\r\n                function drawEmptyState() {\r\n                    if ($element.find('.nv-noData').length === 0) {\r\n                        d3.select($element.find('.empty-state')[0]).remove();\r\n                    } else {\r\n                        $element.find('.nv-noData').attr('x', 100);\r\n\r\n                        let g = chartElem.append('g').classed('empty-state', true);\r\n\r\n                        g.append('g')\r\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                            .append('rect')\r\n                            .attr('height', height - 10)\r\n                            .attr('width', 38);\r\n\r\n                        g.append('g')\r\n                            .attr('transform', 'translate(46, 60)')\r\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                            .append('rect')\r\n                            .attr('height', 200)\r\n                            .attr('width', 38);\r\n\r\n                        g.append('g')\r\n                            .attr('transform', 'translate(92, 160)')\r\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                            .append('rect')\r\n                            .attr('height', 100)\r\n                            .attr('width', 38);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Aligns value label according to parent container size.\r\n                 * @return {void}\r\n                 */\r\n                function configBarWidthAndLabel(timeout: number = 1000) {\r\n                    var labels = $element.find('.nv-bar text'),\r\n                        chartBars = $element.find('.nv-bar'),\r\n                        parentHeight = (<any>$element.find('.nvd3-svg')[0]).getBBox().height;\r\n\r\n                    d3.select($element.find('.bar-chart')[0]).classed('visible', true);\r\n\r\n                    chartBars.each(function (index, item) {\r\n                        var barHeight = Number(d3.select(<any>item).select('rect').attr('height')),\r\n                            barWidth = Number(d3.select(<any>item).select('rect').attr('width')),\r\n                            element = d3.select(<any>item),\r\n                            x = d3.transform(element.attr('transform')).translate[0],\r\n                            y = d3.transform(element.attr('transform')).translate[1];\r\n\r\n                        element\r\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + (height - 20) + ')')\r\n                            .select('rect').attr('height', 0);\r\n\r\n                        element\r\n                            .transition()\r\n                            .duration(timeout)\r\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + y + ')')\r\n                            .select('rect').attr('height', barHeight);\r\n\r\n                        d3.select(labels[index])\r\n                            .attr('dy', barHeight / 2 + 10)\r\n                            .attr('x', barWidth / 2);\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    if (!vm.data) return;\r\n\r\n                    vm.data.forEach(function (item, index) {\r\n                        if (item.values[0]) {\r\n                            item.values[0].color = item.values[0].color || materialColorToRgba(colors[index]);\r\n                            item.color = item.values[0].color;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","/**\r\n * @file Registration of chart WebUI controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipCharts', [\r\n        'pipBarCharts',\r\n        'pipLineCharts',\r\n        'pipPieCharts',\r\n        'pipChartLegends'\r\n    ]);\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipLegends\r\n     *\r\n     * @description\r\n     * Legend of charts\r\n     */\r\n    angular.module('pipChartLegends', [])\r\n        .directive('pipChartLegend', pipChartLegend);\r\n\r\n    function pipChartLegend() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                interactive: '=pipInteractive'\r\n            },\r\n            templateUrl: 'legend/interactive_legend.html',\r\n            controller: function ($element, $scope, $timeout, $mdColorPalette) {\r\n                var colors = _.map($mdColorPalette, function (palette) {\r\n                    return palette[500].hex;\r\n                });\r\n\r\n                function colorCheckboxes() {\r\n                    var checkboxContainers = $($element).find('md-checkbox .md-container');\r\n                    \r\n                    checkboxContainers.each(function (index, item) {\r\n                        $(item)\r\n                            .css('color', $scope.series[index].color || colors[index])\r\n                            .find('.md-icon')\r\n                            .css('background-color', $scope.series[index].color || colors[index]);\r\n                    });\r\n                }\r\n\r\n                function animate() {\r\n                    var legendTitles = $($element).find('.chart-legend-item');\r\n\r\n                    legendTitles.each(function (index, item) {\r\n                        $timeout(function () {\r\n                            $(item).addClass('visible');\r\n                        }, 200 * index);\r\n                    });\r\n                }\r\n                \r\n                function prepareSeries() {\r\n                    if (!$scope.series) return;\r\n\r\n                    $scope.series.forEach(function (item, index) {\r\n                        item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : colors[index]);\r\n                        item.disabled = item.disabled || false;\r\n                    });   \r\n                }\r\n\r\n                $scope.$watch('series', function () {\r\n                    $timeout(function () {\r\n                        animate();\r\n                        colorCheckboxes();\r\n                    }, 0);\r\n                    prepareSeries();\r\n                }, true);\r\n\r\n                $scope.$watch('interactive', function (newValue, oldValue) {\r\n                    if (newValue == true && newValue != oldValue) {\r\n                        $timeout(colorCheckboxes, 0);\r\n                    }\r\n                });\r\n\r\n                $timeout(function () {\r\n                    animate();\r\n                    colorCheckboxes();\r\n                }, 0);\r\n                prepareSeries();\r\n            }\r\n        };\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipLineCharts\r\n     *\r\n     * @description\r\n     * Line chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipLineCharts', [])\r\n        .directive('pipLineChart', pipLineChart);\r\n\r\n    function pipLineChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                showYAxis: '=pipYAxis',\r\n                showXAxis: '=pipXAxis',\r\n                xFormat: '=pipXFormat',\r\n                xTickFormat: '=pipXTickFormat',\r\n                yTickFormat: '=pipYTickFormat',\r\n                dynamic: '=pipDynamic',\r\n                interactiveLegend: '=pipInterLegend'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'lineChart',\r\n            templateUrl: 'line/line_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm        = this;\r\n                var chart     = null;\r\n                var chartElem = null;\r\n                var setZoom = null;\r\n                var updateZoomOptions = null;\r\n                var colors    = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n\r\n                vm.data = prepareData(vm.series) || [];\r\n                vm.legend = _.clone(vm.series);\r\n                vm.sourceEvents = [];\r\n                \r\n                vm.isVisibleX = function () {\r\n                    return vm.showXAxis == undefined ? true : vm.showXAxis; \r\n                };\r\n\r\n                vm.isVisibleY = function () {\r\n                    return vm.showYAxis == undefined ? true : vm.showYAxis;\r\n                };\r\n\r\n                vm.zoomIn = function () {\r\n                    if (setZoom) {\r\n                        setZoom('in');\r\n                    }\r\n                };\r\n\r\n                vm.zoomOut = function () {\r\n                    if (setZoom) {\r\n                        setZoom('out');\r\n                    }\r\n                };\r\n                \r\n                if (vm.series && vm.series.length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                $scope.$watch('lineChart.series', function (updatedSeries) {\r\n                    vm.data = prepareData(updatedSeries);\r\n                    vm.legend = _.clone(vm.series);\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data || []).call(chart);\r\n                        drawEmptyState();\r\n\r\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\r\n                    }\r\n                }, true);\r\n\r\n                $scope.$watch('lineChart.legend', function(updatedLegend) {\r\n                    vm.data = prepareData(updatedLegend);\r\n                    vm.legend = updatedLegend;\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data || []).call(chart);\r\n                        drawEmptyState();\r\n\r\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\r\n                    }\r\n                }, true);\r\n\r\n                function prepareData(data) {\r\n                    let result = [];\r\n                    _.each(data, (seria) => {\r\n                        if (!seria.disabled) result.push(seria);\r\n                    });\r\n\r\n                    return _.cloneDeep(result);\r\n                }\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(() => {\r\n                    chart = nv.models.lineChart()\r\n                        .margin({ top: 20, right: 20, bottom: 30, left: 50 })\r\n                        .x(function (d) {\r\n                            return vm.xFormat ? vm.xFormat(d.x) : d.x;\r\n                        })\r\n                        .y(function (d) {\r\n                            return d.value;\r\n                        })\r\n                        .height(270)\r\n                        .useInteractiveGuideline(true)\r\n                        .showXAxis(true)\r\n                        .showYAxis(true)\r\n                        .showLegend(false)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('There is no data right now...');\r\n\r\n                    chart.yAxis\r\n                        .tickFormat(function (d) {\r\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\r\n                        });\r\n\r\n                    chart.xAxis\r\n                        .tickFormat(function (d) {\r\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\r\n                        });\r\n\r\n                    chartElem = d3.select($element.get(0)).select('.line-chart svg');\r\n                    chartElem.datum(vm.data || []).style('height', '270px').call(chart);\r\n\r\n                    if (vm.dynamic) {\r\n                        addZoom(chart, chartElem);\r\n                    }\r\n\r\n                    nv.utils.windowResize(chart.update);\r\n\r\n                    return chart;\r\n                }, () => {\r\n                    drawEmptyState();\r\n                });\r\n\r\n                function drawEmptyState() {\r\n                    if (!$element.find('text.nv-noData').get(0)) {\r\n                        d3.select($element.find('.empty-state')[0]).remove();\r\n                    } else {\r\n                        chartElem\r\n                            .append(\"defs\")\r\n                            .append(\"pattern\")\r\n                            .attr(\"height\", 1)\r\n                            .attr(\"width\", 1)\r\n                            .attr(\"x\", \"0\")\r\n                            .attr(\"y\", \"0\")\r\n                            .attr(\"id\", \"bg\")\r\n                            .append(\"image\")\r\n                            .attr('x', 47)\r\n                            .attr('y', 0)\r\n                            .attr('height', \"100%\")\r\n                            .attr('width', 1151)\r\n                            .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\r\n\r\n                        chartElem\r\n                            .append('rect')\r\n                            .classed('empty-state', true)\r\n                            .attr('height', \"100%\")\r\n                            .attr('width', \"100%\")\r\n                            .attr('fill', 'url(#bg)');\r\n                    }\r\n                }\r\n\r\n                function updateScroll(domains, boundary) {\r\n                    var bDiff = boundary[1] - boundary[0],\r\n                        domDiff = domains[1] - domains[0],\r\n                        isEqual = (domains[1] - domains[0])/bDiff === 1;\r\n\r\n                    $($element[0]).find('.visual-scroll')\r\n                        .css('opacity', function () {\r\n                            return isEqual ? 0 : 1;\r\n                        });\r\n\r\n                    if (isEqual) return;\r\n                    \r\n                    $($element[0]).find('.scrolled-block')\r\n                        .css('left', function () {\r\n                            return domains[0]/bDiff * 100 + '%';\r\n                        })\r\n                        .css('width', function () {\r\n                            return domDiff/bDiff * 100 + '%';\r\n                        });\r\n                }\r\n\r\n                function addZoom(chart, svg) {\r\n                    // scaleExtent\r\n                    var scaleExtent = 4;\r\n\r\n                    // parameters\r\n                    var yAxis       = null;\r\n                    var xAxis       = null;\r\n                    var xDomain     = null;\r\n                    var yDomain     = null;\r\n                    var redraw      = null;\r\n                    var svg         = svg;\r\n\r\n                    // scales\r\n                    var xScale = null;\r\n                    var yScale = null;\r\n\r\n                    // min/max boundaries\r\n                    var x_boundary = null;\r\n                    var y_boundary = null;\r\n\r\n                    // create d3 zoom handler\r\n                    var d3zoom = d3.behavior.zoom();\r\n                    var prevXDomain = null;\r\n                    var prevScale = null;\r\n                    var prevTranslate = null;\r\n\r\n                    setData(chart);\r\n\r\n                    function setData(newChart) {\r\n                        // parameters\r\n                        yAxis       = newChart.yAxis;\r\n                        xAxis       = newChart.xAxis;\r\n                        xDomain     = newChart.xDomain || xAxis.scale().domain;\r\n                        yDomain     = newChart.yDomain || yAxis.scale().domain;\r\n                        redraw      = newChart.update;\r\n\r\n                        // scales\r\n                        xScale = xAxis.scale();\r\n                        yScale = yAxis.scale();\r\n\r\n                        // min/max boundaries\r\n                        x_boundary = xAxis.scale().domain().slice();\r\n                        y_boundary = yAxis.scale().domain().slice();\r\n\r\n                        // create d3 zoom handler\r\n                        prevXDomain = x_boundary;\r\n                        prevScale = d3zoom.scale();\r\n                        prevTranslate = d3zoom.translate();\r\n\r\n                        // ensure nice axis\r\n                        xScale.nice();\r\n                        yScale.nice();\r\n                    }\r\n\r\n                    // fix domain\r\n                    function fixDomain(domain, boundary, scale, translate) {\r\n                        if (domain[0] < boundary[0]) {\r\n                            domain[0] = boundary[0];\r\n                            if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                                domain[1] += (boundary[0] - domain[0]);\r\n                            } else {\r\n                                domain[1] = prevXDomain[1];\r\n                                translate = _.clone(prevTranslate);\r\n                            }\r\n\r\n                        }\r\n                        if (domain[1] > boundary[1]) {\r\n                            domain[1] = boundary[1];\r\n                            if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                                domain[0] -= (domain[1] - boundary[1]);\r\n                            } else {\r\n                                domain[0] = prevXDomain[0];\r\n                                translate = _.clone(prevTranslate);\r\n                            }\r\n                        }\r\n\r\n                        d3zoom.translate(translate);\r\n                        prevXDomain = _.clone(domain);\r\n                        prevScale = _.clone(scale);\r\n                        prevTranslate = _.clone(translate);\r\n                        return domain;\r\n                    }\r\n\r\n                    function updateChart() {\r\n                        d3zoom.scale(1);\r\n                        d3zoom.translate([0,0]);\r\n                        xScale.domain(x_boundary);\r\n                        d3zoom.x(xScale).y(yScale);\r\n                        svg.call(d3zoom);\r\n                    }\r\n\r\n                    // zoom event handler\r\n                    function zoomed() {\r\n                        // Switch off vertical zooming temporary\r\n                        // yDomain(yScale.domain());\r\n\r\n                        if ((<any>d3.event).scale === 1) {\r\n                            unzoomed();\r\n                            updateChart();\r\n                        } else {\r\n                            xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\r\n                            redraw();\r\n                        }\r\n\r\n                        updateScroll(xScale.domain(), x_boundary);\r\n                    }\r\n\r\n                    //\r\n                    setZoom = function(which) {\r\n                        var center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                        var translate0 = d3zoom.translate(), coordinates0 = coordinates(center0);\r\n\r\n                        if (which === 'in') {\r\n                            if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                        } else {\r\n                            if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                        }\r\n\r\n                        var center1 = point(coordinates0);\r\n                        d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                        d3zoom.event(svg);\r\n                    };\r\n\r\n                    function step(which) {\r\n                        var translate = d3zoom.translate();\r\n\r\n                        if (which === 'right') {\r\n                            translate[0] -= 20;\r\n                        } else {\r\n                            translate[0] += 20;\r\n                        }\r\n\r\n                        d3zoom.translate(translate);\r\n                        d3zoom.event(svg);\r\n                    }\r\n\r\n                    function coordinates(point) {\r\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\r\n                        return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n                    }\r\n\r\n                    function point(coordinates) {\r\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\r\n                        return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n                    }\r\n\r\n                    function keypress() {\r\n                        switch((<any>d3.event).keyCode) {\r\n                            case 39: step('right'); break;\r\n                            case 37: step('left'); break;\r\n                            case 107: setZoom('in'); break;\r\n                            case 109: setZoom('out');\r\n                        }\r\n                    }\r\n\r\n                    // zoom event handler\r\n                    function unzoomed() {\r\n                        xDomain(x_boundary);\r\n                        redraw();\r\n                        d3zoom.scale(1);\r\n                        d3zoom.translate([0,0]);\r\n                        prevScale = 1;\r\n                        prevTranslate = [0,0];\r\n                    }\r\n\r\n                    // initialize wrapper\r\n                    d3zoom.x(xScale)\r\n                        .y(yScale)\r\n                        .scaleExtent([1, scaleExtent])\r\n                        .on('zoom', zoomed);\r\n\r\n                    // add handler\r\n                    svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n                    $($element.get(0)).addClass('dynamic');\r\n\r\n                    // add keyboard handlers\r\n                    svg\r\n                        .attr('focusable', false)\r\n                        .style('outline', 'none')\r\n                        .on('keydown', keypress)\r\n                        .on('focus', function () {});\r\n\r\n                    var getXMinMax = function(data) {\r\n                        var maxVal, minVal = null;\r\n\r\n                        for(var i=0;i<data.length;i++) {\r\n                            if (!data[i].disabled) {\r\n                                var tempMinVal = d3.max(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\r\n                                var tempMaxVal = d3.min(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\r\n                                minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                                maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                            }\r\n                        }\r\n                        return [maxVal, minVal];\r\n                    };\r\n\r\n                    updateZoomOptions = function(data) {\r\n                        yAxis = chart.yAxis;\r\n                        xAxis = chart.xAxis;\r\n\r\n                        xScale = xAxis.scale();\r\n                        yScale = yAxis.scale();\r\n\r\n                        x_boundary = getXMinMax(data);\r\n\r\n                        if (d3zoom.scale() === 1) {\r\n                            d3zoom.x(xScale).y(yScale);\r\n                            svg.call(d3zoom);\r\n                            d3zoom.event(svg);\r\n                        }\r\n\r\n                        updateScroll(xScale.domain(), x_boundary);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    if (!vm.data) return;\r\n\r\n                    vm.data.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipPieCharts\r\n     *\r\n     * @description\r\n     * Line chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipPieCharts', [])\r\n        .directive('pipPieChart', pipPieChart);\r\n\r\n    function pipPieChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                donut: '=pipDonut',\r\n                legend: '=pipShowLegend',\r\n                total: '=pipShowTotal',\r\n                size: '=pipPieSize'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'pieChart',\r\n            templateUrl: 'pie/pie_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm               = this;\r\n                var chart            = null;\r\n                var titleElem        = null;\r\n                var chartElem        = null;\r\n                var colors           = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n                var resizeTitleLabel = resizeTitleLabelUnwrap;\r\n\r\n                vm.data = vm.data || [];\r\n\r\n                vm.showLegend = function () {\r\n                    return vm.legend !== undefined ? vm.legend: true;\r\n                };\r\n\r\n                if (vm.series && vm.series.length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                $scope.$watch('pieChart.series', function (newVal) {\r\n                    vm.data = newVal;\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n                        $timeout(resizeTitleLabel);\r\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\r\n                    }\r\n                }, true);\r\n\r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(() => {\r\n                    chart = nv.models.pieChart()\r\n                        .margin({ top: 0, right: 0, bottom: 0, left: 0 })\r\n                        .x(function (d) {\r\n                            return vm.donut ? d.value : null;\r\n                        })\r\n                        .y(function (d) {\r\n                            return d.value;\r\n                        })\r\n                        .height(vm.size || 250)\r\n                        .width(vm.size || 250)\r\n                        .showLabels(true)\r\n                        .labelThreshold(.001)\r\n                        .growOnHover(false)\r\n                        .donut(vm.donut)\r\n                        .donutRatio(0.5)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('There is no data right now...');\r\n                    chart.showLegend(false);\r\n\r\n                    chartElem = d3.select($element.get(0))\r\n                        .select('.pie-chart svg')\r\n                        .attr('height', vm.size || 250 + 'px')\r\n                        .attr('width', vm.size || 250 + 'px')\r\n                        .style('opacity', 0)\r\n                        .datum(vm.data || [])\r\n                        .call(chart);\r\n\r\n                    nv.utils.windowResize(function () {\r\n                        chart.update();\r\n                        $timeout(resizeTitleLabel);\r\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\r\n                    });\r\n\r\n                    return chart;\r\n                }, () => {\r\n                    $timeout(function () {\r\n                        var svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0];\r\n                        renderTotalLabel(svgElem);\r\n                        d3.select(svgElem)\r\n                            .transition()\r\n                            .duration(1000)\r\n                            .style('opacity', 1);\r\n                        \r\n                        $timeout(resizeTitleLabelUnwrap, 800);\r\n                        drawEmptyState(svgElem);\r\n                    });\r\n                });\r\n\r\n                function drawEmptyState(svg) {\r\n                    if (!$element.find('text.nv-noData').get(0)) {\r\n                        d3.select($element.find('.empty-state')[0]).remove();\r\n                        $element.find('.pip-empty-pie-text').remove();\r\n                    } else {\r\n                    \r\n                        if ($element.find('.pip-empty-pie-text').length === 0) { \r\n                            $element.find('.pie-chart')\r\n                                .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\r\n                        }\r\n\r\n                        var pie = d3.layout.pie().sort(null),\r\n                            size = Number(vm.size || 250);\r\n\r\n                        var arc = d3.svg.arc()\r\n                            .innerRadius(size / 2 - 20)\r\n                            .outerRadius(size / 2 - 57);\r\n                    \r\n                        svg = d3.select(svg)\r\n                            .append(\"g\")\r\n                            .classed('empty-state', true)\r\n                            .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\r\n                    \r\n                        var path = svg.selectAll(\"path\")\r\n                            .data(pie([1]))\r\n                            .enter().append(\"path\")\r\n                            .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\r\n                            .attr(\"d\", <any>arc);\r\n                    }\r\n                }\r\n\r\n                function renderTotalLabel(svgElem) {\r\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\r\n\r\n                    var totalVal = vm.data.reduce(function (sum, curr) {\r\n                        return sum + curr.value;\r\n                    }, 0);\r\n                    \r\n                    d3.select(svgElem)\r\n                        .select('.nv-pie:not(.nvd3)')\r\n                        .append('text')\r\n                        .classed('label-total', true)\r\n                        .attr('text-anchor', 'middle')\r\n                        .style('dominant-baseline', 'central')\r\n                        .text(totalVal);\r\n\r\n                    titleElem = d3.select($element.find('text.label-total').get(0)).style('opacity', 0);\r\n                }\r\n\r\n                function resizeTitleLabelUnwrap() {\r\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\r\n\r\n                    var boxSize = vm.donut ? $element.find('.nv-pieLabels').get(0).getBBox()\r\n                        : $element.find('.nvd3.nv-pieChart').get(0).getBBox();\r\n\r\n                    if (!boxSize.width || !boxSize.height) {\r\n                        return;\r\n                    }\r\n\r\n                    titleElem.style('font-size', ~~boxSize.width / (vm.donut ? 2:2.5)).style('opacity', 1);\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    if (!vm.data) return;\r\n\r\n                    vm.data.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar/bar_chart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend pip-series=\"barChart.legend\" pip-interactive=\"barChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line/line_chart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': lineChart.isVisibleX(), \\'visible-y-axis\\': lineChart.isVisibleY()}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"lineChart.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"lineChart.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"lineChart.legend\" pip-interactive=\"lineChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('legend/interactive_legend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in series\"><md-checkbox class=\"lp16 m8\" ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie/pie_chart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !pieChart.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"pieChart.data\" pip-interactive=\"false\" ng-if=\"pieChart.showLegend()\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","'use strict';\r\n\r\nimport './settings_service/index';\r\nimport './settings_page/index';\r\n\r\nangular.module('pipSettings', [\r\n    'pipSettings.Service',\r\n    'pipSettings.Page'\r\n]);\r\n\r\nexport * from './settings_service';\r\nexport * from './settings_page';","/**\r\n * @file Registration of settings components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipSettings', [\r\n        'pipSettings.Service',\r\n        'pipSettings.Page'\r\n    ]);\r\n\r\n})();\r\n","// Prevent junk from going into typescript definitions\r\n(() => {\r\n\r\nclass SettingsPageController {\r\n    private _log: ng.ILogService;\r\n    private _q: ng.IQService;\r\n    private _state: ng.ui.IStateService;\r\n\r\n    public tabs: any;\r\n    public selected: any;\r\n\r\n    constructor(\r\n        $log: ng.ILogService,\r\n        $q: ng.IQService,\r\n        $state: ng.ui.IStateService,\r\n        pipNavService,\r\n        pipSettings,\r\n        $rootScope, \r\n        $timeout\r\n    ) {\r\n        this._log = $log;\r\n        this._q = $q;\r\n        this._state = $state;\r\n\r\n        this.tabs = _.filter(pipSettings.getTabs(), function (tab: any) {\r\n                if (tab.visible === true && (tab.access ? tab.access($rootScope.$user, tab) : true)) {\r\n                    return tab;\r\n                }\r\n            });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = {};\r\n        if (this._state.current.name !== 'settings') {\r\n            this.initSelect(this._state.current.name);\r\n        } else if (this._state.current.name === 'settings' && pipSettings.getDefaultTab()) {\r\n            this.initSelect(pipSettings.getDefaultTab().state);\r\n        } else {\r\n            $timeout(function () {\r\n                if (pipSettings.getDefaultTab()) {\r\n                    this.initSelect(pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                     this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Settings\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n\r\n    }\r\n\r\n    private initSelect(state: string) {\r\n        this.selected.tab = _.find(this.tabs, function (tab: any) {\r\n                    return tab.state === state;\r\n                });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n    }\r\n\r\n    public onDropdownSelect(state) {\r\n        this.onNavigationSelect(state.state);\r\n    }\r\n\r\n    public onNavigationSelect(state: string) {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this._state.go(state);\r\n            }\r\n        }\r\n}\r\n\r\nangular.module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n})();","'use strict';\r\n\r\nfunction configureSettingsPageRoutes($stateProvider) {\r\n    $stateProvider\r\n        .state('settings', {\r\n            url: '/settings?party_id',\r\n            auth: true,\r\n            controllerAs: 'vm',\r\n            controller: 'pipSettingsPageController',\r\n            templateUrl: 'settings_page/SettingsPage.html'\r\n        });\r\n       \r\n}\r\n\r\nangular.module('pipSettings.Page')\r\n    .config(configureSettingsPageRoutes);\r\n","'use strict';\r\n\r\nangular.module('pipSettings.Page', [\r\n    'ui.router', \r\n    'pipSettings.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipSettings.Templates'\r\n    ]);\r\n\r\n\r\nimport './SettingsPageController';\r\nimport './SettingsPageRoutes';","'use strict';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: string;\r\n    public access: boolean;\r\n    public visible: boolean;\r\n    public stateConfig: any;\r\n}\r\n\r\nexport interface ISettingsService {\r\n    getDefaultTab();\r\n    showTitleText (newTitleText);\r\n    showTitleLogo(newTitleLogo);\r\n    showNavIcon(value);\r\n    getTabs();\r\n}\r\n\r\nexport interface ISettingsProvider extends ng.IServiceProvider {\r\n    getDefaultTab();\r\n    addTab(tabObj);\r\n}\r\n\r\nexport class SettingsConfig {\r\n\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n\r\n}\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor($rootScope: ng.IRootScopeService, \r\n                       config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._rootScope = $rootScope;\r\n        this._config = config;\r\n    }\r\n\r\n    public getDefaultTab() {\r\n        var defaultTab;\r\n        defaultTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string) {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean) {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n    public getTabs() {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n    private _stateProvider: ng.ui.IStateProvider;\r\n\r\n    constructor($stateProvider: ng.ui.IStateProvider) {\r\n        this._stateProvider = $stateProvider;\r\n    }\r\n\r\n    public getFullStateName(state): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        var defaultTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj) {\r\n        var existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, function (p) {\r\n            return p.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this._stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string) {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, function (tab) {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this._stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: SettingsTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value) {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get($rootScope, $state) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SettingsService($rootScope, this._config);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","'use strict';\r\n\r\nangular.module('pipSettings.Service', []);\r\n\r\nimport './SettingsService';","/**\r\n * @file Settings tab logic\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipUserSettings', [\r\n        'ngMaterial', 'pipData',\r\n        'pipSettings.Service',\r\n        'pipSettings.Page',\r\n\r\n        'pipUserSettings.Strings',\r\n        'pipUserSettings.Sessions',\r\n        'pipUserSettings.BasicInfo',\r\n        'pipSettings.Templates'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Settings basic info controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.BasicInfo',\r\n        ['pipUserSettings.ChangePassword', 'pipUserSettings.VerifyEmail', \r\n            'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'basic_info',\r\n            index: 1,\r\n            title: 'SETTINGS_BASIC_INFO_TITLE',\r\n            stateConfig: {\r\n                url: '/basic_info',\r\n                controller: 'pipUserSettingsBasicInfoController',\r\n                templateUrl: 'user_settings/user_settings_basic_info.html',\r\n                auth: true\r\n            }\r\n        });\r\n\r\n        pipSettingsProvider.setDefaultTab('basic_info');\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n     *\r\n     * @description\r\n     * Controller for the predefined 'basic_info' state.\r\n     * Provides sync changes user's profile with remote profile.\r\n     * On state exit everything is saved on the server.\r\n     */\r\n    thisModule.controller('pipUserSettingsBasicInfoController',\r\n        function ($scope, $rootScope, $mdDialog, $state, $window, $timeout, $mdTheming,\r\n                  pipTranslate, pipTransaction, pipTheme,\r\n                  pipToasts, pipDataUser, pipDataParty, pipFormErrors) {\r\n\r\n            try {\r\n                $scope.originalParty = angular.toJson($rootScope.$party);\r\n            } catch (err) {\r\n                throw err;\r\n            }\r\n\r\n            $scope.nameCopy = $rootScope.$party.name;\r\n\r\n            $timeout(function () {\r\n                $scope.loc_pos = $rootScope.$party.loc_pos;\r\n            });\r\n\r\n            $scope.genders = pipTranslate.translateSet(['male', 'female', 'n/s']);\r\n            $scope.languages = pipTranslate.translateSet(['ru', 'en']);\r\n\r\n            $scope.transaction = pipTransaction('settings.basic_info', $scope);\r\n\r\n            $scope.themes = _.keys(_.omit($mdTheming.THEMES, 'default'));\r\n\r\n            $state.get('settings.basic_info').onExit = saveChanges;\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onChangePassword */\r\n            $scope.onChangePassword = onChangePassword;\r\n            /** @see onVerifyEmail */\r\n            $scope.onVerifyEmail = onVerifyEmail;\r\n            /** @see onPictureCreated */\r\n            $scope.onPictureCreated = onPictureCreated;\r\n            /** @see onPictureChanged */\r\n            $scope.onPictureChanged = onPictureChanged;\r\n            /** @see updateUser */\r\n            $scope.onChangeUser = _.debounce(updateUser, 2000);\r\n            /** @see saveChanges */\r\n            $scope.onChangeBasicInfo = _.debounce(saveChanges, 2000);\r\n\r\n            function onPictureChanged() {\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            function onPictureCreated($event) {\r\n                $scope.picture = $event.sender;\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeBasicInfo\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the input information.\r\n             * It is updated user's party profile. Also it updates user's profile in $rootScope.\r\n             */\r\n            function saveChanges() {\r\n                if ($scope.form) {\r\n                    $scope.form.$setSubmitted();\r\n                }\r\n\r\n                if ($rootScope.$party) {\r\n\r\n                    if ($rootScope.$party.type === 'person' && $scope.form.$invalid) {\r\n                        return;\r\n                    }\r\n\r\n                    // Check to avoid unnecessary savings\r\n                    $rootScope.$party.loc_pos = $scope.loc_pos;\r\n                    try {\r\n                        var party = angular.toJson($rootScope.$party);\r\n                    } catch (err) {\r\n                        throw err;\r\n                    }\r\n\r\n                    if (party !== $scope.originalParty) {\r\n                        var tid = $scope.transaction.begin('UPDATING');\r\n\r\n                        pipDataParty.updateParty($rootScope.$party,\r\n                            function (data) {\r\n                                if ($scope.transaction.aborted(tid)) {\r\n                                    return;\r\n                                }\r\n                                $scope.transaction.end();\r\n\r\n                                $scope.originalParty = party;\r\n                                $scope.nameCopy = data.name;\r\n                            }, function (error) {\r\n                                $scope.transaction.end(error);\r\n                                $scope.message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                                $rootScope.$party = angular.fromJson($scope.originalParty);\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeUser\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the user's profile information.\r\n             * Also it updates user's profile in $rootScope.\r\n             */\r\n            function updateUser() {\r\n                var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                if ($rootScope.$user.id === $rootScope.$party.id) {\r\n                    pipDataUser.updateUser(\r\n                        {\r\n                            item: $rootScope.$user\r\n                        },\r\n                        function (data) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                            pipTranslate.use(data.language);\r\n                            $rootScope.$user.language = data.language;\r\n                            $rootScope.$user.theme = data.theme;\r\n                            if ($rootScope.$user.theme) {\r\n                                pipTheme.setCurrentTheme($rootScope.$user.theme, true);\r\n                            }\r\n\r\n                        }, function (error) {\r\n                            var message;\r\n                            \r\n                            $scope.transaction.end(error);\r\n                            message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangePassword\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onChangePassword(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_change_password.html',\r\n                    controller: 'pipUserSettingsChangePasswordController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        if (answer) {\r\n                            message = String() + 'RESET_PWD_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    });\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onVerifyEmail\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onVerifyEmail(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_verify_email.html',\r\n                    controller: 'pipUserSettingsVerifyEmailController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        $scope.user.email_ver = answer;\r\n                        if (answer) {\r\n                            message = String() + 'VERIFY_EMAIL_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings change password controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.ChangePassword', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n     *\r\n     * @description\r\n     * Controller for dialog panel of password change.\r\n     */\r\n    thisModule.controller('pipUserSettingsChangePasswordController',\r\n        function ($scope, $rootScope, $mdDialog, email, pipDataUser, pipTransaction, pipFormErrors) {\r\n\r\n            $scope.transaction = pipTransaction('settings.change_password', $scope);\r\n            $scope.errorsRepeatWithHint = function (form, formPart) {\r\n                if ($scope.showRepeatHint) {\r\n                    return pipFormErrors.errorsWithHint(form, formPart);\r\n                }\r\n\r\n                return {};\r\n            };\r\n            $scope.showRepeatHint = true;\r\n            $scope.changePasData = {};\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            $scope.onCancel = onCancel;\r\n            $scope.onCheckRepeatPassword = onCheckRepeatPassword;\r\n            $scope.onApply = onApply;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCheckRepeatPassword\r\n             *\r\n             * @description\r\n             * Validates a password typed into password fields.\r\n             */\r\n            function onCheckRepeatPassword() {\r\n                if ($scope.changePasData) {\r\n                    if ($scope.repeat === $scope.changePasData.new_password || $scope.repeat === '' || !$scope.repeat) {\r\n                        $scope.form.repeat.$setValidity('repeat', true);\r\n                        if ($scope.repeat === $scope.changePasData.new_password) {\r\n                            $scope.showRepeatHint = false;\r\n                        } else {\r\n                            $scope.showRepeatHint = true;\r\n                        }\r\n                    } else {\r\n                        $scope.showRepeatHint = true;\r\n                        $scope.form.repeat.$setValidity('repeat', false);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onApply\r\n             *\r\n             * @description\r\n             * Approves password change and sends request to the server on password change.\r\n             */\r\n            function onApply() {\r\n                $scope.onCheckRepeatPassword();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n\r\n                if (!$scope.transaction.begin('CHANGE_PASSWORD')) {\r\n                    return;\r\n                }\r\n\r\n                $scope.changePasData.email = email;\r\n\r\n                pipDataUser.changePassword(\r\n                    $scope.changePasData,\r\n                    function () {\r\n                        $scope.transaction.end();\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1107: 'oldPassword',\r\n                                1105: 'newPassword'\r\n                            }\r\n                        );\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings sessions controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Sessions', [\r\n        'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider, pipDataSessionProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'sessions',\r\n            index: 3,\r\n            title: 'SETTINGS_ACTIVE_SESSIONS_TITLE',\r\n            stateConfig: {\r\n                url: '/sessions',\r\n                controller: 'pipUserSettingsSessionsController',\r\n                templateUrl: 'user_settings/user_settings_sessions.html',\r\n                auth: true,\r\n                resolve: {\r\n                    sessions: pipDataSessionProvider.readSessionsResolver,\r\n                    sessionId: pipDataSessionProvider.readSessionIdResolver\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n     *\r\n     * @description\r\n     * Controller provides an interface for managing active sessions.\r\n     */\r\n    thisModule.controller('pipUserSettingsSessionsController',\r\n        function ($scope, pipTransaction, pipDataSession, sessions, sessionId) {\r\n\r\n            $scope.sessionId = sessionId;\r\n            $scope.transaction = pipTransaction('settings.sessions', $scope);\r\n            $scope.sessions = sessions;\r\n\r\n            $scope.onRemoveAll = onRemoveAll;\r\n            $scope.onRemove = onRemove;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemoveAll\r\n             *\r\n             * @description\r\n             * Closes all active session.\r\n             */\r\n            function onRemoveAll() {\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n\r\n                async.eachSeries(\r\n                    $scope.sessions,\r\n                    function (session: any, callback) {\r\n                        if (session.id == $scope.sessionId) {\r\n                            callback();\r\n                        } else {\r\n                            pipDataSession.removeSession(\r\n                                {\r\n                                    session: session\r\n                                },\r\n                                function () {\r\n                                    $scope.sessions = _.without($scope.sessions, session);\r\n                                    callback();\r\n                                },\r\n                                function (error) {\r\n                                    callback;\r\n                                }\r\n                            );\r\n                        }\r\n                    },\r\n                    function (err) {\r\n                        if (err) {\r\n                            $scope.transaction.end(err);\r\n                        }\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n                    });                \r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemove\r\n             *\r\n             * @description\r\n             * Closes passed session.\r\n             *\r\n             * @param {Object} session  Session configuration object\r\n             */\r\n            function onRemove(session, callback) {\r\n                if (session.id === $scope.sessionId) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n                pipDataSession.removeSession(\r\n                    {\r\n                        session: session\r\n                    },\r\n                    function () {\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n\r\n                        $scope.sessions = _.without($scope.sessions, session);\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        $scope.message = 'ERROR_' + error.status || error.data.status_code;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* eslint-disable quote-props */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Strings', ['pipTranslate']);\r\n\r\n    thisModule.config(function (pipTranslateProvider) {\r\n\r\n        // Set translation strings for the module\r\n        pipTranslateProvider.translations('en', {\r\n            'SETTINGS_TITLE': 'Settings',\r\n            'SETTINGS_BASIC_INFO_TITLE': 'Basic info',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'Active sessions',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'Full name',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'Please, verify your email address.',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'Verify email address',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'Your password was changed on ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'Change your password',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'Please, use your real name to let other people know who you are.',\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'Few words about yourself',\r\n\r\n            'SETTINGS_BASIC_INFO_GENDER': 'Gender',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'Birthday',\r\n            'SETTINGS_BASIC_INFO_LOCATION': 'Current location',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'Primary email',\r\n            'SETTINGS_BASIC_INFO_FROM': 'User since ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': 'User ID',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'Change password',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'New password',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'Repeat password',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Current password',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': ' If you notice any unfamiliar devices or locations, click' +\r\n            '\"Close Session\" to end the session.',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'Close session',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'Close active sessions',\r\n            'SETTINGS_ACTIVE_SESSION_OS': 'OS: ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'active',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': 'Blacklist',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Parties from blacklist will not be able to send you invitations and ' +\r\n            'private messages.',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Unblock',\r\n            'SETTINGS_BLACKLIST_EMPTY': 'You have no blocked parties',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': 'Contact info',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': 'Email',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'Add email',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'Add phone',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'Add address',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'Add account',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'Add URL',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'Address',\r\n            'SETTINGS_CONTACT_INFO_PHONE': 'Phone',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Account name',\r\n            'SETTINGS_CONTACT_INFO_URL': 'URL',\r\n\r\n            'THEME': 'Theme',\r\n\r\n            'HINT_PASSWORD': 'Minimum 6 characters',\r\n            'HINT_REPEAT_PASSWORD': 'Repeat password',\r\n\r\n            'ERROR_WRONG_PASSWORD': 'Wrong password',\r\n            'ERROR_IDENTICAL_PASSWORDS': 'Old and new passwords are identical',\r\n            'REPEAT_PASSWORD_INVALID': 'Password does not match',\r\n            'ERROR_EMAIL_INVALID': 'Please, enter a valid email'\r\n        });\r\n\r\n        pipTranslateProvider.translations('ru', {\r\n            'SETTINGS_TITLE': '',\r\n            'SETTINGS_BASIC_INFO_TITLE': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': ' ',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': ',   ,     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': ',     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': '  .',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': '    ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': '   ',\r\n            'SETTINGS_BASIC_INFO_GENDER': '',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': ' ',\r\n            'SETTINGS_BASIC_INFO_LOCATION': ' ',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': '  . ',\r\n            'SETTINGS_BASIC_INFO_FROM': ' ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': ' ',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': '',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': ' ',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': '   -    ' +\r\n            ',   \" \",   .',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': '  ',\r\n            'SETTINGS_ACTIVE_SESSION_OS': ': ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': '',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': '',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': '     ' +\r\n            '      .',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': '',\r\n            'SETTINGS_BLACKLIST_EMPTY': '    ',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': '',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': '  ',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': '  . ',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': ' -',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': '',\r\n            'SETTINGS_CONTACT_INFO_PHONE': '',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': '  ',\r\n            'SETTINGS_CONTACT_INFO_URL': ' ',\r\n\r\n            'THEME': '',\r\n\r\n            'HINT_PASSWORD': ' 6 ',\r\n            'HINT_REPEAT_PASSWORD': ' ',\r\n\r\n            'ERROR_WRONG_PASSWORD': ' ',\r\n            'ERROR_IDENTICAL_PASSWORDS': '    ',\r\n            'REPEAT_PASSWORD_INVALID': '  ',\r\n            'ERROR_EMAIL_INVALID': ',   .'\r\n        });\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Settings verify email controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.VerifyEmail', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n     *\r\n     * @description\r\n     * Controller for verify email dialog panel.\r\n     */\r\n    thisModule.controller('pipUserSettingsVerifyEmailController',\r\n        function ($scope, $rootScope, $mdDialog, pipTransaction, pipFormErrors, pipDataUser, email) {\r\n\r\n            $scope.emailVerified = false;\r\n            $scope.data = {\r\n                email: email,\r\n                code: ''\r\n            };\r\n            $scope.transaction = pipTransaction('settings.verify_email', $scope);\r\n\r\n            /** @see onAbort */\r\n            $scope.onAbort = onAbort;\r\n            /** @see onRequestVerificationClick*/\r\n            $scope.onRequestVerificationClick = onRequestVerificationClick;\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onVerify */\r\n            $scope.onVerify = onVerify;\r\n            /** @see onCancel */\r\n            $scope.onCancel = onCancel;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onAbort\r\n             *\r\n             * @description\r\n             * Aborts a verify request.\r\n             */\r\n            function onAbort() {\r\n                $scope.transaction.abort();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onRequestVerificationClick\r\n             *\r\n             * @description\r\n             * Sends request to verify entered email.\r\n             */\r\n            function onRequestVerificationClick() {\r\n                    var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                pipDataUser.requestEmailVerification(\r\n                    {},                         \r\n                    function (result) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n                        }, \r\n                        function (error) {\r\n                            $scope.transaction.end(error);\r\n                        }\r\n                    );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onVerify\r\n             *\r\n             * @description\r\n             * Initiates request on verify email on the server.\r\n             */\r\n            function onVerify() {\r\n                $scope.form.$setSubmitted();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('Verifying');\r\n\r\n                pipDataUser.verifyEmail(\r\n                    {\r\n                        email: $scope.data.email,\r\n                        code: $scope.data.code\r\n                    }, \r\n                    function (verifyData) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1106: 'email',\r\n                                1103: 'code'\r\n                            }\r\n                        );\r\n\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('settings_page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list hide-xs\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown class=\"hide-gt-xs\" pip-actions=\"vm.tabs\" pip-dropdown-select=\"onDropdownSelect\" pip-active-index=\"selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_basic_info.html',\n    '<form name=\"form\" class=\"w-stretch\" novalidate=\"\"><md-progress-linear class=\"pip-progress-top\" ng-show=\"transaction.busy()\" md-mode=\"indeterminate\"></md-progress-linear><div class=\"layout-row bm12\"><div class=\"md-tile-left\"><pip-avatar-edit pip-party-id=\"$party.id\" pip-created=\"onPictureCreated($event)\" pip-changed=\"onPictureChanged($control, $event)\"></pip-avatar-edit></div><div class=\"md-tile-content tp0 layout-align-center\"><h3 class=\"tm16 bm8 text-one-line\">{{ nameCopy }}</h3><p class=\"text-primary text-overflow m0\">{{::\\'SETTINGS_BASIC_INFO_FROM\\' | translate}} {{$user.signup | formatLongDate }}</p></div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_BASIC_INFO_FULL_NAME\\' | translate}}</label> <input name=\"fullName\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\" ng-model=\"$party.name\" ng-disabled=\"transaction.busy()\" ng-change=\"onChangeBasicInfo()\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.fullName).hint\">{{::\\'ERROR_FULLNAME_INVALID\\' | translate}}</div></md-input-container><md-input-container class=\"md-block bm0\"><label>{{::\\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" required=\"\" ng-model=\"$party.email\" ng-change=\"onChangeBasicInfo()\" pip-email-unique=\"{{$party.email}}\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint && !$user.email_ver\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_HINT\\' | translate}}</div><div ng-messages=\"errorsWithHint(form.email)\" ng-hide=\"$party.type ==\\'team\\'\"><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div><div ng-message=\"emailUnique\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div></div></md-input-container><md-button class=\"md-raised bm16 tm8 rm8\" ng-click=\"onVerifyEmail($event)\" ng-hide=\"$user.email_ver || $party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_CODE\\' | translate}}</md-button><md-button ng-click=\"onChangePassword($event)\" class=\"md-raised bm16 tm8\" ng-hide=\"$party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\\' | translate}}</md-button><md-input-container class=\"md-block flex\"><label>{{::\\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\\' | translate }}</label> <textarea ng-model=\"$party.about\" columns=\"1\" ng-change=\"onChangeBasicInfo()\"></textarea></md-input-container><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'GENDER\\' | translate}}</label><md-select ng-model=\"$party.gender\" ng-change=\"onChangeBasicInfo()\" placeholder=\"{{\\'GENDER\\' | translate}}\"><md-option ng-value=\"gender.id\" ng-repeat=\"gender in genders\">{{gender.name}}</md-option></md-select></md-input-container><div ng-hide=\"$party.type ==\\'team\\'\"><p class=\"text-caption text-grey tm0 bm0\">{{::\\'SETTINGS_BASIC_INFO_BIRTHDAY\\' | translate}}</p><pip-date ng-model=\"$party.birthday\" ng-change=\"onChangeBasicInfo()\" pip-time-mode=\"past time-mode=\" past\"=\"\"></pip-date></div><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'LANGUAGE\\' | translate}}</label><md-select placeholder=\"{{\\'LANGUAGE\\' | translate}}\" ng-model=\"$user.language\" ng-change=\"onChangeUser()\"><md-option ng-value=\"language.id\" ng-repeat=\"language in languages\">{{language.name}}</md-option></md-select></md-input-container><md-input-container class=\"md-block\" ng-if=\"$party.type !=\\'team\\'\"><label>{{::\\'THEME\\' | translate}}</label><md-select class=\"w-stretch theme-text-primary\" ng-model=\"$user.theme\" ng-change=\"onChangeUser()\" ng-disabled=\"transaction.busy()\"><md-option ng-value=\"theme\" ng-repeat=\"theme in themes\" ng-selected=\"$theme == theme ? true : false\">{{ theme | translate }}</md-option></md-select></md-input-container><pip-location-edit class=\"map-edit bm24-flex\" ng-hide=\"$party.type ==\\'team\\'\" pip-changed=\"onChangeBasicInfo()\" pip-location-name=\"$party.loc_name\" pip-location-pos=\"loc_pos\"></pip-location-edit></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_change_password.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><form name=\"form\" ng-submit=\"onApply()\"><div class=\"pip-header\"><h3 class=\"m0\">{{::\\'SETTINGS_CHANGE_PASSWORD_TITLE\\' | translate : module}}</h3></div><div class=\"pip-body\"><div class=\"pip-content\"><div class=\"text-error bm8\" ng-messages=\"form.$serverError\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\\' | translate }}</label> <input name=\"oldPassword\" type=\"password\" ng-model=\"changePasData.old_password\" ng-required=\"change_password.$submitted\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.oldPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"ERROR_1107\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{\\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\\' | translate }}</label> <input name=\"newPassword\" type=\"password\" ng-model=\"changePasData.new_password\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\" pip-clear-errors=\"\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.newPassword).hint\">{{ \\'HINT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsWithHint(form, form.newPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"ERROR_1105\">{{::\\'ERROR_IDENTICAL_PASSWORDS\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{ \\'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\\' | translate }}</label> <input name=\"repeat\" type=\"password\" ng-model=\"repeat\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\"><div class=\"hint\" ng-if=\"errorsRepeatWithHint(form.repeat).hint\">{{::\\'HINT_REPEAT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsRepeatWithHint(form.repeat)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"repeat\">{{::\\'REPEAT_PASSWORD_INVALID\\' | translate }}</div></div></md-input-container></div></div><div class=\"pip-footer\"><div><md-button aria-label=\"xxx\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate }}</md-button><md-button type=\"submit\" class=\"md-accent\" aria-label=\"xxx\">{{::\\'APPLY\\' | translate : module}}</md-button></div></div></form></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_sessions.html',\n    '<md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><div class=\"pip-details-title pip-sessions\"><p class=\"pip-title bm16\">{{::\\'SETTINGS_ACTIVE_SESSIONS_TITLE\\' | translate}}</p><p class=\"pip-subtitle\">{{::\\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\\' | translate}}</p></div><md-list class=\"w-stretch\"><div ng-repeat=\"session in sessions\"><div class=\"layout-row\" ng-init=\"showBlock = session.id != sessionId\" ng-click=\"showBlock = !showBlock\"><p class=\"m0 text-subhead2 text-overflow max-w50-stretch\">{{::session.client}}</p><p class=\"m0 lp4 text-body1 color-secondary-text flex\">{{::\\'SETTINGS_ACTIVE_SESSION_ACTIVE\\' | translate}}</p><p class=\"m0 text-body1 color-secondary-text\">{{::country}}<md-icon ng-if=\"showBlock\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon ng-if=\"!showBlock\" md-svg-icon=\"icons:triangle-down\"></md-icon></p></div><div class=\"layout-row bm8 bp8\" ng-class=\"{\\'divider-bottom\\':!$last}\"><div class=\"flex-50\"><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\">{{session.last_req | date : \\'medium\\'}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_OS\\' | translate}}{{::session.platform}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_IP\\' | translate}}{{::session.address}}</p><md-button class=\"md-raised\" ng-show=\"showBlock && session.id != sessionId\" ng-click=\"onRemove(session)\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\\' | translate}}</md-button></div><pip-location-ip class=\"map-edit flex-50\" ng-if=\"showBlock\" pip-ipaddress=\"session.address\" pip-extra-info=\"country = extraInfo.country\"></pip-location-ip></div></div></md-list><div class=\"layout-row layout-align-end-center\"><md-button class=\"md-raised\" ng-show=\"sessions.length > 1\" ng-click=\"onRemoveAll()\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\\' | translate}}</md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_verify_email.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2>{{::\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{::\\'VERIFY_EMAIL_TEXT_1\\' | translate}}</p><form name=\"form\" novalidate=\"\"><div ng-messages=\"form.$serverError\" class=\"text-error bm8\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"display bp4 md-block\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" ng-model=\"data.email\" required=\"\" step=\"any\" pip-clear-errors=\"\" tabindex=\"1\" ng-disabled=\"transaction.busy()\" pip-test=\"input-email\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"errorsWithHint(form, form.email)\" xng-if=\"!form.email.$pristine\"><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1106\">{{::\\'ERROR_USER_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label> <input name=\"code\" ng-disabled=\"transaction.busy()\" tabindex=\"0\" ng-model=\"data.code\" required=\"\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.code)\"><div ng-message=\"required\">{{::\\'ERROR_CODE_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1103\">{{::\\'ERROR_CODE_WRONG\\' | translate }}</div></div></md-input-container><p>{{::\\'VERIFY_EMAIL_TEXT_21\\' | translate}} <a ng-click=\"onRequestVerificationClick()\" class=\"pointer\" tabindex=\"0\">{{::\\'VERIFY_EMAIL_RESEND\\' | translate}}</a> {{::\\'VERIFY_EMAIL_TEXT_22\\' | translate}}</p></form></div></div><div class=\"pip-footer\"><md-button ng-click=\"onCancel()\" ng-hide=\"transaction.busy()\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-click=\"onVerify()\" ng-hide=\"transaction.busy()\" tabindex=\"0\" aria-label=\"xxx\" ng-disabled=\"data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)\">{{::\\'VERIFY\\' | translate}}</md-button><md-button class=\"md-warn\" ng-show=\"transaction.busy()\" ng-click=\"transaction.abort()\" tabindex=\"0\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","/**\r\n * @file Registration of all help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp', [\r\n        'pipHelp.Service',\r\n        'pipHelp.Page'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Page template for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp.Page', ['ui.router', 'pipHelp.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\r\n        'pipHelp.Templates'])\r\n        .config(config)\r\n        .controller('pipHelpPageController', HelpPageController);\r\n\r\n    function config($stateProvider) {\r\n        $stateProvider.state('help', {\r\n            url: '/help',\r\n            auth: false,\r\n            controller: 'pipHelpPageController',\r\n            templateUrl: 'help_page/help_page.html'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipHelp.Page.pipHelpPageController\r\n     *\r\n     * @description\r\n     * The controller is used for the root Help component.\r\n     * It manages available tabs provide navigation through those ones.\r\n     *\r\n     * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L40 View source}\r\n     *\r\n     *\r\n     * @param {Object} $rootScope   Root scope object\r\n     * @param {Object} $scope       Scope for the current controller\r\n     * @param {Object} $state       UI Router service\r\n     * @param {Object} pipAppBar    Service provides an interface to manage on application bar header.\r\n     * @param {Object} pipHelp      Service to manage this component behaviour\r\n     */\r\n    function HelpPageController($rootScope, $scope, $state, pipAppBar, pipHelp) {\r\n\r\n        $scope.tabs = _.filter(pipHelp.getTabs(), function (tab: any) {\r\n            if (tab.visible && (tab.access !== angular.noop ? tab.access($rootScope.$user, tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n        $scope.selected = {};\r\n\r\n        if ($state.current.name !== 'help') {\r\n            initSelect($state.current.name);\r\n        } else {\r\n            initSelect(pipHelp.getDefaultTab().state);\r\n        }\r\n\r\n        appHeader();\r\n\r\n        $scope.onNavigationSelect = onNavigationSelect;\r\n        $scope.onDropdownSelect = onDropdownSelect;\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onDropdownSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L72 View source}\r\n         *\r\n         * @param {Object} state    State configuration object\r\n         */\r\n        function onDropdownSelect(state) {\r\n            onNavigationSelect(state.state);\r\n        }\r\n\r\n        /**\r\n         * Config appBar due to this page\r\n         */\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showTitleText('Help');\r\n            pipAppBar.showShadowSm();\r\n            pipAppBar.showLocalActions(null, []);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onNavigationSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L98 View source}\r\n         *\r\n         * @param {string} state    Name of the target state.\r\n         */\r\n        function onNavigationSelect(state) {\r\n            initSelect(state);\r\n\r\n            if ($scope.selected.tab) {\r\n                $state.go(state);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set selected item for highlighting in the nav menu\r\n         */\r\n        function initSelect(state) {\r\n            $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\r\n                return tab.state === state;\r\n            });\r\n\r\n            $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\r\n            $scope.selected.tabId = state;\r\n        }\r\n    }\r\n})();\r\n","/**\r\n * @file Service for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name pipHelp.Service.pipHelp\r\n     *\r\n     * @description\r\n     * This service is provided an interface to manage the Help component.\r\n     * It is available on the config and run application phases. On the both phases the interface is the same.\r\n     * This module requires the '$state' module.\r\n     */\r\n    angular.module('pipHelp.Service', ['ui.router'])\r\n        .provider('pipHelp',\r\n            function ($stateProvider): any {\r\n                var defaultTab,\r\n                    tabs = [];\r\n\r\n                /** @see addTab */\r\n                this.addTab = addTab;\r\n\r\n                /** @see setDefaultTab */\r\n                this.setDefaultTab = setDefaultTab;\r\n\r\n                /** @see getTabs */\r\n                this.getTabs = getTabs;\r\n\r\n                /** @see getDefaultTab */\r\n                this.getDefaultTab = getDefaultTab;\r\n\r\n                this.$get = function () {\r\n                    return {\r\n                        /** @see getTabs */\r\n                        getTabs: getTabs,\r\n\r\n                        /** @see getDefaultTab */\r\n                        getDefaultTab: getDefaultTab,\r\n\r\n                        /** @see addTab */\r\n                        addTab: addTab,\r\n\r\n                        /** @see setDefaultTab */\r\n                        setDefaultTab: setDefaultTab\r\n                    };\r\n                };\r\n\r\n                /**\r\n                 * This method build the full name of state within the abstract 'help' state\r\n                 */\r\n                function getFullStateName(state) {\r\n                    return 'help.' + state;\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getTabs\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method returns asset of all tabs registered in the Help component.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L79 View source}\r\n                 *\r\n                 * @returns {Array<Object>} List of registered states\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getTabs();\r\n                 * </pre>\r\n                 */\r\n                function getTabs() {\r\n                    return _.cloneDeep(tabs);\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method return name of the default state.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L101 View source}\r\n                 *\r\n                 * @returns {string} Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getDefaultTab();\r\n                 * </pre>\r\n                 */\r\n                function getDefaultTab() {\r\n                    return _.cloneDeep(_.find(tabs, function (tab) {\r\n                        return tab.state === defaultTab;\r\n                    }));\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#addTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method allows add new tab into navigation menu. It accepts config object to define new state\r\n                 * with needed params.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L139 View source}\r\n                 *\r\n                 * @param {Object} tabObj Configuration object contains settings for another tab\r\n                 * @param {Object.<string>} tabObj.state   Name of tab state which is available via UI router\r\n                 * @param {Object.<string>} tabObj.title   Tab title in the navigation menu.\r\n                 * @param {Object.<boolean>} tabObj.access If it is true it will be available only for logged in users\r\n                 * @param {Object.<boolean>} tabObj.visible If it is true the tab will be visible\r\n                 * @param {Object.<Object>} tabObj.stateConfig  Configuration object in format like UI Router state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 *  // on the config phase\r\n                 *  pipHelpProvider.addTab({\r\n                 *      state: 'test',\r\n                 *      title: 'Test help tab',\r\n                 *      auth: true,\r\n                 *      stateConfig: {\r\n                 *          url: '/test',\r\n                 *          templateUrl: 'help/help_test1.html'\r\n                 *      }\r\n                 *  });\r\n                 * </pre>\r\n                 */\r\n                function addTab(tabObj) {\r\n                    var tab;\r\n\r\n                    validateTab(tabObj);\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(tabObj.state);\r\n                    });\r\n                    if (tab) {\r\n                        throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n                    }\r\n\r\n                    tabs.push({\r\n                        state: getFullStateName(tabObj.state),\r\n                        title: tabObj.title,\r\n                        access: tabObj.access || angular.noop,\r\n                        visible: tabObj.visible || true,\r\n                        stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n                    });\r\n\r\n                    $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n                    // if we just added first state and no default state is specified\r\n                    if (_.isUndefined(defaultTab) && tabs.length === 1) {\r\n                        setDefaultTab(tabObj.state);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#setDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method establishes passed state as default which is redirected at after transfer on abstract\r\n                 * state\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L185 View source}\r\n                 *\r\n                 * @param {Object} name     Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * pipHelpProvider.setDefaultTab('test');\r\n                 * </pre>\r\n                 */\r\n                function setDefaultTab(name) {\r\n                    var tab, error;\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(name);\r\n                    });\r\n                    if (!tab) {\r\n                        error = new Error('Tab with state name \"' + name + '\" is not registered');\r\n                        throw error;\r\n                    }\r\n\r\n                    defaultTab = getFullStateName(name);\r\n\r\n                    $stateProvider.redirect('help', getFullStateName(name));\r\n                }\r\n\r\n                /**\r\n                 * This method validates passed state.\r\n                 * If it is incorrect it will throw an error.\r\n                 */\r\n                function validateTab(tabObj) {\r\n                    if (!tabObj || !_.isObject(tabObj)) {\r\n                        throw new Error('Invalid object');\r\n                    }\r\n\r\n                    if (!tabObj.state || tabObj.state === '') {\r\n                        throw new Error('Tab should have valid Angular UI router state name');\r\n                    }\r\n\r\n                    if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n                        throw new Error('\"access\" should be a function');\r\n                    }\r\n\r\n                    if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n                        throw new Error('Invalid state configuration object');\r\n                    }\r\n                }\r\n            });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/help_page.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\"><div class=\"pip-menu-container pip-help\" ng-if=\"manager !== false\"><md-list class=\"pip-menu pip-simple-list hide-xs\" pip-selected=\"selected.tabIndex\" pip-selected-watch=\"selected.navId\" pip-select=\"onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable\" ng-repeat=\"tab in tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{::tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown class=\"hide-gt-xs\" pip-actions=\"tabs\" pip-dropdown-select=\"onDropdownSelect\" pip-active-index=\"selected.tabIndex\"></pip-dropdown><div class=\"pip-body layout-column flex\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-if=\"manager === false\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}