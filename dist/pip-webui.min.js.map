{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/dependencies/TranslateFilter.ts","src/fabs/FabTooltipVisibility.ts","src/refresh_button/RefreshButton.ts","src/toggle_buttons/ToggleButtons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/focused.ts","src/infinite_scroll/infiniteScroll.ts","src/selected/selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/unsavedChanges.ts","src/color_picker/ColorPicker.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","src/toast/index.ts","temp/pip-webui-controls-html.min.js","src/tag_list/TagList.ts","temp/pip-webui-lists-html.min.js","src/date/Date.ts","src/date_format/DateConvertService.ts","src/date_format/DateFormatFilter.ts","src/date_format/DateFormatService.ts","src/date_format/IDateConvertService.ts","src/date_format/index.ts","src/date_range/DateRange.ts","src/time_range/TimeRange.ts","src/time_range_edit/TimeRangeEdit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationDialogController.ts","src/confirmation/ConfirmationDialogParams.ts","src/confirmation/ConfirmationDialogService.ts","src/confirmation/index.ts","src/error_details/ErrorDetailsDialogController.ts","src/error_details/ErrorDetailsDialogParams.ts","src/error_details/ErrorDetailsDialogService.ts","src/error_details/index.ts","src/information/InformationDialogController.ts","src/information/InformationDialogParams.ts","src/information/InformationDialogService.ts","src/information/index.ts","src/options/OptionsDialogController.ts","src/options/OptionsDialogData.ts","src/options/OptionsDialogParams.ts","src/options/OptionsDialogResult.ts","src/options/OptionsDialogService.ts","src/options/index.ts","src/options_big/OptionsBigDialogController.ts","src/options_big/OptionsBigDialogData.ts","src/options_big/OptionsBigDialogParams.ts","src/options_big/OptionsBigDialogResult.ts","src/options_big/OptionsBigDialogService.ts","src/options_big/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/IActionsService.ts","src/actions/PrimaryActions.ts","src/actions/SecondaryActions.ts","src/actions/index.ts","src/appbar/AppBar.ts","src/appbar/AppBarConfig.ts","src/appbar/AppBarPart.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/Breadcrumb.ts","src/breadcrumb/BreadcrumbConfig.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dropdown/Dropdown.ts","src/header/NavHeader.ts","src/header/NavHeaderConfig.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIcon.ts","src/icon/NavIconConfig.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenu.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBar.ts","src/search/SearchConfig.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNav.ts","src/sidenav/SideNavPart.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/Tabs.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/error_pages/ErrorPageConfig.ts","src/error_pages/ErrorPageConfigService.ts","src/form_errors/ClearErrorsDirective.ts","src/form_errors/FormErrorsService.ts","src/maintenance/MaintenanceErrorPage.ts","src/missing_route/MissingRouteErrorPage.ts","src/no_connection/NoConnectionErrorPage.ts","src/no_connection_panel/NoConnectionPanel.ts","src/unknown/UnknownErrorPage.ts","src/unsupported/UnsupportedErrorPage.ts","temp/pip-webui-errors-html.min.js","src/bar_chart/BarChart.ts","src/chart_colors/ChartColorsService.ts","src/chart_legend/ChartInteractiveLegend.ts","src/line_chart/LineChart.ts","src/pie_chart/PieChart.ts","temp/pip-webui-charts-html.min.js","src/location/Location.ts","src/location_dialog/LocationDialog.ts","src/location_dialog/LocationDialogParams.ts","src/location_dialog/index.ts","src/location_edit/LocationEdit.ts","src/location_ip/LocationIp.ts","src/location_map/locationMap.ts","temp/pip-webui-locations-html.min.js","src/common/ButtonsUpload.ts","src/fail/FileFail.ts","src/model/FileModel.ts","src/select/FileSelect.ts","src/service/FileUploadService.ts","src/service/FileUploadState.ts","src/start/FileStart.ts","src/success/FileSuccess.ts","src/upload/FileUpload.ts","temp/pip-webui-files-html.min.js","src/add_tile_dialog/AddTileDialogController.ts","src/add_tile_dialog/AddTileProvider.ts","src/add_tile_dialog/index.ts","src/calendar_tile/CalendarTile.ts","src/common_tile/Tile.ts","src/config_tile_dialog/ConfigDialogController.ts","src/config_tile_dialog/ConfigDialogExtendComponent.ts","src/config_tile_dialog/ConfigDialogService.ts","src/config_tile_dialog/index.ts","src/dashboard/Dashboard.ts","src/draggable/Draggable.ts","src/draggable/DraggableTileService.ts","src/event_tile/EventTile.ts","src/menu_tile/MenuTileDirective.ts","src/menu_tile/MenuTileService.ts","src/menu_tile/index.ts","src/note_tile/NoteTile.ts","src/picture_slider_tile/PictureSliderTile.ts","src/position_tile/PositionTile.ts","src/statistics_tile/StatisticsTile.ts","src/tile_group/TileGroupDirective.ts","src/tile_group/TileGroupService.ts","src/tile_group/index.ts","src/utility/TileTemplateUtility.ts","temp/pip-webui-dashboard-html.min.js","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js","src/page/HelpPage.ts","src/page/HelpPageRoutes.ts","src/service/HelpConfig.ts","src/service/HelpPageSelectedTab.ts","src/service/HelpService.ts","src/service/HelpStateConfig.ts","src/service/HelpTab.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","StateVar","PrevStateVar","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","Object","defineProperty","value","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","config","hookRoutingEvents","$log","$state","RoutingVar","error","5","m","p","hasOwnProperty","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","$emit","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","get","set","$get","provider","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","8","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","id","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","10","TransactionError","decode","details","cause","stack_trace","data","statusText","status","11","TransactionService","_transactions","create","transaction","Transaction_1","12","$injector","pipTranslate","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","configureTransactionStrings","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","directive","translateDirective","translateHtmlDirective","15","translateFilter","16","initTranslate","language","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","__","constructor","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","save","changeLocale","locale","localeDate","moment","localeData","months","isArray","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","_this","TranslateProvider","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","./TranslateFilter","./TranslateService","19","Codes","hash","result","verification","random","substr","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","parseFormat","args","21","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","browserVersion","service","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","field","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","filter","2","pipFabTooltipVisibility","$parse","controller","FabTooltipVisibilityController_1","$element","$attrs","$scope","showGetter","showSetter","assign","$watch","trigGetter","isOpen","isFunction","./refresh_button/RefreshButton","./toggle_buttons/ToggleButtons","4","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","$onChanges","changes","currentValue","hide","onClick","$event","width","css","RefreshButtonComponent","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","index","currentButtonIndex","disabled","on","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","bindings","component","$templateCache","put","layouts","MediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","isGtxs","Number","MainBreakpoints","xs","isGtlg","lg","AuxPanel","transclude","../media/MediaService","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","apply","AuxPanelPartController_1","partName","pipAuxPanelPart","pos","partValue","onAuxPanelChanged","currentPartValue","parts","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","_state","$broadcast","AuxPanelStateChangedEvent","toggle","_i","arguments","c","reject","cc","part","AuxPanelChangedEvent","AuxPanelProvider","IAuxPanelService_2","AuxPanelConfig","type","./IAuxPanelService","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","7","cardDirective","CardDirectiveLink","listener","resize","IMediaService_1","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","dialogDirective","documentDirective","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","MainBodyDirectiveLink","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","columns","layout","LayoutResizedEvent","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resizeListener","win","target","srcElement","__resizeRAF__","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","removeEventListener","removeChild","behaviors","CancelDragLink_1","attr","CancelDrag","DragLink_1","$document","pipDraggable","LONG_PRESS","_centerAnchor","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","_data","_dragOffset","_dragEnabled","_pressTimer","_elementStyle","scrollParent","scrollContainer","_deregisterRootMoveListener","noop","ngDrag","_myid","$id","onDragStartCallback","pipDragStart","onDragStopCallback","pipDragStop","onDragSuccessCallback","pipDragSuccess","allowTransform","isDefined","$eval","getDragData","pipDragData","verticalScroll","pipVerticalScroll","horizontalScroll","pipHorizontalScroll","activationDistance","pipActivationDistance","scrollDistance","scrollContainerGetter","pipScrollContainer","initialize","dragHandles","querySelectorAll","_dragHandle","toggleListeners","enable","onDestroy","pipDrag","newVal","oldVal","onEnableChange","pipCenterAnchor","onCenterAnchor","onpress","nodeName","isClickableElement","evt","button","saveElementStyles","cancelPress","onlongpress","off","offset","getBoundingClientRect","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","inputEvent","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","origEvent","x","y","tx","ty","$data","dragToScroll","moveElement","uid","dragOffset","onDragComplete","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","Drag","DraggableService","touches","originalEvent","DropLink_1","pipDrop","isTouching","onDropCallback","pipDropSuccess","onDragMoveCallback","pipDragMove","onDragStart","onDragMove","onDragEnd","_dropEnabled","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","Drop","PreventDragLink_1","absorbEvent_","stopPropagation","cancelBubble","returnValue","./Drag","./DraggableService","./Drop","./PreventDrag","FocusedLink_1","$mdConstant","opacityDelta","opacityLimit","keydownListener","init","ngModel","pipFocusedData","selector","pipWithHidden","onFocusClass","pipFocusedClass","controls","controlsLength","checkTabindex","currentTarget","pipRebind","pipFocusedOpacity","color","oldBackgroundColor","rgba","pipFocusedColor","arr","red","blue","green","opacity","setTabindex","findIndex","pipFocusedTabindex","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipFocusedRebind","./focused/focused","./infinite_scroll/infiniteScroll","./selected/selected","./shortcuts/index","./unsaved_changes/unsavedChanges","InfiniteScrollLink_1","THROTTLE_MILLISECONDS","checkWhenEnabled","immediateCheck","scrollEnabled","unregisterEventListener","useDocumentBottom","windowElement","onContainerScrollThrottle","throttle","onContainerScroll","unbind","v","handleScrollDistance","pipScrollDistance","handleScrollDisabled","pipScrollDisabled","handleScrollUseDocumentBottom","pipScrollUseDocumentBottom","pipScrollListenForEvent","newContainer","handleScrollContainer","pipScrollParent","changeContainer","pipScrolImmediateCheck","isNaN","clientHeight","offsetTop","ownerDocument","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","pipInfiniteScroll","bind","HTMLElement","append","parents","InfiniteScroll","SelectedLink_1","touchBoundary","tapdelay","tapTimeout","indexGetter","pipSelected","indexSetter","idGetter","pipSelectedId","idSetter","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","noScroll","pipNoScroll","modifier","pipSkipHidden","className","pipTreeList","selectedIndex","currentElementTabinex","pipSelectedWatch","isScrolled","onClickEvent","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onKeyDown","onFocusIn","onFocusOut","newSelectedId","selectItem","itemId","raiseEvent","newSelectedIndex","itemIndex","itemParams","itemsLength","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedId","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","getTargetElementFromEventTarget","eventTarget","nodeType","Node","TEXT_NODE","parentNode","touchHasMoved","touch","changedTouches","boundary","touchStartX","touchStartY","ev","targetElement","trackingClick","trackingClickStart","timeStamp","newTrackingClickStart","lastClickTime","cancelNextClick","ENTER","SPACE","inc","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","KeyboardEvent","Keydown","Keyup","Keypress","ShortcutOptions","Shortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","pause","break","insert","home","delete","end","pageup","page_up","pu","pagedown","page_down","pd","up","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","shift","wanted","pressed","ctrl","alt","meta","shorcut","Type","DisableInInput","element_1","tagName","character","kp","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","ShortcutBindingService_1","_shortcuts","_defaultOption","defaults","getDefaultOption","defaultOption","Shortcut_1","Target","add","shortcut","remove","shortcutOption","shortcutCombination","getElementById","newKeyboardShortcut","eventCallback","binding","detachEvent","ShortcutBindingProvider","_option","ShortcutController","pipShortcutBinding","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","options","pipShorcutOptions","keypressShortcut","action","shortcutsDirective","ShortcutsChangedEvent","ShortcutsService","$location","_oldConfig","addShortcuts","sendChangeEvent","removeShortcuts","collection","access","keypress","href","stateParams","generalOptions","defaultOptions","targetId","ShortcutsProvider","IShortcutsService_1","./IShortcutsService","./ShortcutBindingService","./ShortcutDirective","./ShortcutsService","onbeforeunload","unsavedChangesAvailable","unsavedChangesMessage","unbindFunc","confirm","cancelLeave","afterLeave","ColorPickerBindings","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","currentColorIndex","selectColor","pipColorPicker","templateUrl","pipImageSliderController_1","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","_type","slideTo","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","direction","blockIndex","vm","SliderButtonController_1","SliderIndicatorController_1","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","MarkdownBindings","isList","clamp","rebind","MarkdownController","MarkdownChanges","bindText","_text","_$scope","newText","describeAttachments","array","attachTypes","attach","attachString","_pipTranslate","textString","isClamped","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","ConfigTranslations","MarkdownComponent","PopoverController","$compile","$templateRequest","backdropElement","backdropClick","responsive","locals","template","content","then","calcHeight","onResize","cancelCallback","closePopover","onPopoverClick","docWidth","docHeight","popover","title","footer","contentHeight","PopoverBindings","Popover","PopoverService","popoverTemplate","$new","isObject","./PopoverService","RoutingBindings","showProgress","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","actions","actionLenght","onDetails","ok","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","hideDelay","duration","currentToast","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","./Toast","./ToastService","lists","./tag_list/TagList","TagListController","toBoolean","TagListBindings","typeLocal","rebuid","TagList","TagListChanges","dates","DateBindings","timeMode","model","ngChange","DateController","DateChanges","momentMonths","momentDays","momentShortDays","momentFirstDayOfWeek","isDate","day","getDate","month","getMonth","year","getFullYear","dayList","monthList","years","yearList","disableControls","getValue","count","currentYear","startYear","endYear","adjustDay","setValue","onMonthChanged","onYearChanged","DateComponent","IDateConvertService_1","DateConvert","_momentRanged","DateRangeType","All","_defaultFormat","_defaultTimeZoneOffset","isUndefinedOrNull","date","getRange","Day","getOperationRange","range","WeekFromSunday","Week","toStartRange","localDate","utcOffset","isValid","startOf","toDate","toEndRange","mssOffset","toJson","toNextRange","toPrevRange","toCurrentRange","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","Month","toEndMonth","toStartYear","Year","toEndYear","DateConvertService","convert","_convert","defaultTimeZoneOffset","toJSON","DateConvertProvider","formatTimeFilter","pipDateFormat","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","pipDateConvert","DateFormat","formatDateTime","basicFormat","formatTpl","formatDateTimeY","nowDate","formatMoment","longDateFormat","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","toDateWithTime","formatDate","toTodayDate","fromNow","getDateJSON","DateFormatService","_format","DateFormatProvider","./DateFormatFilter","./DateFormatService","./IDateConvertService","./IDateFormatService","DateRangeBindings","DateRangeChanges","DateRangeController","$mdMedia","prevState","currentState","standalone","currentDate","getUTCFullYear","currentMonth","getUTCMonth","currentDay","getUTCDate","newValue","oldValue","dayOfWeek","UTC","getUTCDay","week","getWeekByDate","correctWeek","adjustWeek","onWeekChange","isDay","isWeek","isMonth","onChange","pipChanged","setCurrent","dateRangeType","fillLists","weeks","weekList","onYearClick","onMonthClick","onDayClick","getCountDay","nameDays","weekday","startWeek","getWeek","countDay","countPrevMonthDay","startDay","endDay","getTimezoneOffset","daterange","TimeRangeData","TimeRangeController","TimeRangeChanges","defineStartDate","defineEndDate","TimeRangeComponent","TimeRangeBindings","IntervalTimeRange","MinutesInHour","TimeRangeEditData_1","pipStartDate","startLabel","endLabel","intervalTimeCollection","getTimeInterval","initDate","defineDate","pipEndDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","pipStartLabel","pipEndLabel","setDuration","startDate","endDate","startTime","MillisecondsInSecond","endTime","validateStartDate","HoursInDay","round","TimeRangeEditController","validateEndDate","setDate","minutes","j","showTime","pipHideTime","onChangeStartDate","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","TimeRangeEditComponent","TimeRangeEditBindings","dialogs","ConfirmationDialogParams_1","ConfirmationDialogController","$mdDialog","_injector","CONFIRM_TITLE","onOk","onCancel","ConfirmationDialogParams","ConfirmationDialogService","_mdDialog","targetEvent","./ConfirmationDialogParams","./ConfirmationDialogService","./IConfirmationDialogService","ErrorDialogStrings","errorDetails","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorDetailsDialogController","strings","theme","$theme","OK","CANCEL","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","dismissButton","getErrorText","ErrorDetailsDialogParams","ErrorDetailsDialogService","clickOutsideToClose","InformationDialogController","INFORMATION_TITLE","pipFormat","InformationDialogParams","InformationDialogService","OptionsDialogController","selectedOption","active","opt","optionIndex","selectedOptionName","focusInput","OPTIONS_TITLE","onOptionSelect","onKeyPress","isCheckboxOption","list","OptionsDialogParams_1","OptionsDialogParams","OptionsDialogData","18","OptionsDialogResult","OptionsDialogService","OptionsBigDialogController","OptionsBigDialogData_1","OptionsBigDialogData","noActions","onSelected","onKeyUp","OptionsBigDialogParams","OptionsBigDialogResult","OptionsBigDialogService","27","./OptionsBigDialogController","./OptionsBigDialogData","./OptionsBigDialogParams","./OptionsBigDialogResult","./OptionsBigDialogService","28","nav","IActionsService_1","IActionsService_2","IActionsService_3","ActionsService","primaryGlobalActions","secondaryGlobalActions","primaryLocalActions","secondaryLocalActions","primaryActions","secondaryActions","updateCount","clearCounts","ActionsChangedEvent","openMenuEvent","SecondaryActionsOpenEvent","ActionsProvider","ActionsConfig","SimpleActionItem","ActionItem","PrimaryActionsController","pipActions","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","onActionsChanged","$onInit","localActions","globalActions","isHidden","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","click","PrimaryActionsBindings","PrimaryActionsChanges","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","calcActions","secondaryActionsVisible","secondaryDividerVisible","SecondaryActionsBindings","SecondaryActionsChanges","AppBarController","pipAppBar","onAppBarChanged","appbar","AppBarConfig","AppBarPartController","_partName","_partValue","appbarPart","AppBarChangedEvent","AppBarService","shadowBreakpoints","setShadow","hideShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","AppBarConfig_1","./AppBar","./AppBarConfig","./AppBarPart","./AppBarService","BreadcrumbController","pipBreadcrumb","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","_media","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","onOpenMenu","onSubActionClick","breadcrumb","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","criteria","showText","showItems","BreadcrumbProvider","BreadcrumbConfig_1","./BreadcrumbConfig","NavService","icon","sidenav","header","menu","showMenu","DropdownController","_pipTheme","_pipMedia","currentTheme","themeClass","media","activeIndex","select","pipChange","showDropdown","DropdownBindings","DropdownChanges","dropdown","NavHeaderController","pipNavHeader","navConstant","imageUrl","initImage","cleanupNavHeaderChanged","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","$onDestroy","imageBlock","image","onImageLoad","onerror","onImageError","initHeader","subtitle","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","imageWidth","imageHeight","margin","loadError","defaultImageUrl","onUserClick","navHeader","NavHeaderConfig","20","NavHeaderService","callbackOrEvent","NavHeaderChangedEvent","NavHeaderProvider","NavHeaderConfig_1","clear","./NavHeaderService","22","23","SideNavService_1","NavIconService_1","NavIconBindings","NavIconChanges","NavIconController","pipNavIcon","clearFn","onNavIconChanged","onNavIconClick","OpenSideNavEvent","NavIconClickedEvent","NavIcon","NavIconConfig","25","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconChangedEvent","NavIconConfig_1","NavIconProvider","setMenu","setIcon","setBack","./NavIconConfig","26","./INavIconService","./NavIcon","./NavIconService","constant","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_SMALL_WIDTH","SIDENAV_ANIMATION_DURATION","./appbar","./breadcrumb","./common/NavService","./dropdown/Dropdown","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/Tabs","LanguagePickerDirectiveController","_translate","setLanguages","languages","onLanguageClick","LanguagePickerBindings","languagePickerDirective","navMenuDirective","NavMenuController","pipSideNav","pipNavMenu","_animationDuration","_pipSideNavElement","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","expanded","isSectionEmpty","linkCollection","expand","isExpanded","expandedButton","sideNavState","isActive","parentState","includes","clickLink","current","NavMenuBindings","NavMenuChangedEvent","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","./NavMenuService","32","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchActivatedEvent","SearchBar","./SearchService","34","SearchConfig","CloseSearchEvent","SearchService","SearchProvider","36","./SearchBar","./SearchConfig","37","SideNavController","_bigWidth","SIDENAV_LARGE_WIDTH","_middleWidth","SIDENAV_MIDDLE_WIDTH","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","setSideNaveState","windowResize","debounce","cleanupSideNavState","onSideNavState","sidenavState","backdrop","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","cleanupMainResized","stateName","mainWidth","_mainContainer","sideNavWidth","currentWidth","Small","Large","XLarge","sideNav","SideNavBindings","38","sidenavPartDirective","SideNavPartBindings_1","SideNavPartController_1","hookSideNavEvents","CloseSideNavEvent","SideNavService","SideNavStateChangedEvent","SideNavChangedEvent","SideNavConfig","SideNavProvider","./SideNavState","40","SideNavState","isLockedOpen","showIconTooltype","small","large","xlarge","41","./SideNavPart","./SideNavService","42","PipTab","TabsChanges","TabsDirectiveController","setTheme","setTranslate","tabs","tabDisabled","selectedTabId","showShadow","showTabsShadow","showTabs","previousValue","Tabs","TabsBindings","43","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeRootVar","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ErrorPageConfig","ErrorPageConfigs","Maintenance","Active","Name","Event","Title","SubTitle","Breadcrumb","Image","MissingRoute","NoConnection","Unknown","Unsupported","Params","SupportedBrowsers","ie","firefox","opera","chrome","ErrorPageConfig_1","ErrorPageConfigService","getErrorPageConfig","pageName","console","log","ErrorPageConfigProvider","configs","setErrorPageConfig","defaultsDeep","setAllErrorPageConfigs","setSupportedBrowsers","browsers","./ErrorPageConfig","clearErrorsDirective","ClearErrorsLink","$ctrls","_fieldController","_formController","clearFieldErrors","clearFormErrors","$error","prop","$setValidity","$serverError","FormErrorsService","errorsWithHint","isEmpty","hint","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","errorName","goToUnhandledErrorPage","$stateProvider","ErrorsMaintenanceState","MaintenanceErrorPageController","initMaintenanceErrorPage","pipErrorPageConfigService","MaintenanceErrorEvent","setMaintenanceErrorPageResources","ERROR_MAINTENANCE_TITLE","ERROR_MAINTENANCE_SUBTITLE","ERROR_MAINTENANCE_TRY_AGAIN","configureMaintenanceErrorPageRoute","MaintenanceError","MaintenanceErrorConfig","MaintenanceErrorParams","_pageName","pipNavService","appHeader","timeoutInterval","configureMissingRouteErrorPageRoute","ErrorsMissingRouteState","unfoundState","MissingRouteErrorPageController","StateNotFoundEvent","to","setMissingRouteErrorPageResources","ERROR_MISSING_ROUTE_TITLE","ERROR_MISSING_ROUTE_SUBTITLE","ERROR_MISSING_ROUTE_CONTINUE","ERROR_MISSING_ROUTE_TRY_AGAIN","ERROR_MISSING_ROUTE_GO_BACK","ERROR_MISSING_ROUTE_PAGE_TITLE","initMissingRouteErrorPage","MissingRouteErrorState","absolute","urlBack","onContinue","configureNoConnectionErrorPageRoute","ErrorsConnectionState","NoConnectionErrorPageController","initNoConnectionErrorPage","ErrorsConnectionEvent","setNoConnectionErrorPageResources","ERROR_NO_CONNECTION_RETRY","ERROR_NO_CONNECTION_TITLE","ERROR_NO_CONNECTION_SUBTITLE","NoConnectionError","errorConfig","onRetry","NoConnectionPanelController","_retry","retry","configureUnknownErrorPageRoute","ErrorsUnknownState","UnknownErrorPageController","initUnknownErrorPage","ErrorsUnknownEvent","setUnknownErrorPageResources","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","UnknownErrorDetails","parseError","error_details","server_stacktrace","client_stacktrace","configureUnsupportedErrorPageRoute","UnsupportedErrorPageController","initUnsupportedErrorPage","pipSystemInfo","supportedVersions","setUnsupportedErrorPageResources","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_FM_VER","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","UnsupportedError","charts","BarChartBindings","series","xTickFormat","yTickFormat","interactiveLegend","BarChartController","BarChartBindingsChanges","pipChartColors","chart","generateMaterialColors","updatedLegend","prepareData","legend","updateChart","clone","generateParameterColor","paletteColors","d3","scale","ordinal","materialColorToRgba","instantiateChart","chartElem","datum","configBarWidthAndLabel","drawEmptyState","nv","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","seria","classed","labels","chartBars","getBBox","barHeight","barWidth","transition","getMaterialColor","BarChart","ChartColorsService","$mdColorPalette","palette","ChartLegendBindings","interactive","ChartLegendBindingsChanges","ChartLegendController","updateLegends","colorCheckboxes","prepareSeries","checkboxContainers","legendTitles","materialColor","ChartLegend","LineChartBindings","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","LineChartBindingsChanges","LineChartController","HEIGHT","setZoom","updateZoomOptions","selectAll","updateXTickValues","updateSeries","getHeight","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","tickValues","tooltipW","bodyWidth","removeTooltip","addZoom","updateScroll","domains","bDiff","domDiff","isEqual","svg","scaleExtent","xDomain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","d3zoom","behavior","zoom","prevXDomain","prevScale","prevTranslate","setData","newChart","domain","nice","zoomed","unzoomed","fixDomain","translate0","coordinates0","coordinates","center0","center1","point","step","LineChart","PieChartBindings","donut","total","centered","PieChartBindingsChanges","PieChartController","resizeTitleLabelUnwrap","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","centerChart","renderTotalLabel","svgElem","pie","sort","arc","innerRadius","outerRadius","leftMargin","totalVal","reduce","sum","curr","titleElem","boxSize","PieChart","locations","LocationBindings","pipLocationName","pipLocationPos","pipShowLocationIcon","pipCollapse","pipDisabled","pipLocationResize","LocationController","LocationBindingsChanges","showMap","mapContainer","generateMap","redrawMap","clearMap","mapControl","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Map","Marker","LocationComponent","LocationEditDialogController_1","locationPos","locationName","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","setMap","animation","Animation","DROP","thisMarker_1","addListener","getPosition","tid","lat","lng","geocoder","Geocoder","geocode","latLng","results","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogService","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","LocationDialogParams","LocationEditBindings","pipLocationHolder","LocationEditBindingsChanges","LocationEditController","pipLocationEditDialog","defineCoordinatesDebounced","defineCoordinates","GeocoderStatus","geometry","location_1","longtitude","onMapClick","onMapKeyPress","LocationEdit","LocationIpBindings","pipIpaddress","pipExtraInfo","LocationIpBindingsChanges","LocationIpController","$http","ipAddress","response","extraInfo","city","regionCode","region","regionName","zipCode","countryCode","country","countryName","LocationIp","LocationMapBindings","pipIconPath","pipInteractive","pipStretch","LocationMapBindingsChanges","LocationMapController","checkLocation","loc","determineCoordinates","fill","stroke","points","LatLngBounds","path","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","LocationMap","files","ButtonsUpload","FileFailBindings","FileFailController","FileFailChanges","fileFailComponent","./model/FileModel","./select/FileSelect","./service/FileUploadService","./start/FileStart","./success/FileSuccess","./upload/FileUpload","fileModelLink","fileModel","modelSetter","fileModelDirective","FileSelectBindings","localFile","FileSelectController","onUploadButtonClick","onDeleteButtonClick","forml","fileSelectDirective","FileUploadService","upload","file","resultCallback","progressCallback","fd","FormData","FileUploadState_1","FileUploadState","Uploading","lengthComputable","loaded","headers","Content-Type","success","Completed","Failed","FileStartBindings","FileStartChanges","FileStartController","fileStartDirective","FileSuccessBindings","FileSuccessController","fileSuccessDirective","FileUploadBindings","FileUploadButtons","buttonFunction","FileUploadChanges","FileUploadController","uploadButtons","failButtons","startButtons","onAbort","fileUploadDirective","dashboard","AddTileDialog","AddTileDialogController","groups","activeGroupIndex","widgetList","totalTiles","defaultTiles","group","groupIndex","widgets","encrease","widgetIndex","widget","amount","decrease","AddTileDialogController_1","DASHBOARD_ADD_TILE_DIALOG_TITLE","DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS","DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP","AddTileDialogService_1","AddTileDialogProvider","_widgetList","configWidgetList","MenuTileService_1","CalendarTileController","pipTileConfigDialogService","union","onConfigClick","dialogClass","extensionUrl","changeSize","MenuTileService","CalendarTile","DashboardTile","TileColors","all","TileSizes","TileConfigDialogController","sizes","sizeId","colSpan","rowSpan","updatedData","sizeX","sizeY","TileConfigExtendComponentBindings","pipExtensionUrl","pipDialogScope","pipApply","TileConfigExtendComponentChanges","TileConfigExtendComponentController","replaceWith","pipTileConfigComponent","ConfigDialogController_1","DASHBOARD_TILE_CONFIG_DIALOG_TITLE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE","TileConfigDialogService","./ConfigDialogExtendComponent","./ConfigDialogService","DROP_TO_CREATE_NEW_GROUP","pipAddTileDialogProvider","configureAvailableWidgets","DEFAULT_GRID_OPTIONS_1","draggableOptions","tileWidth","DashboardController","$interpolate","pipAddTileDialog","pipTileTemplate","defaultGroupMenuActions","addComponent","removeGroup","_includeTpl","groupMenuActions","groupedWidgets","draggableGridOptions","gridOptions","inline","groupAdditionalActions","widgetsContext","compileWidgets","removedWidgets","source","object","removeWidget","opts","getTemplate","activeGroup","addWidgets","widgetGroup","Dashboard","DraggableTileService_1","TileGroupService_1","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","SIMPLE_LAYOUT_COLUMNS_COUNT","DEFAULT_OPTIONS","tileHeight","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","merge","tilesTemplates","tile","tileScope","createTileScope","IDragTileConstructor","DragTileService","tpl","watch","getContainerWidth","getAvailableColumns","availableWidth","tileGroups","setAvailableColumns","availableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","$container","prevVal","changedGroupIndex","addGroup","removeGroups","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","_a","fromIndex","from","elem","attributes","toIndex","tileOptions","fromTileIndex","reIndexTiles","tilesContext","indexes","container","tiles","gIndex","child","newGroups","removeIndexes","remain","containers","reverse","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","newTile","addTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","mobileBreakpoint","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","belowElement","getTileByCoordinates","getTileIndex","draggedTileIndex","belowElemIndex","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","speed","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragComponent","../tile_group/TileGroupService","./DraggableTileService","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","after","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","EventTileController","is","drawImage","onOpacitytest","_oldOpacity","naturalWidth","naturalHeight","EventTile","../menu_tile/MenuTileService","./calendar_tile/CalendarTile","./common_tile/Tile","./config_tile_dialog","./dashboard/Dashboard","./draggable","./event_tile/EventTile","./menu_tile","./note_tile/NoteTile","./picture_slider_tile/PictureSliderTile","./position_tile/PositionTile","./statistics_tile/StatisticsTile","./tile_group/index","./utility/TileTemplateUtility","TileMenu","callAction","actionName","MenuTileProvider","../common_tile/Tile","NoteTileController","NoteTile","PictureSliderController","animationInterval","animationType","PictureSliderTile","PositionTileController","showPosition","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","PositionTile","StatisticsTileController","chartSize","SMALL_CHART_1","_$timeout","setChartSize","BIG_CHART_1","StatisticsTile","DraggableTileLink","$elem","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTiles","24","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","basicCol","basicRow","getBasicRow","gridCopy","getCell","rowShift","prevTileSize","rightCornerCell","isCellFree","src","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","tileSize","generateCells","currIndex","startCell","cells","maxHeightSize","maxWidthSize","maxBy","node","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","./TileGroupService","tileTemplateService","_$interpolate","_$compile","_$templateRequest","strictCompile","interpolated","pipImageLoad","ImageLoad","settings","SettingsPageSelectedTab_1","SettingsPageController","pipSettings","getTabs","sortBy","selected","SettingsPageSelectedTab","initSelect","getDefaultTab","onDropdownSelect","onNavigationSelect","tabIndex","tabId","../service/SettingsPageSelectedTab","configureSettingsPageRoutes","auth","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsConfig_1","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","addTab","tabObj","existingTab","validateTab","stateConfig","SettingsStateConfig","SettingsTab","./SettingsConfig","./SettingsPageSelectedTab","./SettingsService","./SettingsStateConfig","./SettingsTab","help","HelpPageSelectedTab_1","HelpPageController","pipHelp","HelpPageSelectedTab","configureHelpPageRoutes","./HelpPage","./HelpPageRoutes","HelpConfig","HelpService","HelpProvider","HelpConfig_1","HelpStateConfig","HelpTab","./HelpConfig","./HelpPageSelectedTab","./HelpService","./HelpStateConfig","./HelpTab"],"mappings":"CAAA,SAAAA,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAC,SAAAX,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,+HCACmB,EAAA,eACDA,EAAA,aACAA,EAAA,kBACAA,EAAA,aACAA,EAAA,eAEAQ,QAAQ1B,OAAO,eACX,eACA,aACA,iBACA,aACA,YACA,WACA,YACA,UACA,WACA,gBACA,iBAGJ2B,EAAAT,EAAA,gBACAS,EAAAT,EAAA,cACAS,EAAAT,EAAA,mBACAS,EAAAT,EAAA,4ICbYU,GAAmBC,gBAEZC,IAAE,sBAAW,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,MAChBC,IACFC,KAAAL,EAAAK,KAEEC,IAAAN,EAAaM,IACbC,OAAMN,GAENO,GACFH,KAAAH,EAAAG,KAENC,IAAAJ,EAAWI,IACXC,OAAWJ,EAIlBN,GAAA9B,EAAA0C,UAAAL,EAGDP,EAAA9B,EAAA2C,cAAgDF,YAI5CG,GAA4BC,EAAAC,EAAgBhB,GAE5C,UAOA,SAAAiB,KAEID,EAAME,QAAUC,eAKZC,GAAiBV,MAEjBV,EAAa9B,EAAM0C,WAAYZ,EAAQ9B,EAAA2C,cAAA,CAC1C,GAAAQ,GAAAC,EAAAC,UAAAvB,EAAA9B,EAAA2C,cAAKQ,GAAEX,OAAAY,EAAAE,OAAAH,EAAAX,OAAAA,GACJK,EAAQU,GAAAJ,EAAQb,KAAOa,EAAAX,YAGlCM,GAAAE,QAAAC,OAhBG,MAFAJ,GAAAE,OAAAA,IACIG,gBAAsBA,EACzBL,EAuBL,QAAOW,GAAAC,KACKC,UAAA,SAAad,4BAjEdA,EAAmBe,SAAS,YAAA,UAAA,cAC5BH,EAAYG,SAAW,YAGlCC,OAAAC,eAAA7D,EAAA,cAAkE8D,OAAA,MAC9DpB,SAAW,WAEXC,aAAe,oDCPfoB,IAAAlC,QAIAmC,GAAA,SAAW7C,EAAAlB,EAAAD,WAWViE,GAAApB,GACJ,UAMG,SAASqB,GAAS/B,EAAWF,GAIjC,MAHCkC,GAAAhC,GAAAF,EAGDzB,KANI,MADJqC,GAAAqB,SAAAA,EACIrB,UAWAuB,GAAiBX,GAKjB,aACQC,UAAU,SAAAO,cAEcpB,EAAawB,sBAMpCH,GAASlC,EAAEmB,EAAAX,MACZP,GAASkC,EAAAhB,EAAAb,sBACCL,OACNA,EAAUkB,EAAAb,KAAaE,GACxBY,EAAAkB,OAAArC,IAEH,KAAO,IAAKZ,OAAA,oCAGhB,SAAMY,IACToC,EAAA,WACJrC,EAAAuC,iBAGD1B,EAAA2B,aAAmCvC,EAAQO,GAAAiC,SAAA,eAG9B,qBApBSP,EACbrB,UAyBJ6B,GAAOjB,wCA9DaE,SAAS,eAEbA,SAAA,cAICA,SAAkB,YAAA,cACfA,SAAU,6BCbxB1D,OAAA,cAEX0E,OAAAP,GAKIO,OAAAD,WAIQ,SAAUvD,EAAClB,EAAAD,wBAYnB4E,GAAe9C,EAAmB+C,EAC9BC,gBAIS/C,IAAM,oBAAA,SAAAC,EAAoCC,EAAQC,EAAMC,EAAAC,GAC7DN,EAAW9B,EAAO+E,aAAA,IAI7BjD,EAAAC,IAAA,sBAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAEMN,EAAA9B,EAAA+E,aAAA,MAEEhD,IAAA,oBAAmB,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA4C,uFAtBVrB,SAAC,aACX,OAAA,gCAEe3D,EAAA,cAAoB8D,OAAA,MAErCiB,WAAA,wCCpBNhB,IAAQa,QAGRK,GAAA,SAAA9D,EAAAlB,EAA6BD,GAC7B,YAEA,SAAA4B,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAAlF,EAAAoF,eAAgCD,KAAAnF,EAAAmF,GAAAD,EAAAC,qHCLrBhE,EAAA,uBACAA,EAAA,mBAEXS,EAAAT,EAAA,sBAMIA,EAAA,wCAOS,EAASkE,sBAAY,EAAAC,kBAAA,IAAAC,GAAA,SAAApE,EAAAlB,EAAAD,sCAEdA,EAAK,cAAA8D,OAAA,MAEjB0B,gBAAkB,cACrBC,qBAAA,wBAEOC,GAAA,mBACAA,GAAiBC,EAAAC,EAAA9D,EAAA+C,QACjBgB,YAAeF,EACtBnF,KAAAsF,UAAAF,EAEDpF,KAAAuF,WAAWjE,OAAXkE,KAAAnB,OACIc,aAoBJ,SAjBAM,UAA8BN,WAAA,WAC1BnF,KAAKqF,cACLrF,KAAKuF,WAAU/F,EAAGwF,iBAAAhF,KAAAsF,kCAGNJ,EAAoBO,UAAA,gBAChC,WACH,MAAAzF,MAAAsF,2BATAtF,KAAAsF,UAAAhC,EAULtD,KAAAmF,aAACnF,KAAAuF,WAAAG,MAAAlG,EAAAyF,qBAAAjF,KAAAsF,UAED,IAAAF,GAAA9B,KAKItD,MAAAwF,KAAAG,MAAA,uBAAAC,KAAAC,UAAAT,KAHQU,YAAA,EACAC,cAAQ,IAIhBb,OACgB,mBACfc,UAEDX,aAAsB,OAClBC,UAAK,KACTtF,KAACiG,SAAA,4DAJAC,IAAA,WAMD,MAAAlG,MAAAqF,iBACI,SAAW/B,GACdtD,KAAAqF,cAAA/B,eAGQ,EACTyC,cAAC,kDAJAG,IAAA,WAMM,MAAAlG,MAAAsF,WAMHa,IAAI,SAAK7C,GACLtD,KAAKsF,UAAWhC,GAGvBwC,YAAA,EAELC,cAAA,IAEAC,EAAOP,UAAAW,MAAA,aAAA,OAAA,SAAA9E,EAAA+C,GACF,iBACwB,OAAxBrE,KAASiG,yFChFD9E,SACA1B,OAAA,cAEb4G,SAAA,cAAAL,WAYQ,SAAKrF,EAAWlB,EAAGD,sCAEdA,EAAa,cAAW8D,OAAA,MAC7BgD,eAAiB,aAEjBC,mBAAkB,qBACrBC,mBAAA,sBAEOC,GAAA,mBACAA,GAAgBtB,EAACuB,EAAApF,EAAA+C,QACjBgB,YAAeF,EACtBnF,KAAA2G,SAAAD,EAED1G,KAAAuF,WAAWjE,OAAXkE,KAAAnB,OACIc,aAoCJ,4DAnCCnF,KAAAuF,WAAA/F,EAAA8G,gBAAAtG,KAAA2G,kBAGGtD,eAAYoD,EAAiBhB,UAAA,WAChCS,IAAA,WAEM,MAAAlG,MAAA2G,UAA+Cb,YAAA,EAClDC,cAAW,MAGNN,UAAWmB,SAAQ,WACxB,MAAkB,OAAb5G,KAAA2G,YAGKlB,UAAMoB,KAAA,SAAoBH,EAASI,EAAAC,GAGpC,GAFZ,SAAAD,IAAAA,GAAA,GAEM,SAAAC,IAAPA,GAAa,GAAA,MAAAL,EAA4B,KAAA,IAAA7F,OAAA,yBACrCb,MAAI2G,SAAUD,EAEd1G,KAAKmF,aACLnF,KAAKuF,WAAUG,MAAGlG,EAAA+G,mBAAAG,GAClB1G,KAAKwF,KAAAG,MAAW,kBAAMe,IAG1BD,EAAChB,UAAAuB,MAAA,SAAAF,EAAAC,GACJ,SAADD,IAACA,GAAA,GAAA,SAAAC,IAAAA,GAAA,EAED,IAAAE,GAAAjH,KAAA2G,QAKI3G,MAAA2G,SAAA,KAJQ3G,KAAAmF,aACAnF,KAAAuF,WAAgBG,MAAKlG,EAAAgH,mBAAAS,GACrBjH,KAAAwF,KAAAG,MAA2B,kBAAKsB,IAIxCR,OACe,mBACdS,UAED7B,aAAsB,OAClBsB,SAAK,KACT3G,KAACiG,SAAA,4DAJAC,IAAA,WAMD,MAAAlG,MAAAqF,iBACI,SAAW/B,GACdtD,KAAAqF,cAAA/B,eAGQ,EACTyC,cAAC,iDAJAG,IAAA,WAMM,MAAAlG,MAAA2G,UAMHR,IAAI,SAAK7C,GACLtD,KAAK2G,SAAWrD,GAGvBwC,YAAA,EACLC,cAAA,IAEAmB,EAAOzB,UAAAW,MAAA,aAAA,OAAA,SAAA9E,EAAA+C,GACF,iBACuB,OAAvBrE,KAASiG,sHCnGdI,SAAc,aAAaa,QAG3BC,GAAA,SAAAxG,EAAAlB,EAA0BD,GAI1B,YAGA,SAAA4B,GAAAsD,oICVA/D,EAAA,qBAEAA,EAAA,sBAOIA,EAAA,wBANQA,EAAA,2CAEU,EAAAyG,mBAAgB,IAAAC,GAAA,SAAA1G,EAAAlB,EAAAD,sCAEjBA,EAAa,cAAA8D,OAAA,UAGZ3C,EAAM,sBACxB2G,EAAC,WAED,QAAAA,GAAAC,QAAAC,OAAA,UACIC,IAAO,KACXzH,KAAC0H,WAAA,yDAAA1H,KAAAwH,OAAAD,ECRD,6BDUAD,EAAA7B,UAAA,aACI,WACH,MAAAzF,MAAAwH,sBAAAzB,cAAA,0BAEDuB,EAAA7B,UAAA,UACI,WACH,MAAAzF,MAAAyH,mBAAA1B,cAAA,0BAEDuB,EAAA7B,UAAA,iBACI,WACH,MAAAzF,MAAA0H,0BAAA3B,cAAA,0BAEDuB,EAAA7B,UAAA,gBACI,WACH,MAAAzF,MAAA2H,yBAAA5B,cAAA,0BAEDuB,EAAA7B,UAAA,aACI,WACH,MAAAzF,MAAA4H,sBAAA7B,cAAA,WAGG1C,eAAgBiE,EAAA7B,UAAA,gBAChBS,IAAK,WACD,MAAClG,MAAS4H,OAAKC,SAEtB/B,YAAA,EAEMC,cAAA,IAEPuB,EAAC7B,UAAAqC,MAAA,WAEM9H,KAAAyH,IAAA,KACHzH,KAAA0H,WAAa,KAChB1H,KAAA2H,UAAA,EAEM3H,KAAA4H,OAAAE,SAEPR,EAAC7B,UAAAsC,KAAA,WAEM,MAAA,OAAA/H,KAAAyH,OAEmBhC,UAAYuC,OAAA,WAElC,OAAQhI,KAAG4H,OAAQK,WAEdxC,UAAYyC,QAAG,SAAAC,GAEpB,MAAOnI,MAAKyH,KAAIU,GAGbb,EAAA7B,UAAA2C,MAAM,SAAbC,GACI,MAAc,OAAVrI,KAACyH,IACR,MAEMzH,KAAAyH,KAAA,GAAAa,OAAAC,UAAPC,WACIxI,KAAK0H,WAAWW,GAAA,aAChBrI,KAAK4H,OAAOE,QACf9H,KAAAyH,QAGQhC,UAAagD,OAAQ,SAAAC,GAC1B1I,KAAK2H,UAAWgB,KAAAC,IAAAF,EAAA,MAExBpB,EAAA7B,UAACoD,MAAA,WAAA7I,KAAAyH,IAAA,KA9EYzH,KAAA4H,OAAAE,0ECKTR,mBAEaA,yBAGN,KAAAwB,IAAA,SAAPnI,EAAAlB,EAAAD,sCAEgBA,EAAQ,cAAA8D,OAAA,UACL,mBACVyF,GAAavE,GACb,MAADA,GACPxE,KAAAgJ,OAAAxE,GCfL,SDkBoBiB,UAAUqC,MAAQ,WACjC9H,KAAAc,KAAA,KAEMd,KAAA6H,QAAA,KACH7H,KAAKiJ,QAAQ,KAEbjJ,KAAIkJ,MAAS,UAAMC,YAAO,QAIjB1D,UAAUwC,MAAM,WACzB,MAACjI,MAAA6H,QAAA,QAIYpC,UAAUuD,OAAG,SAAAxE,gBAGb,UAGTA,EAAIqD,eACAA,QAAKrD,EAAUqD,SAGnBrD,EAAK4E,OACD5E,EAAC4E,KAAUtI,OAEXd,KAAC6H,QAAc7H,KAAK6H,SAAM,SAAArD,EAAA4E,KAAAtI,KAC1Bd,KAACc,KAAWd,KAAGc,MAAU0D,EAAC4E,KAAAtI,MAEjC0D,EAAA4E,KAAAvB,UAGG7H,KAAM6H,QAAa7H,KAAA6H,SAAArD,EAAA4E,KAAAvB,SAEtB7H,KAAA6H,QAAA7H,KAAA6H,SAAArD,EAAA4E,KACGpJ,KAAKiJ,QAAUjJ,KAAAiJ,SAAAzE,EAAA4E,KACfpJ,KAAKkJ,MAAO1E,EAAO4E,KAACF,MACpBlJ,KAAKmJ,YAAY3E,EAAQ4E,KAAKD,YACjCnJ,KAAAiJ,QAAAzE,EAAA4E,KAAAH,SAGGzE,EAAC6E,aACRrJ,KAAA6H,QAAA7H,KAAA6H,SAAArD,EAAA6E,YACJ7E,EAAA8E,SAlEYtJ,KAAA6H,QAAA7H,KAAA6H,SAAA,SAAgBrD,EAAA8E,kGCG7BP,OACYA,iBAAaA,OAIdQ,IAAA,SAAA5I,EAAAlB,EAAAD,sCAGUA,EAAK,cAAA8D,OAAA,UACT3C,EAAA,mBAES,WACtB,QAAC6I,KAEMxJ,KAAAyJ,0BAGYhE,UAAUiE,OAAC,SAAAnC,MACtBoC,GAAc,GAAIC,GAAAtC,YAAYC,EAGlC,OAFa,OAATA,SACIkC,cAAKlC,GAAmBoC,GAC/BA,GAGLH,EAAC/D,UAAAS,IAAA,SAAAqB,GACL,GAAAoC,GAAC,MAADpC,EAACvH,KAAAyJ,cAAAlC,GAAA,WAAA,OAAAoC,IAEMA,EAAA,GAAAC,GAAAtC,YAAAC,GACK,MAAAA,IACCvH,KAAAyJ,cAAkBlC,GAAAoC,oBC3B3BlK,OAAI,0BACqB,iBAAc+J,qBAGnC,IAAaK,IAAA,SAAelJ,EAAOlB,EAAAD,2BAIVsK,iBAGzBC,GAAaD,EAAAE,IAAgB,0BACzB9D,IAAY,wBAAmB,WAEtB+D,gBAAE,MACXC,SAAU,cACXC,WAAA,gBACNC,QAAA,aAEJC,OAAA,cAGIN,EAAOE,gBAAiB,MACjBC,SAAA,yGAjBc/G,SAAA,mCACL3D,EAAE,cAAY8D,OAAA,YCZnC7D,OAAQ,kBAER0E,OAAAmG,QAEAC,IAAA,SAAA5J,EAAuBlB,EAAAD,GACvB,YAEA,SAAA4B,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAAlF,EAAAoF,eAA8BD,KAAAnF,EAAAmF,GAAAD,EAAAC,mHCN9BhE,EAAA,wBACI,mBAEA,0BACIA,EAAQ,yBACRA,EAAO,oCAEG,EAAA6J,qBAAM,GAAAC,uBAAA,GAAAC,uBAAA,KAAAC,IAAA,SAAAhK,EAAAlB,EAAAD,2BAKCuK,qBAGxBa,SAAA,KAEDrD,OACIsD,KAAW,gBAEJC,KAAA,QAEHC,KAAK,SAAExD,EAAAyD,EAAAC,GACH,GAAIC,GAAE3D,EAAAsD,MAAAtD,EAAmBuD,KACrBxH,EAAQyG,EAAAoB,UAAAD,EACfF,GAAAI,KAAA9H,gBAIuByG,qBAG/Ba,SAAA,KAEMrD,OACKsD,KAAA,oBACPC,KAAU,iFA3BD3H,SAAW,kBACKA,SAAU,sCACnB3D,EAAW,cAAuB8D,OAAK,YCNvD7D,OAAA,gBACJ4L,UAAA,eAAAC,GAEDD,UAAA,mBAAiCE,QAG7BC,IAAI,SAAA7K,EAAkClB,EAAUD,eAMpD,SAACiM,GAAA1B,GAED,iBACW,UAACmB,GACP,MAAOnB,GAAaoB,UAAAD,IAAiBA,sIAP/B/H,SAAqB,kBACjBA,SAAgB,oBAC1BE,eAAA7D,EAAA,cAAA8D,OAAA,8DClBJoI,IAAA,SAAA/K,EAAAlB,EAAAD,GACD,qBCCcmM,GAAA5B,KACF6B,SDCDD,EAAAxI,SAAe,eACf,IAAA0I,GAAA7L,MAAAA,KAAoB6L,WAAG,WAElC,GAAAC,GAAA1I,OAAA2I,iBASIC,uBACIC,QACA,SACAC,EAAAC,GACAD,EAAAF,UACAG,IAIA,SAAKD,EAAAC,GAAW,IAAG,GAAAxH,KAAWwH,GAAAA,EAAAvH,eAAAD,KAAAuH,EAAAvH,GAAAwH,EAAAxH,WAC9B,UAAauH,EAAGC,GAEhB,QAAKC,KAAUpM,KAAGqM,YAAWH,EAD7BJ,EAAKI,EAAYC,GAEjBD,EAAAzG,UAAiB,OAAL0G,EAAK/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAIR5M,EAAY,cAAa8D,OAAY,UACrC3C,EAAA,mBAEOA,EAAA,mCAEhB2L,gBAAY,cACfC,qBAAA,wBAEOC,GAAA,mBACCA,GAAOC,EAAAtH,EAAAuH,EAAApL,EAAA+C,EAAA/B,EAAAqK,QAACtH,YAAOF,EAGpBnF,KAAI4M,SAAgBF,EAEpB1M,KAAA6M,aAAoBJ,EACpBzM,KAAAuF,WAAajE,EAEbtB,KAAKwF,KAAAnB,EACLrE,KAAK8M,QAAAxK,EACLtC,KAAK+M,cAAcJ,EACf3M,KAAC4M,UAAc5M,KAAA8M,QAAYE,eAC3BhN,KAAC6M,aAAcjB,SAAc5L,KAAG8M,QAAUE,aAAWC,QAAA,aAAAjN,KAAA6M,aAAAjB,UAC5D5L,KAAAwF,KAAAG,MAAA,mBAAA3F,KAAA6M,aAAAjB,UAEO5L,KAAAkN,gBAEKzH,UAAW0H,aAAA,SAAmBC,GAEvC,GAAIA,EAAJ,CAEH,GAAAC,EAEDC,QAAAF,OAAAA,KAAAE,OAAAC,kBACIR,cAAYS,OAAYrM,QAACsM,QAASJ,EAAAK,SAAAL,EAAAK,QAAAL,EAAAK,QAAAC,OACtC3N,KAAC+M,cAAAa,YAAAzM,QAAAsM,QAAAJ,EAAAQ,cAAAR,EAAAQ,aAAAR,EAAAQ,aAAAF,YAEDZ,cAAoBe,KAAa3M,QAAAsM,QAAAJ,EAAAU,WAAAV,EAAAU,UAAAV,EAAAU,UAAAJ,YAC7BZ,cAAaiB,UAAKX,EAAaY,gCACtBC,eAAqBb,EAASc,MAAAC,QAI9B3I,UAAAyH,KAAiB,gBACtB7H,mBAEAE,WAAK/F,EAAW8M,iBAAMtM,KAAA6M,aAA2BjB,eACjDgB,UAAsB,MAAjB5M,KAAW8M,QAAME,cAC1BhN,KAAC8M,QAAAE,aAAAqB,QAAA,WAAArO,KAAA6M,aAAAjB,wEAbJ,MAAA5L,MAAA6M,aAAAjB,UAiBGzF,IAAI,SAAQ7C,GACJA,GAAStD,KAAG6M,aAASjB,WACtB5L,KAAK6M,aAASjB,SAAAtI,EACxBtD,KAAAwF,KAAAG,MAAA,wBAAArC,GAEMtD,KAAAmN,aAAAnN,KAAA6M,aAAPjB,UACW5L,KAAKkN,OACflN,KAAAuF,WAAAG,MAAAlG,EAAA+M,qBAAAjJ,GAEMtD,KAAAuF,WAAAG,MAAA4I,EAAaC,kBAIbzI,YAAA,EACHC,cAAY,IAGTyG,EAAA/G,UAAA+I,IAAA,SAAc5C,GAId,MAHS,OAAZA,IACH5L,KAAA4L,SAAAA,GAEM5L,KAAA4L,UAEPY,EAAC/G,UAAAwE,gBAAA,SAAA2B,EAAA6C,GAEM,MAAAzO,MAAA6M,aAAA5C,gBAAgB2B,EAAvB6C,IAEAjC,EAAC/G,UAAAgJ,aAAA,SAAA7C,EAAA6C,GAEM,MAAAzO,MAAA6M,aAAA5C,gBAAA2B,EAAP6C,IAEAjC,EAAC/G,UAAA0F,UAAA,SAAAD,GAEM,MAAAlL,MAAA6M,aAAA1B,UAAAD,IAEPsB,EAAC/G,UAAAiJ,eAAA,SAAAC,GAEM,MAAA3O,MAAA6M,aAAA6B,eAAAC,IAEPnC,EAAC/G,UAAAmJ,aAAA,SAAAD,EAAAE,EAAAC,GACL,MAAA9O,MAAA6M,aAAC+B,aAAAD,EAAAE,EAAAC,IAEDtC,EAAA/G,UAAAsJ,iBAAA,SAAAC,EAAAH,EAAAC,GAAgC,MAAA9O,MAAA6M,aAAAkC,iBAAWC,EAAAH,EAAAC,MAOnCrJ,UAAAwJ,oBACH,SAAAC,EAAAhE,GANO,MAAAlL,MAAA6M,aAA4BoC,oBAAAC,EAAAhE,yDAMnC,MAAAlL,MAAA6M,aAAAsC,uBAAAD,EAAAP,EAAAE,EAAAC,MAEDrJ,UAAA2J,wBAAA,SAAAF,EAAAP,EAAAE,EAAAC,SACI9O,MAAO6M,aAAKuC,wBAAYF,EAAAP,EAAAE,EAAAC,WAK3B,SAAAO,gBAJA,GAAAC,GAAAD,EAAArO,KAAAhB,OAAAA,WAMDsP,GAAAjK,aAAW,IAAXuH,UAAA,EACI0C,EC5HJ,oCD+HmBC,EAAc9J,UAAA,kBAC7B,WACH,MAAAzF,MAAAqF,6BAJArF,KAAAqF,cAAA/B,GAYGwC,YAAW,EAEXC,cAAS,WAGT1C,eAAYkM,EAAS9J,UAAA,WACxBS,IAAA,WACL,MAAAlG,MAAA4M,UAEAzG,IAAA,SAAuB7C,GACnBtD,KAAa4M,WAAStJ,GAGnBwC,YAAA,EACFC,cAAO,MAEUN,UAAEW,MAAA,aAAA,OAAA,UAAA,gBAAA,SAAA9E,EAAA+C,EAAA/B,EAAAqK,6HCzJpB4C,KApBUC,oEAMID,4CAGT,GAAAE,gBAAA,KAAAC,IAAA,SAAA/O,EAAAlB,EAAAD,sCAESA,EAAA,cAAY8D,OAAA,UAClB,uCAEM,6BAGTqM,GAAA,UACHC,GAAA,UAEqBC,GAAA,UAEvBC,GAAA,aAAAC,GAAA,SACAC,GAAA,cADwDL,GAAA,aAGjDC,GAAA,UACCC,GAAQ,YACJC,GAAC,gBACFC,GAAK,WACfC,GAAA,gBCzBL,MD+BI5M,QAACC,eAAAmM,EAAA/J,UAAA,YAGMS,IAAA,WAAA,MAAAlG,MAAYiQ,WACf9J,IAAK,SAAA7C,GAAgBtD,KAAQiQ,UAAE3M,GAClCwC,YAAA,EAGMC,cAAA,MACsCN,UAAU+I,IAAA,SAAA5C,GAItD,MAFmB,OAAZA,IACJ5L,KAAOiQ,UAAarE,GACvB5L,KAAAiQ,aAISxK,UAAYwE,gBAAe,SAAM2B,EAAA6C,MAACyB,GAAMlQ,KAAImQ,cAAAvE,MAElD5L,MAAImQ,cAAsBvE,GAAAhJ,EAAAE,OAAAoN,EAAAzB,MAGnBhJ,UAAMgJ,aAAmB,SAAA7C,EAAA6C,QAC5BxE,gBAAiB2B,EAAC6C,MAEnBhJ,UAAA0F,UAAA,SAAAD,GAEH,GAAAtI,EAAMkB,OAAOoH,IAACtI,EAAAwN,YAAAlF,GACjB,MAAA,EAGM,IAAAuD,GAAAzO,KAAAmQ,cAAPnQ,KAAoBiQ,cAChB,OAAMxB,GAAYvD,IAASA,KAEpBzF,UAAUiJ,eAAS,SAAAC,GAC1B,GAAA/L,EAAAkB,OAAY6K,IAAoB,GAAXA,EAAI1N,OAErB,QACJ,IAAIoP,MAEF5B,EAAWzO,KAAUmQ,cAAWnQ,KAAAiQ,6BAC9BtB,EAAS,SAAW2B,GACpB,GAAGpF,GAAMoF,GAAM,EAEfD,GAAME,KAAA9B,EAAevD,IAAAA,KAGrBmF,KAGG5K,UAAOmJ,aAAA,SAAAD,EAAAE,EAAAC,GACjB,GAAAlM,EAAAkB,OAAA6K,IAAA,GAAAA,EAAA1N,OAGM,QACH4N,GAAMA,GAAa,OAA8BC,GAAG,MAEpD,IAAAuB,MACA5B,EAAYzO,KAASmQ,cAAgBnQ,KAAAiQ,cAclC,OAZHrN,GAAA4N,KAAI7B,EAAA,SAAmBzD,GAErB,GAAK5H,KACH4H,GAAIA,GAAM,GAEV5H,EAAKuL,GAAU3D,EAChB5H,EAAAwL,GAAAL,EAAAvD,IAAAA,EAEHmF,EAAOE,KAAMjN,KAIV+M,KAEI5K,UAASsJ,iBAAmB,SAAKC,EAAcH,EAAAC,GACtD,GAAIlM,EAAAkB,OAAOkL,IAAK,GAAAA,EAAA/N,OAAC,QACjB4N,GAAIA,GAAe,OACnBC,EAAOA,GAAiB,WAC3B,IAAAL,GAAAzO,KAAAmQ,cAAAnQ,KAAAiQ,cAKG,OALFrN,GAAA4N,KAAAxB,EAAA,SAAAyB,GAEK,GAAAvF,GAAAuF,EAAA5B,IAAA,EACC4B,GAAE3B,GAAgBL,EAAWvD,IAAMA,IAEjC8D,KAENvJ,UAAYwJ,oBAAoB,SAAAC,EAAAhE,GAKhC,GAHAgE,EAAIA,EAAYA,EAAA,IAAA,GAChBhE,GAAIgE,EAAYhE,GAAGwF,QAAK,KAAA,KAAcC,cAE3B,MAATzF,EACE,MAAI,MACJuD,GAAezO,KAACmQ,cAAAnQ,KAAAiQ,qBAEhBxB,GAAcvD,IAAOA,KAItBzF,UAAA0J,uBAAA,SAAAD,EAAAP,EAAAE,EAAAC,GAEH,GAAAlM,EAAMkB,OAAO6K,IAAC,GAAAA,EAAA1N,OACjB,QAGMiO,GAAAA,EAAAA,EAAAwB,QAAA,KAAA,KAAPC,cAA6C,GACzC9B,EAAMA,GAAY,OAA6BC,GAAG,MAElD,IAAAuB,MACA5B,EAAYzO,KAASmQ,cAAWnQ,KAAAiQ,qBAChCrN,GAAA4N,KAAM7B,EAAG,SAASzD,GAEd,GAAA5H,KACA4H,GAAAA,GAAY,GAEd5H,EAAKuL,GAAM3D,EACT5H,EAAIwL,GAAgBL,EAAAS,EAAA,IAAAhE,IAAAA,EACpBmF,EAAME,KAAGjN,KAGT+M,KAGA5K,UAAY2J,wBAAO,SAAAF,EAAAP,EAAAE,EAAAC,GACvB,GAAGlM,EAAAkB,OAAA6K,IAAA,GAAAA,EAAA1N,OAEH,QACH4N,GAAAA,GAAA,KACLC,EAAAA,GAAC,OAAAI,EAAAA,EAAAA,EAAAwB,QAAA,KAAA,KAAAC,cAAA,IAAA,EAnKY,IAAAN,8CCGb,sIAHQA,EAAOE,KAAAjN,KAGf+M,GAEAb,IAIAhQ,GAAAgQ,YAAAA,sDCPA,IAAA,GAAA7K,KAAAD,GAAAlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,WAgBCtB,eAAA7D,EAAA,cAAA8D,OAAA,YAdU7D,OAAA,qBACH,2CAEA,uBACA,4BACI,oBAEJkB,EAAO,gDAIJ,GAAAiQ,oBAAP,GAAAC,qBAAA,GAAApB,gBAAA,KAAAqB,IAAA,SAAAnQ,EAAAlB,EAAAD,uBAEC6D,eAAA7D,EAAA,cAAA8D,OAAA,OACLyN,GAAA,WAhBA,QAgBCA,eAGItL,UAAOuL,KAAe,SAAA1N,GACtB,GAAQ,MAADA,4DCpBZ,OAAA2N,MAEYxL,UAAKyL,aAAM,WA0ItB,MAAAvI,MAAAwI,SAAA3I,SAAA,IAAA4I,OAAA,EAAA,IAAAT,eAtIUI,oBAIC,uBACJ,WAAeA,YAGf,SAAOpQ,EAAMlB,EAAaD,uBAGtB6D,eAAA7D,EAAS,cAAY8D,OAAa,UAClC,mBACA+N,KACJrR,KAACsR,SCPL,SDSI7L,UAAa8L,OAAI,SAAAjO,EAAAkO,OACblO,GAAY,IAAFA,QAAG,EAEjB,IAACrC,GAAAqC,EAAAmO,QAAA,KAIG,OAHJxQ,GAAOA,GAAO,EAAAA,EAAAqC,EAAArC,OACjBA,EAAAA,EAAAuQ,EAAAlO,EAAArC,OAAAuQ,EAEOlO,EAAAoO,UAAR,EAAAzQ,IAEAoQ,EAAC5L,UAAAkM,UAAA,SAAAC,EAAAC,GAEO,GAAAA,EAAA,EACA,MAAe,UAEfZ,GAAK,KACD,GACH,EAAAY,IACGZ,GAAMW,OACN,EAAAA,GAAWA,QAEfX,gBAEQa,QAAS,SAAMC,mBACX/Q,KAAA+Q,GAAyBC,MAAE,GAAA,GAAAC,uCAEhB,SAAKC,eAChBC,KAAQC,KAAoBC,EAAA,SAEJ,sBAAhBC,KAAUC,WACbJ,EAAA,YAEmB,qBAAhBG,KAAWC,WACd,aAEoC,iGAAAD,KAAAC,IAkCpD,KAAA,IAAA1R,OAAA,yBAjCgB,IACJ,CACL,IAAC2R,MAAAC,EAAAN,EAAA,GAAAO,IACD,IAAM,QAADA,EAAC,sBAAAJ,KAAAG,IAeb,KAAA,IAAA5R,OAAA,gBAbQ,KADG2R,EAAUjC,KAAMmC,EAAA,IACnB,MAAAD,EAAAA,EAAAf,UAAAgB,EAAA,GAAAzR,UACO,GAAc,QAAXyR,EAAW,wBAAAJ,KAAAG,IACzBD,EAAAjC,KAAAmC,EAAA,QAEgB,CAAA,GAAE,QAAAA,EAAA,aAAAJ,KAAAG,IAIlB,KAAA,IAAA5R,OAAA,gBAHA2R,GAAAjC,KAAAmC,EAAA,IAURP,EAAA,GAAAK,MAIGH,IAAR,CAEQ,IAAsB,IAAtBA,EACM,KAAM,IAAAxR,OAAA,kEAGRuR,GAAS7B,KAAO4B,KAKhBI,EAAIb,UAAQS,EAAY,GAAElR,8BAItB0M,OAAU,SAAUyE,EAASO,mBAEf1R,gBAEVL,EAAGgS,EAAchS,IAAK,OACzBZ,KAAA8R,QAAAM,EAAAxR,OACJ,WAADiS,EAAEC,EAAOvC,KAAE6B,EAAWxR,QAErB,IAAA,UAAAiS,EAAA,CACD,GAAIV,GAAEC,EAAAxR,GACFmS,EAAM,MACV,IAACZ,EAAA,GAAA,CAEGY,EAAMJ,EAAKK,EACX,KAAA,GAAM1C,GAAI,EAAMA,EAAI6B,EAAC,GAAQlR,OAAAqP,IAAA,CAChC,IAAAyC,EAAAnO,eAAAuN,EAAA,GAAA7B,IACO,KAAU,IAACzP,OAAAb,KAAAiT,QAAA,+BAAAd,EAAA,GAAA7B,IACLyC,GAAMA,EAAIZ,EAAA,GAAS7B,YACnB6B,EAAM,GAA0BQ,EAAMR,EAAA,IACbQ,EAAMK,eAC5BE,KAAGf,EAAQ,KAA6B,UAAtBnS,KAAA8R,QAAciB,QAAiC,IAAMlS,OAAAb,KAAAiT,QAAA,gCAAAjT,KAAA8R,QAAAiB,YAC1EZ,EAAM,QAAgE,IAChFY,EAAQA,EAAAvK,SAAA,EAAE,WAAuB,IACjCuK,EAAQI,OAAAC,aAAAL,EAAE,WAA4E,IACtFA,EAAQM,SAAAN,EAAA,GAAE,WAAqB,IAC/BA,EAAQZ,EAAA,GAAAY,EAAAO,cAAAnB,EAAA,IAAAY,EAAAO,eAAE,WAAwB,IAClCP,EAAQZ,EAAA,GAAAoB,WAAAR,GAAAS,QAAArB,EAAA,IAAAoB,WAAAR,EAAE,WAAsC,IACnDA,EAAAA,EAAAvK,SAAA,EACM,MACH,KAAA,IACAuK,GAAUA,EAAQI,OAAMJ,KAAUZ,EAAE,GAAOY,EAAArB,UAAA,EAAAS,EAAA,IAAAY,CACxC,MACP,KAAO,IACVA,EAAApK,KAAA8K,IAAAV,EACJ,MACM,KAAO,IACjBA,EAAAA,EAAAvK,SAAA,GAEM,MAAyB,KAAc,IAAAuK,EAAdA,EAAAvK,SAAA,IAAcmI,cACrCoC,EAAU,QAACG,KAAAf,EAAe,KAASA,EAAA,IAAAY,GAAA,EAAA,IAAAA,EAAAA,CAChC,IAACW,GAAiBvB,EAAK,GAAoB,KAApBA,EAAY,GAAS,IAAAA,EAAA,GAAAwB,OAAA,GAAA,IAExCC,EAAYzB,EAAM,GAAAgB,OAAUJ,GAAM9R,OACjD4S,EAAA1B,EAAA,GAAAnS,KAAA2R,UAAA+B,EAAAE,GAAA,EACLd,GAACvC,KAAA4B,EAAA,GAAAY,EAAAc,EAAAA,EAAAd,IAII,MAAOD,GAAAgB,KAAe,gGC3IhB,OAHA9T,MAAAsR,MAAc1M,eAAyBiD,KAEvC7H,KAAAsR,MAAuBzJ,GAAS7H,KAAA+T,YAAAlM,IAChC7H,KAAA2N,OAA2B3N,KAAAsR,MAAAzJ,GAAamM,IAQ/C3C,oBAOQ,wBAEJ,YAAWA,QAEd4C,IAAA,SAAAtT,EAAAlB,EAAAD,2BCpB+C8B,EAAA4S,KACxC3S,IAAA/B,EAAA+O,eAA+B,WAAA2F,EAAApM,YAACvG,IAAA/B,EAAA2U,eAAwB,SAAA3S,EAAA4S,GAAAF,EAAAG,UAAAD,ODsBvDjR,SAAW,aAAA,sCACX3D,EAAkB,cAAC8D,OAAA,MAC3BiL,eAAA,iBAEM4F,eAAA,iBACHG,aAAe,WACfC,iBAAkB,gBACtBC,GAAC,mBAEDA,GAQClT,EAAA+C,EAAAR,GAPG7D,KAAKuF,WAAWjE,EAChBtB,KAAKwF,KAAAnB,EAELrE,KAAKyU,SAAS5Q,IACLrE,EAAA8U,eAAW,IACX9U,EAAA+U,kBAAW,KCvCjB,MDiCCC,GAAArR,SAAA,aAAR,OAAA,YAQAqR,EAAC/O,UAAAqC,MAAA,WACL9H,KAAAwF,KAAAG,MAAA,6BAAC3F,KAAA0U,aAAA,OAOGF,EAAe/O,UAAA4O,UAAgB,SAAAD,GAC/BpU,KAAAwF,KAAcG,MAAC,sBAAgByO,GAClCpU,KAAA0U,aAAAN,MAIY3O,UAAgBiP,aAAiB,SAAAN,GACtC,GAAC9E,GAAAtP,4IC1DTsP,EAAA/J,WAAA/F,EAAA+U,kBAAA,MAAA,IAEWC,oBAKI,0CAAqCA,4BAEtB7T,EAAOlB,EAAAD,sCAErBA,EAAA,cAAsB8D,OAAA,UACpB,kCAGFmC,UAAAkP,SAAA,SAAAC,EAAAC,EAAAC,GACXF,GAAAC,IAEJE,QAAAD,IAGMA,EAAA,KACFE,WAAO,WACA,GAACC,EAAAJ,GAAaK,WAAd,kECvBZ,GAAAP,GAAAM,EAAAL,GAAAO,aAAAF,EAAAJ,GAAAK,WAAAE,IAAA,GAGIN,GAA6C,GACzCG,EAAUL,GAACS,SAECF,UAAWR,EAAA,MAC1BG,MAGD,2BAII,oCAAmCQ,qBACJ3U,EAAWlB,EAACD,sCACNA,EAAC,cAAU8D,OAAA,UAC1C,mBACNiS,GAAOjT,mBACPwK,QAAOxK,ECZJ,kBDUiC,iCAGtBiT,EAAS9P,UAAM,8BAC7B,GAAI+P,GAAGxV,KAAO8M,QAAQ2I,UAAOC,gBAACF,GAAAG,OAAO,SAAS,EACvC,OAAwBH,EAAAG,OAAO,SAAU,EAEzC,KACVH,EAAAG,OAAA,YAAA,8BAAA,UAEDH,EAAAG,OAAW,UAAA,EAAX,QACQH,EAAAG,OAAQ,QAAA,EACH,QACLH,EAAAG,OAAU,cAAK,EAEX,YACJH,EAAAG,OAAK,WAAM,EACP,kBACM,WAAA,EACL,kBACD,YAAmB,EACnB,UACJ,uBAEI,gBACA,0BAEAJ,EAAa9P,UAAM,oCAEvBmQ,KACI5V,KAAA8M,QAAa2I,UAAMC,YACb1V,KAAA6V,mBACVC,OACI,OACAF,EAAMJ,EAAAO,MAAA,QAAA,GAAAA,MAAA,KAAA,EACV,WACI,KACAH,EAAMJ,EAAAO,MAAA,SAAA,GAAAA,MAAA,KAAA,EACV,WACI,OACAD,EAAM,KACVF,EAAaJ,EAAAO,MAAA,SAAA,GAAAA,MAAA,KAAA,EACT,WACA,UACJH,EAAcJ,EAAAO,MAAA,YAAA,EACV,WACA,QACPH,EAAAJ,EAAAO,MAAA,YAAA,EAEM,MACV,KAAA,wCAAA,KAAA,YAEDH,EAAWJ,EAAAO,MAAA,cAAA,GAAQA,MAAA,KAAA,EAAnB,MACQ,KAAK,SAELH,EAAAJ,EAAAO,MAAA,WAAA,GAAAA,MAAA,KAAA,EACA,MAEJ,KAAO,SACVH,EAAAJ,EAAAO,MAAA,YAAA,GAAAA,MAAA,KAAA,uBAAAH,EAAAJ,EAAAO,MAAA,YAAA,GAGG,MAAMH,gBAGE,gBACA,0BAEPL,EAAA9P,UAAA,gBAAC,cACE+P,GAAAxV,KAAO8M,QAAS2I,UAAAC,SACpB,OAAC,6DAAAxC,KAAAsC,EAAAvD,eACJ,oBAAAnM,YAAA,EAEMC,cAAA,IAEP3C,OAACC,eAAAkS,EAAA9P,UAAA,MAEMS,IAAA,WACH,GAAOsP,GAAKxV,KAAA8M,QAAY2I,UAASC,SACpC,KAGM,GAAAM,IAAA,8DAAP1D,KAAAkD,EAAAvD,iBAAAuD,IAAA,GAAA9E,QAAA,QAAA,WACgBuF,EAAC,YAAA3D,KAAAkD,EAAAvD,gBAAA,EAChB,QAAAgE,GAAA,WAAAA,GAAA,WAAAA,EAAA,GAAAD,EAAA,UAIO,MAACE,GACD,MAAS,wBAGL,gBACK,MAEPzQ,UAAA0Q,UAAA,WAEN,MAAmB,WAAfnW,KAAOoW,YAEJ3Q,UAAU4Q,SAAW,WAE5B,MAAwB,UAApBrW,KAAOoW,YAGJ3Q,UAAK6Q,UAAA,WACf,OAAA,GA1HLf,EA2HC9P,UAAA8Q,YAAA,SAAAC,GAGMA,IACKA,GACCC,KAAA,wCCjIb,IAAAX,GAAA9V,KAAA6V,YAsDCD,EAAA5V,KAAA0W,cAnDO,OADGd,GAAAA,EAAAG,MAAY,KAAnB,GACID,GAAUU,EAAAV,IAAAF,GAAAY,EAAAV,IAAV,GAKGP,wCAINoB,QAAA,gBAAApB,YAGK,SAAM5U,EAAQlB,EAAQD,sCAEZA,EAAQ,cAAa8D,OAAA,UAC7B,mBACJsT,MCNJ,MDSOA,GAAAnR,UAAAoR,aAAP,SAAoBC,GAApB,MAAAA,GACUlU,EAAAmU,KAAAD,EAASpG,QAAM,UAAA,MACjB,QAIJjL,UAAWuR,YAAC,SAAAF,GACf,MAAAA,GAEMA,EAAApG,QAAA,WAAP,IAAAuB,cAAA,kBAEegF,MAAK,SAAMC,EAAYC,GAElC,MAAY,OAARD,GAAe,MAAAC,GAGtB,MAAAD,GAAA,MAAAC,GAEDnX,KAAAgX,YAaCE,IAAAlX,KAAAgX,YAAAG,MAVI1R,UAAM2R,aAAc,SAAMC,MACvB/H,GAAQtP,WAER4C,GAAE0U,SAAMD,OACJA,EAAItB,MAAQ,iBACZ7F,IAAImH,EAAO,SAAQP,GAAK,MAAAxH,GAAauH,aAAWC,QAIxDrR,UAAS8R,YAAW,SAAAF,GACvB,GAAA/H,GAAAtP,IAKA,OAJL4C,GAAA0U,SAACD,KAAAA,EAAAA,EAAAtB,MAAA,aAGMsB,EAAAzU,EAAAsN,IAAAmH,EAAA,SAAAP,GAAA,MAAAxH,GAAA0H,YAAAF,8EChDN,6BATD,GAAA1L,GAAAoM,EAAAC,IAAA,EAKI,IAAmB,IAAnBrM,EAAmB,CACV,GAAKsM,GAAStM,EAAA+G,MAAA,QACdkF,GAAUA,EAAAM,OAAQrI,EAAA8H,aAAAM,OAE9B9U,EAAAgV,KAAAP,IAIOT,aAGNnX,OAAA,cAGFkX,QAAA,UAAAC,YAYQ,SAAWjW,EAAAlB,EAAAD,sCAPAA,EAAmB,cAAU8D,OAAe,UASlD,mBACAuU,GAAWrW,EAACsW,GACjB9X,KAAKwB,MAAAA,EACRxB,KAAA8X,QAAAA,QAGGD,MAGGE,MACHF,GAAI,qBAA4B,QAChCA,GAAI,oBAAsB,YAAQ,0BAAA,QAGvB,mBAETG,GAAA1W,EAAA+C,EAAA4T,GACF,UAEAjY,MAAIkY,UAAK,OACLC,QAAKvV,EAAAC,UAAWkV,GACvB/X,KAAAuF,WAAAjE,EAEMtB,KAAAwF,KAAAnB,EACHrE,KAAKoY,UAAYH,WATb9U,SAAgB,aAAA,OAAA,eAWZsC,UAAA4S,UAAuB,uBACnBH,YAEPzS,UAAA6S,SAAA,SAAA9W,EAAAsW,GACL,GAACS,GAAA3V,EAAA4V,KAAAxY,KAAAmY,QAAA,SAAAhY,GAAA,MAAAA,GAAAqB,OAAAA,GACJ,IAAA,MAAA+W,EAAA,CAGG,GAAIE,IACAjX,MAACA,EACRsW,QAAAA,EAED9X,MAAAmY,QAAA5H,KAQCkI,GAPGzY,KAAMkY,UAEElY,KAAI0Y,WAAWD,OAGbhT,UACTkT,YAAA,SAAAnX,GACJ,IAAA,GAAAZ,GAAAZ,KAAAmY,QAAAlX,OAAA,EAAAL,GAAA,EAAAA,IAAA,CAEO,GAAA2X,GAAAvY,KAASmY,QAAjBvX,EACQ2X,GAAkB/W,OAAOA,IACrBxB,KAAC4Y,UAAAL,GACDvY,KAAKmY,QAAAU,OAAUjY,EAAO,QAIrB6E,UAASqT,YAAQ,WAC1B9Y,KAAC+Y,OACJ/Y,KAAAmY,cAED1S,UAQCiT,WAAA,SAAAlX,GAPG,GAAI8N,GAAKtP,OAAUgZ,SAAOhZ,KAAAoY,UAAA,WAExB9I,EAAK9J,KAAKG,MAAS,yBAAMnE,EAAAA,OACvB8N,EAAK/J,WAAWG,MAAMlE,EAACA,QACxBA,EAAAsW,UAGPE,EAACvS,UAAAmT,UAAA,SAAApX,GAEM,GAAA,MAAAA,EAAAwX,SAAP,CAAA,IACWhZ,KAAKoY,UAASa,OAAAzX,EAAMwX,UAExB,MAAAE,IAGN1X,EAAAwX,SAAA,OAILhB,EAAevS,UAAY0T,MAAG,WACzB,GAAO7J,GAACtP,uEClHbA,KAAAkY,UAAA,IAEAF,EAAAvS,UAAgBsT,KAAA,WAChB,GAAAzJ,GAAiBtP,IACjB4C,GAAA4N,KAAAxQ,KAAAmY,QAAsB,SAAA3W,GACtB8N,EAAAsJ,UAAApX;;;C1BNA,SAAAjC,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAmZ,QAAA7Z,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,W2BEc2L,GAAArB,GAEN,GAAAC,GAAiBD,EAAWE,IAAA,gBAAAF,EAAA5D,IAAA,gBAAA,WACxB,UAAOgF,GACV,MAAAnB,GAAAA,EAAA,UAAAmB,IAAAA,EAAAA,GALLC,EAAAhI,SAAmB,qBASd1D,OAAO,2BACf4Z,OAAA,YAAAlO,QCXAmO,GAAA,SAAA3Y,EAAAlB,EAAAD,WAqCO+Z,GAAYC,EAAA3V,UAEd+G,SAAA,IACLrD,OAAA,EAEMkS,WAAAC,KAnCHvW,SAAA,SAAA,kBAOe,mBAKXuW,GAA2BC,EAAMC,EAAAC,EAAAhW,EAAA2V,oBACSA,EAAAI,EAAA,yBAAAE,EAAAN,EAAAI,EAAA,mBAAAG,EAAAD,EAAAE,SAEnCC,OAAOC,EAAG,SAAAC,GACTvX,EAAAwX,WAASL,KAETI,EACHtW,EAAA,WAAOkW,EAAAF,EAAAM,IACJ,KAGXJ,EAAAF,EAAAM,MAKD,SApB4BhX,SAAO,WAAA,SAC3B,SAAU,WAAU,UAmBrBuW,IAWVvY,0F3B9CAqC,GAAA,SAAA7C,EAAAlB,EAAAD,GACD,YACA4D,QAAAC,eAAA7D,EAAA,cAAqC8D,OAAA,IAErC3C,EAAQ,oCACJ,oCACA,uCACAlB,OAAA,cACD,kG4BGiB,EAAA4a,iCAAA,EAAAC,iCAAA,IAAAC,GAAA,SAAA5Z,EAAAlB,EAAAD,MAEhBgb,IACHpP,KAAA,WAEDqP,QAAA,cAAAC,UAAA,mBASA,WATA,QASCC,MAcG,MAAAA,MAEY,mBACAC,GAAsBf,EAAAF,EAAAC,GAC9B5Z,KAAA6Z,OAAAA,EAEG7Z,KAAA2Z,SAAAA,EACH3Z,KAAK4Z,OAAAA,EA2CT,SAxCgBnU,UAAAoV,UAAA,WACf7a,KAAA8a,eAAA9a,KAAA2Z,SAAAoB,SAAA,cAEM/a,KAAAgb,aAAAhb,KAAA8a,eAAUC,SAAjB,qBACI/a,KAAIib,UAEYxV,UAAAyV,WAAA,SAAAC,GACfA,EAAAV,QAAAW,gBAAA,GAAKpb,KAAEoL,KAAA+P,EAAA/P,KAAAgQ,aACJpb,KAAKib,QAINjb,KAAAqb,UAGa5V,UAAM6V,QAAA,SAAAC,QACfb,WACN1a,KAAA0a,WACJa,OAAAA,OAKI9V,UAAAwV,KAAA,WAED,GAAuBlG,SAAnB/U,KAACgb,cAA6BjG,SAAA/U,KAAA8a,eAAlC,CAKA9a,KAAKgb,aAAA5P,KAAkBpL,KAACoL,MAC3BpL,KAAA8a,eAAAG,MAEO,IAAAO,GAAAxb,KAAA8a,eAAAU,OACJxb,MAAK8a,eAAeW,IAAI,cAAG,IAAAD,EAAA,EAAA,QAEnCZ,EAAAnV,UAAC4V,KAAA,WAAArb,KAAA8a,eAAAO,QAIGT,MAEAc,YACIlB,aACAI,WACA,8MAOPzZ,2FCnGD,SAAAR,EAAAlB,EAAAD,MAwBImc,IAjBJ,WAPA,QAOCC,MAeG,MAAAA,OAGAC,WAAA,KACAzC,QAAA,cACA0C,mBAAmB,WACnBC,cAAY,oBACfC,YAAA,mBAEDC,OAAA,YAAAC,WAAA,uBAWA,WAXA,QAWCC,MAiBG,MAAAA,MACY,mBAEAC,GAAsBzC,EAAAC,EAAAC,EAAAhW,EAAAiG,GACtB,UAKR9J,MAAK2Z,SAAWA,EAChB3Z,KAAK4Z,OAAQA,EACb5Z,KAAM6Z,OAAUA,OACZhW,SAASA,OACTwY,SAAAvS,EAAAE,IAAA,YAAAF,EAAA5D,IAAA,YAAA,KACJlG,KAAKsc,MAAA1C,EAAqB,OAAK,EAC/B,IAAI2C,GAAC3Z,EAAA6O,QAAgBzR,KAAKoZ,QAAQxW,EAAA4V,KAASxY,KAAIoZ,SAClDjR,GAAAnI,KAAA8b,qBAGG9b,MAAKwc,mBAAqBD,EAAC,EAAW,EAAGA,EACzCvc,KAAK+b,cAAW/b,KAAQoZ,QAAUnY,OAAG,EAAQjB,KAAAoZ,QAAWpZ,KAAAwc,oBAAqBxc,KAAA+b,cAwDjF,SA1EkB5Y,SAAqB,WAAA,SAAA,SAAA,WAAA,eAqBnBsC,UAAQyV,WAAa,SAAgBC,GAErDnb,KAAMgc,cAAUb,EAAaa,aAAWb,EAAUa,YAASZ,kBACvDqB,WAAStB,EAAAU,YAAkBV,EAAAU,WAAAT,kBAC3Bc,aAAAf,EAAAe,YAAAf,EAAAe,WAAAd,aACJpb,KAAKoZ,SAAA+B,EAAkB/B,SAAYxW,EAAA6K,QAAO0N,EAAM/B,QAAAgC,eAAA,IAAAD,EAAA/B,QAAAgC,aAAAna,UAAAka,EAAA/B,QAAAgC,YAChD,IAAImB,GAAC3Z,EAAA6O,QAAgBzR,KAAKoZ,QAAQxW,EAAA4V,KAASxY,KAAIoZ,SAClDjR,GAAAnI,KAAA8b,qBAED9b,MAAAwc,mBAQCD,EAAA,EAAA,EAAAA,EAPGvc,KAAK+b,cAAQ/b,KAAAoZ,QAAAnY,OAAA,EAAAjB,KAAAoZ,QAAApZ,KAAAwc,oBAAAxc,KAAA+b,iBAEStW,UAASoV,UAAA,WAC3B,GAAEvL,GAAAtP,UACD2Z,SACG+C,GAAA,UAAc,WACfpN,EAAAqK,SAAAgD,SAAA,uBAGJD,GAAA,WAAA,WAAPpN,EAAAqK,SAcCiD,YAAA,0BAXInX,UAAAoX,eAAA,SAAAN,GAED,GAAIjN,GAACtP,IACDA,MAACyc,gBAIDD,mBAAkBD,qBACHvc,KAAGoZ,QAAApZ,KAAAwc,yBACjBV,mBAAA9b,KAAA+b,cAAA5T,IAAAoU,EACLvc,KAAG6D,SAAA,WACNyL,EAAA2M,QAEM3M,EAAA2M,eAKiBxW,UAAAqX,gBAAA,SAAAtb,QACfqb,eAAcrb,EAAK+a,UAGR9W,UAAcsX,gBAAc,SAAcR,GAC1D,OAACvc,KAAAgc,aAEDpZ,EAAOwN,YAAKpQ,KAAA+b,cAAsBiB,QACrCpa,EAAAwN,YAAApQ,KAAAoZ,QAAAmD,GAAAS,OAGChd,KAAsCwc,oBAAAD,EAF5Cvc,KAAA+b,cAACiB,OAAAhd,KAAAoZ,QAAAmD,GAAAS,OAIGZ,MAEHa,GAEDC,SAAOvB,cACK,+CACGS,+DC/Ife,UAAA,mBAAAF,QAGAlY,GAAA,SAAApE,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,wBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,2BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,oCACA;;;C/BZA,SAAA9d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAqd,QAAA/d,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gEgCAA,IAAA+d,GAAA5c,EAAA,yBAII6c,EAAA,mBAKQA,GAAWC,GADY,UAHnBzd,MAAAyd,YAAqBA,EACrBzd,KAAA0d,WAAoB,IAI3B1d,KAAA2d,UAAA,IANL,MAIIH,GAAAra,SAA2B,iBAKCsC,UAAQmY,OAAG,WACtC,MAAAC,QAAA5I,EAAA,QAAAuG,SAAA+B,EAAAO,gBAAAC,IAAA/d,KAAAyd,YAAAtD,YAG2B1U,UAAQuY,OAAI,WACvC,MAAAH,QAAA5I,EAAA,QAAAuG,SAAA+B,EAAAO,gBAAAG,GAAAje,KAAA2d,WACJH,KAIGU,GACAzE,WAAY+D,EACZW,YAAU,WACV,mPAMC1e,OAAA,eAER0d,UAAA,cAAAe,KClCAE,wBAAA,KAAA9E,GAAA,SAAA3Y,EAAAlB,EAAAD,WA2CO6e,GAAOC,iBAEHC,GAAAD,EAAe,UAEfH,WAAUI,EAAKJ,WACfK,SAAOD,EAAIC,SACXC,SAAMF,EAAAE,kBAEIF,EAAK3T,gBACX,EACJG,KAAC,SAAA8O,EAAAF,EAAAC,GACDA,EAAU2E,KAAE,WAAA,MAAsB1E,GAAA,SACpC0E,EAAAxT,KAAA2T,MAAAH,IAGC9E,WAAAkF,KAnDHxb,SAAA,uBAMe,mBALHwb,GAAiB9E,EAAAF,EAAAC,EAAAtY,EAAAmc,GAMzB,UACA,IAAInO,GAAOtP,IACXA,MAAI6Z,OAAQA,OACR+E,SAAK,GAAYhF,EAAKiF,qBACtBC,IAAK9e,KAAA4e,SAAgBnN,QAAQ,KAChCzR,KAAA8e,IAAA,IAEG9e,KAAC+e,UAAA/e,KAAkB4e,SAAMxN,OAAYpR,KAAM8e,IAAC,GAChD9e,KAAA4e,SAAe5e,KAAA4e,SAAAxN,OAAsB,EAAApR,KAAC8e,MAEtC9e,KAAGgf,kBAAA,KAAAvB,EAAAtZ,QAEN7C,EAAAC,IAAA,qBAAA,SAAAC,EAAA2C,GAEOmL,EAAA0P,kBAAAxd,EAAA2C,KAWR,SAbChB,SAAA,SAAA,WAAA,SAAA,aAAA,iBAOwBsC,UAASuZ,kBAAY,SAAgBxd,EAAS2C,GACtE,GACL8a,IADK9a,EAAA+a,UACL/a,EAACnE,KAAA4e,UAAA5e,MAAA6Z,OAAA,QAAA7Z,KAAA+e,UAAAE,GAAAjf,KAAA+e,UAAAE,GAIGN,IAuBPxd,mEC9DDqC,GAAA,SAAA7C,EAAAlB,EAAAD,GACA,YAyKA,SAAO2f,GAAA7d,EAAAmc,gBAEOlc,IAAA6d,EAAeC,kBAAiB,WAAA5B,EAAA5W,WACrCtF,IAAA6d,EAAoBE,mBAAA,WAAA7B,EAAAzW,UA1K7BmY,EAAAhc,SAAA,aAAA,sBAOIE,eAAA7D,EAAmB,cAAwD8D,OAAE,UAE9D3C,EAAA,wBAJFA,EAAe,wBAKT,mBAEV4e,GAAWpb,EAAW7C,EAAAke,GAC9B,UAEDxf,MAAAmI,GAAA,oBAAAsX,QAAAtb,OACIoB,WAAYjE,EAChBtB,KAAC0f,SAAAF,WANQrc,SAAa,SAAW,aAAA,0DAMhC+C,IAAA,WAED,MAAAlG,MAAAyf,qBACW,EACX1Z,cAAC,iDAAAG,IAAA,WAED,MAAAlG,MAAAyf,QAAWE,qBACA,EACX5Z,cAAC,0BAGgBwZ,EAAiB9Z,UAAG,aACjC,WACH,MAAAzF,MAAAyf,QAAAP,uBALAlf,KAAAyf,QAAAP,MAAA5b,MAODtD,KAAA4f,+BACW,EACX7Z,cAAC,0BAGiBwZ,EAAY9Z,UAAA,aAC1B,WACH,MAAAzF,MAAA6f,wBALA7f,KAAA6f,OAAAvc,MAOMtD,KAAAuF,WAAAua,WAAPV,EAAAW,0BAAAzc,IAECwC,YAAA,EAEMC,cAAA,IAEPwZ,EAAC9Z,UAAA0U,OAAA,WAEM,MAAAna,MAAA0f,SAAA1f,KAAAmI,IAAPgS,UAEAoF,EAAC9Z,UAAAoB,KAAA,WAEM7G,KAAA0f,SAAA1f,KAAAmI,IAAAtB,QAEP0Y,EAAC9Z,UAAAuB,MAAA,WAEMhH,KAAA0f,SAAA1f,KAAAmI,IAAAnB,WAASvB,UAAoBua,OAAA,gBAApBN,SAAA1f,KAAAmI,IAAA6X,0CAGZ,IAAG,GAFD1Q,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACCN,EAACM,GAAAC,UAAkBD,EAGpBrd,GAAA4N,KAAAmP,EAAA,SAAAQ,GAAP7Q,EAAAmQ,QAKCE,QAAApP,KAAA4P,UALkBP,sDAGf,IAAG,GAFDtQ,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACCN,EAACM,GAAAC,UAAkBD,EAGpBrd,GAAA4N,KAAAmP,EAAA,SAAIQ,GACH7Q,EAACmQ,QAAaE,QAAS/c,EAAAwd,OAAM9Q,EAAAmQ,QAAAE,QAAA,SAAAU,GAAA,MAAAA,IAAAF,MAEpCngB,KAAA4f,qBAGQna,UAAiB6a,KAAA,SAAAA,EAAAhd,GACzBtD,KAAAyf,QAAAP,MAAAoB,GAAAhd,EACLtD,KAAA4f,mBAEAL,EAAA9Z,UAAAma,gBAAA,WAAA5f,KAAAuF,WAAAG,MAAA0Z,EAAAmB,qBAAAvgB,KAAAyf,iBAIc,mBACNe,UACFf,SAwELP,SApEGS,gBAAA,SACIhd,MAAO,MAwEX,6BApEgB6d,EAAgB/a,UAAA,UAChCS,IAAC,gCAJAC,IAAA,SAAA7C,GAMDtD,KAAAyf,QAAWnc,GAAA,GAAAmd,GAAAC,4BACA,EACX3a,cAAC,0BAGgBya,EAAiB/a,UAAG,SACrCS,IAAC,sCAJAC,IAAA,SAAA7C,GAMDtD,KAAAyf,QAAAP,MAAW5b,mBACA,EACXyC,cAAC,0BAGgBya,EAAa/a,UAAA,QAC9BS,IAAC,qCAJAC,IAAA,SAAA7C,GAMDtD,KAAAyf,QAAAkB,KAAWrd,eACA,EACXyC,cAAC,0BAGgBya,EAAe/a,UAAO,WACvCS,IAAC,wCAJAC,IAAA,SAAA7C,GAMMtD,KAAAyf,QAAAE,QAAArc,OAASwC,YAAA,gBAAA,oCAGZ,IAAG,GAFDwJ,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACNN,EAAAM,GAAAC,UAAAD,EAEDrd,GAAA4N,KAAAmP,EAAA,SAICQ,GAJkB7Q,EAAAmQ,QAAoBE,QAAApP,KAAA4P,yCAGnC,IAAG,GAFD7Q,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACNN,EAAAM,GAAAC,UAAAD,EAGGrd,GAAA4N,KAAKmP,EAAQ,SAAWQ,GAC3B7Q,EAAAmQ,QAAAE,QAAA/c,EAAAwd,OAAA9Q,EAAAmQ,QAAAE,QAAA,SAAAU,GAAA,MAAAA,IAAAF,OAIDK,EAAC/a,UAAA6a,KAAA,SAAAA,EAAAhd,GAEMtD,KAAAyf,QAAAP,MAAAoB,GAAAhd,GAEPkd,EAAC/a,UAAAoB,KAAA,WAEM7G,KAAAiG,SAAAY,QAEP2Z,EAAC/a,UAAAuB,MAAA,WAEMhH,KAAAiG,SAAAe,WAGMvB,UAAYua,OAAK,gBACtB/Z,SAAK+Z,UAGbQ,EAAC/a,UAAAW,MAAA,aAAA,aAAA,SAAA9E,EAAAke,GACL,UAGI,OAHH,OAAAxf,KAAAiG,WAEDjG,KAAAiG,SAA4B,GAAAsZ,GAAkCvf,KAA6Byf,QAAAne,EAAAke,IAC5Exf,KAAAiG,WAEXua,6DCvKSjd,IAAA4b,KAEAyB,qBAAA,IAAoBrG,GAAA,SAAA5Z,EAAkBlB,EAAAD,GACtC,YAEb4D,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,MAAAid,qBAAA,uBAKCR,0BAAA,4BAADV,kBAAC,kBAAD7f,EAAC8f,mBAAA,kBALY,IAAAoB,GAAA,gFCLb,YAEA,SAAAtf,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAwBlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAGxBvB,OAAAC,eAAA7D,EAAA,cAAmC8D,OAAA,6OnCNnC,YAEA,SAAAlC,GAAAsD,GAEA,IAAA,GAAAC,KAAAD,GAAAlF,EAAAoF,eAAiCD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAEjCvB,OAAAC,eAAA7D,EAAA,cAAmC8D,OAAA,IACnCnC,QAAA1B,OAAA,aAAA,aAAqC,WAAA,gBACrCkB,EAAA,iBACAA,EAAA,2BACAA,EAAA,2BAEAA,EAAA,iJoCZAS,EAAAT,EAAA,oBAICkgB,mBAAA,EAAAC,0BAAA,EAAAC,4BAAA,EAAAC,8BAAA,EAAAC,0BAAA,GAAAC,4BAAA,GAAAC,2BAAA,GAAAC,gBAAA,KAAAC,GAAA,SAAA1gB,EAAAlB,EAAAD,sCAWGA,EAAA,cAEY8D,OAAA,UAGC3C,EAAC,4BALdA,EAmBC,6CA2FA2gB,GAAAhgB,GACJ,UAGD,QACKsJ,SAAO,KACPG,KAAS,SAAU8O,EAAEF,EAAeC,GAEpC,GAAA2H,GAAAjgB,EAAAqY,EAAAC,OApHWzW,SAAA,oBACA,mBAMJoe,GAAWjgB,EAAaqY,EAAUC,GAGtC,UAGA,IAAItK,GAAOtP,IAGXA,MAAAsB,WAAWA,EACdtB,KAAA2Z,SAAAA,EAEO3Z,KAAA4Z,OAAAA,EAARD,EAAAgD,SA8EC,WA7EG,IACI6E,GAAS,WAAKlS,EAAiBmS,SAGnCngB,GACIC,IAAWmgB,EAAeC,iBACdH,GAQhBxhB,KAAIyhB,oBACAD,EAAgB,cA9BXre,SAAS,aAAY,WAAA,YAgClBsC,UAAKgc,OAAA,cAGIG,GAAAxM,EAFjB9F,EAAMtP,KACN6hB,EAAW5M,EAAA,kBAAK6M,EAAA7M,EAAA,uBAChB8M,GADgB9M,EAAA,YAAAuG,QACPqG,EAAQrG,SAAAwG,EAAAH,EAAAI,SAAAC,EAAAliB,KAAA4Z,OAAAsI,SAAAvZ,KAAAwZ,MAAAtE,OAAA7d,KAAA4Z,OAAAsI,WAAA,KAAAE,EAAApiB,KAAA4Z,OAAAwI,UAAAzZ,KAAAwZ,MAAAtE,OAAA7d,KAAA4Z,OAAAwI,YAAA,KAAA5G,EAAAxb,KAAA4Z,OAAA4B,MAAA7S,KAAAwZ,MAAAtE,OAAA7d,KAAA4Z,OAAA4B,QAAA,KAAAyG,EAAAjiB,KAAA4Z,OAAAqI,OAAAtZ,KAAAwZ,MAAAtE,OAAA7d,KAAA4Z,OAAAqI,SAAA,IACrB,IAAC1E,EAAA8E,uBAAAtE,GAEGmE,EAAE,KAEFE,EAAc,KACd5G,EAAQ,KACRyG,EAAS,KAGTF,EAAW,KACXC,EAAY,SAIZ,CACH,GAAAM,GAAA/E,EAAA8E,uBAAA,SAAA,GAAA,EAGGN,IAAc,EAAJO,EACVN,GAAc,EAADM,EACbJ,EAAUA,EAAWvZ,KAAE4Z,IAAQL,EAAQH,GAAW,KAClDK,EAAUA,EAAczZ,KAAA4Z,IAASH,EAASJ,GAAW,KAErDxG,EAACA,EAAc7S,KAAA4Z,IAAS/G,EAAAuG,GAAoB,KAC5CE,EAAKA,EAAatZ,KAAA4Z,IAAAN,EAAcD,GAAY,aAE5CrI,SACI8B,IAAU,YAAasG,EAAMA,EAAA,KAAsB,SAGvDpI,SAAI8B,IAAA,YAAgByG,EAAaA,EAAgB,KAAG,SAEpDvI,SAAI8B,IAAQ,QAAWD,EAAAA,EAAA,KAAA,kBACnBC,IAAA,SAAiBwG,EAAQA,EAAY,KAAM,IAC/CH,EAAYU,SAAW,sBAWT7F,SAAK,cAClBY,EAAA8E,uBAAAtE,IAEG6D,EAAC,EACDxM,EAAC,IAMJwM,EAAUE,EAAOtG,QAAA,EAAoBxb,KAAA2Z,SAAA6B,QAAA,EAAA,GAC7CpG,EAAAzM,KAAAC,IAAAkZ,EAAAG,SAAA,EAAAjiB,KAAA2Z,SAAAsI,SAAA,EAAA,GAAA,IACJjiB,KAAA2Z,SAAA8B,IAAA,OAAAmG,GAED5hB,KAAA2Z,SAAuB8B,IAAA,MAAgCrG,GACnDJ,WAAW,WAAA1F,EAAAqK,SAAA8B,IAAA,UAAA,SAAA,SA1BoB,MACnB9B,SAAA8B,IAAa,aAAYuG,EAAYA,EAAM,KAAA,IAE/ChiB,KAAK2Z,SAAK8B,IAAA,aAAc2G,EAAoBA,EAAE,KAAA,GACjD,IAAAK,GAAAziB,KAAA2Z,SAAAnB,KAAA,uBAAAkK,EAAA1iB,KAAA2Z,SAAAnB,KAAA,uBAAAmK,EAAA3iB,KAAA2Z,SAAAnB,KAAA,aAAOoK,EAAAZ,GAAAH,EAAAI,QACJQ,GAAAxhB,OAAc,IACV2hB,GAAAH,EAAAI,aAAsB,IACtBH,EAAQzhB,OAAC,IACT2hB,GAAQF,EAAAG,aAAA,IACZF,EAAClH,IAAA,aAAAmH,EAAA,MAoBL5iB,KAAAsB,WAAcoE,MAAA,yBCtHtBvE,SACI1B,OAAO,uBACH,UAAc6hB,iCAGb,GAAAlD,wBAAA,KAAAjX,GAAA,SAAAxG,EAAAlB,EAAAD,eAET,QAACsjB,KAED,OACKlY,SAAO,KACPG,KAAS,SAAC8O,EAAaF,EAAAC,GAEvBD,EAAAgD,SAAA,gBCbLxb,QACI1B,OAAO,uBACH,YAAcqjB,uBAGbniB,EAAAlB,EAAAD,eAET,QAACujB,KAED,OACKnY,SAAO,KACPG,KAAS,SAAC8O,EAAeF,EAAAC,GAEzBD,EAAAgD,SAAA,0BChBLld,OAAA,aACA4L,UAAA,cAAA0X,WAUIja,IAAA,SAAAnI,EAAAlB,EAAAD,sCAUkBA,EAAC,cAAA8D,OAAA,UAPf3C,EAwBC,8BAvBWA,EAAA,4BACAA,EAAA,6CAoEZqiB,KACA,kBAEIpY,SAAM,KACT6O,WAAAwJ,EACJC,aAAA,cAIIC,eAGJ,oCA9Ee,mBAIHF,GAAoBpJ,EAAYF,EAAKrY,EAAOuC,EAAgB+V,GAGjE,UAGA,IAAMtK,GAAQtP,IACdA,MAAA6Z,OAAAA,EAGA7Z,KAAA2Z,SAAWA,OACPrY,WAAAA,EACJtB,KAAG6D,SAAAA,EAGH7D,KAAK4Z,OAAAA,EACR5Z,KAAAojB,WAAAxJ,EAAAyJ,aAAApO,EAAA2E,EAAAyJ,cAAA1J,EAEOA,EAAAgD,SAAA,WAAR,IAAA6E,GAAA,WAeClS,EAAAmS,SAdG6B,GAAmBC,kBAAWvjB,KAAaojB,WAAA,GAAA5B,GAC3C3H,EAAMtY,IAAO,WAAU,WAEvB+hB,EAAAE,qBAAuBlU,EAAO8T,WAAA,GAAA5B,UAG1BiC,2BAgBZ,SA5CsBtgB,SAA0B,SAAA,WAAA,aAAA,WAAA,YA8BnCsC,UAAAge,yBAAA,WACL,GAAGnU,GAAAtP,KAECwb,EAACxb,KAASojB,WAAAM,aACVC,EAAK1O,EAAA,OACTsI,GAAG8E,uBAAA5Z,OAAA8U,EAAAO,gBAAAtC,GACNvG,EAAAzE,KAAA+M,EAAA8E,uBAAA,SAAAuB,EAAAta,GAEO1G,EAAAihB,UAAAva,IACCqa,EAAAra,EAAA,WAA2B,eAAA,OAAAsa,KAGxC5jB,KAAA6D,SAAA,WAACyL,EAAAhO,WAAAwiB,cAOkBre,UAAAgc,OAAA,WAEXzhB,KAAAyjB,2BACHzjB,KAAAsB,WAAAoE,MAAAgc,EAAAC,iBAAApE,EAAA8E,yBACJY,KAGGc,EAAW,mBAEPA,GAAclK,EAAAF,GACd,UACAA,GAAAgD,SAAkB,iBAEzB,MALGoH,GAAO5gB,SAAA,SAAA,YAKV4gB,aC7EGtkB,OAAO,uBACH,UAAcujB,aACR,cAAkBG,iCAG1B,GAAA/E,wBAAA,GAAA4F,2BAAA,KAAAza,IAAA,SAAA5I,EAAAlB,EAAAD,eAGN,QAAOykB,uBAINrZ,SAAA,qDCfLzJ,QACA1B,OAAA,aASA4L,UAAA,YAAA4Y,WAKApa,IAAA,SAAAlJ,EAAClB,EAAAD,GAAD,qBA0GQ0kB,GAAc5iB,sBAEd6iB,GAAgB7gB,GAChB,MACA,OADAA,cAKckF,WAAAyJ,cACA,QAAA,QAAA3O,oBAGT,YAAC,cACE,oBACMqW,EAAAC,YACAA,EAAAwK,aACAjR,SACA,wQAONA,SACA,8LAMVsG,YAAA,SAAA,SAAAI,GACLA,EAAAwK,cAEMC,OAAA,EACKC,YAAY,EACTC,eAAY,+CC9Jd,GAAAC,GAAmB5K,EAAgBF,EAACC,EAAAtY,KDsBjD4iB,EAAA/gB,SAAA,qBAOIE,eAAA7D,EAAA,cAEY8D,OACA,UAGG3C,EAAA,8BANfA,EAiCC,4BA/BmBA,EAAR,4BACM,mBACN+jB,YAIRA,MAEgB,mBAMVD,GAAW5K,EAAQF,EAAYC,EAAQtY,GAC7C,UAGA,IAAAgO,GAAWtP,UACP2Z,SAAAA,EACJ3Z,KAAG4Z,OAAAA,EAGH5Z,KAAKsB,WAAWA,EAChBtB,KAAK2kB,aAAe/K,EAAMgL,YAAYjc,KAAAwZ,MAAAtE,OAAAjE,EAAAgL,cAAA,IAGtC5kB,KAAAojB,WAAezJ,EAAAoB,SAAA,wBAGf/a,KAAK6kB,oBAAa,KACrB7kB,KAAA8kB,SAAAC,QAAA3b,KAAApJ,KAAAojB,WAAA,IAEOzJ,EAAAgD,SAAA,YACJ,IAAI6E,GAAQ,WAAclS,EAASmS,QAAO,GAG1C6B,GAAIC,kBAAA5J,EAAuB,GAAO6H,KAC9BjgB,IAAK,WAAa,WAElB+hB,EAAkBE,qBAAoB7J,EAAA,GAAc6H,UAGpDwD,OAAI/P,EAAA,kDACAgQ,SAAUjlB,KAAAojB,cACV7hB,IAAAmgB,EAAuBC,iBAAkB,WAAarS,EAAGmS,QAAA,UAC5DA,QAAA,GA0CT,SA7Eate,SAAS,SAAa,WAAA,SAAA,gBAsCvBsC,UAAiBgc,OAAM,SAAAyD,MACEC,KAArBnlB,KAAC2Z,SAAWyL,SAAS5J,WAC7B+B,EAAC8E,uBAAA,UAAA7G,EAAA,GAAAxb,KAAA2kB,aAAA,CAACnJ,GAAM,MACJ6J,GAAK1c,KAAUwZ,MAAC3G,EAAaxb,KAAC2kB,aAClCQ,IAACnlB,KAAA2kB,aAAA,IAAAU,EAAA,GAGGF,EAAgB3J,IAChB6J,IACPF,GAAAnlB,KAAA2kB,aAAA,IAAAU,EAAA,IACGA,EAAa,GACbF,EAAiB3J,EAEbxb,KAACglB,OAAWvJ,IAAA,QAAS0J,EAAqB,OAIjDnlB,KAAAglB,OAAAvJ,IAAA,QAAAzb,KAAA2kB,aAAA,MAIG3kB,KAAKojB,WAAA3H,IAAA,QAAsB0J,EAAe,GAAA,MAC1CnlB,KAAKojB,WAASxG,YAAS,kBAK9BpB,IAAA,GACL2J,EAAC3J,EAAAxb,KAAAglB,OAAAvJ,IAAA,QAAA0J,EAAA,MAEDnlB,KAAAojB,WAAwB3H,IAAA,QAAgC0J,EAAA,GAAA,MACpDnlB,KAAWojB,WAAAzG,SAAA,eAIH3c,KAAK6kB,qBAASM,GAAAD,KAACllB,KAAA6kB,oBAAaM,EAC5BnlB,KAAC8kB,SAAMQ,SAACtlB,KAAAsB,WAAaoE,MAAAgc,EAAA6D,sBAG5Bd,qBC/GO,uBACG,WAAMP,8BAEhB,GAAA9F,wBAAA,GAAA4F,2BAAA,KAAAzZ,IAAA,SAAA5J,EAAAlB,EAAAD,eAML4D,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,IAdY9D,EAAAmiB,iBAAA,iBAgBbniB,EAAA+lB,mBAAA,sBAAAC,GAAA,WA0BA,QAACA,GAAAzH,EAAA0H,EAAAC,EAAAzH,GAdUje,KAAA+d,GAAAA,EACH/d,KAAIylB,GAAAA,OAAsCC,GAAMA,EAEhD1lB,KAAKie,GAAKA,QAEVuH,QAEAA,iBAAgBA,QACK,mBAChBG,MClCb,SDoCwBlgB,UAAQgD,OAAe,SAAAmd,EAAApK,GACrB,MAAdoK,GAAuB,MAAApK,IAEnCxb,KAAAwb,MAAAA,EAACxb,KAAA,GAAAwb,GAAAoK,EAAA7H,GA1BY/d,KAAA,SAAAwb,EAAAoK,EAAA7H,6FCnBb/d,KAAA,GAAAwb,EAAAoK,EAAAF,IAAAlK,GAA4EoK,EAAA3H,GAGjEje,KAAA,SAAewb,EAAOoK,EAAA3H,GACpBje,KAAA,GAAAA,KAAA,WAEb2lB,OACIA,wBAAWA,oBACAhlB,EAAAlB,EAAAD,sCAGXA,EAA8C,cAAA8D,OAAA,UAC1C3C,EAAA,qBACJmd,gBAAC,GAAA4D,GAAA8D,iBAAA,IAAA,IAAA,KAAA,sFAJAK,MCNL,cDaQxiB,eAAgBwiB,EAAKpgB,UAAA,mBACjB,WACH,MAAAjG,GAAAse,qBAGG,SAAKxa,GACL9D,EAAKse,gBAAMxa,eAGP,gBAIH,MAGEmC,UAAAW,KAAe,cAClBuQ,GAAK,SAAAmP,SACDtmB,GAAO6iB,uBAAAyD,GClCnB,eDoCOziB,eAAAsT,EAAA,eAEHzQ,IAAO,WAAQ,MAAA1G,GAAAse,iBAClB3X,IAAA,SAAA7C,GACL9D,EAACse,gBAAAxa,GAAA,GAAAoe,GAAA8D,iBAAA,IAAA,IAAA,KAAA,MAAAhmB,EAAA6iB,uBAAA5Z,OAAAjJ,EAAAse,gBAAAte,EAAA6iB,uBAAA7G,UAIIpY,OAASC,eAAYsT,EAAa,iEC5CxBA,GAGfkP,oBAGiB,qBACA,WAAQA,uBAEN,KAAOra,IAAA,SAAW7K,EAAUlB,EAAID,2BAU1BumB,aAGrB,IAAAC,GAAOnmB,OAAYomB,uBACfpmB,OAAOqmB,0BACTrmB,OAAAsmB,6BACL,SAAAJ,GAED,MAAAlmB,QAAwBmV,WAAU+Q,EAAA,IAE9B,OAAOC,GAACD,WACJK,mBAEAnN,GAAQpZ,OAAAwmB,6BACDC,yBACJzmB,OAAA0mB,4BACJ1mB,OAAA2mB,YACN,OAAA,UAAAre,GAED,MAAA8Q,GAAsB9Q,YAGdse,GAAKjlB,GACT,GAACklB,GAAAllB,EAAAmlB,QAAAnlB,EAAAolB,UACJF,GAAAG,eAEDT,IACWM,EAAAG,cAAWC,EAAA,WACd,GAACC,GAAQL,EAAAM,iBACTD,GAAQE,oBAAmBC,QAAM,SAAAC,GAC7BA,EAAAnmB,KAAA+lB,EAAcvlB,eAIlB4lB,GAAM5lB,QACF6lB,uCAAiEC,YAAYN,kBAAWhnB,KAAAunB,uBACxFF,gBAAwBC,YAACE,iBAA4B,SAACf,eAGzCzb,EAAAwW,oBAETyF,yBAAMA,uBACVQ,EACAzc,EAAKgc,kBAAKhc,IAACyc,YAAQ,WAAiBhB,OAE3C,CAE0C,UAAnCiB,iBAAoB1c,GAAKkK,WACpClK,EAAA2c,MAAAzS,SAAA,WAtBD,IAAA0S,GAAA5c,EAAAgc,kBAsBCa,SAAAC,cAAA,SAEDF,GAAAG,aAAA,QAA4C,wIACjCH,EAAWL,kBAAAvc,EACd4c,EAAQI,OAACZ,EAACQ,EAAQjH,KAAA,YACVsH,GACJjd,EAAYkd,YAAAN,GAACA,EAAAxe,KAAQ,cACnB6e,GACEjd,EAAQkd,YAAAN,KAGZX,oBAAC1W,KAAAiR,GAGb,QAACgC,GAAAxY,EAAAwW,GAZD,kLCrEexW,EAAAgc,kBAAgBK,gBAAAC,YAAAa,oBAAA,SAAA1B,GAE/Bzb,EAAAgc,mBAAwBhc,EAAAod,YAAApd,EAAAgc,uBDUb7jB,SAAM,YACjBogB,EAACpgB,SAAA,UAAA,YAEDqgB,EAAArgB,SAAA,UAAA,mBACWE,eAAW7D,EAAA,cAAA8D,OAAA,OAClBmkB,GAAaI,SAAOJ,cACPhS,UAAQC,UAAAvD,MAAA,aA8DpBoR,kBAAAA;;;C7ChFL,SAAAhkB,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAooB,UAAA9oB,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,G+CCI,GAAA8oB,GAAA,WACI,QAAAA,GACI3O,GAEAA,EAASnB,KAAK,KAAK+P,KAAK,kBAAmB,mBAEnD,MAAAD,MAEME,EAAa,WACf,OACI5d,SAAU,IACVG,KAAM,SACF8O,EACAF,EACAC,GAEA,GAAI0O,GAAe3O,KAK/BxY,SACK1B,OAAO,gBACP4L,UAAU,gBAAiBmd,wFCFhC,IAAAC,GAAA,WA8CI,QAAAA,GACYnnB,EACAkY,EACAkP,EACApmB,EACAqmB,EACA9O,EACAF,EACAC,GAPA5Z,KAAAsB,WAAAA,EACAtB,KAAAwZ,OAAAA,EACAxZ,KAAA0oB,UAAAA,EACA1oB,KAAAsC,QAAAA,EACAtC,KAAA2oB,aAAAA,EACA3oB,KAAA6Z,OAAAA,EACA7Z,KAAA2Z,SAAAA,EACA3Z,KAAA4Z,OAAAA,EArDJ5Z,KAAA4oB,WAAqB,GAErB5oB,KAAA6oB,eAAyB,EAOzB7oB,KAAA8oB,UAAsB,gBAAkBjpB,SAAqBA,OAAQkpB,cACrE/oB,KAAAgpB,aAAuB,uBACvBhpB,KAAAipB,YAAsB,sBACtBjpB,KAAAkpB,eAAyB,mBAKzBlpB,KAAAmpB,MAAa,KAEbnpB,KAAAopB,YAAmB,KAEnBppB,KAAAqpB,cAAwB,EAExBrpB,KAAAspB,YAAmB,KAEnBtpB,KAAAupB,iBAYAvpB,KAAAwpB,cAAwB,EAExBxpB,KAAAypB,gBAA0BtoB,QAAQ6J,QAAQnL,QAI1CG,KAAA0pB,4BAAwCvoB,QAAQwoB,KAYpD9P,EAAOvW,MAAQsW,EAAOgQ,OACtB5pB,KAAK6pB,MAAQhQ,EAAOiQ,IACpB9pB,KAAK+pB,oBAAsBvQ,EAAOI,EAAOoQ,eAAiB,KAC1DhqB,KAAKiqB,mBAAqBzQ,EAAOI,EAAOsQ,cAAgB,KACxDlqB,KAAKmqB,sBAAwB3Q,EAAOI,EAAOwQ,iBAAmB,KAC9DpqB,KAAKqqB,iBAAiBlpB,QAAQmpB,UAAU1Q,EAAOyQ,iBAAkBxQ,EAAO0Q,MAAM3Q,EAAOyQ,gBAErFrqB,KAAKwqB,YAAchR,EAAOI,EAAO6Q,aACjCzqB,KAAK0qB,eAAiB9Q,EAAO+Q,oBAAqB,EAClD3qB,KAAK4qB,iBAAmBhR,EAAOiR,sBAAuB,EACtD7qB,KAAK8qB,mBAAqBvX,WAAWqG,EAAOmR,wBAA0B,GACtE/qB,KAAKgrB,eAAiBzX,WAAWqG,EAAOmR,wBAA0B,GAClE/qB,KAAKirB,sBAAwBzR,EAAOI,EAAOsR,oBAE3ClrB,KAAK2Z,SAAS8B,IAAI,SAAU,QAC5Bzb,KAAKmrB,aAyWb,MAtWY1C,GAAAhjB,UAAA0lB,WAAR,WACInrB,KAAK2Z,SAAS4O,KAAK,gBAAiB,QAIpC,IAAI6C,EAEAA,GADAprB,KAAK2Z,SAAS,GAAG0R,iBACHlqB,QAAQ6J,QAAQhL,KAAK2Z,SAAS,GAAG0R,iBAAiB,sBAElDrrB,KAAK2Z,SAASnB,KAAK,qBAEjC4S,EAAYnqB,SACZjB,KAAKsrB,YAAcF,GAEvBprB,KAAKurB,iBAAgB,GAGjBvrB,KAAKwpB,aACLxpB,KAAKypB,gBAAkBtoB,QAAQ6J,QAAQhL,KAAK2Z,SAASyL,UAC9CplB,KAAK4Z,OAAOsR,mBACnBlrB,KAAKypB,gBAAkBtoB,QAAQ6J,QAAQhL,KAAKirB,sBAAsBjrB,KAAK6Z,SAEvE7Z,KAAKypB,gBAAkBtoB,QAAQ6J,QAAQnL,SAIvC4oB,EAAAhjB,UAAA8lB,gBAAR,SAAwBC,GAAxB,GAAAlc,GAAAtP,IACSwrB,KAGLxrB,KAAK6Z,OAAOtY,IAAI,WAAY,WACxB+N,EAAKmc,UAAUD,KAEnBxrB,KAAK6Z,OAAOI,OAAOja,KAAK4Z,OAAO8R,QAAS,SAACC,EAAQC,GAC7Ctc,EAAKuc,eAAeF,EAAQC,KAEhC5rB,KAAK6Z,OAAOI,OAAOja,KAAK4Z,OAAOkS,gBAAiB,SAACH,EAAQC,GACrDtc,EAAKyc,eAAeJ,EAAQC,KAG5B5rB,KAAKsrB,YAELtrB,KAAKsrB,YAAY5O,GAAG1c,KAAKgpB,aAAc,SAACxnB,GACpC8N,EAAK0c,QAAQxqB,KAIjBxB,KAAK2Z,SAAS+C,GAAG1c,KAAKgpB,aAAc,SAACxnB,GACjC8N,EAAK0c,QAAQxqB,KAGhBxB,KAAK8oB,WAAwD,OAA3C9oB,KAAK2Z,SAAS,GAAGsS,SAASha,eAC7CjS,KAAK2Z,SAAS+C,GAAG,YAAa,WAC1B,OAAO,MAKX+L,EAAAhjB,UAAAgmB,UAAR,SAAkBD,GACdxrB,KAAKurB,iBAAgB,IAGjB9C,EAAAhjB,UAAAomB,eAAR,SAAuBF,EAAQC,GAC3B5rB,KAAKqpB,aAAe,GAGhBZ,EAAAhjB,UAAAsmB,eAAR,SAAuBJ,EAAQC,GACvBzqB,QAAQmpB,UAAUqB,KAClB3rB,KAAK6oB,cAAiB8C,GAAU,SAGhClD,EAAAhjB,UAAAymB,mBAAR,SAA2BC,GACvB,MACIhrB,SAAQmpB,UAAUnpB,QAAQ6J,QAAQmhB,EAAIxF,QAAQ4B,KAAK,qBAQnDE,EAAAhjB,UAAAumB,QAAR,SAAgBG,GAAhB,GAAA7c,GAAAtP,IACSA,MAAKqpB,eAENrpB,KAAKksB,mBAAmBC,IAIZ,aAAZA,EAAIxL,MAAqC,GAAdwL,EAAIC,SAKnCpsB,KAAKqsB,oBAEDrsB,KAAK8oB,WACL9oB,KAAKssB,cACLtsB,KAAKspB,YAActU,WAAW,WAC1B1F,EAAKgd,cACLhd,EAAKid,YAAYJ,IAClBnsB,KAAK4oB,YACR5oB,KAAK0oB,UAAUhM,GAAG1c,KAAKipB,YAAa,WAChC3Z,EAAKgd,gBAETtsB,KAAK0oB,UAAUhM,GAAG1c,KAAKkpB,eAAgB,WACnC5Z,EAAKgd,iBAGTtsB,KAAKusB,YAAYJ,MAIjB1D,EAAAhjB,UAAA4mB,kBAAR,WACIrsB,KAAKupB,cAAc3H,KAAO5hB,KAAK2Z,SAAS8B,IAAI,QAAU,EACtDzb,KAAKupB,cAAcnU,IAAMpV,KAAK2Z,SAAS8B,IAAI,QAAU,EACrDzb,KAAKupB,cAAcrU,SAAWlV,KAAK2Z,SAAS8B,IAAI,YAChDzb,KAAKupB,cAAc/N,MAAQxb,KAAK2Z,SAAS8B,IAAI,UAGzCgN,EAAAhjB,UAAA6mB,YAAR,WAAA,GAAAhd,GAAAtP,IACIwmB,cAAaxmB,KAAKspB,aAClBtpB,KAAK0oB,UAAU8D,IAAIxsB,KAAKipB,YAAa,WACjC3Z,EAAKgd,gBAETtsB,KAAK0oB,UAAU8D,IAAIxsB,KAAKkpB,eAAgB,WACpC5Z,EAAKgd,iBAIL7D,EAAAhjB,UAAA8mB,YAAR,SAAoBJ,GAApB,GAAA7c,GAAAtP,IACSA,MAAKqpB,eACV8C,EAAIpoB,iBAEJ/D,KAAKysB,OAASzsB,KAAK2Z,SAAS,GAAG+S,wBAC3B1sB,KAAKqqB,eACLrqB,KAAKopB,YAAcppB,KAAKysB,OAExBzsB,KAAKopB,aACDxH,KAAMiG,SAASlE,KAAKgJ,WACpBvX,IAAKyS,SAASlE,KAAKxO,WAKjBnV,KAAK2Z,SAAUiT,QAAU5sB,KAAK2Z,SAAS,GAAGkT,YAAc,EACxD7sB,KAAK2Z,SAAUmT,QAAU9sB,KAAK2Z,SAAS,GAAGoT,aAAe,EAEnE/sB,KAAKgtB,IAAMhtB,KAAK2oB,aAAasE,WAAWd,GAAKe,MAC7CltB,KAAKmtB,IAAMntB,KAAK2oB,aAAasE,WAAWd,GAAKiB,MAC7CptB,KAAKqtB,KAAOrtB,KAAKgtB,IAAMhtB,KAAKysB,OAAO7K,KACnC5hB,KAAKstB,KAAOttB,KAAKmtB,IAAMntB,KAAKysB,OAAOrX,IAC/BpV,KAAK6oB,eACL7oB,KAAKutB,IAAMvtB,KAAKgtB,IAAgBhtB,KAAK2Z,SAAUiT,QAAU5sB,KAAKsC,QAAQkrB,YACtExtB,KAAKytB,IAAMztB,KAAKmtB,IAAgBntB,KAAK2Z,SAAUmT,QAAU9sB,KAAKsC,QAAQorB,cAEtE1tB,KAAKutB,IAAMvtB,KAAKgtB,IAAMhtB,KAAKqtB,KAAOrtB,KAAKsC,QAAQkrB,YAC/CxtB,KAAKytB,IAAMztB,KAAKmtB,IAAMntB,KAAKstB,KAAOttB,KAAKsC,QAAQorB,aAGnD1tB,KAAK0oB,UAAUhM,GAAG1c,KAAKipB,YAAa,SAACznB,GACjC8N,EAAKqe,OAAOnsB,KAEhBxB,KAAK0oB,UAAUhM,GAAG1c,KAAKkpB,eAAgB,SAAC1nB,GACpC8N,EAAKse,UAAUpsB,KAMnBxB,KAAK0pB,4BAA8B1pB,KAAKsB,WAAWC,IAAI,gCAAiC,SAACC,EAAOqsB,GAC5Fve,EAAKqe,OAAOE,OAIZpF,EAAAhjB,UAAAkoB,OAAR,SAAexB,GAAf,GAAA7c,GAAAtP,IACSA,MAAKqpB,eACV8C,EAAIpoB,iBACC/D,KAAK2Z,SAAS6I,SAAS,kBACxBxiB,KAAKmpB,MAAQnpB,KAAKwqB,YAAYxqB,KAAK6Z,QACnC7Z,KAAK2Z,SAASgD,SAAS,gBACvB3c,KAAKsB,WAAWwe,WAAW,mBACvBgO,EAAG9tB,KAAKgtB,IACRe,EAAG/tB,KAAKmtB,IACRa,GAAIhuB,KAAKutB,IACTU,GAAIjuB,KAAKytB,IACTjsB,MAAO2qB,EACPnhB,QAAShL,KAAK2Z,SACdvQ,KAAMpJ,KAAKmpB,QAGXnpB,KAAK+pB,qBACL/pB,KAAK6Z,OAAOiK,OAAO,WACfxU,EAAKya,oBAAoBza,EAAKuK,QAC1BqU,MAAO5e,EAAK6Z,MACZ5N,OAAQ4Q,OAMxBnsB,KAAKgtB,IAAMhtB,KAAK2oB,aAAasE,WAAWd,GAAKe,MAC7CltB,KAAKmtB,IAAMntB,KAAK2oB,aAAasE,WAAWd,GAAKiB,OAEzCptB,KAAK4qB,kBAAoB5qB,KAAK0qB,iBAC9B1qB,KAAKmuB,eAGLnuB,KAAK6oB,eACL7oB,KAAKutB,IAAMvtB,KAAKgtB,IAAgBhtB,KAAK2Z,SAAUiT,QAAU5sB,KAAKopB,YAAYxH,KAC1E5hB,KAAKytB,IAAMztB,KAAKmtB,IAAgBntB,KAAK2Z,SAAUmT,QAAU9sB,KAAKopB,YAAYhU,MAE1EpV,KAAKutB,IAAMvtB,KAAKgtB,IAAMhtB,KAAKqtB,KAAOrtB,KAAKopB,YAAYxH,KACnD5hB,KAAKytB,IAAMztB,KAAKmtB,IAAMntB,KAAKstB,KAAOttB,KAAKopB,YAAYhU,KAGvDpV,KAAKouB,YAAYpuB,KAAKutB,IAAKvtB,KAAKytB,KAEhCztB,KAAKsB,WAAWwe,WAAW,kBACvBgO,EAAG9tB,KAAKgtB,IACRe,EAAG/tB,KAAKmtB,IACRa,GAAIhuB,KAAKutB,IACTU,GAAIjuB,KAAKytB,IACTjsB,MAAO2qB,EACPnhB,QAAShL,KAAK2Z,SACdvQ,KAAMpJ,KAAKmpB,MACXkF,IAAKruB,KAAK6pB,MACVyE,WAAYtuB,KAAKopB,gBAIjBX,EAAAhjB,UAAAmoB,UAAR,SAAkBzB,GAAlB,GAAA7c,GAAAtP,IACSA,MAAKqpB,eAEV8C,EAAIpoB,iBACJ/D,KAAKsB,WAAWwe,WAAW,iBACvBgO,EAAG9tB,KAAKgtB,IACRe,EAAG/tB,KAAKmtB,IACRa,GAAIhuB,KAAKutB,IACTU,GAAIjuB,KAAKytB,IACTjsB,MAAO2qB,EACPnhB,QAAShL,KAAK2Z,SACdvQ,KAAMpJ,KAAKmpB,MACXpD,SAAU/lB,KAAKuuB,eACfF,IAAKruB,KAAK6pB,QAEd7pB,KAAK2Z,SAASiD,YAAY,gBAC1B5c,KAAK2Z,SAASyL,SAAS5M,KAAK,mBAAmBoE,YAAY,kBAC3D5c,KAAK8H,QACL9H,KAAK0oB,UAAU8D,IAAIxsB,KAAKipB,aACxBjpB,KAAK0oB,UAAU8D,IAAIxsB,KAAKkpB,gBACpBlpB,KAAKiqB,oBACLjqB,KAAK6Z,OAAOiK,OAAO,WACfxU,EAAK2a,mBAAmB3a,EAAKuK,QACzBqU,MAAO5e,EAAK6Z,MACZ5N,OAAQ4Q,MAKpBnsB,KAAK0pB,gCAGDjB,EAAAhjB,UAAA8oB,eAAR,SAAuBpC,GAAvB,GAAA7c,GAAAtP,IACSA,MAAKmqB,uBAEVnqB,KAAK6Z,OAAOiK,OAAO,WACfxU,EAAK6a,sBAAsB7a,EAAKuK,QAC5BqU,MAAO5e,EAAK6Z,MACZ5N,OAAQ4Q,OAKZ1D,EAAAhjB,UAAAqC,MAAR,WACQ9H,KAAKqqB,eACLrqB,KAAK2Z,SAAS8B,KACV+S,UAAW,GACXC,UAAW,GACXC,oBAAqB,GACrBC,gBAAiB,KAGrB3uB,KAAK2Z,SAAS8B,KACVvG,SAAUlV,KAAKupB,cAAcrU,SAC7BE,IAAKpV,KAAKupB,cAAcnU,IACxBwM,KAAM5hB,KAAKupB,cAAc3H,KACzB6M,UAAW,GACXjT,MAAOxb,KAAKupB,cAAc/N,SAK9BiN,EAAAhjB,UAAA2oB,YAAR,SAAoBN,EAAGC,GACnB,GAAMa,GAAS5uB,KAAK2Z,SAAS8B,IAAI,QAC7Bzb,MAAKqqB,eACLrqB,KAAK2Z,SAAS8B,KACV+S,UAAW,gDAAkDV,EAAI,KAAOC,EAAI,UAC5EU,UAAW,MACXC,oBAAqB,gDAAkDZ,EAAI,KAAOC,EAAI,UACtFY,gBAAiB,sBAAwBb,EAAI,KAAOC,EAAI,MAG5D/tB,KAAK2Z,SAAS8B,KACVmG,KAAQkM,EAAI,KACZ1Y,IAAO2Y,EAAI,KACX7Y,SAAY,QACZuZ,UAAW,IACXjT,MAAOoT,KAKXnG,EAAAhjB,UAAA0oB,aAAR,WACI,GAAIU,GAAU,EACVC,EAAU,EACVrC,EAAS,SAACzhB,GACN,MAAOA,GAAQyhB,WACX7K,KAAM,EACNxM,IAAK,GAIjB,IAAIpV,KAAK4qB,iBAAkB,CACvB,GACImE,GAAgBtC,EAAOzsB,KAAKypB,iBAAiB7H,KAC7CuD,EAAiBnlB,KAAKypB,gBAAgB/F,aACtCsL,EAAiBD,EAAgB5J,CAEhCnlB,MAAKgtB,IAAM+B,EAAiB/uB,KAAK8qB,mBAClC+D,GAAW7uB,KAAKgrB,eACRgE,EAAiBhvB,KAAKgtB,IAAOhtB,KAAK8qB,qBAC1C+D,EAAU7uB,KAAKgrB,gBAIvB,GAAIhrB,KAAK0qB,eAAgB,CACrB,GACIuE,GAAexC,EAAOzsB,KAAKypB,iBAAiBrU,IAC5C8Z,EAAkBlvB,KAAKypB,gBAAgB0F,cACvCC,EAAkBH,EAAeC,CAEhClvB,MAAKmtB,IAAM8B,EAAgBjvB,KAAK8qB,mBACjCgE,GAAW9uB,KAAKgrB,eAAiB,GACzBoE,EAAkBpvB,KAAKmtB,IAAOntB,KAAK8qB,qBAC3CgE,EAAU9uB,KAAKgrB,eAAiB,IAGxC,GAAgB,IAAZ6D,GAA6B,IAAZC,EAAe,CAChC,GACIO,GAAsBrvB,KAAKypB,gBAAgBkD,aAC3C2C,EAAqBtvB,KAAKypB,gBAAgBtU,WAE9CnV,MAAKypB,gBAAgBkD,WAAW0C,EAAsBR,GACtD7uB,KAAKypB,gBAAgBtU,UAAUma,EAAqBR,KAKhErG,KAEM8G,EAAO,SACTjuB,EACAkY,EACAkP,EACApmB,EACAqmB,GAEA,OACI/d,SAAU,IACVG,KAAM,SACF8O,EACAF,EACAC,GAEA,GAAI6O,GAASnnB,EAAYkY,EAAQkP,EAAWpmB,EAASqmB,EAAc9O,EAAQF,EAAUC,KAKjG2V,GAAApsB,SAAO,aAAA,SAAA,YAAA,UAAA,wBAEF1D,OAAA,gBACR4L,UAAA,UAAAkkB,uCC1dDnsB,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OAAAksB,GAAA,WAWA,QAACA,MAXD,SAEoB/pB,UAAUwnB,WAAc,SAAGzrB,SACnCL,SAAOmpB,UAAM9oB,EAAWiuB,SAC3BjuB,EAAAiuB,QAAA,GAGGtuB,QAAampB,UAAA9oB,EAAckuB,gBAAWvuB,QAAAmpB,UAAA9oB,EAAAkuB,cAAAD,SACzCjuB,EAAAkuB,cAAAD,QAAA,GAEJjuB,GACJguB,aAII/vB,OAAO,8ECjBZ2D,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,OAyBOqsB,GAAA,mBACYA,GAAAnW,EAAwBkP,EAAA7kB,EAAA8kB,EAAA9O,EAAAF,EAAAC,GACxB5Z,KAAAwZ,OAASA,EACTxZ,KAAA0oB,UAAAA,EACA1oB,KAAA6D,SAAAA,EACA7D,KAAA2oB,aAAMA,EACN3oB,KAAA6Z,OAAQA,EACR7Z,KAAA2Z,SAAAA,EAER3Z,KAAA4Z,OAAYA,EACZC,EAAOvW,MAAAsW,EAAagW,QAEpB/V,EAAKgW,YAAe,EACpB7vB,KAAK6pB,MAAAhQ,EAAciQ,IACnB9pB,KAAK8vB,eAAAtW,EAAsBI,EAAOmW,gBAClC/vB,KAAK+pB,oBAAqBvQ,EAAOI,EAAOoQ,cACxChqB,KAAKiqB,mBAAqBzQ,EAAOI,EAAOsQ,aAExClqB,KAAKgwB,mBAAaxW,EAAAI,EAAAqW,aACrBjwB,KAAAmrB,aA9BL,SAiCa1lB,UAAA0lB,WAAsB,WAC9BnrB,KAAAurB,iBAAA,MAED9lB,UAmBC8lB,gBAAA,SAAAC,GAjBG,GAAIlc,GAAQtP,IAACwrB,UAGT3R,OAAKI,OAAAja,KAAc4Z,OAAOgW,QAAS,SAACjE,EAAAC,GACrCtc,EAAAuc,eAAAF,EAAAC,UAEC/R,OAAKtY,IAAA,WAAiB,SAAAC,GACvB8N,EAAAmc,UAAAjqB,UAECqY,OAAKtY,IAAA,kBAAsB,SAAA4qB,EAAAvE,GAC5BtY,EAAA4gB,YAAA/D,EAAAvE,UAEC/N,OAAKtY,IAAA,iBAAqB,SAAA4qB,EAAAvE,GAC3BtY,EAAA6gB,WAAAhE,EAAAvE,UAEC/N,OAAKtY,IAAA,gBAAoB,SAAA4qB,EAAAvE,GAC1BtY,EAAA8gB,UAAAjE,EAAAvE,SAIEniB,UAAAgmB,UAAuB,SAAAD,GAC/BxrB,KAAAurB,iBAAA,MAGQ9lB,UAAYomB,eAAU,SAAAF,EAAAC,GAC9B5rB,KAAAqwB,aAAA1E,KAEDlmB,UAYCyqB,YAAA,SAAA/D,EAAAvE,GAXG,GAAItY,GAAMtP,IAAcA,MAAMqwB,eAG9BrwB,KAAI6vB,WAAYjI,EAAAkG,EAAAlG,EAAAmG,EAAcnG,EAAC5c,SAC3BhL,KAAK4Z,OAAAoQ,mBACDnmB,SAAK,aACDkmB,oBAAeza,EAAAuK,QACfqU,MAAMtG,EAAKxe,KACZmS,OAAAqM,UAKfniB,UAYC0qB,WAAA,SAAAhE,EAAAvE,GAXG,GAAItY,GAAMtP,IAAcA,MAAMqwB,eAG9BrwB,KAAI6vB,WAAYjI,EAAAkG,EAAAlG,EAAWmG,EAAGnG,EAAA5c,SAC1BhL,KAAK4Z,OAAAqW,kBACDpsB,SAAK,aACDmsB,mBAAe1gB,EAAAuK,QACfqU,MAAMtG,EAAKxe,KACZmS,OAAAqM,UAKfniB,UAmCC2qB,UAAA,SAAAjE,EAAAvE,GAhCG,GAAItY,GAAMtP,WACNA,MAAKqwB,cAAiBrwB,KAAK6pB,QAAMjC,EAAQyG,KAMzCruB,KAAI6vB,WAAYjI,EAAGkG,EAAAlG,EAAAmG,EAAAnG,EAAA5c,WACf4c,EAAI7B,UACP6B,EAAA7B,SAAA6B,GAGG5nB,KAAK4Z,OAAAmW,qBACDlsB,SAAK,aACDisB,eAAexgB,EAAAuK,QACfqU,MAAMtG,EAAKxe,KACXmS,OAAOqM,EACR0I,QAAAhhB,EAAAuK,OAAA0Q,MAAAjb,EAAAuK,OAAAvW,YAMXtD,KAAK4Z,OAAAsQ,kBACDrmB,SAAK,aACDomB,mBAAe3a,EAAAuK,QACfqU,MAAMtG,EAAKxe,KACZmS,OAAAqM,UAKd5nB,MAAAuwB,kBAAA,EAAA3I,EAAA5c,cA9BOhL,MAAAuwB,kBAAO,EAAA3I,EAAA5c,YAiCLvF,UAAWoqB,WAAa,SAAQW,EAAQC,EAAAC,GAC9C,GAAIC,GAAQ3wB,KAAA4wB,QAAaJ,EAASC,EAMrC,OALGzwB,MAAI6Z,OAAQgW,WAAGc,EACXA,IACH3wB,KAAA6wB,eAAA7wB,KAAA2Z,UAED3Z,KAAAuwB,iBAAgBI,EAAAD,GACnBC,KAGOlrB,UAAW8qB,iBAAA,SAAAI,EAAAD,GACXC,GACA3wB,KAAA2Z,SAAYgD,SAAS,kBACxB+T,EAAA/T,SAAA,kBACQ3c,KAAA6wB,gBAAsB7wB,KAAA2Z,WAC3B3Z,KAAK6wB,eAAS,KACd7wB,KAAA2Z,SAAYiD,YAAY,kBAC3B8T,EAAA9T,YAAA,qBAIKnX,UAAamrB,QAAU,SAAG9C,EAAAC,GAChC,GAAC+C,GAAS9wB,KAAA2Z,SAAiB,GAAC+S,8BAC5BoB,IAAK9tB,KAAK0oB,UAAU,GAAG/E,KAAKgJ,WAAY3sB,KAAK0oB,UAAW,GAAEqI,gBAAgBpE,WAC1EoB,GAAA/tB,KAAQ0oB,UAAW,GAAI/E,KAAAxO,UAAAnV,KAAA0oB,UAAA,GAAAqI,gBAAA5b,UAClB2Y,GAAIgD,EAAOlP,MACZkM,GAAKgD,EAAOE,OACZjD,GAAK+C,EAAOG,QACnBlD,GAAA+C,EAAA1b,KACJua,KAQGuB,EAAO,SAAA1X,EAAAkP,EAAA7kB,EAAA8kB,UAEH/d,SAAM,SAKF,SAAIiP,EAASF,EAAQC,GACxB,GAAA+V,GAAAnW,EAAAkP,EAAA7kB,EAAA8kB,EAAA9O,EAAAF,EAAAC,QAKJzW,SAAO,SAAc,YAAC,WAAA,wBAE9B1D,OAAA,4CCrMGgF,GAAA,SAAA9D,EAAAlB,EAAAD,SAEgB,mBAEH2xB,GAAaxX,GACrB3Z,KAAA2Z,SAAAA,EAEO3Z,KAAAmrB,aAuBN,SArBO1lB,UAAgB0lB,WAAM,WAC9BnrB,KAAA2Z,SAAA4O,KAAA,gBAAA,SAEOvoB,KAAAurB,iBAAA,MAEQ9lB,UAAA8lB,gBAAA,SAAAC,MAAClc,GAAOtP,IAEfwrB,IAGDxrB,KAAA2Z,SAAA+C,GAAA,sDAAkB,SAAAlb,GAAA8N,EAAA8hB,aAAA5vB,QAEpBiE,UAAoB2rB,aAAiB,SAAA5vB,GACvC,GAAErB,GAAAqB,EAAAkuB,aAMV,OALQvvB,GAAE4D,gBAAe5D,EAAK4D,iBACtB5D,EAAEkxB,iBAAmBlxB,EAACkxB,kBACtBlxB,EAAAmxB,cAAa,EAChBnxB,EAAAoxB,aAAA,GAEL,GAEMJ,OAEY,2BAMF,IACRpmB,KAAC,SAAA8O,EAAAF,EAAAC,GACJ,GAAAuX,GAAAxX,cAMRla,OAAA,sEChDD,YAEA2D,QAAAC,eAAA7D,EAA4B,cAAA8D,OAAA,IAC5BnC,QAAA1B,OAAA,mBACAkB,EAAA,sBACAA,EAAA,UACAA,EAAA,gECWI,EAAA6wB,SAAA,EAAAC,qBAAA,EAAAC,SAAA,EAAAC,gBAAA,IAAAtQ,GAAA,SAAA1gB,EAAAlB,EAAAD,SASI,mBACYoyB,GAAA/X,EAAoBF,EAAAC,EAAA/V,EAAAguB,EAAAvvB,GACpB,GAAAgN,GAAAtP,IAEAA,MAAA6Z,OAAQA,EACR7Z,KAAA2Z,SAAWA,EACX3Z,KAAA6D,SAAAA,EAXJ7D,KAAA6xB,YAAYA,EACZ7xB,KAAAsC,QAAAA,EAaJtC,KAAA8xB,aAAY,QACRC,aAAK,GACTpY,EAAG+C,GAAA,UAAA,SAAAvc,GAEHmP,EAAS0iB,gBAAA7xB,KAET0D,EAAG,WAECyL,EAAM2iB,WAEFC,SACJrY,EAAOI,OAAE,UAAA,WACZpW,EAAA7D,KAAAiyB,QAEG,KAEIE,gBACJtY,EAAOI,OAAE,iBAAA,WACZpW,EAAA7D,KAAAiyB,QACJ,GA2GC,SAxGQxsB,UAAgBwsB,KAAO,WAC7B,GAAI3iB,GAACtP,KACDoyB,EAASpyB,KAAO6Z,OAACwY,eAAuBryB,KAAC6Z,OAAAwY,gBAAA,iBAAA,wBAC7CryB,MAAKsyB,aAActyB,KAAG6Z,OAAK0Y,gBAAgBvyB,KAAA6Z,OAAA0Y,kBAAA,GAC3CvyB,KAAKwyB,SAAAxyB,KAAc2Z,SAAKnB,KAAU4Z,GAElCpyB,KAAKyyB,eAAYzyB,KAASwyB,SAACvxB,YACvByxB,cAAe1yB,KAAMwyB,eACrBA,SAAM9V,GAAO,QAAS,SAAClb,MACnBmlB,GAAOnlB,EAAAmxB,aACV1d,GAAA0R,GAAAnE,SAAA,gBAGAlT,EAAAuK,OAAA+Y,WAAAtjB,EAAAuK,OAAA+Y,aACDtjB,EAAK2iB,OAEL3iB,EAAKqK,SAAKgD,SAAO,8BAERA,SAASrN,EAACgjB,cACfhjB,EAAKuK,OAAAgZ,mBAA0BvjB,EAAMuK,OAAAgZ,oBAOvC5d,EAAA0R,GAAYhK,SAAA,kCANVrN,EAAEwjB,MAAY7d,EAAA0R,GAAAlL,IAAA,mBACdnM,EAAEyjB,mBAAiBzjB,EAAcwjB,MACpC7d,EAAA0R,GAAAlL,IAAA,kBAAAnM,EAAA0jB,KAAA1jB,EAAAwjB,QAAK7d,EAAE0R,GAAAhK,SAAA,qBAMN,WAAY,SAAUnb,MACpBmlB,GAAOnlB,EAAAmxB,aACV1d,GAAA0R,GAAAnE,SAAA,gBAGDlT,EAAKqK,SAAKiD,YAAO,8BACXA,YAAYtN,EAAAgjB,cACbhjB,EAACuK,OAAQgZ,mBAAYvjB,EAAAuK,OAAAgZ,oBAI3B5d,EAAA0R,GAAA/J,YAAA,eAHE3H,EAAA0R,GAAAlL,IAAA,kBAAAnM,EAAAyjB,oBAAK9d,EAAE0R,GAAA/J,YAAA,wCAQFnX,UAAMutB,KAAO,SAAAF,GACvB,GAAC9yB,KAAA6Z,OAAAoZ,iBAAAjzB,KAAA6Z,OAAAoZ,kBAEK,MAAMjzB,MAAM6Z,OAAMoZ,qBAGpBC,GAAMJ,EAAG/c,MAAA,KAAA,GAAAA,MAAA,KAAA,GAAAA,MAAA,IACb,KAACmd,GAAAA,EAAAjyB,OAAA,EAEG,MAAK,EAGT,IAAGkyB,GAAMC,EAAIC,EAAAC,CAaT,OAZJA,GAAc,GAAJJ,EAAIjyB,OAAA,EAAAsS,WAAA2f,EAAA,IACdC,EAAKD,EAAG,GAERE,EAAIF,EAAO,KACPA,EAAO,GACVI,EAAAtzB,KAAA+xB,aAAKuB,GAAEtzB,KAAA8xB,aAIRwB,GAActzB,KAAM8xB,aAGhB,QAAAqB,EAAA,KAAAC,EAAR,KAAoBC,EAAO,KAAOC,EAAA,KAElC1B,EAACnsB,UAAA8tB,YAAA,SAAAvoB,EAAA1H,GAEO0H,EAAAud,KAAA,WAAAjlB,MAEMmC,UAAGitB,cAAiB,SAAAF,GAC9B,GAAGjW,GAAA3Z,EAAA4wB,UAAAhB,EAAA,SAAArS,GAEC,MAAKA,GAAU,UAAQ,GAE1B5D,KAAA,GAAAiW,EAAAvxB,OAAA,GAAAjB,KAAA6Z,OAAA4Z,oBACJzzB,KAAAuzB,YAAApyB,QAAA6J,QAAAwnB,EAAA,IAAAxyB,KAAA6Z,OAAA4Z,yBAKOhuB,UAAgBusB,gBAAY,SAAS7xB,MACrCuzB,GAAOvzB,EAAIwzB,OAAKxzB,EAAAuzB,WAChBA,GAAW1zB,KAAK6xB,YAAY+B,SAASC,YACrCH,GAAW1zB,KAAK6xB,YAAY+B,SAASE,UAErCJ,GAAE1zB,KAAc6xB,YAAG+B,SAAAG,aAEnBL,GACI1zB,KAAY6xB,YAAY+B,SAAKI,WAAY,CAG7C7zB,EAAE4D,oBACEkwB,GAAaP,GAAC1zB,KAAe6xB,YAAQ+B,SAAAG,aAAAL,GAAA1zB,KAAA6xB,YAAA+B,SAAAI,WAAA,GAAA,EAAAE,EAAAl0B,KAAAwyB,SAAAjW,MAAAvc,KAAAwyB,SAAAnZ,OAAA,gBAAA4a,CACxCC,IAAA,GAAAA,EAAAl0B,KAAAyyB,gBACJzyB,KAAAwyB,SAAA0B,GAAAC,UAIIvC,OAKA,SAAE/tB,EAAAguB,EAAAvvB,iBAGH2wB,gBAAgB,KAChBV,gBAAA,KACA6B,iBAAiB,KACjBX,mBAAoB,KACpBZ,kBAAmB,KACnBV,eAAe,KAClBE,cAAA,KACGO,UAAE,MAEN7nB,KAAC,SAAA8O,EAAAF,EAAAC,GACJ,GAAAgY,GAAA/X,EAAAF,EAAAC,EAAA/V,EAAAguB,EAAAvvB,QAKAa,SAAU,WAAc,cAAS,WACzChC,6GpDzLA,IAAA,GAAAwD,KAAAD,GAAAlF,EAAAoF,eAA0CD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAE3CvB,OAAAC,eAAA7D,EAA2B,cAAA8D,OAAA,IAC3B3C,EAAA,oCACAA,EAAA,qBACAA,EAAA,qBAEAA,EAAQ,uBACJ,yBACA,4CACAlB,OAAA,gBACA,aACA,cACA,oBACD,oBAEH,gCqDhBA2B,EAACT,EAAA,4CA2BO,EAAA0zB,oBACY,EAAAC,mCAIA,EAAAC,sBACgC,GAAAC,oBAAA,GAAAC,mCAAA,KAAAptB,GAAA,SAAA1G,EAAAlB,EAAAD,SALhC,mBACAk1B,GAA0BpzB,EAAAgB,EAAA2V,EAAA4B,EAAAF,EAAAC,GAC1B,GAAAtK,GAAAtP,IACAA,MAAAsB,WAAAA,EACAtB,KAAAsC,QAAQA,EACRtC,KAAAiY,UAAAA,EAjBJjY,KAAA6Z,OAAAA,EACA7Z,KAAA2Z,SAAAA,EACA3Z,KAAA4Z,OAAAA,EACA5Z,KAAA20B,sBAAsB,IACtB30B,KAAA40B,iBAAiB,KACjB50B,KAAAypB,gBAAgB,KAChBzpB,KAAA60B,gBAAA,EACA70B,KAAAgrB,eAAiB,KACjBhrB,KAAA80B,cAAgB,KAWpB90B,KAAK+0B,wBAAwB,KAE7B/0B,KAAKg1B,mBAAA,OACDC,cAAK,KACTj1B,KAAGi1B,cAAK9zB,QAAqB6J,QAAE1I,GAE/BtC,KAAAk1B,0BAAuBtyB,EAAAuyB,SAAA,WACnB7lB,EAAK8lB,0BACDT,yBACDpzB,IAAA,WAAA,WAIH,GAHA+N,EAAIma,gBAAK4L,OAAA,SAA4B,WACjC/lB,EAAK4lB,8BAER,OAAA5lB,EAAAylB,wBAGE,MAFJzlB,GAAAylB,0BAEWzlB,EAAAylB,wBAAuB,OAGrClb,EAAKI,OAAA,oBAA4B,SAAAqb,GAEjChmB,EAAOimB,qBAAOD,KAEdt1B,KAAGu1B,qBAAA1b,EAAA2b,mBACH3b,EAAKI,OAAA,oBAA4B,SAAAqb,GAEjChmB,EAAOmmB,qBAAOH,KAEdt1B,KAAGy1B,qBAAA5b,EAAA6b,mBACH7b,EAAKI,OAAA,6BAAqC,SAAAqb,GAEtChmB,EAACqmB,8BAAmCL,UAEpCK,8BAA+B9b,EAAA+b,iDACtB51B,KAAAi1B,eACTpb,EAAGgc,0BACN71B,KAAA+0B,wBAAAzzB,EAAAC,IAAAsY,EAAAgc,wBAAA,WAEMvmB,EAAO4lB,+BAGdrb,EAAGI,OAAA,qBAAA,SAAA6b,GACEA,GAAAxmB,EAAsBma,iBAEvBna,EAAOymB,sBAAyBD,KAEpC91B,KAAC+1B,sBAAAlc,EAAAqR,wBACU,OAAPtR,EAAOoc,iBACPh2B,KAAKi2B,gBAAc90B,QAAU6J,QAAM2O,EAAOyL,WAGnC,OAAXxL,EAAWsc,yBACPl2B,KAAI60B,eAAKhb,EAAiB0Q,MAAA3Q,EAAAsc,2BAEzB,WACD,GAAIl2B,KAAE60B,eACb,MAAA70B,MAAAk1B,6BAGG,EAAO,GA4HX,SA1HezvB,UAAgBwc,OAAC,SAAgBjX,GAC1C,MAAFA,GAACA,EAAA,IAAAA,EAAKmrB,MAAEnrB,EAAA+hB,cACG/hB,EAAQ6c,SAAAkJ,gBAAaqF,aAI5BprB,EAAA+hB,gBAGHtnB,UAAA4wB,UAAA,SAAArrB,GACD,GAAAA,EAAO,GAAS0hB,wBAAyB1hB,EAAOyQ,IAAK,QAIrD,MAAOzQ,GAAG,GAAQ0hB,wBAActX,IAAApV,KAAA0tB,YAAA1iB,MAErBvF,UAAgBioB,YAAC,SAAgB1iB,GAC1C,MAAFA,GAACA,EAAA,IAAAA,EAAKmrB,MAAEt2B,OAAA6tB,aACG1iB,EAAQ6c,SAAAkJ,gBAAyB5b,UAIxCnK,EAAAsrB,cAAAhP,YAAiBoG,eAOZjoB,UAAe2vB,kBAAuB,cAE3ChG,GAAgBmH,EAAoBC,EAAgBC,EAAQC,EAD5DpnB,EAAAtP,WAEHA,MAAAypB,kBAAAzpB,KAAAi1B,eAAK7F,EAAEpvB,KAAAiiB,OAAAjiB,KAAAypB,iBAAAzpB,KAAA0tB,YAAA1tB,KAAAypB,gBAAA,GAAA5B,SAAAkJ,iBACJyF,EAAex2B,KAAGq2B,UAAYr2B,KAAK2Z,UAAA3Z,KAAiBiiB,OAAAjiB,KAAA2Z,cAGhD3Z,KAAkBiiB,OAAQjiB,KAAAypB,iBAC9B8M,EAAC,EAC4C,SAA7Cv2B,KAAAq2B,UAAgBr2B,KAAKypB,mBACxB8M,EAAAv2B,KAAAq2B,UAAAr2B,KAAAypB,kBAGG+M,EAAgBx2B,KAAKq2B,UAAQr2B,KAAK2Z,UAAY4c,EAAgCv2B,KAAAiiB,OAAajiB,KAAA2Z,WAG/F3Z,KAASg1B,oBACTwB,EAAex2B,KAASiiB,QAASjiB,KAAA2Z,SAAY,GAAA2c,eAAmBt2B,KAAK2Z,SAAA,GAAckO,UAAKkJ,oBAG/EyF,EAAmBpH,IACfqH,GAAez2B,KAACiiB,OAAAjiB,KAAAypB,iBAAAzpB,KAAAgrB,eAAA,4BAEL,EAChBhrB,KAAC80B,cAAK90B,KAAE6Z,OAAA8c,SAAA32B,KAAAsB,WAAAq1B,QACG32B,KAAK6Z,OAAO+c,oBAGtB52B,KAAA6Z,OAAAiK,OAAA,WACJxU,EAAAuK,OAAA+c,8BAMD52B,KAAA40B,kBAAA,GAIAF,EAAAjvB,UAAA8vB,qBAAR,SAA6BD,GACzB,MAAKt1B,MAAAgrB,eAAmBzX,WAAA+hB,IAAA,KAEf7vB,UAAgBgwB,qBAAS,SAAAH,QAC9BR,eAAKQ,EACRt1B,KAAA80B,eAAA90B,KAAA40B,mBACJ50B,KAAA40B,kBAAA,EAEO50B,KAAAk1B,8BAIAR,EAAAjvB,UAAAkwB,8BAAgB,SAAYL,GAApC,MAAAt1B,MAAAg1B,kBAaCM,KAXY7vB,UAAgBwwB,gBAAiB,SAAAH,SAClC91B,QACJA,KAAGypB,iBACNzpB,KAAAypB,gBAAA4L,OAAA,SAAA,WAEI/lB,EAAA4lB,mDAGQY,EACTA,EACH,MAAA91B,MAAAypB,gBAAAoN,KAAA,SAAA,WACJvnB,EAAA4lB,iCAKIzvB,UAAAswB,sBAAA,SAAAD,GACD,GAAgB,MAAZA,GAAsC,IAAdA,EAAc70B,OAA1C,CAWA,GATM60B,YAAwBgB,aAC1BhB,EAAe30B,QAAQ6J,QAAQ8qB,GACA,kBAAjBA,GAAYiB,OAC1BjB,EAAe30B,QAAK6J,QAAS8qB,EAAeA,EAAa70B,OAAC,IAGhC,gBAAd60B,KACRA,EAAe91B,KAAA2Z,SAAaqd,UAAIxe,KAAYsd,IAEnD,MAAAA,KAAA7pB,MAAAwB,QAAAqoB,IAAM7pB,MAACwB,QAAAqoB,IAAAA,EAAA70B,OAAA,GACJ,MAAMjB,MAAIi2B,gBAAMH,EAI5B,MAAA,IAAAj1B,OAAA,6CAOW6zB,OAEC,SAAmBpzB,EAAGgB,EAAA2V,iBAGtB2e,kBAAmB,IACnB1L,mBAAA,IACAsK,kBAAA,IACHE,kBAAA,IACGE,2BAEgB,IAGhBC,wBAAuB,KAE9B9qB,KAAA,SAAA8O,EAAAF,EAAAC,GACJ,GAAA8a,GAAApzB,EAAAgB,EAAA2V,EAAA4B,EAAAF,EAAAC,KAKJqd,GAAA9zB,SAAA,aAAA,UAAA,oDChPAkI,UAAA,oBAAA4rB,qBAuCOt2B,EAAAlB,EAqFCD,SAlFmB,mBACR03B,GAAM1d,EAAWqY,EAAAhuB,EAAAgW,EAAAF,EAAAC,GACjB,GAAAtK,GAAAtP,IACAA,MAAA6xB,YAAAA,EAVJ7xB,KAAA6D,SAAAA,EACA7D,KAAA6Z,OAAQA,EACR7Z,KAAA2Z,SAAUA,EAUd3Z,KAAK4Z,OAAAA,EACL5Z,KAAKm3B,cAAc,GACnBn3B,KAAKo3B,SAAW,IAChBp3B,KAAKq3B,WAAW,IAChBr3B,KAAKs3B,YAAY1d,EAAS2d,YAAa/d,EAAOI,EAAO2d,aAAa,KAClEv3B,KAAKw3B,YAAAx3B,KAAmBs3B,YAAOt3B,KAAAs3B,YAAqBtd,OAAO,KAC3Dha,KAAKy3B,SAAW7d,EAAO8d,cAAYle,EAAAI,EAAA8d,eAAA,KACnC13B,KAAK23B,SAAW33B,KAAAy3B,SAAOz3B,KAAay3B,SAAGzd,OAAgB,KACvDha,KAAK43B,aAAYhe,EAAOie,UAAcre,EAAAI,EAAAie,WAAyB,KAC/D73B,KAAK83B,iBAAgBle,EAAKme,mBAAoBve,EAAAI,EAAAme,oBAAA,KAC9C/3B,KAAKg4B,SAAApe,EAAAqe,YACLj4B,KAAKk4B,SAAAte,EAAgBue,cAAU,WAAiB,GAChDn4B,KAAKo4B,UAAUxe,EAASye,YAAA,uBAAA,kBAExBr4B,KAAAs4B,cAAct4B,KAAYs3B,YAAKzd,GAE/B7Z,KAAAu4B,sBAA0B5e,EAAW4O,KAAA,iBACjCiQ,iBAAkB5e,EAAO4e,iBAC7Bx4B,KAAGy4B,YAAA,EACH9e,EAAS4O,KAAG,WAAcvoB,KAAKu4B,uBAAY,KACnC7b,GAAC,QAAA1c,KAAao4B,UAAO,SAAA52B,GAC1B8N,EAAAopB,aAAAl3B,OAEKkb,GAAC,aAAY1c,KAAOo4B,UAAA,SAAA52B,GACzB8N,EAAAqpB,aAAAn3B,OAEKkb,GAAC,YAAW1c,KAAOo4B,UAAA,SAAA52B,GACxB8N,EAAAspB,YAAAp3B,OAEKkb,GAAC,WAAc1c,KAAKo4B,UAAE,SAAA52B,GAC3B8N,EAAAupB,WAAAr3B,OAEKkb,GAAC,cAAiB1c,KAAAo4B,UAAA,SAAA52B,GACvB8N,EAAAwpB,cAAAt3B,OAEKkb,GAAC,UAAU,SAAOlb,GACvB8N,EAAAypB,UAAAv3B,OAEKkb,GAAC,UAAW,SAAOlb,GACxB8N,EAAA0pB,UAAAx3B,OAICkb,GAAO,WAAY,SAAWlb,KAC1By3B,WAAKz3B,OAEF62B,qBAOKr4B,KAAAy3B,SAAgB,SAAAyB,KACjB,WACH5pB,EAAE6pB,YACPC,OAAAF,EACNG,YAAA,KAIU,KAdPxf,EAAGI,OAAAja,KAAAs3B,YAAA,SAAAgC,GACNhqB,EAAA6pB,YAAOI,UAAAD,sCAkBQt5B,KAAAw4B,iBAAgB,aACjB,WACJlpB,EAAKgpB,cAAAhpB,EAAAgoB,YAAAzd,GACTvK,EAAA6pB,YACNI,UAAAjqB,EAAAgpB,iBAIG,OAGPt4B,KAAAm5B,YAEOI,UAAAv5B,KAAAs4B,cACAtpB,MAAK2K,EAAWnB,KAAAxY,KAAAo4B,sBAMR3yB,UAAW0zB,WAAK,SAAAK,YAACf,kBAEjBe,EAAkBD,UAAYH,EAAOI,EAAaJ,OAAMpqB,EAASwqB,EAAAxqB,OAAAhP,KAAA2Z,SAAAnB,KAAAxY,KAAAo4B,UAAAp4B,KAAAk4B,UAAAuB,EAAAzqB,EAAA/N,OAAAwP,EAAA,WACrE,MAAC+oB,GAAA/oB,KACG+oB,EAAkB/oB,MACLsE,SAAbwkB,GAAuBA,KAAA,IAC1BA,EAAAvqB,EAAAuN,MAAAvN,EAAAqK,OAAA,WAAA+f,EAAA,OAILG,GAAa,GAAUA,EAAYE,GACrBzqB,EAAAuqB,OAGFC,EAAgBH,qBAG5Br5B,KAAK2Z,SAAKnB,KAASxY,KAAAo4B,WAAAxb,YAAA,yBAACzb,QAAK6J,QAAayF,GAClCkM,SAAU,uBAAEwX,QACnBn0B,KAAAg4B,UACJh4B,KAAA05B,aAAAjpB,GAAC4oB,GAEMr5B,KAAA25B,oBAAA3qB,QAGKvJ,UAAWk0B,oBAAsB,SAAU3qB,MAChDM,GAAMtP,OACGA,KAAas4B,kCAEZ,MACT,GAAA/b,GAAA,EAAAA,EAAAvN,EAAA/N,OAAAsb,IACJ,GAAAtH,EAAAjG,EAAAuN,IAAAiG,SAAA,YAAA,CAEKxiB,KAAAs4B,cAAc/b,CACV,UAINqd,GAAS,cAAUC,GAAc14B,QAAK6J,QAAQgE,EAAAM,EAAYgpB,gBAAAwB,EAAAD,EAAAtR,KAAA,SAC1DjZ,GAAUkoB,aACZloB,EAAAkoB,YAAAloB,EAAAuK,OAAAvK,EAAAgpB,eAEIhpB,EAAQqoB,UACJroB,EAAAqoB,SAAeroB,EAAAuK,OAAQigB,GAG7BC,OAEQ,iBACU54B,QAAO6J,QAAQgE,EAAAM,EAAAgpB,gBAAAwB,EAAAD,EAAAtR,KAAA,yCAEdjZ,EAAKuK,gBAEZ8M,OAAQrX,EAAEqK,SACVlJ,KAAAopB,EACHtd,MAAAjN,EAAAgpB,cACFnwB,GAAA2xB,EACNE,SAAA1qB,EAAAgpB,cACJ2B,SAAAC,KAMGA,IAAmBl6B,KAAAs4B,eAAgBt4B,KAAMs4B,iBAAC,EAC7Ct4B,KAAA6Z,OAAAiK,OAAA,WAAA8V,MAGG55B,KAAA6Z,OAAAiK,OAAA,WAARiW,SAIQt0B,UAAei0B,aAAc,SAAYS,GAQ7C,GAAI7qB,GAACtP,IACL,KAAIA,KAACg4B,UAASmC,EAAA1N,SAAd,CAEA,GAAGwC,GAAKjvB,KAAA2Z,SAAA8S,SAAArX,IAAA8Z,EAAAlvB,KAAA2Z,SAAAsI,SAAAmN,EAAAH,EAAAC,EAAAkL,EAAAD,EAAA1N,SAAArX,IAAAilB,EAAAF,EAAAtX,aAAA,GAAAyX,EAAAF,EAAAC,EAAA/K,EAAAtvB,KAAA2Z,SAAAxE,WAERnV,MAAIy4B,YAAY,OACZ50B,SAAK,WACRyL,EAAAmpB,YAAA,GAAC,KACExJ,EAAcmL,EACjBp6B,KAAA2Z,SAAAxE,UAAAma,EAAA8K,EAAAnL,GACHG,EAAAkL,GAEMt6B,KAAA2Z,SAAAxE,UAAAma,EAAAgL,EAARlL,OAMW3pB,UAAY80B,gCAAA,SAAAC,GACtB,MAAAA,GAAAC,WAAAC,KAAAC,UAACH,EAAAI,WAGQJ,KAKL/0B,UAAAo1B,cAAA,SAAAr5B,GAED,GAAAs5B,GAAYt5B,EAACu5B,eAAA,GAAAC,EAAAh7B,KAAAm3B,aAChB,OAAAxuB,MAAA8K,IAAAqnB,EAAA5N,MAAAltB,KAAAi7B,aAAAD,GAAAryB,KAAA8K,IAAAqnB,EAAA1N,MAAAptB,KAAAk7B,aAAAF,KAMMv1B,UAAAizB,aAAA,SAAAl3B,GACNxB,KAAAm5B,YAEO1oB,KAAAjP,EAAAmxB,cACE0G,YAAW,OAGhB5zB,UAAAkzB,aAAA,SAAAn3B,GACD,GAAM25B,GAAA35B,EAAAkuB,aAGN,IAAIyL,EAAiB,cAAAl6B,OAAK,EACtB,OAAC,CAGL,IAAIm6B,GAAep7B,KAAMu6B,gCAAMY,EAAAxU,QAAAmU,EAAAK,EAAA,cAAA,SAC/Bn7B,MAAKq7B,eAAc,EAMnBr7B,KAAAs7B,mBAAYH,EAAAI,UACfv7B,KAAAo7B,cAAAA,EAEOp7B,KAAAi7B,YAAAH,EAAA5N,MACJltB,KAAKk7B,YAAKJ,EAAe1N,OACrB,KAEO3nB,UAAMmzB,YAAc,SAAAp3B,GAE/B,IAAIxB,KAAKq7B,cACL,OAAK,CAET,IAACF,GAAA35B,EAAAkuB,aAQD,QANA1vB,KAAOo7B,gBAAKp7B,KAAAu6B,gCAAAY,EAAAxU,SAAA3mB,KAAA66B,cAAAM,MACfn7B,KAAAq7B,eAAA,EAEOr7B,KAAAo7B,cAAA,OAGC,KAEJ31B,UAAAozB,WAAA,SAAAr3B,GACD,GAAiBg6B,EAAcx7B,MAAAo7B,aAE/B,KAAKp7B,KAAGq7B,cACJ,OAAK,CAET,IAACF,GAAA35B,EAAAkuB,aAED,OAAKyL,GAAGI,UAAYv7B,KAAKy7B,cAAAz7B,KAAsBo3B,UAC3Cp3B,KAAA07B,iBAAY,GACf,GAKIP,EAAAI,UAAav7B,KAAGs7B,mBAAgBt7B,KAAAq3B,aAIrCr3B,KAAK07B,iBAAkB,EAEvB17B,KAAKy7B,cAAWj6B,EAAA+5B,YACAv7B,KAAas7B,wBACzBD,eAAgB,OACjBC,mBAAA,EAEHt7B,KAAAm5B,YACH1oB,KAAAjP,EAAAmxB,cAEO0G,YAAA,KAEC,IAGDnC,EAAAzxB,UAAAqzB,cAAR,SAAkBt3B,GACdxB,KAAIq7B,eAAgB,EAGpBr7B,KAAIo7B,cAAgB,QAEV31B,UAAAszB,UAAkB,SAAAv3B,MAExBkyB,GAASlyB,EAAAmyB,OAAgBnyB,EAAGkyB,cACnB1zB,KAAA6xB,YAAiB+B,SAAW+H,OAAEjI,GAAA1zB,KAAA6xB,YAAA+B,SAAAgI,0FAIhB57B,KAAQ6Z,gBAExB8M,OAAA3mB,KAAA2Z,SACN4C,MAAAvc,KAAAs4B,cAEJ7nB,KAAAzQ,KAAA2Z,SAAAnB,KAAA,oBAQG,IAAMkb,GAAY1zB,KAAC6xB,YAAc+B,SAAKC,YAAiBH,GAChD1zB,KAAI6xB,YAAW+B,SAAKG,aAI3BL,GAAK1zB,KAAW6xB,YAAA+B,SAAAE,UAAAJ,GAAA1zB,KAAA6xB,YAAA+B,SAAAI,WAAA,GACZjwB,mBACAstB,qBACAriB,GAAAhP,KAAY2Z,SAAInB,KAAAxY,KAAAo4B,UAAAp4B,KAAAk4B,UAAA2D,EAAAnI,GAAA1zB,KAAA6xB,YAAA+B,SAAAG,aAAAL,GAAA1zB,KAAA6xB,YAAA+B,SAAAI,WAAA,GAAA,EAAAsF,EAAAt5B,KAAAs4B,cAAAuD,OACjB1C,YACNI,UAAAD,EACJtqB,MAAAA,EAEOqqB,YAAA,QASK5zB,UAAAuzB,UAAqB,SAAYx3B,MACtCwN,GAAK6qB,EAAiB75B,KAAK2Z,SAAKnB,KAASxY,KAAGo4B,UAAc,eACrDzb,SAAW,cACI,MAAP1b,cACTq3B,cAAYt4B,KAAAs3B,YAAAt3B,KAAA6Z,UACZ7Z,KAAA2Z,SAAgBnB,KAAAxY,KAAAo4B,UAAAp4B,KAAAk4B,eACjBiB,YACNI,UAAAv5B,KAAAs4B,eAAA,EACJtpB,MAAAA,EAEOqqB,YAAA,MArXZnC,EAwXCzxB,UAAAwzB,WAAA,SAAAz3B,GAEKxB,KAAQ2Z,SAAGnB,KACbxY,KAAwBo4B,UACR,cACYp4B,KAAAk4B,UAAAtb,YAAA,eAGxBsa,OAEM,SACF1d,EACAqY,EACAhuB,UAGJ+G,SAAC,IACJrD,OAAA,EACJwD,KAAA,SAAA8O,EAAAF,EAAAC,GAEM,GAAAsd,GAAA1d,EAAAqY,EAAAhuB,EAAAgW,EAAAF,EAAAC,qHC7XVrQ,IAAA,SAAA5I,EAAAlB,EAAAD,eAAD4D,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,GAzBY,IAAAw4B,GAAA,WA+Bb,QAAAA,YAEWA,QAIAA,aAAAA,KACXC,GAAC,WAAD,QAAAA,KAAC/7B,KAAAg8B,mBAPYh8B,KAAAi8B,sDCjCbz8B,GAAAu8B,gBAAAA,OAIClyB,IAAA,SAAAlJ,EAAAlB,EAAAD,eAAD4D,QAJAC,eAAA7D,EAAA,cAAA8D,OAAA,GACW,IAAA44B,GAAO,WACP,QAAAA,MAFE,MAAAA,QAMbC,QAAA,YAMCC,MAAA,UAADC,SAAA,WAAA78B,EAAC08B,cAAAA,CANY,IAAAI,GAAA,WAQb,QAAAA,YAiGQA,QAhGIA,gBAAaA,QACd,mBAEHC,GAAQvxB,EAAAwxB,EAAAC,EAAA1W,iBAERzW,GAAQtP,UACR08B,YACAC,IAAK,IACLz7B,EAAK,IACLoY,EAAK,IACL9V,EAAK,IACL+W,EAAK,IACL9V,EAAK,IACLM,EAAK,IACLsc,EAAK,IACLla,EAAK,IACLE,EAAK,IACLu1B,EAAK,IACLC,IAAK,IACLC,IAAI,IACNC,IAAA,IAEMC,IAAA,IACJC,IAAK,IACLC,IAAA,IACAC,IAAK,IACLC,KAAA,UAEAC,cACAC,IAAA,GAEAC,OAAA,GACAC,IAAA,EACAlb,MAAQ,GACRmb,OAAU,GACVC,MAAA,GACAC,UAAU,EACVC,WAAc,IACdC,YAAe,IACfC,OAAU,IAEVC,SAAW,GACXC,UAAW,GAEXC,KAAQ,GACRC,QAAU,IACVC,SAAY,IACZC,IAAO,IAEPC,MAAQ,GACRC,MAAS,GACTC,OAAQ,GAERC,KAAA,GACAC,OAAA,GACAC,IAAM,GAENC,OAAU,GACVC,QAAQ,GACRC,GAAA,GACAC,SAAU,GAEVC,UAAS,GACTC,GAAM,GACNpd,KAAM,GACNqd,GAAM,GACNjO,MAAS,GACTkO,KAAM,GACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAK,IACLC,GAAK,IACLC,GAAK,IACPC,GAAA,IAEMC,GAAA,IACJC,GAAK,IACLC,IAAM,IACNC,IAAO,IACPC,IAAM,KAkBN9/B,KAAK+/B,WACDC,OAAQC,QAAG,EAAAC,SAAmB,GAC9BC,MAAMF,QAAU,EAAKC,SAAA,GACrBE,KAAOH,QAAG,EAAOC,SAAA,GACjBG,MAACJ,QAAW,EAASC,SAAA,SAGrBvZ,OAA2B3b,OAC3Bs1B,QAAiB9D,OAEjBh7B,MAAQi7B,EAAO8D,iBACP9D,gBACE1W,qBACK,SAAKvkB,MACdV,GAAFX,EAACqB,GAAA3B,OAAA2B,WACGi7B,OAAO+D,eAAgB,CAC3B,GAACC,EAUC,IAREtgC,EAAAwmB,OACA8Z,EAAUtgC,EAAAwmB,OAEVxmB,EAAAymB,aAA6D6Z,EAAOtgC,EAAAymB,YAG5D,GAAV6Z,EAAUhG,WACRgG,EAAYA,EAAC7F,YACA,SAAX6F,EAAUC,SAAC,YAAAD,EAAAC,QACb,OAGJvgC,EAAAuzB,QAEA5yB,EAAIX,EAAIuzB,QACJvzB,EAAAwzB,QAAS7yB,EAAAX,EAASwzB,MAI1B,IAAIgN,GAAextB,OAAAC,aAAAtS,GAAAmR,aAEb,MAAFnR,IAAW6/B,EAAK,KACd,KAAF7/B,IAAY6/B,EAAK,IACrB,IAAIhyB,GAAEW,EAAOgxB,QAAAvqB,MAAA,KAAC6qB,EAAI,CACdzgC,GAAE0gC,UAASvxB,EAAKywB,UAAUI,KAAKD,QAAU//B,EAAE0gC,SAE3C1gC,EAAC2gC,WACDxxB,EAAMywB,UAAUC,MAACE,QAAc//B,EAAA2gC,UAC/B3gC,EAAA4gC,SAEAzxB,EAAKywB,UAAUK,IAAKF,QAAI//B,EAAA4gC,sBAEpBhB,UAAKM,KAAUH,QAAW//B,EAAA6gC,YAC9BpgC,GAAC,MAACA,EAAK,EAAGA,EAAE+N,EAAI1N,OAAUL,IAAA,IACtB0P,GAAI3B,EAAC/N,EACD,SAAJ0P,GAAe,WAADA,GACjBswB,IAAKtxB,EAAMywB,UAAUI,KAAEF,QAAA,GAEf,SAAD3vB,GACPswB,IAAKtxB,EAAMywB,UAAUC,MAAGC,QAAA,GAEhB,OAAD3vB,GACPswB,IAAKtxB,EAAMywB,UAAUK,IAAIH,QAAA,GAEb,QAAL3vB,GACJswB,IACHtxB,EAAAywB,UAAAM,KAAAJ,QAAA,GACO3vB,EAAArP,OAAW,EAAkBqO,EAAK+tB,aAAA/sB,IAAAxP,GACzC8/B,IACuBtxB,EAAKmtB,OAAAwE,QACrB3xB,EAAEmtB,OAAAwE,SAAAngC,GACF8/B,OAGatwB,MAGhBhB,EAAAotB,WAAAiE,IAAAxgC,EAAA2gC,WACJH,EAAArxB,EAAAotB,WAAAiE,GACJA,GAAArwB,GAEcswB,WAQXA,IAAKjyB,EAAK1N,UAEJ8+B,UAAAI,KAAeD,SAAK5wB,EAAAywB,UAAAI,KAAAF,UACpBF,UAAAC,MAAcE,SAAM5wB,EAAAywB,UAAAC,MAAAC,UAGpBF,UAAIK,IAAAF,SAAkB5wB,EAAAywB,UAAAK,IAAAH,oBAClBI,KAAAH,SAAkB5wB,EAAAywB,UAAAM,KAAAJ,oBAClB9/B,GACLmP,EAAAmtB,OAAAyE,YAWrB5xB,EAAAywB,UAACI,KAAAD,SAAA,EAAA5wB,EAAAywB,UAAAC,MAAAE,SAAA,EA9MY5wB,EAAAywB,UAAQK,IAAAF,SAAA,sCAqMD//B,EAAAmxB,cAAa,EAChBnxB,EAAAoxB,aAAA,EACJpxB,EAAAkxB,kBACIlxB,EAAAkxB,kBACAlxB,EAAA4D,mBAES,aAxMlBZ,SAAQ,UAAA,qBAAA,SAAA,gBCdhB3D,GAAC+8B,SAAAA,WAMO,SAAA57B,EAAAlB,EAAAD,sCAFQA,EAAiC,cAAG8D,OAAA,UAOnC3C,EAAO,cAEhBwgC,EAAC,mBAGOA,GAAiC98B,EAAAo4B,mBAEjC2E,mBACA57B,KAAAnB,OACAg9B,eAAgB5E,EAAA75B,EAAA0+B,SAAA7E,EAAAz8B,KAAAuhC,oBAAAvhC,KAAAuhC,yBALhBJ,GAAAh+B,SAAA,OAAA,YAOFsC,UAAA87B,iBAAA,WAEF,GAAAC,IACHjB,KAAAkB,EAAAvF,cAAAC,QAED+E,WAAA,kBAAA,EACIQ,OAAO7Z,SACVoZ,QAAA,gBAEM79B,OAAAC,eAAA89B,EAAP17B,UAAW,aACPS,IAAK,WACD,MAAAlG,MAAAohC,YAEJt7B,YAAW,EAEXC,cAAW,MAEVN,UAAAk8B,IAAA,SAAAC,EAAA7b,EAAA0W,GAACz8B,KAAK6hC,OAACD,MACJE,GAAUrF,EAAe75B,EAAA0+B,SAAO7E,EAAAz8B,KAAAqhC,gBAAArhC,KAAAqhC,eACnCU,EAAAH,EAAA3vB,cAEGjH,EAAU82B,EAACJ,MAQf,IANI12B,EADgB,gBAAX82B,GAAWJ,OACT7Z,SAAAma,eAAAF,EAAAJ,QAIGI,EAAMJ,QAEnB12B,EAGG,WADAhL,MAACwF,KAAShB,MAAE,0CAGhB,KAACu9B,EAIG,WAFA/hC,MAAAwF,KAAAhB,MAAA,4DAMAuhB,EACE,WAAL/lB,MAAAwF,KAAAhB,MAAA,mDAED,IAACy9B,GAAA,GAAAR,GAAAlF,SAAAvxB,EAAA+2B,EAAAD,EAAA/b,EAAC/lB,MAAKohC,WAACW,GAAAE,EACJj3B,EAAQwc,iBACXxc,EAAAwc,iBAAAsa,EAAAvB,KAAA0B,EAAAC,eAAA,GAGEl3B,EAAAyc,YACCzc,EAAAyc,YAAmB,KAAGqa,EAAmBvB,KAAG0B,EAAAC,eAI5Cl3B,EAAQ0R,GAAColB,EAAAvB,KAAA0B,EAAAC,kBAGQz8B,UAAQo8B,OAAA,SAAAvB,GAC7B,GAAIyB,GAAmBzB,EAAAruB,cAEnBkwB,EAAQniC,KAAAohC,WAAcW,EAE1B,UADI/hC,MAAQohC,WAAYW,GACvBI,EAAD,IACIxhB,GAAOwhB,EAAC3gC,MACXwJ,EAAAm3B,EAAAxb,OAAKZ,EAAEoc,EAAAD,aAEJl3B,GAAQo3B,YACXp3B,EAAAo3B,YAAA,KAAAzhB,EAAAoF,GAET/a,EAAAmd,oBAACnd,EAAAmd,oBAAAxH,EAAAoF,GAAA,GAwBA/a,EAAAwhB,IAAA7L,EAAAoF,YAd2C,mBACpCsc;eAHH,MAAAriC,MAAAsiC,SASGn8B,IAAA,SAAW7C,GAEPtD,KAAKsiC,QAAQh/B,GAAS,GAAAm+B,GAAAnF,iBAG1Bx2B,YAAY,EACfC,cAAA,IArBLs8B,EAsBC58B,UAAAW,MAAA,OAAA,SAAA/B,GAEM,UAGV,OAF8B,OAAfrE,KAAAiG,WACPjG,KAASiG,SAAA,GAAAk7B,GAAsB98B,EAAyBrE,KAAAsiC,UAChEtiC,KAAAiG,wBCnHDxG,OAAA,gBAKI4G,SAAA,qBACoBg8B,kBASZ,KAAO13B,IAAA,SAAAhK,EAAoBlB,EAAAD,sCAEtBA,EAAA,cAAyB8D,OAAU,UAC3C,mBACGi/B,GAAW5oB,EAAAC,EAAAC,EAAiCxV,EAAAmV,EAAAgpB,aAGhD,IAAClzB,GAAAtP,IAED,OAAI4Z,GAAO6oB,mBACPziC,KAAK0iC,gBAAgBlpB,EAAOI,EAAA6oB,mBAC/BziC,KAAA0iC,gBAAA7oB,GAAA0B,YAOG3B,EAAC+oB,iBAAyB//B,EAAC0U,SAAAsC,EAAA+oB,kBAG/B3iC,KAAA4iC,cAAuBhpB,EAAK+oB,gBAO/B3iC,KAAA6iC,QAAAjpB,EAAAkpB,kBAAAlpB,EAAAkpB,qBACL9iC,KAAA6iC,QAAAnB,OAAC/nB,MAAA6oB,GAAAb,IAAA3hC,KAAA4iC,cAAA,SAAAziC,GAGAmP,EAAAozB,gBAAA7oB,GAAA0B,QAAApb,EAAAA,MACSH,KAAA6iC,cATLx+B,GAAAG,MAAA,oCAVOH,GAAAG,MAAM,0CAXFrB,SAAA,WAAA,SAAA,SAAA,OAAA,SAAA,wBAgCMsC,UAAGs9B,iBAAA,SAAAC,QACbN,mBAEFH,OAIM,kBAEf33B,SAAA,2BClEDzJ,SAEW1B,OAAA,gBAEX4L,UAAA,cAAA43B,YAOgB,SAAAtiC,EAAAlB,EAA0BD,sCAEjBA,EAAT,cAAmC8D,OAAA,UACnC3C,EAAA,yBAERuiC,sBAAsB,4BACP,mBAGVC,GAAiBh/B,EAAQ7C,EAACgB,EAAiB8gC,EAAAt5B,EAAA04B,GAChDxiC,KAAKsB,WAAaA,EACrBtB,KAAAsC,QAAAA,EAGOtC,KAAAojC,UAAAA,EAEJpjC,KAAK8J,UAAAA,EACL9J,KAAKwiC,mBAAqBA,EAG1BxiC,KAAKyf,QAAAtb,EACLnE,KAAKqjC,WAAazgC,EAAAC,UAAY7C,KAAAyf,SAE9Bzf,KAAKsjC,aAAWtjC,KAAMyf,QAAAuc,iBAGtBh8B,KAAKsjC,aAAatjC,KAAEyf,QAAUwc,sBAG1BkH,GAAA19B,UAAA89B,gBAAR,WAAAvjC,KAAAwjC,gBAICxjC,KAAAqjC,WAAArH,iBAHGh8B,KAAEwjC,gBAAiBxjC,KAAAqjC,WAAEpH,qBACjBqH,aAAKtjC,KAAAmE,OAAmB63B,iBAC5Bh8B,KAAGsjC,aAAAtjC,KAAAmE,OAAA83B,gBACNj8B,KAAAsB,WAAAoE,MAAAlG,EAAA0jC,sBAAAljC,KAAAmE,QAEOnE,KAAAqjC,WAAAzgC,EAAAC,UAAA7C,KAAAmE,WAESsB,UAAQ+9B,gBAAS,SAAAC,SACtBzjC,YACHyjC,EAAA,SAAAnzB,GACJhB,EAAAkzB,mBAAAX,OAAAvxB,EAAAsxB,eAIUn8B,UAAAs9B,iBAAA,SAAAtyB,EAAAjP,GACX,IAACiP,EAAAizB,SAAA9gC,EAAAwX,WAAA3J,EAAAizB,SAEQjzB,EAAKizB,OAAEliC,GAFhB,CAOA,GAAIiP,EAAKkzB,SAEL,WADAlzB,GAAKkzB,SAASniC,EAIlB,IAAIiP,EAAKmzB,iBACL5jC,KAAIsC,QAAK2B,SAAa2/B,KAACnzB,EAAWmzB,SAGlCnzB,EAAC1O,IAEJ,WADG/B,MAAAojC,UAAOrhC,IAAA0O,EAAA1O,QAIP0O,EAAK9N,OACR,GAAA3C,KAAA8J,UAAAE,IAAA,UAAA,CAAO,GAAA1F,GAAAtE,KAAA8J,UAAA5D,IAAA,SAEA5B,GAAW,GAACmM,EAAA9N,MAAW8N,EAAAozB,kBAInCpzB,GAAAjP,MACQxB,KAAAsB,WAAcwe,WAAyBrP,EAAOjP,OAI9CxB,KAAIsB,WAAYwe,WAAA,sBAAArP,EAAAmxB,cAKXn8B,UAAA69B,aAAyB,SAAUG,SACpCzjC,KACJ8jC,EAAW9jC,KAAAmE,OAAA4/B,eAAA/jC,KAAAmE,OAAA4/B,iBACfnhC,GAAE4N,KAACizB,EAAA,SAAAnzB,GACN,GAGDqW,GAHC8V,EAAAnsB,EAAAuyB,QAAAvyB,EAAAuyB,QAAAiB,IAGDxzB,EAAAqW,OAAArW,EAAAqW,OAAArW,EAAA0zB,SACIvH,EAAOiF,OAAK/a,EACfrX,EAAAkzB,mBAAAb,IAAArxB,EAAAsxB,SAAA,SAAAzhC,wDAEDgjC,EAAA19B,UAAA,cACI,WACH,MAAAzF,MAAAyf,qBAGQ,gBACA,uEAJR,MAAAzf,MAAAyf,QAAAskB,oBAOD,SAAAzgC,GACItD,KAAAyf,QAAYskB,eAAQzgC,GAAgB,KACvCtD,KAAAujC,+BAGQ,gBACA,wEAJR,MAAAvjC,MAAAyf,QAAAuc,qBAOD,SAAA14B,GACItD,KAAAyf,QAAYuc,gBAAQ14B,MACvBtD,KAAAujC,+BAGQ,gBACA,uEAJR,MAAAvjC,MAAAyf,QAAAwc,gBAMJ91B,IAAA,SAAA7C,GAEDtD,KAAAyf,QAAAwc,eAAA34B,MAAAtD,KAAAujC,mBA0CCz9B,YAAA,EAtCGC,cAAA,WAIkB,mBACdk+B,KACJjkC,KAACyf,QAAA,GAAAykB,GAAAnI,mEAJA71B,IAAA,WAMD,MAAAlG,MAAAyf,aACI,SAAWnc,GACdtD,KAAAyf,QAAAnc,GAAA,GAAA4gC,GAAAnI,6BAGQ,EACTh2B,cAAC,wDAJAG,IAAA,WAMD,MAAAlG,MAAAyf,QAAWskB,oBACP,SAAWzgC,GACdtD,KAAAyf,QAAAskB,eAAAzgC,GAAA,kBAGQ,EACTyC,cAAC,yDAJAG,IAAA,WAMM,MAAAlG,MAAAyf,QAAAuc,iBASH71B,IAAI,SAAK7C,GACLtD,KAAKyf,QAAQuc,gBAAO14B,OAG3BwC,YAAA,EACLC,cAAA,IAEAk+B,EAAOx+B,UAAAW,MAAA,aAAA,UAAA,YAAA,YAAA,qBAAA,SAAA9E,EAAAgB,EAAA8gC,EAAAt5B,EAAA04B,GACF,iBACuB,OAAvBxiC,KAASiG,4GCrLdI,SAAc,eAAe49B,KAG7BE,sBAAA,KAA4Bz4B,IAAA,SAAA/K,EAAAlB,EAAAD,GAC5B,YAEA,SAAA4B,GAAAsD,GAEA,IAAA,GAAAC,KAAAD,GAAAlF,EAAAoF,eAAmCD,KAAAnF,EAAAmF,GAAAD,EAAAC,qDCRnCxD,QAAC1B,OAAA,gBAAA,aAAA,gBAQG,8BACI,mDAKQ,2EAGF,GAAA2kC,2BAAA,GAAAC,sBAAA,GAAAC,qBAAA,KAAA50B,IAAA,SAAA/O,EAAAlB,EAAAD,SAGa,sBACMqa,EAAOvX,KACpBiiC,eAAM,WACV,GAAC1qB,EAAA2qB,0BAAK,MAAE3qB,GAAA4qB,sBAGZ,IAAGC,GAAA7qB,EAAAtY,IAAA,oBAAA,SAAAC,GAEIqY,EAAI2qB,4BAAYliC,EAAAqiC,QAAA9qB,EAAA4qB,wBACnB7hC,EAAAwX,WAAQP,EAAc+qB,cAAQ/qB,EAAA+qB,cAC9BpjC,EAAUuC,kBAGtBnB,EAAAwX,WAAAP,EAACgrB,aAAAhrB,EAAAgrB,cAGGhrB,GAAOtY,IAAA,WAAA,WACHe,EAAUiiC,eAAI,KACdG,oBAKC,SAAApiC,mBAEO,KACRiF,OACFi9B,wBAAA,8BACLC,sBAAA,4BAEMI,WAAA,+BACKD,YAAA,iCAEf75B,KAAA,SAAA8O;;;C9DrDD,SAAAta,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAuyB,SAAAjzB,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,G+DcI,GAAMslC,IACFjpB,WAAY,eACZkpB,OAAQ,aACRC,aAAc,WACdC,YAAa,cAaXC,GAVN,WAAA,QAAAC,MAQA,MAAAA,OAEwB,SAAU,aAAc,QAAS,UAAW,OAAQ,SAAU,SAEtFC,EAAA,WAQI,QAAAA,GACYvrB,EACAF,EACRC,EACQ/V,GAHA7D,KAAA6Z,OAAAA,EACA7Z,KAAA2Z,SAAAA,EAEA3Z,KAAA6D,SAAAA,EAER7D,KAAKsc,MAAQ1C,EAAO0C,OAAS,GA+BrC,MA5BW8oB,GAAA3/B,UAAAyV,WAAP,SAAkBC,GACdnb,KAAK+kC,OAAS5pB,EAAQ4pB,QAAUniC,EAAE6K,QAAQ0N,EAAQ4pB,OAAO3pB,eAAwD,IAAvCD,EAAQ4pB,OAAO3pB,aAAana,OAClGka,EAAQ4pB,OAAO3pB,aAAe8pB,EAClCllC,KAAKglC,aAAehlC,KAAKglC,cAAgBhlC,KAAK+kC,OAAO,GACrD/kC,KAAKqlC,kBAAoBrlC,KAAK+kC,OAAOtzB,QAAQzR,KAAKglC,cAElDhlC,KAAK6b,WAAaV,EAAQU,WAAWT,cAGlCgqB,EAAA3/B,UAAA6/B,YAAP,SAAmB/oB,GAAnB,GAAAjN,GAAAtP,IACQA,MAAK6b,aAGT7b,KAAKqlC,kBAAoB9oB,EACzBvc,KAAKglC,aAAehlC,KAAK+kC,OAAO/kC,KAAKqlC,mBACrCrlC,KAAK6D,SAAS,WACVyL,EAAKuK,OAAOiK,WAGZ9jB,KAAKilC,aACLjlC,KAAKilC,gBAING,EAAA3/B,UAAAqX,gBAAP,SAAuBtb,GACnBxB,KAAKslC,YAAY9jC,EAAM+a,QAG/B6oB,KAEMG,GACFroB,SAAU4nB,EACVU,YAAa,gCACb/rB,WAAY2rB,EAGhBjkC,SACK1B,OAAO,kBAAmB,0BAC1B0d,UAAU,iBAAkBooB,mCpCtFvB95B,GAAe3B,GAErB,GAAAC,GAAiBD,EAAWE,IAAA,gBAAAF,EAAA5D,IAAA,gBAAA,WACxB,UAAOgF,GACV,MAAAnB,GAAAA,EAAA,UAAAmB,IAAAA,EAAAA,GALLO,EAAAtI,SAAyB,qBAUpB1D,OAAO,4BACf4Z,OAAA,YAAA5N,uCqCVDrI,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,OAkBOmiC,GAAA,mBACYA,GAAiB5rB,EAAAF,EAAAC,EAAAJ,EAAA3V,EAAAoU,EAAAytB,GACjB,GAAAp2B,GAAAtP,IACAA,MAAA6Z,OAAAA,EACA7Z,KAAA2Z,SAAAA,EACA3Z,KAAA4Z,OAAQA,EACR5Z,KAAAwZ,OAASA,EACTxZ,KAAA6D,SAAAA,EAtBJ7D,KAAAiY,UAAmBA,EAInBjY,KAAA0lC,eAAgBA,EAKjB1lC,KAAA2lC,OAAA,EAiBH3lC,KAAK4lC,iBAAmB,KACxB5lC,KAAK6lC,WAAY,EACjB7lC,KAAK8lC,MAAO9lC,KAAG2gB,OAEf3gB,KAAAoY,UAAiBpY,KAACgZ,WAClBhZ,KAAA+lC,QAAS/lC,KAASgmC,eAElBrsB,EAAKgD,SAAW,oBAEhBhD,EAASgD,SAAA,iBAAA3c,KAAA8lC,YACLG,aACI,aACEC,QAAKvsB,EAAYnB,KAAA,wBACtBlJ,EAAA42B,QAAAjlC,OAAA,GACFgU,EAAA3F,EAAA42B,QAAA,IAAAvpB,SAAA,mBAKCwpB,qBACAC,WAAWxjC,EAAGuyB,SAAK,WACnBuQ,EAAaW,QAAG/2B,EAAAw2B,MAAAx2B,EAAA42B,QAAA52B,EAAAq2B,OAAAr2B,EAAAg3B,UAAAh3B,EAAAi3B,YACjBj3B,EAAKq2B,OAAAr2B,EAAAg3B,UAEJh3B,EAAM22B,iBAETrsB,EAAAzR,IAEDu9B,EAAWc,eAAY5sB,EAAAzR,GAAA0R,KAEnBtY,IAAA,WAAe,WAChB+N,EAAAm3B,eAENf,EAAAgB,aAAA9sB,EAAAzR,MAiDC,SAjDDhF,SAAA,SAAA,WAAA,SAAA,SAAA,WAAA,YAAA,oBAIyBsC,UAAUkhC,UAAU,WAC1C3mC,KAAK4mC,kBACL5mC,KAAKsmC,UAAYtmC,KAAC2lC,OAAA,IAAA3lC,KAAAkmC,QAAAjlC,OAAA,EAAAjB,KAAA2lC,OAAA,EACrB3lC,KAAAumC,WAAA,OAEMvmC,KAAAomC,gBAEmB3gC,UAAUohC,UAAY,WAC5C7mC,KAAK4mC,kBACL5mC,KAAKsmC,UAAYtmC,KAAC2lC,OAAA,EAAA,EAAA3lC,KAAAkmC,QAAAjlC,OAAA,EAAAjB,KAAA2lC,OAAA,EACrB3lC,KAAAumC,WAAA,OAEOvmC,KAAAomC,gBAEO3gC,UAAAugC,eAAA,SAAAc,GACVA,IAAA9mC,KAAA2lC,QAAAmB,EAAA9mC,KAAAkmC,QAAAjlC,OAAA,IAIDjB,KAAK4mC,kBACL5mC,KAAKsmC,UAAYQ,EACpB9mC,KAAAumC,WAAAO,EAAA9mC,KAAA2lC,OAAA,OAAA,OAEO3lC,KAAAomC,iBAC8C3gC,UAAKwgC,SAAO,WACjEjmC,KAAA4Z,OAAAmtB,gBAEO/mC,KAAAgnC,YAAAhnC,KAAA2lC,WACiBlgC,UAAK0gC,cAAU,cAChC72B,GAAKtP,UACLinC,cAAejnC,KAAGiY,UAAO,WACzB3I,EAAKg3B,UAAYh3B,EAACq2B,OAAA,IAAAr2B,EAAA42B,QAAAjlC,OAAA,EAAAqO,EAAAq2B,OAAA,EACnBr2B,EAAOi3B,WAAK,OAClBj3B,EAAA82B,cAEOvoB,OAAA7d,KAAAoY,WAAApY,KAAA4lC,oBAERH,EAAChgC,UAAAghC,aAAA,WAEOzmC,KAAAiY,UAAAgB,OAAAjZ,KAAAinC,kBAEiBxhC,UAAAmhC,gBAAA,WACxB5mC,KAAAymC,eACLzmC,KAAAmmC,iBAEMV,OAES,yBAGHuB,YAAU,iBACbrmB,KAAA,oBACD3H,SAAA,yBAEAkuB,kBAAkB,EACpBztB,WAAAgsB,EACLviB,aAAA,MAIJ/hB,SAAA1B,OAAA,wEC9HD,oBACI4D,eAAA7D,EAAA,cAAA8D,OAAA,UAKgB,mBAHJ6jC,GAAsBtjC,GAI1B7D,KAAA6D,SAAAA,EAEG7D,KAAAonC,mBAAA,IACHpnC,KAAKqnC,qBARDlkC,SAA6B,YAW9BgkC,EAAA1hC,UAAA+gC,eAAP,SAAoBc,EAAgBC,GAChCvnC,KAAAqnC,SAAYC,GAASC,GAGlBJ,EAAA1hC,UAAAihC,aAAc,SAArBY,SACWtnC,MAAKqnC,SAASC,IAGlBH,EAAA1hC,UAAA+hC,eAAP,SAAoBF,GAChB,MAAAtnC,MAAUqnC,SAASC,MAGL7hC,UAASgiC,aAAY,SAASd,EAAYE,KACpDlqB,SAAU,YACd3c,KAAG6D,SAAK,WACX8iC,EAAAhqB,SAAA,YAAAA,SAAA,YAAAC,YAAA,YAEMiqB,EAAAlqB,SAAA,YAAAC,YAAP,aACI,QAEcnX,UAASiiC,aAAY,SAASf,EAAYE,GACxD7mC,KAAG6D,SAAK,WACX8iC,EAAAhqB,SAAA,YAAAA,SAAA,YAEMkqB,EAAAlqB,SAAA,YAAPA,SAAA,YAA6BC,YAA+B,aACxD,QAKcnX,UAAW4gC,QAAC,SAAY1lB,EAAYgnB,EAAA1N,EAAY6M,EAAYc,MAEtEf,GAAI5xB,EAAS0yB,EAAK1N,IAAc4N,EAAUf,EAAcH,EAAU1xB,EAAA0yB,EAAAE,GAC1D,sBACAjrB,YAAK,YAAaA,YAAoB,YAAEA,YAAA,aAC5CgrB,GAAC,SAAAA,GAAA,SAAAA,EAMKd,GAAEA,EAAA7M,EACJj6B,KAAK0nC,aAAaf,EAAWE,GAGxC7mC,KAAAynC,aAAAd,EAAAE,GAVe,SAAFe,EACF5nC,KAAK0nC,aAAaf,EAAWE,GAE7B7mC,KAAAynC,aAAAd,EAAAE,KAWfA,EAAAlqB,SAAA,YAAAC,YAAA,YACL+pB,EAAAhqB,SAAC,YAAAA,SAAA,cAGUwqB,IAEdhmC,8ECpEAsD,GAAA,SAAA9D,EAAAlB,EAAAD,sCAKOA,EAAA,cACI8D,OACA,UAEqB,sBAENqW,EAAA+rB,MACXp2B,GAACtP,OAED0c,GAAA,QAAe,WAChBpN,EAAAg4B,YAAAh4B,EAAAs4B,aAEVlC,EAAA8B,eAAAl4B,EAAAg4B,YAAAQ,GAAAx4B,EAAAs4B,YAAA,sBAPqBzkC,SAAe,WAAK,kBAWlC4kC,OAEI,kBAEJxgC,OACAqgC,UAAA,iBACAN,SAAY,gBAEnBpkB,aAAA,QAEMgkB,kBAAA,EACFztB,WAAOsuB,6EC/BZhjC,GAAA,SAAApE,EAAAlB,EAAAD,sCAIIA,EAYC,cAAA8D,OAAA,UAPwB,sBAENqW,EAAA+rB,MACXp2B,GAACtP,OAEDyb,IAAA,SAAe,WACnB9B,EAAG+C,GAAA,QAAA,WACNpN,EAAAg4B,YAAAvyB,SAAAzF,EAAAy2B,WAGCL,EAAkB8B,eAAAl4B,EAAAg4B,YAAAQ,GAAA/B,QAAAz2B,EAAAy2B,sBATM5iC,SAAW,WAAS,yBAczC,kBAEDoE,OACAw+B,QAAY,cACfuB,SAAA,gBAGEpkB,aAAA,QACFgkB,kBAAO,EACPztB,WAAUuuB,mFCjCnB3mB,GAAA,SAAA1gB,EAAuBlB,EAAAD,GACvB,YACA4D,QAAAC,eAAA7D,EAAwB,cAAA8D,OAAA,IACxBnC,oKnENCR,EAAA,uBAEDsnC,gBAAA,EAAAC,uBAAwB,EAAAC,iBAAA,EAAAC,oBAAA,IAAAjhC,GAAA,SAAAxG,EAAAlB,EAAAD,GACxB,YACA4D,QAAAC,eAAmB7D,EAAA,cAAA8D,OAAA,IACnB3C,EAAA,kCACAA,EAAA,8BAEAA,EAAQ,oBACJ,yBACA,eACA,gCACA,mBACAlB,OAAA,eACA,cACA,iBACD,mDoEdF,YACC,yDAI8B,EAAA4oC,iCAAsB,EAAAC,iBAAA,EAAAC,sBAAA,EAAAC,YAAA,GAAAC,6BAAA,GAAAC,UAAA,KAAArhC,GAAA,SAAA1G,EAAAlB,EAAAD,SAEzB,SAAAsK,SACFA,EAAEE,IAAW,gBAAAF,EAAA5D,IAAA,gBAAA,WAExB+D,gBAAsB,MACtB0+B,qBAAc,eACfC,UAAA,YACGC,UAAc,YAChBC,SAAA,WACA7kC,SAAW,WACX8kC,KAAA,WAEA9+B,gBAAY,MACZ0+B,qBAAe,YAChBC,UAAA,SACNC,UAAA,YACJC,SAAA,cAWK7kC,SAAsC,kBAClC8kC,KAAU,cAInB5lC,SAAA,YAED,IAAA6lC,IAAA59B,KAAA,WAOA69B,OAAC,YAADC,MAAA,iBAPAC,OAOC,eAkBUC,GARP,mBACYC,YAIRA,MAGG,mBAEED,GAAmBvvB,EAACF,EAAA7P,GAEzB9J,KAAK6Z,OAAOA,OACRF,SAASA,qBAAuB7P,EAAME,IAAM,gBAAeF,EAAA5D,IAAA,gBAAA,KAmFvE,SA/EsBT,UAASoV,UAAc,WAExC7a,KAAAspC,SAAAtpC,KAAAoL,MAEMpL,KAAA6Z,OAAAtY,IAAA,mBAAU,WACPvB,KAAOspC,UAELtpC,KAACspC,SAAStpC,KAAAupC,MAAAvpC,KAAAwpC,iBAEd7vB,SAAKgD,SAAc,iBAE3BysB,EAAC3jC,UAAAyV,WAAA,SAAAC,GAEO,GAAAsuB,GAAAtuB,EAAA/P,KAAAgQ,YACApb,MAAAmpC,SAGFnpC,KAAKoL,KAAOq+B,EACVzpC,KAAIspC,SAAOtpC,KAAQoL,UAGd3F,UAAAikC,oBAAA,SAAAC,SAEG,GAAWC,qBACX,SAAYC,KACZlpB,MAA2B,SAA3BkpB,EAAgBlpB,OACO,IAAvBmpB,EAAS7oC,QAAcjB,KAAA+pC,kBACnB/pC,KAAgB+pC,cAAK5+B,UAAc,yBAE9Cy+B,EAAAn4B,QAAAo4B,EAAAlpB,MAAA,IACFipB,EAAAr5B,KAAAs5B,EAAAlpB,MAEImpB,GAAaF,EAAA3oC,OAAA,EAAA,KAAA,IACvBjB,KAAA+pC,gBAEOD,GAAA9pC,KAAR+pC,cAAsB5+B,UAAA0+B,EAAAlpB,gBAQJlb,UAAS6jC,SAAW,SAAKhmC,GACvC,GAAC0mC,GAAAC,EAAAhoB,EAAA4gB,EAAAjb,CAAKhlB,GAAE6K,QAAAnK,IACJskB,EAAAhlB,EAAA4V,KAAalV,EAAM,SAAAmN,GACtB,MAAA,SAAAA,EAAAkQ,MAAAlQ,EAAArF,OAGD4+B,EAAYpiB,EAASA,EAAIxc,KAAApL,KAAc0pC,oBAAoBpmC,IAGvD0mC,EAAY1mC,IAEJtD,KAAEkpC,OAAItmC,EAAAsnC,SAAAlqC,KAAAkpC,SACNe,GAAMD,GAAAA,EAAA/oC,OAAA,KAEdkpC,KAAA,EACFC,QAAA,EACFC,QAAU,EACNC,UAAU,EACVC,UAAS,EACZC,YAAA,EAEGC,aAAU,KAEVC,OAAAV,GAAA,GAAAnH,GACAoH,IACAhoB,EAAS,IAAMpE,OAAK7d,KAAKkpC,aAEzBvvB,SAAKgxB,KAAS,QAAOV,EAAAjqC,KAAAipC,OAAA,qEACxBhnB,EAAA,OACJ,oDAAAA,EAAA,OAAAjiB,KAAAipC,OACL,8BAAC,KAAAe,EAAA,UAAAhqC,KAAA2Z,SAAAnB,KAAA,KAAA+P,KAAA,SAAA,UACKvoB,KAAAipC,QAAoBgB,GACtBjqC,KAAY2Z,SAAAod,OAAA,2CAITqS,oBAGQA,EAClBlsB,SAAA8rB,WC/JAvpC,OAAA,eAAA,eAOS8D,IAAAqnC,GACFztB,UAAQ,cAAY0tB,YAQpB,SAAAlqC,EAAAlB,EAAAD,iBAIY,gBAEA,mBAEHsrC,GAAkBjxB,EAAEvY,EAAAqY,EAAyB9V,EAAAknC,EAAAC,GAClD,GAAI17B,GAACtP,UACD6Z,OAAKA,EACT7Z,KAAG6D,SAAAA,EACH7D,KAAK+qC,SAAAA,EAEL/qC,KAAAgrC,iBAASA,OACLC,gBAAgBh2B,EAAA,8BAChBg2B,gBAAevuB,GAAA,uBAA4B,WAE3CpN,EAAI47B,uCAEavuB,SAAC3c,KAAAgC,OAAgBmpC,cAAY,EAAS,iBAAA,MAEnD,WACJ77B,EAAC4F,WAAC/T,QAAM2B,OAAA+W,EAAAvK,EAAAtN,OAAAopC,QACJ97B,EAAKtN,OAAAqpC,YACDC,QAAKP,EAAUz7B,EAAStN,OAAMqpC,UAAQxxB,KACtCrB,KAAS,gBAAKue,OAAgBznB,EAAOg8B,WAErCrZ,QAGT3iB,EAAA07B,iBAAA17B,EAAAtN,OAAAwjC,aAAA,GAAA+F,KAAA,SAAAZ,GAEMr7B,EAAAg8B,QAAAP,EAAAJ,GAAA9wB,GACAF,EAAUnB,KAAG,gBAAAue,OAAAznB,EAAAg8B,SACdh8B,EAAA2iB,WAIRpuB,EAAS,WACLyL,EAAKk8B,cACN,KACNlqC,EAAAC,IAAA,mBAAA,WAEM+N,EAAAm8B,uBAEMhqB,OAAO,WACfnS,EAAAm8B,aAoER,MAhEUX,GAAArlC,UAAAylC,cAAP,WAAAlrC,KAAAgC,OAAA0pC,gBACQ1rC,KAACgC,OAAA0pC,sBAEDC,gBAERb,EAACrlC,UAAAkmC,aAAA,WAEM,GAAAr8B,GAAAtP,IACHA,MAAKirC,gBAAgBruB,YAAG,UAC3B5c,KAAA6D,SAAA,WAEOyL,EAAA27B,gBAAApJ,UACJ,QAESp8B,UAAemmC,eAAE,SAAApqC,KACtB6vB,qBAEQ5rB,UAAOwsB,KAAS,WAC5BjyB,KAACirC,gBAAAtuB,SAAA,UACJ1H,EAAA,yBAAAkf,QAEOn0B,KAAAgC,OAAA8V,SACA9X,KAAK6D,SAAO,WACR7D,KAAA2rC,gBAQD3rC,KAAKgC,OAAE8V,YAGDrS,UAAIyP,SAAc,0BACflK,QAAS,OACRiK,EAAAjV,KAAOgC,OAAOgJ,SAAS8T,EAAO9T,EAAAyhB,SAAAjR,EAAAxQ,EAAAwQ,QAAAyG,EAAAjX,EAAAiX,SAAA4pB,EAAA52B,EAAA4S,UAAArM,QAAAswB,EAAA72B,EAAA4S,UAAA5F,SAAA8pB,EAAA/rC,KAAAirC,gBAAAzyB,KAAA,eAC1CsG,IACJitB,EACJtwB,IAAA,YAAAowB,GAAAA,EAAA/sB,EAAA8C,OAEOnG,IAAA,aAAAqwB,GAARhtB,EAAA1J,IAAA6M,GAAA,GAAA,GACSxG,IAAA,OAAoBqD,EAAC8C,KAAAmqB,EAAgBvwB,QAAKA,EAAe,GACjDC,IAAG,MAAAqD,EAAA1J,IAAA6M,EAAA,QAKPxc,UAAOgmC,SAAe,gBAC3BR,gBAAOzyB,KAAA,gBAAAA,KAAA,gBAAAiD,IAAA,aAAA,QACXzb,KAACkV,WACDlV,KAAMwrC,cAMVV,EAACrlC,UAAA+lC,WAAA,WACL,GAAAxrC,KAAAgC,OAAAwpC,cAAC,EAAD,CAGI,GAAQO,GAAE/rC,KAAAirC,gBAAezyB,KAAA,gBAAAwzB,EAAAD,EAAAvzB,KAAA,cAAAyzB,EAAAF,EAAAvzB,KAAA,eAAA8yB,EAAAS,EAAAvzB,KAAA,gBAAA0zB,EAAAH,EAAA9pB,SAAA+pB,EAAAnpB,aAAA,GAAAopB,EAAAppB,aAAA,EACzByoB,GAAW7vB,IAAE,aAAA9S,KAAsBC,IAAAsjC,EAAA,GAAA,MAAAzwB,IAAA,aAAA,gBAEtCqvB,iBAIaqB,EACjB3G,YAAA,kECtIAroB,UAAA,aAAAivB,qBAUmBzrC,EAAQlB,EAARD,sCAEAA,EAAA,cAA4B8D,OAAA,UAGhC,WAGD,QAAA+oC,GAAAtB,EAAPzpC,EAAqBuC,GACjB7D,KAAI+qC,SAAiBA,EAErB/qC,KAAAsB,WAAkBA,EAClBtB,KAAI6D,SAAYA,OACZyoC,gBAAO,qKAPfD,GAAClpC,SAAA,WAAA,aAAA,cAUWsC,UAAKwV,KAAe,SAAGtW,GAC/B,GAAAqG,GAAUzD,EAAMvF,EAAWspC,CAC3BtgC,GAAMiK,EAAM,QACZjK,EAAYwN,KAAG,eAAcvX,OAAA,IAGhCjB,KAAAqb,OAEM9T,EAAAvH,KAAAsB,WAAAirC,OACHvqC,EAAM2C,GAAA/B,EAAA4pC,SAAoB7nC,GAAAA,KAC1B4C,EAAAvF,OAAeA,EACfuF,EAAK6jC,OAASppC,EAAAopC,SACVprC,KAAA+qC,SAAgB/qC,KAASssC,iBAAA/kC,GAC7ByD,EAAQ+rB,OAAAuU,KAGLe,EAAA5mC,UAAA4V,KAAM,WACT,GAAI4vB,GAAYh2B,EAAA,wBACnBg2B,GAAAruB,YAAA,UACL5c,KAAA6D,SAAA,WAAConC,EAAApJ,UAEM,QAEMp8B,UAAAgc,OAAqB,WACrCzhB,KAAAsB,WAAAwe,WAAA,kCCpDOrgB,OAAO,yBAEfkX,QAAA,oBAAmB01B,4BCFnB,oBAQIhpC,eAAM7D,EAAoC,cAAA8D,OAAA,YACtC7D,OAAA,cAAiB,yBACjB,eACH,kCAQG,GAAAgtC,mBACI,KAAiBliC,IACT,SAAgB5J,EAAAlB,EAAAD,MACxBktC,IAEGC,aAAA,YACE,KAETC,EAAC,WAEM,QAAAA,GAAA/yB,EAAAF,GACH3Z,KAAI2Z,SAAYA,EAYxB,SAVSlU,UAAAoV,UAAA,WACJ7a,KAAA6sC,OAAA7sC,KAAA2Z,SAAAnB,KAAA,OACLxY,KAAA8sC,qBAEMF,EAAwCnnC,UAAAqnC,kBAAA,WAClC9sC,KAAE+sC,SACV/sC,KAAa6sC,OAAAtkB,KAAA,MAAAvoB,KAAA+sC,UAIVH,QAGV1vB,SAAAwvB,oEC7CDjtC,OAAA,sBAAA,eAAA0d,UAAA,qBAAA6vB,QASCriC,IAAA,SAAAhK,EAAAlB,EAAAD,GATY,6FCGZ,MAAAytC,QASOA,MAAAA,oBAEWtsC,EAAAlB,EAAYD,sCAIfA,EAAc,cAAA8D,OAAwB,UAE3B,mBAEX4pC,GAAcC,EAAeC,EAAAtjC,QAC7BqjC,SAAKA,EACTntC,KAACotC,MAAAA,EAACptC,KAAKqtC,uBAACvjC,EAAAE,IAAA,yBACJF,EAAK5D,IAAA,yBAAmC,KAC5ClG,KAAC6H,QAAAulC,EAAAvlC,QAED7H,KAAKstC,QAAAF,EAAcE,QACtB,IAAAF,EAAAE,QAAArsC,OAEMjB,KAAAutC,aAAA,EAGCvtC,KAAKutC,aAA4B,IAA5BH,EAAAE,QAA4BrsC,OAAAmsC,EAAAE,QAAA,GAAA9kC,WAAAvH,OAAA,sBAEjB,MAAAjB,KAAAqtC,gCAKnB5nC,UAAA+nC,UAAA,WACJxtC,KAAAmtC,SAAA9xB,OAEMrb,KAAAqtC,wBACCrtC,KAACqtC,uBAAcpyB,MACfzW,MAAQxE,KAAMotC,MAAA5oC,MACVipC,GAAI,MACRtsC,QAASwoB,KAAKxoB,QAAOwoB,OAGjCujB,EAAAznC,UAACioC,SAAA,SAAA1K,GAAAhjC,KAAAmtC,SAAA9xB,MAED2nB,OAAAA,EAOI76B,GAAAnI,KAAAotC,MACIjlC,GADJN,QAAA7H,KAOC6H,WAZOqlC,OAGM,mBAOVS,GAAersC,EAAA6rC,GACf,GAAA79B,GAAWtP,IACdA,MAAAmtC,SAAAA,EAEMntC,KAAA4tC,aAAA,IACH5tC,KAAI6tC,2BAAa,IAEjB7tC,KAAI8tC,eACAC,YACKxsC,IAAM,sBAAc,WAAA+N,EAAA0+B,2BACpBzsC,IAAA,mBAAiB,WAAA+N,EAAA2+B,kBAC1B3sC,EAACC,IAAA,qBAAA,WAAA+N,EAAA2+B,2BAZD9qC,SAAe,aAAA,YAgBZwqC,EAAAloC,UAAAyoC,cAAP,WAAA,GAAAd,EACQptC,MAAC8tC,OAAA7sC,OAAoB,IAErBmsC,EAACptC,KAAS8tC,OAAK,GACX9tC,KAAA8tC,OAAWj1B,OAAE,EAAA,GACb7Y,KAAAmuC,UAAWf,OAGX3nC,UAAc0oC,UAAI,SAAAf,MAClB99B,GAAQtP,uBACQotC,gBACNnyB,kBACT,mBACHmzB,UAAAhB,EAAAiB,UAAAruC,KAAA4tC,sBAEE,cACIn0B,WAAKyzB,EAEThqB,aAAC,KACGkoB,QAENgC,MAAAptC,KAAAsuC,aACTP,OAAA/tC,KAAA+tC,UAIOxC,KAAK,SAAAvI,GACR1zB,EAAAi/B,kBAAAvL,IACD,SAAKA,GACD1zB,EAACk/B,sBAAgBxL,QAIZv9B,UAAA+oC,sBAA+B,SAAAxL,GACpChjC,KAAKsuC,aAAa5C,gBACrB1rC,KAAAsuC,aAAA5C,eAAA1I,GAEDhjC,KAAKsuC,aAAe,KACvBtuC,KAAAkuC,mBAGYzoC,UAAA8oC,kBAA0B,SAAcvL,GAC7ChjC,KAAKsuC,aAAYG,iBACpBzuC,KAAAsuC,aAAAG,gBAAAzL,QACGsL,aAAe,KACnBtuC,KAACkuC,iBAGEP,EAAAloC,UAAAipC,SAAA,SAAPtB,GACUptC,KAAAsuC,cAAmB,UAAAlB,EAAAzsB,KACvB3gB,KAAK8tC,OAAKv9B,KAAQ68B,GAGhBptC,KAACmuC,UAAAf,IAGTO,EAACloC,UAAAkpC,aAAA,SAAAhuB,GAEM,GAAA1P,KACHrO,GAAE4N,KAAAxQ,KAAO8tC,OAAW,SAAEV,GACdA,EAAEzsB,MAAAysB,EAAAzsB,OAAAA,GACP1P,EAAAV,KAAA68B,KAIHptC,KAAA8tC,OAAclrC,EAAAC,UAAWoO,MAEtBxL,UAAAmpC,iBAAA,SAAAzmC,GACNvF,EAAAi/B,OAAA7hC,KAAA8tC,QAEM3lC,GAAAA,KAIPwlC,EAACloC,UAAAopC,aAAA,SAAA1mC,GAEM,MAAAvF,GAAA4V,KAAAxY,KAAA8tC,QACC3lC,GAACA,OAGD1C,UAASuoC,qBAAO,eAChBvoC,UAASwoC,cAAiB,gBAC1Ba,YAAA,SAEArpC,UAAespC,iBAAA,SAA0BlnC,EAAAylC,EAAAmB,EAAA/C,EAAAvjC,QAC1CumC,UACNvmC,GAAAA,GAAA,KAEMwY,KAAA,eACC9Y,QAASA,EACTylC,QAAMA,IAAQ,MACdmB,gBAAeA,EACf/C,eAAgBA,EAChB2C,SAAUruC,KAAK6tC,gCAGhBpoC,UAAAupC,YAAA,SAAAnnC,EAAA4mC,EAAA/C,EAAAvjC,GACNnI,KAAA0uC,UAEMvmC,GAAAA,GAAA,KACCwY,KAAC,UACD9Y,QAAMA,EACNylC,SAAO,MACPmB,gBAAaA,EACb/C,eAAgBA,OAGhBjmC,UAAcwpC,UAAE,SAAcpnC,EAAA4mC,EAAA/C,EAAAvjC,EAAA3D,QAC/BkqC,UACNvmC,GAAAA,GAAA,KAEM3D,MAAAA,EACCmc,KAAC,QACD9Y,QAAOA,GAAM,iBACpBylC,SAAA,MAEMmB,gBAAAA,EACC/C,eAAOA,OAGHjmC,UAAAypC,cAAA,gBACJ/B,SAAKl0B,cACL60B,WAERH,EAACloC,UAAAqpC,YAAA,SAAAnuB,GAELA,EAAC3gB,KAAA2uC,aAAAhuB,IAIW3gB,KAACmtC,SAAal0B,SAC7BjZ,KAAA8tC,gBCnND3sC,SAEA1B,OAAA,aACAkX,QAAA,YAAiBg3B,QCHjBjiC,IAAA,SAAA/K,EAAAlB,EAAAD,GACA,YACA4D,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,IACAnC,QAAA1B,OAAA,aAAA,aAAA,0BACAkB,EAAA,kBACAA,EAAA,aAEAwuC,UAAA,GAAAC,iBAAA,KAAA1/B,IAAA,SAAA/O,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,yBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,4BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,gCACA,ugBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,yBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,4BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,uBACA,wFAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,yBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,4BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,gCACA,0ZAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,yBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA;;;C7EhDA,SAAAF,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAovC,MAAA9vC,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,W2BGY2L,GAAArB,SACeA,EAACE,IAAA,gBAEdF,EAAC5D,IAAY,gBAAA,WACf,UAAOgF,GACV,MAAAnB,GAAAA,EAAAoB,UAAAD,IAAAA,EAAAA,GANLC,EAAAhI,SAAmB,qBAWd1D,OAAO,wBAEf4Z,OAAA,YAAAlO,uC1BfA/H,QAAOC,eAAQ7D,EAAc,cAAgB8D,OAAA,IAE9CnC,QAAA1B,OAAA,YAAA,eACAkB,EAAA,4D6EHC0nC,iCAAA,EAAAiH,qBAAA,IAAA9rC,GAAA,SAAA7C,EAAAlB,EAAAD,MAcO+vC,GAAA,mBAMIA,GAAsB11B,EAASF,GAC/BA,EAAS8B,IAAA,UAAS,SACrB9B,EAAAgD,SAAA,gBAfL,SAkBqBlX,UAAW+pC,UAAY,SAAQlsC,UAACV,EAAAkB,OAAOR,KAAMV,EAAAwN,YAAA9M,OAC9CA,IAEZA,EAAOA,EAAKkF,WAAWyJ,cAC1B,KAAA3O,GAAA,QAAAA,OAGYmC,UAAUyV,WAAe,SAAAC,GAC9Bnb,KAAKmpC,QAAOhuB,EAAQ9D,OACvBrX,KAAAqX,KAAA8D,EAAA9D,KAAA+D,eAIRm0B,KAYGE,GACAp4B,KAAM,WACNsJ,KAAA,WACA+uB,UAAQ,gBACXC,OAAA,cAYGC,GAVJ,WAOA,QAACC,MAPD,MAOCA,OAIG3yB,SAAAuyB,EACAjK,YAAY,wBACf/rB,WAAA81B,YAII9vC,OAAA,cAAsB,sBAE9B0d,UAAA,aAAAyyB,QC3EDr1B,GAAA,SAAA5Z,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,sBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,yBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,wBACA;;;C/ETA,SAAA9d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAA6vC,MAAAvwC,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IgFCA,WAUI,GAAMuwC,IACFC,SAAU,eACVvzB,SAAU,cACVwzB,MAAO,WACPC,SAAU,KAadC,GAVA,WAAA,QAAAC,MAOA,MAAAA,MAGA,WAsBI,QAAAD,GACIrmC,EACA+P,GAtBI7Z,KAAAqN,WAAwCC,OAAOC,aAuBnDvN,KAAKqwC,aAAelvC,QAAQsM,QAAQzN,KAAKqN,WAAoB,SAAKrN,KAAKqN,WAAoB,QAAIrN,KAAKqN,WAAoB,QAAEM,OAC1H3N,KAAKswC,WAAanvC,QAAQsM,QAAQzN,KAAKqN,WAAsB,WAAKrN,KAAKqN,WAAsB,UAAIrN,KAAKqN,WAAsB,UAAEM,OAC9H3N,KAAKuwC,gBAAkBvwC,KAAKqN,WAAyB,aACrDrN,KAAKwwC,qBAAuBxwC,KAAKqN,WAAkB,MAAEe,GAErD,IAAI9K,GAAQtD,KAAKiwC,MAAQrtC,EAAE6tC,OAAOzwC,KAAKiwC,OAASjwC,KAAKiwC,MAAQ,GAAI3nC,MAAKtI,KAAKiwC,OAAS,IACpFjwC,MAAK0wC,IAAMptC,EAAQA,EAAMqtC,UAAY,KACrC3wC,KAAK4wC,MAAQttC,EAAQA,EAAMutC,WAAa,EAAI,KAC5C7wC,KAAK8wC,KAAOxtC,EAAQA,EAAMytC,cAAgB,KAE1C/wC,KAAK8N,KAAO9N,KAAKgxC,QAAQhxC,KAAK4wC,MAAO5wC,KAAK8wC,MAC1C9wC,KAAKwN,OAASxN,KAAKixC,YACnBjxC,KAAKkxC,MAAQlxC,KAAKmxC,WAElBnxC,KAAKoxC,kBAAkBpxC,KAAKyc,UAAWzc,KAAKyc,WAiHpD,MA7GW0zB,GAAA1qC,UAAAyV,WAAP,SAAkBC,GACVA,EAAQ80B,OAAS90B,EAAQ80B,MAAM70B,eAC/Bpb,KAAKiwC,MAAQ90B,EAAQ80B,MAAM70B,aAC3Bpb,KAAKqxC,SAASrxC,KAAKiwC,SAInBE,EAAA1qC,UAAAurC,QAAR,SAAgBJ,EAAeE,GAC3B,GAAIQ,GAAgB,GAAIxjC,IAEV,KAAV8iC,GAAyB,IAAVA,GAAyB,IAAVA,GAAyB,KAAVA,EAC7CU,EAAQ,GAEM,IAAVV,IAGIU,EAFAR,GAEQA,EAAO,IAAM,EAAI,GAEjB,GAIpB,KAAK,GAAIlwC,GAAY,EAAGA,GAAK0wC,EAAO1wC,IAChCkN,EAAKyC,KAAK3P,EAGd,OAAOkN,IAGHqiC,EAAA1qC,UAAAwrC,UAAR,WAGI,IAAK,GAFDzjC,MAEK5M,EAAY,EAAGA,GAAK,GAAIA,IAC7B4M,EAAO+C,MACHpI,GAAIvH,EACJkB,KAAM9B,KAAKqwC,aAAazvC,EAAI,IAIpC,OAAO4M,IAGH2iC,EAAA1qC,UAAA0rC,SAAR,WACI,GAAII,IAAsB,GAAIjpC,OAAOyoC,cACjCS,EAAsC,WAAlBxxC,KAAKgwC,SAAwBuB,EAAcA,EAAc,IAC7EE,EAAoC,SAAlBzxC,KAAKgwC,SAAsBuB,EAAcA,EAAc,IACzEL,IAEJ,IAAsB,SAAlBlxC,KAAKgwC,SACL,IAAK,GAAIpvC,GAAY6wC,EAAS7wC,GAAK4wC,EAAW5wC,IAC1CswC,EAAM3gC,KAAK3P,OAGf,KAAK,GAAIA,GAAY4wC,EAAW5wC,GAAK6wC,EAAS7wC,IAC1CswC,EAAM3gC,KAAK3P,EAInB,OAAOswC,IAGHf,EAAA1qC,UAAAisC,UAAR,WACI,GAAI5jC,GAAO9N,KAAKgxC,QAAQhxC,KAAK4wC,MAAO5wC,KAAK8wC,KAErC9wC,MAAK8N,KAAK7M,SAAW6M,EAAK7M,SACtBjB,KAAK0wC,IAAM5iC,EAAK7M,SAChBjB,KAAK0wC,IAAM5iC,EAAK7M,QAGpBjB,KAAK8N,KAAOA,IAIZqiC,EAAA1qC,UAAA4rC,SAAR,SAAiB/b,GACb,GAAIhyB,GAAcgyB,EAAI1yB,EAAE6tC,OAAOnb,GAAKA,EAAI,GAAIhtB,MAAKgtB,GAAK,KAClDob,EAAcptC,EAAQA,EAAMqtC,UAAY,KACxCC,EAAgBttC,EAAQA,EAAMutC,WAAa,EAAI,KAC/CC,EAAextC,EAAQA,EAAMytC,cAAgB,IAG7C/wC,MAAK4wC,QAAUA,GAAS5wC,KAAK8wC,OAASA,IACtC9wC,KAAK8N,KAAO9N,KAAKgxC,QAAQhxC,KAAK4wC,MAAO5wC,KAAK8wC,OAI9C9wC,KAAK0wC,IAAMA,EACX1wC,KAAK4wC,MAAQA,EACb5wC,KAAK8wC,KAAOA,GAGTX,EAAA1qC,UAAAksC,SAAP,WACI,GAAIruC,EAEAtD,MAAK0wC,KAAO1wC,KAAK4wC,OAAS5wC,KAAK8wC,OAC/BxtC,EAAQ,GAAIgF,MAAKtI,KAAK8wC,KAAM9wC,KAAK4wC,MAAQ,EAAG5wC,KAAK0wC,IAAK,EAAG,EAAG,EAAG,GAC/D1wC,KAAKiwC,MAAQ3sC,EACbtD,KAAKkwC,SAASlwC,KAAKiwC,SAIpBE,EAAA1qC,UAAAmsC,eAAP,WACI5xC,KAAK0xC,YACL1xC,KAAK2xC,YAGFxB,EAAA1qC,UAAAosC,cAAP,WACI7xC,KAAK0xC,YACL1xC,KAAK2xC,YAEbxB,MAEM2B,GACF50B,SAAU6yB,EACVvK,YAAa,iBACb/rB,WAAY02B,EAGhBhvC,SACK1B,OAAO,WAAY,uBACnB0d,UAAU,UAAW20B,kaC9L9B,IAAAC,GAAApxC,EAAA,0BAEA,WACI,GAAAqxC,GAAA,WAAA,QAAAA,KACchyC,KAAAiyC,cAA0BF,EAAAG,cAAcC,IACxCnyC,KAAAoyC,eAAyB,KA+MvC,MA5MIhvC,QAAAC,eAAW2uC,EAAAvsC,UAAA,6BAAX,WACI,MAAOzF,MAAKqyC,4BAGhB,SAAiC/uC,GAC7BtD,KAAKqyC,uBAAyB/uC,mCAG1B0uC,EAAAvsC,UAAA6sC,kBAAR,SAA0BC,GACtB,MAAOpxC,SAAQiP,YAAYmiC,IAAkB,OAATA,GAGhCP,EAAAvsC,UAAA+sC,SAAR,SAAiBD,GACb,GAAIvyC,KAAKsyC,kBAAkBC,GACvB,MAAOR,GAAAG,cAAcO,GAGzB,IAAIl2B,GAAQvc,KAAKiyC,cAAcxgC,QAAQ8gC,EAEvC,OAAIh2B,GAAQ,EACDw1B,EAAAG,cAAcO,IAGlBzyC,KAAKiyC,cAAc11B,IAGtBy1B,EAAAvsC,UAAAitC,kBAAR,SAA0BH,GACtB,GAAIvyC,KAAKsyC,kBAAkBC,GACvB,MAAOR,GAAAG,cAAcO,GAGzB,IAAIE,GAAgBJ,GAAQR,EAAAG,cAAcU,eAAiBb,EAAAG,cAAcW,KAAON,EAC5Eh2B,EAAQvc,KAAKiyC,cAAcxgC,QAAQkhC,EAEvC,OAAIp2B,GAAQ,EACDw1B,EAAAG,cAAcO,IAGlBzyC,KAAKiyC,cAAc11B,IAItBy1B,EAAAvsC,UAAAqtC,aAAR,SAAqBP,EAAWI,GAC5B,GAAII,EAEJ,IAAI/yC,KAAKsyC,kBAAkBC,GACvB,KAAM,IAAI1xC,OAAM,2CASpB,IALIkyC,EAD+Bh+B,QAA/B/U,KAAKqyC,wBAAsE,MAA/BryC,KAAKqyC,uBACrC/kC,OAAOilC,GAAMS,UAAUhzC,KAAKqyC,wBAE5B/kC,OAAOilC,IAGlBQ,EAAUE,UACX,KAAM,IAAIpyC,OAAM,sCAGpB,OAAOkyC,GAAUG,QAAQP,GAAOQ,UAG5BnB,EAAAvsC,UAAA2tC,WAAR,SAAmBb,EAAWI,EAAelmB,GACzC,GAAIsmB,GACA9hC,EACAoiC,CAEJ,OAAIrzC,MAAKsyC,kBAAkBC,GAChB,IAGNpxC,QAAQ+oC,SAASzd,KAClB4mB,EAAY,GAIZN,EAD+Bh+B,QAA/B/U,KAAKqyC,wBAAsE,MAA/BryC,KAAKqyC,uBACrC/kC,OAAOilC,GAAMS,UAAUhzC,KAAKqyC,wBAE5B/kC,OAAOilC,GAGlBQ,EAAUE,WAKXhiC,EADAoiC,EACSN,EAAUG,QAAQP,GAAOhR,IAAI0R,EAAW,gBAExCN,EAAUG,QAAQP,GAGxBI,EAAUG,QAAQP,GAAOQ,UATrB,KAYRnB,EAAAvsC,UAAA6tC,OAAP,SAAcf,GACV,MAAO3sC,MAAKC,UAAUyH,OAAOilC,KAM1BP,EAAAvsC,UAAA8tC,YAAP,SAAmBhB,EAAW5xB,GAC1B,GAAIoyB,GACAJ,EACA1hC,CAEJ,OAAIjR,MAAKsyC,kBAAkBC,GAChB,IAGXQ,EAAYzlC,OAAOilC,GACdQ,EAAUE,WAIfN,EAAQ3yC,KAAKwyC,SAAS7xB,GACtB1P,EAAS3D,OAAOylC,GAAWG,QAAQP,GAAOhR,IAAI3hC,KAAK0yC,kBAAkBC,IAE9D1hC,EAAOkiC,UANH,KASRnB,EAAAvsC,UAAA+tC,YAAP,SAAmBjB,EAAW5xB,GAC1B,GAAIoyB,GACAJ,EACA1hC,CAEJ,IAAIjR,KAAKsyC,kBAAkBC,GACvB,KAAM,IAAI1xC,OAAM,yCAIpB,IADAkyC,EAAYzlC,OAAOilC,IACdQ,EAAUE,UACX,KAAM,IAAIpyC,OAAM,qCAMpB,OAHA8xC,GAAQ3yC,KAAKwyC,SAAS7xB,GACtB1P,EAAS3D,OAAOylC,GAAWG,QAAQP,GAAOhR,KAAI,EAAI3hC,KAAK0yC,kBAAkBC,IAElE1hC,EAAOkiC,UAGXnB,EAAAvsC,UAAAguC,eAAP,SAAsB9yB,GAClB,GAAIoyB,GACAJ,EACA1hC,CAGJ,IADA8hC,EAAYzlC,UACPylC,EAAUE,UACX,KAAM,IAAIpyC,OAAM,wCAMpB,OAHA8xC,GAAQ3yC,KAAKwyC,SAAS7xB,GACtB1P,EAAS3D,OAAOylC,GAAWG,QAAQP,GAE5B1hC,EAAOkiC,UAGXnB,EAAAvsC,UAAAiuC,SAAP,SAAgBnB,EAAWoB,GACvB,GAAIZ,EAEJ,IAAI/yC,KAAKsyC,kBAAkBC,KAAUpxC,QAAQ+oC,SAASyJ,GAClD,KAAM,IAAI9yC,OAAM,gEAIpB,IADAkyC,EAAYzlC,OAAOilC,IACdQ,EAAUE,UACX,KAAM,IAAIpyC,OAAM,kCAGpB,OAAOkyC,GAAUpR,IAAIgS,EAAO,SAASR,UAGlCnB,EAAAvsC,UAAAmuC,WAAP,SAAkBrB,GACd,MAAOvyC,MAAK8yC,aAAaP,EAAMR,EAAAG,cAAcO,MAG1CT,EAAAvsC,UAAAouC,SAAP,SAAgBtB,EAAW9lB,GACvB,MAAOzsB,MAAKozC,WAAWb,EAAMR,EAAAG,cAAcO,IAAKhmB,IAG7CulB,EAAAvsC,UAAAquC,YAAP,SAAmBvB,GACf,MAAOvyC,MAAK8yC,aAAaP,EAAMR,EAAAG,cAAcW,OAG1Cb,EAAAvsC,UAAAsuC,UAAP,SAAiBxB,EAAW9lB,GACxB,MAAOzsB,MAAKozC,WAAWb,EAAMR,EAAAG,cAAcW,KAAMpmB,IAG9CulB,EAAAvsC,UAAAuuC,aAAP,SAAoBzB,GAChB,MAAOvyC,MAAK8yC,aAAaP,EAAMR,EAAAG,cAAc+B,QAG1CjC,EAAAvsC,UAAAyuC,WAAP,SAAkB3B,EAAW9lB,GACzB,MAAOzsB,MAAKozC,WAAWb,EAAMR,EAAAG,cAAc+B,MAAOxnB,IAG/CulB,EAAAvsC,UAAA0uC,YAAP,SAAmB5B,GACf,MAAOvyC,MAAK8yC,aAAaP,EAAMR,EAAAG,cAAckC,OAG1CpC,EAAAvsC,UAAA4uC,UAAP,SAAiB9B,EAAW9lB,GACxB,MAAOzsB,MAAKozC,WAAWb,EAAMR,EAAAG,cAAckC,KAAM3nB,IAGzDulB,KAEAsC,EAAA,WAGI,QAAAA,GACIC,GAEAv0C,KAAKw0C,SAAWD,EAkExB,MA/DInxC,QAAAC,eAAWixC,EAAA7uC,UAAA,6BAAX,WACI,MAAOzF,MAAKw0C,SAASC,2BAGzB,SAAiCnxC,GAC7BtD,KAAKw0C,SAASC,sBAAwBnxC,mCAGnCgxC,EAAA7uC,UAAAivC,OAAP,SAAcnC,GACV,MAAOvyC,MAAKw0C,SAASlB,OAAOf,IAMzB+B,EAAA7uC,UAAA8tC,YAAP,SAAmBhB,EAAW5xB,GAC1B,MAAO3gB,MAAKw0C,SAASjB,YAAYhB,EAAM5xB,IAGpC2zB,EAAA7uC,UAAA+tC,YAAP,SAAmBjB,EAAW5xB,GAC1B,MAAO3gB,MAAKw0C,SAAShB,YAAYjB,EAAM5xB,IAGpC2zB,EAAA7uC,UAAAguC,eAAP,SAAsB9yB,GAClB,MAAO3gB,MAAKw0C,SAASf,eAAe9yB,IAGjC2zB,EAAA7uC,UAAAiuC,SAAP,SAAgBnB,EAAWoB,GACvB,MAAO3zC,MAAKw0C,SAASd,SAASnB,EAAMoB,IAGjCW,EAAA7uC,UAAAmuC,WAAP,SAAkBrB,GACd,MAAOvyC,MAAKw0C,SAASZ,WAAWrB,IAG7B+B,EAAA7uC,UAAAouC,SAAP,SAAgBtB,EAAW9lB,GACvB,MAAOzsB,MAAKw0C,SAASX,SAAStB,EAAM9lB,IAGjC6nB,EAAA7uC,UAAAquC,YAAP,SAAmBvB,GACf,MAAOvyC,MAAKw0C,SAASV,YAAYvB,IAG9B+B,EAAA7uC,UAAAsuC,UAAP,SAAiBxB,EAAW9lB,GACxB,MAAOzsB,MAAKw0C,SAAST,UAAUxB,EAAM9lB,IAGlC6nB,EAAA7uC,UAAAuuC,aAAP,SAAoBzB,GAChB,MAAOvyC,MAAKw0C,SAASR,aAAazB,IAG/B+B,EAAA7uC,UAAAyuC,WAAP,SAAkB3B,EAAW9lB,GACzB,MAAOzsB,MAAKw0C,SAASN,WAAW3B,EAAM9lB,IAGnC6nB,EAAA7uC,UAAA0uC,YAAP,SAAmB5B,GACf,MAAOvyC,MAAKw0C,SAASL,YAAY5B,IAG9B+B,EAAA7uC,UAAA4uC,UAAP,SAAiB9B,EAAW9lB,GACxB,MAAOzsB,MAAKw0C,SAASH,UAAU9B,EAAM9lB,IAG7C6nB,KAEAK,EAAA,SAAAtlC,GAAA,QAAAslC,oDAYA,MAZkC9oC,GAAA8oC,EAAAtlC,GAIvBslC,EAAAlvC,UAAAW,KAAP,WACI,UAKA,OAHqB,OAAjBpG,KAAKiG,WACLjG,KAAKiG,SAAW,GAAIquC,GAAmBt0C,OAEpCA,KAAKiG,UAEpB0uC,GAZkC3C,EAclC7wC,SACK1B,OAAO,sBACP4G,SAAS,iBAAkBsuC,4EC1PhCC,GAAkBC,aAElB,OAAC,UAAAvxC,EAAAqK,GACJ,MAAAknC,GAAAC,WAAAxxC,EAAAqK,YAKGonC,GAAkBF,aAElB,OAAC,UAAAvxC,EAAAqK,GACJ,MAAAknC,GAAAG,mBAAA1xC,EAAAqK,YAKGsnC,GAAkBJ,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAK,eAAA5xC,YAKG6xC,GAAkBN,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAO,gBAAA9xC,YAKG+xC,GAAkBR,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAS,iBAAAhyC,YAKGiyC,GAAkBV,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAW,YAAAlyC,YAKGmyC,GAAkBZ,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAa,gBAAApyC,YAKGqyC,GAAkBd,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAe,WAAAtyC,YAKGuyC,GAAkBhB,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAiB,WAAAxyC,YAKGyyC,GAAoBlB,aAEpB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAmB,gBAAA1yC,YAKG2yC,GAAoBpB,aAEpB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAqB,oBAAA5yC,YAKG6yC,GAAkBtB,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAuB,qBAAA9yC,YAKG+yC,GAAkBxB,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAyB,mBAAAhzC,YAKGizC,GAAkB1B,aAElB,OAAC,UAAAvxC,EAAAkzC,GACJ,MAAA3B,GAAA4B,wBAAAnzC,EAAAkzC,YAKGE,GAAkB7B,aAElB,OAAC,UAAAvxC,EAAAkzC,GACJ,MAAA3B,GAAA8B,yBAAArzC,EAAAkzC,YAKGI,GAAkB/B,aAElB,OAAC,UAAAvxC,EAAAkzC,GACJ,MAAA3B,GAAAgC,uBAAAvzC,EAAAkzC,YAKGM,GAAkBjC,aAElB,OAAC,UAAAvxC,EAAAkzC,GACJ,MAAA3B,GAAAkC,qBAAAzzC,EAAAkzC,YAKGQ,GAAkBnC,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAoC,mBAAA3zC,YAKG4zC,GAAqBrC,aAErB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAsC,gBAAA7zC,YAKG8zC,GAAqBvC,aAErB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAwC,eAAA/zC,YAKGg0C,GAAkBzC,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAA0C,qBAAAj0C,YAKGk0C,GAAkB3C,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAA4C,oBAAAn0C,YAKGo0C,GAAkB7C,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAA8C,mBAAAr0C,YAKGs0C,GAAkB/C,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAgD,oBAAAv0C,YAKGw0C,GAAkBjD,aAElB,OAAC,UAAAkD,EAAAC,GACJ,MAAAnD,GAAAoD,gBAAAF,EAAAC,YAKGE,GAAkBrD,aAElB,OAAC,UAAAkD,EAAAC,GACJ,MAAAnD,GAAAsD,oBAAAJ,EAAAC,YAKGI,GAAkBvD,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAwD,cAAA/0C,YAKGg1C,GAAkBzD,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAA0D,mBAAAj1C,YAKGk1C,GAAkB3D,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAA4D,qBAAAn1C,YAKGo1C,GAAkB7D,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAA8D,YAAAr1C,YAKGs1C,GAAoB/D,aAEpB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAgE,gBAAAv1C,YAKGw1C,GAAkBjE,aAElB,OAAC,UAAAvxC,GACJ,MAAAuxC,GAAAkE,4BAAAz1C,YAII01C,GAAsCnE,oBAEhC,UAACvxC,GACP,MAAOuxC,GAAiBoE,6BAAwB31C,YAGhD41C,GAAuCrE,oBAEjC,UAACvxC,GACP,MAAOuxC,GAAcsE,6BAAiB71C,YAGtC81C,GAA+BvE,oBAEzB,UAACvxC,GACP,MAAOuxC,GAAAwE,8BAA4B/1C,YAGnCg2C,GAA0BzE,oBAEpB,UAACvxC,GACP,MAAOuxC,GAAA0E,4BAAuBj2C,YAG9Bk2C,GAA0B3E,oBAEpB,UAACvxC,EAAe6V,GACtB,MAAO07B,GAAA4E,sBAAsBn2C,EAAwB6V,YAGrDugC,GAAOC,oBAED,UAACr2C,GACP,MAAOq2C,GAAArG,OAAAhwC,gCAnVZyxC,EAAA5xC,SAA0B,mBACXA,SAAA,mBAEHA,SAAY,mBACTA,SAAc,mBACxBA,SAAA,iBACLsyC,EAACtyC,SAAA,iBAEDwyC,EAAAxyC,SAAA,mBACeA,SAAA,mBAEHA,SAAY,mBACTA,SAAc,mBACxBA,SAAA,iBACLkzC,EAAClzC,SAAA,iBAEDozC,EAA8BpzC,SAAA,mBACfA,SAAA,mBAEOA,SAAA,mBACPA,SAAc,mBACxBA,SAAA,iBACL+zC,EAAC/zC,SAAA,iBAEDi0C,EAAAj0C,SAA+B,mBAChBA,SAAA,mBAEOA,SAAA,mBACPA,SAAc,mBACxBA,SAAA,iBACL20C,EAAC30C,SAAA,iBAED+0C,EAAA/0C,SAAgC,mBACjBA,SAAA,mBAEHA,SAAU,mBACPA,SAAc,mBACxBA,SAAA,iBACLy1C,EAACz1C,SAAA,iBAED21C,EAA2B31C,SAAiC,mBAC7CA,SAAA,mBAEOA,SAAA,mBACOA,SAAkB,mBAC1CA,SAAA,iBACLq2C,EAACr2C,SAAA,iBAEDu2C,EAAAv2C,SAAA,yBACIE,eAAW7D,EAAA,cAAA8D,OAAA,kZCpDf+V,OAAA,qBAAAg9B,GAGCh9B,OAAA,0BAAAk9B,GACGl9B,OAAA,2BAAAq9B,UAAA,yBAAAE,UACc,qBAA0BI,UAC1B,kBAAcE,UAyX3B,iBAAAE,UArXG,uBAAWE,gCAAXE,+BACgBE,UAChB,sBAACE,4BAEgCE,gCACxBI,UACT,gBAACE,0EAJA,cAAAM,UAMO,kBAAAE,UACJ,8BAA2BE,UAC9B,+BAAAE,UAEO,+BAAcE,UAClB,gCAAwBE,UACxB,8BAAsBE,UAEtB,wBAASE,oBAEL74C,EAAKlB,EAAAD,sBAELQ,MAAAA,KAAA6L,WAAA,iBACOzI,OAAO2I,wCAEEE,QAAA,SAAAC,EAAAC,GAAAD,EAAAF,UAAAG,aAACD,EAAAC,GAAU,IAAA,GAAAxH,KAAAwH,GAAAA,EAAAvH,eAAAD,KAAAuH,EAAAvH,GAAAwH,EAAAxH,qBAEtBuH,EAAGC,GAGhB,QAACC,KAAApM,KAAAqM,YAAAH,IADUA,EAAKC,GAGRD,EAAAzG,UAAA,OAAA0G,EAAA/I,OAAAsG,OAARyC,IAAAC,EAAwB3G,UAAY0G,EAAA1G,UAAmB,GAAA2G,8BAG/C5M,EAAqB,cAAA8D,OAAA,UAEhB3C,EAAA,2CAEA,mBACLi5C,KACJ55C,KAAIiyC,cAAAF,EAAAG,cAAAC,SACAC,eAAc,kCAEawH,EAAAn0C,UAAA,yBAE/BS,IAAA,WACA,MAAAlG,MAAeqyC,4BAGX,SAAA/uC,GAEJtD,KAAOqyC,uBAA0B/uC,GAG7BwC,YAAA,EACJC,cAAwB,MAEpBN,UAAA6sC,kBAA6B,SAAchvC,GAE/C,MAAInC,SAAKiP,YAAkB9M,IAAO,OAAAA,KAE9BmC,UAAKo0C,eAAsB,SAAav2C,EAAIw2C,MAC5CvH,GACAwH,QACA/5C,MAAIsyC,kBAAiBhvC,GAEf,IAEVivC,EAF+Bx9B,QAAV/U,KAAAqyC,wBAAU,MAAAryC,KAAAqyC,uBAEpB/kC,OAAOhK,GAAC0vC,UAAAhzC,KAAqBqyC,wBAGpC/kC,OAAAhK,GACAivC,EAAoBU,WAExB8G,EAAYD,EAAUA,EAAa95C,KAAAoyC,eAC/BG,EAAA5kC,OAAAosC,IAFM,OAIyBt0C,UAAUu0C,gBAAA,SAAA12C,EAAAw2C,GAE7C,GAAIvH,GACA0H,EACAC,QACAl6C,MAAIsyC,kBAAiBhvC,GAEf,IAEVivC,EAF+Bx9B,QAAV/U,KAAAqyC,wBAAU,MAAAryC,KAAAqyC,uBAEpB/kC,OAAOhK,GAAC0vC,UAAgBhzC,KAAEqyC,wBAIjC/kC,OAAAhK,GACAivC,EAAAU,WAEJgH,EAAU3sC,SAEV4sC,EAAS5sC,OAAAC,aAA0B4sC,eAAAL,EAAAA,EAAA95C,KAAAoyC,gBAC/B6H,EAAAnJ,QAAiByB,EAAAzB,SACjBoJ,EAAAA,EAAAxpC,QAAA,KAAA,IAAAA,QAAA,eAAA,KACA6hC,EAAA5kC,OAAausC,IANS,OAStBz0C,UAAK20C,UAAkB,SAAQ92C,EAAAw2C,MAC/BvH,GACA5kC,EAAAL,OAAAC,aAAA4sC,eAAAL,EAAAA,EAAA95C,KAAAoyC,gBACAiI,EAAgB1sC,EAAA+C,QAAA,KAA0B,IAAAA,QAAa,eAAK,IAAAA,QAAsB,KAAI,kCACjEpN,GAErB,IAEAivC,EADUx9B,QAAV/U,KAAAqyC,wBAAU,MAAAryC,KAAAqyC,uBACV/kC,OAAchK,GAAK0vC,UAAAhzC,KAAAqyC,wBAEZ/kC,OAAKhK,GACZivC,EAAMU,UAENV,EAAA5kC,OAAU0sC,GAF4B,OAKtC50C,UAAU60C,eAAkB,SAASh3C,EAAAw2C,MACrCvH,KACIuH,EAAYA,EAAqB95C,KAAAoyC,eAErCmI,EAAWjtC,OAACC,aAAe4sC,eAAWxsC,GACzC6sC,EAAAD,EAAA7pC,QAAA,KAAA,IAAAA,QAAA,eAAA,GAED,OAAA1Q,MAAOsyC,kBAAiBhvC,GAC3B,IAGOivC,EADRx9B,QAAQ/U,KAAAqyC,wBAAmE,MAApDryC,KAAYqyC,uBACP/kC,OAAAhK,GAAA0vC,UAAAhzC,KAAAqyC,wBAEE/kC,OAAChK,GAEvBivC,EAAKU,UAELV,EAAK5kC,OAAA6sC,GAFiC,OAItC/0C,UAAAg1C,YAAA,SAAA1C,EAAAC,EAAA8B,MACAY,GAEAC,CAA0Bb,GAACA,EAAA95C,KAAAoyC,cAc/B,IAXIsI,EADJ16C,KAAOsyC,kBAAYyF,GACL,KAEVhjC,QAAA/U,KAAAqyC,wBAAA,MAAAryC,KAAAqyC,uBACM/kC,OAAOyqC,GAAQ/E,UAAUhzC,KAAIqyC,wBAAkB/kC,OAAYyqC,GAGxE4C,EADG36C,KAAOsyC,kBAAO0F,GACjB,KAG2BjjC,QAAA/U,KAAAqyC,wBAAA,MAAAryC,KAAAqyC,uBACN/kC,OAAC0qC,GAAAhF,UAAAhzC,KAAAqyC,wBAAA/kC,OAAA0qC,GACF,OAAb0C,GAAa,OAAAC,EAEb,MAAK,MAAoC,OAAVD,EAE/B,MAAKC,GAAAhtC,OAAAmsC,MACE,OAAPa,GAAoBD,EAAUE,OAAMD,GACpC,MAAAD,GAAA/sC,OAAAmsC,EAGJ,IAAIY,EAAMG,QAAUF,GAAC,KAAM,IAAI95C,OAAA,sDAE/B,OAAA65C,GAAU5J,QAAS6J,EAAA7J,OAEf4J,EAAc9J,SAAS+J,EAAU/J,QACxB5wC,KAAKo6C,UAAOM,EAAYZ,GAAA,IAAAa,EAAAhtC,OAAAmsC,GACjC95C,KAAAs6C,eAAAI,EAAAZ,GAAA,IAAAa,EAAAhtC,OAAAmsC,GAGGY,EAAO/sC,OAAAmsC,GAAA,IAAAa,EAAAhtC,OAAAmsC,IAMXF,EAAAn0C,UAAAq1C,eAAP,SAAkBx3C,EAAYy3C,EAAcjG,EAAA0B,GACxC,GAAAjE,GACHthC,EAEMgpC,CACH,OAAAj6C,MAAOsyC,kBAAoBhvC,GAC9B,IAIGivC,EADJx9B,QAAO/U,KAAAqyC,wBAA0B,MAAVryC,KAAUqyC,uBAClB/kC,OAAChK,GAAA0vC,UAAsBhzC,KAAKqyC,wBAGpC/kC,OAAAhK,GACHivC,EAAOU,WAGJgH,EAAA3sC,SAEN2D,EADGulC,EACHjE,EAAA5kC,OAAAmnC,GAAA,IAAAvC,EAAA5kC,OAAAotC,GAGexI,EAAA5kC,OAAAotC,GAA2B,IAACxI,EAAA5kC,OAAAmnC,IAP3C,OAWUrvC,UAAKu1C,YAAe,SAAa13C,EAAAy3C,EAAAjG,GAC3C,GAAAvC,GAEMthC,EACHgpC,CACH,OAAAj6C,MAAAsyC,kBAAAhvC,GAEM,IAENivC,EADqCx9B,QAAlC/U,KAAOqyC,wBAAmC,MAAAryC,KAAAqyC,uBAC7C/kC,OAAAhK,GAAA0vC,UAAAhzC,KAAAqyC,wBAGc/kC,OAAChK,GACfivC,EAAAU,WAGGgH,EAAO3sC,SAGJ2D,EAFNgpC,EAAAnJ,QAAAyB,EAAAzB,QAAAmJ,EAAArJ,SAAA2B,EAAA3B,SAAAqJ,EAAAvJ,OAAA6B,EAAA7B,MAEM6B,EAAA5kC,OAAAmnC,GAENvC,EAAA5kC,OAAAotC,GAAA,IAAAxI,EAAA5kC,OAAAmnC,IANM,KAUP8E,EAACn0C,UAAAqvC,WAAA,SAAAxxC,EAAAqK,GAEM,MAAA3N,MAAA65C,eAAAv2C,EAAA,QAEPs2C,EAACn0C,UAAAuvC,mBAAA,SAAA1xC,EAAAqK,GAEM,MAAA3N,MAAA65C,eAAAv2C,EAAA,MAEPs2C,EAACn0C,UAAA2vC,gBAAA,SAAA9xC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAA,MAEPs2C,EAACn0C,UAAAsxC,qBAAA,SAAAzzC,EAAAkzC,GAEM,MAAAx2C,MAAA86C,eAAAx3C,EAAA,WAAP,MAAAkzC,IAEAoD,EAACn0C,UAAA6vC,iBAAA,SAAAhyC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAA,OAEPs2C,EAACn0C,UAAAyvC,eAAA,SAAA5xC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAe,OAEtBs2C,EAACn0C,UAAA+vC,YAAA,SAAAlyC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAP,OAEAs2C,EAACn0C,UAAAiwC,gBAAA,SAAApyC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAA,SAEPs2C,EAACn0C,UAAAmwC,WAAA,SAAAtyC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAA,SAEPs2C,EAACn0C,UAAAqwC,WAAA,SAAAxyC,GAYM,MAAAtD,MAAA65C,eAAAv2C,EAAA,OAEPs2C,EAACn0C,UAAAuwC,gBAAA,SAAA1yC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAA,MAEPs2C,EAACn0C,UAAAywC,oBAAA,SAAA5yC,GAEM,MAAAtD,MAAA86C,eAAAx3C,EAAe,IAAtB,OAEAs2C,EAACn0C,UAAA2wC,qBAAA,SAAA9yC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAA,QAEPs2C,EAACn0C,UAAA6wC,mBAAA,SAAAhzC,GAKM,MAAAtD,MAAA65C,eAAAv2C,EAAP,QAEAs2C,EAACn0C,UAAAwxC,mBAAA,SAAA3zC,GAEM,MAAAtD,MAAA65C,eAAAv2C,EAAA,SAEPs2C,EAACn0C,UAAAgxC,wBAAA,SAAAnzC,EAAAkzC,GAEM,MAAAx2C,MAAA86C,eAAAx3C,EAAA,IAAoB,MAA3BkzC,IAEAoD,EAACn0C,UAAAkxC,yBAAA,SAAArzC,EAAAkzC,GAKM,MAAAx2C,MAAA86C,eAAAx3C,EAAP,KAAA,MAA6BkzC,IAE7BoD,EAACn0C,UAAAoxC,uBAAA,SAAAvzC,EAAAkzC,GAGM,MAAAx2C,MAAA86C,eAAAx3C,EAAe,KAAtB,MAAuBkzC,IAEvBoD,EAACn0C,UAAA0xC,gBAAA,SAAA7zC,GAIM,MAAAtD,MAAA65C,eAAAv2C,EAAA,OAEPs2C,EAACn0C,UAAA4xC,eAAA,SAAA/zC,GAIM,MAAAtD,MAAA65C,eAAAv2C,EAAA,QAEPs2C,EAACn0C,UAAA8xC,qBAAA,SAAAj0C,GAIM,MAAAtD,MAAA65C,eAAAv2C,EAAA,OAEPs2C,EAACn0C,UAAAgyC,oBAAA,SAAAn0C,GAIM,MAAAtD,MAAA65C,eAAAv2C,EAAA,SAEPs2C,EAACn0C,UAAAkyC,mBAAA,SAAAr0C,GAGM,MAAAtD,MAAAs6C,eAAAh3C,EAAA,OAEPs2C,EAACn0C,UAAAoyC,oBAAA,SAAAv0C,GAEM,MAAAtD,MAAAs6C,eAAAh3C,EAAA,QAICmC,UAAKwyC,gBAA0B,SAACF,EAAAC,SAChCh4C,MAAOy6C,YAAG1C,EAAAC,EAAA,SAEVvyC,UAAK0yC,oBAA2B,SAAAJ,EAAAC,SAChCh4C,MAAOy6C,YAAY1C,EAAAC,EAAA,UACfvyC,UAAA4yC,cAAA,SAAA/0C,SACJtD,MAAO65C,eAAgBv2C,EAAC,SAGrBmC,UAAO8yC,mBAAO,SAAAj1C,GACrB,MAAKtD,MAAK65C,eAAcv2C,EAAQ,QAE/BmC,UAAAgzC,qBAAA,SAAAn1C,GAED,MAAOtD,MAAA65C,eAAoBv2C,EAAC,OAGzBs2C,EAAAn0C,UAAAkzC,YAAP,SAAmBr1C,GACf,MAAOtD,MAAKg6C,gBAAgB12C,EAAO,MAI3Cs2C,EAAAn0C,UAACozC,gBAAA,SAAAv1C,GAAA,MAAAtD,MAAAg6C,gBAAA12C,EAAA,OAKGs2C,EAAAn0C,UAAAszC,4BACuB,SAAAz1C,GAEnB,MAAKtD,MAAOg7C,YAAW13C,EAAA,KAAA,QAG3Bs2C,EAAAn0C,UAAAwzC,6BAAW,SAAA31C,SAAXtD,MAAAg7C,YAAA13C,EAAA,KAAA,UAECmC,UAAA0zC,6BAAA,SAAA71C,SAEDtD,MAAAg7C,YAA8C13C,EAAA,KAAA,SAE7CmC,UAAA4zC,8BAAA,SAAA/1C,2CAJAmC,UAAA8zC,4BAAA,SAAAj2C,GAOM,MAAA,IAEPs2C,EAACn0C,UAAAg0C,sBAAA,SAAAn2C,EAAA6V,GAGM,GAAAo5B,GAAA0H,CACH,OAAAj6C,MAAOsyC,kBAAahvC,GACvB,IAIA22C,EADGj6C,KAAOsyC,kBAAan5B,GACvB7L,SAIAA,OAAA6L,GAGGo5B,EAAOjlC,OAAKhK,GACfivC,EAAAU,WAAAgH,EAAAhH,UAIA3lC,OAAAilC,GAAA0I,QAAAhB,GAFM,OAKIx0C,UAAKy1C,YAAQ,SAAqB3I,GAC5C,MAAA3sC,MAAAC,UAAAyH,OAAAilC,KAGGqH,KAGGuB,EAAA,mBACHA,GAAoBC,GACvBp7C,KAAAo7C,QAAAA,gBAGG/3C,eAAY83C,EAAwB11C,UAAO,yBAC9CS,IAAA,WAEM,MAAAlG,MAAAo7C,QAAA3G,uBAENtuC,IAAA,SAAA7C,GAEMtD,KAAAo7C,QAAA3G,sBAAAnxC,GAENwC,YAAA,EAEMC,cAAA,IAEPo1C,EAAC11C,UAAAqvC,WAAA,SAAAxxC,EAAAqK,GAEM,MAAA3N,MAAAo7C,QAAAtG,WAAAxxC,EAAAqK,IAEPwtC,EAAC11C,UAAAuvC,mBAAA,SAAA1xC,EAAAqK,GAEM,MAAA3N,MAAAo7C,QAAApG,mBAAA1xC,EAAAqK,IAEPwtC,EAAC11C,UAAA2vC,gBAAA,SAAA9xC,GAEM,MAAAtD,MAAAo7C,QAAAhG,gBAAA9xC,IAEP63C,EAAC11C,UAAA6vC,iBAAA,SAAAhyC,GAEM,MAAAtD,MAAAo7C,QAAA9F,iBAAAhyC,IAEP63C,EAAC11C,UAAAyvC,eAAA,SAAA5xC,GAEM,MAAAtD,MAAAo7C,QAAAlG,eAAA5xC,IAEP63C,EAAC11C,UAAA+vC,YAAA,SAAAlyC,GAEM,MAAAtD,MAAAo7C,QAAA5F,YAAAlyC,IAEP63C,EAAC11C,UAAAiwC,gBAAA,SAAApyC,GAEM,MAAAtD,MAAAo7C,QAAA1F,gBAAApyC,IAEP63C,EAAC11C,UAAAmwC,WAAA,SAAAtyC,GAEM,MAAAtD,MAAAo7C,QAAAxF,WAAAtyC,IAEP63C,EAAC11C,UAAAqwC,WAAA,SAAAxyC,GAEM,MAAAtD,MAAAo7C,QAAAtF,WAAAxyC,IAEP63C,EAAC11C,UAAAuwC,gBAAA,SAAA1yC,GAEM,MAAAtD,MAAAo7C,QAAApF,gBAAA1yC,IAEP63C,EAAC11C,UAAAywC,oBAAA,SAAA5yC,GAEM,MAAAtD,MAAAo7C,QAAAlF,oBAAA5yC,IAEP63C,EAAC11C,UAAA2wC,qBAAA,SAAA9yC,GAEM,MAAAtD,MAAAo7C,QAAAhF,qBAAe9yC,IAEtB63C,EAAC11C,UAAA6wC,mBAAA,SAAAhzC,GAEM,MAAAtD,MAAAo7C,QAAA9E,mBAAAhzC,IAEP63C,EAAC11C,UAAAwxC,mBAAA,SAAA3zC,GAKM,MAAAtD,MAAAo7C,QAAAnE,mBAAa3zC,IAEpB63C,EAAC11C,UAAAgxC,wBAAA,SAAAnzC,EAAAkzC,GAEM,MAAAx2C,MAAAo7C,QAAA3E,wBAAkBnzC,EAAzBkzC,IAEA2E,EAAC11C,UAAAkxC,yBAAA,SAAArzC,EAAAkzC,GAEM,MAAAx2C,MAAAo7C,QAAAzE,yBAAoBrzC,EAA3BkzC,IAEA2E,EAAC11C,UAAAoxC,uBAAA,SAAAvzC,EAAAkzC,GAKM,MAAAx2C,MAAAo7C,QAAAvE,uBAAPvzC,EAAmBkzC,IAEnB2E,EAAC11C,UAAAsxC,qBAAA,SAAAzzC,EAAAkzC,GAGM,MAAAx2C,MAAAo7C,QAAArE,qBAAezzC,EAAtBkzC,IAEA2E,EAAC11C,UAAA0xC,gBAAA,SAAA7zC,GAIM,MAAAtD,MAAAo7C,QAAAjE,gBAAA7zC,IAEP63C,EAAC11C,UAAA4xC,eAAA,SAAA/zC,GAIM,MAAAtD,MAAAo7C,QAAA/D,eAAA/zC,IAEP63C,EAAC11C,UAAA8xC,qBAAA,SAAAj0C,GAIM,MAAAtD,MAAAo7C,QAAA7D,qBAAAj0C,IAEP63C,EAAC11C,UAAAgyC,oBAAA,SAAAn0C,GAIM,MAAAtD,MAAAo7C,QAAA3D,oBAAAn0C,IAEP63C,EAAC11C,UAAAkyC,mBAAA,SAAAr0C,GAEM,MAAAtD,MAAAo7C,QAAAzD,mBAAAr0C,IAEP63C,EAAC11C,UAAAoyC,oBAAA,SAAAv0C,GAEM,MAAAtD,MAAAo7C,QAAAvD,oBAAAv0C,IAEP63C,EAAC11C,UAAAwyC,gBAAA,SAAAF,EAAAC,GAEM,MAAAh4C,MAAAo7C,QAAAnD,gBAAWF,EAAlBC,IAEAmD,EAAC11C,UAAA0yC,oBAAA,SAAAJ,EAAAC,GAEL,MAAAh4C,MAAAo7C,QAACjD,oBAAAJ,EAAAC,IAEDmD,EAAA11C,UAAA4yC,cAAA,SAAA/0C,GAAiC,MAAAtD,MAAAo7C,QAAA/C,cAAU/0C,+CAY1C,MAAAtD,MAAAo7C,QAAA7C,mBAAAj1C,MAPkBmC,UAAAgzC,qBAAA,SAAAn1C,GAEX,MAAItD,MAAKo7C,QAAQ3C,qBAASn1C,MAGdmC,UAASkzC,YAAA,SAAAr1C,GACxB,MAAAtD,MAAAo7C,QAAAzC,YAAAr1C,IAX4B63C,EAYhC11C,UAAAozC,gBAAA,SAAAv1C,GAEM,MAAAtD,MAAAo7C,QAAAvC,gBAAAv1C,MAEOmC,UAAiBszC,4BAAoB,SAAAz1C,GAClD,MAAAtD,MAAAo7C,QAAArC,4BAAAz1C,8GC9kBL63C,EAAA11C,UAAA0zC,6BAAA,SAAA71C,GAAA,MAAAtD,MAAAo7C,QAAAjC,6BAAA71C,IAOA63C,EAAC11C,UAAA4zC,8BAAA,SAAA/1C,GAPD,MAAAtD,MAAAo7C,QAAA/B,8BAAA/1C,IAEW63C,EAAgB11C,UAAQ8zC,4BAAA,SAAAj2C,GACxB,MAAItD,MAAWo7C,QAAO7B,4BAAAj2C,IAEtB63C,EAAoB11C,UAAAg0C,sBAAA,SAAAn2C,EAAA6V,GACpB,MAAGnZ,MAAco7C,QAAQ3B,sBAAiBn2C,EAAW6V,2JCChE,0CANQ,UAGJ,OAFiB,OAAjBnZ,KAAiBiG,WACjBjG,KAAgBiG,SAAA,GAAAk1C,GAAAn7C,OAChBA,KAAgBiG,UAGpBo1C,GACAzB,EACAz4C,SACA1B,OAAA,qBACA4G,SAAA,gBAA8Bg1C,uDCV9B,oBAaIh4C,eAAM7D,EAAwC,cAAA8D,OAAA,UAChC,mBACV4uC,YAEAA,QAEAkC,KAAa,SACbH,MAAc,UACjBpB,KAAA,SAGDD,eAAA,YAAAH,IAAA,QAUCN,KAAA,OAAA,QAAA,OAAA,UAAA,SAADD,cAAAA,OAEAntC,GAAA,SAAApE,EAAAlB,EAAAD,sCA8BIA,EA8BC,cAAA8D,OAAA,qBA5BW3C,EAAQlB,EAARD,2BA1BJkF,UAgCJC,KAAKD,GAAAlF,EAAaoF,eAAmBD,KAACnF,EAAAmF,GAAAD,EAAAC,0BAEjCnF,EAAa,cAAgB8D,OAAK,mBACvC,+PAiBG,EAAAg4C,qBAAA,EAAAC,sBAAA,EAAAC,wBAAA,EAAAC,uBAAA,IAAAt0C,GAAA,SAAAxG,EAAAlB,EAAAD,kBAIAk8C,aACC,wBACA,0CAEH,IAeL/6B,KAAC,oBAEMk0B,cAAA,cACC,QAEW,mBACX8G,kBAIH,mBAAMC,GAACC,EAAAh4C,EAAAgW,EAAAF,EAAArY,EAAAwI,MACJwF,GAAKtP,IACTA,MAAC67C,SAAAA,EACD77C,KAAK6D,SAAWA,EACnB7D,KAAA87C,aAEM97C,KAAA+7C,gBACH/7C,KAAIqN,WAAYC,OAAkBC,aAClCvN,KAAIqwC,aAAgBlvC,QAAKsM,QAAWzN,KAAKqN,WAAWK,SAAI1N,KAAAqN,WAAAK,QAAA1N,KAAAqN,WAAAK,QAAAsuC,WACxDh8C,KAAAswC,WAAiBnvC,QAASsM,QAAKzN,KAAKqN,WAAcU,WAAE/N,KAAAqN,WAAAU,UAAA/N,KAAAqN,WAAAU,UAAAJ,OACpD3N,KAAIuwC,gBAAcvwC,KAAUqN,WAACY,kBACzBuiC,qBAAiBxwC,KAAAqN,WAAuBc,MAAMC,SAC9C6tC,YAAe,GAAG3zC,WAClBipC,YAAKvxC,KAAci8C,YAAAC,iBACvBl8C,KAACm8C,aAAAn8C,KAAAi8C,YAAAG,cAAA,EAACp8C,KAAKq8C,WAACr8C,KAAAi8C,YAAAK,kBACJrqB,OACJjyB,KAACoxC,kBAAApxC,KAAAyc,UAAAzc,KAAAyc,WACD5C,EAAKI,OAAQ,aAAG,SAAAsiC,EAAAC,GACnBD,IAAAC,GAAAA,GAACltC,EAAA2iB,SChJN,SDqJiBxsB,UAAcyV,WAAA,SAAAC,GACtBA,EAAAwF,MAAAxF,EAAAwF,KAAAvF,eAAKpb,KAAE2gB,KAAAxF,EAAAwF,KAAAvF,aACJpb,KAAKiyB,SAGb2pB,EAACn2C,UAAAmsC,eAAA,WAAC,GAAA,WAAA5xC,KAAA2gB,KAAA,CAEK,GAAA4xB,GAAA,OAAAkK,EAAP,MACIlK,GAAW,GAACjqC,MAAIA,KAAKo0C,IAAQ18C,KAAA8wC,KAAA9wC,KAAA4wC,MAAA,EAAA,IAChC6L,EAAAlK,EAAAoK,YAAApK,EAAAoK,YAAA,EAAC38C,KAAA48C,KAAA58C,KAAA68C,cAAAJ,EAAAz8C,KAAA4wC,MAAA,EAAA5wC,KAAA8wC,MAEK9wC,KAAA88C,cACH98C,KAAO+8C,iBAGJ/8C,MAAA0xC,iBAECC,YAERiK,EAACn2C,UAAAosC,cAAA,WAAC,GAAAU,GAAAkK,CAEKlK,GAAA,GAAAjqC,MAAAA,KAAAo0C,IAAA18C,KAAA8wC,KAAQ9wC,KAAf4wC,MAAA,EAAA,IAAA6L,EAAAlK,EAMCoK,YAAApK,EAAAoK,YAAA,EALY,WAAL38C,KAAK2gB,MACL3gB,KAAK48C,KAAA58C,KAAS68C,cAAAJ,EAAAz8C,KAAA4wC,MAAA,EAAA5wC,KAAA8wC,WACViM,aACJ/8C,KAAK88C,eAEX98C,KAAA0xC,YAGE1xC,KAAK2xC,cAGAlsC,UAAoBu3C,aAAU,WACjB,WAAdh9C,KAAC2gB,MACD3gB,KAAC+8C,aACR/8C,KAAA88C,eAIO98C,KAAC0xC,YAEL1xC,KAAK2xC,YAIDiK,EAAAn2C,UAAAw3C,MAAA,WACJ,MAAoB,UAAfj9C,KAAK2gB,QAIMlb,UAAUy3C,OAAE,iBACnB,gBAAAv8B,QAEOlb,UAAU03C,QAAC,iBAClB,eAAAx8B,MACI,gBAALA,MACH,YAAD3gB,KAAC2gB,MAIDi7B,EAAAn2C,UAAA23C,SAAR,WACI,GAAI9tC,GAAYtP,IAEhBA,MAAQq9C,YACJr9C,KAAI6D,SAAQ,WACXyL,EAAQ+tC,cACR,MAMI53C,UAAc63C,WAAA,WACvBt9C,KAAC+7C,aAAArL,IAAA1wC,KAAA0wC,IACD1wC,KAAK+7C,aAAanL,MAAA5wC,KAAA4wC,MAClB5wC,KAAK+7C,aAAWjL,KAAA9wC,KAAA8wC,KACnB9wC,KAAA+7C,aAAAa,KAAA58C,KAAA48C,KAEM58C,KAAA+7C,aAAAwB,cAAAv9C,KAAW2gB,KACd3gB,KAAK+7C,aAAY9L,MAAAjwC,KAAAiwC,SAEhBxqC,UAAA+3C,UAAA,WACJx9C,KAAA8N,KAAA9N,KAAAgxC,QAAAhxC,KAAA4wC,MAAA5wC,KAAA8wC,MAAC9wC,KAAAy9C,MAAAz9C,KAAA09C,SAAA19C,KAAA4wC,MAAA5wC,KAAA8wC,MAEK9wC,KAAAwN,OAAAxN,KAAAixC,YACHjxC,KAAK4N,YAAa5N,KAAAixC,iBACdC,MAAKlxC,KAAQmxC,YAErByK,EAACn2C,UAAAq3C,YAAA,aAAC98C,KAAA87C,UAAA7L,OAAAjwC,KAAA87C,UAAA7L,OAAAjwC,KAAA87C,UAAA7L,MAAA1nC,WAAAvI,KAAAiwC,MAAA1nC,YAEKvI,KAAAy9C,OAAAz9C,KAAAy9C,MAAAz9C,KAAU48C,OAAjB58C,KAAAy9C,MAAAz9C,KAAA48C,MAAAz0C,IAAA,IACcnI,KAAO4wC,MAAA,GACL5wC,KAAG4wC,OAAK,GAEtB5wC,KAAA4wC,MAAA,EAGK5wC,KAAA8wC,MAAA,GAGC9wC,KAAKw9C,gBAKO/3C,UAAEwsB,KAAA,cACd3uB,KACItD,KAAKiwC,MAAO,GAAI3nC,MAAMtI,KAAKiwC,OAAM,cACjC3sC,EAAOA,EAAMg5C,aAAA,UAChB1L,MAAAttC,EAAAA,EAAA84C,cAAA,EAAA,UACDtL,KAAQxtC,EAAGA,EAAA44C,iBAAA,KACfl8C,KAAC48C,KAAAt5C,EAAAtD,KAAA68C,cAAA78C,KAAA0wC,IAAA1wC,KAAA4wC,MAAA,EAAA5wC,KAAA8wC,MAAA,KAED9wC,KAAAw9C,YAEH,WAAAx9C,KAAA2gB,MAEO3gB,KAAA88C,cAGJ98C,KAAK+8C,aACL/8C,KAAK2xC,cAEmBlsC,UAAUk4C,YAAQ,WACtC39C,KAAK8wC,OACL9wC,KAAK8wC,KAAA9wC,KAASuxC,cAMfqK,EAAAn2C,UAAAm4C,aAAa,WACZ59C,KAAY4wC,QAEZ5wC,KAAG4wC,MAAS5wC,KAAKm8C,iBAKpB12C,UAAAo4C,WAAA,WAAM79C,KAAC8wC,OACJ9wC,KAAA0wC,IAAS1wC,KAAMq8C,aAMhBT,EAAAn2C,UAAAq4C,YAAP,SAA0BlN,EAAEE,GACxB,GAAIQ,GAAgB,EAEpB,IAAY,IAAZV,GAA2B,IAARA,GAAyB,IAAdA,GAA6B,KAAXA,EAGhD,MAFAU,GAAW,EAKR,IAAA,IAAAV,EAAA,CACC,GAAAE,EAGI,MADAQ,GAAGR,EAAA,IAAA,EAAA,GAAA,EAIXQ,GAAA,SAEIA,MAEU7rC,UAAYurC,QAAU,SAAUJ,EAAEE,SACzChjC,IACH9N,KAAS89C,YAAYlN,EAAKE,GAC9B9wC,KAAC+9C,YAEDjwC,IACH,KAAA,GAAAlN,GAAA,EAAAA,GAAA0wC,EAAA1wC,IAEOkN,EAAAyC,KAAA3P,GACAZ,KAAA+9C,SAAmBxtC,KAAAvQ,KAAAuwC,gBAAAjjC,QAAAwjC,EAAAF,EAAA,EAAAhwC,IAAAo9C,kBAGnBlwC,MAEUrI,UAAKo3C,cAAmB,SAAAnM,EAAAE,EAAAE,SAC/B2L,EAAAwB,QACP1L,GAAC,GAAAjqC,MAAAA,KAAAo0C,IAAA5L,EAAAF,EAAAF,IAED+L,EAAOlK,EAAOoK,YAAApK,EAAAoK,YAAA,EAGVsB,EAFP,IAAAxB,EAEO/L,EAIKA,EAAQ,EAAA+L,KAIFh3C,UAAAy4C,QAAA,SAAAxN,EAAAyN,EAAAC,SACPC,WACA3N,EAAO,EAAGyN,EAAKA,EAAYzN,EAAA,EAAAA,EAAA,IAC3BA,EAAM,EAAAA,EAAA0N,EAAA1N,EACV2N,EAAU71C,WAAA,MAAAG,KAAA8K,IAAA6qC,GAAA91C,cAEC/C,UAAQi4C,SAAc,SAAI9M,EAAAE,SACjCqN,EAAMC,EAAAH,CAKd,YAHQj+C,KAAA89C,YAAiBlN,EAAAE,KACjB9wC,KAAO68C,cAAQ,EAAWjM,EAAM,EAAAE,KAC1BF,EAAA,EAAA5wC,KAAA89C,YAAAlN,EAAA,EAAAE,GAAA9wC,KAAA89C,YAAA,GAAAhN,EAAA,GACbmN,EAAAE,EAAA,GACGV,EAAKltC,MACDpI,GAAC81C,EACDn8C,KAAM9B,KAAKk+C,QAAGD,EAAAE,EAAAC,KAErBH,GAAA,QACMR,MAEFh4C,UAAAwrC,UAAA,WAGL,IAAA,GAFCzjC,MAEM5M,EAAM,EAAAA,GAAA,GAAAA,IAChB4M,EAAA+C,MAEOpI,GAAAvH,EACIkB,KAAG9B,KAAKqwC,aAAazvC,EAAO,iBAM3B6E,UAAQ0rC,SAAA,iBACJM,EAAUP,YACflxC,KAAKgwC,cACL,SACJwB,EAAAxxC,KAAAuxC,YACIE,EAASzxC,KAAKuxC,YAAe,uBAGxBvxC,KAAAuxC,YAAA,IACLE,EAACzxC,KAAAuxC,WACD,MACP,KAAA,MACIC,EAAYxxC,KAAAuxC,YAAA,GACpBE,EAAAzxC,KAAAuxC,YAAA,GAEO,MACA,SACCC,EAAYxxC,KAAAuxC,YAAmB,GAC/BE,EAAazxC,KAACuxC,YAAA,GAInB,GAA2C,WAAvCvxC,KAAWgwC,SAEf,IAAS,GAAGpvC,GAAI4wC,EAAU5wC,GAAK6wC,EAAA7wC,IAEzBswC,EAAQ3gC,KAAK3P,OAKf,KAAK,GAAGA,GAAK6wC,EAAO7wC,GAAK4wC,EAAU5wC,IACnCswC,EAAO3gC,KAAA3P,EAIX,OAAKswC,MAEWzrC,UAACisC,UAAA,WAGjB,GAAI5jC,GAAK9N,KAAOgxC,QAAQhxC,KAAK4wC,MAAM5wC,KAAM8wC,KACzC,QAAK9wC,KAAQ2gB,MAChB,IAAA,UAEM3gB,KAAA0wC,IAAA,CACC,MAEA,KAAK,SACL1wC,KAAQ4wC,MAAS,EACjB5wC,KAAQ0wC,IAAI,CACR,MACP,SAAO1wC,KAAA8N,KAAA7M,SAAA6M,EAAA7M,QACQjB,KAAK0wC,IAAK5iC,EAAM7M,SAChBjB,KAAK0wC,IAAM5iC,EAAA7M,QAM3BjB,KAAK8N,KAAAA,GAGb8tC,EAAAn2C,UAACs3C,WAAA,WAAA,GAAAU,GAAAz9C,KAAA09C,SAAA19C,KAAA4wC,MAAA5wC,KAAA8wC,KAEK9wC,MAAS48C,KAAyB58C,KAAA68C,cAAA78C,KAAA48C,KAAA58C,KAAA4wC,MAAA,EAAA5wC,KAAA8wC,MACpC9wC,KAAQy9C,MAAEA,GAEV7B,EAAYn2C,UAAA4rC,SAAmB,SAAA/b,GAEjC,GAAAhyB,GAAAotC,EAAAE,EAAAE,EAAA8L,CACKt5C,GAAAgyB,EAAA,GAAAhtB,MAAAgtB,GAAA,KACFob,EAAOptC,EAAAA,EAAgBg5C,aAAC,KACxB1L,EAAUttC,EAAAA,EAAc84C,cAAY,EAAA,KACxCtL,EAAAxtC,EAAAA,EAAA44C,iBAAA,uG3DpcOl8C,KAAA0wC,IAAAA,OACEE,MAAUA,EAEhB5wC,KAAO8wC,KAAAA,EACH9wC,KAAA48C,KAAOA,EACV58C,KAAA8N,KAAA9N,KAAAgxC,QAAAhxC,KAAA4wC,MAAA5wC,KAAA8wC,MACJ9wC,KAAAy9C,MAAAz9C,KAAA09C,SAAA19C,KAAA4wC,MAAA5wC,KAAA8wC,UAGWrrC,UAAsBksC,SAAG,WAChC,GAAOruC,EACf,YAAAtD,KAAA2gB,6G1Bbc3gB,KAAAiwC,MAAY3sC,IAGvBA,EAAc,GAAAgF,MAAAtI,KAAA8wC,KAAA9wC,KAAA4wC,MAAA,EAAA5wC,KAAA0wC,IAAA,EAAA,EAAA,EAAA,GACdptC,EAAkB,GAAAgF,MAAAhF,EAAAiF,UAAA,IAAAjF,EAAAi7C,qBAClBv+C,KAAciwC,MAAA3sC,GAEftD,KAAA87C,UAAAl5C,EAAAC,UAAA7C,KAAA+7C,iDsFLCH,MAGA4C,GAAAthC,SAAAw+B,EAHAlW,YAGC,4BASK/rB,WAAAmiC,WAGLn8C,OAAA,gBAAA,uBAED0d,UAAA,eAAAqhC,cAKA,SAAA79C,EAAAlB,EAACD,WAOGiM,GAAA3B,MACIC,GAAYD,EAAIE,IAAa,gBAC7BF,EAAK5D,IAAA,gBAAkB,WACvB,UAAKgF,GAEL,MAAAnB,GAAkBA,EAAiBoB,UAACD,IAAAA,EAAAA,GAV5CO,EAAAtI,SAAA,4BAeY,gCACA,YAAKsI,qBAGL9K,EAAUlB,EAAMD,qJAYLC,EAAAD,kBAEnBi/C,GAAC,WAEO,QAAAA,qBAKRtlC,MAAC,gBAEOulB,IAAA,eAKRggB,GAJmC,mBAC1BC,YACLA,MAEH,WACL,QAAAD,GAAC7kC,EAAAD,EAAAD,GAAA3Z,KAAAoJ,KAAA,GAAAq1C,GAEKz+C,KAAA4+C,kBACF5+C,KAAQ6+C,gBACRllC,EAAagD,SAAA,kBCtCjB,MDwCC+hC,GAAAj5C,UAAAyV,WAAA,SAAAC,GAEOA,EAAOhC,OAAcgC,EAAKhC,MAAAiC,eAC7Bpb,KAAUoJ,KAAA+P,MAAc;AAE5BnZ,KAAA4+C,yFCnFQF,EAAgBj5C,UAAAy1C,YAAA,SAAA53C,GAChB,MAAAA,GAAA,GAAuBgF,MAAKhF,GAAA,MAGrCo7C,EAAAj5C,UAAAm5C,gBAAA,WAAA,OAAA5+C,KAAAmZ,OAAApE,SAAA/U,KAAAmZ,QAMInZ,KAAIoJ,KAAY+P,MAAMvW,EAAA6tC,OAAAzwC,KAAAmZ,OAAAnZ,KAAAmZ,MACzBnZ,KAAAk7C,YAAAl7C,KAAAmZ,SAgBKulC,EAAAj5C,UAAgDo5C,cAAA,WACjC,OAAjB7+C,KAAY0+B,KAAK3pB,SAAA/U,KAAA0+B,MACjB1+B,KAAYoJ,KAAGs1B,IAAA97B,EAAA6tC,OAAAzwC,KAAA0+B,KAAA1+B,KAAA0+B,IACH1+B,KAAGk7C,YAAAl7C,KAAA0+B,OAGfggB,EAAUj5C,UAAa+pC,UAAA,SAAAlsC,GACvB,MAAgB,OAAhBA,MAEHA,IAEDA,EAAAA,EAAAkF,WAAAyJ,cAWC,KAAA3O,GAAA,QAAAA,KAAAo7C,MAoBGI,YACYC,cACA,uCACAL,WAlBLj/C,OAAA,6BAqBE,eAAYq/C,wBAGZn+C,EAAUlB,EAACD,sCAIPA,EAAS,cAAA8D,OAAuB,MAC7C07C,kBAAC,KAEMC,cAAA,gBACC,0BACK,UAEU,mBAClBC,KACDl/C,KAAI62B,MAAQ,iBAMhBsoB,aAAC,IAEO9B,WAAA,eACA,kBAEA,gBACA,uCAEI,YACH,QAEG,qCAKY,sBACGvzC,EAAU6vC,EAAsB9/B,EAAAF,GACvD3Z,KAAC8J,UAAAA,EACJ9J,KAAA25C,eAAAA,EAEO35C,KAAA6Z,OAAAA,EACJ7Z,KAAAo/C,WAAe,aAClBp/C,KAAAq/C,SAAA,WAEOr/C,KAAAmL,YACJnL,KAAIs/C,uBAAWt/C,KAAAu/C,kBAEfv/C,KAAKoJ,KAAK,GAAK81C,QACXM,WACJx/C,KAACy/C,aAED9lC,EAAQgD,SAAS,uBCxG7B,SD2G+BlX,UAAAyV,WAAA,SAAAC,GACtBA,EAAAgkC,cAAAhkC,EAAAgkC,aAAA/jC,eAEOpb,KAAAm/C,aAAAhkC,EAAAgkC,aAAA/jC,aACApb,KAAUw/C,WAEVx/C,KAAKy/C,cAGLtkC,EAAOukC,YAAAvkC,EAAAukC,WAAAtkC,eACVpb,KAAA0/C,WAAAvkC,EAAAukC,WAAAtkC,aAGGpb,KAAEw/C,WACFx/C,KAAKy/C,iBAGSh6C,UAAY0F,UAAW,cACrCpB,GAAC/J,KAAA8J,UAAAE,IAAA,gBAAAhK,KAAA8J,UAAA5D,IAAA,gBAAA,IAAC6D,OACWE,gBAAa,MACzB01C,qBAAA,aACJC,mBAAA,aAKG71C,EAAUE,gBAAW,MAClB01C,qBAAkB,SACjBC,mBAAoB,UAExB5/C,KAAKo/C,WAAYp/C,KAAG6/C,cAAkB91C,EAAIoB,UAAAnL,KAAiB6/C,eAC9D91C,EAAAoB,UAAA,wBAAKnL,KAAEq/C,SAAAr/C,KAAA8/C,YAAA/1C,EAAAoB,UAAAnL,KAAA8/C,aAEE/1C,EAAaoB,UAAM,0BAIX1F,UAAWy1C,YAAU,SAAY53C,SAC9CA,GAAA,GAAAgF,MAAAhF,GAAA,QAGcmC,UAAQs6C,YAAgB,WAC9C,GAAA5mC,GAAAulB,CAGO,OAAA1+B,MAAAoJ,KAAA42C,WAAAhgD,KAAAoJ,KAAA62C,WAII,GAAC33C,MAAKtI,KAAOoJ,KAAG42C,UAAKz3C,UAAAvI,KAAAoJ,KAAA82C,UAAA1gD,EAAAy/C,cAAAz/C,EAAA2gD,wBAEzB,GAAM73C,MAACtI,KAAAoJ,KAAA62C,QAAA13C,UAAAvI,KAAAoJ,KAAAg3C,QAAA5gD,EAAAy/C,cAAAz/C,EAAA2gD,sBACVzhB,EAAAvlB,GANc,QAUI1T,UAAW46C,kBAAC,iBACvBlnC,EAAOulB,EAAI0hB,EAAOF,cAClB92C,KAAO42C,0BAGGhgD,KAAAoJ,KAAU82C,YAAUt9C,EAAAkB,OAAS9D,KAAMoJ,KAAA82C,cAChDlgD,KAAAoJ,KAAAg3C,QASGpgD,KAAKoJ,KAAC82C,UAAiC,IAAjBlgD,KAAKoJ,KAACg3C,QAAW,EAAApgD,KAAUoJ,KAAGg3C,QAAA5gD,EAAAw/C,mBAR3D7lC,EAAA,GAAA7Q,MAEO43C,EAAS3N,EAAKhqC,UAAevI,KAAA25C,eAAiB/F,WAAcrB,GAC9DvyC,KAAIoJ,KAAK82C,UAAUv3C,KAAQwZ,MAAO+9B,GAAc1gD,EAAQw/C,kBAAGx/C,EAAgBy/C,cAAAz/C,EAAA2gD,uBAAsB3gD,EAAAw/C,oBASvG7lC,EAAK,GAAK7Q,MAAAtI,KAAWoJ,KAAK42C,UAAWz3C,UAAGvI,KAAAoJ,KAAA82C,UAAA1gD,EAAAy/C,cAAAz/C,EAAA2gD,sBAC3CngD,KAAAoJ,KAAAilC,UAEO3P,EAAA,GAAAp2B,MAAA6Q,EAAA5Q,UAAOvI,KAAfoJ,KAAAilC,UACQruC,KAAaoJ,KAAA62C,QAAAjgD,KAAA25C,eAAA/F,WAAAlV,GAEb0hB,EAAU1hB,EAACn2B,UAAAvI,KAAAoJ,KAAA62C,QAAA13C,UAACvI,KAAKoJ,KAAIg3C,QAAOz3C,KAAAwZ,MAAAi+B,GAAoB5gD,EAAAw/C,kBAAAx/C,EAAAy/C,cAAAz/C,EAAA2gD,uBAAA3gD,EAAAw/C,oBAIhDtgB,EAAI,GAAGp2B,MAAKtI,KAAKoJ,KAAA62C,QAAgB13C,UAAMvI,KAASoJ,KAAGg3C,QAAA5gD,EAAay/C,cAAGz/C,EAAA2gD,sBAC/DhnC,GAACulB,IACR1+B,KAAAoJ,KAAA62C,QAAAjgD,KAAA25C,eAAA/F,WAAA,GAAAtrC,MAAA6Q,EAAA5Q,UAAA/I,EAAAw/C,kBAAAx/C,EAAAy/C,cAAAz/C,EAAA2gD,uBAEOngD,KAAKoJ,KAACg3C,SAAUpgD,KAAAoJ,KAAA82C,UAAA1gD,EAAAw/C,oBAAAx/C,EAAA8gD,WAAA9gD,EAAAy/C,sBAGxBj/C,KAACoJ,KAAA82C,UAAAv3C,KAAA43C,MAAAvgD,KAAAoJ,KAAA82C,UAAA1gD,EAAAw/C,mBAAAx/C,EAAAw/C,8BAjCO51C,KAAK82C,UAAY,OAoC7BM,EAAC/6C,UAAAg7C,gBAAA,WAEO,GAAAlO,GAAAp5B,EAAAulB,CACJ,OAAI1+B,MAAWoJ,KAAY62C,wBAMXjgD,KAAKoJ,KAAAg3C,UAAiBx9C,EAAAkB,OAAA9D,KAAcoJ,KAAAg3C,YAC/CpgD,KAAAoJ,KAAA82C,UASGlgD,KAACoJ,KAAQg3C,QAAApgD,KAAAoJ,KAAA82C,YAAA1gD,EAAA8gD,WAAA9gD,EAAAy/C,cAAAz/C,EAAAw/C,kBAAAx/C,EAAA8gD,WAAA9gD,EAAAy/C,cAAAz/C,EAAAw/C,kBAAAh/C,KAAAoJ,KAAA82C,UAAA1gD,EAAAw/C,mBAPTzM,EAAM,GAAAjqC,MACNiqC,EAAMA,EAAAhqC,UAAsBvI,KAAK25C,eAAmB/F,WAAKrB,GAChEvyC,KAAAoJ,KAAAg3C,QAAAz3C,KAAAwZ,MAAAowB,GAAA/yC,EAAAw/C,kBAAAx/C,EAAAy/C,cAAAz/C,EAAA2gD,uBAAA3gD,EAAAw/C,sBASO,GAAC12C,MAAKtI,KAAOoJ,KAAG42C,UAAKz3C,UAAevI,KAAUoJ,KAAK82C,UAAC1gD,EAAAy/C,cAAAz/C,EAAA2gD,wBACxD,GAAK73C,MAAKtI,KAAAoJ,KAAgB62C,QAAQ13C,UAAiBvI,KAAKoJ,KAACg3C,QAAY5gD,EAAAy/C,cAAgBz/C,EAAA2gD,sBACxFhnC,GAAAulB,IAEG1+B,KAACoJ,KAAA42C,UAAoBhgD,KAAA25C,eAAA/F,WAAA,GAAAtrC,MAAAo2B,EAAAn2B,UAAA/I,EAAAw/C,kBAAAx/C,EAAAy/C,cAAAz/C,EAAA2gD,uBACrBngD,KAACoJ,KAAA82C,UAAkBlgD,KAAAoJ,KAAAg3C,SAAA5gD,EAAA8gD,WAAA9gD,EAAAy/C,iBAAA,EAAAz/C,EAAA8gD,WAAA9gD,EAAAy/C,cAAAz/C,EAAAw/C,kBAAAh/C,KAAAoJ,KAAAg3C,QAAA5gD,EAAAw/C,mBAEvBh/C,KAAKoJ,KAAAg3C,QAAUz3C,KAAA43C,MAAAvgD,KAAAoJ,KAAAg3C,QAAA5gD,EAAAw/C,mBAAAx/C,EAAAw/C,uBAClBh/C,KAAAoJ,KAAAilC,SAAAruC,KAAA+/C,qBA1BO//C,KAAKoJ,KAAAg3C,QAAY,SA6BO36C,UAAAi7C,QAAA,WAE5B,GAAA3X,EACK/oC,MAAKoJ,OACNpJ,KAAKoJ,KAAK,GAAc81C,cACpBroB,MAAO,OACPztB,KAAM42C,mBACE52C,KAAI82C,UAAAlgD,KAAAoJ,KAAa82C,UAAU1gD,EAAAy/C,cAAAz/C,EAAA2gD,qBAAA,oBACnB,GAAE73C,MAAAtI,KAAYoJ,KAAG42C,UAAYz3C,UAAWwgC,IAE5D/oC,KAACoJ,KAAA62C,UACJlX,EAAA/oC,KAAAoJ,KAAAg3C,QAAApgD,KAAAoJ,KAAAg3C,QAAA5gD,EAAAy/C,cAAAz/C,EAAA2gD,qBAAA,EAEDngD,KAAO0/C,WAAO,GAAAp3C,MAAAtI,KAAAoJ,KAAA62C,QAAA13C,UAAAwgC,IAGV/oC,KAAAoJ,KAAAytB,MAAA,KAC4BpxB,UAAAg6C,WAAA,WAChC,GAAItmC,GAAOulB,CAAc,QAAb1+B,KAAAm/C,cAAapqC,SAAA/U,KAAAm/C,eACzBhmC,EAAQvW,EAAM6tC,OAAAzwC,KAAWm/C,cAAcn/C,KAAAm/C,aAAA,KAChChmC,IACVA,EAAAnZ,KAAAk7C,YAAAl7C,KAAAm/C,eAGOn/C,KAAKoJ,KAAC42C,UAAgBhgD,KAAC25C,eAAA/F,WAAAz6B,GACvBnZ,KAAKoJ,KAAC82C,WAAiB,GAAA53C,MAAA6Q,GAAAnZ,KAAAoJ,KAAA42C,YAAAxgD,EAAAy/C,cAAAz/C,EAAA2gD,uBAEH,OAApBngD,KAAK0/C,YAAgB3qC,SAAA/U,KAAA0/C,aACrBhhB,EAAM97B,EAAA6tC,OAAQzwC,KAAG0/C,YAAK1/C,KAAA0/C,WAAA,KACrBvmC,IACRulB,EAAA1+B,KAAAk7C,YAAAl7C,KAAA0/C,aAGO1/C,KAACoJ,KAAA62C,QAAmBjgD,KAAC25C,eAAA/F,WAAAlV,GACrB1+B,KAAKoJ,KAACg3C,SAAe,GAAC93C,MAAAo2B,GAAc1+B,KAAAoJ,KAAA62C,UAAAzgD,EAAAy/C,cAAAz/C,EAAA2gD,uBAExCngD,KAAKqgD,oBACRrgD,KAAAygD,kBAACzgD,KAAAoJ,KAAAilC,SAAAruC,KAAA+/C,cAEK//C,KAAA0gD,aAEej7C,UAAQ85C,gBAAc,WACxC,GAAItuC,GAAQ0vC,CACZ1vC,KACH,KAAA,GAAArQ,GAAA,EAAAA,EAAA,GAAAA,IAAC,IAAA,GAAAggD,GAAA,EAAAA,EAAA,EAAAA,IAEKD,EAAAC,EAAAphD,EAAAw/C,kBACE/tC,EAAUV,MACNpI,GAAKvH,EAAApB,EAAYy/C,cAAK0B,EAC9B5X,KAAAnmC,EAAAiR,IAAAjT,EAAA4H,WAAA,EAAA,KAAA4I,OAAA,EAAA,GAAA,IAAAxO,EAAAiR,IAAA8sC,EAAAn4C,WAAA,EAAA,MAID,OAAKyI,IACRuvC,EAAC/6C,UAAA+pC,UAAA,SAAAlsC,GAEK,MAAA,OAAAA,MAECA,IAGJA,EAAKA,EAAAkF,WAAkByJ,cACb,KAAL3O,GAAqB,QAALA,OAEDmC,UAAC+5C,SAAmB,WAC3Cx/C,KAAAoJ,KAAA42C,UAAA,KAAChgD,KAAAoJ,KAAA82C,UAAA,KAEKlgD,KAAAoJ,KAAA62C,QAAA,KACHjgD,KAAIoJ,KAAKg3C,QAAW,UAChBh3C,KAAMilC,SAAM,KAChBruC,KAAC6gD,UAAA7gD,KAAAwvC,UAAAxvC,KAAA8gD,cAGLN,EAAC/6C,UAAAs7C,kBAAA,SAAAC,GAAChhD,KAAAqgD,oBAENrgD,KAAAoJ,KAAAilC,SAAAruC,KAAC+/C,cAAA//C,KAAA0gD,UAEK1gD,KAAAq9C,WAAAr9C,KAA+Cm/C,aAAAn/C,KAAA0/C,aAGjDc,EAAY/6C,UAAAw7C,gBAAuB,WACrCjhD,KAAAygD,kBACMzgD,KAAAoJ,KAAOilC,SAAAruC,KAAkB+/C,cAC5B//C,KAAA0gD,UAER1gD,KAAAq9C,WAAAr9C,KAAAm/C,aAAAn/C,KAAA0/C,aC5VDc,EAAA/6C,UAAAy7C,kBAAA,WACAlhD,KAAAoJ,KAAA42C,YACAhgD,KAAAoJ,KAAA42C,UAAAhgD,KAAA25C,eAAA/F,WAAA,GAAAtrC,QAEAtI,KAAAqgD,oBACArgD,KAAAoJ,KAAAilC,SAAAruC,KAAA+/C,cACA//C,KAAA0gD,UACA1gD,KAAAq9C,WAAAr9C,KAAAm/C,aAAAn/C,KAAA0/C,aAGAc,EAAA/6C,UAAA07C,gBAAA,WACAnhD,KAAAoJ,KAAA62C,UACAjgD,KAAAoJ,KAAA62C,QAAAjgD,KAAA25C,eAAA/F,WAAA,GAAAtrC,QAEAtI,KAAAygD,kBACAzgD,KAAAoJ,KAAAilC,SAAAruC,KAAA+/C,cACA//C,KAAA0gD,UACA1gD,KAAAq9C,WAAAr9C,KAAAm/C,aAAAn/C,KAAA0/C,aAGAc,EAAA/6C,UAAA27C,WAAA,WACA,QAAAphD,KAAAyc,UACAzc,KAAAyc,YAKA+jC,MAEAa,GACAnkC,SAAAokC,EACA9b,YAAA,qCACA/rB,WAAA+mC,EAEAr/C,SAAA1B,OAAA,uBACA0d,UAAA,mBAAAkkC,QAGA92C,IAAA,SAAA5J,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,sBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,yBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,iBACA;;;CzF/CA,SAAA9d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAshD,QAAAhiD,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,uY0FAA,IAAAgiD,GAAA7gD,EAAA,8BAEA8gD,EAAA,SAAApyC,WAWQoyC,GAAWC,EAAA53C,EAAAxI,GALf,UAQI,IAAAgO,GAAKD,EAAYrO,KAAAhB,OAAUA,IAM9B,OAJGsP,GAAKqyC,UAAA73C,EAELwF,EAAK3D,gBACL2D,EAAKoyC,UAAQA,mBAChBpyC,EApBuC,MAAAzD,GAAA41C,EAAApyC,GAMxCoyC,EAAAt+C,SACI,YACA,YACA,gBAciDsC,UAAAkG,cAAA,WACjD,GAAA5B,KAC2C/J,KAAS2hD,UAAK33C,IAAA,gBAErDhK,KAAA2hD,UAAez7C,IAAA,gBAAA,KACf6D,GACAA,EAAa0E,aAAa,MAAQmzC,cAAiB,YAEnD73C,EAAa0E,aAAa,MAAAmzC,cAAyB,gBACnD5hD,KAAKgsC,MAAKjiC,EAAaoB,UAAUnL,KAAQgsC,QAAIjiC,EAAaoB,UAAgB,iBAC1EnL,KAAKytC,GAAA1jC,EAASoB,UAAanL,KAAUytC,KAAK1jC,EAAYoB,UAAU,MACnEnL,KAAAiZ,OAAAlP,EAAAoB,UAAAnL,KAAAiZ,SAAA,WAEGjZ,KAAKgsC,MAAKhsC,KAAOgsC,OAAS,UAC1BhsC,KAAKytC,GAAAztC,KAASytC,IAAK,KACtBztC,KAAAiZ,OAAAjZ,KAAAiZ,QAAA,aAIqBxT,UAAAo8C,KAAA,WACzB7hD,KAAA0hD,UAAArmC,UAG2B5V,UAAAq8C,SAAA,WAC3B9hD,KAAA0hD,UAAAzoC,UA/CuCwoC,GAmD5CD,EAAOO,kCAEFtiD,OAAA,2ICvDL2D,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OAAAy+C,GAAA,WASA,QAACA,MATD,MASCA,uECND3+C,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OAGI0+C,GAAA,WAEA,QAACA,GAAAN,GAEM1hD,KAAAiiD,UAAAP,EAwBX,SA3ByBv+C,SAAU,eAKVsC,UAAYwV,KAAA,SAAAjZ,EAAAysC,EAAA/C,QACzBuW,UAAWhnC,MACXinC,YAAYlgD,EAAAR,MACZgkC,YAAY,uCACZ/rB,WAAQ,kCACRyJ,aAAA,QACAkoB,OAAAppC,EACFklC,kBAAA,uBACI,SAEE,WACHuH,GAELA,gBAGK/C,GACFA,OAKJsW,8LClCP,oBACK3+C,eAAO7D,EAAA,cAAyB8D,OAAA,YAE7B7D,OAAA,yBACA,aAAyB,uBAEjC,yBAEAkB,EAAA,8BACAA,EAAA,wIlEPsD,EAAAwhD,6BAAA,EAAAC,8BAAA,EAAAC,+BAAA,IAAAt9C,GAAA,SAAApE,EAAAlB,EAAAD,WAIlD2L,GAAOrB,MACHC,GAAOD,EAAgBE,IAAA,gBAC1BF,EAAA5D,IAAA,gBAAA,IACJ,OAAA,UAAAgF,GAEM,MAAAnB,GAAAA,EAAAoB,UAAAD,IAAAA,EAAAA,KAPmC/H,SAAU,aAWnDhC,mbmEbDkC,eAAA7D,EAAA,cAAA8D,OAAA,UACkC3C,EAAA,gCACX,mBACZ2hD,KACAtiD,KAAAuiD,aAAsB,gBACtBviD,KAAAwiD,aAAoB,UACpBxiD,KAAAyiD,UAAoB,OAC9BziD,KAAA0iD,YAAA,SAAD1iD,KAAA2iD,UAAA,OAAC3iD,KAAA4iD,UAAA,QAE0C,MAAAN,QAYxB,SAAAjzC,WAKPwzC,GAAuBnB,EAAA53C,EAAAxI,GAC3B,UACA,IAAAgO,GAAUD,EAAGrO,KAAUhB,OAAQA,IAW/B,OATAsP,GAAKwzC,QAAA,GAAaR,GAElBhzC,EAAKqyC,UAAY73C,IACb43C,UAAaA,EACjBpyC,EAACyzC,MAAAzhD,EAAA0hD,yBACJ1zC,EAAA9K,QAEO8K,EAAA9K,MAAA,UAEJ8K,WAvBJuzC,EAOWxzC,KAEYlM,SAAA,YAAqB,YAAA,gBAiBrBsC,UAAAkG,cAAA,cACf5B,KACU/J,KAAI2hD,UAAA33C,IAAA,qBACV23C,UAAUz7C,IAAA,gBAAQ,UAEVuI,aAAY,MACpBw0C,GAAM,KACNC,OAAS,SACTC,cAAU,gBACVC,KAAA,aACAC,KAAA,OACDC,MAAA,QACHC,OAAa,SACTC,QAAU,UACVC,QAAU,cAEFh1C,aAAY,MACpBw0C,GAAM,KACNC,OAAS,SACTC,cAAiB,gBACjBC,KAAA,aACDC,KAAA,OACCC,MAAC,SAEDC,OAAS,QACTC,QAAS,cAEbxjD,KAAK0jD,cAAQ35C,EAAcoB,UAAanL,KAAS0jD,gBAAW35C,EAAAoB,UAAA,WAC5DnL,KAAK8iD,QAAQP,aAAYx4C,EAAaoB,UAAU,iBAChDnL,KAAK8iD,QAAQN,aAAYz4C,EAAaoB,UAAU,WACnDnL,KAAA8iD,QAAAL,UAAA14C,EAAAoB,UAAA,QAAKnL,KAAE8iD,QAAAJ,YAAA34C,EAAAoB,UAAA,UACJnL,KAAK8iD,QAAAH,UAAoB54C,EAACoB,UAAiB,QAC9CnL,KAAA8iD,QAAAF,UAAA74C,EAAAoB,UAAA,UAIGnL,KAAC0jD,cAAiB1jD,KAAA0jD,eAAA,aAIGj+C,UAAAo8C,KAAA,WAC5B7hD,KAAA0hD,UAAArmC,UAGqB5V,UAAA6R,SAAA,SAAA9S,GAElB,MAAM5B,GAAA0U,SAAS9S,MAEdiB,UAAAk+C,aAAA,iBAEG/gD,GAAA0U,SAAWtX,KAACwE,OACfxE,KAAAwE,MAEGxE,KAAAwE,OAAYxE,KAAMwE,MAAKA,MAC1BxE,KAAAwE,MAAAA,MAAAgE,WAGJxI,KAAAwE,OAAAxE,KAAAwE,MAAA4E,MAAApJ,KAAAwE,MAAA4E,KAAA5E,MAELxE,KAAAwE,MAAA4E,KAAA5E,MAACgE,WAEM,UAEFq6C,sJC3GL,IAAA17C,GAAA,SAAAxG,EAAAlB,EAAAD,uBAOA6D,eAAA7D,EAAA,cAAC8D,OAAA,GAAD,IAPAsgD,GAOC,WAPY,QAAAA,oDCMTv8C,GAAA,SAAA1G,EAAAlB,EAAAD,uBAEC6D,eAAA7D,EAAA,cAAA8D,OAAA,OAEMugD,GAAA,mBAGCA,GAAyBnC,QACzBO,UAAaP,WAFIv+C,SAAA,eAIHsC,UAAOwV,KAAA,SAAAjZ,EAAAysC,EAAA/C,QACrBuW,UAAQhnC,MACRinC,YAAAlgD,EAAkBR,MAClBgkC,YAAA,wCACD/rB,WAAA,+CACG,QACF2xB,OAAIppC,oBACA,EACJ8hD,qBAAC,IAGDvY,KAAI,WACAkD,GACHA,KAGR,WAEL/C,GAACA,gHClCD,qBACKtqC,GAAOsD,GACJ,IAAA,GAAAC,KAAYD,GAAAlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,WAEZtB,eAAA7D,EAAsB,cAAA8D,OAAA,YAE9B7D,OAAA,yBACA,aACA,uBAEA,2RhGVC,YACD,SAAA2B,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAuBlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAEvBvB,OAAAC,eAAA7D,EAAuB,cAAA8D,OAAA,IACvB3C,EAAA,kCAEAA,EAAO,qBACF,mBACG,eACA,mBACA,0BAEAlB,OAAA,cACD,uBAEP,wBACA,mBAEA,sBACA,2eiGpBA,QAAA2M,KAAApM,KAAAqM,YAAAH,SAEAA,EAAAzG,UAAA,OAAA0G,EAAA/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAYmB5M,EAAA,cAAA8D,OAAA,UAEX3C,EAAO,+BACmB,SAAC0O,WAKvB00C,GAA4BrC,EAAE53C,EAAAxI,aACrC,IAAAgO,GAAAD,EAAArO,KAAAhB,OAAAA,IAOG,OALIsP,GAAAqyC,UAAA73C,EACJwF,EAAI3D,gBACJ2D,EAAAoyC,UAAeA,IACuBqB,MAAKzhD,EAAc,OAErDgO,WAXCy0C,EAAe10C,KAEHlM,SAAU,YAAA,YAAA,gBAWRsC,UAAAkG,cAAA,cACf5B,KACA/J,KAAa2hD,UAAa33C,IAAI,gBAE9BhK,KAAK2hD,UAAQz7C,IAAA,gBAAuB,QAEpCuK,GADA66B,EAAUtrC,KAAA6H,OAEbkC,IAAKA,EAAE0E,aAAA,MAAAu1C,kBAAA,gBACJj6C,EAAa0E,aAAU,MAAIu1C,kBAAc,eACzChkD,KAAKgsC,MAAKjiC,EAAgBoB,UAAAnL,KAAAgsC,QAAAjiC,EAAAoB,UAAA,qBAC7BnL,KAAAytC,GAAA1jC,EAAAoB,UAAAnL,KAAAytC,KAAA1jC,EAAAoB,UAAA,MAEGmgC,EAASvhC,EAA8BoB,UAAcmgC,KAKrDtrC,KAAAgsC,MAAUhsC,KAAAgsC,OAAiB,cAC9BhsC,KAAAytC,GAAAztC,KAAAytC,IAAA,KAGJ,IAAAwW,GAAAjkD,KAAA2hD,UAAA33C,IAAA,aAEMhK,KAAA2hD,UAAAz7C,IAAA,aAAI,IACHlG,MAACyQ,MAAUwzC,IAClB3Y,EAAA2Y,EAAAhxC,QAAAq4B,EAAA76B,IAGGzQ,KAAKsrC,QAAUA,GAGvByY,EAAAt+C,UAACo8C,KAAA,WA7DyC7hD,KAAA0hD,UAAArmC,UAgE9B5V,UAAuBq8C,SAAA,WAC9B9hD,KAAA0hD,UAAWzoC,gDCnEhBxZ,OAAA,wBAAAga,WAAA,iCAAAsqC,iCAWA,KAACx5C,IAAA,SAAA5J,EAAAlB,EAAAD,GAAD,YAXa4D,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,iDCMT4gD,wBAAAA,OAECv5C,IAAA,SAAAhK,EAAAlB,EAAAD,sCAGkBA,EAAM,cAAA8D,OAAA,UACG,mBAEpB6gD,GAAYzC,QACZO,UAAYP,WAFCv+C,SAAA,eAIGsC,UAAMwV,KAAA,SAAAjZ,EAAAysC,EAAA/C,QACtBuW,UAAAhnC,MACDinC,YAAAlgD,EAAAR,kBACG,qCACFiY,WAAI,8CACA,QACJ2xB,OAACppC,EACFklC,kBAAA,EAEN4c,qBAAA,IAEJvY,KAAA,WAEMkD,GACKA,0FC9BPjjC,IAAA,SAAO7K,EAAAlB,EAAsBD,wBAE1B4B,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAsBlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAE9BvB,OAAAC,eAAA7D,EAAA,cAAmC8D,OAAA,IACnCnC,QACA1B,OAAA,wBAIA,wgBCXA,OAAA,UAAAyM,EAAAC,GAGsC,QAAAC,KAAApM,KAAAqM,YAAAH,EAAtCJ,EAAAI,EAAAC,GAMID,EAAAzG,UAAA,OAAA0G,EAAA/I,OACIsG,OACAyC,IAAAC,EAAmC3G,UACH0G,EAAA1G,UAAA,GAAA2G,8BAK3B5M,EAAY,cAAU8D,OAAA,UACV3C,EAAU,2BACd,SAAmB0O,WAK5B+0C,GAAwB1C,EAAM53C,EAAUxI,GAC5C,UACA,IAAIgO,GAAgBD,EAAErO,KAAUhB,OAAKA,OACjC0hD,UAAWA,EACfpyC,EAAGqyC,UAAA73C,EACHwF,EAAKyzC,MAAAzhD,EAAyB,OAC9BgO,EAAKuzB,QAAAvzB,EAAcuzB,YACnBvzB,EAAK3D,gBAEL2D,EAAA+0C,eAAgBzhD,EAAA4V,KAAYlJ,EAAKuzB,SAAAyhB,QAAA,KAAA,uEACpC/nC,EAAA3Z,EAAA4wB,UAAAlkB,EAAAuzB,QAAA,SAAA0hB,GAEO,MAAAA,GAAAziD,MAAAA,UAEJwN,GAAAk1C,YAAoBjoC,IAAS,EAAK,EAAAA,EAElCjN,EAAI+0C,eAAe/0C,EAAAuzB,QAAAvzB,EAAAk1C,eACfC,mBAAan1C,EAAa+0C,eAAQviD,gBAClCwN,EAAao1C,WAAY,KAEzBp1C,WAxBC80C,EAAsB/0C,KAETlM,SAAG,YAAA,YAAA,gBAwBpBsC,UAAAkG,cAAA,WAAC,GAAI5B,KACQ/J,KAAG2hD,UAAU33C,IAAI,gBAAgBhK,KAAA2hD,UAAAz7C,IAAA,gBAAA,KAC3C6D,GACHA,EAAA0E,aAAA,MAAAk2C,cAAA,kBAEJ56C,EAAA0E,aAAA,MAAAk2C,cAAA,mBAEM3kD,KAAAgsC,MAAAjiC,EAAAoB,UAAPnL,KAAAgsC,QAAAjiC,EAAAoB,UAAA,iBACQnL,KAACytC,GAAS1jC,EAAQoB,UAAAnL,KAAAytC,KAAA1jC,EAAAoB,UAAA,YAIlBnL,KAACgsC,MAAUhsC,KAAMgsC,OAAG,gBAC3BhsC,KAAAytC,GAAAztC,KAAAytC,IAAA,aAIQhoC,UAAqBo8C,KAAW,WACxC7hD,KAAA0hD,UAAArmC,UAGoB5V,UAAWq8C,SAAa,gBACrCJ,UAAMzoC,YAEUxT,UAAAm/C,eAAA,SAAApjD,EAAAi7B,GACpBj7B,EAAC6vB,kBACJrxB,KAAAykD,mBAAAhoB,EAAA36B,QAGiC2D,UAAAo/C,WAAA,SAAArjD,GACT,KAArBA,EAAUkyB,SAAiC,KAAflyB,EAAIkyB,UAE5BlyB,EAAC6vB,kBACR7vB,EAAAuC,iBAEO/D,KAAA+5B,eAGSt0B,UAAAs0B,SAAA,WAChB,GAAA0C,EAELA,GAAA75B,EAAA4V,KAAAxY,KAAA6iC,SAAC/gC,KAAA9B,KAAAykD,qBApFqCzkD,KAAA0hD,UAAArmC,MAAAohB,OAAAA,EAoFrCqoB,iBAAA9kD,KAAA8kD,sBAGWr/C,UAAmBi/C,WAAA,WAC1B,GAAAK,sDC3FLC,EAAAC,oCACW,+BAGA,6BAAuBb,6BAClC,KAAC10C,IAAA,SAAA/O,EAAAlB,EAAAD,GAAD,YALa4D,QAAAC,eAAA7D,EAAA,cAAiB8D,OAAA,kECC9B,MAAA4hD,QAiBAA,kBAAAA,OAjBaC,IAAA,SAAAxkD,EAAAlB,EAAAD,gGCAb,MAAAylD,QAGAA,oBAACA,OAHYn0C,IAAA,SAAAnQ,EAAAlB,EAAAD,gGCIT,MAAA4lD,QAECA,oBAAAA,WAKI,SAAKzkD,EAAclB,EAACD,sCAEjBA,EAAa,cAAA8D,OAA4B,UAC7B,mBAEZ+hD,GAAc3D,QACdO,UAAAP,WAFYv+C,SAAS,eAItBsC,UAAAwV,KAAA,SAAAjZ,EAAAysC,EAAA/C,QACFuW,UAAKhnC,MACFinC,YAAIlgD,EAAgBR,kBAChB,6BACJiY,WAAC,6BAELyJ,aAAA,QACIkoB,OAAIppC,oBACc,EAClB8hD,qBAAC,IAGRvY,KAAA,SAAAt6B,GAELw9B,GAACA,EAAAx9B,IAGU,WACEy6B,uBCvCbjsC,OAAO,oBACFkX,QAAO,mBAAoB0uC,QAExBpxC,IAAA,SAAAtT,EAAsBlB,EAAAD,wBACG4B,GAAAsD,GAEjC,IAAA,GAAAC,KAAAD,GAAAlF,EAA6BoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAE7BvB,OAAAC,eAAA7D,EAAA,cAA+B8D,OAAA,IAC/BnC,QACA1B,OAAA,oBAGA,aACA,uBACA,+eCfAuM,uBAAAC,QAAA,SAAAC,EAAAC,GAAAD,EAAkEF,UAAAG,IAClE,SAAAD,EAAAC,GAAA,IAAA,GAAAxH,KAAAwH,GAAAA,EAAAvH,eAA8DD,KAAAuH,EAAAvH,GAAAwH,EAAAxH,IAE9D,OAAA,UAAAuH,EAAAC,GAOI,QAAAC,KAAApM,KAAAqM,YACIH,EARiCJ,EAAAI,EAAAC,GAYjCD,EAAAzG,UAAW,OAAA0G,EAAA/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BA2EqB5M,EAAC,cAAA8D,OAAA,UACK3C,EAAK,8BAC5BA,EAAO,4BACxB,SAAA0O,WAzEMi2C,GAAoB5D,EAAU53C,EAAAxI,GAElC,UAEA,IAAAgO,GAAKD,EAAArO,KAAkBhB,OAAMA,IAC7BsP,GAAIyqB,SAAoB,WACpB,GAAA0C,EACAA,GAAO75B,EAAI4V,KAAIxY,KAAI6iC,SAAK/gC,KAAA9B,KAAAykD,sBAAA,GAAAc,GAAAC,qBACzBxlD,KAAA0hD,UAAArmC,MAAAohB,OAAAA,KAEHntB,EAAKoyC,UAAAA,EACLpyC,EAAKqyC,UAAA73C,EAELwF,EAAAyzC,MAAWzhD,EAAqB,yBACnCgO,EAAA+0C,eAAAzhD,EAAA4V,KAAAlJ,EAAAuzB,SAAAyhB,QAAA,KAAA,IAEO,IAAAxiD,GAAAwN,EAAA+0C,eAAA/0C,EAAA+0C,eAARviD,KAAAwN,EAAAm1C,mBACQloC,EAAA3Z,EAAA4wB,UAA6ClkB,EAAAuzB,QAAA,SAAA0hB,GACjD,MAAAA,GAAeziD,MAAKA,UAGpBwN,GAAIk1C,YAAejoC,IAAA,EAAA,EAAAA,IACf8nC,eAAa/0C,EAAYuzB,QAAOvzB,EAAEk1C,eAClCC,mBAAan1C,EAAa+0C,eAAQviD,gBAE7BwN,EAASo1C,WAAY,KAC1Bp1C,EC9CZ,SDkBag2C,EAAsBj2C,KACVlM,SAAU,YAAA,YAAA,gBA4BnBsC,UAAAkG,cAAA,cACJ5B,KACU/J,KAAK2hD,UAAM33C,IAAS,gBACjChK,KAAA2hD,UAAAz7C,IAAA,gBAAA,KACJ6D,GAEMA,EAAA0E,aAAA,MAAIk2C,cAAX,kBACQ56C,EAAW0E,aAAO,MAAAk2C,cAAA,mBACzB3kD,KAAAgsC,MAAAjiC,EAAAoB,UAAAnL,KAAAgsC,QAAAjiC,EAAAoB,UAAA,iBAEMnL,KAAAytC,GAAA1jC,EAAAoB,UAAAnL,KAAQytC,KAAf1jC,EAAAoB,UAAA,YAIOnL,KAAAgsC,MAAAhsC,KAAAgsC,OAAA,gBACHhsC,KAAMytC,GAAAztC,KAAAytC,IAAkB,aAIJhoC,UAAAo8C,KAAA,WACpB7hD,KAAC0hD,UAAArmC,QAGEiqC,EAAA7/C,UAAAq8C,SAAU,WACb9hD,KAAK0hD,UAAAzoC,YAGkBxT,UAAAm/C,eAAA,SAAApjD,EAAAi7B,GACvBj7B,EAAC6vB,kBACJrxB,KAAAykD,mBAAAhoB,EAAA36B,KAEM9B,KAAAylD,WACCzlD,KAAK+5B,cAGSt0B,UAAaigD,WAAc,mCAChC1lD,KAAkB6iC,QAAQ7iC,KAAAwkD,aAAe1iD,UAC9C2jD,WACJzlD,KAAC+5B,YAUDurB,EAAA7/C,UAAAkgD,QAAU,SAAlBnkD,EAAA+a,GACa,KAAL/a,EAAKkyB,SAAA,KAAAlyB,EAAAkyB,UACLlyB,EAAK6vB,kBACL7vB,EAAMuC,iBACbgR,SAAAwH,GAAAA,GAAA,GAAAA,EAAAvc,KAAA6iC,QAAA5hC,SAELjB,KAAAykD,mBAACzkD,KAAA6iC,QAAAtmB,GAAAza,KAlGwC9B,KAAA+5B,sGCHzCurB,KAICM,gCAAAnmD,OAAA,uBAJYga,WAAA,gCAAA6rC,kJCEb,IAAAE,GAAA,WAAA,QAAAA,MAmBA,MAAAA,KAnBahmD,GAAAgmD,qBAAAA,wFCAb,IAAAI,GAAA,WAAA,QAAAA,MAGA,MAAAA,KAHapmD,GAAAomD,uBAAAA,wFCEb,IAAAC,GAAA,WAEI,QAAAA,MAEA,MAACA,QAEIA,uBAAoBA,oBAEjBllD,EAAalB,EAAAD,sCAEbA,EAAc,cAAO8D,OAAA,UACP,mBAEdwiD,GAAyBpE,QAC1BO,UAAAP,WAFiBv+C,SAAM,eAIlBsC,UAAkBwV,KAAA,SAAAjZ,EAAAysC,EAAA/C,kBAClBzwB,MACJinC,YAAClgD,EAAAR,MAELgkC,YAAA,oCACI/rB,WAAI,6CACA,QACJ2xB,OAACppC,EACFklC,kBAAA,EACN4c,qBAAA,IAEJvY,KAAA,SAAAt6B,GAEMw9B,GACKA,EAAAx9B,sCChCJxR,OAAA,uBACAkX,QAAA,sBAAsBmvC,QACGC,IAAA,SAAAplD,EAAAlB,EAAAD,GAEjC,YACA,SAAA4B,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAAlF,EAAAoF,eAAkCD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAElCvB,OAAAC,eAAA7D,EAAA,cAAmC8D,OAAA,IAGnCnC,QACA1B,OAAA,uBACA,6DCdAkB,EAAA,4BACAA,EAAA,0BACAA,EAAA,4BACAA,EAAA,gCACAA,EAAA,6BACAS,EAAAT,EAAA,6BACAS,EAAAT,EAAA,2BACAS,EAAAT,EAAA,+BAEAqlD,+BAAA,GAAAC,yBAAA,GAAAC,2BAAA,GAAAC,2BAAA,GAAAC,4BAAA,KAAAC,IAAA,SAAA1lD,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,wBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,2BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,uCACA,mYAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,wBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,2BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,wCACA,w6EAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,wBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,2BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,qCACA,0ZAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,wBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,2BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,6BACA,m+CAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA;;;ClH7DA,SAAAF,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAqmD,IAAA/mD,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gEmHAA,IAAA+mD,GAAA5lD,EAAA,qBAEA6lD,EAAA7lD,EAAA,qBACA8lD,EAAA9lD,EAAA,qBAKA+lD,EAAA,WAII,QAAAA,GACIviD,EACA7C,GAEAtB,KAAKyf,QAAUtb,EACfnE,KAAKuF,WAAajE,EAwF1B,MArFI8B,QAAAC,eAAWqjD,EAAAjhD,UAAA,cAAX,WACI,MAAOzF,MAAKyf,yCAGhBrc,OAAAC,eAAWqjD,EAAAjhD,UAAA,4BAAX,WACI,MAAOzF,MAAKyf,QAAQknC,0BAGxB,SAAgCrjD,GAC5BtD,KAAKyf,QAAQknC,qBAAuBrjD,MACpCtD,KAAKujC,mDAGTngC,OAAAC,eAAWqjD,EAAAjhD,UAAA,8BAAX,WACI,MAAOzF,MAAKyf,QAAQmnC,4BAGxB,SAAkCtjD,GAC9BtD,KAAKyf,QAAQmnC,uBAAyBtjD,MACtCtD,KAAKujC,mDAGTngC,OAAAC,eAAWqjD,EAAAjhD,UAAA,2BAAX,WACI,MAAOzF,MAAKyf,QAAQonC,yBAGxB,SAA+BvjD,GAC3BtD,KAAKyf,QAAQonC,oBAAsBvjD,MACnCtD,KAAKujC,mDAGTngC,OAAAC,eAAWqjD,EAAAjhD,UAAA,6BAAX,WACI,MAAOzF,MAAKyf,QAAQqnC,2BAGxB,SAAiCxjD,GAC7BtD,KAAKyf,QAAQqnC,sBAAwBxjD,MACrCtD,KAAKujC,mDAGFmjB,EAAAjhD,UAAAwV,KAAP,SAAY8rC,EAA+BC,GACvChnD,KAAKyf,QAAQonC,oBAAsBE,MACnC/mD,KAAKyf,QAAQqnC,sBAAwBE,MACrChnD,KAAKujC,mBAGFmjB,EAAAjhD,UAAA4V,KAAP,WACIrb,KAAKyf,QAAQonC,uBACb7mD,KAAKyf,QAAQqnC,yBACb9mD,KAAKujC,mBAGFmjB,EAAAjhD,UAAAwhD,YAAP,SAAmBjkB,EAAgBsO,GACjB,MAAVtO,GAAmBpgC,EAAEsnC,SAASoH,KAElC1uC,EAAE4N,KAAKxQ,KAAKyf,QAAQknC,qBAAsB,SAACjmD,GACnCA,EAAEoB,MAAQkhC,IACVtiC,EAAE4wC,MAAQA,KAElB1uC,EAAE4N,KAAKxQ,KAAKyf,QAAQonC,oBAAqB,SAACnmD,GAClCA,EAAEoB,MAAQkhC,IACVtiC,EAAE4wC,MAAQA,KAGlBtxC,KAAKujC,oBAGFmjB,EAAAjhD,UAAAyhD,YAAP,WACItkD,EAAE4N,KAAKxQ,KAAKyf,QAAQknC,qBAAsB,SAACjmD,GACvCA,EAAE4wC,MAAQ,OAEd1uC,EAAE4N,KAAKxQ,KAAKyf,QAAQonC,oBAAqB,SAACnmD,GACtCA,EAAE4wC,MAAQ,OAGdtxC,KAAKujC,mBAGDmjB,EAAAjhD,UAAA89B,gBAAR,WACIvjC,KAAKuF,WAAWG,MAAM8gD,EAAAW,oBAAqBnnD,KAAKyf,UAG7CinC,EAAAjhD,UAAA2hD,cAAP,WACIpnD,KAAKuF,WAAWG,MAAM+gD,EAAAY,4BAE9BX,KAEAY,EAAA,WAAA,QAAAA,KACYtnD,KAAAyf,QAAyB,GAAI8mC,GAAAgB,cAmDzC,MAhDInkD,QAAAC,eAAWikD,EAAA7hD,UAAA,cAAX,WACI,MAAOzF,MAAKyf,aAGhB,SAAkBnc,GACdtD,KAAKyf,QAAUnc,GAAS,GAAIijD,GAAAgB,+CAGhCnkD,OAAAC,eAAWikD,EAAA7hD,UAAA,4BAAX,WACI,MAAOzF,MAAKyf,QAAQknC,0BAGxB,SAAgCrjD,GAC5BtD,KAAKyf,QAAQknC,qBAAuBrjD,uCAGxCF,OAAAC,eAAWikD,EAAA7hD,UAAA,8BAAX,WACI,MAAOzF,MAAKyf,QAAQmnC,4BAGxB,SAAkCtjD,GAC9BtD,KAAKyf,QAAQmnC,uBAAyBtjD,uCAG1CF,OAAAC,eAAWikD,EAAA7hD,UAAA,2BAAX,WACI,MAAOzF,MAAKyf,QAAQonC,yBAGxB,SAA+BvjD,GAC3BtD,KAAKyf,QAAQonC,oBAAsBvjD,uCAGvCF,OAAAC,eAAWikD,EAAA7hD,UAAA,6BAAX,WACI,MAAOzF,MAAKyf,QAAQqnC,2BAGxB,SAAiCxjD,GAC7BtD,KAAKyf,QAAQqnC,sBAAwBxjD,uCAGlCgkD,EAAA7hD,UAAAW,MAAP,aAAY,SAAU9E,GAClB,UAKA,OAHqB,OAAjBtB,KAAKiG,WACLjG,KAAKiG,SAAW,GAAIygD,GAAe1mD,KAAKyf,QAASne,IAE9CtB,KAAKiG,WAEpBqhD,IAEAnmD,SACK1B,OAAO,cACP4G,SAAS,aAAcihD,qbCnKf9nD,EAAA2nD,oBAA8B,oBAC9B3nD,EAAA6nD,0BAAoC,yBAEjD,IAAAG,GAAA,WAAA,QAAAA,MA2BA,MAAAA,KA3BahoD,GAAAgoD,iBAAAA,CA6Bb,IAAAC,GAAA,SAAAp4C,GAAA,QAAAo4C,oDAEA,MAFgC57C,GAAA47C,EAAAp4C,GAEhCo4C,GAFgCD,EAAnBhoD,GAAAioD,WAAAA,CAIb,IAAAF,GAAA,WAAA,QAAAA,KAEWvnD,KAAA2mD,wBAEA3mD,KAAA6mD,uBAGA7mD,KAAA4mD,0BAEA5mD,KAAA8mD,yBACX,MAAAS,KAVa/nD,GAAA+nD,cAAAA,uFClCb,IAAAG,GAAA,mBAqBQA,GAAW/tC,EAAA7P,EAAA+P,EAAAvY,EAAAgB,EAAA8gC,EAAAukB,EAAAtjD,EAAAuV,GAZf,UACY,IAAAtK,GAAAtP,IACAA,MAAA2Z,SAASA,EACT3Z,KAAA8J,UAAAA,EACA9J,KAAA6Z,OAAAA,EACA7Z,KAAAsB,WAAAA,EACAtB,KAAAsC,QAASA,EACTtC,KAAAojC,UAAUA,EAQlBpjC,KAAK2nD,WAAaA,EAClB3nD,KAAI+pC,cAAK/pC,KAAiB8J,UAAKE,IAAA,gBAAchK,KAAkB8J,UAAA5D,IAAA,gBAAA,KAC3DlG,KAAK+pC,eAAc/pC,KAAA+pC,cAAsB9/B,uBACrC8/B,cAAA9/B,gBAAoB,MACpB29C,mBAAA,uBACDC,uBAAA,+DAEC9d,cAAA9/B,gBAAoB,MACpB29C,mBAAA,uBAEDC,uBAAA,2DAMP7nD,KAAK2Z,SAAAgD,SAAe,4BAChBrb,WAAKC,IAAA,oBAA+B,SAACC,EAAA2C,GACtCmL,EAAAw4C,iBAAAtmD,EAAA2C,KA1CX,MASIujD,GAAAvkD,SACY,WACA,YACsB,SACtB,aAEA,UACA,YACR,aACsB,OAAA,YA6BDsC,UAAGsiD,QAAA,WACpB/nD,KAAKgoD,eACRhoD,KAAA2nD,WAAAd,oBAAA7mD,KAAAgoD,cAGGhoD,KAAKioD,gBACRjoD,KAAA2nD,WAAAhB,qBAAA3mD,KAAAioD,eAGJjoD,KAAAmE,OAAAnE,KAAA2nD,WAAAxjD,UAGwBsB,UAAAqiD,iBAAA,SAAAtmD,EAAA2C,GACxBnE,KAAAmE,OAAAA,KAIuBsB,UAAWyiD,SAAQ,SAAQllB,GAClD,MAAAA,GAAAU,SAAAV,EAAAU,OAAAV,MAGwBv9B,UAAQ0iD,YAAgB,SAAInlB,SACnC,QAAVA,EAAOsO,OAAGtO,EAAAsO,OAAA,EACb,GAEGtO,EAAOsO,MAAI,GACd,IAGJn+B,OAAA6vB,EAAAsO,UAGwB7rC,UAAU2iD,YAAC,SAAAplB,EAAAqlB,MAC5BrlB,IAAOA,EAAAslB,YAIPtlB,EAAAulB,WAEH,WADGF,GAAOroD,KAAAwoD,iBAIP5lD,EAAAwX,WAAa4oB,EAAOylB,OAEvB,WADGzlB,GAAOylB,MAAAzlB,MAIPA,EAAKY,KAER,YADG5jC,KAAAsC,QAAO2B,SAAA2/B,KAAAZ,EAAAY,SAIPZ,EAAKjhC,IAER,WADG/B,MAAAojC,UAAOrhC,IAAAihC,EAAAjhC,QAIPihC,EAAIrgC,UACA3C,KAAI8J,UAAmCE,IAAK,eAAc,CAC1D,GAAI6V,GAAS7f,KAAA8J,UAAAE,IAAA,gBAAAhK,KAAA8J,UAAA5D,IAAA,UAAA,IACT2Z,IACHA,EAAA9c,GAAAigC,EAAArgC,MAAAqgC,EAAAa,kBAMLb,GAAKxhC,MACRxB,KAAAsB,WAAAwe,WAAAkjB,EAAAxhC,OAGAxB,KAAAsB,WAAAwe,WAAA,mBAAAkjB,EAAAlhC,QAGR4lD,KAYGgB,GACAV,aAAa,mBACbC,cAAc,oBACjBO,aAAA,sBAED,WAMA,QAACG,MAND,MAMCA,sBAKO5B,IACA7pC,SAAAwrC,EACAljB,YAAY,8BACd/rB,WAAAiuC,WAKGjoD,OAAA,cAEJ0d,UAAA,oBAAA4pC,0CC/JL3jD,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OASIslD,GAAA,mBAAAA,GAiCChvC,EAAA9P,EAAAzF,EAAA/C,EAAAgB,EAAA8gC,EAAAukB,EAAAhuC,GAhCW,UACA,IAAArK,GAAAtP,IACAA,MAAA4Z,OAAAA,EACA5Z,KAAA8J,UAAUA,EACV9J,KAAAqE,KAAOA,EACPrE,KAAAsB,WAAAA,EACAtB,KAAAsC,QAAUA,EAMlBtC,KAAAojC,UAAiBA,EAEjBpjC,KAAI2nD,WAAKA,IACLhrC,SAAW,yBACd3c,KAAAgoD,eAEGL,EAAKb,sBAAgB9mD,KAAAgoD,cAExBhoD,KAAAioD,gBAEGN,EAAUf,uBAAkB5mD,KAAAioD,oBAG5B9jD,OAAKwjD,EAAAxjD,OACTnE,KAAGsB,WAAAC,IAAA,oBAAA,SAAAC,EAAA2C,GAECmL,EAACw4C,iBAAetmD,EAAA2C,KAEpBnE,KAAGsB,WAAAC,IAAA,0BAAA,WAEN+N,EAAAu5C,sBAoHC,SA3Ia1lD,SAAA,SAAA,YAAA,OAAA,aAAA,UAAA,YAAA,aAAA,YA2BfylD,EAACnjD,UAAAqjD,QAAA,SAAAC,GAEM/oD,KAAAgpD,QAAAD,GAEPH,EAACnjD,UAAAojD,kBAAA,WAEM7oD,KAAAgpD,aAEavjD,UAAAwjD,SAAA,SAAAZ,EAAAltB,GACnBn7B,KAAAwoD,aAAArtB,EAEOktB,EAAAltB,IAERytB,EAACnjD,UAAAqiD,iBAAA,SAAAtmD,EAAA2C,GAEMnE,KAAAmE,OAAAA,GAGPykD,EAACnjD,UAAAyiD,SAAA,SAAAllB,GAEM,MAAAA,GAAAU,SAAAV,EAAAU,OAAAV,MAEWv9B,UAAA0iD,YAAA,SAAAnlB,GACd,MAAC,QAAAA,EAAAsO,OAAAtO,EAAAsO,OAAA,EACU,GAEVtO,EAAAsO,MAAA,GAEM,IAIHn+B,OAAA6vB,EAAAsO,UACkB7rC,UAAAyjD,YAAA,SAAA5b,GAEtB,GAAEh+B,GAAKtP,KACHsxC,EAAK,CAQN,iBAPa,SAAAtO,GACX1zB,EAAA44C,SAAAllB,IACFsO,MAKAA,KAEkB7rC,UAAY0jD,wBAA0B,WAC9D,MAAAnpD,MAAAkpD,YAAAlpD,KAAAmE,OAAAyiD,wBAAA,GAEM5mD,KAAAkpD,YAAAlpD,KAAAmE,OAAA2iD,uBAAuB,KAELrhD,UAAY2jD,wBAA0B,WAC9D,MAAAppD,MAAAkpD,YAAAlpD,KAAAmE,OAAAyiD,wBAAA,GAEM5mD,KAAAkpD,YAAAlpD,KAAAmE,OAAA2iD,uBAAY,KAEJrhD,UAAA2iD,YAAA,SAAAplB,EAAAqlB,GACX,GAACrlB,IAAAA,EAAAslB,QAAD,IASItlB,EAAOulB,WAGP,WAFHF,GAAAroD,KAAAwoD,iBAIGxlB,EAAOylB,MAGP,WAFHzlB,GAAAylB,MAAAzlB,MAIGA,EAAOY,KAGP,YAFH5jC,KAAAsC,QAAA2B,SAAA2/B,KAAAZ,EAAAY,SAIGZ,EAAOjhC,IAGP,WAFH/B,MAAAojC,UAAArhC,IAAAihC,EAAAjhC,UAIOY,UACA3C,KAAI8J,UAASE,IAAA,eAAA,IACT6V,GAAS7f,KAAC8J,UAAcE,IAAA,gBAAoBhK,KAAA8J,UAAA5D,IAAA,UAAA,IAC/C2Z,IACJA,EAAA9c,GAAAigC,EAAArgC,MAAAqgC,EAAAa,kBAMJb,GAAAxhC,MAAKxB,KAAEsB,WAAAwe,WAAAkjB,EAAAxhC,OAIXxB,KAAAsB,WAAAwe,WAAA,mBAAAkjB,EAAAlhC,QAYC8mD,KAEFS,GACHrB,aAAA,mBAEDC,cAAA,sBAKC,WAAD,QAAAqB,MAGC,MAAAA,sBAGOtC,IACA9pC,SAAUmsC,EACZ7jB,YAAA,gCAEF/rB,WAAOmvC,WAINnpD,OAAA,uJCtLL2D,OAAAC,eAAA7D,EAA0B,cAAA8D,OAAA,IAC1BnC,QAAA1B,OAAA,cAA0B,aAAA,mBAAA,cAC1BkB,EAAA,oBAEAA,EAAA,oLCHA,oBAGI0C,eAAA7D,EACI,cACA8D,OACA,UAEW,mBAEXimD,GAAkB5vC,EAAcrY,EAAAkoD,GAChC,UAEA,IAAIl6C,GAAOtP,IAEX2Z,GAAAgD,SAAe,gBACPA,SAAC,oBACT3c,KAAGmE,OAAAqlD,EAAArlD,OACN7C,EAAAC,IAAA,mBAAA,SAAAC,EAAA2C,GAEMmL,EAAAm6C,gBAAAjoD,EAAA2C,KAOP,SAxBAhB,SAeC,WAAA,aAAA,aAMLomD,EAAA9jD,UAACgkD,gBAAA,SAAAjoD,EAAA2C,GAAAnE,KAAAmE,OAAAA,GAGSolD,KAGFG,GACHvrC,YAAA,EAEDqnB,YAAO,gCACK+jB,EAGfpoD,2DCxCDkgB,GAAA,SAAA1gB,EAAAlB,EAAAD,uBAIC6D,eAAA7D,EAAA,cAAA8D,OAAA,OAADqmD,GAAA,WAJA,QAICA,wCCDDxiD,GAAA,SAAAxG,EAAAlB,EAAAD,sCAamBA,EAAA,cAAA8D,OAAA,UAiBd,mBAfQsmD,GAAmB/vC,EAAOF,EAAAC,EAAkBvV,EAAA/C,EAAAkoD,GACjD,UAGA,IAAIl6C,GAActP,IAClBA,MAAI6Z,OAAUA,OACVgwC,UAAK12C,OAAayG,EAAsB,oBACxCkwC,WAAc,IAClB,IAAChrC,GAAA9e,KAAA6pD,UAAAp4C,QAAA,IAEGqN,GAAC,IACL9e,KAAA8pD,WAAe9pD,KAAA6pD,UAAoBz4C,OAAA0N,EAAwB,GACvD9e,KAAI6pD,UAAC7pD,KAAgB6pD,UAAMz4C,OAAO,EAAA0N,IAGzC9e,KAAAypD,gBAAA,KAAAD,EAAArlD,QAEO7C,EAAAC,IAAA,mBAAA,SAARC,EAAA2C,GACQmL,EAAKm6C,gBAAoB,KAAOtlD,cA3B5BhB,SAAiB,SAAA,WAAA,SAAA,OAAA,aAAA,eAiCVsC,UAAYgkD,gBAAW,SAAAjoD,EAAA2C,MAClC+a,GAAK/a,EAAO+a,UACnBD,EAAAC,EAAAlf,KAAA6pD,WAELpvC,KAAAza,KAAA8pD,WAAC7qC,GAAAjf,KAAA8pD,WAAA7qC,EAAAxE,IAAAza,KAAA6Z,OAAA,UAGA7Z,KAAA6Z,OAAA,QAAAY,IAEOmvC,yBAMIG,GAAUzrC,iBAEVC,GAAAD,EAAe,UAEfH,WAAMI,EAAAJ,oBAEII,EAACC,kBACHD,EAAOE,kBACTF,EAAA3T,gBACF,EACJG,KAAC,SAAA8O,EAAAF,EAAAC,GACDA,EAAY,KAAA,WACd,MAAAC,GAAA,SAGE0E,EAAOxT,KAAA2T,MAAYH,EAAA2B,YAG1BzG,WAAAmwC,KAnBOzmD,SAAY,kFCnDxBkE,GAAA,SAAA1G,EAAAlB,EAAAD,sCAGqDA,EAAA,cAAgC8D,OAAA,UACjE3C,EAAS,oBACxBqpD,mBAAA,sBAEDC,GAAA,mBAAAA,GAAA9lD,EAAA7C,QACIA,WAAYA,EAChBtB,KAACyf,QAAAtb,qDAAA+B,IAAA,WAED,MAAAlG,MAAAyf,qBACW,EACX1Z,cAAC,iDAAAG,IAAA,WAED,MAAAlG,MAAAyf,QAAWE,qBACA,EACX5Z,cAAC,0BAGgBkkD,EAAaxkD,UAAO,aACjC,WACH,MAAAzF,MAAAyf,QAAAP,uBALAlf,KAAAyf,QAAAP,MAAA5b,MAOMtD,KAAA4f,mBAEH9Z,YAAY,EACZC,cAAa,MAEJN,UAAUwV,KAAA,SAAkBiE,EAACS,EAAAuqC,GACtClqD,KAACyf,QAAAhF,SAAA,EACDza,KAAKyf,QAAAP,MAAeA,GAAGlf,KAAAyf,QAAAP,UAC1Blf,KAAAyf,QAAAE,QAAAA,GAAA3f,KAAAyf,QAAAE,YAEMuqC,GACClqD,KAACmqD,UAAQD,GAEhBlqD,KAAA4f,qBAGQna,UAAe4V,KAAK,WAC5Brb,KAAAyf,QAAAhF,SAAA,EAEOza,KAAA4f,qBACCna,UAAa2kD,WAAA,WAElBpqD,KAAIyf,QAAAE,QAAmB/c,EAAAwd,OAAIpgB,KAAAyf,QAAkBE,QAAO,SAAAQ,GAAA,MAAAA,GAAAkqC,WAAA,mBAE5C5kD,UAAK0kD,UAAgB,SAAKvkC,MAC9BtW,GAAGtP,IACPA,MAACoqD,aAAO,MAAFxkC,GAAEA,EAAA3kB,OAAA,EACJ2B,EAAA4N,KAAKoV,EAAe,SAAM0kC,GAC7Bh7C,EAAAmQ,QAAAE,QAAApP,KAAA,cAAA+5C,UAGY7qC,QAAAE,QAAApP,KAAA,iBACR9K,UAAU8kD,UAAa,WAE/B,IAAA,GADO3kC,MACP3F,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IAEM2F,EAAA3F,GAAAC,UAAYD,EAEfjgB,MAAKmqD,UAAAvkC,GACR5lB,KAAA4f,qBAEDna,UAKC+kD,aAAA,WALexqD,KAAAoqD,kBAAAxqC,mDAGZ,IAAG,GAFDtQ,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACCN,EAACM,GAAAC,UAAkBD,EAGpBrd,GAAA4N,KAAAmP,EAAA,SAAAQ,GAAP7Q,EAAAmQ,QAKCE,QAAApP,KAAA4P,UALkBP,sDAGf,IAAG,GAFDtQ,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACCN,EAACM,GAAAC,UAAkBD,EAGpBrd,GAAA4N,KAAAmP,EAAA,SAAIQ,GACH7Q,EAACmQ,QAAaE,QAAS/c,EAAAwd,OAAM9Q,EAAAmQ,QAAAE,QAAA,SAAAU,GAAA,MAAAA,IAAAF,MAEpCngB,KAAA4f,qBAGQna,UAAW6a,KAAW,SAAAA,EAAAhd,GAC9BtD,KAAAyf,QAAAP,MAAAoB,GAAAhd,EACLtD,KAAA4f,mBAEAqqC,EAAAxkD,UAAAma,gBAAA,WAAA5f,KAAAsB,WAAAwe,WAAAtgB,EAAAwqD,mBAAAhqD,KAAAyf,iBAIiB,mBACXgrC,KAoDLzqD,KAAAyf,SAjDGhF,SAAA,WACIkF,yCAIY8qC,EAAgBhlD,UAAA,UAChCS,IAAC,gCAJAC,IAAA,SAAA7C,GAMDtD,KAAAyf,QAAWnc,GAAA,GAAAonD,GAAAf,0BACA,EACX5jD,cAAC,0BAGgB0kD,EAAahlD,UAAO,SAErCS,IAAC,sCALAC,IAAA,SAAA7C,GAODtD,KAAAyf,QAAAP,MAAW5b,mBACA,EACXyC,cAAC,0BAGgB0kD,EAAehlD,UAAO,WACvCS,IAAC,wCAJAC,IAAA,SAAA7C,GAMMtD,KAAAyf,QAAAE,QAAArc,OAASwC,YAAA,gBAAA,oCAGZ,IAAG,GAFDwJ,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACNN,EAAAM,GAAAC,UAAAD,EAEDrd,GAAA4N,KAAAmP,EAAA,SAICQ,GAJkB7Q,EAAAmQ,QAAoBE,QAAApP,KAAA4P,yCAGnC,IAAG,GAFD7Q,GAAKtP,KACH2f,KACDM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACNN,EAAAM,GAAAC,UAAAD,EAGGrd,GAAA4N,KAAKmP,EAAQ,SAAWQ,GAC3B7Q,EAAAmQ,QAAAE,QAAA/c,EAAAwd,OAAA9Q,EAAAmQ,QAAAE,QAAA,SAAAU,GAAA,MAAAA,IAAAF,SAKY1a,UAAY6a,KAAK,SAAAA,EAAAhd,QACtBmc,QAAKP,MAAQoB,GAAOhd,GAG5BmnD,EAAChlD,UAAAW,MAAA,aAAA,SAAA9E,GACL,UAGK,OAHJ,OAAAtB,KAAAiG,WAEMjG,KAAAiG,SAAA,GAAAgkD,GAAAjqD,KAAAyf,QAAAne,IACKtB,KAAAiG,+GC1JZ,qBACK7E,GAAOsD,GAEZ,IAAA,GAAAC,KAAAD,GAAwBlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAExBvB,OAAAC,eAAkB7D,EAAA,cAAA8D,OAAA,IAClBnC,QAEA1B,OAAA,aAAA,aAAgC,8FCJhC2B,EAAAT,EAAA,sBAEAgqD,WAAA,EAAAC,iBAAA,EAAAC,eAAA,EAAAC,kBAA0D,IAAAvhD,IAAA,SAAA5I,EAAAlB,EAAAD,GAE1D,oBAMI6D,eAAA7D,EAAA,cAEY8D,OAA0B,UAQvB3C,EAAA,yBAcdA,EAAA,yBAvBWA,EAAA,6BACA,mBAEAoqD,GAASzpD,EAA0BgB,EAAA8gC,EAAAt5B,EAAAkhD,EAAAnP,EAAAv3C,EAAAqV,GAS3C,UAEA,IAAIrK,GAAOtP,IAEXA,MAAAsB,WAAeA,OACXgB,QAAKA,EACTtC,KAAGojC,UAAAA,EACHpjC,KAAA8J,UAAeA,EAEf6P,EAAIgD,SAAW,kBACf3c,KAAKmE,OAAS6mD,EAAa7mD,OAC9B7C,EAAAC,IAAA0pD,EAAAC,uBAAA,SAAA1pD,EAAA2C,GAEOmL,EAAA67C,oBAAA3pD,EAAA2C,KAEP7C,EAAAC,IAAA6pD,EAAAC,oBAAA,WAAA/7C,EAAAg8C,oBAEO,IAAAjvC,GAAAvS,EAAAE,IAAA,YAAgBF,EAAxB5D,IAAA,YAAA,IACIlG,MAAIurD,OAAsCx2C,SAAZsH,EAAkBA,EAAAw/B,EA6EvD,SAzGe14C,SAA8B,aAAA,UAAA,YAAA,YAAA,gBAAA,WAAA,SAAA,cA+BPsC,UAAY0lD,oBAAY,SAAA3pD,EAAA2C,QACnDA,OAAMA,KAELsB,UAAA6lD,iBAAA,cAACt8C,GAAMhP,KAAAmE,OAAA6K,mBACCA,IAAQA,EAAQ/N,OAAO,EAAA,CAChC,GAACwP,GAAAzB,EAAAA,EAAA/N,OAAA,EACJ2B,GAAAwX,WAAA3J,EAAAg4C,OAAOh4C,EAAAg4C,MAAAh4C,GAGXzQ,KAAAsC,QAAAE,QAAAC,WAKIzC,MAAAsC,QAAAE,QAAAC,UAIegD,UAAW6V,QAAA,SAAA7K,GAC9B7N,EAAAwX,WAAA3J,EAAAg4C,QAEMh4C,EAAAg4C,MAAAh4C,IAKAs6C,EAAAtlD,UAAA+lD,WAAP,WACIxrD,KAAKsB,WAAAwe,WAAqB2rC,EAAAC,kBAE9BX,EAACtlD,UAAAkmD,eAAA,SAAAl7C,GAEM,MAAAtP,SAAAsM,QAAAgD,EAAA83C,aAAgB93C,EAAvB83C,WAAwBtnD,OAAwB,KAEjCwE,UAAAmmD,WAAA,SAAAvD,EAAA7mD,GACXxB,KAACwoD,aAAAhnD,EAED6mD,EAAMroD,KAAWwoD,iBAEN/iD,UAAAomD,iBAAA,SAAA7oB,GACX,GAACA,IAAAA,EAAAslB,QAAD,IAII1lD,EAAAwX,WAAO4oB,EAAAylB,OAGP,WAFHzlB,GAAAylB,MAAAzlB,MAIGA,EAAOY,KAGP,YAFH5jC,KAAAsC,QAAA2B,SAAA2/B,KAAAZ,EAAAY,WAIO7hC,IAEJ,iBADIqhC,UAAUrhC,IAAAihC,EAAYjhC,IAG9B,IAACihC,EAAArgC,OAEG,GAAA3C,KAAO8J,UAAQE,IAAA,UAAA,CACX,GAAC6V,GAAW7f,KAAA8J,UAAW5D,IAAO,SAC9B2Z,GAAC9c,GAAAigC,EAAergC,MAAKqgC,EAAAa,kBAIzBb,GAAKxhC,OACRxB,KAAAsB,WAAAwe,WAAAkjB,EAAAxhC,OACJxB,KAAAwoD,aAAA,OAGCxoD,KAAmCsB,WAAAwe,WAAA,mBAAAkjB,EAAAlhC,MAC7B9B,KAAIwoD,aAAA,QAGfuC,mFCzHDtrD,OAAA,iBAAA0d,UAAA,gBAAA2uC,+BAEkD,GAAAC,sBAAA,KAAAliD,IAAA,SAAAlJ,EAAAlB,EAAAD,uBAEjD6D,eAAA7D,EAAA,cAAA8D,OAAA,OAAD0oD,GAAA,WAJA,QAICA,KAJYhsD,KAAAgsC,MAAA,KAMbhsC,KAAAyoD,MAAA,KAAAzoD,KAAAuoD,WAAA,KAIA,MAAAyD,KAJaxsD,GAAAwsD,eAAAA,4CCJAxsD,GAAAysD,iBAAAA,OAGb1hD,IAAA,SAAA5J,EAAAlB,EAAAD,sCAIgBA,EAAA,cAAgC8D,OAAA,UAGzB3C,EAAO,wBACzBuqD,uBAAA,yBAEDG,oBAAW,0BAAX,mBACIa,GAAmB5qD,EAAC6C,GACxBnE,KAACsB,WAAAA,iBAyDD,cAzDC+B,eAAA6oD,EAAAzmD,UAAA,UAEDS,IAAA,iBAAAlG,MAAAyf,SAEA3Z,YAAC,gBAED,0BAEiBomD,EAAazmD,UAAA,YAE1B,WACH,MAAAzF,MAAAyf,QAAArU,sBAPApL,KAAAyf,QAAArU,KAAA9H,EASDtD,KAAAyf,QAAAzQ,MAAW,UAAX4Q,mBAEA9Z,YAAC,gBAED,0BAEiBomD,EAAczmD,UAAA,aAE3B,WACH,MAAAzF,MAAAyf,QAAAzQ,uBAPAhP,KAAAyf,QAAArU,KAAA,KASDpL,KAAAyf,QAAAzQ,MAAW1L,OAAXsc,mBAEA9Z,YAAC,gBAED,0BAESomD,EAAkBzmD,UAAA,YAC3BS,IAAC,yCALAC,IAAA,SAAA7C,GAOMtD,KAAAyf,QAAA0sC,SAAA7oD,EACCtD,KAAC4f,mBAEL9Z,YAAY,EACZC,cAAK,IAGFmmD,EAAAzmD,UAAA2mD,SAAS,SAAhBhhD,EAAwC+gD,GACpCnsD,KAAKyf,QAAQrU,KAAKA,EAClBpL,KAAKyf,QAAQzQ,MAAO,KACpBhP,KAAKyf,QAAQ0sC,SAAWA,EACxBnsD,KAAK4f,mBAGFssC,EAAAzmD,UAAA4mD,UAAA,SAAPr9C,EAAAm9C,GACInsD,KAAKyf,QAAAzQ,MAAWA,MACnBhP,KAAAyf,QAAArU,KAAA,KACLpL,KAAAyf,QAAA0sC,SAACA,EAAAnsD,KAAA4f,mBAGDssC,EAAAzmD,UAAAma,gBAAA,WACY5f,KAAAsB,WAA4Bwe,WAAItgB,EAAA0rD,uBAAmBlrD,KAAAyf,UAG3DysC,OACgB,mBACfI,UAED7sC,QAAgB,GAAA8sC,GAAaN,+BAE5B5oD,eAAAipD,EAAA7mD,UAAA,iDAEMU,IAAA,SAAA7C,GACHtD,KAAAyf,QAAWrU,KAAA9H,eAGF,EAETyC,cAAY,IAEpBumD,EAAA7mD,UAACW,MAAA,aAAA,SAAA9E,GAAA,UAKI,OAFE,OAAAtB,KAAAiG,WACKjG,KAAAiG,SAAgB,GAAAimD,GAAA5qD,EAAAtB,KAAAyf,UACdzf,KAAAiG,8EChGdumD,qBAAe,KAAA7hD,IAAkB,SAAAhK,EAAclB,EAAAD,GAE/C,YACA,SAAA4B,GAAAsD,GAEA,IAAA,GAAAC,KAAAD,GAAAlF,EAAAoF,eAAoCD,KAAAnF,EAAAmF,GAAAD,EAAAC,4JCKpChE,EAAA,yBAWIA,EAAA,yCAGS,GAAMorD,sBAAiB,KAAYvgD,IAAmB,SAAU7K,EAAIlB,EAAWD,sCAE/EA,EAAa,cAAc8D,OAAA,UAC3B,mBAEAmpD,GAAU3iD,GACf,UACA9J,MAAK0pD,OAAO5/C,EAAUE,IAAI,aAAiCF,EAAU5D,IAAI,aAAgB,KAC5FlG,KAAA0sD,KAAA5iD,EAAAE,IAAA,cAAAF,EAAA5D,IAAA,cAAA,KAEMlG,KAAA8rD,WAAAhiD,EAAPE,IAAA,iBAAAF,EAAA5D,IAAA,iBAAA,KAEIlG,KAAIstC,QAAWxjC,EAAGE,IAAA,cAAAF,EAAA5D,IAAA,cAAA,UACdyP,OAAK7L,EAAcE,IAAA,aAAAF,EAAA5D,IAAA,aAAA,KACvBlG,KAAC2sD,QAAA7iD,EAAAE,IAAA,cAAAF,EAAA5D,IAAA,cAAA,KAGDlG,KAAI4sD,OAAU9iD,EAAEE,IAAA,gBAAAF,EAAA5D,IAAA,gBAAA,UACZ2mD,KAAK/iD,EAAaE,IAAG,cAAAF,EAAA5D,IAAA,cAAA,KtG1ChC,SsG4BY/C,SAAS,eAkBVsC,UAAKqC,MAAa,WAClB9H,KAAK0pD,QACR1pD,KAAA0pD,OAAAzuC,OAIGjb,KAAK0sD,MACR1sD,KAAA0sD,KAAAI,WAIG9sD,KAAK8rD,YACR9rD,KAAA8rD,WAAAM,SAAA,MAGGpsD,KAAKstC,SACRttC,KAAAstC,QAAAryB,OAGTjb,KAAA2V,QAAC3V,KAAA2V,OAAAxP,IAAA,MAGWnG,KAAA2sD,SACA3sD,KAAC2sD,QAAA1xC,QtGrEZwxC,oBAKW,4CACgDA,qBAGzC9rD,EAAAlB,EAAeD,GAI9B,QAAOiM,GAAA3B,iBAEFC,GAAkBD,EAAEE,IAAA,gBAE5BF,EAAA5D,IAAA,gBAAA,sDANGuF,EAACtI,SAAA,4BuGkBO,8BAVQ,YAAAsI,qBAaH9K,EAASlB,EAAGD,SAGR,mBACFutD,GAAelzC,EAAYhW,EAAA8V,EAAAC,EAAA9P,EAAAzF,EAAA/C,EAAAu6C,aAElC77C,MAAC6Z,OAAAA,EAED7Z,KAAK6D,SAAUA,EAGf7D,KAAKgtD,UAAWljD,EAAWE,IAAC,YAAeF,EAAQ5D,IAAA,YAAqB,KACxElG,KAAKitD,UAAWnjD,EAAKE,IAAO,YAAcF,EAAa5D,IAAI,YAAY,KACnElG,KAACgtD,UACRhtD,KAAAktD,aAAAltD,KAAAgtD,UAAAjK,MAGYzhD,EAAa,SAClBtB,KAAAktD,aAAY5rD,EAAa,QAC3BtB,KAAKmtD,YAACvzC,EAAA,OAAA,IAAA,OAAA5Z,KAAAktD,aAAA,cACJE,MAAOxqD,EAAKwN,YAACpQ,KAAAitD,WAAApR,EAAA77C,KAAAitD,UACjBjtD,KAACstC,QAAAttC,KAAAstC,SAAA1qC,EAAA6K,QAAAzN,KAAAstC,SAAAttC,KAAAstC,WACJttC,KAAAqtD,YAAArtD,KAAAqtD,aAAA,EA6CJ,SA/DQlqD,SAAA,SAAA,WAAA,WAAA,SAAA,YAAA,OAAA,aAAA,cAoBLsC,UAWCgX,SAAA,WAVG,QAAIzc,KAAC6b,YACI7b,KAAO6b,gBAOTpW,UAAAs0B,SAAA,SAAAxd,GACP,GAACjN,GAAAtP,IACJA,MAAAqtD,YAAA9wC,EAEMvc,KAAAstD,QACCttD,KAAAstD,OAAgBttD,KAAAstC,QAAA/wB,GAAAvc,KAAAqtD,aAEhBrtD,KAAAutD,WACHvtD,KAAA6D,SAAA,WAAOyL,EAAAi+C,eAKhBR,EAAAtnD,UAACwV,KAAA,WAcK,OAAAjb,KAAAwtD,kBACaxtD,KAAAwtD,gBAMlBT,KAEDU,GASA5xC,WAAC,IAADyxB,QAAA,cATAkgB,aASC,WAEKH,YAAiC,kBACnCC,OAAQ,qBACRC,UAAW,QAEb,WAEF,QAAOG,YAEFA,qECpHLvsD,SAaI1B,OAAA,eAAA,+BAUI,cAAWkuD,qBARHhtD,EAAAlB,EAAsBD,sCAGtBA,EAAA,cAA4B8D,OAAA,UAZd,mBAsBjBsqD,GAAYj0C,EAAAE,EAAAxV,EAAA/C,EAAAuC,EAAAgqD,EAAAC,GAEjB,cACIx+C,GAAKtP,IACTA,MAAG2Z,SAAAA,EACH3Z,KAAK6Z,OAAAA,OACDvY,WAAKA,EACTtB,KAAG6D,SAAAA,EAEN7D,KAAA6tD,aAAAA,EAEM7tD,KAAA+tD,SAAA,KAEHp0C,EAAIgD,SAAQ,8BACRqxC,YACJhuD,KAACiuD,wBAAA3sD,EAAAC,IAAA,sBAAA,SAAAga,EAAApX,GACGmL,EAAA4+C,mBAAwB3yC,EAAApX,KAE5BnE,KAACmuD,2BAAA7sD,EAAAC,IAAA,yBAAA,SAAAga,EAAA5Y,GACJ2M,EAAA8+C,eAAA7yC,EAAA5Y,cArBYQ,SAAS,WAAA,SAAyB,OAAA,aAAA,WAAA,eAAA,iBAwB5BsC,UAAQ4oD,WAAc,WAEjCltD,QAACiZ,WAASpa,KAAAiuD,0BACVjuD,KAAIiuD,kCAGA7zC,WAAcpa,KAAAmuD,kCAMdA,gCAKK1oD,UAAYuoD,UAAI,iBACrBhuD,UACHsuD,WAAAtuD,KAAA2Z,SAAAnB,KAAA,oCAED3U,SAAK,WACNyL,EAAIi/C,MAAAj/C,EAAAqK,SAAAnB,KAAA,qCACVlJ,EAAAi/C,MAAA,IAEOj/C,EAAAi/C,MAAA,GAAAvmC,OAAA,WAAR,MAAA1Y,GAAAk/C,eACSl/C,EAAKi/C,MAAA,GAAaE,QAAO,WAAA,MAAAn/C,GAAAo/C,kBAGzBp/C,EAAQi/C,MAAOvmC,OAAC,WAAoB,MAAS1Y,GAAAk/C,eAC7Cl/C,EAAQi/C,MAAOE,QAAC,WAAoB,MAASn/C,GAAAo/C,iBAErDp/C,EAAA4+C,mBAAA,KAAA5+C,EAAAu+C,aAAA1pD,SAeO,KAERypD,EAACnoD,UAAAkpD,WAAA,WAAC3uD,KAAA6tD,aAAA1pD,SAEFnE,KAAAgsC,MAAAhsC,KAKC6tD,aAAA1pD,OAAA6nC,MAJGhsC,KAAI4uD,SAAK5uD,KAAA6tD,aAAmB1pD,OAAAyqD,cAACb,SAAO/tD,KAAA6tD,aAAA1pD,OAAA4pD,SACpC/tD,KAAK6uD,SAAO7uD,KAAO6tD,aAAA1pD,OAAA0qD,aAEhBppD,UAAA+oD,YAAA,WACNxuD,KAAA8uD,kBAAA9uD,KAAAuuD,UAED9oD,UAUCipD,aAAA,WATG,GAAIp/C,GAAKtP,IAAgBA,MAAA+uD,yBAGrBl1C,OAAKiK,OAAS,aACVkrC,SAAK1/C,EAAUu+C,aAAY1pD,QAAQ,QAGlCsB,UAAa2oD,eAAM,SAAA5sD,EAAAmB,GAC5B,GAAC2M,GAAAtP,IACJ+U,UAAApS,IAGmB,UAAZA,EAAAwF,GAOAnI,KAAC6D,SAAa,WACdyL,EAAU2/C,WAAYtsD,GAAiB,UAAdA,EAAWwF,IACpC,KAGAnI,KAAAivD,YAAU,MAEExpD,UAAAqpD,kBAA2B,SAAAP,MACvCW,MAAU/pC,EAAqBnlB,KAAMsuD,WAAQ9yC,MAAAxb,KAAAsuD,WAAA9yC,QAAAxb,KAAAsuD,WAAAa,YAAAjgC,EAAAlvB,KAAAsuD,WAAArsC,OAAAjiB,KAAAsuD,WAAArsC,SAAAjiB,KAAAsuD,WAAAl4B,aAAAg5B,EAAAb,EAAA,GAAA,cAAAA,EAAA/yC,MAAA6zC,EAAAd,EAAA,GAAA,eAAAA,EAAAtsC,OAAAqtC,EAAA,CAC7CF,GAAUjqC,EAAiBkqC,EAAcngC,GACzCogC,KAAUF,EAAaC,EAAGngC,EAAsB/J,GAAA,GAChD+pC,EAAU,eAAiB,GAAGI,EAAA,KACjCJ,EAAA,OAAA,GAAAhgC,EAAA,KAEDggC,EAAqB,MAAA,GAAAE,EAAAlgC,EAAAmgC,EAAA,KACxBH,EAAA,cAAA,KAGOI,KAAQD,EAAAD,EAAAjqC,EAAA+J,GAAA,GAACggC,EAAO,cAAA,GAAAI,EAAA,KAEhBJ,EAAY,OAAA,GAAAG,EAAAlqC,EAAAiqC,EAAA,KAEZF,EAAgB,MAAA,GAAO/pC,EAAW,KAClC+pC,EAAM,eAAgB,IACxBX,EAAM9yC,IAAAyzC,MAGPzpD,UAAAupD,SAAA,SAAA7qD,EAAAorD,GAED,GAAIprD,EAAJ,CAEA,GAACpC,IAAMwtD,GAACprD,EAAA4pD,SACJhsD,EAAKoC,EAAA4pD,UAIL/tD,KAAA+uD,oBAAA,EACAhtD,EAACoC,EAAOqrD,iBAERztD,GAAM/B,KAAGuuD,MACTvuD,KAACuuD,MAAQhmC,KAAG,MAAOxmB,GAInB/B,KAACsuD,WAAe7yC,IAAE,UAAM,YAIZhW,UAAUyoD,mBAAqB,SAAC3yC,EAAApX,GACnDA,IAEJnE,KAAAgsC,MAAA7nC,EAAA6nC,MAEKhsC,KAAS4uD,SAAyBzqD,EAAAyqD,SACpC5uD,KAAA+tD,SAAa5pD,EAAA4pD,SACb/tD,KAAA6uD,SAAY1qD,EAAA0qD,SACd7uD,KAAAgvD,SAAA7qD,GAAA,OAGUsB,UAAegqD,YAAA,WACtBzvD,KAAAsB,WAAUwe,WAAgB,kEChMnCrG,WAAAm0C,EAeAzsD,SAAA1B,OAAA,gBAAC0d,UAAA,eAAAuyC,2GCfD,QAAAC,MAKA,MAAAA,QAGwDA,gBAAAA,OAIpDC,IAAA,SAAAjvD,EAAWlB,EAAAD,sCACAA,EAAY,cAAC8D,OAAA,UACvB3C,EAAA,4FAAAkvD,GAAA1rD,EAAA7C,GAEDtB,KAAAsB,WAAWA,OAAXme,QAAAtb,gBAECd,eAAAwsD,EAAApqD,UAAA,cAED,WACI,MAAKzF,MAAOyf,SAEhB3Z,YAAC,2BALAzC,eAAAwsD,EAAApqD,UAAA,SAODS,IAAA,iBAAAlG,MAAAyf,QAAAusB,OAEA7lC,IAAC,SAAA7C,QAEDmc,QAAoBusB,MAAa1oC,EAC7BtD,KAAK4f,mBAET9Z,YAAC,2BALAzC,eAAAwsD,EAAApqD,UAAA,YAODS,IAAA,iBAAAlG,MAAAyf,QAAAmvC,UAEAzoD,IAAC,SAAA7C,QAEDmc,QAAoBmvC,SAAatrD,EAC7BtD,KAAK4f,mBAET9Z,YAAC,2BALAzC,eAAAwsD,EAAApqD,UAAA,YAODS,IAAA,iBAAAlG,MAAAyf,QAAAsuC,UAEA5nD,IAAC,SAAA7C,QAEDmc,QAAiBsuC,SAAiBzqD,EAC9BtD,KAAK4f,mBAET9Z,YAAC,2BALAzC,eAAAwsD,EAAApqD,UAAA,SAODS,IAAA,iBAAAlG,MAAAyf,QAAAgpC,OAEAtiD,IAAC,SAAA7C,QAEDmc,QAAiBgpC,MAAanlD,EAC1BtD,KAAK4f,mBAET9Z,YAAC,2BALAzC,eAAAwsD,EAAApqD,UAAA,SAOMS,IAAA,WACC,MAAClG,MAAQyf,QAAQje,OAErB2E,IAAK,SAAQ7C,GAETtD,KAAEyf,QAAWje,MAAA8B,EACbtD,KAAK4f,mBACP9Z,YAAM,gBACC,MAEHL,UAASwV,KAAe,SAAI+wB,EAAA4iB,EAAAb,EAAA+B,QAC9BrwC,QAAKusB,MAAQA,EACjBhsC,KAACyf,QAAAmvC,SAAAA,EAAC5uD,KAAKyf,QAACsuC,SAAAA,EACJnrD,EAAAwX,WAAa01C,GAChB9vD,KAAAyf,QAAAgpC,MAAAqH,EAIE9vD,KAAAyf,QAAAgpC,MAAA,KAEC7lD,EAAC0U,SAAQw4C,GACT9vD,KAACyf,QAAQje,MAAWsuD,EAGpB9vD,KAACyf,QAAAje,MAAkB,KAGnBxB,KAAA4f,mBAERiwC,EAACpqD,UAAA4V,KAAA,WACLrb,KAAAyf,QAAAusB,MAAC,KAAAhsC,KAAAyf,QAAAmvC,SAAA,KAED5uD,KAAAyf,QAAAsuC,SAAA,KAAA/tD,KAAAyf,QAAAgpC,MAAA,KACYzoD,KAAAyf,QAAOje,MAAwB,KA6F1CxB,KAAA4f,qBA1FGna,UAAAma,gBAAA,gBACIte,WAAYoE,MAAAlG,EAAQuwD,sBAAA/vD,KAAAyf,iBAKvB,iEAEDrc,QAAAC,eAAW2sD,EAAAvqD,UAAA,cAAX,WACI,MAAOzF,MAAKyf,aAGhB,SAA2Bnc,GACvBtD,KAAKyf,QAAQnc,GAAA,GAAe2sD,GAASN,iDAGzCvsD,OAAAC,eAAW2sD,EAAAvqD,UAAA,uBAAX,WACI,MAAOzF,MAAKyf,QAAQ+vC,qBAGxB,SAAiBlsD,GACbtD,KAAKyf,QAAQ+vC,gBAAclsD,mCAG/BF,OAAAC,eAAW2sD,EAAAvqD,UAAA,aAAX,WACI,MAAOzF,MAAKyf,QAAQusB,WAGxB,SAAoB1oC,GAChBtD,KAAKyf,QAAQusB,MAAQ1oC,mCAGzBF,OAAAC,eAAW2sD,EAAAvqD,UAAA,gBAAX,WACI,MAAOzF,MAAKyf,QAAQmvC,cAGxB,SAAoBtrD,GAChBtD,KAAKyf,QAAQmvC,SAAWtrD,mCAG5BF,OAAAC,eAAW2sD,EAAAvqD,UAAA,gBAAX,WACI,MAAOzF,MAAKyf,QAAQsuC,cAGxB,SAAiBzqD,GACbtD,KAAKyf,QAAQsuC,SAAQzqD,mCAGzBF,OAAAC,eAAW2sD,EAAAvqD,UAAA,aAAX,WACI,MAAOzF,MAAKyf,QAAQgpC,WAGxB,SAAiBnlD,GACbtD,KAAKyf,QAAQgpC,MAAQnlD,mCAGlBF,OAAAC,eAAA2sD,EAAPvqD,UAA0B,SACtBS,IAAK,WACD,MAAClG,MAAQyf,QAAWje,OAGxB2E,IAAK,SAAC7C,GACFtD,KAAKyf,QAAQje,MAAQ8B,GACvBwC,YAAM,gBACC,MAEKL,UAACU,IAAe,SAAI6lC,EAAA4iB,EAAAb,EAAA+B,QAC9BrwC,QAAKusB,MAAQA,EACjBhsC,KAACyf,QAAAmvC,SAAAA,EAAC5uD,KAAKyf,QAACsuC,SAAAA,EACJnrD,EAAAwX,WAAa01C,GAChB9vD,KAAAyf,QAAAgpC,MAAAqH,EAIG9vD,KAACyf,QAAQgpC,MAAY,KAErB7lD,EAAC0U,SAAQw4C,GACT9vD,KAACyf,QAAQje,MAAYsuD,EAItB9vD,KAAAyf,QAAAje,MAAA,QAIMiE,UAAeyqD,MAAA,WAExBlwD,KAAAyf,QAAYusB,MAAS,KACxBhsC,KAAAyf,QAAAmvC,SAAA,KAEL5uD,KAAAyf,QAAAsuC,SAAC,KAAA/tD,KAAAyf,QAAAgpC,MAAA,KAGMzoD,KAAAyf,QAAAje,MAAA,QAEOiE,UAAgBW,MAAA,aAAmB,SAAA9E,oGChMjDH,SAEA1B,OAAA,gBACA4G,SAAA,eAAqB2pD,uQCHrBrvD,EAAA,eAGAS,EAAAT,EAAA,uCAWU,GAAAwvD,qBAAW,KAAAC,IAAA,SAAAzvD,EAAAlB,EAAAD,uBAEjB6D,eAAiB7D,EAAA,cAAA8D,OAAA,SAGrB+sD,IAAA,SAAA1vD,EAAAlB,EAAAD,uBAOC6D,eAAA7D,EAAA,cAAA8D,OAAA,OAADgtD,GAAA3vD,EAAC,6BAPD4vD,EAOC5vD,EAAA,oBAED6vD,GAQI7vC,KAAA,qBAQI,qBARJ,gBAEmB,mBAUf8vC,YAIAA,MAEG,WAIA,QAAAC,GAAApvD,EAAPgB,EAAAqX,EAAAE,EAAAxV,EAAAssD,GACI,cACIrhD,GAAKtP,IACTA,MAACsB,WAAAA,EACDtB,KAAIsC,QAAKA,IACAqa,SAAO,gBAChB3c,KAACmE,OAAAwsD,EAAAxsD,OACDnE,KAAI4wD,QAAWtvD,EAACC,IAAA,oBAAA,SAAAC,EAAA2C,GACZmL,EAAKuhD,iBAAkBrvD,EAAM2C,WAVrCusD,GAACvtD,SAAA,aAAA,UAAA,WAAA,SAAA,OAAA,cAcMutD,EAAAjrD,UAAAsiD,QAAU,WACT/nD,KAAE2gB,OACF3gB,KAAKmE,OAAOwc,KAAG3gB,KAAA2gB,MAEtB3gB,KAAA+tD,WAEM/tD,KAAAmE,OAAA4pD,SAAA/tD,KAAA+tD,UAEN/tD,KAAA0sD,OAEM1sD,KAAAmE,OAAAuoD,KAAA1sD,KAAA0sD,SAIFjnD,UAAA4oD,WAAA,WAAKzrD,EAACwX,WAASpa,KAAO4wD,UACnB5wD,KAAK4wD,aAEAnrD,UAAWorD,iBAAW,SAAArvD,EAAA2C,GAC/BnE,KAACmE,OAAAA,KACQsB,UAAeqrD,eAAQ,WAC/BluD,EAAAwX,WAAApa,KAAAmE,OAAAskD,OAAKzoD,KAAEmE,OAAAskD,QAEPzoD,KAAAmE,OAAA3C,MACJxB,KAAAsB,WAAAwe,WAAA9f,KAAAmE,OAAA3C,OAEJ,QAAAxB,KAAAmE,OAAAwc,KAEY3gB,KAAyBsB,WAAAwe,WAAAwwC,EAAAS,kBAEF,QAAnB/wD,KAAAmE,OAAAwc,KACb3gB,KAAYsC,QAAAE,QAAiBC,OAIrBzC,KAAAsB,WAAawe,WAAAywC,EAAAS,+BCxGzB9zC,SAAAszC,EAAAhrB,YAAA,oBAWA/rB,WAACi3C,EAADvvD,SAXa1B,OAAA,cAWX0d,UAAA,aAAA8zC,6ICXF,IAAAC,GAAA,WAGa,QAAAA,MAGb,MAAAA,QAGsDA,cAAUA,OAI5DC,IAAA,SAAAxwD,EAAWlB,EAAAD,sCACAA,EAAY,cAAC8D,OAAA,UACvB3C,EAAA,6GAAA,WAEO,QAAAywD,GAAAjtD,EAAA7C,GACJtB,KAAKsB,WAAYA,OACbme,QAAKtb,gBAERd,eAAA+tD,EAAA3rD,UAAA,UAACS,IAAK,WACH,MAAKlG,MAAOyf,SAEhB3Z,YAAC,EAACC,cAAM,MAECN,UAAQ4rD,mBAAa,SAAAvB,GAC7BltD,EAAAwX,WAAA01C,IACJ9vD,KAAAyf,QAAAgpC,MAAAqH,EAEM9vD,KAAAyf,QAAAje,MAAA,MAEEoB,EAAA0U,SAAAw4C,IACD9vD,KAACyf,QAAAgpC,MAAkB,KAC1BzoD,KAAAyf,QAAAje,MAAAsuD,IAIO9vD,KAACyf,QAAYgpC,MAAQ,KACrBzoD,KAACyf,QAAAje,MAAmB,OAIrB4vD,EAAA3rD,UAAAqnD,SAAP,SAAgBgD,GACZ9vD,KAAKyf,QAAQkB,KAAO,OACpB3gB,KAAKqxD,mBAAmBvB,GACxB9vD,KAAK4f,mBAGFwxC,EAAA3rD,UAAA6rD,SAAS,SAAhB5E,EAAiBoD,GACb9vD,KAAKyf,QAAQkB,KAAO,OACpB3gB,KAAKyf,QAAQitC,KAAAA,EACb1sD,KAAKqxD,mBAAmBvB,GACxB9vD,KAAK4f,mBAGFwxC,EAAA3rD,UAAA8rD,SAAP,SAAAzB,GACI9vD,KAAKyf,QAAQkB,KAAO,OACpB3gB,KAAKqxD,mBAAmBvB,GACxB9vD,KAAK4f,mBAGDwxC,EAAA3rD,UAAA+rD,UAAA,SAARzD,EAAA+B,GACI9vD,KAAKyf,QAAAkB,KAAW,QACnB3gB,KAAAyf,QAAAsuC,SAAAA,EACL/tD,KAAAqxD,mBAACvB,GAAA9vD,KAAA4f,mBAEDwxC,EAAA3rD,UAAA4V,KAAA,WACYrb,KAAAyf,QAAOkB,KAAsB,OAyDxC3gB,KAAAqxD,mBAAA,MAtDGrxD,KAAA4f,qBACWna,UAAKma,gBAAQ,WACxB5f,KAACsB,WAAAwe,WAAAtgB,EAAAiyD,oBAAAzxD,KAAAyf;iCAAAzf,KAAAyf,QAAA,GAAAiyC,GAAAR,4BAOM7tD,eAAcsuD,EAAiBlsD,UAAA,cAC9B,WACA,MAAAzF,MAAAyf,SAEJtZ,IAAK,SAAU7C,GACXtD,KAAKyf,QAAQnc,GAAQ,GAAAouD,GAAgBR,2BAC/B,EACbnrD,cAAA,MAGeN,UAAQ4rD,mBAAO,SAAAvB,GACvBltD,EAACwX,WAAA01C,GACR9vD,KAAAyf,QAAAgpC,MAAAqH,EAGO9vD,KAACyf,QAAYgpC,MAAG,KAChB7lD,EAAC0U,SAAQw4C,GACT9vD,KAACyf,QAAAje,MAAmBsuD,EAGrB9vD,KAAAyf,QAAAje,MAAA,QAEEiE,UAAAmsD,QAAmB,SAAiB9B,GAC5C9vD,KAAAyf,QAAAkB,KAAA,OAEM3gB,KAAAqxD,mBAAAvB,MAESrqD,UAASosD,QAAW,SAACnF,EAAAoD,GACjC9vD,KAAKyf,QAAAkB,KAAA,OACR3gB,KAAAyf,QAAAitC,KAAAA,EAEM1sD,KAAAqxD,mBAAAvB,MAEErqD,UAAAqsD,QAAyB,SAAAhC,GACjC9vD,KAAAyf,QAAAkB,KAAA,OAEM3gB,KAAAqxD,mBAAAvB,MAGMrqD,UAAYupD,SAAK,SAAAjB,EAAA+B,QACtBrwC,QAAKkB,KAAW,QAEpB3gB,KAAAyf,QAAYsuC,SAASA,EACxB/tD,KAAAqxD,mBAAAvB,IAxDL6B,EA0DClsD,UAAAyqD,MAAA,WAGMlwD,KAAAyf,QAAAkB,KAAA,OACF3gB,KAAOqxD,mBAAa,mJC/HzBlwD,SACA1B,OAAA,cACA4G,SAAA,aAA0BsrD,KAI1BI,kBAAA,KAAAC,IAAA,SAAgCrxD,EAAAlB,EAAAD,GAEhC,0PzIVCmB,EAAA,oBACDA,EAAA,aACAS,EAAAT,EAAA,oBACAS,EAAAT,EAAA,uBAEAsxD,oBAAkB,GAAAC,YAAA,GAAAH,kBAAA,GAAAI,mBAAA,KAAApM,IAAA,SAAAplD,EAAAlB,EAAAD,GAClB,YACA,SAAA4B,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAmBlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAEnBvB,OAAAC,eAAgB7D,EAAA,cAAA8D,OAAA,IAChB3C,EAAA,kCACAA,EAAA,sCAEAA,EAAO,yBACF,iBACG,eACA,cACA,cACA,kBACA,eACA,cACA,YACA,YACA,+BAEAlB,OAAA,UACA,gBACF,wBAEE,YACA,eACA,aACA,gBACA,oBACA,aACF,aAEN,aACA,iBAGA2yD,SAAA,eACAC,eAAA,QAEAC,kBAAA,6D0I7CCC,oBAAA,GACGC,2BAAA,UAUQ,kBARG,iBACA,qBASE,kBAGL,eAEK,2BAGR,EAAAC,WAAA,GAAAC,eAAA,GAAAC,sBAAA,GAAAtqB,iCAAA,GAAAuqB,sBAAA,GAAAC,WAAA,GAAAC,SAAA,GAAAC,qCAAA,GAAAC,SAAA,GAAAC,WAAA,GAAAC,YAAA,GAAAC,cAAA,KAAA9M,IAAA,SAAA1lD,EAAAlB,EAAAD,SAED,mBAEC4zD,GAAAz5C,EAAA7P,EAAAxI,yCAAAtB,KAAAsD,MAAA,KAEMtD,KAAAqzD,WAAAvpD,EAAAE,IAAA,gBAAAF,EAAP5D,IAAA,gBAAuC,KACnCyT,EAAKgD,SAAY,uBACpB3c,KAAAszD,aAAAtzD,KAAAuzD,WAEMvzD,KAAAsD,MAAAtD,KAAAsD,OAAAtD,KAAAuzD,UAAA,YAPsBpwD,SAAK,WAAmB,YAAQ,oCASxCiwD,EAAS3tD,UAAA,gBAEtB,WAEH,MAAAzF,MAAAqzD,WAAArzD,KAAAqzD,WAAAznD,SAAA,MAGT9F,YAAA,EAACC,cAAA,IAUGqtD,EAAuB3tD,UAAA6tD,aAAA,SAAAC,GACvBvzD,KAAOuzD,UAASA,EAAAtyD,OAAA,EAAAsyD,GAAA,KAAA,OAGdH,EAAgD3tD,UAAA+tD,gBAAA,SAAA5nD,GACxC,MAAF5L,KAAEqzD,aACVrzD,KAAasD,MAAAsI,EACb5L,KAAYqzD,WAAAznD,SAAA5L,KAAAsD,QAIL8vD,KAELK,aACS,aAElBnwD,MAAA,oEC7DAmW,WAAA25C,kBA4BW,kCAdJ,mBA+CC,+BA7CW,oBAA0BM,qBAG1B/yD,EAAQlB,EAARD,sCAEAA,EAAA,cAA2B8D,OAAA,eAyM3C,QAACqwD,6CChOQnuB,YAAA,oBAEb/rB,WAAAm6C,EAII1wC,aAAA,eD4Ba,mBAGL0wC,GAAkB/5C,EAAAvX,EAAsB8gC,EAAC9hC,EAAAuC,EAAAgwD,EAAAC,EAAAn6C,EAAA7P,EAAAgkD,GAEzC,UAEA,IAAIx+C,GAACtP,IAELA,MAAK6Z,OAAAA,EAEL7Z,KAAKsC,QAAAA,EAELtC,KAAIojC,UAAAA,OACA9hC,WAAKA,EACTtB,KAAG6D,SAAAA,EACH7D,KAAI6zD,WAAAA,OACAC,WAAKA,EACT9zD,KAAG6f,OAAA/V,EAAAE,IAAA,UAAAF,EAAA5D,IAAA,UAAA,KAEHlG,KAAK+zD,mBAAqBjG,EAAE0E,2BACxBxyD,KAAIg0D,mBAAmBr6C,EAAAyL,SAAqBA,WACxCzI,SAAA,4BACHs3C,SAAAj0D,KAAA6Z,OAAA,UAAA7Z,KAAA8zD,WAAAG,cACDC,kCACIl0D,KAAA8zD,WAA0BK,iBAC7B/F,eAAA,KAAApuD,KAAA6zD,WAAAlxD,MACL,IAAGyxD,GAAAp0D,KAAAsB,WAAAC,IAAA,oBAAA,SAAAga,EAAApX,GAENmL,EAAA+kD,gBAAA94C,EAAApX,KAGOgqD,EAAmBnuD,KAAAsB,WAAAC,IAAA,yBAAA,SAAAga,EAAA5Y,GACnB2M,EAAA8+C,eAAmB7yC,EAAK5Y,IAE5B3C,MAAC6Z,OAAAtY,IAAA,WAAA,WAAOJ,QAAAiZ,WAAAg6C,IACJA,IAGCjzD,QAAWiZ,WAAG+zC,IACtBA,eAvCYhrD,SAAA,SAAqB,UAAe,YAAY,aAAA,WAAA,aAAA,aAAA,WAAA,YAAA,iBA0CxBsC,UAAAyuD,eAAA,WAEjC,GAAII,EAGAA,GADAnzD,QAAKiZ,WAAWpa,KAAA6Z,OAAA,WACX7Z,KAAA6Z,OAA8B,YAE9B7Z,KAAA6Z,OAA4B,aAAA,GAAwB,UAAxB7Z,KAAsB6Z,OAAE,UAE7D7Z,KAAKu0D,YAAWD,GAGbV,EAAAnuD,UAAA+uD,SAAP,WACIx0D,KAAOu0D,cAGXv0D,KAAAy0D,UASCz0D,KAAAy0D,SAROz0D,KAAAy0D,SACFz0D,KAAKg0D,mBAAgBp3C,YAAkB,wBAGrC5c,KAACg0D,mBAAAr3C,SAAA,wBAGL3c,KAAAsB,WAAcoE,MAAA,iBAAA1F,KAAAy0D,YAGVb,EAAAnuD,UAAAyiD,SAAA,SAARz3C,GACI,MAAKA,IAAOA,EAAAizB,SAAAjzB,EAAAizB,OAAAjzB,MACChL,UAAUivD,eAAS,SAAAC,GACnC,GAAArlD,GAAAtP,KAEOiR,GAAA,CAQJ,OANArO,GAAE4N,KAAGmkD,EAAM,SAAA5pD,GAACuE,EAAO44C,SAAAn9C,KAEdkG,GAAW,KAIXA,GAGF2iD,EAAAnuD,UAAA4uD,gBAAP,SAAiC94C,EAAApX,GACzBA,kBAGWA,EAAK8vD,aAEnBxuD,UAAA2oD,eAAA,SAAA5sD,EAAAmB,GAAMA,qBAEYA,EAACiyD,YACfH,SAAA9xD,EAAAkyD,WACL70D,KAAC80D,eAAAnyD,EAAAmyD,eAAC90D,KAAK+0D,aAAepyD,MAER8C,UAAMuvD,SAAA,SAAAjqD,MAChBA,EAACkqD,aACJ,GAAA,MAAAj1D,KAAA6f,QAAA7f,KAAA6f,OAAAq1C,SAAAnqD,EAAAkqD,aAAS,OAAM,MAGX,IAAAlqD,EAAApI,OACJ,GAAA,MAAA3C,KAAA6f,QAAA7f,KAAA6f,OAAAq1C,SAAAnqD,EAAApI,OAEM,OAAM,MAGjB,IAAAoI,EAAA64B,MACI,GAAM74B,EAAA64B,KAAA7tB,MAAkB,KAAA,KAAA/V,KAAAsC,QAAA2B,SAAA2/B,KAAA7tB,MAAA,KAAA,GAEnB,OAAO,MAIX,IAAAhL,EAAAhJ,KAEOgJ,EAAKhJ,IAAGgU,MAAA,YAAA,KAAA/V,KAAAojC,UAAArhC,MAAAgU,MAAA,YAAA,GACR,OAAK,SAIR,KAGItQ,UAAS0vD,UAAA,SAAA3zD,EAAAuJ,SACV/K,cACHqxB,kBAEDtmB,IAGI64B,KACA74B,EAAA64B,KAAO7tB,MAAA,KAAA,KAAA/V,KAAAsC,QAAA2B,SAAA2/B,KAAA7tB,MAAA,KAAA,OACV/V,MAAA6zD,WAAA7sD,cAIG6sD,WAAK7sD,YACThH,MAAG6D,SAAK,WAERyL,EAAOhN,QAAA2B,SAAA2/B,KAAA74B,EAAA64B,MACV5jC,KAAA+zD,qBAEOhpD,EAAKhJ,IAELgJ,EAAAhJ,IAAOgU,MAAA,YAAA,KAAA/V,KAAAojC,UAAArhC,MAAAgU,MAAA,YAAA,OACV/V,MAAA6zD,WAAA7sD,cAIG6sD,WAAW7sD,YACfhH,MAAG6D,SAAK,WAERyL,EAAO8zB,UAAArhC,IAAAgJ,EAAAhJ,MACV/B,KAAA+zD,qBAEAhpD,EAAApI,MAEsB,MAAlB3C,KAAA6f,QAAmB7f,KAAA6f,OAAAu1C,QAAAtzD,OAAAiJ,EAAApI,UAC3B3C,MAAA6zD,WAAA7sD,SASChH,KAAA6zD,WAAoC7sD,YAC9BhH,MAAE6D,SAAA,WACCyL,EAAAuQ,OAAA9c,GAAgBgI,EAAApI,MAAAoI,EAAA84B,cAC7B7jC,KAAA+zD,sBAIchpD,EAAMvJ,OACdxB,KAAOsB,WAAAwe,WAAe/U,EAAAvJ,MAAAuJ,OAEtB/K,MAAA6zD,WAAa7sD,aAjDZhH,MAAA6zD,WAAA7sD,SAmDD4sD,KAEPyB,GAEDpB,SAAO,0BACK,iBCjNZ9yD,SAEA1B,OAAA,wBAAA,aAAAk0D,wBAIAhzD,EAAoBlB,EAAuBD,sCAElCA,EAAA,cAAkB8D,OAAA,MAC3BgyD,oBAAC,qDALAt1D,KAAAyf,QAAAtb,EAODnE,KAAAuF,WAAWjE,+BACKi0D,EAAQ9vD,UAAY,YACpCS,IAAC,iBAeDlG,MAAuByf,QAAaw0C,cAEhC,SAAK3wD,GACRtD,KAAAyf,QAAAw0C,SAAA3wD,8BAlBAwC,YAAA,EAEMC,cAAA,0BAC4CwvD,EAAA9vD,UAAA,eAE/CS,IAAE,WACE,MAAOlG,MAAEyf,QAAO00C,0BAEN7wD,GACVtD,KAAGyf,QAAA00C,YAAA7wD,EACJtD,KAAAujC,mBAGNz9B,YAAA,EAOMC,cAAA,MAC4CN,UAAA+vD,iBAAA,SAAAzqD,EAAA4c,GAEnC,MAAV5c,GAAkBnI,EAAA0U,SAAUqQ,iBAElBlI,QAAMw0C,SAAS,SAAA1zD,YACdk1D,MAAM,SAAS10D,GACrBA,EAAAe,MAAAiJ,IACJhK,EAAA20D,WAAA/tC,OAKA3nB,KAAAujC,sBAEQ99B,UAASwhD,YAAE,SAAAl8C,EAAAumC,GACZ,SAAQ1uC,EAAKsnC,SAAAoH,KAEvB1uC,EAAE4N,KAACxQ,KAAAyf,QAAAw0C,SAAA,SAAA1zD,GAECqC,EAAC4N,KAAAjQ,EAAAk1D,MAAe,SAAG10D,GAC1BA,EAAAe,MAAAiJ,IAEOhK,EAAAuwC,MAAAA,OAGZtxC,KAAAujC,oBAEAgyB,EAAA9vD,UAAAyhD,YAAA,WAAAtkD,EAAA4N,KAAAxQ,KAAAyf,QAAAw0C,SAAA,SAAA1zD,GACYqC,EAAA4N,KAAAjQ,EAAOk1D,MAAkB,SAAA10D,GAC7BA,EAAAuwC,MAAY,SA6BnBtxC,KAAAujC,qBAxBG99B,UAAA89B,gBAAA,gBACIh+B,WAAYG,MAAAlG,EAAQ81D,oBAASt1D,KAAAyf,iBAKhC,sCAJAw0C,YAMDE,YAAA,8BAEC9wD,eAAAsyD,EAAAlwD,UAAA,gBAED,WACI,MAAKzF,MAAOyf,QAACw0C,uDAGVnuD,YAAA,EACHC,cAAW,0BAGM4vD,EAAOlwD,UAAoB,eAE5CS,IAAA,WACH,MAAAlG,MAAAyf,QAAA00C,aACJhuD,IAAA,SAAA7C,GAEMtD,KAAAyf,QAAA00C,YAAA7wD,GAEFwC,YAAS,yEC5Gd,OAH6B,OAArB9F,KAAOiG,WAEfjG,KAAAiG,SAA0B,GAAAsvD,GAAAv1D,KAAAyf,QAAAne,IAC1BtB,KAAAiG,+FCDA,YAEA7C,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,YAOI7D,OAAA,cAAA,aAEY,mBACiB,uBAEzB,sBALJ,2BAEY,GAAAm2D,mBAAgC,KAAAC,IAAA,SAAAl1D,EAAAlB,EAAAD,sCAJvBA,EAAQ,cAAK8D,OAAA,aAY9B,SAAW3C,EAAGlB,EAAUD,sCAEZA,EAAG,cAAe8D,OAAA,UACrB3C,EAAA,qBACN,WAGA,QAAAm1D,GAAAn8C,EAAArY,EAAPy0D,GACI,cACIzmD,GAAKtP,IACTA,MAAC2Z,SAAAA,EACJ3Z,KAAAsB,WAAAA,EAEOtB,KAAAg2D,SAAA,EACJh2D,KAAI2V,QAAYvK,KAAG,MACVuR,SAAS,uBACdxY,OAAK4xD,EAAe5xD,OAExBnE,KAACi2D,cAACj2D,KAAK4wD,QAACtvD,EAAAC,IAAAkqD,EAAAyK,mBAAA,SAAA10D,EAAA2C,GACJmL,EAAK6mD,gBAAS30D,EAAY2C,KCxCtC,MD0BI2xD,GAAC3yD,SAAA,WAAA,aAAA,aAiBD2yD,EAACrwD,UAAA4oD,WAAA,WAEOzrD,EAAAwX,WAAApa,KAAA4wD,UACA5wD,KAAC4wD,aAGWnrD,UAAGwwD,YAAA,WACtBj2D,KAAAg2D,SAEOh2D,KAAA2Z,SAAAgD,SAAA,aACJ3c,KAAA2Z,SAAWyL,SAAAzI,SAAA,4BAGHhD,SAAQiD,YAAQ,aACpB5c,KAAE2Z,SAAAyL,SAAAxI,YAAA,yBAIUnX,UAAQ0wD,gBAAgB,SAAA30D,EAAA2C,GACxCnE,KAAKmE,OAAOA,EACZnE,KAAKg2D,SAAS,EACdh2D,KAAK2V,OAAAvK,KAAc,GACtBpL,KAAAi2D,iBAGgBxwD,UAAY2wD,UAAK,WAE9BphD,WAAW,WACP,GAAChK,GAAUiK,EAAK,mBACfjK,GAAW/J,OAAG,GAEX+J,EAAQmpB,eAER1uB,UAAA+lB,OAAA,gBACJ7V,OAAKvK,KAAUpL,KAACmE,OAAWgoD,SAC/BnsD,KAACg2D,SAAA,EACJh2D,KAAAo2D,YAEMp2D,KAAAi2D,iBAEaxwD,UAAU6V,QAAA,cACtB3F,GAAK3V,KAAS2V,OAAGvK,IACrBpL,MAAC2V,OAAAvK,KAAA,GAACpL,KAAKg2D,SAAC,OACJC,cACAj2D,KAAKmE,OAAA4hB,SACL/lB,KAAKmE,OAAO4hB,SAAGpQ,GAIhB3V,KAAAsB,WAAAwe,WAAA2rC,EAAP4K,qBAAqC1gD,MAKlBlQ,UAAOyqD,MAAU,WAC5BlwD,KAAK2V,OAAOvK,MACZpL,KAAK2V,OAAAvK,KAAc,GACtBpL,KAAAo2D,cAERp2D,KAAAg2D,SAAA,EAEKh2D,KAAkCi2D,cACpCj2D,KAAasb,YAIjBw6C,EAAOrwD,UAAAszB,UAAA,SAAAv3B,GACoB,KAAfA,EAAAkyB,QACP1zB,KAAUsb,gEC/Gfw6C,KAWAQ,GAXA9wB,YAWC,wBAXY/rB,WAAAq8C,gECGAS,kBAAA,KAAkBC,IAAA,SAAA71D,EAAgBlB,EAAAD,GAClC,YACA4D,QAAAC,eAAA7D,EAAqB,cAAkB8D,OAAC,GACxC,IAAAmzD,GAAA,WAEb,QAAAA,YAGIA,QAIIA,aAAeA,WAGf,SAAW91D,EAAIlB,EAAAD,uBAGnB6D,eAAA7D,EAAW,cAAA8D,OAAA,UAAX3C,EAAA,oCACgB,kBAChB+1D,iBAAC,2GAAA,WAED,QAAAC,GAAWxyD,EAAA7C,SAAXtB,UACIsB,WAAYA,EAChBtB,KAACyf,QAAAtb,IAED5C,IAAoB/B,EAAaksD,gBAAA,WAAAp8C,EAAAzI,SACxBtF,IAAA/B,EAAQk3D,iBAAiB,WAAApnD,EAAAtI,QAkEtC,cAhEK3D,eAAAszD,EAAAlxD,UAAA,8CAEDK,YAAA,gBAAA,WAECzC,eAAAszD,EAAAlxD,UAAA,gBAED,WACI,MAAKzF,MAAOyf,QAAO0sC,UAEvBhmD,IAAC,SAAA7C,mDAEDwC,YAAA,gBAAA,WAECzC,eAAAszD,EAAAlxD,UAAA,cAED,WACI,MAAKzF,MAAOyf,QAAQzd,QAExBmE,IAAC,SAAA7C,iDAEDwC,YAAA,gBAAA,WAECzC,eAAAszD,EAAAlxD,UAAA,eAED,WACI,MAAKzF,MAAOyf,QAACjd,SAEjB2D,IAAC,SAAA7C,kDAEMwC,YAAA,EACHC,cAAa,WAEb1C,eAAaszD,EAAgBlxD,UAAA,YAC7BS,IAAK,WACD,MAAClG,MAAAyf,QAAkBsG,UAGpB5f,IAAA,SAAA7C,GACCtD,KAACyf,QAAQsG,SAAeziB,EACxBtD,KAAC4f,mBAEL9Z,YAAK,EACRC,cAAA,MAGQN,UAAeU,IAAG,SAAK4f,EAAAomC,EAAAnqD,EAAAQ,GAC5BxC,KAAKyf,QAAAsG,SAAkBA,EAC1B/lB,KAAAyf,QAAA0sC,SAAAA,EAEMnsD,KAAAyf,QAAAzd,OAAAA,EACHhC,KAAKyf,QAAQjd,QAAUA,EACvBxC,KAAK4f,mBAGF+2C,EAAAlxD,UAAAyqD,MAAM,WACTlwD,KAAKyf,QAAQsG,SAAW,KACxB/lB,KAAKyf,QAAA0sC,SAAkB,KAC1BnsD,KAAAyf,QAAAzd,OAAA,KAEOhC,KAAA4f,mBAER+2C,EAAClxD,UAAAoB,KAAA,WACL7G,KAAAyf,QAAAhF,SAAC,EAAAza,KAAA4f,mBAED+2C,EAAAlxD,UAAAuB,MAAA,WACYhH,KAAAyf,QAAOhF,SAAqB,EAC5Bza,KAAA4f,mBAED+2C,EAAAlxD,UAAAua,OAAP,WACIhgB,KAAAyf,QAAWhF,SAAAza,KAAAyf,QAAAhF,QAEXza,KAAI4f,qBAGGna,UAAama,gBAAC,WACxB5f,KAAAsB,WAAAwe,WAAAtgB,EAAA02D,mBAAAl2D,KAAAyf,UACJk3C,OAIa,iFChHdC,GAAenxD,UAAcW,MAAG,aAAc,SAAA9E,GAE9C,UAGA,OAF0B,OAA1BtB,KAAAiG,WACAjG,KAAAiG,SAAyB,GAAA0wD,GAAA32D,KAAAyf,QAAAne,IACzBtB,KAAAiG,+CCJAI,SAAA,YAAAuwD,sBAoBI,KAAAC,IAAA,SACYl2D,EACRlB,EACAD,sCAHJA,EA2DC,cAAA8D,OAAA,YA1DW7D,OAAA,gBAAQ,aAAqB,mBAAA,uBAG7B,oBACA,sBACA,qBACA,oCAQH,GAAAq3D,cAAiB,GAAYC,iBAAiB,GAACR,kBAAA,KAAAS,IAAA,SAAAr2D,EAAAlB,EAAAD,sCAE/CA,EAAe,cAAY8D,OAAA,UAC3B3C,EAAc,oBACH,mBAEXs2D,GAAgBt9C,EAAAC,EAAA9P,EAAA+P,EAAqBvY,EAAAuC,EAAAgwD,EAAA/F,GAC1C,UAGA,IAAIx+C,GAACtP,IAELA,MAAI2Z,SAAKA,OACLE,OAAKA,kBACIvY,OACRuC,SAAOA,OAERgwD,WAAKA,OACL5G,UAAKnjD,EAAkBE,IAAG,YAAeF,EAAK5D,IAAA,YAAkB,yBACvD4nD,EAAewE,uBACvB4E,UAAEpJ,EAAAqJ,yBACHC,aAAKtJ,EAAsBuJ,sCAClBvJ,EAAeyE,yBACvB+E,aAAE,EACPt3D,KAAC+zD,mBAAAjG,EAAA0E,2BAACxyD,KAAKu3D,UAAC,GAAAC,GAAAC,wBACJC,kBAAmB13D,KAAM23D,sBACzBh+C,SAAKgD,SAAY,sBACjB3c,KAAK6zD,WAAS1vD,QAAA,SAAAnE,KAAA6zD,WAAA1vD,OAAAwc,WACV9c,SAAS,aACL+zD,8BACFC,aAAMj1D,EAAAk1D,SAAA,WAAAxoD,EAAAsoD,oBAAA,4BACU53D,KAAAsB,WAAYC,IAAA,iBAA6B,WAC3D+N,EAACuoD,iBAEL73D,KAAG+3D,oBAAK/3D,KAAAsB,WAAAC,IAAA,kBAAA,SAAAga,EAAA5Y,GACX2M,EAAA0oD,eAAAz8C,EAAA5Y,OAKG3C,KAACs3D,aAAA,EACDt3D,KAAIi4D,aAAC,KACNj4D,KAAA6D,SAAA,WAEN,GAAAyL,EAAAukD,WAAA1vD,OAAA+zD,SAEM5oD,EAAAqK,SAAAgD,SAAU,6BAGZrN,EAAAqK,SAAAiD,YAAA,6BAEOtN,EAAC6oD,SAAAX,EAAwBY,kBAAAC,SAChC,WAEGpK,wBAA0BjuD,KAAAsB,WAAAC,IAAA,oBAAA,WAC7B+N,EAAAwhD,wBAEGwH,sBAAwBt4D,KAAGsB,WAAAC,IAAA,oBAAA,SAAAga,EAAApX,GAC9BmL,EAAAipD,iBAAAh9C,EAAApX,KA0HL,SA/KShB,SAAkB,WAAc,SAAC,YAAA,SAA2B,aAAA,WAAA,aAAA,iBAyDvDsC,UAAc4oD,WAAQ,WAC5BltD,QAAOiZ,WAAWpa,KAAIiuD,0BACzBjuD,KAAAiuD,0BACG9sD,QAAOiZ,WAAKpa,KAAUs4D,wBACzBt4D,KAAAs4D,wBAGGn3D,QAAAiZ,WAAApa,KAAAw4D,qBACAx4D,KAAAw4D,qBAEHr3D,QAAAiZ,WAAApa,KAAA+3D,sBAAK/3D,KAAE+3D,uBAGZd,EAACxxD,UAAAkyD,eAAA,WAEO,MAAA33D,MAAAitD,WAAA9rD,QAAAqrC,SAARxsC,KAAAitD,UAAArnC,aAKe5lB,KAACitD,UAASrnC,aAJhB7H,GAAW,IAAM0H,GAAC,IAAAC,GAAA,KAAAzH,GAAA,OAO3Bg5C,EAACxxD,UAAA8yD,iBAAA,SAAAh9C,EAAApX,GAEOA,GAAAA,EAAAsW,QAARza,KAAA2Z,SA0BC8B,IAAA,UAAA,SAzBmFzb,KAAA2Z,SAAA8B,IAAA,UAAA,WAKrEhW,UAAAqrD,eAAA,WACX9wD,KAAC6zD,WAAAhtD,UAGGpB,UAAyBuyD,eAAA,SAAuBz8C,EAAak9C,GAC7Dt3D,QAAAmW,SAAuBmhD,IAAoC1jD,SAArB/U,KAAAu3D,UAAgBkB,IAEtDz4D,KAAAm4D,SAAYM,MAGfhzD,UAAAmyD,iBAAA,WACD,GAAItoD,GAAAtP,SACAA,KAAK6zD,WAAS1vD,QAAyB,SAAzBnE,KAAA6zD,WAAA1vD,OAAkBwc,MAGpC,GAAI3gB,KAAAs3D,YAEA,WADAt3D,MAAK6D,SAAS,WAAAyL,EAAAsoD,oBAAyB53D,KAAA+zD,mBAG3C,IAAI2E,GAAUzjD,EAAAjV,KAAA24D,gBAAAj1C,aACjBk1C,EAAA3jD,EAAA,uBAAAyO,aAEOm1C,EAAAD,EAAQA,EAAC,EAAA,CAAjB,OAAAF,GAAAG,EAuCC74D,KAAA03D,kBAAAjyC,OAtCOzlB,MAAKm4D,SAAAX,EAAYY,kBAAAC,QACuCK,EAAOG,EAAA74D,KAAA03D,kBAAAhyC,OAE/D1lB,MAAAm4D,SAAaX,EAAAY,kBAAkBU,OAI/BJ,EAASG,EAAI74D,KAAA03D,kBAAkBz5C,OAC/Bje,MAAKm4D,SAASX,EAAYY,kBAAAW,iBAI1BZ,SAAKX,EAAoBY,kBAAkBY,YAGlCvzD,UAAI0yD,SAAA,SAAAM,MACbnpD,GAAKtP,IACRA,MAAAs3D,aAMGt3D,KAACi4D,cAAoBj4D,KAAAi4D,aAAiB9vD,IAAAswD,IAGtCA,GAAYjB,EAAaY,kBAAaC,QAGtCr4D,KAAC2Z,SAASiD,YAAA,kBAEX67C,GAAIjB,EAAAY,kBAAAU,OAGH94D,KAAC2Z,SAASiD,YAAA,wBAEX67C,GAAKjB,EAAoBY,kBAAAY,QAE/Bh5D,KAAA2Z,SAAAiD,YAAA,mBACJ67C,GAAAjB,EAAAY,kBAAAW,OAQK/4D,KAAA2Z,SAAoCiD,YAAA,wBAExC5c,KAAAs3D,aAAA,EAEDt3D,KAAAi4D,aAAAj4D,KAAAu3D,UAAApkD,OAAAslD,IAESz4D,KAAA2Z,SAAgCgD,SAAA3c,KAAAi4D,aAAAt7C,UAClC3c,KAAA6zD,WAAgBlxD,MAAA3C,KAAAi4D,aAChBj4D,KAAA6D,SAAU,WACVyL,EAAAsoD,oBACA,IACF53D,KAAA6D,SAAA,WAEKyL,EAAAgoD,aAAA,GACFt3D,KAAO+zD,sBAGXkD,QCxNJgB,aAAA,qBASIgB,IAED96C,YAAA,EAKIjB,SAAAg8C,cAAA,kCACYjC,kBAOJ,wBACA,aAAegC,yBAGlB,KAAAE,IAAA,SAAAx4D,EAAAlB,EAAAD,WAsCJ45D,GAAoB96C,aAG5B,IAAAC,GAAAD,EAAA,0ECrED1T,SAAA2T,EAAA3T,SAGarD,MAAA8xD,EACAtuD,KAAA,SAA2B8O,EAAAF,EAAAC,GAC3BA,EAAmB,KAAA,WAAiB,MAAAC,GAAA,SACpC0E,EAAAxT,KAAiB2T,MAAGH,EAAA2B,YAM7BzG,WAAA6/C,KDmBmBn2D,SAAI,oBACnBk2D,IAEQ5+C,QAAA,QAEmB,mBAGnB6+C,GAAuBz/C,EAAUF,EAACC,EAAAtY,EAAAuyD,MAClCvkD,GAAKtP,IACZA,MAAA6Z,OAAAA,EACL7Z,KAAA+e,UAAA,KAAC/e,KAAA4e,SAAA,GAAAhF,EAAA,eAED5Z,KAAA8e,IAAA9e,KAAA4e,SAA8BnN,QAAA,KAC1BzR,KAAW8e,IAAA,IACH9e,KAAG+e,UAAc/e,KAAG4e,SAAAxN,OAAApR,KAAA8e,IAAA,GAErB9e,KAAA4e,SAAA5e,KAAA4e,SAAAxN,OAAA,EAAApR,KAAA8e,MAEH9e,KAAAu4D,iBAAe,KAAQ1E,EAAA1vD,QACvB7C,EAAUC,IAAK,oBAAQ,SAAAC,EAAA2C,GAAAmL,EAAAipD,iBAAA/2D,EAAA2C,KAY9B,SA1BiChB,SAAc,SAAG,WAAgB,SAAS,aAAY,gBAgBzEsC,UAAmB8yD,iBAAA,SAAA/2D,EAAA2C,GAC1B,GAAI+a,GAAE/a,EAAA+a,UAIFD,EAAiBC,EAAAlf,KAAA4e,UACjBnE,KAAUza,KAAM+e,UAAME,GAAWjf,KAAA+e,UAAAE,EACpCxE,IAAAza,KAAA6Z,OAAA,UACD7Z,KAAA6Z,OAAY,QAAAY,IAEnB6+C,aC9CA75D,OAAA,cAED4L,UAAA,iBAAW+tD,YAEV,SAAAz4D,EAAAlB,EAAAD,eCnBM,SAAA+5D,GAAgBj4D,EAAQuyD,GACxBvyD,EAAAC,IAAA/B,EAAgBuxD,iBAAQ,WAAA8C,EAAAhtD,SACxBvF,EAAAC,IAAA/B,EAAiBg6D,kBAAS,WAAA3F,EAAA7sD,uDDiBhC3D,eAAA7D,EAAA,cAAA8D,OAAA,OAEDk0D,GAAA72D,EAAW,wCAAX,+CACwB,2BACxBowD,iBAAC,gFAAA0I,GAAAt1D,EAAA7C,EAAAke,GAEDxf,KAAAsB,WAAWA,OAAXke,WAAAA,OACIC,QAAWtb,+BAGEs1D,EAAUh0D,UAAA,cACvB,WACA,MAAKzF,MAAAyf,yCAGTrc,OAAAC,eAAWo2D,EAAAh0D,UAAA,eAAX,WACI,MAAOzF,MAAKyf,QAAOE,qBAGvB,gBACS,WAERtc,eAAAo2D,EAAAh0D,UAAA,mDAEDU,IAAA,SAAA7C,QAAAmc,QAAAP,MAAA5b,MACItD,KAAA4f,+BAGJ,gBACS,8DAHR,MAAA5f,MAAA6f,YAMD,SAAAvc,GACItD,KAAA6f,OAAYvc,MACftD,KAAAsB,WAAAwe,WAAAtgB,EAAAk6D,yBAAAp2D,gBAGQ,EACTyC,cAAC,8CAJAG,IAAA,WAMM,MAAAlG,MAAAyf,QAAAkB,MAENxa,IAAA,SAAA7C,GAEMtD,KAAAyf,QAAAkB,KAAArd,GAENwC,YAAA,EAEMC,cAAA,IAEP3C,OAACC,eAAAo2D,EAAAh0D,UAAA,YAEMS,IAAA,WACC,MAAMlG,MAAAyf,QAAQy4C,cAEd,SAAK50D,GACRtD,KAAAyf,QAAAy4C,SAAA50D,GAGEwC,YAAA,EACHC,cAAS,MAEAN,UAAAoB,KAAkB,WAC3B7G,KAACwf,WAAA,sBAAA3Y,QAGE4yD,EAAAh0D,UAAAuB,MAAQ,WAAfhH,KAAAwf,WAAA,sBAKCxY,WALevB,UAAAua,OAAA,gBAAAR,WAAA,sBAAoBQ,YACzBva,UAASwV,KAAE,WACdjb,KAAKyf,QAAQhF,UACdza,KAAAyf,QAAAhF,SAAA,EACCza,KAAC4f,sBAGTna,UAKC4V,KAAA,WALkBrb,KAAAyf,QAAoBhF,eAApBgF,QAAAhF,SAAA,EAAAza,KAAA4f,sBAENna,UAAQkX,SAAY,WAGhC,IAAA,GAFMrN,GAAAtP,KACC2f,KACPM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IAEMN,EAAAM,GAAAC,UAAPD,EAEIrd,GAAA4N,KAAKmP,EAAA,SAAkBQ,GAC1B7Q,EAAAmQ,QAAAE,QAAApP,KAAA4P,KAGGngB,KAAK4f,mBAEb65C,EAAAh0D,UAACmX,YAAA,WAED,IAAA,GAFCtN,GAAAtP,KAED2f,KAAAM,EAAA,EAAAA,EAAAC,UAAAjf,OAAAgf,IACYN,EAAOM,GAAkBC,UAAAD,UAE7BN,EAAW,SAAAQ,GACX7Q,EAAMmQ,QAAOE,QAAA/c,EAAAwd,OAAA9Q,EAAAmQ,QAAAE,QAAA,SAAAU,GAAA,MAAAA,IAAAF,WAEbP,qBAEFna,UAAA6a,KAAA,SAAAA,EAAAhd,GA4ELtD,KAAAyf,QAAAP,MAAAoB,GAAAhd,EAxEGtD,KAAA4f,qBACWna,UAAKma,gBAAiB,WACjC5f,KAACsB,WAAAoE,MAAAlG,EAAAm6D,oBAAA35D,KAAAyf,yCAAAzf,KAAAyf,SAMDP,oBACIyB,KAAM,QACTu3C,UAAA,QAED,KACIz9C,SAAK,GCxIb,qDDqIKvU,IAAA,WAMD,MAAAlG,MAAAyf,QAAWy4C,cACP,SAAW50D,GACdtD,KAAAyf,QAAAy4C,SAAA50D,eAGQ,EACTyC,cAAC,gDAJAG,IAAA,WAMD,MAAAlG,MAAAyf,aACI,SAAWnc,GACdtD,KAAAyf,QAAAnc,GAAA,GAAAk0D,GAAAoC,2BAGQ,EACT7zD,cAAC,+CAJAG,IAAA,WAMD,MAAAlG,MAAAyf,QAAWP,WACP,SAAW5b,GACdtD,KAAAyf,QAAAP,MAAA5b,mBAGQ,EACTyC,cAAC,8CAJAG,IAAA,WAMD,MAAAlG,MAAAyf,QAAWkB,UACP,SAAWrd,GACdtD,KAAAyf,QAAAkB,KAAArd,eAGQ,EACTyC,cAAC,iDAJAG,IAAA,WAMM,MAAAlG,MAAAyf,QAAAhF,SAAStU,IAAA,SAAA7C,QAAAmc,QAAAhF,QAAAnX,iBACZyC,cAAc,WAEX1C,eAAAw2D,EAAAp0D,UAAA,WACNS,IAAA,WAEM,MAAAlG,MAAAyf,QAAAE,SAAYxZ,IAAA,SAAA7C,QAAAmc,QAAAE,QAAArc,qBACfyC,cAAc,MAEXN,UAAAkX,SAAA,WAIH,IAAK,GAHRrN,GAAAtP,KAEM2f,KACEM,EAAQ,EAAAA,EAAMC,UAAajf,OAACgf,IACpCN,EAAAM,GAAAC,UAAAD,EAGGrd,GAAA4N,KAAAmP,EAAW,SAAAQ,GAEP7Q,EAAKmQ,QAAQE,QAASpP,KAAA4P,MAI9B05C,EAACp0D,UAAAmX,YAAA,WAGL,IAAA,GAFAtN,GAAAtP,KAAC2f,KAEDM,EAAA,EAAAA,EAA2BC,UAAkCjf,OAAAgf,IACzDN,EAAeM,GAAAC,UAAAD,EAElBrd,GAAA4N,KAAAmP,EAAA,SAAAQ,GAEM7Q,EAAAmQ,QAAAE,QAAA/c,EAAAwd,OAAA9Q,EAAAmQ,QAAAE,QAAA,SAAAU,GAAA,MAAAA,IAAAF,SAGE1a,UAAmB6a,KAAA,SAAAA,EAAAhd,gGCxM3B,OALD,OAAAtD,KAAAiG,WAAAjG,KAAAiG,SAAA,GAAAwzD,GAAAz5D,KAAAyf,QAAAne,EAAAke,IAKCxf,KAAAiG,WALD4zD,IAOA14D,SAAA1B,OAAA,cAgBC4G,SAAA,aAAAwzD,GAADt2D,IAAAg2D,KAhBaO,iBAAA,KAAAC,IAAA,SAAYp5D,EAAAlB,EAAAD,GAkBzB,oBAAA6D,eAAA7D,EAAA,cAAA8D,OAAA,UAC2B,mBACnB80D,oBAIAC,OAAc,WACdS,MAAY,UACNC,MAAM,UACZC,OAAA,6BACFZ,QACG,mBACD4B,iCAIAA,QACY,mBACZvC,UACAz3C,QACF7X,GAAAiwD,EAAAC,OACF17C,SAAsB,iBAClBsyC,YAAI,EACJgL,cAAU,EACVnF,gBAAY,EACZD,YAAY,EACZD,QAAA,EACAsF,kBAAgB,QAEhBC,OACFhyD,GAAAiwD,EAAAU,MACFn8C,SAAuB,4CACnBsyC,YAAI,EACJgL,cAAU,EACVnF,gBAAY,EACZD,YAAY,EACZD,QAAA,EACAsF,kBAAgB,QAEhBE,OACFjyD,GAAAiwD,EAAAW,MACLp8C,SAAA,uBAADsyC,YAAA,EAACgL,cAAA,EAzCYnF,gBAAA,EA2CbD,YAAA,EAAAD,QAAA,EAKIsF,kBAAyB,GAE7Bl6D,KAAAq6D,QAAClyD,GAAAiwD,EAAAY,OAPYr8C,SAAA,+GClEb,MAAA86C,KAEAj4D,GAAAi4D,mBAAuBA,CACvB,IAAAmC,GAAmB,WAEnB,QAAAA,iCCNAp6D,GAAAo6D,cAAAA,OAKCU,IAAA,SAAA35D,EAAAlB,EAAAD,eAAD,SAAC4B,GAAAsD,GALY,IAAA,GAAAC,KAAAD,GAAMlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,WAqBftB,eAAkB7D,EAAkB,cAAA8D,OAAA,YAChC7D,OAAA,cAAgB,aAAA,uBAChB,oBACA,sBACA,mBACA,eACAkB,EAAQ,mCAER,GAAU45D,gBAAgB,GAAAC,mBAAA,GAAAV,iBAAA,KAAAW,IAAA,SAAA95D,EAAAlB,EAAAD,uBAG9B6D,eAAA7D,EAAA,cAAA8D,OAAA,UAAA,mBAWCo3D,MAAD,MAACA,QAqBGA,OAAAA,oBAEY,UACA,oBACA,8BACA,6BAKH,0BACD,6BAEK,8BACD,mBAGX,WAEO,QAAAC,YAEDA,MAEF,mBACGC,GAAyBjhD,EAAU7P,EAAWxI,EAAAuC,EAAAiqD,EAAAjS,GAClD,UAEA77C,MAAK2Z,SAAUA,EAClB3Z,KAAA8J,UAAAA,EAEO9J,KAAAsB,WAAAA,EACJtB,KAAK6D,SAAAA,EACL7D,KAAI8tD,YAAKA,OACL+M,yBACS76D,KAAA8J,UAAcE,IAAA,YAAsBhK,KAAI8J,UAAW5D,IAAA,YAAa21C,EACxE77C,KAAA4lB,cAAC5lB,KAAK4lB,YAAC5lB,KAAA8tD,YAAAuE,gBC9FxB,SDkF4BlvD,SAAW,WAAY,YAAA,aAAA,WAAA,cAAA,cAetCsC,UAAAo1D,SAAA,WACJ76D,KAAAgtD,UAAAhtD,KAAA8J,UAAAE,IAAA,YAAAhK,KAAA8J,UAAA5D,IAAA,YAAA,KAEMlG,KAAAgtD,UACChtD,KAAEktD,aAAgBltD,KAAAgtD,UAAcjK,MAEnC/iD,KAAAsB,WAAA,SAAKtB,KAAEktD,aAAAltD,KAAAsB,WAAA,QAERtB,KAACmtD,YAAAntD,KAAAmtD,YAAA,IAAA,OAAAntD,KAAAktD,aAAA,UACJ0N,EAACn1D,UAAAq1D,aAAA,WAEK96D,KAAA+pC,cAAA/pC,KAAA8J,UAAAE,IAAA,gBAAYhK,KAAa8J,UAAA5D,IAAA,gBAAA,KAC5BlG,KAAQ+pC,gBACX/pC,KAAA+6D,KAAA95D,OAAA,GAAAjB,KAAA+6D,KAAA,GAAA/uB,MAAChsC,KAAA+pC,cAAAh7B,iBAAA/O,KAAA+6D,KAAA,QAAA,aAGU/6D,KAAC+pC,cAAah7B,iBAAA/O,KAAA+6D,KAAA,OAAA,iBAGRt1D,UAAA27C,WAAA,iBACVx+C,GAAEwX,WAAOpa,KAAQ6b,YACb7b,KAAK6b,aAIhB7b,KAAAwvC,UAAAxvC,KAAA6b,eAImBpW,UAAcu1D,YAAG,SAAAz+C,GACjC,MAACvc,MAAAohD,cAAAphD,KAAAqtD,aAAA9wC,KAEA9W,UAAAs0B,SAAA,SAAAxd,GACJ,GAAAjN,GAAAtP,IAACA,MAAAohD,eAGEphD,KAAKqtD,YAAc9wC,OAAC0+C,cAAYj7D,KAAA+6D,KAAA95D,QAAAjB,KAAAqtD,YAAArtD,KAAA+6D,KAAA/6D,KAAAqtD,aAAAllD,GAAA,KAChCnI,KAAK6D,SAAC,WACFyL,EAAOg+C,QACVh+C,EAAAg+C,OAAAh+C,EAAAyrD,KAAAzrD,EAAA+9C,aAAA/9C,EAAA+9C,mBAGJuN,EAACn1D,UAAAy1D,WAAA,WAEK,MAAAt4D,GAAAwX,WAAApa,KAAAm7D,gBACMn7D,KAAIm7D,iBACMn7D,KAAKwvC,UAACxvC,KAAAm7D,iBAKtBP,EAAAn1D,UAAAwV,KAAA,WAAP,OAAAjb,KAAAo7D,WAGQx4D,EAAEwX,WAAQpa,KAAAo7D,UACNp7D,KAAKo7D,WAGLp7D,KAAAwvC,UAAAxvC,KAAAo7D,cAKM31D,UAAc+pC,UAAA,SAAAlsC,SACf,aAEZA,MACOA,EAACkF,WAAcyJ,cACV,KAAN3O,GAAuB,QAATA,OAEDmC,UAAKyV,WAAc,SAAAC,SAC3Bnb,IAwChB,mCAjC2Bmb,EAAAyK,YAAAxK,aAAAD,EAAAyK,YAAAxK,aAAApb,KAAA8tD,YAAAuE,oBALVzsC,mBACAA,YAAc5lB,KAAE8tD,YAAAuE,gBAMZt9C,WAANs4C,YACNrtD,KAAAqtD,cACJrtD,KAAAqtD,YAAA,IAKGrtD,KAACqtD,YAAAlyC,EAAAkyC,YAAAjyC,cAAA,EACJpb,KAAA6D,UAAA7D,KAAAqtD,cAAAlyC,EAAAkyC,YAAAgO,eAAOr7D,KAAA6D,SAAA,WACC,GAAOnD,GAAA4O,EAAQqK,SAAKnB,KAAA,iBACpB9X,IAAYA,EAAE,IACtBS,QAAA6J,QAAAtK,EAAA,IAAA6nB,KAAA,cAAAjZ,EAAA+9C,aAGS3sD,EAAKgc,GAAI,WAAS,WACZvb,QAAC6J,QAAatK,EAAA,IAAA6nB,KAAA,cAAAjZ,EAAA+9C,aACtB/9C,EAAAzL,SAAA,WACY1C,QAAA6J,QAAAtK,EAAA,IAAA6nB,KAAA,cAAAjZ,EAAA+9C,cACP,OACA,MAGZt4C,SAAAoG,EAAA4/C,MAAAn4D,EAAA6K,QAAA0N,EAAA4/C,KAAA3/C,eAKRpb,KAAA+6D,KAAA5/C,EAAA4/C,KAAA3/C,aAEkCpb,KAAA86D,gBAPnB96D,KAAA+6D,OACA/6D,KAAC+6D,UAQb5/C,EAAakyC,aAAgBlyC,EAAA4/C,MAAAhmD,SAAA/U,KAAAi7D,cAAA,CAC7B,GAAY1+C,GAAA3Z,EAAA6O,QAAAzR,KAAuB+6D,KAAAn4D,EAAA4V,KAAAxY,KAAA+6D,MACtC5yD,GAAAnI,KAAAi7D,gBAGW1+C,GAAY,EACTvc,KAAAi7D,cAAiBj7D,KAAA+6D,KAAA95D,QAAAjB,KAAAqtD,YAAArtD,KAAA+6D,KAAA/6D,KAAAqtD,aAAAllD,GAAA,gECzNpCnI,MAAAi7D,cAAAj7D,KAAA+6D,KAAA95D,QAAAjB,KAAAqtD,YAAArtD,KAAA+6D,KAAA/6D,KAAAqtD,aAAAllD,GAAA,MAGAyyD,MAEAU,GACAp+C,SAAAq+C,EACA/1B,YAAA,iBACA/rB,WAAAmhD,EAEAz5D,SACA1B,OAAA,WAAA,qBACA0d,UAAA,UAAAm+C,QAGAE,IAAA,SAAA76D,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,8BACA,s7DAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,gCACA,soCAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,qBACA,gIAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,6BACA;OAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,yBACA,snBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,wBACA,ymBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,oBACA,2nBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,+BACA,4cAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,oBACA,48GAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,wBACA,01BAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,oBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,uBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z;;;CzJjJA,SAAA7d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAw7D,OAAAl8D,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,W0JaQk8D,GAAwBC,MACxBC,GAAQD,EAAwBE,cAAA,QAChCC,KAAQ,yBACTC,KAAA,wBAGHJ,GAAIK,cAAqB,2BAAiCJ,MACtDK,GAAON,EAAwBE,cAAA,QAC/BK,IAAO,yBACPC,IAAA,uBACDC,qBAAA,MAAA,QAIHT,GAAIK,cAAoB,wBAAiCC,MACrDI,GAAQV,EAAsBE,cAAA,SAC9BS,KAAA,uBACDF,qBAAA,SAGHT,GAAmBK,cAAM,uBAAgBK,KACtBtZ,MAAC,iBACZwZ,eAAgB,yBAChBC,QAAS,MACXC,QAAA,QAEEC,kBAAe,4BACfF,QAAS,KACTC,QAAS,OACXE,QAAA,SAEEC,YAAW,OACbJ,QAAA,SAEEK,cAAW,wBACZL,QAAA,SAGVb,EAAAmB,kBAAA,GAjDDpB,EAAAv4D,SAAoC,8BAsD/B1D,OAAO,0BAA2B,eAEtC0E,OAAAu3D,QC1DApiD,GAAA,SAAA3Y,EAAAlB,EAAAD,WAcOu9D,GAAgCpB,MAChCqB,GAA6BrB,EAAAE,cAAA,QAC9BC,KAAA,yBACHC,KAAA,0BAGWC,cAAA,iCAAuBgB,MAC9BC,GAAOtB,EAAqBE,cAAA,QAC5BK,IAAA,wBACDC,IAAA,sBACHC,qBAAmB,MAAc,WAGrBJ,cAAA,8BAAsBiB,MAC9BC,GAAwBvB,EAAOE,cAAA,SAChCS,KAAA,uBACHF,qBAAmB,YAGAJ,cAAC,6BAA+BkB,KAChCna,MAAK,uBAChBwZ,eAAc,+BAChBC,QAAA,cACD,QAEGE,kBAAe,kCACfF,QAAS,KACXC,QAAA,eACD,SAECG,YAAA,eACD,SAEEC,cAAA,8BAEPL,QAAA,SAIJb,EAAOmB,kBAAA,KAxCC35D,SAA8B,8BA4CrC1D,OAAA,gCAAA,8BCvDD+D,GAAA,SAAA7C,EAAAlB,EAAAD,WAcY29D,GAAQxB,KACAmB,kBAAsB,MAEjCM,GAAAzB,EAAAE,cAAA,QACLC,KAAA,yBAEIC,KAAA,2BAEOC,cAAsB,2BAAAoB,MAC7BC,GAAqB1B,EAAgBE,cAAA,SACtCK,IAAA,yBACHC,IAAA,uBAGIC,qBAAoB,MAAA,WAEpBJ,cAAwB,wBAAOqB,MAChCC,GAAA3B,EAAAE,cAAA,SACHS,KAAA,wBAEIF,qBAAmB,YAEnBJ,cAAwB,uBAAOsB,MAChCC,GAAA5B,EAAAE,cAAA,OACHE,KAAA,uBAEAK,qBAAyB,YAEVJ,cAAK,sBAAAuB,KACFxa,MAAA,iBAChBwZ,eAAA,iCACD,MACGE,QAAS,QAETC,kBAAe,4BACjBF,QAAA,aACD,OACGG,QAAS,SAEZC,YAAA,uBACGJ,QAAW,SAElBK,cAAA,wBAGML,QAAA,WA9CCr5D,SAAwB,sBAkD/BhC,uECjEDoZ,GAAA,SAAA5Z,EAAAlB,EAA6BD,GAC7B,YACA4D,QAAAC,eAAA7D,EAAA,cAAmC8D,OAAA,IAEnC3C,EAAQ,yBACJ,yBACA,qCACAlB,OAAA,qBACA,aACD,qFCPQ+9D,sBAAe,EAAAC,4BAAS,EAAAC,sBAAA,IAAAj5D,GAAA,SAAA9D,EAAAlB,EAAAD,GACxB,qBA2JNm+D,GAAOC,KACC7a,MA3JF4a,EAAAx6D,SAAA,YAEXC,OAAAC,eAAA7D,EAAA,cAAA8D,OAAA,MAAAu6D,aAAA,WAECC,kBAAA,oBAADC,eAAC,cAAD,IAFAC,GAEC,WAED,QAAAA,YAOgBA,QAEO,mBACPC,GAAA55D,EAAA/C,EAAUgB,EAAA47D,EAAA/5D,EAAAgB,EAAAuH,GANd1M,KAAAqE,KAAAA,EAWJrE,KAAKsB,WAAWA,EAChBtB,KAAKsC,QAAQA,EACbtC,KAAKk+D,WAAUA,EAGfl+D,KAAKm+D,cAAgB,KAErBn+D,KAAKqF,YAAWF,EAGhBnF,KAAE4M,SAAaF,EACf1M,KAAKyf,QAAOtb,EACfnE,KAAAyf,QAAAsjC,MAAA/iD,KAAAsC,QAAA0K,aAAAC,QAAA,UAAAjN,KAAAyf,QAAAsjC,OAAA,UAEO/iD,KAAAqE,KAAAsB,MAAA,gBAAR3F,KAAAyf,QAAAsjC,OACI9tC,EAAA,QAAQsT,KAAK,WAAQ,KAAA/oB,EAAAq+D,aAAA,MACrB79D,KAAIkN,gBAOKzH,UAAAyH,KAAiB,cACtByW,GAAK1O,EAAA,QAELmpD,EAACp+D,KAAayf,QAAGsjC,KAGrBp/B,GAAIhH,SAAKyhD,GACW,MAAhBp+D,KAAKm+D,eAAWn+D,KAAAm+D,eAA4BC,GAG5Cz6C,EAAK/G,YAAY5c,KAAKm+D,oBACtBA,cAAaC,EACpBp+D,KAAAqF,cAEDrF,KAAAsB,WAAW9B,EAAAq+D,cAAA79D,KAAKyf,QAAAsjC,YAAhBn2C,UAAA,MAAA5M,KAAAsC,QAAA0K,cACIhN,KAAAsC,QAAY0K,aAAcqB,QAAA,QAAArO,KAAAyf,QAAAsjC,8BAGbkb,EAAax4D,UAAA,aAC1B,iBACOzF,MAAGyf,QAASsjC,oBAGVz/C,MAELA,GAAStD,KAACyf,QAAMsjC,MAAA,CAEhB,KAAKz/C,IAAOtD,MAAAk+D,WAAAG,QAER,KAAC,IAAAx9D,OAAW,SAAMyC,EAAA,qEACtBtD,MAAKyf,QAAAsjC,MAAgBz/C,EACxBtD,KAAAqE,KAAAsB,MAAA,qBAAArC,GACJtD,KAAAkN,8FAGGpH,YAAS,gBACA,MAERL,UAAA+I,IAAA,SAAAu0C,GAOT,MANoB,OAAZA,IACH/iD,KAAAyf,QAAAsjC,MAAAA,EAEL/iD,KAAAkN,QAGAlN,KAAAyf,QAAAsjC,OACYkb,OAEQ,mBAIPK,KACRt+D,KAAAyf,QAAA,GAAAu+C,GAEDh+D,KAAAqF,aAAW,OAAXuH,UAAA,OACI6S,QAAOsjC,MAAK,UAkDnB,6BA/CyBub,EAAc74D,UAAA,kBAChC,WACH,MAAAzF,MAAAqF,6BAJArF,KAAAqF,cAAA/B,eAMD,gBACW,0BAGQg7D,EAAc74D,UAAA,eAC7B,WACH,MAAAzF,MAAA4M,0BAJA5M,KAAA4M,WAAAtJ,eAMD,gBACW,0BAGMg7D,EAAa74D,UAAA,aAC1B,WACH,MAAAzF,MAAAyf,QAAAsjC,uBAJA/iD,KAAAyf,QAAAsjC,MAAAz/C,GAOGwC,YAAS,gBACA,MAEAL,UAAS+I,IAAK,SAAau0C,GACpC,GAAC,MAAAA,EAAA,CACD/iD,KAAOyf,QAAKsjC,MAAaA,CAC5B,IAAAp/B,GAAA1O,EAAA,OAEM0O,GAAAhH,SAAA3c,KAAAyf,QAAPsjC,OAOI,MAAM/iD,MAAAyf,QAAYsjC,SAEjBt9C,UAAAW,MAAA,aAAA,OAAA,UAAA,aAAA,SAAA9E,EAAA+C,EAAA/B,EAAA47D,GAED,UAKR,QAJKt7D,EAAAwN,YAAApQ,KAAAiG,WAAArD,EAAAkB,OAAA9D,KAAAiG,aACLjG,KAAAiG,SAAC,GAAAg4D,GAAA55D,EAAA/C,EAAAgB,EAAAtC,KAAAyf,QAAAy+C,EAAAl+D,KAAAqF,YAAArF,KAAA4M,WAGD5M,KAAmBiG,WAElBq4D,kGC1JD,SAAQl9D,GAAOsD,GAEf,IAAA,GAAAC,KAAAD,GAAwBlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,+FCFxBhE,EAAC,oBAEDA,EAAA,sCAWgB,IAAA0gB,GAAA,SAAA1gB,EAAwBlB,EAAAD,WAGpC++D,GAAgC5C,GAEhC,GAAI6C,GAAuB7C,EAAmBE,cAAc,QACxDC,KAAO,yBACPC,KAAO,wBAEXJ,GAAmBK,cAAc,oBAAkBwC,EAEnD,IAAAC,GAAyB9C,EAAQE,cAAA,cAC5B,uBACG6C,IAAA,8BAEF1C,cAAA,iBAAAyC,KACD1b,MAAkB,SACfwZ,eAAe,kBACfC,QAAS,MACTC,QAAS,QAEZC,kBAAiB,qBACdF,QAAW,KACbC,QAAA,eACD,SAEEG,YAAA,OACPJ,QAAA,SAGGK,cAAA,UACFL,QAAO,QAGXb,EAAAmB,kBAAA,KAhCM35D,SAAA,8BCfN1D,OAAA,kBAAA,eAED0E,OAAAo6D,WAaI,SAAA59D,EAAkBlB,EAACD,WAIfm/D,GAAyBhD,WAMrBiD,GAAAC,MACAC,GAAQnD,EAAwBE,cAAA,QAChCkD,qBAAQ,QACTC,mBAAAjqD,QAGH4mD,GAAIK,cAAoB,eAAmB8C,MACvCG,GAAOtD,EAAqBE,cAAA,QAC7BC,KAAA,yBACHC,KAAA,4BAGmBC,cAAC,kBAAgBiD,MAC5BC,GAAgBvD,EAAAE,cAAA,SAChBsD,IAAO,0BAEVnD,cAAkB,cAAmBkD,KACnBnc,MAAA8b,GACftC,eAAe,gBACfC,QAAS,MACXC,QAAA,QAEEC,kBAAiB,mBACnBF,QAAA,aACD,OACGG,QAAS,SAEpBC,YAAA,OACJJ,QAAA,SAIWK,cAAe,eACfL,QAAA,UAtCA,aACA,UACD4C,gBAAA,aACHtC,kBAAgC,KALpC35D,SAA2B,sBClB9BhC,QAED1B,OAAA,iBAAA,eAWI0E,OAAIw6D,WAGH,SAAEh+D,EAAAlB,EAAAD,WAIC6/D,GAAgB1D,MAChB2D,GAAwB3D,EAAaE,cAAA,QACtCC,KAAA,yBACHC,KAAA,2BAIIC,cAAwB,mBAAOsD,MAChCC,GAAA5D,EAAAE,cAAA,SACHK,IAAA,UAEAE,qBAAyB,MAAQ,WAEdJ,cAAK,gBAAAuD,MAChBC,GAAc7D,EAAAE,cAAA,SAChBO,qBAAA,YAEiBJ,cAAA,eAAAwD,KACAzc,MAAA,SACfwZ,eAAe,iBACjBC,QAAA,cACD,QAECE,kBAAA,4BACD,KACGD,QAAS,OACVE,QAAA,SAEVC,YAAA,OAGMJ,QAAA,SAEFK,cAAO,gBAEXL,QAAA,kCApC0Br5D,SAAG,sBCjB9BhC,QAWI1B,OAAI,kBAAoB,sBACpB4/D,qBAGO1+D,EAAAlB,EAASD,WAIhBigE,GAAwB9D,MACzB+D,GAAA/D,EAAAE,cAAA,QACHC,KAAA,yBAGAC,KAAA,4BACK,UACGI,IAAA,UACAG,KAAO,UACTyC,qBAAA,4BACiB,MAAA,MAAe,MAAA,MAAA,MAAA,MAAA,MAAA,YAEhB/C,cAAA,cAAA0D,KACC3c,MAAA,QACjBwZ,eAAA,uBACD,MACGE,QAAS,SAEZC,kBAAc,eACXF,QAAW,KACZC,QAAA,MAEPE,QAAA,SAIGC,YAAA,OACFJ,QAAO,SAGXK,cAAA,gCCnDAlB,EAAAmB,kBAAA,KDoBO35D,SAAwB,qCCPxB,iBAAO,sBACPs8D,YAGJ,SAAA9+D,EAAmBlB,EAAAD,WAIhBmgE,GAAAhE,GACH,GAAAiE,GAAkBjE,EAAeE,cAAQ,QAEzCgE,IAAA,2BACK,yBACG/D,KAAA,6BAEFE,cAAA,OAAA4D,SACDjE,EAA0BE,cAAA,QACvBO,qBAAe,MAAA,MAAA,MAAA,MAAA,MAAA,YAEAJ,cAAA,OAAA8D,KACjB/c,MAAA,QACDwZ,eAAY,QACTC,QAAW,MACbC,QAAA,QAEEC,kBAAiB,QAClBF,QAAA,KACPC,QAAA,MACHE,QAAA,SAGIC,YAAO,OACPJ,QAAO,gDC3CZb,EAAAmB,kBAAqC,KDkB7B35D,SAA6B,qCCL7B,iBAAQ,sBACRw8D,YAIJ,SAAIh/D,EAAAlB,EAAoBD,WAGpBugE,GAAQpE,MACRqE,GAAuBrE,EAAeE,cAAO,QAC9CC,KAAA,yBACHC,KAAA,wBAEAK,qBAAyB,MAAS,MAAA,MAAA,MAAA,YAEfJ,cAAK,iBAAAgE,MAChBC,GAActE,EAAAE,cAAA,UAChBqE,IAAA,4BACD,0BACGpE,KAAA,wBACAM,qBAAe,MAAA,MAAA,YAEjBJ,cAAA,cAAAiE,KACWld,MAAO,UAChBwZ,eAAW,eACbC,QAAA,cACD,QAEEE,kBAAA,kBACPF,QAAA,KACHC,QAAA,OAEME,QAAA,SAEFC,YAAO,OAEXJ,QAAA,sCCnDAA,QAAA,SAaGb,EAAImB,kBAAwB,KDSjB35D,SAAA,qCCNP,mBAAwB,sBACxB48D,YAIJ,SAAIp/D,EAAAlB,EAAqBD,WAGrB2gE,GAAOxE,MACPyE,GAAwBzE,EAAOE,cAAA,QAChCC,KAAA,yBACHC,KAAA,wBAEAgD,qBAAyB,4BACL,OAAgB,YAEd/C,cAAA,kBAAAoE,MAChBC,GAAA1E,EAAAE,cAAA,YACD,yBACGgE,IAAA,0BACAnB,IAAO,wBACPK,qBAAe,YAEN/C,cAAO,eAAAqE,KACLtd,MAAM,QACnBwZ,eAAA,wBACD,MACGE,QAAS,QAEjBC,kBAAmB,mBACtBF,QAAA,KAEMC,QAAA,OACFE,QAAO,SAGXC,YAAA,sECnDDjB,EAAAmB,kBAA4B,KDsBb35D,SAAA,sBCpBfhC,QACA1B,OAAA,iBAA6B,eAC7B0E,OAAAg8D,QAIIx1D,IAAA,SAAAhK,EAAmBlB,EAAAD,wBAYf8gE,GAAe3E,GACfA,EAAeyD,gBAAA,WACjBzD,EAAAmB,kBAAA,GAZNwD,EAACn9D,SAAA,sBAEDC,OAAOC,eAAA7D,EAAA,cAAA8D,OAAA,MACF,wBACG,wBACA,yBACA,0BACA,yBACA,wBACA,yItKpBR,iBACA,gBACA;;;CDFA,SAAA/D,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAsgE,OAAAhhE,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gEwKCA,IAAAghE,GAAA,WAAA,QAAAA,MASA,MAAAA,KATahhE,GAAAghE,gBAAAA,CAWb,IAAAC,GAAA,WAAA,QAAAA,KAEIzgE,KAAA0gE,aACIC,QAAQ,EACRC,KAAM,qBACNC,MAAO,sBACPC,MAAO,0BACPC,SAAU,6BACVC,WAAY,0BACZC,MAAO,0BAIXjhE,KAAAkhE,cACIP,QAAQ,EACRC,KAAM,uBACNC,MAAO,iBACPC,MAAO,4BACPC,SAAU,+BACVC,WAAY,iCACZC,MAAO,4BAGXjhE,KAAAmhE,cACIR,QAAQ,EACRC,KAAM,uBACNC,MAAO,uBACPC,MAAO,4BACPC,SAAU,+BACVC,WAAY,4BACZC,MAAO,0BAGXjhE,KAAAohE,SACIT,QAAQ,EACRC,KAAM,iBACNC,MAAO,kBACPC,MAAO,sBACPC,SAAU,yBACVC,WAAY,sBACZC,MAAO,4BAGXjhE,KAAAqhE,aACIV,QAAQ,EACRC,KAAM,qBACNC,MAAO,GACPC,MAAO,0BACPC,SAAU,6BACVC,WAAY,0BACZC,MAAO,GACPK,WAER,MAAAb,KArDajhE,GAAAihE,iBAAAA,CAuDb,IAAAc,GAAA,WAAA,QAAAA,KACIvhE,KAAAyW,KAAe,GACfzW,KAAAwhE,GAAa,GACbxhE,KAAAyhE,QAAkB,GAClBzhE,KAAA0hE,MAAgB,GAChB1hE,KAAA2hE,OAAiB,GACrB,MAAAJ,KANa/hE,GAAA+hE,kBAAAA,uFClEb,IAAAK,GAAAjhE,EAAA,qBAEAkhE,EAAA,mBAMQA,GAAW19D,GAEX,UACHnE,MAAAyf,QAAAtb,GAAA,GAAAy9D,GAAAnB,iBATL,MAGIoB,GAAA1+D,SACI,gCAOJ0+D,EAAAp8D,UAAA,eACI,WACH,MAAAzF,MAAAyf,uBAAA1Z,cAAA,MAGeN,UAAeq8D,mBAAS,SAAAC,SACpCC,SAAKC,IAAAF,EAAiB/hE,KAACyf,SACnBsiD,GAAY/hE,KAAAyf,QAAAsiD,GAInB/hE,KAAAyf,QAAAsiD,GAHI,MAKRF,KAMGK,EAAA,mBACSA,KACLliE,KAAKmiE,QAAQ,GAAAP,GAAmBnB,iBACnCzgE,KAAAmiE,QAAAd,YAAAC,OAAA9qD,UAAA,GAAAorD,GAAAL,kBAPL,SAU0B97D,UAAO28D,mBAAA,SAAAL,EAAA59D,GAAC49D,GAAO59D,GACJnE,KAAMmiE,QAACJ,KAGvC/hE,KAAAmiE,QAAAJ,GAAAn/D,EAAAy/D,aAAAl+D,EAAAnE,KAAAmiE,QAAAJ,QAGgBt8D,UAAA68D,uBAAA,SAAAH,GAACA,IAGjBniE,KAAAmiE,QAAAv/D,EAAAy/D,aAAAF,EAAAniE,KAAAmiE,aAGgB18D,UAAY88D,qBAA4B,SAAAC,GACxDxiE,KAAAmiE,QAAAd,YAAAC,OAAA9qD,UAAAgsD,KAGc/8D,UAAAW,KAAA,WAEX,UAKH,OAJuB,OAAhBpG,KAAKiG,WACRjG,KAAAiG,SAAA,GAAA47D,GAAA7hE,KAAAmiE,UAGJniE,KAAAiG,UACJi8D,yBAKQziE,OAAA,gCAEJ4G,SAAA,4BAAA67D,QCvEJO,oBAAA,IAAAj/D,GAAA,SAAA7C,EAAAlB,EAAAD,uBAqCOkjE,YAEI93D,SAAU,IACVjK,SAAM,UAAe,UACvBoK,KAAA43D,MAnCFA,GAAA,mBAAAA,GAaC9oD,EAAAF,EAAAC,EAAAgpD,GAPG,GAAItzD,GAACtP,IACLA,MAAK6iE,iBAAkBD,EAAQ,GAE/B5iE,KAAA8iE,gBAAqBF,EAAS,KAC1B3oD,OAAKL,EAAmB,QAAA,SAAA2iC,GACxBjtC,EAAKyzD,mBACNzzD,EAAA0zD,oBAhBX,SAoBkBv9D,UAAQs9D,iBAAuB,WAEzC,GAAIxC,GAASvgE,KAAI6iE,iBAASI,WACtB,GAAIC,KAAO3C,GACPA,EAAK37D,eAAiBs+D,IAAyB,UAAzBA,EAAaxxD,UAAW,EAAC,IAClD1R,KAAA6iE,iBAAAM,aAAAD,GAAA,MAKAz9D,UAAgBu9D,gBAAkB,WAC1ChjE,KAAA8iE,gBAAAM,iBACJT,aAYIljE,OAAA,qBACJ4L,UAAA,iBAAAq3D,0CC7CLt/D,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OAEI+/D,GAAA,WAAwD,QAACA,GAAA/hE,GAElDtB,KAAAsB,WAAAA,EAqGV,SAvGuB6B,SAAA,gBAGUsC,UAAA69D,eAAA,SAAA7rD,GAE1B,GAAS,MAATA,EACF,MAAA7U,GAAA2gE,QAAA9rD,EAAAwrD,SAAAO,MAAA,GAAA/rD,EAAAwrD,UAG2Bx9D,UAAAg+D,sBAAA,SAAAC,EAAAjsD,GACzB,GAAS,MAALisD,GAEK,MAALjsD,EAAJ,IAEIisD,EAAAC,aAAclsD,EAAAmsD,UAAAF,EAAAG,UAAAH,EAAAC,aAAAlsD,EAAAmsD,UAAAnsD,EAAAosD,QAAA,CACjB,GAAA5yD,GAAArO,EAAA2gE,QAAA9rD,EAAAwrD,SAAAO,MAAA,GAAA/rD,EAAAwrD,MACD,OAAShyD,GAGN,OAAAuyD,MAAA,OAEE/9D,UAAgBq+D,gBAAA,SAAAJ,EAAAnD,GAErBmD,EAAIK,iBACAC,gBACAzD,IACHmD,EAAAO,YAEGP,EAACQ,iBAGFR,EAAA,mBACej+D,UAAA0+D,kBAAA,SAAAT,EAAAjsD,GAClB,GAAIisD,EAEJ,GAACjsD,GAAAisD,EAAAjsD,IAAAisD,EAAAjsD,GAAAwrD,OAAKS,EAAEjsD,GAAAwrD,sBAGIC,KAASQ,GACZA,EAAAR,IAAAQ,EAAAR,GAAAD,SACJS,EAAAR,GAAAD,UAGAS,IAAAA,EAAAT,SACJS,EAAAT,eAIyBx9D,UAAA2+D,aAAA,SAAAV,EAAAl/D,EAAA6/D,GAE1B,GAAK,MAAD7/D,EAAJ,CAGAk/D,EAAmB,aAAAA,EAAO,oBAAC5iE,GAAO0D,EAAM1D,OAAO0D,EAAA4E,UAAAtI,MAAA,SAE3CA,GAAO0D,EAAA8E,SACPxI,EAAI0D,EAAS8E,QAGbxI,EAAI,IACAwjE,GAAY,SAAAxjE,EAAa2W,EAAW4sD,EAAOA,EAAAvjE,GAAA,QAC3C2W,GAAOisD,EAAAjsD,IAAAisD,EAAAjsD,GAAA0rD,aAIP,WAHHO,GAAAjsD,GAAA0rD,aAAAmB,GAAA,MAKU,QAAP7sD,EAEP,YADIisD,EAAA,aAAAY,IAAA,MAMD9/D,EAAK4E,MAAA5E,EAAA4E,KAAAvB,QAKL,MAJA67D,GAAO,aAAA,cAAAl/D,EAAA4E,KAAAvB,YACV7H,MAAAukE,uBAAA//D,MAKGA,EAAKqD,QAIL,MAHA67D,GAAO,aAAA,cAAAl/D,EAAAqD,YACV7H,MAAAukE,uBAAA//D,MAIGA,EAAK1C,KAKL,MAJA4hE,GAAO,aAAA,cAAAl/D,EAAA1C,SACV9B,MAAAukE,uBAAA//D,EAKJk/D,GAAA,aAAA,cAAAl/D,EAEOxE,KAAAukE,uBAAA//D,OAEOiB,UAAK8+D,uBAAA,SAAA//D,QACblD,WAAAoE,MAAA,6BACNlB,MAAAA,KAGJ6+D,yBAMI5jE,OAAA,4J1KhHA4D,eAAO7D,EAAmB,cAAA8D,OAAA,YAExB7D,OAAA,mBAEP,eAEAkB,EAAA,sCACAA,EAAA,yCACAA,EAAA,yCAEAA,EAAA,8BACAA,EAAA,sCACAA,EAAA,wCACAA,EAAA,2CAEAA,EAAO,wCACF,2CAEGlB,OAAA,aACA,sBACA,kBACA,4BACA,uBACD,iBAEP,od2K1BW,wBAwEoB+kE,gBAGf7hE,MAAAnD,EAAcilE,wBACd1iE,IAAA,sBACDC,QACdwC,MAAA,MAOGiV,WAAWirD,EALfxhD,aAeC,QAROsiB,YAA2B,kDAI/Bm/B,GAAerjE,EAAAgD,EACfsgE,aAEA,IAAGt1D,GAAAtP,KACNmE,EAAAygE,EAAAzC,OAEDh+D,GAAAu8D,YAAAC,QAEIr/D,EAAIC,IAAA/B,EAAgBqlE,sBAAK,SAAArjE,EAAAQ,GAACsN,EAAMhL,OAACvB,GAAAvD,EAAAilE,uBAAAziE,aAK7B8iE,GAA8Bh7D,SAC9BA,EAAAE,IAAA,gBAAAF,EAAA5D,IAAA,gBAA+D,IAC/D,OAAA6D,MAED0E,aAAA,MAEHs2D,wBAA8B,+BAC1BC,2BAA2B,mKAE3B,QACAC,4BAA2B,gBAE5Bx2D,aAAA,MACNs2D,wBAAA,+BAEAC,2BAAA,mKAGiC,oCAClB,eA1HLE,EAAwB/hE,SAAA,kBAKnCwhE,EAAAxhE,SAAA,aAAA,SAAA,+BAAAA,SAAA,oBAECE,eAAA7D,EAAA,cAAA8D,OAAA,MAADmhE,uBAAC,qBAADjlE,EAACqlE,sBAAA,qBAED,QAAA,WAAA,QAAAM,MAEA,MAAAA,MAEA,WAAA,QAAAC,MAEA,MAACA,MAAA,WAED,QAAAC,KAUIrlE,KAAAgZ,SAAA,QATQqsD,MAmByB,mBAExBX,GAA8B7qD,EAAAvV,EAAgBhD,EAAau6C,EAAI/xC,EAAgB86D,GAEpF,UAEA5kE,MAAAslE,UAAe,cACftlE,KAAKsW,WAAY,CAEjB,IAAI+F,GAASvS,EAAUE,IAAM,YAAWF,EAAa5D,IAAC,YAAiB,IACvElG,MAAKmE,OAAAygE,EAAgC9C,mBAAiB9hE,KAAAslE,gBAClDC,cAAiBz7D,EAAOE,IAAI,iBAAkBF,EAAO5D,IAAW,iBAAkB,KAEzFlG,KAAAotD,MAAA/wC,EAAAA,EAAAw/B,EAEOv6C,EAAArB,IAAAC,SAAAqE,aAAA,EACJvE,KAAKwlE,iBAAoBhhE,MAAOF,GAAAA,EAAAtC,QAAAsC,EAAAtC,OAAA,MAAAsC,EAAAtC,OAAA,SAEhChC,KAAKylE,gBAAczlE,KAAOwE,OAAWxE,KAACwE,MAAAL,QAClCnE,KAACwE,MAAAL,OAAcnC,QAAahC,KAAGwE,MAAAL,OAAAnC,OAAAgX,SAAAhZ,KAAAwE,MAAAL,OAAAnC,OAAAgX,SAAA,WAlBrB7V,SAAA,SAA0B,SAAkB,aAAM,WAAW,YAAA,+BAoBhDsC,UAAO+/D,UAAA,WACrCxlE,KAAAulE,gBACJvlE,KAAAulE,cAAA7b,OAAAa,YAEDvqD,KAAAulE,cAAA7Y,KAAAI,WAGI9sD,KAAAulE,cAAWzZ,WAAA1gD,KAAApL,KAAAmE,OAAA68D,WAEXhhE,KAAAulE,cAAcj4B,QAAAjyB,SAECqpD,OAyDnB,8DC/HWnhE,IAAAuhE,WAKXzjD,GAAA,SAAA1gB,EAAAlB,EAAAD,wBAuEYkmE,GAAqBlB,gBAGhC7hE,MAAAnD,EAAAmmE,yBAGD5jE,IAAA,wBAMIC,QAEI4jE,aAA2B,KAE1BjkE,UAAO,MAEZ8X,WAAeosD,EAMP3iD,aAAM,QAENsiB,YAAU,wDAGclkC,EAAcgD,EAAKwF,EAAA86D,oBAEtCA,EAAAzC,OACJh+D,GAAE+8D,aAAAP,QAGPr/D,EACFC,IAAA/B,EAAAsmE,mBAAA,SAAAtkE,EAAAokE,EAAAjkE,EAAAC,GACLJ,EAAAuC,iBAEDO,EAAAvB,GAAAvD,EAAAmmE,yBACQC,aAAoBA,EACpBjkE,WAA6BokE,GAAApkE,EAAAA,EAAAG,KAAA,GAGrBF,WAACA,KAGTN,EAAArB,IAAAC,SAAAqE,aAAgC,YAGhCyhE,GAAkCl8D,MACnCC,GAAAD,EAAAE,IAAA,gBAAAF,EAAA5D,IAAA,gBAAA,IAEU,OAAb6D,MAEI0E,aAAA,MACAw3D,0BAAA,kCACAC,6BAA+B,0EAC/BC,6BAA+B,WAC/BC,8BAAgC,YACjCC,4BAAA,UACNC,+BAAA,eAIGv8D,EAAO0E,aAAA,gCACuB,+DAClB,uGACuB,yCAC1B,YAER43D,4BAAA,2DA1IJljE,SAAA,kBAADojE,EAACpjE,SAAA,aAAA,SAAA,YAAA,6BAED6iE,EAAA7iE,SAAA,oBAYIE,eAAA7D,EAAA,cACI8D,OACQ,MAORqiE,wBAAW,yBAPHG,mBAAA,wBAbgB,mBAIrBU,YAmBHA,MAGwB,mBAGnBX,GAAYhsD,EAAAupB,EAAA9+B,EAAAhD,EAAAu6C,EAAA/xC,EAAA86D,GAEjB,UACA5kE,MAAKojC,UAAYA,EACjBpjC,KAAKslE,UAAW,eAChBtlE,KAAKsW,WAAU,CAElB,IAAA+F,GAAAvS,EAAAE,IAAA,YAAAF,EAAA5D,IAAA,YAAA,IAEOlG,MAAAmE,OAAAygE,EAAA9C,mBAAR9hE,KAAAslE,WACItlE,KAAKulE,cAAKz7D,EAAcE,IAAA,iBAAAF,EAAA5D,IAAA,iBAAA,UAACknD,MAAO/wC,EAAAA,EAAAw/B,EAEhCv6C,EAAKrB,IAAAC,SAAcqE,aAAmB,EACtCvE,KAAKwlE,YACLxlE,KAAK2B,UAAA2C,GAAcA,EAAetC,QAAQsC,EAAOtC,OAAW,UAAAsC,EAAAtC,OAAA,aAC5DhC,KAAK4lE,aAActhE,GAAQA,EAAOtC,OAAAsC,EAAAtC,OAAA,gBACrChC,KAAA+B,IAAA/B,KAAA4lE,cAAA5lE,KAAA4lE,aAAAG,GAAAzhE,EAAAs/B,KAAA5jC,KAAA4lE,aAAAG,GAAA/lE,KAAA4lE,aAAAlkE,UAAA+kE,UAAA,IAAA,GAEMzmE,KAAA0mE,QAAA1mE,KAAA2B,WAAA3B,KAAA2B,UAAUokE,GAAjBzhE,EAAAs/B,KAAA5jC,KAAA2B,UAAAokE,GAAA/lE,KAAA2B,UAAAC,YAAA6kE,UAAA,IAAA,YAnB4BtjE,SAAc,SAAM,YAAA,SAAA,aAAA,WAAA,YAAA,6BAqBhD0iE,EAACpgE,UAAA+/D,UAAA,WACLxlE,KAAAulE,gBAEAvlE,KAAAulE,cAAA7b,OAAAa,YAGIvqD,KAAAulE,cAAW7Y,KAAAI,WACX9sD,KAAAulE,cAAczZ,WAAA1gD,KAAApL,KAAAmE,OAAA68D,gBACTuE,cAAMj4B,QAAAjyB,WAEK5V,UAAAkhE,WAAA,gBACJvjC,UAAArhC,IAAc,MAEjB8jE,kBC1EF1kE,QACA1B,OAAA,mBAKX0E,OAAAuhE,GAAAniE,IAAAgjE,GAEChjE,IAAAyiE,WAED7+D,GAAA,SAAAxG,EAAAlB,EAAAD,wBAsEIonE,GAAW98D,EAAA06D,GALf,UAOIA,GAEK7hE,MAAMnD,EAACqnE,uBAAqB9kE,IAAA,wBAGjCC,QAEQwC,MAAK,MAEhBiV,WAAAqtD,EAED5jD,aAAA,QACQsiB,YAAY,qDAIhBuhC,GAA8BzlE,EAAEgD,EAAAsgE,iBAE5Bt1D,GAAAtP,KACAmE,EAAAygE,EAA6BzC,OAC9Bh+D,GAAAg9D,aAAAR,UAGCp/D,IAAA/B,EAAAwnE,sBAA6B,SAAAxlE,EAA6BQ,GAC1DsN,EAAAhL,OAAAvB,GAAAvD,EAAAqnE,sBAAgC7kE,KAGxC,QAACilE,GAAAn9D,GAEA,GAAAC,GAAAD,EAAAE,IAAA,gBAAAF,EAAA5D,IAAA,gBAAA,IAEU,OAAP6D,MAEY0E,aAAA,gCACH,2DACA,iFAERy4D,0BAAA,+BCvHJC,0BAAA,8BAEGC,6BAAA,6EAGIF,0BAAA,aDuBW/jE,SAAA,YAAA,oBARHA,SAA0B,aAAA,SAAA,+BATVA,SAAe,mCAI3B3D,EAAkB,cAAA8D,OAAA,MAe9BujE,sBAAwB,yBACxBG,sBAAmB,0BAUvBF,IATS,mBAEAO,YAGLA,MAIH,mBAGQP,GAAmBxkE,EAAAuX,EAAAvV,EAAAhD,EAAAu6C,EAAA/xC,EAAA86D,aAExB5kE,MAAKsC,QAAAA,EACLtC,KAAKslE,UAAA,eACLtlE,KAAKsW,WAAA,CACL,IAAI+F,GAACvS,EAAcE,IAAQ,YAAOF,EAAA5D,IAAA,YAAA,IACrClG,MAAAsnE,YAAA1C,EAAA9C,mBAAA9hE,KAAAslE,WAEMtlE,KAAAulE,cAAAz7D,EAAAE,IAAA,iBAAPF,EAAA5D,IAAA,iBAAA,KACIlG,KAAKotD,MAAQ/wC,EAAQA,EAAOw/B,EAC/Bv6C,EAAArB,IAAAC,SAAAqE,aAAA,EACLvE,KAAAwlE,YAACxlE,KAAAwE,MAAAF,GAAAA,EAAAtC,QAAAsC,EAAAtC,OAAA,MAAAsC,EAAAtC,OAAA,SAkBA,MA9BW8kE,GAAA3jE,SAAA,UAAR,SAAA,SAAA,aAAA,WAAA,YAAA,6BAkBA2jE,EAAWrhE,UAAA+/D,UAAA,WAEXxlE,KAAculE,gBAENvlE,KAAKulE,cAAA7b,OAAAa,YACLvqD,KAAAulE,cAAQ7Y,KAAAI,gBACJyY,cAAWzZ,WAAA1gD,KAAApL,KAAAsnE,YAAAtG,gBACduE,cAAAj4B,QAAAjyB,WAEoB5V,UAAA8hE,QAAA,WACrBvnE,KAAAsC,QAAaE,QAAAC,QAExBqkE,iCC9De,0BAAgDF,GACvDrjE,IAAAwjE,GACLxjE,IAAA0jE,cAGK,SAAOtmE,EAAAlB,EAAAD,kBAGJgoE,GAAO,mBAEEA,GAAE3tD,QACH4tD,OAAO5tD,EAAW,WAClBrV,MAAOqV,EAAW,MAO7B,SAVoB1W,SAAA,YAKAsC,UAAA8hE,QAAA,WACbvnE,KAAAynE,QAAYtmE,QAAAiZ,WAAApa,KAA2BynE,SACvCznE,KAAAynE,UAGPD,kGC9BE58D,SAAA,IACArD,OAKX/C,MAAA,YAAAkjE,MAAA,aAMAliC,YAAA,6CAAC/rB,WAAA+tD,EAEDtkD,aAAA,uBAqBQ,SAAIviB,EAAWlB,EAAUD,wBAuE7BmoE,GAAe79D,EACf06D,aAEAA,GACH7hE,MAAAnD,EAAAooE,oBAED7lE,IAAA,kBACQC,QACAwC,MAAA,MAGJ0e,aAAa,QACTzJ,WAAAouD,EACAriC,YAAA,0CAGDsiC,GAAAxmE,EAAAgD,EAAAsgE,GAEH,cACIt1D,GAAAtP,KACAmE,EAAAygE,EAA0BzC,OAC1Bh+D,GAAAi9D,QAAAT,UAEDp/D,IAAA/B,EAAAuoE,mBAAA,SAAAvmE,EAAAQ,GACNsN,EAAAhL,OAAAvB,GAAAvD,EAAAooE,mBAAA5lE,aAKQgmE,GAAyBl+D,SAClBA,EAAAE,IAAA,gBAA+BF,EAAA5D,IAAA,gBAAA,IAClC,WAGT6D,EAAC0E,aAAA,qNCxIL1E,EAAA0E,aAAA,MAECw5D,oBAAA,6BAADC,uBAAC,yEAAAC,oBAAA,QAEDC,sBAAA,eD6B6BjlE,SAAa,YAAC,oBAEtBA,SAAW,aAAW,SAAS,+BAE7BA,SAAS,mCACV3D,EAAS,cAAc8D,OAAA,MACrCskE,mBAAiB,mBAEjBG,mBAAmB,wBAED,WAEtB,QAACM,YAGMA,QAEuB,mBAErBR,GAAyBhuD,EAAOvV,EAAWhD,EAAYu6C,EAAA/xC,EAAA86D,GAC5D,UACH5kE,MAAAslE,UAAA,UAEOtlE,KAAAsW,WAAA,CACJ,IAAI+F,GAACvS,EAAoBE,IAAA,YAAAF,EAAsB5D,IAAA,YAAA,IAC/ClG,MAAKmE,OAAAygE,EAAgC9C,mBAAK9hE,KAAAslE,WAC1CtlE,KAAKulE,cAAcz7D,EAAUE,IAAK,iBAAcF,EAAA5D,IAAA,iBAAA,KAChDlG,KAAKotD,MAAA/wC,EAAcA,EAAcw/B,EAEjCv6C,EAAKrB,IAAAC,SAAcqE,aAAiB,EAEpCvE,KAAKivC,UAAAp1B,EAAc,UACtB7Z,KAAAwlE,YAEMxlE,KAAAwE,MAAAF,GAAAA,EAAAtC,QAAAsC,EAAPtC,OAAA,MAAAsC,EAAAtC,OAAA,SACIhC,KAAKsoE,aAgCT,SAjD2BnlE,SAAW,SAAC,SAAA,aAAA,WAAA,YAAA,6BAoB3C0kE,EAAApiE,UAAC+/D,UAAA,WAAAxlE,KAAAulE,gBAMGvlE,KAAAulE,cAAW7b,OAAAa,YAEXvqD,KAAAulE,cAAc7Y,KAAAI,gBACLyY,cAAMzZ,WAAA1gD,KAAoBpL,KAAAmE,OAAA68D,WACvBhhE,KAAKulE,cAAAj4B,QAAiBjyB,WAEP5V,UAAA6iE,WAAA,gBACdC,cAAA,GAAAF,GACDroE,KAAAuoE,cAAcznE,KAAOd,KAAAwE,MAAA1D,KACrBd,KAAAuoE,cAAY1gE,QAAA7H,KAAAwE,MAA0BqD,QACtC7H,KAAAuoE,cAAaj/D,OAAAtJ,KAAAwE,MAAA8E,OACdtJ,KAAAuoE,cAAAC,kBAAA,aACdxoE,KAAAuoE,cAAAE,kBAAA,cAOGZ,EAAWpiE,UAAA+nC,UAAA,WALfxtC,KAAAivC,WAeC,GANQ44B,yBC7EDpoE,OAAI,mBACJ0E,OAAKwjE,GACLpkE,IAAKukE,GAELvkE,IAAKykE,eAKL,SAAUrnE,EAASlB,EAAID,wBA+CvBkpE,GAA4ClE,GAChD,UACAA,GAEI7hE,MAAO,0BACJ,8BAEH6B,MAAO,MAGP0e,aAAW,QAClBzJ,WAAAkvD,EAEDnjC,YAAA,kDAE8BojC,GAAOtnE,EAAAgD,EAAAwF,EAAA86D,GAGjC,cACIzgE,GAAAygE,EAA2BzC,WAC3Bh+D,EAAAk9D,YAAAV,cAEA72D,EAAAE,IAAA,iBAAAF,EAAA5D,IAAA,iBAAA,QACA2iE,MAGAC,GAAA3kE,EAA0Bk9D,YAAEC,OAAa9qD,UACzCV,EAAA+yD,EAAwBhzD,YACxBD,EAAAizD,EAAAnyD,iBACAd,EAAAG,MAAA,KAAwB,GACxBD,GAEDgzD,EAAAhzD,IAEHF,GAAakzD,EAAmBhzD,gBAG5B/S,GAAA,gCAEAgmE,GAA8Bj/D,MAC9BC,GAAAD,EAAyBE,IAAE,gBAAaF,EAAA5D,IAAA,gBAAA,IACxC,OAAA6D,MAEA0E,aAAsB,MACtBu6D,wBAA0B,gCAC1BC,2BAAwB,oOAI/BC,oBAAA,QAEAC,wBAAA,cACGC,qBAAO,6CACuB,mCAClB,yCACH,mCACA,kBACRC,yBAAA,qCC5ILL,wBAAA,gCACAC,2BAAA,oOAGAC,oBAAA,QACAC,wBAAA,cACAC,qBAAA,oBACAE,yBAAA,cACAC,qBAAA,gBACAC,yBAAA,cACAC,qBAAA,kBACAJ,yBAAA,mBD6BYlmE,SAAA,oBACMA,SAAc,aAAA,SAAA,YAAA,+BAAQA,SAAA,mCAE3B3D,EAAc,cAAmB8D,OAAA,OAnC9CqlE,IAoCa,mBACAe,MAET,MAACA,MACJ,WAKG,QAAAf,GAAW9uD,EAAAvV,EAAAhD,EAAAu6C,EAAA/xC,EAAA86D,GAEX,gBACKU,UAAM,cACHtlE,KAAKsW,WAAA,CACL,IAAA+F,GAAQvS,EAAAE,IAAA,YAAAF,EAAA5D,IAAA,YAAA,UACJohE,YAAW1C,EAAA9C,mBAAA9hE,KAAAslE,gBACdC,cAAAz7D,EAAAE,IAAA,iBAAAF,EAAA5D,IAAA,iBAAA,KACDlG,KAAAotD,MAAY/wC,EAASA,EAAAw/B,EACrBv6C,EAAUrB,IAAEC,SAAAqE,aAAA,EACZvE,KAAAwlE,YACDxlE,KAAAwE,MAAAF,GAAAA,EAAAtC,QAAAsC,EAAAtC,OAAA,MAAAsC,EAAAtC,OAAA,SAeuB,MA7BlC2mE,GAAAxlE,SACI,SAAA,SAAoC,aAAA,WAAA,YAAA,6BAgBxCwlE,EACIljE,UAAgC+/D,UAEhC,WAEAxlE,KAAWulE,gBAIPvlE,KAACulE,cAAkB7b,OAAOa,YAAEvqD,KAAAulE,cAAO7Y,KAAAI,WAEnC9sD,KAAAulE,cAAqBzZ,WAAc1gD,KAAApL,KAAAsnE,YAAmBtG,WACtDhhE,KAACulE,cAAgBj4B,QAAAjyB,SAAUstD,OCjEnC,WACAxnE,QACA1B,OAAA,mBACA0E,OAAAukE,GACAnlE,IAAAqlE,GACArlE,IAAAwlE,WAGAl/D,IAAA,SAAAlJ,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,wCACA,qvBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2CACA,61BAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2CACA,+kBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,6CACA,ygBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA;;;ClLzEA,SAAAF,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAA0pE,OAAApqE,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gEmLYI,IAAMoqE,IACFC,OAAQ,aACRC,YAAa,mBACbC,YAAa,mBACbC,kBAAmB,oBAYvBC,GATA,WAAA,QAAAC,MAOA,MAAAA,MAEA,mBAmBQD,GAAWtwD,EAAAE,EAAAhW,EAAAsmE,GANf,UACY,IAAA76D,GAAAtP,IACAA,MAAA2Z,SAAAA,EACA3Z,KAAA6Z,OAAQA,EACR7Z,KAAA6D,SAAAA,EATJ7D,KAAAmqE,eAAkCA,EAGlCnqE,KAAAoqE,MAAM,KAUVpqE,KAAKiiB,OAAS,IACdjiB,KAAA+kC,OAAc/kC,KAAAmqE,eAAgBE,2BACvBpwD,OAAE,eAAc,SAAAqwD,GAACA,IAGpBh7D,EAAKlG,KAAMkG,EAAGi7D,YAAcD,GAE5Bh7D,EAAKk7D,OAAAF,EACNh7D,EAAMm7D,iBACZ,GA9BL,MAaIR,GAAA9mE,SACY,WACA,SACA,WACA,oBAeZsC,UAWCsiD,QAAA,WAVG,GAAIz4C,GAAQtP,IACZA,MAAKoJ,KAAMpJ,KAAKuqE,YAAWvqE,KAAO6pE,QAClC7pE,KAAKwqE,OAAA5nE,EAAA8nE,MAAA1qE,KAAsB6pE,QACjB7pE,KAAG2qE,kCACTC,cAAgB,iBACZC,IAAMC,MAAKC,UAACp4B,MAAerjC,EAAAy1B,OAAA70B,IAAA,SAA2B4iB,GACtD,MAAAxjB,GAAA66D,eAAAa,oBAAAl4C,OAIX9yB,KAAAirE,sBAGQxlE,UAAcyV,WAAmB,SAAUC,GAChDnb,KAAK8pE,YAAc3uD,EAAQ2uD,YAAc3uD,EAAQ2uD,YAAY1uD,aAAe,KAC5Epb,KAAK+pE,YAAA5uD,EAAoB4uD,YAAQ5uD,EAAA4uD,YAA4B3uD,aAAA,KAE7Dpb,KAAIgqE,kBAAkB7uD,EAAQ6uD,kBAAmB7uD,EAAY6uD,kBAAQ5uD,aAAgB,KACjFD,EAAK0uD,QAAS1uD,EAAQ0uD,OAAOzuD,eAAaD,EAAA0uD,OAAAxO,gBAC1Cr7D,KAAK6pE,OAAO1uD,EAAK0uD,OAAYzuD,aAC7Bpb,KAAKoJ,KAAMpJ,KAAKuqE,YAAWvqE,KAAO6pE,QAClC7pE,KAAKwqE,OAAA5nE,EAAA8nE,MAAA1qE,KAAsB6pE,QAC3B7pE,KAAK2qE,yBACR3qE,KAAAyqE,kBAIchlE,UAAEglE,YAAA,WACbzqE,KAAKoqE,QACLpqE,KAAKkrE,UAAAC,MAAAnrE,KAAAoJ,MAAyBpI,KAAAhB,KAAAoqE,OAC9BpqE,KAAKorE,yBACRprE,KAAAqrE,qBAGL5lE,UA0DCwlE,iBAAA,WAzDG,GAAG37D,GAAStP,iBACH,WAkDN,SAjDMoqE,MAAOkB,GAAAC,OAAAC,mBACJlc,QACAl6C,IAAK,GACL4b,MAAM,EACNC,OAAQ,GACVrP,KAAA,KAEEkM,EAAA,SAAS5hB,GACX,MAAAA,GAAAu/D,OAAAv/D,EAAAhB,KAAAgB,EAAA4hB,IAEEC,EAAA,SAAS7hB,GACX,MAAAA,GAAA5I,QAEDooE,YAAA,GACAC,eAAc,GACdC,WAAU,GACVC,WAAA,GACAC,YAAWjB,GAAAl9D,OAAA,MACX0gC,SAAO,GACPpsB,OAAM3S,EAAA2S,QACH6Q,MAAO,SAAS5mB,GACjB,MAAAoD,GAAAlG,KAAA8C,EAAA29D,QAAA/2C,OAAAxjB,EAAA66D,eAAAa,oBAAA17D,EAAAy1B,OAAA74B,EAAA29D,WAGPv6D,EAAK86D,MAAM2B,QAAO/V,SAAA,GAElB1mD,EAAK86D,MAAM4B,OAAK,mCACX5B,MAAA6B,MACGC,WAAW,SAAChgE,GACb,MAAAoD,GAAAy6D,YAAAz6D,EAAAy6D,YAAA79D,GAAAA,MAGFk+D,MAAA+B,MACGD,WAAW,SAAChgE,GACb,MAAAoD,GAAAw6D,YAAAx6D,EAAAw6D,YAAA59D,GAAAA,MAGFg/D,UAAOL,GAAAvd,OAAgBh+C,EAACqK,SAAAzT,IAAA,IACxBonD,OAAM,kBACN6d,MAAM77D,EAAAlG,MACNue,MAAK,SAAU,SAEjB3mB,KAAMsO,EAAA86D,gBACDvS,aAAa,WACjBvoD,EAAK86D,MAAA3hE,SACL6G,EAAK87D,uBAAiB,GACvB97D,EAAA+7D,mBAGJ/7D,EAAA86D,oBAEKvmE,SAAK,WACLyL,EAAE87D,0BACN,GACD97D,EAAA+7D,sBAIc5lE,UAAC8kE,YAAA,SAAAnhE,GAClB,GAAE6H,KAIL,eAHU7H,EAAE,SAAcgjE,IAAkBA,EAAO3vD,UAAY2vD,EAAA/7D,QACzDY,EAAAV,KAAA67D,KAENxpE,EAAAC,UAAAoO,MAGYxL,UAAc4lE,eAAc,cACW,IAA5CrrE,KAAG2Z,SAAWnB,KAAC,cAAcvX,OAChC4pE,GAAAvd,OAAAttD,KAAA2Z,SAAAnB,KAAA,gBAAA,IAAAqpB,aACG,CAIA,GAAEjiC,GAAMI,KAAKkrE,UAAAn0C,OAAA,KAAAs1C,QAAA,eAAA,GAAA7wD,EAAAxb,KAAA2Z,SAAAnB,KAAA,aAAAkL,aAAA4rC,EAAA,GAAA9zC,WACR,KACAmM,MAAM,OAAQ,uBACdoP,OAAK,QACLxO,KAAK,SAASvoB,KAAIiiB,OAAA,IAErBsG,KAAO,QAAI,aACJ,KACJA,KAAK,YAAS,qBACdZ,MAAM,OAAQ,uBACdoP,OAAK,QACLxO,KAAK,SAAS,KAEjBA,KAAO,QAAI,aACJ,KACJA,KAAK,YAAS,sBACdZ,MAAM,OAAQ,uBACdoP,OAAK,QACLxO,KAAK,SAAS,KAEjBA,KAAK,QAAW,IACrB3oB,EAAA2oB,KAAA,YAAA,cAAA,GAAA+mC,GAAA,gBAAA9zC,EAAA,EAAA8zC,GAAA,IAAA,YAGL7pD,UA4BC2lE,uBAAA,SAAAtzD,GA5B8B,GAAAxI,GAAAtP,IACZ,UAAT8X,IAAsBA,EAAM,IAIlC,IAAGw0D,GAAOtsE,KAAK2Z,SAASnB,KAAK,gBAAkB+zD,EAAQvsE,KAAW2Z,SAAMnB,KAAA,UAAAxY,MAAA2Z,SAAAnB,KAAA,aAAA,GAAAg0D,UAAAvqD,MAExE4oD,IAAEvd,OAAKttD,KAAA2Z,SAAWnB,KAAC,cAAgC,IAAA6zD,QAAA,WAAA,UAC/CE,EAAe,SAAU97D,EAAG8L,GAM5B,GAAAkwD,GAAO5uD,OAAAgtD,GAAAvd,OAAA78C,GAAA68C,OAAA,QAAA/kC,KAAA,WAAAmkD,EAAA7uD,OAAAgtD,GAAAvd,OAAA78C,GAAA68C,OAAA,QAAA/kC,KAAA,UAAAvd,EAAA6/D,GAAAvd,OAAA78C,GAAAqd,EAAA+8C,GAAAr8C,UAAAxjB,EAAAud,KAAA,cAAApd,UAAA,GAAA4iB,EAAA88C,GAAAr8C,UAAAxjB,EAAAud,KAAA,cAAApd,UAAA,KAEFod,KAAA,YAAe,aAAkB1K,OAAAiQ,EAAAvR,GAAAmwD,EAAA,KAAA,MAAAp9D,EAAA2S,OAAA,IAAA,KAEtCqrC,OAAO,QAAA/kC,KAAA,SAAA,KAEFokD,aACAt+B,SAAKv2B,GACLyQ,KAAA,YAAe,aAAe1K,OAAUiQ,EAACvR,GAAAmwD,EAAA,KAAA,KAAA3+C,EAAA,KAE3Cu/B,OAAO,QAAO/kC,KAAO,SAAAkkD,aACdH,EAAM/vD,IACXgM,KAAK,KAAKkkD,EAAa,EAAC,IAC9BlkD,KAAA,IAAAmkD,EAAA,QAGPjnE,UASCklE,uBAAA,WARG,GAAIr7D,GAAMtP,IAAMA,MAAMoJ,aAGfpJ,KAAKoJ,KAAC,SAAYqH,EAAA8L,GACjB9L,EAAKJ,OAAO,KACZI,EAAKJ,OAAK,GAAGyiB,MAAKriB,EAAUJ,OAAM,GAAAyiB,OAAAxjB,EAAA66D,eAAAyC,iBAAArwD,EAAAjN,EAAAy1B,QACrCt0B,EAAAqiB,MAAAriB,EAAAJ,OAAA,GAAAyiB,UAIZm3C,MAGG4C,GACA3vD,SAAA0sD,EACApkC,YAAY,0BACf/rB,WAAAwwD,WAIIxqE,OAAA,mBACR0d,UAAA,cAAA0vD,uCCrPDzpE,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,OAEOwpE,GAAA,mBACYA,GAAAC,GAGX,UAEM/sE,MAAA+sE,gBAAAA,EA6BX,SAhCmB5pE,SAAA,qBAIkCsC,UAACmnE,iBAAA,SAAArwD,EAAAwoB,GAE9C,OAAIA,GAASA,EAAO9jC,OAAS,EACpB,MACRsb,GAAAwoB,EAAA9jC,SAEDsb,EAAY,GAGTvc,KAAAgrE,oBAAAjmC,EAAAxoB,QAEM9W,UAAgBulE,oBAAoB,SAAMl4C,SAC/C,QAAK9yB,KAAA+sE,gBAA4Bj6C,GAAQ,KAAGxvB,MAAG,GAAA,IAC/CtD,KAAK+sE,gBAAgBj6C,GAAO,KAAKxvB,MAAM,GAAG,IACjDtD,KAAA+sE,gBAAAj6C,GAAA,KAAAxvB,MAAA,GAAA,KAEMtD,KAAA+sE,gBAAAj6C,GAAA,KAAAxvB,MAAA,IAAP,GAAA,OACmBmC,UAAe4kE,uBAAkB,cAC5C/6D,GAAOtP,KACR+kC,EAAAniC,EAAAsN,IAAAlQ,KAAA+sE,gBAAA,SAAAC,EAAAl6C,GACH,MAAWA,IAMnB,OAJQiS,GAAGniC,EAAAyW,OAAA0rB,EAAA,SAAAjS,GAEH,MAAOlwB,GAAM4pC,SAACl9B,EAAAy9D,gBAAAj6C,KAAAlwB,EAAA4pC,SAAAl9B,EAAAy9D,gBAAAj6C,GAAA,OAAAlwB,EAAA6K,QAAA6B,EAAAy9D,gBAAAj6C,GAAA,KAAAxvB,UAIfwpE,aAGVrtE,OAAA,+JCxCD,oBAQI4D,eAAM7D,EAA4C,cAAA8D,OAAA,OAE9C2pE,IACHpD,OAAA,aAEDqD,YAAA,sBAKC,WAAD,QAAAC,MAEA,MAAAA,MAYmB,mBAJHC,GAAiBzzD,EAAAE,EAAAhW,EAAAsmE,GACjB,UACAnqE,MAAA2Z,SAAAA,EAGR3Z,KAAK6Z,OAASA,EACjB7Z,KAAA6D,SAAAA,EAEM7D,KAAAmqE,eAAAA,EACHnqE,KAAK+kC,OAAA/kC,KAAamqE,eAAGE,yBA+DzB,SAzEYlnE,SAAgB,WAAA,SAAA,WAAA,kBAarBiqE,EAAA3nE,UAAAsiD,QAAU,WAAjB/nD,KAAAqtE,mBAEsB5nE,UAAQyV,WAAO,SAAaC,MAC1C7L,GAAKtP,IACRmb,GAAA0uD,QAAA1uD,EAAA0uD,OAAAzuD,eAAAD,EAAA0uD,OAAAxO,gBAEGr7D,KAAA6pE,OAAQ1uD,EAAW0uD,OAAIzuD,aACvBpb,KAAKqtE,mBAEGH,aAAU/xD,EAAA+xD,YAAA9xD,eAAAD,EAAA+xD,YAAA7R,iCACLlgD,EAAA+xD,YAAkB9xD,aAC3Bpb,KAAKktE,eAAC,GACTltE,KAAA6D,SAAA,WACJyL,EAAAg+D,mBACJ,OAImB7nE,UAAG4nE,cAAA,cACf/9D,GAAKtP,IACTA,MAAK6D,SAAC,WACFyL,EAAC+F,UACR/F,EAAAg+D,mBAEO,GAARttE,KAAAutE,mBAGW9nE,UAAoB6nE,gBAAoB,cAC3Ch+D,GAAItP,OACMA,KAAA2Z,SAAAnB,KAAA,oCACTg1D,EAAA,SAAA/8D,EAAA8L,GACCA,GAAKjN,EAAAu6D,OAAA5oE,aAIRwa,IAAA,QAAAnM,EAAAu6D,OAAAttD,GAAAuW,OAAAxjB,EAAAy1B,OAAAxoB,IACN/D,KAAA,YAEOiD,IAAA,mBAAAnM,EAARu6D,OAAAttD,GAAAuW,OAAAxjB,EAAAy1B,OAAAxoB,SAGW9W,UAAc4P,QAAoB,cACrC/F,GAAKtP,OACOA,KAAQ2Z,SAACnB,KAAW,6BAC7Bi1D,EAAa,SAAAh9D,EAAA8L,GACjBjN,EAAAzL,SAAA,WACNoR,EAAAxE,GAAAkM,SAAA,YAEO,IAAAJ,QACqB9W,UAAA8nE,cAAA,WAEzB,GAAEj+D,GAAUtP,IACRA,MAAM6pE,eAEN7pE,KAAK6pE,OAAW,SAAKp5D,EAAQ8L,GAC9B,GAAAmxD,GAAAp+D,EAAA66D,eAAAyC,iBAAArwD,EAAAjN,EAAAy1B,OACNt0B,GAAAqiB,MAAAriB,EAAAqiB,QAAAriB,EAAAJ,QAAAI,EAAAJ,OAAA,IAAAI,EAAAJ,OAAA,GAAAyiB,MAAAriB,EAAAJ,OAAA,GAAAyiB,MAAA46C,GACLj9D,EAAAgM,SAAAhM,EAACgM,WAAA,KAGG2wD,MAEAO,GACHzwD,SAAA+vD,EAEDznC,YAAO,sDACK4nC,EAEfjsE,yEpL5GGsD,GAAA,SAAA9D,EAAelB,EAAAD,WACfC,OAAA,aACA,eACA,gBACA,eACD,gEqLLFsF,GAAA,SAAApE,EAAAlB,EAAAD,sCAoBeA,EAAY,cAAA8D,OAAA,OAEpBsqE,IACA/D,OAAO,aACPgC,UAAW,aACXD,UAAW,aACXiC,QAAA,eACA/D,YAAS,mBACTC,YAAa,mBACb+D,YAAa,mBACbC,QAAS,eACTC,YAAW,qBACXC,cAAA,qBACH7rD,UAAA,iBAEDJ,UAAA,iBAAAgoD,kBAAA,uBAiBA,WAjBA,QAiBCkE,MA2BG,MAAAA,MAsBC,mBApBWC,GAAiBx0D,EAAAE,EAAAhW,EAAAsmE,GACjB,UACA,IAAA76D,GAAAtP,IA5BJA,MAAA2Z,SAASA,EACT3Z,KAAA6Z,OAAsBA,EACtB7Z,KAAA6D,SAASA,EACT7D,KAAAmqE,eAAyBA,EACzBnqE,KAAAouE,OAAA,IAGDpuE,KAAAoqE,MAAA,KACApqE,KAAAkrE,UAAA,KACAlrE,KAAAquE,QAAS,KACTruE,KAAAsuE,kBAAyB,KAEzBtuE,KAAAguE,YAAqBhuE,KAAKouE,OAC1BpuE,KAAAiuE,eAAyB,EAKzBjuE,KAAAoiB,UAAmBpiB,KAAMouE,OACzBpuE,KAAAgiB,UAAAhiB,KAAiBouE,OAapBpuE,KAAK6rE,WAAS,EAEd7rE,KAAA4rE,WAAc,OACVmC,SAAS,OACT/D,mBAAc,OAEdjlC,OAAK/kC,KAAAmqE,eAAcE,yBACvBxwD,EAAOI,OAAE,eAAA,SAAAqwD,GAETh7D,EAAUlG,KAACkG,EAAYi7D,YAAAD,GACnBh7D,EAAAk7D,OAASF,IACHG,mBAEV5wD,EAAGtY,IAAA,WAAA,WACNsC,EAAA,WAEMgnE,GAAA0D,UAAA,cAAO5mD,MAAd,UAAA,IAAA,OA4eA,SAngBYxkB,SAAgB,WAAA,SAAA,WAAA,oBA0BnBsC,UAAkBsiD,QAAA,WAEvB,GAAIz4C,GAACtP,IAEKA,MAAGoJ,KAAOpJ,KAAAuqE,YAAgBvqE,KAAA6pE,iBAChCW,OAAU5nE,EAAA8nE,MAAM1qE,KAAO6pE,kCAEtBc,yBACLE,GAAEC,MAAAF,cAAA,WAEE,MAACC,IAAAC,MAAAC,UAAmBp4B,MAAArjC,EAAAy1B,OAAA70B,IAAA,SAAA4iB,GAC3B,MAAAxjB,GAAA66D,eAAAa,oBAAAl4C,OAIG9yB,KAAKirE,sBAEAxlE,UAAgByV,WAAQ,SAAgBC,GAE7Cnb,KAAKguE,YAAY7yD,EAAQ6yD,YAAY7yD,EAAQ6yD,YAAU5yD,aAAoBpb,KAAAouE,OAC3EpuE,KAAKoiB,UAAYjH,EAAQiH,UAAYjH,EAAQiH,UAAUhH,aAAepb,KAAKouE,OAC3EpuE,KAAKgiB,UAAU7G,EAAQ6G,UAAU7G,EAAQ6G,UAAQ5G,aAAoBpb,KAAAouE,OACrEpuE,KAAKiuE,cAAA9yD,EAAoB8yD,cAAQ9yD,EAAoB8yD,cAAQ7yD,aAAkBpb,KAAAiuE,cAE/EjuE,KAAK4rE,UAAUzwD,EAAQywD,UAAUzwD,EAAQywD,UAAQxwD,aAAoBpb,KAAA4rE,UACrE5rE,KAAK6rE,UAAW1wD,EAAG0wD,UAAQ1wD,EAAc0wD,UAAQzwD,aAAYpb,KAAY6rE,UACzE7rE,KAAK+tE,QAAA5yD,EAAc4yD,QAAQ5yD,EAAc4yD,QAAQ3yD,aAAYpb,KAAA+tE,QAE7D/tE,KAAIgqE,kBAAmB7uD,EAAI6uD,kBAAoB7uD,EAAY6uD,kBAAa5uD,aAAYpb,KAAegqE,uBAC/F6D,QAAK1yD,EAAc0yD,QAAQ1yD,EAAA0yD,QAAYzyD,aAAapb,KAAA6tE,aACpD/D,YAAK3uD,EAAiB2uD,YAAG3uD,EAAA2uD,YAAA1uD,aAAApb,KAAA8pE,iBACzBC,YAAS5uD,EAAa4uD,YAAW5uD,EAAA4uD,YAAA3uD,aAAApb,KAAA+pE,cAAK+D,aAAW3yD,EAAW2yD,YAAY1yD,eAAiBD,EAAA2yD,YAAAzS,gBAC5Fr7D,KAAA8tE,YAAA3yD,EAAA2yD,YAAA1yD,aAEGpb,KAAAwuE,oBACIxuE,KAACkrE,WAAelrE,KAAAoqE,OACvBpqE,KAAAkrE,UAAAC,MAAAnrE,KAAAoJ,UAAApI,KAAAhB,KAAAoqE,QAGGjvD,EAAA0uD,QAAA1uD,EAAA0uD,OAAWzuD,eAAKD,EAAA0uD,OAAAxO,eACdr7D,KAAAyuE,kBAE0ChpE,UAAW8kE,YAAC,SAAAnhE,GAC5D,GAAG6H,KAaN,OAXGrO,GAAA4N,KAAOpH,EAAE,SAAUgjE,IACtBA,EAAA3vD,UAAA2vD,EAAA/7D,QAEOY,EAAAV,KAAA67D,KAQPxpE,EAAAC,UAAAoO,IAEMk9D,EAAA1oE,UAAAipE,UAAP,WACI,MAAI1uE,MAAKiuE,cAAUtlE,KAAA4Z,IAAA5Z,KAAAC,IAAA5I,KAAAoiB,UAAApiB,KAAA2Z,SAAAyL,SAAA+J,eAAAnvB,KAAAgiB,WAAAhiB,KAAAguE,aAGvBG,EAAC1oE,UAAAkpE,OAAA,WAAC3uE,KAAAquE,SAEKruE,KAAAquE,QAAA,OAIPF,EAAC1oE,UAAAmpE,QAAA,WAAC5uE,KAAAquE,SAEMruE,KAAAquE,QAAA,UAGY5oE,UAAAwlE,iBAAA,iBACDjrE,iBACH,WAiFf,SAhFeoqE,MAAUkB,GAAAC,OAAAsD,YACVvf,QACFl6C,IAAA,SACC,GACC6b,OAAQ,GACVrP,KAAA,KAEEkM,EAAA,SAAS5hB,GACX,MAAA6I,UAAA7I,GAAA6I,SAAA7I,EAAA4hB,EAAAxe,EAAAu+D,QAAAv+D,EAAAu+D,QAAA3hE,EAAA4hB,GAAA5hB,EAAA4hB,EAAA5hB,IAED6hB,EAAA,SAAA7hB,SACU6I,UAAV7I,GAAe6I,SAAA7I,EAAA5I,MAAA4I,EAAA5I,MAAA4I,IAEf+V,OAAA3S,EAAWo/D,YAAM,IACjBI,yBAAQ,GACLlD,WAAS,GACVC,WAAA,GAEHkD,YAAO,GACPj8C,MAAM,SAAQ5mB,GAElB,MAAUA,GAAC4mB,OAAK+3C,GAAAC,MAAAF,gBAAAj4B,YAERy3B,MAAO2B,QAAK/V,SAAW,GAC3B1mD,EAAG86D,MAAA4B,OAAA,iCAEP18D,EAAK86D,MAAM6B,MACNC,WAAW,SAAChgE,GACT,MAAOoD,GAAKy6D,YAAcz6D,EAAKy6D,YAAY79D,GAAKA,MAEnDk+D,MAAA+B,MACGD,WAAS,SAAKhgE,GAEtB,MAAKoD,GAASw6D,YAAax6D,EAAKw6D,YAAe59D,GAAEA,IAG/C8iE,WAAA1/D,EAAmBw+D,aAAGlrE,EAAA6K,QAAsB6B,EAAEw+D,cAAEx+D,EAAAw+D,YAAA7sE,OAAA,EAC9C4pE,GAAAl4B,MAAKrjC,EAASw+D,YAAA,GAAAx+D,EAAAw+D,YAAA,GAAAx+D,EAAAw+D,YAAA,IAAA,kBACJjD,GAAOvd,OAAKh+C,EAAAqK,SACdzT,IAAQ,IAAGonD,OAAQ,+BAKf6d,MAAI77D,EAAAlG,UAAaue,MAAY,SAAArY,EAAAo/D,YAAA,GAAA,MAAA1tE,KAAAsO,EAAA86D,4BAC5B1tD,GAAA,uBAA6B,SAAYvc,cACvC,WACX,GAAA4rE,GAAY92D,EAAA,cAAWg6D,EAAAlD,EAAAroD,aAAAwrD,EAAAj6D,EAAA,QAAAyO,aAAAoK,EAAA3tB,EAAAuvB,cAAA,QAAA,GAAA,MAAA3B,EAAA5tB,EAAAuvB,cAAA,QAAA,GAAA,KACvBq8C,GAAQtwD,IAAI,YAAU,cACvBqS,EAAAmhD,GAAAC,EAAAphD,EAAAmhD,EAAAnhD,GAAA,IACJC,EAAA,KAEDg+C,EAAAtwD,IAAkB,OAAI,GACdswD,EAAAtwD,IAAA,MAAgB,4BAINiB,GAAA,sBAAA,SAAAvc,GAEhB,GAAAgvE,GAAc,WACVl6D,EAAA,cAAgBwG,IAAA,UAAA,GAErB0zD,KAEC7/D,EAAKzL,SAAS,WACdsrE,KACH,OAGG7/D,EAAKy+D,SACNz+D,EAAA8/D,QAAA9/D,EAAA86D,MAAA96D,EAAA47D,oBAGKrT,aAAY,WACjBvoD,EAAAm8B,aAGJn8B,EAAAuK,OAAAtY,IAAA,iBAAA,WACC+N,EAAKm8B,aAEZn8B,EAAA86D,OAEO,WACA96D,EAAM+7D,sBAGM5lE,UAAK+oE,kBAAyB,WACtCxuE,KAAGoqE,OAGPpqE,KAAAoqE,MAAA+B,MACA6C,WAAYhvE,KAAC8tE,aAAAlrE,EAAA6K,QAAAzN,KAAA8tE,cAAA9tE,KAAA8tE,YAAA7sE,OAAA,EACb4pE,GAAAl4B,MAAK3yC,KAAA8tE,YAAoB,GAAA9tE,KAAA8tE,YAAA,GAAA9tE,KAAA8tE,YAAA,IAAA,SAGpBroE,UAAiBglE,YAAA,WAEtBzqE,KAAIoqE,aAAwBoE,oBAC/BxuE,KAAAkrE,UAAAC,MAAAnrE,KAAAoJ,UAAApI,KAAAhB,KAAAoqE,OACJpqE,KAAAqrE,iBAEOrrE,KAAAsuE,mBACCtuE,KAAOsuE,kBAAiBtuE,KAAKoJ,UAIlB3D,UAAGgpE,aAAA,WACtBzuE,KAAAoJ,KAAApJ,KAAAuqE,YAAAvqE,KAAA6pE,QAEO7pE,KAAAwqE,OAAA5nE,EAAA8nE,MAAA1qE,KAAA6pE,QACJ7pE,KAAK2qE,yBACL3qE,KAAKyqE,iBAEAhlE,UAAiBgmC,SAAA,WACzBzrC,KAAAoqE,MAAAnoD,OAAAjiB,KAAA0uE,YAAA,IAEO1uE,KAAAkrE,UAAAvjD,MAAA,SAAA3nB,KAAA0uE,YAAR,GAAA,MACI1uE,KAAKoqE,MAAK3hE,cACN4iE,oBACI5lE,UAAA4lE,eAAA,cACJrrE,KAAM2Z,SAAAnB,KAAc,kBAAiBtS,IAAK,UAM5BlG,KAAW2Z,SAAUnB,KAAI,eAAckL,aAAcwL,EAAmBlvB,KAAM2Z,SAASnB,KAAA,eAAA2W,aACpGnvB,MAAA2Z,SAAAnB,KAAA,gBAAAtS,IAAA,GAAKlG,KAAEkrE,UACC5d,OAAA,SACA/kC,KAAA,YAAc,SAAApD,EAAA,KAAA,IAAA+J,EAAA,IAAA,WAGdg8C,UACAn0C,OAAK,QACLA,OAAK,WACLxO,KAAK,SAAU,GACfA,KAAA,QAAc,GACdA,KAAK,IAAK,KACVA,KAAK,IAAK,KACVA,KAAK,KAAA,MACLwO,OAAK,SACLxO,KAAK,IAAA,IACLA,KAAK,IAAA,GAELA,KAAA,SAAS,SACTA,KAAA,QAAc,UACdA,KAAA,YAAQ,SAAoBpD,EAAA,KAAA,IAAA+J,EAAA,IAAA,KAC5B3G,KAAK,aAAU,0CACf2iD,UACAn0C,OAAK,QACbs1C,QAAA,eAAA,GACJ9jD,KAAA,SAAA,QACJA,KAAA,QAAA,QAEOA,KAAA,OAAA,iBA/BAsiD,IAAGvd,OAAMttD,KAAA2Z,SAAcnB,KAAA,gBAAsB,IAAGqpB,YAsCrCp8B,UAAe4pE,aAAC,SAAAC,EAAAt0C,GAC3B,GAAGu0C,GAAAv0C,EAAA,GAAAA,EAAA,GAAAw0C,EAAAF,EAAA,GAAAA,EAAA,GAAAG,EAAAD,EAAAD,IAAA,CAEPt6D,GAAEjV,KAAE2Z,SAAQ,IAAAnB,KAAA,kBAACiD,IAAA,UAAO,WAElB,MAAKg0D,GAAa,EAAK,IAEjBA,UAEH91D,SAAW,IAAEnB,KAAA,mBACViD,IAAA,OAAO,WACR,OAAA6zD,EAAA,GAAAt0C,EAAA,IAAAu0C,EAAA,IAAA,MAGH9zD,IAAA,QAAA,WAAR,MAAA+zD,GAMCD,EAAA,IAAA,SAHmB9pE,UAAEklE,uBAAoB,cAClCr7D,GAAKtP,IACNA,MAAAoJ,MAGCxG,EAAA4N,KAAAxQ,KAAAoJ,KAAA,SAAAqH,EAAO8L,GAAf9L,EAAAqiB,MAiOCriB,EAAAqiB,OAAAxjB,EAAA66D,eAAAyC,iBAAArwD,EAAAjN,EAAAy1B,aA3NmBt/B,UAAC2pE,QAAA,SAAAhF,EAAAsF,GACjB,GAAIpgE,GAAOtP,KACP2vE,EAAc,EACd1D,EAAM,KAGNE,EAAM,KACNyD,EAAS,KAGTC,EAAU,KACVC,EAAA,KAGAC,EAAS,KACTC,EAAA,KACAC,EAAY,KACZC,EAAa,KAEXC,EAAOtF,GAAGuF,SAACC,OAEbC,EAAQ,KACRC,EAAQ,KACRC,EAAU,KACVC,EAAU,SAASC,GACnBzE,EAAMyE,EAAWzE,MAGjBE,EAAMuE,EAASvE,MACfyD,EAASc,EAAMd,SAAQzD,EAAArB,QAAA6F,OAGvBd,EAAUa,EAASb,SAAQ5D,EAASnB,QAAQ6F,OAC5Cb,EAAAY,EAAkBjoE,OAGlBsnE,EAAA5D,EAAcrB,QACdkF,EAAS/D,EAAGnB,QACZmF,EAAa9D,EAAGrB,QAAO6F,SAAY3+D,QAGnCk+D,EAAajE,EAACnB,QAAA6F,SAAA3+D,QACds+D,EAAcL,EACjBM,EAAAJ,EAAArF,QAED0F,EAAeL,EAAAhlE,YAGT4kE,EAAAa,OACFZ,EAAIY,UAEAxG,SACI,SAAcuG,EAAQ31C,EAAM8vC,EAAW3/D,GA2B/C,MA1BIwlE,GAAC,GAAA31C,EAAA,KAAC21C,EAAM,GAAA31C,EAAA,GACJs1C,EAAY,KAAAt1C,EAAe,IAAA8vC,IAAAyF,EAC3BI,EAAA,IAAc31C,EAAM,GAAA21C,EAAe,IAIvCA,EAAS,GAAGL,EAAc,GAC1BnlE,EAAYvI,EAAA8nE,MAAY8F,KAGxBG,EAAC,GAAA31C,EAAA,KAAC21C,EAAM,GAAA31C,EAAA,GACJs1C,EAAY,KAAAt1C,EAAe,IAAA8vC,IAAAyF,EAC3BI,EAAA,IAAcA,EAAM,GAAA31C,EAAe,IAIpC21C,EAAA,GAAUL,EAAW,GAC5BnlE,EAAgBvI,EAAM8nE,MAAM8F,KAI5BL,EAAOhlE,UAAOA,GACjBmlE,EAAA1tE,EAAA8nE,MAAAiG,GAEKJ,EAAW3tE,EAAG8nE,MAAAI,GAChB0F,EAAgB5tE,EAAA8nE,MAAAv/D,GACTwlE,GAEPlG,EAAS,WACT0F,EAAIrF,MAAK,GACZqF,EAAAhlE,WAAA,EAAA,IAGK4kE,EAAMY,OAAGV,GACXE,EAAiBriD,EAAAiiD,GAAOhiD,EAAKiiD,KACzBhvE,KAAAmvE,IAEJU,EAAC,WAAO,IAAFhG,GAAErpE,MAAAspE,OACJgG,IACArG,MAIPmF,EAAAmB,EAAAhB,EAAAY,SAAAV,EAAApF,GAAArpE,MAAAspE,MAAAD,GAAArpE,MAAA2J,YAGI2kE,KAEDxgE,EAAM+/D,aAAaU,EAAOY,SAAWV,iBAI7B,SAAYt8C,UAAoB+7C,EAAA,GAAM,GAAAlD,UAAYhxD,MAAK,EAAAk0D,EAAA,GAAA,GAAAlD,UAAAvqD,OAAA,GAC9D+uD,EAAAb,EAAAhlE,YAAA8lE,EAAAC,EAAAC,EAAO,QAAFx9C,EACE48C,EAAYZ,GAAGQ,EAAOrF,MAAMyF,EAAY,IAIzCA,EAAW,GAEXJ,EAAMrF,MAAKyF,EAAA,GAGhB,IAAIa,GAAGC,EAACJ,EACVd,GAAMhlE,WAAY6lE,EAAO,GAAWG,EAAC,GAAAC,EAAA,GAAAJ,EAAA,GAAAG,EAAA,GAAAC,EAAA,KAErCjB,EAAI3uE,MAAKkuE,OAET4B,GAAC,SAAA39C,GAAC,GAAIxoB,GAAEglE,EAAAhlE,WACM,WAAVwoB,EACHxoB,EAAA,IAAA,GAIJA,EAAA,IAAA,GAGGglE,EAAMhlE,UAAQA,GAEdglE,EAAO3uE,MAAEkuE,IAGPwB,EAAQ,SAACG,GACX,GAAMvG,GAAQqF,EAAOrF,QACjB3/D,EAAYglE,EAAOhlE,WACvB,SAAQkmE,EAAA,GAAYlmE,EAAU,IAAG2/D,GAAWuG,EAAG,GAAAlmE,EAAiB,IAAK2/D,IAGnEuG,EAAQ,SAAGH,GACb,GAAApG,GAAqBqF,EAAOrF,QAAU3/D,EAAAglE,EAAAhlE,mBAClC+lE,EAAO,GAAApG,EAAA3/D,EAAA,GAAA+lE,EAAA,GAAApG,EAAA3/D,EAAA,OAEH,kBACJ0/D,GAAOrpE,MAAAkyB,aACH,IACA49C,EAAK,QACT,WACI,IACAA,EAAK,OACT,WACI,KACPhiE,EAAA++D,QAAA,KACJ,MAGK,KAAQ,KACF/+D,EAAA++D,QAAY,SAGpByC,EAAO,WACPlB,EAAAK,GACAH,IACHK,EAAArF,MAAA,GAGDqF,EAAShlE,WAAO,EAAA,MACF,KACO,EAAA,GAIrBglE,GAAIriD,EAAKiiD,GACPhiD,EAAKiiD,GAGJL,aAAA,EAAAA,IACEjzD,GAAA,OAAKm0D,UACLV,GAAMzzD,GAAS,gBAASo0D,UACtBn3D,SAACzT,IAAW,IAAAyW,SAAS,aAGtB4L,KAAA,aAAa,GACfZ,MAAI,UAAc,QAElBjL,GAAI,UAAUinB,MACV,QAAS,eAoCrBwqC,MAEHoD,GAEDr0D,SAAO0wD,cACK,uCACGO,uEC7kBf9sD,GAAM,SAAA1gB,EAAgBlB,EAAsBD,sCAEjCA,EAAY,cAAA8D,OAAA,OAEnBkuE,IACA3H,OAAM,aACN4H,MAAA,aACHjH,OAAA,kBAEDkH,MAAA,iBAAA5rD,KAAA,eASA6rD,SAAC,oBAAA,WAED,QAAAC,YAoBQA,MAJQ,mBAEAC,GAAAl4D,EAAAE,EAAmChW,EAAAsmE,GAhBxC,UACAnqE,MAAA2Z,SAAkBA,EAClB3Z,KAAA6Z,OAAiBA,EACjB7Z,KAAA6D,SAA4BA,EAC5B7D,KAAAmqE,eAA0BA,EAGzBnqE,KAAAyxE,OAAqB,EAazBzxE,KAAKwqE,QAAS,EACjBxqE,KAAA0xE,OAAA,EAEM1xE,KAAA8lB,KAAA,IAAP9lB,KAAA2xE,UAAA,EACI3xE,KAAKoqE,MAAO,KACZpqE,KAAK+kC,OAAA/kC,KAAAmqE,eAAyBE,yBAqLlC,SA/LoBlnE,SAAoB,WAAA,SAAA,WAAA,oBAYtBsC,UAAMsiD,QAAe,iBAC3B/nD,UACHoJ,KAAGpJ,KAAA6pE,OACR7pE,KAAE2qE,yBAEFE,GAAAC,MAAKF,cAAmB,WAC3B,MAAAC,IAAAC,MAAAC,UAAAp4B,MAAArjC,EAAAy1B,OAAA70B,IAAA,SAAA4iB,GAEM,MAAAxjB,GAAA66D,eAAUa,oBAAiCl4C,OAE9C9yB,KAAKirE,sBAEOxlE,UAAYyV,WAAW,SAAKC,GACxC,GAAI7L,GAAMtP,IAEVA,MAAIwqE,OAAQrvD,EAAUqvD,OAAQrvD,EAAOqvD,OAAApvD,aAAwBpb,KAACwqE,YAC1DmH,SAAYx2D,EAAQw2D,SAAOx2D,EAAYw2D,SAACv2D,aAAApb,KAAA2xE,cACxCF,MAAKt2D,EAAAs2D,MAAAt2D,EAAyBs2D,MAAAr2D,aAAApb,KAAAyxE,WAE9B3rD,KAAQ3K,EAAQ2K,KAAC3K,EAAA2K,KAAA1K,aAAApb,KAAA8lB,gBACR3K,EAAAu2D,MAAgBv2D,EAAKu2D,MAAMt2D,aAAiBpb,KAAA0xE,QAC7C7H,QAAU1uD,EAAA0uD,OAAAzuD,eAAAD,EAAA0uD,OAAAxO,0BACVlgD,EAAK0uD,OAAAzuD,kBACRuvD,yBACD3qE,KAAKoqE,QACRpqE,KAAAkrE,UAAAC,MAAAnrE,KAAAoJ,MAAApI,KAAAhB,KAAAoqE,OACJpqE,KAAA6D,SAAA,WACJyL,EAAAwiE,2BAED9xE,KAAAqrE,eAiECR,GAAAvd,OAAAttD,KAAA2Z,SAAAzT,IAAA,IAAAonD,OAAA,kBAAA,GAAA,SA7DqB7nD,UAAAwlE,iBAAA,iBACNjrE,iBACA,oBACAoqE,MAAOkB,GAAAC,OAAAwG,WACTziB,YACC,EACCt+B,MAAO,EACTC,OAAA,OACC,IAEDnD,EAAA,SAAA5hB,SACKoD,GAACmiE,MAAYvlE,EAAA5I,MAAM,OAEzByqB,EAAA,SAAW7hB,SACXA,GAAA5I,QAEA2e,OAAMpE,OAAKvO,EAAMwW,OACjBtK,MAAAqC,OAAWvO,EAAIwW,OACfksD,YAAM,GACHC,eAAc,MACfC,aAAA,GAEHT,MAAMniE,EAACmiE,OACPU,WAAO,IACPr/C,MAAM,SAAC5mB,GAEX,MAAKA,GAAA4mB,OAAe+3C,GAAAC,MAAOF,gBAAkBj4B,YAExCy3B,MAAM2B,QAAQ/V,SAAQ,KACtBoU,MAAM4B,OAAO,mCACb5B,MAAO2E,YAAM,KACb7D,UAAML,GAASvd,OAAIh+C,EAAAqK,SAAAzT,IAAA,IACnBonD,OAAM,cACN3lC,MAAK,SAAWrY,EAAC,KAAA,MAEnBqY,MAAM,QAAArY,EAAaqiE,SAAA,OAAAriE,EAAA,KAAA,MAClBg+C,OAAK,OACL3lC,MAAK,UAAS,SACVrY,EAAKlG,UACRpI,KAAEsO,EAAA86D,gBACCvS,aAAY,WAChBvoD,EAAK86D,MAAA3hE,SACN6G,EAAAzL,SAAA,WAEIyL,EAAKwiE,2BAEZxiE,EAAK8iE,cACD9iE,EAAM+7D,eAAaR,GAAOvd,OAAKh+C,EAAAqK,SAAgBzT,IAAC,IAAOonD,OAAA,kBAAwB,GAAA,MAE5Eh+C,EAAM86D,6BAEJ,iBACMS,GAAAvd,OAAah+C,EAACqK,SAAAzT,IAAA,IAAAonD,OAAA,kBAAA,GAAA,EAEzBh+C,GAAK+iE,iBAASC,aACLA,GACN3F,aACCt+B,SAAC,KACD1mB,MAAC,UAAe,GACrBrY,EAAAzL,SAAA,WACJyL,EAAAwiE,0BACN,KAEOxiE,EAAA8iE,cACC9iE,EAAK+7D,eAAciH,UAGhB7sE,UAAA4lE,eAAA,SAAAqE,MACJ1vE,KAAI2Z,SAAKnB,KAAS,kBAAKtS,IAAA,GAKvB,CAGwB,IAAlBlG,KAAG2Z,SAAUnB,KAAK,uBAAAvX,aACnB0Y,SAAYnB,KAAI,cAChBue,OAAW,6EAGX8zC,GAAOvlD,OAAIitD,MAAAC,KAAA,MAAA1sD,EAAAjI,OAAA7d,KAAA8lB,QACX+kD,GAAQ6E,IAAA+C,MACRC,YAAK5sD,EAAa,EAAA,IAEjB6sD,YAAW7sD,EAAS,EAAC,MACtB+kD,GAAIvd,OAAOoiB,GACX34C,OAAO,KACPs1C,QAAK,eAAQ,GACb9jD,KAAK,YAAkB,aAAAzC,EAAA,EAAA,IAAAA,EAAA,EAAA,IAC/B4pD,GAAAnB,UAAA,QACJnlE,KAAAmpE,GAAA,KAEO70C,QAAA3G,OAAA,QACKxO,KAAA,OAAW,uBACVA,KAAA,IAAUkqD,kBA1BPzyE,KAAA2Z,SAAcnB,KAAA,gBAAa,IAAAqpB,uBAC3BrpB,KAAO,uBAAAqpB,UA6BxBgwC,EAACpsE,UAAA2sE,YAAA,WAEO,GAAApyE,KAAA2xE,SAAA,CACA,GAAEW,GAAUzH,GAAKvd,OAAKttD,KAAM2Z,SAAUzT,IAAI,IAAConD,OAAA,kBAAA,GAAA,GAAAslB,EAAA39D,EAAAq9D,GAAA5uD,aAAA,GAAA7F,OAAA7d,KAAA8lB,OAAA,KAAA,CAAC+kD,IAAAvd,OAAOttD,KAAA2Z,SAAAnB,KAAA,gBAAA,IAAA+P,KAAA,YAAA,aAAAqqD,EAAA,YAIjDntE,UAAA4sE,iBAAA,SAAAC,GAEN,IAAItyE,KAAA0xE,OAAiB1xE,KAACyxE,QAAAzxE,KAAAoJ,KAAtB,CAEA,GAAGypE,GAAO7yE,KAAQoJ,KAAA0pE,OAAA,SAAAC,EAAAC,SACPD,GAACC,EAAA1vE,aAEC,SACHuvE,EAAe,KAAQr/D,QAAC,GAAA,eACxB8+D,GACLhlB,OAAK,sBAELv2B,OAAA,QACRs1C,QAAA,eAAA,GAEO9jD,KAAA,cAAA,UACCZ,MAAM,oBAAqB,WAAgBvc,KAAMynE,GAEtD7yE,KAAMizE,UAAoBpI,GAAKvd,OAAQttD,KAAK2Z,SAACnB,KAAA,oBAA6BtS,IAAS,IAACyhB,MAAA,UAAA,OAGzEliB,UAAAqsE,uBAAA,WACX,IAAC9xE,KAAA0xE,OAAA1xE,KAAAyxE,QAAAzxE,KAAAoJ,KAAD,CAGH,GAAA8pE,GAAAlzE,KAAA2Z,SAAAnB,KAAA,qBAAAtS,IAAA,GAAAsmE,SAEO0G,GAAA13D,OAAA03D,EAAAjxD,aACYgxD,UAAOtrD,MAAA,cAAAurD,EAAA13D,MAAA,KAAAmM,MAAA,UAAA,OAGTliB,UAAQklE,uBAAc,WACpC,GAAGr7D,GAAAtP,IACNA,MAAAoJ,MAEJxG,EAAA4N,KAAAxQ,KAAAoJ,KAAA,SAAAqH,EAAA8L,GAEa9L,EAAyBqiB,MAAAriB,EAAAqiB,OAAAxjB,EAAA66D,eAAAyC,iBAAArwD,EAAAjN,EAAAy1B,WAGnC8sC,MAGJsB,YACY3B,cACG,0BAClB/3D,WAAAo4D,WCxPDpyE,OAAA,mBACA0d,UAAA,cAAAg2D,QAGAhsE,GAAA,SAAAxG,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,0BACA,kLAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2CACA,mmBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,4BACA,wpBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,uBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,0BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,0BACA;;;CxLjDA,SAAA9d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAmzE,UAAA7zE,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,W2BEYiM,GAAe3B,SACAA,EAACE,IAAA,gBAEdF,EAAC5D,IAAa,gBAAA,WAChB,UAAOgF,GACV,MAAAnB,GAAAA,EAAAoB,UAAAD,IAAAA,EAAAA,GANLO,EAAAtI,SAAyB,qBAWpB1D,OAAO,6BACf4Z,OAAA,YAAA5N,Q1BbA6N,GAAQ,SAAO3Y,EAAAlB,EAAgBD,WAC5BC,OAAA,gBACA,cACA,iBACA,gBACA,wBACA,kBACD,gCwLPF+D,GAAA,SAAA7C,EAAAlB,EAAAD,MAcO6zE,IACAC,gBAAgB,IAChBC,eAAA,IACAC,oBAAgB,IAChBC,YAAW,IACX7gD,UAAW,IACX8gD,YAAA,IACHC,kBAAA,KA6BGC,GA3BJ,WAWA,QAACC,MAXD,MAWCA,MAgBG,mBACYD,GAAQj6D,EAAQ9V,EAAAgW,GAChB,UACA7Z,MAAA2Z,SAAAA,EAVL3Z,KAAA6D,SAAmBA,EActB7D,KAAA6Z,OAASA,EACZ7Z,KAAA8zE,SAAA,EAEMn6D,EAAAgD,SAAA,gBAyGL,SA9GaxZ,SAAA,WAAA,WAAA,YAMGsC,UAAAoV,UAAA,cACVvL,GAAKtP,UACL6D,SAAK,WAELyL,EAAIxN,KAAKwN,EAAAqK,SAAgBnB,KAAO,wBAC5Bu7D,aAAKzkE,EAAiBqK,SAAGnB,KAAA,2BACzBlJ,EAAKmkE,eAAgB,IAGrBnkE,EAAKykE,aAAW14D,SACZy4D,SAAM,IACJhyE,KAAE2mD,MAAK,SAAYjnD,KAAC6vB,kBACtB/hB,EAAKokE,cAELpkE,EAAIwkE,SAAYxkE,EAACwkE,UAACC,aAAKzkE,EAAcwkE,QAAA,OAAA,UACjCxkE,EAAKwkE,SAAiBxkE,EAAK0kE,cAChC1kE,EAAAuK,OAAA8c,SACNrnB,EAAAuK,OAAAiK,aAIRxU,EAAA2kE,iBAGkCxuE,UAAAwuE,UAAA,WAG3Bj0E,KAAK+zE,eAER/zE,KAAAuzE,gBAAAvzE,KAAA8zE,WAAA,EAAK9zE,KAAEg0E,cAGXh0E,KAAAk0E,eAIiBzuE,UAAUyV,WAAY,SAAYC,GAChDnb,KAAK4yB,YAAAzX,EAAmByX,YAClBzX,EAAQyX,UAAAxX,eAAoB,GAClCpb,KAAKwzE,sBAAsBr4D,EAAAq4D,sBACrBr4D,EAAQq4D,oBAAYp4D,eAAwB,GAClDpb,KAAKyzE,cAAct4D,EAAQs4D,cACrBt4D,EAAQs4D,YAAYr4D,eAAgB,GAE1Cpb,KAAI0zE,cAAev4D,EAAEu4D,cACjBv4D,EAAKu4D,YAAet4D,eAAW,oBAE/Bpb,KAAKszE,gBAAiBn4D,EAAQm4D,gBACxBn4D,EAAQm4D,gBAAel4D,aAAe,KAC5Cpb,KAAKuzE,eAAYp4D,EAAAo4D,eACpBp4D,EAAAo4D,eAAAn4D,aAAA,KACJpb,KAAAi0E,gBAI6BxuE,UAAWyuE,SAAS,WAC1Cl0E,KAACm0E,YACDn0E,KAACm0E,WAAatyC,SACrB7hC,KAAAm0E,WAAA,KAEOn0E,KAAA+zE,aAAA14D,UAIK5V,UAAYuuE,YAAK,iBACXh0E,KAAIuzE,uBACZO,WAAS,GACA,MAAT7vE,GACa,MAAhBA,EAAKitE,aACLjtE,EAAOitE,YAAAjwE,OAAA,EAIL,WAHLjB,MAAAk0E,cASoBhD,GAAK,GAAWkD,QAASC,KAAAC,OAAArwE,EAAAitE,YAAA,GAAAjtE,EAAAitE,YAAA,GAC1ClxE,MAACm0E,YACDn0E,KAACm0E,WAAatyC,SAClB7hC,KAAKm0E,WAAWl/D,EAAA,eAGhBjV,KACI+zE,aAAa94D,YACTk5D,WAAQlvD,SAAWjlB,KAAA+zE,iBACnBQ,IACAC,OAAAtD,EACAb,KAAA,GACAoE,UAAAL,OAAAC,KAAsBK,UAAMC,QAC5BC,kBAAkB,EAClBC,wBAAgB,EAEpBC,aAAU,EAEVC,WAAW,KACX,GAAQX,QAAEC,KAAWW,IAAAh1E,KAAAm0E,WAAA,GAAAI,MACrBH,QAAKC,KAAGY,QACT//D,SAAAg8D,EACNhhE,IAAAA,KAGC0jE,MAEFsB,GACAh4D,SAAUm2D,EACb7tC,YAAA,yBAED/rB,WAAOm6D,WAGVn0E,OAAA,2JC3KD,oBACI4D,eAAA7D,EAAA,cAAA8D,OAAA,UA4DK,mBAlDW6xE,GAAiBt7D,EAAAvY,EAAAuC,EAAA69C,EAAA0zB,EAAAC,GAGjB,GAAA/lE,GAAAtP,IAZJA,MAAA6Z,OAAOA,EACP7Z,KAAA0hD,UAAUA,EAiIX1hD,KAAAs1E,KAAA,UAAgBC,QAAA,UACnBC,cAAa,cAAWlmE,GAAOtP,IAErB,QAAVA,KAASs1E,gBAGIG,YAAUC,mBAAkB,SAAYxgE,GAC7C,GAAAg8D,GAAU,GAAUkD,QAAAC,KAAaC,OAAAp/D,EAAAygE,OAAAC,SAAA1gE,EAAAygE,OAAAE,UACjCvmE,GAAKimE,QAAKjmE,EAAWwmE,aAAC5E,GACtB5hE,EAAKgmE,KAAAS,UAAe7E,GAExB5hE,EAAAgmE,KAAAjH,QAAA,IACI/+D,EAAK0mE,eAAe9E,EAAC,OACtB,WACC5hE,EAAAuK,OAAaiK,WAEbmyD,WAAS,EACVC,oBAAA,EACVp+D,QAAA,YAlIOirC,MAAAzhD,EAA2B,YAC3B8zE,YAAcA,GAAK,SAAAA,EAAAz0D,MACnBy0D,EAAClE,aAA4B,GAAbkE,EAAalE,YAAAjwE,OAC7Bm0E,EAAc,KAGlBp1E,KAAAq1E,aAASA,OACLc,WAAqB,MAAjB1gE,UAAiBggE,cAEjB,cACA1B,GAAe9+D,EAAC,qDAMdi8D,EAAa5hE,EAAA8lE,YACf,GAAAhB,QAAQC,KAAIC,OAAWhlE,EAAC8lE,YAAYlE,YAAA,GAAA5hE,EAAA8lE,YAAAlE,YAAA,IAAA,KACpCqD,GACAC,OAAA,GAAWJ,QAAOC,KAAKC,OAAA,EAAU,GACjCjE,KAAA,EACHoE,UAAAL,OAAAC,KAAAK,UAAAC,QACGC,kBAAe,EAEA,OAAf1D,IACHqD,EAAAC,OAAAtD,EAEDqD,EAAYlE,KAAI,IAIhB/gE,EAAAgmE,KAAS,GAAAlB,QAAAC,KAAAW,IAAAjB,EAAA,GAAAQ,KACLgB,QAAYjmE,EAAMwmE,aAAY5E,GAClCrtE,EAAS,WACPuwE,OAAAC,KAAA7yE,MAAAulB,QAAAzX,EAAAgmE,KAAA,WAEC,eACoB,mBAAO,WACZ,MAAlBhmE,EAAOgmE,MAGdlB,OAAAC,KAAA7yE,MAAAulB,QAAAzX,EAAAgmE,KAAA,YAwGL,SArGyB7vE,UAAAqwE,aAAA,SAAA5E,MAAC5hE,GAAKtP,QACnBA,KAAAu1E,SACAv1E,KAAKu1E,QAAOa,OAAO,QACP,MACRb,QAAU,GAAInB,QAAAC,KAAAY,QACd//D,SAASg8D,EACThhE,IAAAlQ,KAASs1E,KACVP,WAAA,EAECsB,UAAAjC,OAAaC,KAAKiC,UAAQC,UAE1BC,GAAex2E,KAAGu1E,eAClBlB,KAAK7yE,MAAAi1E,YAAeD,EAAmB,UAAA,WACxC,GAAAtF,GAAAsF,EAAAE,aACNpnE,GAAA0mE,eAAA9E,EAAA,YAIDlxE,MAAOu1E,QAAY,IAGf,OAAAv1E,MAAAu1E,WACe9vE,UAAAuwE,eAAA,SAAA9E,EAAAyF,MACfrnE,GAAMtP,UACNo1E,aACFz0D,KAAA,QACEuwD,aAAaA,EAAQ0F,MAAA1F,EAAA2F,QAGzB72E,KAAAq1E,aAAiB,QACbyB,GAAQ,GAAA1C,QAAWC,KAAA0C,WACpBC,SAECC,OAAI/F,YACIgG,EAAC5tE,GACR4tE,GAAAA,EAAAj2E,OAAA,IAEDqO,EAAK+lE,aAAgB6B,EAAA,GAAAC,mBAE5B7nE,EAAAuK,OAAAiK,cAGkCre,UAAA2xE,SAAA,WAE/B,GAAoB,OAAdp3E,KAAAs1E,KAAN,CAEA,GAAIpE,GAAClxE,KAAes1E,KAAA+B,WACvBr3E,MAAAu1E,QAAAv1E,KAAA81E,aAAA5E,GAEMlxE,KAAAg2E,eAAA9E,EAAA,UAC4BzrE,UAAA6xE,YAAA,WAChB,OAAXt3E,KAACs1E,OAELt1E,KAAKu1E,QAAAv1E,KAAe81E,aAAK,MAC5B91E,KAAAo1E,YAAA,KAEMp1E,KAAAq1E,aAAA,SAC4B5vE,UAAA8xE,SAAA,WAC/B,GAAkB,OAAZv3E,KAAIs1E,KAAV,CAEH,GAAAjF,GAAArwE,KAAAs1E,KAAAkC,SAEMx3E,MAAAs1E,KAAAjH,QAAAgC,EAAA,OAC4B5qE,UAAAgyE,UAAA,WAC/B,GAAkB,OAAZz3E,KAAIs1E,KAAV,CAEH,GAAAjF,GAAArwE,KAAAs1E,KAAAkC,SAsBMx3E,MAAAs1E,KAAAjH,QAAAgC,EAAA,EAAAA,EAAA,EAAAA,KAEP8E,EAAC1vE,UAAAq8C,SAAA,WAEM9hD,KAAA0hD,UAAAzoC,YAEgBxT,UAAWiyE,QAAA,gBAC1Bh2B,UAAWrmC,MACXpX,SAAAjE,KAAco1E,YAChBA,YAAAp1E,KAAAo1E,YACLC,aAAAr1E,KAAAq1E,gBAGLF,OAEgB,WAGL,QAAAwC,GAAAj2B,GACH1hD,KAAK0hD,UAAUA,EAuBnB,MA1BGi2B,GAACx0E,SAAA,eAKsBsC,UAAOwV,KAAA,SAAAjZ,EAAAysC,EAAA/C,QACrBgW,UAAWzmC,MACXxB,WAAQ07D,eACJ,oBACA,8CAEJE,aAAArzE,EAAyBqzE,aAC3BD,YAAApzE,EAAAozE,aAEEtxB,qBAAqB,IAEpBvY,KAAA,SAAAt6B,GACFw9B,GACKA,EAAgBx9B,eAGrBy6B,GACVA,OAIGisC,OAGwB,SAAA7tE,SACpBA,EAAAE,IAAyB,gBAAcF,EAAA5D,IAAA,gBAAA,WAEvC+D,gBAAoB,MACpB2tE,sBAAuB,eACxBC,sBAAA,eACOC,iBAAc,UACpBC,oBAAuB,iBAEvB9tE,gBAAoB,MACpB2tE,sBAAuB,0BACxBC,sBAAA,uBACNC,iBAAA,iBACJC,oBAAA,qBAMY50E,SAAA,aAChBhC,uFC5ND4D,GAAA,SAAApE,EAAAlB,EAAAD,uBAKA6D,eAAA7D,EAAC,cAAA8D,OAAA,GAAD,IALA00E,GAKC,WALY,QAAAA,gDCEb32D,GAAA,SAAA1gB,EAAAlB,EAAyBD,4LCWf,IAAA2H,GAAoB,SAA0BxG,EAAAlB,EAAAD,sCAElCA,EAAK,cAAA8D,OAAA,OAEnB20E,IACA3E,gBAAe,IAClBC,eAAA,IAED2E,kBAAA,IAAAr8D,WAAA,IASAwhC,WAAC,QAAA,WAED,QAAA86B,YAYIA,MAE6B,mBACjBC,GAAqBz+D,EAArBE,EAAAw+D,GAER,GAAI/oE,GAACtP,UACD2Z,SAAKA,EACT3Z,KAAG6Z,OAAMA,EACZ7Z,KAAAq4E,sBAAAA,EAEMr4E,KAAAs4E,2BAAA11E,EAAAk1D,SAAP,WAAAxoD,EAAAipE,mBACI,KAkMJ,SA/LqB9yE,UAAQoV,UAAS,WAClC,GAAIvL,GAACtP,IAGLA,MAAK2Z,SAAOnB,KAAO,sBAAA+P,KACf,iBAAWvoB,KAAAk4E,mBAAQ1vE,iBACfP,MAAIjI,KAAQ2Z,SAAKoB,SAAW,yCACnB/a,KAAA2Z,SAAAoB,SAA6B,gCACrCo5D,WAAA,KACLn0E,KACF6Z,OAAAI,OAAA,wBAAA,SAAAsiC,EAAAC,GACGD,IAAcC,GAEXltC,EAAKgpE,+BAQbt4E,KAAI6Z,OAAKI,OAAA,uBAAiB,WACtB3K,EAAK0kE,gBACPh0E,KAAK2Z,SAACgD,SAAA,qBACJ3c,KAAKuzE,eACRvzE,KAAAg0E,cAIGh0E,KAACk0E,cAKczuE,UAACyV,WAAA,SAAAC,QAACU,aAAKV,EAAiBU,YAAGV,EAAAU,WAAAT,gBAI5B3V,UAAOyuE,SAAA,WACrBl0E,KAACm0E,YACRn0E,KAAAm0E,WAAAtyC,SAEO7hC,KAAAm0E,WAAA,KAEJn0E,KAAM+zE,aAAW14D,OACjBrb,KAAIiI,MAAAgT,UAEOxV,UAAAuuE,YAAA,WACX,GAAC/vE,GAAAjE,KAAAuzE,cAGD,IAAiB,MAAXtvE,GACF,MADoBA,EAAWitE,aACtBjtE,EAAcitE,YACdjwE,OAAW,EAIH,WAAjBjB,MAAKk0E,UAIT,IAAIhD,GAAc,GAAAkD,QAAAC,KAAAC,OAAArwE,EAAAitE,YAAA,GAAAjtE,EAAAitE,YAAA,GAGdlxE,MAACm0E,YACDn0E,KAACm0E,WAAWtyC,SAGhB7hC,KAAM+zE,aAAa94D,YACXhT,MAAMoT,YACN84D,WAAQl/D,EAAA,oBACRk/D,WAAWlvD,SAAOjlB,KAAK+zE,iBACvBQ,IACAC,OAAAtD,EACAb,KAAA,GACAoE,UAAWL,OAAKC,KAAAK,UAAAC,QAEpBC,kBAAiB,EAEbC,wBAAqB,EACrBC,aAAQ,EACTC,WAAA,GACV7kE,EAAA,GAAAkkE,QAAAC,KAAAW,IAAAh1E,KAAAm0E,WAAA,GAAAI,EAAA,IAAAH,QAAAC,KAAAY,QAEO//D,SAAAg8D,EACEhhE,IAAAA,OAIazK,UAAC8yE,kBAAA,cAChBlD,GAAYr1E,KAAQszE,mBACb,IAAP+B,EAKA,MAJHr1E,MAAAuzE,eAAA,KAEKvzE,KAAAk0E,eACNl0E,MAAS6Z,OAAOiK,YAGZgzD,GAAW,GAAC1C,QAAOC,KAAA0C,WAEfC,iBAEI3B,cACS/rE,eACLwa,OAAK,kBACEswD,OAAAC,KAAAmE,eAAAv1B,GAAA,CACX,GAAC,OAAAi0B,GAAA,IAAAA,EAAAj2E,OAOG,MALEjB,MAAAuzE,eAAsB,SAIxBvzE,MAAAk0E,cAGAuE,GAAOvB,EAAA,GAAAuB,aAAAC,EAAAD,EAAAx0E,YACX,IAAC,OAAAy0E,EAAA9B,KAAA,OAAA8B,EAAA7B,IAIG,MAFA72E,MAACuzE,eAAiB,SAClBvzE,MAAIk0E,qCAIH,QACHhD,aACG0E,SAAa8C,EAAC9B,MACtB+B,WAAAD,EAAA7B,QAGG72E,KAAKg0E,kBAGdh0E,MAAAuzE,eAAA,KACNvzE,KAAAk0E,kBAKQzuE,UAAsB+vE,cAAK,cACxBlmE,GAAAtP,IACAA,MAAA6b,iBAGAw8D,sBACsBp9D,MAItBo6D,aAASr1E,KAAAszE,4BACAtzE,KAAAuzE,yBACLtiE,MACAhN,GAAMgN,EAAAhN,SAAeoxE,EAAiBpkE,EAASokE,YAC/C/lE,GAAKikE,gBAA0C,SAA1BjkE,EAAAikE,eAAiB5yD,MACI,GAA1CrR,EAACikE,eAAiBrC,YAAKjwE,QACvBgD,GAAO,GAAAA,EAAAitE,YAAAjwE,QACVqO,EAAAikE,eAAArC,YAAA,GAAAjtE,EAAAitE,YAAA,GAAA,MAEG5hE,EAACikE,eAAiBrC,YAAS,GAAAjtE,EAAAitE,YAAA,GAAA,MAC3BmE,IAAgB/lE,EAAGgkE,mCAIFrvE,oBACDoxE,EACnB,OAAAA,GAAA,OAAApxE,IACDqL,EAAKgkE,gBACA,IAAAriE,EAAehN,SAASitE,YAAA,GAEnC,IAAAjgE,EAAAhN,SAAAitE,YAAA,GAAA,KACJ5hE,EAAA+tC,aAEK/tC,EAAAykE,aAAA,GAAA5/C,cAIe1uB,UAAGmzE,WAAA,SAAAr9D,GAExBvb,KAAA6b,aAEM7b,KAAA+zE,aAAA,GAAA5/C,QACHn0B,KAAIw1E,oBAGK/vE,UAAgBozE,cAAA,SAAAt9D,GAExBvb,KAAA6b,YACH,IAAAN,EAAAmY,SAAA,IAAAnY,EAAAmY,SACN1zB,KAAAw1E,iBAII4C,MAEHU,GAED57D,SAAO+6D,cACK,6CACGG,+DC7PlBj7D,UAAA,kBAAA27D,WAWO,SAAAn4E,EAAiBlB,EAAAD,MAEpBu5E,IAaDC,aAAA,IAAAC,aAAA,IAOArmD,UAAC,QAAA,WAED,QAAAsmD,YAUgBA,MAGU,mBACbC,GAAoBx/D,EAAAy/D,GAC5Bp5E,KAAAo5E,MAAAA,EAEMp5E,KAAA+zE,aAAAp6D,EAAAoB,SAAU,2BACbpB,EAAKgD,SAAY,mBAEjB3c,KAAIu4E,oBA0FR,SAxFa9yE,UAAiByV,WAAG,SAAAC,GAC7Bnb,KAAC4yB,YAAAzX,EAAAyX,YAAAzX,EAAAyX,UAAAxX,eAAA,GACJpb,KAAA4yB,aAAA,IAEO5yB,KAAAg5E,aAAA79D,EAAA69D,aAAR79D,EAAA69D,aAAA59D,aAAApb,KAAAg5E,aAEQh5E,KAAKu4E,sBAEbY,EAAC1zE,UAAAyuE,SAAA,WAEOl0E,KAAAm0E,YAEAn0E,KAAAm0E,WAAgBtyC,cAChBsyC,WAAa,QAEhB1uE,UAAAuuE,YAAA,SAAA4B,EAAAC,GAGD,GAAe,MAAXD,GAA8B,MAAZC,EAMD,WAAjB71E,MAAKk0E,UAET,IAAIhD,GAAY,GAAAkD,QAAaC,KAACC,OAAAsB,EAAcC,EAIxC71E,MAAAm0E,YACIn0E,KAAAm0E,WAAQtyC,cACRsyC,WAAQl/D,EAAA,oBACRk/D,WAAWlvD,SAAOjlB,KAAK+zE,iBACvBQ,IACAC,OAAAtD,EACAb,KAAA,GACAoE,UAAWL,OAAKC,KAAAK,UAAAC,QAEpBC,kBAAiB,EAEjBC,wBAAmB,EACnBC,aAAU,EACVC,WAAQ,GACT7kE,EAAA,GAAAkkE,QAAAC,KAAAW,IAAAh1E,KAAAm0E,WAAA,GAAAI,EACN,IAAAH,QAAAC,KAAAY,QAEO//D,SAAAg8D,EAARhhE,IAAAA,OAIqBzK,UAAG8yE,kBAAA,cAChBjpE,GAAOtP,KACVq5E,EAAAr5E,KAAAg5E,YAED,OAAe,IAAXK,YACCnF,2BAGOhuE,IAAA,8BAA6BmzE,WAEzB,SAACC,MAEI,MAATA,GACsB,QAAZ1D,UACY,QAAdC,4BACUyD,EAAE1D,SAAS0D,EAAUzD,aAC/BoD,aAAgB,IAChBM,IACAC,KAAAF,EAAaE,KACbC,WAASH,EAASG,WACpBC,OAAAJ,EAAAK,WACFC,QAAKN,EAAaM,QACdC,YAAWP,EAASO,YACrBC,QAAAR,EAAAS,YAEVzqE,GAAA2pE,cAAOM,UAAAA,SAKRjqE,GAAK4kE,aAGrB1vE,MAAA,SAAA80E,GAAChqE,EAAA4kE,cAIGiF,MAEHa,GAED98D,SAAO67D,WACK,wDACGI,sCCzJlBh8D,UAAA,gBAAA68D,YAcO,SAAWr5E,EAAKlB,EAAAD,MAEhBy6E,IACA1G,eAAc,IACjB2G,YAAA,IAEDC,eAAA,IAAAC,WAAA,IAQAxnD,UAAC,QAAA,WAED,QAAAynD,YAWgBA,MAEY,mBACpBC,GAAkB3gE,GACrB3Z,KAAA2Z,SAAAA,EAEM3Z,KAAAm0E,WAAA,KACHn0E,KAAK+zE,aAAYp6D,EAAQoB,SAAY,2BACrCpB,EAAKgD,SAAA,oBA0GT,SAvGalX,UAAmByV,WAAI,SAAAC,QAC5ByX,YAAKzX,EAAayX,YAASzX,EAAWyX,UAAAxX,eAAA,GAC1Cpb,KAACm6E,iBAAAh/D,EAAAg/D,iBAAAh/D,EAAAg/D,eAAA/+D,eAAA,GAACpb,KAAKo6E,aAACj/D,EAAAi/D,aAAAj/D,EAAAi/D,WAAAh/D,eAAA,GACJpb,KAAKo6E,cAAa,EACrBp6E,KAAA+zE,aAAAp3D,SAAA,WAIG3c,KAAK+zE,aAAWn3D,YAAW,WAG9B5c,KAAA4yB,aAAA,IACJ5yB,KAAAuzE,eAAAp4D,EAAAo4D,eAAAp4D,EAAAo4D,eAAAn4D,aAAApb,KAAAuzE,eAEOvzE,KAAAk6E,YAAA/+D,EAAA++D,YAAR/+D,EAAA++D,YAAA9+D,aAAApb,KAAAk6E,YAEQl6E,KAAKg0E,gBAEbsG,EAAC70E,UAAAyuE,SAAA,WAEOl0E,KAAAm0E,YACJn0E,KAASm0E,WAAWtyC,SACvB7hC,KAAAm0E,WAAA,QAGqB1uE,UAAY80E,cACtB,SAAcC,GAItB,QAAgB,MAAVA,GAAgB,MAAAA,EAAAtJ,aAAAsJ,EAAAtJ,YAAAjwE,OAAA,MAGTwE,UAAAg1E,qBAAA,SAAAD,GAChB,GAAAnJ,GAAA,GAAA+C,QAAAC,KAAAC,OAAAkG,EAAAtJ,YAAA,GAAAsJ,EAAAtJ,YAAA,GAGG,OADIG,GAAAqJ,KAAAF,EAAAE,KAARrJ,EAAAsJ,OAAAH,EA8DCG,OA7DStJ,KAMU5rE,UAAKuuE,YAAqB,WAC1C,GAAC1kE,GAAAtP,KAAKozE,EAAEpzE,KAAAuzE,eAAAqH,KAAA1N,EAAAltE,KAAAm6E,iBAAA,CAgBR,IAfIn6E,KAAIu6E,cAAenH,KAAQxwE,EAAS6K,QAAK2lE,KACnC7iE,KAAKvQ,KAAAy6E,qBAAerH,OAGjBxwE,EAAA6K,QAAA2lE,IAAAA,EAAAnyE,OAAA,GACL2B,EAAE4N,KAAC4iE,EAAA,SAAAoH,GACNlrE,EAAAirE,cAAAC,IACJI,EAAArqE,KAAAjB,EAAAmrE,qBAAAD,MAQmB,IAAhBI,EAAK35E,OACL,WADiBjB,MAAKk0E,UAKpBl0E,MAAAm0E,YACEn0E,KAAAm0E,WAAgBtyC,cAChBsyC,WAAQl/D,EAAA,oBACRk/D,WAAWlvD,SAAOjlB,KAAK+zE,iBACvBQ,IACAC,OAAAoG,EAAA,GACAvK,KAAA,GACAoE,UAAWL,OAAAC,KAAWK,UAAAC,QAE1BC,kBAAiB,EAInBC,wBAAc,EACZC,YAAa5H,YACHA,KACN,GAAAkH,QAAWC,KAAMW,IAAIh1E,KAAIm0E,WAAS,GAAAI,GAAAzjD,EAAA,GAAAsjD,QAAAC,KAAAwG,sBAClC,SAAcxJ,MACd3kB,IACAouB,KAAAxrE,EAAW4qE,YACXa,UAAA1J,EAAeqJ,MAAA,UACjBM,YAAA,EAEElQ,MAAO,EACPmQ,YAAU5J,EAAKsJ,QAAA,QACfO,aAAQ,MAET9G,QAAAC,KAAAY,QACH//D,SAAcm8D,EACfnhE,IAAAA,EAGCw8C,KAAOp9C,EAAS4qE,YAAExtB,EAAA,OACzB57B,EAAAhuB,OAAAuuE,KACJuJ,EAAA35E,OAAA,GAEKiP,EAAWirE,UAAyBrqD,IAEtCwpD,MAEHc,GAEDl+D,SAAO+8D,WACK,wDACGK,uCCjKnBn9D,UAAA,iBAAAi+D,QAGA7xE,IAAA,SAAA5I,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,yBACA,ihCAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,sCACA,46DAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,kCACA;;;ChMpCA,SAAA9d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAo7E,MAAA97E,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gEiMAA,IAAA87E,GAAA,WAAA,QAAAA,MAGA,MAAAA,KAHa97E,GAAA87E,cAAAA,kCtKED7vE,GAAoB3B,SACLA,EAACE,IAAA,gBAEdF,EAAC5D,IAAY,gBAAA,WACf,UAAOgF,GACV,MAAAnB,GAAAA,EAAAoB,UAAAD,IAAAA,EAAAA,GANLO,EAAAtI,SAAyB,qBAWpB1D,OAAO,yBACf4Z,OAAA,YAAA5N,uCuKFDrI,QAAMC,eAAgB7D,EAAsB,cAAA8D,OAAA,OACxCi4E,IACAniE,QAAM,eACNtX,KAAM,WACN6e,KAAK,YACRnc,MAAA,aAyBGg3E,GAvBJ,WAOA,QAACC,MAPD,MAOCA,MAgBG,mBAAAD,GAQC3hE,GAHG,cACIvK,GAAKtP,IACT6Z,GAAEI,OAAA,QAAA,SAAAzV,GACL8K,EAAA9K,MAAAA,IAGC,SAVarB,SAAA,UAUbq4E,MAEFE,GACAjiE,WAAW+hE,EACbt+D,SAAAq+D,EAEF/1C,YAAO,oHjMzDP,YACApiC,QAAAC,eAAA7D,EAA2B,cAAA8D,OAAA,IAC3B3C,EAAA,+BACAA,EAAA,qBACAA,EAAA,yBACAA,EAAA,uBACAA,EAAA,qBAEAA,EAAO,qBACF,+BAEGlB,OAAA,YACA,mBACA,iBACA,yBACA,sBACA,uBACD,8DkMjBH,EAAAk8E,oBAAuC,EAAAC,sBAAa,EAAAC,8BAAA,EAAAC,oBAAA,GAAAC,wBAAA,GAAAC,sBAAA,KAAAv3E,GAAA,SAAA9D,EAAAlB,EAAAD,WAIhDy8E,GAAa10E,EAAUyD,EAAAC,EAAAuO,MACnBy2B,GAAMz2B,EAAOvO,EAAAixE,aACTjsC,EAAYj2B,SACb6c,KAAA,SAAA,WACJtvB,EAAAuc,OAAA,WACNq4D,EAAA50E,EAAAyD,EAAA,GAAAqwE,MAAA,gBAMOe,GAAa5iE,qBAGb5O,SAAC,IACHG,KAAA,SAAAxD,EAAAyD,EAAAC,GACLgxE,EAAA10E,EAAAyD,EAAAC,EAAAuO,OAlBkBrW,SAAS,UAuB/BhC,qECVO,SAASR,EAAElB,EAAAD,MAEd68E,IAEDC,UAAA,gBAIIrgE,OAAA,gBAOC,mBAJOsgE,GAAkB1iE,iBAElBvK,GAACtP,IACL6Z,GAAEI,OAAA,kBAAA,SAAAxJ,GACLnB,EAAA2M,QAEM3M,EAAA2M,OAAA3M,EAAAgtE,aAcP,SArBkBn5E,SAAA,YAYGsC,UAAK+2E,oBAAA,WACtBvnE,EAAA,aAAYwzC,SAGhB8zB,EAAC92E,UAAAg3E,oBAAA,WACLz8E,KAAAs8E,UAAA,IAAC,IAAAI,GAAA70D,SAAAma,eAAA,WAEK06C,GAAA50E,SAEKy0E,KAEPI,GACA/xE,SAAA,IACH8F,SAAA,EAEDwM,SAAOm/D,aACKE,cACG,iGCpDnBl7D,GAAA,SAAA1gB,EAAAlB,EAAAD,sCAGmBA,EAAA,cAAA8D,OAAA,UADY3C,EAAsB,qBAEjDi8E,EAAC,mBAOOA,GAA6BxD,GACjC,UAEAp5E,MAAIo5E,MAAAA,QARDwD,GAAAz5E,SAAA,WAWQsC,UAAYo3E,OAAO,SAAAC,EAAA/6E,EAAAg7E,EAAAC,MAC1BC,GAAA,GAAAC,mBACI,OAAUJ,QAEFK,EAAiBC,gBAAAC,UAAe,mBACnCt7E,EAAAk7E,wBAERv0E,SAAA,SAAAvI,GACUA,EAAAm9E,kBAAgBN,GAC7BA,EAAAG,EAAAC,gBAAAC,UAAAl9E,EAAAo9E,OAAAp9E,EAAAuxE,MAAA,OAKE8L,SAAIC,eAAe1oE,UAErB2oE,QAAA,SAAApE,GACD0D,GACOA,EAAiBG,EAAAC,gBAAAO,UAAA,KACjBZ,GAEAA,EAAezD,EAAA,QAEpB90E,MAAA,SAAA80E,GACN0D,GACLA,EAACG,EAAAC,gBAAAQ,OAAA,GAAAb,GAEMA,EAAA,KAAAzD,EAAAz4E,OAAAy4E,iDC/CK3iE,QAAA,gBAIXimE,yBAHG,IAAAz1E,GAAA,SAAAxG,EAAAlB,EAAAD,uBAEA6D,eAAA7D,EAAA,cAAA8D,OAAA,GACJ,IAJY85E,mLCWZh6E,QAAMC,eAAiB7D,EAAuB,cAAA8D,OAAA,SAE1CwF,IAAM,SAAAnI,EAAUlB,EAAAD,uBAEhB6D,eAAU7D,EAAe,cAAA8D,OAAA,OAC3Bu6E,IAGFzkE,QAAA,eAAAtX,KAAA,WAOA6e,KAAC,YAADjY,SAAA,oBAUA,WAMI,QAAAo1E,MAAgB,MAACA,MAGD,mBACRC,KACJ/9E,KAAC0I,SAAA,EASL,MALJq1E,GAAAt4E,UAACyV,WAAA,SAAAC,GAAAA,EAAAzS,WAEK1I,KAAA0I,SAAqByS,EAAAzS,SAAA0S,eAGvB2iE,MAGJC,cACYD,WACEF,gFCnDR1gE,UAAA,iBAA4C6gE,QAE9Cz0E,IAAM,SAAA5I,EAAUlB,EAAAD,uBAEnB6D,eAAA7D,EAAA,cAAA8D,OAAA,GAQD,IAAA26E,IAKI7kE,QAAA,oBAHO,WAGQuH,KAAC,aAGpBu9D,EAAA,WARA,QAQCA,KAEKl+E,KAAA2gB,KAAA,OAGF,MADAu9D,GAAaz4E,UAAAyV,WAAA,SAAAC,KACb+iE,KAEAC,GACAvzE,SAAA,IACH8F,SAAA,EAGD+I,WAAOykE,eACK,cACED,sFCzCd9gE,UAAA,kBAAAghE,QAICt0E,IAAA,SAAAlJ,EAAAlB,EAAAD,eAAD4D,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,GAwBD,IAKI86E,IAL4C,WAC5C,QAAAC,MAEA,MAAOA,OAGPC,eAAM,uBACNllE,QAAQ,eACX5U,MAAA,aAED1C,KAAA,WAAAa,MAAA,YAUAge,KAAC,YAADjY,SAAA,oBAGA,WAaI,QAAA61E,MAAiC,MAACA,MAajC,mBAVOC,GAAe3kE,QACfrV,MAAK,KA2Cb,SAzCqBiB,UAAUsiD,QAAO,iBACxB/nD,UACJoZ,UACFpZ,KAAKy+E,sBACDC,cACF1yC,MAAA,SAAAyc,MAAA,WAAAn5C,EAAAwyC,cACL9V,MAAA,QAAAyc,MAAA,WAAAn5C,EAAAi4D,aAGEvnE,KAAA2+E,eACC3yC,MAAa,QAAGyc,MAAA,WAAAn5C,EAAAsvE,iBAKHn5E,UAAUyV,WAAU,SAAaC,GACjDA,EAAAxY,QAEG3C,KAAA2C,MAAawY,EAAGxY,MAAAyY,cAEnBD,EAAAzS,WAEJ1I,KAAA0I,SAAAyS,EAAAzS,SAAA0S,cAGOD,EAAK3W,QAAuBxE,KAAKwE,MAAA2W,EAAe3W,MAAM4W,iBAIjD3V,UAAeq8C,SAAM,WAAC9hD,KAAKs+E,eAAerlE,QACtDjZ,KAAAs+E,eAAArlE,YAGYxT,UAAe8hE,QAAM,WAACvnE,KAAKs+E,eAAe5W,OACtD1nE,KAAAs+E,eAAA5W,SArDL8W,EAuDC/4E,UAAAm5E,QAAA,WAEK5+E,KAAAs+E,eAAsBz1E,OACxB7I,KAAYs+E,eAAAz1E,SAEZ21E,MAIJK,cACYL,WACEJ,uCCxHdj9E,SACA1B,OAAA,0BACA0d,UAAA,gBAAA0hE,QAEAt0E,IAAA,SAAA5J,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,sBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,yBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,qBACA,6sBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,sBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,yBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,yBACA,myBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,sBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,yBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,uBACA,u2BAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,sBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,yBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2BACA,4nBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,sBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,yBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,yBACA;;;C1M7DA,SAAA9d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAA6+E,UAAAv/E,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gE2MAA,IAAAu/E,GAAA,WAAA,QAAAA,MAKA,MAAAA,KALav/E,GAAAu/E,cAAAA,CAOb,IAAAC,GAAA,WAKI,QAAAA,GACIC,EACOC,EACPC,EACOz9B,GAFA1hD,KAAAk/E,iBAAAA,EAEAl/E,KAAA0hD,UAAAA,EANJ1hD,KAAAo/E,WAAqB,EAQxBp/E,KAAKk/E,iBAAmBt8E,EAAEsnC,SAASg1C,GAAoBA,GAAmB,EAC1El/E,KAAKq/E,aAAez8E,EAAEC,UAAUs8E,GAChCn/E,KAAKi/E,OAASr8E,EAAEsN,IAAI+uE,EAAQ,SAAUK,GAClC,MAAOA,GAAa,QA0BhC,MAtBWN,GAAAv5E,UAAAk8B,IAAP,WACI3hC,KAAK0hD,UAAUrmC,MACXkkE,WAAYv/E,KAAKk/E,iBACjBM,QAASx/E,KAAKq/E,gBAIfL,EAAAv5E,UAAAwT,OAAP,WACIjZ,KAAK0hD,UAAUzoC,UAGZ+lE,EAAAv5E,UAAAg6E,SAAP,SAAgBF,EAAoBG,GAChC,GAAMC,GAAS3/E,KAAKq/E,aAAaE,GAAYG,EAC7CC,GAAOC,SACP5/E,KAAKo/E,cAGFJ,EAAAv5E,UAAAo6E,SAAP,SAAgBN,EAAoBG,GAChC,GAAMC,GAAS3/E,KAAKq/E,aAAaE,GAAYG,EAC7CC,GAAOC,OAASD,EAAOC,OAASD,EAAOC,OAAS,EAAI,EACpD5/E,KAAKo/E,WAAap/E,KAAKo/E,WAAap/E,KAAKo/E,WAAa,EAAI,GAElEJ,IAxCax/E,GAAAw/E,wBAAAA,uFCPb,IAAAc,GAAAn/E,EAAA,6BAcQsJ,EAAkB,SAASH,GAC/B,GAAMC,GAAeD,EAAUE,IAAI,wBAA0BF,EAAU5D,IAAI,wBAA0B,IACjG6D,KACIA,EAAcE,gBAAgB,MAClC81E,gCAAiC,gBACjCC,uCAAwC,kGACxCC,2CAA4C,qBAExCl2E,EAAcE,gBAAgB,MAClC81E,gCAAiC,qBACjCC,uCAAwC,uHACxCC,2CAA4C,0BAKlDh2E,GAAA9G,SAAA,gBACE+8E,GAAA,mBACUA,GAAUf,EAAmBz9B,GAC7B1hD,KAAAm/E,WAAAA,EACNn/E,KAAA0hD,UAAAA,EAJN,SA0BGj8C,UAAAwV,KAAA,SAAAgkE,EAAAC,GAnBC,GAAA5vE,GAAYtP,WACTA,MAAK0hD,UACJzmC,MACAuqB,YAAA,+BACA0B,kBAAY,EACZztB,WAAYqmE,EAAcd,wBAC1B97D,aAAA,aACA4gC,qBAAS,kBAEL,WACD,MAAAm7B,qBAEQ,WACR,MAAAC,eAEc,WACd,MAAA5vE,GAAA6vE,gBAIVe,KAMCC,EAAA,mBAFQA,KAIDngF,KAAAogF,YAAA,UACLC,iBAAmB,SAAKt7B,GACxB/kD,KAAAogF,YAAAr7B,GARJ,SAWet/C,UAAAW,MAAA,YAAA,SAAAs7C,GAEX,UAID,OAHmB,OAAhB1hD,KAAKiG,WAEPjG,KAAOiG,SAAa,GAACi6E,GAAAlgF,KAAAogF,YAAA1+B,IACtB1hD,KAAAiG,WACFk6E,aAIE1gF,OAAO,6BACP0E,OAAA8F,GACJ5D,SAAA,mBAAA85E,oECnFD/8E,QAAOC,eAAA7D,EAAA,cAAA8D,OAAA,YAGP7D,OAAA,6BAAmC,eACnCkB,EAAA,kdCJAyC,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,GAOA,IAACg9E,GAAA3/E,EAAA,gCACsC4/E,EAAA,SAAAlxE,WACnCkxE,GAGEC,GAFQ,GAAAlxE,GAAAD,EAAArO,KAAAhB,OAA0BA,IAenC,OAXCsP,GAAIkxE,2BAAeA,EACjBlxE,EAAKuzB,UACLvzB,EAAKu9C,KAAKv9C,EAAKuzB,QAAAgqB,KAAAjqD,EAAA69E,MAAAnxE,EAAAu9C,KAAAv9C,EAAAuzB,QAAAgqB,MAAAv9C,EAAAu9C,OACbA,KAAOt8C,MACPy7B,MAAO,oBACL,WACD18B,EAAAoxE,mBAGHpxE,EAAKuzB,QAAQ0P,KAAKjjC,EAAOuzB,QAAM0P,MAAU,GAACjqC,MAC3CgH,EAAAwjB,MAAAxjB,EAAAuzB,QAAA/P,OAAA,QACFxjB,EAjBkC,MACnCzD,GAAA00E,EACUlxE,KAiCT5J,UAAAi7E,cAAA,WAfC,GAAIpxE,GAACtP,UACHwgF,2BAAavlE,MACb0lE,YAAQ,8BAEN7tD,MAAM9yB,KAAK8yB,MACXhN,KAAM9lB,KAAK6iC,QAAQ/c,KACpBysB,KAAAvyC,KAAA6iC,QAAA0P,MAEAquC,aAAC,qDACG3vE,GAEL3B,EAAKuxE,WAAQ5vE,EAAO6U,MACpBxW,EAAKwjB,MAAQ7hB,EAAK6hB,MAClBxjB,EAAKuzB,QAAQ/P,MAAO7hB,EAAO6hB,MAC1BxjB,EAAAuzB,QAAA0P,KAAAthC,EAAAshC,QAlC8BguC,GAuCrCD,EAA2CQ,iBACzCC,aAECl+C,QAAA,eAEDppB,WAAW8mE,EACZ/6C,YAAA,2CAIE/lC,OAAA,gBAEJ0d,UAAA,kBAAA4jE,wECrDD39E,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OAKI09E,GAAA,WAAgB,QAACA,MALrB,MAMCA,4DCXD59E,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OAAA29E,GAAA,WAEA,QAACA,MAFD,MAAAA,KAIAA,GAAAC,KAAA,SAAA,QAAA,OAAA,SAAA,WAAAC,GAAA,WAcA,QAACA,MAdD,MAAAA,QAEYD,MACAp/E,KAAI,0CACPqG,GAAA,OAGGrG,KAAI,yCACPqG,GAAA,OAGGrG,KAAI,0CACPqG,GAAA,UAULi5E,GAAA,mBAAAA,GAaCp/E,EAAA4+E,EAAAl/B,GAZU,UACA,IAAApyC,GAAAtP,IACAA,MAAAgC,OAASA,EARbhC,KAAA4gF,aAAmBA,EACnB5gF,KAAA0hD,UAAaA,EACb1hD,KAAA+kC,OAAiBk8C,EAAUC,IAU9BlhF,KAAAqhF,MAAQF,EAAaD,IACrBlhF,KAAKshF,OAASH,EAAUD,IAAA,GAAO/4E,GAE/BhH,QAAK2B,OAAQ9C,KAAGA,KAAAgC,aACZs/E,OAAK,GAASthF,KAACgC,OAAS8jB,KAAAy7D,QAAAvhF,KAAAgC,OAAA8jB,KAAA07D,QAC5BxhF,KAAC8hD,SAAA,WACJxyC,EAAAoyC,UAAAzoC,UAnBQ,SAWM9V,SAAA,SAAA,eAAA,eAYUsC,UAAYiyE,QAAO,SAAa+J,GACrDzhF,KAAK,KAAA0hF,MAAe7jE,OAAA7d,KAAashF,OAAAlwE,OAAA,EAAA,IACpCpR,KAAA,KAAA2hF,MAAA9jE,OAAA7d,KAAAshF,OAAAlwE,OAAA,EAAA,IACLpR,KAAA0hD,UAAArmC,KAAAomE,IA1BaL,yCCZT//D,GAAM,SAAA1gB,EAAAlB,EAAAD,MAEFoiF,IACAC,gBAAa,IAChBC,eAAA,IAEDC,SAAA,QAOC,WAAD,QAAAC,MAMA,MAAAA,MAMgB,mBACAC,GAAiCj3C,EAAAD,EAAAlxB,EAAAF,EAAAC,GACjC5Z,KAAAgrC,iBAAsBA,EACtBhrC,KAAA+qC,SAAAA,EACA/qC,KAAA6Z,OAAAA,EACP7Z,KAAA2Z,SAAAA,EAEE3Z,KAAA4Z,OAAAA,EAiBL,SAhB+BnU,UAAAyV,WAAA,SAAAC,MACzB7L,GAAOtP,IACPmb,GAAQ2mE,uBACX3mE,GAAA2mE,eAAA1mE,aAAA,OACGja,QAAQ2B,OAAA9C,KAAAmb,EAAmB2mE,eAAQ1mE,iBAE/BymE,iBAAmB1mE,EAAA0mE,gBAAuBzmE,cAC9Cpb,KAAGgrC,iBAAA7vB,EAAA0mE,gBAAAzmE,cAAA,GAAAmwB,KAAA,SAAAZ,GACNr7B,EAAAqK,SAAAnB,KAAA,uBAAA0pE,YAAA5yE,EAAAy7B,SAAAJ,GAAAr7B,EAAAuK,YAKLooE,EAACx8E,UAAAiyE,QAAA,WACL13E,KAAA+hF,UAAAN,YAAAzhF,QAEMiiF,MAEFE,GACA38C,YAAU,sDACb/rB,WAAAwoE,EAED/kE,SAAO0kE,WAGVniF,OAAA,oGCnED,YAYA2D,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,OACG8+E,GAAwBzhF,EAAS,4BAE7BsJ,EAAkB,SAACH,MACLC,GAAcD,EAAAE,IAAgB,wBAAMF,EAAA5D,IAAA,wBAAA,WAE1C+D,gBAAA,MACAo4E,mCAAA,YACAC,wCAAyC,QAC1CC,uCAAA,OACOC,wCAAoC,YAE1Cv4E,gBAAA,MACAo4E,mCAAA,kBACAC,wCAAyC,SAC1CC,uCAAA,UACNC,wCAAA,gBAKUr/E,SAAA,gBACRs/E,GAAC,mBAGKA,GAAe/gC,QACZA,UAAaA,QAFlB+gC,GAAAt/E,SAAA,eAIiBsC,UAAAwV,KAAA,SAAAjZ,EAAAysC,EAA0B/C,QACtCgW,UAAAzmC,MACAinC,YAAYlgD,EAAMR,MAClBgkC,YAAQxjC,EAAAwjC,aAAA,mDACJ48C,EAAiChB,6CACnB,eACjB,KACDh2C,QACFw1C,aAAA5+E,EAAA4+E,aACD5+E,OAAKA,EAAIopC,6BAEc,IAErBG,KAAA,SAAArgC,GACKujC,GACAA,EAAgBvjC,IAErB,WACVwgC,GACLA,OAIW+2C,IAEdthF,+HC/DW,IAAAkG,GAAA,SAAiC1G,EAAAlB,EAAeD,GAE5D,YACA4D,QAAAC,eAAA7D,EAAA,cAA+B8D,OAAA,IAC/BnC,uLCG0B,EAAAuhF,gCAA6C,EAAAC,wBAAA,IAAA75E,IAAA,SAAAnI,EAAAlB,EAAAD,sCAE/DA,EAAe,cAAA8D,OAAA,UAEf,SAAAwG,SACCA,EAAAE,IAAA,wBAAAF,EAAA5D,IAAA,wBAAA,IACO6D,OACRE,gBAAwB,MACvB24E,yBAAA,kCAEN74E,EAAAE,gBAAA,MAEK24E,yBAA4B,kDAI1Bz/E,SAAM,mBACO,SAAA0/E,KACJxC,oBAEXr0C,MAAA,QACE0gB,KAAK,WACL5qD,KAAM,QACN89E,OAAM,IAGT5zC,MAAA,WACA0gB,KAAA,WACG5qD,KAAK,WACL89E,OAAM,MAIR5zC,MAAA,WACE0gB,KAAK,OACL5qD,KAAM,WACN89E,OAAM,IAGR5zC,MAAA,eACE0gB,KAAK,YACL5qD,KAAM,QACN89E,OAAM,IAGT5zC,MAAA,aACA0gB,KAAA,gBACJ5qD,KAAA,aAED89E,OAAA,MAOAkD,GAA0B3/E,SAAqB,+BAa/C4/E,IAZgB,WACd,QAAAC,MAEA,MAAMA,OAyCNC,UAAA,eAAA,WAEU,WACA,MAEA,mBACAC,GAAArpE,EAAyCvY,EAAAsY,EAAAD,EAAA9V,EAAAs/E,EAAAC,EAAAC,GACzC,GAAA/zE,GAAAtP,IACAA,MAAAsB,WAAAA,EAvCFtB,KAAA4Z,OAAAA,gBACGD,gBACC9V,oBACDs/E,wBACNC,OACFC,gBAAAA,OACDC,0BACEt3C,MAAO,gBACPjmB,SAAU,SAACw5D,GACTjwE,EAAKi0E,aAAYhE,MAInBvzC,MAAO,SACPjmB,SAAU,SAACw5D,GACTjwE,EAAAk0E,YAAYjE,MAIVvzC,MAAA,cACNjmB,SAAA,SAAAw5D,GACAvd,QAAAC,IAAA,gCAAyBsd,WAoGzBkE,YAAK,6JA5ELzjF,KAAK0jF,iBAAA1jF,KAAuBsjF,wBAG5BtjF,KAAIwjF,YAAK,SAAoBjE,GAC3Bvd,QAAQC,IAAC,cAASsd,GACnBjwE,EAAAq0E,eAAA9qE,OAAA0mE,EAAA,MAEgC5iE,SAAc,cAG/C3c,KAAK4jF,qBAAuB5jF,KAAC6jF,aAAAd,EACzB/iF,KAAC4jF,qBAAiBE,UAAA,GAElBnqE,EAASgD,SAAC,eAEX3c,KAAK+jF,wBACT5iF,QAAA2B,OAAA9C,KAAA0jF,iBAAA1jF,KAAA+jF,wBAEO/jF,KAAAgkF,eAAAnqE,EAAR7Z,KAAAikF,iBACEjkF,KAAE6D,SAAU,WACVyL,EAAMqK,SAAAgD,SAAiB,0BAIjBlX,UAAUw+E,eAAA,iDAEV,SAAA3E,EAAAC,oBACaD,EAAM4E,qBACrBC,OAAO7E,EAAU6E,OAAGj0E,IAAA,SAAWyvE,EAAApjE,GAetC,MAdOojE,GAAO75D,KAAO65D,EAAO75D,OACrBy7D,QAAQ,UACD,WAEHhlE,eACDgjE,IACA1yB,KAAC8yB,EAAA9yB,SAEJ1rD,QAAO2B,OAAA68E,EAAA9yB,OACD7gB,MAAE,SACNyc,MAAU,SAAKh4C,EAAAzO,EAAgBoiF,GAC/B90E,EAAA+0E,aAAA5zE,EAAAzO,EAAAoiF,QAKHE,KAAA3E,EAAPt0C,SA2BC/7B,EAAA+zE,gBAAAkB,YAAA5E,EAAArwE,EAAAm0E,qBArBiBh+E,UAAA89E,aAAA,SAAAhE,SACVv/E,UACDojF,iBAEDnoE,KAAIjb,KAAK2jF,eAAkBpE,QACzB,SAAWn2E,GACb,GAACo7E,EAAMp7E,SAGHm2E,cAAU,EACVjwE,EAAAq0E,eAAAv6E,EAAAm2E,aAMFvzC,MAAK,YACNm4C,WAIN70E,EAAAm1E,WAAAD,EAAAL,OAAA/6E,EAAAo2E,SAACp2E,EAAAm2E,cAAA,GAOMjwE,EAAAq0E,eAAApzE,KAAAi0E,GAEJl1E,EAAA20E,iCAIcQ,WAAW,SAAAnF,EAAAE,sBAChBkF,KACFx9D,QAAA,SAAAy4D,GACJA,EAAAC,QACA3zE,MAAAyS,MAAA,KAAAzS,MAAA0zE,EAAAC,SAAA14D,QAAA,WACFo4D,EAAA/uE,MACJoQ,KAAAg/D,EAAA79E,gBAOQ2D,UAAe4+E,aAAe,SAAW5zE,EAACzO,EAAAoiF,GACjD,GAAG90E,GAAAtP,IACJA,MAAA2jF,eAAA3hF,EAAA6gC,QAAA08C,YAAA2E,kBAEHlkF,KAAA2jF,eAAA3hF,EAAC6gC,QAAA08C,YAAA2E,eAAA3zE,KAAAvO,EAAA6gC,QAAAtmB,OAAAvc,KAAA2jF,eAAA3hF,EAAA6gC,QAAA08C,YAAA4E,OAAAtrE,OAAA7W,EAAA6gC,QAAAtmB,MAAA,GAEKvc,KAAS6D,SAAyB,WAC9ByL,EAAEq0E,eAAA3hF,EAAA6gC,QAAA08C,YAAA2E,qBAGRhB,KAEFyB,GACAznE,UACD2mE,YAAA,kBAEME,uBAAA,mBACJJ,eAAO,yBAEAT,cACG,+EChPf/lE,UAAA,eAAAwnE,QAYap7E,IAAA,SAAA5I,EAAmBlB,EAAeD,GAClC,YAEb4D,QAAMC,eAAA7D,EAA2B,cAAa8D,OAAA,GAC9C,IAAMshF,GAAkBjkF,EAAA,0BACtBkkF,EAAWlkF,EAAA,oCACXmkF,mBAAY,MACZC,oBAAU,MACVC,oBAAW,oCAEXC,GAAqB,EACrBC,GACAjC,UAAAzjF,EAAAslF,mBAEDK,WAAA3lF,EAAAulF,oBAoBCzgE,OAAA,aAmBE,uDAAA,0CACU,2CAGA,mBACA8gE,GAAgBvrE,EAAAvY,EAAAypC,EAAAlnC,EAAA8V,EAAA0rE,EAAAC,EAAAjpE,GArBnB,GAAA/M,GAAAtP,IACAA,MAAA6Z,OAAAA,EACA7Z,KAAAsB,WAAkBA,EAwBvBtB,KAAK+qC,SAASA,OACZlnC,SAAAA,OACC8V,SAAAA,EAEH3Z,KAAKulF,mBAAc,UACjBC,gBAAO,kBACE,eACP5iF,EAAA6iF,wBACOppE,EAAUuJ,YAAA7H,MACT/d,KAAM6iC,qBACZ7iC,KAAM0lF,eAAiBx1E,IAAA,SAAAovE,EAAqBC,kBAGrCvzC,mBACL,iBAECszC,EAAA6E,OAAAj0E,IAAA,SAAAy1E,GACH,GAAAC,GAAAt2E,EAAAu2E,gBAAAF,EACF,OAAAf,GAAAkB,qBAAAlB,EAAAmB,iBACDC,IAAAj7C,EAAA46C,EAAAt6C,UAAAu6C,GAGW/iD,QAAA8iD,EAAArB,KACDx+D,KAAM6/D,EAAErB,KAAAx+D,cASnB7L,OAAK,uBAAwB,SAAA0R,GAE7Brc,EAAK22E,MAAAt6D,uCAGA,SAAA/oB,EAAYk1D,SAAM,4BAClBxoD,EAAoB42E,uCACpB52E,EAAsB62E,oBAAA72E,EAAA82E,gBAC3B92E,EAAG+2E,WAAAn/D,QAAA,SAAAo4D,GACGA,EACTgH,oBAAAh3E,EAAAi3E,kBAGMC,aAAAl3E,EAAAm3E,4BAAPn3E,EAAA82E,iBACOM,qBACNC,yBAGD,cAEMlhF,UAAoBoV,UAAK,WAE7B7a,KAAI4mF,WAAa5mF,KAAG2Z,YAGXlU,UAAAwgF,MAAA,SAAAt6D,GACT,GAACrc,GAAAtP,KAEG6mF,EAAO7mF,KAAMi/E,OACf6H,EAAkB,QAElBn7D,EAAO1qB,OAAA4lF,EAAA5lF,OAGL,WAFHjB,MAAA+mF,SAAAp7D,EAAAA,EAAA1qB,OAAA,OAIC0qB,EAAI1qB,OAAA4lF,EAAoB5lF,wBACtB+lF,aAAAr7D,aAKG,EAAC/qB,EAAK+qB,EAAQ1qB,OAAEL,IAAC,OACRimF,EAAUjmF,GAAEujF,OAAMljF,OAAA0qB,EAAA/qB,GAAAujF,OAAAljF,aACzB0qB,EAAA/qB,GAAAsjF,gBAAAv4D,EAAA/qB,GAAAsjF,eAAAjjF,OAAA,EAAA,MAEEL,EAELqmF,EAAc,EAAA,IACZC,GAAKv7D,EAAAm7D,GAAoB3C,OAAAnyE,MAAAi1E,EAC3BrkF,GAAE4N,KAAC02E,EAAA,SAAAvB,GACJ3jB,QAAAC,IAAA,OAAA0jB,KACC3lF,KAAKmnF,kBAAiBD,EAAWlnF,KAAAqmF,WAAAS,GAA2B9mF,KAAAonF,iBAAmBN,IAC/E9mF,KAAK6D,SAAA,WACDyL,EAAC+3E,0BAKPrnF,MAAOsnF,YAAAtnF,KAAAqmF,WAAAS,GAAAn7D,EAAAm7D,GAAA5C,eAAAlkF,KAAAonF,iBAAAN,IACR9mF,KAAAunF,mBAAA57D,GACF3rB,KAAA6D,SAAA,WAEayL,EAAK+3E,qBAGf,SAGL17D,GAAA3rB,KAAAqmF,aAGMrmF,KAAAunF,mBAAA57D,GACD3rB,KAAC6D,SAAM,WACTyL,EAAM+3E,0BAIH5hF,UAAA+hF,aAAA,SAAAlI,EAAA99E,GACJ89E,EAAAmI,cACFnI,EAAAoI,SAAA9kF,EAAA8nE,MAAA4U,EAAAtzC,OAEMszC,EAAAmI,aAAA,EACLznF,KAAM6D,SAAQ,WACfoR,EAAAzT,EAAAmxB,cAAA5X,SAAA,IAAAoZ,cAIS1uB,UAAckiF,cAAM,SAAArI,KAC1BtzC,MAAKszC,EAAUoI,YAGTjiF,UAAAmiF,iBAAA,SAAAtI,GACT,GAAAhwE,GAAAtP,IAEMA,MAAA6D,SAAA,WACDy7E,EAAMmI,aAAc,EACtBn4E,EAAKhO,WAAAwe,WAAuBtgB,EAACwlF,oBAAA11E,EAAA2vE,QAC9B3vE,EAAAo2E,eAAApG,EAAA/iE,OAAAyvB,MAAAszC,EAAAtzC,OACF,QAISvmC,UAAaoiF,qBAAA,SAAAvI,EAAA99E,GACJ,KAAfA,EAAKkyB,cACHk0D,iBAAgBtI,MAGV75E,UAAAqiF,qBAAA,SAAAC,EAAA5D,UACR4D,OACQ,kGAUL,WACD,GAAIC,IACAC,UAAC9D,EAAe+D,KAAOC,KAAEC,WAAY,iBAAA9kF,MACvC+kF,QAAMlE,EAAApe,GAAWoiB,KAAAC,WAAA,iBAAA9kF,MAChBglF,YAAAnE,EAAAwB,KAAArB,KAAAzhD,QAEC0lD,cAAcpE,EAAOwB,KAAKrB,KAAMzhD,QAAAtmB,OACpC0rE,EAAKD,EAAaC,UAAUI,EAAML,EAAAK,QAAAC,EAAAN,EAAAM,YAAAC,EAAAP,EAAAO,aAClCvoF,MAAK0lF,eAACuC,GAAA9D,OAAAtrE,OAAA0vE,EAAA,GACTvoF,KAAA0lF,eAAA2C,GAAAlE,OAAA5zE,MACF+zE,KAAAgE,IAIOtoF,KAASwoF,aAAuBrE,EAAW+D,KAAKC,MACtDnoF,KAAUwoF,aAAarE,EAAUpe,GAAAoiB,QAM3B/C,EAAA3/E,UAAAogF,gBAAR,SAAoBF,GAClB,GAAMC,GAAU5lF,KAAAsB,WAAgBirC,MAAA,EAAAvsC,KAAAyoF,oBAEhC7C,GAAOrpE,MAAexH,QAAN4wE,EAAArB,KAAC/nE,MAAKopE,EAAArB,KAAAzhD,QAAAtmB,MAAAopE,EAAArB,KAAA/nE,QACdgjE,WAAuBxqE,QAAV4wE,EAAKrB,KAAK/E,WAAAoG,EAAArB,KAAAzhD,QAAA08C,WAAAoG,EAAArB,KAAA/E,WAC7BqG,KAGGngF,UAAa6hF,YAAW,SAAAhI,EAAAoJ,EAAAC,GAC9B,GAAAC,GAAA3zE,EAAA0zE,GAAAnwE,KAAA,sBAEO5V,GAAA4N,KAAAk4E,EAAA,SAAAnsE,GACA+iE,EAAKsJ,MAAK/vE,OAAS0D,EAAO,GAG9BqsE,EAAKrsE,GAAOslB,gBAEZ2mD,aAAQG,MAEPljF,UAAA+iF,aAAA,SAAAG,EAAAE,GACJ,GAAAD,GAAA3zE,EAAA0zE,GAAAnwE,KAAA,uBAAA+mE,EAAAxqE,SAAA8zE,EAAAF,EAAAP,WAAA,iBAAA9kF,MAAAulF,CAEOjmF,GAAA4N,KAAAo4E,EAAA,SAAAjD,EAAAppE,GAAR,GAAAusE,GAAA7zE,EA8BC0wE,GAAA5qE,WAAA,EA7BO5Z,SAAA6J,QAAgB89E,GACpBvhF,QACA,MAAAgV,EAGApb,QAAU6J,QAAQ89E,GAAAvhF,QAAa,WAAAg4E,OAGpB95E,UAAAuhF,aAAA,SAAA+B,SACT/oF,KACFgpF,KAACC,KAAAC,YAAClpF,KAAMi/E,OAAA,SAAAK,EAAA/iE,GACN3Z,EAAA4wB,UAAYu1D,EAAO,SAAAnpF,GACpB,MAAAA,GAAA,QAAA0/E,EAAAtzC,QACA,EAEIg9C,EAAcz4E,KAAAgM,GAGlB0sE,EAAA14E,KAAAgM,KAIH3Z,EAAE4N,KAACw4E,EAAAG,UAAA,SAAA5sE,GAECjN,EAAC2vE,OAAApmE,OAAmB0D,EAAA,GAEtBjN,EAAK+2E,WAAKxtE,OAAgB0D,EAAE,KAE9B3Z,EAAE4N,KAACy4E,EAAA,SAAA1sE,GACJ2sE,EAAA34E,KAAAjB,EAAA83E,iBAAA7qE,MAEDvc,KAAAonF,iBA4BC8B,EA3BCtmF,EAAA4N,KAAMxQ,KAAQonF,iBAAA,SAAAuB,EAAApsE,GACZjN,EAAKk5E,aAAcG,EAAKpsE,QAIf9W,UAAAshF,SAAA,SAAAqC,SACLppF,gBAEWgsC,aACVo9C,EAAAjF,OAAAj0E,IAAA,SAAAy1E,GACH,GAAAC,GAAAt2E,EAAAu2E,gBAAAF,EACF,OAAAf,GAAAkB,qBAAAlB,EAAAmB,iBAEUC,IAAK12E,EAAMy7B,SAAC46C,EAAAt6C,UAAAu6C,GACd/iD,QAAO8iD,EAAQrB,KAAMx+D,KAAO6/D,EAAMrB,KAAGx+D,sBAM1CvV,KAAA+uE,QACAzlE,OAAA8c,cACA9c,OAAAiK,SAEL9jB,KAAG6D,SAAA,WAECyL,EAAC83E,iBAAqBv/D,SAAYwD,iBAAa/b,EAAAg1E,KAAA+E,yBACpD/5E,EAAA+2E,WAAA91E,KAAAs0E,EAAAyE,sBAAAzE,EAAA0E,iBAAAjK,EAAA6E,OAAA70E,EAAAg1E,KAAAh1E,EAAAi3E,iBAAAj3E,EAAA83E,iBAAA93E,EAAA83E,iBAAAnmF,OAAA,IAEOulF,aAAAl3E,EAAAm3E,4BAAkBn3E,EAAA82E,iBAA1BM,qBACWC,8BAGPmB,qBAAgB,WAAAsB,MAEP3jF,UAAW0hF,kBAAA,SAAAD,EAAA5H,EAAAkK,SACdxpF,OACHknB,QAAA,SAAAy+D,GAEH,GAAAC,GAAct2E,EAAQu2E,gBAACF,GAErB8D,EAAQ7E,EAAAkB,qBAAAlB,EAAAmB,qBACPz2E,EAASy7B,SAAA46C,EAAAt6C,UAAqBu6C,WACvBD,EAAArB,UACPqB,EAASrB,KAAAx+D,MAEfw5D,GAAAoK,QAAAD,GAEOx0E,EAAA,SAAR0H,SAQC,sBAPCoa,OAAa0yD,EAAQE,uBACnB1kE,SAAYukE,QAGP/jF,UAAA8hF,mBAAA,SAAAqC,MACLt6E,GAAGtP,IACL4pF,GAAG1iE,QAAA,SAAA2iE,GACJA,EAAA1F,OAAAj9D,QAAA,SAAAohE,GAEOh5E,EAAA+2E,WAAAn/D,QAAA,SAAeo4D,GAAvBA,EAOCwK,kBAAAxB,EAAAhE,eAFM7+E,UAAAskF,gBAAsB,SAAA1D,EAAA/B,EAAA8C,GAC3B,GAAG93E,GAAAtP,IACJ,OAAAqmF,GAAAn2E,IAAA,SAAAovE,EAAA/iE,GAEO,MAAAsoE,GAAAyE,sBAARzE,EAA2C0E,iBAAajK,EAAA6E,OAAAG,EAAAh1E,EAAAi3E,iBAAAa,EAAA7qE,IAAxDiqE,aAUCl3E,EAAAm3E,4BAAAn3E,EAAA82E,iBATMM,qBACEC,2BAIAlhF,UAAA4hF,kBAAA,SAAA2C,EAAAC,SACFjqF,qBACAknB,QAAA,SAAsBo4D,GACxB0K,GACJ1K,EAAAkH,aAAAl3E,EAAAm3E,4BAAAn3E,EAAA82E,iBAGO9G,EACCoH,mBAAkBsD,EAAAC,GAC1BtD,2BAIclhF,UAAAygF,kBAA4B,WAC1C,GAAAyC,GAAA3oF,KAAA4mF,YAAA3xE,EAAA,OAEO,OAAA0zE,GAAAntE,WAGU/V,UAAQ0gF,oBAAM,SAAAC,SAC5BpmF,MAAMskF,KAAS4F,iBAAS9D,EAAoBnB,EAE5Ct8E,KAAIwZ,MAAAikE,GAAYpmF,KAAAskF,KAAArB,UAAAjjF,KAAAskF,KAAAhgE,YAEP7e,UAAU0kF,sBAAU,SAAAhC,WAa/B,aAXG9B,WAAAn/D,QAAA,SAAAo4D,GACA,GAAA8K,GAAA9K,EAAA+K,cAAAlC,EAEH,IAAOiC,EAIA,MAHR9lC,GAAA,MAAAg7B,OAEOh7B,EAAA,KAAA8lC,KAKA9lC,KAGU7+C,UAAGghF,4BAAuB,SAAAL,GAC1C,MAAKpmF,MAAAskF,KAAA4F,iBAAqB9D,EAAwBA,EAAA,EAAApmF,KAAAskF,KAAAhgE,OAAA,QAIlC7e,UAAU6kF,oBAAG,SAAA9oF,GAC9B,GAAA+oF,GAAAvqF,KAAAmqF,sBAAA3oF,EAAAmlB,OAEO3mB,MAAA2oF,UAAA1zE,EAAAzT,EAAAmlB,QAAAvB,OAAA,wBAAwBlf,IAAA,GAAhClG,KAAAiqF,YA+BCM,EAAA,KA9BCvqF,KAAMwqF,mBAAsBD,EAAA,MAC5BvqF,KAAO2Z,SAAIgD,SAAW,iBACtB3c,KAAOiqF,YAAIQ,eAIEhlF,UAAWilF,mBAAK,SAAAlpF,GAC7B,GAAA8N,GAAYtP,KAEN2mB,EAAAnlB,EAAemlB,OACnBmH,GAAIva,WAAQoT,EAAQgB,MAAK/F,OAAA,GAAgBpgB,EAAImpF,GAC7C58D,GAAKxa,WAAWoT,EAAOgB,MAACvS,MAAA,GAAgB5T,EAAGopF,QAC1CC,gBAAkB7qF,KAAA8qF,qBAErBnkE,EAAIgB,MAAA/F,KAAekM,EAAA,OACjBnG,MAAMvS,IAAA2Y,EAAA,QACNg9D,GAAM/qF,KAAcwqF,mBAAQQ,sBAE5BppE,KAAKpgB,EAAA0rB,MAAAltB,KAAoB6qF,gBAAMjpE,SAC7BpgB,EAAO4rB,MAAAptB,KAAA6qF,gBAAAz1E,UACR60E,gBAEDc,EAAK,OACa/qF,KAAAwqF,mBAA0BS,aAAAjrF,KAAAiqF,eACzCjqF,KAAmBwqF,mBAAWS,aAAaF,EAE9C,IAAKG,EAAS,IAAAC,EACZ,MAEHnrF,MAAAwqF,mBACFY,UAAAprF,KAAAiqF,YAAAc,GAEOrE,oBAAA,EAAA1mF,KAAAiqF,aACFjqF,KAAC6D,SAAY,WAEZyL,EAAS+7E,4BACT,KAICjG,EAAA3/E,UAAA6lF,kBAAkB,WACxBtrF,KAAMiqF,YAAasB,SAAQvrF,KAAAwlF,gBAE3BxlF,KAAA2Z,SAAOiD,YAAA,sBACL4tE,mBAAoB,UACpBP,YAAK,MAET7E,EAAC3/E,UAAAqlF,mBAAA,WAEO,GAAAU,GAAAxrF,KAAA2oF,UAAAj8D,uBACN,QACE9K,KAAA4pE,EAAU5pE,KACTxM,IAAAo2E,EAAAp2E,QAIM3P,UAAA4lF,yBAAA,WACTrrF,KAAMqmF,WAAYn/D,QAAK,SAAWukE,GAC5BA,EAAS9E,2BAIHlhF,UAAAimF,SAAA,SAAAxD,EAAAniB,EAAA4f,GAEZ,GAAIwC,GACFwD,EAAWzD,EAAA0D,WAAWjG,GAEtBC,EAAY5lF,KAAA6lF,gBAAmBF,UAE7ByB,iBAAKxkF,EAAA4wB,UAAmBxzB,KAAUqmF,WAAK6B,UACtCyD,EAAWE,WAEdhqD,SACD,OAAAkkC,IAEGA,EAAC2jB,QAAAiC,GACHxD,EAAMnoF,KAAI+qC,SAAA4gD,EAAAE,WAAAjG,GACV3wE,EAAEjV,KAAIonF,iBAAAxkF,EAAA4wB,UAAAxzB,KAAAqmF,WAAAtgB,KACFhvC,OAAEoxD,GACLnoF,KAAA6D,SAAAkiE,EAAA2gB,mBAAA7vD,KAAAkvC,GAAA,KAGG/lE,KAAA8nF,qBAAA,YACAI,KAAAA,EACAniB,GAAAA,EAEF4f,KAAKgG,OAIJlmF,UAAkBqmF,eAAM,SAAAtqF,GAC7B,GAAIuqF,GAAmBvqF,EAAOmlB,OAACyhE,WAAA,iBAAA9kF,MAChC0oF,EAAAhsF,KAAAqmF,WAAA0F,EAEO/rF,MAAAwqF,qBAAAwB,GAARhsF,KAAA0rF,SAcC1rF,KAAAwqF,mBAAAwB,EAAAhsF,KAAAiqF,aAZCjqF,KAAMqnF,mBAAY,GAElBrnF,KAAKulF,mBAAS,QAEF9/E,UAAAwmF,0BAAA,SAAAzqF,MACT8N,GAAAtP,KACCkoF,EAACloF,KAASwqF,mBACZ7E,EAAK3lF,KAAAiqF,iBACLlD,UACC/6C,MAAA,YAECm4C,YAGEnkF,KAAA6D,SAAA,WACFyL,EAAMo8E,SAAAxD,EAAA54E,EAAqB+2E,WAAA/2E,EAAA+2E,WAAAplF,OAAA,GAAA0kF,GAC7Br2E,EAAK+3E,mBAAkB,KAGzBrnF,KAAIulF,mBAAK,QAEG9/E,UAAYymF,oBAAU,SAAA1qF,GAChCxB,KAAKulF,qBACNvlF,KAAAulF,mBAAA/jF,EAAA2qF,UAAAC,WACCpsF,KAAEulF,qBAA0B/jF,EAAA2qF,UAAAC,WAC5B5qF,EAAK2qF,UAAAC,UAAqBC,UAAC1qD,IAAA,mBAC5B1sB,EAAA,QAAAwG,IAAA,SAAA,QACFzb,KAAAwlF,gBAAA,IAIGvwE,EAAA,QAAMwG,IAAO,SAAU,IACvBzb,KAAEwlF,gBAAoB,IAIlBJ,EAAA3/E,UAAA6mF,yBAAR,SAAiC9qF,GAC/BxB,KAAMulF,qBAAwB/jF,EAAKmlB,SACpCnlB,EAAAmlB,OAAA0lE,UAAAxqD,OAAA7hC,KAAAskF,KAAAiI,qBAEOt3E,EAAA,QAAAwG,IAAA,SAAA,QAEChW,UAAc+mF,oBAAQ,SAAoBhrF,KAC/CmlB,OAAK0lE,UAAAxqD,OAAmB7hC,KAAKskF,KAAAiI,wBAExB9mF,UAAa0lB,WAAK,cAEvB7b,GAAQtP,mBACL,aACComF,eAAY92E,EAAA42E,uCACG52E,EAAA62E,oBAAA72E,EAAA82E,mCACAv+D,SAAYwD,iBAAM/b,EAAAg1E,KAAA+E,sCACrB/5E,EAAAy6E,gBAAAz6E,EAAA2vE,OAAA3vE,EAAAg1E,KAAAh1E,EAAA83E,2BACX,uBACDrS,uBAEC/e,SAAA,EACD2yB,UAAQ1zE,EAAA,YAAM/O,IAAA,GACZumF,MAAK,KAEPC,QAAO,SAAClrF,GACN8N,EAAKg7E,oBAAmB9oF,IAEzBmsB,OAAA,SAAAnsB,GAEG8N,EAACo7E,mBAAAlpF,IAELmrF,MAAM,SAAEnrF,GACN8N,EAAKg8E,gCAGL,mCACDsB,UACDC,OAAA,SAAkBrrF,GAChB8N,EAAK28E,0BAAyBzqF,IAEhCsrF,YAAa,SAACtrF,GACZ8N,EAAK48E,oBAAoB1qF,IAE1BurF,iBAAA,SAAAvrF,GAEG8N,EAACg9E,yBAAuB9qF,IAE5BwrF,YAAQ,SAAMxrF,GACZ8N,EAAKk9E,oBAAoBhrF,eAGzB,wBACDorF,UACDC,OAAA,SAAkBrrF,GAChB8N,EAAKw8E,eAAAtqF,IAEPsrF,YAAa,SAACtrF,GACZ8N,EAAK48E,oBAAoB1qF,IAE1BurF,iBAAA,SAAAvrF,GAEA8N,EAAAg9E,yBAAU9qF,IAEXwrF,YAAS,SAAAxrF,GACP8N,EAAMk9E,oBAAiBhrF,QAGzBolF,WACClqE,GAAA,uBAAA,0BAAA,WAEDuwE,SAAA,uBAAAlY,WAAA,GACP9/D,EAAA3F,GAAAyX,QAAA,WACFrK,GAAA,mBAAA,WAEKuwE,SAAsC,uBAAAlY,WAAA,MAExC,IAEAqQ,QAIFloE,UACAwoE,eAAY,qBACb+C,aAAA,mBAEO5lD,QAAO,oBACZ6gD,iBAAU,iHCloBfvmE,UAAA,mBAAqC+vE,KAArCC,iCAAA,GAAAC,yBAEC,KAAAvjF,IAAA,SAAAlJ,EAAAlB,EAAAD,GAqBD,qBAEEsmF,GAAUz5E,EAAAw2B,GACV,MAAA,IAAAx2B,GAAAw2B,UAFAx/B,eAAU7D,EAAA,cAAA8D,OAAA,MAWVwiF,qBAAaA,iBAEN,UACA,GAEPC,EAAC,WAEM,QAAAA,GAAAljD,GACL7iC,KAAAgmF,IAAWnjD,EAAMmjD,IAAA9/E,IAAA,GAClBlG,KAAAskF,KAAAzhD,EAEM7iC,KAAA8lB,KAAAljB,EAAA6iF,SAAA4H,EAAQxqD,EAAO/c,MACpB9lB,KAAKmoF,KAAK,KAuHV,SApHS1iF,UAAO6nF,QAAA,iBACdttF,MAAK8lB,QAEHrgB,UAAc8nF,QAAA,SAAA/xE,EAAAyG,eACf6D,KAAEtK,MAAAA,EACLxb,KAAC8lB,KAAA7D,OAAAA,EAEDjiB,KAAOmoF,MACRnoF,KAAAmoF,KAAA1sE,KAEMD,MAAAA,EACAyG,OAASA,IAIZjiB,QAEKyF,UAAK+nF,YAAA,SAAA5rE,EAAAxM,GAWP,YAVF0Q,KAAElE,KAAAA,EACL5hB,KAAC8lB,KAAA1Q,IAAAA,EAEDpV,KAAOmoF,MACRnoF,KAAAmoF,KAAA1sE,KAEMmG,KAAAA,EACExM,IAAKA,IAGPpV,QAGOyF,UAAAkkF,oBAAA,WACb,MAAA3pF,MAAAgmF,OAGavgF,UAAUgoF,WAAE,SAAAroE,GACxB,MAADplB,MAAAmoF,KAAAlzE,EAAAjV,KAAAgmF,KAAA5gE,OAAAA,GAACplB,QAIGyF,UAASomF,QAAA,iBACT7rF,MAAImoF,KAAAjiF,IAAA,MAGET,UAAaglF,UAAO,uBACzBiD,QAAWz4E,EAAC,SACZ0H,SAAQ,uBACPlB,KAEDvG,SAAK,gBACNlV,KAASmoF,KAAA1sE,IAAA,YACLzb,KAAAmoF,KAAA1sE,IAAA,OACHD,MAAMxb,KAAEmoF,KAAM1sE,IAAA,SACdwG,OAAAjiB,KAAAmoF,KAAA1sE,IAAA,YAGJzb,KAAAmoF,KACDxrE,SAAA,gBAAClB,KAEKkyE,OAAA,SAGDC,MAAA5tF,KAAY0tF,SACd1tF,QAGQyF,UAAO8lF,SAAY,SAAOsC,WA0B/BC,OACIJ,UACR3tF,EAAA2tF,QAAA7rD,SACF9hC,EAAA2tF,QAAA,MAEM3tF,EAAAooF,KACA1sE,IAAQ,SAAU,IACxB+Q,IAAA,gBAAAshE,SAhCU9tF,mBAEJmoF,KACJvrE,YAAA,gBAAOnB,KACFmG,KAAK5hB,KAAA0tF,QAAAjyE,IAAA,YACFzb,KAAA0tF,QAAAjyE,IAAA,SAEHiB,GAAG,gBAAkBoxE,MAGtB3F,KAEE1sE,KACDmG,KAAC7hB,EAAU2tF,QAAKjyE,IAAA,QACrBrG,IAAArV,EAAA2tF,QAAAjyE,IAAA,OAEMkyE,OAAK,KAGN/wE,YAAa,kBACf8wE,QAAK7rD,WACL6rD,QAAK,MAGP1tF,MAYJ+lF,EAACtgF,UAAAsoF,mBAAA,SAAApY,GAAC31E,KAAA0tF,QAAAjyE,IAAAk6D,MAIYlwE,UAAOuoF,WAAc,WAEjC,MAAOhuF,MAAKskF,KAAAzhD,SAEhBkjD,EAAAtgF,UAACwoF,WAAA,SAAAprD,GAEM,MAFNjgC,GAAA6iF,MAAAzlF,KAAAskF,KAAAzhD,QAAAA,GArIYjgC,EAAA6iF,MAAAzlF,KAAA8lB,KAAA+c,EAAA/c,MAuIN9lB,MAGI+lF,OAGLA,gBAAeA,UAEhBtmF,OAAA,ujBCzKJ,QAAA2M,KAAApM,KAAAqM,YAAAH,EANDJ,EAAAI,EAAAC,GAOED,EAAAzG,UAAA,OAAA0G,EAAA/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAKE5M,EAME,cAAO8D,OAuBR,UA3BS3C,EAAA,kCAEA,SAAA0O,WAIJ6+E,GAAer0E,EAAAF,EAAA9V,EAAA28E,MACjBlxE,GAAID,EAAKrO,KAAQhB,OAAKA,uBAAM2Z,EAC9BrK,EAACzL,SAAAA,EAEDyL,EAAKkxE,2BAAUA,IACbltD,QAAO,IACPhkB,EAAKuzB,SACHvzB,EAAKuzB,QAAAgqB,OACNv9C,EAAAu9C,KAAAjqD,EAAA69E,MAAAnxE,EAAAu9C,KAAAv9C,EAAAuzB,QAAAgqB,OAEHv9C,EAAKu9C,KAAKt8C,MACVy7B,MAAK,cAELyc,MAAK,WAGEn5C,EAAOoxE,qBAGZ5tD,MAAKxjB,EAASuzB,QAAG/P,OAAA,OACnBxjB,EAAGgkB,QAAAhkB,EAAAuzB,QAAAvP,SAAAhkB,EAAAgkB,sBACJzZ,EAAAI,OAAA,WAEO,MAAAN,GAAAw0E,GAAA,aAAR,SAAAxiE,GACMrc,EAAK8+E,gBAwFX,SA1HOF,EAAuB7+E,KAsC3B5J,UAAA2oF,UAAA,WACF,GAAA9+E,GAAAtP,IAEOA,MAAA6iC,QAAA0rB,OAARvuD,KAAA6D,SA+BC,WA9BMyL,EAAAk/C,YAAqBl/C,EAAMqK,SAASnB,KAAA,SACpC,QAGM/S,UAAUi7E,cAAA,iBACb1gF,sBACK4C,EAAE8nE,MAAC1qE,KAAAszB,yCACArY,kBACX,8BAED6X,MAAO9yB,KAAK8yB,MACZhN,KAAM9lB,KAAK6iC,QAAQ/c,OACnBy7D,QAAa,EACbC,QAAa,GAEbjvC,KAACvyC,KAAA6iC,QAAA0P,KACFvG,MAAAhsC,KAAA6iC,QAAAmJ,MACD5gC,KAAApL,KAAc6iC,QAAAz3B,KACbkoB,QAACtzB,KAAWszB,QACb+6D,cAAgB,SAAY/6D,GAEvBhkB,EAAQgkB,QAAOA,IAGpBstD,aAAa,kDACR3vE,GACL3B,EAAKuxE,WAAQ5vE,EAAU6U,MACtBxW,EAAAwjB,MAAA7hB,EAAA6hB,MACDxjB,EAAKuzB,QAAO/P,MAAQ7hB,EAAA6hB,MACnBxjB,EAAAuzB,QAAA0P,KAAAthC,EAAAshC,KACJjjC,EAAAuzB,QAAAmJ,MAAA/6B,EAAA+6B,MAEO18B,EAAAuzB,QAAAz3B,KAAA6F,EAAA7F,KACFkE,EAACuzB,QAAAvP,QAAuBriB,EAAAqiB,SAC7B,WAEMhkB,EAAAgkB,QAAAhkB,EAAAg/E,iBAEQ7oF,UAAY+oD,YAAe,SAACD,GAEzCvuD,KAAI8uD,kBAAmB9uD,KAAE2Z,SAAAyL,SAAAmpC,MAEhB9oD,UAAAo7E,WAAuB,SAAS7+E,MACvCsN,GAAQtP,IACVA,MAAC6iC,QAAA/c,KAAAy7D,QAAAv/E,EAAA0/E,MACF1hF,KAAA6iC,QAAA/c,KAAA07D,QAAAx/E,EAAA2/E,MAGO3hF,KAAA6iC,QAAA0rB,OAEJvuD,KAAA6D,SAAc,WAOXyL,EAAAw/C,kBAA2Bx/C,EAAKqK,SAAAyL,SAAc9V,EAAAqK,SAAmBnB,KAAA,SACpE,QAGU/S,UAAWqpD,kBAAkB,SAAAn1C,EAAkB40C,MACzDppC,GAAUxL,EAAgB6B,MAAG7B,EAAA6B,QAAA7B,EAAAw1C,YAAAjgC,EAAAvV,EAAAsI,OAAAtI,EAAAsI,SAAAtI,EAAAyc,aAAAg5B,EAAAb,EAAA,GAAAggC,cAAAhgC,EAAA/yC,MAAA6zC,EAAAd,EAAA,GAAAigC,eAAAjgC,EAAAtsC,OAAAqtC,EAAA,EAAAJ,IAC9BE,GAAAjqC,EAAAkqC,EAAAngC,GAAKogC,KAAEF,EAAAC,EAAAngC,EAAA/J,GAAA,GACN+pC,EAAU,eAAgB,GAAAI,EAAa,KACvCJ,EAAU,OAAY,GAAIhgC,EAAmB,KAC7CggC,EAAU,MAAS,GAAKE,EAAclgC,EAAiBmgC,EAAgB,KACvEH,EAAU,cAAgB,KAI5BI,KAAUD,EAAWD,EAAAjqC,EAAA+J,GAAA,GACtBggC,EAAA,cAAA,GAAAI,EAAA,KACHJ,EAAC,OAAA,GAAAG,EAAAlqC,EAAAiqC,EAAA,KAtHiCF,EAAA,MAAA,GAsHjC/pC,EAAA,KAGK+pC,EAAkC,eAAA,IAEpCX,EAAA9yC,IAASyzC,IAEXg/B,KACapN,iBACd2N,GAEDvxE,UACG2lB,QAAO,eAEXppB,WAAAy0E,0EtN1ID/wE,UAAA,eAA4BsxE,KAO5BC,+BAA2B,KAAAljF,IAAA,SAAA7K,EAAAlB,EAAAD,GAC3B,YAEA4D,QAAOC,eAAQ7D,EAAgB,cAAA8D,OAAA,MAE7B,wBACA,iBAEA,iBAEA,uBACA,gCAEA7D,OAAA,gBAEA,oBACA,yBACA,cACA,+BACA,4BACA,yBACA,YACC,eAGH,cAEA,YACA,eACA,cACA,eAEAkB,EAAA,iCACAA,EAAA,sBAEAA,EAAA,sFuN3CAA,EAAC,6CACO,kCACJ,qFAGE,EAAAguF,+BAAA,EAAAC,qBAAA,EAAAC,uBAAA,EAAAC,wBAAA,GAAAC,cAAA,GAAAC,yBAAA,GAAAC,cAAA,GAAAC,uBAAA,GAAAC,0CAAA,GAAAC,+BAAA,GAAAC,mCAAA,GAAAC,qBAAA,GAAAC,gCAAA,KAAA7jF,IAAA,SAAA/K,EAAAlB,EAAAD,GAGJ,GAAAgwF,GAAO,kBAEJ5kF,SAAU,KACd46B,YAAA,iVCTD,QAAAp5B,KAAApM,KAAAqM,YAAAH,EAFAJ,EAAAI,EAAAC,GAEqCD,EAAAzG,UAAA,OAAA0G,EAAA/I,OAAasG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAkC9C5M,EAAA,cACD8D,OAAA,UAlCM3C,EAAY,yBACV,SAAA0O,mCAIHrO,KAAQhB,OAAAA,IAoCZ,oDAjCM2pB,eAEHqiB,MAAA,QACDhJ,OAAA,aACEhhC,QACA0/E,MAAQ,EACRC,MAAQ,KAIT31C,MAAA,QACDhJ,OAAA,aACEhhC,QACA0/E,MAAQ,EACRC,MAAQ,KAIT31C,MAAA,QACFhJ,OAAA,aACAhhC,gBAMF2/E,MAAA,OAOKryE,aAvCWD,KAyCd5J,UAAAgqF,WAAA,SAAAC,EAAA1tF,EAAAyO,GACFzQ,KAAA0vF,IAAC1vF,KAAA0vF,GAAA1uF,KAAAhB,KAAAgC,GAGIyO,EAAS,OACTA,EAAS,MAAKzP,KAAAyP,EAAUzO,EAAOhC,OAjDF8gF,EAAAr7E,UAmDpCo7E,WAAA,SAAA7+E,GAnDYhC,KAAA6iC,QAAA/c,KAAAy7D,QAAAv/E,EAAe0/E,MAqD3B1hF,KAAA6iC,QAAA/c,KAAA07D,QAAAx/E,EAAA2/E,OAImBb,KAETE,iCACMF,QAGJ,mBAEP6O,YAEJA,GAAAlqF,UAACW,KAAA,WAAA,UAIE,OAFI,OAAApG,KAAAiG,WACGjG,KAAAiG,SAAc,GAAA66E,IACZ9gF,KAAAiG,yECzEd2pF,sBAAO,IAAAzqC,IAAA,SAAAxkD,EAAAlB,EAAAD,eAGP,SAAA4B,GAAAsD,GACA,IAAA,GAAAC,KAAAD,GAAAlF,EAA2BoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,2cCG1B,QAAAyH,KAAApM,KAAAqM,YAAAH,EAPDJ,EAAAI,EAAAC,GAQED,EAAAzG,UAAA,OAAA0G,EAAA/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAEE5M,EAGE,cAAO8D,OAaR,UAfS3C,EAAA,kCAKM,SAAK0O,WAGfwgF,GAAWrP,MACblxE,GAAOD,EAAArO,KAAahB,OAAAA,cACpBwgF,2BAAOA,IACL39C,UACFvzB,EAACu9C,KAAAv9C,EAAAuzB,QAAAgqB,KAAAjqD,EAAA69E,MAAAnxE,EAAAu9C,KAAAv9C,EAAAuzB,QAAAgqB,MAAAv9C,EAAAu9C,MAEHv9C,EAAKu9C,KAAKt8C,0BACXk4C,MAAA,WAEOn5C,EAAAoxE,qBAEJ5tD,MAAQxjB,EAAAuzB,QAAA/P,OAAA,WAqBZ,SAlCG+8D,EAAAxgF,KAgBU5J,UAAKi7E,cAAa,iBACrB1gF,UACLwgF,2BAAAvlE,MACDmwB,QACCtY,MAAC9yB,KAAW8yB,MACbhN,KAAK9lB,KAAQ6iC,QAAO/c,KACpBkmB,MAAKhsC,KAAQ6iC,QAAQmJ,MACrB5gC,KAAKpL,KAAA6iC,QAAiBz3B,MAEtBw1E,aAAa,wCACZ,SAAA3vE,GACJ3B,EAAAwjB,MAAA7hB,EAAA6hB,MACHxjB,EAAAuzB,QAAA/P,MAAC7hB,EAAA6hB,MArCgCxjB,EAAAuxE,WAAA5vE,EAAe6U,MAuClCxW,EAAyBuzB,QAAAz3B,KAAA6F,EAAA7F,KAC7BkE,EAAEuzB,QAAAmJ,MAAA/6B,EAAA+6B,SAGV6jD,KACa/O,iBACdgP,GAED5yE,UACG2lB,QAAO,eAEXppB,WAAAo2E,wCC1DD1uF,wVAYC,QAAAiL,KAAApM,KAAAqM,YAAAH,EAVDJ,EAAAI,EAAAC;AAWED,EAAAzG,UAAA,OAAA0G,EAAA/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAIE5M,EAME,cAAO8D,OAMR,UAXe3C,EAAN,kCAEA,SAAiC0O,WANpC0gF,GAAwBl2E,EAASF,EAAA9V,EAAAw/E,GACjC,GAAA/zE,GAAAD,EAAArO,KAAiBhB,OAAgBA,IAmBtC,OATAsP,GAAIuK,OAAKA,IACPF,SAAKA,IACL9V,SAAKA,EACPyL,EAAC+zE,gBAAAA,2BACF/zE,EAAA0gF,kBAAA,IAEM1gF,EAAAuzB,UAAPvzB,EAAA2gF,cAIC3gF,EAAAuzB,QAAAotD,eAAA3gF,EAAA2gF,cAHK3gF,EAAC0gF,kBAAS1gF,EAAAuzB,QAAAmtD,mBAAA1gF,EAAA0gF,mBAEX1gF,EAmBL,SAhCUygF,EAAA1gF,GAgBH0gF,EAAAtqF,UAAA+oD,YAAP,SAAkBjzC,GAAlB,GAAAjM,GAAAtP,IACEA,MAAK6D,SAAQ,WACTyL,EAAC+zE,gBAAoBv0B,kBAAgBx/C,EAAAqK,SAAAyL,SAAA7J,EAAAoL,aAIhClhB,UAAgBo7E,WAAA,SAAsB7+E,MAC7CsN,GAAGtP,IACLA,MAAG6iC,QAAK/c,KAAAy7D,QAAAv/E,EAAA0/E,MACT1hF,KAAA6iC,QAAA/c,KAAA07D,QAAAx/E,EAAA2/E,MACH3hF,KAAA6D,SAAA,WAlCsCjB,EAAA4N,KAAAlB,EAAAqK,SAAAnB,KAkCrC,OAAA,SAAA+1C,GAEKj/C,EAAiB+zE,gBAAyBv0B,kBAAAx/C,EAAAqK,SAAAyL,SAAAmpC,MAE5C,MAEFwhC,KACajP,iBACdoP,GAEDhzE,UACG2lB,QAAO,eAEXppB,WAAAs2E,4ZCrDA,QAAA3jF,KAAApM,KAAAqM,YAAAH,EAPDJ,EAAAI,EAAAC,GAQED,EAAAzG,UAAA,OAAA0G,EAAA/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAGE5M,EAOE,cAAO8D,OA+BR,UApCS3C,EAAA,kCAEA,SAA0B0O,WAN7B8gF,GAA6Bt2E,EAAAhW,EAAA8V,EAAA6mE,EAAAnI,GAWlC,GAAI/oE,GAAKD,EAASrO,KAAChB,OAAAA,cACf6D,SAAOA,aAAmB8V,EAC9BrK,EAACkxE,2BAAAA,EAEDlxE,EAAK+oE,sBAAUA,IACb+X,cAAO,EACP9gF,EAAKuzB,SACHvzB,EAAKuzB,QAAAgqB,OACNv9C,EAAAu9C,KAAAjqD,EAAA69E,MAAAnxE,EAAAu9C,KAAAv9C,EAAAuzB,QAAAgqB,OAEHv9C,EAAKu9C,KAAKt8C,MACRy7B,MAAO,cACPyc,MAAO,WACLn5C,EAAKoxE,mBAITpxE,EAAKu9C,KAAAt8C,MAELy7B,MAAO,kBACLyc,MAAK,WACJn5C,EAAA+gF,4BAKH/gF,EAAGuzB,QAAC5+B,SAAMqL,EAAAuzB,QAAA5+B,UAAAqL,EAAAuzB,QAAA3tB,WACL+E,OAAO,yBAAS,aAACq2E,uCAEvB,MAAA32E,GAAAw0E,GAAA,aAEO,SAAAxiE,GAaP,GAbDA,GACOrc,EAAAghF,mBAEHhhF,EA4CJ,SAlFU6gF,EAAA9gF,KAwCJ5J,UAAmBi7E,cAAQ,iBAC3B1gF,UACDwgF,2BAAAvlE,MACD0lE,YAAY,sBACXv1C,QACDtlB,KAAK9lB,KAAA6iC,QAAiB/c,KACtBuvD,aAAar1E,KAAA6iC,QAAewyC,aAC3Bkb,YAAA,GAGE3P,aAAA,4CACL,SAAa3vE,GACT3B,EAACuxE,WAAa5vE,EAAU6U,MAExBxW,EAACuzB,QAAAwyC,aAAiBpkE,EAAAokE,kBAavB5vE,UAAAo7E,WAAA,SAAA7+E,GATChC,KAAK6iC,QAAA/c,KAAAy7D,QAAsBv/E,EAAK0/E,WAC9B7+C,QAAA/c,KAAc07D,QAAKx/E,EAAQ2/E,WAC3B2O,oBAEe7qF,UAAG4qF,uBAAA,iBAChBrwF,gCACaib,MACfo6D,aAACr1E,KAAA6iC,QAAAwyC,aACAD,YAAAp1E,KAAA6iC,QAAA5+B,UACJ,SAAAusF,GAEOA,IAARlhF,EAAAuzB,QAKC5+B,SAAAusF,EAAAvsF,SAJMqL,EAAAuzB,QAAewyC,aAAMmb,EAAAC,gBAI5BN,EAAC1qF,UAAA6qF,eAAA,WACH,GAAAhhF,GAAAtP,IAnFqCA,MAAAowF,cAAA,EAsF/BpwF,KAAA6D,SAAqC,WACjCyL,EAAE8gF,cAAA,GACR,KAEFD,KACarP,iBACd4P,GAEDxzE,UACG2lB,QAAO,eAEXppB,WAAA02E,4YCrGA,QAAA/jF,KAAApM,KAAAqM,YAAAH,EAJDJ,EAAAI,EAAAC,GAKQD,EAAAzG,UAAyB,OAAd0G,EAAc/I,OAAAsG,OAAAyC,IAAAC,EAAA3G,UAAA0G,EAAA1G,UAAA,GAAA2G,8BAGQ5M,EAAA,cAAA8D,OAAe,UAOpD3C,EAAA,kCAHY,KACL,MAOiB,SAAA0O,WAGlBshF,GAAe92E,EAAAhW,MACjByL,GAAKD,EAAOrO,KAAKhB,OAAQA,IAU3B,OATAsP,GAACxH,OAAA,EAEDwH,EAAKshF,UAAYC,cAClBvhF,EAAAwhF,UAAAjtF,EAEMyL,EAAAuzB,UAAPvzB,EAAAu9C,KASCv9C,EAAAuzB,QAAAgqB,KAAAjqD,EAAA69E,MAAAnxE,EAAAu9C,KAAAv9C,EAAAuzB,QAAAgqB,MAAAv9C,EAAAu9C,MAPCv9C,EAAKyhF,eAEAzhF,EAiBP,SA9BOqhF,EAAqBthF,KAeX5J,UAAAo7E,WAAA,SAAA7+E,MACbsN,GAAKtP,IACPA,MAAG6iC,QAAK/c,KAAAy7D,QAAAv/E,EAAA0/E,MACT1hF,KAAA6iC,QAAA/c,KAAA07D,QAAAx/E,EAAA2/E,MAEO3hF,KAAA8H,OAAA,EACN9H,KAAK+wF,eACN/wF,KAAA8wF,UAAA,WACHxhF,EAAAxH,OAAA,GApCuC,MAwCrC6oF,EAAUlrF,UAAAsrF,aAAA,WACR/wF,KAAA4wF,UAAsB,GAAb5wF,KAAa6iC,QAAA/c,KAAAy7D,SAAA,GAAAvhF,KAAA6iC,QAAA/c,KAAA07D,QAAAwP,EAAAH,GAExBF,KACa7P,iBACdmQ,GAED/zE,UACG2lB,QAAO,eAEXppB,WAAAk3E,oDC1DAxvF,SAKC1B,OAAA,gBAKE0d,UAAa,oBAAY8zE,oCAKH,KAAK5gC,IAAA,SAAA1vD,EAAAlB,EAAAD,WAGtB0xF,GAAiBr3E,EAAAs3E,EAAAC,GAQvB,QAAAC,GAAAlJ,GAED,MAAAlzE,GAAA,SACS0H,SAAA,sBACLoa,OAAUoxD,GACNjiF,IAAE,GAXR,GAAAorF,GAAAzpE,SAAuB0pE,yBAAIjS,EAAAzlE,EAAA0Q,MAAA6mE,EAAAI,qBACzBtqE,QAAS,SAAQy+D,SACd0L,EAAS1L,EAAAgE,yBACTzhE,YAAY89D,KAEjBmL,EAACp6D,OAAAu6D,WAaCG,KACH,OAEM7mF,SAAA,IACJG,KAAO,SAAA8O,EAAAs3E,EAAyBC,GAChC,GAAUF,GAAmBr3E,EAAEs3E,EAAAC,8CCvCpC/lF,UAAA,oBAAsComF,QAAtCC,IAAA,SAAA/wF,EAAAlB,EAAAD,GAoCA,qBAWE8pF,GAAYj9E,EAAcu8E,EAAE/lD,EAAaxd,EAAA8iE,SAJlC,IAAA97E,GAAmBu8E,EAAC/lD,EAAAxd,EAAA8iE,GAL7B/kF,OAAAC,eAAA7D,EAAA,cAAA8D,OAAA,MAUIgmF,sBAAmBA,QACC,IACL,mBACVC,GAAYX,EAAA/lD,EAAAxd,EAAA8iE,GACjBnoF,KAAK2xF,aACL3xF,KAAK8jF,QAAS,EACd9jF,KAAK4oF,MAAAA,EACN5oF,KAAAskF,KAAAzhD,EAEM7iC,KAAAqlB,QAAAA,GAAA,EACLrlB,KAAKmoF,KAAMA,EACXnoF,KAAI2xF,kBACF7N,OAAKjhD,EAAYihD,SAAG,EACtB9jF,KAAC4xF,eAAAvsE,IAAAwsE,EA8cD,MA3cFtI,GAAC9jF,UAAAikF,QAAA,SAAA/D,GAIC,MAJA3lF,MAAA4oF,MAAAr4E,KAAAo1E,GAEK,IAAA3lF,KAAA4oF,MAAA3nF,QACLjB,KAAOwmF,eACPxmF,QAISyF,UAAKqsF,kBAAwB,SAAUC,EAAOC,GACvD,MAAChyF,MAAA2xF,UAAAI,GAAAC,MAEAvsF,UAAAwsF,SAAA,SAAAC,EAAA1Q,EAAAD,GACF,MAAAvhF,MAAA4xF,eAAC5xF,KAAAmyF,wBAAAD,EAAA1Q,EAAAD,GAIIvhF,KAAAoyF,yBAAgBF,EAAA1Q,EAAAD,MAMZ97E,UAAe2sF,yBAAmB,SAAAF,EAAA1Q,EAAAD,MAExC8Q,KAEAC,EAACJ,GAAAA,EAAAF,KAAA,EAACO,EAAMvyF,KAAAwyF,YAAAN,MACN,OAAsB,IAAtB1Q,EAAsB,IAEtBiR,GAAKzyF,KAAA2xF,UAAiB3/E,cAQtB,GAHHqgF,EAAAryF,KAAA0yF,QAAAD,EAAAF,EAAAD,EAAAtyF,KAAAqlB,UAGUgtE,EAAiB,CACpB,GAAAM,GAAe3yF,KAAQ4xF,eAAkB,EAAI,CAE9CS,GAAeryF,KAAA0yF,QAAAD,EAAAF,EAAAI,EAAA,EAAA3yF,KAAAqlB,iBAThBotE,EAAsB,GAAA,MAYf,IAATlR,GAA6B,IAApBC,EAAoB,IAC7BoR,GAASV,GAAkBA,EAAS/J,KAAEriE,MAAA,OAId,IAAtB8sE,EAAcrR,SAA0C,IAAlCqR,EAAkBpR,QACxCxhF,KAAAqlB,QAAeitE,EAAQ,EAAA,GACxBD,EAAAryF,KAAA8xF,kBAAAS,EAAAD,EAAA,GACFO,EAAA7yF,KAAA8xF,kBAAAS,EAAAD,EAAA,KAEGD,EAAiBryF,KAAK8xF,kBAAkBS,EAAW,EAAG,GACtDM,EAAkB7yF,KAAK8xF,kBAAkBS,EAAW,EAAG,IAEpC,IAAnBK,EAASrR,SAA8B,IAARqR,EAAQpR,UACrCuQ,IAAA,IAAiB,KACjB/xF,KAAkB8xF,kBAAKS,EAAkB,EAAQD,EAAU,GAC7DO,EAAC7yF,KAAA8xF,kBAAAS,EAAA,EAAAD,IAECtyF,KAAAqlB,QAAeitE,EAAQ,GAAA,GACxBD,EAAAryF,KAAA8xF,kBAAAS,EAAAD,EAAA,GACFO,EAAA7yF,KAAA8xF,kBAAAS,EAAAD,EAAA,KAEOD,EAAWryF,KAAW8xF,kBAASS,EAAA,EAAA,GACjCM,EAAgB7yF,KAAA8xF,kBAAyBS,EAAC,EAAA,IAGtC,IAANK,EAAMrR,SAAA,IAAAqR,EAAApR,eACNn8D,QAAAitE,EAAsB,GAAA,EACtBtyF,KAAA8yF,WAAeP,EAAQD,EAAA,IACxBD,EAAAryF,KAAA8xF,kBAAAS,EAAAD,EAAA,GACFO,EAAA7yF,KAAA8xF,kBAAAS,EAAAD,EAAA,KAECD,EAAkBryF,KAAK8xF,kBAAkBS,EAAYD,EAAK,GAC3DO,EAAA7yF,KAAA8xF,kBAAAS,EAAAD,EAAA,KAMHD,EAAsBryF,KAAA8xF,kBAA0BS,EAAW,EAAC,GAC5DM,EAAuB7yF,KAAA8xF,kBAA0BS,EAAM,EAAQ,QArC3DvyF,KAAkB8xF,kBAAKS,EAAkBD,GAC3CO,EAAC7yF,KAAA8xF,kBAAAS,EAAAD,EAAA,IA0DA,UAnBmB,IAAX9Q,GAA6B,IAAlBD,EAGZ,IAANC,GAAM,IAAAD,SACNl8D,QAAAitE,EAAsB,EAAA,EACtBtyF,KAAA8yF,WAAeP,EAAQD,EAAA,IACxBD,EAAAryF,KAAA8xF,kBAAAS,EAAAD,EAAA,GACFO,EAAA7yF,KAAA8xF,kBAAAS,EAAA,EAAAD,EAAA,KAECD,EAAkBryF,KAAK8xF,kBAAkBS,EAAYD,EAAK,GAC3DO,EAAA7yF,KAAA8xF,kBAAAS,EAAA,EAAAD,EAAA,KAKED,EAAiBryF,KAAA8xF,kBAAAS,EAAA,EAAA,GACpBM,EAAA7yF,KAAA8xF,kBAAAS,EAAA,EAAA,QAfIvyF,KAAc8xF,kBAAQS,EAAkBD,KACxCtyF,KAAe8xF,kBAAQS,EAAkB,EAAAD,EAAc,KAkBzDn5E,MAAMk5E,EAEN3zD,IAAKm0D,MAKHptF,UAAMitF,QAAA,SAAAK,EAAAR,EAAAD,EAAAjtE,SACP2sE,EAAAD,KACH/xF,KAAC4xF,eAAA,CAED,IAAAI,EAAWM,EAACN,EAAA3sE,EAAA2sE,IACb,IAAAe,EAAAR,GAAAP,GAAA7J,KAAA,CAGU6K,EAAQD,EAAER,GAAMP,EACjB,oBAKPA,EAAAM,EAAAN,EAAA3sE,EAAA2sE,IAAA,CAED,IAAID,EAAO,EAAAA,EAAA,EAAAA,IACT,IAAAgB,EAAOhB,EAAKQ,GAAAP,GAAA7J,KAAA,CACb6K,EAAAD,EAAAhB,EAAAQ,GAAAP,EACF,OAGI,GAAAgB,EACD,MAAAA,OAOIvtF,UAAe0sF,wBAAmB,SAAAD,EAAA1Q,EAAAD,MAExC8Q,KAEAE,EAACvyF,KAAAwyF,YAAAN,GAACI,EAAMJ,GAAAA,EAAAF,KAAA,KACN,OAAsB,IAAtBxQ,EAAsB,IAEtBiR,GAAKzyF,KAAA2xF,UAAiB3/E,cAOrB,GAFJqgF,EAAAryF,KAAA0yF,QAAAD,EAAAF,EAAAD,EAAAtyF,KAAAqlB,UAEYgtE,EAAG,CACd,GAAAM,GAAsB3yF,KAAA4xF,eAAkB,EAAQ,CAChDS,GAAuBryF,KAAA0yF,QAAAD,EAAkBF,EAAkBI,EAAS,EAAA3yF,KAAAqlB,iBAPhEotE,EAAsB,GAAA,GAmBvB,MATHP,GAKK,IAAA3Q,IACL8Q,EAAAryF,KAAA8xF,kBAAAS,EAAA,EAAA,GACHM,EAAA7yF,KAAA8xF,kBAAAS,EAAA/Q,EAAA,KANE6Q,EAAAryF,KAAA8xF,kBAAAS,EAAA,GAEDM,EAAO7yF,KAAA8xF,kBAAAS,EAAA/Q,EAAA,EAAA,KAOHroE,MAAAk5E,EAEA3zD,IAAKm0D,MAGCptF,UAAA+sF,YAAA,SAAAN,QAgBV,OAbQK,GADNvyF,KAAC4xF,eACFM,EAAOA,GAAAA,EAAAH,KAAA,EAGL,EAGFG,EAEeA,EAAAH,IAAA,IAAA,EAAAG,EAAAH,IAAAG,EAAAH,IAAA,EAGX,KAMKtsF,UAAAqtF,WAAA,SAAAf,EAAAC,GAEV,OAAKhyF,KAAA2xF,UAAkBI,GAAAC,GAAC7J,QAGnB1iF,UAAAwtF,aAAA,SAAAC,SAEHnzF,EAAIC,iBAEH2xF,UAAAzqE,QAAA,SAAA6qE,EAAAoB,GACA52E,EAAA3Z,EAAA4wB,UAAAzzB,EAAA4xF,UAAAwB,GAAA,SAAAH,GAEI,MAAKA,KAAUE,IACtB32E,KAAA,SAKa,EAAGA,EAAU,KAGrB9W,UAAA2tF,aAAA,SAAAj6E,EAAAulB,EAAAypD,QACFwJ,UAAEzqE,QAAA,SAAA6qE,GACFA,EAAA7qE,QAAA,SAAA8rE,GACJA,EAAAjB,KAAA54E,EAAA44E,KAAAiB,EAAAjB,KAAArzD,EAAAqzD,KAACiB,EAAAhB,KAAA74E,EAAA64E,KAAAgB,EAAAhB,KAAAtzD,EAAAszD,MAEKgB,EAAA7K,KAAAA,QAMPoB,EAAC9jF,UAAA4tF,cAAA,WAACrzF,KAAA2xF,UAAAzqE,QAAA,SAAA6qE,GAEKA,EAAA7qE,QAAA,SAAAy+D,GACAA,EAAAwC,KAAc,UAMdoB,EAAA9jF,UAAA6gF,oBAAP,SAAoBjhE,GAQlB,MAPArlB,MAAM4xF,eACJvsE,IAAYwsE,EAEd7xF,KAAIqlB,QAASA,EAIRrlB,QAKHyF,UAAc+gF,aAAkB,SAAA8M,cAuBnBC,SACV70E,MAAA,KAAAzS,MAAAsnF,IAAArsE,QAAA,WAEGnnB,EAAGslB,QAAUmuE,EAAU,IACvBC,IAGJD,EAAe,EACbzzF,EAAK4xF,UAAGphF,KAAAmjF,GACRA,SAEAt+E,GAAKq+E,EAAM1zF,EAAGukF,KAASa,YAAAsO,EAAAA,EAAA1zF,EAAAukF,KAAAhgE,OAAA,GAAAmI,EAAAxK,OACvBL,EAAK4xE,EAAIvQ,GAAAuQ,EAAAA,EAAAzzF,EAAAukF,KAAAhgE,OAAA,KACJ/T,MACJ6E,IAAAA,EAEHwM,KAASA,EACRqP,OAAA7b,EAAArV,EAAAukF,KAAAa,WACJn0D,MAAApP,EAAAqhE,EAEW8O,IAAA0B,EACbzB,IAAAwB,IAEMA,SA5CHzzF,GAAIC,KAASijF,EAAWqQ,GAAYtzF,KAAAskF,KAAArB,UAAAx2D,EAAA5E,SAAA8rE,cAAA,8BAAAjnE,0BAC9B,EAAA+mE,EAAY,EAAKC,IA8CzB,qCA5CKxsE,QAAA,SAAAy+D,EAAAppE,EAAAq3E,MAGDC,GAASlO,EAAM2H,YACPuG,EAAMtS,WACVtgF,SAAAsb,EAAmB,IACrBi3E,EAAGzzF,EAAAslB,SACJyuE,EAAA/zF,EAAAslB,QAAAmuE,GAEF,EAAAzzF,EAAA6oF,MAAA3nF,OAAAlB,EAAA4xF,UAAA1wF,QAEHgL,MAAAyS,MAAuB,KAAAzS,MAAY,EAAAlM,EAAA6oF,MAAA3nF,OAAAlB,EAAA4xF,UAAA1wF,SAAAimB,QAAA,WACrB4sE,EAAY/zF,EAAAslB,cAgCtBrlB,QAIHyF,UAAAihF,mBAAA,SAAAsD,EAAAC,GAED,GAEEiI,GAFEnyF,EAAOC,KACT+zF,EAAc,QAEd/J,IACAjqF,EAAIszF,qBAGJzK,MAAK1hE,QAAU,SAACy+D,GAChB,GACEqO,KAEA/xE,EAAEgyE,EAHAJ,EAASlO,EAAO2H,SA2CpB,qBAvCI,uBACD,IAADuG,EAACtS,SAICyS,EADE9B,GAAgB,IAAfA,EAAe/J,KAAAriE,KAAAy7D,SAAA,IAAA2Q,EAAA/J,KAAAriE,KAAA07D,QACVzhF,EAASkyF,SAASlyF,EAAA+xF,kBAAeI,EAAAH,IAAAG,EAAAF,IAAA,GAAA,EAAA,GAAA74E,MAIhCpZ,EAAUkyF,SAAAC,EAAA,EAAA,GAAA/4E,MAIrB6wE,IACDxuE,EAAAw4E,EAAAhjE,MAAAgjE,EAAApyE,KAASK,EAAS+xE,EAAQ/iE,OAAS+iE,EAAA5+E,KAElC88E,EAAS8B,EAETj0F,EAAKqzF,aAAaY,EAAEA,EAAArO,QAGnB,IAAAkO,EAAAtS,UAED0S,EAAQl0F,EAAGkyF,SAAUC,EAAA2B,EAAArS,QAAAqS,EAAAtS,SAErByS,EAAKC,EAAa96E,MAElB6wE,IACDxuE,EAAAy4E,EAAAv1D,IAAA1N,MAAAijE,EAAA96E,MAAAyI,KAIGK,EAAWgyE,EAAKv1D,IAAOzN,OAAAgjE,EAAA96E,MAAA/D,OAEjB6+E,EAAAv1D,MACN00D,aAAca,EAAI96E,MAAA86E,EAAAv1D,IAAAinD,MACjB,GAGJsE,IAAAtE,MAEGA,GAACoI,oBACCnsE,KAACoyE,EAAepyE,KACrBxM,IAAA4+E,EAAA5+E,OAMJ40E,GAACrE,EAAA4H,QAAA/xE,EAAAyG,OAGI0jE,GAAA6H,YAAewG,EAAYpyE,KAACoyE,EAAA5+E,QAG9BpV,QAIMyF,UAAekhF,oBAAc,cACnCuN,GAAeC,CACjB,OAAGn0F,MAAA4oF,MAAa3nF,UAKF2B,EAAAwxF,MAAKp0F,KAAM4oF,MAAK,SAAOjD,MACjCkO,GAAMlO,EAAgB,gBACtBkO,GAAOz+E,IAASy+E,EAAO5xE,SACtB,eAEHkmE,KAAKxgE,MAAK1F,OAAWiyE,EAAG9+E,IAAiB8+E,EAAGjyE,OAAkB,KAC/DjiB,KAAA8jF,SAEDqQ,EAAYvxF,EAAAwxF,MAAAp0F,KAAA4oF,MAAA,SAAAjD,GACb,GAAAkO,GAAAlO,EAAA,SAAC,OAAAkO,GAAAjyE,KAAAiyE,EAAAr4E,QAEK,UACCxb,KAAAmoF,KAASxgE,MAAOnM,MAAO24E,EAAOvyE,KAAKuyE,EAAA34E,MAAA,MAEtCxb,MAjBOA,MAoBXupF,EAAC9jF,UAAA4kF,cAAA,SAAAgK,GAEK,GAAAjK,GAAApqF,KAAA4oF,MAAAvvE,OAAA,SAAoBssE,GACzB,MAAW0O,KAAM1O,EAAAkG,kBAEbzB,GAAcnpF,OAAQmpF,EAAU,GAAA,QAI9B3kF,UAAYulF,qBAAyB,SAAQrV,EAASsU,GAC1D,MAAKjqF,MAAI4oF,MACZvvE,OAAA,SAAAssE,GAAC,GAAAkO,GAAAlO,EAAA2H,SAEK,OAAA3H,KAAAsE,GACG4J,EAACjyE,MAAe+zD,EAAO/zD,MAAM+zD,EAAA/zD,MAAAiyE,EAAAjyE,KAAAiyE,EAAAr4E,OACtCq4E,EAAAz+E,KAAAugE,EAAAvgE,KAAAugE,EAAAvgE,KAAAy+E,EAAAz+E,IAAAy+E,EAAA5xE,SAAC,IAAA,QAIMxc,UAAmBwlF,aAAe,SAAQtF,GAEhD,MAAK/iF,GAAA4wB,UAAaxzB,KAAA4oF,MAAAjD,IAIpB4D,EAAC9jF,UAAA2lF,UAAA,SAAAO,EAAA2I,GAAC,GAAAC,GAAA3xF,EAAA4wB,UAAAxzB,KAAA4oF,MAAA+C,GAEK6I,EAAA5xF,EAAA4wB,UAAUxzB,KAAjB4oF,MAAkB0L,SAChBt0F,MAAI4oF,MAAA/vE,OAAY07E,EAAA,GAEhBv0F,KAAK4oF,MAAM/vE,OAAO27E,EAAQ,EAAA7I,GACrB3rF,QAGFyF,UAAAmmF,WAAA,SAAAA,GACH,GAAG6I,EAQH,OANAz0F,MAAA4oF,MAAO1hE,QAAY,SAAAy+D,EAAAppE,EAAAqsE,GACpB,GAAAjD,IAAAiG,EAEM,MAFL6I,GAAA7L,EAAA/vE,OAAA0D,EAAA,GAAA,IAEK,IAGFk4E,KAIMhvF,UAAKqkF,kBAAA,SAAAxF,GACd,GAAC/nE,GAAA3Z,EAAA4wB,UAAAxzB,KAAA4oF,MAAA,SAAAjD,GAED,MAAOA,GAAM,eAAArB,GACb,OAAA/nE,MAAA,IACJvc,KAAA4oF,MAAArsE,GAAC0xE,WAAA3J,IAAA,IAMUiF,OAGLA,iBAAeA,UAEhB9pF,OAAA,2HChhBL0xD,IAAA,SAAAxwD,EAAAlB,EAA4BD,6GCC5BmB,EAAC,0BACG,+CAUa,GAAA+zF,qBAA6B,KAAA1iC,IAAA,SAAArxD,EAAAlB,EAAAD,sCAE7BA,EAAA,cAAoB8D,OAAiB,OAGvCqxF,GAAA,mBAECA,GAAAxR,EACAp4C,EAAAC,GAGJhrC,KAAI40F,cAAOzR,EAEXnjF,KAAI60F,UAAO9pD,OACP+pD,kBAAqB9pD,WAT7B7nC,SA0BC,eAAA,WAAA,sBAfYsC,UAAiB8+E,YAAU,SAAcJ,EAAA6B,EAAaJ,EAAKmP,MAIhE9jF,KAHIjR,KACPqrC,EAAA84C,EAAA94C,SAAA7F,EAAA2+C,EAAA3+C,YAAA7kB,EAAAwjE,EAAAxjE,QAGGA,EAAM,CACT,GAAAq0E,GAAAhP,EAAAhmF,KAAA40F,cAAA5O,GAAA7B,GAAAnkF,KAAA40F,cAAAvpD,GAAA84C,EAEG,OAAc,IAAd4Q,EACKnP,EAAA5lF,KAAiB60F,UAACG,GAAoBpP,GAAM5lF,KAAI60F,UAAAG,GACjDA,EAER,MAAC3pD,GAEMu6C,EAAO5lF,KAAA60F,UAAAxpD,GAAAu6C,GAAA5lF,KAAA60F,UAAAxpD,IAGX7F,GAECxlC,KAAA80F,kBAAiBtvD,GAAiB,GAAS+F,KAAK,SAAKZ,GAOpD15B,EAAU20E,EAAGt2E,EAAeulF,UAAIlqD,GAAci7C,GAAAt2E,EAAmBulF,UAAAlqD,KAGlE15B,MAEUxL,UAAYqpD,kBAAO,SAAAn1C,EAAA40C,GACjC,GAACppC,GAAAxL,EAAA6B,MAAA7B,EAAA6B,QAAA7B,EAAAw1C,YAAAjgC,EAAAvV,EAAAsI,OAAAtI,EAAAsI,SAAAtI,EAAAyc,aAAAg5B,GAAAb,EAAA,GAAAA,EAAA,GAAAggC,aAAAhgC,EAAAggC,eAAAhgC,EAAA/yC,MAAA6zC,GAAAd,EAAA,GAAAA,EAAA,GAAAigC,cAAAjgC,EAAAggC,eAAAhgC,EAAAtsC,OAAAqtC,EAAA,EAAAJ,IAAME,GAACjqC,EAAAkqC,EAAAngC,GACJogC,KAAYF,EAAWC,EAAgBngC,EAAiB/J,GAAmB,GAC3E+pC,EAAU,eAAgB,GAAKI,EAAS,KACxCJ,EAAkB,OAAI,GAAKhgC,EAAc,KACzCggC,EAAiB,MAAI,GAAKE,EAAAlgC,EAAsBmgC,EAAA,KAChDH,EAAU,cAAc,KAI/BI,KAAAD,EAAAD,EAAAjqC,EAAA+J,GAAA,GACLggC,EAAA,cAAC,GAAAI,EAAA,KAAAJ,EAAA,OAAA,GAAAG,EAAAlqC,EAAAiqC,EAAA,KAGKF,EAAY,MAAA,GAAmB/pC,EAAwB,KAClD+pC,EAAA,eAAA,IAEHj6C,EAAAs5C,GAAM9yC,IAAAyzC,oBAKmB11C,mBAElB,IACPzO,KAAC,SAAAxD,EAAAyD,EAAAC,GACJ,GAAA8a,GAAAvM,EAAAvO,EAAAgqF,aACJjqF,GAAA6rB,KAAA,OAAA,SAAAr1B,GAEMukB,EAAAxe,GACKgU,OAAe/Z,QC7F/B0zF,GAAA/xF,SAAA,UACAhC,QACA1B,OAAA,gBACAkX,QAAA,kBAAAg+E,GACAtpF,UAAA,eAAA6pF,QAGAnvC,IAAA,SAAAplD,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,+BACA,4lEAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,kCACA,mlDAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2CACA,wHAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,uCACA,oUAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,sDACA,yqBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2BACA,+lBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2BACA,sgDAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,wCACA,gkBAKA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,4BACA,6gCAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,0BACA,2xBAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,uCACA,uTAKA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,0BACA,0dAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,6CACA,s6CAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,2CACA,qLAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,6BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,kCACA,26BAIA,SAAA5d,GACA,IACAA,EAAA0B,QAAA1B,OAAA,0BACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA;;;CnOlMA,SAAAF,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAk1F,SAAA51F,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,+HCAAmB,EAAA,aACAA,EAAA,UAEAQ,QAAQ1B,OAAO,eACX,sBACA,qBAGJ2B,EAAAT,EAAA,4HmONA,IAAAy0F,GAAAz0F,EAAA,sCASA00F,EAAA,mBAKIA,GAwCC/wF,EAAAihE,EAAA+vB,EAAAh0F,EAAAuC,GAvCW,GAAAyL,GAAMtP,IAOdA,MAAKsE,OAASA,OACNy2D,KAAQn4D,EAAAyW,OAAOi8E,EAAcC,UAAU,SAAO/3D,MAC1CA,EAAA/iB,WAAW,KAAA+iB,EAAAkG,QAAAlG,EAAAkG,OAAApiC,EAAA,MAAAk8B,IACd,MAAAA,KAKTx9B,KAAK+6D,KAAAn4D,EAAQ4yF,OAAOx1F,KAAA+6D,KAAA,SACpB/6D,KAAIy1F,SAAY,GAAAL,GAA8BM,wBACd,aAA5B11F,KAAKsE,OAAA8wD,QAAetzD,KACvB9B,KAAA21F,WAAA31F,KAAAsE,OAAA8wD,QAAAtzD,MAC+B,aAAvB9B,KAAAsE,OAAW8wD,QAAAtzD,MAA4BwzF,EAAOM,gBACtD51F,KAAA21F,WAAAL,EAAAM,gBAAAjzF,SAEW,WACA2yF,EAAKM,iBACRtmF,EAAAqmF,WAAAL,EAAAM,gBAAAjzF,QAEI2yF,EAAKM,iBAAwBtmF,EAAOyrD,KAAA95D,OAAA,GACxCqO,EAAAqmF,WAAArmF,EAAAyrD,KAAA,GAAAp4D,SAKT4iE,EAAc7Y,KAAAI,WACdyY,EAAczZ,WAAQ1gD,KAAO,WAC7Bm6D,EAAcj4B,QAAOjyB,OAErBkqD,EAAK7b,OAAgBc,oBACjBqrC,iBAAK,SAAwBlzF,GAChC2M,EAAAwmF,mBAAAnzF,EAAAA,QA5CT,MAKI0yF,GAAAlyF,SACY,SACR,gBACA,cACA,aACiC,cAsChBsC,UAAUkwF,WAAW,SAAiBhzF,QACnD8yF,SAAUj4D,IAAM56B,EAAA4V,KAAKxY,KAAM+6D,KAAA,SAAAv9B,GAC5B,MAAAA,GAAA76B,QAAAA,IAEH3C,KAAKy1F,SAASM,SAAQnzF,EAAK6O,QAACzR,KAAA+6D,KAAA/6D,KAAAy1F,SAAAj4D,KAC5Bx9B,KAAKy1F,SAASO,MAAMrzF,EACvB3C,KAAAsE,OAAAvB,GAAA/C,KAAAy1F,SAAAO,UAGmBvwF,UAAOqwF,mBAAA,SAAAnzF,GAEvB3C,KAAI21F,WAAKhzF,GACL3C,KAAKy1F,SAASj4D,KACjBx9B,KAAAsE,OAAAvB,GAAAJ,IAER0yF,aAII51F,OAAA,gEC9EJw2F,qCAAA,IAAAzyF,GAAA,SAAA7C,EAAAlB,EAAAD,WAGY02F,GAAkB1xB,KAEf7hE,MAAM,YACNZ,IAAA,qBACAo0F,MAAA,EACAjzE,aAAa,KACdzJ,WAAA,4BAEV+rB,YAAA,6BATiBriC,SAAA,kBAarBhC,QAAA1B,OAAA,sDCfD,oBACI4D,eAAW7D,EAAA,cAAA8D,OAAA,YACX7D,OAAA,oBACA,YACA,sBACA,SACA,cACG,eAGP,iOCRA,oBAAA4D,eAAA7D,EAAA,cAAA8D,OAAA,UAEmC,mBACxB8yF,KACAp2F,KAAA+6D,QACA/6D,KAAAq2F,UAAqB,iBAC/Br2F,KAAAs2F,UAAA,KAADt2F,KAAAu2F,WAAC,EANY,MAAAH,iDCAb,oBAAA/yF,eAAA7D,EAAA,cAAA8D,OAAA,UAEgC,WAEhC,QAACoyF,KAAD11F,KAAA+1F,SAAA,EAJa,MAAAL,0DCDb,YAIAtyF,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,OAGIkzF,GAAA71F,EAAmB,sBACJ,WAEf,QAAC81F,GAAAtyF,GAEO,UACJnE,MAAAyf,QAAOtb,EA0DX,SA9DgBhB,SAAU,UAOnBszF,EAAAhxF,UAAAixF,iBAAP,SAAqB/zF,GACjB,MAAO,YAAUA,KAEZ8C,UAAAkxF,cAAA,SAAA70F,OACDc,EAAA4V,KAAMxY,KAAIyf,QAAMs7C,KAAA,SAAAv9B,GACnB,MAAAA,GAAA76B,QAAA,YAAAb,IAGJ,KAAA,IAAAjB,OAAA,wBAAAiB,EAAA,sBAED9B,MAAAyf,QAAAm3E,WAOC52F,KAAA02F,iBAAA50F,MAJa2D,UAAUmwF,cAAiB,cAElCgB,GADCtnF,EAAOtP,IAMX,OAJA42F,GAASh0F,EAAA4V,KAAUxY,KAAAyf,QAAYs7C,KAAA,SAAAv9B,GAClC,MAAAA,GAAA76B,QAAA2M,EAAAmQ,QAAAm3E,aAGOh0F,EAAAC,UAAe+zF,MAEVnxF,UAAQoxF,cAAiB,SAAAC,GAOlC,MANCA,KAED92F,KAAOyf,QAAK42E,UAAiBS,EAChC92F,KAAAyf,QAAA62E,UAAA,MAGOt2F,KAAAyf,QAAe42E,aAEV5wF,UAAQsxF,cAAiB,SAAAC,GAOlC,MANCA,KAEDh3F,KAAOyf,QAAK62E,UAAiBU,EAChCh3F,KAAAyf,QAAA42E,UAAA,MAGOr2F,KAAKyf,QAAS62E,aAEjB7wF,UAAAwxF,YAAA,SAAA3zF,GAMD,MAJY,QAAZA,GAA8ByR,SAAVzR,IACvBtD,KAAAyf,QAAA82E,YAAAjzF,GAGUtD,KAAEyf,QAAU82E,WAG3BE,EAAAhxF,UAAC8vF,QAAA,WAAA,MAAA3yF,GAAAC,UAAA7C,KAAAyf,QAAAs7C,OAMG07B,OAFkC,WAI3B,QAAAS,GAAA1yB,GACHxkE,KAAAwkE,eAAqBA,EACxBxkE,KAAAyf,QAAA,GAAA+2E,GAAAJ,qBAJ0Dc,GAAC/zF,SAAA,oBAOpDsC,UAAwBixF,iBAAA,SAAA/zF,GAE5B,MAAA,YAAoBA,KAEjB8C,UAAAmwF,cAAA,WAEH,GAAAgB,EAMA,OALHA,GAAAh0F,EAAA4V,KAAAxY,KAAAyf,QAAAs7C,KAAA,SAAAv9B,GAEM,MAAAA,GAAA76B,QAAAi0F,EAAPj0F,QAGSC,EAAAC,UAAY+zF,MAENnxF,UAAS0xF,OAAK,SAAcC,GACvC,GAAGC,MACHr3F,KAAIs3F,YAAaF,KACHx0F,EAAA4V,KAAMxY,KAAAyf,QAAAs7C,KAAA,SAA0Bv9B,GAC7C,MAAAA,GAAA76B,QAAA,YAAAy0F,EAAAz0F,QAIG,KAAK,IAAE9B,OAAO,wBAAKu2F,EAAAz0F,MAAA,gCAEnB8c,QAAQs7C,KAAMxqD,MACd5N,MAAO3C,KAAE02F,iBAAmBU,EAAKz0F,OACjCqpC,MAAAorD,EAAcprD,MACfzvB,MAAA66E,EAAA76E,OAAA,IACCmnB,OAAC0zD,EAAc1zD,OAGfjpB,QAAO28E,EAAK38E,WAAQ,EACpB88E,YAAK30F,EAAAC,UAAoBu0F,EAAOG,eAEvCv3F,KAAAwkE,eAAA7hE,MAAA3C,KAAA02F,iBAAAU,EAAAz0F,OAAAy0F,EAAAG,aAED,mBAAOv3F,MAAAyf,QAAAm3E,YAA0B,IAAA52F,KAAAyf,QAAAs7C,KAAA95D,QAEzBjB,KAAG22F,cAAUS,EAAYz0F,UAGnB8C,UAAUkxF,cAAA,SAA0B70F,GAC9C,IAACc,EAAA4V,KAAAxY,KAAAyf,QAAAs7C,KAAA,SAAAv9B,GAEG,MAACA,GAAQ76B,QAAU,YAAQb,IAU3B,KAAA,IAAAjB,OAAA,wBAARiB,EAAuC,4BAE/B2d,QAAMm3E,WAAU52F,KAAA02F,iBAAkB50F,MAG3B2D,UAAU6xF,YAAe,SAAUF,OAC1CA,IAAUx0F,EAAA4pC,SAAM4qD,GACnB,KAAA,IAAAv2F,OAAA,qBAGmB,OAAhBu2F,EAAMz0F,OAAU,KAAAy0F,EAAAz0F,MACnB,KAAA,IAAA9B,OAAA,yDAGGu2F,EAAM1zD,SAAU9gC,EAAAwX,WAAAg9E,EAAA1zD,QACnB,KAAA,IAAA7iC,OAAA,gCAGE,KAAAu2F,EAAAG,cAAA30F,EAAA4pC,SAAP4qD,EAAAG,aACQ,KAAA,IAAA12F,OAAe,yCAGlB4E,UAAAoxF,cAAA,SAAAC,SAEDA,KACH92F,KAAAyf,QAAA42E,UAAAS,EAEM92F,KAAAyf,QAAA62E,UAAA,MAECt2F,KAAKyf,QAAQ42E,aAEhB5wF,UAAAsxF,cAAA,SAAAC,SAEDA,KACHh3F,KAAAyf,QAAA62E,UAAAU,EAEMh3F,KAAAyf,QAAA42E,UAAA,MAECr2F,KAAKyf,QAAQ62E,aAGL7wF,UAAQwxF,YAAU,SAAA3zF,GAM9B,MALH,QAAAA,GAAAyR,SAAAzR,IAEMtD,KAAAyf,QAAA82E,YAAPjzF,GAGUtD,KAAMyf,QAAM82E,aAEjB9wF,UAAAW,KAAA,WAED,UAID,QAHFxD,EAAAkB,OAAA9D,KAAAiG,WAAArD,EAAAwN,YAAApQ,KAAAiG,aACLjG,KAAAiG,SAAC,GAAAwwF,GAAAz2F,KAAAyf,UAEMzf,KAAAiG,UAEFixF,0FC9LL,IAAA7vF,GAAA,SAAA1G,EAAAlB,EAAAD,uBAKC6D,eAAA7D,EAAA,cAAA8D,OAAA,OAADk0F,GAAA,WALA,QAKCA,KALYx3F,KAAAm2F,MAAA,2CCEbrtF,IAAA,SAAAnI,EAAAlB,EAAAD,uBAOA6D,eAAC7D,EAAA,cAAA8D,OAAA,GAAD,IAPAm0F,GAOC,WAPY,QAAAA,uECFb,SAAQr2F,GAAOsD,GAEf,IAAA,GAAAC,KAAAD,GAAAlF,EAA0BoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAE1BvB,OAAAC,eAAA7D,EAAA,cAA+B8D,OAAA,IAC/BnC,QAAA1B,OAAA,0BACAkB,EAAA,oBAEAA,EAAA,6BACAA,EAAA,yBACAA,EAAA,iBACAA,EAAA,gFCXAS,EAAAT,EAAA,0BACAS,EAAAT,EAAA,oBAEA+2F,mBAAA,EAAAC,4BAAA,EAAAC,oBAAA,EAAAC,wBAAA,EAAAC,gBAAA,KAAAjuF,IAAA,SAAAlJ,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,yBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,4BAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,yBACA;;;C7OZA,SAAA9d,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAA83F,KAAAx4F,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,W2BEa6Z,GAAAvP,SACcA,EAACE,IAAA,gBAEdF,EAAC5D,IAAI,gBAAA,WACP,UAAOgF,GACV,MAAAnB,GAAAA,EAAAoB,UAAAD,IAAAA,EAAAA,GANLmO,EAAAlW,SAAgB,qBAUR1D,OAAO,wBAElB4Z,OAAA,YAAAA,sG1BbAjW,OAAAC,eAAmB7D,EAAA,cAAA8D,OAAA,IACpB3C,EAAA,aAEAA,EAAQ,kBACJlB,OAAA,WACA,kBACD,gG6OJH2D,QAAAC,eAAA7D,EAAA,cAAA8D,OAAA,GASA,IAAA00F,GAAAr3F,EAAA,kCAKIs3F,EAAA,mBACYA,GAAoB5zF,EAAAC,EAAAhD,EAAAuC,EAAA0hE,EAAA2yB,GACpB,GAAA5oF,GAAMtP,IAOdA,MAAKqE,KAAOA,OACRC,OAAQA,YACA1B,EAAMyW,OAAK6+E,EAAA3C,UAAA,SAAA/3D,GACnB,GAACA,EAAA/iB,WAAA,EACF,MAAA+iB,KAKHx9B,KAAI+6D,KAAKn4D,EAAA4yF,OAAOx1F,KAAQ+6D,KAAI,cACxB06B,SAAK,GAAWuC,GAAoBG,oBACvC,SAAAn4F,KAAAsE,OAAA8wD,QAAAtzD,KAAK9B,KAAK21F,WAAW31F,KAACsE,OAAQ8wD,QAAStzD,MAEvC,SAAA9B,KAAAsE,OAAA8wD,QAAAtzD,MAAAo2F,EAAAtC,gBAAK51F,KAAE21F,WAAAuC,EAAAtC,gBAAAjzF,SAGI,WACHu1F,EAAAtC,iBACGtmF,EAACqmF,WAAQuC,EAAetC,gBAAajzF,QAExCu1F,EAAAtC,iBAAAtmF,EAAAyrD,MAAAzrD,EAAAyrD,KAAA95D,OAAA,GACFqO,EAAAqmF,WAAArmF,EAAAyrD,KAAA,GAAAp4D,SAKP4iE,EAAc7Y,KAAAI,WACdyY,EAAczZ,WAAO1gD,KAAA,OAErBm6D,EAAKj4B,QAAgBjyB,SACZquC,OAAAc,eACTxqD,KAAC61F,iBAAA,SAAAlzF,GACJ2M,EAAAwmF,mBAAAnzF,EAAAA,QAqBL,SA9DIQ,SAyCC,OAAA,SAAA,aAAA,WAAA,gBAAA,aAIkBsC,UAAUkwF,WAAM,SAAAhzF,GAC/B3C,KAAGy1F,SAAAj4D,IAAA56B,EAAA4V,KAAAxY,KAAA+6D,KAAA,SAAAv9B,GACC,MAACA,GAAS76B,QAAWA,IAGzB3C,KAAKy1F,SAASM,SAAMnzF,EAAA6O,QAAezR,KAAC+6D,KAAA/6D,KAAAy1F,SAAAj4D,KACvCx9B,KAAAy1F,SAAAO,MAAArzF,EAEM3C,KAAAsE,OAAAvB,GAAA/C,KAAAy1F,SAAAO,UAGMvwF,UAAeqwF,mBAAA,SAAAnzF,QACpBgzF,WAAYhzF,GACf3C,KAAAy1F,SAAAj4D,KACJx9B,KAAAsE,OAAAvB,GAAAJ,IAGEs1F,6GC7EH,IAAiC19E,GAAA,SAAc5Z,EAAAlB,EAAAD,WAGnC44F,GAAqB5zB,KAErB7hE,MAAA,QACAZ,IAAA,iBACAo0F,MAAA,EACDjzE,aAAA,QACVzJ,WAAA,wBAEO+rB,YAAO,yBATQriC,SAAA,gETH3BsB,GAAQ,SAAO9D,EAAAlB,EAAgBD,uBAE3B6D,eAAiB7D,EAAA,cAAA8D,OAAA,YACjB7D,OAAQ,gBACR,YACA,kBACA,SACG,cAEP,eACA,8DURA44F,aAAA,EAAAC,mBAAA,IAAAvzF,GAAA,SAAApE,EAAAlB,EAAAD,sCAE+BA,EAAC,cAAA8D,OAAA,UACrB,mBACAi1F,KACAv4F,KAAA+6D,QACV/6D,KAAAq2F,UAAA,iBAADr2F,KAAAs2F,UAAC,KAAAt2F,KAAAu2F,WAAA,kCCNDl1E,GAAA,SAAA1gB,EAAAlB,EAAAD,uBAIC6D,eAAA7D,EAAA,cAAA8D,OAAA,OAAD60F,GAAA,WAJA,QAICA,+CCNDhxF,GAAA,SAAAxG,EAAAlB,EAAAD,GAKA,oBAEI6D,eAAA7D,EAA2B,cAAmB8D,OAAA,UAC/B3C,EAAA,kBADY,WAInB,QAAA63F,GAAA/4E,GACJ,UACHzf,MAAAyf,QAAAA,QAJD+4E,GAACr1F,SAAA,aAOUsC,UAAUixF,iBAAc,SAAI/zF,SAC/B,QAAWA,KAEX8C,UAAUkxF,cAAM,SAAuB70F,GAC3C,IAACc,EAAA4V,KAAAxY,KAAAyf,QAAAs7C,KAAA,SAAAv9B,GAEG,MAACA,GAAQ76B,QAAU,QAAQb,IAG5B,KAAA,IAAAjB,OAAA,wBAAPiB,EAAA,sBACI9B,MAAIyf,QAAAm3E,WAAoB52F,KAAA02F,iBAAA50F,MAEpB2D,UAAcmwF,cAAU,WAC5B,GACAgB,GADGtnF,EAAAtP,WAEN42F,GAAAh0F,EAAA4V,KAAAxY,KAAAyf,QAAAs7C,KAAA,SAAAp2D,GAEM,MAAAA,GAAAhC,QAAA2M,EAAAmQ,QAAPm3E,aAEQh0F,EAAKC,UAAQ+zF,MAEhBnxF,UAAAoxF,cAAA,SAAAC,SAEDA,KACH92F,KAAAyf,QAAA42E,UAAAS,EAEM92F,KAAAyf,QAAA62E,UAAA,MAECt2F,KAAKyf,QAAQ42E,aAEhB5wF,UAAAsxF,cAAA,SAAAC,SAEDA,KACHh3F,KAAAyf,QAAA62E,UAAAU,EAEMh3F,KAAAyf,QAAA42E,UAAW,MAEVr2F,KAAKyf,QAAQ62E,aAGV7wF,UAAKwxF,YAAkB,SAAA3zF,GAKjC,MAJA,QAAAA,GAAAyR,SAAAzR,IAEMtD,KAAAyf,QAAA82E,YAAPjzF,GAECtD,KAAAyf,QAAA82E,WAxDLiC,EA0DC/yF,UAAA8vF,QAAA,WAED,MAAA3yF,GAAAC,UAAA7C,KAAAyf,QAAAs7C,OAIwBy9B,KAAwCC,EAAC,mBAGzDA,GAAiBj0B,GACpBxkE,KAAAwkE,eAAAA,EAEMxkE,KAAAyf,QAAA,GAAAi5E,GAAaH,iBAJbE,GAAAt1F,SAAA,oBAKCsC,UAAoBixF,iBAAA,SAAA/zF,GAExB,MAAA,QAAeA,KAEZ8C,UAAAmwF,cAAA,WAEH,GACHgB,GADGtnF,EAAStP,IAMT,OAHG42F,GAAAh0F,EAAA4V,KAAAxY,KAAMyf,QAAbs7C,KAAc,SAAep2D,GACrB,MAAAA,GAAAhC,QAAqB2M,EAAAmQ,QAAAm3E,aAEzBh0F,EAAAC,UAAgB+zF,MAEbnxF,UAAA0xF,OAAA,SAAAC,GACH,GAAIC,WACAC,YAAUF,GACdC,EAACz0F,EAAA4V,KAAAxY,KAAAyf,QAAAs7C,KAAA,SAAAp2D,GAEG,MAACA,GAAQhC,QAAU,QAAAy0F,EAAAz0F,QAGnB,KAAK,IAAE9B,OAAO,wBAAeu2F,EAAAz0F,MAAA,gCAE7B8c,QAASs7C,KAAAxqD,MACT5N,MAAA3C,KAAW02F,iBAAcU,EAAOz0F,OACjCqpC,MAAAorD,EAAAprD,MACCzvB,MAAC66E,EAAA76E,OAAqB,IAGtBmnB,OAAQ0zD,EAAC1zD,OACTjpB,QAAK28E,EAAA38E,WAAqB,EAC7B88E,YAAA30F,EAAAC,UAAAu0F,EAAAG,eAGEv3F,KAAAwkE,eAAA7hE,MAAA3C,KAAA02F,iBAAcU,EAAYz0F,OAAAy0F,EAAAG,aAElB30F,EAACwN,YAAapQ,KAAIyf,QAAEm3E,YAAa,IAAA52F,KAAAyf,QAAAs7C,KAAA95D,QACxCjB,KAAA22F,cAAgBS,EAAKz0F,UAGxB8C,UAAAkxF,cAAA,SAAA70F,GAED,IAAKc,EAAA4V,KAAOxY,KAACyf,QAAUs7C,KAAQ,SAAAv9B,GAGlC,MAAAA,GAAA76B,QAAA,QAAAb,IAQO,KAAC,IAAMjB,OAAO,wBAAmBiB,EAAA,sBAErC9B,MAACyf,QAAAm3E,WAAA52F,KAAA02F,iBAAA50F,MAGG2D,UAAe6xF,YAAC,SAAAF,GACpB,IAACA,IAAAx0F,EAAA4pC,SAAA4qD,GAEG,KAAM,IAACv2F,OAAM,iBAEjB,IAAC,OAAAu2F,EAAAz0F,OAAA,KAAAy0F,EAAAz0F,MAEG,KAAC,IAAO9B,OAAA,qDAEZ,IAACu2F,EAAA1zD,SAAA9gC,EAAAwX,WAAAg9E,EAAA1zD,QACJ,KAAA,IAAA7iC,OAAA,gCAGG,KAAIu2F,EAAAG,cAAe30F,EAAA4pC,SAAA4qD,EAAAG,aACf,KAAK,IAAA12F,OAAQ,yCAIV4E,UAAYoxF,cAAW,SAAAC,SACjCA,KAEM92F,KAAAyf,QAAA42E,UAAAS,EACC92F,KAAAyf,QAAa62E,UAAE,MAEft2F,KAAKyf,QAAQ42E,aAGV5wF,UAAYsxF,cAAW,SAAAC,GAM9B,MALHA,KAEMh3F,KAAAyf,QAAA62E,UAAAU,EACCh3F,KAAGyf,QAAO42E,UAAa,MAE1Br2F,KAAAyf,QAAA62E,WAGLmC,EAAChzF,UAAAwxF,YAAA,SAAA3zF,SAEMV,GAAAkB,OAAAR,IAAIV,EAAXwN,YAAA9M,KACItD,KAAAyf,QAAW82E,YAAAjzF,GAGPtD,KAAKyf,QAAW82E,aAGb9wF,UAAKW,KAAS,WACxB,UAKA,QAJLxD,EAAAkB,OAAA9D,KAACiG,WAAArD,EAAAwN,YAAApQ,KAAAiG,aAAAjG,KAAAiG,SAAA,GAAAuyF,GAAAx4F,KAAAyf,UAIWzf,KAAAiG,iDC1LZI,SAAA,UAAAoyF,oBAEe,IAAYpxF,GAAK,SAAC1G,EAAAlB,EAAAD,uBAGjC6D,eAAA7D,EAAC,cAAA8D,OAAA,GAAD,IALAq1F,GAKC,WALY,QAAAA,6BCEbn5F,GAAAm5F,gBAAAA,OAOC7vF,IAAA,SAAAnI,EAAAlB,EAAAD,eAAD4D,QAACC,eAAA7D,EAAA,cAAA8D,OAAA,GAPY,IAAAs1F,GAAA,iKRFb,qBACKx3F,GAAOsD,GAEZ,IAAA,GAAAC,KAAAD,GAAsBlF,EAAAoF,eAAAD,KAAAnF,EAAAmF,GAAAD,EAAAC,IAEtBvB,OAAAC,eAAmB7D,EAAA,cAAA8D,OAAA,IACnBnC,QACA1B,OAAA,sBAEAkB,EAAA,gBACAA,EAAA,yBACAA,EAAA,aACAA,EAAA,6DSZAS,EAAAT,EAAA,0BACAS,EAAAT,EAAA,cACAS,EAAAT,EAAA,wBAEAk4F,eAAA,EAAAC,wBAAA,EAAAC,gBAAA,EAAAC,oBAAA,EAAAC,YAAA,KAAA1uF,IAAA,SAAA5J,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,qBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,wBAEAA,EAAA8D,KAAA,iBAAA,SAAA6Z,GACAA,EAAAC,IAAA,qBACA","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","﻿import './service';\nimport './page';\n\nangular.module('pipHelp', [\n    'pipHelp.Service',\n    'pipHelp.Page'\n]);\n\nexport * from './service';\n","export let StateVar: string = \"$state\";\nexport let PrevStateVar: string = \"$prevState\";\n\n// Run function to set CurrentState and PreviousState global variables\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n\n            let CurrentState = {\n                name: toState.name, \n                url: toState.url, \n                params: toParams\n            };\n\n            let PreviousState = {\n                name: fromState.name, \n                url: fromState.url, \n                params: fromParams\n            };\n        // Record current and previous state\n        $rootScope[StateVar] = CurrentState;\n        $rootScope[PrevStateVar] = PreviousState;            \n        }\n    );\n\n}\n\n// Decorator function to modify $state service by adding goBack and goBackAndSelect methods\nfunction decorateBackStateService($delegate: any, $window: ng.IWindowService, $rootScope: ng.IRootScopeService): any {\n    \"ngInject\";\n\n    $delegate.goBack = goBack;\n    $delegate.goBackAndSelect = goBackAndSelect;\n\n    return $delegate;\n    //////////////////////////////////////////////////\n\n    function goBack(): void {\n        $window.history.back()\n    }\n\n    function goBackAndSelect(params: any): void {\n        // todo: define end fix PreviousState\n        if (!!$rootScope[StateVar] && !!$rootScope[PrevStateVar]) {\n\n            let state = _.cloneDeep($rootScope[PrevStateVar]);\n\n            // Override selected parameters\n            state.params = _.extend(state.params, params);\n\n            $delegate.go(state.name, state.params);\n        } else {\n            $window.history.back();\n        }\n    }\n}\n\n// Config function to decorate $state service\nfunction addBackStateDecorator($provide) {\n    $provide.decorator('$state', decorateBackStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addBackStateDecorator)\n    .run(captureStateTranslations);\n    ","let RedirectedStates: any = {};\n\n// Decorator function to add $stateProvider redirect method\nfunction decorateRedirectStateProvider($delegate) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n\n    return $delegate;\n    /////////////////////////////////////////////\n\n    // Specify automatic redirect from one state to another\n    function redirect(fromState, toState) {\n        RedirectedStates[fromState] = toState;  \n        return this;\n    }\n}\n\n// Config function to decorate $state provider\nfunction addRedirectStateProviderDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateProvider);\n}\n\n// Decorator function to add redirect method to $state service\nfunction decorateRedirectStateService($delegate, $timeout) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n    \n    return $delegate;\n    ////////////////////////////////\n    \n    // Todo: Move this code directly to event handler?\n    // Todo: Nothing calls this code!!\n    function redirect(event, state, params) {\n        let toState = RedirectedStates[state.name];\n        if (_.isFunction(toState)) {\n            toState = toState(state.name, params);\n\n            if (_.isNull(toState))\n                throw new Error('Redirected toState cannot be null');\n        }\n\n        if (!!toState) {\n            $timeout(() => {\n                event.preventDefault();\n                $delegate.transitionTo(toState, params, {location: 'replace'});\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\n// Config function to decorate $state service\nfunction addRedirectStateDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addRedirectStateProviderDecorator)\n    .config(addRedirectStateDecorator);\n    ","export let RoutingVar: string = \"$routing\";\n\nfunction hookRoutingEvents(\n    $rootScope: ng.IRootScopeService,\n    $log: ng.ILogService,\n    $state: ng.ui.IStateService\n) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeStart',\n        (event, toState, toParams, fromState, fromParams) => {\n            $rootScope[RoutingVar] = true;\n        }\n    );\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;                \n        }\n    );\n\n    // Intercept route error\n    $rootScope.$on('$stateChangeError',\n        (event, toState, toParams, fromState, fromParams, error) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;\n\n            $log.error('Error while switching route to ' + toState.name);\n            $log.error(error);\n        }\n    );\n\n}\n\nangular\n    .module('pipRouting')\n    .run(hookRoutingEvents);\n    ","angular.module('pipRouting', ['ui.router']);\n\nimport './BackDecorator';\nimport './RedirectDecorator';\nimport './RoutingEvents';\n\nexport * from './BackDecorator';\nexport * from './RoutingEvents';\n","import { IIdentityService, IIdentityProvider } from './IIdentityService';\n\nexport let IdentityRootVar = \"$identity\";\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\n\nclass IdentityService implements IIdentityService {\n    private _identity: any;\n    private _setRootVar: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean,\n        identity: any,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._identity = identity;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n\n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[IdentityRootVar] = this._identity;\n    }\n\n    public get identity(): any {\n        return this._identity;\n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n        this.setRootVar();\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\n\n        let identity: any = value || {};\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\n    }\n}\n\nclass IdentityProvider implements IdentityProvider {\n    private _setRootVar = true;\n    private _identity: any = null;\n    private _service: IdentityService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get identity(): any {\n        return this._identity;  \n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\n\n        return this._service;\n    }\n\n}\n\nangular\n    .module('pipSession')\n    .provider('pipIdentity', IdentityProvider);\n","import { ISessionService, ISessionProvider } from './ISessionService';\n\nexport const SessionRootVar = \"$session\";\nexport const SessionOpenedEvent = \"pipSessionOpened\";\nexport const SessionClosedEvent = \"pipSessionClosed\";\n\nclass SessionService implements ISessionService {\n    private _setRootVar: boolean;\n    private _session: any;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean, \n        session: any, \n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._session = session;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n    \n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[SessionRootVar] = this._session;\n    }\n\n    public get session(): any {\n        return this._session;\n    }\n\n    public isOpened(): boolean {\n        return this._session != null;\n    }\n\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\n        if (session == null)\n            throw new Error(\"Session cannot be null\");\n\n        this._session = session;\n        this.setRootVar();\n        this._rootScope.$emit(SessionOpenedEvent, session);\n\n        this._log.debug(\"Opened session \" + session);\n    }\n\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\n        let oldSession = this._session;\n\n        this._session = null;\n        this.setRootVar();\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\n\n        this._log.debug(\"Closed session \" + oldSession);\n    }\n}\n\nclass SessionProvider implements ISessionProvider {\n    private _setRootVar = true;\n    private _session: any = null;\n    private _service: SessionService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get session(): any {\n        return this._session;  \n    }\n\n    public set session(value: any) {\n        this._session = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipSession')\n    .provider('pipSession', SessionProvider); \n","angular.module('pipSession', []);\n\nimport './IdentityService';\nimport './SessionService';\n\nexport * from './IIdentity';\nexport * from './IIdentityService';\nexport * from './IdentityService';\n\nexport * from './ISessionService';\nexport * from './SessionService';\n","import { TransactionError } from './TransactionError'\n\nexport class Transaction {\n    private _scope: string = null;\n    private _id: string = null;\n    private _operation: string = null;\n    private _error: TransactionError = new TransactionError();\n    private _progress: number = 0;\n\n    public constructor(scope: string) {\n        this._scope = scope;\n    }\n\n    public get scope(): string {\n        return this._scope;\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public get operation(): string {\n        return this._operation;\n    }\n\n    public get progress(): number {\n        return this._progress;\n    }\n\n    public get error(): TransactionError {\n        return this._error;\n    }\n\n    public get errorMessage(): string {\n        return this._error.message;\n    }\n\n    public reset(): void {\n        this._id = null;\n        this._operation = null;\n        this._progress = 0;\n        this._error.reset();\n    }\n\n    public busy(): boolean {\n        return this._id != null;\n    }\n\n    public failed(): boolean {\n        return !this._error.empty();\n    }\n\n    public aborted(id: string): boolean {\n        return this._id != id;\n    }\n\n    public begin(operation: string): string {\n        // Transaction is already running\n        if (this._id != null) return null;\n\n        this._id = new Date().getTime().toString();\n        this._operation = operation || 'PROCESSING'\n        this._error.reset();\n\n        return this._id;\n    }\n\n    public update(progress: number): void {\n        this._progress = Math.max(progress, 100);\n    }\n\n    public abort(): void {\n        this._id = null;\n        this._error.reset();\n    }\n\n    public end(error?: any): void {\n        this._error.decode(error);\n        this._id = null;\n    }\n}\n","export class TransactionError {\n    public code: string;\n    public message: string;\n    public details: any;\n    public cause: string;\n    public stack_trace: string;\n\n    public constructor(error?: any) {\n        if (error != null)\n            this.decode(error);\n    }\n\n    public reset(): void {\n        this.code = null;\n        this.message = null;\n        this.details = null;\n        this.cause = null;\n        this.stack_trace = null;\n    }\n\n    public empty(): boolean {\n        return this.message = null && this.code == null;\n    }\n\n    public decode(error: any): void {\n        this.reset();\n\n        if (error == null) return;\n\n        // Process regular messages\n        if (error.message) {\n            this.message = error.message;\n        }\n\n        // Process server application errors\n        if (error.data) {\n            if (error.data.code) { \n                // process server error codes here\n                this.message = this.message || 'ERROR_' + error.data.code;\n                this.code = this.code || error.data.code;\n            }\n\n            if (error.data.message) {\n                this.message = this.message || error.data.message;\n            }\n\n            this.message = this.message || error.data;\n            this.details = this.details || error.data;\n\n            this.cause = error.data.cause;\n            this.stack_trace = error.data.stack_trace;\n            this.details = error.data.details;            \n        }\n\n        // Process standard HTTP errors\n        if (error.statusText) {\n            this.message = this.message || error.statusText;\n        }\n        if (error.status) {\n            this.message = this.message || 'ERROR_' + error.status;\n            this.code = this.code || error.status;\n        }\n        \n        this.message = this.message || error;\n        this.details = this.details || error;\n    }\n}\n","import { Transaction } from './Transaction';\nimport { ITransactionService } from './ITransactionService';\n\nclass TransactionService implements ITransactionService {\n    private _transactions: Transaction = <Transaction>{};\n\n    public constructor() {}\n\n    public create(scope?: string): Transaction {\n        let transaction: Transaction = new Transaction(scope);\n        \n        if (scope != null)\n            this._transactions[scope] = transaction;\n\n        return transaction;\n    }\n\n    public get(scope?: string): Transaction {\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\n\n        if (transaction == null) {\n            transaction = new Transaction(scope);\n            if (scope != null)\n                this._transactions[scope] = transaction;\n        }\n\n        return transaction;\n    }\n}\n\nangular\n    .module('pipTransaction')\n    .service('pipTransaction', TransactionService);\n","import { ITranslateService } from '../translate/ITranslateService';\n\nfunction configureTransactionStrings($injector: ng.auto.IInjectorService) {\n    \"ngInject\";\n\n    let pipTranslate: ITranslateService = $injector.has('pipTranslateProvider') \n        ? <ITranslateService>$injector.get('pipTranslateProvider') : null;\n\n    if (pipTranslate) {\n        pipTranslate.setTranslations('en', {\n            'ENTERING': 'Entering...',\n            'PROCESSING': 'Processing...',\n            'LOADING': 'Loading...',\n            'SAVING': 'Saving...'\n        });\n\n        pipTranslate.setTranslations('ru', {\n            'ENTERING': 'Вход в систему...',\n            'PROCESSING': 'Обрабатывается...',\n            'LOADING': 'Загружается...',\n            'SAVING': 'Сохраняется...'\n        });   \n    }\n    \n}\n\nangular\n    .module('pipTransaction')\n    .config(configureTransactionStrings);\n","angular.module('pipTransaction', []);\n\nimport './TransactionStrings';\nimport './TransactionError';\nimport './Transaction';\nimport './TransactionService';\n\nexport * from './TransactionError';\nexport * from './Transaction';\nexport * from './ITransactionService';\n","import { ITranslateService } from '../translate/ITranslateService';\n\nfunction translateDirective(pipTranslate): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslate',\n            key2: '@key'\n        },\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\n            let key: string = scope.key1 || scope.key2;\n            let value: string = pipTranslate.translate(key);\n            element.text(value);\n        }\n    };\n}\n\nfunction translateHtmlDirective(pipTranslate: ITranslateService): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslateHtml',\n            key2: '@key'\n        },\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\n            let key: string = scope.key1 || scope.key2;\n            let value: string = pipTranslate.translate(key);\n            element.html(value);\n        }\n    };\n}\n\nangular\n    .module('pipTranslate')\n    .directive('pipTranslate', translateDirective)\n    .directive('pipTranslateHtml', translateHtmlDirective);\n","import { ITranslateService } from './ITranslateService';\n\nfunction translateFilter(pipTranslate: ITranslateService) {\n    \"ngInject\";\n\n    return function (key: string) {\n        return pipTranslate.translate(key) || key;\n    }\n}\n\nfunction optionalTranslateFilter($injector: ng.auto.IInjectorService) {\n    \"ngInject\";\n\n    let pipTranslate: ITranslateService = $injector.has('pipTranslate') \n        ? <ITranslateService>$injector.get('pipTranslate') : null;\n\n    return function (key: string) {\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\n    }\n}\n\nangular\n    .module('pipTranslate')\n    .filter('translate', translateFilter);\n","﻿import { Translation } from './Translation';\nimport { ResetPageEvent } from '../utilities/PageResetService';\nimport { ITranslateService, ITranslateProvider } from './ITranslateService';\n\nexport let LanguageRootVar = \"$language\";\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \n\nclass TranslateService implements ITranslateService {\n    private _translation: Translation;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _window: ng.IWindowService;\n    private _mdDateLocale: angular.material.IDateLocaleProvider;\n\n    public constructor(\n        translation: Translation,\n        setRootVar: boolean,\n        persist: boolean,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService,\n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._translation = translation;\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._window = $window;\n        this._mdDateLocale = $mdDateLocale;\n\n        if (this._persist && this._window.localStorage)\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\n\n        this._log.debug(\"Set language to \" + this._translation.language);\n\n        this.save();\n    }\n\n    private changeLocale(locale: string) {\n        if (!locale) return;\n\n        // var localeDate: moment.MomentLanguageData;\n        var localeDate: any;\n\n        moment.locale(locale);\n        localeDate = moment.localeData();\n\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\n    }\n\n    private save(): void {\n        if (this._setRootVar)\n            this._rootScope[LanguageRootVar] = this._translation.language;\n\n        if (this._persist && this._window.localStorage != null)\n            this._window.localStorage.setItem('language', this._translation.language);\n    }\n\n    public get language(): string {\n        return this._translation.language;\n    }\n\n    public set language(value: string) {\n        if (value != this._translation.language) {\n            this._translation.language = value;\n            \n            this._log.debug(\"Changing language to \" + value);\n\n            this.changeLocale(this._translation.language);\n            this.save();   \n\n            this._rootScope.$emit(LanguageChangedEvent, value);\n            this._rootScope.$emit(ResetPageEvent);\n        }\n    }\n\n    public use(language: string): string {\n        if (language != null)\n            this.language = language;\n        return this.language;\n    }\n\n    public setTranslations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translate(key: string): string {\n        return this._translation.translate(key);\n    }\n\n    public translateArray(keys: string[]): string[] {\n        return this._translation.translateArray(keys);\n    }\n    \n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateSet(keys, keyProp, valueProp);\n    }\n\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateObjects(items, keyProp, valueProp);\n    }\n\n    public translateWithPrefix(prefix: string, key: string) {\n        return this._translation.translateWithPrefix(prefix, key);\n    }\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\n    }\n\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\n    }\n}\n\nclass TranslateProvider extends Translation implements ITranslateProvider {\n    private _translation: Translation;\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: TranslateService;\n    \n    public constructor() {\n        super();\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null) \n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\n\n        return this._service;\n    }\n}\n\nfunction initTranslate(pipTranslate: ITranslateService) {\n    pipTranslate.language;\n}\n\nangular\n    .module('pipTranslate')\n    .provider('pipTranslate', TranslateProvider)\n    .run(initTranslate);\n","export class Translation {\n    protected _language: string = 'en';\n    protected _translations = {\n        en: {\n            'en': 'English',\n            'ru': 'Russian',\n            'es': 'Spanish',\n            'pt': 'Portuguese',\n            'de': 'German',\n            'fr': 'French'\n        },\n        ru: {\n            'en': 'Английский',\n            'ru': 'Русский',\n            'es': 'Испанский',\n            'pt': 'Португальский',\n            'de': 'Немецкий',\n            'fr': 'Французский'\n        }\n    };\n\n    public constructor() {}\n\n    public get language(): string { return this._language; }\n    public set language(value: string) { this._language = value; }\n\n    public use(language: string): string {\n        if (language != null)\n            this._language = language;\n        return this._language;\n    }\n\n    // Set translation strings for specific language\n    public setTranslations(language: string, translations: any): void {\n        let map = this._translations[language] || {};\n        this._translations[language] = _.extend(map, translations);\n    }\n\n    // Yet another method to set translation strings for specific language\n    public translations(language: string, translations: any): void {\n        this.setTranslations(language, translations);\n    }\n\n    // Translate a string by key using set language\n    public translate(key: string): string {\n        if (_.isNull(key) || _.isUndefined(key)) return '';\n\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    }\n\n    // Translate an array of strings\n    public translateArray(keys: string[]): string[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        let values: string[] = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (k: string) {\n            let key = k || '';\n            values.push(translations[key] || key);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings into array of objects (set)\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values: any[] = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate a collection of objects\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(items) || items.length == 0) return [];\n\n        keyProp = keyProp || 'name';\n        valueProp = valueProp || 'nameLocal';\n\n        let translations = this._translations[this._language] || {};\n\n        _.each(items, function (item: any) {\n            let key = item[keyProp] || '';\n\n            item[valueProp] = translations[key] || key;\n        });\n\n        return items;\n    }\n\n    // Translate a string by key  with prefix using set language todo\n    public translateWithPrefix(prefix: string, key: string) {\n        prefix = prefix ? prefix + '_' : '';\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\n        if (key == null) return '';\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    };\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {}; \n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + '_' + key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\n\n            values.push(value);\n        });\n\n        return values;\n    }\n}\n","angular.module('pipTranslate', []);\n\nimport './Translation';\nimport './TranslateService';\nimport './TranslateFilter';\nimport './TranslateDirective';\n\nexport * from './Translation';\nexport * from './ITranslateService';\nexport * from './TranslateService';\n","import { ICodes } from './ICodes';\n\nclass Codes implements ICodes {\n    // Simple version of string hashcode\n    public hash(value: string): number {\n        if (value == null) return 0;\n        \n        let result: number = 0;\n        for (let i = 0; i < value.length; i++)\n            result += value.charCodeAt(i);\n\n        return result;\n    }\n\n    // Generates random big number for verification codes\n    public verification(): string {\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\n    }\n}\n\nangular\n    .module('pipCodes', [])\n    .service('pipCodes', Codes);\n","import { IFormat } from './IFormat';\n\nclass Format implements IFormat {\n    // Cached for parsed formats\n    private cache = {};\n\n    // Creates a sample line from a text\n    public sample(value: string, maxLength: number): string {\n        if (!value || value == '') {\n            return '';\n        }\n\n        var length: number = value.indexOf('\\n');\n        length = length >= 0 ? length : value.length;\n        length = length < maxLength ? value.length : maxLength;\n\n        return value.substring(0, length);\n    }\n\n    private strRepeat(str: string, qty: number): string {\n        if (qty < 1) { \n            return '';\n        }\n        var result: string = '';\n        while (qty > 0) {\n            if (qty & 1) result += str;\n            qty >>= 1, str += str;\n        }\n        return result;\n    }\n\n    private getType(variable): string {\n        return toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    private parseFormat(fmt: string): any {\n        let _fmt: string = fmt, match = [], parse_tree = [], arg_names: number = 0;\n        while (_fmt) {\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\n                parse_tree.push(match[0]);\n            }\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\n                parse_tree.push('%');\n            }\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    let field_list: string[] = [], replacement_field: string = match[2], field_match: string[] = [];\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1]);\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else {\n                                throw new Error('Unknown error');\n                            }\n                        }\n                    }\n                    else {\n                        throw new Error('Unknown error');\n                    }\n                    match[2] = field_list;\n                }\n                else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\n                }\n                parse_tree.push(match);\n            }\n            else {\n                throw new Error('Unknown error');\n            }\n            _fmt = _fmt.substring(match[0].length);\n        }\n        return parse_tree;\n    }\n\n    private format(parse_tree: any, argv: any): string {\n        let cursor: number = 0; \n        let tree_length: number = parse_tree.length; \n        let output = [];\n\n        for (let i = 0; i < tree_length; i++) {\n            let node_type = this.getType(parse_tree[i]);\n            if (node_type === 'string') {\n                output.push(parse_tree[i]);\n            }\n            else if (node_type === 'array') {\n                let match = parse_tree[i]; // convenience purposes only\n                let arg: any;\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor];\n                    for (let k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                } else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]];\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\n                }\n                switch (match[8]) {\n                    case 'b': arg = arg.toString(2); break;\n                    case 'c': arg = String.fromCharCode(arg); break;\n                    case 'd': arg = parseInt(arg, 10); break;\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\n                    case 'o': arg = arg.toString(8); break;\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\n                    case 'u': arg = Math.abs(arg); break;\n                    case 'x': arg = arg.toString(16); break;\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\n                }\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\n                let pad_length = match[6] - String(arg).length;\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\n                output.push(match[5] ? arg + pad : pad + arg);\n            }\n        }\n        return output.join('');\n    }\n    \n    public sprintf(message: string, ...args: any[]): string {\n        if (!this.cache.hasOwnProperty(message))\n            this.cache[message] = this.parseFormat(message);\n\n        return this.format(this.cache[message], args);\n    }\n}\n\n\nangular\n    .module('pipFormat', [])\n    .service('pipFormat', Format);\n","import { IPageResetService } from './IPageResetService';\n\n\nexport let ResetPageEvent: string = \"pipResetPage\";\nexport let ResetAreaEvent: string = \"pipResetArea\";\n\nexport let ResetRootVar: string = \"$reset\";\nexport let ResetAreaRootVar: string = \"$resetArea\";\n\n\nclass PageResetService implements IPageResetService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _timeout: ng.ITimeoutService;\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $timeout: ng.ITimeoutService\n    ) {\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._timeout = $timeout;\n\n        $rootScope[ResetRootVar] = false;\n        $rootScope[ResetAreaRootVar] = null;\n    }\n\n    public reset(): void {\n        this._log.debug(\"Resetting the entire page\");\n        this.performReset(null);\n    }\n\n    public resetArea(area: string): void {\n        this._log.debug(\"Resetting the area \" + area);\n        this.performReset(area);\n    }\n\n    private performReset(area?: string): void {\n        this._rootScope[ResetRootVar] = area == null;\n        this._rootScope[ResetAreaRootVar] = area;\n\n        this._timeout(() => {\n            this._rootScope[ResetRootVar] = false;\n            this._rootScope[ResetAreaRootVar] = null;\n        }, 0);\n    }\n}\n\n\nfunction hookResetEvents(\n    $rootScope: ng.IRootScopeService, \n    pipPageReset: IPageResetService\n) {\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\n}\n\n\nangular.module('pipPageReset', [])\n    .service('pipPageReset', PageResetService)\n    .run(hookResetEvents);\n","import { IScrollService } from './IScrollService';\n\n\nclass ScrollService implements IScrollService {\n\n    public scrollTo(parentElement, childElement, animationDuration): void {\n        if (!parentElement || !childElement) return;\n        if (animationDuration == undefined) animationDuration = 300;\n\n        setTimeout(function () {\n            if (!$(childElement).position()) return;\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n            if (modDiff < 20) return;\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n            if (animationDuration > 0)\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, animationDuration);\n        }, 100);\n    }\n\n}\n\n\nangular\n    .module('pipScroll', [])\n    .service('pipScroll', ScrollService);\n","import { ISystemInfo } from './ISystemInfo';\n\n\nclass SystemInfo implements ISystemInfo {\n    private _window: ng.IWindowService;\n\n    public constructor($window: ng.IWindowService) {\n        \"ngInject\";\n\n        this._window = $window;\n    }\n\n    // todo add support for iPhone\n    public get browserName(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (ua.search(/Edge/) > -1) return \"edge\";\n        if (ua.search(/MSIE/) > -1) return \"ie\";\n        if (ua.search(/Trident/) > -1) return \"ie\";\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\n        if (ua.search(/Opera/) > -1) return \"opera\";\n        if (ua.search(/OPR/) > -1) return \"opera\";\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\n        if (ua.search(/Safari/) > -1) return \"safari\";\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\n        \n        return \"unknown\";\n    }\n\n    public get browserVersion(): string {\n        let version;\n        let ua = this._window.navigator.userAgent;\n        let browser = this.browserName;\n\n        switch (browser) {\n            case \"edge\":\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\n                break;\n            case \"ie\":\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\n                break;\n            case \"ie11\":\n                browser = \"ie\";\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\n                break;\n            case \"firefox\":\n                version = ua.split(\"Firefox/\")[1];\n                break;\n            case \"opera\":\n                version = ua.split(\"Version/\")[1];\n                break;\n            case \"operaWebkit\":\n                version = ua.split(\"OPR/\")[1];\n                break;\n            case \"yabrowser\":\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\n                break;\n            case \"chrome\":\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\n                break;\n            case \"safari\":\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\n                break;\n            case \"maxthon\":\n                version = ua.split(\"Maxthon/\")[1];\n                break;\n        }\n\n        return version;\n    }\n    \n    public get platform(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \n            return 'mobile';\n\n        return 'desktop';\n    }\n\n    public get os(): string {\n        let ua = this._window.navigator.userAgent;\n\n        try {\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\n        } catch (err) {\n            return 'unknown'\n        }\n    }\n\n    public isDesktop(): boolean {\n        return this.platform == 'desktop';\n    }\n\n    public isMobile(): boolean {\n        return this.platform == 'mobile';\n    }\n\n    // Todo: complete implementation\n    public isCordova(): boolean {\n        return false;\n    }\n\n    // Todo: Move to errors\n    public isSupported(supported?: any): boolean {\n        if (!supported) \n            supported = {\n                edge: 11,\n                ie: 11,\n                firefox: 43, //4, for testing\n                opera: 35,\n                chrome: 47\n            };\n\n        let browser = this.browserName;\n        let version = this.browserVersion;\n        version = version.split(\".\")[0]\n\n        if (browser && supported[browser] && version >= supported[browser]) \n            return true;\n\n        return true;\n    }\n}\n\n\nangular\n    .module('pipSystemInfo', [])\n    .service('pipSystemInfo', SystemInfo);\n","import { ITags } from './ITags';\n\nclass Tags implements ITags {\n\n    public normalizeOne(tag: string): string {\n        return tag \n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\n            : null;\n    }\n\n    public compressOne(tag: string): string {\n        return tag\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\n            : null;\n    }\n\n    public equal(tag1: string, tag2: string): boolean {\n        if (tag1 == null && tag2 == null)\n            return true;\n        if (tag1 == null || tag2 == null)\n            return false;\n        return this.compressOne(tag1) == this.compressOne(tag2);\n    }\n\n    public normalizeAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\n\n        return tags;\n    }\n\n    public compressAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\n\n        return tags;\n    }\n\n    public extract(entity: any, searchFields?: string[]): string[] {\n        let tags = this.normalizeAll(entity.tags);\n\n        _.each(searchFields, (field) => {\n            let text = entity[field] || '';\n\n            if (text != '') {\n                let hashTags = text.match(/#\\w+/g);\n                tags = tags.concat(this.normalizeAll(hashTags));\n            }\n        });\n\n        return _.uniq(tags);\n    }\n}\n\n\nangular\n    .module('pipTags', [])\n    .service('pipTags', Tags);\n","import { ITimerService } from './ITimerService';\n\nclass TimerEvent {\n    public event: string;\n    public timeout: number;\n    public interval: any;\n\n    public constructor(event: string, timeout: number) {\n        this.event = event;\n        this.timeout = timeout;\n    }\n}\n\n\nlet DefaultEvents: TimerEvent[] = [\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\n];\n\n\nclass TimerService implements ITimerService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _interval: ng.IIntervalService;        \n    private _started = false;\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $interval: ng.IIntervalService\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._interval = $interval;\n    }\n\n    public isStarted(): boolean {\n        return this._started;\n    }\n\n    public addEvent(event: string, timeout: number): void {\n        var existingEvent = _.find(this._events, (e) => e.event == event);\n        if (existingEvent != null) return;\n\n        let newEvent = <TimerEvent> {\n            event: event,\n            timeout: timeout\n        };\n        this._events.push(newEvent);\n\n        if (this._started)\n            this.startEvent(newEvent);\n    }\n\n    public removeEvent(event: string): void {\n        for (let i = this._events.length - 1; i >= 0; i--) {\n            let existingEvent = this._events[i];\n            if (existingEvent.event == event) {\n                this.stopEvent(existingEvent);\n                this._events.splice(i, 1);\n            }\n        }\n    }\n\n    public clearEvents(): void {\n        this.stop();\n        this._events = [];\n    }\n\n    private startEvent(event: TimerEvent): void {\n        event.interval = this._interval(\n            () => { \n                this._log.debug('Generated timer event ' + event.event); \n                this._rootScope.$emit(event.event)\n            },\n            event.timeout\n        )\n    }\n\n    private stopEvent(event: TimerEvent): void {\n        if (event.interval != null) {\n            try {\n                this._interval.cancel(event.interval);\n            } catch (ex) {\n                // Do nothing\n            }\n            event.interval = null;\n        }\n    }\n\n    public start(): void {\n        if (this._started) return;\n\n        _.each(this._events, (event) => {\n            this.startEvent(event);\n        });\n\n        this._started = true;\n    }\n\n    public stop(): void {\n        _.each(this._events, (event) => {\n            this.stopEvent(event);\n        });\n\n        this._started = false;\n    }\n}\n\n\nangular.module('pipTimer', [])\n    .service('pipTimer', TimerService);\n","import './Format';\nimport './TimerService';\nimport './ScrollService';\nimport './Tags';\nimport './Codes';\nimport './SystemInfo';\nimport './PageResetService';\n\nexport * from './IFormat';\nexport * from './ITimerService';\nexport * from './IScrollService';\nexport * from './ITags';\nexport * from './ICodes';\nexport * from './ISystemInfo';\nexport * from './IPageResetService';","{\n    function filter($injector: ng.auto.IInjectorService) {\n         let pipTranslate: any = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return (key) => {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular.module('pipHelp.Translate', [])\n           .filter('translate', filter);\n\n}\n","{\n\nclass FabTooltipVisibilityController {\n    private _element;\n    private _scope: angular.IScope;\n    private _timeout: ng.ITimeoutService;\n\n    constructor(\n        $element: any,\n        $attrs: angular.IAttributes,\n        $scope: angular.IScope,\n        $timeout: ng.ITimeoutService,\n        $parse\n    ) {\n        \"ngInject\";\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\n            showGetter = $parse($attrs['pipFabShowTooltip']),\n            showSetter = showGetter.assign;\n\n        $scope.$watch(trigGetter, (isOpen) => {\n            if (!_.isFunction(showSetter)) return;\n\n            if (isOpen) {\n                $timeout(() => {\n                    showSetter($scope, isOpen);\n                }, 600);\n            } else {\n                showSetter($scope, isOpen);\n            }\n        });\n    }\n}\n\n\nfunction pipFabTooltipVisibility($parse, $timeout): ng.IDirective {\n    return {\n        restrict: 'A',\n        scope: false,\n        controller: FabTooltipVisibilityController\n    };\n}\n\nangular\n    .module('pipFabTooltipVisibility', [])\n    .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\n\n}","{\n\ninterface IRefreshButtonBindings {\n    [key: string]: any;\n\n    text: any;\n    visible: any;\n    onRefresh: any\n}\n\nconst RefreshButtonBindings: IRefreshButtonBindings = {\n    text: '<pipText',\n    visible: '<pipVisible',\n    onRefresh: '&?pipRefresh'\n}\n\nclass RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\n    [key: string]: ng.IChangesObject < any > ;\n    // Not one way bindings\n    onRefresh: ng.IChangesObject < ({\n        $event: any\n    }) => ng.IPromise < any >> ;\n    // One way bindings\n    text: ng.IChangesObject < string > ;\n    visible: ng.IChangesObject < boolean > ;\n}\n\nclass RefreshButtonController implements IRefreshButtonBindings {\n\n    private _textElement: any;\n    private _buttonElement: any;\n    private _width: number;\n\n    public text: string;\n    public visible: boolean;\n    public onRefresh: (param: {\n        $event: ng.IAngularEvent\n    }) => ng.IPromise < any > ;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $element: any,\n        private $attrs: ng.IAttributes\n    ) {}\n\n    public $postLink() {\n        this._buttonElement = this.$element.children('.md-button');\n        this._textElement = this._buttonElement.children('.pip-refresh-text');\n\n        this.show();\n    }\n\n    public $onChanges(changes: RefreshButtonChanges) {\n        if (changes.visible.currentValue === true) {\n            this.text = changes.text.currentValue;\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    public onClick($event) {\n        if (this.onRefresh) {\n            this.onRefresh({\n                $event: $event\n            });\n        }\n    }\n\n    private show() {\n        if (this._textElement === undefined || this._buttonElement === undefined) {\n            return;\n        }\n        // Set new text\n        this._textElement.text(this.text);\n        // Show button\n        this._buttonElement.show();\n        // Adjust position\n        const width = this._buttonElement.width();\n        this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\n    }\n\n    private hide() {\n        this._buttonElement.hide();\n    }\n}\n\n\nconst RefreshButtonComponent: ng.IComponentOptions = {\n    bindings: RefreshButtonBindings,\n    controller: RefreshButtonController,\n    template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\n        '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\n        '<span class=\"pip-refresh-text\"></span>' +\n        '</md-button>'\n};\n\nangular\n    .module('pipRefreshButton', ['ngMaterial'])\n    .component('pipRefreshButton', RefreshButtonComponent);\n\n}","{\n\nclass ToggleButton {\n    id: any;\n    name: string;\n    disabled: boolean;\n    level: number;\n    diselectable: boolean;\n    filled: boolean;\n}\n\ninterface IToggleButtonsBindings {\n    [key: string]: any;\n\n    ngDisabled: any;\n    buttons: any;\n    currentButtonValue: any;\n    currentButton: any;\n    multiselect: any;\n    change: any;\n    onlyToggle: any\n}\n\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\n    ngDisabled: '<?',\n    buttons: '<pipButtons',\n    currentButtonValue: '=ngModel',\n    currentButton: '=?pipButtonObject',\n    multiselect: '<?pipMultiselect',\n    change: '&ngChange',\n    onlyToggle: '<?pipOnlyToggle'\n}\n\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\n    [key: string]: ng.IChangesObject < any > ;\n    // Not one way bindings\n    currentButtonValue: any;\n    currentButton: any;\n    change: ng.IChangesObject < () => ng.IPromise < void >> ;\n    // One way bindings\n    ngDisabled: ng.IChangesObject < boolean > ;\n    buttons: ng.IChangesObject < ToggleButton[] > ;\n    multiselect: ng.IChangesObject < boolean > ;\n    onlyToggle: ng.IChangesObject < boolean > ;\n}\n\nclass ToggleButtonsController implements IToggleButtonsBindings {\n    lenght: number;\n\n    public ngDisabled: boolean;\n    public class: string;\n    public multiselect: boolean;\n    public buttons: ToggleButton[];\n    public disabled: boolean;\n    public currentButtonValue: any;\n    public currentButtonIndex: number;\n    public currentButton: any;\n    public change: () => ng.IPromise < any > ;\n    public onlyToggle: boolean;\n    public pipMedia: any;\n\n    constructor(\n        private $element: any,\n        private $attrs: angular.IAttributes,\n        private $scope: angular.IScope,\n        private $timeout: ng.ITimeoutService,\n        $injector: ng.auto.IInjectorService\n    ) {\n        \"ngInject\";\n\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.class = $attrs['class'] || '';\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $onChanges(changes: ToggleButtonsChanges) {\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : false;\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false;\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : false;\n\n        this.buttons = !changes.buttons || _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? [] : changes.buttons.currentValue;\n\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $postLink() {\n        this.$element\n            .on('focusin', () => {\n                this.$element.addClass('focused-container');\n            })\n            .on('focusout', () => {\n                this.$element.removeClass('focused-container');\n            });\n    }\n\n    public buttonSelected(index) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.currentButtonIndex = index;\n        this.currentButton = this.buttons[this.currentButtonIndex];\n        this.currentButtonValue = this.currentButton.id || index;\n\n        this.$timeout(() => {\n            if (this.change) {\n                this.change();\n            }\n        });\n    }\n\n    public enterSpacePress(event) {\n        this.buttonSelected(event.index);\n    }\n\n    public highlightButton(index) {\n        if (this.multiselect &&\n            !_.isUndefined(this.currentButton.level) &&\n            !_.isUndefined(this.buttons[index].level)) {\n\n            return this.currentButton.level >= this.buttons[index].level;\n        }\n\n        return this.currentButtonIndex == index;\n    }\n}\n\nconst ToggleButtons: ng.IComponentOptions = {\n    bindings: ToggleButtonsBindings,\n    templateUrl: 'toggle_buttons/ToggleButtons.html',\n    controller: ToggleButtonsController\n}\n\nangular\n    .module('pipToggleButtons', ['pipButtons.Templates'])\n    .component('pipToggleButtons', ToggleButtons);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/ToggleButtons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","import { MainBreakpoints } from '../media/MediaService';\nimport { IAuxPanelService } from './IAuxPanelService';\n\n{\n    class AuxPanelDirectiveController {\n        private normalSize: number = 320;\n        private largeSize: number = 480;\n\n        public constructor(private pipAuxPanel: IAuxPanelService) {\n            \"ngInject\";\n        }\n\n        public isGtxs(): boolean {\n            return Number($('body').width()) > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\n        }\n\n        public isGtlg(): boolean {\n            return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\n        }\n    }\n\n    const AuxPanel: ng.IComponentOptions = {\n\n        controller: AuxPanelDirectiveController,\n        transclude: true,\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" pip-focused ng-transclude>' +\n        '</md-sidenav>'\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .component('pipAuxPanel', AuxPanel);\n\n}","{\n\n    class AuxPanelPartController {\n        private partName: string;\n        private partValue: string;\n        private pos: number;\n\n        constructor(\n            private $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs,\n            $rootScope: ng.IRootScopeService,\n            pipAuxPanel) {\n            \"ngInject\";\n            this.partName = '' + $attrs.pipAuxPanelPart;\n            this.pos = this.partName.indexOf(':');\n            if (this.pos > 0) {\n                this.partValue = this.partName.substr(this.pos + 1);\n                this.partName = this.partName.substr(0, this.pos);\n            }\n\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\n                this.onAuxPanelChanged(event, config);\n            });\n\n        }\n\n        private onAuxPanelChanged(event, config) {\n            let parts = config.parts || {};\n            let currentPartValue = config[this.partName];\n            // Set visible variable to switch ngIf\n\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\n        }\n    }\n\n\n    function AuxPanelPartDirective(ngIfDirective) {\n        \"ngInject\";\n\n        let ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function ($scope: ng.IScope, $element, $attrs) {\n                // Visualize based on visible variable in scope\n                $attrs.ngIf = () => { return $scope['visible'] };\n                ngIf.link.apply(ngIf);\n            },\n            controller: AuxPanelPartController\n        };\n    }\n\n    angular\n        .module('pipAuxPanel')\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\n\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent } from './IAuxPanelService';\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\n\nclass AuxPanelService implements IAuxPanelService {\n    private _config: AuxPanelConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n    private id = 'pip-auxpanel';\n\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n\n        \"ngInject\";\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\n    }\n\n    public isOpen(): boolean {\n        return this._sidenav(this.id).isOpen();\n    }\n\n    public open() {\n        this._sidenav(this.id).open();\n    }\n\n    public close() {\n        this._sidenav(this.id).close();\n    }\n\n    public toggle() {\n        this._sidenav(this.id).toggle();\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\n    }\n}\n\nclass AuxPanelProvider implements IAuxPanelProvider {\n    private _config: AuxPanelConfig = {\n        parts: {},\n        classes: [],\n        type: 'sticky',\n        state: null\n    };\n\n    private _service: AuxPanelService;\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public set config(value: AuxPanelConfig) {\n        this._config = value || new AuxPanelConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public open(): void {\n        this._service.open();\n    }\n\n    public close(): void {\n        this._service.close();\n    }\n\n    public toggle(): void {\n        this._service.toggle();\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }\n}\n\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\n    \"ngInject\";\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\n}\n\nangular\n    .module('pipAuxPanel')\n    .provider('pipAuxPanel', AuxPanelProvider)\n    .run(hookAuxPanelEvents);\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\n\nexport class AuxPanelConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n} \n\nexport interface IAuxPanelService {\n    readonly config: AuxPanelConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;    \n\n    isOpen(): boolean;\n    open(): void;\n    close(): void;\n    toggle(): void;\n  \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\n    config: AuxPanelConfig;\n    parts: any;\n    type: string;\n    classes: string[];\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}","angular.module('pipAuxPanel', ['ngMaterial']);\n\nimport './AuxPanelService';\nimport './AuxPanelPart';\nimport './AuxPanel';\n\nexport * from './IAuxPanelService';","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\ninterface ICardDirectiveAttributes extends ng.IAttributes {\n    minWidth: string | number;\n    minHeight: string | number;\n    width: string | number;\n    height: string | number;\n}\n\nclass CardDirectiveLink {\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService, \n        private $element: JQuery, \n        private $attrs: ICardDirectiveAttributes\n    ) {\n       \"ngInject\";\n        // Add class to the element\n        $element.addClass('pip-card');\n\n        let listener = () => { this.resize(); }\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, listener);\n\n        // Resize right away to avoid flicking\n        this.resize();\n\n        // Resize the element right away\n        setTimeout(listener, 100);\n    }\n\n    private resize() {\n        const\n            $mainBody = $('.pip-main-body'),\n            cardContainer = $('.pip-card-container'),\n            windowWidth = $('pip-main').width();\n        let\n            maxWidth = $mainBody.width(),\n            maxHeight = $mainBody.height(),\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\n            left, top;\n\n        // Full-screen on phone\n        if (MainBreakpointStatuses.xs) {\n            minWidth = null;\n            minHeight = null;\n            width = null;\n            height = null;\n            maxWidth = null;\n            maxHeight = null;\n        }\n        // Card view with adjustable margins on tablet and desktop\n        else {\n            // Set margin and maximum dimensions\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\n            maxWidth -= space * 2;\n            maxHeight -= space * 2;\n\n            // Set minimum dimensions\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\n\n            // Set regular dimensions\n            width = width ? Math.min(width, maxWidth) : null;\n            height = height ? Math.min(height, maxHeight) : null;\n        }\n\n        // Set dimensions\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\n        this.$element.css('width', width ? width + 'px' : '');\n        this.$element.css('height', height ? height + 'px' : '');\n\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\n            const\n                $header = this.$element.find('.pip-header:visible'),\n                $footer = this.$element.find('.pip-footer:visible'),\n                $body = this.$element.find('.pip-body');\n            let maxBodyHeight = maxHeight || $mainBody.height();\n\n            if ($header.length > 0)\n                maxBodyHeight -= $header.outerHeight(true);\n            if ($footer.length > 0)\n                maxBodyHeight -= $footer.outerHeight(true);\n\n            $body.css('max-height', maxBodyHeight + 'px');\n        } else {\n            cardContainer.addClass('pip-scroll');\n            if (MainBreakpointStatuses.xs) {\n                left = 0;\n                top = 0;\n            } else {\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\n            }\n\n            this.$element.css('left', left);\n            this.$element.css('top', top);\n\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\n        }\n\n        // Notify child controls that layout was resized\n        this.$rootScope.$emit('pipLayoutResized');\n    }\n}\n\nfunction cardDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            new CardDirectiveLink($rootScope, $element, $attrs);\n        }\n    }\n}\n\n\nangular\n    .module('pipLayout')\n    .directive('pipCard', cardDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction dialogDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-dialog');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDialog', dialogDirective);\n\n})();","// Avoid default export\n(() => {\n\nfunction documentDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-document');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDocument', documentDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent } from '../media/IMediaService';\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\n    interface IMainDirectiveAttributes extends ng.IAttributes {\n        pipContainer: string;\n    }\n\n    class MainDirectiveController implements ng.IController {\n        private _container: any;\n\n        public constructor(\n            private $scope: ng.IScope,\n            private $element: angular.IRootElementService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private $attrs: IMainDirectiveAttributes\n        ) {\n            \"ngInject\";\n            this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\n\n            // Add CSS class\n            $element.addClass('pip-main');\n\n            // Add resize listener\n            const listener = () => { this.resize(); };\n            addResizeListener(this._container[0], listener);\n\n            // Unbind when scope is removed\n            $scope.$on('$destroy', () => {\n                removeResizeListener(this._container[0], listener);\n            });\n\n            // Perform initial calculations\n            this.updateBreakpointStatuses();\n        }\n\n        private updateBreakpointStatuses() {\n            const width = this._container.innerWidth();\n            const body = $('body');\n\n            MainBreakpointStatuses.update(MainBreakpoints, width);\n\n            $.each(MainBreakpointStatuses, (breakpoint, status) => {\n                if (_.isBoolean(status)) {\n                    body[status ? 'addClass' : 'removeClass']('pip-' + breakpoint);\n                }\n            });\n\n            this.$timeout(() => {\n                this.$rootScope.$apply();\n            });\n        }\n\n        private resize() {\n            this.updateBreakpointStatuses();\n            this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\n        }\n    }\n\n    class MainBodyDirectiveLink {\n        public constructor(\n            $scope: ng.IScope,\n            $element: angular.IRootElementService\n        ) {\n            \"ngInject\";\n            // Add CSS class\n            $element.addClass('pip-main-body');\n        }\n    }\n\n    function mainDirective(): ng.IDirective {\n        \"ngInject\";\n        return {\n            restrict: 'EA',\n            controller: MainDirectiveController,\n            controllerAs: 'vm'\n        }\n    }\n\n    function mainBodyDirective(): ng.IDirective {\n        \"ngInject\";\n        return {\n            restrict: 'EA',\n            link: MainBodyDirectiveLink\n        }\n    }\n\n    angular\n        .module('pipLayout')\n        .directive('pipMain', mainDirective)\n        .directive('pipMainBody', mainBodyDirective);\n\n})();","(() => {\n\n    function simpleDirective(): ng.IDirective {\n        \"ngInject\";\n        return {\n            restrict: 'EA',\n            link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n                $element.addClass('pip-simple');\n            }\n        };\n    }\n\n    angular\n        .module('pipLayout')\n        .directive('pipSimple', simpleDirective);\n\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\ndeclare var Masonry: any;\n\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\n    columnWidth: string | number;\n    pipInfinite: string | boolean | number;\n}\n\nclass TilesOptions {\n    gutter: number;\n    isFitWidth: boolean;\n    isResizeBound: boolean;\n    transitionDuration: number;\n}\n\ninterface ITilesControllerScope extends ng.IScope {\n    tilesOptions: TilesOptions;\n}\n\nclass TilesDirectiveLink {\n    private _columnWidth: number;\n    private _container: any;\n    private _prevContainerWidth: number;\n    private _masonry: any;\n    private _sizer: any;\n\n    public constructor(\n        $scope: ng.IScope,\n        private $element: JQuery,\n        private $attrs: ITilesDirectiveAttributes,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        \"ngInject\";\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440;\n        this._container = $element.children('.pip-tiles-container');\n        this._prevContainerWidth = null;\n        this._masonry = Masonry.data(this._container[0]);\n\n        // Add class to the element\n        $element.addClass('pip-tiles');\n\n        // Add resize listener\n        const listener = () => { this.resize(false); };\n        addResizeListener($element[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener($element[0], listener);\n        });\n\n        // Insert sizer\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\n        this._sizer.appendTo(this._container);\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\n\n        // Resize the element right away\n        this.resize(true);\n    }\n\n    private resize(force: boolean) {\n        let width = this.$element.parent().width(),\n            containerWidth;\n\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\n            width = width - 24 * 2;\n\n            let columns = Math.floor(width / this._columnWidth);\n            containerWidth = (this._columnWidth + 16) * columns - 16;\n\n            if (containerWidth > width) {\n                columns--;\n                containerWidth = (this._columnWidth + 16) * columns - 16;\n            }\n\n            if (columns < 1) {\n                containerWidth = width;\n                this._sizer.css('width', containerWidth + 'px');\n            } else {\n                this._sizer.css('width', this._columnWidth + 'px');\n            }\n\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.removeClass('pip-mobile');\n        } else {\n            width = width - 16 * 2;\n            containerWidth = width;\n\n            this._sizer.css('width', containerWidth + 'px');\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.addClass('pip-mobile');\n        }\n\n        // Manually call layout on tile container\n        if (this._prevContainerWidth != containerWidth || force) {\n            this._prevContainerWidth = containerWidth;\n            this._masonry.layout();\n\n            // Notify child controls that layout was resized\n            this.$rootScope.$emit(LayoutResizedEvent);\n        }\n    }\n}\n\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\n    \"ngInject\";\n\n    // Converts value into boolean\n    function convertToBoolean(value): boolean {\n        if (value == null) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n    }\n\n    return {\n        restrict: 'EA',\n        scope: false,\n        transclude: true,\n        template:\n        ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            if (convertToBoolean($attrs.pipInfinite)) {\n                return String()\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\n                    + '</div>';\n            } else {\n                return String()\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                    + ' masonry-options=\"tilesOptions\">'\n                    + '</div>';\n            }\n        },\n        controller: ($scope: ITilesControllerScope) => {\n            $scope.tilesOptions = {\n                gutter: 8,//16\n                isFitWidth: false,\n                isResizeBound: false,\n                transitionDuration: 0 // '0.2s'\n            };\n        },\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipTiles', tilesDirective);\n","export const MainResizedEvent = 'pipMainResized';\nexport const LayoutResizedEvent = 'pipLayoutResized';\n\nexport class MediaBreakpoints {\n    public constructor(\n        xs: number, sm: number, md: number, lg: number\n    ) {\n        this.xs = xs;\n        this.sm = sm;\n        this.md = md;\n        this.lg = lg;\n    }\n\n    public xs: number;\n    public sm: number;\n    public md: number;\n    public lg: number;\n}\n\nexport class MediaBreakpointStatuses {\n    public width: number;\n    public 'xs': boolean;\n    public 'gt-xs': boolean;\n    public 'sm': boolean;\n    public 'gt-sm': boolean;\n    public 'md': boolean;\n    public 'gt-md': boolean;\n    public 'lg': boolean;\n    public 'gt-lg': boolean;\n    public 'xl': boolean;\n\n    public update(breakpoints: MediaBreakpoints, width: number) {\n        if (breakpoints == null || width == null) return;\n\n        this.width = width;\n        this['xs'] = width <= breakpoints.xs;\n        this['gt-xs'] = width > breakpoints.xs;\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\n        this['gt-sm'] = width > breakpoints.sm;\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\n        this['gt-md'] = width > breakpoints.md;\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\n        this['gt-lg'] = width > breakpoints.lg;\n        this['xl'] = this['gt-lg'];\n    }\n}\n\nexport interface IMediaService {\n    (breakpoint: string): boolean;\n    breakpoints: MediaBreakpoints;\n    width: number;\n} \n\nexport interface IMediaProvider extends ng.IServiceProvider {\n    breakpoints: MediaBreakpoints;\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\nimport { IMediaProvider } from './IMediaService';\n\nexport let MainBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\nexport const MainBreakpointStatuses = new MediaBreakpointStatuses();\n\nclass MediaProvider implements IMediaProvider {\n    public get breakpoints(): MediaBreakpoints {\n        return MainBreakpoints;\n    }\n\n    public set breakpoints(value: MediaBreakpoints) {\n        MainBreakpoints = value;\n    }\n\n    public $get() {\n        const service = (size) => {\n            return MainBreakpointStatuses[size];\n        }\n\n        Object.defineProperty(service, 'breakpoints', {\n            get: () => { return MainBreakpoints; },\n            set: (value) => { \n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\n                \n                MainBreakpointStatuses.update(\n                    MainBreakpoints, \n                    MainBreakpointStatuses.width\n                );\n            }\n        });\n\n        Object.defineProperty(service, 'width', {\n            get: () => { \n                return MainBreakpointStatuses.width; \n            }\n        });\n\n        return service; \n    }\n}\n\nangular\n    .module('pipMedia')\n    .provider('pipMedia', MediaProvider);\n","let attachEvent = (<any>document).attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nfunction requestFrame(callback): any {\n           \"ngInject\";\n    let frame = window.requestAnimationFrame\n        || (<any>window).mozRequestAnimationFrame\n        || (<any>window).webkitRequestAnimationFrame\n        || function (callback) {\n            return window.setTimeout(callback, 20);\n        };\n\n    return frame(callback);\n}\n\nfunction cancelFrame(): any {\n           \"ngInject\";\n    let cancel = window.cancelAnimationFrame\n        || (<any>window).mozCancelAnimationFrame\n        || (<any>window).webkitCancelAnimationFrame\n        || window.clearTimeout;\n\n    return function (id) {\n        return cancel(id);\n    };\n}\n\nfunction resizeListener(event: any): void {\n    const win = event.target || event.srcElement;\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\n    win.__resizeRAF__ = requestFrame(function () {\n        const trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function (fn) {\n            fn.call(trigger, event);\n        });\n    });\n}\n\nfunction loadListener(event: any): void {\n    if (this.contentDocument) {\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n    }\n}\n\nexport function addResizeListener(element, listener): void {\n           \"ngInject\";\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = loadListener;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n\n    element.__resizeListeners__.push(listener);\n}\n\nexport function removeResizeListener(element, listener): void {\n           \"ngInject\";\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\n    if (!element.__resizeListeners__.length) {\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\n        else {\n            if (element.__resizeTrigger__.contentDocument) {\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n            }\n        }\n    }\n}\n","angular.module('pipMedia', []);\n\nimport './MediaService';\nimport './ResizeFunctions';\n\nexport * from './IMediaService';\nexport * from './MediaService';\nexport * from './ResizeFunctions';","{\n    class CancelDragLink {\n        constructor(\n            $element: JQuery\n        ) {\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\n        }\n    }\n\n    const CancelDrag = function (): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: ng.IAttributes\n            ) {\n                new CancelDragLink($element);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipCancelDrag', CancelDrag);\n}","import { IDraggableService } from './DraggableService';\n\n{\n    interface IDragLinkScope extends ng.IScope {\n        value: any;\n    }\n\n    interface IDragLinkAttributes extends ng.IAttributes {\n        ngDrag: any;\n        pipDragStart: any;\n        pipDragStop: any;\n        pipDragSuccess: any;\n        allowTransform: any;\n        pipDragData: any;\n        pipVerticalScroll: any;\n        pipHorizontalScroll: any;\n        pipActivationDistance: any;\n        pipScrollContainer: any;\n        pipDrag: any;\n        pipCenterAnchor: any;\n    }\n\n    class DragLink {\n        private LONG_PRESS: number = 50; // 50ms for longpress\n        private offset: any;\n        private _centerAnchor: boolean = false;\n        private _mx: number;\n        private _my: number;\n        private _tx: number;\n        private _ty: number;\n        private _mrx: number;\n        private _mry: number;\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\n        private _pressEvents: string = 'touchstart mousedown';\n        private _moveEvents: string = 'touchmove mousemove';\n        private _releaseEvents: string = 'touchend mouseup';\n        private _dragHandle: any;\n\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\n        private _myid: string | number;\n        private _data: any = null;\n\n        private _dragOffset: any = null;\n\n        private _dragEnabled: boolean = false;\n\n        private _pressTimer: any = null;\n\n        private _elementStyle: any = {};\n\n        private onDragStartCallback: Function;\n        private onDragStopCallback: Function;\n        private onDragSuccessCallback: Function;\n        private allowTransform: boolean;\n\n        private getDragData: any;\n        private verticalScroll: boolean;\n        private horizontalScroll: boolean;\n        private activationDistance: number;\n        private scrollDistance: number;\n        private scrollParent: boolean = false;\n\n        private scrollContainer: JQuery = angular.element(window);\n        private scrollContainerGetter: any;\n\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\n        private _deregisterRootMoveListener: Function = angular.noop;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $parse: ng.IParseService,\n            private $document: ng.IDocumentService,\n            private $window: ng.IWindowService,\n            private pipDraggable: IDraggableService,\n            private $scope: IDragLinkScope,\n            private $element: JQuery,\n            private $attrs: IDragLinkAttributes\n        ) {\n            $scope.value = $attrs.ngDrag;\n            this._myid = $scope.$id;\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\n\n            this.getDragData = $parse($attrs.pipDragData);\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\n\n            this.$element.css('cursor', 'move');\n            this.initialize();\n        }\n\n        private initialize() {\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\n            // check to see if drag handle(s) was specified\n            // if querySelectorAll is available, we use this instead of find\n            // as JQLite find is limited to tagnames\n            let dragHandles: any;\n            if (this.$element[0].querySelectorAll) {\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\n            } else {\n                dragHandles = this.$element.find('[pip-drag-handle]');\n            }\n            if (dragHandles.length) {\n                this._dragHandle = dragHandles;\n            }\n            this.toggleListeners(true);\n\n            // Initialize scroll container\n            if (this.scrollParent) {\n                this.scrollContainer = angular.element(this.$element.parent());\n            } else if (this.$attrs.pipScrollContainer) {\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\n            } else {\n                this.scrollContainer = angular.element(window);\n            }\n        }\n\n        private toggleListeners(enable) {\n            if (!enable) return;\n            // add listeners.\n\n            this.$scope.$on('$destroy', () => {\n                this.onDestroy(enable);\n            });\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\n                this.onEnableChange(newVal, oldVal);\n            });\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\n                this.onCenterAnchor(newVal, oldVal);\n            });\n            // wire up touch events\n            if (this._dragHandle) {\n                // handle(s) specified, use those to initiate drag\n                this._dragHandle.on(this._pressEvents, (event) => {\n                    this.onpress(event);\n                });\n            } else {\n                // no handle(s) specified, use the element as the handle\n                this.$element.on(this._pressEvents, (event) => {\n                    this.onpress(event);\n                });\n            }\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\n                this.$element.on('mousedown', () => {\n                    return false;\n                }); // prevent native drag for images\n            }\n        }\n\n        private onDestroy(enable) {\n            this.toggleListeners(false);\n        }\n\n        private onEnableChange(newVal, oldVal) {\n            this._dragEnabled = (newVal);\n        }\n\n        private onCenterAnchor(newVal, oldVal) {\n            if (angular.isDefined(newVal))\n                this._centerAnchor = (newVal || 'true');\n        }\n\n        private isClickableElement(evt) {\n            return (\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\n            );\n        }\n\n        /*\n         * When the element is clicked start the drag behaviour\n         * On touch devices as a small delay so as not to prevent native window scrolling\n         */\n        private onpress(evt) {\n            if (!this._dragEnabled) return;\n\n            if (this.isClickableElement(evt)) {\n                return;\n            }\n\n            if (evt.type == \"mousedown\" && evt.button != 0) {\n                // Do not start dragging on right-click\n                return;\n            }\n\n            this.saveElementStyles();\n\n            if (this._hasTouch) {\n                this.cancelPress();\n                this._pressTimer = setTimeout(() => {\n                    this.cancelPress();\n                    this.onlongpress(evt);\n                }, this.LONG_PRESS);\n                this.$document.on(this._moveEvents, () => {\n                    this.cancelPress();\n                });\n                this.$document.on(this._releaseEvents, () => {\n                    this.cancelPress();\n                });\n            } else {\n                this.onlongpress(evt);\n            }\n        }\n\n        private saveElementStyles() {\n            this._elementStyle.left = this.$element.css('css') || 0;\n            this._elementStyle.top = this.$element.css('top') || 0;\n            this._elementStyle.position = this.$element.css('position');\n            this._elementStyle.width = this.$element.css('width');\n        }\n\n        private cancelPress() {\n            clearTimeout(this._pressTimer);\n            this.$document.off(this._moveEvents, () => {\n                this.cancelPress();\n            });\n            this.$document.off(this._releaseEvents, () => {\n                this.cancelPress();\n            });\n        }\n\n        private onlongpress(evt) {\n            if (!this._dragEnabled) return;\n            evt.preventDefault();\n\n            this.offset = this.$element[0].getBoundingClientRect();\n            if (this.allowTransform)\n                this._dragOffset = this.offset;\n            else {\n                this._dragOffset = {\n                    left: document.body.scrollLeft,\n                    top: document.body.scrollTop\n                };\n            }\n\n\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\n\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\n            this._mrx = this._mx - this.offset.left;\n            this._mry = this._my - this.offset.top;\n            if (this._centerAnchor) {\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\n            } else {\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\n            }\n\n            this.$document.on(this._moveEvents, (event) => {\n                this.onmove(event);\n            });\n            this.$document.on(this._releaseEvents, (event) => {\n                this.onrelease(event);\n            });\n            // This event is used to receive manually triggered mouse move events\n            // jqLite unfortunately only supports triggerHandler(...)\n            // See http://api.jquery.com/triggerHandler/\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\n                this.onmove(origEvent);\n            });\n        }\n\n        private onmove(evt) {\n            if (!this._dragEnabled) return;\n            evt.preventDefault();\n            if (!this.$element.hasClass('pip-dragging')) {\n                this._data = this.getDragData(this.$scope);\n                this.$element.addClass('pip-dragging');\n                this.$rootScope.$broadcast('draggable:start', {\n                    x: this._mx,\n                    y: this._my,\n                    tx: this._tx,\n                    ty: this._ty,\n                    event: evt,\n                    element: this.$element,\n                    data: this._data\n                });\n\n                if (this.onDragStartCallback) {\n                    this.$scope.$apply(() => {\n                        this.onDragStartCallback(this.$scope, {\n                            $data: this._data,\n                            $event: evt\n                        });\n                    });\n                }\n            }\n\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\n\n            if (this.horizontalScroll || this.verticalScroll) {\n                this.dragToScroll();\n            }\n\n            if (this._centerAnchor) {\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\n            } else {\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\n                this._ty = this._my - this._mry - this._dragOffset.top;\n            }\n\n            this.moveElement(this._tx, this._ty);\n\n            this.$rootScope.$broadcast('draggable:move', {\n                x: this._mx,\n                y: this._my,\n                tx: this._tx,\n                ty: this._ty,\n                event: evt,\n                element: this.$element,\n                data: this._data,\n                uid: this._myid,\n                dragOffset: this._dragOffset\n            });\n        }\n\n        private onrelease(evt) {\n            if (!this._dragEnabled)\n                return;\n            evt.preventDefault();\n            this.$rootScope.$broadcast('draggable:end', {\n                x: this._mx,\n                y: this._my,\n                tx: this._tx,\n                ty: this._ty,\n                event: evt,\n                element: this.$element,\n                data: this._data,\n                callback: this.onDragComplete,\n                uid: this._myid\n            });\n            this.$element.removeClass('pip-dragging');\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\n            this.reset();\n            this.$document.off(this._moveEvents);\n            this.$document.off(this._releaseEvents);\n            if (this.onDragStopCallback) {\n                this.$scope.$apply(() => {\n                    this.onDragStopCallback(this.$scope, {\n                        $data: this._data,\n                        $event: evt\n                    });\n                });\n            }\n\n            this._deregisterRootMoveListener();\n        }\n\n        private onDragComplete(evt) {\n            if (!this.onDragSuccessCallback) return;\n\n            this.$scope.$apply(() => {\n                this.onDragSuccessCallback(this.$scope, {\n                    $data: this._data,\n                    $event: evt\n                });\n            });\n        }\n\n        private reset() {\n            if (this.allowTransform)\n                this.$element.css({\n                    transform: '',\n                    'z-index': '',\n                    '-webkit-transform': '',\n                    '-ms-transform': ''\n                });\n            else {\n                this.$element.css({\n                    position: this._elementStyle.position,\n                    top: this._elementStyle.top,\n                    left: this._elementStyle.left,\n                    'z-index': '',\n                    width: this._elementStyle.width\n                });\n            }\n        }\n\n        private moveElement(x, y) {\n            const eWidth = this.$element.css('width');\n            if (this.allowTransform) {\n                this.$element.css({\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                    'z-index': 99999,\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n                });\n            } else {\n                this.$element.css({\n                    'left': x + 'px',\n                    'top': y + 'px',\n                    'position': 'fixed',\n                    'z-index': 100,\n                    width: eWidth\n                });\n            }\n        }\n\n        private dragToScroll() {\n            let scrollX = 0,\n                scrollY = 0,\n                offset = (element) => {\n                    return element.offset() || {\n                        left: 0,\n                        top: 0\n                    };\n                };\n\n            if (this.horizontalScroll) {\n                const\n                    containerLeft = offset(this.scrollContainer).left,\n                    containerWidth = this.scrollContainer.innerWidth(),\n                    containerRight = containerLeft + containerWidth;\n\n                if ((this._mx - containerLeft) < this.activationDistance) {\n                    scrollX = -this.scrollDistance;\n                } else if ((containerRight - this._mx) < this.activationDistance) {\n                    scrollX = this.scrollDistance;\n                }\n            }\n\n            if (this.verticalScroll) {\n                const\n                    containerTop = offset(this.scrollContainer).top,\n                    containerHeight = this.scrollContainer.innerHeight(),\n                    containerBottom = containerTop + containerHeight;\n\n                if ((this._my - containerTop) < this.activationDistance) {\n                    scrollY = -this.scrollDistance + 30;\n                } else if ((containerBottom - this._my) < this.activationDistance) {\n                    scrollY = this.scrollDistance - 30;\n                }\n            }\n            if (scrollX !== 0 || scrollY !== 0) {\n                const\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\n                    containerScrollTop = this.scrollContainer.scrollTop();\n\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\n            }\n\n        }\n\n    }\n\n    const Drag = function (\n        $rootScope: ng.IRootScopeService,\n        $parse: ng.IParseService,\n        $document: ng.IDocumentService,\n        $window: ng.IWindowService,\n        pipDraggable: IDraggableService,\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: IDragLinkScope,\n                $element: JQuery,\n                $attrs: IDragLinkAttributes\n            ) {\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipDrag', Drag);\n}","export interface IDraggableService {\n    inputEvent(event: any);\n}\n\nclass DraggableService implements IDraggableService {\n    public inputEvent(event) {\n        if (angular.isDefined(event.touches)) {\n            return event.touches[0];\n        }\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\n            return event.originalEvent.touches[0];\n        }\n        return event;\n    };\n}\n\nangular\n    .module(\"pipDraggable\")\n    .service('pipDraggable', DraggableService);\n    ","import { IDraggableService } from './DraggableService';\n\n{\n    interface IDropLinkScope extends ng.IScope {\n        value: any;\n        isTouching: any;\n    }\n\n    interface IDropLinkAttributes extends ng.IAttributes {\n        pipDrop: any;\n        pipDropSuccess: any;\n        pipDragStart: any;\n        pipDragStop: any;\n        pipDragMove: any;\n    }\n\n    class DropLink {\n\n        private _lastDropTouch: any;\n        private _myid: number | string;\n        private _dropEnabled: boolean;\n\n        private onDropCallback: Function; // || function(){};\n        private onDragStartCallback: Function;\n        private onDragStopCallback: Function;\n        private onDragMoveCallback: Function;\n\n        constructor(\n            private $parse: ng.IParseService,\n            private $document: ng.IDocumentService,\n            private $timeout: ng.ITimeoutService,\n            private pipDraggable: IDraggableService,\n            private $scope: IDropLinkScope,\n            private $element: JQuery,\n            private $attrs: IDropLinkAttributes\n        ) {\n            $scope.value = $attrs.pipDrop;\n            $scope.isTouching = false;\n\n            this._myid = $scope.$id;\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\n\n            this.initialize();\n        }\n\n        private initialize() {\n            this.toggleListeners(true);\n        }\n\n        private toggleListeners(enable) {\n            // remove listeners\n            if (!enable) return;\n            // add listeners.\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\n                this.onEnableChange(newVal, oldVal);\n            });\n            this.$scope.$on('$destroy', (event) => {\n                this.onDestroy(event);\n            });\n            this.$scope.$on('draggable:start', (evt, obj) => {\n                this.onDragStart(evt, obj);\n            });\n            this.$scope.$on('draggable:move', (evt, obj) => {\n                this.onDragMove(evt, obj);\n            });\n            this.$scope.$on('draggable:end', (evt, obj) => {\n                this.onDragEnd(evt, obj);\n            });\n        }\n\n        private onDestroy(enable) {\n            this.toggleListeners(false);\n        }\n\n        private onEnableChange(newVal, oldVal) {\n            this._dropEnabled = newVal;\n        }\n\n        private onDragStart(evt, obj) {\n            if (!this._dropEnabled) return;\n            this.isTouching(obj.x, obj.y, obj.element);\n\n            if (this.$attrs.pipDragStart) {\n                this.$timeout(() => {\n                    this.onDragStartCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n        }\n\n        private onDragMove(evt, obj) {\n            if (!this._dropEnabled) return;\n            this.isTouching(obj.x, obj.y, obj.element);\n\n            if (this.$attrs.pipDragMove) {\n                this.$timeout(() => {\n                    this.onDragMoveCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n        }\n\n        private onDragEnd(evt, obj) {\n            // don't listen to drop events if this is the element being dragged\n            // only update the styles and return\n            if (!this._dropEnabled || this._myid === obj.uid) {\n                this.updateDragStyles(false, obj.element);\n                return;\n            }\n\n            if (this.isTouching(obj.x, obj.y, obj.element)) {\n                // call the pipDraggable pipDragSuccess element callback\n                if (obj.callback) {\n                    obj.callback(obj);\n                }\n\n                if (this.$attrs.pipDropSuccess) {\n                    this.$timeout(() => {\n                        this.onDropCallback(this.$scope, {\n                            $data: obj.data,\n                            $event: obj,\n                            $target: this.$scope.$eval(this.$scope.value)\n                        });\n                    });\n                }\n            }\n\n            if (this.$attrs.pipDragStop) {\n                this.$timeout(() => {\n                    this.onDragStopCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n\n            this.updateDragStyles(false, obj.element);\n        }\n\n        private isTouching(mouseX, mouseY, dragElement) {\n            const touching = this.hitTest(mouseX, mouseY);\n            this.$scope.isTouching = touching;\n            if (touching) {\n                this._lastDropTouch = this.$element;\n            }\n            this.updateDragStyles(touching, dragElement);\n            return touching;\n        }\n\n        private updateDragStyles(touching, dragElement) {\n            if (touching) {\n                this.$element.addClass('pip-drag-enter');\n                dragElement.addClass('pip-drag-over');\n            } else if (this._lastDropTouch == this.$element) {\n                this._lastDropTouch = null;\n                this.$element.removeClass('pip-drag-enter');\n                dragElement.removeClass('pip-drag-over');\n            }\n        };\n\n        private hitTest(x, y) {\n            const bounds = this.$element[0].getBoundingClientRect();\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\n            return x >= bounds.left &&\n                x <= bounds.right &&\n                y <= bounds.bottom &&\n                y >= bounds.top;\n        }\n    }\n\n    const Drop = function (\n        $parse: ng.IParseService,\n        $document: ng.IDocumentService,\n        $timeout: ng.ITimeoutService,\n        pipDraggable: IDraggableService,\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: IDropLinkScope,\n                $element: JQuery,\n                $attrs: IDropLinkAttributes\n            ) {\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipDrop', Drop);\n}","{\n\n    class PreventDragLink {\n        constructor(\n            private $element: JQuery\n        ) {\n            this.initialize();\n        }\n\n        private initialize() {\n            this.$element.attr('pip-draggable', 'false');\n            this.toggleListeners(true);\n        }\n\n        private toggleListeners(enable) {\n            // remove listeners\n            if (!enable) return;\n            // add listeners.\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\n        }\n\n        private absorbEvent_(event) {\n            const e = event.originalEvent;\n            e.preventDefault && e.preventDefault();\n            e.stopPropagation && e.stopPropagation();\n            e.cancelBubble = true;\n            e.returnValue = false;\n            return false;\n        }\n\n    }\n\n    const PreventDrag = function (): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: ng.IAttributes\n            ) {\n                new PreventDragLink($element);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipPreventDrag', PreventDrag);\n}","angular.module(\"pipDraggable\", []);\n\nimport './DraggableService';\nimport './Drag';\nimport './Drop';\nimport './PreventDrag';\nimport './CancelDrag';\n","{\n    interface FocusedScope extends ng.IScope {\n        pipFocusedColor: Function;\n        pipFocusedClass: Function;\n        pipFocusedRebind: Function;\n        pipFocusedTabindex: Function;\n        pipFocusedOpacity: Function;\n        pipFocusedData: Function;\n        pipWithHidden: Function;\n        pipRebind: Function;\n    }\n\n    interface FocusedAttributes extends ng.IAttributes {\n        ngModel: any;\n        pipFocusedData: any;\n    }\n\n    class FocusedLink implements ng.IDirective {\n        private controls: JQuery;\n        private controlsLength: number;\n        private color: string;\n        private opacityDelta: number = 0.4;\n        private opacityLimit: number = 0.5;\n        private oldBackgroundColor: string;\n        private onFocusClass: string;\n\n        constructor(\n            private $scope: FocusedScope,\n            private $element: JQuery,\n            $attrs: FocusedAttributes,\n            private $timeout: ng.ITimeoutService,\n            private $mdConstant: any,\n            private $window: ng.IWindowService\n        ) {\n\n            $element.on('keydown', (e) => {\n                this.keydownListener(e);\n            });\n\n            $timeout(() => {\n                this.init();\n            });\n\n            if ($attrs.ngModel) {\n                $scope.$watch('ngModel', function () {\n                    $timeout(this.init);\n                }, true);\n            }\n\n            if ($attrs.pipFocusedData) {\n                $scope.$watch('pipFocusedData', function () {\n                    $timeout(this.init);\n                }, true);\n            }\n        }\n\n        private init() {\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\n            this.controls = this.$element.find(selector);\n            this.controlsLength = this.controls.length;\n            this.checkTabindex(this.controls);\n            // Add event listeners\n            this.controls.on('focus', (event) => {\n                const target = event.currentTarget;\n                if ($(target).hasClass('md-focused')) {\n                    return;\n                }\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\n                    this.init();\n                }\n                this.$element.addClass('pip-focused-container');\n                $(target).addClass(this.onFocusClass);\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\n\n                    this.color = $(target).css('backgroundColor');\n                    this.oldBackgroundColor = this.color;\n                    $(target).css('backgroundColor', this.rgba(this.color));\n                    $(target).addClass('md-focused');\n                } else {\n                    $(target).addClass('md-focused md-focused-opacity');\n                }\n\n            }).on('focusout', (event) => {\n                const target = event.currentTarget;\n                if (!$(target).hasClass('md-focused')) {\n                    return;\n                }\n                this.$element.removeClass('pip-focused-container');\n                $(target).removeClass(this.onFocusClass);\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\n                    $(target).removeClass('md-focused md-focused-opacity');\n                } else {\n                    $(target).removeClass('md-focused');\n                }\n            });\n        }\n\n        private rgba(color) {\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\n                return this.$scope.pipFocusedColor();\n            }\n\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\n\n            if (!arr || arr.length < 3) {\n                return ''\n            }\n\n            let red, blue, green, opacity;\n\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\n            red = arr[0];\n            blue = arr[1];\n            green = arr[2];\n\n            if (opacity < this.opacityLimit) {\n                opacity += this.opacityDelta;\n            } else {\n                opacity -= this.opacityDelta;\n            }\n\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\n        }\n\n        private setTabindex(element, value) {\n            element.attr('tabindex', value);\n        }\n\n        private checkTabindex(controls) {\n            const index = _.findIndex(controls, (c) => {\n                return c['tabindex'] > -1;\n            });\n\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\n            }\n        }\n\n        private keydownListener(e) {\n            const keyCode = e.which || e.keyCode;\n            // Check control keyCode\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\n            ) {\n                e.preventDefault();\n\n                const\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\n                // Move focus to next control\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\n                    this.controls[moveToControl].focus();\n                }\n            }\n        }\n    }\n\n    const Focused = function ($timeout: ng.ITimeoutService, \n        $mdConstant: any, \n        $window: ng.IWindowService\n    ): ng.IDirective {\n        return {\n            scope: {\n                pipFocusedColor: '&?',\n                pipFocusedClass: '&?',\n                pipFocusedRebind: '&?',\n                pipFocusedTabindex: '&?',\n                pipFocusedOpacity: '&?',\n                pipFocusedData: '&?',\n                pipWithHidden: '&?',\n                pipRebind: '&?'\n            },\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipFocused\", [])\n        .directive('pipFocused', Focused);\n}","{\n    interface InfiniteScrollScope extends ng.IScope {\n        pipInfiniteScroll: Function;\n        pipScrollContainer: JQuery;\n        pipScrollDistance: number | string;\n        pipScrollDisabled: boolean;\n        pipScrollUseDocumentBottom: boolean;\n        pipScrollListenForEvent: string;\n    }\n\n    interface InfiniteScrollAttributes extends ng.IAttributes {\n        pipScrollParent: any;\n        pipScrolImmediateCheck: any;\n    }\n\n    class InfiniteScrollLink {\n        private THROTTLE_MILLISECONDS: number = 500;\n        private checkWhenEnabled = null;\n        private scrollContainer = null;\n        private immediateCheck = true;\n        private scrollDistance = null;\n        private scrollEnabled = null;\n        private unregisterEventListener = null;\n        private useDocumentBottom = false;\n        private windowElement = null;\n        private onContainerScrollThrottle: Function;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $window: ng.IWindowService,\n            private $interval: ng.IIntervalService,\n            private $scope: InfiniteScrollScope,\n            private $element: JQuery,\n            private $attrs: InfiniteScrollAttributes\n        ) {\n            this.windowElement = angular.element($window);\n\n            this.onContainerScrollThrottle = _.throttle(() => {\n                this.onContainerScroll();\n            }, this.THROTTLE_MILLISECONDS);\n\n            $scope.$on('$destroy', () => {\n                this.scrollContainer.unbind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n                if (this.unregisterEventListener !== null) {\n                    this.unregisterEventListener();\n                    return this.unregisterEventListener = null;\n                }\n            });\n\n            $scope.$watch('pipScrollDistance', (v) => {\n                this.handleScrollDistance(v);\n            });\n            this.handleScrollDistance($scope.pipScrollDistance);\n\n            $scope.$watch('pipScrollDisabled', (v) => {\n                this.handleScrollDisabled(v);\n            });\n            this.handleScrollDisabled($scope.pipScrollDisabled);\n\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\n                this.handleScrollUseDocumentBottom(v);\n            });\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\n\n            this.changeContainer(this.windowElement);\n            if ($scope.pipScrollListenForEvent) {\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n\n            $scope.$watch('pipScrollContainer', (newContainer) => {\n                if (newContainer != this.scrollContainer)\n                    this.handleScrollContainer(newContainer);\n            });\n            this.handleScrollContainer($scope.pipScrollContainer || []);\n\n            if ($attrs.pipScrollParent !== null) {\n                this.changeContainer(angular.element($element.parent()));\n            }\n            if ($attrs.pipScrolImmediateCheck !== null) {\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\n            }\n\n            $interval((function () {\n                if (this.immediateCheck) {\n                    return this.onContainerScrollThrottle();\n                }\n            }), 0, 1);\n        }\n\n        private height(element) {\n            element = element[0] || element;\n            if (isNaN(element.offsetHeight)) {\n                return element.document.documentElement.clientHeight;\n            } else {\n                return element.offsetHeight;\n            }\n        }\n\n        private offsetTop(element) {\n            if (!element[0].getBoundingClientRect || element.css('none')) {\n                return;\n            }\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\n        }\n\n        private pageYOffset(element) {\n            element = element[0] || element;\n            if (isNaN(window.pageYOffset)) {\n                return element.document.documentElement.scrollTop;\n            } else {\n                return element.ownerDocument.defaultView.pageYOffset;\n            }\n        }\n\n        private onContainerScroll() {\n            let containerBottom,\n                containerTopOffset,\n                elementBottom,\n                remaining,\n                shouldScroll;\n\n            if (this.scrollContainer === this.windowElement) {\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\n            } else {\n                containerBottom = this.height(this.scrollContainer);\n                containerTopOffset = 0;\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\n                }\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\n            }\n\n            if (this.useDocumentBottom) {\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\n            }\n\n            remaining = elementBottom - containerBottom;\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\n\n            if (shouldScroll) {\n                this.checkWhenEnabled = true;\n                if (this.scrollEnabled) {\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\n                        return this.$scope.pipInfiniteScroll();\n                    } else {\n                        return this.$scope.$apply(() => {\n                            this.$scope.pipInfiniteScroll();\n                        });\n                    }\n                }\n            } else {\n                return this.checkWhenEnabled = false;\n            }\n        }\n\n        private handleScrollDistance(v) {\n            return this.scrollDistance = parseFloat(v) || 0;\n        }\n\n        private handleScrollDisabled(v) {\n            this.scrollEnabled = !v;\n            if (this.scrollEnabled && this.checkWhenEnabled) {\n                this.checkWhenEnabled = false;\n                this.onContainerScrollThrottle();\n            }\n        }\n\n        private handleScrollUseDocumentBottom(v) {\n            return this.useDocumentBottom = v;\n        }\n\n        private changeContainer(newContainer) {\n            if (this.scrollContainer) {\n                this.scrollContainer.unbind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n\n            this.scrollContainer = newContainer;\n            if (newContainer) {\n                return this.scrollContainer.bind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n        }\n\n        private handleScrollContainer(newContainer) {\n            if ((newContainer == null) || newContainer.length === 0) {\n                return;\n            }\n            if (newContainer instanceof HTMLElement) {\n                newContainer = angular.element(newContainer);\n            } else if (typeof newContainer.append === 'function') {\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\n            } else if (typeof newContainer === 'string') {\n                newContainer = this.$element.parents().find(newContainer);\n            }\n\n            if (newContainer != null && (!Array.isArray(newContainer) ||\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\n                return this.changeContainer(newContainer);\n            } else {\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\n            }\n        }\n\n    }\n\n    const InfiniteScroll = function (\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        $interval: ng.IIntervalService\n    ): ng.IDirective {\n        return {\n            scope: {\n                pipInfiniteScroll: '&',\n                pipScrollContainer: '=',\n                pipScrollDistance: '=',\n                pipScrollDisabled: '=',\n                pipScrollUseDocumentBottom: '=',\n                pipScrollListenForEvent: '@'\n            },\n            link: function (\n                $scope: InfiniteScrollScope,\n                $element: JQuery,\n                $attrs: InfiniteScrollAttributes\n            ) {\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipInfiniteScroll\", [])\n        .directive('pipInfiniteScroll', InfiniteScroll);\n}","{\n    interface SelectedAttributes extends ng.IAttributes {\n        pipSelected: any;\n        pipSelectedId: any;\n        pipSelect: any;\n        pipEnterSpacePress: any;\n        pipNoScroll: any;\n        pipSkipHidden: any;\n        pipTreeList: any;\n        pipSelectedWatch: any;\n    }\n\n    class SelectedLink {\n        private indexGetter: any;\n        private indexSetter: any;\n        private idSetter: any;\n        private idGetter: any;\n        private changeGetter: any;\n        private enterSpaceGetter: any;\n        private noScroll: any;\n        private modifier: any;\n        private className: any;\n        private selectedIndex: any;\n        private currentElementTabinex: any;\n        private pipSelectedWatch: any;\n        private isScrolled: any;\n        // Variables for touch functions\n        private touchStartX: any;\n        private touchStartY: any;\n        private trackingClick: any;\n        private trackingClickStart: any;\n        private targetElement: any;\n        private lastClickTime: any;\n        private cancelNextClick: any;\n        // Constants for touch functions\n        private touchBoundary: number = 10;\n        private tapdelay: number = 200;\n        private tapTimeout: number = 700;\n\n        constructor(\n            $parse: ng.IParseService,\n            private $mdConstant: any,\n            private $timeout: ng.ITimeoutService,\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs: SelectedAttributes\n        ) {\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\n            this.noScroll = $attrs.pipNoScroll;\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\n            this.selectedIndex = this.indexGetter($scope);\n            this.currentElementTabinex = $element.attr('tabindex');\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\n            this.isScrolled = false;\n\n            $element.attr('tabindex', this.currentElementTabinex || 0);\n\n            $element.on('click', this.className, (event) => {\n                this.onClickEvent(event);\n            });\n            $element.on('touchstart', this.className, (event) => {\n                this.onTouchStart(event);\n            });\n            $element.on('touchmove', this.className, (event) => {\n                this.onTouchMove(event);\n            });\n            $element.on('touchend', this.className, (event) => {\n                this.onTouchEnd(event);\n            });\n            $element.on('touchcancel', this.className, (event) => {\n                this.onTouchCancel(event);\n            });\n            $element.on('keydown', (event) => {\n                this.onKeyDown(event);\n            });\n            $element.on('focusin', (event) => {\n                this.onFocusIn(event);\n            });\n            $element.on('focusout', (event) => {\n                this.onFocusOut(event);\n            });\n\n            // Watch selected item index\n            if (!$attrs.pipTreeList) {\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\n                    this.selectItem({\n                        itemIndex: newSelectedIndex\n                    });\n                });\n            } else {\n                $scope.$watch(this.idGetter, (newSelectedId) => {\n                    $timeout(() => {\n                        this.selectItem({\n                            itemId: newSelectedId,\n                            raiseEvent: true\n                        });\n                    }, 0);\n                });\n            }\n\n            // Watch resync selection\n            if (this.pipSelectedWatch) {\n                $scope.$watch(this.pipSelectedWatch, () => {\n                    // Delay update to allow ng-repeat to update DOM\n                    $timeout(() => {\n                        this.selectedIndex = this.indexGetter($scope);\n                        this.selectItem({\n                            itemIndex: this.selectedIndex\n                        });\n                    }, 100);\n                });\n            }\n\n            // Select item defined by index\n            this.selectItem({\n                itemIndex: this.selectedIndex,\n                items: $element.find(this.className)\n            });\n        }\n\n        private selectItem(itemParams) {\n            if (this.isScrolled) return;\n            let itemIndex = itemParams.itemIndex,\n                itemId = itemParams.itemId,\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\n                itemsLength = items.length,\n                item = () => {\n                    if (itemParams.item) return itemParams.item;\n                    if (itemIndex === undefined && itemIndex === -1) {\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\n                    }\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\n                        return items[itemIndex]\n                    }\n\n                    return false;\n                },\n                raiseEvent = itemParams.raiseEvent;\n                item = item();\n            if (item) {\n                this.$element.find(this.className).removeClass('selected md-focused');\n                item = <any>angular.element(item)\n                    .addClass('selected md-focused')\n                    .focus();\n                if (!this.noScroll) this.scrollToItem(item);\n                if (raiseEvent) this.defineSelectedIndex(items);\n            }\n        };\n\n        private defineSelectedIndex(items) {\n            const oldSelectedIndex = this.selectedIndex;\n            this.selectedIndex = -1;\n            for (var index = 0; index < items.length; index++) {\n                if ($(items[index]).hasClass('selected')) {\n                    this.selectedIndex = index;\n\n                    break;\n                }\n            }\n\n            const updateIndex = () => {\n                const selectedItem = angular.element(items[this.selectedIndex]),\n                    selectedId = selectedItem.attr('pip-id');\n\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\n                onSelect();\n            };\n\n            const onSelect = () => {\n                const selectedItem = angular.element(items[this.selectedIndex]),\n                    selectedId = selectedItem.attr('pip-id');\n\n                if (this.changeGetter) {\n                    this.changeGetter(this.$scope, {\n                        $event: {\n                            target: this.$element,\n                            item: selectedItem,\n                            index: this.selectedIndex,\n                            id: selectedId,\n                            newIndex: this.selectedIndex,\n                            oldIndex: oldSelectedIndex\n                        }\n                    });\n                }\n            }\n\n            // Execute callback to notify about item select\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\n                this.$scope.$apply(() => { updateIndex(); });\n            } else {\n                this.$scope.$apply(() => { onSelect(); });\n            }\n        };\n\n        private scrollToItem($item) {\n            if (this.noScroll || !$item.offset()) return;\n\n            const\n                containerTop = this.$element.offset().top,\n                containerHeight = this.$element.height(),\n                containerBottom = containerTop + containerHeight,\n                itemTop = $item.offset().top,\n                itemHeight = $item.outerHeight(true),\n                itemBottom = itemTop + itemHeight,\n                containerScrollTop = this.$element.scrollTop();\n\n            this.isScrolled = true;\n            this.$timeout(() => {\n                this.isScrolled = false;\n            }, 100);\n\n            if (containerTop > itemTop) {\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\n            } else if (containerBottom < itemBottom) {\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\n            }\n        };\n\n        private getTargetElementFromEventTarget(eventTarget) {\n            // On some older browsers the event target may be a text node.\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\n                return eventTarget.parentNode;\n            }\n\n            return eventTarget;\n        };\n\n        private touchHasMoved(event) {\n            const touch = event.changedTouches[0],\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\n\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n                return true;\n            }\n\n            return false;\n        };\n\n        private onClickEvent(event) {\n            this.selectItem({\n                item: event.currentTarget,\n                raiseEvent: true\n            });\n        }\n\n        private onTouchStart(event) {\n            const ev = event.originalEvent;\n            if (ev['targetTouches'].length > 1) {\n                return true;\n            }\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\n                touch = ev['targetTouches'][0];\n\n            this.trackingClick = true;\n            this.trackingClickStart = ev.timeStamp;\n            this.targetElement = targetElement;\n\n            this.touchStartX = touch.pageX;\n            this.touchStartY = touch.pageY;\n\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\n                //  event.preventDefault();\n            }*/\n\n            return true;\n        }\n\n        private onTouchMove(event) {\n            if (!this.trackingClick) {\n                return true;\n            }\n            const ev = event.originalEvent;\n            // If the touch has moved, cancel the click tracking\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\n                this.trackingClick = false;\n                this.targetElement = null;\n            }\n\n            return true;\n        }\n\n        private onTouchEnd(event) {\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\n\n            if (!this.trackingClick) {\n                return true;\n            }\n            const ev = event.originalEvent;\n            // Prevent phantom clicks on fast double-tap \n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\n                this.cancelNextClick = true;\n                return true;\n            }\n\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n                return true;\n            }\n\n            // Reset to prevent wrong click cancel on input \n            this.cancelNextClick = false;\n\n            this.lastClickTime = event.timeStamp;\n\n            newTrackingClickStart = this.trackingClickStart;\n            this.trackingClick = false;\n            this.trackingClickStart = 0;\n\n            this.selectItem({\n                item: event.currentTarget,\n                raiseEvent: true\n            });\n\n            return false;\n        }\n\n        private onTouchCancel(event) {\n            this.trackingClick = false;\n            this.targetElement = null;\n        }\n\n        private onKeyDown(event) {\n            var keyCode = event.which || event.keyCode;\n\n            // Check control keyCode\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                if (this.enterSpaceGetter) {\n                    this.enterSpaceGetter(this.$scope, {\n                        $event: {\n                            target: this.$element,\n                            index: this.selectedIndex,\n                            item: this.$element.find('.selected')\n                        }\n                    });\n                }\n\n            } else\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\n            ) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                // Get next selectable control index\n                const items = this.$element.find(this.className + this.modifier),\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                    newSelectedIndex = this.selectedIndex + inc;\n\n                // Set next control as selected\n                this.selectItem({\n                    itemIndex: newSelectedIndex,\n                    items: items,\n                    raiseEvent: true\n                });\n            }\n        }\n\n        private onFocusIn(event) {\n            // Choose selected element\n            let items,\n                selectedItem = this.$element.find(this.className + '.selected');\n\n            selectedItem.addClass('md-focused');\n\n            // If there are not selected elements then pick the first one\n            if (selectedItem.length === 0) {\n                this.selectedIndex = this.indexGetter(this.$scope);\n                items = this.$element.find(this.className + this.modifier);\n                this.selectItem({\n                    itemIndex: this.selectedIndex || 0,\n                    items: items,\n                    raiseEvent: true\n                });\n            }\n        }\n\n        private onFocusOut(event) {\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\n        }\n    }\n\n    const Selected = function (\n        $parse: ng.IParseService,\n        $mdConstant: any,\n        $timeout: ng.ITimeoutService\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            scope: false,\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: SelectedAttributes\n            ) {\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipSelected\", [])\n        .directive('pipSelected', Selected);\n}","import { ShortcutOptions } from \"./Shortcut\";\n\nexport class ShortcutItem {\n    // Shortcut combination\n    public shortcut: string;\n    // Target object \n    public target?: any;\n    // Target element by Id\n    public targetId?: string;\n    // Target element by class (firstelement??)\n    // Public targetClass?: string;\n    // Access function\n    public access?: (event: JQueryEventObject) => boolean;\n    // Window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public keypress?: (event: JQueryEventObject) => void;\n    // Default options\n    public options?: ShortcutOptions;    \n}\n\n// export class ShortcutItem extends SimpleShortcutItem {\n//     public shortcuts: SimpleShortcutItem[];\n// }\n\nexport class ShortcutsConfig {\n    // Global shortcut \n    public globalShortcuts: ShortcutItem[] = [];\n    // Local shortcut \n    public localShortcuts: ShortcutItem[] = [];\n    // Default options\n    public defaultOptions: ShortcutOptions = null;\n}\n\nexport interface IShortcutsService {\n    readonly config: ShortcutsConfig;\n\n    globalShortcuts: ShortcutItem[];\n    localShortcuts: ShortcutItem[];\n}\n\nexport interface IShortcutsProvider extends ng.IServiceProvider {\n    config: ShortcutsConfig;\n    \n    globalShortcuts: ShortcutItem[];\n    defaultOptions: ShortcutOptions;\n}\n","export class KeyboardEvent {\n    static Keydown: string = 'keydown';\n    static Keyup: string = 'keyup';\n    static Keypress: string = 'keypress';\n}\n\nexport class ShortcutOptions {\n    Type: KeyboardEvent;\n    Propagate: boolean;\n    DisableInInput: boolean;\n    Target: any; // Event target object\n    Keycode: number;\n}\n\nexport class Shortcut {\n    private shift_nums = {\n        \"`\": \"~\",\n        \"1\": \"!\",\n        \"2\": \"@\",\n        \"3\": \"#\",\n        \"4\": \"$\",\n        \"5\": \"%\",\n        \"6\": \"^\",\n        \"7\": \"&\",\n        \"8\": \"*\",\n        \"9\": \"(\",\n        \"0\": \")\",\n        \"-\": \"_\",\n        \"=\": \"+\",\n        \";\": \":\",\n        \"'\": \"\\\"\",\n        \",\": \"<\",\n        \".\": \">\",\n        \"/\": \"?\",\n        \"\\\\\": \"|\"\n    };\n\n    private special_keys = {\n        'esc': 27,\n        'escape': 27,\n        'tab': 9,\n        'space': 32,\n        'return': 13,\n        'enter': 13,\n        'backspace': 8,\n\n        'scrolllock': 145,\n        'scroll_lock': 145,\n        'scroll': 145,\n        'capslock': 20,\n        'caps_lock': 20,\n        'caps': 20,\n        'numlock': 144,\n        'num_lock': 144,\n        'num': 144,\n\n        'pause': 19,\n        'break': 19,\n\n        'insert': 45,\n        'home': 36,\n        'delete': 46,\n        'end': 35,\n\n        'pageup': 33,\n        'page_up': 33,\n        'pu': 33,\n\n        'pagedown': 34,\n        'page_down': 34,\n        'pd': 34,\n\n        'left': 37,\n        'up': 38,\n        'right': 39,\n        'down': 40,\n\n        'f1': 112,\n        'f2': 113,\n        'f3': 114,\n        'f4': 115,\n        'f5': 116,\n        'f6': 117,\n        'f7': 118,\n        'f8': 119,\n        'f9': 120,\n        'f10': 121,\n        'f11': 122,\n        'f12': 123\n    };\n\n    private modifiers = {\n        shift: { wanted: false, pressed: false },\n        ctrl: { wanted: false, pressed: false },\n        alt: { wanted: false, pressed: false },\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\n    };\n\n    public eventCallback: Function;\n    public target: any;\n    public event: KeyboardEvent;\n    public option: ShortcutOptions;\n    public shorcut: string;\n    public callback: Function;\n\n    public constructor(\n        element: any,\n        shorcutCombination: string,\n        option: ShortcutOptions,\n        callback: (e?: JQueryEventObject) => void\n    ) {\n        \"ngInject\";\n\n        this.target = element;\n        this.shorcut = shorcutCombination;\n        this.event = option.Type;\n        this.option = option;\n        this.callback = callback;\n\n        this.eventCallback = (event: JQueryEventObject) => {\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\n            let code: number;\n\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\n                let element;\n                if (e.target) {\n                    element = e.target;\n                } else if (e.srcElement) {\n                    element = e.srcElement;\n                }\n\n                if (element.nodeType == 3) {\n                    element = element.parentNode;\n                }\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\n            }\n            // Find Which key is pressed\n            if (e.keyCode) {\n                code = e.keyCode;\n            } else if (e.which) {\n                code = e.which;\n            }\n\n            let character = String.fromCharCode(code).toLowerCase();\n\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\n\n            let keys: string[] = this.shorcut.split(\"+\");\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\n            let kp: number = 0;\n\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\n\n            let i: number = 0;\n            for (i = 0; i < keys.length; i++) {\n                let k: string = keys[i];\n                // Modifiers\n                if (k == 'ctrl' || k == 'control') {\n                    kp++;\n                    this.modifiers.ctrl.wanted = true;\n                } else if (k == 'shift') {\n                    kp++;\n                    this.modifiers.shift.wanted = true;\n                } else if (k == 'alt') {\n                    kp++;\n                    this.modifiers.alt.wanted = true;\n                } else if (k == 'meta') {\n                    kp++;\n                    this.modifiers.meta.wanted = true;\n                } else if (k.length > 1) { // If it is a special key\n                    if (this.special_keys[k] == code) {\n                        kp++;\n                    }\n                } else if (this.option.Keycode) {\n                    if (this.option.Keycode == code) kp++;\n                } else { // The special keys did not match\n                    if (character == k) kp++;\n                    else {\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\n                            character = this.shift_nums[character];\n                            if (character == k) {\n                                kp++;\n                            }\n                        }\n                    }\n                }\n            }\n            \n            if (kp == keys.length &&\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\n\n                this.callback(e);\n\n                if (!this.option.Propagate) { // Stop the event\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n\n                    // e.stopPropagation works in Firefox.\n                    if (e.stopPropagation) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                    }\n\n                    return false;\n                }\n            }\n            this.modifiers.ctrl.pressed = false;\n            this.modifiers.shift.pressed = false;\n            this.modifiers.alt.pressed = false;\n            this.modifiers.meta.pressed = false;\n        };\n    }\n}\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\n\n{\n    class ShortcutBindingService implements IShortcutBindingService {\n        private _log: ng.ILogService;\n        private _defaultOption: ShortcutOptions;\n        private _shortcuts: IKeyboardShortcuts = {};\n\n        public constructor(\n            $log: ng.ILogService,\n            option: ShortcutOptions\n        ) {\n            \"ngInject\";\n            this._log = $log;\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\n        }\n\n        private getDefaultOption(): ShortcutOptions {\n            let defaultOption: ShortcutOptions = {\n                Type: KeyboardEvent.Keydown,\n                Propagate: false,\n                DisableInInput: false,\n                Target: document,\n                Keycode: null\n            };\n\n            return defaultOption;\n        }\n\n        public get shortcuts(): IKeyboardShortcuts {\n            return this._shortcuts;\n        }\n\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\n            this.remove(shortcut);\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\n            let shortcutCombination: string = shortcut.toLowerCase();\n            let element = shortcutOption.Target;\n\n            if (typeof shortcutOption.Target == 'string') {\n                element = document.getElementById(shortcutOption.Target);\n            } else {\n                element = shortcutOption.Target;\n            }\n\n            if (!element) {\n                this._log.error('Register shortcut: element undentified!');\n                return;\n            }\n\n            if (!shortcutCombination) {\n                this._log.error('Register shortcut: shortcut combination undentified!');\n                return;\n            }\n\n            if (!callback) {\n                this._log.error('Register shortcut: shorcut callback undentified!');\n                return;\n            }\n\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\n\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\n\n            //Attach the function with the event\n            if (element.addEventListener) {\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\n            } else if (element.attachEvent) {\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\n            } else {\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\n            }\n        }\n\n        public remove(shorcut: string): void {\n            let shortcutCombination = shorcut.toLowerCase();\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\n\n            delete(this._shortcuts[shortcutCombination])\n            if (!binding) return;\n\n            let type = binding.event;\n            let element = binding.target;\n            let callback = binding.eventCallback;\n\n            if (element.detachEvent) {\n                element.detachEvent('on' + type, callback);\n            } else if (element.removeEventListener) {\n                element.removeEventListener(type, callback, false);\n            } else {\n                // element['on' + type] = false;\n                element.off(type, callback);\n            }\n        }\n    }\n\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\n        private _service: ShortcutBindingService;\n        private _option: ShortcutOptions;\n\n        public get option(): ShortcutOptions {\n            return this._option;\n        }\n\n        public set option(value: ShortcutOptions) {\n            this._option = value || new ShortcutOptions();\n        }\n\n        public $get(\n            $log: ng.ILogService\n        ) {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new ShortcutBindingService($log, this._option);\n\n            return this._service;\n        }\n    }\n\n    angular\n        .module('pipShortcuts')\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\n}","import { ShortcutOptions } from \"./Shortcut\";\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\n\ninterface ShortcutAttributes extends ng.IAttributes {\n    pipShortcutAction: any;\n    pipShortcutName: any;\n    pipShorcutOptions: ShortcutOptions;\n}\n\nclass ShortcutController implements ng.IController  {\n    private actionShortcuts: Function;\n    private nameShortcuts: string;\n    private options: ShortcutOptions;\n\n    constructor(\n        $element: JQuery,\n        $attrs: ShortcutAttributes,\n        $scope: ng.IScope,\n        $log: ng.ILogService,\n        $parse: ng.IParseService,\n        pipShortcutBinding: IShortcutBindingService\n    ) {\n        \"ngInject\";\n\n        if ($attrs.pipShortcutAction) {\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\n            this.actionShortcuts($scope, {$event: {}});\n        } else {\n            $log.error('Shortcut action does not set.');\n\n            return\n        }\n\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\n            this.nameShortcuts = $attrs.pipShortcutName;\n        } else {\n            $log.error('Shortcut name does not set.');\n\n            return\n        }\n\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\n        this.options.Target = $element;\n        \n        // Registration of keybord shortcuts\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\n            this.actionShortcuts($scope, {$event: {'e': e}});          \n        }, this.options);\n    }\n\n    private keypressShortcut(action) {\n        this.actionShortcuts();\n    }\n}\n\n// Prevent junk from going into typescript definitions\n{\n    const shortcutsDirective = function(): ng.IDirective {\n        return {\n            restrict: 'A',\n            scope: false,            \n            controller: ShortcutController\n        };\n    }\n\n    angular\n        .module('pipShortcuts')\n        .directive('pipShortcut', shortcutsDirective);\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\n\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\n\nclass ShortcutsService implements IShortcutsService {\n    private _oldConfig: ShortcutsConfig;\n    private _config: ShortcutsConfig;\n\n    public constructor(\n        config: ShortcutsConfig,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService, \n        private $location: ng.ILocationService, \n        private $injector: ng.auto.IInjectorService,\n        private pipShortcutBinding: IShortcutBindingService\n    ) {\n        this._config = config;\n        this._oldConfig = _.cloneDeep(this._config);\n\n        // Add shortcuts\n        this.addShortcuts(this._config.globalShortcuts);\n        this.addShortcuts(this._config.localShortcuts);        \n    }\n\n    // Describe private functions\n    private sendChangeEvent() {\n        // Remove shortcuts\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\n        this.removeShortcuts(this._oldConfig.localShortcuts);\n\n        // Add shortcuts\n        this.addShortcuts(this.config.globalShortcuts);\n        this.addShortcuts(this.config.localShortcuts);\n\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\n\n        // Save current config to oldConfig\n        this._oldConfig = _.cloneDeep(this.config);\n    }\n\n    private removeShortcuts(collection: ShortcutItem[]): void {\n        _.each(collection, (k) => {\n            this.pipShortcutBinding.remove(k.shortcut);\n        });\n    }\n\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\n        if (item.access && _.isFunction(item.access)) {\n            if (!item.access(event)) {\n                return;\n            }\n        } \n\n        if (item.keypress) {\n            item.keypress(event);\n            return;\n        }\n\n        if (item.href) {\n            this.$window.location.href = item.href;\n            return;\n        }\n\n        if (item.url) {\n            this.$location.url(item.url);\n            return;\n        }\n\n        if (item.state) {\n            if (this.$injector.has('$state')) {\n                var $state = this.$injector.get('$state');\n                $state['go'](item.state, item.stateParams);\n            }\n            return;\n        }\n\n        if (item.event) {\n            this.$rootScope.$broadcast(item.event);\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\n        }\n    }\n\n    private addShortcuts(collection: ShortcutItem[]): void {\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\n        \n        _.each(collection, (k) => {\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\n            let target: any;\n\n            target = k.target ? k.target : k.targetId;\n            option.Target = target;\n            // Registration of keyboard shortcut\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\n                this.keypressShortcut(k, e);        \n            }, option);              \n        });\n    }\n\n    // Describe public functions \n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public get defaultOptions(): ShortcutOptions {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOptions) {\n        this._config.defaultOptions = value || null;\n        this.sendChangeEvent();\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get localShortcuts(): ShortcutItem[] {\n        return this._config.localShortcuts;\n    }\n\n    public set localShortcuts(value: ShortcutItem[]) {\n        this._config.localShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n}\n\nclass ShortcutsProvider implements IShortcutsProvider {\n    private _config: ShortcutsConfig = new ShortcutsConfig();\n    private _service: ShortcutsService;\n\n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public set config(value: ShortcutsConfig) {\n        this._config = value || new ShortcutsConfig();\n    }\n\n    public get defaultOptions(): ShortcutOptions {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOptions) {\n        this._config.defaultOptions = value || null;\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService, \n        $window: ng.IWindowService, \n        $location: ng.ILocationService, \n        $injector: ng.auto.IInjectorService,\n        pipShortcutBinding: IShortcutBindingService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipShortcuts')\n    .provider('pipShortcuts', ShortcutsProvider);\n\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\n\nimport './ShortcutBindingService';\nimport './ShortcutsService';\nimport './ShortcutDirective';\n\nexport * from './IShortcutsService';\nexport * from './IShortcutBindingService';\nexport * from './ShortcutsService';\nexport * from './ShortcutBindingService';","{\n    interface UnsavedChangesScope extends ng.IScope {\n        unsavedChangesAvailable: Function;\n        unsavedChangesMessage: string;\n        cancelLeave: Function;\n        afterLeave: Function;\n    }\n\n    class UnsavedChangesLink {\n        constructor(\n            $scope: UnsavedChangesScope,\n            $window: ng.IWindowService\n        ) {\n            $window.onbeforeunload = () => {\n                if ($scope.unsavedChangesAvailable()) {\n                    return $scope.unsavedChangesMessage;\n                }\n            };\n\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\n                    event.preventDefault();\n                } else {\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\n                }\n            });\n\n            $scope.$on('$destroy', () => {\n                $window.onbeforeunload = null;\n                unbindFunc();\n            });\n        }\n    }\n\n    const UnsavedChanges = function ($window: ng.IWindowService) {\n        return {\n            restrict: 'AE',\n            scope: {\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\n                afterLeave: '&pipUnsavedChangesAfterLeave',\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\n            },\n            link: function ($scope: UnsavedChangesScope) {\n                new UnsavedChangesLink($scope, $window);\n            }\n        };\n    }\n\n    angular\n        .module(\"pipUnsavedChanges\", [])\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\n}","{\n    interface IColorPickerBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        colors: any;\n        currentColor: any;\n        colorChange: any;\n    }\n\n    interface IColorPickerAttributes extends ng.IAttributes {\n        class: string;\n    }\n\n    const ColorPickerBindings: IColorPickerBindings = {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '&?ngChange'\n    }\n\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\n        currentColor: any;\n\n        ngDisabled: ng.IChangesObject < boolean > ;\n        colors: ng.IChangesObject < string[] > ;\n    }\n\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n    class ColorPickerController implements IColorPickerBindings {\n        public class: string;\n        public colors: string[];\n        public currentColor: string;\n        public currentColorIndex: number;\n        public ngDisabled: boolean;\n        public colorChange: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            $attrs: IColorPickerAttributes,\n            private $timeout: ng.ITimeoutService\n        ) { \n            this.class = $attrs.class || ''; \n        }\n\n        public $onChanges(changes: ColorPickerChanges) {\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\n                changes.colors.currentValue : DEFAULT_COLORS;\n            this.currentColor = this.currentColor || this.colors[0];\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\n\n            this.ngDisabled = changes.ngDisabled.currentValue;\n        }\n\n        public selectColor(index: number) {\n            if (this.ngDisabled) {\n                return;\n            }\n            this.currentColorIndex = index;\n            this.currentColor = this.colors[this.currentColorIndex];\n            this.$timeout(() => {\n                this.$scope.$apply();\n            });\n\n            if (this.colorChange) {\n                this.colorChange();\n            }\n        };\n\n        public enterSpacePress(event): void {\n            this.selectColor(event.index);\n        };\n\n    }\n\n    const pipColorPicker: ng.IComponentOptions = {\n        bindings: ColorPickerBindings,\n        templateUrl: 'color_picker/ColorPicker.html',\n        controller: ColorPickerController\n    }\n\n    angular\n        .module('pipColorPicker', ['pipControls.Templates'])\n        .component('pipColorPicker', pipColorPicker);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class pipImageSliderController implements ng.IController {\n        private _blocks: any[];\n        private _index: number = 0;\n        private _newIndex: number;\n        private _direction: string;\n        private _type: string;\n        private DEFAULT_INTERVAL:number = 4500;\n        private _interval: number | string;\n        private _timePromises;\n        private _throttled: Function;\n\n        public swipeStart: number = 0;\n        public sliderIndex: number;\n        public slideTo: Function;\n        public type: Function;\n        public interval: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs,\n            private $parse: ng.IParseService,\n            private $timeout: angular.ITimeoutService,\n            private $interval: angular.IIntervalService,\n            private pipImageSlider: IImageSliderService\n        ) {\n\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\n            this._type = this.type();\n            this._interval = this.interval();\n            this.slideTo = this.slideToPrivate;\n\n            $element.addClass('pip-image-slider');\n            $element.addClass('pip-animation-' + this._type);\n\n            this.setIndex();\n\n            $timeout(() => {\n                this._blocks = <any>$element.find('.pip-animation-block');\n                if (this._blocks.length > 0) {\n                    $(this._blocks[0]).addClass('pip-show');\n                }\n            });\n\n            this.startInterval();\n\n            this._throttled = _.throttle(() => {\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n                this._index = this._newIndex;\n                this.setIndex();\n            }, 700);\n\n            if ($attrs.id) {\n                pipImageSlider.registerSlider($attrs.id, $scope)\n            }\n\n            $scope.$on('$destroy', () => {\n                this.stopInterval();\n                pipImageSlider.removeSlider($attrs.id);\n            });\n\n        }\n\n        public nextBlock() {\n            this.restartInterval();\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }\n\n        public prevBlock() {\n            this.restartInterval();\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n            this._direction = 'prev';\n            this._throttled();\n        }\n\n        private slideToPrivate(nextIndex: number) {\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n                return;\n            }\n\n            this.restartInterval();\n            this._newIndex = nextIndex;\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\n            this._throttled();\n        }\n\n        private setIndex() {\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\n        }\n\n        private startInterval() {\n            this._timePromises = this.$interval(() => {\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n                this._direction = 'next';\n                this._throttled();\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\n        }\n\n        private stopInterval() {\n            this.$interval.cancel(this._timePromises);\n        }\n\n        private restartInterval() {\n            this.stopInterval();\n            this.startInterval();\n        }\n    }\n\n    const ImageSlider = function(): ng.IDirective {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular.module('pipImageSlider')\n        .directive('pipImageSlider', ImageSlider);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class ImageSliderService implements IImageSliderService {\n        private ANIMATION_DURATION: number = 550;\n        private _sliders: Object = {};\n\n        constructor(\n            private $timeout: angular.ITimeoutService\n        ) {}\n\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\n            this._sliders[sliderId] = sliderScope;\n        }\n\n        public removeSlider(sliderId: string): void {\n            delete this._sliders[sliderId];\n        }\n\n        public getSliderScope(sliderId: string) {\n            return this._sliders[sliderId];\n        }\n\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            nextBlock.addClass('pip-next');\n\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                prevBlock.addClass('animated').removeClass('pip-show');\n            }, 100);\n        }\n\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show');\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n            }, 100);\n        }\n\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n            const prevBlock = $(blocks[oldIndex]),\n                blockIndex = nextIndex,\n                nextBlock = $(blocks[blockIndex]);\n\n            if (type === 'carousel') {\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                if (direction && (direction === 'prev' || direction === 'next')) {\n                    if (direction === 'prev') {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                } else {\n                    if (nextIndex && nextIndex < oldIndex) {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                }\n            } else {\n                prevBlock.addClass('animated').removeClass('pip-show');\n                nextBlock.addClass('animated').addClass('pip-show');\n            }\n        }\n    }\n\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderButtonController implements ng.IController {\n        public direction: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.on('click', () => {\n                if (!this.sliderId() || !this.direction()) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\n            });\n        }\n    }\n\n    const SliderButton = function (): ng.IDirective {\n        return {\n            scope: {\n                direction: '&pipButtonType',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderButtonController\n        };\n    }\n\n    angular\n        .module('pipSliderButton', [])\n        .directive('pipSliderButton', SliderButton);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderIndicatorController implements ng.IController {\n        public slideTo: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.css('cursor', 'pointer');\n            $element.on('click', () => {\n                if (!this.sliderId() || this.slideTo() === undefined) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\n            });\n        }\n    }\n\n    const SliderIndicator = function (): ng.IDirective {\n        return {\n            scope: {\n                slideTo: '&pipSlideTo',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderIndicatorController\n        }\n    }\n\n    angular\n        .module('pipSliderIndicator', [])\n        .directive('pipSliderIndicator', SliderIndicator);\n}","angular\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\nimport './ImageSlider';\nimport './ImageSliderService';\nimport './SliderButton';\nimport './SliderIndicator';\n\nexport * from './IImageSliderService';","declare var marked: any;\n\n{\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            (<any>pipTranslate).setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            (<any>pipTranslate).setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\n                'checklist': 'Список',\n                'documents': 'Документы',\n                'pictures': 'Изображения',\n                'location': 'Местонахождение',\n                'time': 'Время'\n            });\n        }\n    }\n\n    interface IMarkdownBindings {\n        [key: string]: any;\n\n        text: any;\n        isList: any;\n        clamp: any;\n        rebind: any;\n    }\n\n    const MarkdownBindings: IMarkdownBindings = {\n        text: '<pipText',\n        isList: '<?pipList',\n        clamp: '<?pipLineCount',\n        rebind: '<?pipRebind'\n    }\n\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        text: ng.IChangesObject < string > ;\n        isList: ng.IChangesObject < boolean > ;\n        clamp: ng.IChangesObject < number | string > ;\n        rebind: ng.IChangesObject < boolean > ;\n    }\n\n    class MarkdownController implements IMarkdownBindings, ng.IController {\n        private _pipTranslate;\n\n        public text: string;\n        public isList: boolean;\n        public clamp: string | number;\n        public rebind: boolean;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $element: JQuery,\n            $injector: ng.auto.IInjectorService\n        ) {\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        }\n\n        public $postLink() {\n            // Fill the text\n            this.bindText(this.text);\n\n            this.$scope.$on('pipWindowResized', function () {\n                if (this.bindText) this.bindText(this._text(this._$scope));\n            });\n\n            // Add class\n            this.$element.addClass('pip-markdown');\n\n        }\n\n        public $onChanges(changes: MarkdownChanges) {\n            const newText = changes.text.currentValue;\n\n            if (this.rebind) {\n                this.text = newText;\n                this.bindText(this.text);\n            }\n        }\n\n        private describeAttachments(array) {\n            var attachString = '',\n                attachTypes = [];\n\n            _.each(array, function (attach) {\n                if (attach.type && attach.type !== 'text') {\n                    if (attachString.length === 0 && this._pipTranslate) {\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                    }\n\n                    if (attachTypes.indexOf(attach.type) < 0) {\n                        attachTypes.push(attach.type);\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\n                        if (this._pipTranslate)\n                            attachString += this._pipTranslate.translate(attach.type);\n                    }\n                }\n            });\n\n            return attachString;\n        }\n\n        private bindText(value) {\n            let textString, isClamped, height, options, obj;\n\n            if (_.isArray(value)) {\n                obj = _.find(value, function (item: any) {\n                    return item.type === 'text' && item.text;\n                });\n\n                textString = obj ? obj.text : this.describeAttachments(value);\n            } else {\n                textString = value;\n            }\n\n            isClamped = this.clamp && _.isNumber(this.clamp);\n            isClamped = isClamped && textString && textString.length > 0;\n            options = {\n                gfm: true,\n                tables: true,\n                breaks: true,\n                sanitize: true,\n                pedantic: true,\n                smartLists: true,\n                smartypents: false\n            };\n            textString = marked(textString || '', options);\n            if (isClamped) {\n                height = 1.5 * Number(this.clamp);\n            }\n            // Assign value as HTML\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n            this.$element.find('a').attr('target', 'blank');\n            if (!this.isList && isClamped) {\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\n            }\n        }\n    }\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: MarkdownBindings\n    }\n\n    angular\n        .module('pipMarkdown', ['ngSanitize'])\n        .run(ConfigTranslations)\n        .component('pipMarkdown', MarkdownComponent);\n}","{\n    interface IPopoverBindings {\n        [key: string]: any;\n\n        params: any;\n    }\n\n    const PopoverBindings: IPopoverBindings = {\n        params: '<pipParams'\n    }\n\n    class PopoverController implements IPopoverBindings, ng.IController {\n        private backdropElement;\n        private content;\n        public params: any;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $compile: ng.ICompileService,\n            private $templateRequest: ng.ITemplateRequestService\n        ) {\n            this.backdropElement = $('.pip-popover-backdrop');\n            this.backdropElement.on('click keydown scroll', () => {\n                this.backdropClick();\n            });\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\n\n            $timeout(() => {\n                this.position();\n                angular.extend($scope, this.params.locals);\n\n                if (this.params.template) {\n                    this.content = $compile(this.params.template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n\n                    this.init();\n                } else {\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\n                        this.content = $compile(html)($scope);\n                        $element.find('.pip-popover').append(this.content);\n\n                        this.init();\n                    });\n                }\n            });\n\n            $timeout(() => {\n                this.calcHeight();\n            }, 200);\n            $rootScope.$on('pipPopoverResize', () => {\n                this.onResize()\n            });\n            $(window).resize(() => {\n                this.onResize()\n            });\n        }\n\n        public backdropClick() {\n            if (this.params.cancelCallback) {\n                this.params.cancelCallback();\n            }\n            this.closePopover();\n        }\n\n        public closePopover() {\n            this.backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                this.backdropElement.remove();\n            }, 100);\n        }\n\n        public onPopoverClick(event) {\n            event.stopPropagation();\n        }\n\n        private init() {\n            this.backdropElement.addClass('opened');\n            $('.pip-popover-backdrop').focus();\n            if (this.params.timeout) {\n                this.$timeout(function () {\n                    this.closePopover();\n                }, this.params.timeout);\n            }\n        }\n\n        private position() {\n            if (this.params.element) {\n                let element = $(this.params.element),\n                    pos = element.offset(),\n                    width = element.width(),\n                    height = element.height(),\n                    docWidth = $(document).width(),\n                    docHeight = $(document).height(),\n                    popover = this.backdropElement.find('.pip-popover');\n\n                if (pos) {\n                    popover\n                        .css('max-width', docWidth - (docWidth - pos.left))\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                        .css('left', pos.left - popover.width() + width / 2)\n                        .css('top', pos.top + height + 16);\n                }\n            }\n        }\n\n        private onResize() {\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n            this.position();\n            this.calcHeight();\n        }\n\n        private calcHeight() {\n            if (this.params.calcHeight === false) {\n                return;\n            }\n            const popover = this.backdropElement.find('.pip-popover'),\n                title = popover.find('.pip-title'),\n                footer = popover.find('.pip-footer'),\n                content = popover.find('.pip-content'),\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n        }\n    }\n\n    const Popover: ng.IComponentOptions = {\n        bindings: PopoverBindings,\n        templateUrl: 'popover/Popover.html',\n        controller: PopoverController\n    }\n\n    angular\n        .module('pipPopover')\n        .component('pipPopover', Popover);\n}","import { IPopoverService } from './IPopoverService';\n\n{\n    interface PopoverTemplateScope extends ng.IScope {\n        params ? : any;\n        locals ? : any;\n    }\n\n    class PopoverService implements IPopoverService {\n        private popoverTemplate: string;\n\n        constructor(\n            private $compile: ng.ICompileService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService\n        ) {\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n        }\n\n        public show(p: Object) {\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\n\n            element = $('body');\n            if (element.find('md-backdrop').length > 0) {\n                return;\n            }\n            this.hide();\n            scope = this.$rootScope.$new();\n            params = p && _.isObject(p) ? p : {};\n            scope.params = params;\n            scope.locals = params.locals;\n            content = this.$compile(this.popoverTemplate)(scope);\n            element.append(content);\n        }\n\n        public hide() {\n            const backdropElement = $('.pip-popover-backdrop');\n            backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                backdropElement.remove();\n            }, 100);\n        }\n\n        public resize() {\n            this.$rootScope.$broadcast('pipPopoverResize');\n        }\n    }\n\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n}","angular.module('pipPopover', ['pipPopover.Service']);\n\nimport './Popover';\nimport './PopoverService';\n\nexport * from './IPopoverService';","{\n    interface IRoutingBindings {\n        [key: string]: any;\n\n        logoUrl: any;\n        showProgress: any;\n    }\n\n    const RoutingBindings: IRoutingBindings = {\n        showProgress: '&',\n        logoUrl: '@'\n    }\n\n    class RoutingController implements ng.IController, IRoutingBindings {\n        private _image: any;\n\n        public logoUrl: string;\n        public showProgress: Function;\n\n        constructor(\n            $scope: ng.IScope,\n            private $element: JQuery\n        ) { }\n\n        public $postLink() {\n            this._image = this.$element.find('img');\n            this.loadProgressImage();\n        }\n\n        public loadProgressImage() {\n            if (this.logoUrl) {\n                this._image.attr('src', this.logoUrl);\n            }\n        }\n    }\n\n    const RoutingProgress: ng.IComponentOptions = {\n        bindings: RoutingBindings,\n        templateUrl: 'progress/RoutingProgress.html',\n        controller: RoutingController\n    }\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n}","export class Toast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n","import { Toast } from './Toast';\nimport { IToastService } from './IToastService';\n\n{\n    class ToastController {\n        private _pipErrorDetailsDialog;\n\n        public message: string;\n        public actions: string[];\n        public actionLenght: number;\n        public showDetails: boolean;\n\n        constructor(\n            private $mdToast: angular.material.IToastService,\n            public toast: Toast,\n            $injector: ng.auto.IInjectorService\n        ) {\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\n                $injector.get('pipErrorDetailsDialog') : null;\n            this.message = toast.message;\n            this.actions = toast.actions;\n\n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n        }\n\n        public onDetails(): void {\n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onAction(action): void {\n            this.$mdToast.hide({\n                action: action,\n                id: this.toast.id,\n                message: this.message\n            });\n        }\n    }\n\n    class ToastService implements IToastService {\n        private SHOW_TIMEOUT: number = 20000;\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n        private toasts: Toast[] = [];\n        private currentToast: any;\n        private sounds: any = {};\n\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            private $mdToast: angular.material.IToastService\n        ) {\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\n        }\n\n        public showNextToast(): void {\n            let toast: Toast;\n\n            if (this.toasts.length > 0) {\n                toast = this.toasts[0];\n                this.toasts.splice(0, 1);\n                this.showToast(toast);\n            }\n        }\n\n        // Show toast\n        public showToast(toast: Toast): void {\n            this.currentToast = toast;\n\n            this.$mdToast.show({\n                    templateUrl: 'toast/Toast.html',\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: ToastController,\n                    controllerAs: 'vm',\n                    locals: {\n                        toast: this.currentToast,\n                        sounds: this.sounds\n                    }\n                })\n                .then(\n                    (action: string) => {\n                        this.showToastOkResult(action);\n                    },\n                    (action: string) => {\n                        this.showToastCancelResult(action);\n                    }\n                );\n        }\n\n        private showToastCancelResult(action: string): void {\n            if (this.currentToast.cancelCallback) {\n                this.currentToast.cancelCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        private showToastOkResult(action: string): void {\n            if (this.currentToast.successCallback) {\n                this.currentToast.successCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        public addToast(toast): void {\n            if (this.currentToast && toast.type !== 'error') {\n                this.toasts.push(toast);\n            } else {\n                this.showToast(toast);\n            }\n        }\n\n        public removeToasts(type: string): void {\n            const result: any[] = [];\n            _.each(this.toasts, (toast) => {\n                if (!toast.type || toast.type !== type) {\n                    result.push(toast);\n                }\n            });\n            this.toasts = _.cloneDeep(result);\n        }\n\n        public removeToastsById(id: string): void {\n            _.remove(this.toasts, {\n                id: id\n            });\n        }\n\n        public getToastById(id: string): Toast {\n            return _.find(this.toasts, {\n                id: id\n            });\n        }\n\n        public onStateChangeSuccess() {}\n\n        public onClearToasts(): void {\n            this.clearToasts(null);\n        }\n\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n            this.addToast({\n                id: id || null,\n                type: 'notification',\n                message: message,\n                actions: actions || ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback,\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n            });\n        }\n\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\n            this.addToast({\n                id: id || null,\n                type: 'message',\n                message: message,\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public hideAllToasts(): void {\n            this.$mdToast.cancel();\n            this.toasts = [];\n        }\n\n        public clearToasts(type ? : string) {\n            if (type) {\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                this.removeToasts(type);\n            } else {\n                this.$mdToast.cancel();\n                this.toasts = [];\n            }\n        }\n\n    }\n\n    angular\n        .module('pipToasts')\n        .service('pipToasts', ToastService);\n}","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n\nimport './ToastService';\nimport './Toast';\n\nexport * from './IToastService';","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/ColorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/Popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/RoutingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/Toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","{\n    interface ITagList {\n        tags: string[];\n        type: string;\n        typeLocal: string;\n    }\n\n    class TagListController implements ITagList {\n        public rebind: string;\n\n        public tags: string[];\n        public type: string;\n        public typeLocal: string;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService\n        ) {\n\n            // Set tags\n            $element.css('display', 'block');\n            $element.addClass('pip-tag-list');\n        }\n\n        private toBoolean(value: string): boolean {\n            if (_.isNull(value) || _.isUndefined(value)) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        public $onChanges(changes: TagListChanges) {\n            if (this.rebind && changes.tags) {\n                this.tags = changes.tags.currentValue;\n            }\n\n        }\n\n    }\n\n    interface ITagListBindings {\n        [key: string]: any;\n\n        tags: any,\n        type: any,\n        typeLocal: any,\n        rebuid: any\n    }\n\n    const TagListBindings: ITagListBindings = {\n        tags: '<pipTags',\n        type: '<pipType',\n        typeLocal: '<pipTypeLocal',\n        rebuid: '<pipRebind'\n    }\n\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        tags: ng.IChangesObject<string[]>;\n        type: ng.IChangesObject<string>;\n        typeLocal: ng.IChangesObject<string>;\n        rebuid: ng.IChangesObject<boolean>\n    }\n\n    const TagList = {\n        bindings: TagListBindings,\n        templateUrl: 'tag_list/TagList.html',\n        controller: TagListController\n    }\n\n    angular\n        .module('pipTagList', ['pipList.Translate'])\n        .component('pipTagList', TagList)\n\n}","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","\n(() => {\n    interface IDateBindings {\n        [key: string]: any;\n\n        timeMode: any,\n        disabled: any,\n        model: any,\n        ngChange: any\n    }\n\n    const DateBindings: IDateBindings = {\n        timeMode: '@pipTimeMode',\n        disabled: '&ngDisabled',\n        model: '<ngModel',\n        ngChange: '<'\n    }\n\n    class DateChanges implements ng.IOnChangesObject, IDateBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        timeMode: ng.IChangesObject<string>;\n        disabled: ng.IChangesObject<() => boolean>;\n        model: ng.IChangesObject<Date>;\n        ngChange: ng.IChangesObject<(date: Date) => void>;\n    }\n\n\n    class DateController {\n        private value: any;\n        private localeDate: moment.MomentLanguageData = moment.localeData();\n        private momentMonths: any[];\n        private momentDays: any[];\n        private momentShortDays: any;\n        private momentFirstDayOfWeek: any;\n\n        public timeMode: string;\n        public day: number;\n        public month: number;\n        public year: number;\n\n        public model: Date;\n        public ngChange: (date: Date) => void;\n\n        public days: number[];\n        public months: any[];\n        public years: number[];\n        public disabled: () => boolean;\n        public disableControls: boolean;\n\n        constructor(\n            $injector: angular.auto.IInjectorService,\n            $scope: ng.IScope) {\n            this.momentMonths = angular.isArray(this.localeDate['_months']) ? this.localeDate['_months'] : this.localeDate['_months'].format;\n            this.momentDays = angular.isArray(this.localeDate['_weekdays']) ? this.localeDate['_weekdays'] : this.localeDate['_weekdays'].format;\n            this.momentShortDays = this.localeDate['_weekdaysMin'];\n            this.momentFirstDayOfWeek = this.localeDate['_week'].dow;\n\n            let value = this.model ? _.isDate(this.model) ? this.model : new Date(this.model) : null;\n            this.day = value ? value.getDate() : null;\n            this.month = value ? value.getMonth() + 1 : null;\n            this.year = value ? value.getFullYear() : null;\n\n            this.days = this.dayList(this.month, this.year);\n            this.months = this.monthList();\n            this.years = this.yearList();\n\n            this.disableControls = this.disabled ? this.disabled() : false;\n\n        }\n\n        public $onChanges(changes: DateChanges) {\n            if (changes.model && changes.model.currentValue) {\n                this.model = changes.model.currentValue;\n                this.getValue(this.model);\n            }\n        }\n\n        private dayList(month: number, year: number): number[] {\n            let count: number = 31, days: number[] = [];\n\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\n                count = 30;\n            } else {\n                if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n            }\n            for (let i: number = 1; i <= count; i++) {\n                days.push(i);\n            }\n\n            return days;\n        }\n\n        private monthList() {\n            let months: any[] = [];\n\n            for (let i: number = 1; i <= 12; i++) {\n                months.push({\n                    id: i,\n                    name: this.momentMonths[i - 1]\n                });\n            }\n\n            return months;\n        }\n\n        private yearList(): number[] {\n            let currentYear: number = new Date().getFullYear(),\n                startYear: number = this.timeMode === 'future' ? currentYear : currentYear - 100,\n                endYear: number = this.timeMode === 'past' ? currentYear : currentYear + 100,\n                years = [];\n\n            if (this.timeMode === 'past') {\n                for (let i: number = endYear; i >= startYear; i--) {\n                    years.push(i);\n                }\n            } else {\n                for (let i: number = startYear; i <= endYear; i++) {\n                    years.push(i);\n                }\n            }\n\n            return years;\n        }\n\n        private adjustDay() {\n            let days = this.dayList(this.month, this.year);\n\n            if (this.days.length !== days.length) {\n                if (this.day > days.length) {\n                    this.day = days.length;\n                }\n\n                this.days = days;\n            }\n        }\n\n        private getValue(v: any) {\n            let value: Date = v ? _.isDate(v) ? v : new Date(v) : null,\n                day: number = value ? value.getDate() : null,\n                month: number = value ? value.getMonth() + 1 : null,\n                year: number = value ? value.getFullYear() : null;\n\n            // Update day list if month and year were changed\n            if (this.month !== month && this.year !== year) {\n                this.days = this.dayList(this.month, this.year);\n            }\n\n            // Assign values to scope\n            this.day = day;\n            this.month = month;\n            this.year = year;\n        }\n\n        public setValue() {\n            let value: Date;\n\n            if (this.day && this.month && this.year) {\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\n                this.model = value;\n                this.ngChange(this.model);\n            }\n        }\n\n        public onMonthChanged() {\n            this.adjustDay();\n            this.setValue();\n        }\n\n        public onYearChanged() {\n            this.adjustDay();\n            this.setValue();\n        }\n    }\n\n    const DateComponent: ng.IComponentOptions = {\n        bindings: DateBindings,\n        templateUrl: 'date/Date.html',\n        controller: DateController\n    }\n\n    angular\n        .module('pipDate', ['pipDates.Templates'])\n        .component('pipDate', DateComponent)\n})();\n\n","import { DateRangeType, IDateConvertService, IDateConvertProvider } from './IDateConvertService';\n\n(() => {\n    class DateConvert implements IDateConvertService {\n        protected _momentRanged: string[] = DateRangeType.All;\n        protected _defaultFormat: string = 'LL';\n        private _defaultTimeZoneOffset: number;\n\n        public get defaultTimeZoneOffset(): number {\n            return this._defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._defaultTimeZoneOffset = value;\n        }\n\n        private isUndefinedOrNull(date: any): boolean {\n            return angular.isUndefined(date) || date === null;\n        }\n\n        private getRange(date: string): string {\n            if (this.isUndefinedOrNull(date)) {\n                return DateRangeType.Day;\n            }\n\n            let index = this._momentRanged.indexOf(date)\n\n            if (index < 0) {\n                return DateRangeType.Day;\n            }\n\n            return this._momentRanged[index];\n        }\n\n        private getOperationRange(date: string): string {\n            if (this.isUndefinedOrNull(date)) {\n                return DateRangeType.Day;\n            }\n\n            let range: string = date == DateRangeType.WeekFromSunday ? DateRangeType.Week : date,\n                index = this._momentRanged.indexOf(range)\n\n            if (index < 0) {\n                return DateRangeType.Day;\n            }\n\n            return this._momentRanged[index];\n\n        }\n  \n        private toStartRange(date: any, range: string): Date {\n            let localDate: moment.Moment;\n\n            if (this.isUndefinedOrNull(date)) {\n                throw new Error('toStartRange - date is undefined or null');\n            }\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\n            } else {\n                localDate = moment(date);\n            }\n\n            if (!localDate.isValid()) {\n                throw new Error('toStartRange - localDate is invalid');\n            }\n\n            return localDate.startOf(range).toDate();\n        }\n\n        private toEndRange(date: any, range: string, offset: number): any {\n            let localDate: any,\n                result: any,\n                mssOffset: number;\n\n            if (this.isUndefinedOrNull(date)) {\n                return '';\n            }\n\n            if (!angular.isNumber(offset)) {\n                mssOffset = 0;\n            }\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\n            } else {\n                localDate = moment(date);\n            }\n\n            if (!localDate.isValid()) {\n                return '';\n            }\n\n            if (mssOffset) {\n                result = localDate.startOf(range).add(mssOffset, 'milliseconds');\n            } else {\n                result = localDate.startOf(range);\n            }\n\n            return localDate.startOf(range).toDate();\n        }\n\n        public toJson(date: any): string {\n            return JSON.stringify(moment(date));\n        }\n\n        // navigation functions \n        // ------------------\n\n        public toNextRange(date: any, type: string): any {\n            let localDate: moment.Moment,\n                range: string,\n                result: any;\n\n            if (this.isUndefinedOrNull(date)) {\n                return '';\n            }\n\n            localDate = moment(date);\n            if (!localDate.isValid()) {\n                return '';\n            }\n\n            range = this.getRange(type);\n            result = moment(localDate).startOf(range).add(this.getOperationRange(range));\n\n            return result.toDate();\n        }\n\n        public toPrevRange(date: any, type: string): Date {\n            let localDate: moment.Moment,\n                range: string,\n                result: moment.Moment;\n\n            if (this.isUndefinedOrNull(date)) {\n                throw new Error('toPrevRange- date is undefined or null');\n            }\n\n            localDate = moment(date);\n            if (!localDate.isValid()) {\n                throw new Error('toPrevRange - localDate is invalid');\n            }\n\n            range = this.getRange(type);\n            result = moment(localDate).startOf(range).add(-1, this.getOperationRange(range));\n\n            return result.toDate();\n        }\n\n        public toCurrentRange(type: string): Date {\n            let localDate: moment.Moment,\n                range: string,\n                result: moment.Moment;\n\n            localDate = moment();\n            if (!localDate.isValid()) {\n                throw new Error('toCurrentRange - localDate is invalid');\n            }\n\n            range = this.getRange(type)\n            result = moment(localDate).startOf(range);\n\n            return result.toDate();\n        }\n\n        public addHours(date: any, hours: number): Date {\n            let localDate: moment.Moment;\n\n            if (this.isUndefinedOrNull(date) || !angular.isNumber(hours)) {\n                throw new Error('addHours - date is undefined or null or hours is not a number');\n            }\n\n            localDate = moment(date);\n            if (!localDate.isValid()) {\n                throw new Error('addHours - localDate is invalid');\n            }\n\n            return localDate.add(hours, 'hours').toDate();\n        }\n\n        public toStartDay(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Day);\n        }\n\n        public toEndDay(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Day, offset);\n        }\n\n        public toStartWeek(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Week);\n        }\n\n        public toEndWeek(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Week, offset);\n        }\n\n        public toStartMonth(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Month);\n        }\n\n        public toEndMonth(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Month, offset);\n        }\n\n        public toStartYear(date: any): Date {\n            return this.toStartRange(date, DateRangeType.Year);\n        }\n\n        public toEndYear(date: any, offset: number): Date {\n            return this.toEndRange(date, DateRangeType.Year, offset);\n        }\n\n    }\n\n    class DateConvertService {\n        private _convert: DateConvert;\n\n        public constructor(\n            convert: DateConvert,\n        ) {\n            this._convert = convert;\n        }\n\n        public get defaultTimeZoneOffset(): number {\n            return this._convert.defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._convert.defaultTimeZoneOffset = value;\n        }\n    \n        public toJSON(date: any): string {\n            return this._convert.toJson(date);\n        }\n\n        // date range functions \n        // ------------------\n\n        public toNextRange(date: any, type: string): any {\n            return this._convert.toNextRange(date, type);\n        }\n\n        public toPrevRange(date: any, type: string): any {\n            return this._convert.toPrevRange(date, type);\n        }\n\n        public toCurrentRange(type: string): any {\n            return this._convert.toCurrentRange(type);\n        }\n\n        public addHours(date: any, hours: number): any {\n            return this._convert.addHours(date, hours);\n        }\n\n        public toStartDay(date: any): any {\n            return this._convert.toStartDay(date);\n        }\n\n        public toEndDay(date: any, offset: number): any {\n            return this._convert.toEndDay(date, offset);\n        }\n\n        public toStartWeek(date: any): any {\n            return this._convert.toStartWeek(date);\n        }\n\n        public toEndWeek(date: any, offset: number): any {\n            return this._convert.toEndWeek(date, offset);\n        }\n\n        public toStartMonth(date: any): any {\n            return this._convert.toStartMonth(date);\n        }\n\n        public toEndMonth(date: any, offset: number): any {\n            return this._convert.toEndMonth(date, offset);\n        }\n\n        public toStartYear(date: any): any {\n            return this._convert.toStartYear(date);\n        }\n\n        public toEndYear(date: any, offset: number): any {\n            return this._convert.toEndYear(date, offset);\n        }\n\n    }\n\n    class DateConvertProvider extends DateConvert implements IDateConvertProvider {\n        private _translation: DateConvert;\n        private _service: DateConvertService;\n\n        public $get(): any {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new DateConvertService(this);\n\n            return this._service;\n        }\n    }\n\n    angular\n        .module('pipDate.Convert', [])\n        .provider('pipDateConvert', DateConvertProvider);\n})();","import { IDateFormatService } from './IDateFormatService';\nimport { IDateConvertService } from './IDateConvertService';\n\nfunction formatTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, format: string): string => {\n        return pipDateFormat.formatTime(value, format);\n    }\n}\n\nfunction formatDateOptionalFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, format: string): string => {\n        return pipDateFormat.formatDateOptional(value, format);\n    }\n}\n\nfunction formatLongDateFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDate(value);\n    }\n}\n\nfunction formatShortDateFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortDate(value);\n    }\n}\n\nfunction formatMiddleDateFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatMiddleDate(value);\n    }\n}\n\nfunction formatMonthFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any) => {\n        return pipDateFormat.formatMonth(value);\n    }\n}\n\nfunction formatLongMonthFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongMonth(value);\n    }\n}\n\nfunction formatYearFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatYear(value);\n    }\n}\n\nfunction formatWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatWeek(value);\n    }\n}\n\nfunction formatShortWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortWeek(value);\n    }\n}\n\nfunction formatShortDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortDateTime(value);\n    }\n}\n\nfunction formatMiddleDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatMiddleDateTime(value);\n    }\n}\n\nfunction formatLongDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDateTime(value);\n    }\n}\n\nfunction formatShortDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.formatShortDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatMiddleDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.formatMiddleDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatLongDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.formatLongDateLongTime(value, firstTime);\n    }\n}\n\nfunction bbFormatDateLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, firstTime: boolean): string => {\n        return pipDateFormat.bbFormatDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatFullDateTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatFullDateTime(value);\n    }\n}\n\nfunction formatShortTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortTime(value);\n    }\n}\n\nfunction formatLongTimeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongTime(value);\n    }\n}\n\nfunction formatShortDayOfWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortDayOfWeek(value);\n    }\n}\n\nfunction formatLongDayOfWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDayOfWeek(value);\n    }\n}\n\nfunction formatLongMonthDayFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongMonthDay(value);\n    }\n}\n\nfunction formatShortMonthDayFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortMonthDay(value);\n    }\n}\n\nfunction formatDateRangeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value1: any, value2: any): string => {\n        return pipDateFormat.formatDateRange(value1, value2);\n    }\n}\n\nfunction formatDateTimeRangeFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value1: any, value2: any): string => {\n        return pipDateFormat.formatDateTimeRange(value1, value2);\n    }\n}\n\nfunction formatISOWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatISOWeek(value);\n    }\n}\n\nfunction formatShortISOWeekFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatShortISOWeek(value);\n    }\n}\n\nfunction formatISOWeekOrdinalFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatISOWeekOrdinal(value);\n    }\n}\n\nfunction formatDateYFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatDateY(value);\n    }\n}\n\nfunction formatLongDateYFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatLongDateY(value);\n    }\n}\n\nfunction formatTodayDateLongTimeLongFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateLongTimeLong(value);\n    }\n}\n\nfunction formatTodayDateShortTimeLongFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateShortTimeLong(value);\n    }\n}\n\nfunction formatTodayDateLongTimeShortFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateLongTimeShort(value);\n    }\n}\n\nfunction formatTodayDateShortTimeShortFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatTodayDateShortTimeShort(value);\n    }\n}\n\nfunction formatMillisecondsToSecondsFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateFormat.formatMillisecondsToSeconds(value);\n    }\n}\n\nfunction formatElapsedIntervalFilter(pipDateFormat: IDateFormatService) {\n    \"ngInject\";\n\n    return (value: any, start: any): string => {\n        return pipDateFormat.formatElapsedInterval(value, start);\n    }\n}\n\nfunction getDateJSONFilter(pipDateConvert: IDateConvertService) {\n    \"ngInject\";\n\n    return (value: any): string => {\n        return pipDateConvert.toJson(value);\n    }\n}\n\nangular\n    .module('pipDate.Filter', [])\n    .filter('formatTime', formatTimeFilter)\n    .filter('formatDateOptional', formatDateOptionalFilter)\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\n    .filter('formatShortDate', formatShortDateFilter)\n    .filter('formatMiddleDate', formatMiddleDateFilter)\n    .filter('formatLongDate', formatLongDateFilter)\n    .filter('formatMonth', formatMonthFilter)\n    .filter('formatLongMonth', formatLongMonthFilter)\n    .filter('formatYear', formatYearFilter)\n    .filter('formatWeek', formatWeekFilter)\n    .filter('formatShortWeek', formatShortWeekFilter)\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)\n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)\n    .filter('formatFullDateTime', formatFullDateTimeFilter)\n    .filter('formatShortTime', formatShortTimeFilter)\n    .filter('formatLongTime', formatLongTimeFilter)\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\n    .filter('formatDateRange', formatDateRangeFilter)\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\n    .filter('formatISOWeek', formatISOWeekFilter)\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\n    .filter('formatDateY', formatDateYFilter)\n    .filter('formatLongDateY', formatLongDateYFilter)\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\n","import { DateRangeType } from './IDateConvertService';\nimport { IDateFormatService, IDateFormatProvider } from './IDateFormatService';\n\n(() => {\n    class DateFormat implements IDateFormatService {\n        protected _momentRanged: string[] = DateRangeType.All;\n        protected _defaultFormat: string = 'LL'\n\n        private _defaultTimeZoneOffset: number;\n\n        public get defaultTimeZoneOffset(): number {\n            return this._defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._defaultTimeZoneOffset = value;\n        }\n\n        private isUndefinedOrNull(value: any): boolean {\n            return angular.isUndefined(value) || value === null;\n        }\n\n        private formatDateTime(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let formatTpl: string;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset!= undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            formatTpl = basicFormat ? basicFormat : this._defaultFormat;\n\n            return date.format(formatTpl);\n        }\n\n        private formatDateTimeY(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let nowDate: moment.Moment;\n            let formatMoment: string;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            nowDate = moment();\n            formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\n\n            if (nowDate.year() == date.year())\n                formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n\n            return date.format(formatMoment);\n        }\n\n        private formatDay(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\n            let formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            return date.format(formatMonthYearless);\n        }\n\n        private formatMonthDay(value: any, basicFormat: string): string {\n            let date: moment.Moment;\n            let format = basicFormat ? basicFormat : this._defaultFormat;\n            let formatLL = moment.localeData().longDateFormat(format);\n            let formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            return date.format(formatYearlessLL);\n        }\n\n        //  use timezone not testing\n        private formatRange(value1: any, value2: any, basicFormat: string): string {\n            let dateStart: moment.Moment;\n            let dateEnd: moment.Moment;\n            let format = basicFormat ? basicFormat : this._defaultFormat;\n\n            if (this.isUndefinedOrNull(value1))\n                dateStart = null;\n            else\n                dateStart = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) \n                    ? moment(value1).utcOffset(this._defaultTimeZoneOffset) : moment(value1);\n\n            if (this.isUndefinedOrNull(value2))\n                dateEnd = null;\n            else\n                dateEnd = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) \n                    ? moment(value2).utcOffset(this._defaultTimeZoneOffset) : moment(value2);\n\n            if (dateStart === null && dateEnd === null)\n                return '';\n            if (dateStart === null)\n                return dateEnd.format(basicFormat);\n            if (dateEnd === null || dateStart.isSame(dateEnd))\n                return dateStart.format(basicFormat);;\n\n            if (dateStart.isAfter(dateEnd))\n                throw new Error('Date range error. Start date is more than end date.');\n\n            if (dateStart.year() == dateEnd.year()) {\n                if (dateStart.month() == dateEnd.month())\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            }\n\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\n        }\n\n        private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\n            let date: moment.Moment;\n            let result: string;\n            let nowDate: moment.Moment;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            nowDate = moment();\n            if (firstTime)\n                result = date.format(formatTime) + ' ' + date.format(formatDate);\n            else\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\n\n            return result;\n        }\n\n        private toTodayDate(value: any, formatDate: string, formatTime: string): any {\n            let date: moment.Moment;\n            let result: string;\n            let nowDate: any;\n\n            if (this.isUndefinedOrNull(value)) return '';\n\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\n            else\n                date = moment(value);\n\n            if (!date.isValid()) return '';\n\n            nowDate = moment();\n\n            if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day())\n                result = date.format(formatTime);\n            else\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\n\n            return result;\n        }\n        \n        // formating functions \n        // -------------------\n\n        public formatTime(value: any, format: string): string {\n            return this.formatDateTime(value, 'LLL');\n        }\n\n        public formatDateOptional(value: any, format: string): string {\n            return this.formatDateTime(value, 'L');\n        }\n\n        // date formats\n        public formatShortDate(value: any): string {\n            return this.formatDateTime(value, 'L');\n        }\n\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime);\n        }\n\n        public formatMiddleDate(value: any): string {\n            return this.formatDateTime(value, 'll');\n        }\n\n        public formatLongDate(value: any): string {\n            return this.formatDateTime(value, 'LL');\n        }\n\n        public formatMonth(value: any): string {\n            return this.formatDateTime(value, 'MM');\n        }\n\n        public formatLongMonth(value: any): string {\n            return this.formatDateTime(value, 'MMMM');\n        }\n\n        public formatYear(value: any): string {\n            return this.formatDateTime(value, 'YYYY');\n        }\n\n        public formatWeek(value: any): string {\n            return this.formatDateTime(value, 'ww');\n        }\n\n        public formatShortWeek(value: any): string {\n            return this.formatDateTime(value, 'w');\n        }\n\n        public formatShortDateTime(value: any): string {\n            return this.toDateWithTime(value, 'L', 'LT');\n        }\n\n        public formatMiddleDateTime(value: any): string {\n            return this.formatDateTime(value, 'lll');\n        }\n\n        public formatLongDateTime(value: any): string {\n            return this.formatDateTime(value, 'LLL');\n        }\n\n        public formatFullDateTime(value: any): string {\n            return this.formatDateTime(value, 'LLLL');\n        }\n\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'L', 'LTS', firstTime);\n        }\n\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'll', 'LTS', firstTime);\n        }\n\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n            return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\n        }\n\n        public formatShortTime(value: any): string {\n            return this.formatDateTime(value, 'LT');\n        }\n\n        public formatLongTime(value: any): string {\n            return this.formatDateTime(value, 'LTS');\n        }\n\n        public formatShortDayOfWeek(value: any): string {\n            return this.formatDateTime(value, 'dd');\n        }\n\n        public formatLongDayOfWeek(value: any): string {\n            return this.formatDateTime(value, 'dddd');\n        }\n\n        // public formatTimeNumber(value: any): string {\n        //     return this.formatDateTime(value, 'LLL');\n        // }\n\n        // public formatLongTimeNumber(value: any): string {\n        //     return this.formatDateTime(value, 'LLLL');\n        // }\n\n        ///-----------------\n\n        public formatLongMonthDay(value: any): string {\n            return this.formatMonthDay(value, 'LL');\n        }\n\n        public formatShortMonthDay(value: any): string {\n            return this.formatMonthDay(value, 'L');\n        }\n\n        public formatDateRange(value1: any, value2: any): string {\n            return this.formatRange(value1, value2, 'LL');\n        }\n\n        public formatDateTimeRange(value1: any, value2: any): string {\n            return this.formatRange(value1, value2, 'LLL');\n        }\n\n        // iso function\n        // --------------\n\n        public formatISOWeek(value: any): string {\n            return this.formatDateTime(value, 'WW');\n        }\n\n        public formatShortISOWeek(value: any): string {\n            return this.formatDateTime(value, 'W');\n        }\n\n        public formatISOWeekOrdinal(value: any): string {\n            return this.formatDateTime(value, 'Wo');\n        }\n        // special formats \n        // --------------\n\n        // year option displays if the current year is not equal to, the date of \n        public formatDateY(value: any): string {\n            return this.formatDateTimeY(value, 'L');\n        }\n\n        // year option displays if the current year is not equal to, the date of\n        public formatLongDateY(value: any): string {\n            return this.formatDateTimeY(value, 'LL');\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateLongTimeLong(value: any): string {\n            return this.toTodayDate(value, 'LL', 'LTS')\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateShortTimeLong(value: any): string {\n            return this.toTodayDate(value, 'LL', 'LTS')\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateLongTimeShort(value: any): string {\n            return this.toTodayDate(value, 'LL', 'LT')\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateShortTimeShort(value: any): string {\n            return this.toTodayDate(value, 'll', 'LT')\n        }\n\n        // todo\n        public formatMillisecondsToSeconds(value: any): string {\n            return '';\n        }\n\n        public formatElapsedInterval(value: any, start: any): string {\n            let date: moment.Moment,\n                nowDate: any;\n\n            if (this.isUndefinedOrNull(value)) {\n                return '';\n            }\n            if (this.isUndefinedOrNull(start)) {\n                nowDate = moment();\n            } else {\n                nowDate = moment(start);\n            }\n\n            date = moment(value);\n            if (!date.isValid() || !nowDate.isValid()) {\n                return '';\n            }\n\n            return moment(date).fromNow(nowDate);\n        }\n\n        public getDateJSON(date: any): string {\n            return JSON.stringify(moment(date));\n        }\n\n        \n    }\n\n    class DateFormatService implements IDateFormatService {\n        private _format: DateFormat;\n\n        public constructor(\n            _format: DateFormat,\n        ) {\n            this._format = _format;\n        }\n\n        public get defaultTimeZoneOffset(): number {\n            return this._format.defaultTimeZoneOffset;\n        }\n\n        public set defaultTimeZoneOffset(value: number) {\n            this._format.defaultTimeZoneOffset = value;\n        }\n\n        // todo Optional\n        public formatTime(value: any, format: string): string {\n            return this._format.formatTime(value, format);\n        }\n\n        // todo Optional\n        public formatDateOptional(value: any, format: string): string {\n            return this._format.formatDateOptional(value, format);\n        }\n\n        public formatShortDate(value: any): string {\n            return this._format.formatShortDate(value);\n        }\n\n        public formatMiddleDate(value: any): string {\n            return this._format.formatMiddleDate(value);\n        }\n\n        public formatLongDate(value: any): string {\n            return this._format.formatLongDate(value);\n        }\n\n        public formatMonth(value: any): string {\n            return this._format.formatMonth(value);\n        }\n\n        public formatLongMonth(value: any): string {\n            return this._format.formatLongMonth(value);\n        }\n\n        public formatYear(value: any): string {\n            return this._format.formatYear(value);\n        }\n\n        public formatWeek(value: any): string {\n            return this._format.formatWeek(value);\n        }\n\n        public formatShortWeek(value: any): string {\n            return this._format.formatShortWeek(value);\n        }\n\n        public formatShortDateTime(value: any): string {\n            return this._format.formatShortDateTime(value);\n        }\n\n        public formatMiddleDateTime(value: any): string {\n            return this._format.formatMiddleDateTime(value);\n        }\n\n        public formatLongDateTime(value: any): string {\n            return this._format.formatLongDateTime(value);\n        }\n\n        public formatFullDateTime(value: any): string {\n            return this._format.formatFullDateTime(value);\n        }\n\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.formatShortDateLongTime(value, firstTime);\n        }\n\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.formatMiddleDateLongTime(value, firstTime);\n        }\n\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.formatLongDateLongTime(value, firstTime);\n        }\n\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n            return this._format.bbFormatDateLongTime(value, firstTime);\n        }\n\n        public formatShortTime(value: any): string {\n            return this._format.formatShortTime(value);\n        }\n\n        public formatLongTime(value: any): string {\n            return this._format.formatLongTime(value);\n        }\n\n        public formatShortDayOfWeek(value: any): string {\n            return this._format.formatShortDayOfWeek(value);\n        }\n\n        public formatLongDayOfWeek(value: any): string {\n            return this._format.formatLongDayOfWeek(value);\n        }\n\n        public formatLongMonthDay(value: any): string {\n            return this._format.formatLongMonthDay(value);\n        }\n\n        public formatShortMonthDay(value: any): string {\n            return this._format.formatShortMonthDay(value);\n        }\n\n        public formatDateRange(value1: any, value2: any): string {\n            return this._format.formatDateRange(value1, value2);\n        }\n\n        public formatDateTimeRange(value1: any, value2: any): string {\n            return this._format.formatDateTimeRange(value1, value2);\n        }\n\n        // iso function\n        // --------------\n\n        public formatISOWeek(value: any): string {\n            return this._format.formatISOWeek(value);\n        }\n\n        public formatShortISOWeek(value: any): string {\n            return this._format.formatShortISOWeek(value);\n        }\n\n        public formatISOWeekOrdinal(value: any): string {\n            return this._format.formatISOWeekOrdinal(value);\n        }\n        // special formats \n        // --------------\n\n        // year option displays if the current year is not equal to, the date of \n        public formatDateY(value: any): string {\n            return this._format.formatDateY(value);\n        }\n\n        // year option displays if the current year is not equal to, the date of\n        public formatLongDateY(value: any): string {\n            return this._format.formatLongDateY(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateLongTimeLong(value: any): string {\n            return this._format.formatTodayDateLongTimeLong(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n        public formatTodayDateShortTimeLong(value: any): string {\n            return this._format.formatTodayDateShortTimeLong(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // September 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateLongTimeShort(value: any): string {\n            return this._format.formatTodayDateLongTimeShort(value);\n        }\n\n        // date displays if the current date  is not equal now \n        // Sep 4 1986 8:30 PM or 8:30 PM\n        public formatTodayDateShortTimeShort(value: any): string {\n            return this._format.formatTodayDateShortTimeShort(value);\n        }\n\n        public formatMillisecondsToSeconds(value: any) {\n            return this._format.formatMillisecondsToSeconds(value);\n        }\n\n        public formatElapsedInterval(value: any, start: any): string {\n            return this._format.formatElapsedInterval(value, start);\n        }\n\n        public getDateJSON(date: any): string {\n            return this._format.getDateJSON(date);\n        }\n\n    }\n\n    class DateFormatProvider extends DateFormat implements IDateFormatProvider {\n        private _translation: DateFormat;\n        private _service: DateFormatService;\n\n        public $get(): any {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new DateFormatService(this);\n\n            return this._service;\n        }\n    }\n\n    angular\n        .module('pipDate.Format', [])\n        .provider('pipDateFormat', DateFormatProvider);\n})();","export class DateRangeType {\n    static Year: string = 'year';\n    static Month: string = 'month';\n    static Week: string = 'week';\n    static WeekFromSunday: string = 'isoweek'; \n    static Day: string = 'day';\n    static All: string[] = ['year', 'month', 'week', 'isoweek', 'day'] \n}\n\nexport interface IDateConvertService {\n    defaultTimeZoneOffset: number;\n    \n    toJson(date: any): string;\n    toNextRange(date: any, type: string): Date;\n    toPrevRange(date: any, type: string): Date;\n    toCurrentRange(type: string): Date;\n\n    addHours(date: any, hours: number): Date;\n    toStartDay(date: any): Date;\n    toEndDay(date: any, offset: number): Date;\n    toStartWeek(date: any): Date;\n    toEndWeek(date: any, offset: number): Date;\n    toStartMonth(date: any): Date;\n    toEndMonth(date: any, offset: number): Date;\n    toStartYear(date: any): Date;\n    toEndYear(date: any, offset: number): Date;\n}\n\nexport interface IDateConvertProvider extends IDateConvertService, ng.IServiceProvider {\n}","\nangular.module('pipDate.Common', [\n    'pipDate.Convert',\n    'pipDate.Format',\n    'pipDate.Filter'\n]);\n\nimport './DateConvertService';\nimport './DateFormatFilter';\nimport './DateFormatService';\nimport './IDateConvertService';\nimport './IDateFormatService';\n\nexport * from './IDateConvertService';\nexport * from './IDateFormatService';","\n(() => {\n    interface IDateRangeBindings {\n        [key: string]: any;\n\n        timeMode: any;\n        disabled: any;\n        model: any;\n        pipChanged: any;\n        type: any;\n        pipDateFormat: any;\n        pipNoLine: any;\n    }\n\n    const DateRangeBindings: IDateRangeBindings = {\n        timeMode: '@pipTimeMode',\n        disabled: '&ngDisabled',\n        model: '=ngModel',\n        pipChanged: '&',\n        type: '@pipDateRangeType',\n        pipDateFormat: '@',\n        pipNoLine: '@'\n    }\n\n\n    class DateRangeChanges implements ng.IOnChangesObject, IDateRangeBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        timeMode: ng.IChangesObject<string>;\n        disabled: ng.IChangesObject<() => void>;\n        model: ng.IChangesObject<any>;\n        pipChanged: ng.IChangesObject<() => void>;\n        type: ng.IChangesObject<string>;\n        pipDateFormat: ng.IChangesObject<any>;\n        pipNoLine: ng.IChangesObject<any>;\n    }\n\n    class DateRangeController {\n        private currentDate: Date;\n        private currentYear: number;\n        private currentMonth: number;\n        private currentDay: number;\n        private prevState: any = {};\n        private currentState: any = {};\n        private localeDate: any;\n        private momentMonths: any;\n        private momentDays: any;\n        private momentShortDays: any;\n        private momentFirstDayOfWeek: any;\n\n        public type: string;\n        public pipChanged: Function;\n        public year: number;\n        public month: number;\n        public week: any;\n        public day: number;\n        public shortMonths: string[];\n        public days: number[];\n        public weeks: any[];\n        public months: number[];\n        public years: number[];\n        public nameDays: string[];\n        public model: any;\n        public disabled: Function;\n        public disableControls: boolean;\n        public timeMode: string;\n\n        constructor(\n            public $mdMedia: angular.material.IMedia,\n            private $timeout: ng.ITimeoutService,\n            $scope: ng.IScope,\n            $element,\n            $rootScope: ng.IRootScopeService,\n            $injector: angular.auto.IInjectorService) {\n\n            this.localeDate = moment.localeData();\n            this.momentMonths = angular.isArray(this.localeDate._months) ? this.localeDate._months : this.localeDate._months.standalone;\n            this.momentDays = angular.isArray(this.localeDate._weekdays) ? this.localeDate._weekdays : this.localeDate._weekdays.format;\n            this.momentShortDays = this.localeDate._weekdaysMin;\n            this.momentFirstDayOfWeek = this.localeDate._week.dow;\n\n            this.currentDate = new Date();\n            this.currentYear = this.currentDate.getUTCFullYear();\n            this.currentMonth = this.currentDate.getUTCMonth() + 1;\n            this.currentDay = this.currentDate.getUTCDate();\n\n            this.init();\n\n            this.disableControls = this.disabled ? this.disabled() : false;\n\n\n            $scope.$watch('$ctrl.type', (newValue, oldValue) => {\n                if (newValue !== oldValue && oldValue) {\n                    this.init();\n                }\n            });\n\n        }\n\n        public $onChanges(changes: DateRangeChanges) {\n            if (changes.type && changes.type.currentValue) {\n                this.type = changes.type.currentValue;\n                this.init();\n            }\n\n            /*if (changes.type && changes.type.currentValue && changes.type.currentValue != changes.type.previousValue) {\n               this.type = changes.type.currentValue; \n               this.init();\n           }\n   \n           if (changes.disabled && changes.disabled.currentValue) {\n                this.disableControls = changes.disabled.currentValue();\n           }\n   \n           if (changes.model && changes.model.currentValue) {\n                 this.getValue(changes.model.currentValue);\n           }*/\n\n        }\n\n        public onMonthChanged(): void {\n            if (this.type === 'weekly') {\n                let date: Date, dayOfWeek: number;\n                date = new Date(Date.UTC(this.year, this.month - 1, 1));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\n                this.correctWeek();\n                this.adjustWeek();\n            } else {\n                this.adjustDay();\n            }\n            this.setValue();\n        }\n\n        public onYearChanged(): void {\n            let date: Date, dayOfWeek: number;\n            date = new Date(Date.UTC(this.year, this.month - 1, 1));\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n            if (this.type === 'weekly') {\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\n                this.adjustWeek();\n                this.correctWeek();\n            } else {\n                this.adjustDay();\n            }\n            this.setValue();\n        };\n\n        public onWeekChange() {\n            if (this.type === 'weekly') {\n                this.adjustWeek();\n                this.correctWeek();\n            } else {\n                this.adjustDay();\n            }\n            this.setValue();\n        };\n\n        public isDay(): boolean {\n            return this.type === 'daily';\n        };\n\n        public isWeek(): boolean {\n            return this.type === 'weekly';\n        };\n\n        public isMonth(): boolean {\n            return this.type === 'daily' ||\n                this.type === 'weekly' ||\n                this.type === 'monthly';\n        };\n\n        public onChange() {\n            if (this.pipChanged) {\n                this.$timeout(() => {\n                    this.pipChanged();\n                }, 0);\n            }\n        };\n\n        private setCurrent() {\n            this.currentState.day = this.day;\n            this.currentState.month = this.month;\n            this.currentState.year = this.year;\n            this.currentState.week = this.week;\n            this.currentState.dateRangeType = this.type;\n            this.currentState.model = this.model;\n        }\n\n        private fillLists() {\n            this.days = this.dayList(this.month, this.year);\n            this.weeks = this.weekList(this.month, this.year);\n            this.months = this.monthList();\n            this.shortMonths = this.monthList();\n            this.years = this.yearList();\n        }\n\n        private correctWeek() {\n            if (!this.prevState.model || this.prevState.model && this.prevState.model.getTime() >= this.model.getTime()) {\n                // if shift week -> increase month\n                if (this.weeks && this.weeks[this.week] && this.weeks[this.week].id <= 0) {\n                    if (this.month < 12) {\n                        this.month += 1;\n                    } else {\n                        this.month = 1;\n                        this.year += 1;\n                    }\n                    this.fillLists();\n                }\n            }\n        }\n\n        private init() {\n            let value: Date;\n\n            value = this.model ? new Date(this.model) : null;\n            this.day = value ? value.getUTCDate() : null;\n            this.month = value ? value.getUTCMonth() + 1 : null;\n            this.year = value ? value.getUTCFullYear() : null;\n            this.week = value ? this.getWeekByDate(this.day, this.month - 1, this.year) : null;\n\n            this.fillLists();\n\n            if (this.type === 'weekly') {\n                this.correctWeek();\n            }\n            this.adjustWeek();\n            this.setValue();\n        }\n\n        public onYearClick() {\n            if (!this.year) {\n                this.year = this.currentYear;\n            }\n        };\n\n        public onMonthClick() {\n            if (!this.month) {\n                this.month = this.currentMonth;\n            }\n        };\n\n        public onDayClick() {\n            if (!this.year) {\n                this.day = this.currentDay;\n            }\n        };\n        // ---------------------------------------------------------------------------------------\n\n        public getCountDay(month: number, year: number): number {\n            let count = 31;\n\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\n                count = 30;\n                return count;\n            }\n\n            if (month === 2) {\n                if (year) {\n                    count = year % 4 === 0 ? 29 : 28;\n                    return count;\n                }\n                count = 28;\n            }\n\n            return count;\n\n        }\n\n        private dayList(month: number, year: number): number[] {\n            let count: number, days: number[];\n\n            count = this.getCountDay(month, year);\n            this.nameDays = [];\n            days = [];\n            for (let i: number = 1; i <= count; i++) {\n                days.push(i);\n                this.nameDays.push(this.momentShortDays[moment([year, month - 1, i]).weekday()]);\n            }\n\n            return days;\n        }\n\n        public getWeekByDate(day, month, year) {\n            let date: Date, dayOfWeek: number, startWeek;\n\n            date = new Date(Date.UTC(year, month, day));\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n\n            if (dayOfWeek === 1) {\n                startWeek = day;\n            } else {\n                startWeek = day + 1 - dayOfWeek;\n            }\n\n            return startWeek;\n        }\n\n        public getWeek(day: number, countDay: number, countPrevMonthDay) {\n            let endDay: number, startDay: number;\n\n            endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\n            startDay = day > 0 ? day : countPrevMonthDay + day;\n\n            return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\n        }\n\n        public weekList(month: number, year: number) { // возвращает список начала надели\n            let weeks: any[], countDay: number, countPrevMonthDay: number, startWeek: number;\n\n            weeks = [];  // в массиве первые дни недели в текущем месяце\n            countDay = this.getCountDay(month, year);\n            startWeek = this.getWeekByDate(1, month - 1, year);\n\n            countPrevMonthDay = month - 1 ? this.getCountDay(month - 1, year) : this.getCountDay(12, year - 1);\n            while (startWeek < countDay + 1) {\n                weeks.push({\n                    id: startWeek,\n                    name: this.getWeek(startWeek, countDay, countPrevMonthDay)\n                });\n                startWeek = startWeek + 7;\n            }\n\n            return weeks;\n        }\n\n        private monthList() {\n            let months: any[] = [];\n\n            for (let i: number = 1; i <= 12; i++) {\n                months.push({\n                    id: i,\n                    name: this.momentMonths[i - 1]\n                });\n            }\n\n            return months;\n        }\n\n        private yearList() {\n            let startYear: number, endYear: number, years: any[] = [];\n\n            switch (this.timeMode) {\n                case 'future':\n                    startYear = this.currentYear;\n                    endYear = this.currentYear + 100;\n                    break;\n                case 'past':\n                    startYear = this.currentYear - 100;\n                    endYear = this.currentYear;\n                    break;\n                case 'now':\n                    startYear = this.currentYear - 50;\n                    endYear = this.currentYear + 100;\n                    break;\n                default:\n                    startYear = this.currentYear - 50;\n                    endYear = this.currentYear + 50;\n                    break;\n            }\n            if (this.timeMode === 'future') {\n                for (let i: number = startYear; i <= endYear; i++) {\n                    years.push(i);\n                }\n            } else {\n                for (let i: number = endYear; i >= startYear; i--) {\n                    years.push(i);\n                }\n            }\n\n            return years;\n        }\n\n        private adjustDay() {\n            let days = this.dayList(this.month, this.year);\n\n            switch (this.type) {\n                case 'monthly':\n                    this.day = 1;\n                    break;\n                case 'yearly':\n                    this.month = 1;\n                    this.day = 1;\n                    break;\n                default:\n                    if (this.days.length !== days.length) {\n                        if (this.day > days.length) {\n                            this.day = days.length;\n                        }\n                    }\n                    break;\n            }\n            this.days = days;\n        }\n\n        private adjustWeek() {\n            let weeks = this.weekList(this.month, this.year);\n            this.week = this.getWeekByDate(this.week, this.month - 1, this.year);\n            this.weeks = weeks;\n        }\n\n        private getValue(v) {\n            let value: Date, day: number, month: number, year: number, week: string;\n\n            value = v ? new Date(v) : null;\n            // Define values\n            day = value ? value.getUTCDate() : null;\n            month = value ? value.getUTCMonth() + 1 : null;\n            year = value ? value.getUTCFullYear() : null;\n            week = value ? this.getWeekByDate(day, month - 1, year) : null;\n            // Exit if nothing to update\n            if (this.day === day && this.month === month && this.year === year && this.week === week) {\n                return;\n            }\n            // Assign values to scope\n            this.day = day;\n            this.month = month;\n            this.year = year;\n            this.week = week;\n\n            // Define data sources\n            this.days = this.dayList(this.month, this.year);\n            this.weeks = this.weekList(this.month, this.year);\n        }\n\n        public setValue() {\n            let value;\n\n            if (this.type === 'weekly') {\n                value = new Date(this.year, this.month - 1, this.week, 0, 0, 0, 0);\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                this.model = value;\n            } else {\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                this.model = value;\n            }\n\n            this.prevState = _.cloneDeep(this.currentState);\n            this.setCurrent();\n            this.onChange();\n        }\n\n    }\n\n    const daterange: ng.IComponentOptions = {\n        bindings: DateRangeBindings,\n        templateUrl: 'date_range/DateRange.html',\n        controller: DateRangeController \n\n    };\n    angular\n        .module('pipDateRange', ['pipDates.Templates'])\n        .component('pipDateRange', daterange)\n})();\n","\n(() => {\n    class TimeRangeData {\n        start: Date;\n        end: Date;\n    }\n\n    interface ITimeRangeBindings {\n        [key: string]: any;\n\n        start: any;\n        end: any;\n    }\n\n    const TimeRangeBindings: ITimeRangeBindings = {\n        start: '<pipStartDate',\n        end: '<pipEndDate'\n    }\n\n    class TimeRangeChanges implements ng.IOnChangesObject, ITimeRangeBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        start: ng.IChangesObject<Date>;\n        end: ng.IChangesObject<Date>;\n    }\n\n    class TimeRangeController {\n        public data: TimeRangeData;\n        public start: Date;\n        public end: Date;\n\n        constructor($scope: ng.IScope, $attrs: ng.IAttributes, $element: JQuery) {\n            this.data = new TimeRangeData();\n            this.defineStartDate();\n            this.defineEndDate();\n\n            $element.addClass('pip-time-range');\n        }\n\n        public $onChanges(changes: TimeRangeChanges) {\n            if (changes.start && changes.start.currentValue) {\n                this.data.start = null;\n                this.defineStartDate();\n            }\n            if (changes.end && changes.end.currentValue) {\n                this.data.end = null;\n                this.defineEndDate();\n            }\n        }\n\n        private getDateJSON(value: any): Date {\n            return value ? new Date(value) : null;\n        }\n\n        private defineStartDate() {\n            if (this.start !== null && this.start !== undefined) {\n                this.data.start = _.isDate(this.start) ? this.start\n                    : this.getDateJSON(this.start);\n            }\n        }\n\n        private defineEndDate() {\n            if (this.end !== null && this.end !== undefined) {\n                this.data.end = _.isDate(this.end) ? this.end\n                    : this.getDateJSON(this.end);\n            }\n        }\n\n        private toBoolean(value): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n    }\n\n    const TimeRangeComponent: ng.IComponentOptions = {\n        bindings: TimeRangeBindings,\n        templateUrl: 'time_range/TimeRange.html',\n        controller: TimeRangeController\n    }\n\n    angular.module('pipTimeRange', [])\n        .component('pipTimeRange', TimeRangeComponent);\n\n})();\n","export const IntervalTimeRange = 30;\nexport const MinutesInHour = 60;\nexport const HoursInDay = 24;\nexport const MillisecondsInSecond = 1000;\n\n{\n    class TimeRangeEditData {\n        endTime: number;\n        startTime: number;\n        startDate: Date;\n        endDate: Date;\n        duration: number;\n        bind: boolean = false;\n    }\n\n\n    interface ITimeRangeEditBindings {\n        [key: string]: any;\n\n        pipStartDate: any,\n        pipChanged: any,\n        pipEndDate: any,\n        pipStartLabel: any,\n        pipEndLabel: any,\n        disabled: any,\n        pipHideTime: any,\n        pipSize: any\n    }\n\n    const TimeRangeEditBindings: ITimeRangeEditBindings = {\n        pipStartDate: '<',\n        pipChanged: '=',\n        pipEndDate: '<',\n        pipStartLabel: '@',\n        pipEndLabel: '@',\n        disabled: '&ngDisabled',\n        pipHideTime: '=',\n        pipSize: '='\n    }\n\n    class TimeRangeEditChanges implements ng.IOnChangesObject, ITimeRangeEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipStartDate: ng.IChangesObject<Date>;\n        pipChanged: ng.IChangesObject<(start: Date, end: Date) => void>\n        pipEndDate: ng.IChangesObject<Date>;\n        pipStartLabel: ng.IChangesObject<string>;\n        pipEndLabel: ng.IChangesObject<string>;\n        disabled: ng.IChangesObject<() => void>;\n        pipHideTime: ng.IChangesObject<boolean>;\n        pipSize: ng.IChangesObject<any>;\n    }\n\n\n    class TimeRangeEditController {\n        public startLabel: string = 'Start time';\n        public endLabel: string = 'End time';\n        public pipStartLabel: string;\n        public pipEndLabel: string;\n\n        public pipEndDate: Date;\n        public pipStartDate: Date;\n        public pipHideTime: boolean;\n        public pipSize;\n        public showTime: boolean;\n        public data: TimeRangeEditData;\n        public intervalTimeCollection: any;\n        public disabled: () => boolean;\n\n        public pipChanged: (start: Date, end: Date) => void;\n\n        constructor(\n            private $injector: angular.auto.IInjectorService,\n            private pipDateConvert,\n            private $scope: ng.IScope,\n            $element: JQuery) {\n\n            this.translate();\n            this.intervalTimeCollection = this.getTimeInterval();\n            this.data = new TimeRangeEditData();\n            this.initDate();\n            this.defineDate();\n\n            // Add class\n            $element.addClass('pip-time-range-edit');\n        }\n\n        public $onChanges(changes: TimeRangeEditChanges) {\n            if (changes.pipStartDate && changes.pipStartDate.currentValue) {\n                this.pipStartDate = changes.pipStartDate.currentValue;\n                this.initDate();\n                this.defineDate();\n            }\n            if (changes.pipEndDate && changes.pipEndDate.currentValue) {\n                this.pipEndDate = changes.pipEndDate.currentValue;\n                this.initDate();\n                this.defineDate();\n            }\n\n        }\n\n        private translate() {\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    EVENT_NEW_START_TIME: 'Start time',\n                    EVENT_NEW_END_TIME: 'End time'\n                });\n                pipTranslate.setTranslations('ru', {\n                    EVENT_NEW_START_TIME: 'Начало',\n                    EVENT_NEW_END_TIME: 'Конец'\n                });\n                this.startLabel = this.pipStartLabel ? pipTranslate.translate(this.pipStartLabel)\n                    : pipTranslate.translate('EVENT_NEW_START_TIME');\n                this.endLabel = this.pipEndLabel ? pipTranslate.translate(this.pipEndLabel)\n                    : pipTranslate.translate('EVENT_NEW_END_TIME');\n            }\n        }\n\n        private getDateJSON(value: any): Date {\n            return value ? new Date(value) : null;\n        }\n\n        private setDuration() {\n            let start, end;\n\n            if (!this.data.startDate || !this.data.endDate) {\n                return null;\n            }\n\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\n\n            return end - start;\n        }\n\n        private validateStartDate() {\n            let date: Date, start: Date, end: Date, endTime: number, startTime: number;\n            // если начальная дата не задана, обнуляем и выходим\n            if (!this.data.startDate) {\n                this.data.startTime = null;\n\n                return;\n            }\n\n            // еcли не задано начальное время - задаем его\n            if (_.isUndefined(this.data.startTime) || _.isNull(this.data.startTime)) {\n                if (!this.data.endTime) {\n                    start = new Date();\n                    startTime = date.getTime() - this.pipDateConvert.toStartDay(date);\n                    this.data.startTime = Math.floor(startTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\n                } else {\n                    this.data.startTime = this.data.endTime === 0 ? 0 : this.data.endTime - IntervalTimeRange;\n                }\n            }\n\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\n\n            // Если есть длительность, то сохраняем ее. Длительность можно изменить только изменяя конечную дату\n            if (this.data.duration) {\n                end = new Date(start.getTime() + this.data.duration);\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\n                endTime = end.getTime() - this.data.endDate.getTime();\n                this.data.endTime = Math.floor(endTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\n            } else {\n                // Если нет длительности сравниваем даты\n                end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\n                if (start >= end) {\n                    // Если начальная дата больше, то двигаем конечную дату\n                    this.data.endDate = this.pipDateConvert.toStartDay(new Date(start.getTime() + (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)));\n                    this.data.endTime = (this.data.startTime + IntervalTimeRange) % (HoursInDay * MinutesInHour); // минут в сутках\n                }\n            }\n\n            this.data.startTime = Math.round(this.data.startTime / IntervalTimeRange) * IntervalTimeRange;\n        }\n\n\n        private validateEndDate() {\n            let date: any, start: Date, end: Date;\n\n            if (!this.data.endDate) {\n                this.data.endTime = null;\n\n                return;\n            }\n\n            // еcли не задано конечное время - задаем его\n            if (_.isUndefined(this.data.endTime) || _.isNull(this.data.endTime)) {\n                if (!this.data.startTime) {\n                    date = new Date();\n                    date = date.getTime() - this.pipDateConvert.toStartDay(date);\n                    this.data.endTime = Math.floor(date / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\n                } else {\n                    this.data.endTime = this.data.startTime === (HoursInDay * MinutesInHour - IntervalTimeRange) ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.startTime + IntervalTimeRange;\n                }\n            }\n\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\n\n            if (start >= end) {\n                // Если начальная дата больше, то двигаем начальную дату\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date(end.getTime() - IntervalTimeRange * MinutesInHour * MillisecondsInSecond));\n                this.data.startTime = this.data.endTime % (HoursInDay * MinutesInHour) === 0 ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.endTime - IntervalTimeRange;\n            }\n\n            this.data.endTime = Math.round(this.data.endTime / IntervalTimeRange) * IntervalTimeRange;\n            this.data.duration = this.setDuration();\n        }\n\n        private setDate() {\n            let time: number;\n\n            if (!this.data) this.data = new TimeRangeEditData();\n            this.data.bind = false;\n\n            if (this.data.startDate) {\n                time = this.data.startTime ? this.data.startTime * MinutesInHour * MillisecondsInSecond : 0;\n                this.pipStartDate = new Date(this.data.startDate.getTime() + time);\n            }\n\n            if (this.data.endDate) {\n                time = this.data.endTime ? this.data.endTime * MinutesInHour * MillisecondsInSecond : 0;\n                this.pipEndDate = new Date(this.data.endDate.getTime() + time);\n            }\n\n            this.data.bind = true;\n        }\n\n        private defineDate() {\n            let start: Date, end: Date;\n\n            if (this.pipStartDate !== null && this.pipStartDate !== undefined) {\n                start = _.isDate(this.pipStartDate) ? this.pipStartDate : null;\n\n                if (!start) {\n                    start = this.getDateJSON(this.pipStartDate);\n                }\n\n                this.data.startDate = this.pipDateConvert.toStartDay(start);\n                this.data.startTime = (<any>new Date(start) - <any>this.data.startDate) / (MinutesInHour * MillisecondsInSecond);\n            }\n\n            if (this.pipEndDate !== null && this.pipEndDate !== undefined) {\n                end = _.isDate(this.pipEndDate) ? this.pipEndDate : null;\n\n                if (!start) {\n                    end = this.getDateJSON(this.pipEndDate);\n                }\n\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\n                this.data.endTime = (<any>new Date(end) - <any>this.data.endDate) / (MinutesInHour * MillisecondsInSecond);\n            }\n\n            this.validateStartDate();\n            this.validateEndDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n        }\n\n        private getTimeInterval() {\n            let result, minutes: number;\n\n            result = [];\n            for (let i: number = 0; i < 24; i++) {\n                for (let j: number = 0; j < 2; j++) {\n                    minutes = j * IntervalTimeRange;\n                    result.push({\n                        id: i * MinutesInHour + minutes,\n                        time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\n                    });\n                }\n            }\n\n            return result;\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        private initDate() {\n            this.data.startDate = null;\n            this.data.startTime = null;\n            this.data.endDate = null;\n            this.data.endTime = null;\n            this.data.duration = null;\n            this.showTime = !this.toBoolean(this.pipHideTime);\n        }\n\n        public onChangeStartDate(newV) {\n            this.validateStartDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public onChangeEndDate() {\n            this.validateEndDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public onChangeStartTime() {\n            if (!this.data.startDate) {\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date());\n            }\n            this.validateStartDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public onChangeEndTime() {\n            if (!this.data.endDate) {\n                this.data.endDate = this.pipDateConvert.toStartDay(new Date());\n            }\n\n            this.validateEndDate();\n            this.data.duration = this.setDuration();\n            this.setDate();\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\n        };\n\n        public isDisabled() {\n            if (this.disabled) {\n                return this.disabled();\n            }\n\n            return false;\n        };\n\n    }\n\n    const TimeRangeEditComponent: ng.IComponentOptions = {\n        bindings: TimeRangeEditBindings,\n        templateUrl: 'time_range_edit/TimeRangeEdit.html',\n        controller: TimeRangeEditController\n    };\n    angular.module('pipTimeRangeEdit', [])\n        .component('pipTimeRangeEdit', TimeRangeEditComponent)\n\n}\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date/Date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.day\" placeholder=\"{{$ctrl.dayLabel}}\" ng-change=\"$ctrl.setValue()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.month\" placeholder=\"{{$ctrl.monthLabel}}\" ng-change=\"$ctrl.onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.year\" placeholder=\"{{$ctrl.yearLabel}}\" ng-change=\"$ctrl.onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range/DateRange.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"$ctrl.isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onDayClick()\" ng-model=\"$ctrl.day\" ng-change=\"$ctrl.setValue()\" placeholder=\"{{$ctrl.dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{$ctrl.nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" ng-model=\"$ctrl.week\" ng-change=\"$ctrl.onWeekChange()\" placeholder=\"{{$ctrl.weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isDay() || $ctrl.isWeek()\"></div><md-input-container ng-show=\"$ctrl.isMonth() && !$ctrl.monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isMonth() && $ctrl.monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onYearClick()\" ng-model=\"$ctrl.year\" ng-change=\"$ctrl.onYearChanged()\" placeholder=\"{{$ctrl.yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range/TimeRange.html',\n    '<p><span ng-if=\"$ctrl.data.start != null\">{{$ctrl.data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"$ctrl.data.start && $ctrl.data.end\">-</span> <span ng-if=\"$ctrl.data.end != null\">{{$ctrl.data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit/TimeRangeEdit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"$ctrl.data.startDate\" xmd-placeholder=\"{{$ctrl.startLabel}}\" ng-change=\"$ctrl.onChangeStartDate()\" ng-disabled=\"$ctrl.isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"$ctrl.data.startTime\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeStartTime($ctrl.data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"$ctrl.data.endDate\" xmd-placeholder=\"{{$ctrl.endLabel}}\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"$ctrl.data.endTime\" ng-change=\"$ctrl.onChangeEndTime()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\n\nclass ConfirmationDialogController extends  ConfirmationDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this._injector = $injector;\n\n        this.initTranslate();\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'CONFIRM_TITLE': 'Confirm' });\n            pipTranslate.translations('ru', { 'CONFIRM_TITLE': 'Подтвердите'});\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('CONFIRM_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\n            this.cancel = pipTranslate.translate(this.cancel) || ('CANCEL');\n        } else {\n            this.title = this.title || 'Confirm';\n            this.ok = this.ok || 'OK';\n            this.cancel = this.cancel || 'Cancel';\n        }\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipConfirmationDialog')\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","export class ConfirmationDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Confirm button caption\n    public ok?: string;\n    // Dialog title\n    public title?: string; \n    // Cancel button caption\n    public cancel?: string;\n}\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\nimport { IConfirmationDialogService } from './IConfirmationDialogService';\n\nclass ConfirmationDialogService implements IConfirmationDialogService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params: ConfirmationDialogParams, successCallback?: () => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'confirmation/ConfirmationDialog.html',\n            controller: 'pipConfirmationDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n        })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipConfirmationDialog')\n    .service('pipConfirmationDialog', ConfirmationDialogService);","angular\n    .module('pipConfirmationDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ConfirmationDialogParams';\nimport './ConfirmationDialogController';\nimport './IConfirmationDialogService';\nimport './ConfirmationDialogService';\n\nexport * from './IConfirmationDialogService';\n","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\n\nclass ErrorDialogStrings {\n    public errorDetails: string = 'Error details';\n    public errorMessage: string = 'Message';\n    public errorCode: string = 'Code';\n    public errorMethod: string = 'Method';\n    public errorPath: string = 'Path';\n    public errorText: string = 'Error';   \n}\n\nclass ErrorDetailsDialogController extends ErrorDetailsDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: ng.material.IDialogService;\n    public theme: string;\n    public strings: ErrorDialogStrings;\n\n    constructor(\n        $mdDialog: ng.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n        \n        super();\n\n        this.strings = new ErrorDialogStrings();\n        this._injector = $injector;\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope.$theme;\n\n        this.initTranslate();\n\n        if (!this.error) {\n            this.error = '<none>';             \n        }\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', {\n                'OK': 'Ok',\n                'CANCEL': 'Cancel',\n                'ERROR_DETAILS': 'Error details',\n                'CODE': 'Error code',\n                'PATH': 'Path',\n                'ERROR': 'Error',\n                'METHOD': 'Method',\n                'MESSAGE': 'Message',\n                'DISMISS': 'Dismiss'\n            });\n            pipTranslate.translations('ru', {\n                'OK': 'Ок',\n                'CANCEL': 'Отмена',\n                'ERROR_DETAILS': 'Детали ошибки',\n                'CODE': 'Код ошибки',\n                'PATH': 'Путь',\n                'ERROR': 'Ошибка',\n                'METHOD': 'Метод',\n                'MESSAGE': 'Сообщение'\n            });\n            this.dismissButton = pipTranslate.translate(this.dismissButton) || pipTranslate.translate('DISMISS');\n\n            this.strings.errorDetails = pipTranslate.translate('ERROR_DETAILS');\n            this.strings.errorMessage = pipTranslate.translate('MESSAGE');\n            this.strings.errorCode = pipTranslate.translate('CODE');\n            this.strings.errorMethod = pipTranslate.translate('METHOD');\n            this.strings.errorPath = pipTranslate.translate('PATH');\n            this.strings.errorText = pipTranslate.translate('ERROR');\n        } else {\n            this.dismissButton = this.dismissButton || 'Dismiss';\n        }\n    }\n    \n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public isString(error): boolean {\n        return _.isString(error);\n    }\n\n    public getErrorText(): string {\n        let error: string;\n\n        if (_.isString(this.error)) { \n            return this.error\n        } \n        if (this.error && this.error.error) {\n            return this.error.error.toString();\n        }\n        if (this.error && this.error.data && this.error.data.error) {\n            return this.error.data.error.toString();\n        }\n        \n        return '<none>';\n    }\n\n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","export class ErrorDetailsDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Close button label\n    public dismissButton?: string;\n    // Error object or string\n    public error: any;\n}","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\nimport { IErrorDetailsDialogService } from './IErrorDetailsDialogService';\n\nclass ErrorDetailsDialogService implements IErrorDetailsDialogService {\n    public _mdDialog: angular.material.IDialogService;\n\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    \n    public show(params: ErrorDetailsDialogParams, \n        successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'error_details/ErrorDetailsDialog.html',\n            controller: 'pipErrorDetailsDialogController',\n            controllerAs: '$ctrl',\n            locals: params, \n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .service('pipErrorDetailsDialog', ErrorDetailsDialogService);","angular\n    .module('pipErrorDetailsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ErrorDetailsDialogParams';\nimport './ErrorDetailsDialogService';\nimport './ErrorDetailsDialogController';\n\nexport * from './ErrorDetailsDialogParams';\nexport * from './IErrorDetailsDialogService';","import { InformationDialogParams } from './InformationDialogParams';\n\nclass InformationDialogController extends InformationDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public content: string;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();        \n        this._injector = $injector;\n\n        this.initTranslate()\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        let content: string = this.message;\n        let item: string;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': 'Информация' });\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('INFORMATION_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\n            content = pipTranslate.translate(content);\n        } else {\n            this.title = this.title || 'Information';\n            this.ok = this.ok || 'OK';\n        }\n\n        let pipFormat: pip.services.IFormat = this._injector.has('pipFormat') \n            ? <pip.services.IFormat>this._injector.get('pipFormat') : null;\n\n        if (this.item && pipFormat) {\n            // item = _.truncate(params.item, 25);\n            content = pipFormat.sprintf(content, item);\n        }\n\n        this.content = content;        \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipInformationDialog')\n    .controller('pipInformationDialogController', InformationDialogController);","export class InformationDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Confirm button caption\n    public ok?: string;\n    // Dialog title\n    public title?: string; \n    // Dialog messag. You can use formatting options (%s, %d etc.). \n    public message: string;\n    // Paramentrs for message string\n    public item?: any;\n}","import { InformationDialogParams } from './InformationDialogParams';\nimport { IInformationDialogService } from './IInformationDialogService';\n\nclass InformationDialogService implements IInformationDialogService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'information/InformationDialog.html',\n            controller: 'pipInformationDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then(function () {\n            if (successCallback) {\n                successCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipInformationDialog')\n    .service('pipInformationDialog', InformationDialogService);","angular\n    .module('pipInformationDialog', [\n        'ngMaterial',\n        'pipDialogs.Translate', \n        'pipDialogs.Templates']);\n\nimport './InformationDialogParams';\nimport './InformationDialogController';\nimport './InformationDialogService';\n\n\nexport * from './IInformationDialogService';\nexport * from './InformationDialogParams';\n","import { OptionsDialogData } from './OptionsDialogData';\nimport { OptionsDialogParams } from './OptionsDialogParams';\nimport { OptionsDialogResult } from './OptionsDialogResult';\n\nclass OptionsDialogController extends OptionsDialogParams {\n    private _injector: ng.auto.IInjectorService;\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public optionIndex: number;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this.$mdDialog = $mdDialog;\n        this._injector = $injector;\n        this.theme = $rootScope['$theme'];\n        this.options = this.options || [];\n\n        this.initTranslate();\n        \n        this.selectedOption = _.find(this.options, {active: true}) || null;\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\n        let index: number = _.findIndex(this.options, (opt: OptionsDialogData) => {\n            return opt.name == name;\n        });\n        this.optionIndex = index == -1 ? 0 : index;\n        this.selectedOption = this.options[this.optionIndex];\n        this.selectedOptionName = this.selectedOption.name;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': 'Выберите опцию' });\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\n        } else {\n            this.title = this.title || 'Choose Option';\n            this.ok = this.ok || 'Select';\n        }\n              \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsDialogData) {\n        event.stopPropagation();\n        this.selectedOptionName = option.name;\n    }\n            \n    public onKeyPress (event: JQueryKeyEventObject) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            this.onSelect();\n        }\n    }\n\n    public onSelect() {\n        let option: OptionsDialogData;\n        option = _.find(this.options, { name: this.selectedOptionName });\n\n        this.$mdDialog.hide({ option: option, isCheckboxOption: this.isCheckboxOption });\n    }\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsDialog')\n    .controller('pipOptionsDialogController', OptionsDialogController);","\nexport class OptionsDialogData {\n    public icon: string = 'star';\n    public name: string;\n    public title: string;\n    public active: boolean = true; \n}\n","import { OptionsDialogData } from './OptionsDialogData';\n\nexport class OptionsDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Dialog title \n    public title?: string;\n    // confirm button title\n    public ok?: string;\n    // Dialog options array\n    public options?: OptionsDialogData[];\n    // Selected option by default\n    public selectedOption?: OptionsDialogData;\n    // Selected Option Name\n    public selectedOptionName?: string;\n    // Value for checkbox option\n    public isCheckboxOption?: boolean;\n    // Checkbox caption, Checkbox visible if caption is set\n    public checkboxOptionCaption?: string;\n}\n","import { OptionsDialogData } from './OptionsDialogData';\n\nexport class OptionsDialogResult {\n    public option: OptionsDialogData;\n    public isCheckboxOption: boolean;\n}\n","import { OptionsDialogParams } from './OptionsDialogParams';\nimport { OptionsDialogResult } from './OptionsDialogResult';\nimport { IOptionsDialogService } from './IOptionsDialogService';\n\nclass OptionsDialogService implements IOptionsDialogService {\n    public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public  show(params: OptionsDialogParams, \n        successCallback?: (result: OptionsDialogResult) => void, \n        cancelCallback?: () => void): any {\n        \n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsDialog.html',\n            controller: 'pipOptionsDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then((result: OptionsDialogResult) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipOptionsDialog')\n    .service('pipOptionsDialog', OptionsDialogService);","angular\n    .module('pipOptionsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsDialogData';\nimport './OptionsDialogParams';\nimport './OptionsDialogResult';\nimport './OptionsDialogController';\nimport './OptionsDialogService';\n\n\nexport * from './OptionsDialogData';\nexport * from './OptionsDialogParams';\nexport * from './OptionsDialogResult';\nexport * from './OptionsDialogService';\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\nimport { OptionsBigDialogData } from './OptionsBigDialogData';\n\nclass OptionsBigDialogController extends OptionsBigDialogParams {\n    private _injector: ng.auto.IInjectorService;\n    private $mdDialog: angular.material.IDialogService;\n\n    public theme: string;\n    public optionIndex: number;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this.$mdDialog = $mdDialog;\n        this._injector = $injector;\n        this.theme = $rootScope['$theme'];\n\n        this.initTranslate()\n\n        this.selectedOption = _.find(this.options, {active: true}) || null;\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\n        let index: number = _.findIndex(this.options, (opt: OptionsBigDialogData) => {\n            return opt.name == name;\n        });\n        this.optionIndex = index == -1 ? 0 : index;\n        this.selectedOption = this.options[this.optionIndex];\n        this.selectedOptionName = this.selectedOption.name;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': 'Выберите опцию' });\n\n            this.title =  pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\n        } else {\n            this.title = this.title || 'Choose Option';\n            this.ok = this.ok || 'Select';\n        }        \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigDialogData) {\n        event.stopPropagation();\n        this.selectedOptionName = option.name;\n\n        if (this.noActions) {\n            this.onSelect();\n        }\n    }\n\n    public onSelected() {\n        this.selectedOptionName = this.options[this.optionIndex].name;\n\n        if (this.noActions) {\n               this.onSelect();\n        }\n    }\n\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (index !== undefined && index > -1 && index < this.options.length) {\n                this.selectedOptionName = this.options[index].name;\n                this.onSelect();\n            }\n        }\n    }\n    \n    public onSelect = function () {\n        let option: OptionsBigDialogData;\n        option = <OptionsBigDialogData>_.find(this.options, { name: this.selectedOptionName }) || new OptionsBigDialogData();\n        this.$mdDialog.hide({ option: option });\n    };\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);\n","export class OptionsBigDialogData {\n    public name: string;\n    public title: string;\n    public subtitle: string;\n}\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\n\nexport class OptionsBigDialogParams {\n    // Mouse event\n    public event?: MouseEvent;   \n    // Dialog title \n    public title?: string;  \n    // confirm button title\n    public ok?: string;\n    // Dialog options array\n    public options?: OptionsBigDialogData[];\n    // Selected option by default\n    public selectedOption?: OptionsBigDialogData;\n    // Selected Option Name\n    public selectedOptionName?: string;    \n    // Dialog hint title\n    public hint?: string;\n    // Show title\n    public noTitle;\n    // Show action button\n    public noActions;\n}\n\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\n\nexport class OptionsBigDialogResult {\n    public option: OptionsBigDialogData;\n    public isCheckboxOption: boolean;\n}\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\nimport { OptionsBigDialogResult } from './OptionsBigDialogResult';\nimport { IOptionsBigDialogService } from './IOptionsBigDialogService';\n\nclass OptionsBigDialogService implements IOptionsBigDialogService {\n    public _mdDialog: angular.material.IDialogService;\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback?: (result: OptionsBigDialogResult) => void, cancelCallback?: () => void): any {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options_big/OptionsBigDialog.html',\n            controller: 'pipOptionsBigDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,        \n            clickOutsideToClose: true\n         })\n        .then((result: OptionsBigDialogResult) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .service('pipOptionsBigDialog', OptionsBigDialogService);","angular\n    .module('pipOptionsBigDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsBigDialogParams';\nimport './OptionsBigDialogData';\nimport './OptionsBigDialogResult';\nimport './OptionsBigDialogController';\nimport './OptionsBigDialogService';\n\n\nexport * from './OptionsBigDialogParams';\nexport * from './OptionsBigDialogData';\nexport * from './OptionsBigDialogResult';\nexport * from './IOptionsBigDialogService';\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{ ::$ctrl.theme }}\"><div class=\"pip-header\"><h3>{{ :: $ctrl.title }}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"$ctrl.onCancel()\">{{ :: $ctrl.cancel }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ :: $ctrl.ok }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetailsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{ ::$ctrl.strings.errorDetails | translate }}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ ::$ctrl.strings.errorCode | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ $ctrl.error.code || $ctrl.error.data.code }}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ ::$ctrl.strings.errorPath | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ $ctrl.error.path || $ctrl.error.data.path }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.isString($ctrl.error) || $ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ ::$ctrl.strings.errorText | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ $ctrl.getErrorText() }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ ::$ctrl.strings.errorMethod | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ $ctrl.error.method || $ctrl.error.data.method }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ ::$ctrl.strings.errorMessage | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ $ctrl.error.message || $ctrl.error.data.message }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"$ctrl.onOk()\">{{ ::$ctrl.dismissButton | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-header\"><h3>{{:: $ctrl.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ $ctrl.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ $ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.checkboxOptionCaption\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"$ctrl.isCheckboxOption\" aria-label=\"CHECKBOX\">{{ ::$ctrl.checkboxOptionCaption | translate }}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"$ctrl.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"$ctrl.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in $ctrl.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'$ctrl.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == $ctrl.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{ option.icon }}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{ ::option.title | translate }}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{ ::option.title | translate }}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_big/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !$ctrl.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': $ctrl.noTitle && $ctrl.hint}\"><h3 class=\"m0\" ng-if=\"!$ctrl.noTitle\">{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.noTitle && $ctrl.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{ ::$ctrl.hint | translate }}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"$ctrl.optionIndex\" index=\"{{ $ctrl.optionIndex }}\" pip-select=\"$ctrl.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == $ctrl.selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"$ctrl.onKeyUp($event, $index)\" ng-repeat=\"option in $ctrl.options\"><div class=\"pip-content content-stretch\" ng-click=\"$ctrl.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{ ::option.title | translate }}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{ ::option.subtitle | translate }}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"$ctrl.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!$ctrl.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\" style=\"margin-right: -6px\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","import { ActionsConfig } from './IActionsService';\nimport { ActionItem } from './IActionsService';\nimport { ActionsChangedEvent } from './IActionsService';\nimport { SecondaryActionsOpenEvent } from './IActionsService';\nimport { IActionsService } from './IActionsService';\nimport { IActionsProvider } from './IActionsService';\n\n\nclass ActionsService implements IActionsService {\n    private _config: ActionsConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: ActionsConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\n        this._config.primaryLocalActions = primaryActions || [];\n        this._config.secondaryLocalActions = secondaryActions || [];\n        this.sendChangeEvent();\n    }\n\n    public hide(): void {\n        this._config.primaryLocalActions = [];\n        this._config.secondaryLocalActions = [];\n        this.sendChangeEvent();\n    }\n\n    public updateCount(action: string, count: number) {\n        if (action == null || !_.isNumber(count)) return;\n\n        _.each(this._config.primaryGlobalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.primaryGlobalActions, (a) => {\n            a.count = null;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            a.count = null;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\n    }\n\n    public openMenuEvent(): void {\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\n    }\n}\n\nclass ActionsProvider implements IActionsProvider {\n    private _config: ActionsConfig = new ActionsConfig();\n    private _service: ActionsService;\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public set config(value: ActionsConfig) {\n        this._config = value || new ActionsConfig();\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ActionsService(this._config, $rootScope);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipActions')\n    .provider('pipActions', ActionsProvider);\n\n","export const ActionsChangedEvent: string = 'pipActionsChanged';\nexport const SecondaryActionsOpenEvent: string = 'pipSecondaryActionsOpen';\n\nexport class SimpleActionItem {\n    // Name to refer to the item\n    public name: string;\n    // Link visible title\n    public title?: string;\n    // Show divider instead of title\n    public divider?: boolean;\n    // Icon name from $iconProvider\n    public icon?: string;\n    // Counter badge\n    public count?: number;\n    // Access function\n    public access?: (action: SimpleActionItem) => boolean;\n    // Show on specified breakpoints\n    public breakpoints?: string[];\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public click?: (action: SimpleActionItem) => void;\n}\n\nexport class ActionItem extends SimpleActionItem {\n    public subActions: SimpleActionItem[];\n}\n\nexport class ActionsConfig {\n    // Primary global actions visible on the screen\n    public primaryGlobalActions: ActionItem[] = [];\n    // Primary local actions visible on the screen\n    public primaryLocalActions: ActionItem[] = [];\n\n    // Secondary global actions available in popup\n    public secondaryGlobalActions: ActionItem[] = [];\n    // Secondary local actions available in popup\n    public secondaryLocalActions: ActionItem[]= [];\n}\n\nexport interface IActionsService {\n    readonly config: ActionsConfig;\n\n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\n    hide(): void;\n    updateCount(link: string, count: number): void; \n    clearCounts(): void;\n    openMenuEvent(): void;\n}\n\nexport interface IActionsProvider extends ng.IServiceProvider {\n    config: ActionsConfig;\n    \n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n}","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\n\nclass PrimaryActionsController {\n    private _pipTranslate: pip.services.ITranslateService\n\n    public config: ActionsConfig;\n\n    public localActions: ActionItem[];\n    public globalActions: ActionItem[];\n    public originatorEv: any;\n\n    constructor(\n        private $element: ng.IAugmentedJQuery,\n        private $injector: ng.auto.IInjectorService,\n        private $scope: angular.IScope,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $location: ng.ILocationService,\n        private pipActions: IActionsService,\n        $log: ng.ILogService,\n        $attrs: ng.IAttributes\n\n    ) {\n        \"ngInject\";\n\n\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\n            this._pipTranslate.setTranslations('en', {\n                DOCUMENTS_ATTACHED: 'document(s) attached',\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\n            });\n            this._pipTranslate.setTranslations('ru', {\n                DOCUMENTS_ATTACHED: 'документов добавлено',\n                ERROR_DOCUMENTS_LOADED: 'Ошибка: <%= error_number %> документ(ов) не загружено'\n\n            });\n        }\n\n        // Apply class and call resize\n        this.$element.addClass('pip-primary-actions');\n\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\n            this.onActionsChanged(event, config);\n        });\n\n    }\n    \n    public $onInit() {\n        if (this.localActions) {\n            this.pipActions.primaryLocalActions = this.localActions;\n        }\n\n        if (this.globalActions) {\n            this.pipActions.primaryGlobalActions = this.globalActions;\n        }\n\n        this.config = this.pipActions.config;\n    }\n\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\n        this.config = config;\n    }\n\n    public isHidden(action: ActionItem): boolean {\n        // Todo: Check breakpoints here\n        return action.access && !action.access(action);\n    }\n\n    public actionCount(action: ActionItem): string {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return String(action.count);\n    }\n\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        if (action.subActions) {\n            $mdOpenMenu(this.originatorEv);\n            return;\n        }\n\n        if (_.isFunction(action.click)) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this.$window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this.$location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this.$injector.has('this._state')) {\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null ;\n                if (_state) {\n                    _state.go(action.state, action.stateParams);\n                }\n            }\n            return;\n        }\n\n        if (action.event) {\n            this.$rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\n\ninterface IPrimaryActionsBindings {\n    [key: string]: any;\n\n    localActions: any,\n    globalActions: any,\n    originatorEv: any\n}\n\nconst PrimaryActionsBindings: IPrimaryActionsBindings = {\n    localActions: '<pipLocalActions',\n    globalActions: '<pipGlobalActions',\n    originatorEv: '<?pipOriginatorEv'\n}\n\nclass PrimaryActionsChanges implements ng.IOnChangesObject, IPrimaryActionsBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    localActions: ng.IChangesObject<ActionItem[]>;\n    globalActions: ng.IChangesObject<ActionItem[]>;\n    originatorEv: ng.IChangesObject<any>;\n}\n\n\n(() => {\n    const primaryActions: ng.IComponentOptions = {\n        bindings: PrimaryActionsBindings,\n        templateUrl: 'actions/PrimaryActions.html',\n        controller: PrimaryActionsController\n    };\n\n\n    angular\n        .module('pipActions')\n        .component('pipPrimaryActions', primaryActions);\n\n})();","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\n\nclass SecondaryActionsController {\n    private pipTranslate: pip.services.ITranslateService\n    private _menuFn: Function;\n    private originatorEv: any;\n\n    public config: ActionsConfig;\n    public localActions: ActionItem[];\n    public globalActions: ActionItem[];\n\n    constructor(\n        private $attrs: ng.IAttributes,\n        private $injector: ng.auto.IInjectorService,\n        private $log: ng.ILogService,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $location: ng.ILocationService,\n        private pipActions: IActionsService,\n        $element: ng.IAugmentedJQuery,\n    ) {\n        \"ngInject\";\n\n        // Apply class and call resize\n        $element.addClass('pip-secondary-actions');\n\n        if (this.localActions) {\n            pipActions.secondaryLocalActions = this.localActions;\n        }\n\n        if (this.globalActions) {\n            pipActions.secondaryGlobalActions = this.globalActions;\n        }\n\n        this.config = pipActions.config;\n\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\n            this.onActionsChanged(event, config);\n        });\n\n        this.$rootScope.$on('pipSecondaryActionsOpen', () => {\n            this.onActionsMenuOpen();\n        });\n\n    }\n\n    public getMenu(menuFn: Function): void {\n         this._menuFn = menuFn;\n    }\n\n    public onActionsMenuOpen(): void {\n        this._menuFn();\n    }\n\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\n        this.originatorEv = ev;\n        $mdOpenMenu(ev);\n    }\n\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\n        this.config = config;\n    }\n\n    public isHidden(action: ActionItem): boolean {\n        // Todo: Check breakpoints here\n        return action.access && !action.access(action);\n    }\n\n    public actionCount(action: ActionItem): string {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return String(action.count);\n    }\n\n\n    private calcActions(actions: ActionItem[]): number {\n        let count: number = 0;\n\n        _.each(actions, (action: ActionItem) => {\n            if (!this.isHidden(action)) {\n                count++;\n            }\n        });\n\n        return count;\n    }\n\n    public secondaryActionsVisible() {\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\n            this.calcActions(this.config.secondaryLocalActions) > 0;\n    }\n\n    public secondaryDividerVisible() {\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\n            this.calcActions(this.config.secondaryLocalActions) > 0;\n    }\n\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        // todo: do not supported into ActionItem\n        // if (action.close) {\n        //     this.$scope.originatorEv = null;\n        // }\n\n        if (action.subActions) {\n            $mdOpenMenu(this.originatorEv);\n            return;\n        }\n\n        if (action.click) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this.$window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this.$location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this.$injector.has('this._state')) {\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null;\n                if (_state) {\n                    _state.go(action.state, action.stateParams);\n                }\n            }\n            return;\n        }\n\n        if (action.event) {\n            this.$rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\n\ninterface ISecondaryActionsBindings {\n    [key: string]: any;\n\n    localActions: any,\n    globalActions: any\n}\n\nconst SecondaryActionsBindings: ISecondaryActionsBindings = {\n    localActions: '<pipLocalActions',\n    globalActions: '<pipGlobalActions'\n}\n\nclass SecondaryActionsChanges implements ng.IOnChangesObject, ISecondaryActionsBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    localActions: ng.IChangesObject<ActionItem[]>;\n    globalActions: ng.IChangesObject<ActionItem[]>;\n}\n\n\n(() => {\n    const secondaryActions: ng.IComponentOptions = {\n        bindings: SecondaryActionsBindings,\n        templateUrl: 'actions/SecondaryActions.html',\n        controller: SecondaryActionsController\n    };\n\n    angular\n        .module('pipActions')\n        .component('pipSecondaryActions', secondaryActions);\n\n})();\n","angular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\n\nimport './ActionsService';\nimport './PrimaryActions';\nimport './SecondaryActions';\n\nexport * from './IActionsService';","﻿import { AppBarConfig } from './AppBarConfig';\nimport { IAppBarService } from \"./IAppBarService\";\n\nclass AppBarController {\n    public config: AppBarConfig;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $rootScope: ng.IRootScopeService,\n        pipAppBar: IAppBarService\n    ) {\n        \"ngInject\";\n        // Apply class and call resize\n        $element.addClass('pip-appbar');\n        $element.addClass('color-primary-bg');\n\n        this.config = pipAppBar.config;\n\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\n            this.onAppBarChanged(event, config)\n        });\n    }\n\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\n        this.config = config;\n    }\n    \n}\n\n{\n    const appbar: ng.IComponentOptions = {\n        transclude: true,\n        templateUrl: 'appbar/AppBar.html',\n        controller: AppBarController\n    }\n\n    angular\n        .module('pipAppBar')\n        .component('pipAppbar', appbar);\n\n}","export class AppBarConfig {\n    visible: boolean;\n    parts: any;\n    classes: string[];\n} ","import { AppBarConfig } from './AppBarConfig';\nimport { IAppBarService } from \"./IAppBarService\";\n\nclass AppBarPartController {\n    \n    private _partName: string;\n    private _partValue: string;\n\n    constructor(\n        private $scope: ng.IScope,\n        $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        pipAppBar: IAppBarService\n    ) {\n        \"ngInject\";\n\n        this._partName = String($attrs['pipAppbarPart']);\n        this._partValue = null;\n\n        // Break part apart\n        let pos: number = this._partName.indexOf(':');\n        if (pos > 0) {\n            this._partValue = this._partName.substr(pos + 1);\n            this._partName = this._partName.substr(0, pos);\n        }\n\n        this.onAppBarChanged(null, pipAppBar.config);\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\n            this.onAppBarChanged(null, config)\n        });\n\n    }\n\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\n        let parts: any = config.parts || {};\n        let currentPartValue = parts[this._partName];\n\n        // Set visible variable to switch ngIf\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\n\n        if (visible != this.$scope['visible'])\n            this.$scope['visible'] = visible;\n    }\n\n}\n\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\n(() => {\n    function appbarPart(ngIfDirective) {\n        \"ngInject\";\n\n        var ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\n                // Visualize based on visible variable in scope\n                $attrs['ngIf'] = () => {\n                    return $scope['visible'];\n                };\n                ngIf.link.apply(ngIf, arguments);\n            },\n            controller: AppBarPartController\n        };\n    }\n\n    angular.module('pipAppBar')\n        .directive('pipAppbarPart', appbarPart);\n\n})();","import { AppBarConfig } from './AppBarConfig';\nimport { IAppBarService, IAppBarProvider } from './IAppBarService';\n\nexport const AppBarChangedEvent: string = 'pipAppBarChanged';\n\nclass AppBarService implements IAppBarService {\n    private _config: AppBarConfig;\n\n    public constructor(config: AppBarConfig, private $rootScope: ng.IRootScopeService) {\n        this._config = config;\n    }\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\n        this._config.visible = true;\n        this._config.parts = parts || this._config.parts || {};\n        this._config.classes = classes || this._config.classes || [];\n        if (shadowBreakpoints) {\n            this.setShadow(shadowBreakpoints); \n        }\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.visible = false;\n        this.sendConfigEvent();\n    }\n\n    private hideShadow(): void {\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\n    }\n\n    private setShadow(breakpoints: string[]): void {\n        this.hideShadow();\n\n        if (breakpoints != null && breakpoints.length > 0) {\n            _.each(breakpoints, (bp) => {\n                this._config.classes.push('pip-shadow-' + bp);\n            });\n        } else {\n            this._config.classes.push('pip-shadow');\n        }\n    }\n\n    public addShadow(...breakpoints: string[]): void {\n        this.setShadow(breakpoints);\n        this.sendConfigEvent();\n    }\n\n    public removeShadow(): void {\n        this.hideShadow();\n        this.sendConfigEvent();\n    }\n \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$broadcast(AppBarChangedEvent, this._config);\n    }\n}\n\nclass AppBarProvider implements IAppBarProvider {\n    private _config: AppBarConfig = {\n        visible: true,\n        parts: {},\n        classes: []\n    };\n    private _service: AppBarService;\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public set config(value: AppBarConfig) {\n        this._config = value || new AppBarConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AppBarService(this._config, $rootScope);\n\n        return this._service;\n    }     \n}\n\nangular\n    .module('pipAppBar')\n    .provider('pipAppBar', AppBarProvider);\n","angular\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\n\nimport './AppBarConfig';\nimport './AppBarService';\nimport './AppBar';\nimport './AppBarPart';\n\nexport * from './AppBarService';\n","import { SimpleActionItem } from '../actions/IActionsService';\nimport { BreadcrumbItem } from './BreadcrumbConfig';\nimport { BreadcrumbConfig } from './BreadcrumbConfig';\nimport { IBreadcrumbService } from './IBreadcrumbService';\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\nimport { OpenSearchEvent } from '../search/SearchService';\n\nclass BreadcrumbController {\n    private originatorEv: Event;\n    private _media: any;\n\n    public config: BreadcrumbConfig;\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $location: ng.ILocationService,\n        private $injector: ng.auto.IInjectorService,\n        pipBreadcrumb: IBreadcrumbService,\n        $mdMedia: angular.material.IMedia,\n        $state: ng.ui.IStateService,\n        $element: ng.IAugmentedJQuery,\n    ) {\n        \"ngInject\";\n\n        // Apply class and call resize\n        $element.addClass('pip-breadcrumb');\n\n        this.config = pipBreadcrumb.config;\n\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\n            this.onBreadcrumbChanged(event, config);\n        });\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\n    }\n\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\n        this.config = config;\n    }\n\n    private onBreadcrumbBack(): void {\n        let items: BreadcrumbItem[] = this.config.items;\n        // Go to the last breadcrumb item\n        if (_.isArray(items) && items.length > 0) {\n            let item: BreadcrumbItem = items[items.length - 1];\n            if (_.isFunction(item.click)) {\n                item.click(item);\n            } else {\n                this.$window.history.back();\n            }\n        } else {\n            this.$window.history.back();\n        }\n    }\n\n    public onClick(item: BreadcrumbItem): void {\n        if (_.isFunction(item.click)) {\n            item.click(item);\n        }\n    }\n\n    public openSearch(): void {\n        this.$rootScope.$broadcast(OpenSearchEvent);\n    }\n\n    public actionsVisible(item: BreadcrumbItem): boolean {\n\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\n    }\n\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\n        this.originatorEv = event;\n        $mdOpenMenu(this.originatorEv);\n    }\n\n    public onSubActionClick(action: SimpleActionItem): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        if (_.isFunction(action.click)) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this.$window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this.$location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this.$injector.has('$state')) {\n                let _state: angular.ui.IStateService = this.$injector.get('$state') as ng.ui.IStateService\n                _state.go(action.state, action.stateParams);\n            }\n            return;\n        }\n\n        if (action.event) {\n            this.$rootScope.$broadcast(action.event);\n            this.originatorEv = null;\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\n            this.originatorEv = null;\n        }\n    }\n}\n\nconst breadcrumb: ng.IComponentOptions = {\n    bindings: {},\n    templateUrl: 'breadcrumb/Breadcrumb.html',\n    controller: BreadcrumbController\n}\n\nangular\n    .module('pipBreadcrumb')\n    .component('pipBreadcrumb', breadcrumb);","import { SimpleActionItem } from '../actions/IActionsService';\nexport class BreadcrumbItem {\n    title: string = null;\n    click?: (item: BreadcrumbItem) => void = null;   \n    subActions?: SimpleActionItem[] = null; \n}\n\nexport class BreadcrumbConfig {\n    text: string;\n    items: BreadcrumbItem[];\n    criteria: string;\n}\n","import { BreadcrumbItem, BreadcrumbConfig } from './BreadcrumbConfig';\nimport { IBreadcrumbService, IBreadcrumbProvider } from './IBreadcrumbService';\n\nexport const BreadcrumbChangedEvent: string = \"pipBreadcrumbChanged\";\nexport const BreadcrumbBackEvent: string = \"pipBreadcrumbBack\";\n\nclass BreadcrumbService implements IBreadcrumbService {\n    private _config: BreadcrumbConfig;\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService,\n        config: BreadcrumbConfig\n    ) {\n        this._config = config;\n    }\n\n    public get config() {\n        return this._config;\n    }\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n        this._config.items = null;\n\n        this.sendConfigEvent();\n    }\n\n    public get items(): BreadcrumbItem[] {\n        return this._config.items;\n    }\n\n    public set items(value: BreadcrumbItem[]) {\n        this._config.text = null;\n        this._config.items = value;\n\n        this.sendConfigEvent();\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public showText(text: string, criteria?: string): void {\n        this._config.text = text;\n        this._config.items = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\n        this._config.items = items || [];\n        this._config.text = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public sendConfigEvent() {\n        this.$rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\n    }\n}\n\n\nclass BreadcrumbProvider implements IBreadcrumbProvider, ng.IServiceProvider {\n    private _config: BreadcrumbConfig = new BreadcrumbConfig();\n    private _service: BreadcrumbService;\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService): IBreadcrumbService {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new BreadcrumbService($rootScope, this._config);\n\n        return this._service;\n    }\n}\n\n\nangular\n    .module('pipBreadcrumb')\n    .provider('pipBreadcrumb', BreadcrumbProvider);\n","angular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\n\nimport './Breadcrumb';\nimport './BreadcrumbService';\n\nexport * from './BreadcrumbService';\n\n\n","import { INavService } from './INavService'\nimport { INavIconService } from '../icon/INavIconService';\nimport { INavMenuService } from '../menu/INavMenuService';\nimport { INavHeaderService } from '../header/INavHeaderService';\nimport { IBreadcrumbService } from '../breadcrumb/IBreadcrumbService';\nimport { ISearchService } from '../search/ISearchService';\nimport { IActionsService } from '../actions/IActionsService';\nimport { IAppBarService } from '../appbar/IAppBarService';\nimport { ISideNavService } from '../sidenav/ISideNavService';\n\nclass NavService implements INavService {\n\n    public appbar: IAppBarService;\n    public icon: INavIconService;\n    public breadcrumb: IBreadcrumbService;\n    public actions: IActionsService;\n    public search: ISearchService;\n    public sidenav: ISideNavService;\n    public header: INavHeaderService;\n    public menu: INavMenuService;\n\n    public constructor($injector: ng.auto.IInjectorService) {\n        \"ngInject\";\n\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\n    }\n\n    public reset() {\n        // Reset appbar\n        if (this.appbar) {\n            this.appbar.show();\n        }\n\n        // Reset icon\n        if (this.icon) {\n            this.icon.showMenu();\n        }\n\n        // Reset breadcrumb\n        if (this.breadcrumb) {\n            this.breadcrumb.showText(null);\n        }\n\n        // Reset actions\n        if (this.actions) {\n            this.actions.show();\n        }\n\n        // Reset search\n        if (this.search) {\n            this.search.set(null);\n        }\n\n        if (this.sidenav) {\n            this.sidenav.show();\n        }\n\n    }\n}\n\nangular\n    .module('pipNavService', [])\n    .service('pipNavService', NavService);","{\n    class DropdownController {\n        private _pipTranslate: pip.services.ITranslateService;\n        private _pipTheme: pip.themes.IThemeService;\n        private _pipMedia: pip.layouts.IMediaService;\n\n        public themeClass: string;\n        public media: any;\n        public actions: any[]; // string or array\n        public activeIndex: number;\n        public selectedIndex: number;\n        public currentTheme: string;\n\n        public ngDisabled: Function;\n        public showDropdown: Function;\n        public select: any;\n        public pipChange: Function;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $timeout: ng.ITimeoutService,\n            $element: ng.IAugmentedJQuery,\n            $attrs: ng.IAttributes,\n            $injector: ng.auto.IInjectorService,\n            $log: ng.ILogService,\n            $rootScope: ng.IRootScopeService,\n            $mdMedia: angular.material.IMedia,\n\n        ) {\n            \"ngInject\";\n\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\n\n            if (this._pipTheme) {\n                this.currentTheme = this._pipTheme.theme;\n            } else if ($rootScope['$theme']) {\n                this.currentTheme = $rootScope['$theme'];\n            }\n\n            this.themeClass = ($attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\n\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\n            this.media = !_.isUndefined(this._pipMedia) ? this._pipMedia : $mdMedia;\n            this.actions = (this.actions && _.isArray(this.actions)) ? this.actions : [];\n            this.activeIndex = this.activeIndex || 0;\n        }\n\n        public disabled(): boolean {\n            if (this.ngDisabled) {\n                return this.ngDisabled();\n            } else {\n                return false;\n            }\n        }\n\n        public onSelect(index: number): void {\n            this.activeIndex = index;\n            if (this.select) {\n                this.select(this.actions[index], this.activeIndex);\n            }\n\n            if (this.pipChange) {\n                this.$timeout(() => {\n                    this.pipChange();\n                });\n            }\n        }\n\n        public show(): boolean {\n            let result: boolean;\n            if (this.showDropdown()) {\n                return !!this.showDropdown();\n            } else {\n                return true;\n            }\n        }\n\n    }\n\n\n    interface IDropdownBindings {\n        [key: string]: any;\n\n        ngDisabled: any,\n        actions: any,\n        showDropdown: any,\n        activeIndex: any,\n        select: any,\n        pipChange: any\n    }\n\n    const DropdownBindings: IDropdownBindings = {\n        ngDisabled: '&',\n        actions: '=pipActions',\n        showDropdown: '&pipShow',\n        activeIndex: '=pipActiveIndex',\n        select: '=pipDropdownSelect',\n        pipChange: '&'\n    }\n\n    class DropdownChanges implements ng.IOnChangesObject, IDropdownBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<Function>;\n        actions: ng.IChangesObject<any>;\n        showDropdown: ng.IChangesObject<Function>;\n        activeIndex: ng.IChangesObject<number>;\n        select: ng.IChangesObject<any>;\n        pipChange: ng.IChangesObject<Function>;\n    }\n\n    const dropdown: ng.IComponentOptions = {\n        bindings: DropdownBindings,\n        templateUrl: 'dropdown/Dropdown.html',\n        controller: DropdownController\n    };\n\n    angular\n        .module('pipDropdown', ['pipNav.Templates'])\n        .component('pipDropdown', dropdown);\n\n}","import { INavHeaderService } from \"./INavHeaderService\";\nimport { NavHeaderConfig } from \"./NavHeaderConfig\";\n\n{\n    class NavHeaderController {\n        private cleanupNavHeaderChanged: Function;\n        private cleanupSideNavStateChanged: Function;\n\n        public title: string;\n        public subtitle: string;\n        public imageUrl: string = null;\n        public imageCss: string;\n        public image: any;\n        public imageBlock: any;\n        public loadedDefaultImage: boolean;\n        public showHeader: boolean;\n\n        constructor(\n            private $element: ng.IAugmentedJQuery,\n            private $scope: angular.IScope,\n            $log: ng.ILogService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private pipNavHeader: INavHeaderService,\n            navConstant: any\n\n        ) {\n            \"ngInject\";\n\n            // Apply class and call resize\n            $element.addClass('pip-sticky-nav-header');\n\n            this.initImage();\n\n            this.cleanupNavHeaderChanged = $rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\n                this.onNavHeaderChanged($event, config)\n            });\n            this.cleanupSideNavStateChanged = $rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\n                this.onStateChanged($event, state)\n            });\n\n        }\n\n        public $onDestroy() {\n\n            if (angular.isFunction(this.cleanupNavHeaderChanged)) {\n                this.cleanupNavHeaderChanged();\n            }\n            if (angular.isFunction(this.cleanupSideNavStateChanged)) {\n                this.cleanupSideNavStateChanged();\n            }\n        }\n\n        private initImage() {\n            this.imageBlock = this.$element.find('.pip-sticky-nav-header-user');\n\n            this.$timeout(() => {\n                this.image = this.$element.find('.pip-sticky-nav-header-user-image');\n\n                if (this.image[0]) {\n                    this.image[0].onload = (() => this.onImageLoad());\n\n                    // ($event: HTMLElement, erroev: Event): any =>  {\n                    //     this.onImageLoad($event);\n                    //     return null;\n                    // }\n                    this.image[0].onerror = (() => this.onImageError());\n                    // ($event: ng.IAngularEvent) => {\n                    //     this.onImageError($event);\n                    // }\n                } else {\n                    this.image.onload = (() => this.onImageLoad());\n                    this.image.onerror = (() => this.onImageError());\n                }\n\n                this.onNavHeaderChanged(null, this.pipNavHeader.config);\n            }, 20);\n        }\n\n        private initHeader() {\n            if (!this.pipNavHeader.config) return;\n\n            this.title = this.pipNavHeader.config.title;\n            this.subtitle = this.pipNavHeader.config.subtitle;\n            this.imageUrl = this.pipNavHeader.config.imageUrl;\n            this.imageCss = this.pipNavHeader.config.imageCss;\n        }\n\n        // // When image is loaded resize/reposition it\n        // private onImageLoad($event) {\n        //     let image: ng.IAugmentedJQuery = $($event.target);\n        //     this.setImageMarginCSS(image);\n        // };\n\n        // private onImageError($event) {\n        //     if (this.loadedDefaultImage) return;\n        //     this.$scope.$apply(() => {\n        //         this.setImage(this.pipNavHeader.config, true);\n        //     });\n        // };\n        // When image is loaded resize/reposition it\n        private onImageLoad() {\n            this.setImageMarginCSS(this.image);\n        };\n\n        private onImageError() {\n            if (this.loadedDefaultImage) return;\n            this.$scope.$apply(() => {\n                this.setImage(this.pipNavHeader.config, true);\n            });\n        };\n\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\n            if (state === undefined) return;\n\n            if (state.id == 'toggle') {\n                this.$timeout(() => {\n                    this.showHeader = state && state.id == 'toggle';\n                }, 400);\n            } else {\n                this.showHeader = false;\n            }\n        }\n\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\n            var cssParams = {},\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\n                imageWidth = image[0]['naturalWidth'] || image.width,\n                imageHeight = image[0]['naturalHeight'] || image.height,\n                margin = 0;\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\n                cssParams['width'] = '' + containerWidth + 'px';\n                cssParams['margin-left'] = '';\n            }\n\n            image.css(cssParams);\n        };\n\n        private setImage(config, loadError: boolean) {\n            if (!config) return;\n\n            let url: string;\n\n            if (!loadError && !!config.imageUrl) {\n                url = config.imageUrl;\n            } else {\n                this.loadedDefaultImage = true;\n                url = config.defaultImageUrl;\n            }\n\n            if (url && this.image) {\n                this.image.attr('src', url);\n            } else {\n                this.imageBlock.css(\"display\", \"none\");\n            }\n        }\n\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\n            if (!config) return;\n\n            this.title = config.title;\n            this.subtitle = config.subtitle;\n            this.imageUrl = config.imageUrl;\n            this.imageCss = config.imageCss;\n\n            this.setImage(config, false)\n        }\n\n        public onUserClick() {\n            this.$rootScope.$broadcast('pipNavUserClicked'); // todo\n        }\n\n    }\n\n    const navHeader: ng.IComponentOptions = {\n        templateUrl: 'header/NavHeader.html',\n        controller: NavHeaderController\n    };\n\n    angular\n        .module('pipNavHeader')\n        .component('pipNavHeader', navHeader);\n\n}","export class NavHeaderConfig {\n    // Image url\n    public imageUrl: string;\n    // Image url\n    public defaultImageUrl: string;\n    // Title\n    public title: string;\n    // Subtitle\n    public subtitle: string;\n    // image styles\n    public imageCss: string;\n    // Handle header click event\n    click: () => void;\n    // Event name\n    event: string\n};","import { NavHeaderConfig } from \"./NavHeaderConfig\";\nimport { INavHeaderService, INavHeaderProvider } from \"./INavHeaderService\";\n\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\n\nclass NavHeaderService implements INavHeaderService {\n    private _config: NavHeaderConfig;\n\n    public constructor(config: NavHeaderConfig, private $rootScope: ng.IRootScopeService) {\n        this._config = config;\n    }\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n        this.sendConfigEvent();\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n        this.sendConfigEvent();\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n        this.sendConfigEvent();\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n        this.sendConfigEvent();\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n        this.sendConfigEvent();\n    }\n\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n        } else {\n            this._config.click = null;\n        }\n        if (_.isString(callbackOrEvent)) {\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.event = null;\n        }\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$emit(NavHeaderChangedEvent, this._config);\n    }\n}\n\nclass NavHeaderProvider implements INavHeaderProvider {\n    private _config: NavHeaderConfig = new NavHeaderConfig();\n    private _service: NavHeaderService;\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public set config(value: NavHeaderConfig) {\n        this._config = value || new NavHeaderConfig();\n    }\n\n    public get defaultImageUrl(): string {\n        return this._config.defaultImageUrl;\n    }\n\n    public set defaultImageUrl(value: string) {\n        this._config.defaultImageUrl = value;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n    }\n\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n        } else {\n            this._config.click = null;\n        }\n        if (_.isString(callbackOrEvent)) {\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.event = null;\n        }\n    }\n\n    public clear(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavHeaderService(this._config, $rootScope);\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipNavHeader')\n    .provider('pipNavHeader', NavHeaderProvider);\n","angular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\n\nimport './NavHeaderService';\nimport './NavHeader';\n\nexport * from './NavHeaderService';","import { OpenSideNavEvent } from '../sidenav/SideNavService';\nimport { NavIconConfig } from './NavIconConfig';\nimport { INavIconService } from './INavIconService';\nimport { NavIconClickedEvent, NavIconChangedEvent } from './NavIconService';\n\ninterface INavIconBindings {\n    [key: string]: any;\n\n    type: any;\n    imageUrl: any;\n    icon: any;\n}\n\nconst NavIconBindings: INavIconBindings = {\n    type: '<?pipType',\n    imageUrl: '<?pipImageUrl',\n    icon: '<?pipIcon'\n}\n\nclass NavIconChanges implements ng.IOnChangesObject, INavIconBindings {\n    [key: string]: ng.IChangesObject<any>;\n    // Not one way bindings\n\n    type: ng.IChangesObject<string>;\n    imageUrl: ng.IChangesObject<string>;\n    icon: ng.IChangesObject<string>;\n}\n\nclass NavIconController implements INavIconBindings {\n    private clearFn: Function;\n\n    public config: NavIconConfig;\n    public type: string;\n    public imageUrl: string;\n    public icon: string;\n\n    constructor(\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        $element: ng.IAugmentedJQuery,\n        $scope: angular.IScope,\n        $log: ng.ILogService,\n        pipNavIcon: INavIconService\n    ) {\n        \"ngInject\";\n\n\n        // Apply class and call resize\n        $element.addClass('pip-nav-icon');\n\n        this.config = pipNavIcon.config;\n\n        this.clearFn = $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\n            this.onNavIconChanged(event, config)\n        });\n\n    }\n\n    public $onInit() {\n        if (this.type) {\n            this.config.type = this.type;\n        }\n        if (this.imageUrl) {\n            this.config.imageUrl = this.imageUrl;\n        }\n        if (this.icon) {\n            this.config.icon = this.icon;\n        }        \n    }\n\n    public $onDestroy() {\n        if (_.isFunction(this.clearFn)) {\n            this.clearFn();\n        }\n    }\n\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\n        this.config = config;\n    }\n\n    public onNavIconClick(): void {\n        if (_.isFunction(this.config.click)) {\n            // Execute nav icon callback\n            this.config.click();\n        } else if (this.config.event) {\n            this.$rootScope.$broadcast(this.config.event);\n        } else if (this.config.type == 'menu') {\n            this.$rootScope.$broadcast(OpenSideNavEvent);\n        } else if (this.config.type == 'back') {\n            this.$window.history.back();\n        } else {\n            this.$rootScope.$broadcast(NavIconClickedEvent);\n        }\n    }\n\n}\n\nconst NavIcon: ng.IComponentOptions = {\n    bindings: NavIconBindings,\n    templateUrl: 'icon/NavIcon.html',\n    controller: NavIconController\n}\n\nangular\n    .module('pipNavIcon')\n    .component('pipNavIcon', NavIcon);\n","export class NavIconConfig {\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\n    public type: string;\n    // Image url\n    public imageUrl: string;\n    // Icon name\n    public icon: string;\n    // Handle nav icon click event\n    click: () => void;\n    // Event name\n    event: string\n};","import { NavIconConfig } from './NavIconConfig';\nimport { INavIconService, INavIconProvider } from './INavIconService';\n\nexport const NavIconClickedEvent: string = 'pipNavIconClicked';\nexport const NavIconChangedEvent: string = 'pipNavIconChanged';\n\nclass NavIconService implements INavIconService {\n    private _config: NavIconConfig;\n\n    public constructor(config: NavIconConfig, private $rootScope: ng.IRootScopeService) {\n        this._config = config;\n    }\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n            this._config.event = null;\n        } else if (_.isString(callbackOrEvent)) {\n            this._config.click = null;\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.click = null;\n            this._config.event = null;\n        }\n    }\n\n    public showMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$broadcast(NavIconChangedEvent, this._config);\n    }\n}\n\nclass NavIconProvider implements INavIconProvider {\n    private _config: NavIconConfig = new NavIconConfig();\n    private _service: NavIconService;\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    public set config(value: NavIconConfig) {\n        this._config = value || new NavIconConfig();\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent))\n            this._config.click = callbackOrEvent;\n        else this._config.click = null;\n\n        if (_.isString(callbackOrEvent))\n            this._config.event = callbackOrEvent;\n        else this._config.event = null;\n    }\n\n    public setMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public clear(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavIconService(this._config, $rootScope);\n\n        return this._service;\n    }\n     \n}\n\n\nangular\n    .module('pipNavIcon')\n    .provider('pipNavIcon', NavIconProvider);\n","angular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavIconConfig';\nimport './INavIconService';\nimport './NavIconService';\nimport './NavIcon';\n\n\nexport * from './NavIconConfig';\nexport * from './INavIconService';\nexport * from './NavIconService';\n","{\n    class LanguagePickerDirectiveController implements ILanguagePickerBindings {\n        private _translate: pip.services.ITranslateService;\n        public languages: string[] = ['en', 'ru'];\n        public value: string = null;\n\n        public constructor(\n            $element: ng.IAugmentedJQuery,\n            $injector: ng.auto.IInjectorService,\n            $rootScope: ng.IRootScopeService\n        ) {\n            \"ngInject\";\n\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n\n            // Apply class and call resize\n            $element.addClass('pip-language-picker');\n\n            this.setLanguages(this.languages);\n\n            this.value = this.value  || this.languages[0];\n        }\n\n        public get language() {\n            return this._translate ? this._translate.language : null;\n        }\n\n        public setLanguages(languages: string[]): void {\n            this.languages = languages.length > 0 ? languages : ['en', 'ru'];\n        }\n\n        public onLanguageClick(language: string) {\n            if (this._translate != null) {\n                this.value = language;\n                // this.$timeout(() => {\n                this._translate.language = this.value;\n                // }, 0);\n            }\n        }\n\n    }\n\n    interface ILanguagePickerBindings {\n        [key: string]: any;\n\n        languages: any,\n        value: any\n    }\n\n    const LanguagePickerBindings: ILanguagePickerBindings = {\n        languages: '<languages',\n        value: '=?value'\n    }\n\n    const languagePickerDirective: ng.IComponentOptions = {\n        bindings: LanguagePickerBindings,\n        templateUrl: 'language/LanguagePicker.html',\n        controller: LanguagePickerDirectiveController\n    }\n\n    angular\n        .module('pipLanguagePicker', [\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\n        ])\n        .component('pipLanguagePicker', languagePickerDirective);\n\n}","import { ISideNavService} from '../sidenav/ISideNavService';\nimport { INavMenuService} from './INavMenuService';\nimport { SideNavStateNames, SideNavState, SideNavConfig } from '../sidenav/SideNavState';\nimport { NavMenuConfig, NavMenuSection, NavMenuLink } from './NavMenuConfig';\n\n(() => {\n    class NavMenuController {\n        private _state: angular.ui.IStateService;\n        private _pipMedia: pip.layouts.IMediaService;\n        private _animationDuration;\n        private _pipSideNavElement: ng.IAugmentedJQuery;\n\n        public sections: NavMenuSection[];\n        public defaultIcon: string;\n        public isCollapsed: boolean;\n        public expanded: boolean;\n        public expandedButton: boolean;\n        public sideNavState: SideNavState;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $window: ng.IWindowService,\n            private $location: ng.ILocationService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private pipSideNav: ISideNavService,\n            private pipNavMenu: INavMenuService,\n\n            $element: ng.IAugmentedJQuery,\n            $injector: ng.auto.IInjectorService,\n            navConstant: any\n\n        ) {\n            \"ngInject\";\n\n            this._state = $injector.has('$state') ? <angular.ui.IStateService>$injector.get('$state') : null;\n\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\n                this._pipSideNavElement = $element.parent().parent();\n            // Apply class and call resize\n            $element.addClass('pip-sticky-nav-menu');\n\n            this.sections = this.$scope['sections'] || this.pipNavMenu.sections;\n\n            this.setCollapsible();\n\n            this.defaultIcon = this.pipNavMenu.defaultIcon;\n\n            this.onStateChanged(null, this.pipSideNav.state);\n\n            let cleanupNavMenuChanged: Function = this.$rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\n                this.onConfigChanged($event, config)\n            });\n            let cleanupSideNavStateChanged: Function = this.$rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\n                this.onStateChanged($event, state)\n            });\n\n            this.$scope.$on('$destroy', () => {\n                if (angular.isFunction(cleanupNavMenuChanged)) {\n                    cleanupNavMenuChanged();\n                }\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\n                    cleanupSideNavStateChanged();\n                }\n            });\n\n        }\n\n        private setCollapsible(): void {\n            var collapsed: boolean;\n            if (angular.isFunction(this.$scope['collapsed'])) {\n                collapsed = this.$scope['collapsed']();\n            } else {\n                collapsed = this.$scope['collapsed'] !== false && this.$scope['collapsed'] !== 'false';\n            }\n\n            this.isCollapsed = collapsed;\n        }\n\n        public onExpand(): void {\n            if (!this.isCollapsed) { return }\n\n            this.expanded = !this.expanded;\n\n            if (this.expanded) {\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\n            } else {\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\n            }\n            this.$rootScope.$emit('pipNavExpanded', this.expanded);\n        }\n\n        public isHidden(item: NavMenuLink): boolean {\n            return item && item.access && !item.access(item);\n        }\n\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\n            var result = true;\n            _.each(linkCollection, (link: NavMenuLink) => {\n                if (!this.isHidden(link)) {\n                    result = false;\n                }\n            });\n\n            return result;\n        }\n\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\n            if (!config) return;\n            this.sections = config.sections;\n        }\n\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\n            if (!state) return;\n\n            this.isCollapsed = state.expand;\n            this.expanded = state.isExpanded;\n            this.expandedButton = state.expandedButton;\n\n            this.sideNavState = state;\n        }\n\n        public isActive(link: NavMenuLink): boolean {\n            if (link.parentState) {\n\n                if (this._state != null && this._state.includes(link.parentState)) {\n                    return true;\n                }\n            } else if (link.state) {\n                if (this._state != null && this._state.includes(link.state)) {\n                    return true;\n                }\n            } else if (link.href) {\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\n                    return true;\n                }\n            } else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\n            event.stopPropagation();\n\n            if (!link) {\n                this.pipSideNav.close();\n\n                return;\n            }\n\n            if (link.href) {\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\n                    this.pipSideNav.close();\n\n                    return;\n                }\n\n                this.pipSideNav.close();\n                this.$timeout(() => {\n                    this.$window.location.href = link.href;\n                }, this._animationDuration);\n\n                return;\n            } else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\n                    this.pipSideNav.close();\n                    return;\n                }\n\n                this.pipSideNav.close();\n                this.$timeout(() => {\n                    this.$location.url(link.url);\n                }, this._animationDuration);\n\n                return;\n            } else if (link.state) {\n                if (this._state != null && this._state.current.name === link.state) {\n                    this.pipSideNav.close();\n\n                    return;\n                }\n\n                this.pipSideNav.close();\n                this.$timeout(() => {\n                    this._state.go(link.state, link.stateParams);\n                }, this._animationDuration);\n\n                return;\n            } else if (link.event) {\n                this.$rootScope.$broadcast(link.event, link);\n            }\n\n            this.pipSideNav.close();\n        }\n    }\n\n    interface INavMenuBindings {\n        [key: string]: any;\n        sections: any,\n        collapsed: any\n    }\n\n    const NavMenuBindings: INavMenuBindings = {\n        sections: '=?pipSections',\n        collapsed: '=?pipCollapsed'\n    };\n\n    function navMenuDirective() {\n        return {\n            restrict: 'EA',\n            scope: NavMenuBindings,\n            replace: false,\n            templateUrl: 'menu/NavMenu.html',\n            controller: NavMenuController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipNavMenu')\n        .directive('pipNavMenu', navMenuDirective);\n\n})();","import { NavMenuConfig, NavMenuSection } from './NavMenuConfig';\nimport { INavMenuService, INavMenuProvider } from './INavMenuService';\n\nexport const NavMenuChangedEvent = 'pipNavMenuChanged';\n\nclass NavMenuService implements INavMenuService {\n    private _config: NavMenuConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: NavMenuConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public updateBadgeStyle(link: string, style: string): void {\n        if (link == null || !_.isString(style)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.badgeStyle = style;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n        this.sendChangeEvent();\n    }\n\n    public updateCount(link: string, count: number): void {\n        if (link == null || !_.isNumber(count)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.count = count;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                l.count = null;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\n    }\n}\n\nclass NavMenuProvider implements INavMenuProvider {\n    private _config: NavMenuConfig = {\n        sections: [],\n        defaultIcon: 'icons:folder'\n    };\n    private _service: NavMenuService;\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavMenuService(this._config, $rootScope);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipNavMenu')\n    .provider('pipNavMenu', NavMenuProvider);\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavMenuService';\nimport './NavMenu';","import { SearchConfig } from './SearchConfig';\nimport { ISearchService } from './ISearchService';\nimport { OpenSearchEvent, CloseSearchEvent, SearchChangedEvent, SearchActivatedEvent } from './SearchService';\n\nclass SearchBarController {\n    private clearFn: Function;\n\n    public config: SearchConfig;\n    public enabled: boolean = false;\n    public search: any = { text: '' };\n\n    public constructor(\n        private $element: ng.IAugmentedJQuery,\n        private $rootScope: ng.IRootScopeService,\n        pipSearch: ISearchService\n    ) {\n        \"ngInject\";\n\n        // Apply class and call resize\n        $element.addClass('pip-search-bar');\n\n        this.config = pipSearch.config;\n        this.stateChange();\n        this.clearFn = $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\n            this.onSearchChanged(event, config);\n        });\n    }\n\n    public $onDestroy() {\n        if (_.isFunction(this.clearFn)) {\n            this.clearFn();\n        }\n    }\n\n    private stateChange(): void {\n        if (this.enabled) {\n            this.$element.addClass('w-stretch');\n            this.$element.parent().addClass('pip-search-active');\n\n        } else {\n            this.$element.removeClass('w-stretch');\n            this.$element.parent().removeClass('pip-search-active');\n        }\n    }\n\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\n        this.config = config;\n        this.enabled = false;\n        this.search.text = '';\n        this.stateChange();\n    }\n\n    private focusText(): void {\n        setTimeout(() => {\n            let element: JQuery = $('.pip-search-text');\n            if (element.length > 0)\n                element.focus();\n        }, 0);\n    }\n\n    public enable(): void {\n        this.search.text = this.config.criteria;\n        this.enabled = true;\n        this.focusText();\n        this.stateChange();\n    }\n\n    public onClick(): void {\n        let search = this.search.text;\n\n        this.search.text = '';\n        this.enabled = false;\n        this.stateChange();\n\n        if (this.config.callback) {\n            this.config.callback(search);\n        } else {\n            this.$rootScope.$broadcast(SearchActivatedEvent, search);\n        }\n    }\n\n    public clear(): void {\n        if (this.search.text) {\n            this.search.text = '';\n            this.focusText();\n        } else {\n            this.enabled = false;\n            this.stateChange();\n            this.onClick();\n        }\n    }\n\n    public onKeyDown(event: KeyboardEvent): void {\n        // Enter pressed\n        if (event.keyCode === 13)\n            this.onClick();\n        // ESC pressed\n        else if (event.keyCode === 27) {\n            this.enabled = false;\n            this.stateChange();\n        }\n    }\n}\n\nconst SearchBar: ng.IComponentOptions = {\n    templateUrl: 'search/SearchBar.html',\n    controller: SearchBarController\n}\n\nangular\n    .module('pipSearchBar')\n    .component('pipSearchBar', SearchBar);\n","export class SearchConfig {\n    // Search visible\n    public visible: boolean;\n    // Search criteria\n    public criteria: string;\n    // Custom search parameters\n    public params: any;\n    // History for search autocomplete\n    public history: string[];\n    // Callback for search\n    callback: (criteria: string) => void;\n}","import { SearchConfig } from './SearchConfig';\nimport { ISearchProvider, ISearchService } from './ISearchService';\n\nexport const OpenSearchEvent = 'pipOpenSearch';\nexport const CloseSearchEvent = 'pipCloseSearch';\nexport const SearchChangedEvent = 'pipSearchChanged';\nexport const SearchActivatedEvent = 'pipSearchActivated';\n\nclass SearchService implements ISearchService {\n    private _config: SearchConfig;\n\n    public constructor(\n        config: SearchConfig,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\n    }\n\n    public get config(): SearchConfig {\n        return this._config;\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public get params(): any {\n        return this._config.params;\n    }\n\n    public set params(value: any) {\n        this._config.params = value;\n        this.sendConfigEvent();\n    }\n\n    public get history(): string[] {\n        return this._config.history;\n    }\n\n    public set history(value: string[]) {\n        this._config.history = value;\n        this.sendConfigEvent();\n    }\n\n    public get callback(): (criteria: string) => void {\n        return this._config.callback;\n    }\n\n    public set callback(value: (criteria: string) => void) {\n        this._config.callback = value;\n        this.sendConfigEvent();\n    }\n\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\n        this._config.callback = callback;\n        this._config.criteria = criteria;\n        this._config.params = params;\n        this._config.history = history;\n        this.sendConfigEvent();\n    }\n\n    public clear(): void {\n        this._config.callback = null;\n        this._config.criteria = null;\n        this._config.params = null;\n        this.sendConfigEvent();\n    }\n\n    public open(): void {\n        this._config.visible = true;\n        this.sendConfigEvent();\n    }\n\n    public close(): void {\n        this._config.visible = false;\n        this.sendConfigEvent();\n    }\n\n    public toggle(): void {\n        this._config.visible = !this._config.visible;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent(): void {\n        this.$rootScope.$broadcast(SearchChangedEvent, this._config);\n    }\n}\n\nclass SearchProvider implements ISearchProvider {\n    private _config: SearchConfig = new SearchConfig();\n    private _service: SearchService = null;\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SearchService(this._config, $rootScope);\n\n        return this._service;\n    }\n}\n\n\nangular.module('pipSearchBar')\n    .provider('pipSearch', SearchProvider);\n","angular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './SearchConfig';\nimport './ISearchService';\nimport './SearchService';\nimport './SearchBar';\n\nexport * from './ISearchService';\n","import { ISideNavService } from './ISideNavService';\nimport { SideNavStateNames, SideNavState, SideNavStateConfig, SideNavConfig } from './SideNavState';\n\nclass SideNavController implements ISideNavBindings {\n    private _pipMedia: pip.layouts.IMediaService;\n    private _isResizing: boolean;\n    private _animationDuration: number;\n    private _mainContainer: string; // todo add  to config\n    private _bigWidth: number;\n    private _middleWidth: number;\n    private _smallWidth: number;\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\n    private _navState: SideNavStateConfig;\n    private cleanupMainResized: Function;\n    private cleanupSideNavState: Function;\n    private cleanupNavHeaderChanged: Function;\n    private cleanupSideNavChanged: Function;\n    private windowResize: Function;\n\n    public sidenavState: SideNavState;\n\n    constructor(\n        private $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $injector: ng.auto.IInjectorService,\n        private $scope: angular.IScope,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private pipSideNav: ISideNavService,\n        navConstant: any\n\n    ) {\n        \"ngInject\";\n\n        this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\n\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\n        this._isResizing = false;\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\n        this._navState = new SideNavStateConfig();\n        this._mediaBreakpoints = this.setBreakpoints();\n\n        // Apply class and call resize\n        this.$element.addClass('pip-sticky-sidenav');\n\n        if (this.pipSideNav.config && this.pipSideNav.config.type != 'popup') {\n            this.$timeout(() => {\n                this.setSideNaveState()\n            }, 100);\n\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\n            this.cleanupMainResized = this.$rootScope.$on('pipMainResized', () => {\n                this.windowResize();\n            });\n            this.cleanupSideNavState = this.$rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\n                this.onSideNavState($event, state)\n            });\n        } else {\n            this._isResizing = false;\n            this.sidenavState = null;\n            this.$timeout(() => {\n                if (this.pipSideNav.config.backdrop == false) {\n                    this.$element.addClass('pip-sidenav-hide-backdrop');\n                } else {\n                    this.$element.removeClass('pip-sidenav-hide-backdrop');\n                }\n                this.setState(SideNavStateNames.Toggle);\n            }, 100);\n        }\n\n        this.cleanupNavHeaderChanged = this.$rootScope.$on('pipNavIconClicked', () => {\n            this.onNavIconClick();\n        });\n        this.cleanupSideNavChanged = this.$rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\n            this.onSideNavChanged($event, config)\n        });\n\n    }\n\n    public $onDestroy() {\n        if (angular.isFunction(this.cleanupNavHeaderChanged)) {\n            this.cleanupNavHeaderChanged();\n        }\n        if (angular.isFunction(this.cleanupSideNavChanged)) {\n            this.cleanupSideNavChanged();\n        }\n        if (angular.isFunction(this.cleanupMainResized)) {\n            this.cleanupMainResized();\n        }\n        if (angular.isFunction(this.cleanupSideNavState)) {\n            this.cleanupSideNavState();\n        }\n    }\n\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\n        } else {\n            return this._pipMedia.breakpoints;\n        }\n    }\n\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\n        if (config && config.visible) {\n            this.$element.css('display', 'block');\n        } else {\n            this.$element.css('display', 'none');\n        }\n    }\n\n    private onNavIconClick(): void {\n        this.pipSideNav.open();\n    }\n\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\n            this.setState(stateName);\n        }\n    }\n\n    private setSideNaveState(): void {\n        if (this.pipSideNav.config && this.pipSideNav.config.type == 'popup') { return }\n\n        if (this._isResizing) {\n            this.$timeout(() => { this.setSideNaveState() }, this._animationDuration);\n\n            return;\n        }\n\n        let mainWidth: number = $(this._mainContainer).innerWidth();\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 2 : 0; // add border width\n\n        if (mainWidth + currentWidth < this._mediaBreakpoints.sm) {\n            this.setState(SideNavStateNames.Toggle);\n            return;\n        }\n        if (mainWidth + currentWidth < this._mediaBreakpoints.md) {\n            this.setState(SideNavStateNames.Small);\n            return;\n        }\n        if (mainWidth + currentWidth < this._mediaBreakpoints.lg) {\n            this.setState(SideNavStateNames.Large);\n            return;\n        }\n        this.setState(SideNavStateNames.XLarge);\n    }\n\n    private setState(stateName: SideNavStateNames) {\n        if (this._isResizing) return;\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\n\n        if (stateName != SideNavStateNames.Toggle) {\n            this.$element.removeClass('sidenav-mobile');\n        }\n\n        if (stateName != SideNavStateNames.Small) {\n            this.$element.removeClass('pip-sticky-nav-small');\n        }\n\n        if (stateName != SideNavStateNames.XLarge) {\n            this.$element.removeClass('sidenav-desktop');\n        }\n\n        if (stateName != SideNavStateNames.Large) {\n            this.$element.removeClass('sidenav-smalldesktop');\n        }\n\n        this._isResizing = true;\n        /*if (stateName == SideNavStateNames.Toggle) {\n            this.pipSideNav.close();\n        }*/\n        this.sidenavState = this._navState[String(stateName)];\n        this.$element.addClass(this.sidenavState.addClass);\n\n        this.pipSideNav.state = this.sidenavState;\n\n        // check sideNav State\n        this.$timeout(() => {\n            this.setSideNaveState()\n        }, 15);\n\n        // complete animation\n        this.$timeout(() => {\n            this._isResizing = false;\n        }, this._animationDuration); //animationDuration\n\n    }\n}\n\n\ninterface ISideNavBindings {\n    [key: string]: any;\n    sidenavState: any;\n}\n\nconst SideNavBindings: ISideNavBindings = {\n    sidenavState: '=?'\n};\n\n(() => {\n\n    const sideNav: ng.IComponentOptions = {\n        transclude: true,\n        bindings: SideNavBindings,\n        templateUrl: 'sidenav/SideNav.html',\n        controller: SideNavController\n    };\n\n    angular\n        .module('pipSideNav')\n        .component('pipSidenav', sideNav);\n\n})();","{\n\n    interface ISideNavPartBindings {\n        [key: string]: any;\n        visible: any\n    }\n\n    const SideNavPartBindings: ISideNavPartBindings = {\n        visible: '=?'\n    }\n\n    class SideNavPartController {\n        private partName: string;\n        private partValue: string = null;\n        private pos: number;\n\n        constructor(\n            private $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs: ng.IAttributes,\n            $rootScope: ng.IRootScopeService,\n            pipSideNav) {\n\n            this.partName = '' + $attrs['pipSidenavPart'];\n            this.pos = this.partName.indexOf(':');\n            if (this.pos > 0) {\n                this.partValue = this.partName.substr(this.pos + 1);\n                this.partName = this.partName.substr(0, this.pos);\n            }\n\n            this.onSideNavChanged(null, pipSideNav.config)\n            $rootScope.$on('pipSideNavChanged', (event, config) => { this.onSideNavChanged(event, config) });\n        }\n\n        private onSideNavChanged(event, config) {\n            let parts = config.parts || {};\n            let currentPartValue = parts[this.partName];\n            let visible: boolean = !!(this.partValue ? currentPartValue == this.partValue : currentPartValue);\n\n            if (visible != this.$scope['visible'])\n                this.$scope['visible'] = visible;\n        }\n    }\n\n    function sidenavPartDirective(ngIfDirective) {\n        \"ngInject\";\n        let ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: SideNavPartBindings,\n            link: function linkFunction(\n                $scope: ng.IScope,\n                $element: ng.IRootElementService,\n                $attrs: ng.IAttributes) {\n                $attrs['ngIf'] = () => { return $scope['visible'] };\n                ngIf.link.apply(ngIf, arguments);\n            },\n            controller: SideNavPartController\n        };\n    }\n\n    angular\n        .module('pipSideNav')\n        .directive('pipSidenavPart', sidenavPartDirective);\n\n}","import { SideNavState, SideNavConfig } from \"./SideNavState\";\nimport { ISideNavProvider, ISideNavService } from \"./ISideNavService\";\n\nexport const SideNavChangedEvent = 'pipSideNavChanged';\nexport const SideNavStateChangedEvent = 'pipSideNavStateChanged';\nexport const OpenSideNavEvent = 'pipOpenSideNav';\nexport const CloseSideNavEvent = 'pipCloseSideNav';\n\nclass SideNavService implements ISideNavService {\n    private _config: SideNavConfig;\n    private _state: any;\n\n    public constructor(\n        config: SideNavConfig,\n        private $rootScope: ng.IRootScopeService,\n        private $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n    }\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this.$rootScope.$broadcast(SideNavStateChangedEvent, value);\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get backdrop(): boolean {\n        return this._config.backdrop;\n    }\n\n    public set backdrop(value: boolean) {\n        this._config.backdrop = value;\n    }\n\n    public open() {\n        this.$mdSidenav('pip-sticky-sidenav').open();\n    }\n\n    public close() {\n        this.$mdSidenav('pip-sticky-sidenav').close();\n    }\n\n    public toggle() {\n        this.$mdSidenav('pip-sticky-sidenav').toggle();\n    }\n\n    public show() {\n        if (!this._config.visible) {\n            this._config.visible = true;\n            this.sendConfigEvent();\n        }\n    }\n\n    public hide() {\n        if (this._config.visible) {\n            this._config.visible = false;\n            this.sendConfigEvent();\n        }\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this.$rootScope.$emit(SideNavChangedEvent, this._config);\n    }\n}\n\nclass SideNavProvider implements ISideNavProvider {\n    private _config: SideNavConfig = {\n        parts: {},\n        classes: [],\n        type: 'popup',\n        backdrop: true,\n        state: null,\n        visible: true\n    };\n\n    private _service: SideNavService;\n\n    public get backdrop(): boolean {\n        return this._config.backdrop;\n    }\n\n    public set backdrop(value: boolean) {\n        this._config.backdrop = value;\n    }\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public set config(value: SideNavConfig) {\n        this._config = value || new SideNavConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get visible(): boolean {\n        return this._config.visible;\n    }\n\n    public set visible(value: boolean) {\n        this._config.visible = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }\n}\n\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\n}\n\nangular\n    .module('pipSideNav')\n    .provider('pipSideNav', SideNavProvider)\n    .run(hookSideNavEvents);\n","export class SideNavStateNames {\n    static Toggle: string = 'toggle';\n    static Small: string = 'small';\n    static Large: string = 'large';\n    static XLarge: string = 'xlarge';\n}\n\nexport class SideNavState {\n    id: SideNavStateNames;\n    // Class which added to sidenav in this state\n    addClass: string;\n    // Side nav always open\n    isLockedOpen: boolean;\n    // Show SideNav header \n    showHeader: boolean;\n    // Show expanded button\n    expandedButton: boolean;\n    // SideNav has expand\n    isExpanded: boolean;\n    // SideNav is Expanded in this state by default\n    expand: boolean;\n    // Tooltype is show\n    showIconTooltype: boolean;\n}\n\nexport class SideNavStateConfig {\n    toggle: SideNavState = { // media(sm, xs)\n        id: SideNavStateNames.Toggle,\n        addClass: 'sidenav-mobile',\n        showHeader: true,\n        isLockedOpen: false,\n        expandedButton: false,\n        isExpanded: true,\n        expand: true,\n        showIconTooltype: false\n    };\n    small: SideNavState = { // media(md)\n        id: SideNavStateNames.Small,\n        addClass: 'pip-sticky-nav-small sidenav-smalldesktop',\n        showHeader: false,\n        isLockedOpen: true,\n        expandedButton: false,\n        isExpanded: false,\n        expand: false,\n        showIconTooltype: true\n    };\n    large: SideNavState = { // media(lg)\n        id: SideNavStateNames.Large,\n        addClass: 'sidenav-smalldesktop',\n        showHeader: false,\n        isLockedOpen: true,\n        expandedButton: true,\n        isExpanded: true,\n        expand: true,\n        showIconTooltype: true\n    };\n    xlarge: SideNavState = { // media(xl)\n        id: SideNavStateNames.XLarge,\n        addClass: 'sidenav-desktop',\n        showHeader: false,\n        isLockedOpen: true,\n        expandedButton: false,\n        isExpanded: true,\n        expand: true,\n        showIconTooltype: false\n    };\n}\n\nexport class SideNavConfig {\n    parts: any;\n    classes: string[];\n    state: SideNavState;\n    type: string;\n    backdrop: boolean = true;\n    visible: boolean;\n}","angular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\n\nimport './SideNavState';\nimport './SideNavService';\nimport './SideNavPart';\nimport './SideNav';\n\nexport * from './SideNavService';","\nexport class PipTab {\n    id: string;\n    name?: string;\n    count: number;\n    title: string;\n}\n\n{\n    interface ITabsBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        tabs: any;\n        showTabs: any;\n        showTabsShadow: any;\n        activeIndex: any;\n        select: any;\n        breakpoints: any;\n        themeClass: any;\n    }\n\n    const TabsBindings: ITabsBindings = {\n        ngDisabled: '&?', // function\n        tabs: '<pipTabs', // PipTab[]\n        showTabs: '&pipShowTabs', // function\n        showTabsShadow: '&pipTabsShadow', // function\n        activeIndex: '<?pipActiveIndex', // number\n        select: '=pipTabsSelect', // function\n        breakpoints: '<?pipBreakpoints', // string\n        themeClass: '<?themeClass', // string\n    }\n\n    class TabsChanges implements ng.IOnChangesObject, ITabsBindings {\n        [key: string]: ng.IChangesObject<any>;\n        // Not one way bindings\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        tabs: ng.IChangesObject<PipTab[]>;\n        showTabs: ng.IChangesObject<() => ng.IPromise<void>>;\n        showTabsShadow: ng.IChangesObject<() => ng.IPromise<void>>;\n        activeIndex: ng.IChangesObject<number>;\n        select: ng.IChangesObject<() => ng.IPromise<void>>;\n        breakpoints: ng.IChangesObject<string>;\n        themeClass: ng.IChangesObject<string>;\n    }\n\n    class TabsDirectiveController implements ITabsBindings {\n        private _pipTranslate: pip.services.ITranslateService;\n        private _pipTheme: pip.themes.IThemeService;\n        private pipMedia;\n        private selectedTabId: string;\n\n        public ngDisabled: Function;\n        public tabs: PipTab[];\n        public activeIndex: number;\n        public breakpoints: string;\n        public showTabs: Function;\n        public showTabsShadow: Function;\n        public select: Function;\n        public themeClass: string;\n\n        public currentTheme: string;\n\n        public change: () => ng.IPromise<any>;\n\n        constructor(\n            private $element: ng.IAugmentedJQuery,\n            private $injector: ng.auto.IInjectorService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private navConstant: any,\n            $mdMedia: angular.material.IMedia\n        ) {\n            \"ngInject\";\n\n            this.setTheme();\n            this.pipMedia = this.$injector.has('pipMedia') ? <pip.layouts.IMediaService>this.$injector.get('pipMedia') : $mdMedia;\n            \n            if (!this.breakpoints) {\n                this.breakpoints = this.navConstant.TAB_BREAKPOINT;\n\n            }\n        }\n\n        private setTheme(): void {\n            this._pipTheme = this.$injector.has('pipTheme') ? <pip.themes.IThemeService>this.$injector.get('pipTheme') : null;\n            if (this._pipTheme) {\n                this.currentTheme = this._pipTheme.theme;\n            } else if (this.$rootScope['$theme']) {\n                this.currentTheme = this.$rootScope['$theme'];\n            }\n\n            this.themeClass = (this.themeClass || '') + ' md-' + this.currentTheme + '-theme';\n        }\n\n        private setTranslate(): void {\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\n            if (this._pipTranslate) {\n                if (this.tabs.length > 0 && this.tabs[0].title) {\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\n                } else {\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\n                }\n            }\n        }\n\n        public isDisabled(): boolean {\n            if (_.isFunction(this.ngDisabled)) {\n                return this.ngDisabled();\n            } else {\n                return this.toBoolean(this.ngDisabled);\n            }\n        };\n\n        public tabDisabled(index: number): boolean {\n            return (this.isDisabled() && this.activeIndex != index);\n        };\n\n        public onSelect(index: number): void {\n            if (this.isDisabled()) return;\n            this.activeIndex = index;\n            this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\n            this.$timeout(() => {\n                if (this.select) {\n                    this.select(this.tabs[this.activeIndex], this.activeIndex);\n                }\n            }, 0);\n\n        };\n\n        public showShadow(): boolean {\n            if (_.isFunction(this.showTabsShadow)) {\n                return this.showTabsShadow();\n            } else {\n                return this.toBoolean(this.showTabsShadow);\n            }\n        };\n\n        public show(): boolean {\n            if (!this.showTabs) return true;\n            if (_.isFunction(this.showTabs)) {\n                return this.showTabs();\n            } else {\n                return this.toBoolean(this.showTabs);\n            }\n        };\n\n        public toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        public $onChanges(changes: TabsChanges) {\n\n            if (!changes.breakpoints) {\n                if (!this.breakpoints) {\n                    this.breakpoints = this.navConstant.TAB_BREAKPOINT;\n\n                }\n            } else {\n                this.breakpoints = changes.breakpoints.currentValue ? changes.breakpoints.currentValue : this.navConstant.TAB_BREAKPOINT\n            }\n\n            if (changes.activeIndex === undefined) {\n                if (!this.activeIndex) {\n                    this.activeIndex = 0;\n                }\n            } else {\n                this.activeIndex = changes.activeIndex.currentValue || 0;\n                if (this.$timeout && this.activeIndex !== changes.activeIndex.previousValue) {\n                    this.$timeout(() => {\n                        let a = this.$element.find('md-tabs-canvas');\n                        if (a && a[0]) {\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\n                        }\n                        a.on('focusout', () => {\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\n                            this.$timeout(() => {\n                                angular.element(a[0]).attr('activeIndex', this.activeIndex);\n                            }, 50);\n                        });\n                    }, 1000);\n                }\n            }\n\n            if (changes.tabs === undefined || !_.isArray(changes.tabs.currentValue)) {\n                if (!this.tabs) {\n                    this.tabs = [];\n                }\n            } else {\n                this.tabs = changes.tabs.currentValue;\n                this.setTranslate();\n            }\n\n            if (!changes.activeIndex && changes.tabs && this.selectedTabId !== undefined) {\n                const index = _.indexOf(this.tabs, _.find(this.tabs, {\n                    id: this.selectedTabId\n                }));\n                if (index < 0) {\n                    this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\n                } else if (this.tabs.length > 0 && this.activeIndex) {\n                    this.onSelect(index);\n                }\n            } else {\n                this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\n            }\n        }\n\n    }\n\n    const Tabs: ng.IComponentOptions = {\n        bindings: TabsBindings,\n        templateUrl: 'tabs/Tabs.html',\n        controller: TabsDirectiveController\n    }\n\n    angular\n        .module('pipTabs', ['pipNav.Templates'])\n        .component('pipTabs', Tabs);\n}\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"{{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"!$ctrl._media(\\'xs\\')\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"$ctrl._media(\\'xs\\')\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"$ctrl.showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"$ctrl.imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"$ctrl.onUserClick()\" tabindex=\"-1\">{{ $ctrl.title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ $ctrl.subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.value | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.expanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.expanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" ng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.expanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\" ng-hide=\"link.access && !link.access(link)\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-click=\"$ctrl.clickLink($event, link)\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\">{{ ::link.tooltipText | translate }}</md-tooltip><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!($ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded)\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar ng-if=\"$ctrl.pipMedia\" class=\"pip-nav color-primary-bg {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs class=\"color-primary-bg\" ng-if=\"$ctrl.pipMedia($ctrl.breakpoints)\" md-selected=\"$ctrl.activeIndex\" ng-class=\"{\\'disabled\\': $ctrl.isDisabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.pipMedia($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.activeIndex\" ng-disabled=\"$ctrl.isDisabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","{\n\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-cool': 'Cool'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-cool': ''\n    // });\n    \n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(69, 90, 100, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\n\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(69, 90, 100, .54)',\n        '500': 'rgba(69, 90, 100, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\n\n\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-cool')\n        .primaryPalette('bootbarn-cool-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-cool-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-cool-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\n    .config(configureBootBarnCoolTheme);\n\n}","{\n\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-monochrome': 'Monochrome'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-monochrome': ''\n    // });\n    \n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(38, 50, 56, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\n\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(38, 50, 56, .54)',\n        '500': 'rgba(38, 50, 56, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\n\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-monochrome')\n        .primaryPalette('bootbarn-monochrome-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-monochrome-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-monochrome-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\n    .config(configureBootBarnMonochromeTheme);\n\n}","{\n\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-warm': 'Warm'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-warm': 'Коричневая'\n    // });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(177, 55, 34, 1)'\n        })\n        ;\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\n\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\n        '300': 'rgba(177, 55, 34, .54)',\n        '500': 'rgba(177, 55, 34, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\n\n\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'A700': 'rgba(127, 148, 92, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\n\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\n        'A200': 'rgba(255, 82, 82, 1)',\n        'contrastLightColors': ['A200']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\n\n    $mdThemingProvider.theme('bootbarn-warm')\n    .primaryPalette('bootbarn-warm-primary', {\n        'default': '500',\n        'hue-1': '300'\n    })\n    .backgroundPalette('bootbarn-warm-background', {\n        'default': '50',  // background\n        'hue-1': 'A200',  // tiles dialog\n        'hue-2': 'A700'   // app bar\n    })\n    .warnPalette('bootbarn-warm-error', {\n        'default': 'A200'\n    })\n    .accentPalette('bootbarn-warm-accent', {\n        'default': 'A700'\n    });\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\n    .config(configureBootBarnWarmTheme);\n\n}","import './BootBarnCoolTheme';\nimport './BootBarnWarmTheme';\nimport './BootBarnMonochromeTheme';\n\nangular.module('pipTheme.BootBarn', [\n    'ngMaterial',\n    'pipTheme.BootBarn.Warm',\n    'pipTheme.BootBarn.Cool',\n    'pipTheme.BootBarn.Monochrome',\n]);\n","import { IThemeService, IThemeProvider } from './IThemeService';\n\nexport let ThemeRootVar = \"$theme\";\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \nexport let ThemeResetPage = \"pipResetPage\";    \n\nclass ThemeConfig {\n    public theme: string;\n}\n\nclass ThemeService implements IThemeService {\n    private _config: ThemeConfig;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _currentTheme: string = null;\n\n    public constructor(\n        private $log: ng.ILogService,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $mdTheming,\n        config: ThemeConfig,\n        setRootVar: boolean,\n        persist: boolean,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._config = config;\n\n        //if (this._persist && this.$window.localStorage && this._config.theme == \"default\")\n        this._config.theme = this.$window.localStorage.getItem('theme') || this._config.theme || 'default';\n\n        this.$log.debug(\"Set theme to \" + this._config.theme);\n\n        // Define theme for angular material \n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\n        this.save();\n    }\n\n    private save(): void {\n        let body = $('body');\n        let newTheme: string = this._config.theme;\n\n        // Switch material theme\n        // body.attr('md-theme', newTheme);\n\n        // Change custom theme\n        body.addClass(newTheme);\n        if (this._currentTheme != null && this._currentTheme != newTheme)\n            body.removeClass(this._currentTheme);            \n\n        this._currentTheme = newTheme;\n\n        // Set root scope variable\n        if (this._setRootVar)\n            this.$rootScope[ThemeRootVar] = this._config.theme;\n\n        // Save in local storage\n        if (this._persist && this.$window.localStorage != null)\n            this.$window.localStorage.setItem('theme', this._config.theme);\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        if (value != this._config.theme) {\n            if (!(value in this.$mdTheming.THEMES))\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\n\n            this._config.theme = value;\n            \n            this.$log.debug(\"Changing theme to \" + value);\n\n            this.save();                \n\n            this.$rootScope.$emit(ThemeChangedEvent, value);\n            this.$rootScope.$emit(ThemeResetPage);\n        }\n    }\n\n    public use(theme: string): string {\n        if (theme != null) {\n            this._config.theme = theme;\n            this.save();    \n        }     \n        return this._config.theme;\n    }\n\n}\n\n\nclass ThemeProvider implements IThemeProvider {\n    private _config: ThemeConfig = new ThemeConfig();\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: ThemeService;\n    \n    public constructor() {\n        this._config.theme = \"default\";\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        this._config.theme = value;\n    }\n\n    public use(theme: string): string {\n        if (theme != null) {\n            this._config.theme = theme;\n            let body = $('body');\n            body.addClass(this._config.theme);\n        }\n        return this._config.theme;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdTheming: any\n    ): ThemeService {\n        \"ngInject\";\n        if (_.isUndefined(this._service) || _.isNull(this._service))  {\n            this._service = new ThemeService($log, $rootScope, $window, this._config,  $mdTheming, this._setRootVar, this._persist);\n        }\n         \n        return this._service;\n    }\n}\n\n\nfunction initTheme(pipTheme: IThemeService) {\n    pipTheme.theme;\n}\n\n\nangular\n    .module('pipTheme')\n    .provider('pipTheme', ThemeProvider)\n    .run(initTheme);\n","angular.module('pipTheme', ['ngMaterial']);\n\nimport './ThemeService';\n\nexport * from './IThemeService';\nexport * from './ThemeService';\n","{\n\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     amber: 'Amber'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     amber: 'Янтарная'\n    // });\n\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)'\n    });\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\n\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 152, 0, 1)',\n        '900': 'rgba(255, 152, 0, .54);'\n    });\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\n\n    $mdThemingProvider.theme('amber')\n        .primaryPalette('orange-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('orange-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('orange', {\n            'default': '900'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\n    .config(configureDefaultAmberTheme);\n    \n}","{\n\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     blue: 'Blue',\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     blue: 'Голубая'\n    // });\n\n    registerBlueTheme('default');\n    registerBlueTheme('blue');\n\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    function registerBlueTheme(themeName) {\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\n            'contrastDefaultColor': 'light',\n            'contrastDarkColors': undefined\n        });\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\n\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(33, 150, 243, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\n\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\n            '600': 'rgba(0, 200, 83, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\n\n        $mdThemingProvider.theme(themeName)\n            .primaryPalette('blue-primary', {\n                'default': '500',\n                'hue-1': '300'\n            })\n            .backgroundPalette('blue-background', {\n                'default': '50',  // background\n                'hue-1': 'A200',  // tiles dialog\n                'hue-2': 'A700'   // app bar\n            })\n            .warnPalette('red', {\n                'default': 'A200'\n            })\n            .accentPalette('blue-accent', {\n                'default': '600'\n            });\n    }\n}\n\n\nangular\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\n    .config(configureDefaultBlueTheme);\n\n}","{\n\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     green: 'Green'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     green: 'Зеленая'\n    // });\n\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(76, 175, 80, 1)'\n    });\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\n\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\n        '300': '#9ed4a1',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\n\n\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\n\n    $mdThemingProvider.theme('green')\n        .primaryPalette('green-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('green-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('green-accent', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.Green', [ 'ngMaterial' ])\n    .config(configureDefaultGreenTheme);\n\n}","{\n\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     grey: 'Grey'\n    // });\n    \n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     grey: 'Серая'\n    // });\n\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)',\n        'A400': '#a9b9c0',\n        '500': '#607D8B',\n        'A700': '#90A4AE',\n        //'800': '',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\n\n\n    $mdThemingProvider.theme('grey')\n        .primaryPalette('third-party', {\n            'default': '500',\n            'hue-1': 'A400'\n        })\n        .backgroundPalette('third-party', {\n            'default': '50',  // background\n            'hue-1': '500',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('third-party', {\n            'default': 'A700'\n        });\n    \n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\n    .config(configureDefaultGreyTheme);\n\n}","{\n\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     navy: 'Navy'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     navy: 'Сине-серая'\n    // });\n\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\n        '700': 'rgba(86, 97, 125, 1)',\n        '800': 'rgba(86, 97, 125, .54)',\n        'A100': 'rgba(250, 250, 250, 1)',\n    });\n    $mdThemingProvider.definePalette('grey', greyPalette);\n\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('teal', tealPalette);\n\n    $mdThemingProvider.theme('navy')\n        .primaryPalette('grey', {\n            'default': '700',\n            'hue-1': '800'\n        })\n        .backgroundPalette('grey', {\n            'default': '50',  // background\n            'hue-1': '700',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('teal', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\n    .config(configureDefaultNavyTheme);\n    \n}","{\n\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     orange: 'Orange'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     orange: 'Оранжевая'\n    // });\n\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 112, 67, 1)',\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\n    });\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\n\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 112, 67, 1)',\n        '900': 'rgba(255, 152, 67, .54)',\n        'A100': 'rgba(255, 171, 64, 1)',\n        'contrastLightColors': ['800', '900', 'A100']\n    });\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\n\n    $mdThemingProvider.theme('orange')\n        .primaryPalette('red-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('red-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('red-primary', {\n            'default': 'A100'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\n    .config(configureDefaultOrangeTheme);\n\n}","{\n\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     pink: 'Pink'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     pink: 'Розовая',\n\n    // });\n\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['A200', 'A700']\n    });\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\n\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\n        '600': 'rgba(255, 128, 171, 1)',\n        '700': 'rgba(188, 86, 121, .54)',\n        '900': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'light'\n    });\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\n\n    $mdThemingProvider.theme('pink')\n        .primaryPalette('pink-primary', {\n            'default': '900',\n            'hue-1': '700'\n        })\n        .backgroundPalette('pink-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('pink-primary', {\n            'default': '600'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\n    .config(configureDefaultPinkTheme);\n    \n}","import './DefaultBlueTheme';\nimport './DefaultPinkTheme';\nimport './DefaultAmberTheme';\nimport './DefaultOrangeTheme';\nimport './DefaultGreenTheme';\nimport './DefaultNavyTheme';\nimport './DefaultGreyTheme';\n\nfunction configureDefaultTheme($mdThemingProvider) {\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Default', [\n        'ngMaterial',\n        'pipTheme.Blue', \n        'pipTheme.Pink',\n        'pipTheme.Amber', \n        'pipTheme.Orange', \n        'pipTheme.Green', \n        'pipTheme.Navy', \n        'pipTheme.Grey'\n    ])\n    .config(configureDefaultTheme);\n","\nexport class ErrorPageConfig {\n    Active: boolean;\n    Name: string;\n    Event: string;\n    Title: string;\n    SubTitle: String;\n    Breadcrumb: string;\n    Image: string;\n    Params?: any;\n}\n\nexport class ErrorPageConfigs {\n\n    Maintenance: ErrorPageConfig = {\n        Active: true,\n        Name: 'errors_maintenance',\n        Event: 'pipMaintenanceError',\n        Title: 'ERROR_MAINTENANCE_TITLE',\n        SubTitle: 'ERROR_MAINTENANCE_SUBTITLE',\n        Breadcrumb: 'ERROR_MAINTENANCE_TITLE',\n        Image: 'images/maintenance.svg'\n\n    };\n\n    MissingRoute: ErrorPageConfig = {\n        Active: true,\n        Name: 'errors_missing_route',\n        Event: '$stateNotFound',\n        Title: 'ERROR_MISSING_ROUTE_TITLE',\n        SubTitle: 'ERROR_MISSING_ROUTE_SUBTITLE',\n        Breadcrumb: 'ERROR_MISSING_ROUTE_PAGE_TITLE',\n        Image: 'images/invalid_route.svg'\n    };\n\n    NoConnection: ErrorPageConfig = {\n        Active: true,\n        Name: 'errors_no_connection',\n        Event: 'pipNoConnectionError',\n        Title: 'ERROR_NO_CONNECTION_TITLE',\n        SubTitle: 'ERROR_NO_CONNECTION_SUBTITLE',\n        Breadcrumb: 'ERROR_NO_CONNECTION_TITLE',\n        Image: 'images/no_response.svg'\n    };\n\n    Unknown: ErrorPageConfig = {\n        Active: true,\n        Name: 'errors_unknown',\n        Event: 'pipUnknownError',\n        Title: 'ERROR_UNKNOWN_TITLE',\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\n        Image: 'images/unknown_error.svg'\n    };\n\n    Unsupported: ErrorPageConfig = {\n        Active: true,\n        Name: 'errors_unsupported',\n        Event: '',\n        Title: 'ERROR_UNSUPPORTED_TITLE',\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\n        Image: '',\n        Params: {}\n    }\n}\n\nexport class SupportedBrowsers {\n    edge: number = 11;\n    ie: number = 11;\n    firefox: number = 43;\n    opera: number = 35;\n    chrome: number = 47;\n}\n","import { IErrorPageConfigService, IErrorPageConfigProvider } from './IErrorPageConfigService';\nimport { ErrorPageConfigs, ErrorPageConfig, SupportedBrowsers } from './ErrorPageConfig';\n\nclass ErrorPageConfigService implements IErrorPageConfigService {\n    private _config: ErrorPageConfigs;\n\n    public constructor(\n        config: ErrorPageConfigs\n    ) {\n        \"ngInject\";\n\n        this._config = config || new ErrorPageConfigs();\n    }\n\n    public get configs(): ErrorPageConfigs {\n        return this._config;\n    }\n\n    public getErrorPageConfig(pageName: string): ErrorPageConfig {\n        console.log(pageName, this._config);\n        if (!pageName || !this._config[pageName]) {\n            return null;\n        }\n\n        return this._config[pageName];\n    }\n\n}\n\nclass ErrorPageConfigProvider implements IErrorPageConfigProvider {\n    private _service: ErrorPageConfigService;\n    public configs: ErrorPageConfigs;\n\n    constructor() {\n        this.configs = new ErrorPageConfigs();\n        this.configs.Unsupported.Params.supported = new SupportedBrowsers();\n    }\n\n    public setErrorPageConfig(pageName: string, config: ErrorPageConfig): void {\n        if (!pageName || !config) return;\n        if (!this.configs[pageName]) return;\n\n        this.configs[pageName] = <ErrorPageConfig>_.defaultsDeep(config, this.configs[pageName]);\n    }\n\n    public setAllErrorPageConfigs(configs: ErrorPageConfigs): void {\n        if (!configs) return;\n\n        this.configs = <ErrorPageConfigs>_.defaultsDeep(configs, this.configs);\n    }\n\n    public setSupportedBrowsers(browsers: SupportedBrowsers): void {\n        this.configs.Unsupported.Params.supported = browsers;\n    }\n\n    public $get(): ErrorPageConfigService {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new ErrorPageConfigService(this.configs);\n        }\n\n        return this._service;\n    }\n}\n\n(() => {\n    angular\n        .module('pipErrorPageConfigService', [])\n        .provider('pipErrorPageConfigService', ErrorPageConfigProvider);\n\n})();\n","(() => {\n\n    class ClearErrorsLink {\n        private _fieldController: any;\n        private _formController: any;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs: ng.IAttributes,\n            $ctrls\n        ) {\n            this._fieldController = $ctrls[0];\n            this._formController = $ctrls[1];\n\n            $scope.$watch($attrs['ngModel'], (newValue) => {\n                this.clearFieldErrors();\n                this.clearFormErrors();\n            });\n        }\n\n        private clearFieldErrors() {\n            let errors = this._fieldController.$error;\n\n            for (let prop in errors) {\n                if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\n                    this._fieldController.$setValidity(prop, true);\n                }\n            }\n        }\n\n        private clearFormErrors() {\n            this._formController.$serverError = {};\n        }\n    }\n\n    function clearErrorsDirective() {\n        return {\n            restrict: 'A',\n            require: ['ngModel', '^?form'],\n            link: ClearErrorsLink\n        };\n    }\n\n    angular\n        .module('pipClearErrors', [])\n        .directive('pipClearErrors', clearErrorsDirective);\n})();","import { IFormErrorsService } from './IFormErrorsService';\n\nclass FormErrorsService {\n\n    constructor(private $rootScope: ng.IRootScopeService) { }\n\n    public errorsWithHint(field: any) {\n        if (field == null) return;\n\n        return _.isEmpty(field.$error) ? { hint: true } : field.$error;\n    };\n\n    public touchedErrorsWithHint(form: ng.IFormController, field: any) {\n        if (form == null) return;\n        if (field == null) return;\n\n        if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\n            let result = _.isEmpty(field.$error) ? { hint: true } : field.$error;\n            return result;\n        }\n        return { hint: true };\n    }\n\n    public resetFormErrors(form: ng.IFormController, errors?: boolean): void {\n        form.$setPristine();\n        form.$setUntouched();\n\n        if (errors) {\n            form.$setDirty();\n            form.$setSubmitted();\n        }\n\n        form['$serverError'] = {};\n    }\n\n    public resetFieldsErrors(form: ng.IFormController, field: any): void {\n        if (!form) return;\n        if (field && form[field] && form[field].$error) {\n            form[field].$error = {};\n        } else {\n            for (let prop in form) {\n                if (form[prop] && form[prop].$error) {\n                    form[prop].$error = {};\n                }\n            }\n            if (form && form.$error) {\n                form.$error = {};\n            }\n        }\n    }\n\n    public setFormError(form: ng.IFormController, error, errorFieldMap) {\n        if (error == null) return;\n        // Prepare form server errors\n        form['$serverError'] = form['$serverError'] || {};\n        // Prepare error code\n        let code: string = error.code || (error.data || {}).code || null;\n        if (!code && error.status) code = error.status;\n\n        if (code) {\n            let errorName = 'ERROR_' + code,\n                field = errorFieldMap ? errorFieldMap[code] : null;\n            // Set server error to fields\n            if (field && form[field] && form[field].$setValidity) {\n                form[field].$setValidity(errorName, false);\n                return;\n            }\n\n            // Set server error to form\n            if (field == 'form') {\n                form['$serverError'][errorName] = true;\n                return;\n            }\n        }\n\n        // if undefined error for this form or code === undefined/null, go to unhandled error page\n        if (error.data && error.data.message) {\n            form['$serverError']['ERROR_UNKNOWN'] = error.data.message;\n            this.goToUnhandledErrorPage(error);\n            return;\n        }\n\n        // Set as undefined error\n        if (error.message) {\n            form['$serverError']['ERROR_UNKNOWN'] = error.message;\n            this.goToUnhandledErrorPage(error);\n            return;\n        }\n\n        if (error.name) {\n            form['$serverError']['ERROR_UNKNOWN'] = error.name;\n            this.goToUnhandledErrorPage(error);\n            return;\n        }\n\n\n        form['$serverError']['ERROR_UNKNOWN'] = error;\n        this.goToUnhandledErrorPage(error);\n    }\n\n    private goToUnhandledErrorPage(error) {\n        this.$rootScope.$emit('pipUnhandledInternalError', {\n            error: error\n        });\n    }\n}\n\n(() => {\n\n    angular\n        .module('pipFormErrors', [])\n        .service('pipFormErrors', FormErrorsService);\n\n})();","export let ErrorsMaintenanceState = 'errors_maintenance';\nexport let MaintenanceErrorEvent = 'pipMaintenanceError';\n\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\n\nclass MaintenanceError {\n    config?: MaintenanceErrorConfig;\n}\n\nclass MaintenanceErrorConfig {\n    params?: MaintenanceErrorParams;\n}\n\nclass MaintenanceErrorParams {\n    interval?: number = 0;\n}\n\nclass MaintenanceErrorPageController {\n    private _pageName: string = 'Maintenance';\n    private pipNavService;\n\n    public config: ErrorPageConfig;\n    public isCordova: boolean = false;\n    public media;\n    public error: MaintenanceError;\n    public timeoutInterval: number;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService,\n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia,\n        $injector: angular.auto.IInjectorService,\n        pipErrorPageConfigService: IErrorPageConfigService\n    ) {\n        \"ngInject\";\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope[pip.services.RoutingVar] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\n        this.timeoutInterval = this.error && this.error.config &&\n            this.error.config.params && this.error.config.params.interval ? this.error.config.params.interval : 0;\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n}\n\nfunction configureMaintenanceErrorPageRoute(\n    $stateProvider: ng.ui.IStateProvider\n) {\n    \"ngInject\";\n\n    $stateProvider\n            .state(ErrorsMaintenanceState, {\n                url: '/errors/maintenance',\n                params: {\n                    error: null\n                },\n                controller: MaintenanceErrorPageController,\n                controllerAs: '$ctrl',\n                templateUrl: 'maintenance/MaintenanceErrorPage.html'\n            });\n}\n\nfunction initMaintenanceErrorPage(\n    $rootScope: ng.IRootScopeService, \n    $state: ng.ui.IStateService, \n    pipErrorPageConfigService: IErrorPageConfigService\n) {\n    \"ngInject\";\n\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\n\n    if (!config.Maintenance.Active) return;\n\n    $rootScope.$on(MaintenanceErrorEvent,\n    (event: angular.IAngularEvent, params) => { \n        this.$state.go(ErrorsMaintenanceState, params);\n    });\n}\n\nfunction setMaintenanceErrorPageResources($injector: angular.auto.IInjectorService) {\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n    if (pipTranslate == null) return;\n\n    // Set translation strings for the module\n    pipTranslate.translations('en', {\n        'ERROR_MAINTENANCE_TITLE': 'The server is on maintenance',\n        'ERROR_MAINTENANCE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n        'a short period. We\\'ll be back soon. Thank for your patience.',\n        'ERROR_MAINTENANCE_CLOSE': 'Close',\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Try after'\n    });\n\n    pipTranslate.translations('ru', {\n        'ERROR_MAINTENANCE_TITLE': 'The server is on maintenance',\n        'ERROR_MAINTENANCE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n        'a short period. We\\'ll be back soon. Thank for your patience.',\n        'ERROR_MAINTENANCE_CLOSE': 'Close',\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Try after'\n    });\n}\n\n(() => {\n\n    angular\n        .module('pipErrors.Pages')\n        .config(configureMaintenanceErrorPageRoute)\n        .run(initMaintenanceErrorPage)\n        .run(setMaintenanceErrorPageResources);\n\n})();\n","export let ErrorsMissingRouteState = 'errors_missing_route';\nexport let StateNotFoundEvent = '$stateNotFound';  \nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\n\nclass MissingRouteErrorState {\n    to: string;\n    toParams: any;\n    fromParams: any;\n}\n\nclass MissingRouteErrorPageController {\n    private _pageName: string = 'MissingRoute';\n    private pipNavService;\n\n    public config: ErrorPageConfig;\n    public isCordova: boolean = false;\n    public media;\n    public fromState: MissingRouteErrorState;\n    public unfoundState: MissingRouteErrorState;\n    public url: string;\n    public urlBack: string;\n\n    constructor(\n        $scope: ng.IScope,\n        private $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia,\n        $injector: angular.auto.IInjectorService,\n        pipErrorPageConfigService: IErrorPageConfigService\n    ) {\n        \"ngInject\";\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope[pip.services.RoutingVar] = false;\n        this.appHeader();\n\n        this.fromState = $state && $state.params && $state.params['fromState'] ? $state.params['fromState'] : {};\n        this.unfoundState = $state && $state.params ? $state.params['unfoundState'] : {};\n        this.url = this.unfoundState && this.unfoundState.to ? $state.href(this.unfoundState.to, this.unfoundState.toParams, { absolute: true }) : '';\n        this.urlBack = this.fromState && this.fromState.to ? $state.href(this.fromState.to, this.fromState.fromParams, { absolute: true }) : '';\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    public onContinue() {\n        this.$location.url('/');\n    }\n}\n\nfunction configureMissingRouteErrorPageRoute(\n    $stateProvider: ng.ui.IStateProvider\n) {\n    \"ngInject\";\n    $stateProvider\n        .state(ErrorsMissingRouteState, {\n            url: '/errors/missing_route',\n            params: {\n                unfoundState: null,\n                fromState: null\n            },\n            controller: MissingRouteErrorPageController,\n            controllerAs: '$ctrl',\n            templateUrl: 'missing_route/MissingRouteErrorPage.html'\n        });\n}\n\n\nfunction initMissingRouteErrorPage(\n    $rootScope: ng.IRootScopeService,\n    $state: ng.ui.IStateService,\n    $injector: angular.auto.IInjectorService,\n    pipErrorPageConfigService: IErrorPageConfigService\n) {\n    \"ngInject\";\n\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\n\n    if (!config.MissingRoute.Active) return;\n\n    $rootScope.$on(StateNotFoundEvent,\n        (\n            event: angular.IAngularEvent,\n            unfoundState: ng.ui.IState,\n            fromState: ng.ui.IState,\n            fromParams: any) => {\n            event.preventDefault();\n\n            $state.go(ErrorsMissingRouteState, {\n                unfoundState: unfoundState,\n                fromState: {\n                    to: fromState ? fromState.name : '',\n                    fromParams: fromParams\n                }\n            });\n\n            $rootScope[pip.services.RoutingVar] = false;\n        }\n    );\n}\n\nfunction setMissingRouteErrorPageResources($injector: angular.auto.IInjectorService) {\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n    if (pipTranslate == null) return;\n\n    // Set translation strings for the module\n    pipTranslate.translations('en', {\n        'ERROR_MISSING_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Continue',\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Try again',\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Go Back',\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Wrong page'\n    });\n\n    pipTranslate.translations('ru', {\n        'ERROR_MISSING_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Continue',\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Try again',\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Go Back',\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Wrong page'\n    });\n}\n\n(() => {\n\n    angular\n        .module('pipErrors.Pages')\n        .config(configureMissingRouteErrorPageRoute)\n        .run(initMissingRouteErrorPage)\n        .run(setMissingRouteErrorPageResources);\n\n})();\n","export let ErrorsConnectionState = 'errors_no_connection';\nexport let ErrorsConnectionEvent = 'pipNoConnectionError';\n\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\n\nclass NoConnectionError {\n    config?: any;\n}\n\nclass NoConnectionErrorPageController {\n    private _pageName: string = 'NoConnection';\n    private pipNavService;\n\n    public errorConfig: ErrorPageConfig;\n    public isCordova: boolean = false;\n    public media;\n    public error: NoConnectionError;\n\n    constructor(\n        private $window: ng.IWindowService,\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService,\n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia,\n        $injector: angular.auto.IInjectorService,\n        pipErrorPageConfigService: IErrorPageConfigService\n    ) {\n        \"ngInject\";\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope[pip.services.RoutingVar] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    public onRetry() {\n        this.$window.history.back();\n    }\n}\n\nfunction configureNoConnectionErrorPageRoute(\n    $injector: angular.auto.IInjectorService,\n    $stateProvider: ng.ui.IStateProvider\n) {\n    \"ngInject\";\n\n    $stateProvider\n        .state(ErrorsConnectionState, {\n            url: '/errors/no_connection',\n            params: {\n                error: null\n            },\n            controller: NoConnectionErrorPageController,\n            controllerAs: '$ctrl',\n            templateUrl: 'no_connection/NoConnectionErrorPage.html'\n        });\n}\n\nfunction initNoConnectionErrorPage(\n    $rootScope: ng.IRootScopeService,\n    $state: ng.ui.IStateService,\n    pipErrorPageConfigService: IErrorPageConfigService\n) {\n    \"ngInject\";\n\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\n\n    if (!config.NoConnection.Active) return;\n\n\n    $rootScope.$on(ErrorsConnectionEvent,\n        (event: angular.IAngularEvent, params) => {\n            this.$state.go(ErrorsConnectionState, params);\n        });\n}\n\nfunction setNoConnectionErrorPageResources($injector: angular.auto.IInjectorService) {\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n    if (pipTranslate == null) return;\n\n    // Set translation strings for the module\n    pipTranslate.translations('en', {\n        'ERROR_NO_CONNECTION_TITLE': 'No connection to the server',\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\n        'ERROR_NO_CONNECTION_RETRY': 'Retry',\n    });\n\n    pipTranslate.translations('ru', {\n        'ERROR_NO_CONNECTION_TITLE': 'No connection to the server',\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\n        'ERROR_NO_CONNECTION_RETRY': 'Retry',\n    });\n}\n\n(() => {\n\n    angular\n        .module('pipErrors.Pages')\n        .config(configureNoConnectionErrorPageRoute)\n        .run(initNoConnectionErrorPage)\n        .run(setNoConnectionErrorPageResources);\n\n})();\n","(() => {\n\n    class NoConnectionPanelController {\n        private _retry: Function;\n        public error: any;\n        constructor($scope: ng.IScope) {\n            this._retry = $scope['retry'];\n            this.error = $scope['error'];\n        }\n\n        public onRetry() {\n            if (this._retry && angular.isFunction(this._retry)) this._retry();\n        }\n    }\n\n    angular\n        .module(\"pipNoConnectionPanel\", [])\n        .directive('pipNoConnectionPanel',\n        () => {\n            return {\n                restrict: 'E',\n                scope: {\n                    error: '=pipError',\n                    retry: '=pipRetry'\n                },\n                templateUrl: 'no_connection_panel/NoConnectionPanel.html',\n                controller: NoConnectionPanelController,\n                controllerAs: '$ctrl'\n            };\n        }\n        )\n\n})();\n\n","export let ErrorsUnknownState = 'errors_unknown';\nexport let ErrorsUnknownEvent = 'pipUnknownError';\n\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\n\nclass UnknownErrorDetails {\n    code: number;\n    message: string;\n    status: string;\n    server_stacktrace: Function;\n    client_stacktrace: Function;\n}\n\nclass UnknownErrorPageController {\n    private _pageName: string = 'Unknown';\n    private pipNavService;\n\n    public config: ErrorPageConfig;\n    public isCordova: boolean = false;\n    public media;\n    public error: UnknownErrorDetails;\n    public error_details: UnknownErrorDetails;\n    public showError: boolean;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService,  \n        pipErrorPageConfigService: IErrorPageConfigService\n    ) {\n        \"ngInject\";\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope[pip.services.RoutingVar] = false;\n        this.showError = $scope['showError'];\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n        \n        this.parseError();\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    private parseError() {\n        this.error_details = new UnknownErrorDetails();\n        this.error_details.code = this.error.code;\n        this.error_details.message = this.error.message;\n        this.error_details.status = this.error.status;\n\n        this.error_details.server_stacktrace = () => {};\n\n        this.error_details.client_stacktrace = () => {};\n    }\n\n    public onDetails() {\n        this.showError = true;\n    }\n\n}\n\nfunction configureUnknownErrorPageRoute (\n    $injector: angular.auto.IInjectorService, \n    $stateProvider: ng.ui.IStateProvider\n) {\n    \"ngInject\";\n\n    $stateProvider\n            .state(ErrorsUnknownState, {\n                url: '/errors/unknown',\n                params: {\n                    error: null\n                }, \n                controllerAs: '$ctrl',\n                controller: UnknownErrorPageController,\n                templateUrl: 'unknown/UnknownErrorPage.html'\n            });\n}\n\nfunction initUnknownErrorPage(\n    $rootScope: ng.IRootScopeService, \n    $state: ng.ui.IStateService, \n    pipErrorPageConfigService: IErrorPageConfigService\n) {\n    \"ngInject\";\n\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\n\n    if (!config.Unknown.Active) return;\n\n    $rootScope.$on(ErrorsUnknownEvent,\n    (event: angular.IAngularEvent, params) => { \n        this.$state.go(ErrorsUnknownState, params);\n    });\n}\n\nfunction setUnknownErrorPageResources($injector: angular.auto.IInjectorService) {\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n    if (pipTranslate == null) return;\n\n    // Set translation strings for the module\n    pipTranslate.translations('en', {\n        'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n        'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n        'ERROR_UNKNOWN_CLOSE': 'Close',\n        'ERROR_UNKNOWN_DETAILS': 'Details',\n    });\n\n    pipTranslate.translations('ru', {\n        'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n        'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n        'ERROR_UNKNOWN_CLOSE': 'Close',\n        'ERROR_UNKNOWN_DETAILS': 'Details',\n    });\n}\n\n(() => {\n\n    angular\n        .module('pipErrors.Pages')\n        .config(configureUnknownErrorPageRoute)\n        .run(initUnknownErrorPage)\n        .run(setUnknownErrorPageResources);\n\n})();\n","\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\n\nclass UnsupportedError {\n    config?: any;\n}\n\nclass UnsupportedErrorPageController {\n    private _pageName: string = 'Unsupported';\n    private pipNavService;\n\n    public errorConfig: ErrorPageConfig;\n    public isCordova: boolean = false;\n    public media;\n    public error: UnsupportedError;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService,\n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia,\n        $injector: angular.auto.IInjectorService,\n        pipErrorPageConfigService: IErrorPageConfigService\n    ) {\n        \"ngInject\";\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope[pip.services.RoutingVar] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n}\n\nfunction configureUnsupportedErrorPageRoute(\n    $stateProvider: ng.ui.IStateProvider\n) {\n    \"ngInject\";\n\n    $stateProvider\n        .state('errors_unsupported', {\n            url: '/errors/unsupported',\n            params: {\n                error: null\n            },\n            controllerAs: '$ctrl',\n            controller: UnsupportedErrorPageController,\n            templateUrl: 'unsupported/UnsupportedErrorPage.html'\n        });\n}\n\nfunction initUnsupportedErrorPage(\n    $rootScope: ng.IRootScopeService,\n    $state: ng.ui.IStateService,\n    $injector: angular.auto.IInjectorService,\n    pipErrorPageConfigService: IErrorPageConfigService) {\n    \"ngInject\";\n\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\n\n    if (!config.Unsupported.Active) return;\n\n    let pipSystemInfo: any = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null;\n    if (!pipSystemInfo) { return; }\n\n    let supportedVersions = config.Unsupported.Params.supported;\n\n    let browser: string = pipSystemInfo.browserName;\n    let version: string = pipSystemInfo.browserVersion;\n    version = version.split(\".\")[0]\n\n    if (browser\n        && supportedVersions[browser]\n        && version >= supportedVersions[browser]) {\n        return;\n    }\n    // if not supported\n    this.$state.go('errors_unsupported');\n}\n\nfunction setUnsupportedErrorPageResources($injector: angular.auto.IInjectorService) {\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n    if (pipTranslate == null) return;\n\n    // Set translation strings for the module\n    pipTranslate.translations('en', {\n        'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n        'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n        'technologies. Download one of these great browsers and you\\'ll be on your way:',\n        'ERROR_UNSUPPORTED_O': 'Opera',\n        'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n        'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n        'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n        'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\n\n    });\n\n    pipTranslate.translations('ru', {\n        'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n        'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n        'technologies. Download one of these great browsers and you\\'ll be on your way:',\n        'ERROR_UNSUPPORTED_O': 'Opera',\n        'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n        'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n        'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n        'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\n\n    });\n}\n\n(() => {\n    angular\n        .module('pipErrors.Pages')\n        .config(configureUnsupportedErrorPageRoute)\n        .run(initUnsupportedErrorPage)\n        .run(setUnsupportedErrorPageResources);\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/MaintenanceErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_MAINTENANCE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_MAINTENANCE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.timeoutInterval\">{{::\\'ERROR_MAINTENANCE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"$ctrl.isCordova\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_MAINTENANCE_CLOSE\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/MissingRouteErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"$ctrl.onContinue($event)\">{{::\\'ERROR_MISSING_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{$ctrl.url}}\">{{::\\'ERROR_MISSING_ROUTE_TRY_AGAIN\\' | translate }}: {{$ctrl.url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{$ctrl.urlBack}}\">{{::\\'ERROR_MISSING_ROUTE_GO_BACK\\' | translate }}: {{$ctrl.urlBack}}</a></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/NoConnectionErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/NoConnectionPanel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{$ctrl.error.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.error.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.error.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/UnknownErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.showError && $ctrl.error_details && $ctrl.error_details.message\"><div ng-if=\"$ctrl.error_details.code\">Code: {{$ctrl.error_details.code}}</div><div ng-if=\"$ctrl.error_details.message\">Description: {{$ctrl.error_details.message}}</div><div ng-if=\"$ctrl.error_details.status\">HTTP status: {{$ctrl.error_details.status}}</div><div ng-if=\"$ctrl.error_details.server_stacktrace\">Server stacktrace: {{$ctrl.error_details.server_stacktrace}}</div><div ng-if=\"$ctrl.error_details.client_stacktrace\">Client stacktrace stacktrace: {{$ctrl.error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"$ctrl.isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"$ctrl.error_details && $ctrl.error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"$ctrl.onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/UnsupportedErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$ctrl.media(\\'gt-xs\\')\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$ctrl.media(\\'xs\\')\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","import { IChartColorsService } from '../chart_colors/IChartColorsService';\n\n{\n    interface IBarChartBindings {\n        [key: string]: any;\n\n        series: any;\n        xTickFormat: any;\n        yTickFormat: any;\n        interactiveLegend: any;\n    }\n\n    const BarChartBindings: IBarChartBindings = {\n        series: '<pipSeries',\n        xTickFormat: '<?pipXTickFormat',\n        yTickFormat: '<?pipYTickFormat',\n        interactiveLegend: '<?pipInterLegend'\n    }\n\n    class BarChartBindingsChanges implements IBarChartBindings, ng.IOnChangesObject {\n        [key: string]: any;\n\n        series: ng.IChangesObject < any > ;\n        xTickFormat: ng.IChangesObject < any > ;\n        yTickFormat: ng.IChangesObject < any > ;\n        interactiveLegend: ng.IChangesObject < boolean > ;\n    }\n\n    class BarChartController implements ng.IController, IBarChartBindings {\n        public series: any;\n        public xTickFormat: any;\n        public yTickFormat: any;\n        public interactiveLegend: boolean;\n        public legend: any;\n\n        private data: any;\n        private chart: nv.DiscreteBarChart = null;\n        private chartElem: any;\n        private colors: string[];\n        private height: number = 270;\n\n        constructor(\n            private $element: JQuery,\n            private $scope: ng.IScope,\n            private $timeout: ng.ITimeoutService,\n            private pipChartColors: IChartColorsService\n        ) {\n            \"ngInject\";\n\n            this.colors = this.pipChartColors.generateMaterialColors();\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\n                if (!updatedLegend) return;\n\n                this.data = this.prepareData(updatedLegend);\n                this.legend = updatedLegend;\n\n                this.updateChart();\n            }, true);\n        }\n\n        public $onInit() {\n            this.data = this.prepareData(this.series);\n            this.legend = _.clone(this.series);\n            this.generateParameterColor();\n            ( < any > d3.scale).paletteColors = () => {\n                return d3.scale.ordinal().range(this.colors.map((color) => {\n                    return this.pipChartColors.materialColorToRgba(color);\n                }));\n            };\n\n            this.instantiateChart();\n        }\n\n        public $onChanges(changes: BarChartBindingsChanges) {\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : null;\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : null;\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : null;\n\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\n                this.series = changes.series.currentValue;\n                this.data = this.prepareData(this.series);\n                this.legend = _.clone(this.series);\n                this.generateParameterColor();\n                this.updateChart();\n            }\n        }\n\n        private updateChart() {\n            if (this.chart) {\n                this.chartElem.datum(this.data).call(this.chart);\n                this.configBarWidthAndLabel();\n                this.drawEmptyState();\n            }\n        }\n\n        private instantiateChart() {\n            nv.addGraph(() => {\n                this.chart = nv.models.discreteBarChart()\n                    .margin({\n                        top: 10,\n                        right: 0,\n                        bottom: 10,\n                        left: 50\n                    })\n                    .x((d) => {\n                        return d.label || d.key || d.x;\n                    })\n                    .y((d) => {\n                        return d.value;\n                    })\n                    .showValues(true)\n                    .staggerLabels(true)\n                    .showXAxis(true)\n                    .showYAxis(true)\n                    .valueFormat( < any > d3.format('d'))\n                    .duration(0)\n                    .height(this.height)\n                    .color((d) => {\n                        return this.data[d.series].color || this.pipChartColors.materialColorToRgba(this.colors[d.series]);\n                    });\n\n                this.chart.tooltip.enabled(false);\n                this.chart.noData('There is no data right now...');\n\n                this.chart.yAxis\n                    .tickFormat((d) => {\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\n                    });\n\n                this.chart.xAxis\n                    .tickFormat((d) => {\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\n                    });\n\n                this.chartElem = < any > d3.select(this.$element.get(0))\n                    .select('.bar-chart svg')\n                    .datum(this.data)\n                    .style('height', '285px')\n                    .call(this.chart);\n\n                nv.utils.windowResize(() => {\n                    this.chart.update();\n                    this.configBarWidthAndLabel(0);\n                    this.drawEmptyState();\n                });\n\n                return this.chart;\n            }, () => {\n                this.$timeout(() => {\n                    this.configBarWidthAndLabel();\n                }, 0);\n                this.drawEmptyState();\n            });\n        }\n\n        private prepareData(data): any {\n            const result = [];\n            _.each(data, (seria) => {\n                if (!seria.disabled && seria.values) result.push(seria);\n            });\n            return _.cloneDeep(result);\n        }\n\n        private drawEmptyState() {\n            if (this.$element.find('.nv-noData').length === 0) {\n                d3.select(this.$element.find('.empty-state')[0]).remove();\n            } else {\n                const g = this.chartElem.append('g').classed('empty-state', true),\n                    width = this.$element.find('.nvd3-svg').innerWidth(),\n                    margin = width * 0.1;\n\n                g.append('g')\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\n                    .append('rect')\n                    .attr('height', this.height - 10)\n                    .attr('width', 38);\n\n                g.append('g')\n                    .attr('transform', 'translate(42, 60)')\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\n                    .append('rect')\n                    .attr('height', 200)\n                    .attr('width', 38);\n\n                g.append('g')\n                    .attr('transform', 'translate(84, 160)')\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\n                    .append('rect')\n                    .attr('height', 100)\n                    .attr('width', 38);\n\n                g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2 * margin) / 126) + ', 1)');\n            }\n        }\n\n        private configBarWidthAndLabel(timeout: number = 1000) {\n            const labels = this.$element.find('.nv-bar text'),\n                chartBars = this.$element.find('.nv-bar'),\n                parentHeight = ( < any > this.$element.find('.nvd3-svg')[0]).getBBox().height;\n\n            d3.select(this.$element.find('.bar-chart')[0]).classed('visible', true);\n\n            _.each(chartBars, (item: EventTarget, index: number) => {\n                const barHeight = Number(d3.select(item).select('rect').attr('height')),\n                    barWidth = Number(d3.select(item).select('rect').attr('width')),\n                    element = d3.select(item),\n                    x = d3.transform(element.attr('transform')).translate[0],\n                    y = d3.transform(element.attr('transform')).translate[1];\n\n                element\n                    .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + (this.height - 20) + ')')\n                    .select('rect').attr('height', 0);\n\n                element\n                    .transition()\n                    .duration(timeout)\n                    .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + y + ')')\n                    .select('rect').attr('height', barHeight);\n\n                d3.select(labels[index])\n                    .attr('dy', barHeight / 2 + 10)\n                    .attr('x', barWidth / 2);\n            });\n        }\n\n        private generateParameterColor() {\n            if (!this.data) return;\n\n            _.each(this.data, (item: any, index: number) => {\n                if (item.values[0]) {\n                    item.values[0].color = item.values[0].color || this.pipChartColors.getMaterialColor(index, this.colors);\n                    item.color = item.values[0].color;\n                }\n            });\n        }\n\n    }\n\n    const BarChart: ng.IComponentOptions = {\n        bindings: BarChartBindings,\n        templateUrl: 'bar_chart/BarChart.html',\n        controller: BarChartController\n    }\n\n    angular\n        .module('pipBarCharts', [])\n        .component('pipBarChart', BarChart);\n}","import { IChartColorsService } from './IChartColorsService';\n\n{\n    class ChartColorsService implements IChartColorsService {\n        constructor(\n            private $mdColorPalette: angular.material.IColorPalette\n        ) { \n            \"ngInject\";\n        }\n\n        public getMaterialColor(index: number, colors: string[]): string {\n            if (!colors || colors.length < 1) return null;\n\n            if (index >= colors.length) {\n                index = 0;\n            }\n\n            return this.materialColorToRgba(colors[index]);\n        }\n\n        public materialColorToRgba(color: string): string {\n            return 'rgba(' + this.$mdColorPalette[color][500].value[0] + ',' +\n                this.$mdColorPalette[color][500].value[1] + ',' +\n                this.$mdColorPalette[color][500].value[2] + ',' +\n                (this.$mdColorPalette[color][500].value[3] || 1) + ')';\n        }\n\n        public generateMaterialColors(): string[] {\n            let colors = _.map((<any>this.$mdColorPalette), (palette, color: string) => {\n                return color;\n            });\n            colors = _.filter(colors, (color: string) => {\n                return _.isObject(this.$mdColorPalette[color]) && _.isObject(this.$mdColorPalette[color][500]) && _.isArray(this.$mdColorPalette[color][500].value);\n            });\n\n            return colors;\n        }\n    }\n\n    angular\n        .module('pipChartColors', [])\n        .service('pipChartColors', ChartColorsService);\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\n\n{\n    interface IChartLegendBindings {\n        [key: string]: any;\n\n        series: any;\n        interactive: any;\n    }\n\n    const ChartLegendBindings: IChartLegendBindings = {\n        series: '<pipSeries',\n        interactive: '<pipInteractive'\n    }\n\n    class ChartLegendBindingsChanges implements ng.IOnChangesObject, IChartLegendBindings {\n        [key: string]: any;\n\n        series: ng.IChangesObject < any > ;\n        interactive: ng.IChangesObject < boolean > ;\n    }\n\n    class ChartLegendController implements ng.IController, IChartLegendBindings {\n        public series: any;\n        public interactive: boolean;\n\n        private colors: string[];\n\n        constructor(\n            private $element: JQuery,\n            private $scope: ng.IScope,\n            private $timeout: ng.ITimeoutService,\n            private pipChartColors: IChartColorsService\n        ) {\n            \"ngInject\";\n            this.colors = this.pipChartColors.generateMaterialColors();\n        }\n\n        public $onInit() {\n            this.updateLegends();\n        }\n\n        public $onChanges(changes: ChartLegendBindingsChanges) {\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\n                this.series = changes.series.currentValue;\n                this.updateLegends();\n            }\n\n            if (changes.interactive && changes.interactive.currentValue !== changes.interactive.previousValue) {\n                this.interactive = changes.interactive.currentValue;\n                if (this.interactive === true) {\n                    this.$timeout(() => {\n                        this.colorCheckboxes();\n                    }, 0);\n                }\n            }\n        }\n\n        private updateLegends() {\n            this.$timeout(() => {\n                this.animate();\n                this.colorCheckboxes();\n            }, 0);\n            this.prepareSeries();\n        }\n\n        private colorCheckboxes() {\n            const checkboxContainers = this.$element.find('md-checkbox .md-container');\n\n            _.each(checkboxContainers, (item: EventTarget, index: number) => {\n                if (index >= this.series.length) {\n                    return\n                }\n                $(item)\n                    .css('color', this.series[index].color || this.colors[index])\n                    .find('.md-icon')\n                    .css('background-color', this.series[index].color || this.colors[index]);\n            });\n        }\n\n        private animate() {\n            const legendTitles = this.$element.find('.chart-legend-item');\n\n            _.each(legendTitles, (item: EventTarget, index: number) => {\n                this.$timeout(() => {\n                    $(item).addClass('visible');\n                }, 200 * index);\n            });\n        }\n\n        private prepareSeries() {\n            if (!this.series) return;\n\n            _.each(this.series, (item: any, index: number) => {\n                const materialColor = this.pipChartColors.getMaterialColor(index, this.colors);\n                item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : materialColor);\n                item.disabled = item.disabled || false;\n            });\n        }\n    }\n\n    const ChartLegend: ng.IComponentOptions = {\n        bindings: ChartLegendBindings,\n        templateUrl: 'chart_legend/ChartInteractiveLegend.html',\n        controller: ChartLegendController\n    }\n\n    angular\n        .module('pipChartLegends', [])\n        .component('pipChartLegend', ChartLegend);\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\n\n{\n    interface ILineChartBindings {\n        [key: string]: any;\n\n        series: any;\n        showYAxis: any;\n        showXAxis: any;\n        xFormat: any;\n        xTickFormat: any;\n        yTickFormat: any;\n        xTickValues: any;\n        dynamic: any;\n        fixedHeight: any;\n        dynamicHeight: any;\n        minHeight: any;\n        maxHeight: any;\n        interactiveLegend: any;\n    }\n\n    const LineChartBindings: ILineChartBindings = {\n        series: '<pipSeries',\n        showYAxis: '<?pipYAxis',\n        showXAxis: '<?pipXAxis',\n        xFormat: '<?pipXFormat',\n        xTickFormat: '<?pipXTickFormat',\n        yTickFormat: '<?pipYTickFormat',\n        xTickValues: '<?pipXTickValues',\n        dynamic: '<?pipDynamic',\n        fixedHeight: '<?pipDiagramHeight',\n        dynamicHeight: '<?pipDynamicHeight',\n        minHeight: '<?pipMinHeight',\n        maxHeight: '<?pipMaxHeight',\n        interactiveLegend: '<?pipInterLegend'\n    }\n\n    class LineChartBindingsChanges implements ng.IOnChangesObject, ILineChartBindings {\n        [key: string]: any;\n\n        fixedHeight: ng.IChangesObject < number > ;\n        dynamicHeight: ng.IChangesObject < boolean > ;\n        minHeight: ng.IChangesObject < number > ;\n        maxHeight: ng.IChangesObject < number > ;\n\n        series: ng.IChangesObject < any > ;\n        showYAxis: ng.IChangesObject < boolean > ;\n        showXAxis: ng.IChangesObject < boolean > ;\n        xFormat: ng.IChangesObject < any > ;\n        xTickFormat: ng.IChangesObject < any > ;\n        yTickFormat: ng.IChangesObject < any > ;\n        xTickValues: ng.IChangesObject < any > ;\n        dynamic: ng.IChangesObject < boolean > ;\n        interactiveLegend: ng.IChangesObject < boolean > ;\n    }\n\n    class LineChartController implements ng.IController, ILineChartBindings {\n        private HEIGHT = 270;\n        private chart: nv.LineChart = null;\n        private chartElem: any = null;\n        private setZoom: Function = null;\n        private updateZoomOptions: Function = null;\n        private colors: string[];\n        \n        public fixedHeight: number = this.HEIGHT;\n        public dynamicHeight: boolean = false;\n        public minHeight: number = this.HEIGHT;\n        public maxHeight: number = this.HEIGHT;\n        public series: any;\n        public showYAxis: boolean = true;\n        public showXAxis: boolean = true;\n        public xFormat: Function;\n        public xTickFormat: Function;\n        public yTickFormat: Function;\n        public xTickValues: number[];\n        public dynamic: boolean = false;\n        public interactiveLegend: boolean = false;\n        public data: any;\n        public legend: any;\n        public sourceEvents: any;\n\n        constructor(\n            private $element: JQuery,\n            private $scope: ng.IScope,\n            private $timeout: ng.ITimeoutService,\n            private pipChartColors: IChartColorsService\n        ) {\n            \"ngInject\";\n\n            this.colors = this.pipChartColors.generateMaterialColors();\n\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\n                this.data = this.prepareData(updatedLegend);\n                this.legend = updatedLegend;\n\n                this.updateChart();\n            }, true);\n\n            $scope.$on('$destroy', () => {\n                $timeout(() => {\n                    d3.selectAll('.nvtooltip').style('opacity', 0);\n                }, 800)\n            });\n        }\n\n        public $onInit() {\n            this.data = this.prepareData(this.series) || [];\n            this.legend = _.clone(this.series);\n            this.sourceEvents = [];\n\n            this.generateParameterColor();\n\n            ( < any > d3.scale).paletteColors = () => {\n                return d3.scale.ordinal().range(this.colors.map((color) => {\n                    return this.pipChartColors.materialColorToRgba(color);\n                }));\n            };\n\n            this.instantiateChart();\n        }\n\n        public $onChanges(changes: LineChartBindingsChanges) {\n            this.fixedHeight = changes.fixedHeight ? changes.fixedHeight.currentValue : this.HEIGHT;\n            this.minHeight = changes.minHeight ? changes.minHeight.currentValue : this.HEIGHT;\n            this.maxHeight = changes.maxHeight ? changes.maxHeight.currentValue : this.HEIGHT;\n            this.dynamicHeight = changes.dynamicHeight ? changes.dynamicHeight.currentValue : this.dynamicHeight;\n\n            this.showXAxis = changes.showXAxis ? changes.showXAxis.currentValue : this.showXAxis;\n            this.showYAxis = changes.showYAxis ? changes.showYAxis.currentValue : this.showYAxis;\n            this.dynamic = changes.dynamic ? changes.dynamic.currentValue : this.dynamic;\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : this.interactiveLegend;\n\n            this.xFormat = changes.xFormat ? changes.xFormat.currentValue : this.xFormat;\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : this.xTickFormat;\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : this.yTickFormat;\n\n            if (changes.xTickValues && changes.xTickValues.currentValue !== changes.xTickValues.previousValue) {\n                this.xTickValues = changes.xTickValues.currentValue;\n                this.updateXTickValues();\n                if (this.chartElem && this.chart) this.chartElem.datum(this.data || []).call(this.chart);\n            }\n\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\n                this.updateSeries();\n            }\n        }\n\n        private prepareData(data) {\n            const result = [];\n            _.each(data, (seria) => {\n                if (!seria.disabled && seria.values) result.push(seria);\n            });\n\n            return _.cloneDeep(result);\n        }\n\n        private getHeight() {\n            /*if (this.dynamicHeight) {\n                const heigth = Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight);\n                return heigth;\n            } else {\n                return this.fixedHeight;\n            }*/\n            return this.dynamicHeight ? Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight) : this.fixedHeight;\n        };\n\n        public zoomIn() {\n            if (this.setZoom) {\n                this.setZoom('in');\n            }\n        };\n\n        public zoomOut() {\n            if (this.setZoom) {\n                this.setZoom('out');\n            }\n        };\n\n        private instantiateChart() {\n            nv.addGraph(() => {\n                this.chart = nv.models.lineChart()\n                    .margin({\n                        top: 20,\n                        right: 20,\n                        bottom: 30,\n                        left: 30\n                    })\n                    .x((d) => {\n                        return (d !== undefined && d.x !== undefined) ? (this.xFormat ? this.xFormat(d.x) : d.x) : d;\n                    })\n                    .y((d) => {\n                        return (d !== undefined && d.value !== undefined) ? d.value : d;\n                    })\n                    .height(this.getHeight() - 50)\n                    .useInteractiveGuideline(true)\n                    .showXAxis(true)\n                    .showYAxis(true)\n                    .showLegend(false)\n                    .color((d) => {\n                        return d.color || ( < any > d3.scale).paletteColors().range();\n                    });\n\n                this.chart.tooltip.enabled(false);\n                this.chart.noData('There is no data right now...');\n\n                this.chart.yAxis\n                    .tickFormat((d) => {\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\n                    });\n\n                this.chart.xAxis\n                    .tickFormat((d) => {\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\n                    })\n                    .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\n                        d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\n\n                this.chartElem = d3.select(this.$element.get(0)).select('.line-chart svg');\n                this.chartElem.datum(this.data || []).style('height', (this.getHeight() - 50) + 'px').call(this.chart);\n                // Handle touches for correcting tooltip position\n                $('.line-chart svg').on('touchstart touchmove', (e) => {\n                    this.$timeout(() => {\n                        const tooltip = $('.nvtooltip'),\n                            tooltipW = tooltip.innerWidth(),\n                            bodyWidth = $('body').innerWidth(),\n                            x = e.originalEvent['touches'][0]['pageX'],\n                            y = e.originalEvent['touches'][0]['pageY'];\n\n                        tooltip.css('transform', 'translate(' +\n                            (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' +\n                            y + ')');\n                        tooltip.css('left', 0);\n                        tooltip.css('top', 0);\n                    });\n                });\n\n                $('.line-chart svg').on('touchstart touchend', (e) => {\n                    const removeTooltip = () => {\n                        $('.nvtooltip').css('opacity', 0);\n                    };\n\n                    removeTooltip();\n\n                    this.$timeout(() => {\n                        removeTooltip();\n                    }, 500);\n                });\n\n                if (this.dynamic) {\n                    this.addZoom(this.chart, this.chartElem);\n                }\n\n                nv.utils.windowResize(() => {\n                    this.onResize();\n                });\n\n                this.$scope.$on('pipMainResized', () => {\n                    this.onResize();\n                });\n\n                return this.chart;\n            }, () => {\n                this.drawEmptyState();\n            });\n        }\n\n        private updateXTickValues() {\n            if (!this.chart) return;\n\n            this.chart.xAxis\n                .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\n                    d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\n        }\n\n        private updateChart() {\n            if (this.chart) {\n                this.updateXTickValues();\n\n                this.chartElem.datum(this.data || []).call(this.chart);\n                this.drawEmptyState();\n\n                if (this.updateZoomOptions) this.updateZoomOptions(this.data);\n            }\n        }\n\n        private updateSeries() {\n            this.data = this.prepareData(this.series);\n            this.legend = _.clone(this.series);\n\n            this.generateParameterColor();\n            this.updateChart();\n        }\n\n        private onResize() {\n            this.chart.height(this.getHeight() - 50);\n            this.chartElem.style('height', (this.getHeight() - 50) + 'px');\n            this.chart.update();\n            this.drawEmptyState();\n        }\n\n        private drawEmptyState() {\n            if (!this.$element.find('text.nv-noData').get(0)) {\n                d3.select(this.$element.find('.empty-state')[0]).remove();\n            } else {\n                const containerWidth = this.$element.find('.line-chart').innerWidth(),\n                    containerHeight = this.$element.find('.line-chart').innerHeight();\n\n                if (this.$element.find('.empty-state').get(0)) {\n                    this.chartElem\n                        .select('image')\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\n                } else {\n                    this.chartElem\n                        .append(\"defs\")\n                        .append(\"pattern\")\n                        .attr(\"height\", 1)\n                        .attr(\"width\", 1)\n                        .attr(\"x\", \"0\")\n                        .attr(\"y\", \"0\")\n                        .attr(\"id\", \"bg\")\n                        .append(\"image\")\n                        .attr('x', 17)\n                        .attr('y', 0)\n                        .attr('height', \"216px\")\n                        .attr('width', \"1151px\")\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\n                        .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\n\n                    this.chartElem\n                        .append('rect')\n                        .classed('empty-state', true)\n                        .attr('height', \"100%\")\n                        .attr('width', \"100%\")\n                        .attr('fill', 'url(#bg)');\n                }\n            }\n        }\n\n        private updateScroll(domains, boundary) {\n            const bDiff = boundary[1] - boundary[0],\n                domDiff = domains[1] - domains[0],\n                isEqual = domDiff / bDiff === 1;\n\n            $(this.$element[0]).find('.visual-scroll')\n                .css('opacity', function () {\n                    return isEqual ? 0 : 1;\n                });\n\n            if (isEqual) return;\n\n            $(this.$element[0]).find('.scrolled-block')\n                .css('left', () => {\n                    return (domains[0] - boundary[0]) / bDiff * 100 + '%';\n                })\n                .css('width', () => {\n                    return domDiff / bDiff * 100 + '%';\n                });\n        }\n\n        private generateParameterColor() {\n            if (!this.data) return;\n\n            _.each(this.data, (item, index: number) => {\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\n            });\n        }\n\n        private addZoom(chart, svg) {\n            // Scale Extent\n            const scaleExtent = 4;\n\n            // Parameters\n            let yAxis = null;\n            let xAxis = null;\n            let xDomain = null;\n            let yDomain = null;\n            let redraw = null;\n\n            // Scales\n            let xScale = null;\n            let yScale = null;\n\n            // Min/max boundaries\n            let x_boundary = null;\n            let y_boundary = null;\n\n            // Create d3 zoom handler\n            let d3zoom = d3.behavior.zoom();\n            let prevXDomain = null;\n            let prevScale = null;\n            let prevTranslate = null;\n\n            const setData = (newChart) => {\n                // Parameters\n                yAxis = newChart.yAxis;\n                xAxis = newChart.xAxis;\n                xDomain = newChart.xDomain || xAxis.scale().domain;\n                yDomain = newChart.yDomain || yAxis.scale().domain;\n                redraw = newChart.update;\n\n                // Scales\n                xScale = xAxis.scale();\n                yScale = yAxis.scale();\n\n                // Min/max boundaries\n                x_boundary = xAxis.scale().domain().slice();\n                y_boundary = yAxis.scale().domain().slice();\n\n                // Create d3 zoom handler\n                prevXDomain = x_boundary;\n                prevScale = d3zoom.scale();\n                prevTranslate = d3zoom.translate();\n\n                // Ensure nice axis\n                xScale.nice();\n                yScale.nice();\n            }\n\n            setData(chart);\n\n            // Fix domain\n            const fixDomain = (domain, boundary, scale, translate) => {\n                if (domain[0] < boundary[0]) {\n                    domain[0] = boundary[0];\n                    if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\n                        domain[1] += (boundary[0] - domain[0]);\n                    } else {\n                        domain[1] = prevXDomain[1];\n                        translate = _.clone(prevTranslate);\n                    }\n\n                }\n                if (domain[1] > boundary[1]) {\n                    domain[1] = boundary[1];\n                    if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\n                        domain[0] -= (domain[1] - boundary[1]);\n                    } else {\n                        domain[0] = prevXDomain[0];\n                        translate = _.clone(prevTranslate);\n                    }\n                }\n\n                d3zoom.translate(translate);\n                prevXDomain = _.clone(domain);\n                prevScale = _.clone(scale);\n                prevTranslate = _.clone(translate);\n\n                return domain;\n            }\n\n            const updateChart = () => {\n                d3zoom.scale(1);\n                d3zoom.translate([0, 0]);\n                xScale.domain(x_boundary);\n                d3zoom.x(xScale).y(yScale);\n                svg.call(d3zoom);\n            }\n\n            // Zoom event handler\n            const zoomed = () => {\n                if (( < any > d3.event).scale === 1) {\n                    unzoomed();\n                    updateChart();\n                } else {\n                    xDomain(fixDomain(xScale.domain(), x_boundary, ( < any > d3.event).scale, ( < any > d3.event).translate));\n                    redraw();\n                }\n\n                this.updateScroll(xScale.domain(), x_boundary);\n            }\n\n            // Describe set zoom function\n            this.setZoom = (which) => {\n                const center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\n                const translate0 = d3zoom.translate(),\n                    coordinates0 = coordinates(center0);\n\n                if (which === 'in') {\n                    if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\n                } else {\n                    if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\n                }\n\n                const center1 = point(coordinates0);\n                d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\n\n                d3zoom.event(svg);\n            };\n\n            const step = (which) => {\n                const translate = d3zoom.translate();\n\n                if (which === 'right') {\n                    translate[0] -= 20;\n                } else {\n                    translate[0] += 20;\n                }\n\n                d3zoom.translate(translate);\n                d3zoom.event(svg);\n            }\n\n            const coordinates = (point) => {\n                const scale = d3zoom.scale(),\n                    translate = d3zoom.translate();\n                return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\n            }\n\n            const point = (coordinates) => {\n                const scale = d3zoom.scale(),\n                    translate = d3zoom.translate();\n                return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\n            }\n\n            const keypress = () => {\n                switch (( < any > d3.event).keyCode) {\n                    case 39:\n                        step('right');\n                        break;\n                    case 37:\n                        step('left');\n                        break;\n                    case 107:\n                        this.setZoom('in');\n                        break;\n                    case 109:\n                        this.setZoom('out');\n                }\n            }\n\n            // Zoom event handler\n            const unzoomed = () => {\n                xDomain(x_boundary);\n                redraw();\n                d3zoom.scale(1);\n                d3zoom.translate([0, 0]);\n                prevScale = 1;\n                prevTranslate = [0, 0];\n            }\n\n            // Initialize wrapper\n            d3zoom.x(xScale)\n                .y(yScale)\n                .scaleExtent([1, scaleExtent])\n                .on('zoom', zoomed);\n\n            // Add handler\n            svg.call(d3zoom).on('dblclick.zoom', unzoomed);\n            $(this.$element.get(0)).addClass('dynamic');\n\n            // Add keyboard handlers\n            svg\n                .attr('focusable', false)\n                .style('outline', 'none')\n                .on('keydown', keypress)\n                .on('focus', () => {});\n\n            const getXMinMax = (data) => {\n                let maxVal, minVal = null;\n\n                for (let i = 0; i < data.length; i++) {\n                    if (!data[i].disabled) {\n                        const tempMinVal = d3.max(data[i].values, (d: any) => {\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\n                        });\n                        const tempMaxVal = d3.min(data[i].values, (d: any) => {\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\n                        });\n                        minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\n                        maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\n                    }\n                }\n                return [maxVal, minVal];\n            };\n\n            const updateZoomOptions = (data) => {\n                yAxis = chart.yAxis;\n                xAxis = chart.xAxis;\n\n                xScale = xAxis.scale();\n                yScale = yAxis.scale();\n\n                x_boundary = getXMinMax(data);\n\n                if (d3zoom.scale() === 1) {\n                    d3zoom.x(xScale).y(yScale);\n                    svg.call(d3zoom);\n                    d3zoom.event(svg);\n                }\n\n                this.updateScroll(xScale.domain(), x_boundary);\n            }\n        }\n    }\n\n    const LineChart: ng.IComponentOptions = {\n        bindings: LineChartBindings,\n        templateUrl: 'line_chart/LineChart.html',\n        controller: LineChartController\n    }\n\n    angular\n        .module('pipLineCharts', [])\n        .component('pipLineChart', LineChart);\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\n\n{\n    interface IPieChartBindings {\n        [key: string]: any;\n\n        series: any;\n        donut: any;\n        legend: any;\n        total: any;\n        size: any;\n        centered: any;\n    }\n\n    const PieChartBindings: IPieChartBindings = {\n        series: '<pipSeries',\n        donut: '<?pipDonut',\n        legend: '<?pipShowLegend',\n        total: '<?pipShowTotal',\n        size: '<?pipPieSize',\n        centered: '<?pipCentered'\n    }\n\n    class PieChartBindingsChanges implements ng.IOnChangesObject, IPieChartBindings {\n        [key: string]: any;\n\n        series: ng.IChangesObject < any > ;\n        donut: ng.IChangesObject < boolean > ;\n        legend: ng.IChangesObject < boolean > ;\n        total: ng.IChangesObject < boolean > ;\n        size: ng.IChangesObject < number | string > ;\n        centered: ng.IChangesObject < boolean > ;\n    }\n\n    class PieChartController implements ng.IController, IPieChartBindings {\n        public series: any;\n        public donut: boolean = false;\n        public legend: boolean = true;\n        public total: boolean = true;\n        public size: number | string = 250;\n        public centered: boolean = false;\n\n        private data: any;\n        private chart: nv.PieChart = null;\n        private chartElem: any;\n        private titleElem: any;\n        private colors: string[];\n\n        constructor(\n            private $element: JQuery,\n            private $scope: ng.IScope,\n            private $timeout: ng.ITimeoutService,\n            private pipChartColors: IChartColorsService\n        ) {\n            \"ngInject\";\n\n            this.colors = this.pipChartColors.generateMaterialColors();\n        }\n\n        public $onInit() {\n            this.data = this.series;\n            this.generateParameterColor();\n            ( < any > d3.scale).paletteColors = () => {\n                return d3.scale.ordinal().range(this.colors.map((color) => {\n                    return this.pipChartColors.materialColorToRgba(color);\n                }));\n            };\n\n            this.instantiateChart();\n        }\n\n        public $onChanges(changes: PieChartBindingsChanges) {\n            this.legend = changes.legend ? changes.legend.currentValue : this.legend;\n            this.centered = changes.centered ? changes.centered.currentValue : this.centered;\n            this.donut = changes.donut ? changes.donut.currentValue : this.donut;\n            this.size = changes.size ? changes.size.currentValue : this.size;\n            this.total = changes.total ? changes.total.currentValue : this.total;\n\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\n                this.data = changes.series.currentValue;\n                this.generateParameterColor();\n\n                if (this.chart) {\n                    this.chartElem.datum(this.data).call(this.chart);\n                    this.$timeout(() => {\n                        this.resizeTitleLabelUnwrap();\n                    });\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\n                }\n            }\n        }\n\n        private instantiateChart() {\n            nv.addGraph(() => {\n                this.chart = nv.models.pieChart()\n                    .margin({\n                        top: 0,\n                        right: 0,\n                        bottom: 0,\n                        left: 0\n                    })\n                    .x((d) => {\n                        return this.donut ? d.value : null;\n                    })\n                    .y((d) => {\n                        return d.value;\n                    })\n                    .height(Number(this.size))\n                    .width(Number(this.size))\n                    .showLabels(true)\n                    .labelThreshold(.001)\n                    .growOnHover(false)\n                    .donut(this.donut)\n                    .donutRatio(0.5)\n                    .color((d) => {\n                        return d.color || ( < any > d3.scale).paletteColors().range();\n                    });\n\n                this.chart.tooltip.enabled(false);\n                this.chart.noData('There is no data right now...');\n                this.chart.showLegend(false);\n\n                this.chartElem = d3.select(this.$element.get(0))\n                    .select('.pie-chart')\n                    .style('height', (this.size) + 'px')\n                    .style('width', this.centered ? '100%' : (this.size) + 'px')\n                    .select('svg')\n                    .style('opacity', 0)\n                    .datum(this.data || [])\n                    .call(this.chart);\n\n                nv.utils.windowResize(() => {\n                    this.chart.update();\n                    this.$timeout(() => {\n                        this.resizeTitleLabelUnwrap();\n                    });\n                    this.centerChart();\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\n                });\n\n                return this.chart;\n            }, () => {\n                this.$timeout(() => {\n                    const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0];\n                    this.renderTotalLabel(svgElem);\n                    d3.select(svgElem)\n                        .transition()\n                        .duration(1000)\n                        .style('opacity', 1);\n\n                    this.$timeout(() => {\n                        this.resizeTitleLabelUnwrap();\n                    }, 800);\n                    this.centerChart();\n                    this.drawEmptyState(svgElem);\n                });\n            });\n        }\n\n        private drawEmptyState(svg) {\n            if (!this.$element.find('text.nv-noData').get(0)) {\n                d3.select(this.$element.find('.empty-state')[0]).remove();\n                this.$element.find('.pip-empty-pie-text').remove();\n            } else {\n                if (this.$element.find('.pip-empty-pie-text').length === 0) {\n                    this.$element.find('.pie-chart')\n                        .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\n                }\n\n                const pie = d3.layout.pie().sort(null),\n                    size = Number(this.size);\n\n                const arc = d3.svg.arc()\n                    .innerRadius(size / 2 - 20)\n                    .outerRadius(size / 2 - 57);\n\n                svg = d3.select(svg)\n                    .append(\"g\")\n                    .classed('empty-state', true)\n                    .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\n\n                const path = svg.selectAll(\"path\")\n                    .data(pie([1]))\n                    .enter().append(\"path\")\n                    .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\n                    .attr(\"d\", < any > arc);\n            }\n        }\n\n        private centerChart() {\n            if (this.centered) {\n                const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0],\n                    leftMargin = $(svgElem).innerWidth() / 2 - (Number(this.size) || 250) / 2;\n                d3.select(this.$element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\n            }\n        }\n\n        private renderTotalLabel(svgElem) {\n            if ((!this.total && !this.donut) || !this.data) return;\n\n            let totalVal = this.data.reduce(function (sum, curr) {\n                return sum + curr.value;\n            }, 0);\n\n            if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\n\n            d3.select(svgElem)\n                .select('.nv-pie:not(.nvd3)')\n                .append('text')\n                .classed('label-total', true)\n                .attr('text-anchor', 'middle')\n                .style('dominant-baseline', 'central')\n                .text(totalVal);\n\n            this.titleElem = d3.select(this.$element.find('text.label-total').get(0)).style('opacity', 0);\n        }\n\n        private resizeTitleLabelUnwrap() {\n            if ((!this.total && !this.donut) || !this.data) return;\n\n            const boxSize = ( < any > this.$element.find('.nvd3.nv-pieChart').get(0)).getBBox();\n\n            if (!boxSize.width || !boxSize.height) {\n                return;\n            }\n\n            this.titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\n        }\n\n        private generateParameterColor() {\n            if (!this.data) return;\n\n            _.each(this.data, (item: any, index: number) => {\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\n            });\n        }\n\n    }\n\n    const PieChart: ng.IComponentOptions = {\n        bindings: PieChartBindings,\n        templateUrl: 'pie_chart/PieChart.html',\n        controller: PieChartController\n    }\n\n    angular\n        .module('pipPieCharts', [])\n        .component('pipPieChart', PieChart);\n}","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar_chart/BarChart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend ng-show=\"$ctrl.legend\" pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('chart_legend/ChartInteractiveLegend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in $ctrl.series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"$ctrl.interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!$ctrl.interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line_chart/LineChart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': $ctrl.showXAxis, \\'visible-y-axis\\': $ctrl.showYAxis}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"$ctrl.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"$ctrl.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie_chart/PieChart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !$ctrl.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"$ctrl.data\" pip-interactive=\"false\" ng-if=\"$ctrl.legend\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","{\n    interface ILocationBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipShowLocationIcon: any;\n        pipCollapse: any;\n        pipRebind: any;\n        pipDisabled: any;\n        pipLocationResize: any;\n    }\n\n    const LocationBindings: ILocationBindings = {\n        pipLocationName: '<',\n        pipLocationPos: '<',\n        pipShowLocationIcon: '<',\n        pipCollapse: '<',\n        pipRebind: '<',\n        pipDisabled: '<',\n        pipLocationResize: '&'\n    }\n\n    class LocationBindingsChanges implements ng.IOnChangesObject, ILocationBindings {\n        [key: string]: any;\n\n        pipLocationName: ng.IChangesObject < string > ;\n        pipLocationPos: ng.IChangesObject < any > ;\n        pipShowLocationIcon: ng.IChangesObject < boolean > ;\n        pipCollapse: ng.IChangesObject < boolean > ;\n        pipRebind: ng.IChangesObject < boolean > ;\n        pipDisabled: ng.IChangesObject < boolean > ;\n\n        pipLocationResize: any;\n    }\n\n    class LocationController implements ng.IController, ILocationBindings {\n        public pipLocationName: string;\n        public pipLocationPos: any;\n        public pipShowLocationIcon: boolean;\n        public pipCollapse: boolean;\n        public pipRebind: boolean;\n        public pipDisabled: boolean;\n        public showMap: boolean = true;\n        public pipLocationResize: Function;\n\n        private name: JQuery;\n        private mapContainer: JQuery;\n        private mapControl: JQuery;\n\n        constructor(\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $scope: ng.IScope\n        ) {\n            \"ngInject\";\n            // Add class\n            $element.addClass('pip-location');\n        }\n\n        public $postLink() {\n            this.$timeout(() => {\n                this.name = this.$element.find('.pip-location-name');\n                this.mapContainer = this.$element.find('.pip-location-container');\n\n                if (this.pipCollapse === true) {\n                    this.mapContainer.hide();\n                    this.showMap = false;\n\n                    // Process user click\n                    this.name.click((event) => {\n                        event.stopPropagation();\n                        if (this.pipDisabled) return;\n                        this.showMap = !this.showMap;\n                        this.mapContainer[this.showMap ? 'show' : 'hide']();\n                        if (this.showMap) this.generateMap();\n                        if (!this.$scope.$$phase) this.$scope.$apply();\n                    });\n                }\n\n                this.redrawMap();\n            });\n        }\n\n        private redrawMap() {\n            if (!this.mapContainer) return;\n\n            // Visualize map\n            if (this.pipLocationPos && this.showMap === true) {\n                this.generateMap();\n            } else {\n                this.clearMap();\n            }\n        }\n\n        public $onChanges(changes: LocationBindingsChanges) {\n            this.pipRebind = changes.pipRebind \n                ? changes.pipRebind.currentValue || false : false;\n            this.pipShowLocationIcon = changes.pipShowLocationIcon \n                ? changes.pipShowLocationIcon.currentValue || false : false;\n            this.pipCollapse = changes.pipCollapse \n                ? changes.pipCollapse.currentValue || false : false;\n            this.pipDisabled = changes.pipDisabled \n                ? changes.pipDisabled.currentValue || false : false;\n\n            if (this.pipRebind) {\n                this.pipLocationName = changes.pipLocationName \n                    ? changes.pipLocationName.currentValue : null;\n                this.pipLocationPos = changes.pipLocationPos \n                    ? changes.pipLocationPos.currentValue : null;\n                this.redrawMap();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n            this.mapContainer.hide();\n        }\n\n        private generateMap() {\n            const location = this.pipLocationPos;\n\n            // Safeguard for bad coordinates\n            if (this.showMap === false \n                || location == null \n                || location.coordinates == null \n                || location.coordinates.length < 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            const coordinates = new google.maps.LatLng(\n                location.coordinates[0],\n                location.coordinates[1]\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapContainer.show();\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const\n                mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\n\n            new google.maps.Marker({\n                position: coordinates,\n                map: map\n            });\n        };\n    }\n\n    const LocationComponent: ng.IComponentOptions = {\n        bindings: LocationBindings,\n        templateUrl: 'location/Location.html',\n        controller: LocationController\n    }\n\n    angular\n        .module(\"pipLocation\", [])\n        .component('pipLocation', LocationComponent);\n}","import { ILocationDialogService } from './ILocationDialogService';\nimport { LocationDialogParams } from './LocationDialogParams';\n\n{\n    class LocationEditDialogController {\n        private _map = null;\n        private _marker = null;\n\n        public theme: string;\n        public locationPos;\n        public locationName;\n        public supportSet: boolean;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $timeout: angular.ITimeoutService,\n            private $mdDialog: angular.material.IDialogService,\n            locationPos: any,\n            locationName: string\n        ) {\n            this.theme = $rootScope['$theme'];\n            this.locationPos = locationPos && locationPos.type == 'Point' &&\n                locationPos.coordinates && locationPos.coordinates.length == 2 ?\n                locationPos : null;\n            this.locationName = locationName;\n            this.supportSet = navigator.geolocation != null;\n\n            // Wait until dialog is initialized\n            $timeout(() => {\n                let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n                // Calculate coordinate of the center\n                let coordinates = this.locationPos ?\n                    new google.maps.LatLng(\n                        this.locationPos.coordinates[0],\n                        this.locationPos.coordinates[1]\n                    ) : null;\n\n                // Create the map with point marker\n                const mapOptions = {\n                    center: new google.maps.LatLng(0, 0),\n                    zoom: 1,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true\n                }\n                if (coordinates != null) {\n                    mapOptions.center = coordinates;\n                    mapOptions.zoom = 12;\n                }\n\n                this._map = new google.maps.Map(mapContainer[0], mapOptions);\n                this._marker = this.createMarker(coordinates);\n\n                // Fix resizing issue\n                $timeout(() => {\n                    google.maps.event.trigger(this._map, 'resize');\n                }, 1000);\n            }, 0);\n\n            $scope.$on('pipLayoutResized', () => {\n                if (this._map == null) return;\n                google.maps.event.trigger(this._map, 'resize');\n            });\n\n        }\n\n        private createMarker(coordinates) {\n            if (this._marker) this._marker.setMap(null);\n            if (coordinates) {\n                this._marker = new google.maps.Marker({\n                    position: coordinates,\n                    map: this._map,\n                    draggable: true,\n                    animation: google.maps.Animation.DROP\n                });\n\n                let thisMarker = this._marker;\n                google.maps.event.addListener(thisMarker, 'dragend', () => {\n                    let coordinates = thisMarker.getPosition();\n                    this.changeLocation(coordinates, null);\n                });\n            } else {\n                this._marker = null;\n            }\n\n            return this._marker;\n        }\n\n        private changeLocation(coordinates, tid) {\n            this.locationPos = {\n                type: 'Point',\n                coordinates: [coordinates.lat(), coordinates.lng()]\n            };\n            this.locationName = null;\n            // Read address\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({\n                latLng: coordinates\n            }, (results, status) => {\n                // Process positive response\n                if (results && results.length > 0) {\n                    this.locationName = results[0].formatted_address;\n                }\n\n                this.$scope.$apply();\n            })\n        }\n        // Describe user actions\n        public onAddPin() {\n            if (this._map === null) return;\n\n            const coordinates = this._map.getCenter();\n            this._marker = this.createMarker(coordinates);\n            this.changeLocation(coordinates, null);\n        }\n\n        public onRemovePin() {\n            if (this._map === null) return;\n            this._marker = this.createMarker(null);\n            this.locationPos = null;\n            this.locationName = null;\n        }\n\n        public onZoomIn() {\n            if (this._map === null) return;\n            const zoom = this._map.getZoom();\n            this._map.setZoom(zoom + 1);\n        }\n\n        public onZoomOut() {\n            if (this._map === null) return;\n            const zoom = this._map.getZoom();\n            this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n        }\n\n        public onSetLocation = function () {\n            if (this._map === null) return;\n\n            navigator.geolocation.getCurrentPosition(\n                (position) => {\n                    const coordinates = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                    this._marker = this.createMarker(coordinates);\n                    this._map.setCenter(coordinates);\n                    this._map.setZoom(12);\n                    this.changeLocation(coordinates, null);\n                },\n                () => {\n                    this.$scope.$apply();\n                }, {\n                    maximumAge: 0,\n                    enableHighAccuracy: true,\n                    timeout: 5000\n                });\n        }\n\n        public onCancel(): void {\n            this.$mdDialog.cancel();\n        }\n\n        public onApply(): void {\n            this.$mdDialog.hide({\n                location: this.locationPos,\n                locationPos: this.locationPos,\n                locationName: this.locationName\n            })\n        }\n    }\n    \n    class LocationDialogService implements ILocationDialogService {\n        constructor(\n            private $mdDialog: angular.material.IDialogService\n        ) {}\n\n        public show(params: LocationDialogParams, successCallback?, cancelCallback?) {\n            this.$mdDialog.show({\n                    controller: LocationEditDialogController,\n                    controllerAs: '$ctrl',\n                    templateUrl: 'location_dialog/LocationDialog.html',\n                    locals: {\n                        locationName: params.locationName,\n                        locationPos: params.locationPos\n                    },\n                    clickOutsideToClose: true\n                })\n                .then((result) => {\n                    if (successCallback) {\n                        successCallback(result);\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    const LocationDialogRun = function($injector: ng.auto.IInjectorService) {\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            ( < any > pipTranslate).setTranslations('en', {\n                'LOCATION_ADD_LOCATION': 'Add location',\n                'LOCATION_SET_LOCATION': 'Set location',\n                'LOCATION_ADD_PIN': 'Add pin',\n                'LOCATION_REMOVE_PIN': 'Remove pin'\n            });\n            ( < any > pipTranslate).setTranslations('ru', {\n                'LOCATION_ADD_LOCATION': 'Добавить местоположение',\n                'LOCATION_SET_LOCATION': 'Определить положение',\n                'LOCATION_ADD_PIN': 'Добавить точку',\n                'LOCATION_REMOVE_PIN': 'Убрать точку'\n            });\n        }\n    }\n\n\n    angular\n        .module('pipLocationEditDialog')\n        .run(LocationDialogRun)\n        .service('pipLocationEditDialog', LocationDialogService);\n}","export class LocationDialogParams {\n    // Locations position\n    locationPos: any;\n    // Location name\n    locationName: string;\n}","angular.module('pipLocationEditDialog', ['ngMaterial', 'pipLocations.Templates']);\n\nimport './LocationDialog'","import { ILocationDialogService } from '../location_dialog/ILocationDialogService';\n\n{\n    interface ILocationEditBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipLocationHolder: any;\n        ngDisabled: any;\n        pipChanged: any;\n    }\n\n    const LocationEditBindings: ILocationEditBindings = {\n        pipLocationName: '=',\n        pipLocationPos: '=',\n        pipLocationHolder: '=',\n        ngDisabled: '<',\n        pipChanged: '&'\n    }\n\n    class LocationEditBindingsChanges implements ng.IOnChangesObject, ILocationEditBindings {\n        [key: string]: any;\n\n        pipLocationName: any;\n        pipLocationPos: any;\n        pipLocationHolder: any;\n        pipChanged: any;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n    }\n\n    class LocationEditController implements ng.IController, ILocationEditBindings {\n        public pipLocationName: string;\n        public pipLocationPos: any;\n        public pipLocationHolder: boolean;\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n\n        private empty: JQuery;\n        private mapContainer: JQuery;\n        private mapControl: any;\n        private defineCoordinatesDebounced: Function;\n\n        constructor(\n            private $element: JQuery,\n            private $scope: ng.IScope,\n            private pipLocationEditDialog: ILocationDialogService\n        ) {\n            this.defineCoordinatesDebounced = _.debounce(() => {\n                this.defineCoordinates\n            }, 2000);\n        }\n\n        public $postLink() {\n            this.$element.find('md-input-container').attr('md-no-float', (!!this.pipLocationHolder).toString());\n            // Set containers\n            this.empty = this.$element.children('.pip-location-empty');\n            this.mapContainer = this.$element.children('.pip-location-container');\n            this.mapControl = null;\n\n            // Add watchers\n            this.$scope.$watch('$ctrl.pipLocationName',\n                (newValue, oldValue) => {\n                    if (newValue !== oldValue) {\n                        this.defineCoordinatesDebounced();\n                    }\n                }\n            );\n            this.$scope.$watch('$ctrl.pipLocationPos',\n                () => {\n                    this.generateMap();\n                }\n            );\n\n            // Add class\n            this.$element.addClass('pip-location-edit');\n\n            // Visualize map\n            if (this.pipLocationPos) {\n                this.generateMap();\n            } else {\n                this.clearMap();\n            }\n        }\n\n        public $onChanges(changes: LocationEditBindingsChanges) {\n            this.ngDisabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false; \n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n\n            // Toggle control visibility\n            this.mapContainer.hide();\n            this.empty.show();\n        }\n\n        private generateMap() {\n            // Safeguard for bad coordinates\n            const location = this.pipLocationPos;\n            if (location == null || location.coordinates == null || location.coordinates.length < 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            const coordinates = new google.maps.LatLng(\n                location.coordinates[0],\n                location.coordinates[1]\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n\n            // Toggle control visibility\n            this.mapContainer.show();\n            this.empty.hide();\n\n            // Add a new map\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\n                marker = new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n        }\n\n        private defineCoordinates() {\n            const locationName = this.pipLocationName;\n\n            if (locationName == '') {\n                this.pipLocationPos = null;\n                this.clearMap();\n                this.$scope.$apply();\n                return;\n            }\n\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({\n                address: locationName\n            }, function (results, status) {\n                this.$scope.$apply(function () {\n                    // Process response\n                    if (status === google.maps.GeocoderStatus.OK) {\n                        // Check for empty results\n                        if (results === null || results.length === 0) {\n                            this.pipLocationPos = null;\n                            this.clearMap();\n                            return;\n                        }\n\n                        const geometry = results[0].geometry || {},\n                            location = geometry.location || {};\n\n                        // Check for empty results again\n                        if (location.lat === null || location.lng === null) {\n                            this.pipLocationPos = null;\n                            this.clearMap();\n                            return;\n                        }\n\n                        this.pipLocationPos = {\n                            type: 'Point',\n                            coordinates: {\n                                latitude: location.lat(),\n                                longtitude: location.lng()\n                            }\n                        };\n                        this.generateMap();\n                    }\n                    else {\n                        this.pipLocationPos = null;\n                        this.clearMap();\n                    }\n                });\n            });\n        };\n\n        public onSetLocation() {\n            if (this.ngDisabled) return;\n\n            this.pipLocationEditDialog.show({\n                    locationName: this.pipLocationName,\n                    locationPos: this.pipLocationPos\n                },\n                (result) => {\n                    const\n                        location = result.location,\n                        locationName = result.locationName;\n\n                    // Do not change anything if location is about the same\n                    if (this.pipLocationPos && this.pipLocationPos.type == 'Point' &&\n                        this.pipLocationPos.coordinates.length == 2 &&\n                        location && location.coordinates.length == 2 &&\n                        (this.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001 &&\n                        (this.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001 &&\n                        (locationName === this.pipLocationName)) {\n                        return;\n                    }\n\n                    this.pipLocationPos = location;\n                    this.pipLocationName = locationName;\n\n                    if (locationName === null && location !== null) {\n                        this.pipLocationName =\n                            '(' + result.location.coordinates[0] +\n                            ',' + result.location.coordinates[1] + ')';\n                    }\n                    this.pipChanged();\n                    this.mapContainer[0].focus();\n                }\n            );\n        };\n\n        public onMapClick($event) {\n            if (this.ngDisabled) return;\n\n            this.mapContainer[0].focus();\n            this.onSetLocation();\n            //$event.stopPropagation();\n        };\n\n        public onMapKeyPress($event) {\n            if (this.ngDisabled) return;\n\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\n                this.onSetLocation();\n                //$event.stopPropagation();\n            }\n        };\n    }\n\n    const LocationEdit: ng.IComponentOptions = {\n        bindings: LocationEditBindings,\n        templateUrl: 'location_edit/LocationEdit.html',\n        controller: LocationEditController\n    }\n\n    angular\n        .module(\"pipLocationEdit\", ['pipLocationEditDialog'])\n        .component('pipLocationEdit', LocationEdit);\n\n}","declare let google: any;\n\n{\n    interface ILocationIpBindings {\n        [key: string]: any;\n\n        pipIpaddress: any;\n        pipExtraInfo: any;\n        pipRebind: any;\n    }\n\n    const LocationIpBindings: ILocationIpBindings = {\n        pipIpaddress: '<',\n        pipExtraInfo: '&',\n        pipRebind: '<'\n    }\n\n    interface IIpResponseInfo {\n        city: string;\n        regionCode: string | number;\n        regionName: string;\n        zipCode: string | number;\n        countryCode: string | number;\n        countryName: string;\n        latitude: string | number;\n        longitude: string | number;\n    }\n\n    class LocationIpBindingsChanges implements ng.IOnChangesObject, ILocationIpBindings {\n        [key: string]: any;\n\n        pipExtraInfo: any;\n\n        pipIpaddress: ng.IChangesObject < string > ;\n        pipRebind: ng.IChangesObject < boolean >\n    }\n\n    class LocationIpController implements ng.IController, ILocationIpBindings {\n        private mapContainer: JQuery;\n        private mapControl: any;\n\n        public pipExtraInfo: any;\n        public pipIpaddress: string;\n        public pipRebind: boolean;\n\n        constructor(\n            $element: JQuery,\n            private $http: ng.IHttpService\n        ) {\n            this.mapContainer = $element.children('.pip-location-container');\n            $element.addClass('pip-location-ip');\n            this.defineCoordinates();\n        }\n\n        public $onChanges(changes: LocationIpBindingsChanges) {\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\n\n            if (this.pipRebind === true) {\n                this.pipIpaddress = changes.pipIpaddress ? changes.pipIpaddress.currentValue : this.pipIpaddress;\n                this.defineCoordinates();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n        }\n\n        private generateMap(latitude, longitude) {\n            // Safeguard for bad coordinates\n            if (latitude == null || longitude == null) {\n                this.clearMap();\n                return;\n            }\n\n            // Determine map coordinates\n            var coordinates = new google.maps.LatLng(\n                latitude,\n                longitude\n            );\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map with point marker\n            const\n                mapOptions = {\n                    center: coordinates,\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: false,\n                    draggable: false\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\n\n            new google.maps.Marker({\n                position: coordinates,\n                map: map\n            });\n        }\n\n        private defineCoordinates() {\n            const ipAddress = this.pipIpaddress;\n\n            if (ipAddress == '') {\n                this.clearMap();\n                return;\n            }\n\n            this.$http.get('https://freegeoip.net/json/' + ipAddress)\n                .success((response: IIpResponseInfo) => {\n                    if (response != null &&\n                        response.latitude != null &&\n                        response.longitude != null) {\n\n                        this.generateMap(response.latitude, response.longitude);\n\n                        if (this.pipExtraInfo) {\n                            const extraInfo = {\n                                city: response.city,\n                                regionCode: response.regionCode,\n                                region: response.regionName,\n                                zipCode: response.zipCode,\n                                countryCode: response.countryCode,\n                                country: response.countryName\n                            };\n                            this.pipExtraInfo({\n                                extraInfo: extraInfo\n                            });\n                        }\n                    } else {\n                        this.clearMap();\n                    }\n                })\n                .error((response) => {\n                    this.clearMap();\n                });\n        }\n    }\n\n    const LocationIp: ng.IComponentOptions = {\n        bindings: LocationIpBindings,\n        template: '<div class=\"pip-location-container\"></div>',\n        controller: LocationIpController\n    }\n\n    angular\n        .module(\"pipLocationIp\", [])\n        .component('pipLocationIp', LocationIp);\n}","{\n\n    interface ILocationMapBindings {\n        [key: string]: any;\n\n        pipLocationPos: any;\n        pipIconPath: any;\n        pipInteractive: any;\n        pipStretch: any;\n        pipRebind: any;\n    }\n\n    const LocationMapBindings: ILocationMapBindings = {\n        pipLocationPos: '<',\n        pipIconPath: '<',\n        pipInteractive: '<',\n        pipStretch: '<',\n        pipRebind: '<'\n    }\n\n    class LocationMapBindingsChanges implements ng.IOnChangesObject, ILocationMapBindings {\n        [key: string]: any;\n\n        pipLocationPos: ng.IChangesObject<any>;\n        pipIconPath: ng.IChangesObject<string>;\n        pipInteractive: ng.IChangesObject<boolean>;\n        pipStretch: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class LocationMapController implements ng.IController, ILocationMapBindings {\n        public pipLocationPos: any;\n        public pipIconPath: string;\n        public pipInteractive: boolean;\n        public pipStretch: boolean;\n        public pipRebind: boolean;\n\n        private mapContainer: JQuery;\n        private mapControl: any = null;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            this.mapContainer = $element.children('.pip-location-container');\n            $element.addClass('pip-location-map');\n        }\n\n        public $onChanges(changes: LocationMapBindingsChanges) {\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\n            this.pipInteractive = changes.pipInteractive ? changes.pipInteractive.currentValue || false : false;\n            this.pipStretch = changes.pipStretch ? changes.pipStretch.currentValue || false : false;\n\n            if (this.pipStretch === true)  {\n                this.mapContainer.addClass('stretch');\n            } else {\n                this.mapContainer.removeClass('stretch');\n            }\n\n            if (this.pipRebind === true) {\n                this.pipLocationPos = changes.pipLocationPos ? changes.pipLocationPos.currentValue : this.pipLocationPos;\n                this.pipIconPath = changes.pipIconPath ? changes.pipIconPath.currentValue : this.pipIconPath;\n\n                this.generateMap();\n            }\n        }\n\n        private clearMap() {\n            // Remove map control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = null;\n        }\n\n        private checkLocation(loc) {\n            return !(loc == null || loc.coordinates == null || loc.coordinates.length < 0);\n        }\n\n        private determineCoordinates(loc) {\n            const point = new google.maps.LatLng(\n                loc.coordinates[0],\n                loc.coordinates[1]\n            );\n\n            point.fill = loc.fill;\n            point.stroke = loc.stroke;\n\n            return point;\n        }\n\n        private generateMap() {\n            const locations = this.pipLocationPos,\n                points = [],\n                interactive = this.pipInteractive || false;\n\n            // Safeguard for bad coordinates\n            if (this.checkLocation(locations) && !_.isArray(locations)) {\n                points.push(this.determineCoordinates(locations));\n            } else {\n                if (locations && _.isArray(locations) && locations.length > 0) {\n                    _.each(locations, (loc) => {\n                        if (this.checkLocation(loc)) {\n                            points.push(this.determineCoordinates(loc));\n                        }\n                    });\n                }\n            }\n\n            if (points.length === 0) {\n                this.clearMap();\n                return;\n            }\n\n            // Clean up the control\n            if (this.mapControl) this.mapControl.remove();\n            this.mapControl = $('<div></div>');\n            this.mapControl.appendTo(this.mapContainer);\n\n            // Create the map\n            const mapOptions = {\n                    center: points[0],\n                    zoom: 12,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true,\n                    disableDoubleClickZoom: true,\n                    scrollwheel: interactive,\n                    draggable: interactive\n                },\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\n                bounds = new google.maps.LatLngBounds();\n\n            // Create markers\n            _.each(points, (point) => {\n                const icon = {\n                    path: this.pipIconPath,\n                    fillColor: point.fill || '#EF5350',\n                    fillOpacity: 1,\n                    scale: 1,\n                    strokeColor: point.stroke || 'white',\n                    strokeWeight: 5\n                };\n\n                new google.maps.Marker({\n                    position: point,\n                    map: map,\n                    icon: this.pipIconPath ? icon : null\n                });\n                bounds.extend(point);\n            });\n\n            // Auto-config of zoom and center\n            if (points.length > 1) map.fitBounds(bounds);\n        }\n    }\n\n    const LocationMap: ng.IComponentOptions = {\n        bindings: LocationMapBindings,\n        template: '<div class=\"pip-location-container\"></div>',\n        controller: LocationMapController\n    }\n\n    angular\n        .module(\"pipLocationMap\", [])\n        .component('pipLocationMap', LocationMap);\n}","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location/Location.html',\n    '<div class=\"pip-location-name location-collapse\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"!$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text\">{{$ctrl.pipLocationName}}</span></div><md-button class=\"pip-location-name\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text flex\">{{$ctrl.pipLocationName}}</span><md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-show=\"!$ctrl.showMap\"></md-icon><md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-show=\"$ctrl.showMap\"></md-icon></div></md-button><div class=\"pip-location-container\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/LocationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_edit/LocationEdit.html',\n    '<md-input-container class=\"md-block\"><label>{{ \\'LOCATION\\' | translate }}</label> <input ng-model=\"$ctrl.pipLocationName\" ng-disabled=\"$ctrl.ngDisabled\"></md-input-container><div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\"><md-button class=\"md-raised\" ng-disabled=\"$ctrl.ngDisabled\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"LOCATION_ADD_LOCATION\"><span class=\"icon-location\"></span> {{\\'LOCATION_ADD_LOCATION\\' | translate }}</md-button></div><div class=\"pip-location-container\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-click=\"$ctrl.onMapClick($event)\" ng-keypress=\"$ctrl.onMapKeyPress($event)\"></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","export class ButtonsUpload {\n    public title: string;\n    public click: Function;\n}","import { ButtonsUpload } from \"../common/ButtonsUpload\";\n\ninterface IFileFailBindings {\n    [key: string]: any;\n\n    buttons: any,\n    name: any,\n    type: any,\n    error: any\n}\n\nconst FileFailBindings: IFileFailBindings = {\n    buttons: '<?pipButtons',\n    name: '<pipName',\n    type: '<?pipType',\n    error: '<pipError'\n}\n\nclass FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n}\n\n\ninterface IFileFailController {\n    name: string;\n    type: string;\n    error: string;\n    buttons: ButtonsUpload[];\n}\n\nclass FileFailController implements IFileFailController, IFileFailBindings {\n    public name: string;\n    public type: string;\n    public error: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n        \n        $scope.$watch('error', (error: string) => {\n            this.error = error;\n        })\n    }\n}\n\nconst fileFailComponent: ng.IComponentOptions = {\n    controller: FileFailController,\n    bindings: FileFailBindings,\n    templateUrl: 'fail/FileFail.html'\n};\n\nangular\n    .module('pipFiles.FailUpload', [])\n    .component('pipFailUpload', fileFailComponent)\n","{\n    function fileModelLink(scope, element, attrs, $parse) {\n        let model = $parse(attrs.fileModel);\n        let modelSetter = model.assign;\n                \n        element.bind('change', () => {\n            scope.$apply(() => {\n                modelSetter(scope, element[0].files[0]);\n            });\n        });\n    }\n\n    function fileModelDirective($parse: ng.IParseProvider) {\n        \"ngInject\";\n\n        return {\n            restrict: 'A',\n            link: (scope: ng.IScope, element, attrs: ng.IAttributes) => { \n                fileModelLink(scope, element, attrs, $parse) \n            }\n        };\n    }\n\n    angular\n        .module('pipFiles.Model', [])\n        .directive('fileModel', fileModelDirective)\n}","{\n\n    interface IFileSelectController {\n        localFile: any;\n        onUploadButtonClick(): void;\n        onDeleteButtonClick(): void;\n    }\n\n    interface IFileSelectBindings {\n        [key: string]: any;\n\n        localFile: any,\n        change: any\n    }\n\n    const FileSelectBindings: IFileSelectBindings = {\n        localFile: '<pipLocalFile',\n        change: '<pipChange'\n    }\n\n    class FileSelectController implements IFileSelectController {\n        public localFile: any;\n        public change: Function;\n\n        constructor($scope: ng.IScope) {\n            \"ngInject\";\n            $scope.$watch('$ctrl.localFile', (item) => {\n                if (this.change) {\n                    this.change(this.localFile);\n                }\n            })\n        }\n\n        public onUploadButtonClick(): void {\n            $('#inp_file').click();\n        }\n\n        public onDeleteButtonClick(): void {\n            this.localFile = null;\n            let forml = document.getElementById('inp_form');\n            (<any>forml).reset();\n\n        }\n    }\n\n    const fileSelectDirective = {\n        restrict: 'E',\n        replace: true,\n        bindings: FileSelectBindings,\n        controller: FileSelectController,\n        templateUrl: 'select/FileSelect.html'\n    }\n\n    angular\n        .module('pipFiles.Select', [])\n        .component('pipFileSelect', fileSelectDirective)\n\n}\n","import { FileUploadState } from './FileUploadState';\nimport { IFileUploadService } from './IFileUploadService';\n\nclass FileUploadService implements IFileUploadService {\n\n    public constructor(private $http: ng.IHttpService) {\n        \"ngInject\";\n    }\n\n    public upload(file: any, url: string,\n        resultCallback?: (data: any, err: any) => void,\n        progressCallback?: (state: FileUploadState, progress: number) => void\n    ): void {\n\n        let fd: FormData = new FormData();\n        fd.append('file', file);\n\n        if (progressCallback)\n            progressCallback(FileUploadState.Uploading, 0);\n\n        this.$http.post(url, fd, <any>{\n            uploadEventHandlers: {\n                progress: (e: any) => {\n                    if (e.lengthComputable && progressCallback) {\n                        progressCallback(FileUploadState.Uploading, (e.loaded / e.total) * 100);\n                    }\n                }\n            },\n            headers: { 'Content-Type': undefined }\n        })\n        .success((response: any) => {\n            if (progressCallback)\n                progressCallback(FileUploadState.Completed, 100);\n\n            if (resultCallback)\n                resultCallback(response, null);\n        })\n        .error((response: any) => {\n            if (progressCallback)\n                progressCallback(FileUploadState.Failed, 0);\n\n            if (resultCallback)\n                resultCallback(null, response.Error || response);\n        });\n    }\n}\n\nangular\n    .module('pipFiles.Service', [])\n    .service('pipFileUpload', FileUploadService);\n","export enum FileUploadState {\n    Uploading,\n    Completed,\n    Failed\n}","import { ButtonsUpload } from \"../common/ButtonsUpload\";\n\ninterface IFileStartBindings {\n    [key: string]: any;\n\n    type: any\n    buttons: any,\n    name: any,\n    progress: any\n}\n\nconst FileStartBindings: IFileStartBindings = {\n    buttons: '<?pipButtons',\n    name: '<pipName',\n    type: '<?pipType',\n    progress: '<?pipProgress'\n};\n\n\nclass FileStartChanges implements ng.IOnChangesObject, IFileStartBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\n    name: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n    progress: ng.IChangesObject<number>;\n}\n\n\ninterface IFileStartController {\n    name: string;\n    type: string;\n    progress: number;\n    buttons: ButtonsUpload[];\n}\n\nclass FileStartController implements IFileStartController {\n    public name: string;\n    public progress: number = 0;\n    public type: string;\n    public buttons: ButtonsUpload[];\n\n    constructor() { }\n\n    public $onChanges(changes: FileStartChanges) {\n        if (changes.progress) {\n            this.progress = changes.progress.currentValue;\n        }\n\n    }\n\n}\n\nconst fileStartDirective = {\n    controller: FileStartController,\n    bindings: FileStartBindings,\n    templateUrl: 'start/FileStart.html'\n};\n\nangular\n    .module('pipFiles.StartUpload', [])\n    .component('pipStartUpload', fileStartDirective)\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\n\ninterface IFileSuccessBindings {\n    [key: string]: any;\n\n    type: any\n    buttons: any,\n    name: any\n}\n\nconst FileSuccessBindings: IFileSuccessBindings = {\n    buttons: '=?pipButtons',\n    name: '=pipName',\n    type: '=?pipType',\n}\n\ninterface IFileSuccessController {\n    name: string;\n    type: string;\n    buttons: ButtonsUpload[];\n}\n\nclass FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\n    public name: string;\n    public type: string = 'file';\n    public buttons: ButtonsUpload[];\n\n    constructor() {}\n\n    public $onChanges(changes) {}\n}\n\nconst fileSuccessDirective = {\n    restrict: 'E',\n    replace: true,\n    controller: FileSuccessController,\n    controllerAs: 'vm',\n    bindings: FileSuccessBindings,\n    templateUrl: 'success/FileSuccess.html'\n}\n\n\nangular\n    .module('pipFiles.SuccessUpload', [])\n    .component('pipSuccesUpload', fileSuccessDirective)\n","import { IFileUploadService } from \"../service/IFileUploadService\";\nimport { ButtonsUpload } from \"../common/ButtonsUpload\";\n\nclass FileUploadButtons {\n    retry: Function;\n    cancel: Function;\n    abort: Function;\n}\n\ninterface IFileUploadController {\n    name: string;\n    type: string;\n    state: string;\n    progress: number;\n    onCancel(): void;\n    onRetry(): void;\n    onAbort(): void;\n}\n\ninterface IFileUploadBindings {\n    [key: string]: any;\n\n    buttonFunction: any,\n    buttons: any,\n    error: any,\n    name: any,\n    state: any,\n    type: any,\n    progress: any\n}\n\nconst FileUploadBindings: IFileUploadBindings = {\n    buttonFunction: '<?pipButtonFunctions',\n    buttons: '<?pipButtons',\n    error: '<?pipError',\n    name: '<pipName',\n    state: '<pipState',\n    type: '<?pipType',\n    progress: '<pipProgress'\n}\n\nclass FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\n    buttons: ng.IChangesObject<boolean>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    state: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n    progress: ng.IChangesObject<number>;\n}\n\n\nclass FileUploadController implements IFileUploadController, IFileUploadBindings {\n    public buttonFunction: FileUploadButtons;\n    public uploadButtons: ButtonsUpload[];\n    public failButtons: ButtonsUpload[];\n    public startButtons: ButtonsUpload[];\n\n    public name: string;\n    public type: string;\n    public state: string;\n    public progress: number;\n    public buttons: boolean;\n    public error: string = null;\n\n    constructor($scope: ng.IScope) { }\n\n    public $onInit() {\n        if (this.buttons) {\n            this.uploadButtons = [];\n            this.failButtons = [\n                { title: 'Cancel', click: () => { this.onCancel() } },\n                { title: 'Retry', click: () => { this.onRetry() } }\n            ];\n            this.startButtons = [\n                { title: 'Abort', click: () => { this.onAbort() } }\n            ];\n        }\n    }\n\n    public $onChanges(changes: FileUploadChanges) {\n        if (changes.state) {\n            this.state = changes.state.currentValue;\n        }\n\n        if (changes.progress) {\n            this.progress = changes.progress.currentValue;\n        }\n\n        if (changes.error) {\n            this.error = changes.error.currentValue;\n        }\n\n    }\n\n    public onCancel(): void {\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\n    }\n\n    public onRetry(): void {\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\n    }\n\n    public onAbort() {\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\n    }\n\n}\n\nconst fileUploadDirective = {\n    controller: FileUploadController,\n    bindings: FileUploadBindings,\n    templateUrl: 'upload/FileUpload.html'\n};\n\n\nangular\n    .module('pipFiles.FileUpload', [])\n    .component('pipFileUpload', fileUploadDirective)\n","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{$ctrl.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div class=\"color-error pip-error\">{{$ctrl.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"$ctrl.localFile\" id=\"inp_file\" ng-model=\"$ctrl.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"$ctrl.onUploadButtonClick()\" ng-if=\"!$ctrl.localFile\">Choose File</md-button><div ng-if=\"$ctrl.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{$ctrl.localFile.name}}</div><div ng-if=\"$ctrl.localFile.size\" class=\"color-secondary-text\">{{$ctrl.localFile.size}}</div></div><md-button ng-click=\"$ctrl.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::$ctrl.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{$ctrl.progress}}\" ng-if=\"$ctrl.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"$ctrl.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in $ctrl.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == 2\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == 0\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n","export class AddTileDialog {\n    title: string;\n    icon: string;\n    name: string;\n    amount: number;\n}\n\nexport class AddTileDialogController implements ng.IController {\n    public defaultTiles: [AddTileDialog[]];\n    public groups: any;\n    public totalTiles: number = 0;\n\n    constructor(\n        groups: any,\n        public activeGroupIndex: number,\n        widgetList: [AddTileDialog[]],\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\n        this.defaultTiles = _.cloneDeep(widgetList);\n        this.groups = _.map(groups, function (group) {\n            return group['title'];\n        });\n    }\n\n    public add() {\n        this.$mdDialog.hide({\n            groupIndex: this.activeGroupIndex,\n            widgets: this.defaultTiles\n        });\n    };\n\n    public cancel() {\n        this.$mdDialog.cancel();\n    };\n\n    public encrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\n        widget.amount++;\n        this.totalTiles++;\n    };\n\n    public decrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\n        widget.amount = widget.amount ? widget.amount - 1 : 0;\n        this.totalTiles = this.totalTiles ? this.totalTiles - 1 : 0;\n    };\n}","import {\n  AddTileDialog,\n  AddTileDialogController\n} from './AddTileDialogController';\n\nexport interface IAddTileDialogService {\n  show(groups, activeGroupIndex): angular.IPromise < any > ;\n}\n\nexport interface IAddTileDialogprovider {\n  configWidgetList(list: [AddTileDialog[]]): void;\n}\n\n{\n  const setTranslations = function($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      (<any>pipTranslate).setTranslations('en', {\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Add component',\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount',\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Create new group'\n      });\n      (<any>pipTranslate).setTranslations('ru', {\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Добавить компонент',\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Используйте \"Enter\" или \"+\" клавиши на клавиатуре чтобы увеличить и \"Delete\" or \"-\" чтобы уменшить количество тайлов',\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Создать новую группу'\n      });\n    }\n  }\n\n  class AddTileDialogService implements IAddTileDialogService {\n    public constructor(\n      private widgetList: [AddTileDialog[]],\n      private $mdDialog: angular.material.IDialogService\n    ) {}\n\n    public show(groups, activeGroupIndex) {\n      return this.$mdDialog\n        .show({\n          templateUrl: 'add_tile_dialog/AddTile.html',\n          bindToController: true,\n          controller: AddTileDialogController,\n          controllerAs: 'dialogCtrl',\n          clickOutsideToClose: true,\n          resolve: {\n            groups: () => {\n              return groups;\n            },\n            activeGroupIndex: () => {\n              return activeGroupIndex;\n            },\n            widgetList: () => {\n              return (<any>this.widgetList);\n            }\n          }\n        });\n    };\n  }\n\n  class AddTileDialogProvider implements IAddTileDialogprovider {\n    private _service: AddTileDialogService;\n    private _widgetList: [AddTileDialog[]] = null;\n\n    constructor() {}\n\n    public configWidgetList = function (list: [AddTileDialog[]]) {\n      this._widgetList = list;\n    };\n\n    public $get($mdDialog: angular.material.IDialogService) {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new AddTileDialogService(this._widgetList, $mdDialog);\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipAddDashboardTileDialog')\n    .config(setTranslations)\n    .provider('pipAddTileDialog', AddTileDialogProvider);\n}","angular\n    .module('pipAddDashboardTileDialog', ['ngMaterial']);\n\nimport './AddTileDialogController';\nimport './AddTileProvider';","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n\n{\n  class CalendarTileController extends MenuTileService {\n    constructor(\n      private pipTileConfigDialogService: ITileConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n        this.menu.push({\n          title: 'Configurate',\n          click: () => {\n            this.onConfigClick();\n          }\n        });\n        this.options.date = this.options.date || new Date();\n        this.color = this.options.color || 'blue';\n      }\n    }\n\n    private onConfigClick() {\n      this.pipTileConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          date: this.options.date,\n        },\n        extensionUrl: 'calendar_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n      });\n    }\n\n  }\n\n  const CalendarTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions',\n    },\n    controller: CalendarTileController,\n    templateUrl: 'calendar_tile/CalendarTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipCalendarTile', CalendarTile);\n\n}","export interface IDashboardTile {\n    options: any;\n    color: string;\n    size: Object | string | number;\n}\n\nexport class DashboardTile implements IDashboardTile {\n    public options: any;\n    public color: string;\n    public size: Object | string | number;\n\n    constructor() { }\n}","\nclass TileColors {\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\n}\n\nclass TileSizes {\n    static all: any = [{\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL',\n            id: '11'\n        },\n        {\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE',\n            id: '21'\n        },\n        {\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE',\n            id: '22'\n        }\n    ];\n}\n\nexport class TileConfigDialogController {\n    public colors: string[] = TileColors.all;\n    public sizes: any = TileSizes.all;\n    public sizeId: string = TileSizes.all[0].id;\n    public onCancel: Function;\n\n    constructor(\n        public params,\n        public extensionUrl,\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        \"ngInject\";\n\n        angular.extend(this, this.params);\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\n\n        this.onCancel = () => {\n            this.$mdDialog.cancel();\n        }\n    }\n\n    public onApply(updatedData) {\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\n        this.$mdDialog.hide(updatedData);\n    }\n}","{    \n    interface ITileConfigExtendComponentBindings {\n        [key: string]: any;\n\n        pipExtensionUrl: any;\n        pipDialogScope: any;\n        pipApply: any;\n    }\n\n    const TileConfigExtendComponentBindings: ITileConfigExtendComponentBindings = {\n        pipExtensionUrl: '<',\n        pipDialogScope: '<',\n        pipApply: '&'\n    }\n\n    class TileConfigExtendComponentChanges implements ng.IOnChangesObject, ITileConfigExtendComponentBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipExtensionUrl: ng.IChangesObject<string>;\n        pipDialogScope: ng.IChangesObject<ng.IScope>;\n\n        pipApply: ng.IChangesObject<({updatedData: any}) => ng.IPromise<void>>;\n    }\n\n    interface ITileConfigExtendComponentAttributes extends ng.IAttributes {\n        pipExtensionUrl: string\n    }\n\n    class TileConfigExtendComponentController implements ITileConfigExtendComponentBindings {\n        public pipExtensionUrl: string;\n        public pipDialogScope: ng.IScope;\n        public pipApply: (param: {updatedData: any}) => ng.IPromise<void>;\n\n        constructor(\n            private $templateRequest: angular.ITemplateRequestService,\n            private $compile: angular.ICompileService,\n            private $scope: angular.IScope, \n            private $element: JQuery, \n            private $attrs: ITileConfigExtendComponentAttributes\n        ) { }\n\n        public $onChanges(changes: TileConfigExtendComponentChanges) {\n            if (changes.pipDialogScope) {\n                delete changes.pipDialogScope.currentValue['$scope'];\n                angular.extend(this, changes.pipDialogScope.currentValue);\n            }\n            if (changes.pipExtensionUrl && changes.pipExtensionUrl.currentValue) {\n                this.$templateRequest(changes.pipExtensionUrl.currentValue, false).then((html) => {\n                    this.$element.find('pip-extension-point').replaceWith(this.$compile(html)(this.$scope));\n                });\n            }\n        }\n\n        public onApply() {\n            this.pipApply({updatedData: this});\n        }\n    }\n\n    const pipTileConfigComponent: ng.IComponentOptions = {\n        templateUrl: 'config_tile_dialog/ConfigDialogExtendComponent.html',\n        controller: TileConfigExtendComponentController,\n        bindings: TileConfigExtendComponentBindings\n    }\n\n    angular\n        .module('pipConfigDashboardTileDialog')\n        .component('pipTileConfigExtendComponent', pipTileConfigComponent);\n}","import { TileConfigDialogController } from './ConfigDialogController';\n\nexport interface ITileConfigService {\n    show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void): any;\n}\n\nexport interface ITileConfigDialogOptions extends angular.material.IDialogOptions {\n    dialogClass?: string;\n    extensionUrl?: string;\n    event?: any;\n}\n\n{\n    const setTranslations = function($injector: ng.auto.IInjectorService) {\n        const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n        if (pipTranslate) {\n            ( < any > pipTranslate).setTranslations('en', {\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Edit tile',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Small',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Wide',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Large'\n            });\n            ( < any > pipTranslate).setTranslations('ru', {\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Изменить виджет',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Мален.',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Широкий',\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Большой'\n            });\n        }\n    }\n\n    class TileConfigDialogService {\n        public constructor(\n            public $mdDialog: angular.material.IDialogService\n        ) {}\n\n        public show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: params.templateUrl || 'dialogs/tile_config/ConfigDialog.html',\n                    controller: TileConfigDialogController,\n                    bindToController: true,\n                    controllerAs: 'vm',\n                    locals: {\n                        extensionUrl: params.extensionUrl,\n                        params: params.locals\n                    },\n                    clickOutsideToClose: true\n                })\n                .then((key) => {\n                    if (successCallback) {\n                        successCallback(key);\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    angular\n        .module('pipConfigDashboardTileDialog')\n        .config(setTranslations)\n        .service('pipTileConfigDialogService', TileConfigDialogService);\n}","\nangular\n    .module('pipConfigDashboardTileDialog', ['ngMaterial']);\n\nimport './ConfigDialogController';\nimport './ConfigDialogService';\nimport './ConfigDialogExtendComponent';","import {\n  ITileTemplateService\n} from '../utility/TileTemplateUtility';\nimport {\n  IAddTileDialogService,\n  IAddTileDialogprovider\n} from '../add_tile_dialog/AddTileProvider'\n\n{\n  const setTranslations = function ($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      ( < any > pipTranslate).setTranslations('en', {\n        DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\n      });\n      ( < any > pipTranslate).setTranslations('ru', {\n        DROP_TO_CREATE_NEW_GROUP: 'Перетащите сюда для создания новой группы'\n      });\n    }\n  }\n\n  const configureAvailableWidgets = function (pipAddTileDialogProvider: IAddTileDialogprovider) {\n    pipAddTileDialogProvider.configWidgetList([\n      [{\n          title: 'Event',\n          icon: 'document',\n          name: 'event',\n          amount: 0\n        },\n        {\n          title: 'Position',\n          icon: 'location',\n          name: 'position',\n          amount: 0\n        }\n      ],\n      [{\n          title: 'Calendar',\n          icon: 'date',\n          name: 'calendar',\n          amount: 0\n        },\n        {\n          title: 'Sticky Notes',\n          icon: 'note-take',\n          name: 'notes',\n          amount: 0\n        },\n        {\n          title: 'Statistics',\n          icon: 'tr-statistics',\n          name: 'statistics',\n          amount: 0\n        }\n      ]\n    ]);\n  }\n\n  class draggableOptions {\n    tileWidth: number;\n    tileHeight: number;\n    gutter: number;\n    inline: boolean;\n  }\n\n  const DEFAULT_GRID_OPTIONS: draggableOptions = {\n    tileWidth: 150, // 'px'\n    tileHeight: 150, // 'px'\n    gutter: 10, // 'px'\n    inline: false\n  };\n\n  interface DashboardBindings {\n      gridOptions: any;\n      groupAdditionalActions: any;\n      groupedWidgets: any;\n  }\n\n  class DashboardController implements ng.IController, DashboardBindings {\n    private defaultGroupMenuActions: any = [{\n        title: 'Add Component',\n        callback: (groupIndex) => {\n          this.addComponent(groupIndex);\n        }\n      },\n      {\n        title: 'Remove',\n        callback: (groupIndex) => {\n          this.removeGroup(groupIndex);\n        }\n      },\n      {\n        title: 'Configurate',\n        callback: (groupIndex) => {\n          console.log('configurate group with index:', groupIndex);\n        }\n      }\n    ];\n    private _includeTpl: string = '<pip-{{ type }}-tile group=\"groupIndex\" index=\"index\"' +\n      'pip-options=\"$parent.$ctrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\n      '</pip-{{ type }}-tile>';\n\n    public groupedWidgets: any;\n    public draggableGridOptions: draggableOptions;\n    public widgetsTemplates: any;\n    public groupMenuActions: any = this.defaultGroupMenuActions;\n    public widgetsContext: any;\n    public gridOptions: any;\n    public groupAdditionalActions: any;\n\n    constructor(\n      $scope: angular.IScope,\n      private $rootScope: angular.IRootScopeService,\n      private $attrs: any,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private $interpolate: angular.IInterpolateService,\n      private pipAddTileDialog: IAddTileDialogService,\n      private pipTileTemplate: ITileTemplateService\n    ) {\n      // Add class to style scroll bar\n      $element.addClass('pip-scroll');\n\n      // Set tiles grid options\n      this.draggableGridOptions = this.gridOptions || DEFAULT_GRID_OPTIONS;\n\n      // Switch inline displaying\n      if (this.draggableGridOptions.inline === true) {\n        $element.addClass('inline-grid');\n      }\n      // Extend group's menu actions\n      if (this.groupAdditionalActions) angular.extend(this.groupMenuActions, this.groupAdditionalActions);\n\n      // Compile widgets\n      this.widgetsContext = $scope;\n      this.compileWidgets();\n\n      this.$timeout(() => {\n        this.$element.addClass('visible');\n      }, 700);\n    }\n\n    private compileWidgets() {\n      _.each(this.groupedWidgets, (group, groupIndex) => {\n        group.removedWidgets = group.removedWidgets || [],\n          group.source = group.source.map((widget, index) => {\n            // Establish default props\n            widget.size = widget.size || {\n              colSpan: 1,\n              rowSpan: 1\n            };\n            widget.index = index;\n            widget.groupIndex = groupIndex;\n            widget.menu = widget.menu || {};\n            angular.extend(widget.menu, [{\n              title: 'Remove',\n              click: (item, params, object) => {\n                this.removeWidget(item, params, object);\n              }\n            }]);\n\n            return {\n              opts: widget,\n              template: this.pipTileTemplate.getTemplate(widget, this._includeTpl)\n            };\n          })\n      });\n    }\n\n    public addComponent(groupIndex) {\n      this.pipAddTileDialog\n        .show(this.groupedWidgets, groupIndex)\n        .then((data) => {\n          var activeGroup;\n\n          if (!data) {\n            return;\n          }\n\n          if (data.groupIndex !== -1) {\n            activeGroup = this.groupedWidgets[data.groupIndex];\n          } else {\n            activeGroup = {\n              title: 'New group',\n              source: []\n            };\n          }\n\n          this.addWidgets(activeGroup.source, data.widgets);\n\n          if (data.groupIndex === -1) {\n            this.groupedWidgets.push(activeGroup);\n          }\n\n          this.compileWidgets();\n        });\n    };\n\n    public removeGroup = (groupIndex) => {\n      console.log('removeGroup', groupIndex);\n      this.groupedWidgets.splice(groupIndex, 1);\n    }\n\n    private addWidgets(group, widgets) {\n      widgets.forEach((widgetGroup) => {\n        widgetGroup.forEach((widget) => {\n          if (widget.amount) {\n            Array.apply(null, Array(widget.amount)).forEach(() => {\n              group.push({\n                type: widget.name\n              });\n            });\n          }\n        });\n      });\n    }\n\n    private removeWidget(item, params, object) {\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\n      this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\n      this.$timeout(() => {\n        this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      });\n    }\n\n  }\n\n  const Dashboard: ng.IComponentOptions = {\n    bindings: {\n      gridOptions: '=pipGridOptions',\n      groupAdditionalActions: '=pipGroupActions',\n      groupedWidgets: '=pipGroups'\n    },\n    controller: DashboardController,\n    templateUrl: 'dashboard/Dashboard.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .config(configureAvailableWidgets)\n    .config(setTranslations)\n    .component('pipDashboard', Dashboard);\n\n}","declare var interact;\n\nimport {\n  DragTileService,\n  IDragTileService,\n  IDragTileConstructor\n} from './DraggableTileService';\nimport {\n  TilesGridService,\n  ITilesGridService,\n  ITilesGridConstructor\n} from '../tile_group/TileGroupService';\n\nexport const DEFAULT_TILE_WIDTH: number = 150;\nexport const DEFAULT_TILE_HEIGHT: number = 150;\nexport const UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\n\nconst SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\nconst DEFAULT_OPTIONS = {\n  tileWidth: DEFAULT_TILE_WIDTH, // 'px'\n  tileHeight: DEFAULT_TILE_HEIGHT, // 'px'\n  gutter: 20, // 'px'\n  container: 'pip-draggable-grid:first-of-type',\n  //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\n  activeDropzoneClass: 'dropzone-active',\n  groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\n};\n\n{\n  interface IDraggableBindings {\n      tilesTemplates: any;\n      tilesContext: any;\n      options: any;\n      groupMenuActions: any;\n      $container: JQuery;\n  }\n\n  interface IDraggableControllerScope extends ng.IScope {\n    $container: JQuery;\n    tilesTemplates: any;\n    options: any;\n  }\n\n  interface ITileScope extends ng.IScope {\n    index: number | string;\n    groupIndex: number | string;\n  }\n\n  class DraggableController implements ng.IComponentController, IDraggableBindings {\n    public opts: any;\n    public groups: any;\n    public sourceDropZoneElem: any = null;\n    public isSameDropzone: boolean = true;\n    public tileGroups: any = null;\n    public availableWidth: number;\n    public availableColumns: number;\n    public groupsContainers: any;\n    public container: any;\n    public activeDraggedGroup: any;\n    public draggedTile: any;\n    public containerOffset: any;\n    public tilesTemplates: any;\n    public tilesContext: any;\n    public options: any;\n    public groupMenuActions: any;\n    public $container: JQuery;\n\n    constructor(\n      private $scope: IDraggableControllerScope,\n      private $rootScope: angular.IRootScopeService,\n      private $compile: angular.ICompileService,\n      private $timeout: angular.ITimeoutService,\n      private $element: JQuery,\n      pipDragTile: IDragTileService,\n      pipTilesGrid: ITilesGridService,\n      pipMedia: pip.layouts.IMediaService\n    ) {\n      this.opts = _.merge({\n        mobileBreakpoint: pipMedia.breakpoints.xs\n      }, DEFAULT_OPTIONS, this.options);\n\n      this.groups = this.tilesTemplates.map((group, groupIndex) => {\n        return {\n          title: group.title,\n          editingName: false,\n          index: groupIndex,\n          source: group.source.map((tile) => {\n            const tileScope = this.createTileScope(tile);\n\n            return IDragTileConstructor(DragTileService, {\n              tpl: $compile(tile.template)(tileScope),\n              options: tile.opts,\n              size: tile.opts.size\n            });\n          })\n        };\n      });\n\n      // Add templates watcher\n      $scope.$watch('$ctrl.tilesTemplates', (newVal) => {\n        this.watch(newVal);\n      }, true);\n\n      // Initialize data\n      this.initialize();\n\n      // Resize handler TODO: replace by pip resize watchers\n      $(window).on('resize', _.debounce(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n\n        this.tileGroups.forEach((group) => {\n          group\n            .setAvailableColumns(this.availableColumns)\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n            .setTilesDimensions()\n            .calcContainerHeight();\n        });\n      }, 50));\n    }\n\n    // Post link function\n    public $postLink() {\n      this.$container = this.$element;\n    }\n\n    // Watch handler\n    private watch(newVal) {\n      const prevVal = this.groups;\n      let changedGroupIndex = null;\n\n      if (newVal.length > prevVal.length) {\n        this.addGroup(newVal[newVal.length - 1]);\n\n        return;\n      }\n\n      if (newVal.length < prevVal.length) {\n        this.removeGroups(newVal);\n\n        return;\n      }\n\n      for (let i = 0; i < newVal.length; i++) {\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\n          changedGroupIndex = i;\n\n          if (groupWidgetDiff < 0) {\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\n\n            _.each(newTiles, (tile) => {\n              console.log('tile', tile);\n            });\n\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\n\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          } else {\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\n            this.updateTilesOptions(newVal);\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          }\n\n          return;\n        }\n      }\n\n      if (newVal && this.tileGroups) {\n        this.updateTilesOptions(newVal);\n        this.$timeout(() => {\n          this.updateTilesGroups();\n        });\n      }\n    }\n\n    // Inline edit group handlers\n    public onTitleClick(group, event) {\n      if (!group.editingName) {\n        group.oldTitle = _.clone(group.title);\n        group.editingName = true;\n        this.$timeout(() => {\n          $(event.currentTarget.children[0]).focus();\n        });\n      }\n    }\n\n    public cancelEditing(group) {\n      group.title = group.oldTitle;\n    }\n\n    public onBlurTitleInput(group) {\n      this.$timeout(() => {\n        group.editingName = false;\n        this.$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\n        // Update title in outer scope\n        this.tilesTemplates[group.index].title = group.title;\n      }, 100);\n    }\n\n    public onKyepressTitleInput(group, event) {\n      if (event.keyCode === 13) {\n        this.onBlurTitleInput(group);\n      }\n    }\n\n    // Update outer scope functions\n    private updateTilesTemplates(updateType: string, source ? : any) {\n      switch (updateType) {\n        case 'addGroup':\n          if (this.groups.length !== this.tilesTemplates.length) {\n            this.tilesTemplates.push(source);\n          }\n          break;\n        case 'moveTile':\n          const {\n            fromIndex,\n            toIndex,\n            tileOptions,\n            fromTileIndex\n          } = {\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\n            toIndex: source.to.elem.attributes['data-group-id'].value,\n            tileOptions: source.tile.opts.options,\n            fromTileIndex: source.tile.opts.options.index\n          }\n          this.tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\n          this.tilesTemplates[toIndex].source.push({\n            opts: tileOptions\n          });\n\n          this.reIndexTiles(source.from.elem);\n          this.reIndexTiles(source.to.elem);\n          break;\n      }\n    }\n\n    // Manage tiles functions\n    private createTileScope(tile: any): ITileScope {\n      const tileScope = < ITileScope > this.$rootScope.$new(false, this.tilesContext);\n      tileScope.index = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index;\n      tileScope.groupIndex = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\n\n      return tileScope;\n    }\n\n    private removeTiles(group, indexes, container) {\n      const tiles = $(container).find('.pip-draggable-tile');\n\n      _.each(indexes, (index) => {\n        group.tiles.splice(index, 1);\n        tiles[index].remove();\n      });\n\n      this.reIndexTiles(container);\n    }\n\n    private reIndexTiles(container, gIndex ? ) {\n      const tiles = $(container).find('.pip-draggable-tile'),\n        groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\n\n      _.each(tiles, (tile, index) => {\n        const child = $(tile).children()[0];\n        angular.element(child).scope()['index'] = index;\n        angular.element(child).scope()['groupIndex'] = groupIndex;\n      });\n    }\n\n    private removeGroups(newGroups) {\n      const removeIndexes = [],\n        remain = [],\n        containers = [];\n\n\n      _.each(this.groups, (group, index) => {\n        if (_.findIndex(newGroups, (g) => {\n            return g['title'] === group.title\n          }) < 0) {\n          removeIndexes.push(index);\n        } else {\n          remain.push(index);\n        }\n      });\n\n      _.each(removeIndexes.reverse(), (index) => {\n        this.groups.splice(index, 1);\n        this.tileGroups.splice(index, 1);\n      });\n\n      _.each(remain, (index) => {\n        containers.push(this.groupsContainers[index]);\n      });\n\n      this.groupsContainers = containers;\n\n      _.each(this.groupsContainers, (container, index) => {\n        this.reIndexTiles(container, index);\n      });\n    }\n\n    private addGroup(sourceGroup) {\n      const group = {\n        title: sourceGroup.title,\n        source: sourceGroup.source.map((tile) => {\n          const tileScope = this.createTileScope(tile);\n\n          return IDragTileConstructor(DragTileService, {\n            tpl: this.$compile(tile.template)(tileScope),\n            options: tile.opts,\n            size: tile.opts.size\n          });\n        })\n      };\n\n      this.groups.push(group);\n      if (!this.$scope.$$phase) this.$scope.$apply();\n\n      this.$timeout(() => {\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups.push(\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight()\n        );\n      });\n\n      this.updateTilesTemplates('addGroup', sourceGroup);\n    }\n\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\n      newTiles.forEach((tile) => {\n        const tileScope = this.createTileScope(tile);\n\n        const newTile = IDragTileConstructor(DragTileService, {\n          tpl: this.$compile(tile.template)(tileScope),\n          options: tile.opts,\n          size: tile.opts.size\n        });\n\n        group.addTile(newTile);\n\n        $('<div>')\n          .addClass('pip-draggable-tile')\n          .append(newTile.getCompiledTemplate())\n          .appendTo(groupContainer);\n      });\n    }\n\n    private updateTilesOptions(optionsGroup) {\n      optionsGroup.forEach((optionGroup) => {\n        optionGroup.source.forEach((tileOptions) => {\n          this.tileGroups.forEach((group) => {\n            group.updateTileOptions(tileOptions.opts);\n          });\n        });\n      });\n    }\n\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\n      return tileGroups.map((group, index) => {\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight();\n      });\n    }\n\n    private updateTilesGroups(onlyPosition ? , draggedTile ? ) {\n      this.tileGroups.forEach((group) => {\n        if (!onlyPosition) {\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\n        }\n\n        group\n          .setTilesDimensions(onlyPosition, draggedTile)\n          .calcContainerHeight();\n      });\n    }\n\n    private getContainerWidth(): any {\n      const container = this.$container || $('body');\n      return container.width();\n    }\n\n    private getAvailableColumns(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT :\n        Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\n    }\n\n    private getActiveGroupAndTile(elem): any {\n      const active = {};\n\n      this.tileGroups.forEach((group) => {\n        const foundTile = group.getTileByNode(elem);\n\n        if (foundTile) {\n          active['group'] = group;\n          active['tile'] = foundTile;\n          return;\n        }\n      });\n\n      return active;\n    }\n\n    private getSingleTileWidthForMobile(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\n    }\n\n    private onDragStartListener(event) {\n      const activeEntities = this.getActiveGroupAndTile(event.target);\n\n      this.container = $(event.target).parent('.pip-draggable-group').get(0);\n      this.draggedTile = activeEntities['tile'];\n      this.activeDraggedGroup = activeEntities['group'];\n\n      this.$element.addClass('drag-transfer');\n\n      this.draggedTile.startDrag();\n    }\n\n    private onDragMoveListener(event) {\n      const target = event.target;\n      const x = (parseFloat(target.style.left) || 0) + event.dx;\n      const y = (parseFloat(target.style.top) || 0) + event.dy;\n\n      this.containerOffset = this.getContainerOffset();\n\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\n      target.style.top = y + 'px';\n\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\n        left: event.pageX - this.containerOffset.left,\n        top: event.pageY - this.containerOffset.top\n      }, this.draggedTile);\n\n      if (belowElement) {\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\n        const belowElemIndex = this.activeDraggedGroup.getTileIndex(belowElement);\n\n        if ((draggedTileIndex + 1) === belowElemIndex) {\n          return;\n        }\n\n        this.activeDraggedGroup\n          .swapTiles(this.draggedTile, belowElement)\n          .setTilesDimensions(true, this.draggedTile);\n\n        this.$timeout(() => {\n          this.setGroupContainersHeight();\n        }, 0);\n      }\n    }\n\n    private onDragEndListener() {\n      this.draggedTile.stopDrag(this.isSameDropzone);\n\n      this.$element.removeClass('drag-transfer');\n      this.activeDraggedGroup = null;\n      this.draggedTile = null;\n    }\n\n    private getContainerOffset() {\n      const containerRect = this.container.getBoundingClientRect();\n\n      return {\n        left: containerRect.left,\n        top: containerRect.top\n      };\n    }\n\n    private setGroupContainersHeight() {\n      this.tileGroups.forEach((tileGroup) => {\n        tileGroup.calcContainerHeight();\n      });\n    }\n\n    private moveTile(from, to, tile) {\n      let elem;\n      const movedTile = from.removeTile(tile);\n      const tileScope = this.createTileScope(tile);\n\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\n        .find(movedTile.getElem())\n        .remove();\n\n      if (to !== null) {\n        to.addTile(movedTile);\n\n        elem = this.$compile(movedTile.getElem())(tileScope);\n\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\n          .append(elem);\n\n        this.$timeout(to.setTilesDimensions.bind(to, true));\n      }\n\n      this.updateTilesTemplates('moveTile', {\n        from: from,\n        to: to,\n        tile: movedTile\n      });\n    }\n\n    private onDropListener(event) {\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\n      const droppedGroup = this.tileGroups[droppedGroupIndex];\n\n      if (this.activeDraggedGroup !== droppedGroup) {\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\n      }\n\n      this.updateTilesGroups(true);\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropToFictGroupListener(event) {\n      const from = this.activeDraggedGroup;\n      const tile = this.draggedTile;\n\n      this.addGroup({\n        title: 'New group',\n        source: []\n      });\n      this.$timeout(() => {\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\n        this.updateTilesGroups(true);\n      });\n\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropEnterListener(event) {\n      if (!this.sourceDropZoneElem) {\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\n      }\n\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\n        $('body').css('cursor', 'copy');\n        this.isSameDropzone = false;\n      } else {\n        $('body').css('cursor', '');\n        this.isSameDropzone = true;\n      }\n    }\n\n    private onDropDeactivateListener(event) {\n      if (this.sourceDropZoneElem !== event.target) {\n        event.target.classList.remove(this.opts.activeDropzoneClass);\n        $('body').css('cursor', '');\n      }\n    }\n\n    private onDropLeaveListener(event) {\n      event.target.classList.remove(this.opts.activeDropzoneClass);\n    }\n\n    private initialize() {\n      this.$timeout(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\n\n        interact('.pip-draggable-tile')\n          .draggable({\n            autoScroll: {\n              enabled: true,\n              container: $('#content').get(0),\n              speed: 500\n            },\n            onstart: (event) => {\n              this.onDragStartListener(event)\n            },\n            onmove: (event) => {\n              this.onDragMoveListener(event)\n            },\n            onend: (event) => {\n              this.onDragEndListener()\n            }\n          });\n\n        interact('.pip-draggable-group.fict-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropToFictGroupListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          });\n\n        interact('.pip-draggable-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          });\n\n        this.$container\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\n            interact('.pip-draggable-tile').draggable(false);\n            $(this).trigger('click');\n          })\n          .on('mouseup touchend', () => {\n            interact('.pip-draggable-tile').draggable(true);\n          });\n          \n      }, 0);\n    }\n  }\n\n  const DragComponent: ng.IComponentOptions = {\n    bindings: {\n      tilesTemplates: '=pipTilesTemplates',\n      tilesContext: '=pipTilesContext',\n      options: '=pipDraggableGrid',\n      groupMenuActions: '=pipGroupMenuActions'\n    },\n    //controllerAs: 'DraggedCtrl',\n    templateUrl: 'draggable/Draggable.html',\n    controller: DraggableController\n  }\n\n  angular.module('pipDraggableTiles')\n    .component('pipDraggableGrid', DragComponent);\n}","export interface DragTileConstructor {\n  new (options: any);\n}\n\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\n  return new constructor(options);\n}\n\nexport interface IDragTileService {\n  tpl: any;\n  opts: any;\n  size: any;\n  elem: any;\n  preview: any;\n  getSize(): any;\n  setSize(width, height): any;\n  setPosition(left, top): any;\n  getCompiledTemplate(): any;\n  updateElem(parent): any;\n  getElem(): any;\n  startDrag(): any;\n  stopDrag(isAnimate): any;\n  setPreviewPosition(coords): void;\n  getOptions(): any;\n  setOptions(options): any;\n}\n\nlet DEFAULT_TILE_SIZE = {\n  colSpan: 1,\n  rowSpan: 1\n};\n\nexport class DragTileService implements IDragTileService {\n  public tpl: any;\n  public opts: any;\n  public size: any;\n  public elem: any;\n  public preview: any;\n\n  constructor (options: any) {\n    this.tpl = options.tpl.get(0);\n    this.opts = options;\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\n    this.elem = null;\n  }\n\n  public getSize(): any {\n    return this.size;\n  }\n\n  public setSize(width, height): any {\n    this.size.width = width;\n    this.size.height = height;\n\n    if (this.elem) {\n      this.elem.css({\n        width: width,\n        height: height\n      });\n    }\n\n    return this;\n  }\n\n  public setPosition(left, top): any {\n    this.size.left = left;\n    this.size.top = top;\n\n    if (this.elem) {\n      this.elem.css({\n        left: left,\n        top: top\n      });\n    }\n\n    return this;\n  }\n\n  public getCompiledTemplate(): any {\n    return this.tpl;\n  };\n\n  public updateElem(parent): any {\n    this.elem = $(this.tpl).parent(parent);\n\n    return this;\n  };\n\n  public getElem(): any {\n    return this.elem.get(0);\n  };\n\n  public startDrag(): any {\n    this.preview = $('<div>')\n      .addClass('pip-dragged-preview')\n      .css({\n        position: 'absolute',\n        left: this.elem.css('left'),\n        top: this.elem.css('top'),\n        width: this.elem.css('width'),\n        height: this.elem.css('height')\n      });\n\n    this.elem\n      .addClass('no-animation')\n      .css({\n        zIndex: '9999'\n      })\n      .after(this.preview);\n\n    return this;\n  };\n\n  public stopDrag(isAnimate): any {\n    let self = this;\n\n    if (isAnimate) {\n      this.elem\n        .removeClass('no-animation')\n        .css({\n          left: this.preview.css('left'),\n          top: this.preview.css('top')\n        })\n        .on('transitionend', onTransitionEnd);\n    } else {\n      self.elem\n        .css({\n          left: self.preview.css('left'),\n          top: self.preview.css('top'),\n          zIndex: ''\n        })\n        .removeClass('no-animation');\n\n      self.preview.remove();\n      self.preview = null;\n    }\n\n    return this;\n\n    function onTransitionEnd() {\n      if (self.preview) {\n        self.preview.remove();\n        self.preview = null;\n      }\n\n      self.elem\n        .css('zIndex', '')\n        .off('transitionend', onTransitionEnd);\n    }\n  };\n\n  public setPreviewPosition(coords) {\n    this.preview.css(coords);\n  };\n\n  public getOptions(): any {\n    return this.opts.options;\n  };\n\n  public setOptions(options): any {\n    _.merge(this.opts.options, options);\n    _.merge(this.size, options.size);\n\n    return this;\n  };\n}\n\nangular\n  .module('pipDraggableTiles')\n  .service('pipDragTile', function () {\n    return function (options) {\n      let newTile = new DragTileService(options);\n\n      return newTile;\n    }\n  });","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n{\n  class EventTileController extends MenuTileService {\n    private _oldOpacity: number;\n\n    public opacity: number = 0.57;\n\n    constructor(\n      $scope: ng.IScope,\n      private $element: JQuery,\n      private $timeout: angular.ITimeoutService,\n      private pipTileConfigDialogService: ITileConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'gray';\n      this.opacity = this.options.opacity || this.opacity;\n\n      this.drawImage();\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        this.drawImage();\n      });\n    }\n\n    private drawImage() {\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.onImageLoad(this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    private onConfigClick() {\n      this._oldOpacity = _.clone(this.opacity);\n      this.pipTileConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size || {\n            colSpan: 1,\n            rowSpan: 1\n          },\n          date: this.options.date,\n          title: this.options.title,\n          text: this.options.text,\n          opacity: this.opacity,\n          onOpacitytest: (opacity) => {\n            this.opacity = opacity;\n          }\n        },\n        extensionUrl: 'event_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n        this.options.title = result.title;\n        this.options.text = result.text;\n        this.options.opacity = result.opacity;\n      }, () => {\n        this.opacity = this._oldOpacity;\n      });\n    }\n\n    private onImageLoad(image) {\n      this.setImageMarginCSS(this.$element.parent(), image);\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.setImageMarginCSS(this.$element.parent(), this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    // Later replace by pipImageUtils sevice's function\n    private setImageMarginCSS($element, image) {\n      let\n        containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\n        containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\n        imageWidth = image[0].naturalWidth || image.width,\n        imageHeight = image[0].naturalHeight || image.height,\n        margin = 0,\n        cssParams = {};\n\n      if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n        margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n        cssParams['margin-left'] = '' + margin + 'px';\n        cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n        cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n        cssParams['margin-top'] = '';\n      } else {\n        margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n        cssParams['margin-top'] = '' + margin + 'px';\n        cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n        cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n        cssParams['margin-left'] = '';\n      }\n\n      image.css(cssParams);\n    }\n  }\n\n\n  const EventTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: EventTileController,\n    templateUrl: 'event_tile/EventTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipEventTile', EventTile);\n}","{\n  const TileMenu = ():ng.IDirective => {\n    return {\n      restrict: 'EA',\n      templateUrl: 'menu_tile/MenuTile.html'\n    };\n  }\n\n  angular\n    .module('pipMenuTile')\n    .directive('pipTileMenu', TileMenu);\n}","import { DashboardTile } from '../common_tile/Tile';\n\nexport class MenuTileService extends DashboardTile {\n  public menu: any = [{\n    title: 'Change Size',\n    action: angular.noop,\n    submenu: [{\n        title: '1 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 1,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 2',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 2\n        }\n      }\n    ]\n  }];\n\n  constructor() {\n    \"ngInject\";\n\n    super();\n  }\n\n  public callAction(actionName, params, item) {\n    if (this[actionName]) {\n      this[actionName].call(this, params);\n    }\n\n    if (item['click']) {\n      item['click'].call(item, params, this);\n    }\n  };\n\n  public changeSize(params) {\n    this.options.size.colSpan = params.sizeX;\n    this.options.size.rowSpan = params.sizeY;\n  };\n}\n\n{\n  class MenuTileProvider {\n    private _service: MenuTileService;\n\n    constructor() {}\n\n    public $get() {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new MenuTileService();\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipMenuTile')\n    .provider('pipMenuTile', MenuTileProvider);\n}","angular\n    .module('pipMenuTile', []);\n\nimport './MenuTileDirective';\nimport './MenuTileService';\n\nexport * from './MenuTileService';","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n\n{\n  class NoteTileController extends MenuTileService {\n\n    constructor(\n      private pipTileConfigDialogService: ITileConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'orange';\n    }\n\n    private onConfigClick() {\n      this.pipTileConfigDialogService.show({\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          title: this.options.title,\n          text: this.options.text,\n        },\n        extensionUrl: 'note_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.color = result.color;\n        this.options.color = result.color;\n        this.changeSize(result.size);\n        this.options.text = result.text;\n        this.options.title = result.title;\n      });\n    }\n  }\n\n  const NoteTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: NoteTileController,\n    templateUrl: 'note_tile/NoteTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipNoteTile', NoteTile);\n}","'use strict';\n\nimport {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\nimport {\n  ITileTemplateService\n} from '../utility/TileTemplateUtility';\n\n{\n  class PictureSliderController extends MenuTileService {\n    public animationType: string = 'fading';\n    public animationInterval: number = 5000;\n\n    constructor(\n      private $scope: angular.IScope,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private pipTileTemplate: ITileTemplateService\n    ) {\n      super();\n\n      if (this.options) {\n        this.animationType = this.options.animationType || this.animationType;\n        this.animationInterval = this.options.animationInterval || this.animationInterval;\n      }\n    }\n\n    public onImageLoad($event) {\n      this.$timeout(() => {\n        this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), $event.target);\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.$timeout(() => {\n        _.each(this.$element.find('img'), (image) => {\n          this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), image);\n        });\n      }, 500);\n    }\n  }\n\n  const PictureSliderTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: PictureSliderController,\n    templateUrl: 'picture_slider_tile/PictureSliderTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipPictureSliderTile', PictureSliderTile);\n}","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\nimport {\n  ITileConfigService\n} from '../config_tile_dialog/ConfigDialogService';\n\n{\n  class PositionTileController extends MenuTileService {\n    public showPosition: boolean = true;\n\n    constructor(\n      $scope: angular.IScope,\n      private $timeout: angular.ITimeoutService,\n      private $element: any,\n      private pipTileConfigDialogService: ITileConfigService,\n      private pipLocationEditDialog: any,\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.menu.push({\n        title: 'Change location',\n        click: () => {\n          this.openLocationEditDialog();\n        }\n      });\n\n      this.options.location = this.options.location || this.options.position;\n\n      $scope.$watch('$ctrl.options.location', () => {\n        this.reDrawPosition();\n      });\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        if (newVal == true) this.reDrawPosition();\n      });\n    }\n\n    private onConfigClick() {\n      this.pipTileConfigDialogService.show({\n        dialogClass: 'pip-position-config',\n        locals: {\n          size: this.options.size,\n          locationName: this.options.locationName,\n          hideColors: true,\n        },\n        extensionUrl: 'position_tile/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n        this.options.locationName = result.locationName;\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reDrawPosition();\n    }\n\n    public openLocationEditDialog() {\n      this.pipLocationEditDialog.show({\n        locationName: this.options.locationName,\n        locationPos: this.options.location\n      }, (newPosition) => {\n        if (newPosition) {\n          this.options.location = newPosition.location;\n          this.options.locationName = newPosition.locatioName;\n        }\n      });\n    }\n\n    private reDrawPosition() {\n      this.showPosition = false;\n      this.$timeout(() => {\n        this.showPosition = true;\n      }, 50);\n    }\n  }\n\n\n  const PositionTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: PositionTileController,\n    templateUrl: 'position_tile/PositionTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipPositionTile', PositionTile);\n}","import {\n  MenuTileService\n} from '../menu_tile/MenuTileService';\n\n{\n  const SMALL_CHART: number = 70;\n  const BIG_CHART: number = 250;\n\n  class StatisticsTileController extends MenuTileService {\n    private _$scope: angular.IScope;\n    private _$timeout: angular.ITimeoutService;\n\n    public reset: boolean = false;\n    public chartSize: number = SMALL_CHART;\n\n    constructor(\n      $scope: angular.IScope,\n      $timeout: angular.ITimeoutService\n    ) {\n      super();\n      this._$scope = $scope;\n      this._$timeout = $timeout;\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.setChartSize();\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reset = true;\n      this.setChartSize();\n      this._$timeout(() => {\n        this.reset = false;\n      }, 500);\n    }\n\n    private setChartSize() {\n      this.chartSize = this.options.size.colSpan == 2 && this.options.size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\n    }\n  }\n\n\n  const StatisticsTile: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: StatisticsTileController,\n    templateUrl: 'statistics_tile/StatisticsTile.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .component('pipStatisticsTile', StatisticsTile);\n}","{\n  interface DraggableTileAttributes extends ng.IAttributes {\n    pipDraggableTiles: any;\n  }\n\n  function DraggableTileLink(\n    $scope: ng.IScope,\n    $elem: JQuery,\n    $attr: DraggableTileAttributes\n  ) {\n    const docFrag = document.createDocumentFragment(),\n      group = $scope.$eval($attr.pipDraggableTiles);\n\n    group.forEach(function (tile) {\n      const tpl = wrapComponent(tile.getCompiledTemplate());\n      docFrag.appendChild(tpl);\n    });\n\n    $elem.append(docFrag);\n\n    function wrapComponent(elem) {\n      return $('<div>')\n        .addClass('pip-draggable-tile')\n        .append(elem)\n        .get(0);\n    }\n  }\n\n  function DraggableTiles(): ng.IDirective {\n    return {\n      restrict: 'A',\n      link: function(\n        $scope: ng.IScope,\n        $elem: JQuery,\n        $attr: DraggableTileAttributes\n      ) {\n          new DraggableTileLink($scope, $elem, $attr);\n      }\n    };\n  }\n\n  angular\n    .module('pipDraggableTilesGroup')\n    .directive('pipDraggableTiles', DraggableTiles);\n}","export interface TilesGridConstructor {\n  new(tiles, options, columns, elem);\n}\n\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem): ITilesGridService {\n  return new constructor(tiles, options, columns, elem);\n}\n\nexport interface ITilesGridService {\n  tiles: any;\n  opts: any;\n  columns: any;\n  elem: any;\n  gridCells: any;\n  inline: boolean;\n  isMobileLayout: boolean;\n\n  addTile(tile): any;\n  getCellByPosition(row, col): any;\n  getCells(prevCell, rowSpan, colSpan): any;\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\n  getCell(src, basicRow, basicCol, columns): any;\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\n  getBasicRow(prevCell): any;\n  isCellFree(row, col): any;\n  getCellIndex(srcCell): any;\n  reserveCells(start, end, elem): void;\n  clearElements(): void;\n  setAvailableColumns(columns): any;\n  generateGrid(singleTileWidth ? ): any;\n  setTilesDimensions(onlyPosition, draggedTile): any;\n  calcContainerHeight(): any;\n  getTileByNode(node): any;\n  getTileByCoordinates(coords, draggedTile): any;\n  getTileIndex(tile): any;\n  swapTiles(movedTile, beforeTile): any;\n  removeTile(removeTile): any;\n  updateTileOptions(opts): any;\n}\n\nconst MOBILE_LAYOUT_COLUMNS = 2;\n\nexport class TilesGridService implements ITilesGridService {\n  public tiles: any;\n  public opts: any;\n  public columns: any;\n  public elem: any;\n  public gridCells: any = [];\n  public inline: boolean = false;\n  public isMobileLayout: boolean;\n\n  constructor(tiles, options, columns, elem) {\n    this.tiles = tiles;\n    this.opts = options;\n    this.columns = columns || 0; // available columns in a row\n    this.elem = elem;\n    this.gridCells = [];\n    this.inline = options.inline || false;\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n  }\n\n  public addTile(tile): any {\n    this.tiles.push(tile);\n    if (this.tiles.length === 1) {\n      this.generateGrid();\n    }\n\n    return this;\n  };\n\n  public getCellByPosition(row, col): any {\n    return this.gridCells[row][col];\n  };\n\n  public getCells(prevCell, rowSpan, colSpan): any {\n    if (this.isMobileLayout) {\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\n    } else {\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\n    }\n  };\n\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicCol = prevCell && prevCell.col || 0;\n    const basicRow = this.getBasicRow(prevCell);\n\n    // Small tile\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    // Medium tile\n    if (colSpan === 2 && rowSpan === 1) {\n      const prevTileSize = prevCell && prevCell.elem.size || null;\n\n      if (!prevTileSize) {\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\n        if (this.columns - basicCol - 2 > 0) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\n        if (prevCell.row % 2 === 0) {\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\n        } else {\n          if (this.columns - basicCol - 3 >= 0) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n          }\n        }\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\n        if (this.columns - basicCol - 3 >= 0) {\n          if (this.isCellFree(basicRow, basicCol + 1)) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\n          }\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      }\n    }\n\n    // Big tile\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\n    } else if (rowSpan === 2 && colSpan === 2) {\n      if (this.columns - basicCol - 2 > 0) {\n        if (this.isCellFree(basicRow, basicCol + 1)) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\n        }\n      } else {\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\n      }\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getCell(src, basicRow, basicCol, columns): any {\n    let cell, col, row;\n\n    if (this.isMobileLayout) {\n      // mobile layout\n      for (col = basicCol; col < columns; col++) {\n        if (!src[basicRow][col].elem) {\n          cell = src[basicRow][col];\n          break;\n        }\n      }\n\n      return cell;\n    }\n\n    // desktop\n    for (col = basicCol; col < columns; col++) {\n      for (row = 0; row < 2; row++) {\n        if (!src[row + basicRow][col].elem) {\n          cell = src[row + basicRow][col];\n          break;\n        }\n      }\n\n      if (cell) {\n        return cell;\n      }\n    }\n  };\n\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicRow = this.getBasicRow(prevCell);\n    const basicCol = prevCell && prevCell.col || 0;\n\n\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    if (!prevCell) {\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\n    } else if (colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getBasicRow(prevCell): any {\n    let basicRow;\n\n    if (this.isMobileLayout) {\n      if (prevCell) {\n        basicRow = prevCell && prevCell.row || 0;\n      } else {\n        basicRow = 0;\n      }\n    } else {\n      if (prevCell) {\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\n      } else {\n        basicRow = 0;\n      }\n    }\n\n    return basicRow;\n  };\n\n  public isCellFree(row, col): any {\n    return !this.gridCells[row][col].elem;\n  };\n\n  public getCellIndex(srcCell): any {\n    const self = this;\n    let index;\n\n    this.gridCells.forEach((row, rowIndex) => {\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\n        return cell === srcCell;\n      });\n\n      if (index !== -1) {\n        return;\n      }\n    });\n\n    return index !== -1 ? index : 0;\n  };\n\n  public reserveCells(start, end, elem) {\n    this.gridCells.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell.row >= start.row && cell.row <= end.row &&\n          cell.col >= start.col && cell.col <= end.col) {\n          cell.elem = elem;\n        }\n      });\n    });\n  };\n\n  public clearElements() {\n    this.gridCells.forEach((row) => {\n      row.forEach((tile) => {\n        tile.elem = null;\n      });\n    });\n  };\n\n  public setAvailableColumns(columns): any {\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n    this.columns = columns;\n\n    return this;\n  };\n\n  public generateGrid(singleTileWidth ? ): any {\n    const self = this,\n      tileWidth = singleTileWidth || this.opts.tileWidth,\n      offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\n    let colsInRow = 0,\n      rows = 0,\n      gridInRow = [];\n\n    this.gridCells = [];\n\n    this.tiles.forEach((tile, index, srcTiles) => {\n      const tileSize = tile.getSize();\n\n      generateCells(tileSize.colSpan);\n\n      if (srcTiles.length === index + 1) {\n        if (colsInRow < self.columns) {\n          generateCells(self.columns - colsInRow);\n        }\n\n        // Generate more cells for extends tile size to big\n        if (self.tiles.length * 2 > self.gridCells.length) {\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\n            generateCells(self.columns);\n          });\n        }\n      }\n    });\n\n    function generateCells(newCellCount) {\n      Array.apply(null, Array(newCellCount)).forEach(() => {\n        if (self.columns < colsInRow + 1) {\n          rows++;\n          colsInRow = 0;\n\n          self.gridCells.push(gridInRow);\n          gridInRow = [];\n        }\n\n        let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\n        let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\n\n        // Describe grid cell size through block corners coordinates\n        gridInRow.push({\n          top: top,\n          left: left,\n          bottom: top + self.opts.tileHeight,\n          right: left + tileWidth,\n          row: rows,\n          col: colsInRow\n        });\n\n        colsInRow++;\n      });\n    }\n\n    return this;\n  };\n\n  public setTilesDimensions(onlyPosition, draggedTile): any {\n    const self = this;\n    let currIndex = 0;\n    let prevCell;\n\n    if (onlyPosition) {\n      self.clearElements();\n    }\n\n    this.tiles.forEach((tile) => {\n      const tileSize = tile.getSize();\n      let startCell;\n      let width;\n      let height;\n      let cells;\n\n      tile.updateElem('.pip-draggable-tile');\n      if (tileSize.colSpan === 1) {\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\n        } else {\n          startCell = self.getCells(prevCell, 1, 1).start;\n        }\n\n\n        if (!onlyPosition) {\n          width = startCell.right - startCell.left;\n          height = startCell.bottom - startCell.top;\n        }\n\n        prevCell = startCell;\n\n        self.reserveCells(startCell, startCell, tile);\n\n        currIndex++;\n      } else if (tileSize.colSpan === 2) {\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\n        startCell = cells.start;\n\n        if (!onlyPosition) {\n          width = cells.end.right - cells.start.left;\n          height = cells.end.bottom - cells.start.top;\n        }\n\n        prevCell = cells.end;\n\n        self.reserveCells(cells.start, cells.end, tile);\n\n        currIndex += 2;\n      }\n\n      // Render preview\n      // while tiles from group is dragged\n      if (draggedTile === tile) {\n        tile.setPreviewPosition({\n          left: startCell.left,\n          top: startCell.top\n        });\n\n        return;\n      }\n\n      if (!onlyPosition) {\n        tile.setSize(width, height);\n      }\n\n      tile.setPosition(startCell.left, startCell.top);\n    });\n\n    return this;\n  };\n\n  public calcContainerHeight(): any {\n    let maxHeightSize, maxWidthSize;\n\n    if (!this.tiles.length) {\n      return this;\n    }\n\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\n      const tileSize = tile['getSize']();\n      return tileSize.top + tileSize.height;\n    })['getSize']();\n\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\n\n    if (this.inline) {\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\n        const tileSize = tile['getSize']();\n        return tileSize.left + tileSize.width;\n      })['getSize']();\n\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\n    }\n\n    return this;\n  };\n\n  public getTileByNode(node): any {\n    const foundTile = this.tiles.filter((tile) => {\n      return node === tile.getElem();\n    });\n\n    return foundTile.length ? foundTile[0] : null;\n  };\n\n  public getTileByCoordinates(coords, draggedTile): any {\n    return this.tiles\n      .filter((tile) => {\n        const tileSize = tile.getSize();\n\n        return tile !== draggedTile &&\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\n      })[0] || null;\n  };\n\n  public getTileIndex(tile): any {\n    return _.findIndex(this.tiles, tile);\n  };\n\n  public swapTiles(movedTile, beforeTile): any {\n    const movedTileIndex = _.findIndex(this.tiles, movedTile);\n    const beforeTileIndex = _.findIndex(this.tiles, beforeTile);\n\n    this.tiles.splice(movedTileIndex, 1);\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\n\n    return this;\n  };\n\n  public removeTile(removeTile): any {\n    let droppedTile;\n\n    this.tiles.forEach((tile, index, tiles) => {\n      if (tile === removeTile) {\n        droppedTile = tiles.splice(index, 1)[0];\n        return false;\n      }\n    });\n\n    return droppedTile;\n  };\n\n  public updateTileOptions(opts): any {\n    const index = _.findIndex(this.tiles, (tile) => {\n      return tile['getOptions']() === opts;\n    });\n\n    if (index !== -1) {\n      this.tiles[index].setOptions(opts);\n      return true;\n    }\n\n    return false;\n  };\n}\n\n\nangular\n  .module('pipDraggableTilesGroup')\n  .service('pipTilesGrid', function () {\n    return function (tiles, options, columns, elem) {\n      const newGrid = new TilesGridService(tiles, options, columns, elem);\n\n      return newGrid;\n    }\n  });","angular\n    .module('pipDraggableTilesGroup', []);\n\nimport './TileGroupDirective';\nimport './TileGroupService';","export interface ITileTemplateService {\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\n    setImageMarginCSS($element, image): void;\n} \n\n{\n    class tileTemplateService implements ITileTemplateService {\n        private _$interpolate: angular.IInterpolateService;\n        private _$compile: angular.ICompileService;\n        private _$templateRequest: angular.ITemplateRequestService;\n\n        constructor(\n            $interpolate: angular.IInterpolateService,\n            $compile: angular.ICompileService,\n            $templateRequest: angular.ITemplateRequestService\n        ) {\n            this._$interpolate = $interpolate;\n            this._$compile = $compile;\n            this._$templateRequest = $templateRequest;\n        }\n\n        public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\n            const {\n                template,\n                templateUrl,\n                type\n            } = source;\n            let result;\n\n            if (type) {\n                const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\n                return strictCompile == true ?\n                    (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\n                    interpolated;\n            }\n\n            if (template) {\n                return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\n            }\n\n            if (templateUrl) {\n                this._$templateRequest(templateUrl, false).then((html) => {\n                    result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\n                });\n            }\n\n            return result;\n        }\n\n        public setImageMarginCSS($element, image) {\n            let\n                containerWidth = $element.width ? $element.width() : $element.clientWidth,\n                containerHeight = $element.height ? $element.height() : $element.clientHeight,\n                imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\n                imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\n                margin = 0,\n                cssParams = {};\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n                cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n                cssParams['margin-left'] = '';\n            }\n\n            $(image).css(cssParams);\n        }\n    }\n\n    // image load directive TODO: remove to pipImageUtils\n    const ImageLoad = function ImageLoad($parse: ng.IParseService): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (scope: ng.IScope, element: JQuery, attrs: any) {\n                const callback = $parse(attrs.pipImageLoad);\n\n                element.bind('load', (event) => {\n                    callback(scope, {\n                        $event: event\n                    });\n                });\n            }\n        }\n    }\n\n    angular\n        .module('pipDashboard')\n        .service('pipTileTemplate', tileTemplateService)\n        .directive('pipImageLoad', ImageLoad);\n}","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_tile_dialog/AddTile.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_TITLE\\' | translate }}<md-input-container class=\"layout-row flex-auto m0 tm16\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"{{ \\'DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP\\' | translate }}\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS\\' | translate }}</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Cancel\">{{ \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"dialogCtrl.add()\" ng-disabled=\"dialogCtrl.totalWidgets === 0\" arial-label=\"Add\">{{ \\'ADD\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/CalendarTile.html',\n    '<div class=\"widget-box pip-calendar-widget {{ $ctrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ $ctrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ $ctrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-tile-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-tile-config-extend-component class=\"layout-column\" pip-dialog-scope=\"vm\" pip-extension-url=\"vm.extensionUrl\" pip-apply=\"vm.onApply(updatedData)\"></pip-tile-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{ \\'DASHBOARD_TILE_CONFIG_DIALOG_TITLE\\' | translate }}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!$ctrl.hideSizes\" pip-buttons=\"$ctrl.sizes\" ng-model=\"$ctrl.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!$ctrl.hideColors\" pip-colors=\"$ctrl.colors\" ng-model=\"$ctrl.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onCancel()\">{{ \\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\">{{ \\'APPLY\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dashboard/Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"$ctrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"$ctrl.groupedWidgets\" pip-tiles-context=\"$ctrl.widgetsContext\" pip-draggable-grid=\"$ctrl.draggableGridOptions\" pip-group-menu-actions=\"$ctrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in $ctrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"$ctrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"$ctrl.onBlurTitleInput(group)\" ng-keypress=\"$ctrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"$ctrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in $ctrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container>Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"$ctrl.opacity\" ng-change=\"$ctrl.onOpacitytest($ctrl.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/EventTile.html',\n    '<div class=\"widget-box pip-event-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><img ng-if=\"$ctrl.options.image\" ng-src=\"{{$ctrl.options.image}}\" alt=\"{{$ctrl.options.title || $ctrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ $ctrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"$ctrl.options.date\">{{ $ctrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ $ctrl.options.text || $ctrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu_tile/MenuTile.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"$ctrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"$ctrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"$ctrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/NoteTile.html',\n    '<div class=\"widget-box pip-notes-widget {{ $ctrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"$ctrl.options.title || $ctrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span></div><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu><div class=\"text-container flex-auto pip-scroll\"><p>{{ $ctrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_slider_tile/PictureSliderTile.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ $ctrl.options.title }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"$ctrl.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/PositionTile.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!$ctrl.options.locationName\"><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"$ctrl.options.locationName\"><span class=\"flex text-overflow\">{{ $ctrl.options.locationName }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><pip-location-map class=\"flex\" ng-if=\"$ctrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"$ctrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('statistics_tile/StatisticsTile.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.series && !$ctrl.reset\"><pip-pie-chart pip-series=\"$ctrl.options.series\" ng-if=\"!$ctrl.options.chartType || $ctrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"$ctrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n","import { ISettingsService } from '../service/ISettingsService';\nimport { SettingsTab } from '../service/SettingsTab';\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\n\ninterface ISettingsPageController {\n    tabs: SettingsTab[];\n    selected: SettingsPageSelectedTab;\n    onDropdownSelect: Function;\n    onNavigationSelect(state: string): void;\n}\n\nclass SettingsPageController implements ISettingsPageController {\n    public tabs: SettingsTab[];\n    public selected: SettingsPageSelectedTab;\n    public onDropdownSelect: Function;\n\n    constructor(\n        private $state: ng.ui.IStateService,\n        pipNavService: pip.nav.INavService,\n        pipSettings: ISettingsService,\n        $rootScope: ng.IRootScopeService, \n        $timeout: angular.ITimeoutService\n    ) {\n\n        this.tabs = _.filter(pipSettings.getTabs(), (tab: SettingsTab) => {\n                if (tab.visible === true && (tab.access ? tab.access($rootScope['$user'], tab) : true)) {\n                    return tab;\n                }\n            });\n\n        this.tabs = _.sortBy(this.tabs, 'index');\n\n        this.selected = new SettingsPageSelectedTab();\n        if (this.$state.current.name !== 'settings') {\n            this.initSelect(this.$state.current.name);\n        } else if (this.$state.current.name === 'settings' && pipSettings.getDefaultTab()) {\n            this.initSelect(pipSettings.getDefaultTab().state);\n        } else {\n            $timeout(() => {\n                if (pipSettings.getDefaultTab()) {\n                    this.initSelect(pipSettings.getDefaultTab().state);\n                }\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\n                     this.initSelect(this.tabs[0].state);\n                }\n            });\n        }\n\n        pipNavService.icon.showMenu();\n        pipNavService.breadcrumb.text = \"Settings\";\n        pipNavService.actions.hide();\n        pipNavService.appbar.removeShadow();\n        \n        this.onDropdownSelect = (state) => {\n            this.onNavigationSelect(state.state);\n        }\n    }\n\n    private initSelect(state: string): void {\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\n            return tab.state === state;\n        });\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\n        this.selected.tabId = state;\n        this.$state.go(this.selected.tabId);\n    }\n\n    public onNavigationSelect(state: string): void {\n        this.initSelect(state);\n\n        if (this.selected.tab) {\n            this.$state.go(state);\n        }\n    }\n}\n\nangular\n    .module('pipSettings.Page')\n    .controller('pipSettingsPageController', SettingsPageController);\n","{\n    function configureSettingsPageRoutes($stateProvider) {\n        $stateProvider\n            .state('settings', {\n                url: '/settings?party_id',\n                auth: true,\n                controllerAs: 'vm',\n                controller: 'pipSettingsPageController',\n                templateUrl: 'page/SettingsPage.html'\n            });\n\n    }\n\n    angular.module('pipSettings.Page')\n        .config(configureSettingsPageRoutes);\n}\n","angular.module('pipHelp.Page', [\n    'ui.router', \n    'pipHelp.Service',\n    'pipNav', \n    'pipSelected',\n    'pipTranslate',\n    'pipHelp.Templates'\n    ]);\n\nimport './HelpPage';\nimport './HelpPageRoutes';","import { SettingsTab } from './SettingsTab';\n\nexport class SettingsConfig {\n    public defaultTab: string;\n    public tabs: SettingsTab[] = [];\n    public titleText: string = 'SETTINGS_TITLE';\n    public titleLogo: boolean = null;\n    public isNavIcon: boolean = true;\n}\n","import { SettingsTab } from './SettingsTab';\n\nexport class SettingsPageSelectedTab {\n    public tab: SettingsTab;\n    public tabIndex: number = 0;\n    public tabId: string;\n}","import { SettingsTab } from './SettingsTab';\nimport { SettingsConfig } from './SettingsConfig';\nimport { ISettingsService } from './ISettingsService';\nimport { ISettingsProvider } from './ISettingsService';\n\nclass SettingsService implements ISettingsService {\n    private _config: SettingsConfig;\n\n    public constructor(config: SettingsConfig) {\n        \"ngInject\";\n        this._config = config;\n    }\n\n    private getFullStateName(state: string): string {\n        return 'settings.' + state;\n    }\n\n    public setDefaultTab(name: string): void {\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === 'settings.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n    }\n\n    public getDefaultTab(): SettingsTab {\n        let defaultTab: SettingsTab;\n\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === this._config.defaultTab;\n        });\n        return _.cloneDeep(defaultTab);\n    }\n\n    public showTitleText (newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo) {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public getTabs(): SettingsTab[] {\n        return _.cloneDeep(this._config.tabs);\n    }\n\n}\n\nclass SettingsProvider implements ISettingsProvider {\n    private _service: SettingsService;\n    private _config: SettingsConfig = new SettingsConfig();\n\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\n\n    public getFullStateName(state: string): string {\n        return 'settings.' + state;\n    }\n\n    public getDefaultTab(): SettingsTab {\n        let defaultTab: SettingsTab;\n\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === defaultTab.state;\n        });\n\n        return _.cloneDeep(defaultTab);\n    }\n\n    public addTab(tabObj: SettingsTab): void {\n        let existingTab: SettingsTab;\n\n        this.validateTab(tabObj);\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === 'settings.' + tabObj.state;\n        });\n        if (existingTab) {\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n        }\n\n        this._config.tabs.push({\n            state: this.getFullStateName(tabObj.state),\n            title: tabObj.title,\n            index: tabObj.index || 100000,\n            access: tabObj.access,\n            visible: tabObj.visible !== false,\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\n        });\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\n\n        // if we just added first state and no default state is specified\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\n            this.setDefaultTab(tabObj.state);\n        }\n    }\n\n    public setDefaultTab(name: string): void {\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === 'settings.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n        //console.log(this.$stateProvider);\n        //this.$stateProvider.go(this._config.defaultTab);\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\n    }\n\n    /**\n     * Validates passed tab config object\n     * If passed tab is not valid it will throw an error\n     */\n    private validateTab(tabObj: SettingsTab): void {\n        if (!tabObj || !_.isObject(tabObj)) {\n            throw new Error('Invalid object');\n        }\n\n        if (tabObj.state === null || tabObj.state === '') {\n            throw new Error('Tab should have valid Angular UI router state name');\n        }\n\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\n            throw new Error('\"access\" should be a function');\n        }\n\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n            throw new Error('Invalid state configuration object');\n        }\n    }\n\n    public showTitleText (newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo) {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public $get(): ISettingsService {\n        \"ngInject\";\n\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\n            this._service = new SettingsService(this._config);\n        }\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipSettings.Service')\n    .provider('pipSettings', SettingsProvider);\n\n","export class SettingsStateConfig {\n    public url: string;\n    public auth: boolean = false;\n    public templateUrl?: string;\n    public template?: string;\n}","import { SettingsStateConfig } from './SettingsStateConfig';\n\nexport class SettingsTab {\n    public state: string;\n    public title: string;\n    public index: number;\n    public access: Function;\n    public visible: boolean;\n    public stateConfig: SettingsStateConfig;\n}\n","angular\n    .module('pipHelp.Service', []);\n\nimport './HelpConfig';\nimport './HelpPageSelectedTab';\nimport './HelpTab';\nimport './HelpStateConfig';\nimport './HelpService';\n\nexport * from './HelpConfig';\nexport * from './HelpPageSelectedTab';\nexport * from './HelpTab';\nexport * from './HelpStateConfig';\nexport * from './HelpService';\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","import { IHelpService } from '../service/IHelpService';\nimport { HelpTab } from '../service/HelpTab';\nimport { HelpPageSelectedTab } from '../service/HelpPageSelectedTab';\n\ninterface IHelpPage {\n    tabs: HelpTab[];\n    selected: HelpPageSelectedTab;\n    onDropdownSelect: Function;\n    onNavigationSelect(state: string): void;\n}\n\nclass HelpPageController implements IHelpPage, ng.IController {\n    public tabs: HelpTab[];\n    public selected: HelpPageSelectedTab;\n    public onDropdownSelect: Function;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $state: ng.ui.IStateService,\n        $rootScope: ng.IRootScopeService, \n        $timeout: angular.ITimeoutService,\n        pipNavService: pip.nav.INavService,\n        pipHelp: IHelpService\n    ) {\n\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: HelpTab) =>{\n            if (tab.visible === true) {\n                    return tab;\n            }\n        });\n\n        this.tabs = _.sortBy(this.tabs, 'index');\n\n        this.selected = new HelpPageSelectedTab();\n        if (this.$state.current.name !== 'help') {\n            this.initSelect(this.$state.current.name);\n        } else if (this.$state.current.name === 'help' && pipHelp.getDefaultTab()) {\n            this.initSelect(pipHelp.getDefaultTab().state);\n        } else {\n            $timeout(() => {\n                if (pipHelp.getDefaultTab()) {\n                    this.initSelect(pipHelp.getDefaultTab().state);\n                }\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\n                    this.initSelect(this.tabs[0].state);\n                }\n            });\n        }\n\n        pipNavService.icon.showMenu();\n        pipNavService.breadcrumb.text = \"Help\";\n        pipNavService.actions.hide();\n        pipNavService.appbar.removeShadow();\n        \n        this.onDropdownSelect = (state) => {\n            this.onNavigationSelect(state.state);\n        }\n    }\n\n    private initSelect(state: string): void {\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\n            return tab.state === state;\n        });\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\n        this.selected.tabId = state;\n        \n        this.$state.go(this.selected.tabId);\n    }\n\n    public onNavigationSelect(state: string): void {\n        this.initSelect(state);\n\n        if (this.selected.tab) {\n            this.$state.go(state);\n        }\n    }\n}\n\nangular\n    .module('pipHelp.Page')\n    .controller('pipHelpPageController', HelpPageController);\n","{\n    function configureHelpPageRoutes($stateProvider) {\n        $stateProvider\n            .state('help', {\n                url: '/help?party_id',\n                auth: true,\n                controllerAs: '$ctrl',\n                controller: 'pipHelpPageController',\n                templateUrl: 'page/HelpPage.html'\n            });      \n    }\n\n    angular.module('pipHelp.Page')\n        .config(configureHelpPageRoutes);\n}","import { HelpTab } from './HelpTab';\n\nexport class HelpConfig {\n    public defaultTab: string;\n    public tabs: HelpTab[] = [];\n    public titleText: string = 'SETTINGS_TITLE';\n    public titleLogo: string = null;\n    public isNavIcon: boolean = true;\n}\n","import { HelpTab } from './HelpTab';\n\nexport class HelpPageSelectedTab {\n    public tab: HelpTab;\n    public tabIndex: number;\n    public tabId: string;\n}","import { HelpConfig } from \"./HelpConfig\";\nimport { HelpTab } from './HelpTab';\nimport { IHelpService } from \"./IHelpService\";\nimport { IHelpProvider } from \"./IHelpService\";\n\nclass HelpService implements IHelpService {\n\n    public constructor(private _config: HelpConfig) {\n        \"ngInject\";\n    }\n\n    private getFullStateName(state: string): string {\n        return 'help.' + state;\n    }\n\n    public setDefaultTab(name: string): void {\n        if (!_.find(this._config.tabs, (tab) => {\n            return tab.state === 'help.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n    }\n\n    public getDefaultTab(): HelpTab {\n        let defaultTab: HelpTab;\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\n            return p.state === this._config.defaultTab;\n        });\n        return _.cloneDeep(defaultTab);\n    }\n\n    public showTitleText(newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo: string): string {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public getTabs(): HelpTab[] {\n        return _.cloneDeep(this._config.tabs);\n    }\n\n}\n\nclass HelpProvider implements IHelpProvider, ng.IServiceProvider {\n    private _service: HelpService;\n    private _config: HelpConfig = new HelpConfig();\n\n    constructor(private $stateProvider: ng.ui.IStateProvider) { }\n\n    public getFullStateName(state: string): string {\n        return 'help.' + state;\n    }\n\n    public getDefaultTab(): HelpTab {\n        let defaultTab: HelpTab;\n\n        defaultTab = _.find(this._config.tabs, (p) => {\n            return p.state === this._config.defaultTab;\n        });\n\n        return _.cloneDeep(defaultTab);\n    }\n\n    public addTab(tabObj: HelpTab): void {\n        let existingTab: HelpTab;\n        this.validateTab(tabObj);\n        existingTab = _.find(this._config.tabs, (p) => {\n            return p.state === 'help.' + tabObj.state;\n        });\n        if (existingTab) {\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n        }\n\n        this._config.tabs.push({\n            state: this.getFullStateName(tabObj.state),\n            title: tabObj.title,\n            index: tabObj.index || 100000,\n            access: tabObj.access,\n            visible: tabObj.visible !== false,\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\n        });\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\n\n        // if we just added first state and no default state is specified\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\n            this.setDefaultTab(tabObj.state);\n        }\n    }\n\n    public setDefaultTab(name: string): void {\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\n            return tab.state === 'help.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n        //this.$stateProvider.go(this._config.defaultTab);\n        //pipAuthStateProvider.redirect('help', getFullStateName(name));\n    }\n\n    /**\n     * Validates passed tab config object\n     * If passed tab is not valid it will throw an error\n     */\n\n    private validateTab(tabObj: HelpTab) {\n        if (!tabObj || !_.isObject(tabObj)) {\n            throw new Error('Invalid object');\n        }\n\n        if (tabObj.state === null || tabObj.state === '') {\n            throw new Error('Tab should have valid Angular UI router state name');\n        }\n\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\n            throw new Error('\"access\" should be a function');\n        }\n\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n            throw new Error('Invalid state configuration object');\n        }\n    }\n\n    public showTitleText(newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo: string): string {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (!_.isNull(value) && !_.isUndefined(value)) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public $get(): IHelpService {\n        \"ngInject\";\n\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\n            this._service = new HelpService(this._config);\n        }\n\n        return this._service;\n    }\n}\n\n\nangular\n    .module('pipHelp.Service')\n    .provider('pipHelp', HelpProvider);\n","export class HelpStateConfig {\n    public url: string;\n    public auth: boolean = false;\n    public templateUrl?: string;\n    public template?: string;\n}\n","import { HelpStateConfig } from './HelpStateConfig';\n\nexport class HelpTab {\n    public state: string;\n    public title: string;\n    public index: number;\n    public access: Function;\n    public visible: boolean;\n    public stateConfig: HelpStateConfig;\n}\n\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-help\"><div class=\"pip-menu-container\" ng-hide=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"$ctrl.selected.tabIndex\" pip-selected-watch=\"$ctrl.selected.navId\" pip-select=\"$ctrl.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in $ctrl.tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"$ctrl.tabs\" pip-dropdown-select=\"$ctrl.onDropdownSelect\" pip-active-index=\"$ctrl.selected.tabIndex\"></pip-dropdown><div class=\"pip-body p0 layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}