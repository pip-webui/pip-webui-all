{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","../node_modules/async/dist/async.js","../node_modules/process/browser.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/Translation.ts","src/translate/TranslateService.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/dependencies/TranslateFilter.ts","src/fabs/FabTooltipVisibility.ts","src/refresh_button/RefreshButton.ts","src/toggle_buttons/ToggleButtons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/Focused.ts","src/infinite_scroll/InfiniteScroll.ts","src/selected/Selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/UnsavedChanges.ts","src/color_picker/ColorPicker.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","src/toast/index.ts","temp/pip-webui-controls-html.min.js","src/tag_list/TagList.ts","temp/pip-webui-lists-html.min.js","src/date/Date.ts","src/date_format/DateConvertService.ts","src/date_format/DateFormatFilter.ts","src/date_format/DateFormatService.ts","src/date_format/IDateConvertService.ts","src/date_format/index.ts","src/date_range/DateRange.ts","src/time_range/TimeRange.ts","src/time_range_edit/TimeRangeEdit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationDialogController.ts","src/confirmation/ConfirmationDialogParams.ts","src/confirmation/ConfirmationDialogService.ts","src/confirmation/index.ts","src/error_details/ErrorDetailsDialogController.ts","src/error_details/ErrorDetailsDialogParams.ts","src/error_details/ErrorDetailsDialogService.ts","src/error_details/index.ts","src/information/InformationDialogController.ts","src/information/InformationDialogParams.ts","src/information/InformationDialogService.ts","src/information/index.ts","src/options/OptionsDialogController.ts","src/options/OptionsDialogData.ts","src/options/OptionsDialogParams.ts","src/options/OptionsDialogResult.ts","src/options/OptionsDialogService.ts","src/options/index.ts","src/options_big/OptionsBigDialogController.ts","src/options_big/OptionsBigDialogData.ts","src/options_big/OptionsBigDialogParams.ts","src/options_big/OptionsBigDialogResult.ts","src/options_big/OptionsBigDialogService.ts","src/options_big/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/IActionsService.ts","src/actions/PrimaryActions.ts","src/actions/SecondaryActions.ts","src/actions/index.ts","src/appbar/AppBar.ts","src/appbar/AppBarConfig.ts","src/appbar/AppBarPart.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/Breadcrumb.ts","src/breadcrumb/BreadcrumbConfig.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dropdown/Dropdown.ts","src/header/NavHeader.ts","src/header/NavHeaderConfig.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIcon.ts","src/icon/NavIconConfig.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenu.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBar.ts","src/search/SearchConfig.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNav.ts","src/sidenav/SideNavPart.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/Tabs.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/error_pages/ErrorPageConfig.ts","src/error_pages/ErrorPageConfigService.ts","src/form_errors/ClearErrorsDirective.ts","src/form_errors/FormErrorsService.ts","src/http_intercept/HttpResponseInterceptor.ts","src/maintenance/MaintenanceErrorPage.ts","src/missing_route/MissingRouteErrorPage.ts","src/no_connection/NoConnectionErrorPage.ts","src/no_connection_panel/NoConnectionPanel.ts","src/unknown/UnknownErrorPage.ts","src/unsupported/UnsupportedErrorPage.ts","temp/pip-webui-errors-html.min.js","src/bar_chart/BarChart.ts","src/chart_colors/ChartColorsService.ts","src/chart_legend/ChartInteractiveLegend.ts","src/line_chart/LineChart.ts","src/pie_chart/PieChart.ts","temp/pip-webui-charts-html.min.js","src/location/Location.ts","src/location_dialog/LocationDialog.ts","src/location_dialog/LocationDialogParams.ts","src/location_dialog/index.ts","src/location_edit/LocationEdit.ts","src/location_ip/LocationIp.ts","src/location_map/LocationMap.ts","temp/pip-webui-locations-html.min.js","src/file_fail/FileFail.ts","src/file_select/FileSelect.ts","src/file_start/FileStart.ts","src/file_success/FileSuccess.ts","src/file_upload/FileUpload.ts","src/model/FileModel.ts","src/service/FileUploadService.ts","src/service/FileUploadState.ts","src/service/MultiuploadResult.ts","temp/pip-webui-files-html.min.js","src/add_tile_dialog/AddTileDialogController.ts","src/add_tile_dialog/AddTileProvider.ts","src/add_tile_dialog/index.ts","src/calendar_tile/CalendarTile.ts","src/common_tile/Tile.ts","src/config_tile_dialog/ConfigDialogController.ts","src/config_tile_dialog/ConfigDialogExtendComponent.ts","src/config_tile_dialog/ConfigDialogService.ts","src/config_tile_dialog/index.ts","src/dashboard/Dashboard.ts","src/draggable/Draggable.ts","src/draggable/DraggableTileService.ts","src/event_tile/EventTile.ts","src/menu_tile/MenuTileDirective.ts","src/menu_tile/MenuTileService.ts","src/menu_tile/index.ts","src/note_tile/NoteTile.ts","src/picture_slider_tile/PictureSliderTile.ts","src/position_tile/PositionTile.ts","src/statistics_tile/StatisticsTile.ts","src/tile_group/TileGroupDirective.ts","src/tile_group/TileGroupService.ts","src/tile_group/index.ts","src/utility/TileTemplateUtility.ts","temp/pip-webui-dashboard-html.min.js","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js","src/page/HelpPage.ts","src/page/HelpPageRoutes.ts","src/service/HelpConfig.ts","src/service/HelpPageSelectedTab.ts","src/service/HelpService.ts","src/service/HelpStateConfig.ts","src/service/HelpTab.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","factory","async","apply","func","thisArg","args","overRest$1","start","transform","nativeMax","undefined","arguments","index","array","Array","otherArgs","identity","value","rest","isObject","type","asyncify","initialParams","callback","result","then","err","message","supportsAsync","supported","isAsync","eval","fn","supportsSymbol","Symbol","toStringTag","wrapAsync","asyncFn","applyEach$1","eachfn","fns","go","that","cb","wrapAsync$1","concat","getRawTag","isOwn","hasOwnProperty","symToStringTag$1","tag","nativeObjectToString","objectToString","nativeObjectToString$1","baseGetTag","undefinedTag","nullTag","Object","symToStringTag","isFunction","funcTag","genTag","asyncTag","proxyTag","isLength","MAX_SAFE_INTEGER","isArrayLike","noop","once","callFn","baseTimes","iteratee","isObjectLike","baseIsArguments","argsTag","stubFalse","isIndex","MAX_SAFE_INTEGER$1","reIsUint","test","baseIsTypedArray","typedArrayTags","baseUnary","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isBuffer","isType","isTypedArray","skipIndexes","String","key","hasOwnProperty$1","push","isPrototype","Ctor","constructor","prototype","objectProto$5","overArg","arg","baseKeys","object","nativeKeys","hasOwnProperty$3","keys","createArrayIterator","coll","len","createES2015Iterator","iterator","item","next","done","createObjectIterator","obj","okeys","getIterator","onlyOnce","_eachOfLimit","limit","iterateeCallback","running","breakLoop","replenish","elem","nextElem","eachOfLimit","doLimit","iterable","eachOfArrayLike","iteratorCallback","completed","doParallel","eachOf","_asyncMap","arr","results","counter","_iteratee","_","v","doParallelLimit","arrayEach","createBaseFor","fromRight","keysFunc","props","baseForOwn","baseFor","baseFindIndex","predicate","fromIndex","baseIsNaN","strictIndexOf","baseIndexOf","arrayMap","isSymbol","symbolTag","baseToString","symbolToString","INFINITY","baseSlice","end","castSlice","charsEndIndex","strSymbols","chrSymbols","charsStartIndex","asciiToArray","string","split","hasUnicode","reHasUnicode","unicodeToArray","match","reUnicode","stringToArray","toString","trim","chars","guard","replace","reTrim","join","parseParams","STRIP_COMMENTS","FN_ARGS","FN_ARG_SPLIT","map","FN_ARG","autoInject","tasks","newTasks","taskFn","newTask","taskCb","newArgs","params","name","fnIsAsync","hasNoDeps","slice","pop","auto","fallback","setTimeout","wrap","defer","DLL","head","tail","setInitial","dll","node","queue","worker","concurrency","payload","_insert","data","insertAtFront","q","started","idle","setImmediate$1","drain","_tasks","unshift","process","_next","numRunning","task","workersList","splice","error","buffer","unsaturated","_worker","isProcessing","saturated","empty","paused","kill","Math","min","shift","pause","resume","cargo","reduce","memo","eachOfSeries","x","concat$1","y","doSeries","_createTester","check","getResult","testResult","testPassed","_findGetResult","consoleFunc","console","doDuring","truth","_fn","_test","doWhilst","doUntil","during","_withoutIndex","eachLimit","eachLimit$1","ensureAsync","sync","innerArgs","notId","baseProperty","filterArray","truthValues","filterGeneric","sort","b","_filter","forever","errback","mapValuesLimit","newObj","val","has","memoize","hasher","create","queues","memoized","unmemoized","_parallel","parallelLimit","parallelLimit$1","race","TypeError","reduceRight","reverse","reflect","reflectCallback","cbArgs","reject$1","reflectAll","constant$1","retry","opts","retryAttempt","_task","attempt","options","times","errorFilter","intervalFunc","DEFAULT_TIMES","DEFAULT_INTERVAL","acc","interval","series","sortBy","comparator","left","right","criteria","timeout","milliseconds","info","injectedCallback","timedOut","originalCallback","clearTimeout","timer","timeoutCallback","origCallback","baseRange","step","nativeMax$1","nativeCeil","timeLimit","count","mapLimit","accumulator","k","unmemoize","whilst","until","max","freeGlobal","freeSelf","root","Function","Symbol$1","objectProto","objectProto$1","iteratorSymbol","objectProto$3","hasOwnProperty$2","propertyIsEnumerable","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","argsTag$1","arrayTag","boolTag","dateTag","errorTag","funcTag$1","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","freeExports$1","freeModule$1","moduleExports$1","freeProcess","nodeUtil","binding","nodeIsTypedArray","objectProto$2","objectProto$4","eachOfGeneric","Infinity","applyEach","mapSeries","applyEachSeries","apply$2","callArgs","enqueueTask","readyTasks","runTask","processQueue","runningTasks","addListener","taskName","taskListeners","listeners","taskComplete","hasError","taskCallback","safeResults","rkey","getDependents","keys$$1","numTasks","readyToCheck","uncheckedDependencies","dependencies","remainingDependencies","dependencyName","currentTask","dependent","symbolProto","rsAstralRange","rsComboMarksRange","rsComboSymbolsRange","rsVarRange","rsZWJ","RegExp","rsAstralRange$1","rsComboMarksRange$1","rsComboSymbolsRange$1","rsVarRange$1","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsZWJ$1","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","hasSetImmediate","setImmediate","hasNextTick","nextTick","_defer","removeLink","prev","insertAfter","newNode","insertBefore","seq$1","functions","_functions","newargs","nextargs","compose","concatSeries","constant","values","ignoredArgs","detect","detectLimit","detectSeries","dir","eachSeries","every","everyLimit","everySeries","filter","filterLimit","filterSeries","groupByLimit","mapResults","groupBy","groupBySeries","log","mapValues","mapValuesSeries","_defer$1","queue$1","items","priorityQueue","priority","nextNode","reject","rejectLimit","rejectSeries","retryable","some","Boolean","someLimit","someSeries","ceil","timesSeries","waterfall","nextTask","taskIndex","each","parallel","seq","timesLimit","all","any","forEach","forEachSeries","forEachLimit","forEachOf","forEachOfSeries","forEachOfLimit","inject","foldl","foldr","select","selectLimit","selectSeries","wrapSync","allLimit","allSeries","anyLimit","anySeries","find","findLimit","findSeries","defineProperty","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","title","browser","env","argv","version","versions","on","off","removeListener","removeAllListeners","emit","cwd","chdir","umask","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","url","PreviousState","StateVar","PrevStateVar","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","cloneDeep","extend","addBackStateDecorator","$provide","decorator","$inject","5","hookRoutingEvents","$log","$state","RoutingVar","m","p","./BackDecorator","./RoutingEvents","7","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","_setRootVar","_identity","_rootScope","_log","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","$get","provider","8","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","notifyError","_session","notifyListeners","successCallback","listener","notifyOpenListeners","_this","notifyCloseListeners","$emit","stop","oldSession","addOpenListener","addCloseListener","removeOpenListener","removeCloseListener","isOpened","open","close","SessionProvider","./IdentityService","./SessionService","10","Transaction","scope","_scope","_id","_operation","_error","TransactionError_1","TransactionError","_progress","reset","busy","failed","aborted","id","begin","operation","Date","getTime","update","progress","abort","decode","11","details","cause","stack_trace","statusText","status","12","Transaction_1","TransactionService","_transactions","transaction","get","service","13","configureTransactionStrings","$injector","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","./TransactionError","./TransactionService","./TransactionStrings","15","translateDirective","pipTranslate","key1","key2","link","element","attrs","translate","text","translateHtmlDirective","html","directive","16","optionalTranslateFilter","translateFilter","initTranslate","language","extendStatics","setPrototypeOf","__proto__","d","__","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","changeLocale","save","locale","localeDate","moment","localeData","months","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","translateSet","keyProp","valueProp","translateObjects","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","TranslateProvider","set","./Translation","18","Translation","_language","en","ru","es","pt","de","fr","_translations","isNull","isUndefined","toUpperCase","19","./TranslateFilter","./TranslateService","20","Codes","hash","charCodeAt","random","substr","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","toLowerCase","parseFormat","fmt","parse_tree","arg_names","exec","_fmt","replacement_field","field_match","field_list","tree_length","node_type","cursor","sprintf","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","output","pad","_i","filterToString","arrayToString","enumToArray","hookResetEvents","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","$timeout","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","$","position","scrollTop","top","ScrollService","SystemInfo","ua","navigator","userAgent","search","browserName","subVersion","osAll","osAndroid","isDesktop","platform","isMobile","isCordova","isSupported","edge","ie","firefox","opera","chrome","safari","Tags","normalizeOne","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","extract","entity","searchFields","field","hashTags","uniq","26","TimerEvent","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","newEvent","startEvent","removeEvent","existingEvent","stopEvent","clearEvents","cancel","ex","buttons","2","pipFabTooltipVisibility","$parse","restrict","controller","FabTooltipVisibilityController_1","$element","$attrs","$scope","showGetter","showSetter","assign","$watch","trigGetter","isOpen","3","./refresh_button/RefreshButton","./toggle_buttons/ToggleButtons","4","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","$onChanges","changes","currentValue","hide","onClick","$event","width","css","RefreshButtonComponent","component","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","currentButtonIndex","disabled","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","bindings","6","$templateCache","put","layouts","MediaService_1","IMediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","gtxs","gtlg","bodyElement","bodyWidth","LayoutResizedEvent","isGtxs","MainBreakpoints","xs","isGtlg","lg","AuxPanel","transclude","../media/IMediaService","../media/MediaService","AuxPanelPartDirective","ngIfDirective","ngIf","terminal","AuxPanelPartController_1","partName","pipAuxPanelPart","pos","partValue","onAuxPanelChanged","config","currentPartValue","parts","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","_state","$broadcast","AuxPanelStateChangedEvent","AuxPanelOpenedEvent","AuxPanelClosedEvent","toggle","c","cc","part","AuxPanelChangedEvent","AuxPanelProvider","IAuxPanelService_2","AuxPanelConfig","./IAuxPanelService","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","cardDirective","CardDirectiveLink","resize","MainResizedEvent","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","Number","minHeight","MainBreakpointStatuses","space","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","dialogDirective","documentDirective","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","heading","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","_heading","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","columns","layout","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","resizeListener","win","target","srcElement","__resizeRAF__","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","attachEvent","getComputedStyle","style","document","createElement","setAttribute","onload","isIE","appendChild","removeEventListener","removeChild","behaviors","CancelDragLink_1","attr","CancelDrag","DragLink_1","$document","pipDraggable","LONG_PRESS","_centerAnchor","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","_data","_dragOffset","_dragEnabled","_pressTimer","_elementStyle","scrollParent","scrollContainer","_deregisterRootMoveListener","ngDrag","_myid","$id","onDragStartCallback","pipDragStart","onDragMoveCallbak","pipDragMove","onDragStopCallback","pipDragStop","onDragSuccessCallback","pipDragSuccess","allowTransform","isDefined","$eval","getDragData","pipDragData","verticalScroll","pipVerticalScroll","horizontalScroll","pipHorizontalScroll","activationDistance","pipActivationDistance","scrollDistance","scrollContainerGetter","pipScrollContainer","initialize","dragHandles","querySelectorAll","_dragHandle","toggleListeners","enable","onDestroy","pipDrag","newVal","oldVal","onEnableChange","pipCenterAnchor","onCenterAnchor","onpress","nodeName","isClickableElement","evt","button","saveElementStyles","cancelPress","onlongpress","preventDefault","offset","getBoundingClientRect","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","inputEvent","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","origEvent","tx","ty","$data","dragToScroll","moveElement","uid","dragOffset","onDragComplete","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","Drag","DraggableService","touches","originalEvent","DropLink_1","pipDrop","isTouching","onDropCallback","pipDropSuccess","onDragMoveCallback","onEnterCallback","pipEnter","onLeaveCallback","pipLeave","onDiactiveCallback","pipDiactive","onDragStart","onDragMove","onDragEnd","_dropEnabled","updateDragStyles","$target","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","bottom","Drop","PreventDragLink_1","absorbEvent_","stopPropagation","cancelBubble","returnValue","./Drag","./DraggableService","./Drop","./PreventDrag","FocusedLink_1","$mdConstant","opacityDelta","opacityLimit","keydownListener","init","ngModel","pipFocusedData","selector","pipWithHidden","onFocusClass","pipFocusedClass","controls","controlsLength","checkTabindex","currentTarget","pipRebind","pipFocusedOpacity","color","oldBackgroundColor","rgba","pipFocusedColor","red","blue","green","opacity","setTabindex","findIndex","pipFocusedTabindex","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipFocusedRebind","./focused/Focused","./infinite_scroll/InfiniteScroll","./selected/Selected","./shortcuts/index","./unsaved_changes/UnsavedChanges","9","InfiniteScrollLink_1","THROTTLE_MILLISECONDS","checkWhenEnabled","immediateCheck","scrollEnabled","unregisterEventListener","useDocumentBottom","windowElement","onContainerScrollThrottle","throttle","onContainerScroll","unbind","handleScrollDistance","pipScrollDistance","handleScrollDisabled","pipScrollDisabled","handleScrollUseDocumentBottom","pipScrollUseDocumentBottom","pipScrollListenForEvent","newContainer","handleScrollContainer","pipScrollParent","changeContainer","pipScrolImmediateCheck","isNaN","clientHeight","offsetTop","ownerDocument","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","pipInfiniteScroll","bind","HTMLElement","append","parents","InfiniteScroll","SelectedLink_1","touchBoundary","tapdelay","tapTimeout","indexGetter","pipSelected","indexSetter","idGetter","pipSelectedId","idSetter","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","noScroll","pipNoScroll","modifier","pipSkipHidden","className","pipTreeList","selectedIndex","currentElementTabinex","pipSelectedWatch","isScrolled","onClickEvent","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onKeyDown","onFocusIn","onFocusOut","newSelectedId","selectItem","itemId","raiseEvent","newSelectedIndex","itemIndex","itemParams","itemsLength","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedId","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","getTargetElementFromEventTarget","eventTarget","Node","TEXT_NODE","parentNode","touchHasMoved","touch","changedTouches","boundary","touchStartX","touchStartY","ev","targetElement","trackingClick","trackingClickStart","timeStamp","lastClickTime","cancelNextClick","ENTER","SPACE","inc","Selected","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","KeyboardEvent","Keydown","Keyup","Keypress","ShortcutOptions","Shortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","break","insert","home","delete","pageup","page_up","pu","pagedown","page_down","pd","up","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","wanted","pressed","ctrl","alt","meta","shorcut","Type","DisableInInput","element_1","tagName","character","kp","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","ShortcutBindingService_1","_shortcuts","_defaultOption","defaults","getDefaultOption","Shortcut_1","Target","add","shortcut","remove","shortcutOption","shortcutCombination","getElementById","newKeyboardShortcut","eventCallback","detachEvent","ShortcutBindingProvider","_option","14","ShortcutController","pipShortcutBinding","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","pipShorcutOptions","keypressShortcut","action","$onInit","shortcutsDirective","ShortcutsChangedEvent","ShortcutsService","$location","_oldConfig","addShortcuts","sendChangeEvent","removeShortcuts","collection","access","keypress","href","location","stateParams","defaultOptions","generalOptions","targetId","ShortcutsProvider","IShortcutsService_1","./IShortcutsService","./ShortcutBindingService","./ShortcutDirective","./ShortcutsService","17","onbeforeunload","unsavedChangesAvailable","unsavedChangesMessage","unbindFunc","confirm","cancelLeave","afterLeave","ColorPickerBindings","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","currentColorIndex","selectColor","pipColorPicker","templateUrl","pipImageSliderController_1","pipImageSlider","_index","swipeStart","_type","slideTo","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","direction","blockIndex","vm","SliderButtonController_1","SliderIndicatorController_1","SliderIndicator","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","MarkdownBindings","isList","clamp","rebind","MarkdownController","MarkdownChanges","_pipTranslate","bindText","_text","_$scope","newText","describeAttachments","attachTypes","attach","attachString","textString","isClamped","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","ConfigTranslations","MarkdownComponent","PopoverController","$compile","$templateRequest","backdropElement","backdropClick","responsive","locals","template","content","calcHeight","onResize","cancelCallback","closePopover","onPopoverClick","docWidth","docHeight","popover","footer","contentHeight","PopoverBindings","Popover","PopoverService","popoverTemplate","$new","./PopoverService","RoutingBindings","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","actions","actionLenght","showDetails","onDetails","ok","onMessageClick","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","currentToast","hideDelay","duration","showToastOkResult","showToastCancelResult","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","showClickableError","hideAllToasts","./Toast","./ToastService","lists","./tag_list/TagList","TagListController","toBoolean","TagListBindings","typeLocal","rebuid","TagList","TagListChanges","dates","DateBindings","timeMode","model","ngChange","DateController","DateChanges","momentMonths","momentDays","momentShortDays","momentFirstDayOfWeek","isDate","day","getDate","month","getMonth","year","getFullYear","dayList","monthList","years","yearList","disableControls","getValue","currentYear","startYear","endYear","adjustDay","setValue","onMonthChanged","onYearChanged","DateComponent","IDateConvertService_1","DateConvert","_momentRanged","DateRangeType","All","_defaultFormat","_defaultTimeZoneOffset","isUndefinedOrNull","date","getRange","Day","getOperationRange","range","WeekFromSunday","toStartRange","localDate","utcOffset","isValid","startOf","toDate","toEndRange","mssOffset","endOf","toJson","toNextRange","toPrevRange","toCurrentRange","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","Month","toEndMonth","toStartYear","Year","toEndYear","DateConvertService","convert","_convert","defaultTimeZoneOffset","toJSON","DateConvertProvider","__extends","formatTimeFilter","pipDateFormat","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","formatShortElapsedFilter","formatShortElapsed","formatLongElapsedFilter","formatLongElapsed","formatMiddleElapsedFilter","formatMiddleElapsed","getDateJSONFilter","pipDateConvert","formatTimeShortFilter","formatTimeShort","formatTimeLongFilter","formatTimeLong","declarePipDateResources","pipTranslateProvider","DATE_ELAPSED","DATE_HOUR_ONE","DATE_HOUR_SHORT","DATE_MINUTE_SHORT","DATE_HOURS_FEW","DATE_HOURS_AFTER_FOOR","DATE_MINUTE_ONE","DATE_MINUTES_FEW","DATE_MINUTES_AFTER_FOOR","DATE_FEW_SECOND","DATE_FEW_SECOND_SHORT","DATE_FEW_SECOND_SHORT_ELAPSED","DateFormat","oneHour","oneMinute","oneSeccond","oneDay","formatDateTime","basicFormat","formatTpl","formatDateTimeY","nowDate","formatMoment","longDateFormat","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","toDateWithTime","formatDate","toTodayDate","fromNow","borderDate","isBefore","ms","diff","h","asHours","asMinutes","mString","getHoursString","getMinutesString","utc","hh","hString","sec","getDateJSON","DateFormatProvider","Week","./DateFormatFilter","./DateFormatService","./IDateConvertService","./IDateFormatService","DateRangeBindings","DateRangeController","DateRangeChanges","$mdMedia","prevState","currentState","standalone","currentDate","getUTCFullYear","currentMonth","getUTCMonth","currentDay","getUTCDate","newValue","oldValue","dayOfWeek","UTC","getUTCDay","week","getWeekByDate","correctWeek","adjustWeek","onWeekChange","isDay","isWeek","isMonth","onChange","pipChanged","setCurrent","dateRangeType","fillLists","weeks","weekList","onYearClick","onMonthClick","onDayClick","getCountDay","nameDays","weekday","getWeek","countDay","countPrevMonthDay","startDay","endDay","startWeek","getTimezoneOffset","daterange","TimeRangeData","TimeRangeController","TimeRangeChanges","defineStartDate","defineEndDate","TimeRangeBindings","TimeRangeComponent","TimeRangeEditData_1","TimeRangeEditChanges","TimeRangeEditController","startLabel","endLabel","intervalTimeCollection","getTimeInterval","initDate","defineDate","pipStartDate","pipEndDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","pipStartLabel","pipEndLabel","setDuration","startDate","endDate","startTime","MinutesInHour","MillisecondsInSecond","endTime","validateStartDate","IntervalTimeRange","HoursInDay","round","validateEndDate","setDate","minutes","j","showTime","pipHideTime","onChangeStartDate","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","TimeRangeEditComponent","TimeRangeEditBindings","dialogs","ConfirmationDialogParams_1","ConfirmationDialogController","$mdDialog","_injector","DIALOG_CONFIRM_TITLE","DIALOG_CONFIRM_OK","DIALOG_CONFIRM_CANCEL","onOk","onCancel","ConfirmationDialogParams","ConfirmationDialogService","_mdDialog","targetEvent","./ConfirmationDialogParams","./ConfirmationDialogService","./IConfirmationDialogService","ErrorDialogStrings","errorDetails","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorDetailsDialogController","strings","theme","themes","ThemeRootVar","OK","CANCEL","ERROR_DETAILS","ERROR_CODE","ERROR_PATH","ERROR_ERROR","ERROR_METHOD","ERROR_MESSAGE","ERROR_DISMISS","dismissButton","getErrorText","ErrorDetailsDialogParams","ErrorDetailsDialogService","clickOutsideToClose","InformationDialogController","INFORMATION_TITLE","INFORMATION_OK","pipFormat","InformationDialogParams","InformationDialogService","OptionsDialogController","selectedOption","active","opt","optionIndex","selectedOptionName","focusInput","DIALOG_OPTIONS_TITLE","DIALOG_OPTIONS_SELECT","DIALOG_OPTIONS_CANCEL","onOptionSelect","onKeyPress","isCheckboxOption","list","OptionsDialogParams","OptionsDialogData","OptionsDialogResult","OptionsDialogService","21","OptionsBigDialogController","OptionsBigDialogData_1","OptionsBigDialogData","noActions","onSelected","onKeyUp","OptionsBigDialogParams","OptionsBigDialogResult","OptionsBigDialogService","27","./OptionsBigDialogController","./OptionsBigDialogData","./OptionsBigDialogParams","./OptionsBigDialogResult","./OptionsBigDialogService","28","nav","IActionsService_1","IActionsService_2","IActionsService_3","ActionsService","primaryGlobalActions","secondaryGlobalActions","primaryLocalActions","secondaryLocalActions","primaryActions","secondaryActions","updateCount","clearCounts","ActionsChangedEvent","openMenuEvent","SecondaryActionsOpenEvent","ActionsProvider","ActionsConfig","SimpleActionItem","ActionItem","PrimaryActionsController","pipActions","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","onActionsChanged","localActions","globalActions","isHidden","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","click","PrimaryActionsBindings","PrimaryActionsChanges","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","calcActions","secondaryActionsVisible","secondaryDividerVisible","SecondaryActionsBindings","SecondaryActionsChanges","AppBarController","pipAppBar","onAppBarChanged","appbar","AppBarConfig","AppBarPartController","_partName","_partValue","appbarPart","AppBarChangedEvent","AppBarService","shadowBreakpoints","setShadow","hideShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","AppBarConfig_1","./AppBar","./AppBarConfig","./AppBarPart","./AppBarService","BreadcrumbController","pipBreadcrumb","navConstant","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","_media","BREADCRUMB_BREAKPOINT","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","onOpenMenu","onSubActionClick","breadcrumb","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","showText","showItems","BreadcrumbProvider","BreadcrumbConfig_1","./BreadcrumbConfig","NavService","icon","sidenav","header","menu","showMenu","DropdownController","_pipTheme","_pipMedia","currentTheme","themeClass","media","activeIndex","pipChange","showDropdown","DropdownBindings","DropdownChanges","dropdown","NavHeaderController","pipNavHeader","imageUrl","initImage","cleanupNavHeaderChanged","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","$onDestroy","imageBlock","image","onImageLoad","onerror","onImageError","initHeader","subtitle","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","imageWidth","imageHeight","margin","loadError","defaultImageUrl","onUserClick","navHeader","NavHeaderConfig","NavHeaderService","callbackOrEvent","NavHeaderChangedEvent","NavHeaderProvider","NavHeaderConfig_1","clear","./NavHeaderService","22","23","SideNavService_1","NavIconService_1","NavIconBindings","NavIconChanges","NavIconController","pipNavIcon","clearFn","onNavIconChanged","onNavIconClick","ToggleSideNavEvent","NavIconClickedEvent","NavIcon","NavIconConfig","25","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconChangedEvent","NavIconConfig_1","NavIconProvider","setMenu","setIcon","setBack","./NavIconConfig","./INavIconService","./NavIcon","./NavIconService","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_MIDDLE_WIDTH","SIDENAV_SMALL_WIDTH","./appbar","./breadcrumb","./common/NavService","./dropdown/Dropdown","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/Tabs","LanguagePickerDirectiveController","_translate","languages","previousValue","setLanguages","onLanguageClick","LanguagePickerBindings","LanguagePickerChanges","languagePickerDirective","navMenuDirective","NavMenuController","pipSideNav","pipNavMenu","expanded","_animationDuration","SIDENAV_ANIMATION_DURATION","_pipSideNavElement","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","isSectionEmpty","linkCollection","expand","expandedButton","isExpanded","sideNavState","isActive","parentState","includes","clickLink","current","NavMenuBindings","NavMenuChangedEvent","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","31","./NavMenuService","32","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchActivatedEvent","SearchBar","./SearchService","34","SearchConfig","CloseSearchEvent","SearchService","SearchProvider","36","./SearchBar","./SearchConfig","37","SideNavController","_bigWidth","SIDENAV_LARGE_WIDTH","_middleWidth","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","setSideNaveState","windowResize","debounce","cleanupSideNavState","onSideNavState","sidenavState","backdrop","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","cleanupMainResized","stateName","mainWidth","_mainContainer","sideNavWidth","currentWidth","Small","Large","XLarge","SideNavBindings","sideNav","./SideNavState","38","sidenavPartDirective","SideNavPartBindings_1","SideNavPartController_1","hookSideNavEvents","OpenSideNavEvent","CloseSideNavEvent","SideNavChangedEvent","SideNavService","SideNavStateChangedEvent","SideNavConfig","SideNavProvider","40","SideNavState","isLockedOpen","showIconTooltype","small","large","xlarge","41","./SideNavPart","./SideNavService","42","PipTab","TabsChanges","TabsDirectiveController","setTheme","setTranslate","tabs","tabDisabled","selectedTabId","showShadow","showTabsShadow","showTabs","Tabs","TabsBindings","43","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","800","900","orangePrimaryPalette","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultBlueTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","A400","configureDefaultNavyTheme","greyPalette","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","configureDefaultPinkTheme","PinkBackgroundPalette","700","PinkPrimaryPalette","configureDefaultTheme","errors","ErrorPageConfig","ErrorPageConfigs","Maintenance","Active","Name","Event","Title","SubTitle","Breadcrumb","Image","MissingRoute","NoConnection","StateIgnored","Unknown","Unsupported","Params","SupportedBrowsers","ErrorPageConfig_1","ErrorPageConfigService","getErrorPageConfig","pageName","ErrorPageConfigProvider","configs","setErrorPageConfig","defaultsDeep","setAllErrorPageConfigs","setSupportedBrowsers","browsers","./ErrorPageConfig","clearErrorsDirective","$ctrls","ClearErrorsLink","_fieldController","_formController","clearFieldErrors","clearFormErrors","$error","prop","$setValidity","$serverError","FormErrorsService","errorsWithHint","isEmpty","hint","touchedErrorsWithHint","form","notSubmited","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","errorName","goToUnhandledErrorPage","configureHttpInterceptor","$stateProvider","$httpProvider","interceptors","HttpResponseInterceptor","$q","rejection","./error_pages/ErrorPageConfig","./error_pages/ErrorPageConfigService","./form_errors/ClearErrorsDirective","./form_errors/FormErrorsService","./http_intercept/HttpResponseInterceptor","./maintenance/MaintenanceErrorPage","./missing_route/MissingRouteErrorPage","./no_connection/NoConnectionErrorPage","./no_connection_panel/NoConnectionPanel","./unknown/UnknownErrorPage","./unsupported/UnsupportedErrorPage","configureMaintenanceErrorPageRoute","ErrorsMaintenanceState","MaintenanceErrorPageController","initMaintenanceErrorPage","pipErrorPageConfigService","MaintenanceErrorEvent","setMaintenanceErrorPageResources","ERROR_MAINTENANCE_TITLE","ERROR_MAINTENANCE_SUBTITLE","ERROR_MAINTENANCE_CLOSE","ERROR_MAINTENANCE_TRY_AGAIN","ERROR_MAINTENANCE_RETRY","MaintenanceError","MaintenanceErrorConfig","MaintenanceErrorParams","_pageName","pipNavService","appHeader","timeoutInterval","onRetry","RedirectSateDefault","configureMissingRouteErrorPageRoute","ErrorsMissingRouteState","unfoundState","MissingRouteErrorPageController","initMissingRouteErrorPage","StateNotFoundEvent","to","setMissingRouteErrorPageResources","ERROR_MISSING_ROUTE_TITLE","ERROR_MISSING_ROUTE_SUBTITLE","ERROR_MISSING_ROUTE_CONTINUE","ERROR_MISSING_ROUTE_TRY_AGAIN","ERROR_MISSING_ROUTE_GO_BACK","ERROR_MISSING_ROUTE_PAGE_TITLE","MissingRouteErrorState","absolute","urlBack","onContinue","configureNoConnectionErrorPageRoute","ErrorsConnectionState","NoConnectionErrorPageController","initNoConnectionErrorPage","ErrorsConnectionEvent","setNoConnectionErrorPageResources","ERROR_NO_CONNECTION_SUBTITLE","ERROR_NO_CONNECTION_RETRY","NoConnectionError","errorConfig","NoConnectionPanelController","_retry","configureUnknownErrorPageRoute","ErrorsUnknownState","UnknownErrorPageController","initUnknownErrorPage","ErrorsUnknownEvent","setUnknownErrorPageResources","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","UnknownErrorDetails","parseError","error_details","server_stacktrace","client_stacktrace","configureUnsupportedErrorPageRoute","ErrorsUnsupportedState","UnsupportedErrorPageController","initUnsupportedErrorPage","pipSystemInfo","supportedVersions","browserVersion","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","ERROR_UNSUPPORTED_EDGE","ERROR_UNSUPPORTED_EDGE_VER","ERROR_UNSUPPORTED_SAFARI_VER","ERROR_UNSUPPORTED_SAFARI","ErrorsUnsupportedEvent","UnsupportedError","setUnsupportedErrorPageResources","charts","BarChartBindings","xTickFormat","yTickFormat","interactiveLegend","BarChartController","BarChartBindingsChanges","pipChartColors","chart","spaceAfterBar","spaceAfterMultiBar","generateMaterialColors","updatedLegend","prepareData","legend","updateChart","clone","generateParameterColor","paletteColors","d3","scale","ordinal","materialColorToRgba","instantiateChart","chartElem","datum","configBarWidthAndLabel","drawEmptyState","nv","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","seria","classed","getGroupSize","labels","chartBars","getBBox","groupSize","barHeight","barWidth","transition","getMaterialColor","BarChart","ChartColorsService","$mdColorPalette","palette","ChartLegendBindings","interactive","ChartLegendBindingsChanges","ChartLegendController","updateLegends","colorCheckboxes","animate","prepareSeries","checkboxContainers","legendTitles","materialColor","ChartLegend","LineChartBindings","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","LineChartBindingsChanges","LineChartController","HEIGHT","setZoom","updateZoomOptions","selectAll","updateXTickValues","updateSeries","getHeight","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","onlyZeroY","yDomain","clipYTick","tickValues","tooltipW","removeTooltip","addZoom","updateScroll","domains","bDiff","domDiff","isEqual","svg","xDomain","redraw","xScale","yScale","x_boundary","y_boundary","d3zoom","behavior","zoom","prevXDomain","prevScale","prevTranslate","newChart","domain","nice","zoomed","unzoomed","fixDomain","translate0","coordinates0","coordinates","center0","center1","point","scaleExtent","LineChart","PieChartBindings","donut","total","centered","PieChartBindingsChanges","PieChartController","resizeTitleLabelUnwrap","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","centerChart","renderTotalLabel","svgElem","pie","arc","innerRadius","outerRadius","leftMargin","totalVal","sum","curr","titleElem","boxSize","PieChart","locations","LocationBindings","pipLocationName","pipLocationPos","pipShowLocationIcon","pipCollapse","pipDisabled","pipLocationResize","LocationController","LocationBindingsChanges","showMap","mapContainer","generateMap","redrawMap","clearMap","mapControl","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Map","Marker","LocationComponent","LocationEditDialogController_1","locationPos","locationName","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","setMap","animation","Animation","DROP","thisMarker_1","getPosition","tid","lat","lng","Geocoder","geocode","latLng","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogService","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","LocationDialogParams","LocationEditBindings","pipLocationHolder","LocationEditBindingsChanges","LocationEditController","pipLocationEditDialog","defineCoordinatesDebounced","defineCoordinates","GeocoderStatus","geometry","location_1","longtitude","onMapClick","onMapKeyPress","LocationEdit","LocationIpBindings","pipIpaddress","pipExtraInfo","LocationIpBindingsChanges","LocationIpController","$http","ipAddress","response","extraInfo","city","regionCode","region","regionName","zipCode","countryCode","country","countryName","LocationIp","LocationMapBindings","pipIconPath","pipInteractive","pipStretch","LocationMapBindingsChanges","LocationMapController","checkLocation","loc","determineCoordinates","fill","stroke","points","LatLngBounds","path","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","LocationMap","files","FileFailBindings","FileFailController","FileFailChanges","fileFailComponent","FileSelectBindings","localFile","FileSelectController","onUploadButtonClick","onDeleteButtonClick","fileSelectDirective","FileStartBindings","FileStartChanges","FileStartController","fileStartDirective","FileSuccessBindings","FileSuccessController","fileSuccessDirective","FileUploadBindings","FileUploadButtons","buttonFunction","FileUploadChanges","FileUploadController","uploadButtons","failButtons","startButtons","onAbort","fileUploadDirective","./file_select/FileSelect","./file_start/FileStart","./file_success/FileSuccess","./file_upload/FileUpload","./model/FileModel","./service/FileUploadService","./service/MultiuploadResult","fileModelLink","fileModel","modelSetter","fileModelDirective","FileUploadState_1","FileUploadService","multiUpload","uploadedUrl","collections","oneFileResultCallback","oneFileProgressCallback","abortCallback","breakOnFirstError","idField","cancelQuery","file","fd","FormData","FileUploadState","Uploading","post","promise","lengthComputable","loaded","headers","Content-Type","Access-Control-Allow-Origin","Completed","Failed","res","upload","resultCallback","progressCallback","./FileUploadState","MultiuploadResult","dashboard","AddTileDialog","AddTileDialogController","groups","activeGroupIndex","widgetList","totalTiles","defaultTiles","group","groupIndex","widgets","encrease","widgetIndex","amount","decrease","widget","AddTileDialogController_1","DASHBOARD_ADD_TILE_DIALOG_TITLE","DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS","DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP","AddTileDialogService_1","AddTileDialogProvider","_widgetList","configWidgetList","MenuTileService_1","CalendarTileController","pipTileConfigDialogService","union","onConfigClick","dialogClass","extensionUrl","changeSize","MenuTileService","CalendarTile","DashboardTile","TileColors","TileSizes","TileConfigDialogController","sizes","sizeId","colSpan","rowSpan","updatedData","sizeX","sizeY","TileConfigExtendComponentBindings","pipExtensionUrl","pipDialogScope","pipApply","TileConfigExtendComponentChanges","TileConfigExtendComponentController","replaceWith","pipTileConfigComponent","ConfigDialogController_1","DASHBOARD_TILE_CONFIG_DIALOG_TITLE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE","TileConfigDialogService","./ConfigDialogExtendComponent","./ConfigDialogService","DROP_TO_CREATE_NEW_GROUP","pipAddTileDialogProvider","configureAvailableWidgets","DEFAULT_GRID_OPTIONS_1","draggableOptions","tileWidth","DashboardController","$interpolate","pipAddTileDialog","pipTileTemplate","defaultGroupMenuActions","addComponent","removeGroup","_includeTpl","groupMenuActions","groupedWidgets","draggableGridOptions","gridOptions","inline","groupAdditionalActions","widgetsContext","compileWidgets","removedWidgets","source","removeWidget","getTemplate","activeGroup","addWidgets","widgetGroup","Dashboard","DraggableTileService_1","TileGroupService_1","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","DEFAULT_OPTIONS","tileHeight","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","merge","tilesTemplates","tile","tileScope","createTileScope","IDragTileConstructor","DragTileService","tpl","watch","getContainerWidth","getAvailableColumns","availableWidth","tileGroups","setAvailableColumns","availableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","$container","prevVal","changedGroupIndex","addGroup","removeGroups","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","_a","from","attributes","toIndex","tileOptions","fromTileIndex","reIndexTiles","tilesContext","indexes","container","tiles","gIndex","child","newGroups","removeIndexes","remain","containers","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","newTile","addTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","mobileBreakpoint","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","belowElement","getTileByCoordinates","getTileIndex","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","speed","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragComponent","../tile_group/TileGroupService","./DraggableTileService","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","after","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","EventTileController","is","drawImage","onOpacitytest","_oldOpacity","naturalWidth","naturalHeight","EventTile","../menu_tile/MenuTileService","./calendar_tile/CalendarTile","./common_tile/Tile","./config_tile_dialog","./dashboard/Dashboard","./draggable","./event_tile/EventTile","./menu_tile","./note_tile/NoteTile","./picture_slider_tile/PictureSliderTile","./position_tile/PositionTile","./statistics_tile/StatisticsTile","./tile_group/index","./utility/TileTemplateUtility","TileMenu","callAction","actionName","MenuTileProvider","../common_tile/Tile","NoteTileController","NoteTile","PictureSliderController","animationInterval","animationType","PictureSliderTile","PositionTileController","showPosition","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","PositionTile","StatisticsTileController","chartSize","SMALL_CHART_1","_$timeout","setChartSize","StatisticsTile","DraggableTileLink","$elem","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTiles","24","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","basicCol","basicRow","getBasicRow","gridCopy","getCell","rowShift","prevTileSize","rightCornerCell","isCellFree","src","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","generateCells","currIndex","startCell","cells","tileSize","maxHeightSize","maxWidthSize","maxBy","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","./TileGroupService","tileTemplateService","_$interpolate","_$compile","_$templateRequest","strictCompile","interpolated","pipImageLoad","ImageLoad","settings","SettingsPageSelectedTab_1","SettingsPageController","pipSettings","translateInit","mediaSizeGtSm","initTabs","cleanUpSelectFunc","initSelect","cleanUpFunc","getTabs","selected","SettingsPageSelectedTab","getDefaultTab","PIP_SETTINGS","PIP_SETTINGS_DETAILS","toMainFromDetails","detailsTitle","updateState","tabIndex","tabId","onNavigationSelect","../service/SettingsPageSelectedTab","configureSettingsPageRoutes","auth","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsConfig_1","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","addTab","tabObj","validateTab","iconClass","stateConfig","SettingsStateConfig","SettingsTab","./SettingsConfig","./SettingsPageSelectedTab","./SettingsService","./SettingsStateConfig","./SettingsTab","help","HelpPageSelectedTab_1","HelpPageController","pipHelp","HelpPageSelectedTab","onDropdownSelect","configureHelpPageRoutes","./HelpPage","./HelpPageRoutes","HelpConfig","HelpService","HelpProvider","HelpConfig_1","HelpStateConfig","HelpTab","./HelpConfig","./HelpPageSelectedTab","./HelpService","./HelpStateConfig","./HelpTab"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.async = global.async || {})));\n}(this, (function (exports) { 'use strict';\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest$1(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n// Lodash rest function without function.toString()\n// remappings\nfunction rest(func, start) {\n    return overRest$1(func, start, identity);\n}\n\nvar initialParams = function (fn) {\n    return rest(function (args /*..., callback*/) {\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    });\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous funuction, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return initialParams(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if (isObject(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                callback(null, value);\n            }, function (err) {\n                callback(err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction supportsAsync() {\n    var supported;\n    try {\n        /* eslint no-eval: 0 */\n        supported = isAsync(eval('(async function () {})'));\n    } catch (e) {\n        supported = false;\n    }\n    return supported;\n}\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? asyncify(asyncFn) : asyncFn;\n}\n\nvar wrapAsync$1 = supportsAsync() ? wrapAsync : identity;\n\nfunction applyEach$1(eachfn) {\n    return rest(function (fns, args) {\n        var go = initialParams(function (args, callback) {\n            var that = this;\n            return eachfn(fns, function (fn, cb) {\n                wrapAsync$1(fn).apply(that, args.concat(cb));\n            }, callback);\n        });\n        if (args.length) {\n            return go.apply(this, args);\n        } else {\n            return go;\n        }\n    });\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol$1 = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  value = Object(value);\n  return (symToStringTag && symToStringTag in value)\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]';\nvar funcTag = '[object Function]';\nvar genTag = '[object GeneratorFunction]';\nvar proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nvar breakLoop = {};\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nvar getIterator = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$2.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]';\nvar arrayTag = '[object Array]';\nvar boolTag = '[object Boolean]';\nvar dateTag = '[object Date]';\nvar errorTag = '[object Error]';\nvar funcTag$1 = '[object Function]';\nvar mapTag = '[object Map]';\nvar numberTag = '[object Number]';\nvar objectTag = '[object Object]';\nvar regexpTag = '[object RegExp]';\nvar setTag = '[object Set]';\nvar stringTag = '[object String]';\nvar weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\nvar dataViewTag = '[object DataView]';\nvar float32Tag = '[object Float32Array]';\nvar float64Tag = '[object Float64Array]';\nvar int8Tag = '[object Int8Array]';\nvar int16Tag = '[object Int16Array]';\nvar int32Tag = '[object Int32Array]';\nvar uint8Tag = '[object Uint8Array]';\nvar uint8ClampedTag = '[object Uint8ClampedArray]';\nvar uint16Tag = '[object Uint16Array]';\nvar uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag$1] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/** Detect free variable `exports`. */\nvar freeExports$1 = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule$1 = freeExports$1 && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports$1 && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$1.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$5;\n\n  return value === proto;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$3.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? { value: coll[i], key: i } : null;\n    };\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done) return null;\n        i++;\n        return { value: item.value, key: i };\n    };\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = keys(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        return i < len ? { value: obj[key], key: key } : null;\n    };\n}\n\nfunction iterator(coll) {\n    if (isArrayLike(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = getIterator(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\n\nfunction onlyOnce(fn) {\n    return function () {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = once(callback || noop);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = iterator(obj);\n        var done = false;\n        var running = 0;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            } else if (value === breakLoop || done && running <= 0) {\n                done = true;\n                return callback(null);\n            } else {\n                replenish();\n            }\n        }\n\n        function replenish() {\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, onlyOnce(iterateeCallback));\n            }\n        }\n\n        replenish();\n    };\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n  _eachOfLimit(limit)(coll, wrapAsync$1(iteratee), callback);\n}\n\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = once(callback || noop);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if (++completed === length || value === breakLoop) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, onlyOnce(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = doLimit(eachOfLimit, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nvar eachOf = function (coll, iteratee, callback) {\n    var eachOfImplementation = isArrayLike(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, wrapAsync$1(iteratee), callback);\n};\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOf, obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || noop;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = wrapAsync$1(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nvar map = doParallel(_asyncMap);\n\n/**\n * Applies the provided arguments to each function in the array, calling\n * `callback` after all functions have completed. If you only provide the first\n * argument, `fns`, then it will return a function which lets you pass in the\n * arguments as if it were a single function call. If more arguments are\n * provided, `callback` is required while `args` is still optional.\n *\n * @name applyEach\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s\n * to all call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument, `fns`, is provided, it will\n * return a function which lets you pass in the arguments as if it were a single\n * function call. The signature is `(..args, callback)`. If invoked with any\n * arguments, `callback` is required.\n * @example\n *\n * async.applyEach([enableSearch, updateSchema], 'bucket', callback);\n *\n * // partial application example:\n * async.each(\n *     buckets,\n *     async.applyEach([enableSearch, updateSchema]),\n *     callback\n * );\n */\nvar applyEach = applyEach$1(map);\n\nfunction doParallelLimit(fn) {\n    return function (obj, limit, iteratee, callback) {\n        return fn(_eachOfLimit(limit), obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs a maximum of `limit` async operations at a time.\n *\n * @name mapLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapLimit = doParallelLimit(_asyncMap);\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs only a single async operation at a time.\n *\n * @name mapSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapSeries = doLimit(mapLimit, 1);\n\n/**\n * The same as [`applyEach`]{@link module:ControlFlow.applyEach} but runs only a single async operation at a time.\n *\n * @name applyEachSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.applyEach]{@link module:ControlFlow.applyEach}\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s to all\n * call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument is provided, it will return\n * a function which lets you pass in the arguments as if it were a single\n * function call.\n */\nvar applyEachSeries = applyEach$1(mapSeries);\n\n/**\n * Creates a continuation function with some arguments already applied.\n *\n * Useful as a shorthand when combined with other control flow functions. Any\n * arguments passed to the returned function are added to the arguments\n * originally passed to apply.\n *\n * @name apply\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {Function} function - The function you want to eventually apply all\n * arguments to. Invokes with (arguments...).\n * @param {...*} arguments... - Any number of arguments to automatically apply\n * when the continuation is called.\n * @example\n *\n * // using apply\n * async.parallel([\n *     async.apply(fs.writeFile, 'testfile1', 'test1'),\n *     async.apply(fs.writeFile, 'testfile2', 'test2')\n * ]);\n *\n *\n * // the same process without using apply\n * async.parallel([\n *     function(callback) {\n *         fs.writeFile('testfile1', 'test1', callback);\n *     },\n *     function(callback) {\n *         fs.writeFile('testfile2', 'test2', callback);\n *     }\n * ]);\n *\n * // It's possible to pass any number of additional arguments when calling the\n * // continuation:\n *\n * node> var fn = async.apply(sys.puts, 'one');\n * node> fn('two', 'three');\n * one\n * two\n * three\n */\nvar apply$2 = rest(function (fn, args) {\n    return rest(function (callArgs) {\n        return fn.apply(null, args.concat(callArgs));\n    });\n});\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\n/**\n * Determines the best order for running the {@link AsyncFunction}s in `tasks`, based on\n * their requirements. Each function can optionally depend on other functions\n * being completed first, and each function is run as soon as its requirements\n * are satisfied.\n *\n * If any of the {@link AsyncFunction}s pass an error to their callback, the `auto` sequence\n * will stop. Further tasks will not execute (so any other functions depending\n * on it will not run), and the main `callback` is immediately called with the\n * error.\n *\n * {@link AsyncFunction}s also receive an object containing the results of functions which\n * have completed so far as the first argument, if they have dependencies. If a\n * task function has no dependencies, it will only be passed a callback.\n *\n * @name auto\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Object} tasks - An object. Each of its properties is either a\n * function or an array of requirements, with the {@link AsyncFunction} itself the last item\n * in the array. The object's key of a property serves as the name of the task\n * defined by that property, i.e. can be used when specifying requirements for\n * other tasks. The function receives one or two arguments:\n * * a `results` object, containing the results of the previously executed\n *   functions, only passed if the task has any dependencies,\n * * a `callback(err, result)` function, which must be called when finished,\n *   passing an `error` (which can be `null`) and the result of the function's\n *   execution.\n * @param {number} [concurrency=Infinity] - An optional `integer` for\n * determining the maximum number of tasks that can be run in parallel. By\n * default, as many as possible.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback. Results are always returned; however, if an\n * error occurs, no further `tasks` will be performed, and the results object\n * will only contain partial results. Invoked with (err, results).\n * @returns undefined\n * @example\n *\n * async.auto({\n *     // this function will just be passed a callback\n *     readData: async.apply(fs.readFile, 'data.txt', 'utf-8'),\n *     showData: ['readData', function(results, cb) {\n *         // results.readData is the file's contents\n *         // ...\n *     }]\n * }, callback);\n *\n * async.auto({\n *     get_data: function(callback) {\n *         console.log('in get_data');\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         console.log('in make_folder');\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: ['get_data', 'make_folder', function(results, callback) {\n *         console.log('in write_file', JSON.stringify(results));\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(results, callback) {\n *         console.log('in email_link', JSON.stringify(results));\n *         // once the file is written let's email a link to it...\n *         // results.write_file contains the filename returned by write_file.\n *         callback(null, {'file':results.write_file, 'email':'user@example.com'});\n *     }]\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('results = ', results);\n * });\n */\nvar auto = function (tasks, concurrency, callback) {\n    if (typeof concurrency === 'function') {\n        // concurrency is optional, shift the args.\n        callback = concurrency;\n        concurrency = null;\n    }\n    callback = once(callback || noop);\n    var keys$$1 = keys(tasks);\n    var numTasks = keys$$1.length;\n    if (!numTasks) {\n        return callback(null);\n    }\n    if (!concurrency) {\n        concurrency = numTasks;\n    }\n\n    var results = {};\n    var runningTasks = 0;\n    var hasError = false;\n\n    var listeners = Object.create(null);\n\n    var readyTasks = [];\n\n    // for cycle detection:\n    var readyToCheck = []; // tasks that have been identified as reachable\n    // without the possibility of returning to an ancestor task\n    var uncheckedDependencies = {};\n\n    baseForOwn(tasks, function (task, key) {\n        if (!isArray(task)) {\n            // no dependencies\n            enqueueTask(key, [task]);\n            readyToCheck.push(key);\n            return;\n        }\n\n        var dependencies = task.slice(0, task.length - 1);\n        var remainingDependencies = dependencies.length;\n        if (remainingDependencies === 0) {\n            enqueueTask(key, task);\n            readyToCheck.push(key);\n            return;\n        }\n        uncheckedDependencies[key] = remainingDependencies;\n\n        arrayEach(dependencies, function (dependencyName) {\n            if (!tasks[dependencyName]) {\n                throw new Error('async.auto task `' + key + '` has a non-existent dependency `' + dependencyName + '` in ' + dependencies.join(', '));\n            }\n            addListener(dependencyName, function () {\n                remainingDependencies--;\n                if (remainingDependencies === 0) {\n                    enqueueTask(key, task);\n                }\n            });\n        });\n    });\n\n    checkForDeadlocks();\n    processQueue();\n\n    function enqueueTask(key, task) {\n        readyTasks.push(function () {\n            runTask(key, task);\n        });\n    }\n\n    function processQueue() {\n        if (readyTasks.length === 0 && runningTasks === 0) {\n            return callback(null, results);\n        }\n        while (readyTasks.length && runningTasks < concurrency) {\n            var run = readyTasks.shift();\n            run();\n        }\n    }\n\n    function addListener(taskName, fn) {\n        var taskListeners = listeners[taskName];\n        if (!taskListeners) {\n            taskListeners = listeners[taskName] = [];\n        }\n\n        taskListeners.push(fn);\n    }\n\n    function taskComplete(taskName) {\n        var taskListeners = listeners[taskName] || [];\n        arrayEach(taskListeners, function (fn) {\n            fn();\n        });\n        processQueue();\n    }\n\n    function runTask(key, task) {\n        if (hasError) return;\n\n        var taskCallback = onlyOnce(rest(function (err, args) {\n            runningTasks--;\n            if (args.length <= 1) {\n                args = args[0];\n            }\n            if (err) {\n                var safeResults = {};\n                baseForOwn(results, function (val, rkey) {\n                    safeResults[rkey] = val;\n                });\n                safeResults[key] = args;\n                hasError = true;\n                listeners = Object.create(null);\n\n                callback(err, safeResults);\n            } else {\n                results[key] = args;\n                taskComplete(key);\n            }\n        }));\n\n        runningTasks++;\n        var taskFn = wrapAsync$1(task[task.length - 1]);\n        if (task.length > 1) {\n            taskFn(results, taskCallback);\n        } else {\n            taskFn(taskCallback);\n        }\n    }\n\n    function checkForDeadlocks() {\n        // Kahn's algorithm\n        // https://en.wikipedia.org/wiki/Topological_sorting#Kahn.27s_algorithm\n        // http://connalle.blogspot.com/2013/10/topological-sortingkahn-algorithm.html\n        var currentTask;\n        var counter = 0;\n        while (readyToCheck.length) {\n            currentTask = readyToCheck.pop();\n            counter++;\n            arrayEach(getDependents(currentTask), function (dependent) {\n                if (--uncheckedDependencies[dependent] === 0) {\n                    readyToCheck.push(dependent);\n                }\n            });\n        }\n\n        if (counter !== numTasks) {\n            throw new Error('async.auto cannot execute tasks due to a recursive dependency');\n        }\n    }\n\n    function getDependents(taskName) {\n        var result = [];\n        baseForOwn(tasks, function (task, key) {\n            if (isArray(task) && baseIndexOf(task, taskName, 0) >= 0) {\n                result.push(key);\n            }\n        });\n        return result;\n    }\n};\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : undefined;\nvar symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange$1 = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange$1 = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange$1 = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange$1 = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange$1 + ']';\nvar rsCombo = '[' + rsComboMarksRange$1 + rsComboSymbolsRange$1 + ']';\nvar rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\nvar rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')';\nvar rsNonAstral = '[^' + rsAstralRange$1 + ']';\nvar rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\nvar rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\nvar rsZWJ$1 = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?';\nvar rsOptVar = '[' + rsVarRange$1 + ']?';\nvar rsOptJoin = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*';\nvar rsSeq = rsOptVar + reOptMod + rsOptJoin;\nvar rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nvar FN_ARGS = /^(?:async\\s+)?(function)?\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\nvar FN_ARG_SPLIT = /,/;\nvar FN_ARG = /(=.+)?(\\s*)$/;\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\nfunction parseParams(func) {\n    func = func.toString().replace(STRIP_COMMENTS, '');\n    func = func.match(FN_ARGS)[2].replace(' ', '');\n    func = func ? func.split(FN_ARG_SPLIT) : [];\n    func = func.map(function (arg) {\n        return trim(arg.replace(FN_ARG, ''));\n    });\n    return func;\n}\n\n/**\n * A dependency-injected version of the [async.auto]{@link module:ControlFlow.auto} function. Dependent\n * tasks are specified as parameters to the function, after the usual callback\n * parameter, with the parameter names matching the names of the tasks it\n * depends on. This can provide even more readable task graphs which can be\n * easier to maintain.\n *\n * If a final callback is specified, the task results are similarly injected,\n * specified as named parameters after the initial error parameter.\n *\n * The autoInject function is purely syntactic sugar and its semantics are\n * otherwise equivalent to [async.auto]{@link module:ControlFlow.auto}.\n *\n * @name autoInject\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.auto]{@link module:ControlFlow.auto}\n * @category Control Flow\n * @param {Object} tasks - An object, each of whose properties is an {@link AsyncFunction} of\n * the form 'func([dependencies...], callback). The object's key of a property\n * serves as the name of the task defined by that property, i.e. can be used\n * when specifying requirements for other tasks.\n * * The `callback` parameter is a `callback(err, result)` which must be called\n *   when finished, passing an `error` (which can be `null`) and the result of\n *   the function's execution. The remaining parameters name other tasks on\n *   which the task is dependent, and the results from those tasks are the\n *   arguments of those parameters.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback, and a `results` object with any completed\n * task results, similar to `auto`.\n * @example\n *\n * //  The example from `auto` can be rewritten as follows:\n * async.autoInject({\n *     get_data: function(callback) {\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: function(get_data, make_folder, callback) {\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     },\n *     email_link: function(write_file, callback) {\n *         // once the file is written let's email a link to it...\n *         // write_file contains the filename returned by write_file.\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n *\n * // If you are using a JS minifier that mangles parameter names, `autoInject`\n * // will not work with plain functions, since the parameter names will be\n * // collapsed to a single letter identifier.  To work around this, you can\n * // explicitly specify the names of the parameters your task function needs\n * // in an array, similar to Angular.js dependency injection.\n *\n * // This still has an advantage over plain `auto`, since the results a task\n * // depends on are still spread into arguments.\n * async.autoInject({\n *     //...\n *     write_file: ['get_data', 'make_folder', function(get_data, make_folder, callback) {\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(write_file, callback) {\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }]\n *     //...\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n */\nfunction autoInject(tasks, callback) {\n    var newTasks = {};\n\n    baseForOwn(tasks, function (taskFn, key) {\n        var params;\n        var fnIsAsync = isAsync(taskFn);\n        var hasNoDeps = !fnIsAsync && taskFn.length === 1 || fnIsAsync && taskFn.length === 0;\n\n        if (isArray(taskFn)) {\n            params = taskFn.slice(0, -1);\n            taskFn = taskFn[taskFn.length - 1];\n\n            newTasks[key] = params.concat(params.length > 0 ? newTask : taskFn);\n        } else if (hasNoDeps) {\n            // no dependencies, use the function as-is\n            newTasks[key] = taskFn;\n        } else {\n            params = parseParams(taskFn);\n            if (taskFn.length === 0 && !fnIsAsync && params.length === 0) {\n                throw new Error(\"autoInject task functions require explicit parameters.\");\n            }\n\n            // remove callback param\n            if (!fnIsAsync) params.pop();\n\n            newTasks[key] = params.concat(newTask);\n        }\n\n        function newTask(results, taskCb) {\n            var newArgs = arrayMap(params, function (name) {\n                return results[name];\n            });\n            newArgs.push(taskCb);\n            wrapAsync$1(taskFn).apply(null, newArgs);\n        }\n    });\n\n    auto(newTasks, callback);\n}\n\nvar hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return rest(function (fn, args) {\n        defer(function () {\n            fn.apply(null, args);\n        });\n    });\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nvar setImmediate$1 = wrap(_defer);\n\n// Simple doubly linked list (https://en.wikipedia.org/wiki/Doubly_linked_list) implementation\n// used for queues. This implementation assumes that the node provided by the user can be modified\n// to adjust the next and last properties. We implement only the minimal functionality\n// for queue support.\nfunction DLL() {\n    this.head = this.tail = null;\n    this.length = 0;\n}\n\nfunction setInitial(dll, node) {\n    dll.length = 1;\n    dll.head = dll.tail = node;\n}\n\nDLL.prototype.removeLink = function (node) {\n    if (node.prev) node.prev.next = node.next;else this.head = node.next;\n    if (node.next) node.next.prev = node.prev;else this.tail = node.prev;\n\n    node.prev = node.next = null;\n    this.length -= 1;\n    return node;\n};\n\nDLL.prototype.empty = DLL;\n\nDLL.prototype.insertAfter = function (node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next) node.next.prev = newNode;else this.tail = newNode;\n    node.next = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.insertBefore = function (node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev) node.prev.next = newNode;else this.head = newNode;\n    node.prev = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.unshift = function (node) {\n    if (this.head) this.insertBefore(this.head, node);else setInitial(this, node);\n};\n\nDLL.prototype.push = function (node) {\n    if (this.tail) this.insertAfter(this.tail, node);else setInitial(this, node);\n};\n\nDLL.prototype.shift = function () {\n    return this.head && this.removeLink(this.head);\n};\n\nDLL.prototype.pop = function () {\n    return this.tail && this.removeLink(this.tail);\n};\n\nfunction queue(worker, concurrency, payload) {\n    if (concurrency == null) {\n        concurrency = 1;\n    } else if (concurrency === 0) {\n        throw new Error('Concurrency must not be zero');\n    }\n\n    var _worker = wrapAsync$1(worker);\n    var numRunning = 0;\n    var workersList = [];\n\n    function _insert(data, insertAtFront, callback) {\n        if (callback != null && typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0 && q.idle()) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function () {\n                q.drain();\n            });\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                callback: callback || noop\n            };\n\n            if (insertAtFront) {\n                q._tasks.unshift(item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    }\n\n    function _next(tasks) {\n        return rest(function (args) {\n            numRunning -= 1;\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                var task = tasks[i];\n                var index = baseIndexOf(workersList, task, 0);\n                if (index >= 0) {\n                    workersList.splice(index);\n                }\n\n                task.callback.apply(task, args);\n\n                if (args[0] != null) {\n                    q.error(args[0], task.data);\n                }\n            }\n\n            if (numRunning <= q.concurrency - q.buffer) {\n                q.unsaturated();\n            }\n\n            if (q.idle()) {\n                q.drain();\n            }\n            q.process();\n        });\n    }\n\n    var isProcessing = false;\n    var q = {\n        _tasks: new DLL(),\n        concurrency: concurrency,\n        payload: payload,\n        saturated: noop,\n        unsaturated: noop,\n        buffer: concurrency / 4,\n        empty: noop,\n        drain: noop,\n        error: noop,\n        started: false,\n        paused: false,\n        push: function (data, callback) {\n            _insert(data, false, callback);\n        },\n        kill: function () {\n            q.drain = noop;\n            q._tasks.empty();\n        },\n        unshift: function (data, callback) {\n            _insert(data, true, callback);\n        },\n        process: function () {\n            // Avoid trying to start too many processing operations. This can occur\n            // when callbacks resolve synchronously (#1267).\n            if (isProcessing) {\n                return;\n            }\n            isProcessing = true;\n            while (!q.paused && numRunning < q.concurrency && q._tasks.length) {\n                var tasks = [],\n                    data = [];\n                var l = q._tasks.length;\n                if (q.payload) l = Math.min(l, q.payload);\n                for (var i = 0; i < l; i++) {\n                    var node = q._tasks.shift();\n                    tasks.push(node);\n                    data.push(node.data);\n                }\n\n                if (q._tasks.length === 0) {\n                    q.empty();\n                }\n                numRunning += 1;\n                workersList.push(tasks[0]);\n\n                if (numRunning === q.concurrency) {\n                    q.saturated();\n                }\n\n                var cb = onlyOnce(_next(tasks));\n                _worker(data, cb);\n            }\n            isProcessing = false;\n        },\n        length: function () {\n            return q._tasks.length;\n        },\n        running: function () {\n            return numRunning;\n        },\n        workersList: function () {\n            return workersList;\n        },\n        idle: function () {\n            return q._tasks.length + numRunning === 0;\n        },\n        pause: function () {\n            q.paused = true;\n        },\n        resume: function () {\n            if (q.paused === false) {\n                return;\n            }\n            q.paused = false;\n            setImmediate$1(q.process);\n        }\n    };\n    return q;\n}\n\n/**\n * A cargo of tasks for the worker function to complete. Cargo inherits all of\n * the same methods and event callbacks as [`queue`]{@link module:ControlFlow.queue}.\n * @typedef {Object} CargoObject\n * @memberOf module:ControlFlow\n * @property {Function} length - A function returning the number of items\n * waiting to be processed. Invoke like `cargo.length()`.\n * @property {number} payload - An `integer` for determining how many tasks\n * should be process per round. This property can be changed after a `cargo` is\n * created to alter the payload on-the-fly.\n * @property {Function} push - Adds `task` to the `queue`. The callback is\n * called once the `worker` has finished processing the task. Instead of a\n * single task, an array of `tasks` can be submitted. The respective callback is\n * used for every task in the list. Invoke like `cargo.push(task, [callback])`.\n * @property {Function} saturated - A callback that is called when the\n * `queue.length()` hits the concurrency and further tasks will be queued.\n * @property {Function} empty - A callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - A callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke like `cargo.idle()`.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke like `cargo.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke like `cargo.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke like `cargo.kill()`.\n */\n\n/**\n * Creates a `cargo` object with the specified payload. Tasks added to the\n * cargo will be processed altogether (up to the `payload` limit). If the\n * `worker` is in progress, the task is queued until it becomes available. Once\n * the `worker` has completed some tasks, each callback of those tasks is\n * called. Check out [these](https://camo.githubusercontent.com/6bbd36f4cf5b35a0f11a96dcd2e97711ffc2fb37/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130382f62626330636662302d356632392d313165322d393734662d3333393763363464633835382e676966) [animations](https://camo.githubusercontent.com/f4810e00e1c5f5f8addbe3e9f49064fd5d102699/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130312f38346339323036362d356632392d313165322d383134662d3964336430323431336266642e676966)\n * for how `cargo` and `queue` work.\n *\n * While [`queue`]{@link module:ControlFlow.queue} passes only one task to one of a group of workers\n * at a time, cargo passes an array of tasks to a single worker, repeating\n * when the worker is finished.\n *\n * @name cargo\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An asynchronous function for processing an array\n * of queued tasks. Invoked with `(tasks, callback)`.\n * @param {number} [payload=Infinity] - An optional `integer` for determining\n * how many tasks should be processed per round; if omitted, the default is\n * unlimited.\n * @returns {module:ControlFlow.CargoObject} A cargo object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the cargo and inner queue.\n * @example\n *\n * // create a cargo object with payload 2\n * var cargo = async.cargo(function(tasks, callback) {\n *     for (var i=0; i<tasks.length; i++) {\n *         console.log('hello ' + tasks[i].name);\n *     }\n *     callback();\n * }, 2);\n *\n * // add some items\n * cargo.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * cargo.push({name: 'bar'}, function(err) {\n *     console.log('finished processing bar');\n * });\n * cargo.push({name: 'baz'}, function(err) {\n *     console.log('finished processing baz');\n * });\n */\nfunction cargo(worker, payload) {\n  return queue(worker, 1, payload);\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs only a single async operation at a time.\n *\n * @name eachOfSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachOfSeries = doLimit(eachOfLimit, 1);\n\n/**\n * Reduces `coll` into a single value using an async `iteratee` to return each\n * successive step. `memo` is the initial state of the reduction. This function\n * only operates in series.\n *\n * For performance reasons, it may make sense to split a call to this function\n * into a parallel map, and then use the normal `Array.prototype.reduce` on the\n * results. This function is for situations where each step in the reduction\n * needs to be async; if you can get the data before reducing it, then it's\n * probably a good idea to do so.\n *\n * @name reduce\n * @static\n * @memberOf module:Collections\n * @method\n * @alias inject\n * @alias foldl\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n * @example\n *\n * async.reduce([1,2,3], 0, function(memo, item, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         callback(null, memo + item)\n *     });\n * }, function(err, result) {\n *     // result is now equal to the last value of memo, which is 6\n * });\n */\nfunction reduce(coll, memo, iteratee, callback) {\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    eachOfSeries(coll, function (x, i, callback) {\n        _iteratee(memo, x, function (err, v) {\n            memo = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, memo);\n    });\n}\n\n/**\n * Version of the compose function that is more natural to read. Each function\n * consumes the return value of the previous function. It is the equivalent of\n * [compose]{@link module:ControlFlow.compose} with the arguments reversed.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name seq\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.compose]{@link module:ControlFlow.compose}\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} a function that composes the `functions` in order\n * @example\n *\n * // Requires lodash (or underscore), express3 and dresende's orm2.\n * // Part of an app, that fetches cats of the logged user.\n * // This example uses `seq` function to avoid overnesting and error\n * // handling clutter.\n * app.get('/cats', function(request, response) {\n *     var User = request.models.User;\n *     async.seq(\n *         _.bind(User.get, User),  // 'User.get' has signature (id, callback(err, data))\n *         function(user, fn) {\n *             user.getCats(fn);      // 'getCats' has signature (callback(err, data))\n *         }\n *     )(req.session.user_id, function (err, cats) {\n *         if (err) {\n *             console.error(err);\n *             response.json({ status: 'error', message: err.message });\n *         } else {\n *             response.json({ status: 'ok', message: 'Cats found', data: cats });\n *         }\n *     });\n * });\n */\nvar seq$1 = rest(function seq(functions) {\n    var _functions = arrayMap(functions, wrapAsync$1);\n    return rest(function (args) {\n        var that = this;\n\n        var cb = args[args.length - 1];\n        if (typeof cb == 'function') {\n            args.pop();\n        } else {\n            cb = noop;\n        }\n\n        reduce(_functions, args, function (newargs, fn, cb) {\n            fn.apply(that, newargs.concat(rest(function (err, nextargs) {\n                cb(err, nextargs);\n            })));\n        }, function (err, results) {\n            cb.apply(that, [err].concat(results));\n        });\n    });\n});\n\n/**\n * Creates a function which is a composition of the passed asynchronous\n * functions. Each function consumes the return value of the function that\n * follows. Composing functions `f()`, `g()`, and `h()` would produce the result\n * of `f(g(h()))`, only this version uses callbacks to obtain the return values.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name compose\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} an asynchronous function that is the composed\n * asynchronous `functions`\n * @example\n *\n * function add1(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n + 1);\n *     }, 10);\n * }\n *\n * function mul3(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n * 3);\n *     }, 10);\n * }\n *\n * var add1mul3 = async.compose(mul3, add1);\n * add1mul3(4, function (err, result) {\n *     // result now equals 15\n * });\n */\nvar compose = rest(function (args) {\n  return seq$1.apply(null, args.reverse());\n});\n\nfunction concat$1(eachfn, arr, fn, callback) {\n    var result = [];\n    eachfn(arr, function (x, index, cb) {\n        fn(x, function (err, y) {\n            result = result.concat(y || []);\n            cb(err);\n        });\n    }, function (err) {\n        callback(err, result);\n    });\n}\n\n/**\n * Applies `iteratee` to each item in `coll`, concatenating the results. Returns\n * the concatenated list. The `iteratee`s are called in parallel, and the\n * results are concatenated as they return. There is no guarantee that the\n * results array will be returned in the original order of `coll` passed to the\n * `iteratee` function.\n *\n * @name concat\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`,\n * which should use an array as its result. Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n * @example\n *\n * async.concat(['dir1','dir2','dir3'], fs.readdir, function(err, files) {\n *     // files is now a list of filenames that exist in the 3 directories\n * });\n */\nvar concat = doParallel(concat$1);\n\nfunction doSeries(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOfSeries, obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`concat`]{@link module:Collections.concat} but runs only a single async operation at a time.\n *\n * @name concatSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.concat]{@link module:Collections.concat}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`.\n * The iteratee should complete with an array an array of results.\n * Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n */\nvar concatSeries = doSeries(concat$1);\n\n/**\n * Returns a function that when called, calls-back with the values provided.\n * Useful as the first function in a [`waterfall`]{@link module:ControlFlow.waterfall}, or for plugging values in to\n * [`auto`]{@link module:ControlFlow.auto}.\n *\n * @name constant\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {...*} arguments... - Any number of arguments to automatically invoke\n * callback with.\n * @returns {AsyncFunction} Returns a function that when invoked, automatically\n * invokes the callback with the previous given arguments.\n * @example\n *\n * async.waterfall([\n *     async.constant(42),\n *     function (value, next) {\n *         // value === 42\n *     },\n *     //...\n * ], callback);\n *\n * async.waterfall([\n *     async.constant(filename, \"utf8\"),\n *     fs.readFile,\n *     function (fileData, next) {\n *         //...\n *     }\n *     //...\n * ], callback);\n *\n * async.auto({\n *     hostname: async.constant(\"https://server.net/\"),\n *     port: findFreePort,\n *     launchServer: [\"hostname\", \"port\", function (options, cb) {\n *         startServer(options, cb);\n *     }],\n *     //...\n * }, callback);\n */\nvar constant = rest(function (values) {\n    var args = [null].concat(values);\n    return initialParams(function (ignoredArgs, callback) {\n        return callback.apply(this, args);\n    });\n});\n\nfunction _createTester(check, getResult) {\n    return function (eachfn, arr, iteratee, cb) {\n        cb = cb || noop;\n        var testPassed = false;\n        var testResult;\n        eachfn(arr, function (value, _, callback) {\n            iteratee(value, function (err, result) {\n                if (err) {\n                    callback(err);\n                } else if (check(result) && !testResult) {\n                    testPassed = true;\n                    testResult = getResult(true, value);\n                    callback(null, breakLoop);\n                } else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            if (err) {\n                cb(err);\n            } else {\n                cb(null, testPassed ? testResult : getResult(false));\n            }\n        });\n    };\n}\n\nfunction _findGetResult(v, x) {\n    return x;\n}\n\n/**\n * Returns the first value in `coll` that passes an async truth test. The\n * `iteratee` is applied in parallel, meaning the first iteratee to return\n * `true` will fire the detect `callback` with that result. That means the\n * result might not be the first item in the original `coll` (in terms of order)\n * that passes the test.\n\n * If order within the original `coll` is important, then look at\n * [`detectSeries`]{@link module:Collections.detectSeries}.\n *\n * @name detect\n * @static\n * @memberOf module:Collections\n * @method\n * @alias find\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n * @example\n *\n * async.detect(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // result now equals the first file in the list that exists\n * });\n */\nvar detect = doParallel(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name detectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findLimit\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectLimit = doParallelLimit(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs only a single async operation at a time.\n *\n * @name detectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findSeries\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectSeries = doLimit(detectLimit, 1);\n\nfunction consoleFunc(name) {\n    return rest(function (fn, args) {\n        wrapAsync$1(fn).apply(null, args.concat(rest(function (err, args) {\n            if (typeof console === 'object') {\n                if (err) {\n                    if (console.error) {\n                        console.error(err);\n                    }\n                } else if (console[name]) {\n                    arrayEach(args, function (x) {\n                        console[name](x);\n                    });\n                }\n            }\n        })));\n    });\n}\n\n/**\n * Logs the result of an [`async` function]{@link AsyncFunction} to the\n * `console` using `console.dir` to display the properties of the resulting object.\n * Only works in Node.js or in browsers that support `console.dir` and\n * `console.error` (such as FF and Chrome).\n * If multiple arguments are returned from the async function,\n * `console.dir` is called on each argument in order.\n *\n * @name dir\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, {hello: name});\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.dir(hello, 'world');\n * {hello: 'world'}\n */\nvar dir = consoleFunc('dir');\n\n/**\n * The post-check version of [`during`]{@link module:ControlFlow.during}. To reflect the difference in\n * the order of operations, the arguments `test` and `fn` are switched.\n *\n * Also a version of [`doWhilst`]{@link module:ControlFlow.doWhilst} with asynchronous `test` function.\n * @name doDuring\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.during]{@link module:ControlFlow.during}\n * @category Control Flow\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (...args, callback), where `...args` are the\n * non-error args from the previous callback of `fn`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error if one occurred, otherwise `null`.\n */\nfunction doDuring(fn, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync$1(fn);\n    var _test = wrapAsync$1(test);\n\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        args.push(check);\n        _test.apply(this, args);\n    });\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    check(null, true);\n}\n\n/**\n * The post-check version of [`whilst`]{@link module:ControlFlow.whilst}. To reflect the difference in\n * the order of operations, the arguments `test` and `iteratee` are switched.\n *\n * `doWhilst` is to `whilst` as `do while` is to `while` in plain JavaScript.\n *\n * @name doWhilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - A function which is called each time `test`\n * passes. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped.\n * `callback` will be passed an error and any arguments passed to the final\n * `iteratee`'s callback. Invoked with (err, [results]);\n */\nfunction doWhilst(iteratee, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        if (test.apply(this, args)) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    });\n    _iteratee(next);\n}\n\n/**\n * Like ['doWhilst']{@link module:ControlFlow.doWhilst}, except the `test` is inverted. Note the\n * argument ordering differs from `until`.\n *\n * @name doUntil\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.doWhilst]{@link module:ControlFlow.doWhilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction doUntil(iteratee, test, callback) {\n    doWhilst(iteratee, function () {\n        return !test.apply(this, arguments);\n    }, callback);\n}\n\n/**\n * Like [`whilst`]{@link module:ControlFlow.whilst}, except the `test` is an asynchronous function that\n * is passed a callback in the form of `function (err, truth)`. If error is\n * passed to `test` or `fn`, the main callback is immediately called with the\n * value of the error.\n *\n * @name during\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (callback).\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error, if one occurred, otherwise `null`.\n * @example\n *\n * var count = 0;\n *\n * async.during(\n *     function (callback) {\n *         return callback(null, count < 5);\n *     },\n *     function (callback) {\n *         count++;\n *         setTimeout(callback, 1000);\n *     },\n *     function (err) {\n *         // 5 seconds have passed\n *     }\n * );\n */\nfunction during(test, fn, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync$1(fn);\n    var _test = wrapAsync$1(test);\n\n    function next(err) {\n        if (err) return callback(err);\n        _test(check);\n    }\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    _test(check);\n}\n\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\n\n/**\n * Applies the function `iteratee` to each item in `coll`, in parallel.\n * The `iteratee` is called with an item from the list, and a callback for when\n * it has finished. If the `iteratee` passes an error to its `callback`, the\n * main `callback` (for the `each` function) is immediately called with the\n * error.\n *\n * Note, that since this function applies `iteratee` to each item in parallel,\n * there is no guarantee that the iteratee functions will complete in order.\n *\n * @name each\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEach\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to\n * each item in `coll`. Invoked with (item, callback).\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOf`.\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * // assuming openFiles is an array of file names and saveFile is a function\n * // to save the modified contents of that file:\n *\n * async.each(openFiles, saveFile, function(err){\n *   // if any of the saves produced an error, err would equal that error\n * });\n *\n * // assuming openFiles is an array of file names\n * async.each(openFiles, function(file, callback) {\n *\n *     // Perform operation on file here.\n *     console.log('Processing file ' + file);\n *\n *     if( file.length > 32 ) {\n *       console.log('This file name is too long');\n *       callback('File name too long');\n *     } else {\n *       // Do work to process file here\n *       console.log('File processed');\n *       callback();\n *     }\n * }, function(err) {\n *     // if any of the file processing produced an error, err would equal that error\n *     if( err ) {\n *       // One of the iterations produced an error.\n *       // All processing will now stop.\n *       console.log('A file failed to process');\n *     } else {\n *       console.log('All files have been processed successfully');\n *     }\n * });\n */\nfunction eachLimit(coll, iteratee, callback) {\n  eachOf(coll, _withoutIndex(wrapAsync$1(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit$1(coll, limit, iteratee, callback) {\n  _eachOfLimit(limit)(coll, _withoutIndex(wrapAsync$1(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachSeries = doLimit(eachLimit$1, 1);\n\n/**\n * Wrap an async function and ensure it calls its callback on a later tick of\n * the event loop.  If the function already calls its callback on a next tick,\n * no extra deferral is added. This is useful for preventing stack overflows\n * (`RangeError: Maximum call stack size exceeded`) and generally keeping\n * [Zalgo](http://blog.izs.me/post/59142742143/designing-apis-for-asynchrony)\n * contained. ES2017 `async` functions are returned as-is -- they are immune\n * to Zalgo's corrupting influences, as they always resolve on a later tick.\n *\n * @name ensureAsync\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - an async function, one that expects a node-style\n * callback as its last argument.\n * @returns {AsyncFunction} Returns a wrapped function with the exact same call\n * signature as the function passed in.\n * @example\n *\n * function sometimesAsync(arg, callback) {\n *     if (cache[arg]) {\n *         return callback(null, cache[arg]); // this would be synchronous!!\n *     } else {\n *         doSomeIO(arg, callback); // this IO would be asynchronous\n *     }\n * }\n *\n * // this has a risk of stack overflows if many results are cached in a row\n * async.mapSeries(args, sometimesAsync, done);\n *\n * // this will defer sometimesAsync's callback if necessary,\n * // preventing stack overflows\n * async.mapSeries(args, async.ensureAsync(sometimesAsync), done);\n */\nfunction ensureAsync(fn) {\n    if (isAsync(fn)) return fn;\n    return initialParams(function (args, callback) {\n        var sync = true;\n        args.push(function () {\n            var innerArgs = arguments;\n            if (sync) {\n                setImmediate$1(function () {\n                    callback.apply(null, innerArgs);\n                });\n            } else {\n                callback.apply(null, innerArgs);\n            }\n        });\n        fn.apply(this, args);\n        sync = false;\n    });\n}\n\nfunction notId(v) {\n    return !v;\n}\n\n/**\n * Returns `true` if every element in `coll` satisfies an async test. If any\n * iteratee call returns `false`, the main `callback` is immediately called.\n *\n * @name every\n * @static\n * @memberOf module:Collections\n * @method\n * @alias all\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n * @example\n *\n * async.every(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then every file exists\n * });\n */\nvar every = doParallel(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs a maximum of `limit` async operations at a time.\n *\n * @name everyLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everyLimit = doParallelLimit(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs only a single async operation at a time.\n *\n * @name everySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in series.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everySeries = doLimit(everyLimit, 1);\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nfunction filterArray(eachfn, arr, iteratee, callback) {\n    var truthValues = new Array(arr.length);\n    eachfn(arr, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            truthValues[index] = !!v;\n            callback(err);\n        });\n    }, function (err) {\n        if (err) return callback(err);\n        var results = [];\n        for (var i = 0; i < arr.length; i++) {\n            if (truthValues[i]) results.push(arr[i]);\n        }\n        callback(null, results);\n    });\n}\n\nfunction filterGeneric(eachfn, coll, iteratee, callback) {\n    var results = [];\n    eachfn(coll, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            if (err) {\n                callback(err);\n            } else {\n                if (v) {\n                    results.push({ index: index, value: x });\n                }\n                callback();\n            }\n        });\n    }, function (err) {\n        if (err) {\n            callback(err);\n        } else {\n            callback(null, arrayMap(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), baseProperty('value')));\n        }\n    });\n}\n\nfunction _filter(eachfn, coll, iteratee, callback) {\n    var filter = isArrayLike(coll) ? filterArray : filterGeneric;\n    filter(eachfn, coll, wrapAsync$1(iteratee), callback || noop);\n}\n\n/**\n * Returns a new array of all the values in `coll` which pass an async truth\n * test. This operation is performed in parallel, but the results array will be\n * in the same order as the original.\n *\n * @name filter\n * @static\n * @memberOf module:Collections\n * @method\n * @alias select\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.filter(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of the existing files\n * });\n */\nvar filter = doParallel(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name filterLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar filterLimit = doParallelLimit(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs only a single async operation at a time.\n *\n * @name filterSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results)\n */\nvar filterSeries = doLimit(filterLimit, 1);\n\n/**\n * Calls the asynchronous function `fn` with a callback parameter that allows it\n * to call itself again, in series, indefinitely.\n\n * If an error is passed to the callback then `errback` is called with the\n * error, and execution stops, otherwise it will never be called.\n *\n * @name forever\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} fn - an async function to call repeatedly.\n * Invoked with (next).\n * @param {Function} [errback] - when `fn` passes an error to it's callback,\n * this function will be called, and execution stops. Invoked with (err).\n * @example\n *\n * async.forever(\n *     function(next) {\n *         // next is suitable for passing to things that need a callback(err [, whatever]);\n *         // it will result in this function being called again.\n *     },\n *     function(err) {\n *         // if next is called with a value in its first parameter, it will appear\n *         // in here as 'err', and execution will stop.\n *     }\n * );\n */\nfunction forever(fn, errback) {\n    var done = onlyOnce(errback || noop);\n    var task = wrapAsync$1(ensureAsync(fn));\n\n    function next(err) {\n        if (err) return done(err);\n        task(next);\n    }\n    next();\n}\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs a maximum of `limit` async operations at a time.\n *\n * @name groupByLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupByLimit = function (coll, limit, iteratee, callback) {\n    callback = callback || noop;\n    var _iteratee = wrapAsync$1(iteratee);\n    mapLimit(coll, limit, function (val, callback) {\n        _iteratee(val, function (err, key) {\n            if (err) return callback(err);\n            return callback(null, { key: key, val: val });\n        });\n    }, function (err, mapResults) {\n        var result = {};\n        // from MDN, handle object having an `hasOwnProperty` prop\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n        for (var i = 0; i < mapResults.length; i++) {\n            if (mapResults[i]) {\n                var key = mapResults[i].key;\n                var val = mapResults[i].val;\n\n                if (hasOwnProperty.call(result, key)) {\n                    result[key].push(val);\n                } else {\n                    result[key] = [val];\n                }\n            }\n        }\n\n        return callback(err, result);\n    });\n};\n\n/**\n * Returns a new object, where each value corresponds to an array of items, from\n * `coll`, that returned the corresponding key. That is, the keys of the object\n * correspond to the values passed to the `iteratee` callback.\n *\n * Note: Since this function applies the `iteratee` to each item in parallel,\n * there is no guarantee that the `iteratee` functions will complete in order.\n * However, the values for each key in the `result` will be in the same order as\n * the original `coll`. For Objects, the values will roughly be in the order of\n * the original Objects' keys (but this can vary across JavaScript engines).\n *\n * @name groupBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n * @example\n *\n * async.groupBy(['userId1', 'userId2', 'userId3'], function(userId, callback) {\n *     db.findById(userId, function(err, user) {\n *         if (err) return callback(err);\n *         return callback(null, user.age);\n *     });\n * }, function(err, result) {\n *     // result is object containing the userIds grouped by age\n *     // e.g. { 30: ['userId1', 'userId3'], 42: ['userId2']};\n * });\n */\nvar groupBy = doLimit(groupByLimit, Infinity);\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs only a single async operation at a time.\n *\n * @name groupBySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupBySeries = doLimit(groupByLimit, 1);\n\n/**\n * Logs the result of an `async` function to the `console`. Only works in\n * Node.js or in browsers that support `console.log` and `console.error` (such\n * as FF and Chrome). If multiple arguments are returned from the async\n * function, `console.log` is called on each argument in order.\n *\n * @name log\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, 'hello ' + name);\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.log(hello, 'world');\n * 'hello world'\n */\nvar log = consoleFunc('log');\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name mapValuesLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nfunction mapValuesLimit(obj, limit, iteratee, callback) {\n    callback = once(callback || noop);\n    var newObj = {};\n    var _iteratee = wrapAsync$1(iteratee);\n    eachOfLimit(obj, limit, function (val, key, next) {\n        _iteratee(val, key, function (err, result) {\n            if (err) return next(err);\n            newObj[key] = result;\n            next();\n        });\n    }, function (err) {\n        callback(err, newObj);\n    });\n}\n\n/**\n * A relative of [`map`]{@link module:Collections.map}, designed for use with objects.\n *\n * Produces a new Object by mapping each value of `obj` through the `iteratee`\n * function. The `iteratee` is called each `value` and `key` from `obj` and a\n * callback for when it has finished processing. Each of these callbacks takes\n * two arguments: an `error`, and the transformed item from `obj`. If `iteratee`\n * passes an error to its callback, the main `callback` (for the `mapValues`\n * function) is immediately called with the error.\n *\n * Note, the order of the keys in the result is not guaranteed.  The keys will\n * be roughly in the order they complete, (but this is very engine-specific)\n *\n * @name mapValues\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n * @example\n *\n * async.mapValues({\n *     f1: 'file1',\n *     f2: 'file2',\n *     f3: 'file3'\n * }, function (file, key, callback) {\n *   fs.stat(file, callback);\n * }, function(err, result) {\n *     // result is now a map of stats for each file, e.g.\n *     // {\n *     //     f1: [stats for file1],\n *     //     f2: [stats for file2],\n *     //     f3: [stats for file3]\n *     // }\n * });\n */\n\nvar mapValues = doLimit(mapValuesLimit, Infinity);\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs only a single async operation at a time.\n *\n * @name mapValuesSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nvar mapValuesSeries = doLimit(mapValuesLimit, 1);\n\nfunction has(obj, key) {\n    return key in obj;\n}\n\n/**\n * Caches the results of an async function. When creating a hash to store\n * function results against, the callback is omitted from the hash and an\n * optional hash function can be used.\n *\n * If no hash function is specified, the first argument is used as a hash key,\n * which may work reasonably if it is a string or a data type that converts to a\n * distinct string. Note that objects and arrays will not behave reasonably.\n * Neither will cases where the other arguments are significant. In such cases,\n * specify your own hash function.\n *\n * The cache of results is exposed as the `memo` property of the function\n * returned by `memoize`.\n *\n * @name memoize\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function to proxy and cache results from.\n * @param {Function} hasher - An optional function for generating a custom hash\n * for storing results. It has all the arguments applied to it apart from the\n * callback, and must be synchronous.\n * @returns {AsyncFunction} a memoized version of `fn`\n * @example\n *\n * var slow_fn = function(name, callback) {\n *     // do something\n *     callback(null, result);\n * };\n * var fn = async.memoize(slow_fn);\n *\n * // fn can now be used as if it were slow_fn\n * fn('some name', function() {\n *     // callback\n * });\n */\nfunction memoize(fn, hasher) {\n    var memo = Object.create(null);\n    var queues = Object.create(null);\n    hasher = hasher || identity;\n    var _fn = wrapAsync$1(fn);\n    var memoized = initialParams(function memoized(args, callback) {\n        var key = hasher.apply(null, args);\n        if (has(memo, key)) {\n            setImmediate$1(function () {\n                callback.apply(null, memo[key]);\n            });\n        } else if (has(queues, key)) {\n            queues[key].push(callback);\n        } else {\n            queues[key] = [callback];\n            _fn.apply(null, args.concat(rest(function (args) {\n                memo[key] = args;\n                var q = queues[key];\n                delete queues[key];\n                for (var i = 0, l = q.length; i < l; i++) {\n                    q[i].apply(null, args);\n                }\n            })));\n        }\n    });\n    memoized.memo = memo;\n    memoized.unmemoized = fn;\n    return memoized;\n}\n\n/**\n * Calls `callback` on a later loop around the event loop. In Node.js this just\n * calls `setImmediate`.  In the browser it will use `setImmediate` if\n * available, otherwise `setTimeout(callback, 0)`, which means other higher\n * priority events may precede the execution of `callback`.\n *\n * This is used internally for browser-compatibility purposes.\n *\n * @name nextTick\n * @static\n * @memberOf module:Utils\n * @method\n * @alias setImmediate\n * @category Util\n * @param {Function} callback - The function to call on a later loop around\n * the event loop. Invoked with (args...).\n * @param {...*} args... - any number of additional arguments to pass to the\n * callback on the next tick.\n * @example\n *\n * var call_order = [];\n * async.nextTick(function() {\n *     call_order.push('two');\n *     // call_order now equals ['one','two']\n * });\n * call_order.push('one');\n *\n * async.setImmediate(function (a, b, c) {\n *     // a, b, and c equal 1, 2, and 3\n * }, 1, 2, 3);\n */\nvar _defer$1;\n\nif (hasNextTick) {\n    _defer$1 = process.nextTick;\n} else if (hasSetImmediate) {\n    _defer$1 = setImmediate;\n} else {\n    _defer$1 = fallback;\n}\n\nvar nextTick = wrap(_defer$1);\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || noop;\n    var results = isArrayLike(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        wrapAsync$1(task)(rest(function (err, args) {\n            if (args.length <= 1) {\n                args = args[0];\n            }\n            results[key] = args;\n            callback(err);\n        }));\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  _parallel(eachOf, tasks, callback);\n}\n\n/**\n * The same as [`parallel`]{@link module:ControlFlow.parallel} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name parallelLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.parallel]{@link module:ControlFlow.parallel}\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n */\nfunction parallelLimit$1(tasks, limit, callback) {\n  _parallel(_eachOfLimit(limit), tasks, callback);\n}\n\n/**\n * A queue of tasks for the worker function to complete.\n * @typedef {Object} QueueObject\n * @memberOf module:ControlFlow\n * @property {Function} length - a function returning the number of items\n * waiting to be processed. Invoke with `queue.length()`.\n * @property {boolean} started - a boolean indicating whether or not any\n * items have been pushed and processed by the queue.\n * @property {Function} running - a function returning the number of items\n * currently being processed. Invoke with `queue.running()`.\n * @property {Function} workersList - a function returning the array of items\n * currently being processed. Invoke with `queue.workersList()`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke with `queue.idle()`.\n * @property {number} concurrency - an integer for determining how many `worker`\n * functions should be run in parallel. This property can be changed after a\n * `queue` is created to alter the concurrency on-the-fly.\n * @property {Function} push - add a new task to the `queue`. Calls `callback`\n * once the `worker` has finished processing the task. Instead of a single task,\n * a `tasks` array can be submitted. The respective callback is used for every\n * task in the list. Invoke with `queue.push(task, [callback])`,\n * @property {Function} unshift - add a new task to the front of the `queue`.\n * Invoke with `queue.unshift(task, [callback])`.\n * @property {Function} saturated - a callback that is called when the number of\n * running workers hits the `concurrency` limit, and further tasks will be\n * queued.\n * @property {Function} unsaturated - a callback that is called when the number\n * of running workers is less than the `concurrency` & `buffer` limits, and\n * further tasks will not be queued.\n * @property {number} buffer - A minimum threshold buffer in order to say that\n * the `queue` is `unsaturated`.\n * @property {Function} empty - a callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - a callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} error - a callback that is called when a task errors.\n * Has the signature `function(error, task)`.\n * @property {boolean} paused - a boolean for determining whether the queue is\n * in a paused state.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke with `queue.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke with `queue.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke with `queue.kill()`.\n */\n\n/**\n * Creates a `queue` object with the specified `concurrency`. Tasks added to the\n * `queue` are processed in parallel (up to the `concurrency` limit). If all\n * `worker`s are in progress, the task is queued until one becomes available.\n * Once a `worker` completes a `task`, that `task`'s callback is called.\n *\n * @name queue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`. Invoked with (task, callback).\n * @param {number} [concurrency=1] - An `integer` for determining how many\n * `worker` functions should be run in parallel.  If omitted, the concurrency\n * defaults to `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the queue.\n * @example\n *\n * // create a queue object with concurrency 2\n * var q = async.queue(function(task, callback) {\n *     console.log('hello ' + task.name);\n *     callback();\n * }, 2);\n *\n * // assign a callback\n * q.drain = function() {\n *     console.log('all items have been processed');\n * };\n *\n * // add some items to the queue\n * q.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * q.push({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n *\n * // add some items to the queue (batch-wise)\n * q.push([{name: 'baz'},{name: 'bay'},{name: 'bax'}], function(err) {\n *     console.log('finished processing item');\n * });\n *\n * // add some items to the front of the queue\n * q.unshift({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n */\nvar queue$1 = function (worker, concurrency) {\n  var _worker = wrapAsync$1(worker);\n  return queue(function (items, cb) {\n    _worker(items[0], cb);\n  }, concurrency, 1);\n};\n\n/**\n * The same as [async.queue]{@link module:ControlFlow.queue} only tasks are assigned a priority and\n * completed in ascending priority order.\n *\n * @name priorityQueue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`.\n * Invoked with (task, callback).\n * @param {number} concurrency - An `integer` for determining how many `worker`\n * functions should be run in parallel.  If omitted, the concurrency defaults to\n * `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A priorityQueue object to manage the tasks. There are two\n * differences between `queue` and `priorityQueue` objects:\n * * `push(task, priority, [callback])` - `priority` should be a number. If an\n *   array of `tasks` is given, all tasks will be assigned the same priority.\n * * The `unshift` method was removed.\n */\nvar priorityQueue = function (worker, concurrency) {\n    // Start with a normal queue\n    var q = queue$1(worker, concurrency);\n\n    // Override push to accept second parameter representing priority\n    q.push = function (data, priority, callback) {\n        if (callback == null) callback = noop;\n        if (typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function () {\n                q.drain();\n            });\n        }\n\n        priority = priority || 0;\n        var nextNode = q._tasks.head;\n        while (nextNode && priority >= nextNode.priority) {\n            nextNode = nextNode.next;\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                priority: priority,\n                callback: callback\n            };\n\n            if (nextNode) {\n                q._tasks.insertBefore(nextNode, item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    };\n\n    // Remove unshift function\n    delete q.unshift;\n\n    return q;\n};\n\n/**\n * Runs the `tasks` array of functions in parallel, without waiting until the\n * previous function has completed. Once any of the `tasks` complete or pass an\n * error to its callback, the main `callback` is immediately called. It's\n * equivalent to `Promise.race()`.\n *\n * @name race\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array containing [async functions]{@link AsyncFunction}\n * to run. Each function can complete with an optional `result` value.\n * @param {Function} callback - A callback to run once any of the functions have\n * completed. This function gets an error or result from the first function that\n * completed. Invoked with (err, result).\n * @returns undefined\n * @example\n *\n * async.race([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // main callback\n * function(err, result) {\n *     // the result will be equal to 'two' as it finishes earlier\n * });\n */\nfunction race(tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new TypeError('First argument to race must be an array of functions'));\n    if (!tasks.length) return callback();\n    for (var i = 0, l = tasks.length; i < l; i++) {\n        wrapAsync$1(tasks[i])(callback);\n    }\n}\n\nvar slice = Array.prototype.slice;\n\n/**\n * Same as [`reduce`]{@link module:Collections.reduce}, only operates on `array` in reverse order.\n *\n * @name reduceRight\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reduce]{@link module:Collections.reduce}\n * @alias foldr\n * @category Collection\n * @param {Array} array - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n */\nfunction reduceRight(array, memo, iteratee, callback) {\n  var reversed = slice.call(array).reverse();\n  reduce(reversed, memo, iteratee, callback);\n}\n\n/**\n * Wraps the async function in another function that always completes with a\n * result object, even when it errors.\n *\n * The result object has either the property `error` or `value`.\n *\n * @name reflect\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function you want to wrap\n * @returns {Function} - A function that always passes null to it's callback as\n * the error. The second argument to the callback will be an `object` with\n * either an `error` or a `value` property.\n * @example\n *\n * async.parallel([\n *     async.reflect(function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff but error ...\n *         callback('bad stuff happened');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     })\n * ],\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = 'bad stuff happened'\n *     // results[2].value = 'two'\n * });\n */\nfunction reflect(fn) {\n    var _fn = wrapAsync$1(fn);\n    return initialParams(function reflectOn(args, reflectCallback) {\n        args.push(rest(function callback(err, cbArgs) {\n            if (err) {\n                reflectCallback(null, {\n                    error: err\n                });\n            } else {\n                var value = null;\n                if (cbArgs.length === 1) {\n                    value = cbArgs[0];\n                } else if (cbArgs.length > 1) {\n                    value = cbArgs;\n                }\n                reflectCallback(null, {\n                    value: value\n                });\n            }\n        }));\n\n        return _fn.apply(this, args);\n    });\n}\n\nfunction reject$1(eachfn, arr, iteratee, callback) {\n    _filter(eachfn, arr, function (value, cb) {\n        iteratee(value, function (err, v) {\n            cb(err, !v);\n        });\n    }, callback);\n}\n\n/**\n * The opposite of [`filter`]{@link module:Collections.filter}. Removes values that pass an `async` truth test.\n *\n * @name reject\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.reject(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of missing files\n *     createFiles(results);\n * });\n */\nvar reject = doParallel(reject$1);\n\n/**\n * A helper function that wraps an array or an object of functions with `reflect`.\n *\n * @name reflectAll\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.reflect]{@link module:Utils.reflect}\n * @category Util\n * @param {Array|Object|Iterable} tasks - The collection of\n * [async functions]{@link AsyncFunction} to wrap in `async.reflect`.\n * @returns {Array} Returns an array of async functions, each wrapped in\n * `async.reflect`\n * @example\n *\n * let tasks = [\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         // do some more stuff but error ...\n *         callback(new Error('bad stuff happened'));\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ];\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = Error('bad stuff happened')\n *     // results[2].value = 'two'\n * });\n *\n * // an example using an object instead of an array\n * let tasks = {\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         callback('two');\n *     },\n *     three: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'three');\n *         }, 100);\n *     }\n * };\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results.one.value = 'one'\n *     // results.two.error = 'two'\n *     // results.three.value = 'three'\n * });\n */\nfunction reflectAll(tasks) {\n    var results;\n    if (isArray(tasks)) {\n        results = arrayMap(tasks, reflect);\n    } else {\n        results = {};\n        baseForOwn(tasks, function (task, key) {\n            results[key] = reflect.call(this, task);\n        });\n    }\n    return results;\n}\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name rejectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectLimit = doParallelLimit(reject$1);\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs only a single async operation at a time.\n *\n * @name rejectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectSeries = doLimit(rejectLimit, 1);\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant$1(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * Attempts to get a successful response from `task` no more than `times` times\n * before returning an error. If the task is successful, the `callback` will be\n * passed the result of the successful task. If all attempts fail, the callback\n * will be passed the error and result (if any) of the final attempt.\n *\n * @name retry\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @see [async.retryable]{@link module:ControlFlow.retryable}\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - Can be either an\n * object with `times` and `interval` or a number.\n * * `times` - The number of attempts to make before giving up.  The default\n *   is `5`.\n * * `interval` - The time to wait between retries, in milliseconds.  The\n *   default is `0`. The interval may also be specified as a function of the\n *   retry count (see example).\n * * `errorFilter` - An optional synchronous function that is invoked on\n *   erroneous result. If it returns `true` the retry attempts will continue;\n *   if the function returns `false` the retry flow is aborted with the current\n *   attempt's error and result being returned to the final callback.\n *   Invoked with (err).\n * * If `opts` is a number, the number specifies the number of times to retry,\n *   with the default interval of `0`.\n * @param {AsyncFunction} task - An async function to retry.\n * Invoked with (callback).\n * @param {Function} [callback] - An optional callback which is called when the\n * task has succeeded, or after the final failed attempt. It receives the `err`\n * and `result` arguments of the last attempt at completing the `task`. Invoked\n * with (err, results).\n *\n * @example\n *\n * // The `retry` function can be used as a stand-alone control flow by passing\n * // a callback, as shown below:\n *\n * // try calling apiMethod 3 times\n * async.retry(3, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 3 times, waiting 200 ms between each retry\n * async.retry({times: 3, interval: 200}, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 10 times with exponential backoff\n * // (i.e. intervals of 100, 200, 400, 800, 1600, ... milliseconds)\n * async.retry({\n *   times: 10,\n *   interval: function(retryCount) {\n *     return 50 * Math.pow(2, retryCount);\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod the default 5 times no delay between each retry\n * async.retry(apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod only when error condition satisfies, all other\n * // errors will abort the retry control flow and return to final callback\n * async.retry({\n *   errorFilter: function(err) {\n *     return err.message === 'Temporary error'; // only retry on a specific error\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // It can also be embedded within other control flow functions to retry\n * // individual methods that are not as reliable, like this:\n * async.auto({\n *     users: api.getUsers.bind(api),\n *     payments: async.retryable(3, api.getPayments.bind(api))\n * }, function(err, results) {\n *     // do something with the results\n * });\n *\n */\nfunction retry(opts, task, callback) {\n    var DEFAULT_TIMES = 5;\n    var DEFAULT_INTERVAL = 0;\n\n    var options = {\n        times: DEFAULT_TIMES,\n        intervalFunc: constant$1(DEFAULT_INTERVAL)\n    };\n\n    function parseTimes(acc, t) {\n        if (typeof t === 'object') {\n            acc.times = +t.times || DEFAULT_TIMES;\n\n            acc.intervalFunc = typeof t.interval === 'function' ? t.interval : constant$1(+t.interval || DEFAULT_INTERVAL);\n\n            acc.errorFilter = t.errorFilter;\n        } else if (typeof t === 'number' || typeof t === 'string') {\n            acc.times = +t || DEFAULT_TIMES;\n        } else {\n            throw new Error(\"Invalid arguments for async.retry\");\n        }\n    }\n\n    if (arguments.length < 3 && typeof opts === 'function') {\n        callback = task || noop;\n        task = opts;\n    } else {\n        parseTimes(options, opts);\n        callback = callback || noop;\n    }\n\n    if (typeof task !== 'function') {\n        throw new Error(\"Invalid arguments for async.retry\");\n    }\n\n    var _task = wrapAsync$1(task);\n\n    var attempt = 1;\n    function retryAttempt() {\n        _task(function (err) {\n            if (err && attempt++ < options.times && (typeof options.errorFilter != 'function' || options.errorFilter(err))) {\n                setTimeout(retryAttempt, options.intervalFunc(attempt));\n            } else {\n                callback.apply(null, arguments);\n            }\n        });\n    }\n\n    retryAttempt();\n}\n\n/**\n * A close relative of [`retry`]{@link module:ControlFlow.retry}.  This method\n * wraps a task and makes it retryable, rather than immediately calling it\n * with retries.\n *\n * @name retryable\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.retry]{@link module:ControlFlow.retry}\n * @category Control Flow\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - optional\n * options, exactly the same as from `retry`\n * @param {AsyncFunction} task - the asynchronous function to wrap.\n * This function will be passed any arguments passed to the returned wrapper.\n * Invoked with (...args, callback).\n * @returns {AsyncFunction} The wrapped function, which when invoked, will\n * retry on an error, based on the parameters specified in `opts`.\n * This function will accept the same parameters as `task`.\n * @example\n *\n * async.auto({\n *     dep1: async.retryable(3, getFromFlakyService),\n *     process: [\"dep1\", async.retryable(3, function (results, cb) {\n *         maybeProcessData(results.dep1, cb);\n *     })]\n * }, callback);\n */\nvar retryable = function (opts, task) {\n    if (!task) {\n        task = opts;\n        opts = null;\n    }\n    var _task = wrapAsync$1(task);\n    return initialParams(function (args, callback) {\n        function taskFn(cb) {\n            _task.apply(null, args.concat(cb));\n        }\n\n        if (opts) retry(opts, taskFn, callback);else retry(taskFn, callback);\n    });\n};\n\n/**\n * Run the functions in the `tasks` collection in series, each one running once\n * the previous function has completed. If any functions in the series pass an\n * error to its callback, no more functions are run, and `callback` is\n * immediately called with the value of the error. Otherwise, `callback`\n * receives an array of results when `tasks` have completed.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function, and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n *  results from {@link async.series}.\n *\n * **Note** that while many implementations preserve the order of object\n * properties, the [ECMAScript Language Specification](http://www.ecma-international.org/ecma-262/5.1/#sec-8.6)\n * explicitly states that\n *\n * > The mechanics and order of enumerating the properties is not specified.\n *\n * So if you rely on the order in which your series of functions are executed,\n * and want this to work on all platforms, consider using an array.\n *\n * @name series\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection containing\n * [async functions]{@link AsyncFunction} to run in series.\n * Each function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This function gets a results array (or object)\n * containing all the result arguments passed to the `task` callbacks. Invoked\n * with (err, result).\n * @example\n * async.series([\n *     function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     },\n *     function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // results is now equal to ['one', 'two']\n * });\n *\n * async.series({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback){\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equal to: {one: 1, two: 2}\n * });\n */\nfunction series(tasks, callback) {\n  _parallel(eachOfSeries, tasks, callback);\n}\n\n/**\n * Returns `true` if at least one element in the `coll` satisfies an async test.\n * If any iteratee call returns `true`, the main `callback` is immediately\n * called.\n *\n * @name some\n * @static\n * @memberOf module:Collections\n * @method\n * @alias any\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n * @example\n *\n * async.some(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then at least one of the files exists\n * });\n */\nvar some = doParallel(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs a maximum of `limit` async operations at a time.\n *\n * @name someLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anyLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someLimit = doParallelLimit(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs only a single async operation at a time.\n *\n * @name someSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anySeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in series.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someSeries = doLimit(someLimit, 1);\n\n/**\n * Sorts a list by the results of running each `coll` value through an async\n * `iteratee`.\n *\n * @name sortBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a value to use as the sort criteria as\n * its `result`.\n * Invoked with (item, callback).\n * @param {Function} callback - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is the items\n * from the original `coll` sorted by the values returned by the `iteratee`\n * calls. Invoked with (err, results).\n * @example\n *\n * async.sortBy(['file1','file2','file3'], function(file, callback) {\n *     fs.stat(file, function(err, stats) {\n *         callback(err, stats.mtime);\n *     });\n * }, function(err, results) {\n *     // results is now the original array of files sorted by\n *     // modified date\n * });\n *\n * // By modifying the callback parameter the\n * // sorting order can be influenced:\n *\n * // ascending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x);\n * }, function(err,result) {\n *     // result callback\n * });\n *\n * // descending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x*-1);    //<- x*-1 instead of x, turns the order around\n * }, function(err,result) {\n *     // result callback\n * });\n */\nfunction sortBy(coll, iteratee, callback) {\n    var _iteratee = wrapAsync$1(iteratee);\n    map(coll, function (x, callback) {\n        _iteratee(x, function (err, criteria) {\n            if (err) return callback(err);\n            callback(null, { value: x, criteria: criteria });\n        });\n    }, function (err, results) {\n        if (err) return callback(err);\n        callback(null, arrayMap(results.sort(comparator), baseProperty('value')));\n    });\n\n    function comparator(left, right) {\n        var a = left.criteria,\n            b = right.criteria;\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n}\n\n/**\n * Sets a time limit on an asynchronous function. If the function does not call\n * its callback within the specified milliseconds, it will be called with a\n * timeout error. The code property for the error object will be `'ETIMEDOUT'`.\n *\n * @name timeout\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} asyncFn - The async function to limit in time.\n * @param {number} milliseconds - The specified time limit.\n * @param {*} [info] - Any variable you want attached (`string`, `object`, etc)\n * to timeout Error for more information..\n * @returns {AsyncFunction} Returns a wrapped function that can be used with any\n * of the control flow functions.\n * Invoke this function with the same parameters as you would `asyncFunc`.\n * @example\n *\n * function myFunction(foo, callback) {\n *     doAsyncTask(foo, function(err, data) {\n *         // handle errors\n *         if (err) return callback(err);\n *\n *         // do some stuff ...\n *\n *         // return processed data\n *         return callback(null, data);\n *     });\n * }\n *\n * var wrapped = async.timeout(myFunction, 1000);\n *\n * // call `wrapped` as you would `myFunction`\n * wrapped({ bar: 'bar' }, function(err, data) {\n *     // if `myFunction` takes < 1000 ms to execute, `err`\n *     // and `data` will have their expected values\n *\n *     // else `err` will be an Error with the code 'ETIMEDOUT'\n * });\n */\nfunction timeout(asyncFn, milliseconds, info) {\n    var originalCallback, timer;\n    var timedOut = false;\n\n    function injectedCallback() {\n        if (!timedOut) {\n            originalCallback.apply(null, arguments);\n            clearTimeout(timer);\n        }\n    }\n\n    function timeoutCallback() {\n        var name = asyncFn.name || 'anonymous';\n        var error = new Error('Callback function \"' + name + '\" timed out.');\n        error.code = 'ETIMEDOUT';\n        if (info) {\n            error.info = info;\n        }\n        timedOut = true;\n        originalCallback(error);\n    }\n\n    var fn = wrapAsync$1(asyncFn);\n\n    return initialParams(function (args, origCallback) {\n        originalCallback = origCallback;\n        // setup timer and call original function\n        timer = setTimeout(timeoutCallback, milliseconds);\n        fn.apply(null, args.concat(injectedCallback));\n    });\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\nvar nativeMax$1 = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax$1(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name timesLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} count - The number of times to run the function.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see [async.map]{@link module:Collections.map}.\n */\nfunction timeLimit(count, limit, iteratee, callback) {\n  var _iteratee = wrapAsync$1(iteratee);\n  mapLimit(baseRange(0, count, 1), limit, _iteratee, callback);\n}\n\n/**\n * Calls the `iteratee` function `n` times, and accumulates results in the same\n * manner you would use with [map]{@link module:Collections.map}.\n *\n * @name times\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n * @example\n *\n * // Pretend this is some complicated async factory\n * var createUser = function(id, callback) {\n *     callback(null, {\n *         id: 'user' + id\n *     });\n * };\n *\n * // generate 5 users\n * async.times(5, function(n, next) {\n *     createUser(n, function(err, user) {\n *         next(err, user);\n *     });\n * }, function(err, users) {\n *     // we should now have 5 users\n * });\n */\nvar times = doLimit(timeLimit, Infinity);\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs only a single async operation at a time.\n *\n * @name timesSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n */\nvar timesSeries = doLimit(timeLimit, 1);\n\n/**\n * A relative of `reduce`.  Takes an Object or Array, and iterates over each\n * element in series, each step potentially mutating an `accumulator` value.\n * The type of the accumulator defaults to the type of collection passed in.\n *\n * @name transform\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} [accumulator] - The initial state of the transform.  If omitted,\n * it will default to an empty Object or Array, depending on the type of `coll`\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * collection that potentially modifies the accumulator.\n * Invoked with (accumulator, item, key, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the transformed accumulator.\n * Invoked with (err, result).\n * @example\n *\n * async.transform([1,2,3], function(acc, item, index, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         acc.push(item * 2)\n *         callback(null)\n *     });\n * }, function(err, result) {\n *     // result is now equal to [2, 4, 6]\n * });\n *\n * @example\n *\n * async.transform({a: 1, b: 2, c: 3}, function (obj, val, key, callback) {\n *     setImmediate(function () {\n *         obj[key] = val * 2;\n *         callback();\n *     })\n * }, function (err, result) {\n *     // result is equal to {a: 2, b: 4, c: 6}\n * })\n */\nfunction transform(coll, accumulator, iteratee, callback) {\n    if (arguments.length <= 3) {\n        callback = iteratee;\n        iteratee = accumulator;\n        accumulator = isArray(coll) ? [] : {};\n    }\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n\n    eachOf(coll, function (v, k, cb) {\n        _iteratee(accumulator, v, k, cb);\n    }, function (err) {\n        callback(err, accumulator);\n    });\n}\n\n/**\n * Undoes a [memoize]{@link module:Utils.memoize}d function, reverting it to the original,\n * unmemoized form. Handy for testing.\n *\n * @name unmemoize\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.memoize]{@link module:Utils.memoize}\n * @category Util\n * @param {AsyncFunction} fn - the memoized function\n * @returns {AsyncFunction} a function that calls the original unmemoized function\n */\nfunction unmemoize(fn) {\n    return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n    };\n}\n\n/**\n * Repeatedly call `iteratee`, while `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs.\n *\n * @name whilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n * @returns undefined\n * @example\n *\n * var count = 0;\n * async.whilst(\n *     function() { return count < 5; },\n *     function(callback) {\n *         count++;\n *         setTimeout(function() {\n *             callback(null, count);\n *         }, 1000);\n *     },\n *     function (err, n) {\n *         // 5 seconds have passed, n = 5\n *     }\n * );\n */\nfunction whilst(test, iteratee, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    if (!test()) return callback(null);\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        if (test()) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    });\n    _iteratee(next);\n}\n\n/**\n * Repeatedly call `iteratee` until `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs. `callback` will be passed an error and any\n * arguments passed to the final `iteratee`'s callback.\n *\n * The inverse of [whilst]{@link module:ControlFlow.whilst}.\n *\n * @name until\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction until(test, iteratee, callback) {\n    whilst(function () {\n        return !test.apply(this, arguments);\n    }, iteratee, callback);\n}\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */\nvar waterfall = function (tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        if (taskIndex === tasks.length) {\n            return callback.apply(null, [null].concat(args));\n        }\n\n        var taskCallback = onlyOnce(rest(function (err, args) {\n            if (err) {\n                return callback.apply(null, [err].concat(args));\n            }\n            nextTask(args);\n        }));\n\n        args.push(taskCallback);\n\n        var task = wrapAsync$1(tasks[taskIndex++]);\n        task.apply(null, args);\n    }\n\n    nextTask([]);\n};\n\n/**\n * An \"async function\" in the context of Async is an asynchronous function with\n * a variable number of parameters, with the final parameter being a callback.\n * (`function (arg1, arg2, ..., callback) {}`)\n * The final callback is of the form `callback(err, results...)`, which must be\n * called once the function is completed.  The callback should be called with a\n * Error as its first argument to signal that an error occurred.\n * Otherwise, if no error occurred, it should be called with `null` as the first\n * argument, and any additional `result` arguments that may apply, to signal\n * successful completion.\n * The callback must be called exactly once, ideally on a later tick of the\n * JavaScript event loop.\n *\n * This type of function is also referred to as a \"Node-style async function\",\n * or a \"continuation passing-style function\" (CPS). Most of the methods of this\n * library are themselves CPS/Node-style async functions, or functions that\n * return CPS/Node-style async functions.\n *\n * Wherever we accept a Node-style async function, we also directly accept an\n * [ES2017 `async` function]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function}.\n * In this case, the `async` function will not be passed a final callback\n * argument, and any thrown error will be used as the `err` argument of the\n * implicit callback, and the return value will be used as the `result` value.\n * (i.e. a `rejected` of the returned Promise becomes the `err` callback\n * argument, and a `resolved` value becomes the `result`.)\n *\n * Note, due to JavaScript limitations, we can only detect native `async`\n * functions and not transpilied implementations.\n * Your environment must have `async`/`await` support for this to work.\n * (e.g. Node > v7.6, or a recent version of a modern browser).\n * If you are using `async` functions through a transpiler (e.g. Babel), you\n * must still wrap the function with [asyncify]{@link module:Utils.asyncify},\n * because the `async function` will be compiled to an ordinary function that\n * returns a promise.\n *\n * @typedef {Function} AsyncFunction\n * @static\n */\n\n/**\n * Async is a utility module which provides straight-forward, powerful functions\n * for working with asynchronous JavaScript. Although originally designed for\n * use with [Node.js](http://nodejs.org) and installable via\n * `npm install --save async`, it can also be used directly in the browser.\n * @module async\n * @see AsyncFunction\n */\n\n/**\n * A collection of `async` functions for manipulating collections, such as\n * arrays and objects.\n * @module Collections\n */\n\n/**\n * A collection of `async` functions for controlling the flow through a script.\n * @module ControlFlow\n */\n\n/**\n * A collection of `async` utility functions.\n * @module Utils\n */\n\nvar index = {\n  applyEach: applyEach,\n  applyEachSeries: applyEachSeries,\n  apply: apply$2,\n  asyncify: asyncify,\n  auto: auto,\n  autoInject: autoInject,\n  cargo: cargo,\n  compose: compose,\n  concat: concat,\n  concatSeries: concatSeries,\n  constant: constant,\n  detect: detect,\n  detectLimit: detectLimit,\n  detectSeries: detectSeries,\n  dir: dir,\n  doDuring: doDuring,\n  doUntil: doUntil,\n  doWhilst: doWhilst,\n  during: during,\n  each: eachLimit,\n  eachLimit: eachLimit$1,\n  eachOf: eachOf,\n  eachOfLimit: eachOfLimit,\n  eachOfSeries: eachOfSeries,\n  eachSeries: eachSeries,\n  ensureAsync: ensureAsync,\n  every: every,\n  everyLimit: everyLimit,\n  everySeries: everySeries,\n  filter: filter,\n  filterLimit: filterLimit,\n  filterSeries: filterSeries,\n  forever: forever,\n  groupBy: groupBy,\n  groupByLimit: groupByLimit,\n  groupBySeries: groupBySeries,\n  log: log,\n  map: map,\n  mapLimit: mapLimit,\n  mapSeries: mapSeries,\n  mapValues: mapValues,\n  mapValuesLimit: mapValuesLimit,\n  mapValuesSeries: mapValuesSeries,\n  memoize: memoize,\n  nextTick: nextTick,\n  parallel: parallelLimit,\n  parallelLimit: parallelLimit$1,\n  priorityQueue: priorityQueue,\n  queue: queue$1,\n  race: race,\n  reduce: reduce,\n  reduceRight: reduceRight,\n  reflect: reflect,\n  reflectAll: reflectAll,\n  reject: reject,\n  rejectLimit: rejectLimit,\n  rejectSeries: rejectSeries,\n  retry: retry,\n  retryable: retryable,\n  seq: seq$1,\n  series: series,\n  setImmediate: setImmediate$1,\n  some: some,\n  someLimit: someLimit,\n  someSeries: someSeries,\n  sortBy: sortBy,\n  timeout: timeout,\n  times: times,\n  timesLimit: timeLimit,\n  timesSeries: timesSeries,\n  transform: transform,\n  unmemoize: unmemoize,\n  until: until,\n  waterfall: waterfall,\n  whilst: whilst,\n\n  // aliases\n  all: every,\n  any: some,\n  forEach: eachLimit,\n  forEachSeries: eachSeries,\n  forEachLimit: eachLimit$1,\n  forEachOf: eachOf,\n  forEachOfSeries: eachOfSeries,\n  forEachOfLimit: eachOfLimit,\n  inject: reduce,\n  foldl: reduce,\n  foldr: reduceRight,\n  select: filter,\n  selectLimit: filterLimit,\n  selectSeries: filterSeries,\n  wrapSync: asyncify\n};\n\nexports['default'] = index;\nexports.applyEach = applyEach;\nexports.applyEachSeries = applyEachSeries;\nexports.apply = apply$2;\nexports.asyncify = asyncify;\nexports.auto = auto;\nexports.autoInject = autoInject;\nexports.cargo = cargo;\nexports.compose = compose;\nexports.concat = concat;\nexports.concatSeries = concatSeries;\nexports.constant = constant;\nexports.detect = detect;\nexports.detectLimit = detectLimit;\nexports.detectSeries = detectSeries;\nexports.dir = dir;\nexports.doDuring = doDuring;\nexports.doUntil = doUntil;\nexports.doWhilst = doWhilst;\nexports.during = during;\nexports.each = eachLimit;\nexports.eachLimit = eachLimit$1;\nexports.eachOf = eachOf;\nexports.eachOfLimit = eachOfLimit;\nexports.eachOfSeries = eachOfSeries;\nexports.eachSeries = eachSeries;\nexports.ensureAsync = ensureAsync;\nexports.every = every;\nexports.everyLimit = everyLimit;\nexports.everySeries = everySeries;\nexports.filter = filter;\nexports.filterLimit = filterLimit;\nexports.filterSeries = filterSeries;\nexports.forever = forever;\nexports.groupBy = groupBy;\nexports.groupByLimit = groupByLimit;\nexports.groupBySeries = groupBySeries;\nexports.log = log;\nexports.map = map;\nexports.mapLimit = mapLimit;\nexports.mapSeries = mapSeries;\nexports.mapValues = mapValues;\nexports.mapValuesLimit = mapValuesLimit;\nexports.mapValuesSeries = mapValuesSeries;\nexports.memoize = memoize;\nexports.nextTick = nextTick;\nexports.parallel = parallelLimit;\nexports.parallelLimit = parallelLimit$1;\nexports.priorityQueue = priorityQueue;\nexports.queue = queue$1;\nexports.race = race;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reflect = reflect;\nexports.reflectAll = reflectAll;\nexports.reject = reject;\nexports.rejectLimit = rejectLimit;\nexports.rejectSeries = rejectSeries;\nexports.retry = retry;\nexports.retryable = retryable;\nexports.seq = seq$1;\nexports.series = series;\nexports.setImmediate = setImmediate$1;\nexports.some = some;\nexports.someLimit = someLimit;\nexports.someSeries = someSeries;\nexports.sortBy = sortBy;\nexports.timeout = timeout;\nexports.times = times;\nexports.timesLimit = timeLimit;\nexports.timesSeries = timesSeries;\nexports.transform = transform;\nexports.unmemoize = unmemoize;\nexports.until = until;\nexports.waterfall = waterfall;\nexports.whilst = whilst;\nexports.all = every;\nexports.allLimit = everyLimit;\nexports.allSeries = everySeries;\nexports.any = some;\nexports.anyLimit = someLimit;\nexports.anySeries = someSeries;\nexports.find = detect;\nexports.findLimit = detectLimit;\nexports.findSeries = detectSeries;\nexports.forEach = eachLimit;\nexports.forEachSeries = eachSeries;\nexports.forEachLimit = eachLimit$1;\nexports.forEachOf = eachOf;\nexports.forEachOfSeries = eachOfSeries;\nexports.forEachOfLimit = eachOfLimit;\nexports.inject = reduce;\nexports.foldl = reduce;\nexports.foldr = reduceRight;\nexports.select = filter;\nexports.selectLimit = filterLimit;\nexports.selectSeries = filterSeries;\nexports.wrapSync = asyncify;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import './service';\r\nimport './page';\r\n\r\nangular.module('pipHelp', [\r\n    'pipHelp.Service',\r\n    'pipHelp.Page'\r\n]);\r\n\r\nexport * from './service';\r\n","export let StateVar: string = \"$state\";\r\nexport let PrevStateVar: string = \"$prevState\";\r\n\r\n// Run function to set CurrentState and PreviousState global variables\r\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n\r\n            let CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            let PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        // Record current and previous state\r\n        $rootScope[StateVar] = CurrentState;\r\n        $rootScope[PrevStateVar] = PreviousState;            \r\n        }\r\n    );\r\n\r\n}\r\n\r\n// Decorator function to modify $state service by adding goBack and goBackAndSelect methods\r\nfunction decorateBackStateService($delegate: any, $window: ng.IWindowService, $rootScope: ng.IRootScopeService): any {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        // todo: define end fix PreviousState\r\n        if (!!$rootScope[StateVar] && !!$rootScope[PrevStateVar]) {\r\n\r\n            let state = _.cloneDeep($rootScope[PrevStateVar]);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\n// Config function to decorate $state service\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n    ","export let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents(\r\n    $rootScope: ng.IRootScopeService,\r\n    $log: ng.ILogService,\r\n    $state: ng.ui.IStateService\r\n) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .run(hookRoutingEvents);\r\n    ","angular.module('pipRouting', ['ui.router']);\r\n\r\nimport './BackDecorator';\r\nimport './RoutingEvents';\r\n\r\nexport * from './BackDecorator';\r\nexport * from './RoutingEvents';\r\n","import { IIdentityService, IIdentityProvider } from './IIdentityService';\r\n\r\nexport let IdentityRootVar = \"$identity\";\r\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: any;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\r\n\r\n        let identity: any = value || {};\r\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: any = null;\r\n    private _service: IdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipIdentity', IdentityProvider);\r\n","import { ISessionService, ISessionProvider } from './ISessionService';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nlet async = require('async');\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private listeners: any = {};\r\n    private notifyError: boolean = false;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        session: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private notifyListeners(type: string, successCallback: (error?: any, result?: any) => void): void {\r\n        if (!type){  \r\n            throw new Error(\"Event object missing 'type' property.\");\r\n        }\r\n\r\n        if (this.listeners[type] instanceof Array){\r\n            async.each(\r\n                this.listeners[type], \r\n                (listener, callback) => {\r\n                listener(callback);\r\n            }, successCallback);\r\n        } else {\r\n            successCallback();\r\n        }\r\n    }\r\n\r\n    private notifyOpenListeners(callback: (error?: any, result?: any) => void): void {\r\n        this.notifyListeners('open', (error: any, result: any) => {\r\n            if (!error) {\r\n                callback(null, result);\r\n            } else {\r\n                // reset session\r\n                // this._session = null;\r\n                this._log.error(error);\r\n                callback(error);\r\n                // throw new Error('Session open error:');\r\n            }\r\n        });\r\n    }\r\n\r\n    private notifyCloseListeners(callback: (error?: any, result?: any) => void): void {\r\n        this.notifyListeners('close', (error: any, result: any) => {\r\n            if (!error) {\r\n                callback(null, result);\r\n            } else {\r\n                this._log.error(error);\r\n                callback(error);\r\n                // throw new Error('Session close error:');\r\n            }\r\n        });\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    private start(session: any): void {\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionOpenedEvent, session);\r\n        this._log.debug(\"Opened session \" + session);\r\n    }\r\n\r\n    private stop(): void {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\r\n\r\n        this._log.debug(\"Closed session \" + oldSession);\r\n    }\r\n\r\n    private addListener(type: string, listener: any): void {\r\n        if (typeof this.listeners[type] == \"undefined\") {\r\n            this.listeners[type] = [];\r\n        }\r\n\r\n        this.listeners[type].push(listener);\r\n    }\r\n\r\n    private removeListener(type: string, listener: any): void {\r\n        if (this.listeners[type] instanceof Array) {\r\n            var listeners = this.listeners[type];\r\n            for (var i = 0, len = listeners.length; i < len; i++) {\r\n                if (listeners[i] === listener) {\r\n                    listeners.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public addOpenListener(listener: any): void {\r\n        this.addListener('open', listener);\r\n    }\r\n\r\n    public addCloseListener(listener: any): void {\r\n        this.addListener('close', listener);\r\n    }\r\n\r\n    public removeOpenListener(listener: any): void {\r\n        this.removeListener('open', listener);\r\n    }\r\n\r\n    public removeCloseListener(listener: any): void {\r\n        this.removeListener('close', listener);\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n\r\n        this.notifyOpenListeners((error?: any, result?: any) => {\r\n            if (!error) {\r\n                this.start(session);\r\n            } else {\r\n                this.stop();\r\n            }\r\n        });\r\n    }\r\n\r\n    public close() {\r\n        if (this.session == null) { return }\r\n\r\n        this.notifyCloseListeners((error?: any, result?: any) => {\r\n            if (!error) this.stop();\r\n        });\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: SessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;\r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipSession', SessionProvider); \r\n","angular.module('pipSession', []);\r\n\r\nimport './IdentityService';\r\nimport './SessionService';\r\n\r\nexport * from './IIdentity';\r\nexport * from './IIdentityService';\r\nexport * from './IdentityService';\r\n\r\nexport * from './ISessionService';\r\nexport * from './SessionService';\r\n","import { TransactionError } from './TransactionError'\r\n\r\nexport class Transaction {\r\n    private _scope: string = null;\r\n    private _id: string = null;\r\n    private _operation: string = null;\r\n    private _error: TransactionError = new TransactionError();\r\n    private _progress: number = 0;\r\n\r\n    public constructor(scope: string) {\r\n        this._scope = scope;\r\n    }\r\n\r\n    public get scope(): string {\r\n        return this._scope;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get operation(): string {\r\n        return this._operation;\r\n    }\r\n\r\n    public get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    public get error(): TransactionError {\r\n        return this._error;\r\n    }\r\n\r\n    public get errorMessage(): string {\r\n        return this._error.message;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._id = null;\r\n        this._operation = null;\r\n        this._progress = 0;\r\n        this._error.reset();\r\n    }\r\n\r\n    public busy(): boolean {\r\n        return this._id != null;\r\n    }\r\n\r\n    public failed(): boolean {\r\n        return !this._error.empty();\r\n    }\r\n\r\n    public aborted(id: string): boolean {\r\n        return this._id != id;\r\n    }\r\n\r\n    public begin(operation: string): string {\r\n        // Transaction is already running\r\n        if (this._id != null) return null;\r\n\r\n        this._id = new Date().getTime().toString();\r\n        this._operation = operation || 'PROCESSING'\r\n        this._error.reset();\r\n\r\n        return this._id;\r\n    }\r\n\r\n    public update(progress: number): void {\r\n        this._progress = Math.max(progress, 100);\r\n    }\r\n\r\n    public abort(): void {\r\n        this._id = null;\r\n        this._error.reset();\r\n    }\r\n\r\n    public end(error?: any): void {\r\n        this._error.decode(error);\r\n        this._id = null;\r\n    }\r\n}\r\n","export class TransactionError {\r\n    public code: string;\r\n    public message: string;\r\n    public details: any;\r\n    public cause: string;\r\n    public stack_trace: string;\r\n\r\n    public constructor(error?: any) {\r\n        if (error != null)\r\n            this.decode(error);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.code = null;\r\n        this.message = null;\r\n        this.details = null;\r\n        this.cause = null;\r\n        this.stack_trace = null;\r\n    }\r\n\r\n    public empty(): boolean {\r\n        return this.message = null && this.code == null;\r\n    }\r\n\r\n    public decode(error: any): void {\r\n        this.reset();\r\n\r\n        if (error == null) return;\r\n\r\n        // Process regular messages\r\n        if (error.message) {\r\n            this.message = error.message;\r\n        }\r\n\r\n        // Process server application errors\r\n        if (error.data) {\r\n            if (error.data.code) { \r\n                // process server error codes here\r\n                this.message = this.message || 'ERROR_' + error.data.code;\r\n                this.code = this.code || error.data.code;\r\n            }\r\n\r\n            if (error.data.message) {\r\n                this.message = this.message || error.data.message;\r\n            }\r\n\r\n            this.message = this.message || error.data;\r\n            this.details = this.details || error.data;\r\n\r\n            this.cause = error.data.cause;\r\n            this.stack_trace = error.data.stack_trace;\r\n            this.details = error.data.details;            \r\n        }\r\n\r\n        // Process standard HTTP errors\r\n        if (error.statusText) {\r\n            this.message = this.message || error.statusText;\r\n        }\r\n        if (error.status) {\r\n            this.message = this.message || 'ERROR_' + error.status;\r\n            this.code = this.code || error.status;\r\n        }\r\n        \r\n        this.message = this.message || error;\r\n        this.details = this.details || error;\r\n    }\r\n}\r\n","import { Transaction } from './Transaction';\r\nimport { ITransactionService } from './ITransactionService';\r\n\r\nclass TransactionService implements ITransactionService {\r\n    private _transactions: Transaction = <Transaction>{};\r\n\r\n    public constructor() {}\r\n\r\n    public create(scope?: string): Transaction {\r\n        let transaction: Transaction = new Transaction(scope);\r\n        \r\n        if (scope != null)\r\n            this._transactions[scope] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    public get(scope?: string): Transaction {\r\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\r\n\r\n        if (transaction == null) {\r\n            transaction = new Transaction(scope);\r\n            if (scope != null)\r\n                this._transactions[scope] = transaction;\r\n        }\r\n\r\n        return transaction;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .service('pipTransaction', TransactionService);\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction configureTransactionStrings($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslateProvider') \r\n        ? <ITranslateService>$injector.get('pipTranslateProvider') : null;\r\n\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': '  ...',\r\n            'PROCESSING': '...',\r\n            'LOADING': '...',\r\n            'SAVING': '...'\r\n        });   \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .config(configureTransactionStrings);\r\n","angular.module('pipTransaction', []);\r\n\r\nimport './TransactionStrings';\r\nimport './TransactionError';\r\nimport './Transaction';\r\nimport './TransactionService';\r\n\r\nexport * from './TransactionError';\r\nexport * from './Transaction';\r\nexport * from './ITransactionService';\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction translateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction translateHtmlDirective(pipTranslate: ITranslateService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .directive('pipTranslate', translateDirective)\r\n    .directive('pipTranslateHtml', translateHtmlDirective);\r\n","import { ITranslateService } from './ITranslateService';\r\n\r\nfunction translateFilter(pipTranslate: ITranslateService) {\r\n    \"ngInject\";\r\n\r\n    return function (key: string) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslate') \r\n        ? <ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n    return function (key: string) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .filter('translate', translateFilter);\r\n","export class Translation {\r\n    protected _language: string = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': '',\r\n            'ru': '',\r\n            'es': '',\r\n            'pt': '',\r\n            'de': '',\r\n            'fr': ''\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Yet another method to set translation strings for specific language\r\n    public translations(language: string, translations: any): void {\r\n        this.setTranslations(language, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values: string[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k: string) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item: any) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","import { Translation } from './Translation';\r\nimport { ResetPageEvent } from '../utilities/PageResetService';\r\nimport { ITranslateService, ITranslateProvider } from './ITranslateService';\r\n\r\nexport let LanguageRootVar = \"$language\";\r\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nclass TranslateService implements ITranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _mdDateLocale: angular.material.IDateLocaleProvider;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider,\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._mdDateLocale = $mdDateLocale;\r\n\r\n        if (this._persist && this._window.localStorage) {\r\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\r\n            this.changeLocale(this._translation.language);\r\n        }\r\n        this._log.debug(\"Set language to \" + this._translation.language);\r\n\r\n        this.save();\r\n    }\r\n\r\n    private changeLocale(locale: string) {\r\n        if (!locale) return;\r\n\r\n        // var localeDate: moment.MomentLanguageData;\r\n        var localeDate: any;\r\n\r\n        moment.locale(locale);\r\n        localeDate = moment.localeData();\r\n\r\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\r\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\r\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\r\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\r\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this._log.debug(\"Changing language to \" + value);\r\n\r\n            this.changeLocale(this._translation.language);\r\n            this.save();   \r\n\r\n            this._rootScope.$emit(LanguageChangedEvent, value);\r\n            this._rootScope.$emit(ResetPageEvent);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTranslate(pipTranslate: ITranslateService) {\r\n    pipTranslate.language;\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .provider('pipTranslate', TranslateProvider)\r\n    .run(initTranslate);\r\n","angular.module('pipTranslate', []);\r\n\r\nimport './Translation';\r\nimport './TranslateService';\r\nimport './TranslateFilter';\r\nimport './TranslateDirective';\r\n\r\nexport * from './Translation';\r\nexport * from './ITranslateService';\r\nexport * from './TranslateService';\r\n","import { ICodes } from './ICodes';\r\n\r\nclass Codes implements ICodes {\r\n    // Simple version of string hashcode\r\n    public hash(value: string): number {\r\n        if (value == null) return 0;\r\n        \r\n        let result: number = 0;\r\n        for (let i = 0; i < value.length; i++)\r\n            result += value.charCodeAt(i);\r\n\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    public verification(): string {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipCodes', [])\r\n    .service('pipCodes', Codes);\r\n","import { IFormat } from './IFormat';\r\n\r\nclass Format implements IFormat {\r\n    // Cached for parsed formats\r\n    private cache = {};\r\n\r\n    // Creates a sample line from a text\r\n    public sample(value: string, maxLength: number): string {\r\n        if (!value || value == '') {\r\n            return '';\r\n        }\r\n\r\n        var length: number = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    private strRepeat(str: string, qty: number): string {\r\n        if (qty < 1) { \r\n            return '';\r\n        }\r\n        var result: string = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getType(variable): string {\r\n        return toString.call(variable).slice(8, -1).toLowerCase();\r\n    }\r\n\r\n    private parseFormat(fmt: string): any {\r\n        let _fmt: string = fmt, match = [], parse_tree = [], arg_names: number = 0;\r\n        while (_fmt) {\r\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                parse_tree.push(match[0]);\r\n            }\r\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                parse_tree.push('%');\r\n            }\r\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                if (match[2]) {\r\n                    arg_names |= 1;\r\n                    let field_list: string[] = [], replacement_field: string = match[2], field_match: string[] = [];\r\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                        field_list.push(field_match[1]);\r\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else {\r\n                                throw new Error('Unknown error');\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw new Error('Unknown error');\r\n                    }\r\n                    match[2] = field_list;\r\n                }\r\n                else {\r\n                    arg_names |= 2;\r\n                }\r\n                if (arg_names === 3) {\r\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\r\n                }\r\n                parse_tree.push(match);\r\n            }\r\n            else {\r\n                throw new Error('Unknown error');\r\n            }\r\n            _fmt = _fmt.substring(match[0].length);\r\n        }\r\n        return parse_tree;\r\n    }\r\n\r\n    private format(parse_tree: any, argv: any): string {\r\n        let cursor: number = 0; \r\n        let tree_length: number = parse_tree.length; \r\n        let output = [];\r\n\r\n        for (let i = 0; i < tree_length; i++) {\r\n            let node_type = this.getType(parse_tree[i]);\r\n            if (node_type === 'string') {\r\n                output.push(parse_tree[i]);\r\n            }\r\n            else if (node_type === 'array') {\r\n                let match = parse_tree[i]; // convenience purposes only\r\n                let arg: any;\r\n                if (match[2]) { // keyword argument\r\n                    arg = argv[cursor];\r\n                    for (let k = 0; k < match[2].length; k++) {\r\n                        if (!arg.hasOwnProperty(match[2][k])) {\r\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\r\n                        }\r\n                        arg = arg[match[2][k]];\r\n                    }\r\n                } else if (match[1]) { // positional argument (explicit)\r\n                    arg = argv[match[1]];\r\n                }\r\n                else { // positional argument (implicit)\r\n                    arg = argv[cursor++];\r\n                }\r\n\r\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\r\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\r\n                }\r\n                switch (match[8]) {\r\n                    case 'b': arg = arg.toString(2); break;\r\n                    case 'c': arg = String.fromCharCode(arg); break;\r\n                    case 'd': arg = parseInt(arg, 10); break;\r\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                    case 'o': arg = arg.toString(8); break;\r\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                    case 'u': arg = Math.abs(arg); break;\r\n                    case 'x': arg = arg.toString(16); break;\r\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                }\r\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \r\n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                let pad_length = match[6] - String(arg).length;\r\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\r\n                output.push(match[5] ? arg + pad : pad + arg);\r\n            }\r\n        }\r\n        return output.join('');\r\n    }\r\n    \r\n    public sprintf(message: string, ...args: any[]): string {\r\n        if (!this.cache.hasOwnProperty(message))\r\n            this.cache[message] = this.parseFormat(message);\r\n\r\n        return this.format(this.cache[message], args);\r\n    }\r\n\r\n    public filterToString(filter: any): string {\r\n        if (filter == null) return null;\r\n        let result = ''; \r\n\r\n        for (let key in filter) {\r\n            if (result.length > 0)\r\n                result += ';';\r\n\r\n            let value = filter[key];\r\n            if (value != null)\r\n                result += key + '=' + value\r\n            else\r\n                result += key\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public arrayToString(array: string[]): string {\r\n        let result = ''; \r\n\r\n        if (array == null || array.length == 0)\r\n            return result;\r\n\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (result.length > 0)\r\n                result += ',';\r\n            result += array[i]\r\n        }\r\n\r\n        return result;\r\n    }    \r\n\r\n    public enumToArray(obj: any): any[] {\r\n        let result: any[] = [];\r\n        let key;\r\n\r\n        for (key in obj)\r\n            if (obj.hasOwnProperty(key))\r\n                result.push(obj[key]);\r\n\r\n        return result;\r\n    };    \r\n}\r\n\r\n\r\nangular\r\n    .module('pipFormat', [])\r\n    .service('pipFormat', Format);\r\n","import { IPageResetService } from './IPageResetService';\r\n\r\n\r\nexport let ResetPageEvent: string = \"pipResetPage\";\r\nexport let ResetAreaEvent: string = \"pipResetArea\";\r\n\r\nexport let ResetRootVar: string = \"$reset\";\r\nexport let ResetAreaRootVar: string = \"$resetArea\";\r\n\r\n\r\nclass PageResetService implements IPageResetService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._timeout = $timeout;\r\n\r\n        $rootScope[ResetRootVar] = false;\r\n        $rootScope[ResetAreaRootVar] = null;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._log.debug(\"Resetting the entire page\");\r\n        this.performReset(null);\r\n    }\r\n\r\n    public resetArea(area: string): void {\r\n        this._log.debug(\"Resetting the area \" + area);\r\n        this.performReset(area);\r\n    }\r\n\r\n    private performReset(area?: string): void {\r\n        this._rootScope[ResetRootVar] = area == null;\r\n        this._rootScope[ResetAreaRootVar] = area;\r\n\r\n        this._timeout(() => {\r\n            this._rootScope[ResetRootVar] = false;\r\n            this._rootScope[ResetAreaRootVar] = null;\r\n        }, 0);\r\n    }\r\n}\r\n\r\n\r\nfunction hookResetEvents(\r\n    $rootScope: ng.IRootScopeService, \r\n    pipPageReset: IPageResetService\r\n) {\r\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\r\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\r\n}\r\n\r\n\r\nangular.module('pipPageReset', [])\r\n    .service('pipPageReset', PageResetService)\r\n    .run(hookResetEvents);\r\n","import { IScrollService } from './IScrollService';\r\n\r\n\r\nclass ScrollService implements IScrollService {\r\n\r\n    public scrollTo(parentElement, childElement, animationDuration): void {\r\n        if (!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipScroll', [])\r\n    .service('pipScroll', ScrollService);\r\n","import { ISystemInfo } from './ISystemInfo';\r\n\r\n\r\nclass SystemInfo implements ISystemInfo {\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor($window: ng.IWindowService) {\r\n        \"ngInject\";\r\n\r\n        this._window = $window;\r\n    }\r\n\r\n    // todo add support for iPhone\r\n    public get browserName(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    public get browserVersion(): string {\r\n        let version;\r\n        let ua = this._window.navigator.userAgent;\r\n        let browser = this.browserName;\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]) ? (ua.split(\"Edge\")[1]).split(\"/\")[1] : null;\r\n                break;\r\n            case \"ie\":\r\n                let subVersion = ua.split(\"MSIE \")[1] ? ua.split(\"MSIE \")[1] : ua.split(\"Trident/\")[1]\r\n                version = subVersion ? subVersion.split(\";\")[0] : null;\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]) ? (ua.split(\"; rv:\")[1]).split(\")\")[0] : null;\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = (ua.search(/Opera/) > -1) ? ua.split(\"Version/\")[1] : ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]) ? (ua.split(\"YaBrowser/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]) ? (ua.split(\"Chrome/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Safari/\")[1]) ? (ua.split(\"Safari/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    public get platform(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    public get os(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        try {\r\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\r\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    public isDesktop(): boolean {\r\n        return this.platform == 'desktop';\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        return this.platform == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    public isCordova(): boolean {\r\n        return false;\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    public isSupported(supported?: any): boolean {\r\n        if (!supported) \r\n            supported = {\r\n                edge: 12,\r\n                ie: 11,\r\n                firefox: 43, //4, for testing\r\n                opera: 35,\r\n                chrome: 47,\r\n                safari: 600\r\n            };\r\n\r\n        let browser = this.browserName;\r\n        let version = this.browserVersion;\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipSystemInfo', [])\r\n    .service('pipSystemInfo', SystemInfo);\r\n","import { ITags } from './ITags';\r\n\r\nclass Tags implements ITags {\r\n\r\n    public normalizeOne(tag: string): string {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    public compressOne(tag: string): string {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    public equal(tag1: string, tag2: string): boolean {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return this.compressOne(tag1) == this.compressOne(tag2);\r\n    }\r\n\r\n    public normalizeAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public compressAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public extract(entity: any, searchFields?: string[]): string[] {\r\n        let tags = this.normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, (field) => {\r\n            let text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                let hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(this.normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTags', [])\r\n    .service('pipTags', Tags);\r\n","import { ITimerService } from './ITimerService';\r\n\r\nclass TimerEvent {\r\n    public event: string;\r\n    public timeout: number;\r\n    public interval: any;\r\n\r\n    public constructor(event: string, timeout: number) {\r\n        this.event = event;\r\n        this.timeout = timeout;\r\n    }\r\n}\r\n\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\r\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\r\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\r\n];\r\n\r\n\r\nclass TimerService implements ITimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $interval: ng.IIntervalService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public isStarted(): boolean {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { \r\n                this._log.debug('Generated timer event ' + event.event); \r\n                this._rootScope.$emit(event.event)\r\n            },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","import './Format';\r\nimport './TimerService';\r\nimport './ScrollService';\r\nimport './Tags';\r\nimport './Codes';\r\nimport './SystemInfo';\r\nimport './PageResetService';\r\n\r\n\r\nexport * from './IFormat';\r\nexport * from './ITimerService';\r\nexport * from './IScrollService';\r\nexport * from './ITags';\r\nexport * from './ICodes';\r\nexport * from './ISystemInfo';\r\nexport * from './IPageResetService';\r\n","{\r\n    function filter($injector: ng.auto.IInjectorService) {\r\n         let pipTranslate: any = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return (key) => {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular.module('pipHelp.Translate', [])\r\n           .filter('translate', filter);\r\n\r\n}\r\n","{\r\n\r\nclass FabTooltipVisibilityController {\r\n    private _element;\r\n    private _scope: angular.IScope;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    constructor(\r\n        $element: any,\r\n        $attrs: angular.IAttributes,\r\n        $scope: angular.IScope,\r\n        $timeout: ng.ITimeoutService,\r\n        $parse\r\n    ) {\r\n        \"ngInject\";\r\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\r\n            showGetter = $parse($attrs['pipFabShowTooltip']),\r\n            showSetter = showGetter.assign;\r\n\r\n        $scope.$watch(trigGetter, (isOpen) => {\r\n            if (!_.isFunction(showSetter)) return;\r\n\r\n            if (isOpen) {\r\n                $timeout(() => {\r\n                    showSetter($scope, isOpen);\r\n                }, 600);\r\n            } else {\r\n                showSetter($scope, isOpen);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nfunction pipFabTooltipVisibility($parse, $timeout): ng.IDirective {\r\n    return {\r\n        restrict: 'A',\r\n        scope: false,\r\n        controller: FabTooltipVisibilityController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipFabTooltipVisibility', [])\r\n    .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\r\n\r\n}","{\r\n\r\ninterface IRefreshButtonBindings {\r\n    [key: string]: any;\r\n\r\n    text: any;\r\n    visible: any;\r\n    onRefresh: any\r\n}\r\n\r\nconst RefreshButtonBindings: IRefreshButtonBindings = {\r\n    text: '<pipText',\r\n    visible: '<pipVisible',\r\n    onRefresh: '&?pipRefresh'\r\n}\r\n\r\nclass RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\r\n    [key: string]: ng.IChangesObject < any > ;\r\n    // Not one way bindings\r\n    onRefresh: ng.IChangesObject < ({\r\n        $event: any\r\n    }) => ng.IPromise < any >> ;\r\n    // One way bindings\r\n    text: ng.IChangesObject < string > ;\r\n    visible: ng.IChangesObject < boolean > ;\r\n}\r\n\r\nclass RefreshButtonController implements IRefreshButtonBindings {\r\n\r\n    private _textElement: any;\r\n    private _buttonElement: any;\r\n    private _width: number;\r\n\r\n    public text: string;\r\n    public visible: boolean;\r\n    public onRefresh: (param: {\r\n        $event: ng.IAngularEvent\r\n    }) => ng.IPromise < any > ;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        private $element: any,\r\n        private $attrs: ng.IAttributes\r\n    ) {}\r\n\r\n    public $postLink() {\r\n        this._buttonElement = this.$element.children('.md-button');\r\n        this._textElement = this._buttonElement.children('.pip-refresh-text');\r\n\r\n        this.show();\r\n    }\r\n\r\n    public $onChanges(changes: RefreshButtonChanges) {\r\n        if (changes.visible.currentValue === true) {\r\n            this.text = changes.text.currentValue;\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    public onClick($event) {\r\n        if (this.onRefresh) {\r\n            this.onRefresh({\r\n                $event: $event\r\n            });\r\n        }\r\n    }\r\n\r\n    private show() {\r\n        if (this._textElement === undefined || this._buttonElement === undefined) {\r\n            return;\r\n        }\r\n        // Set new text\r\n        this._textElement.text(this.text);\r\n        // Show button\r\n        this._buttonElement.show();\r\n        // Adjust position\r\n        const width = this._buttonElement.width();\r\n        this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\r\n    }\r\n\r\n    private hide() {\r\n        this._buttonElement.hide();\r\n    }\r\n}\r\n\r\n\r\nconst RefreshButtonComponent: ng.IComponentOptions = {\r\n    bindings: RefreshButtonBindings,\r\n    controller: RefreshButtonController,\r\n    template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\r\n        '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\r\n        '<span class=\"pip-refresh-text\"></span>' +\r\n        '</md-button>'\r\n};\r\n\r\nangular\r\n    .module('pipRefreshButton', ['ngMaterial'])\r\n    .component('pipRefreshButton', RefreshButtonComponent);\r\n\r\n}","{\r\n\r\nclass ToggleButton {\r\n    id: any;\r\n    name: string;\r\n    disabled: boolean;\r\n    level: number;\r\n    diselectable: boolean;\r\n    filled: boolean;\r\n}\r\n\r\ninterface IToggleButtonsBindings {\r\n    [key: string]: any;\r\n\r\n    ngDisabled: any;\r\n    buttons: any;\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    multiselect: any;\r\n    change: any;\r\n    onlyToggle: any\r\n}\r\n\r\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\r\n    ngDisabled: '<?',\r\n    buttons: '<pipButtons',\r\n    currentButtonValue: '=ngModel',\r\n    currentButton: '=?pipButtonObject',\r\n    multiselect: '<?pipMultiselect',\r\n    change: '&ngChange',\r\n    onlyToggle: '<?pipOnlyToggle'\r\n}\r\n\r\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\r\n    [key: string]: ng.IChangesObject < any > ;\r\n    // Not one way bindings\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    change: ng.IChangesObject < () => ng.IPromise < void >> ;\r\n    // One way bindings\r\n    ngDisabled: ng.IChangesObject < boolean > ;\r\n    buttons: ng.IChangesObject < ToggleButton[] > ;\r\n    multiselect: ng.IChangesObject < boolean > ;\r\n    onlyToggle: ng.IChangesObject < boolean > ;\r\n}\r\n\r\nclass ToggleButtonsController implements IToggleButtonsBindings {\r\n    lenght: number;\r\n\r\n    public ngDisabled: boolean;\r\n    public class: string;\r\n    public multiselect: boolean;\r\n    public buttons: ToggleButton[] = [];\r\n    public disabled: boolean;\r\n    public currentButtonValue: any;\r\n    public currentButtonIndex: number;\r\n    public currentButton: any;\r\n    public change: () => ng.IPromise < any > ;\r\n    public onlyToggle: boolean;\r\n    public pipMedia: any;\r\n\r\n    constructor(\r\n        private $element: any,\r\n        private $attrs: angular.IAttributes,\r\n        private $scope: angular.IScope,\r\n        private $timeout: ng.ITimeoutService,\r\n        $injector: ng.auto.IInjectorService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.class = $attrs['class'] || '';\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $onChanges(changes: ToggleButtonsChanges) {\r\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : this.multiselect;\r\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : this.disabled;\r\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : this.onlyToggle;\r\n\r\n        if (changes.buttons) {\r\n            this.buttons = _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? [] : changes.buttons.currentValue;\r\n        }\r\n\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $postLink() {\r\n        this.$element\r\n            .on('focusin', () => {\r\n                this.$element.addClass('focused-container');\r\n            })\r\n            .on('focusout', () => {\r\n                this.$element.removeClass('focused-container');\r\n            });\r\n    }\r\n\r\n    public buttonSelected(index) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.currentButtonIndex = index;\r\n        this.currentButton = this.buttons[this.currentButtonIndex];\r\n        this.currentButtonValue = this.currentButton.id || index;\r\n\r\n        this.$timeout(() => {\r\n            if (this.change) {\r\n                this.change();\r\n            }\r\n        });\r\n    }\r\n\r\n    public enterSpacePress(event) {\r\n        this.buttonSelected(event.index);\r\n    }\r\n\r\n    public highlightButton(index) {\r\n        if (this.multiselect &&\r\n            !_.isUndefined(this.currentButton.level) &&\r\n            !_.isUndefined(this.buttons[index].level)) {\r\n\r\n            return this.currentButton.level >= this.buttons[index].level;\r\n        }\r\n\r\n        return this.currentButtonIndex == index;\r\n    }\r\n}\r\n\r\nconst ToggleButtons: ng.IComponentOptions = {\r\n    bindings: ToggleButtonsBindings,\r\n    templateUrl: 'toggle_buttons/ToggleButtons.html',\r\n    controller: ToggleButtonsController\r\n}\r\n\r\nangular\r\n    .module('pipToggleButtons', ['pipButtons.Templates'])\r\n    .component('pipToggleButtons', ToggleButtons);\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/ToggleButtons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","import { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './IAuxPanelService';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\n\r\n{\r\n    class AuxPanelDirectiveController {\r\n        private normalSize: number = 320;\r\n        private largeSize: number = 480;\r\n        private _debounceBodySize: Function;\r\n        private gtxs: boolean = null;\r\n        private gtlg: boolean = null;\r\n        private bodyWidth: number;\r\n        private bodyElement: any;\r\n\r\n        public constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private pipAuxPanel: IAuxPanelService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // this._debounceBodySize = _.debounce(() => {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n            // }, 10);\r\n\r\n            this.bodyElement = $('body');\r\n            this.bodyWidth = this.bodyElement.width();\r\n            $rootScope.$on(LayoutResizedEvent, () => {\r\n                this.bodyWidth = this.bodyElement.width();\r\n            });\r\n            // this._debounceBodySize();\r\n        }\r\n\r\n        public isGtxs(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtxs;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n\r\n            //     return this.gtxs;\r\n            // }\r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n\r\n            return this.bodyWidth > MainBreakpoints.xs;\r\n        }\r\n\r\n        public isGtlg(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtlg;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n                \r\n            //     return this.gtlg;\r\n            // }            \r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n            \r\n            return this.bodyWidth > (MainBreakpoints.lg + this.largeSize);\r\n        }\r\n    }\r\n\r\n    const AuxPanel: ng.IComponentOptions = {\r\n\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\r\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" ng-transclude><div pip-focused></div>' +\r\n        '</md-sidenav>'\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .component('pipAuxPanel', AuxPanel);\r\n\r\n}\r\n","{\r\n\r\n    class AuxPanelPartController {\r\n        private partName: string;\r\n        private partValue: string;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipAuxPanel) {\r\n            \"ngInject\";\r\n            this.partName = '' + $attrs.pipAuxPanelPart;\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\r\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\r\n                this.onAuxPanelChanged(event, config);\r\n            });\r\n\r\n        }\r\n\r\n        private onAuxPanelChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = config[this.partName];\r\n            // Set visible variable to switch ngIf\r\n\r\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\r\n        }\r\n    }\r\n\r\n\r\n    function AuxPanelPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function ($scope: ng.IScope, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: AuxPanelPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent, AuxPanelOpenedEvent, AuxPanelClosedEvent } from './IAuxPanelService';\r\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n\r\n        \"ngInject\";\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n        this._rootScope.$emit(AuxPanelOpenedEvent, this._config);\r\n    }\r\n\r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n        this._rootScope.$emit(AuxPanelClosedEvent, this._config);\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    \"ngInject\";\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\nexport const AuxPanelOpenedEvent = 'pipAuxPanelOpened';\r\nexport const AuxPanelClosedEvent = 'pipAuxPanelClosed';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}","angular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPart';\r\nimport './AuxPanel';\r\n\r\nexport * from './IAuxPanelService';","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface ICardDirectiveAttributes extends ng.IAttributes {\r\n    minWidth: string | number;\r\n    minHeight: string | number;\r\n    width: string | number;\r\n    height: string | number;\r\n}\r\n\r\nclass CardDirectiveLink {\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService, \r\n        private $element: JQuery, \r\n        private $attrs: ICardDirectiveAttributes\r\n    ) {\r\n       \"ngInject\";\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        const\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width();\r\n        let\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\r\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\r\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\r\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this.$element.css('width', width ? width + 'px' : '');\r\n        this.$element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            const\r\n                $header = this.$element.find('.pip-header:visible'),\r\n                $footer = this.$element.find('.pip-footer:visible'),\r\n                $body = this.$element.find('.pip-body');\r\n            let maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this.$element.css('left', left);\r\n            this.$element.css('top', top);\r\n\r\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this.$rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\n    interface IMainDirectiveAttributes extends ng.IAttributes {\r\n        pipContainer: string;\r\n    }\r\n\r\n    class MainDirectiveController implements ng.IController {\r\n        private _container: any;\r\n\r\n        public constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: angular.IRootElementService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $attrs: IMainDirectiveAttributes\r\n        ) {\r\n            \"ngInject\";\r\n            this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\r\n\r\n            // Add CSS class\r\n            $element.addClass('pip-main');\r\n\r\n            // Add resize listener\r\n            const listener = () => { this.resize(); };\r\n            addResizeListener(this._container[0], listener);\r\n\r\n            // Unbind when scope is removed\r\n            $scope.$on('$destroy', () => {\r\n                removeResizeListener(this._container[0], listener);\r\n            });\r\n\r\n            // Perform initial calculations\r\n            this.updateBreakpointStatuses();\r\n        }\r\n\r\n        private updateBreakpointStatuses() {\r\n            const width = this._container.innerWidth();\r\n            const body = $('body');\r\n\r\n            MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n            $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n                if (_.isBoolean(status)) {\r\n                    body[status ? 'addClass' : 'removeClass']('pip-' + breakpoint);\r\n                }\r\n            });\r\n\r\n            this.$timeout(() => {\r\n                this.$rootScope.$apply();\r\n            });\r\n        }\r\n\r\n        private resize() {\r\n            this.updateBreakpointStatuses();\r\n            this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n        }\r\n    }\r\n\r\n    class MainBodyDirectiveLink {\r\n        public constructor(\r\n            $scope: ng.IScope,\r\n            $element: angular.IRootElementService\r\n        ) {\r\n            \"ngInject\";\r\n            // Add CSS class\r\n            $element.addClass('pip-main-body');\r\n        }\r\n    }\r\n\r\n    function mainDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            controller: MainDirectiveController,\r\n            controllerAs: 'vm'\r\n        }\r\n    }\r\n\r\n    function mainBodyDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: MainBodyDirectiveLink\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipMain', mainDirective)\r\n        .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","(() => {\r\n\r\n    function simpleDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n                $element.addClass('pip-simple');\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipSimple', simpleDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\r\n    columnWidth: string | number;\r\n    pipInfinite: string | boolean | number;\r\n}\r\n\r\nclass TilesOptions {\r\n    gutter: number;\r\n    isFitWidth: boolean;\r\n    isResizeBound: boolean;\r\n    transitionDuration: number;\r\n}\r\n\r\ninterface ITilesControllerScope extends ng.IScope {\r\n    tilesOptions: TilesOptions;\r\n}\r\n\r\nclass TilesDirectiveLink {\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n\tprivate _heading: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope,\r\n        private $element: JQuery,\r\n        private $attrs: ITilesDirectiveAttributes,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        \"ngInject\";\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440;\r\n        this._container = $element.children('.pip-tiles-container');\r\n\t\tthis._heading = $($element.children('.pip-tiles-heading')[0]);\r\n        this._prevContainerWidth = null;\r\n        this._masonry = Masonry.data(this._container[0]);\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this.$element.parent().width(),\r\n            containerWidth;\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this.$rootScope.$emit(LayoutResizedEvent, containerWidth);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value): boolean {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n\t\t\tgutter: '='\r\n\t\t},\r\n        transclude: {\r\n            'heading': '?pipTilesHeading'\r\n        },\r\n        template:\r\n        ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            if (convertToBoolean($attrs.pipInfinite)) {\r\n                return String()\r\n                    + '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                    + '</div>';\r\n            } else {\r\n                return String()\r\n\t\t\t\t\t+ '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\">'\r\n                    + '</div>';\r\n            }\r\n        },\r\n        controller: ($scope: ITilesControllerScope) => {\r\n            $scope.tilesOptions = {\r\n                gutter: $scope.gutter || 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","export const MainResizedEvent = 'pipMainResized';\r\nexport const LayoutResizedEvent = 'pipLayoutResized';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null || width == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\r\nimport { IMediaProvider } from './IMediaService';\r\n\r\nexport let MainBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\r\nexport const MainBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nclass MediaProvider implements IMediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        const service = (size) => {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipMedia')\r\n    .provider('pipMedia', MediaProvider);\r\n","let attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n           \"ngInject\";\r\n    let frame = window.requestAnimationFrame\r\n        || (<any>window).mozRequestAnimationFrame\r\n        || (<any>window).webkitRequestAnimationFrame\r\n        || function (callback) {\r\n            return window.setTimeout(callback, 20);\r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n           \"ngInject\";\r\n    let cancel = window.cancelAnimationFrame\r\n        || (<any>window).mozCancelAnimationFrame\r\n        || (<any>window).webkitCancelAnimationFrame\r\n        || window.clearTimeout;\r\n\r\n    return function (id) {\r\n        return cancel(id);\r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    const win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function () {\r\n        const trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function (fn) {\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    if (this.contentDocument) {\r\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n    }\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            if (element.__resizeTrigger__.contentDocument) {\r\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n            }\r\n        }\r\n    }\r\n}\r\n","angular.module('pipMedia', []);\r\n\r\nimport './MediaService';\r\nimport './ResizeFunctions';\r\n\r\nexport * from './IMediaService';\r\nexport * from './MediaService';\r\nexport * from './ResizeFunctions';","{\r\n    class CancelDragLink {\r\n        constructor(\r\n            $element: JQuery\r\n        ) {\r\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n        }\r\n    }\r\n\r\n    const CancelDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new CancelDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipCancelDrag', CancelDrag);\r\n}","import {\r\n    IDraggableService\r\n} from './DraggableService';\r\n\r\n{\r\n    interface IDragLinkScope extends ng.IScope {\r\n        value: any;\r\n    }\r\n\r\n    interface IDragLinkAttributes extends ng.IAttributes {\r\n        ngDrag: any;\r\n        pipDragStart: any;\r\n        pipDragMove: any;\r\n        pipDragStop: any;\r\n        pipDragSuccess: any;\r\n        allowTransform: any;\r\n        pipDragData: any;\r\n        pipVerticalScroll: any;\r\n        pipHorizontalScroll: any;\r\n        pipActivationDistance: any;\r\n        pipScrollContainer: any;\r\n        pipDrag: any;\r\n        pipCenterAnchor: any;\r\n    }\r\n\r\n    class DragLink {\r\n        private LONG_PRESS: number = 50; // 50ms for longpress\r\n        private offset: any;\r\n        private _centerAnchor: boolean = false;\r\n        private _mx: number;\r\n        private _my: number;\r\n        private _tx: number;\r\n        private _ty: number;\r\n        private _mrx: number;\r\n        private _mry: number;\r\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n        private _pressEvents: string = 'touchstart mousedown';\r\n        private _moveEvents: string = 'touchmove mousemove';\r\n        private _releaseEvents: string = 'touchend mouseup';\r\n        private _dragHandle: any;\r\n\r\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n        private _myid: string | number;\r\n        private _data: any = null;\r\n\r\n        private _dragOffset: any = null;\r\n\r\n        private _dragEnabled: boolean = false;\r\n\r\n        private _pressTimer: any = null;\r\n\r\n        private _elementStyle: any = {};\r\n\r\n        private onDragStartCallback: Function;\r\n        private onDragMoveCallbak: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragSuccessCallback: Function;\r\n        private allowTransform: boolean;\r\n\r\n        private getDragData: any;\r\n        private verticalScroll: boolean;\r\n        private horizontalScroll: boolean;\r\n        private activationDistance: number;\r\n        private scrollDistance: number;\r\n        private scrollParent: boolean = false;\r\n\r\n        private scrollContainer: JQuery = angular.element(window);\r\n        private scrollContainerGetter: any;\r\n\r\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n        private _deregisterRootMoveListener: Function = angular.noop;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $window: ng.IWindowService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDragLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDragLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.ngDrag;\r\n            this._myid = $scope.$id;\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\r\n            this.onDragMoveCallbak = $parse($attrs.pipDragMove) || null;\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\r\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\r\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\r\n\r\n            this.getDragData = $parse($attrs.pipDragData);\r\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\r\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\r\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\r\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\r\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\r\n\r\n            this.$element.css('cursor', 'move');\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\r\n            // check to see if drag handle(s) was specified\r\n            // if querySelectorAll is available, we use this instead of find\r\n            // as JQLite find is limited to tagnames\r\n            let dragHandles: any;\r\n            if (this.$element[0].querySelectorAll) {\r\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\r\n            } else {\r\n                dragHandles = this.$element.find('[pip-drag-handle]');\r\n            }\r\n            if (dragHandles.length) {\r\n                this._dragHandle = dragHandles;\r\n            }\r\n            this.toggleListeners(true);\r\n\r\n            // Initialize scroll container\r\n            if (this.scrollParent) {\r\n                this.scrollContainer = angular.element(this.$element.parent());\r\n            } else if (this.$attrs.pipScrollContainer) {\r\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\r\n            } else {\r\n                this.scrollContainer = angular.element(window);\r\n            }\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            if (!enable) return;\r\n            // add listeners.\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                this.onDestroy(enable);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\r\n                this.onCenterAnchor(newVal, oldVal);\r\n            });\r\n            // wire up touch events\r\n            if (this._dragHandle) {\r\n                // handle(s) specified, use those to initiate drag\r\n                this._dragHandle.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            } else {\r\n                // no handle(s) specified, use the element as the handle\r\n                this.$element.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            }\r\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\r\n                this.$element.on('mousedown', () => {\r\n                    return false;\r\n                }); // prevent native drag for images\r\n            }\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dragEnabled = (newVal);\r\n        }\r\n\r\n        private onCenterAnchor(newVal, oldVal) {\r\n            if (angular.isDefined(newVal))\r\n                this._centerAnchor = (newVal || 'true');\r\n        }\r\n\r\n        private isClickableElement(evt) {\r\n            return (\r\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n            );\r\n        }\r\n\r\n        /*\r\n         * When the element is clicked start the drag behaviour\r\n         * On touch devices as a small delay so as not to prevent native window scrolling\r\n         */\r\n        private onpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n\r\n            if (this.isClickableElement(evt)) {\r\n                return;\r\n            }\r\n\r\n            if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                // Do not start dragging on right-click\r\n                return;\r\n            }\r\n\r\n            this.saveElementStyles();\r\n\r\n            if (this._hasTouch) {\r\n                this.cancelPress();\r\n                this._pressTimer = setTimeout(() => {\r\n                    this.cancelPress();\r\n                    this.onlongpress(evt);\r\n                }, this.LONG_PRESS);\r\n                this.$document.on(this._moveEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n                this.$document.on(this._releaseEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n            } else {\r\n                this.onlongpress(evt);\r\n            }\r\n        }\r\n\r\n        private saveElementStyles() {\r\n            this._elementStyle.left = this.$element.css('left') || 0;\r\n            this._elementStyle.top = this.$element.css('top') || 0;\r\n            this._elementStyle.position = this.$element.css('position');\r\n            this._elementStyle.width = this.$element.css('width');\r\n        }\r\n\r\n        private cancelPress() {\r\n            clearTimeout(this._pressTimer);\r\n            this.$document.off(this._moveEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n            this.$document.off(this._releaseEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n        }\r\n\r\n        private onlongpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n\r\n            this.offset = this.$element[0].getBoundingClientRect();\r\n            if (this.allowTransform)\r\n                this._dragOffset = this.offset;\r\n            else {\r\n                this._dragOffset = {\r\n                    left: document.body.scrollLeft,\r\n                    top: document.body.scrollTop\r\n                };\r\n            }\r\n\r\n\r\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\r\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n            this._mrx = this._mx - this.offset.left;\r\n            this._mry = this._my - this.offset.top;\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\r\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\r\n            }\r\n\r\n            this.$document.on(this._moveEvents, (event) => {\r\n                this.onmove(event);\r\n            });\r\n            this.$document.on(this._releaseEvents, (event) => {\r\n                this.onrelease(event);\r\n            });\r\n            // This event is used to receive manually triggered mouse move events\r\n            // jqLite unfortunately only supports triggerHandler(...)\r\n            // See http://api.jquery.com/triggerHandler/\r\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\r\n                this.onmove(origEvent);\r\n            });\r\n        }\r\n\r\n        private onmove(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n            if (!this.$element.hasClass('pip-dragging')) {\r\n                this._data = this.getDragData(this.$scope);\r\n                this.$element.addClass('pip-dragging');\r\n                this.$rootScope.$broadcast('draggable:start', {\r\n                    x: this._mx,\r\n                    y: this._my,\r\n                    tx: this._tx,\r\n                    ty: this._ty,\r\n                    event: evt,\r\n                    element: this.$element,\r\n                    data: this._data\r\n                });\r\n\r\n                if (this.onDragStartCallback) {\r\n                    this.$scope.$apply(() => {\r\n                        this.onDragStartCallback(this.$scope, {\r\n                            $data: this._data,\r\n                            $event: evt\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n\r\n            if (this.horizontalScroll || this.verticalScroll) {\r\n                this.dragToScroll();\r\n            }\r\n\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\r\n                this._ty = this._my - this._mry - this._dragOffset.top;\r\n            }\r\n\r\n            this.moveElement(this._tx, this._ty);\r\n            \r\n            this.$rootScope.$broadcast('draggable:move', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                uid: this._myid,\r\n                dragOffset: this._dragOffset\r\n            });\r\n\r\n            if (this.onDragMoveCallbak) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragMoveCallbak(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: angular.extend(evt, ),\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onrelease(evt) {\r\n            if (!this._dragEnabled)\r\n                return;\r\n            evt.preventDefault();\r\n            this.$rootScope.$broadcast('draggable:end', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                callback: this.onDragComplete,\r\n                uid: this._myid\r\n            });\r\n            this.$element.removeClass('pip-dragging');\r\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n            this.reset();\r\n            this.$document.off(this._moveEvents);\r\n            this.$document.off(this._releaseEvents);\r\n            if (this.onDragStopCallback) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: evt\r\n                    });\r\n                });\r\n            }\r\n\r\n            this._deregisterRootMoveListener();\r\n        }\r\n\r\n        private onDragComplete(evt) {\r\n            if (!this.onDragSuccessCallback) return;\r\n\r\n            this.$scope.$apply(() => {\r\n                this.onDragSuccessCallback(this.$scope, {\r\n                    $data: this._data,\r\n                    $event: evt\r\n                });\r\n            });\r\n        }\r\n\r\n        private reset() {\r\n            if (this.allowTransform)\r\n                this.$element.css({\r\n                    transform: '',\r\n                    'z-index': '',\r\n                    '-webkit-transform': '',\r\n                    '-ms-transform': ''\r\n                });\r\n            else {\r\n                this.$element.css({\r\n                    position: this._elementStyle.position,\r\n                    top: this._elementStyle.top,\r\n                    left: this._elementStyle.left,\r\n                    'z-index': '',\r\n                    width: this._elementStyle.width\r\n                });\r\n            }\r\n        }\r\n\r\n        private moveElement(x, y) {\r\n            const eWidth = this.$element.css('width');\r\n            if (this.allowTransform) {\r\n                this.$element.css({\r\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    'z-index': 99999,\r\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                });\r\n            } else {\r\n                this.$element.css({\r\n                    'left': x + 'px',\r\n                    'top': y + 'px',\r\n                    'position': 'fixed',\r\n                    'z-index': 100,\r\n                    width: eWidth\r\n                });\r\n            }\r\n        }\r\n\r\n        private dragToScroll() {\r\n            let scrollX = 0,\r\n                scrollY = 0,\r\n                offset = (element) => {\r\n                    return element.offset() || {\r\n                        left: 0,\r\n                        top: 0\r\n                    };\r\n                };\r\n\r\n            if (this.horizontalScroll) {\r\n                const\r\n                    containerLeft = offset(this.scrollContainer).left,\r\n                    containerWidth = this.scrollContainer.innerWidth(),\r\n                    containerRight = containerLeft + containerWidth;\r\n\r\n                if ((this._mx - containerLeft) < this.activationDistance) {\r\n                    scrollX = -this.scrollDistance;\r\n                } else if ((containerRight - this._mx) < this.activationDistance) {\r\n                    scrollX = this.scrollDistance;\r\n                }\r\n            }\r\n\r\n            if (this.verticalScroll) {\r\n                const\r\n                    containerTop = offset(this.scrollContainer).top,\r\n                    containerHeight = this.scrollContainer.innerHeight(),\r\n                    containerBottom = containerTop + containerHeight;\r\n\r\n                if ((this._my - containerTop) < this.activationDistance) {\r\n                    scrollY = -this.scrollDistance + 30;\r\n                } else if ((containerBottom - this._my) < this.activationDistance) {\r\n                    scrollY = this.scrollDistance - 30;\r\n                }\r\n            }\r\n            if (scrollX !== 0 || scrollY !== 0) {\r\n                const\r\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\r\n                    containerScrollTop = this.scrollContainer.scrollTop();\r\n\r\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const Drag = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $window: ng.IWindowService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDragLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDragLinkAttributes\r\n            ) {\r\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrag', Drag);\r\n}","export interface IDraggableService {\r\n    inputEvent(event: any);\r\n}\r\n\r\nclass DraggableService implements IDraggableService {\r\n    public inputEvent(event) {\r\n        if (angular.isDefined(event.touches)) {\r\n            return event.touches[0];\r\n        }\r\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n            return event.originalEvent.touches[0];\r\n        }\r\n        return event;\r\n    };\r\n}\r\n\r\nangular\r\n    .module(\"pipDraggable\")\r\n    .service('pipDraggable', DraggableService);\r\n    ","import {\r\n    IDraggableService\r\n} from './DraggableService';\r\n\r\n{\r\n    interface IDropLinkScope extends ng.IScope {\r\n        value: any;\r\n        isTouching: any;\r\n    }\r\n\r\n    interface IDropLinkAttributes extends ng.IAttributes {\r\n        pipDrop: any;\r\n        pipDropSuccess: any;\r\n        pipDragStart: any;\r\n        pipDragStop: any;\r\n        pipDragMove: any;\r\n        pipEnter: any;\r\n        pipLeave: any;\r\n        pipDiactive: any;\r\n    }\r\n\r\n    class DropLink {\r\n\r\n        private _lastDropTouch: any;\r\n        private _myid: number | string;\r\n        private _dropEnabled: boolean;\r\n\r\n        private onDropCallback: Function; // || function(){};\r\n        private onDragStartCallback: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragMoveCallback: Function;\r\n        private onEnterCallback: Function;\r\n        private onLeaveCallback: Function;\r\n        private onDiactiveCallback: Function;\r\n\r\n        constructor(\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDropLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDropLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.pipDrop;\r\n            $scope.isTouching = false;\r\n\r\n            this._myid = $scope.$id;\r\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\r\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\r\n            this.onEnterCallback = $parse($attrs.pipEnter);\r\n            this.onLeaveCallback = $parse($attrs.pipLeave);\r\n            this.onDiactiveCallback = $parse($attrs.pipDiactive);\r\n\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$on('$destroy', (event) => {\r\n                this.onDestroy(event);\r\n            });\r\n            this.$scope.$on('draggable:start', (evt, obj) => {\r\n                this.onDragStart(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:move', (evt, obj) => {\r\n                this.onDragMove(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:end', (evt, obj) => {\r\n                this.onDragEnd(evt, obj);\r\n            });\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dropEnabled = newVal;\r\n        }\r\n\r\n        private onDragStart(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\r\n\r\n            if (this.$attrs.pipDragStart) {\r\n                this.$timeout(() => {\r\n                    this.onDragStartCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragMove(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\r\n\r\n            if (this.$attrs.pipDragMove) {\r\n                this.$timeout(() => {\r\n                    this.onDragMoveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragEnd(evt, obj) {\r\n            // don't listen to drop events if this is the element being dragged\r\n            // only update the styles and return\r\n            if (!this._dropEnabled) {\r\n                this.updateDragStyles(false, obj.element);\r\n                return;\r\n            }\r\n\r\n            if (this.isTouching(obj.x, obj.y, obj.element, evt, obj)) {\r\n                // call the pipDraggable pipDragSuccess element callback\r\n                if (obj.callback) {\r\n                    obj.callback(obj);\r\n                }\r\n\r\n                if (this.$attrs.pipDropSuccess) {\r\n                    this.$timeout(() => {\r\n                        this.onDropCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n\r\n                if (this.$attrs.pipDiactive) {\r\n                    this.$timeout(() => {\r\n                        this.onDiactiveCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (this.$attrs.pipDragStop) {\r\n                this.$timeout(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.updateDragStyles(false, obj.element);\r\n        }\r\n\r\n        private isTouching(mouseX, mouseY, dragElement, evt, obj) {\r\n            const touching = this.hitTest(mouseX, mouseY);\r\n            if (touching !== this.$scope.isTouching) {\r\n                if (touching) {\r\n                    this.onEnterCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj,\r\n                        $target: this.$scope.$eval(this.$scope.value)\r\n                    });\r\n                } else {\r\n                    this.onLeaveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj,\r\n                        $target: this.$scope.$eval(this.$scope.value)\r\n                    });\r\n                }\r\n            }\r\n\r\n            this.$scope.isTouching = touching;\r\n            if (touching) {\r\n                this._lastDropTouch = this.$element;\r\n            }\r\n            this.updateDragStyles(touching, dragElement);\r\n            return touching;\r\n        }\r\n\r\n        private updateDragStyles(touching, dragElement) {\r\n            if (touching) {\r\n                this.$element.addClass('pip-drag-enter');\r\n                dragElement.addClass('pip-drag-over');\r\n            } else if (this._lastDropTouch == this.$element) {\r\n                this._lastDropTouch = null;\r\n                this.$element.removeClass('pip-drag-enter');\r\n                dragElement.removeClass('pip-drag-over');\r\n            }\r\n        };\r\n\r\n        private hitTest(x, y) {\r\n            const bounds = this.$element[0].getBoundingClientRect();\r\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\r\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\r\n            return x >= bounds.left &&\r\n                x <= bounds.right &&\r\n                y <= bounds.bottom &&\r\n                y >= bounds.top;\r\n        }\r\n    }\r\n\r\n    const Drop = function (\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $timeout: ng.ITimeoutService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDropLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDropLinkAttributes\r\n            ) {\r\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrop', Drop);\r\n}","{\r\n\r\n    class PreventDragLink {\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false');\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\r\n        }\r\n\r\n        private absorbEvent_(event) {\r\n            const e = event.originalEvent;\r\n            e.preventDefault && e.preventDefault();\r\n            e.stopPropagation && e.stopPropagation();\r\n            e.cancelBubble = true;\r\n            e.returnValue = false;\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    const PreventDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new PreventDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipPreventDrag', PreventDrag);\r\n}","angular.module('pipDraggableTiles', []);\r\n\r\nimport './DraggableTileService';\r\nimport './Draggable';","{\r\n    interface FocusedScope extends ng.IScope {\r\n        pipFocusedColor: Function;\r\n        pipFocusedClass: Function;\r\n        pipFocusedRebind: Function;\r\n        pipFocusedTabindex: Function;\r\n        pipFocusedOpacity: Function;\r\n        pipFocusedData: Function;\r\n        pipWithHidden: Function;\r\n        pipRebind: Function;\r\n    }\r\n\r\n    interface FocusedAttributes extends ng.IAttributes {\r\n        ngModel: any;\r\n        pipFocusedData: any;\r\n    }\r\n\r\n    class FocusedLink implements ng.IDirective {\r\n        private controls: JQuery;\r\n        private controlsLength: number;\r\n        private color: string;\r\n        private opacityDelta: number = 0.4;\r\n        private opacityLimit: number = 0.5;\r\n        private oldBackgroundColor: string;\r\n        private onFocusClass: string;\r\n\r\n        constructor(\r\n            private $scope: FocusedScope,\r\n            private $element: JQuery,\r\n            $attrs: FocusedAttributes,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $mdConstant: any,\r\n            private $window: ng.IWindowService\r\n        ) {\r\n\r\n            $element.on('keydown', (e) => {\r\n                this.keydownListener(e);\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.init();\r\n            });\r\n\r\n            if ($attrs.ngModel) {\r\n                $scope.$watch('ngModel', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n\r\n            if ($attrs.pipFocusedData) {\r\n                $scope.$watch('pipFocusedData', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\r\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\r\n            this.controls = this.$element.find(selector);\r\n            this.controlsLength = this.controls.length;\r\n            this.checkTabindex(this.controls);\r\n            // Add event listeners\r\n            this.controls.on('focus', (event) => {\r\n                const target = event.currentTarget;\r\n                if ($(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\r\n                    this.init();\r\n                }\r\n                this.$element.addClass('pip-focused-container');\r\n                $(target).addClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n\r\n                    this.color = $(target).css('backgroundColor');\r\n                    this.oldBackgroundColor = this.color;\r\n                    $(target).css('backgroundColor', this.rgba(this.color));\r\n                    $(target).addClass('md-focused');\r\n                } else {\r\n                    $(target).addClass('md-focused md-focused-opacity');\r\n                }\r\n\r\n            }).on('focusout', (event) => {\r\n                const target = event.currentTarget;\r\n                if (!$(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                this.$element.removeClass('pip-focused-container');\r\n                $(target).removeClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\r\n                    $(target).removeClass('md-focused md-focused-opacity');\r\n                } else {\r\n                    $(target).removeClass('md-focused');\r\n                }\r\n            });\r\n        }\r\n\r\n        private rgba(color) {\r\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\r\n                return this.$scope.pipFocusedColor();\r\n            }\r\n\r\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\r\n\r\n            if (!arr || arr.length < 3) {\r\n                return ''\r\n            }\r\n\r\n            let red, blue, green, opacity;\r\n\r\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\r\n            red = arr[0];\r\n            blue = arr[1];\r\n            green = arr[2];\r\n\r\n            if (opacity < this.opacityLimit) {\r\n                opacity += this.opacityDelta;\r\n            } else {\r\n                opacity -= this.opacityDelta;\r\n            }\r\n\r\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\r\n        }\r\n\r\n        private setTabindex(element, value) {\r\n            element.attr('tabindex', value);\r\n        }\r\n\r\n        private checkTabindex(controls) {\r\n            const index = _.findIndex(controls, (c) => {\r\n                return c['tabindex'] > -1;\r\n            });\r\n\r\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\r\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\r\n            }\r\n        }\r\n\r\n        private keydownListener(e) {\r\n            const keyCode = e.which || e.keyCode;\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                e.preventDefault();\r\n\r\n                const\r\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\r\n                // Move focus to next control\r\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\r\n                    this.controls[moveToControl].focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const Focused = function ($timeout: ng.ITimeoutService, \r\n        $mdConstant: any, \r\n        $window: ng.IWindowService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipFocusedColor: '&?',\r\n                pipFocusedClass: '&?',\r\n                pipFocusedRebind: '&?',\r\n                pipFocusedTabindex: '&?',\r\n                pipFocusedOpacity: '&?',\r\n                pipFocusedData: '&?',\r\n                pipWithHidden: '&?',\r\n                pipRebind: '&?'\r\n            },\r\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\r\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipFocused\", [])\r\n        .directive('pipFocused', Focused);\r\n}","{\r\n    interface InfiniteScrollScope extends ng.IScope {\r\n        pipInfiniteScroll: Function;\r\n        pipScrollContainer: JQuery;\r\n        pipScrollDistance: number | string;\r\n        pipScrollDisabled: boolean;\r\n        pipScrollUseDocumentBottom: boolean;\r\n        pipScrollListenForEvent: string;\r\n    }\r\n\r\n    interface InfiniteScrollAttributes extends ng.IAttributes {\r\n        pipScrollParent: any;\r\n        pipScrolImmediateCheck: any;\r\n    }\r\n\r\n    class InfiniteScrollLink {\r\n        private THROTTLE_MILLISECONDS: number = 500;\r\n        private checkWhenEnabled = null;\r\n        private scrollContainer = null;\r\n        private immediateCheck = true;\r\n        private scrollDistance = null;\r\n        private scrollEnabled = null;\r\n        private unregisterEventListener = null;\r\n        private useDocumentBottom = false;\r\n        private windowElement = null;\r\n        private onContainerScrollThrottle: Function;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $window: ng.IWindowService,\r\n            private $interval: ng.IIntervalService,\r\n            private $scope: InfiniteScrollScope,\r\n            private $element: JQuery,\r\n            private $attrs: InfiniteScrollAttributes\r\n        ) {\r\n            this.windowElement = angular.element($window);\r\n\r\n            this.onContainerScrollThrottle = _.throttle(() => {\r\n                this.onContainerScroll();\r\n            }, this.THROTTLE_MILLISECONDS);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n                if (this.unregisterEventListener !== null) {\r\n                    this.unregisterEventListener();\r\n                    return this.unregisterEventListener = null;\r\n                }\r\n            });\r\n\r\n            $scope.$watch('pipScrollDistance', (v) => {\r\n                this.handleScrollDistance(v);\r\n            });\r\n            this.handleScrollDistance($scope.pipScrollDistance);\r\n\r\n            $scope.$watch('pipScrollDisabled', (v) => {\r\n                this.handleScrollDisabled(v);\r\n            });\r\n            this.handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\r\n                this.handleScrollUseDocumentBottom(v);\r\n            });\r\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n            this.changeContainer(this.windowElement);\r\n            if ($scope.pipScrollListenForEvent) {\r\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            $scope.$watch('pipScrollContainer', (newContainer) => {\r\n                if (newContainer != this.scrollContainer)\r\n                    this.handleScrollContainer(newContainer);\r\n            });\r\n            this.handleScrollContainer($scope.pipScrollContainer || []);\r\n\r\n            if ($attrs.pipScrollParent !== null) {\r\n                this.changeContainer(angular.element($element.parent()));\r\n            }\r\n            if ($attrs.pipScrolImmediateCheck !== null) {\r\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n            }\r\n\r\n            $interval((function () {\r\n                if (this.immediateCheck) {\r\n                    return this.onContainerScrollThrottle();\r\n                }\r\n            }), 0, 1);\r\n        }\r\n\r\n        private height(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(element.offsetHeight)) {\r\n                return element.document.documentElement.clientHeight;\r\n            } else {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        private offsetTop(element) {\r\n            if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                return;\r\n            }\r\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\r\n        }\r\n\r\n        private pageYOffset(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(window.pageYOffset)) {\r\n                return element.document.documentElement.scrollTop;\r\n            } else {\r\n                return element.ownerDocument.defaultView.pageYOffset;\r\n            }\r\n        }\r\n\r\n        private onContainerScroll() {\r\n            let containerBottom,\r\n                containerTopOffset,\r\n                elementBottom,\r\n                remaining,\r\n                shouldScroll;\r\n\r\n            if (this.scrollContainer === this.windowElement) {\r\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\r\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\r\n            } else {\r\n                containerBottom = this.height(this.scrollContainer);\r\n                containerTopOffset = 0;\r\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\r\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\r\n                }\r\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\r\n            }\r\n\r\n            if (this.useDocumentBottom) {\r\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\r\n            }\r\n\r\n            remaining = elementBottom - containerBottom;\r\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\r\n\r\n            if (shouldScroll) {\r\n                this.checkWhenEnabled = true;\r\n                if (this.scrollEnabled) {\r\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\r\n                        return this.$scope.pipInfiniteScroll();\r\n                    } else {\r\n                        return this.$scope.$apply(() => {\r\n                            this.$scope.pipInfiniteScroll();\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                return this.checkWhenEnabled = false;\r\n            }\r\n        }\r\n\r\n        private handleScrollDistance(v) {\r\n            return this.scrollDistance = parseFloat(v) || 0;\r\n        }\r\n\r\n        private handleScrollDisabled(v) {\r\n            this.scrollEnabled = !v;\r\n            if (this.scrollEnabled && this.checkWhenEnabled) {\r\n                this.checkWhenEnabled = false;\r\n                this.onContainerScrollThrottle();\r\n            }\r\n        }\r\n\r\n        private handleScrollUseDocumentBottom(v) {\r\n            return this.useDocumentBottom = v;\r\n        }\r\n\r\n        private changeContainer(newContainer) {\r\n            if (this.scrollContainer) {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            this.scrollContainer = newContainer;\r\n            if (newContainer) {\r\n                return this.scrollContainer.bind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n        }\r\n\r\n        private handleScrollContainer(newContainer) {\r\n            if ((newContainer == null) || newContainer.length === 0) {\r\n                return;\r\n            }\r\n            if (newContainer instanceof HTMLElement) {\r\n                newContainer = angular.element(newContainer);\r\n            } else if (typeof newContainer.append === 'function') {\r\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n            } else if (typeof newContainer === 'string') {\r\n                newContainer = this.$element.parents().find(newContainer);\r\n            }\r\n\r\n            if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                return this.changeContainer(newContainer);\r\n            } else {\r\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const InfiniteScroll = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $interval: ng.IIntervalService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipInfiniteScroll: '&',\r\n                pipScrollContainer: '=',\r\n                pipScrollDistance: '=',\r\n                pipScrollDisabled: '=',\r\n                pipScrollUseDocumentBottom: '=',\r\n                pipScrollListenForEvent: '@'\r\n            },\r\n            link: function (\r\n                $scope: InfiniteScrollScope,\r\n                $element: JQuery,\r\n                $attrs: InfiniteScrollAttributes\r\n            ) {\r\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipInfiniteScroll\", [])\r\n        .directive('pipInfiniteScroll', InfiniteScroll);\r\n}","{\r\n    interface SelectedAttributes extends ng.IAttributes {\r\n        pipSelected: any;\r\n        pipSelectedId: any;\r\n        pipSelect: any;\r\n        pipEnterSpacePress: any;\r\n        pipNoScroll: any;\r\n        pipSkipHidden: any;\r\n        pipTreeList: any;\r\n        pipSelectedWatch: any;\r\n    }\r\n\r\n    class SelectedLink {\r\n        private indexGetter: any;\r\n        private indexSetter: any;\r\n        private idSetter: any;\r\n        private idGetter: any;\r\n        private changeGetter: any;\r\n        private enterSpaceGetter: any;\r\n        private noScroll: any;\r\n        private modifier: any;\r\n        private className: any;\r\n        private selectedIndex: any;\r\n        private currentElementTabinex: any;\r\n        private pipSelectedWatch: any;\r\n        private isScrolled: any;\r\n        // Variables for touch functions\r\n        private touchStartX: any;\r\n        private touchStartY: any;\r\n        private trackingClick: any;\r\n        private trackingClickStart: any;\r\n        private targetElement: any;\r\n        private lastClickTime: any;\r\n        private cancelNextClick: any;\r\n        // Constants for touch functions\r\n        private touchBoundary: number = 10;\r\n        private tapdelay: number = 200;\r\n        private tapTimeout: number = 700;\r\n\r\n        constructor(\r\n            $parse: ng.IParseService,\r\n            private $mdConstant: any,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs: SelectedAttributes\r\n        ) {\r\n            //todo add stopSelect parametr to disable select\r\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\r\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\r\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\r\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\r\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\r\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\r\n            this.noScroll = $attrs.pipNoScroll;\r\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\r\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\r\n            this.selectedIndex = this.indexGetter($scope);\r\n            this.currentElementTabinex = $element.attr('tabindex');\r\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\r\n            this.isScrolled = false;\r\n\r\n            $element.attr('tabindex', this.currentElementTabinex || 0);\r\n\r\n            $element.on('click', this.className, (event) => {\r\n                this.onClickEvent(event);\r\n            });\r\n            $element.on('touchstart', this.className, (event) => {\r\n                this.onTouchStart(event);\r\n            });\r\n            $element.on('touchmove', this.className, (event) => {\r\n                this.onTouchMove(event);\r\n            });\r\n            $element.on('touchend', this.className, (event) => {\r\n                this.onTouchEnd(event);\r\n            });\r\n            $element.on('touchcancel', this.className, (event) => {\r\n                this.onTouchCancel(event);\r\n            });\r\n            $element.on('keydown', (event) => {\r\n                this.onKeyDown(event);\r\n            });\r\n            $element.on('focusin', (event) => {\r\n                this.onFocusIn(event);\r\n            });\r\n            $element.on('focusout', (event) => {\r\n                this.onFocusOut(event);\r\n            });\r\n\r\n            // Watch selected item index\r\n            if (!$attrs.pipTreeList) {\r\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\r\n                    this.selectItem({\r\n                        itemIndex: newSelectedIndex\r\n                    });\r\n                });\r\n            } else {\r\n                $scope.$watch(this.idGetter, (newSelectedId) => {\r\n                    $timeout(() => {\r\n                        this.selectItem({\r\n                            itemId: newSelectedId,\r\n                            raiseEvent: true\r\n                        });\r\n                    }, 0);\r\n                });\r\n            }\r\n\r\n            // Watch resync selection\r\n            if (this.pipSelectedWatch) {\r\n                $scope.$watch(this.pipSelectedWatch, () => {\r\n                    // Delay update to allow ng-repeat to update DOM\r\n                    $timeout(() => {\r\n                        this.selectedIndex = this.indexGetter($scope);\r\n                        this.selectItem({\r\n                            itemIndex: this.selectedIndex\r\n                        });\r\n                    }, 100);\r\n                });\r\n            }\r\n\r\n            // Select item defined by index\r\n            this.selectItem({\r\n                itemIndex: this.selectedIndex,\r\n                items: $element.find(this.className)\r\n            });\r\n        }\r\n\r\n        private selectItem(itemParams) {\r\n            if (this.isScrolled) return;\r\n            let itemIndex = itemParams.itemIndex,\r\n                itemId = itemParams.itemId,\r\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\r\n                itemsLength = items.length,\r\n                item = () => {\r\n                    if (itemParams.item) return itemParams.item;\r\n                    if (itemIndex === undefined && itemIndex === -1) {\r\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                    }\r\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                        return items[itemIndex]\r\n                    }\r\n\r\n                    return false;\r\n                },\r\n                raiseEvent = itemParams.raiseEvent;\r\n                item = item();\r\n            if (item) {\r\n                this.$element.find(this.className).removeClass('selected md-focused');\r\n                item = <any>angular.element(item)\r\n                    .addClass('selected md-focused')\r\n                    .focus();\r\n                if (!this.noScroll) this.scrollToItem(item);\r\n                if (raiseEvent) this.defineSelectedIndex(items);\r\n            }\r\n        };\r\n\r\n        private defineSelectedIndex(items) {\r\n            const oldSelectedIndex = this.selectedIndex;\r\n            this.selectedIndex = -1;\r\n            for (var index = 0; index < items.length; index++) {\r\n                if ($(items[index]).hasClass('selected')) {\r\n                    this.selectedIndex = index;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const updateIndex = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\r\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\r\n                onSelect();\r\n            };\r\n\r\n            const onSelect = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.changeGetter) {\r\n                    this.changeGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            item: selectedItem,\r\n                            index: this.selectedIndex,\r\n                            id: selectedId,\r\n                            newIndex: this.selectedIndex,\r\n                            oldIndex: oldSelectedIndex\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Execute callback to notify about item select\r\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\r\n                this.$scope.$apply(() => { updateIndex(); });\r\n            } else {\r\n                this.$scope.$apply(() => { onSelect(); });\r\n            }\r\n        };\r\n\r\n        private scrollToItem($item) {\r\n            if (this.noScroll || !$item.offset()) return;\r\n\r\n            const\r\n                containerTop = this.$element.offset().top,\r\n                containerHeight = this.$element.height(),\r\n                containerBottom = containerTop + containerHeight,\r\n                itemTop = $item.offset().top,\r\n                itemHeight = $item.outerHeight(true),\r\n                itemBottom = itemTop + itemHeight,\r\n                containerScrollTop = this.$element.scrollTop();\r\n\r\n            this.isScrolled = true;\r\n            this.$timeout(() => {\r\n                this.isScrolled = false;\r\n            }, 100);\r\n\r\n            if (containerTop > itemTop) {\r\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n            } else if (containerBottom < itemBottom) {\r\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n            }\r\n        };\r\n\r\n        private getTargetElementFromEventTarget(eventTarget) {\r\n            // On some older browsers the event target may be a text node.\r\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\r\n                return eventTarget.parentNode;\r\n            }\r\n\r\n            return eventTarget;\r\n        };\r\n\r\n        private touchHasMoved(event) {\r\n            const touch = event.changedTouches[0],\r\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\r\n\r\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        private onClickEvent(event) {\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n        }\r\n\r\n        private onTouchStart(event) {\r\n            const ev = event.originalEvent;\r\n            if (ev['targetTouches'].length > 1) {\r\n                return true;\r\n            }\r\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\r\n                touch = ev['targetTouches'][0];\r\n\r\n            this.trackingClick = true;\r\n            this.trackingClickStart = ev.timeStamp;\r\n            this.targetElement = targetElement;\r\n\r\n            this.touchStartX = touch.pageX;\r\n            this.touchStartY = touch.pageY;\r\n\r\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                //  event.preventDefault();\r\n            }*/\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchMove(event) {\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // If the touch has moved, cancel the click tracking\r\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\r\n                this.trackingClick = false;\r\n                this.targetElement = null;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchEnd(event) {\r\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\r\n\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // Prevent phantom clicks on fast double-tap \r\n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                this.cancelNextClick = true;\r\n                return true;\r\n            }\r\n\r\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\r\n                return true;\r\n            }\r\n\r\n            // Reset to prevent wrong click cancel on input \r\n            this.cancelNextClick = false;\r\n\r\n            this.lastClickTime = event.timeStamp;\r\n\r\n            newTrackingClickStart = this.trackingClickStart;\r\n            this.trackingClick = false;\r\n            this.trackingClickStart = 0;\r\n\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n\r\n            return false;\r\n        }\r\n\r\n        private onTouchCancel(event) {\r\n            this.trackingClick = false;\r\n            this.targetElement = null;\r\n        }\r\n\r\n        private onKeyDown(event) {\r\n            var keyCode = event.which || event.keyCode;\r\n\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                if (this.enterSpaceGetter) {\r\n                    this.enterSpaceGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            index: this.selectedIndex,\r\n                            item: this.$element.find('.selected')\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                // Get next selectable control index\r\n                const items = this.$element.find(this.className + this.modifier),\r\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    newSelectedIndex = this.selectedIndex + inc;\r\n\r\n                // Set next control as selected\r\n                this.selectItem({\r\n                    itemIndex: newSelectedIndex,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusIn(event) {\r\n            // Choose selected element\r\n            let items,\r\n                selectedItem = this.$element.find(this.className + '.selected');\r\n\r\n            selectedItem.addClass('md-focused');\r\n\r\n            // If there are not selected elements then pick the first one\r\n            if (selectedItem.length === 0) {\r\n                this.selectedIndex = this.indexGetter(this.$scope);\r\n                items = this.$element.find(this.className + this.modifier);\r\n                this.selectItem({\r\n                    itemIndex: this.selectedIndex || 0,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusOut(event) {\r\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\r\n        }\r\n    }\r\n\r\n    const Selected = function (\r\n        $parse: ng.IParseService,\r\n        $mdConstant: any,\r\n        $timeout: ng.ITimeoutService\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: SelectedAttributes\r\n            ) {\r\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipSelected\", [])\r\n        .directive('pipSelected', Selected);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\n\r\nexport class ShortcutItem {\r\n    // Shortcut combination\r\n    public shortcut: string;\r\n    // Target object \r\n    public target?: any;\r\n    // Target element by Id\r\n    public targetId?: string;\r\n    // Target element by class (firstelement??)\r\n    // Public targetClass?: string;\r\n    // Access function\r\n    public access?: (event: JQueryEventObject) => boolean;\r\n    // Window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public keypress?: (event: JQueryEventObject) => void;\r\n    // Default options\r\n    public options?: ShortcutOptions;    \r\n}\r\n\r\n// export class ShortcutItem extends SimpleShortcutItem {\r\n//     public shortcuts: SimpleShortcutItem[];\r\n// }\r\n\r\nexport class ShortcutsConfig {\r\n    // Global shortcut \r\n    public globalShortcuts: ShortcutItem[] = [];\r\n    // Local shortcut \r\n    public localShortcuts: ShortcutItem[] = [];\r\n    // Default options\r\n    public defaultOptions: ShortcutOptions = null;\r\n}\r\n\r\nexport interface IShortcutsService {\r\n    readonly config: ShortcutsConfig;\r\n\r\n    globalShortcuts: ShortcutItem[];\r\n    localShortcuts: ShortcutItem[];\r\n}\r\n\r\nexport interface IShortcutsProvider extends ng.IServiceProvider {\r\n    config: ShortcutsConfig;\r\n    \r\n    globalShortcuts: ShortcutItem[];\r\n    defaultOptions: ShortcutOptions;\r\n}\r\n","export class KeyboardEvent {\r\n    static Keydown: string = 'keydown';\r\n    static Keyup: string = 'keyup';\r\n    static Keypress: string = 'keypress';\r\n}\r\n\r\nexport class ShortcutOptions {\r\n    Type: KeyboardEvent;\r\n    Propagate: boolean;\r\n    DisableInInput: boolean;\r\n    Target: any; // Event target object\r\n    Keycode: number;\r\n}\r\n\r\nexport class Shortcut {\r\n    private shift_nums = {\r\n        \"`\": \"~\",\r\n        \"1\": \"!\",\r\n        \"2\": \"@\",\r\n        \"3\": \"#\",\r\n        \"4\": \"$\",\r\n        \"5\": \"%\",\r\n        \"6\": \"^\",\r\n        \"7\": \"&\",\r\n        \"8\": \"*\",\r\n        \"9\": \"(\",\r\n        \"0\": \")\",\r\n        \"-\": \"_\",\r\n        \"=\": \"+\",\r\n        \";\": \":\",\r\n        \"'\": \"\\\"\",\r\n        \",\": \"<\",\r\n        \".\": \">\",\r\n        \"/\": \"?\",\r\n        \"\\\\\": \"|\"\r\n    };\r\n\r\n    private special_keys = {\r\n        'esc': 27,\r\n        'escape': 27,\r\n        'tab': 9,\r\n        'space': 32,\r\n        'return': 13,\r\n        'enter': 13,\r\n        'backspace': 8,\r\n\r\n        'scrolllock': 145,\r\n        'scroll_lock': 145,\r\n        'scroll': 145,\r\n        'capslock': 20,\r\n        'caps_lock': 20,\r\n        'caps': 20,\r\n        'numlock': 144,\r\n        'num_lock': 144,\r\n        'num': 144,\r\n\r\n        'pause': 19,\r\n        'break': 19,\r\n\r\n        'insert': 45,\r\n        'home': 36,\r\n        'delete': 46,\r\n        'end': 35,\r\n\r\n        'pageup': 33,\r\n        'page_up': 33,\r\n        'pu': 33,\r\n\r\n        'pagedown': 34,\r\n        'page_down': 34,\r\n        'pd': 34,\r\n\r\n        'left': 37,\r\n        'up': 38,\r\n        'right': 39,\r\n        'down': 40,\r\n\r\n        'f1': 112,\r\n        'f2': 113,\r\n        'f3': 114,\r\n        'f4': 115,\r\n        'f5': 116,\r\n        'f6': 117,\r\n        'f7': 118,\r\n        'f8': 119,\r\n        'f9': 120,\r\n        'f10': 121,\r\n        'f11': 122,\r\n        'f12': 123\r\n    };\r\n\r\n    private modifiers = {\r\n        shift: { wanted: false, pressed: false },\r\n        ctrl: { wanted: false, pressed: false },\r\n        alt: { wanted: false, pressed: false },\r\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\r\n    };\r\n\r\n    public eventCallback: Function;\r\n    public target: any;\r\n    public event: KeyboardEvent;\r\n    public option: ShortcutOptions;\r\n    public shorcut: string;\r\n    public callback: Function;\r\n\r\n    public constructor(\r\n        element: any,\r\n        shorcutCombination: string,\r\n        option: ShortcutOptions,\r\n        callback: (e?: JQueryEventObject) => void\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.target = element;\r\n        this.shorcut = shorcutCombination;\r\n        this.event = option.Type;\r\n        this.option = option;\r\n        this.callback = callback;\r\n\r\n        this.eventCallback = (event: JQueryEventObject) => {\r\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\r\n            let code: number;\r\n\r\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\r\n                let element;\r\n                if (e.target) {\r\n                    element = e.target;\r\n                } else if (e.srcElement) {\r\n                    element = e.srcElement;\r\n                }\r\n\r\n                if (element.nodeType == 3) {\r\n                    element = element.parentNode;\r\n                }\r\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\r\n            }\r\n            // Find Which key is pressed\r\n            if (e.keyCode) {\r\n                code = e.keyCode;\r\n            } else if (e.which) {\r\n                code = e.which;\r\n            }\r\n\r\n            let character = String.fromCharCode(code).toLowerCase();\r\n\r\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\r\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\r\n\r\n            let keys: string[] = this.shorcut.split(\"+\");\r\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\r\n            let kp: number = 0;\r\n\r\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\r\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\r\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\r\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\r\n\r\n            let i: number = 0;\r\n            for (i = 0; i < keys.length; i++) {\r\n                let k: string = keys[i];\r\n                // Modifiers\r\n                if (k == 'ctrl' || k == 'control') {\r\n                    kp++;\r\n                    this.modifiers.ctrl.wanted = true;\r\n                } else if (k == 'shift') {\r\n                    kp++;\r\n                    this.modifiers.shift.wanted = true;\r\n                } else if (k == 'alt') {\r\n                    kp++;\r\n                    this.modifiers.alt.wanted = true;\r\n                } else if (k == 'meta') {\r\n                    kp++;\r\n                    this.modifiers.meta.wanted = true;\r\n                } else if (k.length > 1) { // If it is a special key\r\n                    if (this.special_keys[k] == code) {\r\n                        kp++;\r\n                    }\r\n                } else if (this.option.Keycode) {\r\n                    if (this.option.Keycode == code) kp++;\r\n                } else { // The special keys did not match\r\n                    if (character == k) kp++;\r\n                    else {\r\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\r\n                            character = this.shift_nums[character];\r\n                            if (character == k) {\r\n                                kp++;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (kp == keys.length &&\r\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\r\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\r\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\r\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\r\n\r\n                this.callback(e);\r\n\r\n                if (!this.option.Propagate) { // Stop the event\r\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    // e.stopPropagation works in Firefox.\r\n                    if (e.stopPropagation) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n            }\r\n            this.modifiers.ctrl.pressed = false;\r\n            this.modifiers.shift.pressed = false;\r\n            this.modifiers.alt.pressed = false;\r\n            this.modifiers.meta.pressed = false;\r\n        };\r\n    }\r\n}\r\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\r\n\r\n{\r\n    class ShortcutBindingService implements IShortcutBindingService {\r\n        private _log: ng.ILogService;\r\n        private _defaultOption: ShortcutOptions;\r\n        private _shortcuts: IKeyboardShortcuts = {};\r\n\r\n        public constructor(\r\n            $log: ng.ILogService,\r\n            option: ShortcutOptions\r\n        ) {\r\n            \"ngInject\";\r\n            this._log = $log;\r\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\r\n        }\r\n\r\n        private getDefaultOption(): ShortcutOptions {\r\n            let defaultOption: ShortcutOptions = {\r\n                Type: KeyboardEvent.Keydown,\r\n                Propagate: false,\r\n                DisableInInput: false,\r\n                Target: document,\r\n                Keycode: null\r\n            };\r\n\r\n            return defaultOption;\r\n        }\r\n\r\n        public get shortcuts(): IKeyboardShortcuts {\r\n            return this._shortcuts;\r\n        }\r\n\r\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\r\n            this.remove(shortcut);\r\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\r\n            let shortcutCombination: string = shortcut.toLowerCase();\r\n            let element = shortcutOption.Target;\r\n\r\n            if (typeof shortcutOption.Target == 'string') {\r\n                element = document.getElementById(shortcutOption.Target);\r\n            } else {\r\n                element = shortcutOption.Target;\r\n            }\r\n\r\n            if (!element) {\r\n                this._log.error('Register shortcut: element undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!shortcutCombination) {\r\n                this._log.error('Register shortcut: shortcut combination undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!callback) {\r\n                this._log.error('Register shortcut: shorcut callback undentified!');\r\n                return;\r\n            }\r\n\r\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\r\n\r\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\r\n\r\n            //Attach the function with the event\r\n            if (element.addEventListener) {\r\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\r\n            } else if (element.attachEvent) {\r\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            } else {\r\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            }\r\n        }\r\n\r\n        public remove(shorcut: string): void {\r\n            let shortcutCombination = shorcut.toLowerCase();\r\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\r\n\r\n            delete(this._shortcuts[shortcutCombination])\r\n            if (!binding) return;\r\n\r\n            let type = binding.event;\r\n            let element = binding.target;\r\n            let callback = binding.eventCallback;\r\n\r\n            if (element.detachEvent) {\r\n                element.detachEvent('on' + type, callback);\r\n            } else if (element.removeEventListener) {\r\n                element.removeEventListener(type, callback, false);\r\n            } else {\r\n                // element['on' + type] = false;\r\n                element.off(type, callback);\r\n            }\r\n        }\r\n    }\r\n\r\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\r\n        private _service: ShortcutBindingService;\r\n        private _option: ShortcutOptions;\r\n\r\n        public get option(): ShortcutOptions {\r\n            return this._option;\r\n        }\r\n\r\n        public set option(value: ShortcutOptions) {\r\n            this._option = value || new ShortcutOptions();\r\n        }\r\n\r\n        public $get(\r\n            $log: ng.ILogService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new ShortcutBindingService($log, this._option);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\r\n\r\ninterface ShortcutAttributes extends ng.IAttributes {\r\n    pipShortcutAction: any;\r\n    pipShortcutName: any;\r\n    pipShorcutOptions: ShortcutOptions;\r\n}\r\n\r\nclass ShortcutController implements ng.IController  {\r\n    private actionShortcuts: Function;\r\n    private nameShortcuts: string;\r\n    private options: ShortcutOptions;\r\n\r\n    constructor(\r\n        $element: JQuery,\r\n        $attrs: ShortcutAttributes,\r\n        $scope: ng.IScope,\r\n        $log: ng.ILogService,\r\n        $parse: ng.IParseService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if ($attrs.pipShortcutAction) {\r\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\r\n            // this.actionShortcuts($scope, {$event: {}});\r\n        } else {\r\n            $log.error('Shortcut action does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\r\n            this.nameShortcuts = $attrs.pipShortcutName;\r\n        } else {\r\n            $log.error('Shortcut name does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\r\n        this.options.Target = $element;\r\n        \r\n        // Registration of keybord shortcuts\r\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\r\n            this.actionShortcuts($scope, {$event: {'e': e}});          \r\n        }, this.options);\r\n    }\r\n\r\n    private keypressShortcut(action) {\r\n        this.actionShortcuts();\r\n    }\r\n\r\n    public $onInit() {}\r\n}\r\n\r\n// Prevent junk from going into typescript definitions\r\n{\r\n    const shortcutsDirective = function(): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,            \r\n            controller: ShortcutController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .directive('pipShortcut', shortcutsDirective);\r\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\r\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\r\n\r\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\r\n\r\nclass ShortcutsService implements IShortcutsService {\r\n    private _oldConfig: ShortcutsConfig;\r\n    private _config: ShortcutsConfig;\r\n\r\n    public constructor(\r\n        config: ShortcutsConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService, \r\n        private $location: ng.ILocationService, \r\n        private $injector: ng.auto.IInjectorService,\r\n        private pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n        this._oldConfig = _.cloneDeep(this._config);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this._config.globalShortcuts);\r\n        this.addShortcuts(this._config.localShortcuts);        \r\n    }\r\n\r\n    // Describe private functions\r\n    private sendChangeEvent() {\r\n        // Remove shortcuts\r\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\r\n        this.removeShortcuts(this._oldConfig.localShortcuts);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this.config.globalShortcuts);\r\n        this.addShortcuts(this.config.localShortcuts);\r\n\r\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\r\n\r\n        // Save current config to oldConfig\r\n        this._oldConfig = _.cloneDeep(this.config);\r\n    }\r\n\r\n    private removeShortcuts(collection: ShortcutItem[]): void {\r\n        _.each(collection, (k) => {\r\n            this.pipShortcutBinding.remove(k.shortcut);\r\n        });\r\n    }\r\n\r\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\r\n        if (item.access && _.isFunction(item.access)) {\r\n            if (!item.access(event)) {\r\n                return;\r\n            }\r\n        } \r\n\r\n        if (item.keypress) {\r\n            item.keypress(event);\r\n            return;\r\n        }\r\n\r\n        if (item.href) {\r\n            this.$window.location.href = item.href;\r\n            return;\r\n        }\r\n\r\n        if (item.url) {\r\n            this.$location.url(item.url);\r\n            return;\r\n        }\r\n\r\n        if (item.state) {\r\n            if (this.$injector.has('$state')) {\r\n                var $state = this.$injector.get('$state');\r\n                $state['go'](item.state, item.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (item.event) {\r\n            this.$rootScope.$broadcast(item.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\r\n        }\r\n    }\r\n\r\n    private addShortcuts(collection: ShortcutItem[]): void {\r\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\r\n        \r\n        _.each(collection, (k) => {\r\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\r\n            let target: any;\r\n\r\n            target = k.target ? k.target : k.targetId;\r\n            if (target) { \r\n                option.Target = target;\r\n            }\r\n            // Registration of keyboard shortcut\r\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\r\n                this.keypressShortcut(k, e);        \r\n            }, option);              \r\n        });\r\n    }\r\n\r\n    // Describe public functions \r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get localShortcuts(): ShortcutItem[] {\r\n        return this._config.localShortcuts;\r\n    }\r\n\r\n    public set localShortcuts(value: ShortcutItem[]) {\r\n        this._config.localShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n}\r\n\r\nclass ShortcutsProvider implements IShortcutsProvider {\r\n    private _config: ShortcutsConfig = new ShortcutsConfig();\r\n    private _service: ShortcutsService;\r\n\r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ShortcutsConfig) {\r\n        this._config = value || new ShortcutsConfig();\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService, \r\n        $window: ng.IWindowService, \r\n        $location: ng.ILocationService, \r\n        $injector: ng.auto.IInjectorService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipShortcuts')\r\n    .provider('pipShortcuts', ShortcutsProvider);\r\n\r\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\r\n\r\nimport './ShortcutBindingService';\r\nimport './ShortcutsService';\r\nimport './ShortcutDirective';\r\n\r\nexport * from './IShortcutsService';\r\nexport * from './IShortcutBindingService';\r\nexport * from './ShortcutsService';\r\nexport * from './ShortcutBindingService';","{\r\n    interface UnsavedChangesScope extends ng.IScope {\r\n        unsavedChangesAvailable: Function;\r\n        unsavedChangesMessage: string;\r\n        cancelLeave: Function;\r\n        afterLeave: Function;\r\n    }\r\n\r\n    class UnsavedChangesLink {\r\n        constructor(\r\n            $scope: UnsavedChangesScope,\r\n            $window: ng.IWindowService\r\n        ) {\r\n            $window.onbeforeunload = () => {\r\n                if ($scope.unsavedChangesAvailable()) {\r\n                    return $scope.unsavedChangesMessage;\r\n                }\r\n            };\r\n\r\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\r\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\r\n                    event.preventDefault();\r\n                } else {\r\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                }\r\n            });\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $window.onbeforeunload = null;\r\n                unbindFunc();\r\n            });\r\n        }\r\n    }\r\n\r\n    const UnsavedChanges = function ($window: ng.IWindowService) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave',\r\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\r\n            },\r\n            link: function ($scope: UnsavedChangesScope) {\r\n                new UnsavedChangesLink($scope, $window);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module(\"pipUnsavedChanges\", [])\r\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\r\n}","{\n    interface IColorPickerBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        colors: any;\n        currentColor: any;\n        colorChange: any;\n    }\n\n    interface IColorPickerAttributes extends ng.IAttributes {\n        class: string;\n    }\n\n    const ColorPickerBindings: IColorPickerBindings = {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '&?ngChange'\n    }\n\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\n        currentColor: any;\n\n        ngDisabled: ng.IChangesObject < boolean > ;\n        colors: ng.IChangesObject < string[] > ;\n    }\n\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n    class ColorPickerController implements IColorPickerBindings {\n        public class: string;\n        public colors: string[];\n        public currentColor: string;\n        public currentColorIndex: number;\n        public ngDisabled: boolean;\n        public colorChange: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            $attrs: IColorPickerAttributes,\n            private $timeout: ng.ITimeoutService\n        ) { \n            this.class = $attrs.class || ''; \n        }\n\n        public $onChanges(changes: ColorPickerChanges) {\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\n                changes.colors.currentValue : DEFAULT_COLORS;\n            this.currentColor = this.currentColor || this.colors[0];\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\n\n            this.ngDisabled = changes.ngDisabled.currentValue;\n        }\n\n        public selectColor(index: number) {\n            if (this.ngDisabled) {\n                return;\n            }\n            this.currentColorIndex = index;\n            this.currentColor = this.colors[this.currentColorIndex];\n            this.$timeout(() => {\n                this.$scope.$apply();\n            });\n\n            if (this.colorChange) {\n                this.colorChange();\n            }\n        };\n\n        public enterSpacePress(event): void {\n            this.selectColor(event.index);\n        };\n\n    }\n\n    const pipColorPicker: ng.IComponentOptions = {\n        bindings: ColorPickerBindings,\n        templateUrl: 'color_picker/ColorPicker.html',\n        controller: ColorPickerController\n    }\n\n    angular\n        .module('pipColorPicker', ['pipControls.Templates'])\n        .component('pipColorPicker', pipColorPicker);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class pipImageSliderController implements ng.IController {\n        private _blocks: any[];\n        private _index: number = 0;\n        private _newIndex: number;\n        private _direction: string;\n        private _type: string;\n        private DEFAULT_INTERVAL:number = 4500;\n        private _interval: number | string;\n        private _timePromises;\n        private _throttled: Function;\n\n        public swipeStart: number = 0;\n        public sliderIndex: number;\n        public slideTo: Function;\n        public type: Function;\n        public interval: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs,\n            private $parse: ng.IParseService,\n            private $timeout: angular.ITimeoutService,\n            private $interval: angular.IIntervalService,\n            private pipImageSlider: IImageSliderService\n        ) {\n\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\n            this._type = this.type();\n            this._interval = this.interval();\n            this.slideTo = this.slideToPrivate;\n\n            $element.addClass('pip-image-slider');\n            $element.addClass('pip-animation-' + this._type);\n\n            this.setIndex();\n\n            $timeout(() => {\n                this._blocks = <any>$element.find('.pip-animation-block');\n                if (this._blocks.length > 0) {\n                    $(this._blocks[0]).addClass('pip-show');\n                }\n            });\n\n            this.startInterval();\n\n            this._throttled = _.throttle(() => {\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n                this._index = this._newIndex;\n                this.setIndex();\n            }, 700);\n\n            if ($attrs.id) {\n                pipImageSlider.registerSlider($attrs.id, $scope)\n            }\n\n            $scope.$on('$destroy', () => {\n                this.stopInterval();\n                pipImageSlider.removeSlider($attrs.id);\n            });\n\n        }\n\n        public nextBlock() {\n            this.restartInterval();\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }\n\n        public prevBlock() {\n            this.restartInterval();\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n            this._direction = 'prev';\n            this._throttled();\n        }\n\n        private slideToPrivate(nextIndex: number) {\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n                return;\n            }\n\n            this.restartInterval();\n            this._newIndex = nextIndex;\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\n            this._throttled();\n        }\n\n        private setIndex() {\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\n        }\n\n        private startInterval() {\n            this._timePromises = this.$interval(() => {\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n                this._direction = 'next';\n                this._throttled();\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\n        }\n\n        private stopInterval() {\n            this.$interval.cancel(this._timePromises);\n        }\n\n        private restartInterval() {\n            this.stopInterval();\n            this.startInterval();\n        }\n    }\n\n    const ImageSlider = function(): ng.IDirective {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular.module('pipImageSlider')\n        .directive('pipImageSlider', ImageSlider);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class ImageSliderService implements IImageSliderService {\n        private ANIMATION_DURATION: number = 550;\n        private _sliders: Object = {};\n\n        constructor(\n            private $timeout: angular.ITimeoutService\n        ) {}\n\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\n            this._sliders[sliderId] = sliderScope;\n        }\n\n        public removeSlider(sliderId: string): void {\n            delete this._sliders[sliderId];\n        }\n\n        public getSliderScope(sliderId: string) {\n            return this._sliders[sliderId];\n        }\n\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            nextBlock.addClass('pip-next');\n\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                prevBlock.addClass('animated').removeClass('pip-show');\n            }, 100);\n        }\n\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show');\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n            }, 100);\n        }\n\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n            const prevBlock = $(blocks[oldIndex]),\n                blockIndex = nextIndex,\n                nextBlock = $(blocks[blockIndex]);\n\n            if (type === 'carousel') {\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                if (direction && (direction === 'prev' || direction === 'next')) {\n                    if (direction === 'prev') {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                } else {\n                    if (nextIndex && nextIndex < oldIndex) {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                }\n            } else {\n                prevBlock.addClass('animated').removeClass('pip-show');\n                nextBlock.addClass('animated').addClass('pip-show');\n            }\n        }\n    }\n\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderButtonController implements ng.IController {\n        public direction: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.on('click', () => {\n                if (!this.sliderId() || !this.direction()) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\n            });\n        }\n    }\n\n    const SliderButton = function (): ng.IDirective {\n        return {\n            scope: {\n                direction: '&pipButtonType',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderButtonController\n        };\n    }\n\n    angular\n        .module('pipSliderButton', [])\n        .directive('pipSliderButton', SliderButton);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderIndicatorController implements ng.IController {\n        public slideTo: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.css('cursor', 'pointer');\n            $element.on('click', () => {\n                if (!this.sliderId() || this.slideTo() === undefined) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\n            });\n        }\n    }\n\n    const SliderIndicator = function (): ng.IDirective {\n        return {\n            scope: {\n                slideTo: '&pipSlideTo',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderIndicatorController\n        }\n    }\n\n    angular\n        .module('pipSliderIndicator', [])\n        .directive('pipSliderIndicator', SliderIndicator);\n}","angular\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\nimport './ImageSlider';\nimport './ImageSliderService';\nimport './SliderButton';\nimport './SliderIndicator';\n\nexport * from './IImageSliderService';","declare var marked: any;\n\n{\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            (<any>pipTranslate).setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            (<any>pipTranslate).setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': ':',\n                'checklist': '',\n                'documents': '',\n                'pictures': '',\n                'location': '',\n                'time': ''\n            });\n        }\n    }\n\n    interface IMarkdownBindings {\n        [key: string]: any;\n\n        text: any;\n        isList: any;\n        clamp: any;\n        rebind: any;\n    }\n\n    const MarkdownBindings: IMarkdownBindings = {\n        text: '<pipText',\n        isList: '<?pipList',\n        clamp: '<?pipLineCount',\n        rebind: '<?pipRebind'\n    }\n\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        text: ng.IChangesObject < string > ;\n        isList: ng.IChangesObject < boolean > ;\n        clamp: ng.IChangesObject < number | string > ;\n        rebind: ng.IChangesObject < boolean > ;\n    }\n\n    class MarkdownController implements IMarkdownBindings, ng.IController {\n        private _pipTranslate;\n\n        public text: string;\n        public isList: boolean;\n        public clamp: string | number;\n        public rebind: boolean;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $element: JQuery,\n            $injector: ng.auto.IInjectorService\n        ) {\n            \"ngInject\";\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        }\n\n        public $postLink() {\n            // Fill the text\n            this.bindText(this.text);\n\n            this.$scope.$on('pipWindowResized', function () {\n                if (this.bindText) this.bindText(this._text(this._$scope));\n            });\n\n            // Add class\n            this.$element.addClass('pip-markdown');\n\n        }\n\n        public $onChanges(changes: MarkdownChanges) {\n            const newText = changes.text.currentValue;\n\n            if (this.rebind) {\n                this.text = newText;\n                this.bindText(this.text);\n            }\n        }\n\n        private describeAttachments(array) {\n            var attachString = '',\n                attachTypes = [];\n\n            _.each(array, function (attach) {\n                if (attach.type && attach.type !== 'text') {\n                    if (attachString.length === 0 && this._pipTranslate) {\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                    }\n\n                    if (attachTypes.indexOf(attach.type) < 0) {\n                        attachTypes.push(attach.type);\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\n                        if (this._pipTranslate)\n                            attachString += this._pipTranslate.translate(attach.type);\n                    }\n                }\n            });\n\n            return attachString;\n        }\n\n        private bindText(value) {\n            let textString, isClamped, height, options, obj;\n\n            if (_.isArray(value)) {\n                obj = _.find(value, function (item: any) {\n                    return item.type === 'text' && item.text;\n                });\n\n                textString = obj ? obj.text : this.describeAttachments(value);\n            } else {\n                textString = value;\n            }\n\n            isClamped = this.clamp && _.isNumber(this.clamp);\n            isClamped = isClamped && textString && textString.length > 0;\n            options = {\n                gfm: true,\n                tables: true,\n                breaks: true,\n                sanitize: true,\n                pedantic: true,\n                smartLists: true,\n                smartypents: false\n            };\n            textString = marked(textString || '', options);\n            if (isClamped) {\n                height = 1.5 * Number(this.clamp);\n            }\n            // Assign value as HTML\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n            this.$element.find('a').attr('target', 'blank');\n            if (!this.isList && isClamped) {\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\n            }\n        }\n    }\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: MarkdownBindings\n    }\n\n    angular\n        .module('pipMarkdown', ['ngSanitize'])\n        .run(ConfigTranslations)\n        .component('pipMarkdown', MarkdownComponent);\n}","{\n    interface IPopoverBindings {\n        [key: string]: any;\n\n        params: any;\n    }\n\n    const PopoverBindings: IPopoverBindings = {\n        params: '<pipParams'\n    }\n\n    class PopoverController implements IPopoverBindings, ng.IController {\n        private backdropElement;\n        private content;\n        public params: any;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $compile: ng.ICompileService,\n            private $templateRequest: ng.ITemplateRequestService\n        ) {\n            this.backdropElement = $('.pip-popover-backdrop');\n            this.backdropElement.on('click keydown scroll', () => {\n                this.backdropClick();\n            });\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\n\n            $timeout(() => {\n                this.position();\n                angular.extend($scope, this.params.locals);\n\n                if (this.params.template) {\n                    this.content = $compile(this.params.template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n\n                    this.init();\n                } else {\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\n                        this.content = $compile(html)($scope);\n                        $element.find('.pip-popover').append(this.content);\n\n                        this.init();\n                    });\n                }\n            });\n\n            $timeout(() => {\n                this.calcHeight();\n            }, 200);\n            $rootScope.$on('pipPopoverResize', () => {\n                this.onResize()\n            });\n            $(window).resize(() => {\n                this.onResize()\n            });\n        }\n\n        public backdropClick() {\n            if (this.params.cancelCallback) {\n                this.params.cancelCallback();\n            }\n            this.closePopover();\n        }\n\n        public closePopover() {\n            this.backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                this.backdropElement.remove();\n            }, 100);\n        }\n\n        public onPopoverClick(event) {\n            event.stopPropagation();\n        }\n\n        private init() {\n            this.backdropElement.addClass('opened');\n            $('.pip-popover-backdrop').focus();\n            if (this.params.timeout) {\n                this.$timeout(function () {\n                    this.closePopover();\n                }, this.params.timeout);\n            }\n        }\n\n        private position() {\n            if (this.params.element) {\n                let element = $(this.params.element),\n                    pos = element.offset(),\n                    width = element.width(),\n                    height = element.height(),\n                    docWidth = $(document).width(),\n                    docHeight = $(document).height(),\n                    popover = this.backdropElement.find('.pip-popover');\n\n                if (pos) {\n                    popover\n                        .css('max-width', docWidth - (docWidth - pos.left))\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                        .css('left', pos.left - popover.width() + width / 2)\n                        .css('top', pos.top + height + 16);\n                }\n            }\n        }\n\n        private onResize() {\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n            this.position();\n            this.calcHeight();\n        }\n\n        private calcHeight() {\n            if (this.params.calcHeight === false) {\n                return;\n            }\n            const popover = this.backdropElement.find('.pip-popover'),\n                title = popover.find('.pip-title'),\n                footer = popover.find('.pip-footer'),\n                content = popover.find('.pip-content'),\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n        }\n    }\n\n    const Popover: ng.IComponentOptions = {\n        bindings: PopoverBindings,\n        templateUrl: 'popover/Popover.html',\n        controller: PopoverController\n    }\n\n    angular\n        .module('pipPopover')\n        .component('pipPopover', Popover);\n}","import { IPopoverService } from './IPopoverService';\n\n{\n    interface PopoverTemplateScope extends ng.IScope {\n        params ? : any;\n        locals ? : any;\n    }\n\n    class PopoverService implements IPopoverService {\n        private popoverTemplate: string;\n\n        constructor(\n            private $compile: ng.ICompileService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService\n        ) {\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n        }\n\n        public show(p: Object) {\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\n\n            element = $('body');\n            if (element.find('md-backdrop').length > 0) {\n                return;\n            }\n            this.hide();\n            scope = this.$rootScope.$new();\n            params = p && _.isObject(p) ? p : {};\n            scope.params = params;\n            scope.locals = params.locals;\n            content = this.$compile(this.popoverTemplate)(scope);\n            element.append(content);\n        }\n\n        public hide() {\n            const backdropElement = $('.pip-popover-backdrop');\n            backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                backdropElement.remove();\n            }, 100);\n        }\n\n        public resize() {\n            this.$rootScope.$broadcast('pipPopoverResize');\n        }\n    }\n\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n}","angular.module('pipPopover', ['pipPopover.Service']);\n\nimport './Popover';\nimport './PopoverService';\n\nexport * from './IPopoverService';","{\n    interface IRoutingBindings {\n        [key: string]: any;\n\n        logoUrl: any;\n        showProgress: any;\n    }\n\n    const RoutingBindings: IRoutingBindings = {\n        showProgress: '&',\n        logoUrl: '@'\n    }\n\n    class RoutingController implements ng.IController, IRoutingBindings {\n        private _image: any;\n\n        public logoUrl: string;\n        public showProgress: Function;\n\n        constructor(\n            $scope: ng.IScope,\n            private $element: JQuery\n        ) { }\n\n        public $postLink() {\n            this._image = this.$element.find('img');\n            this.loadProgressImage();\n        }\n\n        public loadProgressImage() {\n            if (this.logoUrl) {\n                this._image.attr('src', this.logoUrl);\n            }\n        }\n    }\n\n    const RoutingProgress: ng.IComponentOptions = {\n        bindings: RoutingBindings,\n        templateUrl: 'progress/RoutingProgress.html',\n        controller: RoutingController\n    }\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n}","export class Toast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n","import { Toast } from './Toast';\nimport { IToastService } from './IToastService';\n\n{\n    class ToastController {\n        private _pipErrorDetailsDialog;\n\n        public message: string;\n        public actions: string[];\n        public actionLenght: number;\n        public showDetails: boolean;\n\n        constructor(\n            private $mdToast: angular.material.IToastService,\n            public toast: Toast,\n            $injector: ng.auto.IInjectorService\n        ) {\n            \"ngInject\";\n\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\n                $injector.get('pipErrorDetailsDialog') : null;\n            this.message = toast.message;\n            this.actions = toast.actions;\n\n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n        }\n\n        public onDetails(): void {\n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onMessageClick(): void {\n            if (this.toast.type !== 'clickable_error' || !this.showDetails) return;\n            \n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onAction(action): void {\n            this.$mdToast.hide({\n                action: action,\n                id: this.toast.id,\n                message: this.message\n            });\n        }\n    }\n\n    class ToastService implements IToastService {\n        private SHOW_TIMEOUT: number = 20000;\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n        private toasts: Toast[] = [];\n        private currentToast: any;\n        private sounds: any = {};\n\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            private $mdToast: angular.material.IToastService\n        ) {\n            \"ngInject\";\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\n        }\n\n        public showNextToast(): void {\n            let toast: Toast;\n\n            if (this.toasts.length > 0) {\n                toast = this.toasts[0];\n                this.toasts.splice(0, 1);\n                this.showToast(toast);\n            }\n        }\n\n        // Show toast\n        public showToast(toast: Toast): void {\n            this.currentToast = toast;\n\n            this.$mdToast.show({\n                    templateUrl: 'toast/Toast.html',\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: ToastController,\n                    controllerAs: 'vm',\n                    locals: {\n                        toast: this.currentToast,\n                        sounds: this.sounds\n                    }\n                })\n                .then(\n                    (action: string) => {\n                        this.showToastOkResult(action);\n                    },\n                    (action: string) => {\n                        this.showToastCancelResult(action);\n                    }\n                );\n        }\n\n        private showToastCancelResult(action: string): void {\n            if (this.currentToast.cancelCallback) {\n                this.currentToast.cancelCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        private showToastOkResult(action: string): void {\n            if (this.currentToast.successCallback) {\n                this.currentToast.successCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        public addToast(toast): void {\n            if (this.currentToast && toast.type !== 'error') {\n                this.toasts.push(toast);\n            } else {\n                this.showToast(toast);\n            }\n        }\n\n        public removeToasts(type: string): void {\n            const result: any[] = [];\n            _.each(this.toasts, (toast) => {\n                if (!toast.type || toast.type !== type) {\n                    result.push(toast);\n                }\n            });\n            this.toasts = _.cloneDeep(result);\n        }\n\n        public removeToastsById(id: string): void {\n            _.remove(this.toasts, {\n                id: id\n            });\n        }\n\n        public getToastById(id: string): Toast {\n            return _.find(this.toasts, {\n                id: id\n            });\n        }\n\n        public onStateChangeSuccess() {}\n\n        public onClearToasts(): void {\n            this.clearToasts(null);\n        }\n\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n            this.addToast({\n                id: id || null,\n                type: 'notification',\n                message: message,\n                actions: actions || ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback,\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n            });\n        }\n\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\n            this.addToast({\n                id: id || null,\n                type: 'message',\n                message: message,\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n        \n        public showClickableError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'clickable_error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public hideAllToasts(): void {\n            this.$mdToast.cancel();\n            this.toasts = [];\n        }\n\n        public clearToasts(type ? : string) {\n            if (type) {\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                this.removeToasts(type);\n            } else {\n                this.$mdToast.cancel();\n                this.toasts = [];\n            }\n        }\n\n    }\n\n    angular\n        .module('pipToasts')\n        .service('pipToasts', ToastService);\n}","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n\nimport './ToastService';\nimport './Toast';\n\nexport * from './IToastService';","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/ColorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/Popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/RoutingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/Toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\' || vm.toast.type==\\'clickable_error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\" ng-class=\"{\\'clickable\\': vm.showDetails && vm.toast.type==\\'clickable_error\\' }\" ng-click=\"vm.onMessageClick()\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || ((vm.toast.type==\\'error\\' || vm.toast.type==\\'clickable_error\\') && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","{\r\n    interface ITagList {\r\n        tags: string[];\r\n        type: string;\r\n        typeLocal: string;\r\n    }\r\n\r\n    class TagListController implements ITagList {\r\n        public rebind: string;\r\n\r\n        public tags: string[];\r\n        public type: string;\r\n        public typeLocal: string;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService\r\n        ) {\r\n\r\n            // Set tags\r\n            $element.css('display', 'block');\r\n            $element.addClass('pip-tag-list');\r\n        }\r\n\r\n        private toBoolean(value: string): boolean {\r\n            if (_.isNull(value) || _.isUndefined(value)) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TagListChanges) {\r\n            if (this.rebind && changes.tags) {\r\n                this.tags = changes.tags.currentValue;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    interface ITagListBindings {\r\n        [key: string]: any;\r\n\r\n        tags: any,\r\n        type: any,\r\n        typeLocal: any,\r\n        rebuid: any\r\n    }\r\n\r\n    const TagListBindings: ITagListBindings = {\r\n        tags: '<pipTags',\r\n        type: '<pipType',\r\n        typeLocal: '<pipTypeLocal',\r\n        rebuid: '<pipRebind'\r\n    }\r\n\r\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        tags: ng.IChangesObject<string[]>;\r\n        type: ng.IChangesObject<string>;\r\n        typeLocal: ng.IChangesObject<string>;\r\n        rebuid: ng.IChangesObject<boolean>\r\n    }\r\n\r\n    const TagList = {\r\n        bindings: TagListBindings,\r\n        templateUrl: 'tag_list/TagList.html',\r\n        controller: TagListController\r\n    }\r\n\r\n    angular\r\n        .module('pipTagList', ['pipList.Translate'])\r\n        .component('pipTagList', TagList)\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","\r\n(() => {\r\n    interface IDateBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any,\r\n        disabled: any,\r\n        model: any,\r\n        ngChange: any\r\n    }\r\n\r\n    const DateBindings: IDateBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '<ngModel',\r\n        ngChange: '<'\r\n    }\r\n\r\n    class DateChanges implements ng.IOnChangesObject, IDateBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => boolean>;\r\n        model: ng.IChangesObject<Date>;\r\n        ngChange: ng.IChangesObject<(date: Date) => void>;\r\n    }\r\n\r\n\r\n    class DateController {\r\n        private value: any;\r\n        private localeDate: moment.MomentLanguageData = moment.localeData();\r\n        private momentMonths: any[];\r\n        private momentDays: any[];\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public timeMode: string;\r\n        public day: number;\r\n        public month: number;\r\n        public year: number;\r\n\r\n        public model: Date;\r\n        public ngChange: (date: Date) => void;\r\n\r\n        public days: number[];\r\n        public months: any[];\r\n        public years: number[];\r\n        public disabled: () => boolean;\r\n        public disableControls: boolean;\r\n\r\n        constructor(\r\n            $injector: angular.auto.IInjectorService,\r\n            $scope: ng.IScope) {\r\n            \"ngInject\";\r\n            this.momentMonths = angular.isArray(this.localeDate['_months']) ? this.localeDate['_months'] : this.localeDate['_months'].format;\r\n            this.momentDays = angular.isArray(this.localeDate['_weekdays']) ? this.localeDate['_weekdays'] : this.localeDate['_weekdays'].format;\r\n            this.momentShortDays = this.localeDate['_weekdaysMin'];\r\n            this.momentFirstDayOfWeek = this.localeDate['_week'].dow;\r\n\r\n            let value = this.model ? _.isDate(this.model) ? this.model : new Date(this.model) : null;\r\n            this.day = value ? value.getDate() : null;\r\n            this.month = value ? value.getMonth() + 1 : null;\r\n            this.year = value ? value.getFullYear() : null;\r\n\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.years = this.yearList();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateChanges) {\r\n            if (changes.model && changes.model.currentValue) {\r\n                this.model = changes.model.currentValue;\r\n                this.getValue(this.model);\r\n            }\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number = 31, days: number[] = [];\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n            } else {\r\n                if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n            }\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList(): number[] {\r\n            let currentYear: number = new Date().getFullYear(),\r\n                startYear: number = this.timeMode === 'future' ? currentYear : currentYear - 100,\r\n                endYear: number = this.timeMode === 'past' ? currentYear : currentYear + 100,\r\n                years = [];\r\n\r\n            if (this.timeMode === 'past') {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            if (this.days.length !== days.length) {\r\n                if (this.day > days.length) {\r\n                    this.day = days.length;\r\n                }\r\n\r\n                this.days = days;\r\n            }\r\n        }\r\n\r\n        private getValue(v: any) {\r\n            let value: Date = v ? _.isDate(v) ? v : new Date(v) : null,\r\n                day: number = value ? value.getDate() : null,\r\n                month: number = value ? value.getMonth() + 1 : null,\r\n                year: number = value ? value.getFullYear() : null;\r\n\r\n            // Update day list if month and year were changed\r\n            if (this.month !== month && this.year !== year) {\r\n                this.days = this.dayList(this.month, this.year);\r\n            }\r\n\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n        }\r\n\r\n        public setValue() {\r\n            let value: Date;\r\n\r\n            if (this.day && this.month && this.year) {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                this.model = value;\r\n                this.ngChange(this.model);\r\n            }\r\n        }\r\n\r\n        public onMonthChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n    }\r\n\r\n    const DateComponent: ng.IComponentOptions = {\r\n        bindings: DateBindings,\r\n        templateUrl: 'date/Date.html',\r\n        controller: DateController\r\n    }\r\n\r\n    angular\r\n        .module('pipDate', ['pipDates.Templates'])\r\n        .component('pipDate', DateComponent)\r\n})();\r\n\r\n","import { DateRangeType, IDateConvertService, IDateConvertProvider } from './IDateConvertService';\r\n\r\n(() => {\r\n    class DateConvert implements IDateConvertService {\r\n        protected _momentRanged: string[] = DateRangeType.All;\r\n        protected _defaultFormat: string = 'LL';\r\n        private _defaultTimeZoneOffset: number;\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._defaultTimeZoneOffset = value;\r\n        }\r\n\r\n        private isUndefinedOrNull(date: any): boolean {\r\n            return angular.isUndefined(date) || date === null;\r\n        }\r\n\r\n        private getRange(date: string): string {\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            let index = this._momentRanged.indexOf(date)\r\n\r\n            if (index < 0) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            return this._momentRanged[index];\r\n        }\r\n\r\n        private getOperationRange(date: string): string {\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            let range: string = date == DateRangeType.WeekFromSunday ? DateRangeType.WeekFromSunday : date,\r\n                index = this._momentRanged.indexOf(range)\r\n\r\n            if (index < 0) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            return this._momentRanged[index];\r\n\r\n        }\r\n  \r\n        private toStartRange(date: any, range: string): Date {\r\n            let localDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                throw new Error('toStartRange - date is undefined or null');\r\n            }\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\r\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\r\n            } else {\r\n                localDate = moment(date);\r\n            }\r\n\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toStartRange - localDate is invalid');\r\n            }\r\n\r\n            return localDate.startOf(range).toDate();\r\n        }\r\n\r\n        private toEndRange(date: any, range: string, offset?: number): any {\r\n            let localDate: any,\r\n                result: any,\r\n                mssOffset: number;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return '';\r\n            }\r\n\r\n            if (!angular.isNumber(offset)) {\r\n                mssOffset = 0;\r\n            }\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\r\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\r\n            } else {\r\n                localDate = moment(date);\r\n            }\r\n\r\n            if (!localDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            if (mssOffset) {\r\n                result = localDate.endOf(range).add(mssOffset, 'milliseconds');\r\n            } else {\r\n                result = localDate.endOf(range);\r\n            }\r\n\r\n            return localDate.endOf(range).toDate();\r\n        }\r\n\r\n        public toJson(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n\r\n        // navigation functions \r\n        // ------------------\r\n\r\n        public toNextRange(date: any, type: string): any {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return '';\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(type);\r\n            result = moment(localDate).startOf(range).add(1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public toPrevRange(date: any, type: string): Date {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                throw new Error('toPrevRange- date is undefined or null');\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toPrevRange - localDate is invalid');\r\n            }\r\n\r\n            range = this.getRange(type);\r\n            result = moment(localDate).startOf(range).add(-1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public toCurrentRange(type: string): Date {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            localDate = moment();\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toCurrentRange - localDate is invalid');\r\n            }\r\n\r\n            range = this.getRange(type)\r\n            result = moment(localDate).startOf(range);\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public addHours(date: any, hours: number): Date {\r\n            let localDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date) || !angular.isNumber(hours)) {\r\n                throw new Error('addHours - date is undefined or null or hours is not a number');\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                throw new Error('addHours - localDate is invalid');\r\n            }\r\n\r\n            return localDate.add(hours, 'hours').toDate();\r\n        }\r\n\r\n        public toStartDay(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Day);\r\n        }\r\n\r\n        public toEndDay(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Day, offset);\r\n        }\r\n\r\n        public toStartWeek(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.WeekFromSunday);\r\n        }\r\n\r\n        public toEndWeek(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.WeekFromSunday, offset);\r\n        }\r\n\r\n        public toStartMonth(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Month);\r\n        }\r\n\r\n        public toEndMonth(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Month, offset);\r\n        }\r\n\r\n        public toStartYear(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Year);\r\n        }\r\n\r\n        public toEndYear(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Year, offset);\r\n        }\r\n\r\n        // public toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     tzOffset = tzOffset !== null && tzOffset !== undefined ? tzOffset : 0;\r\n        //     offset = offset ? offset : 0; \r\n\r\n        //     return moment(date).add(offset - tzOffset, 'minutes').format();\r\n        // }\r\n\r\n        // public fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     tzOffset = tzOffset !== null && tzOffset !== undefined ? tzOffset : 0;\r\n        //     offset = offset ? offset : 0; \r\n\r\n        //     return moment(date).add(tzOffset - offset, 'minutes').format();\r\n        // }\r\n\r\n    }\r\n\r\n    class DateConvertService {\r\n        private _convert: DateConvert;\r\n\r\n        public constructor(\r\n            convert: DateConvert,\r\n        ) {\r\n            this._convert = convert;\r\n        }\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._convert.defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._convert.defaultTimeZoneOffset = value;\r\n        }\r\n    \r\n        public toJSON(date: any): string {\r\n            return this._convert.toJson(date);\r\n        }\r\n\r\n        // date range functions \r\n        // ------------------\r\n\r\n        public toNextRange(date: any, type: string): any {\r\n            return this._convert.toNextRange(date, type);\r\n        }\r\n\r\n        public toPrevRange(date: any, type: string): any {\r\n            return this._convert.toPrevRange(date, type);\r\n        }\r\n\r\n        public toCurrentRange(type: string): any {\r\n            return this._convert.toCurrentRange(type);\r\n        }\r\n\r\n        public addHours(date: any, hours: number): any {\r\n            return this._convert.addHours(date, hours);\r\n        }\r\n\r\n        public toStartDay(date: any): any {\r\n            return this._convert.toStartDay(date);\r\n        }\r\n\r\n        public toEndDay(date: any, offset?: number): any {\r\n            return this._convert.toEndDay(date, offset);\r\n        }\r\n\r\n        public toStartWeek(date: any): any {\r\n            return this._convert.toStartWeek(date);\r\n        }\r\n\r\n        public toEndWeek(date: any, offset?: number): any {\r\n            return this._convert.toEndWeek(date, offset);\r\n        }\r\n\r\n        public toStartMonth(date: any): any {\r\n            return this._convert.toStartMonth(date);\r\n        }\r\n\r\n        public toEndMonth(date: any, offset?: number): any {\r\n            return this._convert.toEndMonth(date, offset);\r\n        }\r\n\r\n        public toStartYear(date: any): any {\r\n            return this._convert.toStartYear(date);\r\n        }\r\n\r\n        public toEndYear(date: any, offset?: number): any {\r\n            return this._convert.toEndYear(date, offset);\r\n        }\r\n\r\n        // public toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     return this._convert.toTimeZoneToString(date, tzOffset, offset);\r\n        // }\r\n\r\n        // public fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     return this._convert.fromTimeZoneToString(date, tzOffset, offset);\r\n        // }\r\n    }\r\n\r\n    class DateConvertProvider extends DateConvert implements IDateConvertProvider {\r\n        private _translation: DateConvert;\r\n        private _service: DateConvertService;\r\n\r\n        public $get(): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateConvertService(this);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Convert', [])\r\n        .provider('pipDateConvert', DateConvertProvider);\r\n})();","import { IDateFormatService } from './IDateFormatService';\r\nimport { IDateConvertService } from './IDateConvertService';\r\n\r\nfunction formatTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatTime(value, format);\r\n    }\r\n}\r\n\r\nfunction formatDateOptionalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatDateOptional(value, format);\r\n    }\r\n}\r\n\r\nfunction formatLongDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDate(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any) => {\r\n        return pipDateFormat.formatMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatYearFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatYear(value);\r\n    }\r\n}\r\n\r\nfunction formatWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatShortDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatMiddleDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatLongDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatLongDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction bbFormatDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.bbFormatDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatFullDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatFullDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatShortMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatDateRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatDateTimeRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateTimeRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekOrdinalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeekOrdinal(value);\r\n    }\r\n}\r\n\r\nfunction formatDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatMillisecondsToSecondsFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMillisecondsToSeconds(value);\r\n    }\r\n}\r\n\r\nfunction formatElapsedIntervalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, start: any): string => {\r\n        return pipDateFormat.formatElapsedInterval(value, start);\r\n    }\r\n}\r\n\r\nfunction formatShortElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatShortElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction formatLongElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatLongElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction formatMiddleElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatMiddleElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction getDateJSONFilter(pipDateConvert: IDateConvertService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateConvert.toJson(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: number): string => {\r\n        return pipDateFormat.formatTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: number): string => {\r\n        return pipDateFormat.formatTimeLong(value);\r\n    }\r\n}\r\nangular\r\n    .module('pipDate.Filter', [])\r\n    .filter('formatTime', formatTimeFilter)\r\n    .filter('formatDateOptional', formatDateOptionalFilter)\r\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\r\n    .filter('formatShortDate', formatShortDateFilter)\r\n    .filter('formatMiddleDate', formatMiddleDateFilter)\r\n    .filter('formatLongDate', formatLongDateFilter)\r\n    .filter('formatMonth', formatMonthFilter)\r\n    .filter('formatLongMonth', formatLongMonthFilter)\r\n    .filter('formatYear', formatYearFilter)\r\n    .filter('formatWeek', formatWeekFilter)\r\n    .filter('formatShortWeek', formatShortWeekFilter)\r\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\r\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)\r\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\r\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\r\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)\r\n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)\r\n    .filter('formatFullDateTime', formatFullDateTimeFilter)\r\n    .filter('formatShortTime', formatShortTimeFilter)\r\n    .filter('formatLongTime', formatLongTimeFilter)\r\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\r\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\r\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\r\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\r\n    .filter('formatDateRange', formatDateRangeFilter)\r\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\r\n    .filter('formatISOWeek', formatISOWeekFilter)\r\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\r\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\r\n    .filter('formatDateY', formatDateYFilter)\r\n    .filter('formatLongDateY', formatLongDateYFilter)\r\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\r\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\r\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\r\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\r\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\r\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter)\r\n    .filter('formatShortElapsed', formatShortElapsedFilter)\r\n    .filter('formatMiddleElapsed', formatMiddleElapsedFilter)\r\n    .filter('formatLongElapsed', formatLongElapsedFilter)\r\n    .filter('formatTimeShort', formatTimeShortFilter)\r\n    .filter('formatTimeLong', formatTimeLongFilter);\r\n","import { DateRangeType } from './IDateConvertService';\r\nimport { IDateFormatService, IDateFormatProvider } from './IDateFormatService';\r\n\r\n(() => {\r\n    class DateFormat implements IDateFormatService {\r\n        protected _momentRanged: string[] = DateRangeType.All;\r\n        protected _defaultFormat: string = 'LL'\r\n\r\n        private _defaultTimeZoneOffset: number;\r\n        private oneHour: number = 60 * 60 * 1000;\r\n        private oneMinute: number = 60 * 1000;\r\n        private oneSeccond: number = 1000;\r\n        private oneDay: number = 24 * 60 * 60 * 1000;\r\n\r\n\r\n        public constructor(\r\n            private $injector: angular.auto.IInjectorService\r\n        ) {\r\n\r\n        }\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._defaultTimeZoneOffset = value;\r\n        }\r\n\r\n        private isUndefinedOrNull(value: any): boolean {\r\n            return angular.isUndefined(value) || value === null;\r\n        }\r\n\r\n        private formatDateTime(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let formatTpl: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            return date.format(formatTpl);\r\n        }\r\n\r\n        private formatDateTimeY(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let nowDate: moment.Moment;\r\n            let formatMoment: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n            formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n            if (nowDate.year() == date.year())\r\n                formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            return date.format(formatMoment);\r\n        }\r\n\r\n        private formatDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n            let formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '').replace(/[./]/g, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            return date.format(formatMonthYearless);\r\n        }\r\n\r\n        private formatMonthDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let format = basicFormat ? basicFormat : this._defaultFormat;\r\n            let formatLL = moment.localeData().longDateFormat(format);\r\n            let formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            return date.format(formatYearlessLL);\r\n        }\r\n\r\n        //  use timezone not testing\r\n        public formatRange(value1: any, value2: any, basicFormat: string): string {\r\n            let dateStart: moment.Moment;\r\n            let dateEnd: moment.Moment;\r\n            let format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            if (this.isUndefinedOrNull(value1))\r\n                dateStart = null;\r\n            else\r\n                dateStart = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                    ? moment(value1).utcOffset(this._defaultTimeZoneOffset) : moment(value1);\r\n\r\n            if (this.isUndefinedOrNull(value2))\r\n                dateEnd = null;\r\n            else\r\n                dateEnd = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                    ? moment(value2).utcOffset(this._defaultTimeZoneOffset) : moment(value2);\r\n\r\n            if (dateStart === null && dateEnd === null)\r\n                return '';\r\n            if (dateStart === null)\r\n                return dateEnd.format(basicFormat);\r\n            if (dateEnd === null || dateStart.isSame(dateEnd))\r\n                return dateStart.format(basicFormat);;\r\n\r\n            if (dateStart.isAfter(dateEnd))\r\n                throw new Error('Date range error. Start date is more than end date.');\r\n\r\n            if (dateStart.year() == dateEnd.year()) {\r\n                if (dateStart.month() == dateEnd.month())\r\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n\r\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n            }\r\n\r\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n        }\r\n\r\n        private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\r\n            let date: moment.Moment;\r\n            let result: string;\r\n            let nowDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n            if (firstTime)\r\n                result = date.format(formatTime) + ' ' + date.format(formatDate);\r\n            else\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n\r\n            return result;\r\n        }\r\n\r\n        private toTodayDate(value: any, formatDate: string, formatTime: string): any {\r\n            let date: moment.Moment;\r\n            let result: string;\r\n            let nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n\r\n            if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day())\r\n                result = date.format(formatTime);\r\n            else\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n\r\n            return result;\r\n        }\r\n\r\n        // formating functions \r\n        // -------------------\r\n\r\n        public formatTime(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatDateOptional(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        // date formats\r\n        public formatShortDate(value: any): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDate(value: any): string {\r\n            return this.formatDateTime(value, 'll');\r\n        }\r\n\r\n        public formatLongDate(value: any): string {\r\n            return this.formatDateTime(value, 'LL');\r\n        }\r\n\r\n        public formatMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MM');\r\n        }\r\n\r\n        public formatLongMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MMMM');\r\n        }\r\n\r\n        public formatYear(value: any): string {\r\n            return this.formatDateTime(value, 'YYYY');\r\n        }\r\n\r\n        public formatWeek(value: any): string {\r\n            return this.formatDateTime(value, 'ww');\r\n        }\r\n\r\n        public formatShortWeek(value: any): string {\r\n            return this.formatDateTime(value, 'w');\r\n        }\r\n\r\n        public formatShortDateTime(value: any): string {\r\n            return this.toDateWithTime(value, 'L', 'LT');\r\n        }\r\n\r\n        public formatMiddleDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'lll');\r\n        }\r\n\r\n        public formatLongDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatFullDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLLL');\r\n        }\r\n\r\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'L', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'll', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatShortTime(value: any): string {\r\n            return this.formatDateTime(value, 'LT');\r\n        }\r\n\r\n        public formatLongTime(value: any): string {\r\n            return this.formatDateTime(value, 'LTS');\r\n        }\r\n\r\n        public formatShortDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dd');\r\n        }\r\n\r\n        public formatLongDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dddd');\r\n        }\r\n\r\n        // public formatTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLL');\r\n        // }\r\n\r\n        // public formatLongTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLLL');\r\n        // }\r\n\r\n        ///-----------------\r\n\r\n        public formatLongMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'LL');\r\n        }\r\n\r\n        public formatShortMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'L');\r\n        }\r\n\r\n        public formatDateRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LL');\r\n        }\r\n\r\n        public formatDateTimeRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LLL');\r\n        }\r\n\r\n        // iso function\r\n        // --------------\r\n\r\n        public formatISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'WW');\r\n        }\r\n\r\n        public formatShortISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'W');\r\n        }\r\n\r\n        public formatISOWeekOrdinal(value: any): string {\r\n            return this.formatDateTime(value, 'Wo');\r\n        }\r\n        // special formats \r\n        // --------------\r\n\r\n        // year option displays if the current year is not equal to, the date of \r\n        public formatDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'L');\r\n        }\r\n\r\n        // year option displays if the current year is not equal to, the date of\r\n        public formatLongDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'LL');\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateLongTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateShortTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateLongTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LT')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateShortTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'll', 'LT')\r\n        }\r\n\r\n        // todo\r\n        public formatMillisecondsToSeconds(value: any): string {\r\n            return '';\r\n        }\r\n\r\n        public formatElapsedInterval(value: any, start: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return moment(date).fromNow(nowDate);\r\n        }\r\n\r\n        public formatShortElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatShortDateTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + moment.utc(ms).format(\":mm \") + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_SHORT_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + moment.utc(ms).format(\":mm \") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' min. ago';\r\n                        } else {\r\n                            s = 'few sec. ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        private getHoursString(h: number): string {\r\n            let hh: number = h % 10;\r\n            if (h == 0) return '';\r\n\r\n            if (hh == 1) {\r\n                return 'DATE_HOUR_ONE'\r\n            }\r\n            if (hh > 1 && hh < 5) {\r\n                return 'DATE_HOURS_FEW'\r\n            }\r\n\r\n            return 'DATE_HOURS_AFTER_FOOR'\r\n        }\r\n\r\n        private getMinutesString(m: number): string {\r\n            if (m == 1) {\r\n                return 'DATE_MINUTE_ONE'\r\n            }\r\n            if (m > 1 && m < 5) {\r\n                return 'DATE_MINUTES_FEW'\r\n            }\r\n\r\n            return 'DATE_MINUTES_AFTER_FOOR'\r\n        }\r\n\r\n        public formatLongElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatFullDateTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' ' + pipTranslate.translate(hString) + moment.utc(ms).format(\" mm \") +\r\n                            pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' hours ' + moment.utc(ms).format(\":mm minutes\") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' minutes ago';\r\n                        } else {\r\n                            s = 'few second ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        public formatMiddleElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatMiddleDateLongTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = 'DATE_HOUR_SHORT';\r\n                    let mString: string = 'DATE_MINUTE_SHORT';\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' ' + pipTranslate.translate(hString) + moment.utc(ms).format(\" mm \") +\r\n                            pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_SHORT_ELAPSED') + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' h. ' + moment.utc(ms).format(\":mm min.\") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' min. ago';\r\n                        } else {\r\n                            s = 'few sec. ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        public formatTimeShort(value: number): string {\r\n            if (value <= 0) return '';\r\n\r\n            let s: string = '';\r\n            let h = Math.floor(value / this.oneHour);\r\n            let m = Math.floor((value - h * this.oneHour) / this.oneMinute);\r\n            let sec = Math.floor((value - h * this.oneHour - m * this.oneMinute) / this.oneSeccond);\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                let hString: string = 'DATE_HOUR_SHORT';\r\n                let mString: string = 'DATE_MINUTE_SHORT';\r\n                if (h) {\r\n                    s = h + ' ' + pipTranslate.translate(hString) + ' ' +\r\n                        (\"0\" + m).substr(-2, 2) + ' ' + pipTranslate.translate(mString);\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' ' + pipTranslate.translate(mString);\r\n                    } else {\r\n                        s = sec + ' ' + pipTranslate.translate('DATE_FEW_SECOND_SHORT');\r\n                    }\r\n                }\r\n            } else {\r\n                if (h) {\r\n                    s = h + ' h. ' + (\"0\" + m).substr(-2, 2) + ' min.';\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' min.';\r\n                    } else {\r\n                        s = sec + ' sec.';\r\n                    }\r\n                }\r\n            }\r\n\r\n            return s;\r\n        }\r\n\r\n        public formatTimeLong(value: number): string {\r\n            if (value <= 0) return '';\r\n\r\n            let s: string = '';\r\n            let h = Math.floor(value / this.oneHour);\r\n            let m = Math.floor((value - h * this.oneHour) / this.oneMinute);\r\n            let sec = Math.floor((value - h * this.oneHour - m * this.oneMinute) / this.oneSeccond);\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                if (h) {\r\n                    \r\n                    s = h + ' ' + pipTranslate.translate(hString) + ' ' +\r\n                        (\"0\" + m).substr(-2, 2) + ' ' + pipTranslate.translate(mString);\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' ' + pipTranslate.translate(mString);\r\n                    } else {\r\n                        s = sec + ' ' + pipTranslate.translate('DATE_FEW_SECOND');\r\n                    }\r\n                }\r\n            } else {\r\n                if (h) {\r\n                    s = h + ' hours ' + (\"0\" + m).substr(-2, 2) + ' minutes';\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' minutes';\r\n                    } else {\r\n                        s = sec + ' second';\r\n                    }\r\n                }\r\n            }\r\n\r\n            return s;\r\n        }\r\n\r\n        public getDateJSON(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n    }\r\n\r\n    class DateFormatProvider extends DateFormat implements IDateFormatProvider {\r\n        private _translation: DateFormat;\r\n        private _service: DateFormat;\r\n\r\n        public $get(\r\n            $injector: angular.auto.IInjectorService\r\n        ): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateFormat($injector);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    function declarePipDateResources($injector: angular.auto.IInjectorService) {\r\n        let pipTranslateProvider: any = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n        if (pipTranslateProvider && pipTranslateProvider.translations) {\r\n            pipTranslateProvider.translations('en', {\r\n                DATE_ELAPSED: 'ago',\r\n                DATE_HOUR_ONE: 'hour',\r\n                DATE_HOUR_SHORT: 'h',\r\n                DATE_MINUTE_SHORT: 'min',\r\n                DATE_HOURS_FEW: 'hours',\r\n                DATE_HOURS_AFTER_FOOR: 'hours',\r\n                DATE_MINUTE_ONE: 'minute',\r\n                DATE_MINUTES_FEW: 'minutes',\r\n                DATE_MINUTES_AFTER_FOOR: 'minutes',\r\n                DATE_FEW_SECOND: 'second',\r\n                DATE_FEW_SECOND_SHORT: 'sec.',\r\n                DATE_FEW_SECOND_ELAPSED: 'few sec. ago',\r\n                DATE_FEW_SECOND_SHORT_ELAPSED: 'few sec. ago'\r\n\r\n            });\r\n            pipTranslateProvider.translations('ru', {\r\n                DATE_ELAPSED: '',\r\n                DATE_HOUR_ONE: '',\r\n                DATE_HOUR_SHORT: '.',\r\n                DATE_MINUTE_SHORT: '.',\r\n                DATE_HOURS_FEW: '',\r\n                DATE_HOURS_AFTER_FOOR: '',\r\n                DATE_MINUTE_ONE: '',\r\n                DATE_MINUTES_FEW: '',\r\n                DATE_MINUTES_AFTER_FOOR: '',\r\n                DATE_FEW_SECOND: '',\r\n                DATE_FEW_SECOND_SHORT: '.',\r\n                DATE_FEW_SECOND_ELAPSED: '  ',\r\n                DATE_FEW_SECOND_SHORT_ELAPSED: '. . ',\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Format', [])\r\n        .provider('pipDateFormat', DateFormatProvider)\r\n        .config(declarePipDateResources);\r\n})();","export class DateRangeType {\r\n    static Year: string = 'year';\r\n    static Month: string = 'month';\r\n    static Week: string = 'week';\r\n    static WeekFromSunday: string = 'isoweek';\r\n    static Day: string = 'day';\r\n    static All: string[] = ['year', 'month', 'week', 'isoweek', 'day']\r\n}\r\n\r\nexport interface IDateConvertService {\r\n    defaultTimeZoneOffset: number;\r\n\r\n    toJson(date: any): string;\r\n    toNextRange(date: any, type: string): Date;\r\n    toPrevRange(date: any, type: string): Date;\r\n    toCurrentRange(type: string): Date;\r\n\r\n    addHours(date: any, hours: number): Date;\r\n    toStartDay(date: any): Date;\r\n    toEndDay(date: any, offset?: number): Date;\r\n    toStartWeek(date: any): Date;\r\n    toEndWeek(date: any, offset?: number): Date;\r\n    toStartMonth(date: any): Date;\r\n    toEndMonth(date: any, offset?: number): Date;\r\n    toStartYear(date: any): Date;\r\n    toEndYear(date: any, offset?: number): Date;\r\n\r\n    // toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string;\r\n    // fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string;\r\n}\r\n\r\nexport interface IDateConvertProvider extends IDateConvertService, ng.IServiceProvider {\r\n}","\r\nangular.module('pipDate.Common', [\r\n    'pipDate.Convert',\r\n    'pipDate.Format',\r\n    'pipDate.Filter'\r\n]);\r\n\r\nimport './DateConvertService';\r\nimport './DateFormatFilter';\r\nimport './DateFormatService';\r\nimport './IDateConvertService';\r\nimport './IDateFormatService';\r\n\r\nexport * from './IDateConvertService';\r\nexport * from './IDateFormatService';","\r\n(() => {\r\n    interface IDateRangeBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any;\r\n        disabled: any;\r\n        model: any;\r\n        pipChanged: any;\r\n        type: any;\r\n        pipDateFormat: any;\r\n        pipNoLine: any;\r\n    }\r\n\r\n    const DateRangeBindings: IDateRangeBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '=ngModel',\r\n        pipChanged: '&',\r\n        type: '@pipDateRangeType',\r\n        pipDateFormat: '@',\r\n        pipNoLine: '@'\r\n    }\r\n\r\n\r\n    class DateRangeChanges implements ng.IOnChangesObject, IDateRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        model: ng.IChangesObject<any>;\r\n        pipChanged: ng.IChangesObject<() => void>;\r\n        type: ng.IChangesObject<string>;\r\n        pipDateFormat: ng.IChangesObject<any>;\r\n        pipNoLine: ng.IChangesObject<any>;\r\n    }\r\n\r\n    class DateRangeController {\r\n        private currentDate: Date;\r\n        private currentYear: number;\r\n        private currentMonth: number;\r\n        private currentDay: number;\r\n        private prevState: any = {};\r\n        private currentState: any = {};\r\n        private localeDate: any;\r\n        private momentMonths: any;\r\n        private momentDays: any;\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public type: string;\r\n        public pipChanged: Function;\r\n        public year: number;\r\n        public month: number;\r\n        public week: any;\r\n        public day: number;\r\n        public shortMonths: string[];\r\n        public days: number[];\r\n        public weeks: any[];\r\n        public months: number[];\r\n        public years: number[];\r\n        public nameDays: string[];\r\n        public model: any;\r\n        public disabled: Function;\r\n        public disableControls: boolean;\r\n        public timeMode: string;\r\n\r\n        constructor(\r\n            public $mdMedia: angular.material.IMedia,\r\n            private $timeout: ng.ITimeoutService,\r\n            $scope: ng.IScope,\r\n            $element,\r\n            $rootScope: ng.IRootScopeService,\r\n            $injector: angular.auto.IInjectorService) {\r\n            \"ngInject\";\r\n\r\n            this.localeDate = moment.localeData();\r\n            this.momentMonths = angular.isArray(this.localeDate._months) ? this.localeDate._months : this.localeDate._months.standalone;\r\n            this.momentDays = angular.isArray(this.localeDate._weekdays) ? this.localeDate._weekdays : this.localeDate._weekdays.format;\r\n            this.momentShortDays = this.localeDate._weekdaysMin;\r\n            this.momentFirstDayOfWeek = this.localeDate._week.dow;\r\n\r\n            this.currentDate = new Date();\r\n            this.currentYear = this.currentDate.getUTCFullYear();\r\n            this.currentMonth = this.currentDate.getUTCMonth() + 1;\r\n            this.currentDay = this.currentDate.getUTCDate();\r\n\r\n            this.init();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n\r\n            $scope.$watch('$ctrl.type', (newValue, oldValue) => {\r\n                if (newValue !== oldValue && oldValue) {\r\n                    this.init();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateRangeChanges) {\r\n            if (changes.type && changes.type.currentValue) {\r\n                this.type = changes.type.currentValue;\r\n                this.init();\r\n            }\r\n\r\n            /*if (changes.type && changes.type.currentValue && changes.type.currentValue != changes.type.previousValue) {\r\n               this.type = changes.type.currentValue; \r\n               this.init();\r\n           }\r\n   \r\n           if (changes.disabled && changes.disabled.currentValue) {\r\n                this.disableControls = changes.disabled.currentValue();\r\n           }\r\n   \r\n           if (changes.model && changes.model.currentValue) {\r\n                 this.getValue(changes.model.currentValue);\r\n           }*/\r\n\r\n        }\r\n\r\n        public onMonthChanged(): void {\r\n            if (this.type === 'weekly') {\r\n                let date: Date, dayOfWeek: number;\r\n                date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.correctWeek();\r\n                this.adjustWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged(): void {\r\n            let date: Date, dayOfWeek: number;\r\n            date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n            if (this.type === 'weekly') {\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public onWeekChange() {\r\n            if (this.type === 'weekly') {\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public isDay(): boolean {\r\n            return this.type === 'daily';\r\n        };\r\n\r\n        public isWeek(): boolean {\r\n            return this.type === 'weekly';\r\n        };\r\n\r\n        public isMonth(): boolean {\r\n            return this.type === 'daily' ||\r\n                this.type === 'weekly' ||\r\n                this.type === 'monthly';\r\n        };\r\n\r\n        public onChange() {\r\n            if (this.pipChanged) {\r\n                this.$timeout(() => {\r\n                    this.pipChanged();\r\n                }, 0);\r\n            }\r\n        };\r\n\r\n        private setCurrent() {\r\n            this.currentState.day = this.day;\r\n            this.currentState.month = this.month;\r\n            this.currentState.year = this.year;\r\n            this.currentState.week = this.week;\r\n            this.currentState.dateRangeType = this.type;\r\n            this.currentState.model = this.model;\r\n        }\r\n\r\n        private fillLists() {\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.shortMonths = this.monthList();\r\n            this.years = this.yearList();\r\n        }\r\n\r\n        private correctWeek() {\r\n            if (!this.prevState.model || this.prevState.model && this.prevState.model.getTime() >= this.model.getTime()) {\r\n                // if shift week -> increase month\r\n                if (this.weeks && this.weeks[this.week] && this.weeks[this.week].id <= 0) {\r\n                    if (this.month < 12) {\r\n                        this.month += 1;\r\n                    } else {\r\n                        this.month = 1;\r\n                        this.year += 1;\r\n                    }\r\n                    this.fillLists();\r\n                }\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            let value: Date;\r\n\r\n            value = this.model ? new Date(this.model) : null;\r\n            this.day = value ? value.getUTCDate() : null;\r\n            this.month = value ? value.getUTCMonth() + 1 : null;\r\n            this.year = value ? value.getUTCFullYear() : null;\r\n            this.week = value ? this.getWeekByDate(this.day, this.month - 1, this.year) : null;\r\n\r\n            this.fillLists();\r\n\r\n            if (this.type === 'weekly') {\r\n                this.correctWeek();\r\n            }\r\n            this.adjustWeek();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearClick() {\r\n            if (!this.year) {\r\n                this.year = this.currentYear;\r\n            }\r\n        };\r\n\r\n        public onMonthClick() {\r\n            if (!this.month) {\r\n                this.month = this.currentMonth;\r\n            }\r\n        };\r\n\r\n        public onDayClick() {\r\n            if (!this.year) {\r\n                this.day = this.currentDay;\r\n            }\r\n        };\r\n        // ---------------------------------------------------------------------------------------\r\n\r\n        public getCountDay(month: number, year: number): number {\r\n            let count = 31;\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n                return count;\r\n            }\r\n\r\n            if (month === 2) {\r\n                if (year) {\r\n                    count = year % 4 === 0 ? 29 : 28;\r\n                    return count;\r\n                }\r\n                count = 28;\r\n            }\r\n\r\n            return count;\r\n\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number, days: number[];\r\n\r\n            count = this.getCountDay(month, year);\r\n            this.nameDays = [];\r\n            days = [];\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n                this.nameDays.push(this.momentShortDays[moment([year, month - 1, i]).weekday()]);\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        public getWeekByDate(day, month, year) {\r\n            let date: Date, dayOfWeek: number, startWeek;\r\n\r\n            date = new Date(Date.UTC(year, month, day));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n\r\n            if (dayOfWeek === 1) {\r\n                startWeek = day;\r\n            } else {\r\n                startWeek = day + 1 - dayOfWeek;\r\n            }\r\n\r\n            return startWeek;\r\n        }\r\n\r\n        public getWeek(day: number, countDay: number, countPrevMonthDay) {\r\n            let endDay: number, startDay: number;\r\n\r\n            endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\r\n            startDay = day > 0 ? day : countPrevMonthDay + day;\r\n\r\n            return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\r\n        }\r\n\r\n        public weekList(month: number, year: number) { //    \r\n            let weeks: any[], countDay: number, countPrevMonthDay: number, startWeek: number;\r\n\r\n            weeks = [];  //        \r\n            countDay = this.getCountDay(month, year);\r\n            startWeek = this.getWeekByDate(1, month - 1, year);\r\n\r\n            countPrevMonthDay = month - 1 ? this.getCountDay(month - 1, year) : this.getCountDay(12, year - 1);\r\n            while (startWeek < countDay + 1) {\r\n                weeks.push({\r\n                    id: startWeek,\r\n                    name: this.getWeek(startWeek, countDay, countPrevMonthDay)\r\n                });\r\n                startWeek = startWeek + 7;\r\n            }\r\n\r\n            return weeks;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList() {\r\n            let startYear: number, endYear: number, years: any[] = [];\r\n\r\n            switch (this.timeMode) {\r\n                case 'future':\r\n                    startYear = this.currentYear;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                case 'past':\r\n                    startYear = this.currentYear - 100;\r\n                    endYear = this.currentYear;\r\n                    break;\r\n                case 'now':\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                default:\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 50;\r\n                    break;\r\n            }\r\n            if (this.timeMode === 'future') {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            switch (this.type) {\r\n                case 'monthly':\r\n                    this.day = 1;\r\n                    break;\r\n                case 'yearly':\r\n                    this.month = 1;\r\n                    this.day = 1;\r\n                    break;\r\n                default:\r\n                    if (this.days.length !== days.length) {\r\n                        if (this.day > days.length) {\r\n                            this.day = days.length;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            this.days = days;\r\n        }\r\n\r\n        private adjustWeek() {\r\n            let weeks = this.weekList(this.month, this.year);\r\n            this.week = this.getWeekByDate(this.week, this.month - 1, this.year);\r\n            this.weeks = weeks;\r\n        }\r\n\r\n        private getValue(v) {\r\n            let value: Date, day: number, month: number, year: number, week: string;\r\n\r\n            value = v ? new Date(v) : null;\r\n            // Define values\r\n            day = value ? value.getUTCDate() : null;\r\n            month = value ? value.getUTCMonth() + 1 : null;\r\n            year = value ? value.getUTCFullYear() : null;\r\n            week = value ? this.getWeekByDate(day, month - 1, year) : null;\r\n            // Exit if nothing to update\r\n            if (this.day === day && this.month === month && this.year === year && this.week === week) {\r\n                return;\r\n            }\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n            this.week = week;\r\n\r\n            // Define data sources\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n        }\r\n\r\n        public setValue() {\r\n            let value;\r\n\r\n            if (this.type === 'weekly') {\r\n                value = new Date(this.year, this.month - 1, this.week, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            } else {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            }\r\n\r\n            this.prevState = _.cloneDeep(this.currentState);\r\n            this.setCurrent();\r\n            this.onChange();\r\n        }\r\n\r\n    }\r\n\r\n    const daterange: ng.IComponentOptions = {\r\n        bindings: DateRangeBindings,\r\n        templateUrl: 'date_range/DateRange.html',\r\n        controller: DateRangeController \r\n\r\n    };\r\n    angular\r\n        .module('pipDateRange', ['pipDates.Templates'])\r\n        .component('pipDateRange', daterange)\r\n})();\r\n","\r\n(() => {\r\n    class TimeRangeData {\r\n        start: any;\r\n        end: any;\r\n    }\r\n\r\n    interface ITimeRangeBindings {\r\n        [key: string]: any;\r\n\r\n        start: any;\r\n        end: any;\r\n    }\r\n\r\n    const TimeRangeBindings: ITimeRangeBindings = {\r\n        start: '<?pipStartDate',\r\n        end: '<?pipEndDate'\r\n    }\r\n\r\n    class TimeRangeChanges implements ng.IOnChangesObject, ITimeRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        start: ng.IChangesObject<any>;\r\n        end: ng.IChangesObject<any>;\r\n    }\r\n\r\n    class TimeRangeController {\r\n        public data: TimeRangeData;\r\n        public start: any;\r\n        public end: any;\r\n\r\n        constructor($scope: ng.IScope, $attrs: ng.IAttributes, $element: JQuery) {\r\n            \"ngInject\";\r\n            this.data = new TimeRangeData();\r\n            this.defineStartDate();\r\n            this.defineEndDate();\r\n\r\n            $element.addClass('pip-time-range');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeChanges) {\r\n            if (changes.start && changes.start.currentValue) {\r\n                this.data.start = null;\r\n                this.defineStartDate();\r\n            }\r\n            if (changes.end && changes.end.currentValue) {\r\n                this.data.end = null;\r\n                this.defineEndDate();\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private defineStartDate() {\r\n            if (this.start !== null && this.start !== undefined) {\r\n                this.data.start = _.isDate(this.start) ? this.start\r\n                    : this.getDateJSON(this.start);\r\n            }\r\n        }\r\n\r\n        private defineEndDate() {\r\n            if (this.end !== null && this.end !== undefined) {\r\n                this.data.end = _.isDate(this.end) ? this.end\r\n                    : this.getDateJSON(this.end);\r\n            }\r\n        }\r\n\r\n        private toBoolean(value): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n    }\r\n\r\n    const TimeRangeComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeBindings,\r\n        templateUrl: 'time_range/TimeRange.html',\r\n        controller: TimeRangeController\r\n    }\r\n\r\n    angular.module('pipTimeRange', [])\r\n        .component('pipTimeRange', TimeRangeComponent);\r\n\r\n})();\r\n","export const IntervalTimeRange = 30;\r\nexport const MinutesInHour = 60;\r\nexport const HoursInDay = 24;\r\nexport const MillisecondsInSecond = 1000;\r\n\r\n{\r\n    class TimeRangeEditData {\r\n        endTime: number;\r\n        startTime: number;\r\n        startDate: Date;\r\n        endDate: Date;\r\n        duration: number;\r\n        bind: boolean = false;\r\n    }\r\n\r\n\r\n    interface ITimeRangeEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipStartDate: any,\r\n        pipChanged: any,\r\n        pipEndDate: any,\r\n        pipStartLabel: any,\r\n        pipEndLabel: any,\r\n        disabled: any,\r\n        pipHideTime: any,\r\n        pipSize: any\r\n    }\r\n\r\n    const TimeRangeEditBindings: ITimeRangeEditBindings = {\r\n        pipStartDate: '<',\r\n        pipChanged: '=',\r\n        pipEndDate: '<',\r\n        pipStartLabel: '@',\r\n        pipEndLabel: '@',\r\n        disabled: '&ngDisabled',\r\n        pipHideTime: '=',\r\n        pipSize: '='\r\n    }\r\n\r\n    class TimeRangeEditChanges implements ng.IOnChangesObject, ITimeRangeEditBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        pipStartDate: ng.IChangesObject<any>;\r\n        pipChanged: ng.IChangesObject<(start: Date, end: Date) => void>\r\n        pipEndDate: ng.IChangesObject<any>;\r\n        pipStartLabel: ng.IChangesObject<string>;\r\n        pipEndLabel: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        pipHideTime: ng.IChangesObject<boolean>;\r\n        pipSize: ng.IChangesObject<any>;\r\n    }\r\n\r\n\r\n    class TimeRangeEditController {\r\n        public startLabel: string = 'Start time';\r\n        public endLabel: string = 'End time';\r\n        public pipStartLabel: string;\r\n        public pipEndLabel: string;\r\n\r\n        public pipEndDate: any;\r\n        public pipStartDate: any;\r\n        public pipHideTime: boolean;\r\n        public pipSize;\r\n        public showTime: boolean;\r\n        public data: TimeRangeEditData;\r\n        public intervalTimeCollection: any;\r\n        public disabled: () => boolean;\r\n\r\n        public pipChanged: (start: Date, end: Date) => void;\r\n\r\n        constructor(\r\n            private $injector: angular.auto.IInjectorService,\r\n            private pipDateConvert,\r\n            private $scope: ng.IScope,\r\n            $element: JQuery) {\r\n            \"ngInject\";\r\n\r\n            this.translate();\r\n            this.intervalTimeCollection = this.getTimeInterval();\r\n            this.data = new TimeRangeEditData();\r\n            this.initDate();\r\n            this.defineDate();\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-range-edit');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeEditChanges) {\r\n            if (changes.pipStartDate && changes.pipStartDate.currentValue) {\r\n                this.pipStartDate = changes.pipStartDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n            if (changes.pipEndDate && changes.pipEndDate.currentValue) {\r\n                this.pipEndDate = changes.pipEndDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n\r\n        }\r\n\r\n        private translate() {\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    EVENT_NEW_START_TIME: 'Start time',\r\n                    EVENT_NEW_END_TIME: 'End time'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    EVENT_NEW_START_TIME: '',\r\n                    EVENT_NEW_END_TIME: ''\r\n                });\r\n                this.startLabel = this.pipStartLabel ? pipTranslate.translate(this.pipStartLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n                this.endLabel = this.pipEndLabel ? pipTranslate.translate(this.pipEndLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private setDuration() {\r\n            let start, end;\r\n\r\n            if (!this.data.startDate || !this.data.endDate) {\r\n                return null;\r\n            }\r\n\r\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n            return end - start;\r\n        }\r\n\r\n        private validateStartDate() {\r\n            let date: Date = new Date(), start: Date = new Date(), end: Date = new Date(), endTime: number, startTime: number;\r\n            //     ,   \r\n            if (!this.data.startDate || _.isNull(this.data.startDate) || !this.data) {\r\n                this.data.startTime = null;\r\n                this.data.startDate = null;\r\n                return;\r\n            }\r\n\r\n            // c     -  \r\n            if (_.isUndefined(this.data.startTime) || _.isNull(this.data.startTime)) {\r\n                if (!this.data || !this.data.endTime) {\r\n                    date = new Date();\r\n                    startTime = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.startTime = Math.floor(startTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.startTime = this.data.endTime === 0 ? 0 : this.data.endTime - IntervalTimeRange;\r\n                }\r\n            }\r\n\r\n            if (this.data && this.data.startDate) {\r\n                start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n                //   ,   .       \r\n                if (this.data.duration) {\r\n                    end = new Date(start.getTime() + this.data.duration);\r\n                    this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                    endTime = end.getTime() - this.data.endDate.getTime();\r\n                    this.data.endTime = Math.floor(endTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    //     \r\n                    end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n                    if (start >= end) {\r\n                        //    ,    \r\n                        this.data.endDate = this.pipDateConvert.toStartDay(new Date(start.getTime() + (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)));\r\n                        this.data.endTime = (this.data.startTime + IntervalTimeRange) % (HoursInDay * MinutesInHour); //   \r\n                    }\r\n                }\r\n\r\n                this.data.startTime = Math.round(this.data.startTime / IntervalTimeRange) * IntervalTimeRange;\r\n            }\r\n\r\n        }\r\n\r\n\r\n        private validateEndDate() {\r\n            let date: any = new Date(), start: Date = new Date(), end: Date = new Date();\r\n\r\n            if (!this.data.endDate) {\r\n                this.data.endTime = null;\r\n                this.data.endDate = null;\r\n                return;\r\n            }\r\n\r\n            // c     -  \r\n            if (_.isUndefined(this.data.endTime) || _.isNull(this.data.endTime)) {\r\n                if (!this.data.startTime) {\r\n                    date = new Date();\r\n                    date = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.endTime = Math.floor(date / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.endTime = this.data.startTime === (HoursInDay * MinutesInHour - IntervalTimeRange) ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.startTime + IntervalTimeRange;\r\n                }\r\n            }\r\n            if (this.data.startDate && this.data.startTime) {\r\n                start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            }\r\n            if (this.data.endDate && this.data.endTime) {\r\n                end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            if (start >= end) {\r\n                //    ,    \r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date(end.getTime() - IntervalTimeRange * MinutesInHour * MillisecondsInSecond));\r\n                this.data.startTime = this.data.endTime % (HoursInDay * MinutesInHour) === 0 ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.endTime - IntervalTimeRange;\r\n            }\r\n\r\n            this.data.endTime = Math.round(this.data.endTime / IntervalTimeRange) * IntervalTimeRange;\r\n            this.data.duration = this.setDuration();\r\n        }\r\n\r\n        private setDate() {\r\n            let time: number;\r\n\r\n            if (!this.data) this.data = new TimeRangeEditData();\r\n            this.data.bind = false;\r\n\r\n            if (this.data.startDate) {\r\n                time = this.data.startTime ? this.data.startTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipStartDate = new Date(this.data.startDate.getTime() + time);\r\n            }\r\n\r\n            if (this.data.endDate) {\r\n                time = this.data.endTime ? this.data.endTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipEndDate = new Date(this.data.endDate.getTime() + time);\r\n            }\r\n\r\n            this.data.bind = true;\r\n        }\r\n\r\n        private defineDate() {\r\n            let start: Date, end: Date;\r\n            if (this.pipStartDate !== null && this.pipStartDate !== undefined) {\r\n                start = _.isDate(this.pipStartDate) ? this.pipStartDate : null;\r\n\r\n                if (!start) {\r\n                    start = this.getDateJSON(this.pipStartDate);\r\n                }\r\n\r\n                this.data.startDate = this.pipDateConvert.toStartDay(start);\r\n                this.data.startTime = (<any>new Date(start) - <any>this.data.startDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            if (this.pipEndDate !== null && this.pipEndDate !== undefined) {\r\n                end = _.isDate(this.pipEndDate) ? this.pipEndDate : null;\r\n\r\n                if (!end) {\r\n                    end = this.getDateJSON(this.pipEndDate);\r\n                }\r\n\r\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                this.data.endTime = (<any>new Date(end) - <any>this.data.endDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            this.validateStartDate();\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n        }\r\n\r\n        private getTimeInterval() {\r\n            let result, minutes: number;\r\n\r\n            result = [];\r\n            for (let i: number = 0; i < 24; i++) {\r\n                for (let j: number = 0; j < 2; j++) {\r\n                    minutes = j * IntervalTimeRange;\r\n                    result.push({\r\n                        id: i * MinutesInHour + minutes,\r\n                        time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\r\n                    });\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        private toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        private initDate() {\r\n            this.data.startDate = null;\r\n            this.data.startTime = null;\r\n            this.data.endDate = null;\r\n            this.data.endTime = null;\r\n            this.data.duration = null;\r\n            this.showTime = !this.toBoolean(this.pipHideTime);\r\n        }\r\n\r\n        public onChangeStartDate(newV) {\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndDate() {\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeStartTime() {\r\n            if (!this.data.startDate) {\r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndTime() {\r\n            if (!this.data.endDate) {\r\n                this.data.endDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public isDisabled() {\r\n            if (this.disabled) {\r\n                return this.disabled();\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n    }\r\n\r\n    const TimeRangeEditComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeEditBindings,\r\n        templateUrl: 'time_range_edit/TimeRangeEdit.html',\r\n        controller: TimeRangeEditController\r\n    };\r\n    angular.module('pipTimeRangeEdit', [])\r\n        .component('pipTimeRangeEdit', TimeRangeEditComponent)\r\n\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date/Date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.day\" placeholder=\"{{$ctrl.dayLabel}}\" ng-change=\"$ctrl.setValue()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.month\" placeholder=\"{{$ctrl.monthLabel}}\" ng-change=\"$ctrl.onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.year\" placeholder=\"{{$ctrl.yearLabel}}\" ng-change=\"$ctrl.onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range/DateRange.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"$ctrl.isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onDayClick()\" ng-model=\"$ctrl.day\" ng-change=\"$ctrl.setValue()\" placeholder=\"{{$ctrl.dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{$ctrl.nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" ng-model=\"$ctrl.week\" ng-change=\"$ctrl.onWeekChange()\" placeholder=\"{{$ctrl.weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isDay() || $ctrl.isWeek()\"></div><md-input-container ng-show=\"$ctrl.isMonth() && !$ctrl.monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isMonth() && $ctrl.monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onYearClick()\" ng-model=\"$ctrl.year\" ng-change=\"$ctrl.onYearChanged()\" placeholder=\"{{$ctrl.yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range/TimeRange.html',\n    '<p><span ng-if=\"$ctrl.data.start != null\">{{$ctrl.data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"$ctrl.data.start && $ctrl.data.end\">-</span> <span ng-if=\"$ctrl.data.end != null\">{{$ctrl.data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit/TimeRangeEdit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"$ctrl.data.startDate\" xmd-placeholder=\"{{$ctrl.startLabel}}\" ng-change=\"$ctrl.onChangeStartDate()\" ng-disabled=\"$ctrl.isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"$ctrl.data.startTime\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeStartTime($ctrl.data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"$ctrl.data.endDate\" xmd-placeholder=\"{{$ctrl.endLabel}}\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"$ctrl.data.endTime\" ng-change=\"$ctrl.onChangeEndTime()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\n\r\nclass ConfirmationDialogController extends  ConfirmationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this._injector = $injector;\r\n\r\n        this.initTranslate();\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_TITLE': 'Confirm' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_TITLE': ''});\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_OK': 'Ok' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_OK': ''});\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_CANCEL': ''});\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_CONFIRM_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_CONFIRM_OK');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_CONFIRM_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Confirm';\r\n            this.ok = this.ok || 'OK';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","export class ConfirmationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Cancel button caption\r\n    public cancel?: string;\r\n}\r\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\nimport { IConfirmationDialogService } from './IConfirmationDialogService';\r\n\r\nclass ConfirmationDialogService implements IConfirmationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params: ConfirmationDialogParams, successCallback?: () => void, cancelCallback?: () => void) {\r\n        this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'confirmation/ConfirmationDialog.html',\r\n            controller: 'pipConfirmationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n        })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .service('pipConfirmationDialog', ConfirmationDialogService);","angular\r\n    .module('pipConfirmationDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ConfirmationDialogParams';\r\nimport './ConfirmationDialogController';\r\nimport './IConfirmationDialogService';\r\nimport './ConfirmationDialogService';\r\n\r\nexport * from './IConfirmationDialogService';\r\n","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\n\r\nclass ErrorDialogStrings {\r\n    public errorDetails: string = 'Error details';\r\n    public errorMessage: string = 'Message';\r\n    public errorCode: string = 'Code';\r\n    public errorMethod: string = 'Method';\r\n    public errorPath: string = 'Path';\r\n    public errorText: string = 'Error';   \r\n}\r\n\r\nclass ErrorDetailsDialogController extends ErrorDetailsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: ng.material.IDialogService;\r\n    public theme: string;\r\n    public strings: ErrorDialogStrings;\r\n\r\n    constructor(\r\n        $mdDialog: ng.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n        \r\n        super();\r\n\r\n        this.strings = new ErrorDialogStrings();\r\n        this._injector = $injector;\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n\r\n        this.initTranslate();\r\n\r\n        if (!this.error) {\r\n            this.error = '<none>';             \r\n        }\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', {\r\n                'OK': 'Ok',\r\n                'CANCEL': 'Cancel',\r\n                'ERROR_DETAILS': 'Error details',\r\n                'ERROR_CODE': 'Error code',\r\n                'ERROR_PATH': 'Path',\r\n                'ERROR_ERROR': 'Error',\r\n                'ERROR_METHOD': 'Method',\r\n                'ERROR_MESSAGE': 'Message',\r\n                'ERROR_DISMISS': 'Dismiss'\r\n            });\r\n            pipTranslate.translations('ru', {\r\n                'OK': '',\r\n                'CANCEL': '',\r\n                'ERROR_DETAILS': ' ',\r\n                'ERROR_CODE': ' ',\r\n                'ERROR_PATH': '',\r\n                'ERROR_ERROR': '',\r\n                'ERROR_METHOD': '',\r\n                'ERROR_MESSAGE': ''\r\n            });\r\n            this.dismissButton = pipTranslate.translate(this.dismissButton) || pipTranslate.translate('ERROR_DISMISS');\r\n\r\n            this.strings.errorDetails = pipTranslate.translate('ERROR_DETAILS');\r\n            this.strings.errorMessage = pipTranslate.translate('ERROR_MESSAGE');\r\n            this.strings.errorCode = pipTranslate.translate('ERROR_CODE');\r\n            this.strings.errorMethod = pipTranslate.translate('ERROR_METHOD');\r\n            this.strings.errorPath = pipTranslate.translate('ERROR_PATH');\r\n            this.strings.errorText = pipTranslate.translate('ERROR_ERROR');\r\n        } else {\r\n            this.dismissButton = this.dismissButton || 'Dismiss';\r\n        }\r\n    }\r\n    \r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public isString(error): boolean {\r\n        return _.isString(error);\r\n    }\r\n\r\n    public getErrorText(): string {\r\n        let error: string;\r\n\r\n        if (_.isString(this.error)) { \r\n            return this.error\r\n        } \r\n        if (this.error && this.error.error) {\r\n            return this.error.error.toString();\r\n        }\r\n        if (this.error && this.error.data && this.error.data.error) {\r\n            return this.error.data.error.toString();\r\n        }\r\n        \r\n        return '<none>';\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","export class ErrorDetailsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Close button label\r\n    public dismissButton?: string;\r\n    // Error object or string\r\n    public error: any;\r\n}","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\nimport { IErrorDetailsDialogService } from './IErrorDetailsDialogService';\r\n\r\nclass ErrorDetailsDialogService implements IErrorDetailsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    \r\n    public show(params: ErrorDetailsDialogParams, \r\n        successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'error_details/ErrorDetailsDialog.html',\r\n            controller: 'pipErrorDetailsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params, \r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .service('pipErrorDetailsDialog', ErrorDetailsDialogService);","angular\r\n    .module('pipErrorDetailsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ErrorDetailsDialogParams';\r\nimport './ErrorDetailsDialogService';\r\nimport './ErrorDetailsDialogController';\r\n\r\nexport * from './ErrorDetailsDialogParams';\r\nexport * from './IErrorDetailsDialogService';","import { InformationDialogParams } from './InformationDialogParams';\r\n\r\nclass InformationDialogController extends InformationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public content: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();        \r\n        this._injector = $injector;\r\n\r\n        this.initTranslate()\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        let content: string = this.message;\r\n        let item: string;\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': '' });\r\n            pipTranslate.translations('en', { 'INFORMATION_OK': 'Ok'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_OK': '' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('INFORMATION_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('INFORMATION_OK');\r\n            content = pipTranslate.translate(content);\r\n        } else {\r\n            this.title = this.title || 'Information';\r\n            this.ok = this.ok || 'OK';\r\n        }\r\n\r\n        let pipFormat: pip.services.IFormat = this._injector.has('pipFormat') \r\n            ? <pip.services.IFormat>this._injector.get('pipFormat') : null;\r\n\r\n        if (this.item && pipFormat) {\r\n            // item = _.truncate(params.item, 25);\r\n            content = pipFormat.sprintf(content, item);\r\n        }\r\n\r\n        this.content = content;        \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .controller('pipInformationDialogController', InformationDialogController);","export class InformationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Dialog messag. You can use formatting options (%s, %d etc.). \r\n    public message: string;\r\n    // Paramentrs for message string\r\n    public item?: any;\r\n}","import { InformationDialogParams } from './InformationDialogParams';\r\nimport { IInformationDialogService } from './IInformationDialogService';\r\n\r\nclass InformationDialogService implements IInformationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'information/InformationDialog.html',\r\n            controller: 'pipInformationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(function () {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .service('pipInformationDialog', InformationDialogService);","angular\r\n    .module('pipInformationDialog', [\r\n        'ngMaterial',\r\n        'pipDialogs.Translate', \r\n        'pipDialogs.Templates']);\r\n\r\nimport './InformationDialogParams';\r\nimport './InformationDialogController';\r\nimport './InformationDialogService';\r\n\r\n\r\nexport * from './IInformationDialogService';\r\nexport * from './InformationDialogParams';\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\nimport { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\n\r\nclass OptionsDialogController extends OptionsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public optionIndex: number;\r\n    \r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n        this.options = this.options || [];\r\n\r\n        this.initTranslate();\r\n\r\n        this.selectedOption = _.find(this.options, { active: true }) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_TITLE': ' ' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_SELECT': 'Select' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_SELECT': '' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_CANCEL': '' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_OPTIONS_SELECT');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_OPTIONS_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }\r\n\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n    }\r\n\r\n    public onKeyPress(event: JQueryKeyEventObject) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelect() {\r\n        let option: OptionsDialogData;\r\n        option = _.find(this.options, { name: this.selectedOptionName });\r\n\r\n        this.$mdDialog.hide({ option: option, isCheckboxOption: this.isCheckboxOption });\r\n    }\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .controller('pipOptionsDialogController', OptionsDialogController);","\r\nexport class OptionsDialogData {\r\n    public icon: string = 'star';\r\n    public name: string;\r\n    public title: string;\r\n    public active: boolean = true; \r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Dialog title \r\n    public title?: string;\r\n    // confirm button title\r\n    public ok?: string;\r\n    // cancel button title\r\n    public cancel?: string;\r\n    // Dialog options array\r\n    public options?: OptionsDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;\r\n    // Value for checkbox option\r\n    public isCheckboxOption?: boolean;\r\n    // Checkbox caption, Checkbox visible if caption is set\r\n    public checkboxOptionCaption?: string;\r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogResult {\r\n    public option: OptionsDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\nimport { IOptionsDialogService } from './IOptionsDialogService';\r\n\r\nclass OptionsDialogService implements IOptionsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public  show(params: OptionsDialogParams, \r\n        successCallback?: (result: OptionsDialogResult) => void, \r\n        cancelCallback?: () => void): any {\r\n        \r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options/OptionsDialog.html',\r\n            controller: 'pipOptionsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .service('pipOptionsDialog', OptionsDialogService);","angular\r\n    .module('pipOptionsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsDialogData';\r\nimport './OptionsDialogParams';\r\nimport './OptionsDialogResult';\r\nimport './OptionsDialogController';\r\nimport './OptionsDialogService';\r\n\r\n\r\nexport * from './OptionsDialogData';\r\nexport * from './OptionsDialogParams';\r\nexport * from './OptionsDialogResult';\r\nexport * from './OptionsDialogService';\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nclass OptionsBigDialogController extends OptionsBigDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    private $mdDialog: angular.material.IDialogService;\r\n\r\n    public theme: string;\r\n    public optionIndex: number;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService, \r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n\r\n        this.initTranslate()\r\n\r\n        this.selectedOption = _.find(this.options, {active: true}) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsBigDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_TITLE': ' ' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_SELECT': 'Select' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_SELECT': '' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_CANCEL': '' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_OPTIONS_SELECT');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_OPTIONS_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }      \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n\r\n        if (this.noActions) {\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelected() {\r\n        this.selectedOptionName = this.options[this.optionIndex].name;\r\n\r\n        if (this.noActions) {\r\n               this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            if (index !== undefined && index > -1 && index < this.options.length) {\r\n                this.selectedOptionName = this.options[index].name;\r\n                this.onSelect();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public onSelect = function () {\r\n        let option: OptionsBigDialogData;\r\n        option = <OptionsBigDialogData>_.find(this.options, { name: this.selectedOptionName }) || new OptionsBigDialogData();\r\n        this.$mdDialog.hide({ option: option });\r\n    };\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);\r\n","export class OptionsBigDialogData {\r\n    public name: string;\r\n    public title: string;\r\n    public subtitle: string;\r\n}\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;   \r\n    // Dialog title \r\n    public title?: string;  \r\n    // confirm button title\r\n    public ok?: string;\r\n    // cancel button title\r\n    public cancel?: string;\r\n    // Dialog options array\r\n    public options?: OptionsBigDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsBigDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;    \r\n    // Dialog hint title\r\n    public hint?: string;\r\n    // Show title\r\n    public noTitle;\r\n    // Show action button\r\n    public noActions;\r\n}\r\n\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogResult {\r\n    public option: OptionsBigDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogResult } from './OptionsBigDialogResult';\r\nimport { IOptionsBigDialogService } from './IOptionsBigDialogService';\r\n\r\nclass OptionsBigDialogService implements IOptionsBigDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback?: (result: OptionsBigDialogResult) => void, cancelCallback?: () => void): any {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options_big/OptionsBigDialog.html',\r\n            controller: 'pipOptionsBigDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,        \r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsBigDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .service('pipOptionsBigDialog', OptionsBigDialogService);","angular\r\n    .module('pipOptionsBigDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsBigDialogParams';\r\nimport './OptionsBigDialogData';\r\nimport './OptionsBigDialogResult';\r\nimport './OptionsBigDialogController';\r\nimport './OptionsBigDialogService';\r\n\r\n\r\nexport * from './OptionsBigDialogParams';\r\nexport * from './OptionsBigDialogData';\r\nexport * from './OptionsBigDialogResult';\r\nexport * from './IOptionsBigDialogService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{ ::$ctrl.theme }}\"><div class=\"pip-header\"><h3>{{ :: $ctrl.title }}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"$ctrl.onCancel()\">{{ :: $ctrl.cancel }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ :: $ctrl.ok }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetailsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{ ::$ctrl.strings.errorDetails | translate }}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ ::$ctrl.strings.errorCode | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ $ctrl.error.code || $ctrl.error.data.code }}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ ::$ctrl.strings.errorPath | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ $ctrl.error.path || $ctrl.error.data.path }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.isString($ctrl.error) || $ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ ::$ctrl.strings.errorText | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ $ctrl.getErrorText() }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ ::$ctrl.strings.errorMethod | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ $ctrl.error.method || $ctrl.error.data.method }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ ::$ctrl.strings.errorMessage | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ $ctrl.error.message || $ctrl.error.data.message }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"$ctrl.onOk()\">{{ ::$ctrl.dismissButton | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-header\"><h3>{{:: $ctrl.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ $ctrl.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ $ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.checkboxOptionCaption\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"$ctrl.isCheckboxOption\" aria-label=\"CHECKBOX\">{{ ::$ctrl.checkboxOptionCaption | translate }}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"$ctrl.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"$ctrl.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in $ctrl.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'$ctrl.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == $ctrl.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{ option.icon }}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{ ::option.title | translate }}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{ ::option.title | translate }}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::$ctrl.cancel | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_big/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !$ctrl.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': $ctrl.noTitle && $ctrl.hint}\"><h3 class=\"m0\" ng-if=\"!$ctrl.noTitle\">{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.noTitle && $ctrl.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{ ::$ctrl.hint | translate }}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"$ctrl.optionIndex\" index=\"{{ $ctrl.optionIndex }}\" pip-select=\"$ctrl.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == $ctrl.selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"$ctrl.onKeyUp($event, $index)\" ng-repeat=\"option in $ctrl.options\"><div class=\"pip-content content-stretch\" ng-click=\"$ctrl.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{ ::option.title | translate }}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{ ::option.subtitle | translate }}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"$ctrl.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!$ctrl.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::$ctrl.cancel | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\" style=\"margin-right: -6px\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","import { ActionsConfig } from './IActionsService';\r\nimport { ActionItem } from './IActionsService';\r\nimport { ActionsChangedEvent } from './IActionsService';\r\nimport { SecondaryActionsOpenEvent } from './IActionsService';\r\nimport { IActionsService } from './IActionsService';\r\nimport { IActionsProvider } from './IActionsService';\r\n\r\n\r\nclass ActionsService implements IActionsService {\r\n    private _config: ActionsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: ActionsConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\r\n        this._config.primaryLocalActions = primaryActions || [];\r\n        this._config.secondaryLocalActions = secondaryActions || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.primaryLocalActions = [];\r\n        this._config.secondaryLocalActions = [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(action: string, count: number) {\r\n        if (action == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\r\n    }\r\n\r\n    public openMenuEvent(): void {\r\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\r\n    }\r\n}\r\n\r\nclass ActionsProvider implements IActionsProvider {\r\n    private _config: ActionsConfig = new ActionsConfig();\r\n    private _service: ActionsService;\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ActionsConfig) {\r\n        this._config = value || new ActionsConfig();\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ActionsService(this._config, $rootScope);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipActions')\r\n    .provider('pipActions', ActionsProvider);\r\n\r\n","export const ActionsChangedEvent: string = 'pipActionsChanged';\r\nexport const SecondaryActionsOpenEvent: string = 'pipSecondaryActionsOpen';\r\n\r\nexport class SimpleActionItem {\r\n    // Name to refer to the item\r\n    public name: string;\r\n    // Link visible title\r\n    public title?: string;\r\n    // Show divider instead of title\r\n    public divider?: boolean;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Counter badge\r\n    public count?: number;\r\n    // Access function\r\n    public access?: (action: SimpleActionItem) => boolean;\r\n    // Show on specified breakpoints\r\n    public breakpoints?: string[];\r\n    // window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public click?: (action: SimpleActionItem) => void;\r\n}\r\n\r\nexport class ActionItem extends SimpleActionItem {\r\n    public subActions?: SimpleActionItem[];\r\n}\r\n\r\nexport class ActionsConfig {\r\n    // Primary global actions visible on the screen\r\n    public primaryGlobalActions: ActionItem[] = [];\r\n    // Primary local actions visible on the screen\r\n    public primaryLocalActions: ActionItem[] = [];\r\n\r\n    // Secondary global actions available in popup\r\n    public secondaryGlobalActions: ActionItem[] = [];\r\n    // Secondary local actions available in popup\r\n    public secondaryLocalActions: ActionItem[]= [];\r\n}\r\n\r\nexport interface IActionsService {\r\n    readonly config: ActionsConfig;\r\n\r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n\r\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\r\n    hide(): void;\r\n    updateCount(link: string, count: number): void; \r\n    clearCounts(): void;\r\n    openMenuEvent(): void;\r\n}\r\n\r\nexport interface IActionsProvider extends ng.IServiceProvider {\r\n    config: ActionsConfig;\r\n    \r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n}","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass PrimaryActionsController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public config: ActionsConfig;\r\n\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n    public originatorEv: any;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $log: ng.ILogService,\r\n        $attrs: ng.IAttributes\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                DOCUMENTS_ATTACHED: 'document(s) attached',\r\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                DOCUMENTS_ATTACHED: ' ',\r\n                ERROR_DOCUMENTS_LOADED: ': <%= error_number %> ()  '\r\n\r\n            });\r\n        }\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-primary-actions');\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n    }\r\n    \r\n    public $onInit() {\r\n        if (this.localActions) {\r\n            this.pipActions.primaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            this.pipActions.primaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = this.pipActions.config;\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null ;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface IPrimaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any,\r\n    originatorEv: any\r\n}\r\n\r\nconst PrimaryActionsBindings: IPrimaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions',\r\n    originatorEv: '<?pipOriginatorEv'\r\n}\r\n\r\nclass PrimaryActionsChanges implements ng.IOnChangesObject, IPrimaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n    originatorEv: ng.IChangesObject<any>;\r\n}\r\n\r\n\r\n(() => {\r\n    const primaryActions: ng.IComponentOptions = {\r\n        bindings: PrimaryActionsBindings,\r\n        templateUrl: 'actions/PrimaryActions.html',\r\n        controller: PrimaryActionsController\r\n    };\r\n\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipPrimaryActions', primaryActions);\r\n\r\n})();","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass SecondaryActionsController {\r\n    private pipTranslate: pip.services.ITranslateService\r\n    private _menuFn: Function;\r\n    private originatorEv: any;\r\n\r\n    public config: ActionsConfig;\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n\r\n    constructor(\r\n        private $attrs: ng.IAttributes,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $element: ng.IAugmentedJQuery,\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-secondary-actions');\r\n\r\n        if (this.localActions) {\r\n            pipActions.secondaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            pipActions.secondaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = pipActions.config;\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n        this.$rootScope.$on('pipSecondaryActionsOpen', () => {\r\n            this.onActionsMenuOpen();\r\n        });\r\n\r\n    }\r\n\r\n    public getMenu(menuFn: Function): void {\r\n         this._menuFn = menuFn;\r\n    }\r\n\r\n    public onActionsMenuOpen(): void {\r\n        this._menuFn();\r\n    }\r\n\r\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\r\n        this.originatorEv = ev;\r\n        $mdOpenMenu(ev);\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n\r\n    private calcActions(actions: ActionItem[]): number {\r\n        let count: number = 0;\r\n\r\n        _.each(actions, (action: ActionItem) => {\r\n            if (!this.isHidden(action)) {\r\n                count++;\r\n            }\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    public secondaryActionsVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public secondaryDividerVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        // todo: do not supported into ActionItem\r\n        // if (action.close) {\r\n        //     this.$scope.originatorEv = null;\r\n        // }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface ISecondaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any\r\n}\r\n\r\nconst SecondaryActionsBindings: ISecondaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions'\r\n}\r\n\r\nclass SecondaryActionsChanges implements ng.IOnChangesObject, ISecondaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n}\r\n\r\n\r\n(() => {\r\n    const secondaryActions: ng.IComponentOptions = {\r\n        bindings: SecondaryActionsBindings,\r\n        templateUrl: 'actions/SecondaryActions.html',\r\n        controller: SecondaryActionsController\r\n    };\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipSecondaryActions', secondaryActions);\r\n\r\n})();\r\n","angular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\r\n\r\nimport './ActionsService';\r\nimport './PrimaryActions';\r\nimport './SecondaryActions';\r\n\r\nexport * from './IActionsService';","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarController {\r\n    public config: AppBarConfig;\r\n\r\n    constructor(\r\n        $element: ng.IAugmentedJQuery,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n        // Apply class and call resize\r\n        $element.addClass('pip-appbar');\r\n        $element.addClass('color-primary-bg');\r\n\r\n        this.config = pipAppBar.config;\r\n\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(event, config)\r\n        });\r\n    }\r\n\r\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        this.config = config;\r\n    }\r\n    \r\n}\r\n\r\n{\r\n    const appbar: ng.IComponentOptions = {\r\n        transclude: true,\r\n        templateUrl: 'appbar/AppBar.html',\r\n        controller: AppBarController\r\n    }\r\n\r\n    angular\r\n        .module('pipAppBar')\r\n        .component('pipAppbar', appbar);\r\n\r\n}","export class AppBarConfig {\r\n    visible: boolean;\r\n    parts: any;\r\n    classes: string[];\r\n} ","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarPartController {\r\n    \r\n    private _partName: string;\r\n    private _partValue: string;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $log: ng.ILogService,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._partName = String($attrs['pipAppbarPart']);\r\n        this._partValue = null;\r\n\r\n        // Break part apart\r\n        let pos: number = this._partName.indexOf(':');\r\n        if (pos > 0) {\r\n            this._partValue = this._partName.substr(pos + 1);\r\n            this._partName = this._partName.substr(0, pos);\r\n        }\r\n\r\n        this.onAppBarChanged(null, pipAppBar.config);\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(null, config)\r\n        });\r\n\r\n    }\r\n\r\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        let parts: any = config.parts || {};\r\n        let currentPartValue = parts[this._partName];\r\n\r\n        // Set visible variable to switch ngIf\r\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\r\n\r\n        if (visible != this.$scope['visible'])\r\n            this.$scope['visible'] = visible;\r\n    }\r\n\r\n}\r\n\r\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n(() => {\r\n    function appbarPart(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs['ngIf'] = () => {\r\n                    return $scope['visible'];\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: AppBarPartController\r\n        };\r\n    }\r\n\r\n    angular.module('pipAppBar')\r\n        .directive('pipAppbarPart', appbarPart);\r\n\r\n})();","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService, IAppBarProvider } from './IAppBarService';\r\n\r\nexport const AppBarChangedEvent: string = 'pipAppBarChanged';\r\n\r\nclass AppBarService implements IAppBarService {\r\n    private _config: AppBarConfig;\r\n\r\n    public constructor(config: AppBarConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\r\n        this._config.visible = true;\r\n        this._config.parts = parts || this._config.parts || {};\r\n        this._config.classes = classes || this._config.classes || [];\r\n        if (shadowBreakpoints) {\r\n            this.setShadow(shadowBreakpoints); \r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private hideShadow(): void {\r\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\r\n    }\r\n\r\n    private setShadow(breakpoints: string[]): void {\r\n        this.hideShadow();\r\n\r\n        if (breakpoints != null && breakpoints.length > 0) {\r\n            _.each(breakpoints, (bp) => {\r\n                this._config.classes.push('pip-shadow-' + bp);\r\n            });\r\n        } else {\r\n            this._config.classes.push('pip-shadow');\r\n        }\r\n    }\r\n\r\n    public addShadow(...breakpoints: string[]): void {\r\n        this.setShadow(breakpoints);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeShadow(): void {\r\n        this.hideShadow();\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(AppBarChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AppBarProvider implements IAppBarProvider {\r\n    private _config: AppBarConfig = {\r\n        visible: true,\r\n        parts: {},\r\n        classes: []\r\n    };\r\n    private _service: AppBarService;\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AppBarConfig) {\r\n        this._config = value || new AppBarConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AppBarService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nangular\r\n    .module('pipAppBar')\r\n    .provider('pipAppBar', AppBarProvider);\r\n","angular\r\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './AppBarConfig';\r\nimport './AppBarService';\r\nimport './AppBar';\r\nimport './AppBarPart';\r\n\r\nexport * from './AppBarService';\r\n","import { SimpleActionItem } from '../actions/IActionsService';\r\nimport { BreadcrumbItem } from './BreadcrumbConfig';\r\nimport { BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService } from './IBreadcrumbService';\r\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\r\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\r\nimport { OpenSearchEvent } from '../search/SearchService';\r\n\r\n// interface IBreadcrumbBindings {\r\n//     [key: string]: any;\r\n\r\n//     breakpoint: any;\r\n// }\r\n\r\n// const BreadcrumbBindings: IBreadcrumbBindings = {\r\n//     breakpoint: '<?pipBreakpoint', // string\r\n// }\r\n\r\n// class BreadcrumbChanges implements ng.IOnChangesObject, IBreadcrumbBindings {\r\n//     [key: string]: ng.IChangesObject<any>;\r\n//     // Not one way bindings\r\n//     breakpoint: ng.IChangesObject<string>;\r\n// }\r\n\r\nclass BreadcrumbController {\r\n    private originatorEv: Event;\r\n    private _media: any;\r\n\r\n    public config: BreadcrumbConfig;\r\n    // public breakpoint: string;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private $injector: ng.auto.IInjectorService,\r\n        pipBreadcrumb: IBreadcrumbService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $state: ng.ui.IStateService,\r\n        $element: ng.IAugmentedJQuery,\r\n        private navConstant: any\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\r\n            this.onBreadcrumbChanged(event, config);\r\n        });\r\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\r\n\r\n        if (!this.config.breakpoint) {\r\n            this.config.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n        }\r\n    }\r\n\r\n    // public $onChanges(changes: BreadcrumbChanges) {\r\n\r\n    //     if (!changes.breakpoint) {\r\n    //         if (!this.breakpoint) {\r\n    //             this.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n    //         }\r\n    //     } else {\r\n    //         this.breakpoint = changes.breakpoint.currentValue ? changes.breakpoint.currentValue : this.navConstant.BREADCRUMB_BREAKPOINT\r\n    //     }\r\n    // }\r\n\r\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack(): void {\r\n        let items: BreadcrumbItem[] = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let item: BreadcrumbItem = items[items.length - 1];\r\n            if (_.isFunction(item.click)) {\r\n                item.click(item);\r\n            } else {\r\n                this.$window.history.back();\r\n            }\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n    }\r\n\r\n    public onClick(item: BreadcrumbItem): void {\r\n        if (_.isFunction(item.click)) {\r\n            item.click(item);\r\n        }\r\n    }\r\n\r\n    public openSearch(): void {\r\n        this.$rootScope.$broadcast(OpenSearchEvent);\r\n    }\r\n\r\n    public actionsVisible(item: BreadcrumbItem): boolean {\r\n\r\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\r\n    }\r\n\r\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\r\n        this.originatorEv = event;\r\n        $mdOpenMenu(this.originatorEv);\r\n    }\r\n\r\n    public onSubActionClick(action: SimpleActionItem): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.get('$state') as ng.ui.IStateService\r\n                _state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n            this.originatorEv = null;\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n            this.originatorEv = null;\r\n        }\r\n    }\r\n}\r\n\r\nconst breadcrumb: ng.IComponentOptions = {\r\n    // bindings: BreadcrumbBindings,\r\n    templateUrl: 'breadcrumb/Breadcrumb.html',\r\n    controller: BreadcrumbController\r\n}\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .component('pipBreadcrumb', breadcrumb);","import { SimpleActionItem } from '../actions/IActionsService';\r\nexport class BreadcrumbItem {\r\n    title: string = null;\r\n    click?: (item: BreadcrumbItem) => void = null;   \r\n    subActions?: SimpleActionItem[] = null; \r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n    breakpoint: string;\r\n}\r\n","import { BreadcrumbItem, BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService, IBreadcrumbProvider } from './IBreadcrumbService';\r\n\r\nexport const BreadcrumbChangedEvent: string = \"pipBreadcrumbChanged\";\r\nexport const BreadcrumbBackEvent: string = \"pipBreadcrumbBack\";\r\n\r\nclass BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        config: BreadcrumbConfig\r\n    ) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get breakpoint(): string {\r\n        return this._config.breakpoint;\r\n    }\r\n\r\n    public set breakpoint(value: string) {\r\n        this._config.breakpoint = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showText(text: string, criteria?: string): void {\r\n        this._config.text = text;\r\n        this._config.items = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\r\n        this._config.items = items || [];\r\n        this._config.text = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public sendConfigEvent() {\r\n        this.$rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\n\r\nclass BreadcrumbProvider implements IBreadcrumbProvider, ng.IServiceProvider {\r\n    private _config: BreadcrumbConfig = new BreadcrumbConfig();\r\n    private _service: BreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): IBreadcrumbService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService($rootScope, this._config);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .provider('pipBreadcrumb', BreadcrumbProvider);\r\n","angular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\r\n\r\nimport './Breadcrumb';\r\nimport './BreadcrumbService';\r\n\r\nexport * from './BreadcrumbService';\r\n\r\n\r\n","import { INavService } from './INavService'\r\nimport { INavIconService } from '../icon/INavIconService';\r\nimport { INavMenuService } from '../menu/INavMenuService';\r\nimport { INavHeaderService } from '../header/INavHeaderService';\r\nimport { IBreadcrumbService } from '../breadcrumb/IBreadcrumbService';\r\nimport { ISearchService } from '../search/ISearchService';\r\nimport { IActionsService } from '../actions/IActionsService';\r\nimport { IAppBarService } from '../appbar/IAppBarService';\r\nimport { ISideNavService } from '../sidenav/ISideNavService';\r\n\r\nclass NavService implements INavService {\r\n\r\n    public appbar: IAppBarService;\r\n    public icon: INavIconService;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: IActionsService;\r\n    public search: ISearchService;\r\n    public sidenav: ISideNavService;\r\n    public header: INavHeaderService;\r\n    public menu: INavMenuService;\r\n\r\n    public constructor($injector: ng.auto.IInjectorService) {\r\n        \"ngInject\";\r\n\r\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\r\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\r\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\r\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\r\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\r\n    }\r\n\r\n    public reset() {\r\n        // Reset appbar\r\n        if (this.appbar) {\r\n            this.appbar.show();\r\n        }\r\n\r\n        // Reset icon\r\n        if (this.icon) {\r\n            this.icon.showMenu();\r\n        }\r\n\r\n        // Reset breadcrumb\r\n        if (this.breadcrumb) {\r\n            this.breadcrumb.showText(null);\r\n        }\r\n\r\n        // Reset actions\r\n        if (this.actions) {\r\n            this.actions.show();\r\n        }\r\n\r\n        // Reset search\r\n        if (this.search) {\r\n            this.search.set(null);\r\n        }\r\n\r\n        if (this.sidenav) {\r\n            this.sidenav.show();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavService', [])\r\n    .service('pipNavService', NavService);","{\r\n    class DropdownController {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n\r\n        public themeClass: string;\r\n        public media: any;\r\n        public actions: any[]; // string or array\r\n        public activeIndex: number;\r\n        public selectedIndex: number;\r\n        public currentTheme: string;\r\n\r\n        public ngDisabled: Function;\r\n        public showDropdown: Function;\r\n        public select: any;\r\n        public pipChange: Function;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            $element: ng.IAugmentedJQuery,\r\n            $attrs: ng.IAttributes,\r\n            $injector: ng.auto.IInjectorService,\r\n            $log: ng.ILogService,\r\n            $rootScope: ng.IRootScopeService,\r\n            $mdMedia: angular.material.IMedia,\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\r\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if ($rootScope['$theme']) {\r\n                this.currentTheme = $rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = ($attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\r\n\r\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n            this.media = !_.isUndefined(this._pipMedia) ? this._pipMedia : $mdMedia;\r\n            this.actions = (this.actions && _.isArray(this.actions)) ? this.actions : [];\r\n            this.activeIndex = this.activeIndex || 0;\r\n        }\r\n\r\n        public disabled(): boolean {\r\n            if (this.ngDisabled) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public onSelect(index: number): void {\r\n            this.activeIndex = index;\r\n            if (this.select) {\r\n                this.select(this.actions[index], this.activeIndex);\r\n            }\r\n\r\n            if (this.pipChange) {\r\n                this.$timeout(() => {\r\n                    this.pipChange();\r\n                });\r\n            }\r\n        }\r\n\r\n        public show(): boolean {\r\n            let result: boolean;\r\n            if (this.showDropdown()) {\r\n                return !!this.showDropdown();\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    interface IDropdownBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any,\r\n        actions: any,\r\n        showDropdown: any,\r\n        activeIndex: any,\r\n        select: any,\r\n        pipChange: any\r\n    }\r\n\r\n    const DropdownBindings: IDropdownBindings = {\r\n        ngDisabled: '&',\r\n        actions: '=pipActions',\r\n        showDropdown: '&pipShow',\r\n        activeIndex: '=pipActiveIndex',\r\n        select: '=pipDropdownSelect',\r\n        pipChange: '&'\r\n    }\r\n\r\n    class DropdownChanges implements ng.IOnChangesObject, IDropdownBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        ngDisabled: ng.IChangesObject<Function>;\r\n        actions: ng.IChangesObject<any>;\r\n        showDropdown: ng.IChangesObject<Function>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<any>;\r\n        pipChange: ng.IChangesObject<Function>;\r\n    }\r\n\r\n    const dropdown: ng.IComponentOptions = {\r\n        bindings: DropdownBindings,\r\n        templateUrl: 'dropdown/Dropdown.html',\r\n        controller: DropdownController\r\n    };\r\n\r\n    angular\r\n        .module('pipDropdown', ['pipNav.Templates'])\r\n        .component('pipDropdown', dropdown);\r\n\r\n}","import { INavHeaderService } from \"./INavHeaderService\";\r\nimport { NavHeaderConfig } from \"./NavHeaderConfig\";\r\n\r\n{\r\n    class NavHeaderController {\r\n        private cleanupNavHeaderChanged: Function;\r\n        private cleanupSideNavStateChanged: Function;\r\n\r\n        public title: string;\r\n        public subtitle: string;\r\n        public imageUrl: string = null;\r\n        public imageCss: string;\r\n        public image: any;\r\n        public imageBlock: any;\r\n        public loadedDefaultImage: boolean;\r\n        public showHeader: boolean;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $scope: angular.IScope,\r\n            $log: ng.ILogService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipNavHeader: INavHeaderService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            this.initImage();\r\n\r\n            this.cleanupNavHeaderChanged = $rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\r\n                this.onNavHeaderChanged($event, config)\r\n            });\r\n            this.cleanupSideNavStateChanged = $rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n        }\r\n\r\n        public $onDestroy() {\r\n\r\n            if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n                this.cleanupNavHeaderChanged();\r\n            }\r\n            if (angular.isFunction(this.cleanupSideNavStateChanged)) {\r\n                this.cleanupSideNavStateChanged();\r\n            }\r\n        }\r\n\r\n        private initImage() {\r\n            this.imageBlock = this.$element.find('.pip-sticky-nav-header-user');\r\n\r\n            this.$timeout(() => {\r\n                this.image = this.$element.find('.pip-sticky-nav-header-user-image');\r\n\r\n                if (this.image[0]) {\r\n                    this.image[0].onload = (() => this.onImageLoad());\r\n\r\n                    // ($event: HTMLElement, erroev: Event): any =>  {\r\n                    //     this.onImageLoad($event);\r\n                    //     return null;\r\n                    // }\r\n                    this.image[0].onerror = (() => this.onImageError());\r\n                    // ($event: ng.IAngularEvent) => {\r\n                    //     this.onImageError($event);\r\n                    // }\r\n                } else {\r\n                    this.image.onload = (() => this.onImageLoad());\r\n                    this.image.onerror = (() => this.onImageError());\r\n                }\r\n\r\n                this.onNavHeaderChanged(null, this.pipNavHeader.config);\r\n            }, 20);\r\n        }\r\n\r\n        private initHeader() {\r\n            if (!this.pipNavHeader.config) return;\r\n\r\n            this.title = this.pipNavHeader.config.title;\r\n            this.subtitle = this.pipNavHeader.config.subtitle;\r\n            this.imageUrl = this.pipNavHeader.config.imageUrl;\r\n            this.imageCss = this.pipNavHeader.config.imageCss;\r\n        }\r\n\r\n        // // When image is loaded resize/reposition it\r\n        // private onImageLoad($event) {\r\n        //     let image: ng.IAugmentedJQuery = $($event.target);\r\n        //     this.setImageMarginCSS(image);\r\n        // };\r\n\r\n        // private onImageError($event) {\r\n        //     if (this.loadedDefaultImage) return;\r\n        //     this.$scope.$apply(() => {\r\n        //         this.setImage(this.pipNavHeader.config, true);\r\n        //     });\r\n        // };\r\n        // When image is loaded resize/reposition it\r\n        private onImageLoad() {\r\n            this.setImageMarginCSS(this.image);\r\n        };\r\n\r\n        private onImageError() {\r\n            if (this.loadedDefaultImage) return;\r\n            this.$scope.$apply(() => {\r\n                this.setImage(this.pipNavHeader.config, true);\r\n            });\r\n        };\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\r\n            if (state === undefined) return;\r\n\r\n            if (state.id == 'toggle') {\r\n                this.$timeout(() => {\r\n                    this.showHeader = state && state.id == 'toggle';\r\n                }, 400);\r\n            } else {\r\n                this.showHeader = false;\r\n            }\r\n        }\r\n\r\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\r\n            var cssParams = {},\r\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\r\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\r\n                imageWidth = image[0]['naturalWidth'] || image.width,\r\n                imageHeight = image[0]['naturalHeight'] || image.height,\r\n                margin = 0;\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\r\n                cssParams['width'] = '' + containerWidth + 'px';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            image.css(cssParams);\r\n        };\r\n\r\n        private setImage(config, loadError: boolean) {\r\n            if (!config) return;\r\n\r\n            let url: string;\r\n\r\n            if (!loadError && !!config.imageUrl) {\r\n                url = config.imageUrl;\r\n            } else {\r\n                this.loadedDefaultImage = true;\r\n                url = config.defaultImageUrl;\r\n            }\r\n\r\n            if (url && this.image) {\r\n                this.image.attr('src', url);\r\n            } else {\r\n                this.imageBlock.css(\"display\", \"none\");\r\n            }\r\n        }\r\n\r\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\r\n            if (!config) return;\r\n\r\n            this.title = config.title;\r\n            this.subtitle = config.subtitle;\r\n            this.imageUrl = config.imageUrl;\r\n            this.imageCss = config.imageCss;\r\n\r\n            this.setImage(config, false)\r\n        }\r\n\r\n        public onUserClick() {\r\n            this.$rootScope.$broadcast('pipNavUserClicked'); // todo\r\n        }\r\n\r\n    }\r\n\r\n    const navHeader: ng.IComponentOptions = {\r\n        templateUrl: 'header/NavHeader.html',\r\n        controller: NavHeaderController\r\n    };\r\n\r\n    angular\r\n        .module('pipNavHeader')\r\n        .component('pipNavHeader', navHeader);\r\n\r\n}","export class NavHeaderConfig {\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Image url\r\n    public defaultImageUrl: string;\r\n    // Title\r\n    public title: string;\r\n    // Subtitle\r\n    public subtitle: string;\r\n    // image styles\r\n    public imageCss: string;\r\n    // Handle header click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavHeaderConfig } from \"./NavHeaderConfig\";\r\nimport { INavHeaderService, INavHeaderProvider } from \"./INavHeaderService\";\r\n\r\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\r\n\r\nclass NavHeaderService implements INavHeaderService {\r\n    private _config: NavHeaderConfig;\r\n\r\n    public constructor(config: NavHeaderConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(NavHeaderChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavHeaderProvider implements INavHeaderProvider {\r\n    private _config: NavHeaderConfig = new NavHeaderConfig();\r\n    private _service: NavHeaderService;\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavHeaderConfig) {\r\n        this._config = value || new NavHeaderConfig();\r\n    }\r\n\r\n    public get defaultImageUrl(): string {\r\n        return this._config.defaultImageUrl;\r\n    }\r\n\r\n    public set defaultImageUrl(value: string) {\r\n        this._config.defaultImageUrl = value;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n    }\r\n\r\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavHeaderService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavHeader')\r\n    .provider('pipNavHeader', NavHeaderProvider);\r\n","angular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './NavHeaderService';\r\nimport './NavHeader';\r\n\r\nexport * from './NavHeaderService';","import { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService } from './INavIconService';\r\nimport { NavIconClickedEvent, NavIconChangedEvent } from './NavIconService';\r\n\r\ninterface INavIconBindings {\r\n    [key: string]: any;\r\n\r\n    type: any;\r\n    imageUrl: any;\r\n    icon: any;\r\n}\r\n\r\nconst NavIconBindings: INavIconBindings = {\r\n    type: '<?pipType',\r\n    imageUrl: '<?pipImageUrl',\r\n    icon: '<?pipIcon'\r\n}\r\n\r\nclass NavIconChanges implements ng.IOnChangesObject, INavIconBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n    // Not one way bindings\r\n\r\n    type: ng.IChangesObject<string>;\r\n    imageUrl: ng.IChangesObject<string>;\r\n    icon: ng.IChangesObject<string>;\r\n}\r\n\r\nclass NavIconController implements INavIconBindings {\r\n    private clearFn: Function;\r\n\r\n    public config: NavIconConfig;\r\n    public type: string;\r\n    public imageUrl: string;\r\n    public icon: string;\r\n\r\n    constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        $element: ng.IAugmentedJQuery,\r\n        $scope: angular.IScope,\r\n        $log: ng.ILogService,\r\n        pipNavIcon: INavIconService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-nav-icon');\r\n\r\n        this.config = pipNavIcon.config;\r\n\r\n        this.clearFn = $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\r\n            this.onNavIconChanged(event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onInit() {\r\n        if (this.type) {\r\n            this.config.type = this.type;\r\n        }\r\n        if (this.imageUrl) {\r\n            this.config.imageUrl = this.imageUrl;\r\n        }\r\n        if (this.icon) {\r\n            this.config.icon = this.icon;\r\n        }        \r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    public onNavIconClick(): void {\r\n        if (_.isFunction(this.config.click)) {\r\n            // Execute nav icon callback\r\n            this.config.click();\r\n        } else if (this.config.event) {\r\n            this.$rootScope.$broadcast(this.config.event);\r\n        } else if (this.config.type == 'menu') {\r\n            this.$rootScope.$broadcast(ToggleSideNavEvent);\r\n        } else if (this.config.type == 'back') {\r\n            this.$window.history.back();\r\n        } else {\r\n            this.$rootScope.$broadcast(NavIconClickedEvent);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst NavIcon: ng.IComponentOptions = {\r\n    bindings: NavIconBindings,\r\n    templateUrl: 'icon/NavIcon.html',\r\n    controller: NavIconController\r\n}\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .component('pipNavIcon', NavIcon);\r\n","export class NavIconConfig {\r\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n    public type: string;\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Icon name\r\n    public icon: string;\r\n    // Handle nav icon click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService, INavIconProvider } from './INavIconService';\r\n\r\nexport const NavIconClickedEvent: string = 'pipNavIconClicked';\r\nexport const NavIconChangedEvent: string = 'pipNavIconChanged';\r\n\r\nclass NavIconService implements INavIconService {\r\n    private _config: NavIconConfig;\r\n\r\n    public constructor(config: NavIconConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n            this._config.event = null;\r\n        } else if (_.isString(callbackOrEvent)) {\r\n            this._config.click = null;\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public showMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(NavIconChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavIconProvider implements INavIconProvider {\r\n    private _config: NavIconConfig = new NavIconConfig();\r\n    private _service: NavIconService;\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavIconConfig) {\r\n        this._config = value || new NavIconConfig();\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public setMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavIconService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n     \r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .provider('pipNavIcon', NavIconProvider);\r\n","angular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavIconConfig';\r\nimport './INavIconService';\r\nimport './NavIconService';\r\nimport './NavIcon';\r\n\r\n\r\nexport * from './NavIconConfig';\r\nexport * from './INavIconService';\r\nexport * from './NavIconService';\r\n","{\r\n    class LanguagePickerDirectiveController implements ILanguagePickerBindings {\r\n        private _translate: pip.services.ITranslateService;\r\n        public languages: string[];\r\n        public value: string;\r\n\r\n        public constructor(\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            $rootScope: ng.IRootScopeService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.setLanguages(this.languages);\r\n            this.value = this.value || this.languages[0];\r\n        }\r\n\r\n        public $onChanges(changes: LanguagePickerChanges) {\r\n            if (this.value != changes.value.previousValue) {\r\n            }\r\n        }\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(languages: string[]): void {\r\n            this.languages = languages && languages.length > 0 ? languages : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language: string) {\r\n            if (this._translate != null) {\r\n                this.value = language;\r\n                this._translate.language = this.value;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    interface ILanguagePickerBindings {\r\n        [key: string]: any;\r\n\r\n        languages: any,\r\n        value: any\r\n    }\r\n\r\n    const LanguagePickerBindings: ILanguagePickerBindings = {\r\n        languages: '<?languages',\r\n        value: '<?value'\r\n    }\r\n\r\n    class LanguagePickerChanges implements ng.IOnChangesObject, ILanguagePickerBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n\r\n        languages: ng.IChangesObject<string[]>;\r\n        value: ng.IChangesObject<string>;\r\n    }\r\n\r\n    const languagePickerDirective: ng.IComponentOptions = {\r\n        bindings: LanguagePickerBindings,\r\n        templateUrl: 'language/LanguagePicker.html',\r\n        controller: LanguagePickerDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .component('pipLanguagePicker', languagePickerDirective);\r\n\r\n}","import { ISideNavService} from '../sidenav/ISideNavService';\r\nimport { INavMenuService} from './INavMenuService';\r\nimport { SideNavStateNames, SideNavState, SideNavConfig } from '../sidenav/SideNavState';\r\nimport { NavMenuConfig, NavMenuSection, NavMenuLink } from './NavMenuConfig';\r\n\r\n(() => {\r\n    class NavMenuController {\r\n        private _state: angular.ui.IStateService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n        private _animationDuration;\r\n        private _pipSideNavElement: ng.IAugmentedJQuery;\r\n\r\n        public sections: NavMenuSection[];\r\n        public defaultIcon: string;\r\n        public isCollapsed: boolean;\r\n        public expanded: boolean = null;\r\n        public expandedButton: boolean;\r\n        public sideNavState: SideNavState;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $window: ng.IWindowService,\r\n            private $location: ng.ILocationService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipSideNav: ISideNavService,\r\n            private pipNavMenu: INavMenuService,\r\n\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._state = $injector.has('$state') ? <angular.ui.IStateService>$injector.get('$state') : null;\r\n\r\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\r\n                this._pipSideNavElement = $element.parents('pip-sidenav');///$element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n\r\n            this.sections = this.$scope['sections'] || this.pipNavMenu.sections;\r\n\r\n            this.setCollapsible();\r\n\r\n            this.defaultIcon = this.pipNavMenu.defaultIcon;\r\n\r\n            this.onStateChanged(null, this.pipSideNav.state);\r\n\r\n            let cleanupNavMenuChanged: Function = this.$rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\r\n                this.onConfigChanged($event, config)\r\n            });\r\n            let cleanupSideNavStateChanged: Function = this.$rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                if (angular.isFunction(cleanupNavMenuChanged)) {\r\n                    cleanupNavMenuChanged();\r\n                }\r\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\r\n                    cleanupSideNavStateChanged();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private setCollapsible(): void {\r\n            var collapsed: boolean;\r\n            if (angular.isFunction(this.$scope['collapsed'])) {\r\n                collapsed = this.$scope['collapsed']();\r\n            } else {\r\n                collapsed = this.$scope['collapsed'] !== false && this.$scope['collapsed'] !== 'false';\r\n            }\r\n\r\n            this.isCollapsed = collapsed;\r\n        }\r\n\r\n        public onExpand(): void {\r\n            if (!this.isCollapsed) { return }\r\n\r\n            this.expanded = !this.expanded;\r\n\r\n            if (this.expanded) {\r\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\r\n            } else {\r\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\r\n            }\r\n            this.$rootScope.$emit('pipNavExpanded', this.expanded);\r\n        }\r\n\r\n        public isHidden(item: NavMenuLink): boolean {\r\n            return item && item.access && !item.access(item);\r\n        }\r\n\r\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\r\n            var result = true;\r\n            _.each(linkCollection, (link: NavMenuLink) => {\r\n                if (!this.isHidden(link)) {\r\n                    result = false;\r\n                }\r\n            });\r\n\r\n            return result;\r\n        }\r\n\r\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\r\n            if (!config) return;\r\n            this.sections = config.sections;\r\n        }\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\r\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\r\n            if (!state) return;\r\n\r\n            this.isCollapsed = state.expand;\r\n            if (!state.expandedButton || this.expanded == null) this.expanded = state.isExpanded;\r\n            this.expandedButton = state.expandedButton;\r\n\r\n            this.sideNavState = state;\r\n        }\r\n\r\n        public isActive(link: NavMenuLink): boolean {\r\n            if (link.parentState) {\r\n\r\n                if (this._state != null && this._state.includes(link.parentState)) {\r\n                    return true;\r\n                }\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.includes(link.state)) {\r\n                    return true;\r\n                }\r\n            } else if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    return true;\r\n                }\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\r\n            event.stopPropagation();\r\n\r\n            if (!link) {\r\n                this.pipSideNav.close();\r\n\r\n                return;\r\n            }\r\n\r\n            if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$window.location.href = link.href;\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    this.pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$location.url(link.url);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.current.name === link.state) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this._state.go(link.state, link.stateParams);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.event) {\r\n                this.$rootScope.$broadcast(link.event, link);\r\n            }\r\n\r\n            this.pipSideNav.close();\r\n        }\r\n    }\r\n\r\n    interface INavMenuBindings {\r\n        [key: string]: any;\r\n        sections: any,\r\n        collapsed: any\r\n    }\r\n\r\n    const NavMenuBindings: INavMenuBindings = {\r\n        sections: '=?pipSections',\r\n        collapsed: '=?pipCollapsed'\r\n    };\r\n\r\n    function navMenuDirective() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: NavMenuBindings,\r\n            replace: false,\r\n            templateUrl: 'menu/NavMenu.html',\r\n            controller: NavMenuController,\r\n            controllerAs: '$ctrl'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipNavMenu')\r\n        .directive('pipNavMenu', navMenuDirective);\r\n\r\n})();","import { NavMenuConfig, NavMenuSection } from './NavMenuConfig';\r\nimport { INavMenuService, INavMenuProvider } from './INavMenuService';\r\n\r\nexport const NavMenuChangedEvent = 'pipNavMenuChanged';\r\n\r\nclass NavMenuService implements INavMenuService {\r\n    private _config: NavMenuConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: NavMenuConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public updateBadgeStyle(link: string, style: string): void {\r\n        if (link == null || !_.isString(style)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.badgeStyle = style;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(link: string, count: number): void {\r\n        if (link == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.count = count;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                l.count = null;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavMenuProvider implements INavMenuProvider {\r\n    private _config: NavMenuConfig = {\r\n        sections: [],\r\n        defaultIcon: 'icons:folder'\r\n    };\r\n    private _service: NavMenuService;\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavMenuService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavMenu')\r\n    .provider('pipNavMenu', NavMenuProvider);\r\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavMenuService';\r\nimport './NavMenu';","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchService } from './ISearchService';\r\nimport { OpenSearchEvent, CloseSearchEvent, SearchChangedEvent, SearchActivatedEvent } from './SearchService';\r\n\r\nclass SearchBarController {\r\n    private clearFn: Function;\r\n\r\n    public config: SearchConfig;\r\n    public enabled: boolean = false;\r\n    public search: any = { text: '' };\r\n\r\n    public constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $rootScope: ng.IRootScopeService,\r\n        pipSearch: ISearchService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-search-bar');\r\n\r\n        this.config = pipSearch.config;\r\n        this.stateChange();\r\n        this.clearFn = $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\r\n            this.onSearchChanged(event, config);\r\n        });\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    private stateChange(): void {\r\n        if (this.enabled) {\r\n            this.$element.addClass('w-stretch');\r\n            this.$element.parent().addClass('pip-search-active');\r\n\r\n        } else {\r\n            this.$element.removeClass('w-stretch');\r\n            this.$element.parent().removeClass('pip-search-active');\r\n        }\r\n    }\r\n\r\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\r\n        this.config = config;\r\n        this.enabled = false;\r\n        this.search.text = '';\r\n        this.stateChange();\r\n    }\r\n\r\n    private focusText(): void {\r\n        setTimeout(() => {\r\n            let element: JQuery = $('.pip-search-text');\r\n            if (element.length > 0)\r\n                element.focus();\r\n        }, 0);\r\n    }\r\n\r\n    public enable(): void {\r\n        this.search.text = this.config.criteria;\r\n        this.enabled = true;\r\n        this.focusText();\r\n        this.stateChange();\r\n    }\r\n\r\n    public onClick(): void {\r\n        let search = this.search.text;\r\n\r\n        this.search.text = '';\r\n        this.enabled = false;\r\n        this.stateChange();\r\n\r\n        if (this.config.callback) {\r\n            this.config.callback(search);\r\n        } else {\r\n            this.$rootScope.$broadcast(SearchActivatedEvent, search);\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        if (this.search.text) {\r\n            this.search.text = '';\r\n            this.focusText();\r\n        } else {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    public onKeyDown(event: KeyboardEvent): void {\r\n        // Enter pressed\r\n        if (event.keyCode === 13)\r\n            this.onClick();\r\n        // ESC pressed\r\n        else if (event.keyCode === 27) {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n        }\r\n    }\r\n}\r\n\r\nconst SearchBar: ng.IComponentOptions = {\r\n    templateUrl: 'search/SearchBar.html',\r\n    controller: SearchBarController\r\n}\r\n\r\nangular\r\n    .module('pipSearchBar')\r\n    .component('pipSearchBar', SearchBar);\r\n","export class SearchConfig {\r\n    // Search visible\r\n    public visible: boolean;\r\n    // Search criteria\r\n    public criteria: string;\r\n    // Custom search parameters\r\n    public params: any;\r\n    // History for search autocomplete\r\n    public history: string[];\r\n    // Callback for search\r\n    callback: (criteria: string) => void;\r\n}","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchProvider, ISearchService } from './ISearchService';\r\n\r\nexport const OpenSearchEvent = 'pipOpenSearch';\r\nexport const CloseSearchEvent = 'pipCloseSearch';\r\nexport const SearchChangedEvent = 'pipSearchChanged';\r\nexport const SearchActivatedEvent = 'pipSearchActivated';\r\n\r\nclass SearchService implements ISearchService {\r\n    private _config: SearchConfig;\r\n\r\n    public constructor(\r\n        config: SearchConfig,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n\r\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\r\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\r\n    }\r\n\r\n    public get config(): SearchConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get params(): any {\r\n        return this._config.params;\r\n    }\r\n\r\n    public set params(value: any) {\r\n        this._config.params = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get history(): string[] {\r\n        return this._config.history;\r\n    }\r\n\r\n    public set history(value: string[]) {\r\n        this._config.history = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get callback(): (criteria: string) => void {\r\n        return this._config.callback;\r\n    }\r\n\r\n    public set callback(value: (criteria: string) => void) {\r\n        this._config.callback = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\r\n        this._config.callback = callback;\r\n        this._config.criteria = criteria;\r\n        this._config.params = params;\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.callback = null;\r\n        this._config.criteria = null;\r\n        this._config.params = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public open(): void {\r\n        this._config.visible = true;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public close(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._config.visible = !this._config.visible;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent(): void {\r\n        this.$rootScope.$broadcast(SearchChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SearchProvider implements ISearchProvider {\r\n    private _config: SearchConfig = new SearchConfig();\r\n    private _service: SearchService = null;\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SearchService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipSearchBar')\r\n    .provider('pipSearch', SearchProvider);\r\n","angular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './SearchConfig';\r\nimport './ISearchService';\r\nimport './SearchService';\r\nimport './SearchBar';\r\n\r\nexport * from './ISearchService';\r\n","import { ISideNavService } from './ISideNavService';\r\nimport { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { SideNavStateNames, SideNavState, SideNavStateConfig, SideNavConfig } from './SideNavState';\r\n\r\nclass SideNavController implements ISideNavBindings {\r\n    private _pipMedia: pip.layouts.IMediaService;\r\n    private _isResizing: boolean;\r\n    private _animationDuration: number;\r\n    private _mainContainer: string; // todo add  to config\r\n    private _bigWidth: number;\r\n    private _middleWidth: number;\r\n    private _smallWidth: number;\r\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\r\n    private _navState: SideNavStateConfig;\r\n    private cleanupMainResized: Function;\r\n    private cleanupSideNavState: Function;\r\n    private cleanupNavHeaderChanged: Function;\r\n    private cleanupSideNavChanged: Function;\r\n    private windowResize: Function;\r\n\r\n    public sidenavState: SideNavState;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private pipSideNav: ISideNavService,\r\n        navConstant: any\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\r\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\r\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\r\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\r\n        this._isResizing = false;\r\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\r\n        this._navState = new SideNavStateConfig();\r\n        this._mediaBreakpoints = this.setBreakpoints();\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-sticky-sidenav');\r\n\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type != 'popup') {\r\n            this.$timeout(() => {\r\n                this.setSideNaveState()\r\n            }, 100);\r\n\r\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\r\n            this.cleanupMainResized = this.$rootScope.$on('pipMainResized', () => {\r\n                this.windowResize();\r\n            });\r\n            this.cleanupSideNavState = this.$rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\r\n                this.onSideNavState($event, state)\r\n            });\r\n        } else {\r\n            this._isResizing = false;\r\n            this.sidenavState = null;\r\n            this.$timeout(() => {\r\n                if (this.pipSideNav.config.backdrop == false) {\r\n                    this.$element.addClass('pip-sidenav-hide-backdrop');\r\n                } else {\r\n                    this.$element.removeClass('pip-sidenav-hide-backdrop');\r\n                }\r\n                this.setState(SideNavStateNames.Toggle);\r\n            }, 100);\r\n        }\r\n\r\n        this.cleanupNavHeaderChanged = this.$rootScope.$on(ToggleSideNavEvent, () => {\r\n            this.onNavIconClick();\r\n        });\r\n        this.cleanupSideNavChanged = this.$rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\r\n            this.onSideNavChanged($event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n            this.cleanupNavHeaderChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavChanged)) {\r\n            this.cleanupSideNavChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupMainResized)) {\r\n            this.cleanupMainResized();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavState)) {\r\n            this.cleanupSideNavState();\r\n        }\r\n    }\r\n\r\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\r\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\r\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\r\n        } else {\r\n            return this._pipMedia.breakpoints;\r\n        }\r\n    }\r\n\r\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\r\n        if (config && config.visible) {\r\n            this.$element.css('display', 'block');\r\n        } else {\r\n            this.$element.css('display', 'none');\r\n        }\r\n    }\r\n\r\n    private onNavIconClick(): void {\r\n        this.pipSideNav.toggle();\r\n    }\r\n\r\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\r\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\r\n            this.setState(stateName);\r\n        }\r\n    }\r\n\r\n    private setSideNaveState(): void {\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type == 'popup') { return }\r\n\r\n        if (this._isResizing) {\r\n            this.$timeout(() => { this.setSideNaveState() }, this._animationDuration);\r\n\r\n            return;\r\n        }\r\n\r\n        let mainWidth: number = $(this._mainContainer).innerWidth();\r\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\r\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 1 : 0; // add border width\r\n\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.sm) {\r\n            this.setState(SideNavStateNames.Toggle);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.md) {\r\n            this.setState(SideNavStateNames.Small);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.lg) {\r\n            this.setState(SideNavStateNames.Large);\r\n            return;\r\n        }\r\n        this.setState(SideNavStateNames.XLarge);\r\n    }\r\n\r\n    private setState(stateName: SideNavStateNames) {\r\n        if (this._isResizing) return;\r\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\r\n\r\n        if (stateName != SideNavStateNames.Toggle) {\r\n            this.$element.removeClass('sidenav-mobile');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Small) {\r\n            this.$element.removeClass('pip-sticky-nav-small');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.XLarge) {\r\n            this.$element.removeClass('sidenav-desktop');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Large) {\r\n            this.$element.removeClass('sidenav-smalldesktop');\r\n        }\r\n\r\n        this._isResizing = true;\r\n        /*if (stateName == SideNavStateNames.Toggle) {\r\n            this.pipSideNav.close();\r\n        }*/\r\n        this.sidenavState = this._navState[String(stateName)];\r\n        this.$element.addClass(this.sidenavState.addClass);\r\n\r\n        this.pipSideNav.state = this.sidenavState;\r\n\r\n        // check sideNav State\r\n        this.$timeout(() => {\r\n            this.setSideNaveState()\r\n        }, 15);\r\n\r\n        // complete animation\r\n        this.$timeout(() => {\r\n            this._isResizing = false;\r\n        }, this._animationDuration); //animationDuration\r\n\r\n    }\r\n}\r\n\r\n\r\ninterface ISideNavBindings {\r\n    [key: string]: any;\r\n    sidenavState: any;\r\n}\r\n\r\nconst SideNavBindings: ISideNavBindings = {\r\n    sidenavState: '=?'\r\n};\r\n\r\n(() => {\r\n\r\n    const sideNav: ng.IComponentOptions = {\r\n        transclude: true,\r\n        bindings: SideNavBindings,\r\n        templateUrl: 'sidenav/SideNav.html',\r\n        controller: SideNavController\r\n    };\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .component('pipSidenav', sideNav);\r\n\r\n})();","{\r\n\r\n    interface ISideNavPartBindings {\r\n        [key: string]: any;\r\n        visible: any\r\n    }\r\n\r\n    const SideNavPartBindings: ISideNavPartBindings = {\r\n        visible: '=?'\r\n    }\r\n\r\n    class SideNavPartController {\r\n        private partName: string;\r\n        private partValue: string = null;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipSideNav) {\r\n\r\n            this.partName = '' + $attrs['pipSidenavPart'];\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onSideNavChanged(null, pipSideNav.config)\r\n            $rootScope.$on('pipSideNavChanged', (event, config) => { this.onSideNavChanged(event, config) });\r\n        }\r\n\r\n        private onSideNavChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = parts[this.partName];\r\n            let visible: boolean = !!(this.partValue ? currentPartValue == this.partValue : currentPartValue);\r\n\r\n            if (visible != this.$scope['visible'])\r\n                this.$scope['visible'] = visible;\r\n        }\r\n    }\r\n\r\n    function sidenavPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: SideNavPartBindings,\r\n            link: function linkFunction(\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes) {\r\n                $attrs['ngIf'] = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: SideNavPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .directive('pipSidenavPart', sidenavPartDirective);\r\n\r\n}","import { SideNavState, SideNavConfig } from \"./SideNavState\";\r\nimport { ISideNavProvider, ISideNavService } from \"./ISideNavService\";\r\n\r\nexport const SideNavChangedEvent = 'pipSideNavChanged';\r\nexport const SideNavStateChangedEvent = 'pipSideNavStateChanged';\r\nexport const OpenSideNavEvent = 'pipOpenSideNav';\r\nexport const CloseSideNavEvent = 'pipCloseSideNav';\r\nexport const ToggleSideNavEvent = 'pipToggleSideNav';\r\n\r\nclass SideNavService implements ISideNavService {\r\n    private _config: SideNavConfig;\r\n    private _state: any;\r\n\r\n    public constructor(\r\n        config: SideNavConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this.$rootScope.$broadcast(SideNavStateChangedEvent, value);\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public open() {\r\n        this.$mdSidenav('pip-sticky-sidenav').open();\r\n    }\r\n\r\n    public close() {\r\n        this.$mdSidenav('pip-sticky-sidenav').close();\r\n    }\r\n\r\n    public toggle() {\r\n        this.$mdSidenav('pip-sticky-sidenav').toggle();\r\n    }\r\n\r\n    public show() {\r\n        if (!this._config.visible) {\r\n            this._config.visible = true;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        if (this._config.visible) {\r\n            this._config.visible = false;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(SideNavChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SideNavProvider implements ISideNavProvider {\r\n    private _config: SideNavConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'popup',\r\n        backdrop: true,\r\n        state: null,\r\n        visible: true\r\n    };\r\n\r\n    private _service: SideNavService;\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: SideNavConfig) {\r\n        this._config = value || new SideNavConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get visible(): boolean {\r\n        return this._config.visible;\r\n    }\r\n\r\n    public set visible(value: boolean) {\r\n        this._config.visible = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\r\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\r\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipSideNav')\r\n    .provider('pipSideNav', SideNavProvider)\r\n    .run(hookSideNavEvents);\r\n","export class SideNavStateNames {\r\n    static Toggle: string = 'toggle';\r\n    static Small: string = 'small';\r\n    static Large: string = 'large';\r\n    static XLarge: string = 'xlarge';\r\n}\r\n\r\nexport class SideNavState {\r\n    id: SideNavStateNames;\r\n    // Class which added to sidenav in this state\r\n    addClass: string;\r\n    // Side nav always open\r\n    isLockedOpen: boolean;\r\n    // Show SideNav header \r\n    showHeader: boolean;\r\n    // Show expanded button\r\n    expandedButton: boolean;\r\n    // SideNav has expand\r\n    isExpanded: boolean;\r\n    // SideNav is Expanded in this state by default\r\n    expand: boolean;\r\n    // Tooltype is show\r\n    showIconTooltype: boolean;\r\n}\r\n\r\nexport class SideNavStateConfig {\r\n    toggle: SideNavState = { // media(sm, xs)\r\n        id: SideNavStateNames.Toggle,\r\n        addClass: 'sidenav-mobile',\r\n        showHeader: true,\r\n        isLockedOpen: false,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n    small: SideNavState = { // media(md)\r\n        id: SideNavStateNames.Small,\r\n        addClass: 'pip-sticky-nav-small sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: false,\r\n        expand: false,\r\n        showIconTooltype: true\r\n    };\r\n    large: SideNavState = { // media(lg)\r\n        id: SideNavStateNames.Large,\r\n        addClass: 'sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: true,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: true\r\n    };\r\n    xlarge: SideNavState = { // media(xl)\r\n        id: SideNavStateNames.XLarge,\r\n        addClass: 'sidenav-desktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n}\r\n\r\nexport class SideNavConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: SideNavState;\r\n    type: string;\r\n    backdrop: boolean = true;\r\n    visible: boolean;\r\n}","angular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './SideNavState';\r\nimport './SideNavService';\r\nimport './SideNavPart';\r\nimport './SideNav';\r\n\r\nexport * from './SideNavService';","\r\nexport class PipTab {\r\n    id: string;\r\n    name?: string;\r\n    count: number;\r\n    title: string;\r\n}\r\n\r\n{\r\n    interface ITabsBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        tabs: any;\r\n        showTabs: any;\r\n        showTabsShadow: any;\r\n        activeIndex: any;\r\n        select: any;\r\n        breakpoints: any;\r\n        themeClass: any;\r\n    }\r\n\r\n    const TabsBindings: ITabsBindings = {\r\n        ngDisabled: '&?', // function\r\n        tabs: '<pipTabs', // PipTab[]\r\n        showTabs: '&pipShowTabs', // function\r\n        showTabsShadow: '&pipTabsShadow', // function\r\n        activeIndex: '<?pipActiveIndex', // number\r\n        select: '=pipTabsSelect', // function\r\n        breakpoints: '<?pipBreakpoints', // string\r\n        themeClass: '<?themeClass', // string\r\n    }\r\n\r\n    class TabsChanges implements ng.IOnChangesObject, ITabsBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        tabs: ng.IChangesObject<PipTab[]>;\r\n        showTabs: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        showTabsShadow: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        breakpoints: ng.IChangesObject<string>;\r\n        themeClass: ng.IChangesObject<string>;\r\n    }\r\n\r\n    class TabsDirectiveController implements ITabsBindings {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private pipMedia;\r\n        private selectedTabId: string;\r\n\r\n        public ngDisabled: Function;\r\n        public tabs: PipTab[];\r\n        public activeIndex: number;\r\n        public breakpoints: string;\r\n        public showTabs: Function;\r\n        public showTabsShadow: Function;\r\n        public select: Function;\r\n        public themeClass: string;\r\n\r\n        public currentTheme: string;\r\n\r\n        public change: () => ng.IPromise<any>;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $injector: ng.auto.IInjectorService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private navConstant: any,\r\n            $mdMedia: angular.material.IMedia\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.setTheme();\r\n            this.pipMedia = this.$injector.has('pipMedia') ? <pip.layouts.IMediaService>this.$injector.get('pipMedia') : $mdMedia;\r\n            \r\n            if (!this.breakpoints) {\r\n                this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n            }\r\n        }\r\n\r\n        private setTheme(): void {\r\n            this._pipTheme = this.$injector.has('pipTheme') ? <pip.themes.IThemeService>this.$injector.get('pipTheme') : null;\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if (this.$rootScope['$theme']) {\r\n                this.currentTheme = this.$rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = (this.themeClass || '') + ' md-' + this.currentTheme + '-theme';\r\n        }\r\n\r\n        private setTranslate(): void {\r\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n            if (this._pipTranslate) {\r\n                if (this.tabs.length > 0 && this.tabs[0].title) {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\r\n                } else {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\r\n                }\r\n            }\r\n        }\r\n\r\n        public isDisabled(): boolean {\r\n            if (_.isFunction(this.ngDisabled)) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return this.toBoolean(this.ngDisabled);\r\n            }\r\n        };\r\n\r\n        public tabDisabled(index: number): boolean {\r\n            return (this.isDisabled() && this.activeIndex != index);\r\n        };\r\n\r\n        public onSelect(index: number): void {\r\n            if (this.isDisabled()) return;\r\n            this.activeIndex = index;\r\n            this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            this.$timeout(() => {\r\n                if (this.select) {\r\n                    this.select(this.tabs[this.activeIndex], this.activeIndex);\r\n                }\r\n            }, 0);\r\n\r\n        };\r\n\r\n        public showShadow(): boolean {\r\n            if (_.isFunction(this.showTabsShadow)) {\r\n                return this.showTabsShadow();\r\n            } else {\r\n                return this.toBoolean(this.showTabsShadow);\r\n            }\r\n        };\r\n\r\n        public show(): boolean {\r\n            if (!this.showTabs) return true;\r\n            if (_.isFunction(this.showTabs)) {\r\n                return this.showTabs();\r\n            } else {\r\n                return this.toBoolean(this.showTabs);\r\n            }\r\n        };\r\n\r\n        public toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TabsChanges) {\r\n\r\n            if (!changes.breakpoints) {\r\n                if (!this.breakpoints) {\r\n                    this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n                }\r\n            } else {\r\n                this.breakpoints = changes.breakpoints.currentValue ? changes.breakpoints.currentValue : this.navConstant.TAB_BREAKPOINT\r\n            }\r\n\r\n            if (changes.activeIndex === undefined) {\r\n                if (!this.activeIndex) {\r\n                    this.activeIndex = 0;\r\n                }\r\n            } else {\r\n                this.activeIndex = changes.activeIndex.currentValue || 0;\r\n                if (this.$timeout && this.activeIndex !== changes.activeIndex.previousValue) {\r\n                    this.$timeout(() => {\r\n                        let a = this.$element.find('md-tabs-canvas');\r\n                        if (a && a[0]) {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                        }\r\n                        a.on('focusout', () => {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            this.$timeout(() => {\r\n                                angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            }, 50);\r\n                        });\r\n                    }, 1000);\r\n                }\r\n            }\r\n\r\n            if (changes.tabs === undefined || !_.isArray(changes.tabs.currentValue)) {\r\n                if (!this.tabs) {\r\n                    this.tabs = [];\r\n                }\r\n            } else {\r\n                this.tabs = changes.tabs.currentValue;\r\n                this.setTranslate();\r\n            }\r\n\r\n            if (!changes.activeIndex && changes.tabs && this.selectedTabId !== undefined) {\r\n                const index = _.indexOf(this.tabs, _.find(this.tabs, {\r\n                    id: this.selectedTabId\r\n                }));\r\n                if (index < 0) {\r\n                    this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n                } else if (this.tabs.length > 0 && this.activeIndex) {\r\n                    this.onSelect(index);\r\n                }\r\n            } else {\r\n                this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const Tabs: ng.IComponentOptions = {\r\n        bindings: TabsBindings,\r\n        templateUrl: 'tabs/Tabs.html',\r\n        controller: TabsDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipTabs', ['pipNav.Templates'])\r\n        .component('pipTabs', Tabs);\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"color-primary-bg {{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"$ctrl._media($ctrl.config.breakpoint)\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"!$ctrl._media($ctrl.config.breakpoint)\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"$ctrl.showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"$ctrl.imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"$ctrl.onUserClick()\" tabindex=\"-1\">{{ $ctrl.title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ $ctrl.subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.value | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.pipSideNav.state.isExpanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.pipSideNav.state.isExpanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" xxxng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.pipSideNav.state.isExpanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-disabled=\"link.access && !link.access(link)\" ng-click=\"$ctrl.clickLink($event, link)\"><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype || !link.tooltipText || $ctrl.pipSideNav.state.isExpanded\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && link.tooltipText && !$ctrl.pipSideNav.state.isExpanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar ng-if=\"$ctrl.pipMedia\" class=\"pip-nav color-primary-bg {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs class=\"color-primary-bg\" ng-if=\"$ctrl.pipMedia($ctrl.breakpoints)\" md-selected=\"$ctrl.activeIndex\" ng-class=\"{\\'disabled\\': $ctrl.isDisabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.pipMedia($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.activeIndex\" ng-disabled=\"$ctrl.isDisabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","{\r\n\r\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-cool': 'Cool'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-cool': ''\r\n    // });\r\n    \r\n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(69, 90, 100, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\r\n\r\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(69, 90, 100, .54)',\r\n        '500': 'rgba(69, 90, 100, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\r\n\r\n\r\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-cool')\r\n        .primaryPalette('bootbarn-cool-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-cool-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-cool-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\r\n    .config(configureBootBarnCoolTheme);\r\n\r\n}","{\r\n\r\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-monochrome': 'Monochrome'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-monochrome': ''\r\n    // });\r\n    \r\n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(38, 50, 56, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\r\n\r\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(38, 50, 56, .54)',\r\n        '500': 'rgba(38, 50, 56, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\r\n\r\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-monochrome')\r\n        .primaryPalette('bootbarn-monochrome-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-monochrome-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-monochrome-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\r\n    .config(configureBootBarnMonochromeTheme);\r\n\r\n}","{\r\n\r\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-warm': 'Warm'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     'bootbarn-warm': ''\r\n    // });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(177, 55, 34, 1)'\r\n        })\r\n        ;\r\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\r\n\r\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\r\n        '300': 'rgba(177, 55, 34, .54)',\r\n        '500': 'rgba(177, 55, 34, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\r\n\r\n\r\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'A700': 'rgba(127, 148, 92, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\r\n\r\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\r\n        'A200': 'rgba(255, 82, 82, 1)',\r\n        'contrastLightColors': ['A200']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-warm')\r\n    .primaryPalette('bootbarn-warm-primary', {\r\n        'default': '500',\r\n        'hue-1': '300'\r\n    })\r\n    .backgroundPalette('bootbarn-warm-background', {\r\n        'default': '50',  // background\r\n        'hue-1': 'A200',  // tiles dialog\r\n        'hue-2': 'A700'   // app bar\r\n    })\r\n    .warnPalette('bootbarn-warm-error', {\r\n        'default': 'A200'\r\n    })\r\n    .accentPalette('bootbarn-warm-accent', {\r\n        'default': 'A700'\r\n    });\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\r\n    .config(configureBootBarnWarmTheme);\r\n\r\n}","import './BootBarnCoolTheme';\r\nimport './BootBarnWarmTheme';\r\nimport './BootBarnMonochromeTheme';\r\n\r\nangular.module('pipTheme.BootBarn', [\r\n    'ngMaterial',\r\n    'pipTheme.BootBarn.Warm',\r\n    'pipTheme.BootBarn.Cool',\r\n    'pipTheme.BootBarn.Monochrome',\r\n]);\r\n","import { IThemeService, IThemeProvider } from './IThemeService';\r\n\r\nexport let ThemeRootVar = \"$theme\";\r\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \r\nexport let ThemeResetPage = \"pipResetPage\";    \r\n\r\nclass ThemeConfig {\r\n    public theme: string;\r\n}\r\n\r\nclass ThemeService implements IThemeService {\r\n    private _config: ThemeConfig;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _currentTheme: string = null;\r\n\r\n    public constructor(\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $mdTheming,\r\n        config: ThemeConfig,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n    ) {\r\n        \"ngInject\";\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._config = config;\r\n\r\n        //if (this._persist && this.$window.localStorage && this._config.theme == \"default\")\r\n        this._config.theme = this.$window.localStorage.getItem('theme') || this._config.theme || 'default';\r\n\r\n        this.$log.debug(\"Set theme to \" + this._config.theme);\r\n\r\n        // Define theme for angular material \r\n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        let body = $('body');\r\n        let newTheme: string = this._config.theme;\r\n\r\n        // Switch material theme\r\n        // body.attr('md-theme', newTheme);\r\n\r\n        // Change custom theme\r\n        body.addClass(newTheme);\r\n        if (this._currentTheme != null && this._currentTheme != newTheme)\r\n            body.removeClass(this._currentTheme);            \r\n\r\n        this._currentTheme = newTheme;\r\n\r\n        // Set root scope variable\r\n        if (this._setRootVar)\r\n            this.$rootScope[ThemeRootVar] = this._config.theme;\r\n\r\n        // Save in local storage\r\n        if (this._persist && this.$window.localStorage != null)\r\n            this.$window.localStorage.setItem('theme', this._config.theme);\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        if (value != this._config.theme) {\r\n            if (!(value in this.$mdTheming.THEMES))\r\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\r\n\r\n            this._config.theme = value;\r\n            \r\n            this.$log.debug(\"Changing theme to \" + value);\r\n\r\n            this.save();                \r\n\r\n            this.$rootScope.$emit(ThemeChangedEvent, value);\r\n            this.$rootScope.$emit(ThemeResetPage);\r\n        }\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null) {\r\n            this._config.theme = theme;\r\n            this.save();    \r\n        }     \r\n        return this._config.theme;\r\n    }\r\n\r\n}\r\n\r\n\r\nclass ThemeProvider implements IThemeProvider {\r\n    private _config: ThemeConfig = new ThemeConfig();\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: ThemeService;\r\n    \r\n    public constructor() {\r\n        this._config.theme = \"default\";\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        this._config.theme = value;\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null) {\r\n            this._config.theme = theme;\r\n            let body = $('body');\r\n            body.addClass(this._config.theme);\r\n        }\r\n        return this._config.theme;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ): ThemeService {\r\n        \"ngInject\";\r\n        if (_.isUndefined(this._service) || _.isNull(this._service))  {\r\n            this._service = new ThemeService($log, $rootScope, $window, $mdTheming, this._config, this._setRootVar, this._persist);\r\n        }\r\n         \r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nfunction initTheme(pipTheme: IThemeService) {\r\n    pipTheme.theme;\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme')\r\n    .provider('pipTheme', ThemeProvider)\r\n    .run(initTheme);\r\n","angular.module('pipTheme', ['ngMaterial']);\r\n\r\nimport './ThemeService';\r\n\r\nexport * from './IThemeService';\r\nexport * from './ThemeService';\r\n","{\r\n\r\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     amber: 'Amber'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     amber: ''\r\n    // });\r\n\r\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\r\n\r\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 152, 0, 1)',\r\n        '900': 'rgba(255, 152, 0, .54);'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('amber')\r\n        .primaryPalette('orange-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('orange-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('orange', {\r\n            'default': '900'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\r\n    .config(configureDefaultAmberTheme);\r\n    \r\n}","{\r\n\r\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     blue: 'Blue',\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     blue: ''\r\n    // });\r\n\r\n    registerBlueTheme('default');\r\n    registerBlueTheme('blue');\r\n\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    function registerBlueTheme(themeName) {\r\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\r\n            'contrastDefaultColor': 'light',\r\n            'contrastDarkColors': undefined\r\n        });\r\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\r\n\r\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(33, 150, 243, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\r\n\r\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            '600': 'rgba(0, 200, 83, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\r\n\r\n        $mdThemingProvider.theme(themeName)\r\n            .primaryPalette('blue-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('blue-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('blue-accent', {\r\n                'default': '600'\r\n            });\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\r\n    .config(configureDefaultBlueTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     green: 'Green'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     green: ''\r\n    // });\r\n\r\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(76, 175, 80, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\r\n\r\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\r\n        '300': '#9ed4a1',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\r\n\r\n\r\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\r\n\r\n    $mdThemingProvider.theme('green')\r\n        .primaryPalette('green-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('green-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('green-accent', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Green', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreenTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     grey: 'Grey'\r\n    // });\r\n    \r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     grey: ''\r\n    // });\r\n\r\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)',\r\n        'A400': '#a9b9c0',\r\n        '500': '#607D8B',\r\n        'A700': '#90A4AE',\r\n        //'800': '',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\r\n\r\n\r\n    $mdThemingProvider.theme('grey')\r\n        .primaryPalette('third-party', {\r\n            'default': '500',\r\n            'hue-1': 'A400'\r\n        })\r\n        .backgroundPalette('third-party', {\r\n            'default': '50',  // background\r\n            'hue-1': '500',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('third-party', {\r\n            'default': 'A700'\r\n        });\r\n    \r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreyTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     navy: 'Navy'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     navy: '-'\r\n    // });\r\n\r\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '700': 'rgba(86, 97, 125, 1)',\r\n        '800': 'rgba(86, 97, 125, .54)',\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n    });\r\n    $mdThemingProvider.definePalette('grey', greyPalette);\r\n\r\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\r\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('teal', tealPalette);\r\n\r\n    $mdThemingProvider.theme('navy')\r\n        .primaryPalette('grey', {\r\n            'default': '700',\r\n            'hue-1': '800'\r\n        })\r\n        .backgroundPalette('grey', {\r\n            'default': '50',  // background\r\n            'hue-1': '700',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('teal', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\r\n    .config(configureDefaultNavyTheme);\r\n    \r\n}","{\r\n\r\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     orange: 'Orange'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     orange: ''\r\n    // });\r\n\r\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 112, 67, 1)',\r\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\r\n    });\r\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\r\n\r\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 112, 67, 1)',\r\n        '900': 'rgba(255, 152, 67, .54)',\r\n        'A100': 'rgba(255, 171, 64, 1)',\r\n        'contrastLightColors': ['800', '900', 'A100']\r\n    });\r\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('orange')\r\n        .primaryPalette('red-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('red-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('red-primary', {\r\n            'default': 'A100'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\r\n    .config(configureDefaultOrangeTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     pink: 'Pink'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: '',\r\n    //     pink: '',\r\n\r\n    // });\r\n\r\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['A200', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\r\n\r\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\r\n        '600': 'rgba(255, 128, 171, 1)',\r\n        '700': 'rgba(188, 86, 121, .54)',\r\n        '900': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'light'\r\n    });\r\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('pink')\r\n        .primaryPalette('pink-primary', {\r\n            'default': '900',\r\n            'hue-1': '700'\r\n        })\r\n        .backgroundPalette('pink-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('pink-primary', {\r\n            'default': '600'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\r\n    .config(configureDefaultPinkTheme);\r\n    \r\n}","import './DefaultBlueTheme';\r\nimport './DefaultPinkTheme';\r\nimport './DefaultAmberTheme';\r\nimport './DefaultOrangeTheme';\r\nimport './DefaultGreenTheme';\r\nimport './DefaultNavyTheme';\r\nimport './DefaultGreyTheme';\r\n\r\nfunction configureDefaultTheme($mdThemingProvider) {\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Default', [\r\n        'ngMaterial',\r\n        'pipTheme.Blue', \r\n        'pipTheme.Pink',\r\n        'pipTheme.Amber', \r\n        'pipTheme.Orange', \r\n        'pipTheme.Green', \r\n        'pipTheme.Navy', \r\n        'pipTheme.Grey'\r\n    ])\r\n    .config(configureDefaultTheme);\r\n","\r\nexport class ErrorPageConfig {\r\n    Active: boolean;\r\n    Name: string;\r\n    Event: string;\r\n    Title: string;\r\n    SubTitle: String;\r\n    Breadcrumb: string;\r\n    Image: string;\r\n    Params?: any;\r\n    RedirectSateDefault?: string;\r\n    StateIgnored?: string[];\r\n}\r\n\r\nexport class ErrorPageConfigs {\r\n\r\n    Maintenance: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_maintenance',\r\n        Event: 'pipMaintenanceError',\r\n        Title: 'ERROR_MAINTENANCE_TITLE',\r\n        SubTitle: 'ERROR_MAINTENANCE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MAINTENANCE_TITLE',\r\n        Image: 'images/maintenance.svg'\r\n\r\n    };\r\n\r\n    MissingRoute: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_missing_route',\r\n        Event: '$stateNotFound',\r\n        Title: 'ERROR_MISSING_ROUTE_TITLE',\r\n        SubTitle: 'ERROR_MISSING_ROUTE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MISSING_ROUTE_PAGE_TITLE',\r\n        Image: 'images/invalid_route.svg'\r\n    };\r\n\r\n    NoConnection: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_no_connection',\r\n        Event: 'pipNoConnectionError',\r\n        Title: 'ERROR_NO_CONNECTION_TITLE',\r\n        SubTitle: 'ERROR_NO_CONNECTION_SUBTITLE',\r\n        Breadcrumb: 'ERROR_NO_CONNECTION_TITLE',\r\n        Image: 'images/no_response.svg',\r\n        StateIgnored: []\r\n    };\r\n\r\n    Unknown: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unknown',\r\n        Event: 'pipUnknownError',\r\n        Title: 'ERROR_UNKNOWN_TITLE',\r\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\r\n        Image: 'images/unknown_error.svg'\r\n    };\r\n\r\n    Unsupported: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unsupported',\r\n        Event: '',\r\n        Title: 'ERROR_UNSUPPORTED_TITLE',\r\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\r\n        Image: '',\r\n        Params: {}\r\n    }\r\n}\r\n\r\nexport class SupportedBrowsers {\r\n    edge: number = 11;\r\n    ie: number = 11;\r\n    firefox: number = 43;\r\n    opera: number = 35;\r\n    chrome: number = 47;\r\n}\r\n","import { IErrorPageConfigService, IErrorPageConfigProvider } from './IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig, SupportedBrowsers } from './ErrorPageConfig';\r\n\r\nclass ErrorPageConfigService implements IErrorPageConfigService {\r\n    private _config: ErrorPageConfigs;\r\n\r\n    public constructor(\r\n        config: ErrorPageConfigs\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._config = config || new ErrorPageConfigs();\r\n    }\r\n\r\n    public get configs(): ErrorPageConfigs {\r\n        return this._config;\r\n    }\r\n\r\n    public getErrorPageConfig(pageName: string): ErrorPageConfig {\r\n        console.log(pageName, this._config);\r\n        if (!pageName || !this._config[pageName]) {\r\n            return null;\r\n        }\r\n\r\n        return this._config[pageName];\r\n    }\r\n\r\n}\r\n\r\nclass ErrorPageConfigProvider implements IErrorPageConfigProvider {\r\n    private _service: ErrorPageConfigService;\r\n    public configs: ErrorPageConfigs;\r\n\r\n    constructor() {\r\n        this.configs = new ErrorPageConfigs();\r\n        this.configs.Unsupported.Params.supported = new SupportedBrowsers();\r\n    }\r\n\r\n    public setErrorPageConfig(pageName: string, config: ErrorPageConfig): void {\r\n        if (!pageName || !config) return;\r\n        if (!this.configs[pageName]) return;\r\n\r\n        this.configs[pageName] = <ErrorPageConfig>_.defaultsDeep(config, this.configs[pageName]);\r\n    }\r\n\r\n    public setAllErrorPageConfigs(configs: ErrorPageConfigs): void {\r\n        if (!configs) return;\r\n\r\n        this.configs = <ErrorPageConfigs>_.defaultsDeep(configs, this.configs);\r\n    }\r\n\r\n    public setSupportedBrowsers(browsers: SupportedBrowsers): void {\r\n        this.configs.Unsupported.Params.supported = browsers;\r\n    }\r\n\r\n    public $get(): ErrorPageConfigService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new ErrorPageConfigService(this.configs);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrorPageConfigService', [])\r\n        .provider('pipErrorPageConfigService', ErrorPageConfigProvider);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class ClearErrorsLink {\r\n        private _fieldController: any;\r\n        private _formController: any;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $ctrls\r\n        ) {\r\n            'ngInject';\r\n\r\n            this._fieldController = $ctrls[0];\r\n            this._formController = $ctrls[1];\r\n\r\n            $scope.$watch($attrs['ngModel'], (newValue) => {\r\n                this.clearFieldErrors();\r\n                this.clearFormErrors();\r\n            });\r\n        }\r\n\r\n        public clearFieldErrors() {\r\n            let errors = this._fieldController.$error;\r\n\r\n            for (let prop in errors) {\r\n                if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                    this._fieldController.$setValidity(prop, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        public clearFormErrors() {\r\n            this._formController.$serverError = {};\r\n        }\r\n    }\r\n\r\n    function clearErrorsDirective() {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes,\r\n                $ctrls\r\n            ) {\r\n                new ClearErrorsLink($scope, $element, $attrs, $ctrls);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipClearErrors', [])\r\n        .directive('pipClearErrors', clearErrorsDirective);\r\n})();","import { IFormErrorsService } from './IFormErrorsService';\r\n\r\nclass FormErrorsService {\r\n\r\n    constructor(private $rootScope: ng.IRootScopeService) { }\r\n\r\n    public errorsWithHint(field: any) {\r\n        if (field == null) return;\r\n\r\n        return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n    };\r\n\r\n    public touchedErrorsWithHint(form: ng.IFormController, field: any, notSubmited?: boolean) {\r\n        if (form == null) return;\r\n        if (field == null) return;\r\n\r\n        if (form.$submitted || notSubmited && (field.$touched || field.$dirty)) {\r\n            let result = _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n            return result;\r\n        }\r\n        return { hint: true };\r\n    }\r\n\r\n    public resetFormErrors(form: ng.IFormController, errors?: boolean): void {\r\n        form.$setPristine();\r\n        form.$setUntouched();\r\n\r\n        if (errors) {\r\n            form.$setDirty();\r\n            form.$setSubmitted();\r\n        }\r\n\r\n        form['$serverError'] = {};\r\n    }\r\n\r\n    public resetFieldsErrors(form: ng.IFormController, field?: any): void {\r\n        if (!form) return;\r\n        if (field && form[field] && form[field].$error) {\r\n            form[field].$error = {};\r\n        } else {\r\n            for (let prop in form) {\r\n                if (form[prop] && form[prop].$error) {\r\n                    form[prop].$error = {};\r\n                }\r\n            }\r\n            if (form && form.$error) {\r\n                form.$error = {};\r\n            }\r\n        }\r\n    }\r\n\r\n    public setFormError(form: ng.IFormController, error, errorFieldMap) {\r\n        if (error == null) return;\r\n        // Prepare form server errors\r\n        form['$serverError'] = form['$serverError'] || {};\r\n        // Prepare error code\r\n        let code: string = error.code || (error.data || {}).code || null;\r\n        if (!code && error.status) code = error.status;\r\n\r\n        if (code) {\r\n            let errorName = 'ERROR_' + code,\r\n                field = errorFieldMap ? errorFieldMap[code] : null;\r\n            // Set server error to fields\r\n            if (field && form[field] && form[field].$setValidity) {\r\n                form[field].$setValidity(errorName, false);\r\n                return;\r\n            }\r\n\r\n            // Set server error to form\r\n            if (field == 'form') {\r\n                form['$serverError'][errorName] = true;\r\n                return;\r\n            }\r\n        }\r\n\r\n        // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n        if (error.data && error.data.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.data.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        // Set as undefined error\r\n        if (error.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        if (error.name) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.name;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n\r\n        form['$serverError']['ERROR_UNKNOWN'] = error;\r\n        this.goToUnhandledErrorPage(error);\r\n    }\r\n\r\n    private goToUnhandledErrorPage(error) {\r\n        this.$rootScope.$emit('pipUnhandledInternalError', {\r\n            error: error\r\n        });\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipFormErrors', [])\r\n        .service('pipFormErrors', FormErrorsService);\r\n\r\n})();","\r\n\r\n    class HttpResponseInterceptor implements ng.IHttpInterceptor {\r\n        constructor(\r\n            private $q: ng.IQService, \r\n            private $location: ng.ILocationService, \r\n            private $rootScope: ng.IRootScopeService,\r\n        ) {\r\n                \"ngInject\";\r\n        }\r\n\r\n        public responseError = (rejection: any): ng.IPromise<any> => {\r\n            switch (rejection.status) {\r\n                case 503:\r\n                    //available (maintenance)\r\n                    this.$rootScope.$emit('pipMaintenanceError', { error: rejection });\r\n                    break;\r\n                case -1:\r\n                    this.$rootScope.$emit('pipNoConnectionError', { error: rejection });\r\n                    break;\r\n                default:\r\n                    console.error(\"errors_unknown\", rejection);\r\n                    break;\r\n            }\r\n\r\n            return this.$q.reject(rejection);\r\n        }\r\n\r\n    }\r\n\r\n    function configureHttpInterceptor(\r\n        $stateProvider: ng.ui.IStateProvider, \r\n        $httpProvider: ng.IHttpProvider\r\n    ) {\r\n        // Attach interceptor to react on unauthorized errors\r\n        $httpProvider.interceptors.push('pipHttpResponseInterceptor');\r\n    }\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureHttpInterceptor)\r\n        .service('pipHttpResponseInterceptor', HttpResponseInterceptor);\r\n\r\n\r\n\r\n","export let ErrorsMaintenanceState = 'errors_maintenance';\r\nexport let MaintenanceErrorEvent = 'pipMaintenanceError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MaintenanceError {\r\n    config?: MaintenanceErrorConfig;\r\n}\r\n\r\nclass MaintenanceErrorConfig {\r\n    params?: MaintenanceErrorParams;\r\n}\r\n\r\nclass MaintenanceErrorParams {\r\n    interval?: number = 0;\r\n}\r\n\r\nclass MaintenanceErrorPageController {\r\n    private _pageName: string = 'Maintenance';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: MaintenanceError;\r\n    public timeoutInterval: number;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        private $window: ng.IWindowService,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n        this.timeoutInterval = this.error && this.error.config &&\r\n            this.error.config.params && this.error.config.params.interval ? this.error.config.params.interval : 0;\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    \r\n    public onRetry() {\r\n        if (this.$state.params && this.$state.params['fromState'] && this.$state.params['fromState'] != this.config.Name ) {\r\n            this.$state.go(this.$state.params['fromState'], this.$state.params['fromParams']);\r\n        } else if (this.config.RedirectSateDefault) {\r\n            this.$state.go(this.config.RedirectSateDefault);\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n        // this.$window.history.back();\r\n    }\r\n}\r\n\r\nfunction configureMaintenanceErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsMaintenanceState, {\r\n                url: '/errors/maintenance',\r\n                params: {\r\n                    error: null\r\n                },\r\n                controller: MaintenanceErrorPageController,\r\n                controllerAs: '$ctrl',\r\n                templateUrl: 'maintenance/MaintenanceErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initMaintenanceErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Maintenance.Active) return;\r\n\r\n    $rootScope.$on(MaintenanceErrorEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        $state.go(ErrorsMaintenanceState, params);\r\n    });\r\n}\r\n\r\nfunction setMaintenanceErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MAINTENANCE_TITLE': 'The server is on maintenance',\r\n        'ERROR_MAINTENANCE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n        'a short period. We\\'ll be back soon. Thank for your patience.',\r\n        'ERROR_MAINTENANCE_CLOSE': 'Close',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Try after',\r\n        ERROR_MAINTENANCE_RETRY: 'Retry'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MAINTENANCE_TITLE': '   ',\r\n        'ERROR_MAINTENANCE_SUBTITLE': '   .         .   .   .',\r\n        'ERROR_MAINTENANCE_CLOSE': '',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': ' ',\r\n        ERROR_MAINTENANCE_RETRY: ' '\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMaintenanceErrorPageRoute)\r\n        .run(initMaintenanceErrorPage)\r\n        .run(setMaintenanceErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsMissingRouteState = 'errors_missing_route';\r\nexport let StateNotFoundEvent = '$stateNotFound';  \r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MissingRouteErrorState {\r\n    to: string;\r\n    toParams: any;\r\n    fromParams: any;\r\n}\r\n\r\nclass MissingRouteErrorPageController {\r\n    private _pageName: string = 'MissingRoute';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public fromState: MissingRouteErrorState;\r\n    public unfoundState: MissingRouteErrorState;\r\n    public url: string;\r\n    public urlBack: string;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        private $location: ng.ILocationService,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.fromState = $state && $state.params && $state.params['fromState'] ? $state.params['fromState'] : {};\r\n        this.unfoundState = $state && $state.params ? $state.params['unfoundState'] : {};\r\n        this.url = this.unfoundState && this.unfoundState.to ? $state.href(this.unfoundState.to, this.unfoundState.toParams, { absolute: true }) : '';\r\n        this.urlBack = this.fromState && this.fromState.to ? $state.href(this.fromState.to, this.fromState.fromParams, { absolute: true }) : '';\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onContinue() {\r\n        this.$location.url('/');\r\n    }\r\n}\r\n\r\nfunction configureMissingRouteErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n    $stateProvider\r\n        .state(ErrorsMissingRouteState, {\r\n            url: '/errors/missing_route',\r\n            params: {\r\n                unfoundState: null,\r\n                fromState: null\r\n            },\r\n            controller: MissingRouteErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'missing_route/MissingRouteErrorPage.html'\r\n        });\r\n}\r\n\r\n\r\nfunction initMissingRouteErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.MissingRoute.Active) return;\r\n\r\n    $rootScope.$on(StateNotFoundEvent,\r\n        (\r\n            event: angular.IAngularEvent,\r\n            unfoundState: ng.ui.IState,\r\n            fromState: ng.ui.IState,\r\n            fromParams: any) => {\r\n            event.preventDefault();\r\n\r\n            $state.go(ErrorsMissingRouteState, {\r\n                unfoundState: unfoundState,\r\n                fromState: {\r\n                    to: fromState ? fromState.name : '',\r\n                    fromParams: fromParams\r\n                }\r\n            });\r\n\r\n            $rootScope[pip.services.RoutingVar] = false;\r\n        }\r\n    );\r\n}\r\n\r\nfunction setMissingRouteErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MISSING_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Continue',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Try again',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Go Back',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Wrong page'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MISSING_ROUTE_TITLE': ' ,  ',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': '         .',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': '',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': ' ',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': '',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': ' '\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMissingRouteErrorPageRoute)\r\n        .run(initMissingRouteErrorPage)\r\n        .run(setMissingRouteErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsConnectionState = 'errors_no_connection';\r\nexport let ErrorsConnectionEvent = 'pipNoConnectionError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass NoConnectionError {\r\n    config?: any;\r\n}\r\n\r\nclass NoConnectionErrorPageController {\r\n    private _pageName: string = 'NoConnection';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: NoConnectionError;\r\n\r\n    constructor(\r\n        private $window: ng.IWindowService,\r\n        $scope: ng.IScope,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onRetry() {\r\n        if (this.$state.params && this.$state.params['fromState'] && this.$state.params['fromState'] != this.errorConfig.Name) {\r\n            this.$state.go(this.$state.params['fromState'], this.$state.params['fromParams']);\r\n        } else if (this.errorConfig.RedirectSateDefault) {\r\n            this.$state.go(this.errorConfig.RedirectSateDefault);\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n        // this.$window.history.back();\r\n    }\r\n}\r\n\r\nfunction configureNoConnectionErrorPageRoute(\r\n    $injector: angular.auto.IInjectorService,\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state(ErrorsConnectionState, {\r\n            url: '/errors/no_connection',\r\n            params: {\r\n                error: null,\r\n                fromState: null,\r\n                fromParams: null\r\n            },\r\n            controller: NoConnectionErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'no_connection/NoConnectionErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initNoConnectionErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n    if (!config.NoConnection.StateIgnored) config.NoConnection.StateIgnored = [];\r\n    config.NoConnection.StateIgnored.push(config.NoConnection.Name);\r\n\r\n    if (!config.NoConnection.Active) return;\r\n\r\n    $rootScope.$on(ErrorsConnectionEvent,\r\n        (event: angular.IAngularEvent, params) => {\r\n            params = params ? params : {};\r\n\r\n            if (config.NoConnection.StateIgnored.indexOf($state.current.name) > -1) {\r\n                return;\r\n            } else {\r\n                params.fromState = $state.current.name;\r\n                params.fromParams = $state.params;\r\n            }\r\n\r\n            // todo make configure, as array of state\r\n            if ($state.current.name == 'recover_password' || $state.current.name == 'change_password'\r\n                || $state.current.name == 'expire_change_password' || $state.current.name == 'reset_password'\r\n                || $state.current.name == 'verify_email' || $state.current.name == 'verify_email_success'\r\n                || $state.current.name == 'signin' || $state.current.name == 'signup') {\r\n\r\n                return\r\n            }\r\n            $state.go(ErrorsConnectionState, params);\r\n        });\r\n}\r\n\r\nfunction setNoConnectionErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_NO_CONNECTION_TITLE': 'No connection to the server',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n        'ERROR_NO_CONNECTION_RETRY': 'Retry',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_NO_CONNECTION_TITLE': '   ',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': '   .       .',\r\n        'ERROR_NO_CONNECTION_RETRY': '',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureNoConnectionErrorPageRoute)\r\n        .run(initNoConnectionErrorPage)\r\n        .run(setNoConnectionErrorPageResources);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class NoConnectionPanelController {\r\n        private _retry: Function;\r\n        public error: any;\r\n        constructor($scope: ng.IScope) {\r\n            this._retry = $scope['retry'];\r\n            this.error = $scope['error'];\r\n        }\r\n\r\n        public onRetry() {\r\n            if (this._retry && angular.isFunction(this._retry)) this._retry();\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipNoConnectionPanel\", [])\r\n        .directive('pipNoConnectionPanel',\r\n        () => {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/NoConnectionPanel.html',\r\n                controller: NoConnectionPanelController,\r\n                controllerAs: '$ctrl'\r\n            };\r\n        }\r\n        )\r\n\r\n})();\r\n\r\n","export let ErrorsUnknownState = 'errors_unknown';\r\nexport let ErrorsUnknownEvent = 'pipUnknownError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnknownErrorDetails {\r\n    code: number;\r\n    message: string;\r\n    status: string;\r\n    server_stacktrace: Function;\r\n    client_stacktrace: Function;\r\n}\r\n\r\nclass UnknownErrorPageController {\r\n    private _pageName: string = 'Unknown';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnknownErrorDetails;\r\n    public error_details: UnknownErrorDetails;\r\n    public showError: boolean;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService, \r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia, \r\n        $injector: angular.auto.IInjectorService,  \r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.showError = $scope['showError'];\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\r\n        \r\n        this.parseError();\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    private parseError() {\r\n        this.error_details = new UnknownErrorDetails();\r\n        this.error_details.code = this.error.code;\r\n        this.error_details.message = this.error.message;\r\n        this.error_details.status = this.error.status;\r\n\r\n        this.error_details.server_stacktrace = () => {};\r\n\r\n        this.error_details.client_stacktrace = () => {};\r\n    }\r\n\r\n    public onDetails() {\r\n        this.showError = true;\r\n    }\r\n\r\n}\r\n\r\nfunction configureUnknownErrorPageRoute (\r\n    $injector: angular.auto.IInjectorService, \r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsUnknownState, {\r\n                url: '/errors/unknown',\r\n                params: {\r\n                    error: null\r\n                }, \r\n                controllerAs: '$ctrl',\r\n                controller: UnknownErrorPageController,\r\n                templateUrl: 'unknown/UnknownErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initUnknownErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unknown.Active) return;\r\n\r\n    $rootScope.$on(ErrorsUnknownEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        $state.go(ErrorsUnknownState, params);\r\n    });\r\n}\r\n\r\nfunction setUnknownErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n        'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n        'ERROR_UNKNOWN_CLOSE': 'Close',\r\n        'ERROR_UNKNOWN_DETAILS': 'Details',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNKNOWN_TITLE': '-   ',\r\n        'ERROR_UNKNOWN_SUBTITLE': '  ,   ,   .',\r\n        'ERROR_UNKNOWN_CLOSE': '',\r\n        'ERROR_UNKNOWN_DETAILS': '',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnknownErrorPageRoute)\r\n        .run(initUnknownErrorPage)\r\n        .run(setUnknownErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsUnsupportedState = 'errors_unsupported';\r\nexport let ErrorsUnsupportedEvent = 'pipUnsupportedError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnsupportedError {\r\n    config?: any;\r\n}\r\n\r\nclass UnsupportedErrorPageController {\r\n    private _pageName: string = 'Unsupported';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnsupportedError;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n}\r\n\r\nfunction configureUnsupportedErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state(ErrorsUnsupportedState, {\r\n            url: '/errors/unsupported',\r\n            params: {\r\n                error: null\r\n            },\r\n            controllerAs: '$ctrl',\r\n            controller: UnsupportedErrorPageController,\r\n            templateUrl: 'unsupported/UnsupportedErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initUnsupportedErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unsupported.Active) return;\r\n\r\n    let pipSystemInfo: any = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null;\r\n    if (!pipSystemInfo) { return; }\r\n\r\n    let supportedVersions = config.Unsupported.Params.supported;\r\n\r\n    let browser: string = pipSystemInfo.browserName;\r\n    let version: string = pipSystemInfo.browserVersion;\r\n    version = version.split(\".\")[0]\r\n\r\n    if (browser\r\n        && supportedVersions[browser]\r\n        && version >= supportedVersions[browser]) {\r\n        return;\r\n    }\r\n    // if not supported\r\n    $state.go(ErrorsUnsupportedState);\r\n}\r\n\r\nfunction setUnsupportedErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n        'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n        'technologies. Download one of these great browsers and you\\'ll be on your way:',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': 'Version',\r\n        ERROR_UNSUPPORTED_EDGE: 'Edge',\r\n        ERROR_UNSUPPORTED_EDGE_VER: 'Version',\r\n        ERROR_UNSUPPORTED_SAFARI_VER: 'Version',\r\n        ERROR_UNSUPPORTED_SAFARI: 'Safari'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNSUPPORTED_TITLE': '   . ',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': '    .      ' +\r\n        '   .  ,      . ' +\r\n        '     ,     :',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': '',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': '',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': '',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': '',\r\n        ERROR_UNSUPPORTED_EDGE: 'Edge',\r\n        ERROR_UNSUPPORTED_EDGE_VER: '',\r\n        ERROR_UNSUPPORTED_SAFARI_VER: '',\r\n        ERROR_UNSUPPORTED_SAFARI: 'Safari'\r\n    });\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnsupportedErrorPageRoute)\r\n        .run(initUnsupportedErrorPage)\r\n        .run(setUnsupportedErrorPageResources);\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/MaintenanceErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_MAINTENANCE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_MAINTENANCE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.timeoutInterval\">{{::\\'ERROR_MAINTENANCE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"$ctrl.isCordova\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_MAINTENANCE_CLOSE\\' | translate}}</md-button></div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"!$ctrl.isCordova\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_MAINTENANCE_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/MissingRouteErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"$ctrl.onContinue($event)\">{{::\\'ERROR_MISSING_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{$ctrl.url}}\">{{::\\'ERROR_MISSING_ROUTE_TRY_AGAIN\\' | translate }}: {{$ctrl.url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{$ctrl.urlBack}}\">{{::\\'ERROR_MISSING_ROUTE_GO_BACK\\' | translate }}: {{$ctrl.urlBack}}</a></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/NoConnectionErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/NoConnectionPanel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{$ctrl.error.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.error.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.error.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/UnknownErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.showError && $ctrl.error_details && $ctrl.error_details.message\"><div ng-if=\"$ctrl.error_details.code\">Code: {{$ctrl.error_details.code}}</div><div ng-if=\"$ctrl.error_details.message\">Description: {{$ctrl.error_details.message}}</div><div ng-if=\"$ctrl.error_details.status\">HTTP status: {{$ctrl.error_details.status}}</div><div ng-if=\"$ctrl.error_details.server_stacktrace\">Server stacktrace: {{$ctrl.error_details.server_stacktrace}}</div><div ng-if=\"$ctrl.error_details.client_stacktrace\">Client stacktrace stacktrace: {{$ctrl.error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"$ctrl.isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"$ctrl.error_details && $ctrl.error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"$ctrl.onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/UnsupportedErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$ctrl.media(\\'gt-xs\\') && $ctrl.errorConfig.Params && $ctrl.errorConfig.Params.supported\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.ie\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}} {{ $ctrl.errorConfig.Params.supported.ie }} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.edge\"><div style=\"background-image: url(\\'images/edge.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://microsoft-edge.en.softonic.com/download\">{{::\\'ERROR_UNSUPPORTED_EDGE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_EDGE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.edge}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.firefox\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.firefox}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.chrome\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.chrome}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.opera\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.opera}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.safari\"><div style=\"background-image: url(\\'images/safari.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://safari.en.softonic.com/\">{{::\\'ERROR_UNSUPPORTED_SAFARI\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_SAFARI_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.safari}} +</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$ctrl.media(\\'xs\\') && $ctrl.errorConfig.Params && $ctrl.errorConfig.Params.supported\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.ie\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.ie}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.edge\"><div style=\"background-image: url(\\'images/edge.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://microsoft-edge.en.softonic.com/download\">{{::\\'ERROR_UNSUPPORTED_EDGE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_EDGE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.edge}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.firefox\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.firefox}} +</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.chrome\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.chrome}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.opera\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.opera}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.safari\"><div style=\"background-image: url(\\'images/safari.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://safari.en.softonic.com/\">{{::\\'ERROR_UNSUPPORTED_SAFARI\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_SAFARI_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.safari}} +</p></div></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IBarChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const BarChartBindings: IBarChartBindings = {\r\n        series: '<pipSeries',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class BarChartBindingsChanges implements IBarChartBindings, ng.IOnChangesObject {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject<any>;\r\n        xTickFormat: ng.IChangesObject<any>;\r\n        yTickFormat: ng.IChangesObject<any>;\r\n        interactiveLegend: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class BarChartController implements ng.IController, IBarChartBindings {\r\n        public series: any;\r\n        public xTickFormat: any;\r\n        public yTickFormat: any;\r\n        public interactiveLegend: boolean;\r\n        public legend: any;\r\n\r\n        private data: any;\r\n        private chart: nv.DiscreteBarChart = null;\r\n        private chartElem: any;\r\n        private colors: string[];\r\n        private height: number = 270;\r\n\r\n        private spaceAfterBar: number = 15;\r\n        private spaceAfterMultiBar: number = 1;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                if (!updatedLegend) return;\r\n\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n            this.generateParameterColor();\r\n            (<any>d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: BarChartBindingsChanges) {\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : null;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : null;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : null;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.data = this.prepareData(this.series);\r\n                this.legend = _.clone(this.series);\r\n                this.generateParameterColor();\r\n                this.updateChart();\r\n            }\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.chartElem.datum(this.data).call(this.chart);\r\n                this.configBarWidthAndLabel();\r\n                this.drawEmptyState();\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.discreteBarChart()\r\n                    .margin({\r\n                        top: 10,\r\n                        right: 0,\r\n                        bottom: 10\r\n                    })\r\n                    .x((d) => {\r\n                        return d.label || d.key || d.x;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .showValues(true)\r\n                    .staggerLabels(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .valueFormat(<any>d3.format('d'))\r\n                    .duration(0)\r\n                    .height(this.height)\r\n                    .color((d) => {\r\n                        return this.data[d.series].color || this.pipChartColors.materialColorToRgba(this.colors[d.series]);\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d) => {\r\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chartElem = <any>d3.select(this.$element.get(0))\r\n                    .select('.bar-chart svg')\r\n                    .datum(this.data)\r\n                    .style('height', '305px')\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelOpened', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1000);\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelClosed', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1000);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    this.configBarWidthAndLabel(0);\r\n                }, 0);\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.update();\r\n            this.configBarWidthAndLabel(0);\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private prepareData(data): any {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (this.$element.find('.nv-noData').length === 0) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const g = this.chartElem.append('g').classed('empty-state', true),\r\n                    width = this.$element.find('.nvd3-svg').innerWidth(),\r\n                    margin = width * 0.1;\r\n\r\n                g.append('g')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', this.height - 10)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(42, 60)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 200)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(84, 160)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 100)\r\n                    .attr('width', 38);\r\n\r\n                g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2 * margin) / 126) + ', 1)');\r\n            }\r\n        }\r\n\r\n        private getGroupSize(): number {\r\n            let n: number = 1;\r\n\r\n            for (let i = 0; i < this.data.length; i++) {\r\n                if (this.data[i] && this.data[i].values && this.data[i].values.length > 0) {\r\n                    if (this.data[i].values.length > n) {\r\n                        n = this.data[i].values.length;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return this.data.length;\r\n        }\r\n\r\n        private configBarWidthAndLabel(timeout: number = 1000) {\r\n            const labels = this.$element.find('.nv-bar text'),\r\n                chartBars = this.$element.find('.nv-bar'),\r\n                parentHeight = (<any>this.$element.find('.nvd3-svg')[0]).getBBox().height;\r\n\r\n            d3.select(this.$element.find('.bar-chart')[0]).classed('visible', true);\r\n\r\n            let groupSize = this.getGroupSize();\r\n            let space: number = groupSize == 1 ? this.spaceAfterBar : this.spaceAfterMultiBar;\r\n            let correction = 2;\r\n            if (groupSize > 1) {\r\n                _.each(chartBars, (item: EventTarget, index: number) => {\r\n                    const barHeight = Number(d3.select(item).select('rect').attr('height')),\r\n                        barWidth = Number(d3.select(item).select('rect').attr('width'))/groupSize,\r\n                        element = d3.select(item),\r\n                        x = d3.transform(element.attr('transform')).translate[0],\r\n                        y = d3.transform(element.attr('transform')).translate[1];\r\n    \r\n                    element\r\n                        .attr('transform', 'translate(' + Number(x + index * (barWidth)) + ', ' + (this.height - 20) + ')')\r\n                        .select('rect').attr('height', 0);\r\n    \r\n                    element\r\n                        .transition()\r\n                        .duration(timeout)\r\n                        .attr('transform', 'translate(' + Number(x + index * (barWidth)) + ', ' + y + ')')\r\n                        .select('rect').attr('height', barHeight);\r\n    \r\n                    d3.select(labels[index])\r\n                        .attr('dy', barHeight / 2 + 10)\r\n                        .attr('x', barWidth * groupSize  / 2);\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                if (item.values[0]) {\r\n                    item.values[0].color = item.values[0].color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n                    item.color = item.values[0].color;\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const BarChart: ng.IComponentOptions = {\r\n        bindings: BarChartBindings,\r\n        templateUrl: 'bar_chart/BarChart.html',\r\n        controller: BarChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipBarCharts', [])\r\n        .component('pipBarChart', BarChart);\r\n}","import { IChartColorsService } from './IChartColorsService';\r\n\r\n{\r\n    class ChartColorsService implements IChartColorsService {\r\n        constructor(\r\n            private $mdColorPalette: angular.material.IColorPalette\r\n        ) { \r\n            \"ngInject\";\r\n        }\r\n\r\n        public getMaterialColor(index: number, colors: string[]): string {\r\n            if (!colors || colors.length < 1) return null;\r\n\r\n            if (index >= colors.length) {\r\n                index = 0;\r\n            }\r\n\r\n            return this.materialColorToRgba(colors[index]);\r\n        }\r\n\r\n        public materialColorToRgba(color: string): string {\r\n            return 'rgba(' + this.$mdColorPalette[color][500].value[0] + ',' +\r\n                this.$mdColorPalette[color][500].value[1] + ',' +\r\n                this.$mdColorPalette[color][500].value[2] + ',' +\r\n                (this.$mdColorPalette[color][500].value[3] || 1) + ')';\r\n        }\r\n\r\n        public generateMaterialColors(): string[] {\r\n            let colors = _.map((<any>this.$mdColorPalette), (palette, color: string) => {\r\n                return color;\r\n            });\r\n            colors = _.filter(colors, (color: string) => {\r\n                return _.isObject(this.$mdColorPalette[color]) && _.isObject(this.$mdColorPalette[color][500]) && _.isArray(this.$mdColorPalette[color][500].value);\r\n            });\r\n\r\n            return colors;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipChartColors', [])\r\n        .service('pipChartColors', ChartColorsService);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        interactive: any;\r\n    }\r\n\r\n    const ChartLegendBindings: IChartLegendBindings = {\r\n        series: '<pipSeries',\r\n        interactive: '<pipInteractive'\r\n    }\r\n\r\n    class ChartLegendBindingsChanges implements ng.IOnChangesObject, IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        interactive: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class ChartLegendController implements ng.IController, IChartLegendBindings {\r\n        public series: any;\r\n        public interactive: boolean;\r\n\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.updateLegends();\r\n        }\r\n\r\n        public $onChanges(changes: ChartLegendBindingsChanges) {\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.updateLegends();\r\n            }\r\n\r\n            if (changes.interactive && changes.interactive.currentValue !== changes.interactive.previousValue) {\r\n                this.interactive = changes.interactive.currentValue;\r\n                if (this.interactive === true) {\r\n                    this.$timeout(() => {\r\n                        this.colorCheckboxes();\r\n                    }, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateLegends() {\r\n            this.$timeout(() => {\r\n                this.animate();\r\n                this.colorCheckboxes();\r\n            }, 0);\r\n            this.prepareSeries();\r\n        }\r\n\r\n        private colorCheckboxes() {\r\n            const checkboxContainers = this.$element.find('md-checkbox .md-container');\r\n\r\n            _.each(checkboxContainers, (item: EventTarget, index: number) => {\r\n                if (index >= this.series.length) {\r\n                    return\r\n                }\r\n                $(item)\r\n                    .css('color', this.series[index].color || this.colors[index])\r\n                    .find('.md-icon')\r\n                    .css('background-color', this.series[index].color || this.colors[index]);\r\n            });\r\n        }\r\n\r\n        private animate() {\r\n            const legendTitles = this.$element.find('.chart-legend-item');\r\n\r\n            _.each(legendTitles, (item: EventTarget, index: number) => {\r\n                this.$timeout(() => {\r\n                    $(item).addClass('visible');\r\n                }, 200 * index);\r\n            });\r\n        }\r\n\r\n        private prepareSeries() {\r\n            if (!this.series) return;\r\n\r\n            _.each(this.series, (item: any, index: number) => {\r\n                const materialColor = this.pipChartColors.getMaterialColor(index, this.colors);\r\n                item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : materialColor);\r\n                item.disabled = item.disabled || false;\r\n            });\r\n        }\r\n    }\r\n\r\n    const ChartLegend: ng.IComponentOptions = {\r\n        bindings: ChartLegendBindings,\r\n        templateUrl: 'chart_legend/ChartInteractiveLegend.html',\r\n        controller: ChartLegendController\r\n    }\r\n\r\n    angular\r\n        .module('pipChartLegends', [])\r\n        .component('pipChartLegend', ChartLegend);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        showYAxis: any;\r\n        showXAxis: any;\r\n        xFormat: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        xTickValues: any;\r\n        dynamic: any;\r\n        fixedHeight: any;\r\n        dynamicHeight: any;\r\n        minHeight: any;\r\n        maxHeight: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const LineChartBindings: ILineChartBindings = {\r\n        series: '<pipSeries',\r\n        showYAxis: '<?pipYAxis',\r\n        showXAxis: '<?pipXAxis',\r\n        xFormat: '<?pipXFormat',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        xTickValues: '<?pipXTickValues',\r\n        dynamic: '<?pipDynamic',\r\n        fixedHeight: '<?pipDiagramHeight',\r\n        dynamicHeight: '<?pipDynamicHeight',\r\n        minHeight: '<?pipMinHeight',\r\n        maxHeight: '<?pipMaxHeight',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class LineChartBindingsChanges implements ng.IOnChangesObject, ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        fixedHeight: ng.IChangesObject<number>;\r\n        dynamicHeight: ng.IChangesObject<boolean>;\r\n        minHeight: ng.IChangesObject<number>;\r\n        maxHeight: ng.IChangesObject<number>;\r\n\r\n        series: ng.IChangesObject<any>;\r\n        showYAxis: ng.IChangesObject<boolean>;\r\n        showXAxis: ng.IChangesObject<boolean>;\r\n        xFormat: ng.IChangesObject<any>;\r\n        xTickFormat: ng.IChangesObject<any>;\r\n        yTickFormat: ng.IChangesObject<any>;\r\n        xTickValues: ng.IChangesObject<any>;\r\n        dynamic: ng.IChangesObject<boolean>;\r\n        interactiveLegend: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LineChartController implements ng.IController, ILineChartBindings {\r\n        private HEIGHT = 270;\r\n        private chart: nv.LineChart = null;\r\n        private chartElem: any = null;\r\n        private setZoom: Function = null;\r\n        private updateZoomOptions: Function = null;\r\n        private colors: string[];\r\n\r\n        public fixedHeight: number = this.HEIGHT;\r\n        public dynamicHeight: boolean = false;\r\n        public minHeight: number = this.HEIGHT;\r\n        public maxHeight: number = this.HEIGHT;\r\n        public series: any;\r\n        public showYAxis: boolean = true;\r\n        public showXAxis: boolean = true;\r\n        public xFormat: Function;\r\n        public xTickFormat: Function;\r\n        public yTickFormat: Function;\r\n        public xTickValues: number[];\r\n        public dynamic: boolean = false;\r\n        public interactiveLegend: boolean = false;\r\n        public data: any;\r\n        public legend: any;\r\n        public sourceEvents: any;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $timeout(() => {\r\n                    d3.selectAll('.nvtooltip').style('opacity', 0);\r\n                }, 800)\r\n            });\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series) || [];\r\n            this.legend = _.clone(this.series);\r\n            this.sourceEvents = [];\r\n\r\n            this.generateParameterColor();\r\n\r\n            (<any>d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: LineChartBindingsChanges) {\r\n            this.fixedHeight = changes.fixedHeight ? changes.fixedHeight.currentValue : this.HEIGHT;\r\n            this.minHeight = changes.minHeight ? changes.minHeight.currentValue : this.HEIGHT;\r\n            this.maxHeight = changes.maxHeight ? changes.maxHeight.currentValue : this.HEIGHT;\r\n            this.dynamicHeight = changes.dynamicHeight ? changes.dynamicHeight.currentValue : this.dynamicHeight;\r\n\r\n            this.showXAxis = changes.showXAxis ? changes.showXAxis.currentValue : this.showXAxis;\r\n            this.showYAxis = changes.showYAxis ? changes.showYAxis.currentValue : this.showYAxis;\r\n            this.dynamic = changes.dynamic ? changes.dynamic.currentValue : this.dynamic;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : this.interactiveLegend;\r\n\r\n            this.xFormat = changes.xFormat ? changes.xFormat.currentValue : this.xFormat;\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : this.xTickFormat;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : this.yTickFormat;\r\n\r\n            if (changes.xTickValues && changes.xTickValues.currentValue !== changes.xTickValues.previousValue) {\r\n                this.xTickValues = changes.xTickValues.currentValue;\r\n                this.updateXTickValues();\r\n                if (this.chartElem && this.chart) this.chartElem.datum(this.data || []).call(this.chart);\r\n            }\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.updateSeries();\r\n            }\r\n        }\r\n\r\n        private prepareData(data) {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private getHeight() {\r\n            /*if (this.dynamicHeight) {\r\n                const heigth = Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight);\r\n                return heigth;\r\n            } else {\r\n                return this.fixedHeight;\r\n            }*/\r\n            return this.dynamicHeight ? Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight) : this.fixedHeight;\r\n        };\r\n\r\n        public zoomIn() {\r\n            if (this.setZoom) {\r\n                this.setZoom('in');\r\n            }\r\n        };\r\n\r\n        public zoomOut() {\r\n            if (this.setZoom) {\r\n                this.setZoom('out');\r\n            }\r\n        };\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.lineChart()\r\n                    .margin({\r\n                        top: 20,\r\n                        right: 20,\r\n                        bottom: 30,\r\n                        left: 80\r\n                    })\r\n                    .x((d) => {\r\n                        return (d !== undefined && d.x !== undefined) ? (this.xFormat ? this.xFormat(d.x) : d.x) : d;\r\n                    })\r\n                    .y((d) => {\r\n                        return (d !== undefined && d.value !== undefined) ? d.value : d;\r\n                    })\r\n                    .height(this.getHeight() - 50)\r\n                    .useInteractiveGuideline(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .showLegend(false)\r\n                    .color((d) => {\r\n                        return d.color || (<any>d3.scale).paletteColors().range();\r\n                    });\r\n                if (this.onlyZeroY()) {\r\n                    this.chart.yDomain([0, 5]);\r\n                }\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d: any) => {\r\n                        let y = this.yTickFormat ? this.yTickFormat(d) : d;\r\n\r\n                        return this.clipYTick(y);\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    })\r\n                    .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                        d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0)).select('.line-chart svg');\r\n                this.chartElem.datum(this.data || []).style('height', (this.getHeight() - 50) + 'px').call(this.chart);\r\n                // Handle touches for correcting tooltip position\r\n                $('.line-chart svg').on('touchstart touchmove', (e) => {\r\n                    this.$timeout(() => {\r\n                        const tooltip = $('.nvtooltip'),\r\n                            tooltipW = tooltip.innerWidth(),\r\n                            bodyWidth = $('body').innerWidth(),\r\n                            x = e.originalEvent['touches'][0]['pageX'],\r\n                            y = e.originalEvent['touches'][0]['pageY'];\r\n\r\n                        tooltip.css('transform', 'translate(' +\r\n                            (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' +\r\n                            y + ')');\r\n                        tooltip.css('left', 0);\r\n                        tooltip.css('top', 0);\r\n                    });\r\n                });\r\n\r\n                $('.line-chart svg').on('touchstart touchend', (e) => {\r\n                    const removeTooltip = () => {\r\n                        $('.nvtooltip').css('opacity', 0);\r\n                    };\r\n\r\n                    removeTooltip();\r\n\r\n                    this.$timeout(() => {\r\n                        removeTooltip();\r\n                    }, 500);\r\n                });\r\n\r\n                if (this.dynamic) {\r\n                    this.addZoom(this.chart, this.chartElem);\r\n                }\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelOpened', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1500);\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelClosed', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1500);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private clipYTick(string: String): any {\r\n            return string.length > 12 ? (string.substr(0, 10) + '..') : string;\r\n        }\r\n\r\n        private onlyZeroY() {\r\n            for (let seria in this.data) {\r\n                for (let v in this.data[seria]['values']) {\r\n                    if (this.data[seria]['values'][v]['value'] != 0) return false;\r\n                };\r\n            };\r\n\r\n            return true;\r\n        }\r\n\r\n        private updateXTickValues() {\r\n            if (!this.chart) return;\r\n\r\n            this.chart.xAxis\r\n                .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                    d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.updateXTickValues();\r\n\r\n                this.chartElem.datum(this.data || []).call(this.chart);\r\n                this.drawEmptyState();\r\n\r\n                if (this.updateZoomOptions) this.updateZoomOptions(this.data);\r\n            }\r\n        }\r\n\r\n        private updateSeries() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n\r\n            this.generateParameterColor();\r\n            this.updateChart();\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.height(this.getHeight() - 50);\r\n            this.chartElem.style('height', (this.getHeight() - 50) + 'px');\r\n            this.chart.update();\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const containerWidth = this.$element.find('.line-chart').innerWidth(),\r\n                    containerHeight = this.$element.find('.line-chart').innerHeight();\r\n\r\n                if (this.$element.find('.empty-state').get(0)) {\r\n                    this.chartElem\r\n                        .select('image')\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\r\n                } else {\r\n                    this.chartElem\r\n                        .append(\"defs\")\r\n                        .append(\"pattern\")\r\n                        .attr(\"height\", 1)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"x\", \"0\")\r\n                        .attr(\"y\", \"0\")\r\n                        .attr(\"id\", \"bg\")\r\n                        .append(\"image\")\r\n                        .attr('x', 17)\r\n                        .attr('y', 0)\r\n                        .attr('height', \"216px\")\r\n                        .attr('width', \"1151px\")\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\r\n                        .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\r\n\r\n                    this.chartElem\r\n                        .append('rect')\r\n                        .classed('empty-state', true)\r\n                        .attr('height', \"100%\")\r\n                        .attr('width', \"100%\")\r\n                        .attr('fill', 'url(#bg)');\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateScroll(domains, boundary) {\r\n            const bDiff = boundary[1] - boundary[0],\r\n                domDiff = domains[1] - domains[0],\r\n                isEqual = domDiff / bDiff === 1;\r\n\r\n            $(this.$element[0]).find('.visual-scroll')\r\n                .css('opacity', function () {\r\n                    return isEqual ? 0 : 1;\r\n                });\r\n\r\n            if (isEqual) return;\r\n\r\n            $(this.$element[0]).find('.scrolled-block')\r\n                .css('left', () => {\r\n                    return (domains[0] - boundary[0]) / bDiff * 100 + '%';\r\n                })\r\n                .css('width', () => {\r\n                    return domDiff / bDiff * 100 + '%';\r\n                });\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n        private addZoom(chart, svg) {\r\n            // Scale Extent\r\n            const scaleExtent = 4;\r\n\r\n            // Parameters\r\n            let yAxis = null;\r\n            let xAxis = null;\r\n            let xDomain = null;\r\n            let yDomain = null;\r\n            let redraw = null;\r\n\r\n            // Scales\r\n            let xScale = null;\r\n            let yScale = null;\r\n\r\n            // Min/max boundaries\r\n            let x_boundary = null;\r\n            let y_boundary = null;\r\n\r\n            // Create d3 zoom handler\r\n            let d3zoom = d3.behavior.zoom();\r\n            let prevXDomain = null;\r\n            let prevScale = null;\r\n            let prevTranslate = null;\r\n\r\n            const setData = (newChart) => {\r\n                // Parameters\r\n                yAxis = newChart.yAxis;\r\n                xAxis = newChart.xAxis;\r\n                xDomain = newChart.xDomain || xAxis.scale().domain;\r\n                yDomain = newChart.yDomain || yAxis.scale().domain;\r\n                redraw = newChart.update;\r\n\r\n                // Scales\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                // Min/max boundaries\r\n                x_boundary = xAxis.scale().domain().slice();\r\n                y_boundary = yAxis.scale().domain().slice();\r\n\r\n                // Create d3 zoom handler\r\n                prevXDomain = x_boundary;\r\n                prevScale = d3zoom.scale();\r\n                prevTranslate = d3zoom.translate();\r\n\r\n                // Ensure nice axis\r\n                xScale.nice();\r\n                yScale.nice();\r\n            }\r\n\r\n            setData(chart);\r\n\r\n            // Fix domain\r\n            const fixDomain = (domain, boundary, scale, translate) => {\r\n                if (domain[0] < boundary[0]) {\r\n                    domain[0] = boundary[0];\r\n                    if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                        domain[1] += (boundary[0] - domain[0]);\r\n                    } else {\r\n                        domain[1] = prevXDomain[1];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n\r\n                }\r\n                if (domain[1] > boundary[1]) {\r\n                    domain[1] = boundary[1];\r\n                    if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                        domain[0] -= (domain[1] - boundary[1]);\r\n                    } else {\r\n                        domain[0] = prevXDomain[0];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                prevXDomain = _.clone(domain);\r\n                prevScale = _.clone(scale);\r\n                prevTranslate = _.clone(translate);\r\n\r\n                return domain;\r\n            }\r\n\r\n            const updateChart = () => {\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                xScale.domain(x_boundary);\r\n                d3zoom.x(xScale).y(yScale);\r\n                svg.call(d3zoom);\r\n            }\r\n\r\n            // Zoom event handler\r\n            const zoomed = () => {\r\n                if ((<any>d3.event).scale === 1) {\r\n                    unzoomed();\r\n                    updateChart();\r\n                } else {\r\n                    xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\r\n                    redraw();\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n\r\n            // Describe set zoom function\r\n            this.setZoom = (which) => {\r\n                const center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                const translate0 = d3zoom.translate(),\r\n                    coordinates0 = coordinates(center0);\r\n\r\n                if (which === 'in') {\r\n                    if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                } else {\r\n                    if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                }\r\n\r\n                const center1 = point(coordinates0);\r\n                d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                d3zoom.event(svg);\r\n            };\r\n\r\n            const step = (which) => {\r\n                const translate = d3zoom.translate();\r\n\r\n                if (which === 'right') {\r\n                    translate[0] -= 20;\r\n                } else {\r\n                    translate[0] += 20;\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                d3zoom.event(svg);\r\n            }\r\n\r\n            const coordinates = (point) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n            }\r\n\r\n            const point = (coordinates) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n            }\r\n\r\n            const keypress = () => {\r\n                switch ((<any>d3.event).keyCode) {\r\n                    case 39:\r\n                        step('right');\r\n                        break;\r\n                    case 37:\r\n                        step('left');\r\n                        break;\r\n                    case 107:\r\n                        this.setZoom('in');\r\n                        break;\r\n                    case 109:\r\n                        this.setZoom('out');\r\n                }\r\n            }\r\n\r\n            // Zoom event handler\r\n            const unzoomed = () => {\r\n                xDomain(x_boundary);\r\n                redraw();\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                prevScale = 1;\r\n                prevTranslate = [0, 0];\r\n            }\r\n\r\n            // Initialize wrapper\r\n            d3zoom.x(xScale)\r\n                .y(yScale)\r\n                .scaleExtent([1, scaleExtent])\r\n                .on('zoom', zoomed);\r\n\r\n            // Add handler\r\n            svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n            $(this.$element.get(0)).addClass('dynamic');\r\n\r\n            // Add keyboard handlers\r\n            svg\r\n                .attr('focusable', false)\r\n                .style('outline', 'none')\r\n                .on('keydown', keypress)\r\n                .on('focus', () => { });\r\n\r\n            const getXMinMax = (data) => {\r\n                let maxVal, minVal = null;\r\n\r\n                for (let i = 0; i < data.length; i++) {\r\n                    if (!data[i].disabled) {\r\n                        const tempMinVal = d3.max(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        const tempMaxVal = d3.min(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                        maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                    }\r\n                }\r\n                return [maxVal, minVal];\r\n            };\r\n\r\n            const updateZoomOptions = (data) => {\r\n                yAxis = chart.yAxis;\r\n                xAxis = chart.xAxis;\r\n\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                x_boundary = getXMinMax(data);\r\n\r\n                if (d3zoom.scale() === 1) {\r\n                    d3zoom.x(xScale).y(yScale);\r\n                    svg.call(d3zoom);\r\n                    d3zoom.event(svg);\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n        }\r\n    }\r\n\r\n    const LineChart: ng.IComponentOptions = {\r\n        bindings: LineChartBindings,\r\n        templateUrl: 'line_chart/LineChart.html',\r\n        controller: LineChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipLineCharts', [])\r\n        .component('pipLineChart', LineChart);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        donut: any;\r\n        legend: any;\r\n        total: any;\r\n        size: any;\r\n        centered: any;\r\n    }\r\n\r\n    const PieChartBindings: IPieChartBindings = {\r\n        series: '<pipSeries',\r\n        donut: '<?pipDonut',\r\n        legend: '<?pipShowLegend',\r\n        total: '<?pipShowTotal',\r\n        size: '<?pipPieSize',\r\n        centered: '<?pipCentered'\r\n    }\r\n\r\n    class PieChartBindingsChanges implements ng.IOnChangesObject, IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        donut: ng.IChangesObject < boolean > ;\r\n        legend: ng.IChangesObject < boolean > ;\r\n        total: ng.IChangesObject < boolean > ;\r\n        size: ng.IChangesObject < number | string > ;\r\n        centered: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class PieChartController implements ng.IController, IPieChartBindings {\r\n        public series: any;\r\n        public donut: boolean = false;\r\n        public legend: boolean = true;\r\n        public total: boolean = true;\r\n        public size: number | string = 250;\r\n        public centered: boolean = false;\r\n\r\n        private data: any;\r\n        private chart: nv.PieChart = null;\r\n        private chartElem: any;\r\n        private titleElem: any;\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.series;\r\n            this.generateParameterColor();\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: PieChartBindingsChanges) {\r\n            this.legend = changes.legend ? changes.legend.currentValue : this.legend;\r\n            this.centered = changes.centered ? changes.centered.currentValue : this.centered;\r\n            this.donut = changes.donut ? changes.donut.currentValue : this.donut;\r\n            this.size = changes.size ? changes.size.currentValue : this.size;\r\n            this.total = changes.total ? changes.total.currentValue : this.total;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.data = changes.series.currentValue;\r\n                this.generateParameterColor();\r\n\r\n                if (this.chart) {\r\n                    this.chartElem.datum(this.data).call(this.chart);\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                }\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.pieChart()\r\n                    .margin({\r\n                        top: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        left: 0\r\n                    })\r\n                    .x((d) => {\r\n                        return this.donut ? d.value : null;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .height(Number(this.size))\r\n                    .width(Number(this.size))\r\n                    .showLabels(true)\r\n                    .labelThreshold(.001)\r\n                    .growOnHover(false)\r\n                    .donut(this.donut)\r\n                    .donutRatio(0.5)\r\n                    .color((d) => {\r\n                        return d.color || ( < any > d3.scale).paletteColors().range();\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n                this.chart.showLegend(false);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0))\r\n                    .select('.pie-chart')\r\n                    .style('height', (this.size) + 'px')\r\n                    .style('width', this.centered ? '100%' : (this.size) + 'px')\r\n                    .select('svg')\r\n                    .style('opacity', 0)\r\n                    .datum(this.data || [])\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.chart.update();\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.centerChart();\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0];\r\n                    this.renderTotalLabel(svgElem);\r\n                    d3.select(svgElem)\r\n                        .transition()\r\n                        .duration(1000)\r\n                        .style('opacity', 1);\r\n\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    }, 800);\r\n                    this.centerChart();\r\n                    this.drawEmptyState(svgElem);\r\n                });\r\n            });\r\n        }\r\n\r\n        private drawEmptyState(svg) {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n                this.$element.find('.pip-empty-pie-text').remove();\r\n            } else {\r\n                if (this.$element.find('.pip-empty-pie-text').length === 0) {\r\n                    this.$element.find('.pie-chart')\r\n                        .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\r\n                }\r\n\r\n                const pie = d3.layout.pie().sort(null),\r\n                    size = Number(this.size);\r\n\r\n                const arc = d3.svg.arc()\r\n                    .innerRadius(size / 2 - 20)\r\n                    .outerRadius(size / 2 - 57);\r\n\r\n                svg = d3.select(svg)\r\n                    .append(\"g\")\r\n                    .classed('empty-state', true)\r\n                    .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\r\n\r\n                const path = svg.selectAll(\"path\")\r\n                    .data(pie([1]))\r\n                    .enter().append(\"path\")\r\n                    .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\r\n                    .attr(\"d\", < any > arc);\r\n            }\r\n        }\r\n\r\n        private centerChart() {\r\n            if (this.centered) {\r\n                const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0],\r\n                    leftMargin = $(svgElem).innerWidth() / 2 - (Number(this.size) || 250) / 2;\r\n                d3.select(this.$element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\r\n            }\r\n        }\r\n\r\n        private renderTotalLabel(svgElem) {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            let totalVal = this.data.reduce(function (sum, curr) {\r\n                return sum + curr.value;\r\n            }, 0);\r\n\r\n            if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\r\n\r\n            d3.select(svgElem)\r\n                .select('.nv-pie:not(.nvd3)')\r\n                .append('text')\r\n                .classed('label-total', true)\r\n                .attr('text-anchor', 'middle')\r\n                .style('dominant-baseline', 'central')\r\n                .text(totalVal);\r\n\r\n            this.titleElem = d3.select(this.$element.find('text.label-total').get(0)).style('opacity', 0);\r\n        }\r\n\r\n        private resizeTitleLabelUnwrap() {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            const boxSize = ( < any > this.$element.find('.nvd3.nv-pieChart').get(0)).getBBox();\r\n\r\n            if (!boxSize.width || !boxSize.height) {\r\n                return;\r\n            }\r\n\r\n            this.titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const PieChart: ng.IComponentOptions = {\r\n        bindings: PieChartBindings,\r\n        templateUrl: 'pie_chart/PieChart.html',\r\n        controller: PieChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipPieCharts', [])\r\n        .component('pipPieChart', PieChart);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar_chart/BarChart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend ng-show=\"$ctrl.legend\" pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('chart_legend/ChartInteractiveLegend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in $ctrl.series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"$ctrl.interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!$ctrl.interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line_chart/LineChart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': $ctrl.showXAxis, \\'visible-y-axis\\': $ctrl.showYAxis}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"$ctrl.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"$ctrl.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie_chart/PieChart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !$ctrl.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"$ctrl.data\" pip-interactive=\"false\" ng-if=\"$ctrl.legend\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","{\r\n    interface ILocationBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipShowLocationIcon: any;\r\n        pipCollapse: any;\r\n        pipRebind: any;\r\n        pipDisabled: any;\r\n        pipLocationResize: any;\r\n    }\r\n\r\n    const LocationBindings: ILocationBindings = {\r\n        pipLocationName: '<',\r\n        pipLocationPos: '<',\r\n        pipShowLocationIcon: '<',\r\n        pipCollapse: '<',\r\n        pipRebind: '<',\r\n        pipDisabled: '<',\r\n        pipLocationResize: '&'\r\n    }\r\n\r\n    class LocationBindingsChanges implements ng.IOnChangesObject, ILocationBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: ng.IChangesObject < string > ;\r\n        pipLocationPos: ng.IChangesObject < any > ;\r\n        pipShowLocationIcon: ng.IChangesObject < boolean > ;\r\n        pipCollapse: ng.IChangesObject < boolean > ;\r\n        pipRebind: ng.IChangesObject < boolean > ;\r\n        pipDisabled: ng.IChangesObject < boolean > ;\r\n\r\n        pipLocationResize: any;\r\n    }\r\n\r\n    class LocationController implements ng.IController, ILocationBindings {\r\n        public pipLocationName: string;\r\n        public pipLocationPos: any;\r\n        public pipShowLocationIcon: boolean;\r\n        public pipCollapse: boolean;\r\n        public pipRebind: boolean;\r\n        public pipDisabled: boolean;\r\n        public showMap: boolean = true;\r\n        public pipLocationResize: Function;\r\n\r\n        private name: JQuery;\r\n        private mapContainer: JQuery;\r\n        private mapControl: JQuery;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope\r\n        ) {\r\n            \"ngInject\";\r\n            // Add class\r\n            $element.addClass('pip-location');\r\n        }\r\n\r\n        public $postLink() {\r\n            this.$timeout(() => {\r\n                this.name = this.$element.find('.pip-location-name');\r\n                this.mapContainer = this.$element.find('.pip-location-container');\r\n\r\n                if (this.pipCollapse === true) {\r\n                    this.mapContainer.hide();\r\n                    this.showMap = false;\r\n\r\n                    // Process user click\r\n                    this.name.click((event) => {\r\n                        event.stopPropagation();\r\n                        if (this.pipDisabled) return;\r\n                        this.showMap = !this.showMap;\r\n                        this.mapContainer[this.showMap ? 'show' : 'hide']();\r\n                        if (this.showMap) this.generateMap();\r\n                        if (!this.$scope.$$phase) this.$scope.$apply();\r\n                    });\r\n                }\r\n\r\n                this.redrawMap();\r\n            });\r\n        }\r\n\r\n        private redrawMap() {\r\n            if (!this.mapContainer) return;\r\n\r\n            // Visualize map\r\n            if (this.pipLocationPos && this.showMap === true) {\r\n                this.generateMap();\r\n            } else {\r\n                this.clearMap();\r\n            }\r\n        }\r\n\r\n        public $onChanges(changes: LocationBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind \r\n                ? changes.pipRebind.currentValue || false : false;\r\n            this.pipShowLocationIcon = changes.pipShowLocationIcon \r\n                ? changes.pipShowLocationIcon.currentValue || false : false;\r\n            this.pipCollapse = changes.pipCollapse \r\n                ? changes.pipCollapse.currentValue || false : false;\r\n            this.pipDisabled = changes.pipDisabled \r\n                ? changes.pipDisabled.currentValue || false : false;\r\n\r\n            if (this.pipRebind) {\r\n                this.pipLocationName = changes.pipLocationName \r\n                    ? changes.pipLocationName.currentValue : null;\r\n                this.pipLocationPos = changes.pipLocationPos \r\n                    ? changes.pipLocationPos.currentValue : null;\r\n                this.redrawMap();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n            this.mapContainer.hide();\r\n        }\r\n\r\n        private generateMap() {\r\n            const location = this.pipLocationPos;\r\n\r\n            // Safeguard for bad coordinates\r\n            if (this.showMap === false \r\n                || location == null \r\n                || location.coordinates == null \r\n                || location.coordinates.length < 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            const coordinates = new google.maps.LatLng(\r\n                location.coordinates[0],\r\n                location.coordinates[1]\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapContainer.show();\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const\r\n                mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\r\n\r\n            new google.maps.Marker({\r\n                position: coordinates,\r\n                map: map\r\n            });\r\n        };\r\n    }\r\n\r\n    const LocationComponent: ng.IComponentOptions = {\r\n        bindings: LocationBindings,\r\n        templateUrl: 'location/Location.html',\r\n        controller: LocationController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocation\", [])\r\n        .component('pipLocation', LocationComponent);\r\n}","import { ILocationDialogService } from './ILocationDialogService';\r\nimport { LocationDialogParams } from './LocationDialogParams';\r\n\r\n{\r\n    class LocationEditDialogController {\r\n        private _map = null;\r\n        private _marker = null;\r\n\r\n        public theme: string;\r\n        public locationPos;\r\n        public locationName;\r\n        public supportSet: boolean;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $timeout: angular.ITimeoutService,\r\n            private $mdDialog: angular.material.IDialogService,\r\n            locationPos: any,\r\n            locationName: string\r\n        ) {\r\n            this.theme = $rootScope['$theme'];\r\n            this.locationPos = locationPos && locationPos.type == 'Point' &&\r\n                locationPos.coordinates && locationPos.coordinates.length == 2 ?\r\n                locationPos : null;\r\n            this.locationName = locationName;\r\n            this.supportSet = navigator.geolocation != null;\r\n\r\n            // Wait until dialog is initialized\r\n            $timeout(() => {\r\n                let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\r\n                // Calculate coordinate of the center\r\n                let coordinates = this.locationPos ?\r\n                    new google.maps.LatLng(\r\n                        this.locationPos.coordinates[0],\r\n                        this.locationPos.coordinates[1]\r\n                    ) : null;\r\n\r\n                // Create the map with point marker\r\n                const mapOptions = {\r\n                    center: new google.maps.LatLng(0, 0),\r\n                    zoom: 1,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true\r\n                }\r\n                if (coordinates != null) {\r\n                    mapOptions.center = coordinates;\r\n                    mapOptions.zoom = 12;\r\n                }\r\n\r\n                this._map = new google.maps.Map(mapContainer[0], mapOptions);\r\n                this._marker = this.createMarker(coordinates);\r\n\r\n                // Fix resizing issue\r\n                $timeout(() => {\r\n                    google.maps.event.trigger(this._map, 'resize');\r\n                }, 1000);\r\n            }, 0);\r\n\r\n            $scope.$on('pipLayoutResized', () => {\r\n                if (this._map == null) return;\r\n                google.maps.event.trigger(this._map, 'resize');\r\n            });\r\n\r\n        }\r\n\r\n        private createMarker(coordinates) {\r\n            if (this._marker) this._marker.setMap(null);\r\n            if (coordinates) {\r\n                this._marker = new google.maps.Marker({\r\n                    position: coordinates,\r\n                    map: this._map,\r\n                    draggable: true,\r\n                    animation: google.maps.Animation.DROP\r\n                });\r\n\r\n                let thisMarker = this._marker;\r\n                google.maps.event.addListener(thisMarker, 'dragend', () => {\r\n                    let coordinates = thisMarker.getPosition();\r\n                    this.changeLocation(coordinates, null);\r\n                });\r\n            } else {\r\n                this._marker = null;\r\n            }\r\n\r\n            return this._marker;\r\n        }\r\n\r\n        private changeLocation(coordinates, tid) {\r\n            this.locationPos = {\r\n                type: 'Point',\r\n                coordinates: [coordinates.lat(), coordinates.lng()]\r\n            };\r\n            this.locationName = null;\r\n            // Read address\r\n            const geocoder = new google.maps.Geocoder();\r\n            geocoder.geocode({\r\n                latLng: coordinates\r\n            }, (results, status) => {\r\n                // Process positive response\r\n                if (results && results.length > 0) {\r\n                    this.locationName = results[0].formatted_address;\r\n                }\r\n\r\n                this.$scope.$apply();\r\n            })\r\n        }\r\n        // Describe user actions\r\n        public onAddPin() {\r\n            if (this._map === null) return;\r\n\r\n            const coordinates = this._map.getCenter();\r\n            this._marker = this.createMarker(coordinates);\r\n            this.changeLocation(coordinates, null);\r\n        }\r\n\r\n        public onRemovePin() {\r\n            if (this._map === null) return;\r\n            this._marker = this.createMarker(null);\r\n            this.locationPos = null;\r\n            this.locationName = null;\r\n        }\r\n\r\n        public onZoomIn() {\r\n            if (this._map === null) return;\r\n            const zoom = this._map.getZoom();\r\n            this._map.setZoom(zoom + 1);\r\n        }\r\n\r\n        public onZoomOut() {\r\n            if (this._map === null) return;\r\n            const zoom = this._map.getZoom();\r\n            this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\r\n        }\r\n\r\n        public onSetLocation = function () {\r\n            if (this._map === null) return;\r\n\r\n            navigator.geolocation.getCurrentPosition(\r\n                (position) => {\r\n                    const coordinates = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n                    this._marker = this.createMarker(coordinates);\r\n                    this._map.setCenter(coordinates);\r\n                    this._map.setZoom(12);\r\n                    this.changeLocation(coordinates, null);\r\n                },\r\n                () => {\r\n                    this.$scope.$apply();\r\n                }, {\r\n                    maximumAge: 0,\r\n                    enableHighAccuracy: true,\r\n                    timeout: 5000\r\n                });\r\n        }\r\n\r\n        public onCancel(): void {\r\n            this.$mdDialog.cancel();\r\n        }\r\n\r\n        public onApply(): void {\r\n            this.$mdDialog.hide({\r\n                location: this.locationPos,\r\n                locationPos: this.locationPos,\r\n                locationName: this.locationName\r\n            })\r\n        }\r\n    }\r\n    \r\n    class LocationDialogService implements ILocationDialogService {\r\n        constructor(\r\n            private $mdDialog: angular.material.IDialogService\r\n        ) {}\r\n\r\n        public show(params: LocationDialogParams, successCallback?, cancelCallback?) {\r\n            this.$mdDialog.show({\r\n                    controller: LocationEditDialogController,\r\n                    controllerAs: '$ctrl',\r\n                    templateUrl: 'location_dialog/LocationDialog.html',\r\n                    locals: {\r\n                        locationName: params.locationName,\r\n                        locationPos: params.locationPos\r\n                    },\r\n                    clickOutsideToClose: true\r\n                })\r\n                .then((result) => {\r\n                    if (successCallback) {\r\n                        successCallback(result);\r\n                    }\r\n                }, () => {\r\n                    if (cancelCallback) {\r\n                        cancelCallback();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    const LocationDialogRun = function($injector: ng.auto.IInjectorService) {\r\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            ( < any > pipTranslate).setTranslations('en', {\r\n                'LOCATION_ADD_LOCATION': 'Add location',\r\n                'LOCATION_SET_LOCATION': 'Set location',\r\n                'LOCATION_ADD_PIN': 'Add pin',\r\n                'LOCATION_REMOVE_PIN': 'Remove pin'\r\n            });\r\n            ( < any > pipTranslate).setTranslations('ru', {\r\n                'LOCATION_ADD_LOCATION': ' ',\r\n                'LOCATION_SET_LOCATION': ' ',\r\n                'LOCATION_ADD_PIN': ' ',\r\n                'LOCATION_REMOVE_PIN': ' '\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipLocationEditDialog')\r\n        .run(LocationDialogRun)\r\n        .service('pipLocationEditDialog', LocationDialogService);\r\n}","export class LocationDialogParams {\r\n    // Locations position\r\n    locationPos: any;\r\n    // Location name\r\n    locationName: string;\r\n}","angular.module('pipLocationEditDialog', ['ngMaterial', 'pipLocations.Templates']);\r\n\r\nimport './LocationDialog'","import { ILocationDialogService } from '../location_dialog/ILocationDialogService';\r\n\r\n{\r\n    interface ILocationEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipLocationHolder: any;\r\n        ngDisabled: any;\r\n        pipChanged: any;\r\n    }\r\n\r\n    const LocationEditBindings: ILocationEditBindings = {\r\n        pipLocationName: '=',\r\n        pipLocationPos: '=',\r\n        pipLocationHolder: '=',\r\n        ngDisabled: '<',\r\n        pipChanged: '&'\r\n    }\r\n\r\n    class LocationEditBindingsChanges implements ng.IOnChangesObject, ILocationEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipLocationHolder: any;\r\n        pipChanged: any;\r\n\r\n        ngDisabled: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LocationEditController implements ng.IController, ILocationEditBindings {\r\n        public pipLocationName: string;\r\n        public pipLocationPos: any;\r\n        public pipLocationHolder: boolean;\r\n        public ngDisabled: boolean;\r\n        public pipChanged: Function;\r\n\r\n        private empty: JQuery;\r\n        private mapContainer: JQuery;\r\n        private mapControl: any;\r\n        private defineCoordinatesDebounced: Function;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private pipLocationEditDialog: ILocationDialogService\r\n        ) {\r\n            this.defineCoordinatesDebounced = _.debounce(() => {\r\n                this.defineCoordinates\r\n            }, 2000);\r\n        }\r\n\r\n        public $postLink() {\r\n            this.$element.find('md-input-container').attr('md-no-float', (!!this.pipLocationHolder).toString());\r\n            // Set containers\r\n            this.empty = this.$element.children('.pip-location-empty');\r\n            this.mapContainer = this.$element.children('.pip-location-container');\r\n            this.mapControl = null;\r\n\r\n            // Add watchers\r\n            this.$scope.$watch('$ctrl.pipLocationName',\r\n                (newValue, oldValue) => {\r\n                    if (newValue !== oldValue) {\r\n                        this.defineCoordinatesDebounced();\r\n                    }\r\n                }\r\n            );\r\n            this.$scope.$watch('$ctrl.pipLocationPos',\r\n                () => {\r\n                    this.generateMap();\r\n                }\r\n            );\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-location-edit');\r\n\r\n            // Visualize map\r\n            if (this.pipLocationPos) {\r\n                this.generateMap();\r\n            } else {\r\n                this.clearMap();\r\n            }\r\n        }\r\n\r\n        public $onChanges(changes: LocationEditBindingsChanges) {\r\n            this.ngDisabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false; \r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n\r\n            // Toggle control visibility\r\n            this.mapContainer.hide();\r\n            this.empty.show();\r\n        }\r\n\r\n        private generateMap() {\r\n            // Safeguard for bad coordinates\r\n            const location = this.pipLocationPos;\r\n            if (location == null || location.coordinates == null || location.coordinates.length < 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            const coordinates = new google.maps.LatLng(\r\n                location.coordinates[0],\r\n                location.coordinates[1]\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n\r\n            // Toggle control visibility\r\n            this.mapContainer.show();\r\n            this.empty.hide();\r\n\r\n            // Add a new map\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\r\n                marker = new google.maps.Marker({\r\n                    position: coordinates,\r\n                    map: map\r\n                });\r\n        }\r\n\r\n        private defineCoordinates() {\r\n            const locationName = this.pipLocationName;\r\n\r\n            if (locationName == '') {\r\n                this.pipLocationPos = null;\r\n                this.clearMap();\r\n                this.$scope.$apply();\r\n                return;\r\n            }\r\n\r\n            const geocoder = new google.maps.Geocoder();\r\n            geocoder.geocode({\r\n                address: locationName\r\n            }, function (results, status) {\r\n                this.$scope.$apply(function () {\r\n                    // Process response\r\n                    if (status === google.maps.GeocoderStatus.OK) {\r\n                        // Check for empty results\r\n                        if (results === null || results.length === 0) {\r\n                            this.pipLocationPos = null;\r\n                            this.clearMap();\r\n                            return;\r\n                        }\r\n\r\n                        const geometry = results[0].geometry || {},\r\n                            location = geometry.location || {};\r\n\r\n                        // Check for empty results again\r\n                        if (location.lat === null || location.lng === null) {\r\n                            this.pipLocationPos = null;\r\n                            this.clearMap();\r\n                            return;\r\n                        }\r\n\r\n                        this.pipLocationPos = {\r\n                            type: 'Point',\r\n                            coordinates: {\r\n                                latitude: location.lat(),\r\n                                longtitude: location.lng()\r\n                            }\r\n                        };\r\n                        this.generateMap();\r\n                    }\r\n                    else {\r\n                        this.pipLocationPos = null;\r\n                        this.clearMap();\r\n                    }\r\n                });\r\n            });\r\n        };\r\n\r\n        public onSetLocation() {\r\n            if (this.ngDisabled) return;\r\n\r\n            this.pipLocationEditDialog.show({\r\n                    locationName: this.pipLocationName,\r\n                    locationPos: this.pipLocationPos\r\n                },\r\n                (result) => {\r\n                    const\r\n                        location = result.location,\r\n                        locationName = result.locationName;\r\n\r\n                    // Do not change anything if location is about the same\r\n                    if (this.pipLocationPos && this.pipLocationPos.type == 'Point' &&\r\n                        this.pipLocationPos.coordinates.length == 2 &&\r\n                        location && location.coordinates.length == 2 &&\r\n                        (this.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001 &&\r\n                        (this.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001 &&\r\n                        (locationName === this.pipLocationName)) {\r\n                        return;\r\n                    }\r\n\r\n                    this.pipLocationPos = location;\r\n                    this.pipLocationName = locationName;\r\n\r\n                    if (locationName === null && location !== null) {\r\n                        this.pipLocationName =\r\n                            '(' + result.location.coordinates[0] +\r\n                            ',' + result.location.coordinates[1] + ')';\r\n                    }\r\n                    this.pipChanged();\r\n                    this.mapContainer[0].focus();\r\n                }\r\n            );\r\n        };\r\n\r\n        public onMapClick($event) {\r\n            if (this.ngDisabled) return;\r\n\r\n            this.mapContainer[0].focus();\r\n            this.onSetLocation();\r\n            //$event.stopPropagation();\r\n        };\r\n\r\n        public onMapKeyPress($event) {\r\n            if (this.ngDisabled) return;\r\n\r\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\r\n                this.onSetLocation();\r\n                //$event.stopPropagation();\r\n            }\r\n        };\r\n    }\r\n\r\n    const LocationEdit: ng.IComponentOptions = {\r\n        bindings: LocationEditBindings,\r\n        templateUrl: 'location_edit/LocationEdit.html',\r\n        controller: LocationEditController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationEdit\", ['pipLocationEditDialog'])\r\n        .component('pipLocationEdit', LocationEdit);\r\n\r\n}","declare let google: any;\r\n\r\n{\r\n    interface ILocationIpBindings {\r\n        [key: string]: any;\r\n\r\n        pipIpaddress: any;\r\n        pipExtraInfo: any;\r\n        pipRebind: any;\r\n    }\r\n\r\n    const LocationIpBindings: ILocationIpBindings = {\r\n        pipIpaddress: '<',\r\n        pipExtraInfo: '&',\r\n        pipRebind: '<'\r\n    }\r\n\r\n    interface IIpResponseInfo {\r\n        city: string;\r\n        regionCode: string | number;\r\n        regionName: string;\r\n        zipCode: string | number;\r\n        countryCode: string | number;\r\n        countryName: string;\r\n        latitude: string | number;\r\n        longitude: string | number;\r\n    }\r\n\r\n    class LocationIpBindingsChanges implements ng.IOnChangesObject, ILocationIpBindings {\r\n        [key: string]: any;\r\n\r\n        pipExtraInfo: any;\r\n\r\n        pipIpaddress: ng.IChangesObject < string > ;\r\n        pipRebind: ng.IChangesObject < boolean >\r\n    }\r\n\r\n    class LocationIpController implements ng.IController, ILocationIpBindings {\r\n        private mapContainer: JQuery;\r\n        private mapControl: any;\r\n\r\n        public pipExtraInfo: any;\r\n        public pipIpaddress: string;\r\n        public pipRebind: boolean;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            private $http: ng.IHttpService\r\n        ) {\r\n            this.mapContainer = $element.children('.pip-location-container');\r\n            $element.addClass('pip-location-ip');\r\n            this.defineCoordinates();\r\n        }\r\n\r\n        public $onChanges(changes: LocationIpBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\r\n\r\n            if (this.pipRebind === true) {\r\n                this.pipIpaddress = changes.pipIpaddress ? changes.pipIpaddress.currentValue : this.pipIpaddress;\r\n                this.defineCoordinates();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n        }\r\n\r\n        private generateMap(latitude, longitude) {\r\n            // Safeguard for bad coordinates\r\n            if (latitude == null || longitude == null) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            var coordinates = new google.maps.LatLng(\r\n                latitude,\r\n                longitude\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const\r\n                mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\r\n\r\n            new google.maps.Marker({\r\n                position: coordinates,\r\n                map: map\r\n            });\r\n        }\r\n\r\n        private defineCoordinates() {\r\n            const ipAddress = this.pipIpaddress;\r\n\r\n            if (ipAddress == '') {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            this.$http.get('https://freegeoip.net/json/' + ipAddress)\r\n                .success((response: IIpResponseInfo) => {\r\n                    if (response != null &&\r\n                        response.latitude != null &&\r\n                        response.longitude != null) {\r\n\r\n                        this.generateMap(response.latitude, response.longitude);\r\n\r\n                        if (this.pipExtraInfo) {\r\n                            const extraInfo = {\r\n                                city: response.city,\r\n                                regionCode: response.regionCode,\r\n                                region: response.regionName,\r\n                                zipCode: response.zipCode,\r\n                                countryCode: response.countryCode,\r\n                                country: response.countryName\r\n                            };\r\n                            this.pipExtraInfo({\r\n                                extraInfo: extraInfo\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.clearMap();\r\n                    }\r\n                })\r\n                .error((response) => {\r\n                    this.clearMap();\r\n                });\r\n        }\r\n    }\r\n\r\n    const LocationIp: ng.IComponentOptions = {\r\n        bindings: LocationIpBindings,\r\n        template: '<div class=\"pip-location-container\"></div>',\r\n        controller: LocationIpController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationIp\", [])\r\n        .component('pipLocationIp', LocationIp);\r\n}","{\r\n\r\n    interface ILocationMapBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationPos: any;\r\n        pipIconPath: any;\r\n        pipInteractive: any;\r\n        pipStretch: any;\r\n        pipRebind: any;\r\n    }\r\n\r\n    const LocationMapBindings: ILocationMapBindings = {\r\n        pipLocationPos: '<',\r\n        pipIconPath: '<',\r\n        pipInteractive: '<',\r\n        pipStretch: '<',\r\n        pipRebind: '<'\r\n    }\r\n\r\n    class LocationMapBindingsChanges implements ng.IOnChangesObject, ILocationMapBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationPos: ng.IChangesObject<any>;\r\n        pipIconPath: ng.IChangesObject<string>;\r\n        pipInteractive: ng.IChangesObject<boolean>;\r\n        pipStretch: ng.IChangesObject<boolean>;\r\n        pipRebind: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LocationMapController implements ng.IController, ILocationMapBindings {\r\n        public pipLocationPos: any;\r\n        public pipIconPath: string;\r\n        public pipInteractive: boolean;\r\n        public pipStretch: boolean;\r\n        public pipRebind: boolean;\r\n\r\n        private mapContainer: JQuery;\r\n        private mapControl: any = null;\r\n\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.mapContainer = $element.children('.pip-location-container');\r\n            $element.addClass('pip-location-map');\r\n        }\r\n\r\n        public $onChanges(changes: LocationMapBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\r\n            this.pipInteractive = changes.pipInteractive ? changes.pipInteractive.currentValue || false : false;\r\n            this.pipStretch = changes.pipStretch ? changes.pipStretch.currentValue || false : false;\r\n\r\n            if (this.pipStretch === true)  {\r\n                this.mapContainer.addClass('stretch');\r\n            } else {\r\n                this.mapContainer.removeClass('stretch');\r\n            }\r\n\r\n            if (this.pipRebind === true) {\r\n                this.pipLocationPos = changes.pipLocationPos ? changes.pipLocationPos.currentValue : this.pipLocationPos;\r\n                this.pipIconPath = changes.pipIconPath ? changes.pipIconPath.currentValue : this.pipIconPath;\r\n\r\n                this.generateMap();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n        }\r\n\r\n        private checkLocation(loc) {\r\n            return !(loc == null || loc.coordinates == null || loc.coordinates.length < 0);\r\n        }\r\n\r\n        private determineCoordinates(loc) {\r\n            const point = new google.maps.LatLng(\r\n                loc.coordinates[0],\r\n                loc.coordinates[1]\r\n            );\r\n\r\n            point.fill = loc.fill;\r\n            point.stroke = loc.stroke;\r\n\r\n            return point;\r\n        }\r\n\r\n        private generateMap() {\r\n            const locations = this.pipLocationPos,\r\n                points = [],\r\n                interactive = this.pipInteractive || false;\r\n\r\n            // Safeguard for bad coordinates\r\n            if (this.checkLocation(locations) && !_.isArray(locations)) {\r\n                points.push(this.determineCoordinates(locations));\r\n            } else {\r\n                if (locations && _.isArray(locations) && locations.length > 0) {\r\n                    _.each(locations, (loc) => {\r\n                        if (this.checkLocation(loc)) {\r\n                            points.push(this.determineCoordinates(loc));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (points.length === 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map\r\n            const mapOptions = {\r\n                    center: points[0],\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: interactive,\r\n                    draggable: interactive\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\r\n                bounds = new google.maps.LatLngBounds();\r\n\r\n            // Create markers\r\n            _.each(points, (point) => {\r\n                const icon = {\r\n                    path: this.pipIconPath,\r\n                    fillColor: point.fill || '#EF5350',\r\n                    fillOpacity: 1,\r\n                    scale: 1,\r\n                    strokeColor: point.stroke || 'white',\r\n                    strokeWeight: 5\r\n                };\r\n\r\n                new google.maps.Marker({\r\n                    position: point,\r\n                    map: map,\r\n                    icon: this.pipIconPath ? icon : null\r\n                });\r\n                bounds.extend(point);\r\n            });\r\n\r\n            // Auto-config of zoom and center\r\n            if (points.length > 1) map.fitBounds(bounds);\r\n        }\r\n    }\r\n\r\n    const LocationMap: ng.IComponentOptions = {\r\n        bindings: LocationMapBindings,\r\n        template: '<div class=\"pip-location-container\"></div>',\r\n        controller: LocationMapController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationMap\", [])\r\n        .component('pipLocationMap', LocationMap);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location/Location.html',\n    '<div class=\"pip-location-name location-collapse\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"!$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text\">{{$ctrl.pipLocationName}}</span></div><md-button class=\"pip-location-name\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text flex\">{{$ctrl.pipLocationName}}</span><md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-show=\"!$ctrl.showMap\"></md-icon><md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-show=\"$ctrl.showMap\"></md-icon></div></md-button><div class=\"pip-location-container\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/LocationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_edit/LocationEdit.html',\n    '<md-input-container class=\"md-block\"><label>{{ \\'LOCATION\\' | translate }}</label> <input ng-model=\"$ctrl.pipLocationName\" ng-disabled=\"$ctrl.ngDisabled\"></md-input-container><div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\"><md-button class=\"md-raised\" ng-disabled=\"$ctrl.ngDisabled\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"LOCATION_ADD_LOCATION\"><span class=\"icon-location\"></span> {{\\'LOCATION_ADD_LOCATION\\' | translate }}</md-button></div><div class=\"pip-location-container\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-click=\"$ctrl.onMapClick($event)\" ng-keypress=\"$ctrl.onMapKeyPress($event)\"></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileFailBindings {\r\n    [key: string]: any;\r\n\r\n    buttons: any,\r\n    name: any,\r\n    type: any,\r\n    error: any\r\n}\r\n\r\nconst FileFailBindings: IFileFailBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    error: '<pipError'\r\n}\r\n\r\nclass FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n}\r\n\r\n\r\ninterface IFileFailController {\r\n    name: string;\r\n    type: string;\r\n    error: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileFailController implements IFileFailController, IFileFailBindings {\r\n    public name: string;\r\n    public type: string;\r\n    public error: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n        \r\n        $scope.$watch('error', (error: string) => {\r\n            this.error = error;\r\n        })\r\n    }\r\n}\r\n\r\nconst fileFailComponent: ng.IComponentOptions = {\r\n    controller: FileFailController,\r\n    bindings: FileFailBindings,\r\n    templateUrl: 'file_fail/FileFail.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.FailUpload', [])\r\n    .component('pipFailUpload', fileFailComponent)\r\n","{\r\n\r\n    interface IFileSelectController {\r\n        localFile: any;\r\n        onUploadButtonClick(): void;\r\n        onDeleteButtonClick(): void;\r\n    }\r\n\r\n    interface IFileSelectBindings {\r\n        [key: string]: any;\r\n\r\n        localFile: any,\r\n        change: any\r\n    }\r\n\r\n    const FileSelectBindings: IFileSelectBindings = {\r\n        localFile: '<pipLocalFile',\r\n        change: '<pipChange'\r\n    }\r\n\r\n    class FileSelectController implements IFileSelectController {\r\n        public localFile: any;\r\n        public change: Function;\r\n\r\n        constructor($scope: ng.IScope) {\r\n            \"ngInject\";\r\n            $scope.$watch('$ctrl.localFile', (item) => {\r\n                if (this.change) {\r\n                    this.change(this.localFile);\r\n                }\r\n            })\r\n        }\r\n\r\n        public onUploadButtonClick(): void {\r\n            $('#inp_file').click();\r\n        }\r\n\r\n        public onDeleteButtonClick(): void {\r\n            this.localFile = null;\r\n            let forml = document.getElementById('inp_form');\r\n            (<any>forml).reset();\r\n\r\n        }\r\n    }\r\n\r\n    const fileSelectDirective = {\r\n        restrict: 'E',\r\n        replace: true,\r\n        bindings: FileSelectBindings,\r\n        controller: FileSelectController,\r\n        templateUrl: 'file_select/FileSelect.html'\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Select', [])\r\n        .component('pipFileSelect', fileSelectDirective)\r\n\r\n}\r\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileStartBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any,\r\n    progress: any\r\n}\r\n\r\nconst FileStartBindings: IFileStartBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    progress: '<?pipProgress'\r\n};\r\n\r\n\r\nclass FileStartChanges implements ng.IOnChangesObject, IFileStartBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\ninterface IFileStartController {\r\n    name: string;\r\n    type: string;\r\n    progress: number;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileStartController implements IFileStartController {\r\n    public name: string;\r\n    public progress: number = 0;\r\n    public type: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() { }\r\n\r\n    public $onChanges(changes: FileStartChanges) {\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nconst fileStartDirective = {\r\n    controller: FileStartController,\r\n    bindings: FileStartBindings,\r\n    templateUrl: 'file_start/FileStart.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.StartUpload', [])\r\n    .component('pipStartUpload', fileStartDirective)\r\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileSuccessBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any\r\n}\r\n\r\nconst FileSuccessBindings: IFileSuccessBindings = {\r\n    buttons: '=?pipButtons',\r\n    name: '=pipName',\r\n    type: '=?pipType',\r\n}\r\n\r\ninterface IFileSuccessController {\r\n    name: string;\r\n    type: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\r\n    public name: string;\r\n    public type: string = 'file';\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() {}\r\n\r\n    public $onChanges(changes) {}\r\n}\r\n\r\nconst fileSuccessDirective = {\r\n    restrict: 'E',\r\n    replace: true,\r\n    controller: FileSuccessController,\r\n    controllerAs: 'vm',\r\n    bindings: FileSuccessBindings,\r\n    templateUrl: 'file_success/FileSuccess.html'\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFiles.SuccessUpload', [])\r\n    .component('pipSuccesUpload', fileSuccessDirective)\r\n","import { IFileUploadService } from \"../service/IFileUploadService\";\r\nimport { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\nclass FileUploadButtons {\r\n    retry: Function;\r\n    cancel: Function;\r\n    abort: Function;\r\n}\r\n\r\ninterface IFileUploadController {\r\n    name: string;\r\n    type: string;\r\n    state: string;\r\n    progress: number;\r\n    onCancel(): void;\r\n    onRetry(): void;\r\n    onAbort(): void;\r\n}\r\n\r\ninterface IFileUploadBindings {\r\n    [key: string]: any;\r\n\r\n    buttonFunction: any,\r\n    buttons: any,\r\n    error: any,\r\n    name: any,\r\n    state: any,\r\n    type: any,\r\n    progress: any\r\n}\r\n\r\nconst FileUploadBindings: IFileUploadBindings = {\r\n    buttonFunction: '<?pipButtonFunctions',\r\n    buttons: '<?pipButtons',\r\n    error: '<?pipError',\r\n    name: '<pipName',\r\n    state: '<pipState',\r\n    type: '<?pipType',\r\n    progress: '<pipProgress'\r\n}\r\n\r\nclass FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\r\n    buttons: ng.IChangesObject<boolean>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    state: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\nclass FileUploadController implements IFileUploadController, IFileUploadBindings {\r\n    public buttonFunction: FileUploadButtons;\r\n    public uploadButtons: ButtonsUpload[];\r\n    public failButtons: ButtonsUpload[];\r\n    public startButtons: ButtonsUpload[];\r\n\r\n    public name: string;\r\n    public type: string;\r\n    public state: string;\r\n    public progress: number;\r\n    public buttons: boolean;\r\n    public error: string = null;\r\n\r\n    constructor($scope: ng.IScope) { }\r\n\r\n    public $onInit() {\r\n        if (this.buttons) {\r\n            this.uploadButtons = [];\r\n            this.failButtons = [\r\n                { title: 'Cancel', click: () => { this.onCancel() } },\r\n                { title: 'Retry', click: () => { this.onRetry() } }\r\n            ];\r\n            this.startButtons = [\r\n                { title: 'Abort', click: () => { this.onAbort() } }\r\n            ];\r\n        }\r\n    }\r\n\r\n    public $onChanges(changes: FileUploadChanges) {\r\n        if (changes.state) {\r\n            this.state = changes.state.currentValue;\r\n        }\r\n\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n        if (changes.error) {\r\n            this.error = changes.error.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    public onCancel(): void {\r\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\r\n    }\r\n\r\n    public onRetry(): void {\r\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\r\n    }\r\n\r\n    public onAbort() {\r\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\r\n    }\r\n\r\n}\r\n\r\nconst fileUploadDirective = {\r\n    controller: FileUploadController,\r\n    bindings: FileUploadBindings,\r\n    templateUrl: 'file_upload/FileUpload.html'\r\n};\r\n\r\n\r\nangular\r\n    .module('pipFiles.FileUpload', [])\r\n    .component('pipFileUpload', fileUploadDirective)\r\n","{\r\n    function fileModelLink(scope, element, attrs, $parse) {\r\n        let model = $parse(attrs.fileModel);\r\n        let modelSetter = model.assign;\r\n                \r\n        element.bind('change', () => {\r\n            scope.$apply(() => {\r\n                modelSetter(scope, element[0].files[0]);\r\n            });\r\n        });\r\n    }\r\n\r\n    function fileModelDirective($parse: ng.IParseProvider) {\r\n        \"ngInject\";\r\n\r\n        return {\r\n            restrict: 'A',\r\n            link: (scope: ng.IScope, element, attrs: ng.IAttributes) => { \r\n                fileModelLink(scope, element, attrs, $parse) \r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Model', [])\r\n        .directive('fileModel', fileModelDirective)\r\n}","import { FileUploadState } from './FileUploadState';\r\nimport { IFileUploadService } from './IFileUploadService';\r\nimport { MultiuploadResult } from './MultiuploadResult';\r\n\r\nlet async = require('async');\r\n\r\n\r\nclass FileUploadService implements IFileUploadService {\r\n\r\n    public constructor(\r\n        private $http: ng.IHttpService,\r\n        private $q: ng.IQService\r\n    ) {\r\n        \"ngInject\";\r\n    }\r\n\r\n\r\n    public multiUpload(uploadedUrl: string, collections: any[], oneFileResultCallback: (index: number, data: any, err: any) => void,\r\n        oneFileProgressCallback: (index: number, state: FileUploadState, progress: number) => void,\r\n        successCallback: (error: any, result: any, res: MultiuploadResult[]) => void, \r\n        abortCallback?: (cancelQuery: any) => void, \r\n        breakOnFirstError?: boolean, idField?: string): void {\r\n\r\n        let cancelQuery = this.$q.defer(); // call cancelQuery.resolve(); for abort\r\n        if (abortCallback) {\r\n            abortCallback(cancelQuery);\r\n        }\r\n        let res: MultiuploadResult[] = [];\r\n        idField = idField ? idField : 'id';\r\n\r\n        async.eachOf(collections,\r\n            (item, index, callback) => {\r\n                if (!item.file) {\r\n                    res.push({\r\n                        index: index,\r\n                        data: null,\r\n                        error: null,\r\n                        id: item[idField]\r\n                    });\r\n\r\n                    callback();\r\n                    return;\r\n                }\r\n                let fd: FormData = new FormData();\r\n                fd.append('file', item.file);\r\n                oneFileProgressCallback(index, FileUploadState.Uploading, 0);\r\n\r\n                this.$http.post(uploadedUrl, fd, <any>{\r\n                    timeout: cancelQuery.promise,\r\n                    uploadEventHandlers: {\r\n                        progress: (e: any) => {\r\n                            if (e.lengthComputable) {\r\n                                oneFileProgressCallback(index, FileUploadState.Uploading, (e.loaded / e.total) * 100);\r\n                            }\r\n                        }\r\n                    },\r\n                    headers: {\r\n                        'Content-Type': undefined,\r\n                        'Access-Control-Allow-Origin': '*'\r\n                    }\r\n                })\r\n                    .then(\r\n                    (response: any) => {\r\n                        res.push({\r\n                            index: index,\r\n                            data: response.data,\r\n                            error: null,\r\n                            id: item[idField]\r\n                        });\r\n                        oneFileProgressCallback(index, FileUploadState.Completed, 100);\r\n                        oneFileResultCallback(index, response.data, null);\r\n                        callback();\r\n                    },\r\n                    (response: any) => {\r\n                        res.push({\r\n                            index: index,\r\n                            data: null,\r\n                            error: response.data,\r\n                            id: item[idField]\r\n                        });\r\n                        oneFileProgressCallback(index, FileUploadState.Failed, 0);\r\n                        oneFileResultCallback(index, null, response.data);\r\n\r\n                        // break on first error\r\n                        if (breakOnFirstError) {\r\n                            callback(response.data);\r\n                        } else {\r\n                            callback();\r\n                        }\r\n                        \r\n                    });\r\n            },\r\n            (error, result) => {\r\n                cancelQuery = null;\r\n                successCallback(error, result, res);\r\n            });\r\n    }\r\n\r\n    public upload(file: any, url: string,\r\n        resultCallback?: (data: any, err: any) => void,\r\n        progressCallback?: (state: FileUploadState, progress: number) => void\r\n    ): void {\r\n\r\n        let fd: FormData = new FormData();\r\n        fd.append('file', file);\r\n\r\n        if (progressCallback)\r\n            progressCallback(FileUploadState.Uploading, 0);\r\n\r\n        this.$http.post(url, fd, <any>{\r\n            uploadEventHandlers: {\r\n                progress: (e: any) => {\r\n                    if (e.lengthComputable && progressCallback) {\r\n                        progressCallback(FileUploadState.Uploading, (e.loaded / e.total) * 100);\r\n                    }\r\n                }\r\n            },\r\n            headers: { 'Content-Type': undefined }\r\n        })\r\n            .success((response: any) => {\r\n                if (progressCallback)\r\n                    progressCallback(FileUploadState.Completed, 100);\r\n\r\n                if (resultCallback)\r\n                    resultCallback(response, null);\r\n            })\r\n            .error((response: any) => {\r\n                if (progressCallback)\r\n                    progressCallback(FileUploadState.Failed, 0);\r\n\r\n                if (resultCallback)\r\n                    resultCallback(null, response.Error || response);\r\n            });\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipFiles.Service', [])\r\n    .service('pipFileUpload', FileUploadService);\r\n","export enum FileUploadState {\r\n    Uploading,\r\n    Completed,\r\n    Failed\r\n}","export class MultiuploadResult {\r\n    public index: number; // elemtnt index into upload collection\r\n    public data: any;\r\n    public error: any;\r\n    public id: string; // value of identificated field\r\n}","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{$ctrl.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div class=\"color-error pip-error\">{{$ctrl.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"$ctrl.localFile\" id=\"inp_file\" ng-model=\"$ctrl.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"$ctrl.onUploadButtonClick()\" ng-if=\"!$ctrl.localFile\">Choose File</md-button><div ng-if=\"$ctrl.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{$ctrl.localFile.name}}</div><div ng-if=\"$ctrl.localFile.size\" class=\"color-secondary-text\">{{$ctrl.localFile.size}}</div></div><md-button ng-click=\"$ctrl.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::$ctrl.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{$ctrl.progress}}\" ng-if=\"$ctrl.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"$ctrl.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in $ctrl.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == 2\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == 0\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n","export class AddTileDialog {\r\n    title: string;\r\n    icon: string;\r\n    name: string;\r\n    amount: number;\r\n}\r\n\r\nexport class AddTileDialogController implements ng.IController {\r\n    public defaultTiles: [AddTileDialog[]];\r\n    public groups: any;\r\n    public totalTiles: number = 0;\r\n\r\n    constructor(\r\n        groups: any,\r\n        public activeGroupIndex: number,\r\n        widgetList: [AddTileDialog[]],\r\n        public $mdDialog: angular.material.IDialogService\r\n    ) {\r\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\r\n        this.defaultTiles = _.cloneDeep(widgetList);\r\n        this.groups = _.map(groups, function (group) {\r\n            return group['title'];\r\n        });\r\n    }\r\n\r\n    public $onInit() {}\r\n    \r\n    public add() {\r\n        this.$mdDialog.hide({\r\n            groupIndex: this.activeGroupIndex,\r\n            widgets: this.defaultTiles\r\n        });\r\n    };\r\n\r\n    public cancel() {\r\n        this.$mdDialog.cancel();\r\n    };\r\n\r\n    public encrease(groupIndex: number, widgetIndex: number) {\r\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\r\n        widget.amount++;\r\n        this.totalTiles++;\r\n    };\r\n\r\n    public decrease(groupIndex: number, widgetIndex: number) {\r\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\r\n        widget.amount = widget.amount ? widget.amount - 1 : 0;\r\n        this.totalTiles = this.totalTiles ? this.totalTiles - 1 : 0;\r\n    };\r\n}","import {\r\n  AddTileDialog,\r\n  AddTileDialogController\r\n} from './AddTileDialogController';\r\n\r\nexport interface IAddTileDialogService {\r\n  show(groups, activeGroupIndex): angular.IPromise < any > ;\r\n}\r\n\r\nexport interface IAddTileDialogprovider {\r\n  configWidgetList(list: [AddTileDialog[]]): void;\r\n}\r\n\r\n{\r\n  const setTranslations = function($injector: ng.auto.IInjectorService) {\r\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n    if (pipTranslate) {\r\n      (<any>pipTranslate).setTranslations('en', {\r\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Add component',\r\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount',\r\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Create new group'\r\n      });\r\n      (<any>pipTranslate).setTranslations('ru', {\r\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: ' ',\r\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: ' \"Enter\"  \"+\"       \"Delete\" or \"-\"    ',\r\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: '  '\r\n      });\r\n    }\r\n  }\r\n\r\n  class AddTileDialogService implements IAddTileDialogService {\r\n    public constructor(\r\n      private widgetList: [AddTileDialog[]],\r\n      private $mdDialog: angular.material.IDialogService\r\n    ) {}\r\n\r\n    public show(groups, activeGroupIndex) {\r\n      return this.$mdDialog\r\n        .show({\r\n          templateUrl: 'add_tile_dialog/AddTile.html',\r\n          bindToController: true,\r\n          controller: AddTileDialogController,\r\n          controllerAs: 'dialogCtrl',\r\n          clickOutsideToClose: true,\r\n          resolve: {\r\n            groups: () => {\r\n              return groups;\r\n            },\r\n            activeGroupIndex: () => {\r\n              return activeGroupIndex;\r\n            },\r\n            widgetList: () => {\r\n              return (<any>this.widgetList);\r\n            }\r\n          }\r\n        });\r\n    };\r\n  }\r\n\r\n  class AddTileDialogProvider implements IAddTileDialogprovider {\r\n    private _service: AddTileDialogService;\r\n    private _widgetList: [AddTileDialog[]] = null;\r\n\r\n    constructor() {}\r\n\r\n    public configWidgetList = function (list: [AddTileDialog[]]) {\r\n      this._widgetList = list;\r\n    };\r\n\r\n    public $get($mdDialog: angular.material.IDialogService) {\r\n      \"ngInject\";\r\n\r\n      if (this._service == null)\r\n        this._service = new AddTileDialogService(this._widgetList, $mdDialog);\r\n\r\n      return this._service;\r\n    }\r\n  }\r\n\r\n  angular\r\n    .module('pipAddDashboardTileDialog')\r\n    .config(setTranslations)\r\n    .provider('pipAddTileDialog', AddTileDialogProvider);\r\n}","angular\r\n    .module('pipAddDashboardTileDialog', ['ngMaterial']);\r\n\r\nimport './AddTileDialogController';\r\nimport './AddTileProvider';","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class CalendarTileController extends MenuTileService {\r\n    constructor(\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n        this.menu.push({\r\n          title: 'Configurate',\r\n          click: () => {\r\n            this.onConfigClick();\r\n          }\r\n        });\r\n        this.options.date = this.options.date || new Date();\r\n        this.color = this.options.color || 'blue';\r\n      }\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-calendar-config',\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size,\r\n          date: this.options.date,\r\n        },\r\n        extensionUrl: 'calendar_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.options.date = result.date;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const CalendarTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions',\r\n    },\r\n    controller: CalendarTileController,\r\n    templateUrl: 'calendar_tile/CalendarTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipCalendarTile', CalendarTile);\r\n\r\n}","export interface IDashboardTile {\r\n    options: any;\r\n    color: string;\r\n    size: Object | string | number;\r\n}\r\n\r\nexport class DashboardTile implements IDashboardTile {\r\n    public options: any;\r\n    public color: string;\r\n    public size: Object | string | number;\r\n\r\n    constructor() { }\r\n}","\r\nclass TileColors {\r\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\r\n}\r\n\r\nclass TileSizes {\r\n    static all: any = [{\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL',\r\n            id: '11'\r\n        },\r\n        {\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE',\r\n            id: '21'\r\n        },\r\n        {\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE',\r\n            id: '22'\r\n        }\r\n    ];\r\n}\r\n\r\nexport class TileConfigDialogController {\r\n    public colors: string[] = TileColors.all;\r\n    public sizes: any = TileSizes.all;\r\n    public sizeId: string = TileSizes.all[0].id;\r\n    public onCancel: Function;\r\n\r\n    constructor(\r\n        public params,\r\n        public extensionUrl,\r\n        public $mdDialog: angular.material.IDialogService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        angular.extend(this, this.params);\r\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\r\n\r\n        this.onCancel = () => {\r\n            this.$mdDialog.cancel();\r\n        }\r\n    }\r\n\r\n    public onApply(updatedData) {\r\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\r\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\r\n        this.$mdDialog.hide(updatedData);\r\n    }\r\n}","{    \r\n    interface ITileConfigExtendComponentBindings {\r\n        [key: string]: any;\r\n\r\n        pipExtensionUrl: any;\r\n        pipDialogScope: any;\r\n        pipApply: any;\r\n    }\r\n\r\n    const TileConfigExtendComponentBindings: ITileConfigExtendComponentBindings = {\r\n        pipExtensionUrl: '<',\r\n        pipDialogScope: '<',\r\n        pipApply: '&'\r\n    }\r\n\r\n    class TileConfigExtendComponentChanges implements ng.IOnChangesObject, ITileConfigExtendComponentBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        pipExtensionUrl: ng.IChangesObject<string>;\r\n        pipDialogScope: ng.IChangesObject<ng.IScope>;\r\n\r\n        pipApply: ng.IChangesObject<({updatedData: any}) => ng.IPromise<void>>;\r\n    }\r\n\r\n    interface ITileConfigExtendComponentAttributes extends ng.IAttributes {\r\n        pipExtensionUrl: string\r\n    }\r\n\r\n    class TileConfigExtendComponentController implements ITileConfigExtendComponentBindings {\r\n        public pipExtensionUrl: string;\r\n        public pipDialogScope: ng.IScope;\r\n        public pipApply: (param: {updatedData: any}) => ng.IPromise<void>;\r\n\r\n        constructor(\r\n            private $templateRequest: angular.ITemplateRequestService,\r\n            private $compile: angular.ICompileService,\r\n            private $scope: angular.IScope, \r\n            private $element: JQuery, \r\n            private $attrs: ITileConfigExtendComponentAttributes\r\n        ) { }\r\n\r\n        public $onChanges(changes: TileConfigExtendComponentChanges) {\r\n            if (changes.pipDialogScope) {\r\n                delete changes.pipDialogScope.currentValue['$scope'];\r\n                angular.extend(this, changes.pipDialogScope.currentValue);\r\n            }\r\n            if (changes.pipExtensionUrl && changes.pipExtensionUrl.currentValue) {\r\n                this.$templateRequest(changes.pipExtensionUrl.currentValue, false).then((html) => {\r\n                    this.$element.find('pip-extension-point').replaceWith(this.$compile(html)(this.$scope));\r\n                });\r\n            }\r\n        }\r\n\r\n        public onApply() {\r\n            this.pipApply({updatedData: this});\r\n        }\r\n    }\r\n\r\n    const pipTileConfigComponent: ng.IComponentOptions = {\r\n        templateUrl: 'config_tile_dialog/ConfigDialogExtendComponent.html',\r\n        controller: TileConfigExtendComponentController,\r\n        bindings: TileConfigExtendComponentBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipConfigDashboardTileDialog')\r\n        .component('pipTileConfigExtendComponent', pipTileConfigComponent);\r\n}","import { TileConfigDialogController } from './ConfigDialogController';\r\n\r\nexport interface ITileConfigService {\r\n    show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void): any;\r\n}\r\n\r\nexport interface ITileConfigDialogOptions extends angular.material.IDialogOptions {\r\n    dialogClass?: string;\r\n    extensionUrl?: string;\r\n    event?: any;\r\n}\r\n\r\n{\r\n    const setTranslations = function($injector: ng.auto.IInjectorService) {\r\n        const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n        if (pipTranslate) {\r\n            ( < any > pipTranslate).setTranslations('en', {\r\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Edit tile',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Small',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Wide',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Large'\r\n            });\r\n            ( < any > pipTranslate).setTranslations('ru', {\r\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: ' ',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: '.',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: '',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: ''\r\n            });\r\n        }\r\n    }\r\n\r\n    class TileConfigDialogService {\r\n        public constructor(\r\n            public $mdDialog: angular.material.IDialogService\r\n        ) {}\r\n\r\n        public show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void) {\r\n            this.$mdDialog.show({\r\n                    targetEvent: params.event,\r\n                    templateUrl: params.templateUrl || 'dialogs/tile_config/ConfigDialog.html',\r\n                    controller: TileConfigDialogController,\r\n                    bindToController: true,\r\n                    controllerAs: 'vm',\r\n                    locals: {\r\n                        extensionUrl: params.extensionUrl,\r\n                        params: params.locals\r\n                    },\r\n                    clickOutsideToClose: true\r\n                })\r\n                .then((key) => {\r\n                    if (successCallback) {\r\n                        successCallback(key);\r\n                    }\r\n                }, () => {\r\n                    if (cancelCallback) {\r\n                        cancelCallback();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipConfigDashboardTileDialog')\r\n        .config(setTranslations)\r\n        .service('pipTileConfigDialogService', TileConfigDialogService);\r\n}","\r\nangular\r\n    .module('pipConfigDashboardTileDialog', ['ngMaterial']);\r\n\r\nimport './ConfigDialogController';\r\nimport './ConfigDialogService';\r\nimport './ConfigDialogExtendComponent';","import {\r\n  ITileTemplateService\r\n} from '../utility/TileTemplateUtility';\r\nimport {\r\n  IAddTileDialogService,\r\n  IAddTileDialogprovider\r\n} from '../add_tile_dialog/AddTileProvider'\r\n\r\n{\r\n  const setTranslations = function ($injector: ng.auto.IInjectorService) {\r\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n    if (pipTranslate) {\r\n      ( < any > pipTranslate).setTranslations('en', {\r\n        DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\r\n      });\r\n      ( < any > pipTranslate).setTranslations('ru', {\r\n        DROP_TO_CREATE_NEW_GROUP: '     '\r\n      });\r\n    }\r\n  }\r\n\r\n  const configureAvailableWidgets = function (pipAddTileDialogProvider: IAddTileDialogprovider) {\r\n    pipAddTileDialogProvider.configWidgetList([\r\n      [{\r\n          title: 'Event',\r\n          icon: 'document',\r\n          name: 'event',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Position',\r\n          icon: 'location',\r\n          name: 'position',\r\n          amount: 0\r\n        }\r\n      ],\r\n      [{\r\n          title: 'Calendar',\r\n          icon: 'date',\r\n          name: 'calendar',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Sticky Notes',\r\n          icon: 'note-take',\r\n          name: 'notes',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Statistics',\r\n          icon: 'tr-statistics',\r\n          name: 'statistics',\r\n          amount: 0\r\n        }\r\n      ]\r\n    ]);\r\n  }\r\n\r\n  class draggableOptions {\r\n    tileWidth: number;\r\n    tileHeight: number;\r\n    gutter: number;\r\n    inline: boolean;\r\n  }\r\n\r\n  const DEFAULT_GRID_OPTIONS: draggableOptions = {\r\n    tileWidth: 150, // 'px'\r\n    tileHeight: 150, // 'px'\r\n    gutter: 10, // 'px'\r\n    inline: false\r\n  };\r\n\r\n  interface DashboardBindings {\r\n      gridOptions: any;\r\n      groupAdditionalActions: any;\r\n      groupedWidgets: any;\r\n  }\r\n\r\n  class DashboardController implements ng.IController, DashboardBindings {\r\n    private defaultGroupMenuActions: any = [{\r\n        title: 'Add Component',\r\n        callback: (groupIndex) => {\r\n          this.addComponent(groupIndex);\r\n        }\r\n      },\r\n      {\r\n        title: 'Remove',\r\n        callback: (groupIndex) => {\r\n          this.removeGroup(groupIndex);\r\n        }\r\n      },\r\n      {\r\n        title: 'Configurate',\r\n        callback: (groupIndex) => {\r\n          console.log('configurate group with index:', groupIndex);\r\n        }\r\n      }\r\n    ];\r\n    private _includeTpl: string = '<pip-{{ type }}-tile group=\"groupIndex\" index=\"index\"' +\r\n      'pip-options=\"$parent.$ctrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\r\n      '</pip-{{ type }}-tile>';\r\n\r\n    public groupedWidgets: any;\r\n    public draggableGridOptions: draggableOptions;\r\n    public widgetsTemplates: any;\r\n    public groupMenuActions: any = this.defaultGroupMenuActions;\r\n    public widgetsContext: any;\r\n    public gridOptions: any;\r\n    public groupAdditionalActions: any;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      private $rootScope: angular.IRootScopeService,\r\n      private $attrs: any,\r\n      private $element: any,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $interpolate: angular.IInterpolateService,\r\n      private pipAddTileDialog: IAddTileDialogService,\r\n      private pipTileTemplate: ITileTemplateService\r\n    ) {\r\n      // Add class to style scroll bar\r\n      $element.addClass('pip-scroll');\r\n\r\n      // Set tiles grid options\r\n      this.draggableGridOptions = this.gridOptions || DEFAULT_GRID_OPTIONS;\r\n\r\n      // Switch inline displaying\r\n      if (this.draggableGridOptions.inline === true) {\r\n        $element.addClass('inline-grid');\r\n      }\r\n      // Extend group's menu actions\r\n      if (this.groupAdditionalActions) angular.extend(this.groupMenuActions, this.groupAdditionalActions);\r\n\r\n      // Compile widgets\r\n      this.widgetsContext = $scope;\r\n      this.compileWidgets();\r\n\r\n      this.$timeout(() => {\r\n        this.$element.addClass('visible');\r\n      }, 700);\r\n    }\r\n\r\n    private compileWidgets() {\r\n      _.each(this.groupedWidgets, (group, groupIndex) => {\r\n        group.removedWidgets = group.removedWidgets || [],\r\n          group.source = group.source.map((widget, index) => {\r\n            // Establish default props\r\n            widget.size = widget.size || {\r\n              colSpan: 1,\r\n              rowSpan: 1\r\n            };\r\n            widget.index = index;\r\n            widget.groupIndex = groupIndex;\r\n            widget.menu = widget.menu || {};\r\n            angular.extend(widget.menu, [{\r\n              title: 'Remove',\r\n              click: (item, params, object) => {\r\n                this.removeWidget(item, params, object);\r\n              }\r\n            }]);\r\n\r\n            return {\r\n              opts: widget,\r\n              template: this.pipTileTemplate.getTemplate(widget, this._includeTpl)\r\n            };\r\n          })\r\n      });\r\n    }\r\n\r\n    public addComponent(groupIndex) {\r\n      this.pipAddTileDialog\r\n        .show(this.groupedWidgets, groupIndex)\r\n        .then((data) => {\r\n          var activeGroup;\r\n\r\n          if (!data) {\r\n            return;\r\n          }\r\n\r\n          if (data.groupIndex !== -1) {\r\n            activeGroup = this.groupedWidgets[data.groupIndex];\r\n          } else {\r\n            activeGroup = {\r\n              title: 'New group',\r\n              source: []\r\n            };\r\n          }\r\n\r\n          this.addWidgets(activeGroup.source, data.widgets);\r\n\r\n          if (data.groupIndex === -1) {\r\n            this.groupedWidgets.push(activeGroup);\r\n          }\r\n\r\n          this.compileWidgets();\r\n        });\r\n    };\r\n\r\n    public removeGroup = (groupIndex) => {\r\n      console.log('removeGroup', groupIndex);\r\n      this.groupedWidgets.splice(groupIndex, 1);\r\n    }\r\n\r\n    private addWidgets(group, widgets) {\r\n      widgets.forEach((widgetGroup) => {\r\n        widgetGroup.forEach((widget) => {\r\n          if (widget.amount) {\r\n            Array.apply(null, Array(widget.amount)).forEach(() => {\r\n              group.push({\r\n                type: widget.name\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    private removeWidget(item, params, object) {\r\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\r\n      this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\r\n      this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\r\n      this.$timeout(() => {\r\n        this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const Dashboard: ng.IComponentOptions = {\r\n    bindings: {\r\n      gridOptions: '=pipGridOptions',\r\n      groupAdditionalActions: '=pipGroupActions',\r\n      groupedWidgets: '=pipGroups'\r\n    },\r\n    controller: DashboardController,\r\n    templateUrl: 'dashboard/Dashboard.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .config(configureAvailableWidgets)\r\n    .config(setTranslations)\r\n    .component('pipDashboard', Dashboard);\r\n\r\n}","declare var interact;\r\n\r\nimport {\r\n  DragTileService,\r\n  IDragTileService,\r\n  IDragTileConstructor\r\n} from './DraggableTileService';\r\nimport {\r\n  TilesGridService,\r\n  ITilesGridService,\r\n  ITilesGridConstructor\r\n} from '../tile_group/TileGroupService';\r\n\r\nexport const DEFAULT_TILE_WIDTH: number = 150;\r\nexport const DEFAULT_TILE_HEIGHT: number = 150;\r\nexport const UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\r\n\r\nconst SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\r\nconst DEFAULT_OPTIONS = {\r\n  tileWidth: DEFAULT_TILE_WIDTH, // 'px'\r\n  tileHeight: DEFAULT_TILE_HEIGHT, // 'px'\r\n  gutter: 20, // 'px'\r\n  container: 'pip-draggable-grid:first-of-type',\r\n  //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\r\n  activeDropzoneClass: 'dropzone-active',\r\n  groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\r\n};\r\n\r\n{\r\n  interface IDraggableBindings {\r\n      tilesTemplates: any;\r\n      tilesContext: any;\r\n      options: any;\r\n      groupMenuActions: any;\r\n      $container: JQuery;\r\n  }\r\n\r\n  interface IDraggableControllerScope extends ng.IScope {\r\n    $container: JQuery;\r\n    tilesTemplates: any;\r\n    options: any;\r\n  }\r\n\r\n  interface ITileScope extends ng.IScope {\r\n    index: number | string;\r\n    groupIndex: number | string;\r\n  }\r\n\r\n  class DraggableController implements ng.IComponentController, IDraggableBindings {\r\n    public opts: any;\r\n    public groups: any;\r\n    public sourceDropZoneElem: any = null;\r\n    public isSameDropzone: boolean = true;\r\n    public tileGroups: any = null;\r\n    public availableWidth: number;\r\n    public availableColumns: number;\r\n    public groupsContainers: any;\r\n    public container: any;\r\n    public activeDraggedGroup: any;\r\n    public draggedTile: any;\r\n    public containerOffset: any;\r\n    public tilesTemplates: any;\r\n    public tilesContext: any;\r\n    public options: any;\r\n    public groupMenuActions: any;\r\n    public $container: JQuery;\r\n\r\n    constructor(\r\n      private $scope: IDraggableControllerScope,\r\n      private $rootScope: angular.IRootScopeService,\r\n      private $compile: angular.ICompileService,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $element: JQuery,\r\n      pipDragTile: IDragTileService,\r\n      pipTilesGrid: ITilesGridService,\r\n      pipMedia: pip.layouts.IMediaService\r\n    ) {\r\n      this.opts = _.merge({\r\n        mobileBreakpoint: pipMedia.breakpoints.xs\r\n      }, DEFAULT_OPTIONS, this.options);\r\n\r\n      this.groups = this.tilesTemplates.map((group, groupIndex) => {\r\n        return {\r\n          title: group.title,\r\n          editingName: false,\r\n          index: groupIndex,\r\n          source: group.source.map((tile) => {\r\n            const tileScope = this.createTileScope(tile);\r\n\r\n            return IDragTileConstructor(DragTileService, {\r\n              tpl: $compile(tile.template)(tileScope),\r\n              options: tile.opts,\r\n              size: tile.opts.size\r\n            });\r\n          })\r\n        };\r\n      });\r\n\r\n      // Add templates watcher\r\n      $scope.$watch('$ctrl.tilesTemplates', (newVal) => {\r\n        this.watch(newVal);\r\n      }, true);\r\n\r\n      // Initialize data\r\n      this.initialize();\r\n\r\n      // Resize handler TODO: replace by pip resize watchers\r\n      $(window).on('resize', _.debounce(() => {\r\n        this.availableWidth = this.getContainerWidth();\r\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\r\n\r\n        this.tileGroups.forEach((group) => {\r\n          group\r\n            .setAvailableColumns(this.availableColumns)\r\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n            .setTilesDimensions()\r\n            .calcContainerHeight();\r\n        });\r\n      }, 50));\r\n    }\r\n\r\n    // Post link function\r\n    public $postLink() {\r\n      this.$container = this.$element;\r\n    }\r\n\r\n    // Watch handler\r\n    private watch(newVal) {\r\n      const prevVal = this.groups;\r\n      let changedGroupIndex = null;\r\n\r\n      if (newVal.length > prevVal.length) {\r\n        this.addGroup(newVal[newVal.length - 1]);\r\n\r\n        return;\r\n      }\r\n\r\n      if (newVal.length < prevVal.length) {\r\n        this.removeGroups(newVal);\r\n\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < newVal.length; i++) {\r\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\r\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\r\n          changedGroupIndex = i;\r\n\r\n          if (groupWidgetDiff < 0) {\r\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\r\n\r\n            _.each(newTiles, (tile) => {\r\n              console.log('tile', tile);\r\n            });\r\n\r\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\r\n\r\n            this.$timeout(() => {\r\n              this.updateTilesGroups();\r\n            });\r\n          } else {\r\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\r\n            this.updateTilesOptions(newVal);\r\n            this.$timeout(() => {\r\n              this.updateTilesGroups();\r\n            });\r\n          }\r\n\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (newVal && this.tileGroups) {\r\n        this.updateTilesOptions(newVal);\r\n        this.$timeout(() => {\r\n          this.updateTilesGroups();\r\n        });\r\n      }\r\n    }\r\n\r\n    // Inline edit group handlers\r\n    public onTitleClick(group, event) {\r\n      if (!group.editingName) {\r\n        group.oldTitle = _.clone(group.title);\r\n        group.editingName = true;\r\n        this.$timeout(() => {\r\n          $(event.currentTarget.children[0]).focus();\r\n        });\r\n      }\r\n    }\r\n\r\n    public cancelEditing(group) {\r\n      group.title = group.oldTitle;\r\n    }\r\n\r\n    public onBlurTitleInput(group) {\r\n      this.$timeout(() => {\r\n        group.editingName = false;\r\n        this.$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\r\n        // Update title in outer scope\r\n        this.tilesTemplates[group.index].title = group.title;\r\n      }, 100);\r\n    }\r\n\r\n    public onKyepressTitleInput(group, event) {\r\n      if (event.keyCode === 13) {\r\n        this.onBlurTitleInput(group);\r\n      }\r\n    }\r\n\r\n    // Update outer scope functions\r\n    private updateTilesTemplates(updateType: string, source ? : any) {\r\n      switch (updateType) {\r\n        case 'addGroup':\r\n          if (this.groups.length !== this.tilesTemplates.length) {\r\n            this.tilesTemplates.push(source);\r\n          }\r\n          break;\r\n        case 'moveTile':\r\n          const {\r\n            fromIndex,\r\n            toIndex,\r\n            tileOptions,\r\n            fromTileIndex\r\n          } = {\r\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\r\n            toIndex: source.to.elem.attributes['data-group-id'].value,\r\n            tileOptions: source.tile.opts.options,\r\n            fromTileIndex: source.tile.opts.options.index\r\n          }\r\n          this.tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\r\n          this.tilesTemplates[toIndex].source.push({\r\n            opts: tileOptions\r\n          });\r\n\r\n          this.reIndexTiles(source.from.elem);\r\n          this.reIndexTiles(source.to.elem);\r\n          break;\r\n      }\r\n    }\r\n\r\n    // Manage tiles functions\r\n    private createTileScope(tile: any): ITileScope {\r\n      const tileScope = < ITileScope > this.$rootScope.$new(false, this.tilesContext);\r\n      tileScope.index = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index;\r\n      tileScope.groupIndex = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\r\n\r\n      return tileScope;\r\n    }\r\n\r\n    private removeTiles(group, indexes, container) {\r\n      const tiles = $(container).find('.pip-draggable-tile');\r\n\r\n      _.each(indexes, (index) => {\r\n        group.tiles.splice(index, 1);\r\n        tiles[index].remove();\r\n      });\r\n\r\n      this.reIndexTiles(container);\r\n    }\r\n\r\n    private reIndexTiles(container, gIndex ? ) {\r\n      const tiles = $(container).find('.pip-draggable-tile'),\r\n        groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\r\n\r\n      _.each(tiles, (tile, index) => {\r\n        const child = $(tile).children()[0];\r\n        angular.element(child).scope()['index'] = index;\r\n        angular.element(child).scope()['groupIndex'] = groupIndex;\r\n      });\r\n    }\r\n\r\n    private removeGroups(newGroups) {\r\n      const removeIndexes = [],\r\n        remain = [],\r\n        containers = [];\r\n\r\n\r\n      _.each(this.groups, (group, index) => {\r\n        if (_.findIndex(newGroups, (g) => {\r\n            return g['title'] === group.title\r\n          }) < 0) {\r\n          removeIndexes.push(index);\r\n        } else {\r\n          remain.push(index);\r\n        }\r\n      });\r\n\r\n      _.each(removeIndexes.reverse(), (index) => {\r\n        this.groups.splice(index, 1);\r\n        this.tileGroups.splice(index, 1);\r\n      });\r\n\r\n      _.each(remain, (index) => {\r\n        containers.push(this.groupsContainers[index]);\r\n      });\r\n\r\n      this.groupsContainers = containers;\r\n\r\n      _.each(this.groupsContainers, (container, index) => {\r\n        this.reIndexTiles(container, index);\r\n      });\r\n    }\r\n\r\n    private addGroup(sourceGroup) {\r\n      const group = {\r\n        title: sourceGroup.title,\r\n        source: sourceGroup.source.map((tile) => {\r\n          const tileScope = this.createTileScope(tile);\r\n\r\n          return IDragTileConstructor(DragTileService, {\r\n            tpl: this.$compile(tile.template)(tileScope),\r\n            options: tile.opts,\r\n            size: tile.opts.size\r\n          });\r\n        })\r\n      };\r\n\r\n      this.groups.push(group);\r\n      if (!this.$scope.$$phase) this.$scope.$apply();\r\n\r\n      this.$timeout(() => {\r\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\r\n        this.tileGroups.push(\r\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\r\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n          .setTilesDimensions()\r\n          .calcContainerHeight()\r\n        );\r\n      });\r\n\r\n      this.updateTilesTemplates('addGroup', sourceGroup);\r\n    }\r\n\r\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\r\n      newTiles.forEach((tile) => {\r\n        const tileScope = this.createTileScope(tile);\r\n\r\n        const newTile = IDragTileConstructor(DragTileService, {\r\n          tpl: this.$compile(tile.template)(tileScope),\r\n          options: tile.opts,\r\n          size: tile.opts.size\r\n        });\r\n\r\n        group.addTile(newTile);\r\n\r\n        $('<div>')\r\n          .addClass('pip-draggable-tile')\r\n          .append(newTile.getCompiledTemplate())\r\n          .appendTo(groupContainer);\r\n      });\r\n    }\r\n\r\n    private updateTilesOptions(optionsGroup) {\r\n      optionsGroup.forEach((optionGroup) => {\r\n        optionGroup.source.forEach((tileOptions) => {\r\n          this.tileGroups.forEach((group) => {\r\n            group.updateTileOptions(tileOptions.opts);\r\n          });\r\n        });\r\n      });\r\n    }\r\n\r\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\r\n      return tileGroups.map((group, index) => {\r\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\r\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n          .setTilesDimensions()\r\n          .calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private updateTilesGroups(onlyPosition ? , draggedTile ? ) {\r\n      this.tileGroups.forEach((group) => {\r\n        if (!onlyPosition) {\r\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\r\n        }\r\n\r\n        group\r\n          .setTilesDimensions(onlyPosition, draggedTile)\r\n          .calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private getContainerWidth(): any {\r\n      const container = this.$container || $('body');\r\n      return container.width();\r\n    }\r\n\r\n    private getAvailableColumns(availableWidth): any {\r\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT :\r\n        Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\r\n    }\r\n\r\n    private getActiveGroupAndTile(elem): any {\r\n      const active = {};\r\n\r\n      this.tileGroups.forEach((group) => {\r\n        const foundTile = group.getTileByNode(elem);\r\n\r\n        if (foundTile) {\r\n          active['group'] = group;\r\n          active['tile'] = foundTile;\r\n          return;\r\n        }\r\n      });\r\n\r\n      return active;\r\n    }\r\n\r\n    private getSingleTileWidthForMobile(availableWidth): any {\r\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\r\n    }\r\n\r\n    private onDragStartListener(event) {\r\n      const activeEntities = this.getActiveGroupAndTile(event.target);\r\n\r\n      this.container = $(event.target).parent('.pip-draggable-group').get(0);\r\n      this.draggedTile = activeEntities['tile'];\r\n      this.activeDraggedGroup = activeEntities['group'];\r\n\r\n      this.$element.addClass('drag-transfer');\r\n\r\n      this.draggedTile.startDrag();\r\n    }\r\n\r\n    private onDragMoveListener(event) {\r\n      const target = event.target;\r\n      const x = (parseFloat(target.style.left) || 0) + event.dx;\r\n      const y = (parseFloat(target.style.top) || 0) + event.dy;\r\n\r\n      this.containerOffset = this.getContainerOffset();\r\n\r\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\r\n      target.style.top = y + 'px';\r\n\r\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\r\n        left: event.pageX - this.containerOffset.left,\r\n        top: event.pageY - this.containerOffset.top\r\n      }, this.draggedTile);\r\n\r\n      if (belowElement) {\r\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\r\n        const belowElemIndex = this.activeDraggedGroup.getTileIndex(belowElement);\r\n\r\n        if ((draggedTileIndex + 1) === belowElemIndex) {\r\n          return;\r\n        }\r\n\r\n        this.activeDraggedGroup\r\n          .swapTiles(this.draggedTile, belowElement)\r\n          .setTilesDimensions(true, this.draggedTile);\r\n\r\n        this.$timeout(() => {\r\n          this.setGroupContainersHeight();\r\n        }, 0);\r\n      }\r\n    }\r\n\r\n    private onDragEndListener() {\r\n      this.draggedTile.stopDrag(this.isSameDropzone);\r\n\r\n      this.$element.removeClass('drag-transfer');\r\n      this.activeDraggedGroup = null;\r\n      this.draggedTile = null;\r\n    }\r\n\r\n    private getContainerOffset() {\r\n      const containerRect = this.container.getBoundingClientRect();\r\n\r\n      return {\r\n        left: containerRect.left,\r\n        top: containerRect.top\r\n      };\r\n    }\r\n\r\n    private setGroupContainersHeight() {\r\n      this.tileGroups.forEach((tileGroup) => {\r\n        tileGroup.calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private moveTile(from, to, tile) {\r\n      let elem;\r\n      const movedTile = from.removeTile(tile);\r\n      const tileScope = this.createTileScope(tile);\r\n\r\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\r\n        .find(movedTile.getElem())\r\n        .remove();\r\n\r\n      if (to !== null) {\r\n        to.addTile(movedTile);\r\n\r\n        elem = this.$compile(movedTile.getElem())(tileScope);\r\n\r\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\r\n          .append(elem);\r\n\r\n        this.$timeout(to.setTilesDimensions.bind(to, true));\r\n      }\r\n\r\n      this.updateTilesTemplates('moveTile', {\r\n        from: from,\r\n        to: to,\r\n        tile: movedTile\r\n      });\r\n    }\r\n\r\n    private onDropListener(event) {\r\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\r\n      const droppedGroup = this.tileGroups[droppedGroupIndex];\r\n\r\n      if (this.activeDraggedGroup !== droppedGroup) {\r\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\r\n      }\r\n\r\n      this.updateTilesGroups(true);\r\n      this.sourceDropZoneElem = null;\r\n    }\r\n\r\n    private onDropToFictGroupListener(event) {\r\n      const from = this.activeDraggedGroup;\r\n      const tile = this.draggedTile;\r\n\r\n      this.addGroup({\r\n        title: 'New group',\r\n        source: []\r\n      });\r\n      this.$timeout(() => {\r\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\r\n        this.updateTilesGroups(true);\r\n      });\r\n\r\n      this.sourceDropZoneElem = null;\r\n    }\r\n\r\n    private onDropEnterListener(event) {\r\n      if (!this.sourceDropZoneElem) {\r\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\r\n      }\r\n\r\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\r\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\r\n        $('body').css('cursor', 'copy');\r\n        this.isSameDropzone = false;\r\n      } else {\r\n        $('body').css('cursor', '');\r\n        this.isSameDropzone = true;\r\n      }\r\n    }\r\n\r\n    private onDropDeactivateListener(event) {\r\n      if (this.sourceDropZoneElem !== event.target) {\r\n        event.target.classList.remove(this.opts.activeDropzoneClass);\r\n        $('body').css('cursor', '');\r\n      }\r\n    }\r\n\r\n    private onDropLeaveListener(event) {\r\n      event.target.classList.remove(this.opts.activeDropzoneClass);\r\n    }\r\n\r\n    private initialize() {\r\n      this.$timeout(() => {\r\n        this.availableWidth = this.getContainerWidth();\r\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\r\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\r\n        this.tileGroups = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\r\n\r\n        interact('.pip-draggable-tile')\r\n          .draggable({\r\n            autoScroll: {\r\n              enabled: true,\r\n              container: $('#content').get(0),\r\n              speed: 500\r\n            },\r\n            onstart: (event) => {\r\n              this.onDragStartListener(event)\r\n            },\r\n            onmove: (event) => {\r\n              this.onDragMoveListener(event)\r\n            },\r\n            onend: (event) => {\r\n              this.onDragEndListener()\r\n            }\r\n          });\r\n\r\n        interact('.pip-draggable-group.fict-group')\r\n          .dropzone({\r\n            ondrop: (event) => {\r\n              this.onDropToFictGroupListener(event)\r\n            },\r\n            ondragenter: (event) => {\r\n              this.onDropEnterListener(event)\r\n            },\r\n            ondropdeactivate: (event) => {\r\n              this.onDropDeactivateListener(event)\r\n            },\r\n            ondragleave: (event) => {\r\n              this.onDropLeaveListener(event)\r\n            }\r\n          });\r\n\r\n        interact('.pip-draggable-group')\r\n          .dropzone({\r\n            ondrop: (event) => {\r\n              this.onDropListener(event)\r\n            },\r\n            ondragenter: (event) => {\r\n              this.onDropEnterListener(event)\r\n            },\r\n            ondropdeactivate: (event) => {\r\n              this.onDropDeactivateListener(event)\r\n            },\r\n            ondragleave: (event) => {\r\n              this.onDropLeaveListener(event)\r\n            }\r\n          });\r\n\r\n        this.$container\r\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\r\n            interact('.pip-draggable-tile').draggable(false);\r\n            $(this).trigger('click');\r\n          })\r\n          .on('mouseup touchend', () => {\r\n            interact('.pip-draggable-tile').draggable(true);\r\n          });\r\n          \r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  const DragComponent: ng.IComponentOptions = {\r\n    bindings: {\r\n      tilesTemplates: '=pipTilesTemplates',\r\n      tilesContext: '=pipTilesContext',\r\n      options: '=pipDraggableGrid',\r\n      groupMenuActions: '=pipGroupMenuActions'\r\n    },\r\n    //controllerAs: 'DraggedCtrl',\r\n    templateUrl: 'draggable/Draggable.html',\r\n    controller: DraggableController\r\n  }\r\n\r\n  angular.module('pipDraggableTiles')\r\n    .component('pipDraggableGrid', DragComponent);\r\n}","export interface DragTileConstructor {\r\n  new (options: any);\r\n}\r\n\r\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\r\n  return new constructor(options);\r\n}\r\n\r\nexport interface IDragTileService {\r\n  tpl: any;\r\n  opts: any;\r\n  size: any;\r\n  elem: any;\r\n  preview: any;\r\n  getSize(): any;\r\n  setSize(width, height): any;\r\n  setPosition(left, top): any;\r\n  getCompiledTemplate(): any;\r\n  updateElem(parent): any;\r\n  getElem(): any;\r\n  startDrag(): any;\r\n  stopDrag(isAnimate): any;\r\n  setPreviewPosition(coords): void;\r\n  getOptions(): any;\r\n  setOptions(options): any;\r\n}\r\n\r\nlet DEFAULT_TILE_SIZE = {\r\n  colSpan: 1,\r\n  rowSpan: 1\r\n};\r\n\r\nexport class DragTileService implements IDragTileService {\r\n  public tpl: any;\r\n  public opts: any;\r\n  public size: any;\r\n  public elem: any;\r\n  public preview: any;\r\n\r\n  constructor (options: any) {\r\n    this.tpl = options.tpl.get(0);\r\n    this.opts = options;\r\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\r\n    this.elem = null;\r\n  }\r\n\r\n  public getSize(): any {\r\n    return this.size;\r\n  }\r\n\r\n  public setSize(width, height): any {\r\n    this.size.width = width;\r\n    this.size.height = height;\r\n\r\n    if (this.elem) {\r\n      this.elem.css({\r\n        width: width,\r\n        height: height\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  public setPosition(left, top): any {\r\n    this.size.left = left;\r\n    this.size.top = top;\r\n\r\n    if (this.elem) {\r\n      this.elem.css({\r\n        left: left,\r\n        top: top\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  public getCompiledTemplate(): any {\r\n    return this.tpl;\r\n  };\r\n\r\n  public updateElem(parent): any {\r\n    this.elem = $(this.tpl).parent(parent);\r\n\r\n    return this;\r\n  };\r\n\r\n  public getElem(): any {\r\n    return this.elem.get(0);\r\n  };\r\n\r\n  public startDrag(): any {\r\n    this.preview = $('<div>')\r\n      .addClass('pip-dragged-preview')\r\n      .css({\r\n        position: 'absolute',\r\n        left: this.elem.css('left'),\r\n        top: this.elem.css('top'),\r\n        width: this.elem.css('width'),\r\n        height: this.elem.css('height')\r\n      });\r\n\r\n    this.elem\r\n      .addClass('no-animation')\r\n      .css({\r\n        zIndex: '9999'\r\n      })\r\n      .after(this.preview);\r\n\r\n    return this;\r\n  };\r\n\r\n  public stopDrag(isAnimate): any {\r\n    let self = this;\r\n\r\n    if (isAnimate) {\r\n      this.elem\r\n        .removeClass('no-animation')\r\n        .css({\r\n          left: this.preview.css('left'),\r\n          top: this.preview.css('top')\r\n        })\r\n        .on('transitionend', onTransitionEnd);\r\n    } else {\r\n      self.elem\r\n        .css({\r\n          left: self.preview.css('left'),\r\n          top: self.preview.css('top'),\r\n          zIndex: ''\r\n        })\r\n        .removeClass('no-animation');\r\n\r\n      self.preview.remove();\r\n      self.preview = null;\r\n    }\r\n\r\n    return this;\r\n\r\n    function onTransitionEnd() {\r\n      if (self.preview) {\r\n        self.preview.remove();\r\n        self.preview = null;\r\n      }\r\n\r\n      self.elem\r\n        .css('zIndex', '')\r\n        .off('transitionend', onTransitionEnd);\r\n    }\r\n  };\r\n\r\n  public setPreviewPosition(coords) {\r\n    this.preview.css(coords);\r\n  };\r\n\r\n  public getOptions(): any {\r\n    return this.opts.options;\r\n  };\r\n\r\n  public setOptions(options): any {\r\n    _.merge(this.opts.options, options);\r\n    _.merge(this.size, options.size);\r\n\r\n    return this;\r\n  };\r\n}\r\n\r\nangular\r\n  .module('pipDraggableTiles')\r\n  .service('pipDragTile', function () {\r\n    return function (options) {\r\n      let newTile = new DragTileService(options);\r\n\r\n      return newTile;\r\n    }\r\n  });","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n{\r\n  class EventTileController extends MenuTileService {\r\n    private _oldOpacity: number;\r\n\r\n    public opacity: number = 0.57;\r\n\r\n    constructor(\r\n      $scope: ng.IScope,\r\n      private $element: JQuery,\r\n      private $timeout: angular.ITimeoutService,\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.color = this.options.color || 'gray';\r\n      this.opacity = this.options.opacity || this.opacity;\r\n\r\n      this.drawImage();\r\n\r\n      // TODO it doesn't work\r\n      $scope.$watch(() => {\r\n        return $element.is(':visible');\r\n      }, (newVal) => {\r\n        this.drawImage();\r\n      });\r\n    }\r\n\r\n    private drawImage() {\r\n      if (this.options.image) {\r\n        this.$timeout(() => {\r\n          this.onImageLoad(this.$element.find('img'));\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this._oldOpacity = _.clone(this.opacity);\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-calendar-config',\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size || {\r\n            colSpan: 1,\r\n            rowSpan: 1\r\n          },\r\n          date: this.options.date,\r\n          title: this.options.title,\r\n          text: this.options.text,\r\n          opacity: this.opacity,\r\n          onOpacitytest: (opacity) => {\r\n            this.opacity = opacity;\r\n          }\r\n        },\r\n        extensionUrl: 'event_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.options.date = result.date;\r\n        this.options.title = result.title;\r\n        this.options.text = result.text;\r\n        this.options.opacity = result.opacity;\r\n      }, () => {\r\n        this.opacity = this._oldOpacity;\r\n      });\r\n    }\r\n\r\n    private onImageLoad(image) {\r\n      this.setImageMarginCSS(this.$element.parent(), image);\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      if (this.options.image) {\r\n        this.$timeout(() => {\r\n          this.setImageMarginCSS(this.$element.parent(), this.$element.find('img'));\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    // Later replace by pipImageUtils sevice's function\r\n    private setImageMarginCSS($element, image) {\r\n      let\r\n        containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\r\n        containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\r\n        imageWidth = image[0].naturalWidth || image.width,\r\n        imageHeight = image[0].naturalHeight || image.height,\r\n        margin = 0,\r\n        cssParams = {};\r\n\r\n      if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n        margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n        cssParams['margin-left'] = '' + margin + 'px';\r\n        cssParams['height'] = '' + containerHeight + 'px'; //'100%';\r\n        cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\r\n        cssParams['margin-top'] = '';\r\n      } else {\r\n        margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n        cssParams['margin-top'] = '' + margin + 'px';\r\n        cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\r\n        cssParams['width'] = '' + containerWidth + 'px'; //'100%';\r\n        cssParams['margin-left'] = '';\r\n      }\r\n\r\n      image.css(cssParams);\r\n    }\r\n  }\r\n\r\n\r\n  const EventTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: EventTileController,\r\n    templateUrl: 'event_tile/EventTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipEventTile', EventTile);\r\n}","{\r\n  const TileMenu = ():ng.IDirective => {\r\n    return {\r\n      restrict: 'EA',\r\n      templateUrl: 'menu_tile/MenuTile.html'\r\n    };\r\n  }\r\n\r\n  angular\r\n    .module('pipMenuTile')\r\n    .directive('pipTileMenu', TileMenu);\r\n}","import { DashboardTile } from '../common_tile/Tile';\r\n\r\nexport class MenuTileService extends DashboardTile {\r\n  public menu: any = [{\r\n    title: 'Change Size',\r\n    action: angular.noop,\r\n    submenu: [{\r\n        title: '1 x 1',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 1,\r\n          sizeY: 1\r\n        }\r\n      },\r\n      {\r\n        title: '2 x 1',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 2,\r\n          sizeY: 1\r\n        }\r\n      },\r\n      {\r\n        title: '2 x 2',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 2,\r\n          sizeY: 2\r\n        }\r\n      }\r\n    ]\r\n  }];\r\n\r\n  constructor() {\r\n    \"ngInject\";\r\n\r\n    super();\r\n  }\r\n\r\n  public callAction(actionName, params, item) {\r\n    if (this[actionName]) {\r\n      this[actionName].call(this, params);\r\n    }\r\n\r\n    if (item['click']) {\r\n      item['click'].call(item, params, this);\r\n    }\r\n  };\r\n\r\n  public changeSize(params) {\r\n    this.options.size.colSpan = params.sizeX;\r\n    this.options.size.rowSpan = params.sizeY;\r\n  };\r\n}\r\n\r\n{\r\n  class MenuTileProvider {\r\n    private _service: MenuTileService;\r\n\r\n    constructor() {}\r\n\r\n    public $get() {\r\n      \"ngInject\";\r\n\r\n      if (this._service == null)\r\n        this._service = new MenuTileService();\r\n\r\n      return this._service;\r\n    }\r\n  }\r\n\r\n  angular\r\n    .module('pipMenuTile')\r\n    .provider('pipMenuTile', MenuTileProvider);\r\n}","angular\r\n    .module('pipMenuTile', []);\r\n\r\nimport './MenuTileDirective';\r\nimport './MenuTileService';\r\n\r\nexport * from './MenuTileService';","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class NoteTileController extends MenuTileService {\r\n\r\n    constructor(\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.color = this.options.color || 'orange';\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size,\r\n          title: this.options.title,\r\n          text: this.options.text,\r\n        },\r\n        extensionUrl: 'note_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.changeSize(result.size);\r\n        this.options.text = result.text;\r\n        this.options.title = result.title;\r\n      });\r\n    }\r\n  }\r\n\r\n  const NoteTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: NoteTileController,\r\n    templateUrl: 'note_tile/NoteTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipNoteTile', NoteTile);\r\n}","'use strict';\r\n\r\nimport {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\nimport {\r\n  ITileTemplateService\r\n} from '../utility/TileTemplateUtility';\r\n\r\n{\r\n  class PictureSliderController extends MenuTileService {\r\n    public animationType: string = 'fading';\r\n    public animationInterval: number = 5000;\r\n\r\n    constructor(\r\n      private $scope: angular.IScope,\r\n      private $element: any,\r\n      private $timeout: angular.ITimeoutService,\r\n      private pipTileTemplate: ITileTemplateService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.animationType = this.options.animationType || this.animationType;\r\n        this.animationInterval = this.options.animationInterval || this.animationInterval;\r\n      }\r\n    }\r\n\r\n    public onImageLoad($event) {\r\n      this.$timeout(() => {\r\n        this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), $event.target);\r\n      });\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.$timeout(() => {\r\n        _.each(this.$element.find('img'), (image) => {\r\n          this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), image);\r\n        });\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  const PictureSliderTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: PictureSliderController,\r\n    templateUrl: 'picture_slider_tile/PictureSliderTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipPictureSliderTile', PictureSliderTile);\r\n}","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class PositionTileController extends MenuTileService {\r\n    public showPosition: boolean = true;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $element: any,\r\n      private pipTileConfigDialogService: ITileConfigService,\r\n      private pipLocationEditDialog: any,\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.menu.push({\r\n        title: 'Change location',\r\n        click: () => {\r\n          this.openLocationEditDialog();\r\n        }\r\n      });\r\n\r\n      this.options.location = this.options.location || this.options.position;\r\n\r\n      $scope.$watch('$ctrl.options.location', () => {\r\n        this.reDrawPosition();\r\n      });\r\n\r\n      // TODO it doesn't work\r\n      $scope.$watch(() => {\r\n        return $element.is(':visible');\r\n      }, (newVal) => {\r\n        if (newVal == true) this.reDrawPosition();\r\n      });\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-position-config',\r\n        locals: {\r\n          size: this.options.size,\r\n          locationName: this.options.locationName,\r\n          hideColors: true,\r\n        },\r\n        extensionUrl: 'position_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n        this.options.locationName = result.locationName;\r\n      });\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.reDrawPosition();\r\n    }\r\n\r\n    public openLocationEditDialog() {\r\n      this.pipLocationEditDialog.show({\r\n        locationName: this.options.locationName,\r\n        locationPos: this.options.location\r\n      }, (newPosition) => {\r\n        if (newPosition) {\r\n          this.options.location = newPosition.location;\r\n          this.options.locationName = newPosition.locatioName;\r\n        }\r\n      });\r\n    }\r\n\r\n    private reDrawPosition() {\r\n      this.showPosition = false;\r\n      this.$timeout(() => {\r\n        this.showPosition = true;\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n\r\n  const PositionTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: PositionTileController,\r\n    templateUrl: 'position_tile/PositionTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipPositionTile', PositionTile);\r\n}","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\n\r\n{\r\n  const SMALL_CHART: number = 70;\r\n  const BIG_CHART: number = 250;\r\n\r\n  class StatisticsTileController extends MenuTileService {\r\n    private _$scope: angular.IScope;\r\n    private _$timeout: angular.ITimeoutService;\r\n\r\n    public reset: boolean = false;\r\n    public chartSize: number = SMALL_CHART;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      $timeout: angular.ITimeoutService\r\n    ) {\r\n      super();\r\n      this._$scope = $scope;\r\n      this._$timeout = $timeout;\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n      }\r\n\r\n      this.setChartSize();\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.reset = true;\r\n      this.setChartSize();\r\n      this._$timeout(() => {\r\n        this.reset = false;\r\n      }, 500);\r\n    }\r\n\r\n    private setChartSize() {\r\n      this.chartSize = this.options.size.colSpan == 2 && this.options.size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\r\n    }\r\n  }\r\n\r\n\r\n  const StatisticsTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: StatisticsTileController,\r\n    templateUrl: 'statistics_tile/StatisticsTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipStatisticsTile', StatisticsTile);\r\n}","{\r\n  interface DraggableTileAttributes extends ng.IAttributes {\r\n    pipDraggableTiles: any;\r\n  }\r\n\r\n  function DraggableTileLink(\r\n    $scope: ng.IScope,\r\n    $elem: JQuery,\r\n    $attr: DraggableTileAttributes\r\n  ) {\r\n    const docFrag = document.createDocumentFragment(),\r\n      group = $scope.$eval($attr.pipDraggableTiles);\r\n\r\n    group.forEach(function (tile) {\r\n      const tpl = wrapComponent(tile.getCompiledTemplate());\r\n      docFrag.appendChild(tpl);\r\n    });\r\n\r\n    $elem.append(docFrag);\r\n\r\n    function wrapComponent(elem) {\r\n      return $('<div>')\r\n        .addClass('pip-draggable-tile')\r\n        .append(elem)\r\n        .get(0);\r\n    }\r\n  }\r\n\r\n  function DraggableTiles(): ng.IDirective {\r\n    return {\r\n      restrict: 'A',\r\n      link: function(\r\n        $scope: ng.IScope,\r\n        $elem: JQuery,\r\n        $attr: DraggableTileAttributes\r\n      ) {\r\n          new DraggableTileLink($scope, $elem, $attr);\r\n      }\r\n    };\r\n  }\r\n\r\n  angular\r\n    .module('pipDraggableTilesGroup')\r\n    .directive('pipDraggableTiles', DraggableTiles);\r\n}","export interface TilesGridConstructor {\r\n  new(tiles, options, columns, elem);\r\n}\r\n\r\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem): ITilesGridService {\r\n  return new constructor(tiles, options, columns, elem);\r\n}\r\n\r\nexport interface ITilesGridService {\r\n  tiles: any;\r\n  opts: any;\r\n  columns: any;\r\n  elem: any;\r\n  gridCells: any;\r\n  inline: boolean;\r\n  isMobileLayout: boolean;\r\n\r\n  addTile(tile): any;\r\n  getCellByPosition(row, col): any;\r\n  getCells(prevCell, rowSpan, colSpan): any;\r\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\r\n  getCell(src, basicRow, basicCol, columns): any;\r\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\r\n  getBasicRow(prevCell): any;\r\n  isCellFree(row, col): any;\r\n  getCellIndex(srcCell): any;\r\n  reserveCells(start, end, elem): void;\r\n  clearElements(): void;\r\n  setAvailableColumns(columns): any;\r\n  generateGrid(singleTileWidth ? ): any;\r\n  setTilesDimensions(onlyPosition, draggedTile): any;\r\n  calcContainerHeight(): any;\r\n  getTileByNode(node): any;\r\n  getTileByCoordinates(coords, draggedTile): any;\r\n  getTileIndex(tile): any;\r\n  swapTiles(movedTile, beforeTile): any;\r\n  removeTile(removeTile): any;\r\n  updateTileOptions(opts): any;\r\n}\r\n\r\nconst MOBILE_LAYOUT_COLUMNS = 2;\r\n\r\nexport class TilesGridService implements ITilesGridService {\r\n  public tiles: any;\r\n  public opts: any;\r\n  public columns: any;\r\n  public elem: any;\r\n  public gridCells: any = [];\r\n  public inline: boolean = false;\r\n  public isMobileLayout: boolean;\r\n\r\n  constructor(tiles, options, columns, elem) {\r\n    this.tiles = tiles;\r\n    this.opts = options;\r\n    this.columns = columns || 0; // available columns in a row\r\n    this.elem = elem;\r\n    this.gridCells = [];\r\n    this.inline = options.inline || false;\r\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\r\n  }\r\n\r\n  public addTile(tile): any {\r\n    this.tiles.push(tile);\r\n    if (this.tiles.length === 1) {\r\n      this.generateGrid();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public getCellByPosition(row, col): any {\r\n    return this.gridCells[row][col];\r\n  };\r\n\r\n  public getCells(prevCell, rowSpan, colSpan): any {\r\n    if (this.isMobileLayout) {\r\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\r\n    } else {\r\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\r\n    }\r\n  };\r\n\r\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\r\n    let leftCornerCell;\r\n    let rightCornerCell;\r\n    const basicCol = prevCell && prevCell.col || 0;\r\n    const basicRow = this.getBasicRow(prevCell);\r\n\r\n    // Small tile\r\n    if (colSpan === 1 && rowSpan === 1) {\r\n      const gridCopy = this.gridCells.slice();\r\n\r\n      if (!prevCell) {\r\n        leftCornerCell = gridCopy[0][0];\r\n      } else {\r\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\r\n\r\n        if (!leftCornerCell) {\r\n          const rowShift = this.isMobileLayout ? 1 : 2;\r\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Medium tile\r\n    if (colSpan === 2 && rowSpan === 1) {\r\n      const prevTileSize = prevCell && prevCell.elem.size || null;\r\n\r\n      if (!prevTileSize) {\r\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\r\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\r\n        if (this.columns - basicCol - 2 > 0) {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n        }\r\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\r\n        if (prevCell.row % 2 === 0) {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\r\n        } else {\r\n          if (this.columns - basicCol - 3 >= 0) {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          } else {\r\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n          }\r\n        }\r\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\r\n        if (this.columns - basicCol - 3 >= 0) {\r\n          if (this.isCellFree(basicRow, basicCol + 1)) {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          } else {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\r\n          }\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Big tile\r\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\r\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\r\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\r\n    } else if (rowSpan === 2 && colSpan === 2) {\r\n      if (this.columns - basicCol - 2 > 0) {\r\n        if (this.isCellFree(basicRow, basicCol + 1)) {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\r\n        }\r\n      } else {\r\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\r\n      }\r\n    }\r\n\r\n    return {\r\n      start: leftCornerCell,\r\n      end: rightCornerCell\r\n    };\r\n  };\r\n\r\n  public getCell(src, basicRow, basicCol, columns): any {\r\n    let cell, col, row;\r\n\r\n    if (this.isMobileLayout) {\r\n      // mobile layout\r\n      for (col = basicCol; col < columns; col++) {\r\n        if (!src[basicRow][col].elem) {\r\n          cell = src[basicRow][col];\r\n          break;\r\n        }\r\n      }\r\n\r\n      return cell;\r\n    }\r\n\r\n    // desktop\r\n    for (col = basicCol; col < columns; col++) {\r\n      for (row = 0; row < 2; row++) {\r\n        if (!src[row + basicRow][col].elem) {\r\n          cell = src[row + basicRow][col];\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (cell) {\r\n        return cell;\r\n      }\r\n    }\r\n  };\r\n\r\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\r\n    let leftCornerCell;\r\n    let rightCornerCell;\r\n    const basicRow = this.getBasicRow(prevCell);\r\n    const basicCol = prevCell && prevCell.col || 0;\r\n\r\n\r\n    if (colSpan === 1 && rowSpan === 1) {\r\n      const gridCopy = this.gridCells.slice();\r\n\r\n      if (!prevCell) {\r\n        leftCornerCell = gridCopy[0][0];\r\n      } else {\r\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\r\n\r\n        if (!leftCornerCell) {\r\n          const rowShift = this.isMobileLayout ? 1 : 2;\r\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!prevCell) {\r\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\r\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\r\n    } else if (colSpan === 2) {\r\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\r\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\r\n    }\r\n\r\n    return {\r\n      start: leftCornerCell,\r\n      end: rightCornerCell\r\n    };\r\n  };\r\n\r\n  public getBasicRow(prevCell): any {\r\n    let basicRow;\r\n\r\n    if (this.isMobileLayout) {\r\n      if (prevCell) {\r\n        basicRow = prevCell && prevCell.row || 0;\r\n      } else {\r\n        basicRow = 0;\r\n      }\r\n    } else {\r\n      if (prevCell) {\r\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\r\n      } else {\r\n        basicRow = 0;\r\n      }\r\n    }\r\n\r\n    return basicRow;\r\n  };\r\n\r\n  public isCellFree(row, col): any {\r\n    return !this.gridCells[row][col].elem;\r\n  };\r\n\r\n  public getCellIndex(srcCell): any {\r\n    const self = this;\r\n    let index;\r\n\r\n    this.gridCells.forEach((row, rowIndex) => {\r\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\r\n        return cell === srcCell;\r\n      });\r\n\r\n      if (index !== -1) {\r\n        return;\r\n      }\r\n    });\r\n\r\n    return index !== -1 ? index : 0;\r\n  };\r\n\r\n  public reserveCells(start, end, elem) {\r\n    this.gridCells.forEach((row) => {\r\n      row.forEach((cell) => {\r\n        if (cell.row >= start.row && cell.row <= end.row &&\r\n          cell.col >= start.col && cell.col <= end.col) {\r\n          cell.elem = elem;\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  public clearElements() {\r\n    this.gridCells.forEach((row) => {\r\n      row.forEach((tile) => {\r\n        tile.elem = null;\r\n      });\r\n    });\r\n  };\r\n\r\n  public setAvailableColumns(columns): any {\r\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\r\n    this.columns = columns;\r\n\r\n    return this;\r\n  };\r\n\r\n  public generateGrid(singleTileWidth ? ): any {\r\n    const self = this,\r\n      tileWidth = singleTileWidth || this.opts.tileWidth,\r\n      offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\r\n    let colsInRow = 0,\r\n      rows = 0,\r\n      gridInRow = [];\r\n\r\n    this.gridCells = [];\r\n\r\n    this.tiles.forEach((tile, index, srcTiles) => {\r\n      const tileSize = tile.getSize();\r\n\r\n      generateCells(tileSize.colSpan);\r\n\r\n      if (srcTiles.length === index + 1) {\r\n        if (colsInRow < self.columns) {\r\n          generateCells(self.columns - colsInRow);\r\n        }\r\n\r\n        // Generate more cells for extends tile size to big\r\n        if (self.tiles.length * 2 > self.gridCells.length) {\r\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\r\n            generateCells(self.columns);\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    function generateCells(newCellCount) {\r\n      Array.apply(null, Array(newCellCount)).forEach(() => {\r\n        if (self.columns < colsInRow + 1) {\r\n          rows++;\r\n          colsInRow = 0;\r\n\r\n          self.gridCells.push(gridInRow);\r\n          gridInRow = [];\r\n        }\r\n\r\n        let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\r\n        let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\r\n\r\n        // Describe grid cell size through block corners coordinates\r\n        gridInRow.push({\r\n          top: top,\r\n          left: left,\r\n          bottom: top + self.opts.tileHeight,\r\n          right: left + tileWidth,\r\n          row: rows,\r\n          col: colsInRow\r\n        });\r\n\r\n        colsInRow++;\r\n      });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public setTilesDimensions(onlyPosition, draggedTile): any {\r\n    const self = this;\r\n    let currIndex = 0;\r\n    let prevCell;\r\n\r\n    if (onlyPosition) {\r\n      self.clearElements();\r\n    }\r\n\r\n    this.tiles.forEach((tile) => {\r\n      const tileSize = tile.getSize();\r\n      let startCell;\r\n      let width;\r\n      let height;\r\n      let cells;\r\n\r\n      tile.updateElem('.pip-draggable-tile');\r\n      if (tileSize.colSpan === 1) {\r\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\r\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\r\n        } else {\r\n          startCell = self.getCells(prevCell, 1, 1).start;\r\n        }\r\n\r\n\r\n        if (!onlyPosition) {\r\n          width = startCell.right - startCell.left;\r\n          height = startCell.bottom - startCell.top;\r\n        }\r\n\r\n        prevCell = startCell;\r\n\r\n        self.reserveCells(startCell, startCell, tile);\r\n\r\n        currIndex++;\r\n      } else if (tileSize.colSpan === 2) {\r\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\r\n        startCell = cells.start;\r\n\r\n        if (!onlyPosition) {\r\n          width = cells.end.right - cells.start.left;\r\n          height = cells.end.bottom - cells.start.top;\r\n        }\r\n\r\n        prevCell = cells.end;\r\n\r\n        self.reserveCells(cells.start, cells.end, tile);\r\n\r\n        currIndex += 2;\r\n      }\r\n\r\n      // Render preview\r\n      // while tiles from group is dragged\r\n      if (draggedTile === tile) {\r\n        tile.setPreviewPosition({\r\n          left: startCell.left,\r\n          top: startCell.top\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      if (!onlyPosition) {\r\n        tile.setSize(width, height);\r\n      }\r\n\r\n      tile.setPosition(startCell.left, startCell.top);\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  public calcContainerHeight(): any {\r\n    let maxHeightSize, maxWidthSize;\r\n\r\n    if (!this.tiles.length) {\r\n      return this;\r\n    }\r\n\r\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\r\n      const tileSize = tile['getSize']();\r\n      return tileSize.top + tileSize.height;\r\n    })['getSize']();\r\n\r\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\r\n\r\n    if (this.inline) {\r\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\r\n        const tileSize = tile['getSize']();\r\n        return tileSize.left + tileSize.width;\r\n      })['getSize']();\r\n\r\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public getTileByNode(node): any {\r\n    const foundTile = this.tiles.filter((tile) => {\r\n      return node === tile.getElem();\r\n    });\r\n\r\n    return foundTile.length ? foundTile[0] : null;\r\n  };\r\n\r\n  public getTileByCoordinates(coords, draggedTile): any {\r\n    return this.tiles\r\n      .filter((tile) => {\r\n        const tileSize = tile.getSize();\r\n\r\n        return tile !== draggedTile &&\r\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\r\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\r\n      })[0] || null;\r\n  };\r\n\r\n  public getTileIndex(tile): any {\r\n    return _.findIndex(this.tiles, tile);\r\n  };\r\n\r\n  public swapTiles(movedTile, beforeTile): any {\r\n    const movedTileIndex = _.findIndex(this.tiles, movedTile);\r\n    const beforeTileIndex = _.findIndex(this.tiles, beforeTile);\r\n\r\n    this.tiles.splice(movedTileIndex, 1);\r\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\r\n\r\n    return this;\r\n  };\r\n\r\n  public removeTile(removeTile): any {\r\n    let droppedTile;\r\n\r\n    this.tiles.forEach((tile, index, tiles) => {\r\n      if (tile === removeTile) {\r\n        droppedTile = tiles.splice(index, 1)[0];\r\n        return false;\r\n      }\r\n    });\r\n\r\n    return droppedTile;\r\n  };\r\n\r\n  public updateTileOptions(opts): any {\r\n    const index = _.findIndex(this.tiles, (tile) => {\r\n      return tile['getOptions']() === opts;\r\n    });\r\n\r\n    if (index !== -1) {\r\n      this.tiles[index].setOptions(opts);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n}\r\n\r\n\r\nangular\r\n  .module('pipDraggableTilesGroup')\r\n  .service('pipTilesGrid', function () {\r\n    return function (tiles, options, columns, elem) {\r\n      const newGrid = new TilesGridService(tiles, options, columns, elem);\r\n\r\n      return newGrid;\r\n    }\r\n  });","angular\r\n    .module('pipDraggableTilesGroup', []);\r\n\r\nimport './TileGroupDirective';\r\nimport './TileGroupService';","export interface ITileTemplateService {\r\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\r\n    setImageMarginCSS($element, image): void;\r\n} \r\n\r\n{\r\n    class tileTemplateService implements ITileTemplateService {\r\n        private _$interpolate: angular.IInterpolateService;\r\n        private _$compile: angular.ICompileService;\r\n        private _$templateRequest: angular.ITemplateRequestService;\r\n\r\n        constructor(\r\n            $interpolate: angular.IInterpolateService,\r\n            $compile: angular.ICompileService,\r\n            $templateRequest: angular.ITemplateRequestService\r\n        ) {\r\n            this._$interpolate = $interpolate;\r\n            this._$compile = $compile;\r\n            this._$templateRequest = $templateRequest;\r\n        }\r\n\r\n        public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\r\n            const {\r\n                template,\r\n                templateUrl,\r\n                type\r\n            } = source;\r\n            let result;\r\n\r\n            if (type) {\r\n                const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\r\n                return strictCompile == true ?\r\n                    (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\r\n                    interpolated;\r\n            }\r\n\r\n            if (template) {\r\n                return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\r\n            }\r\n\r\n            if (templateUrl) {\r\n                this._$templateRequest(templateUrl, false).then((html) => {\r\n                    result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\r\n                });\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        public setImageMarginCSS($element, image) {\r\n            let\r\n                containerWidth = $element.width ? $element.width() : $element.clientWidth,\r\n                containerHeight = $element.height ? $element.height() : $element.clientHeight,\r\n                imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\r\n                imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\r\n                margin = 0,\r\n                cssParams = {};\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px'; //'100%';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\r\n                cssParams['width'] = '' + containerWidth + 'px'; //'100%';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            $(image).css(cssParams);\r\n        }\r\n    }\r\n\r\n    // image load directive TODO: remove to pipImageUtils\r\n    const ImageLoad = function ImageLoad($parse: ng.IParseService): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: ng.IScope, element: JQuery, attrs: any) {\r\n                const callback = $parse(attrs.pipImageLoad);\r\n\r\n                element.bind('load', (event) => {\r\n                    callback(scope, {\r\n                        $event: event\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDashboard')\r\n        .service('pipTileTemplate', tileTemplateService)\r\n        .directive('pipImageLoad', ImageLoad);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_tile_dialog/AddTile.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_TITLE\\' | translate }}<md-input-container class=\"layout-row flex-auto m0 tm16\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"{{ \\'DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP\\' | translate }}\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS\\' | translate }}</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Cancel\">{{ \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"dialogCtrl.add()\" ng-disabled=\"dialogCtrl.totalWidgets === 0\" arial-label=\"Add\">{{ \\'ADD\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/CalendarTile.html',\n    '<div class=\"widget-box pip-calendar-widget {{ $ctrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ $ctrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ $ctrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-tile-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-tile-config-extend-component class=\"layout-column\" pip-dialog-scope=\"vm\" pip-extension-url=\"vm.extensionUrl\" pip-apply=\"vm.onApply(updatedData)\"></pip-tile-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{ \\'DASHBOARD_TILE_CONFIG_DIALOG_TITLE\\' | translate }}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!$ctrl.hideSizes\" pip-buttons=\"$ctrl.sizes\" ng-model=\"$ctrl.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!$ctrl.hideColors\" pip-colors=\"$ctrl.colors\" ng-model=\"$ctrl.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onCancel()\">{{ \\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\">{{ \\'APPLY\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dashboard/Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"$ctrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"$ctrl.groupedWidgets\" pip-tiles-context=\"$ctrl.widgetsContext\" pip-draggable-grid=\"$ctrl.draggableGridOptions\" pip-group-menu-actions=\"$ctrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in $ctrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"$ctrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"$ctrl.onBlurTitleInput(group)\" ng-keypress=\"$ctrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"$ctrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in $ctrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container>Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"$ctrl.opacity\" ng-change=\"$ctrl.onOpacitytest($ctrl.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/EventTile.html',\n    '<div class=\"widget-box pip-event-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><img ng-if=\"$ctrl.options.image\" ng-src=\"{{$ctrl.options.image}}\" alt=\"{{$ctrl.options.title || $ctrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ $ctrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"$ctrl.options.date\">{{ $ctrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ $ctrl.options.text || $ctrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu_tile/MenuTile.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"$ctrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"$ctrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"$ctrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/NoteTile.html',\n    '<div class=\"widget-box pip-notes-widget {{ $ctrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"$ctrl.options.title || $ctrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span></div><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu><div class=\"text-container flex-auto pip-scroll\"><p>{{ $ctrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_slider_tile/PictureSliderTile.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ $ctrl.options.title }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"$ctrl.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/PositionTile.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!$ctrl.options.locationName\"><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"$ctrl.options.locationName\"><span class=\"flex text-overflow\">{{ $ctrl.options.locationName }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><pip-location-map class=\"flex\" ng-if=\"$ctrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"$ctrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('statistics_tile/StatisticsTile.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.series && !$ctrl.reset\"><pip-pie-chart pip-series=\"$ctrl.options.series\" ng-if=\"!$ctrl.options.chartType || $ctrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"$ctrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n","import { ISettingsService } from '../service/ISettingsService';\r\nimport { SettingsTab } from '../service/SettingsTab';\r\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\r\n\r\ninterface ISettingsPageController {\r\n    tabs: SettingsTab[];\r\n    selected: SettingsPageSelectedTab;\r\n    // onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass SettingsPageController implements ISettingsPageController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public tabs: SettingsTab[];\r\n    public selected: SettingsPageSelectedTab;\r\n    // public onDropdownSelect: Function;\r\n    private cleanUpFunc: Function;\r\n    private cleanUpSelectFunc: Function;\r\n    private mediaSizeGtSm: boolean;\r\n    public details: boolean;\r\n\r\n    constructor(\r\n        private $state: ng.ui.IStateService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        $scope: ng.IScope,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $timeout: angular.ITimeoutService,\r\n        private $location: ng.ILocationService,\r\n        private pipNavService: pip.nav.INavService,\r\n        private pipSettings: ISettingsService,\r\n        public pipMedia: pip.layouts.IMediaService,\r\n    ) {\r\n\r\n        this.translateInit();\r\n\r\n        this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n        this.initTabs();\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = $location.search().details == 'details' ? true : false;\r\n        } else {\r\n            this.details = false;\r\n            this.$location.search('details', 'main');\r\n        }\r\n            \r\n        this.cleanUpSelectFunc = $rootScope.$on('$stateChangeSuccess', () => {\r\n            let state = this.$state.current.name;\r\n            this.initSelect(state, false);\r\n        });\r\n\r\n        this.cleanUpFunc = $rootScope.$on('pipMainResized', () => {\r\n            if (this.mediaSizeGtSm !== this.pipMedia('gt-sm')) {\r\n                this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n                if (this.pipMedia('gt-sm')) {\r\n                    this.details = false;\r\n                }\r\n                this.appHeader();\r\n            }\r\n        });\r\n        this.appHeader();\r\n\r\n        $scope.$on('$destroy', () => {\r\n            if (angular.isFunction(this.cleanUpFunc)) {\r\n                this.cleanUpFunc();\r\n            }\r\n            \r\n            if (angular.isFunction(this.cleanUpSelectFunc)) {\r\n                this.cleanUpSelectFunc();\r\n            }\r\n        });\r\n    }\r\n\r\n    private initTabs(): void {\r\n        this.tabs = _.filter(this.pipSettings.getTabs(), (tab: SettingsTab) => {\r\n            if (tab.visible === true && (tab.access ? tab.access(this.$rootScope['$user'], tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new SettingsPageSelectedTab();\r\n        if (this.$state.current.name !== 'settings') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'settings' && this.pipSettings.getDefaultTab()) {\r\n            this.initSelect(this.pipSettings.getDefaultTab().state);\r\n        } else {\r\n            this.$timeout(() => {\r\n                if (this.pipSettings.getDefaultTab()) {\r\n                    this.initSelect(this.pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!this.pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private translateInit() {\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                PIP_SETTINGS: 'Settings',\r\n                PIP_SETTINGS_DETAILS: 'Settings details'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                PIP_SETTINGS: '',\r\n                PIP_SETTINGS_DETAILS: ''\r\n            });\r\n        }\r\n    }\r\n    private toMainFromDetails(): void {\r\n        this.$location.search('details', 'main');\r\n        this.details = false;\r\n        this.appHeader();\r\n    }\r\n\r\n    public appHeader(): void {\r\n        this.pipNavService.breadcrumb.breakpoint = 'gt-sm';\r\n        if (!this.pipMedia('gt-sm')) {\r\n            let detailsTitle: string = this.selected && this.selected.tab ? this.selected.tab.title : 'PIP_SETTINGS_DETAILS';\r\n            if (this.details) {\r\n                this.pipNavService.icon.showBack(() => {\r\n                    this.toMainFromDetails();\r\n                });\r\n                this.pipNavService.breadcrumb.items = [\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: \"PIP_SETTINGS\", click: () => {\r\n                            this.toMainFromDetails();\r\n                        }\r\n                    },\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: detailsTitle, click: () => { }, subActions: []\r\n                    }\r\n                ];\r\n            } else {\r\n                this.pipNavService.icon.showMenu();\r\n                this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n            }\r\n        } else {\r\n            this.pipNavService.icon.showMenu();\r\n            this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n        }\r\n\r\n\r\n        this.pipNavService.actions.hide();\r\n        this.pipNavService.appbar.removeShadow();\r\n    }\r\n\r\n    private initSelect(state: string, updateState: boolean = true): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        if (updateState === true) this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = true;\r\n            this.$location.search('details', 'details');\r\n            this.appHeader();\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n","{\r\n    function configureSettingsPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('settings', {\r\n                url: '/settings?user_id&details',\r\n                auth: true,\r\n                controllerAs: 'vm',\r\n                controller: 'pipSettingsPageController',\r\n                templateUrl: 'page/SettingsPage.html'\r\n            });\r\n\r\n    }\r\n\r\n    angular.module('pipSettings.Page')\r\n        .config(configureSettingsPageRoutes);\r\n}\r\n","angular.module('pipHelp.Page', [\r\n    'ui.router', \r\n    'pipHelp.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipHelp.Templates'\r\n    ]);\r\n\r\nimport './HelpPage';\r\nimport './HelpPageRoutes';","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsConfig {\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsPageSelectedTab {\r\n    public tab: SettingsTab;\r\n    public tabIndex: number = 0;\r\n    public tabId: string;\r\n}","import { SettingsTab } from './SettingsTab';\r\nimport { SettingsConfig } from './SettingsConfig';\r\nimport { ISettingsService } from './ISettingsService';\r\nimport { ISettingsProvider } from './ISettingsService';\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n\r\n    public constructor(config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): SettingsTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: SettingsTab): void {\r\n        let existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            icon: tabObj.icon,\r\n            iconClass: tabObj.iconClass,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //console.log(this.$stateProvider);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n    private validateTab(tabObj: SettingsTab): void {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): ISettingsService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new SettingsService(this._config);\r\n        }\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","export class SettingsStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}","import { SettingsStateConfig } from './SettingsStateConfig';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public icon?: string;\r\n    public iconClass?: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: SettingsStateConfig;\r\n}\r\n","angular\r\n    .module('pipHelp.Service', []);\r\n\r\nimport './HelpConfig';\r\nimport './HelpPageSelectedTab';\r\nimport './HelpTab';\r\nimport './HelpStateConfig';\r\nimport './HelpService';\r\n\r\nexport * from './HelpConfig';\r\nexport * from './HelpPageSelectedTab';\r\nexport * from './HelpTab';\r\nexport * from './HelpStateConfig';\r\nexport * from './HelpService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<div class=\"pip-main-menu pip-settings\" ng-class=\"{\\'pip-single-content\\': vm.details}\"><div class=\"pip-menu\"><div class=\"pip-list-container pip-scroll divider-top\"><md-list class=\"pip-ref-list tp0 pip-settings-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-ref-list-item pointer divider-bottom pip-selectable\" ng-repeat=\"tab in vm.tabs track by tab.state\" pip-id=\"{{:: tab.state }}\" md-ink-ripple=\"\"><div ng-click=\"vm.onNavigationSelect(tab.state)\" class=\"layout-row layout-align-start-center flex\"><div class=\"pip-settings-icon layout-row layout-align-start-center {{ tab.iconClass ? tab.iconClass : \\'pip-settings-icon-color\\'}}\" ng-if=\"tab.icon\"><md-icon class=\"\" md-svg-icon=\"{{ tab.icon }}\"></md-icon></div><div class=\"pip-content {{ tab.icon ? \\'\\' : \\'pip-settings-without-icon\\' }}\"><p class=\"pip-title text-overflow flex\">{{ ::tab.title | translate }}</p></div><div class=\"pip-ref-list-item-end-icon\"><md-icon class=\"\" md-svg-icon=\"icons:chevron-right\"></md-icon></div></div></md-list-item></md-list></div></div><div class=\"pip-content-container\"><pip-document><div class=\"pip-body tp24-flex layout-column flex\" ui-view=\"\"></div></pip-document></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","import { IHelpService } from '../service/IHelpService';\r\nimport { HelpTab } from '../service/HelpTab';\r\nimport { HelpPageSelectedTab } from '../service/HelpPageSelectedTab';\r\n\r\ninterface IHelpPage {\r\n    tabs: HelpTab[];\r\n    selected: HelpPageSelectedTab;\r\n    onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass HelpPageController implements IHelpPage, ng.IController {\r\n    public tabs: HelpTab[];\r\n    public selected: HelpPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        private $log: ng.ILogService,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService,\r\n        pipNavService: pip.nav.INavService,\r\n        pipHelp: IHelpService\r\n    ) {\r\n\r\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: HelpTab) =>{\r\n            if (tab.visible === true) {\r\n                    return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new HelpPageSelectedTab();\r\n        if (this.$state.current.name !== 'help') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'help' && pipHelp.getDefaultTab()) {\r\n            this.initSelect(pipHelp.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipHelp.getDefaultTab()) {\r\n                    this.initSelect(pipHelp.getDefaultTab().state);\r\n                }\r\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Help\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        \r\n        this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this.$state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipHelp.Page')\r\n    .controller('pipHelpPageController', HelpPageController);\r\n","{\r\n    function configureHelpPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('help', {\r\n                url: '/help?party_id',\r\n                auth: true,\r\n                controllerAs: '$ctrl',\r\n                controller: 'pipHelpPageController',\r\n                templateUrl: 'page/HelpPage.html'\r\n            });      \r\n    }\r\n\r\n    angular.module('pipHelp.Page')\r\n        .config(configureHelpPageRoutes);\r\n}","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpConfig {\r\n    public defaultTab: string;\r\n    public tabs: HelpTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: string = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpPageSelectedTab {\r\n    public tab: HelpTab;\r\n    public tabIndex: number;\r\n    public tabId: string;\r\n}","import { HelpConfig } from \"./HelpConfig\";\r\nimport { HelpTab } from './HelpTab';\r\nimport { IHelpService } from \"./IHelpService\";\r\nimport { IHelpProvider } from \"./IHelpService\";\r\n\r\nclass HelpService implements IHelpService {\r\n\r\n    public constructor(private _config: HelpConfig) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): HelpTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass HelpProvider implements IHelpProvider, ng.IServiceProvider {\r\n    private _service: HelpService;\r\n    private _config: HelpConfig = new HelpConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) { }\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: HelpTab): void {\r\n        let existingTab: HelpTab;\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === 'help.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n        //pipAuthStateProvider.redirect('help', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: HelpTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (!_.isNull(value) && !_.isUndefined(value)) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): IHelpService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new HelpService(this._config);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipHelp.Service')\r\n    .provider('pipHelp', HelpProvider);\r\n","export class HelpStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}\r\n","import { HelpStateConfig } from './HelpStateConfig';\r\n\r\nexport class HelpTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: HelpStateConfig;\r\n}\r\n\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-help\"><div class=\"pip-menu-container\" ng-hide=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"$ctrl.selected.tabIndex\" pip-selected-watch=\"$ctrl.selected.navId\" pip-select=\"$ctrl.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in $ctrl.tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"$ctrl.tabs\" pip-dropdown-select=\"$ctrl.onDropdownSelect\" pip-active-index=\"$ctrl.selected.tabIndex\"></pip-dropdown><div class=\"pip-body p0 layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}