{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/dependencies/TranslateFilter.ts","src/fabs/FabTooltipVisibility.ts","src/refresh_button/RefreshButton.ts","src/toggle_buttons/ToggleButtons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanelDirective.ts","src/auxpanel/AuxPanelPartDirective.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/behaviors.ts","src/draggable/draggable.ts","src/focused/focused.ts","src/infinite_scroll/infinite_scroll.ts","src/keyboard_shortcuts/KeyboardShortcut.ts","src/keyboard_shortcuts/ShorcutsRegisterService.ts","src/keyboard_shortcuts/ShortcutDirective.ts","src/keyboard_shortcuts/ShortcutsService.ts","src/keyboard_shortcuts/index.ts","src/selected/selected.ts","src/unsaved_changes/unsaved_changes.ts","src/color_picker/color_picker.ts","src/controls.ts","src/dependencies/translate.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js","src/tag_list/TagList.ts","temp/pip-webui-lists-html.min.js","src/date/date.ts","src/date/date_filter.ts","src/date/date_service.ts","src/date_directive/date.ts","src/date_range_directive/date_range.ts","src/dates.ts","src/dependencies/translate.js","src/time_range_directive/time_range.ts","src/time_range_edit_directive/time_range_edit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationDialogController.ts","src/confirmation/ConfirmationDialogParams.ts","src/confirmation/ConfirmationDialogService.ts","src/confirmation/index.ts","src/error_details/ErrorDetailsDialogController.ts","src/error_details/ErrorDetailsDialogParams.ts","src/error_details/ErrorDetailsDialogService.ts","src/error_details/index.ts","src/information/InformationDialogController.ts","src/information/InformationDialogParams.ts","src/information/InformationDialogService.ts","src/information/index.ts","src/options/OptionsDialogController.ts","src/options/OptionsDialogData.ts","src/options/OptionsDialogParams.ts","src/options/OptionsDialogResult.ts","src/options/OptionsDialogService.ts","src/options/index.ts","src/options_big/OptionsBigDialogController.ts","src/options_big/OptionsBigDialogData.ts","src/options_big/OptionsBigDialogParams.ts","src/options_big/OptionsBigDialogResult.ts","src/options_big/OptionsBigDialogService.ts","src/options_big/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/PrimaryActionsDirective.ts","src/actions/SecondaryActionsDirective.ts","src/actions/index.ts","src/appbar/AppBarDirective.ts","src/appbar/AppBarPartDirective.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/BreadcrumbDirective.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dropdown/DropdownDirective.ts","src/header/NavHeaderDirective.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIconDirective.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenuDirective.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBarDirective.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNavDirective.ts","src/sidenav/SideNavEvents.ts","src/sidenav/SideNavPartDirective.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/TabsDirective.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/common/errors_strings.ts","src/errors.ts","src/errors_pages/errors_module.ts","src/errors_pages/errors_pages.ts","src/errors_pages/errors_service.ts","src/forms/clear_errors.ts","src/forms/form_errors.ts","src/maintenance/maintenance.ts","src/missing_route/missing_route.ts","src/no_connection/no_connection.ts","src/no_connection_panel/no_connection_panel.ts","src/unknown/unknown.ts","src/unsupported/unsupported.ts","temp/pip-webui-errors-html.min.js","src/bar/bar_chart.ts","src/charts.ts","src/legend/interactive_legend.ts","src/line/line_chart.ts","src/pie/pie_chart.ts","temp/pip-webui-charts-html.min.js","src/location/location.ts","src/location_dialog/location_dialog.ts","src/location_edit/location_edit.ts","src/location_ip/location_ip.ts","src/location_map/location_map.ts","src/locations.ts","temp/pip-webui-locations-html.min.js","src/common/ButtonsUpload.ts","src/fail/FileFailController.ts","src/fail/index.ts","src/files.ts","src/select/FileSelectController.ts","src/service/FileUploadService.ts","src/start/FileStartController.ts","src/start/index.ts","src/success/FileSuccessController.ts","src/success/index.ts","src/upload/FileUploadController.ts","src/upload/index.ts","temp/pip-webui-files-html.min.js","src/Dashboard.ts","src/DashboardComponent.ts","src/dialogs/add_component/AddComponentDialogController.ts","src/dialogs/add_component/AddComponentProvider.ts","src/dialogs/widget_config/ConfigDialogController.ts","src/dialogs/widget_config/ConfigDialogExtendComponent.ts","src/dialogs/widget_config/ConfigDialogService.ts","src/draggable/Draggable.ts","src/draggable/DraggableComponent.ts","src/draggable/DraggableTileService.ts","src/draggable/draggable_group/DraggableTilesGroupDirective.ts","src/draggable/draggable_group/DraggableTilesGroupService.ts","src/utility/WidgetTemplateUtility.ts","src/widgets/WidgetClass.ts","src/widgets/Widgets.ts","src/widgets/calendar/WidgetCalendar.ts","src/widgets/event/WidgetEvent.ts","src/widgets/menu/WidgetMenuDirective.ts","src/widgets/menu/WidgetMenuService.ts","src/widgets/notes/WidgetNotes.ts","src/widgets/picture_slider/WidgetPictureSlider.ts","src/widgets/position/WidgetPosition.ts","src/widgets/statistics/WidgetStatistics.ts","temp/pip-webui-dashboard-html.min.js","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js","src/page/HelpPage.ts","src/page/HelpPageRoutes.ts","src/service/HelpConfig.ts","src/service/HelpPageSelectedTab.ts","src/service/HelpService.ts","src/service/HelpStateConfig.ts","src/service/HelpTab.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","defineProperty","value","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","config","hookRoutingEvents","$log","$state","RoutingVar","error","5","m","p","hasOwnProperty","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","$emit","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","get","set","$get","provider","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","8","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","id","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","10","TransactionError","decode","details","cause","stack_trace","data","statusText","status","11","TransactionService","_transactions","create","transaction","Transaction_1","12","$injector","pipTranslate","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","configureTransactionStrings","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","directive","translateDirective","translateHtmlDirective","15","translateFilter","16","initTranslate","language","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","__","constructor","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","save","changeLocale","locale","localeDate","moment","localeData","months","isArray","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","_this","TranslateProvider","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","./TranslateFilter","./TranslateService","19","Codes","hash","result","verification","random","substr","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","parseFormat","args","21","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","browserVersion","service","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","field","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","filter","2","pipFabTooltipVisibility","$parse","controller","FabTooltipVisibilityController_1","$element","$attrs","$scope","showGetter","showSetter","assign","$watch","trigGetter","isOpen","isFunction","./refresh_button/RefreshButton","./toggle_buttons/ToggleButtons","4","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","$onChanges","changes","currentValue","hide","onClick","$event","width","css","RefreshButtonComponent","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","index","currentButtonIndex","disabled","on","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","bindings","component","$templateCache","put","layouts","MediaService_1","AuxPanelDirective","AuxPanelDirectiveController","transclude","controllerAs","pipAuxPanel","normalSize","largeSize","_pipAuxPanel","isGtxs","Number","MainBreakpoints","xs","isGtlg","lg","../media/MediaService","AuxPanelPartDirectiveController","onAuxPanelChanged","currentPartValue","parts","partName","partValue","pipAuxPanelPart","pos","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","apply","hookAuxPanelEvents","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelChangedEvent","AuxPanelStateChangedEvent","AuxPanelConfig","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","_state","$broadcast","toggle","_i","arguments","c","reject","cc","part","AuxPanelProvider","type","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","CardDirectiveLink","listener","resize","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","cardDirective","7","dialogDirective","documentDirective","mainDirective","MainDirectiveController","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesOptions","TilesDirectiveLink","_columnWidth","columnWidth","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","parent","columns","layout","LayoutResizedEvent","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","defaultView","__resizeElement__","addEventListener","resizeListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","detachEvent","removeChild","behaviors","thisModule","inputEvent","isDefined","touches","originalEvent","$document","pipDraggable","initialize","attr","dragHandles","querySelectorAll","_dragHandle","toggleListeners","scrollContainer","scrollParent","pipScrollContainer","scrollContainerGetter","toBoolean","enable","onDestroy","pipDrag","onEnableChange","pipCenterAnchor","onCenterAnchor","_pressEvents","onpress","_hasTouch","nodeName","newVal","oldVal","_dragEnabled","_centerAnchor","isClickableElement","evt","button","saveElementStyles","cancelPress","_pressTimer","onlongpress","LONG_PRESS","_moveEvents","_releaseEvents","_elementStyle","off","offset","getBoundingClientRect","_dragOffset","allowTransform","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","_deregisterRootMoveListener","origEvent","_data","getDragData","x","y","tx","ty","onDragStartCallback","$data","horizontalScroll","verticalScroll","dragToScroll","moveElement","uid","_myid","dragOffset","onDragComplete","onDragStopCallback","onDragSuccessCallback","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","activationDistance","scrollDistance","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","ngDrag","DocumentTouch","$id","pipDragStart","pipDragStop","pipDragSuccess","$eval","pipDragData","pipVerticalScroll","pipHorizontalScroll","pipActivationDistance","pipScrollDistance","noop","pipDrop","onDragStart","onDragMove","onDragEnd","_dropEnabled","isTouching","pipDragMove","onDragMoveCallback","pipDropSuccess","onDropCallback","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","absorbEvent_","stopPropagation","cancelBubble","returnValue","$mdConstant","rgba","color","focusedColor","arr","red","blue","green","opacity","opacityLimit","opacityDelta","setTabindex","checkTabindex","controls","findIndex","focusedTabindex","init","selector","withHidden","controlsLength","reInit","isOpacity","_color","keydownListener","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipWithHidden","pipFocusedColor","pipFocusedRebind","pipFocusedTabindex","pipFocusedOpacity","ngModel","pipFocusedData","$observe","THROTTLE_MILLISECONDS","pipInfiniteScroll","pipScrollDisabled","pipScrollUseDocumentBottom","pipScrollListenForEvent","isNaN","clientHeight","offsetTop","ownerDocument","handleScrollDistance","v","handleScrollDisabled","scrollEnabled","checkWhenEnabled","onContainerScroll","handleScrollUseDocumentBottom","useDocumentBottom","changeContainer","newContainer","unbind","bind","handleScrollContainer","HTMLElement","append","parents","immediateCheck","unregisterEventListener","windowElement","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","throttle","pipScrollParent","pipScrolImmediateCheck","ShortcutOption","KeyboardEvent","Keydown","Keyup","Keypress","KeyboardShortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","pause","break","insert","home","delete","end","pageup","page_up","pu","pagedown","page_down","pd","up","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","shift","wanted","pressed","ctrl","alt","meta","shorcut","Type","eventCallback","DisableInInput","element_1","nodeType","parentNode","tagName","character","kp","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","KeyboardShortcut_1","ShortcutsRegister","_defaultOption","defaults","getDefaultOption","_shortcuts","defaultOption","Target","checkAddShortcut","add","shorcutName","remove","shorcutOption","getElementById","newKeyboardShortcut","shortcutCombination","binding","removeEventListener","ShortcutsRegisterProvider","_option","ShortcutController","pipShortcutsRegister","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","options","pipShorcutOptions","keypressShortcut","action","shortcutsDirective","ShortcutsChangedEvent","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","defaultOptions","ShortcutsService","$location","_oldConfig","_location","_injector","_pipShortcutsRegister","addShortcuts","sendChangeEvent","removeShortcuts","collection","shortcut","access","keypress","href","stateParams","generalOptions","targetId","onLocal","ShortcutsProvider","./ShortcutDirective","./ShortcutsService","selectItem","itemParams","itemIndex","itemId","className","modifier","itemsLength","raiseEvent","noScroll","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedIndex","selectedId","indexSetter","idSetter","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","isScrolled","getTargetElementFromEventTarget","eventTarget","Node","TEXT_NODE","touchHasMoved","touch","changedTouches","boundary","touchBoundary","touchStartX","touchStartY","onClickEvent","currentTarget","onTouchStart","ev","targetElement","trackingClick","trackingClickStart","timeStamp","lastClickTime","tapdelay","onTouchMove","onTouchEnd","newTrackingClickStart","cancelNextClick","tapTimeout","onTouchCancel","onKeyDown","ENTER","SPACE","inc","newSelectedIndex","onFocusIn","indexGetter","onFocusOut","pipSelected","idGetter","pipSelectedId","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","pipNoScroll","pipSkipHidden","pipTreeList","currentElementTabinex","pipSelectedWatch","newSelectedId","unsavedChangesAvailable","unsavedChangesMessage","afterLeave","onbeforeunload","$routing","confirm","cancelLeave","unbindFunc","DEFAULT_COLORS","ColorPickerController","_$timeout","_$scope","colors","colorChange","currentColor","currentColorIndex","selectColor","pipColorPicker","templateUrl","pipImageSliderController","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","sliderIndex","_type","_$attrs","_$interval","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","direction","blockIndex","pipButtonType","pipSliderId","vm","slideTo","pipSlideTo","Config","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","MarkdownController","_pipTranslate","_$parse","_$injector","_$element","_text","_isList","_clamp","_rebind","bindText","newText","describeAttachments","array","attachTypes","attach","attachString","isClamped","textString","pipLineCount","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","isList","clamp","rebind","PopoverController","$compile","template","calcH","calcHeight","cancelCallback","backdropElement","backdropClick","responsive","content","onResize","closePopover","onPopoverClick","$e","docWidth","docHeight","popover","title","footer","contentHeight","pipPopover","PopoverService","_$compile","_$rootScope","popoverTemplate","$new","isObject","locals","RoutingController","showProgress","logoUrl","_image","loadProgressImage","RoutingProgress","ToastController","$mdToast","toast","_pipErrorDetailsDialog","_$mdToast","actions","actionLenght","onDetails","ok","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","currentToast","duration","then","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","lists","./dependencies/TranslateFilter","./tag_list/TagList","TagListController","TagListBindings","typeLocal","rebuid","TagList","TagListChanges","dates","formatTimeFilter","pipDateTime","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","getDateJSON","DateTimeConfig","DateTime","_momentRanged","_defaultFormat","timeZone","isUndefinedOrNull","getRange","getOperationRange","range","formatDateTime","basicFormat","date","formatTpl","utcOffset","isValid","formatDateTimeY","nowDate","formatMoment","longDateFormat","year","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","month","toStartRange","startOf","toDate","toEndRange","mssOffset","toDateWithTime","formatDate","toTodayDate","day","useTimeZone","fromNow","getNextStart","category","getPrevStart","getNowStart","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","toEndMonth","toStartYear","toEndYear","DateTimeService","datetime","_datetime","DateTimeProvider","timeMode","model","ngChange","dayList","count","monthList","momentMonths","yearList","currentYear","getFullYear","startYear","endYear","years","adjustDay","getValue","isDate","getDate","getMonth","setValue","DAY","MONTH","YEAR","dayLabel","monthLabel","yearLabel","onYearChanged","disableControls","newValue","pipChanged","pipDateRangeType","pipDateFormat","pipNoLine","$mdMedia","setCurrent","currentState","week","dateRangeType","fillLists","weeks","weekList","correctWeek","prevState","getUTCDate","getUTCMonth","getUTCFullYear","getWeekByDate","adjustWeek","getCountDay","nameDays","momentShortDays","weekday","dayOfWeek","startWeek","UTC","getUTCDay","getWeek","countDay","countPrevMonthDay","startDay","endDay","getTimezoneOffset","onChange","currentMonth","currentDay","currentDate","onDayChanged","onMonthChanged","onWeekChange","oldValue","onYearClick","onMonthClick","onDayClick","defineStartDate","pipStartDate","defineEndDate","pipEndDate","pipRebind","pipStartLabel","pipEndLabel","pipHideTime","pipSize","setDuration","startDate","endDate","startTime","endTime","validateStartDate","round","validateEndDate","setDate","defineDate","getTimeInterval","j","minutes","initDate","showTime","EVENT_NEW_END_TIME","EVENT_NEW_START_TIME","startLabel","endLabel","intervalTimeCollection","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","$watchGroup","dialogs","ConfirmationDialogParams_1","ConfirmationDialogController","$mdDialog","CONFIRM_TITLE","onOk","onCancel","ConfirmationDialogParams","ConfirmationDialogService","_mdDialog","targetEvent","./ConfirmationDialogParams","./ConfirmationDialogService","ErrorDialogStrings","errorDetails","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorDetailsDialogController","strings","theme","$theme","OK","CANCEL","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","dismissButton","getErrorText","ErrorDetailsDialogParams","ErrorDetailsDialogService","clickOutsideToClose","InformationDialogParams_1","InformationDialogStrings","InformationDialogController","INFORMATION_TITLE","pipFormat","InformationDialogParams","InformationDialogService","OptionsDialogController","selectedOption","active","opt","optionIndex","selectedOptionName","focusInput","OPTIONS_TITLE","onOptionSelect","onKeyPress","isCheckboxOption","list","OptionsDialogParams_1","OptionsDialogParams","20","OptionsDialogData","22","OptionsDialogResult","OptionsDialogService","24","OptionsBigDialogController","OptionsBigDialogData_1","OptionsBigDialogData","noActions","onSelected","onKeyUp","OptionsBigDialogParams","OptionsBigDialogResult","OptionsBigDialogService","31","./OptionsBigDialogController","./OptionsBigDialogData","./OptionsBigDialogParams","./OptionsBigDialogResult","./OptionsBigDialogService","32","nav","ActionsChangedEvent","SecondaryActionsOpenEvent","SimpleActionItem","ActionItem","ActionsConfig","primaryGlobalActions","primaryLocalActions","secondaryGlobalActions","secondaryLocalActions","ActionsService","primaryActions","secondaryActions","updateCount","clearCounts","openMenuEvent","ActionsProvider","PrimaryActionsController","pipActions","_element","_attrs","_pipActions","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","localActions","globalActions","onActionsChanged","isHidden","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","click","primaryActionsDirective","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","calcActions","secondaryActionsVisible","secondaryDividerVisible","secondaryActionsDirective","AppBarDirectiveController","pipAppBar","onAppBarChanged","appbarDirective","AppBarPartDirectiveController","_partName","pipAppbarPart","_partValue","appbarPartDirective","AppBarChangedEvent","AppBarConfig","AppBarService","shadowBreakpoints","setShadow","hideShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","./AppBarDirective","./AppBarPartDirective","./AppBarService","BreadcrumbController","pipBreadcrumb","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","_media","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","onOpenMenu","onSubActionClick","breadcrumbDirective","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","criteria","showText","showItems","BreadcrumbProvider","NavService","appbar","icon","breadcrumb","sidenav","header","menu","showMenu","showDropdown","activeIndex","select","pipChange","DropdownDirectiveController","_pipTheme","_pipMedia","currentTheme","themeClass","media","dropdownDirective","navHeaderDirective","NavHeaderDirectiveController","pipNavHeader","navConstant","_pipNavHeader","initImage","cleanupNavHeaderChanged","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","imageBlock","image","onImageLoad","onerror","onImageError","initHeader","subtitle","imageUrl","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","imageWidth","imageHeight","margin","loadError","defaultImageUrl","onUserClick","NavHeaderChangedEvent","NavHeaderConfig","NavHeaderService","callbackOrEvent","NavHeaderProvider","clear","./NavHeaderService","18","NavIconClickedEvent","NavIconDirectiveController","pipNavIcon","onNavIconChanged","onNavIconClick","SideNavEvents_1","OpenSideNavEvent","navIconDirective","../sidenav/SideNavEvents","NavIconChangedEvent","NavIconConfig","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconProvider","setMenu","setIcon","setBack","./NavIconDirective","./NavIconService","constant","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_LARGE_WIDTH","SIDENAV_MIDDLE_WIDTH","./appbar","./breadcrumb","./common/NavService","./dropdown/DropdownDirective","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/TabsDirective","languagePickerDirective","languages","LanguagePickerDirectiveController","_translate","setLanguages","selectedLanguage","onLanguageClick","navMenuDirective","NavMenuDirectiveController","pipSideNav","pipNavMenu","_pipSideNav","_pipNavMenu","_animationDuration","SIDENAV_ANIMATION_DURATION","_pipSideNavElement","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","expanded","isSectionEmpty","linkCollection","expand","isExpanded","expandedButton","sideNavState","isActive","parentState","includes","clickLink","current","NavMenuChangedEvent","NavMenuLink","NavMenuSection","NavMenuConfig","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","./NavMenuService","26","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchService_2","SearchActivatedEvent","searchBarDirective","27","CloseSearchEvent","SearchConfig","SearchService","SearchProvider","28","./SearchService","29","SideNavDirectiveController","_mainContainer","_bigWidth","_smallWidth","SIDENAV_SMALL_WIDTH","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","cleanupMainResized","cleanupSideNavState","setSideNaveState","windowResize","debounce","onSideNavState","sidenavState","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","stateName","mainWidth","sideNavWidth","currentWidth","Small","Large","XLarge","sideNavDirective","30","SideNavChangedEvent","SideNavStateChangedEvent","CloseSideNavEvent","SideNavPartDirectiveController","pipSidenavPart","sidenavPartDirective","hookSideNavEvents","SideNavConfig","SideNavService","SideNavProvider","./SideNavEvents","33","SideNavState","isLockedOpen","showIconTooltype","small","large","./SideNavPartDirective","./SideNavService","./SideNavState","35","tabsDirective","tabs","showTabs","showTabsShadow","TabsDirectiveController_1","Selected_1","activeTab","selected","setTheme","setMedia","initTabs","setTranslate","pipTabIndex","tabDisabled","showShadow","36","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeRootVar","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ERROR_ROUTE_TITLE","ERROR_ROUTE_SUBTITLE","ERROR_ROUTE_CONTINUE","ERROR_ROUTE_TRY_AGAIN","ERROR_ROUTE_GO_BACK","ERROR_ROUTE_PAGE_TITLE","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","ERROR_AVAILABLE_TITLE","ERROR_AVAILABLE_SUBTITLE","ERROR_AVAILABLE_CLOSE","ERROR_AVAILABLE_TRY_AGAIN","ERROR_RESPONDING_TITLE","ERROR_RESPONDING_SUBTITLE","ERROR_RESPONDING_RETRY","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","filterTranslate","ErrorsPageRun","pipErrorsService","errorConfig","Unsupported","Active","checkSupported","MissingRoute","unfoundState","to","NoConnection","noConnectionError","Unknown","unknownError","Maintenance","maintenanceError","goToErrors","pipSystemInfo","ie","firefox","opera","chrome","AuthHttpResponseInterceptor","$q","responseError","rejection","console","maintenance_1","ErrorsPageConfig","$stateProvider","$httpProvider","interceptors","ErrorMaintenanceController","../maintenance/maintenance","ErrorStateItem","ErrorsConfig","Name","Event","Title","SubTitle","Breadcrumb","Image","ErrorsService","getErrorItemByKey","errorName","ErrorsProvider","configureErrorByKey","errorParams","defaultsDeep","configureErrors","ClearErrorsLink","$ctrls","_fieldController","_formController","clearFieldErrors","clearFormErrors","$error","prop","$setValidity","$serverError","clearErrors","FormErrors","errorsWithHint","isEmpty","hint","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","goToUnhandledErrorPage","PipMaintenanceError","PipMaintenanceErrorConfig","PipMaintenanceErrorParams","_errorKey","pipNavService","appHeader","timeoutInterval","PipMissingRouteErrorState","ErrorMissingRouteController","absolute","urlBack","onContinue","PipNoConnectionError","ErrorNoConnectionController","onRetry","NoConnectionPanelController","_retry","PipUnknownErrorDetails","ErrorUnknownController","parseError","error_details","server_stacktrace","client_stacktrace","PipUnsupportedError","ErrorUnsupportedController","charts","pipBarChart","series","xTickFormat","yTickFormat","interactiveLegend","$mdColorPalette","prepareData","seria","drawEmptyState","d3","chartElem","classed","configBarWidthAndLabel","labels","chartBars","getBBox","barHeight","barWidth","transition","materialColorToRgba","getMaterialColor","generateParameterColor","chart","palette","legend","clone","scale","paletteColors","ordinal","updatedSeries","datum","updatedLegend","nv","addGraph","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","utils","pipChartLegend","interactive","colorCheckboxes","checkboxContainers","legendTitles","prepareSeries","hex","pipLineChart","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","getHeight","updateScroll","domains","bDiff","domDiff","isEqual","addZoom","svg","setData","newChart","xDomain","domain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","prevXDomain","prevScale","d3zoom","prevTranslate","nice","fixDomain","updateChart","zoomed","unzoomed","step","coordinates","point","setZoom","scaleExtent","behavior","zoom","center0","translate0","coordinates0","center1","getXMinMax","maxVal","minVal","tempMinVal","tempMaxVal","updateZoomOptions","filteredColor","sourceEvents","isVisibleX","isVisibleY","zoomIn","zoomOut","tickValues","selectAll","heigth","lineChart","useInteractiveGuideline","showLegend","tooltipW","bodyWidth","removeTooltip","pipPieChart","donut","total","centered","pie","sort","arc","innerRadius","outerRadius","centerChart","svgElem","leftMargin","renderTotalLabel","totalVal","reduce","sum","curr","titleElem","resizeTitleLabelUnwrap","boxSize","resizeTitleLabel","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","locations","pipLocationName","pipLocationPos","pipLocationResize","pipShowLocationIcon","pipCollapse","clearMap","$mapControl","$mapContainer","generateMap","showMap","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Map","Marker","$name","$up","$down","collapsable","LocationDialogService","_$mdDialog","locationName","locationPos","LocationEditDialogController","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","mapContainer","setMap","animation","Animation","DROP","thisMarker_1","addListener","getPosition","tid","lat","lng","geocoder","Geocoder","geocode","results","GeocoderStatus","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogRun","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","$http","pipLocationEditDialog","pipLocationHolder","$empty","defineCoordinates","address","geometry","onMapClick","onMapKeyPress","defineCoordinatesDebounced","pipIpaddress","pipExtraInfo","ipAddress","response","geoplugin_latitude","geoplugin_longitude","extraInfo","city","geoplugin_city","regionCode","geoplugin_regionCode","region","geoplugin_regionName","areaCode","geoplugin_areaCode","countryCode","geoplugin_countryCode","country","geoplugin_countryName","continentCode","geoplugin_continentCode","pipLocationPositions","pipIconPath","pipStretch","loc","determineCoordinates","fill","stroke","points","checkLocation","LatLngBounds","path","iconPath","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","stretchMap","files","ButtonsUpload","filerTranslate","FileFailController","FileFailController_1","FileFailBindings","FileFailChanges","fileFailComponent","FileSelectController_1","FileUploadService_1","fileModelDirective","fileModel","modelSetter","fileSelectDirective","localFile","FileSelectController","./fail/index","./select/FileSelectController","./service/FileUploadService","./start/index","./success/index","./upload/index","onUploadButtonClick","onDeleteButtonClick","forml","FileUploadState","All","Start","Upload","Fail","FileUploadService","upload","file","fd","FormData","lengthComputable","loaded","headers","Content-Type","success","FileStartController","fileStartDirective","FileStartController_1","FileSuccessController","FileSuccessController_1","FileSuccessBindings","fileSuccessDirective","FileUploadButtons","FileUploadController","buttonFunction","uploadButtons","failButtons","startButtons","onAbort","retry","FileUploadController_1","FileUploadBindings","FileUploadChanges","fileUploadDirective","./FileUploadController","dashboard","DROP_TO_CREATE_NEW_GROUP","configureAvailableWidgets","pipAddComponentDialogProvider","configWidgetList","amount","DEFAULT_GRID_OPTIONS_1","draggableOptions","tileWidth","tileHeight","inline","DashboardController","$interpolate","pipAddComponentDialog","pipWidgetTemplate","groupIndex","addComponent","removeGroup","log","_includeTpl","groupMenuActions","defaultGroupMenuActions","groupedWidgets","draggableGridOptions","gridOptions","groupAdditionalActions","widgetsContext","compileWidgets","group","removedWidgets","source","widget","colSpan","rowSpan","object","removeWidget","opts","getTemplate","activeGroup","addWidgets","widgets","widgetGroup","AddComponentDialogWidget","AddComponentDialogController","groups","activeGroupIndex","widgetList","totalWidgets","defaultWidgets","encrease","widgetIndex","decrease","AddComponentDialogController_1","DASHBOARD_ADD_COMPONENT_DIALOG_TITLE","DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS","DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP","AddComponentDialogService_1","AddComponentDialogProvider","_widgetList","./AddComponentDialogController","TileColors","all","TileSizes","WidgetConfigDialogController","sizes","sizeId","updatedData","sizeX","sizeY","./ConfigDialogService","WidgetConfigExtendComponentBindings","pipExtensionUrl","pipDialogScope","pipApply","WidgetConfigExtendComponentChanges","WidgetConfigExtendComponentController","$templateRequest","replaceWith","pipWidgetConfigComponent","DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE","DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL","DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE","DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE","WidgetConfigDialogService","ConfigDialogController_1","./ConfigDialogController","./DraggableComponent","./DraggableTileService","./draggable_group/DraggableTilesGroupDirective","./draggable_group/DraggableTilesGroupService","DraggableTileService_1","DraggableTilesGroupService_1","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","SIMPLE_LAYOUT_COLUMNS_COUNT","DEFAULT_OPTIONS","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","merge","tilesTemplates","tile","tileScope","createTileScope","IDragTileConstructor","DragTileService","tpl","watch","getContainerWidth","getAvailableColumns","availableWidth","tileGroups","setAvailableColumns","availableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","$container","prevVal","changedGroupIndex","addGroup","removeGroups","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","_a","fromIndex","from","elem","attributes","toIndex","tileOptions","fromTileIndex","reIndexTiles","tilesContext","indexes","container","tiles","gIndex","child","newGroups","removeIndexes","remain","containers","reverse","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","newTile","addTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","mobileBreakpoint","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","belowElement","getTileByCoordinates","getTileIndex","draggedTileIndex","belowElemIndex","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","autoScroll","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragComponent","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","after","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","DraggableTileLink","$elem","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTile","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","basicCol","basicRow","getBasicRow","gridCopy","getCell","rowShift","prevTileSize","rightCornerCell","isCellFree","src","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","tileSize","generateCells","currIndex","startCell","cells","maxHeightSize","maxWidthSize","maxBy","node","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","widgetTemplateService","_$interpolate","_$templateRequest","strictCompile","interpolated","naturalWidth","naturalHeight","pipImageLoad","ImageLoad","DashboardWidget","pipWidgetConfigDialogService","union","onConfigClick","dialogClass","extensionUrl","changeSize","CalendarWidgetController","WidgetMenuService_1","MenuWidgetService","drawImage","is","EventWidgetController","onOpacitytest","_oldOpacity","EventWidget","callAction","actionName","MenuWidgetProvider","NotesWidgetController","PictureSliderController","animationType","animationInterval","PositionWidgetController","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","showPosition","PositionWidget","StatisticsWidgetController","pipWidgetMenu","chartSize","SMALL_CHART_1","setChartSize","BIG_CHART_1","StatisticsWidget","../menu/WidgetMenuService","settings","SettingsPageSelectedTab_1","SettingsPageController","pipSettings","getTabs","sortBy","SettingsPageSelectedTab","initSelect","getDefaultTab","onDropdownSelect","onNavigationSelect","tabIndex","tabId","../service/SettingsPageSelectedTab","configureSettingsPageRoutes","auth","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsConfig_1","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","addTab","tabObj","existingTab","validateTab","stateConfig","SettingsStateConfig","SettingsTab","./SettingsConfig","./SettingsPageSelectedTab","./SettingsService","./SettingsStateConfig","./SettingsTab","help","HelpPageSelectedTab_1","HelpPageController","pipHelp","HelpPageSelectedTab","configureHelpPageRoutes","./HelpPage","./HelpPageRoutes","HelpConfig","HelpService","HelpProvider","HelpConfig_1","HelpStateConfig","HelpTab","./HelpConfig","./HelpPageSelectedTab","./HelpService","./HelpStateConfig","./HelpTab"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import './service';\nimport './page';\n\nangular.module('pipHelp', [\n    'pipHelp.Service',\n    'pipHelp.Page'\n]);\n\nexport * from './service';\n","export let CurrentState: any;\nexport let PreviousState: any;\n\n// Run function to set CurrentState and PreviousState global variables\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n            CurrentState = {\n                name: toState.name, \n                url: toState.url, \n                params: toParams\n            };\n\n            PreviousState = {\n                name: fromState.name, \n                url: fromState.url, \n                params: fromParams\n            };\n        }\n    );\n\n}\n\n// Decorator function to modify $state service by adding goBack and goBackAndSelect methods\nfunction decorateBackStateService($delegate: any, $window: ng.IWindowService): any {\n    \"ngInject\";\n\n    $delegate.goBack = goBack;\n    $delegate.goBackAndSelect = goBackAndSelect;\n\n    return $delegate;\n    //////////////////////////////////////////////////\n\n    function goBack(): void {\n        $window.history.back()\n    }\n\n    function goBackAndSelect(params: any): void {\n        // todo: define end fix PreviousState\n        if (PreviousState != null \n            && PreviousState.name != null) {\n\n            let state = _.cloneDeep(PreviousState);\n\n            // Override selected parameters\n            state.params = _.extend(state.params, params);\n\n            $delegate.go(state.name, state.params);\n        } else {\n            $window.history.back();\n        }\n    }\n}\n\n// Config function to decorate $state service\nfunction addBackStateDecorator($provide) {\n    $provide.decorator('$state', decorateBackStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addBackStateDecorator)\n    .run(captureStateTranslations);\n    ","let RedirectedStates: any = {};\n\n// Decorator function to add $stateProvider redirect method\nfunction decorateRedirectStateProvider($delegate) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n\n    return $delegate;\n    /////////////////////////////////////////////\n\n    // Specify automatic redirect from one state to another\n    function redirect(fromState, toState) {\n        RedirectedStates[fromState] = toState;  \n        return this;\n    }\n}\n\n// Config function to decorate $state provider\nfunction addRedirectStateProviderDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateProvider);\n}\n\n// Decorator function to add redirect method to $state service\nfunction decorateRedirectStateService($delegate, $timeout) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n    \n    return $delegate;\n    ////////////////////////////////\n    \n    // Todo: Move this code directly to event handler?\n    // Todo: Nothing calls this code!!\n    function redirect(event, state, params) {\n        let toState = RedirectedStates[state.name];\n        if (_.isFunction(toState)) {\n            toState = toState(state.name, params);\n\n            if (_.isNull(toState))\n                throw new Error('Redirected toState cannot be null');\n        }\n\n        if (!!toState) {\n            $timeout(() => {\n                event.preventDefault();\n                $delegate.transitionTo(toState, params, {location: 'replace'});\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\n// Config function to decorate $state service\nfunction addRedirectStateDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addRedirectStateProviderDecorator)\n    .config(addRedirectStateDecorator);\n    ","export let RoutingVar: string = \"$routing\";\n\nfunction hookRoutingEvents(\n    $rootScope: ng.IRootScopeService,\n    $log: ng.ILogService,\n    $state: ng.ui.IStateService\n) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeStart',\n        (event, toState, toParams, fromState, fromParams) => {\n            $rootScope[RoutingVar] = true;\n        }\n    );\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;                \n        }\n    );\n\n    // Intercept route error\n    $rootScope.$on('$stateChangeError',\n        (event, toState, toParams, fromState, fromParams, error) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;\n\n            $log.error('Error while switching route to ' + toState.name);\n            $log.error(error);\n        }\n    );\n\n}\n\nangular\n    .module('pipRouting')\n    .run(hookRoutingEvents);\n    ","angular.module('pipRouting', ['ui.router']);\n\nimport './BackDecorator';\nimport './RedirectDecorator';\nimport './RoutingEvents';\n\nexport * from './BackDecorator';\nexport * from './RoutingEvents';\n","import { IIdentityService, IIdentityProvider } from './IIdentityService';\n\nexport let IdentityRootVar = \"$identity\";\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\n\nclass IdentityService implements IIdentityService {\n    private _identity: any;\n    private _setRootVar: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean,\n        identity: any,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._identity = identity;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n\n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[IdentityRootVar] = this._identity;\n    }\n\n    public get identity(): any {\n        return this._identity;\n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n        this.setRootVar();\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\n\n        let identity: any = value || {};\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\n    }\n}\n\nclass IdentityProvider implements IdentityProvider {\n    private _setRootVar = true;\n    private _identity: any = null;\n    private _service: IdentityService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get identity(): any {\n        return this._identity;  \n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\n\n        return this._service;\n    }\n\n}\n\nangular\n    .module('pipSession')\n    .provider('pipIdentity', IdentityProvider);\n","import { ISessionService, ISessionProvider } from './ISessionService';\n\nexport const SessionRootVar = \"$session\";\nexport const SessionOpenedEvent = \"pipSessionOpened\";\nexport const SessionClosedEvent = \"pipSessionClosed\";\n\nclass SessionService implements ISessionService {\n    private _setRootVar: boolean;\n    private _session: any;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean, \n        session: any, \n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._session = session;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n    \n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[SessionRootVar] = this._session;\n    }\n\n    public get session(): any {\n        return this._session;\n    }\n\n    public isOpened(): boolean {\n        return this._session != null;\n    }\n\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\n        if (session == null)\n            throw new Error(\"Session cannot be null\");\n\n        this._session = session;\n        this.setRootVar();\n        this._rootScope.$emit(SessionOpenedEvent, session);\n\n        this._log.debug(\"Opened session \" + session);\n    }\n\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\n        let oldSession = this._session;\n\n        this._session = null;\n        this.setRootVar();\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\n\n        this._log.debug(\"Closed session \" + oldSession);\n    }\n}\n\nclass SessionProvider implements ISessionProvider {\n    private _setRootVar = true;\n    private _session: any = null;\n    private _service: SessionService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get session(): any {\n        return this._session;  \n    }\n\n    public set session(value: any) {\n        this._session = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipSession')\n    .provider('pipSession', SessionProvider); \n","angular.module('pipSession', []);\n\nimport './IdentityService';\nimport './SessionService';\n\nexport * from './IIdentity';\nexport * from './IIdentityService';\nexport * from './IdentityService';\n\nexport * from './ISessionService';\nexport * from './SessionService';\n","import { TransactionError } from './TransactionError'\n\nexport class Transaction {\n    private _scope: string = null;\n    private _id: string = null;\n    private _operation: string = null;\n    private _error: TransactionError = new TransactionError();\n    private _progress: number = 0;\n\n    public constructor(scope: string) {\n        this._scope = scope;\n    }\n\n    public get scope(): string {\n        return this._scope;\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public get operation(): string {\n        return this._operation;\n    }\n\n    public get progress(): number {\n        return this._progress;\n    }\n\n    public get error(): TransactionError {\n        return this._error;\n    }\n\n    public get errorMessage(): string {\n        return this._error.message;\n    }\n\n    public reset(): void {\n        this._id = null;\n        this._operation = null;\n        this._progress = 0;\n        this._error.reset();\n    }\n\n    public busy(): boolean {\n        return this._id != null;\n    }\n\n    public failed(): boolean {\n        return !this._error.empty();\n    }\n\n    public aborted(id: string): boolean {\n        return this._id != id;\n    }\n\n    public begin(operation: string): string {\n        // Transaction is already running\n        if (this._id != null) return null;\n\n        this._id = new Date().getTime().toString();\n        this._operation = operation || 'PROCESSING'\n        this._error.reset();\n\n        return this._id;\n    }\n\n    public update(progress: number): void {\n        this._progress = Math.max(progress, 100);\n    }\n\n    public abort(): void {\n        this._id = null;\n        this._error.reset();\n    }\n\n    public end(error?: any): void {\n        this._error.decode(error);\n        this._id = null;\n    }\n}\n","export class TransactionError {\n    public code: string;\n    public message: string;\n    public details: any;\n    public cause: string;\n    public stack_trace: string;\n\n    public constructor(error?: any) {\n        if (error != null)\n            this.decode(error);\n    }\n\n    public reset(): void {\n        this.code = null;\n        this.message = null;\n        this.details = null;\n        this.cause = null;\n        this.stack_trace = null;\n    }\n\n    public empty(): boolean {\n        return this.message = null && this.code == null;\n    }\n\n    public decode(error: any): void {\n        this.reset();\n\n        if (error == null) return;\n\n        // Process regular messages\n        if (error.message) {\n            this.message = error.message;\n        }\n\n        // Process server application errors\n        if (error.data) {\n            if (error.data.code) { \n                // process server error codes here\n                this.message = this.message || 'ERROR_' + error.data.code;\n                this.code = this.code || error.data.code;\n            }\n\n            if (error.data.message) {\n                this.message = this.message || error.data.message;\n            }\n\n            this.message = this.message || error.data;\n            this.details = this.details || error.data;\n\n            this.cause = error.data.cause;\n            this.stack_trace = error.data.stack_trace;\n            this.details = error.data.details;            \n        }\n\n        // Process standard HTTP errors\n        if (error.statusText) {\n            this.message = this.message || error.statusText;\n        }\n        if (error.status) {\n            this.message = this.message || 'ERROR_' + error.status;\n            this.code = this.code || error.status;\n        }\n        \n        this.message = this.message || error;\n        this.details = this.details || error;\n    }\n}\n","import { Transaction } from './Transaction';\nimport { ITransactionService } from './ITransactionService';\n\nclass TransactionService implements ITransactionService {\n    private _transactions: Transaction = <Transaction>{};\n\n    public constructor() {}\n\n    public create(scope?: string): Transaction {\n        let transaction: Transaction = new Transaction(scope);\n        \n        if (scope != null)\n            this._transactions[scope] = transaction;\n\n        return transaction;\n    }\n\n    public get(scope?: string): Transaction {\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\n\n        if (transaction == null) {\n            transaction = new Transaction(scope);\n            if (scope != null)\n                this._transactions[scope] = transaction;\n        }\n\n        return transaction;\n    }\n}\n\nangular\n    .module('pipTransaction')\n    .service('pipTransaction', TransactionService);\n","import { ITranslateService } from '../translate/ITranslateService';\n\nfunction configureTransactionStrings($injector: ng.auto.IInjectorService) {\n    \"ngInject\";\n\n    let pipTranslate: ITranslateService = $injector.has('pipTranslateProvider') \n        ? <ITranslateService>$injector.get('pipTranslateProvider') : null;\n\n    if (pipTranslate) {\n        pipTranslate.setTranslations('en', {\n            'ENTERING': 'Entering...',\n            'PROCESSING': 'Processing...',\n            'LOADING': 'Loading...',\n            'SAVING': 'Saving...'\n        });\n\n        pipTranslate.setTranslations('ru', {\n            'ENTERING': '  ...',\n            'PROCESSING': '...',\n            'LOADING': '...',\n            'SAVING': '...'\n        });   \n    }\n    \n}\n\nangular\n    .module('pipTransaction')\n    .config(configureTransactionStrings);\n","angular.module('pipTransaction', []);\n\nimport './TransactionStrings';\nimport './TransactionError';\nimport './Transaction';\nimport './TransactionService';\n\nexport * from './TransactionError';\nexport * from './Transaction';\nexport * from './ITransactionService';\n","import { ITranslateService } from '../translate/ITranslateService';\n\nfunction translateDirective(pipTranslate): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslate',\n            key2: '@key'\n        },\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\n            let key: string = scope.key1 || scope.key2;\n            let value: string = pipTranslate.translate(key);\n            element.text(value);\n        }\n    };\n}\n\nfunction translateHtmlDirective(pipTranslate: ITranslateService): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslateHtml',\n            key2: '@key'\n        },\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\n            let key: string = scope.key1 || scope.key2;\n            let value: string = pipTranslate.translate(key);\n            element.html(value);\n        }\n    };\n}\n\nangular\n    .module('pipTranslate')\n    .directive('pipTranslate', translateDirective)\n    .directive('pipTranslateHtml', translateHtmlDirective);\n","import { ITranslateService } from './ITranslateService';\n\nfunction translateFilter(pipTranslate: ITranslateService) {\n    \"ngInject\";\n\n    return function (key: string) {\n        return pipTranslate.translate(key) || key;\n    }\n}\n\nfunction optionalTranslateFilter($injector: ng.auto.IInjectorService) {\n    \"ngInject\";\n\n    let pipTranslate: ITranslateService = $injector.has('pipTranslate') \n        ? <ITranslateService>$injector.get('pipTranslate') : null;\n\n    return function (key: string) {\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\n    }\n}\n\nangular\n    .module('pipTranslate')\n    .filter('translate', translateFilter);\n","import { Translation } from './Translation';\nimport { ResetPageEvent } from '../utilities/PageResetService';\nimport { ITranslateService, ITranslateProvider } from './ITranslateService';\n\nexport let LanguageRootVar = \"$language\";\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \n\nclass TranslateService implements ITranslateService {\n    private _translation: Translation;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _window: ng.IWindowService;\n    private _mdDateLocale: angular.material.IDateLocaleProvider;\n\n    public constructor(\n        translation: Translation,\n        setRootVar: boolean,\n        persist: boolean,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService,\n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._translation = translation;\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._window = $window;\n        this._mdDateLocale = $mdDateLocale;\n\n        if (this._persist && this._window.localStorage)\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\n\n        this._log.debug(\"Set language to \" + this._translation.language);\n\n        this.save();\n    }\n\n    private changeLocale(locale: string) {\n        if (!locale) return;\n\n        // var localeDate: moment.MomentLanguageData;\n        var localeDate: any;\n\n        moment.locale(locale);\n        localeDate = moment.localeData();\n\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\n    }\n\n    private save(): void {\n        if (this._setRootVar)\n            this._rootScope[LanguageRootVar] = this._translation.language;\n\n        if (this._persist && this._window.localStorage != null)\n            this._window.localStorage.setItem('language', this._translation.language);\n    }\n\n    public get language(): string {\n        return this._translation.language;\n    }\n\n    public set language(value: string) {\n        if (value != this._translation.language) {\n            this._translation.language = value;\n            \n            this._log.debug(\"Changing language to \" + value);\n\n            this.changeLocale(this._translation.language);\n            this.save();   \n\n            this._rootScope.$emit(LanguageChangedEvent, value);\n            this._rootScope.$emit(ResetPageEvent);\n        }\n    }\n\n    public use(language: string): string {\n        if (language != null)\n            this.language = language;\n        return this.language;\n    }\n\n    public setTranslations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translate(key: string): string {\n        return this._translation.translate(key);\n    }\n\n    public translateArray(keys: string[]): string[] {\n        return this._translation.translateArray(keys);\n    }\n    \n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateSet(keys, keyProp, valueProp);\n    }\n\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateObjects(items, keyProp, valueProp);\n    }\n\n    public translateWithPrefix(prefix: string, key: string) {\n        return this._translation.translateWithPrefix(prefix, key);\n    }\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\n    }\n\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\n    }\n}\n\nclass TranslateProvider extends Translation implements ITranslateProvider {\n    private _translation: Translation;\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: TranslateService;\n    \n    public constructor() {\n        super();\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null) \n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\n\n        return this._service;\n    }\n}\n\nfunction initTranslate(pipTranslate: ITranslateService) {\n    pipTranslate.language;\n}\n\nangular\n    .module('pipTranslate')\n    .provider('pipTranslate', TranslateProvider)\n    .run(initTranslate);\n","export class Translation {\n    protected _language: string = 'en';\n    protected _translations = {\n        en: {\n            'en': 'English',\n            'ru': 'Russian',\n            'es': 'Spanish',\n            'pt': 'Portuguese',\n            'de': 'German',\n            'fr': 'French'\n        },\n        ru: {\n            'en': '',\n            'ru': '',\n            'es': '',\n            'pt': '',\n            'de': '',\n            'fr': ''\n        }\n    };\n\n    public constructor() {}\n\n    public get language(): string { return this._language; }\n    public set language(value: string) { this._language = value; }\n\n    public use(language: string): string {\n        if (language != null)\n            this._language = language;\n        return this._language;\n    }\n\n    // Set translation strings for specific language\n    public setTranslations(language: string, translations: any): void {\n        let map = this._translations[language] || {};\n        this._translations[language] = _.extend(map, translations);\n    }\n\n    // Yet another method to set translation strings for specific language\n    public translations(language: string, translations: any): void {\n        this.setTranslations(language, translations);\n    }\n\n    // Translate a string by key using set language\n    public translate(key: string): string {\n        if (_.isNull(key) || _.isUndefined(key)) return '';\n\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    }\n\n    // Translate an array of strings\n    public translateArray(keys: string[]): string[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        let values: string[] = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (k: string) {\n            let key = k || '';\n            values.push(translations[key] || key);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings into array of objects (set)\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values: any[] = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate a collection of objects\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(items) || items.length == 0) return [];\n\n        keyProp = keyProp || 'name';\n        valueProp = valueProp || 'nameLocal';\n\n        let translations = this._translations[this._language] || {};\n\n        _.each(items, function (item: any) {\n            let key = item[keyProp] || '';\n\n            item[valueProp] = translations[key] || key;\n        });\n\n        return items;\n    }\n\n    // Translate a string by key  with prefix using set language todo\n    public translateWithPrefix(prefix: string, key: string) {\n        prefix = prefix ? prefix + '_' : '';\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\n        if (key == null) return '';\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    };\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {}; \n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + '_' + key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key: string) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\n\n            values.push(value);\n        });\n\n        return values;\n    }\n}\n","angular.module('pipTranslate', []);\n\nimport './Translation';\nimport './TranslateService';\nimport './TranslateFilter';\nimport './TranslateDirective';\n\nexport * from './Translation';\nexport * from './ITranslateService';\nexport * from './TranslateService';\n","import { ICodes } from './ICodes';\n\nclass Codes implements ICodes {\n    // Simple version of string hashcode\n    public hash(value: string): number {\n        if (value == null) return 0;\n        \n        let result: number = 0;\n        for (let i = 0; i < value.length; i++)\n            result += value.charCodeAt(i);\n\n        return result;\n    }\n\n    // Generates random big number for verification codes\n    public verification(): string {\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\n    }\n}\n\nangular\n    .module('pipCodes', [])\n    .service('pipCodes', Codes);\n","import { IFormat } from './IFormat';\n\nclass Format implements IFormat {\n    // Cached for parsed formats\n    private cache = {};\n\n    // Creates a sample line from a text\n    public sample(value: string, maxLength: number): string {\n        if (!value || value == '') {\n            return '';\n        }\n\n        var length: number = value.indexOf('\\n');\n        length = length >= 0 ? length : value.length;\n        length = length < maxLength ? value.length : maxLength;\n\n        return value.substring(0, length);\n    }\n\n    private strRepeat(str: string, qty: number): string {\n        if (qty < 1) { \n            return '';\n        }\n        var result: string = '';\n        while (qty > 0) {\n            if (qty & 1) result += str;\n            qty >>= 1, str += str;\n        }\n        return result;\n    }\n\n    private getType(variable): string {\n        return toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    private parseFormat(fmt: string): any {\n        let _fmt: string = fmt, match = [], parse_tree = [], arg_names: number = 0;\n        while (_fmt) {\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\n                parse_tree.push(match[0]);\n            }\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\n                parse_tree.push('%');\n            }\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    let field_list: string[] = [], replacement_field: string = match[2], field_match: string[] = [];\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1]);\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else {\n                                throw new Error('Unknown error');\n                            }\n                        }\n                    }\n                    else {\n                        throw new Error('Unknown error');\n                    }\n                    match[2] = field_list;\n                }\n                else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\n                }\n                parse_tree.push(match);\n            }\n            else {\n                throw new Error('Unknown error');\n            }\n            _fmt = _fmt.substring(match[0].length);\n        }\n        return parse_tree;\n    }\n\n    private format(parse_tree: any, argv: any): string {\n        let cursor: number = 0; \n        let tree_length: number = parse_tree.length; \n        let output = [];\n\n        for (let i = 0; i < tree_length; i++) {\n            let node_type = this.getType(parse_tree[i]);\n            if (node_type === 'string') {\n                output.push(parse_tree[i]);\n            }\n            else if (node_type === 'array') {\n                let match = parse_tree[i]; // convenience purposes only\n                let arg: any;\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor];\n                    for (let k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                } else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]];\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\n                }\n                switch (match[8]) {\n                    case 'b': arg = arg.toString(2); break;\n                    case 'c': arg = String.fromCharCode(arg); break;\n                    case 'd': arg = parseInt(arg, 10); break;\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\n                    case 'o': arg = arg.toString(8); break;\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\n                    case 'u': arg = Math.abs(arg); break;\n                    case 'x': arg = arg.toString(16); break;\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\n                }\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\n                let pad_length = match[6] - String(arg).length;\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\n                output.push(match[5] ? arg + pad : pad + arg);\n            }\n        }\n        return output.join('');\n    }\n    \n    public sprintf(message: string, ...args: any[]): string {\n        if (!this.cache.hasOwnProperty(message))\n            this.cache[message] = this.parseFormat(message);\n\n        return this.format(this.cache[message], args);\n    }\n}\n\n\nangular\n    .module('pipFormat', [])\n    .service('pipFormat', Format);\n","import { IPageResetService } from './IPageResetService';\n\n\nexport let ResetPageEvent: string = \"pipResetPage\";\nexport let ResetAreaEvent: string = \"pipResetArea\";\n\nexport let ResetRootVar: string = \"$reset\";\nexport let ResetAreaRootVar: string = \"$resetArea\";\n\n\nclass PageResetService implements IPageResetService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _timeout: ng.ITimeoutService;\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $timeout: ng.ITimeoutService\n    ) {\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._timeout = $timeout;\n\n        $rootScope[ResetRootVar] = false;\n        $rootScope[ResetAreaRootVar] = null;\n    }\n\n    public reset(): void {\n        this._log.debug(\"Resetting the entire page\");\n        this.performReset(null);\n    }\n\n    public resetArea(area: string): void {\n        this._log.debug(\"Resetting the area \" + area);\n        this.performReset(area);\n    }\n\n    private performReset(area?: string): void {\n        this._rootScope[ResetRootVar] = area == null;\n        this._rootScope[ResetAreaRootVar] = area;\n\n        this._timeout(() => {\n            this._rootScope[ResetRootVar] = false;\n            this._rootScope[ResetAreaRootVar] = null;\n        }, 0);\n    }\n}\n\n\nfunction hookResetEvents(\n    $rootScope: ng.IRootScopeService, \n    pipPageReset: IPageResetService\n) {\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\n}\n\n\nangular.module('pipPageReset', [])\n    .service('pipPageReset', PageResetService)\n    .run(hookResetEvents);\n","import { IScrollService } from './IScrollService';\n\n\nclass ScrollService implements IScrollService {\n\n    public scrollTo(parentElement, childElement, animationDuration): void {\n        if (!parentElement || !childElement) return;\n        if (animationDuration == undefined) animationDuration = 300;\n\n        setTimeout(function () {\n            if (!$(childElement).position()) return;\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n            if (modDiff < 20) return;\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n            if (animationDuration > 0)\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, animationDuration);\n        }, 100);\n    }\n\n}\n\n\nangular\n    .module('pipScroll', [])\n    .service('pipScroll', ScrollService);\n","import { ISystemInfo } from './ISystemInfo';\n\n\nclass SystemInfo implements ISystemInfo {\n    private _window: ng.IWindowService;\n\n    public constructor($window: ng.IWindowService) {\n        \"ngInject\";\n\n        this._window = $window;\n    }\n\n    // todo add support for iPhone\n    public get browserName(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (ua.search(/Edge/) > -1) return \"edge\";\n        if (ua.search(/MSIE/) > -1) return \"ie\";\n        if (ua.search(/Trident/) > -1) return \"ie\";\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\n        if (ua.search(/Opera/) > -1) return \"opera\";\n        if (ua.search(/OPR/) > -1) return \"opera\";\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\n        if (ua.search(/Safari/) > -1) return \"safari\";\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\n        \n        return \"unknown\";\n    }\n\n    public get browserVersion(): string {\n        let version;\n        let ua = this._window.navigator.userAgent;\n        let browser = this.browserName;\n\n        switch (browser) {\n            case \"edge\":\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\n                break;\n            case \"ie\":\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\n                break;\n            case \"ie11\":\n                browser = \"ie\";\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\n                break;\n            case \"firefox\":\n                version = ua.split(\"Firefox/\")[1];\n                break;\n            case \"opera\":\n                version = ua.split(\"Version/\")[1];\n                break;\n            case \"operaWebkit\":\n                version = ua.split(\"OPR/\")[1];\n                break;\n            case \"yabrowser\":\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\n                break;\n            case \"chrome\":\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\n                break;\n            case \"safari\":\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\n                break;\n            case \"maxthon\":\n                version = ua.split(\"Maxthon/\")[1];\n                break;\n        }\n\n        return version;\n    }\n    \n    public get platform(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \n            return 'mobile';\n\n        return 'desktop';\n    }\n\n    public get os(): string {\n        let ua = this._window.navigator.userAgent;\n\n        try {\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\n        } catch (err) {\n            return 'unknown'\n        }\n    }\n\n    public isDesktop(): boolean {\n        return this.platform == 'desktop';\n    }\n\n    public isMobile(): boolean {\n        return this.platform == 'mobile';\n    }\n\n    // Todo: complete implementation\n    public isCordova(): boolean {\n        return false;\n    }\n\n    // Todo: Move to errors\n    public isSupported(supported?: any): boolean {\n        if (!supported) \n            supported = {\n                edge: 11,\n                ie: 11,\n                firefox: 43, //4, for testing\n                opera: 35,\n                chrome: 47\n            };\n\n        let browser = this.browserName;\n        let version = this.browserVersion;\n        version = version.split(\".\")[0]\n\n        if (browser && supported[browser] && version >= supported[browser]) \n            return true;\n\n        return true;\n    }\n}\n\n\nangular\n    .module('pipSystemInfo', [])\n    .service('pipSystemInfo', SystemInfo);\n","import { ITags } from './ITags';\n\nclass Tags implements ITags {\n\n    public normalizeOne(tag: string): string {\n        return tag \n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\n            : null;\n    }\n\n    public compressOne(tag: string): string {\n        return tag\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\n            : null;\n    }\n\n    public equal(tag1: string, tag2: string): boolean {\n        if (tag1 == null && tag2 == null)\n            return true;\n        if (tag1 == null || tag2 == null)\n            return false;\n        return this.compressOne(tag1) == this.compressOne(tag2);\n    }\n\n    public normalizeAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\n\n        return tags;\n    }\n\n    public compressAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\n\n        return tags;\n    }\n\n    public extract(entity: any, searchFields?: string[]): string[] {\n        let tags = this.normalizeAll(entity.tags);\n\n        _.each(searchFields, (field) => {\n            let text = entity[field] || '';\n\n            if (text != '') {\n                let hashTags = text.match(/#\\w+/g);\n                tags = tags.concat(this.normalizeAll(hashTags));\n            }\n        });\n\n        return _.uniq(tags);\n    }\n}\n\n\nangular\n    .module('pipTags', [])\n    .service('pipTags', Tags);\n","import { ITimerService } from './ITimerService';\n\nclass TimerEvent {\n    public event: string;\n    public timeout: number;\n    public interval: any;\n\n    public constructor(event: string, timeout: number) {\n        this.event = event;\n        this.timeout = timeout;\n    }\n}\n\n\nlet DefaultEvents: TimerEvent[] = [\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\n];\n\n\nclass TimerService implements ITimerService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _interval: ng.IIntervalService;        \n    private _started = false;\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $interval: ng.IIntervalService\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._interval = $interval;\n    }\n\n    public isStarted(): boolean {\n        return this._started;\n    }\n\n    public addEvent(event: string, timeout: number): void {\n        var existingEvent = _.find(this._events, (e) => e.event == event);\n        if (existingEvent != null) return;\n\n        let newEvent = <TimerEvent> {\n            event: event,\n            timeout: timeout\n        };\n        this._events.push(newEvent);\n\n        if (this._started)\n            this.startEvent(newEvent);\n    }\n\n    public removeEvent(event: string): void {\n        for (let i = this._events.length - 1; i >= 0; i--) {\n            let existingEvent = this._events[i];\n            if (existingEvent.event == event) {\n                this.stopEvent(existingEvent);\n                this._events.splice(i, 1);\n            }\n        }\n    }\n\n    public clearEvents(): void {\n        this.stop();\n        this._events = [];\n    }\n\n    private startEvent(event: TimerEvent): void {\n        event.interval = this._interval(\n            () => { \n                this._log.debug('Generated timer event ' + event.event); \n                this._rootScope.$emit(event.event)\n            },\n            event.timeout\n        )\n    }\n\n    private stopEvent(event: TimerEvent): void {\n        if (event.interval != null) {\n            try {\n                this._interval.cancel(event.interval);\n            } catch (ex) {\n                // Do nothing\n            }\n            event.interval = null;\n        }\n    }\n\n    public start(): void {\n        if (this._started) return;\n\n        _.each(this._events, (event) => {\n            this.startEvent(event);\n        });\n\n        this._started = true;\n    }\n\n    public stop(): void {\n        _.each(this._events, (event) => {\n            this.stopEvent(event);\n        });\n\n        this._started = false;\n    }\n}\n\n\nangular.module('pipTimer', [])\n    .service('pipTimer', TimerService);\n","import './Format';\nimport './TimerService';\nimport './ScrollService';\nimport './Tags';\nimport './Codes';\nimport './SystemInfo';\nimport './PageResetService';\n\nexport * from './IFormat';\nexport * from './ITimerService';\nexport * from './IScrollService';\nexport * from './ITags';\nexport * from './ICodes';\nexport * from './ISystemInfo';\nexport * from './IPageResetService';","{\n    function filter($injector: ng.auto.IInjectorService) {\n         let pipTranslate: any = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return (key) => {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular.module('pipHelp.Translate', [])\n           .filter('translate', filter);\n\n}\n","{\n\nclass FabTooltipVisibilityController {\n    private _element;\n    private _scope: angular.IScope;\n    private _timeout: ng.ITimeoutService;\n\n    constructor(\n        $element: any,\n        $attrs: angular.IAttributes,\n        $scope: angular.IScope,\n        $timeout: ng.ITimeoutService,\n        $parse\n    ) {\n        \"ngInject\";\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\n            showGetter = $parse($attrs['pipFabShowTooltip']),\n            showSetter = showGetter.assign;\n\n        $scope.$watch(trigGetter, (isOpen) => {\n            if (!_.isFunction(showSetter)) return;\n\n            if (isOpen) {\n                $timeout(() => {\n                    showSetter($scope, isOpen);\n                }, 600);\n            } else {\n                showSetter($scope, isOpen);\n            }\n        });\n    }\n}\n\n\nfunction pipFabTooltipVisibility($parse, $timeout): ng.IDirective {\n    return {\n        restrict: 'A',\n        scope: false,\n        controller: FabTooltipVisibilityController\n    };\n}\n\nangular\n    .module('pipFabTooltipVisibility', [])\n    .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\n\n}","{\n\ninterface IRefreshButtonBindings {\n    [key: string]: any;\n\n    text: any;\n    visible: any;\n    onRefresh: any\n}\n\nconst RefreshButtonBindings: IRefreshButtonBindings = {\n    text: '<pipText',\n    visible: '<pipVisible',\n    onRefresh: '&?pipRefresh'\n}\n\nclass RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\n    [key: string]: ng.IChangesObject < any > ;\n    // Not one way bindings\n    onRefresh: ng.IChangesObject < ({\n        $event: any\n    }) => ng.IPromise < any >> ;\n    // One way bindings\n    text: ng.IChangesObject < string > ;\n    visible: ng.IChangesObject < boolean > ;\n}\n\nclass RefreshButtonController implements IRefreshButtonBindings {\n\n    private _textElement: any;\n    private _buttonElement: any;\n    private _width: number;\n\n    public text: string;\n    public visible: boolean;\n    public onRefresh: (param: {\n        $event: ng.IAngularEvent\n    }) => ng.IPromise < any > ;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $element: any,\n        private $attrs: ng.IAttributes\n    ) {}\n\n    public $postLink() {\n        this._buttonElement = this.$element.children('.md-button');\n        this._textElement = this._buttonElement.children('.pip-refresh-text');\n\n        this.show();\n    }\n\n    public $onChanges(changes: RefreshButtonChanges) {\n        if (changes.visible.currentValue === true) {\n            this.text = changes.text.currentValue;\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    public onClick($event) {\n        if (this.onRefresh) {\n            this.onRefresh({\n                $event: $event\n            });\n        }\n    }\n\n    private show() {\n        if (this._textElement === undefined || this._buttonElement === undefined) {\n            return;\n        }\n        // Set new text\n        this._textElement.text(this.text);\n        // Show button\n        this._buttonElement.show();\n        // Adjust position\n        const width = this._buttonElement.width();\n        this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\n    }\n\n    private hide() {\n        this._buttonElement.hide();\n    }\n}\n\n\nconst RefreshButtonComponent: ng.IComponentOptions = {\n    bindings: RefreshButtonBindings,\n    controller: RefreshButtonController,\n    template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\n        '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\n        '<span class=\"pip-refresh-text\"></span>' +\n        '</md-button>'\n};\n\nangular\n    .module('pipRefreshButton', ['ngMaterial'])\n    .component('pipRefreshButton', RefreshButtonComponent);\n\n}","{\n\nclass ToggleButton {\n    id: any;\n    name: string;\n    disabled: boolean;\n    level: number;\n    diselectable: boolean;\n    filled: boolean;\n}\n\ninterface IToggleButtonsBindings {\n    [key: string]: any;\n\n    ngDisabled: any;\n    buttons: any;\n    currentButtonValue: any;\n    currentButton: any;\n    multiselect: any;\n    change: any;\n    onlyToggle: any\n}\n\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\n    ngDisabled: '<?',\n    buttons: '<pipButtons',\n    currentButtonValue: '=ngModel',\n    currentButton: '=?pipButtonObject',\n    multiselect: '<?pipMultiselect',\n    change: '&ngChange',\n    onlyToggle: '<?pipOnlyToggle'\n}\n\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\n    [key: string]: ng.IChangesObject < any > ;\n    // Not one way bindings\n    currentButtonValue: any;\n    currentButton: any;\n    change: ng.IChangesObject < () => ng.IPromise < void >> ;\n    // One way bindings\n    ngDisabled: ng.IChangesObject < boolean > ;\n    buttons: ng.IChangesObject < ToggleButton[] > ;\n    multiselect: ng.IChangesObject < boolean > ;\n    onlyToggle: ng.IChangesObject < boolean > ;\n}\n\nclass ToggleButtonsController implements IToggleButtonsBindings {\n    lenght: number;\n\n    public ngDisabled: boolean;\n    public class: string;\n    public multiselect: boolean;\n    public buttons: ToggleButton[];\n    public disabled: boolean;\n    public currentButtonValue: any;\n    public currentButtonIndex: number;\n    public currentButton: any;\n    public change: () => ng.IPromise < any > ;\n    public onlyToggle: boolean;\n    public pipMedia: any;\n\n    constructor(\n        private $element: any,\n        private $attrs: angular.IAttributes,\n        private $scope: angular.IScope,\n        private $timeout: ng.ITimeoutService,\n        $injector: ng.auto.IInjectorService\n    ) {\n        \"ngInject\";\n\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.class = $attrs['class'] || '';\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $onChanges(changes: ToggleButtonsChanges) {\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : false;\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false;\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : false;\n\n        this.buttons = !changes.buttons || _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? [] : changes.buttons.currentValue;\n\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\n            id: this.currentButtonValue\n        }));\n        this.currentButtonIndex = index < 0 ? 0 : index;\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\n    }\n\n    public $postLink() {\n        this.$element\n            .on('focusin', () => {\n                this.$element.addClass('focused-container');\n            })\n            .on('focusout', () => {\n                this.$element.removeClass('focused-container');\n            });\n    }\n\n    public buttonSelected(index) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.currentButtonIndex = index;\n        this.currentButton = this.buttons[this.currentButtonIndex];\n        this.currentButtonValue = this.currentButton.id || index;\n\n        this.$timeout(() => {\n            if (this.change) {\n                this.change();\n            }\n        });\n    }\n\n    public enterSpacePress(event) {\n        this.buttonSelected(event.index);\n    }\n\n    public highlightButton(index) {\n        if (this.multiselect &&\n            !_.isUndefined(this.currentButton.level) &&\n            !_.isUndefined(this.buttons[index].level)) {\n\n            return this.currentButton.level >= this.buttons[index].level;\n        }\n\n        return this.currentButtonIndex == index;\n    }\n}\n\nconst ToggleButtons: ng.IComponentOptions = {\n    bindings: ToggleButtonsBindings,\n    templateUrl: 'toggle_buttons/ToggleButtons.html',\n    controller: ToggleButtonsController\n}\n\nangular\n    .module('pipToggleButtons', ['pipButtons.Templates'])\n    .component('pipToggleButtons', ToggleButtons);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/ToggleButtons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","'use strict';\n\nimport { MainBreakpoints } from '../media/MediaService';\nimport { IAuxPanelService } from './AuxPanelService';\n\n(() => {\n\nclass AuxPanelDirectiveController {\n    private _pipAuxPanel: IAuxPanelService;\n    private normalSize: number = 320;\n    private largeSize: number = 480;\n\n    public constructor(pipAuxPanel: IAuxPanelService) {\n        this._pipAuxPanel = pipAuxPanel;\n    }\n\n    public isGtxs():boolean {\n        return Number($('body').width()) > MainBreakpoints.xs && this._pipAuxPanel.isOpen();\n    }\n\n    public isGtlg():boolean {\n        return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\n    }\n}\n\nfunction AuxPanelDirective() {\n    return {\n        restrict: 'E',\n        replace: true,\n        controller: AuxPanelDirectiveController,\n        transclude: true,\n        controllerAs: 'vm',\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': vm.isGtlg()}\"' + \n                    'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"vm.isGtxs()\" pip-focused ng-transclude>' + \n                    '</md-sidenav>'\n    }\n}\n\nangular\n    .module('pipAuxPanel')\n    .directive('pipAuxPanel', AuxPanelDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction AuxPanelPartDirectiveController($scope, $element, $attrs, $rootScope, pipAuxPanel) {\n    \"ngInject\";\n\n    var partName = '' + $attrs.pipAuxPanelPart;\n    var partValue = null;\n\n    // Break part apart\n    var pos = partName.indexOf(':');\n    if (pos > 0) {\n        partValue = partName.substr(pos + 1);\n        partName = partName.substr(0, pos);\n    }\n\n    onAuxPanelChanged(null, pipAuxPanel.config)\n    $rootScope.$on('pipAuxPanelChanged', onAuxPanelChanged);\n\n    function onAuxPanelChanged(event, config) {\n        var parts = config.parts || {};\n        var currentPartValue = config[partName];\n        // Set visible variable to switch ngIf\n\n        $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\n    }\n\n}\n\nfunction AuxPanelPartDirective(ngIfDirective) {\n    \"ngInject\";\n\n    var ngIf = ngIfDirective[0];\n\n    return {\n        transclude: ngIf.transclude,\n        priority: ngIf.priority,\n        terminal: ngIf.terminal,\n        restrict: ngIf.restrict,\n        scope: true,\n        link: function($scope: any, $element, $attrs) {\n            // Visualize based on visible variable in scope\n            $attrs.ngIf = function() { return $scope.visible };\n            ngIf.link.apply(ngIf);\n        },\n        controller: AuxPanelPartDirectiveController\n    };\n}\n\nangular\n    .module('pipAuxPanel')\n    .directive('pipAuxPanelPart', AuxPanelPartDirective);\n\n})();","'use strict';\n\nexport let AuxPanelChangedEvent = 'pipAuxPanelChanged';\nexport let AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\nexport let OpenAuxPanelEvent = 'pipOpenAuxPanel';\nexport let CloseAuxPanelEvent = 'pipCloseAuxPanel';\n\nexport class AuxPanelConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n} \n\nexport interface IAuxPanelService {\n    readonly config: AuxPanelConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;    \n\n    isOpen(): boolean;\n    open(): void;\n    close(): void;\n    toggle(): void;\n  \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\n    config: AuxPanelConfig;\n    parts: any;\n    type: string;\n    classes: string[];\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nclass AuxPanelService implements IAuxPanelService {\n    private _config: AuxPanelConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n    private id = 'pip-auxpanel';\n\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\n    }\n\n    public isOpen(): boolean {\n        return this._sidenav(this.id).isOpen();\n    }\n\n    public open() {\n        this._sidenav(this.id).open();\n    }\n            \n    public close() {\n        this._sidenav(this.id).close();\n    }\n\n    public toggle() {\n        this._sidenav(this.id).toggle();\n    }\n  \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\n    }\n}\n\nclass AuxPanelProvider implements IAuxPanelProvider {\n    private _config: AuxPanelConfig = {\n        parts: {},\n        classes: [],\n        type: 'sticky',\n        state: null\n    };\n\n    private _service: AuxPanelService;\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public set config(value: AuxPanelConfig) {\n        this._config = value || new AuxPanelConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public open(): void {\n        this._service.open();\n    }\n\n    public close(): void {\n        this._service.close();\n    }\n\n    public toggle(): void {\n        this._service.toggle();\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }     \n}\n\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\n}\n\nangular\n    .module('pipAuxPanel')\n    .provider('pipAuxPanel', AuxPanelProvider)\n    .run(hookAuxPanelEvents);\n","'use strict';\n\nangular.module('pipAuxPanel', ['ngMaterial']);\n\nimport './AuxPanelService';\nimport './AuxPanelPartDirective';\nimport './AuxPanelDirective';\n\nexport * from './AuxPanelService';","'use strict';\n\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\ninterface ICardDirectiveAttributes extends ng.IAttributes {\n    minWidth: string | number;\n    minHeight: string | number;\n    width: string | number;\n    height: string | number;\n}\n\nclass CardDirectiveLink {\n\n    public constructor(\n        private $rootScope: ng.IRootScopeService, \n        private $element: JQuery, \n        private $attrs: ICardDirectiveAttributes\n    ) {\n\n        // Add class to the element\n        $element.addClass('pip-card');\n\n        let listener = () => { this.resize(); }\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, listener);\n\n        // Resize right away to avoid flicking\n        this.resize();\n\n        // Resize the element right away\n        setTimeout(listener, 100);\n    }\n\n    private resize() {\n        const\n            $mainBody = $('.pip-main-body'),\n            cardContainer = $('.pip-card-container'),\n            windowWidth = $('pip-main').width();\n        let\n            maxWidth = $mainBody.width(),\n            maxHeight = $mainBody.height(),\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\n            left, top;\n\n        // Full-screen on phone\n        if (MainBreakpointStatuses.xs) {\n            minWidth = null;\n            minHeight = null;\n            width = null;\n            height = null;\n            maxWidth = null;\n            maxHeight = null;\n        }\n        // Card view with adjustable margins on tablet and desktop\n        else {\n            // Set margin and maximum dimensions\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\n            maxWidth -= space * 2;\n            maxHeight -= space * 2;\n\n            // Set minimum dimensions\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\n\n            // Set regular dimensions\n            width = width ? Math.min(width, maxWidth) : null;\n            height = height ? Math.min(height, maxHeight) : null;\n        }\n\n        // Set dimensions\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\n        this.$element.css('width', width ? width + 'px' : '');\n        this.$element.css('height', height ? height + 'px' : '');\n\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\n            const\n                $header = this.$element.find('.pip-header:visible'),\n                $footer = this.$element.find('.pip-footer:visible'),\n                $body = this.$element.find('.pip-body');\n            let maxBodyHeight = maxHeight || $mainBody.height();\n\n            if ($header.length > 0)\n                maxBodyHeight -= $header.outerHeight(true);\n            if ($footer.length > 0)\n                maxBodyHeight -= $footer.outerHeight(true);\n\n            $body.css('max-height', maxBodyHeight + 'px');\n        } else {\n            cardContainer.addClass('pip-scroll');\n            if (MainBreakpointStatuses.xs) {\n                left = 0;\n                top = 0;\n            } else {\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\n            }\n\n            this.$element.css('left', left);\n            this.$element.css('top', top);\n\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\n        }\n\n        // Notify child controls that layout was resized\n        this.$rootScope.$emit('pipLayoutResized');\n    }\n}\n\nfunction cardDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            new CardDirectiveLink($rootScope, $element, $attrs);\n        }\n    }\n}\n\n\nangular\n    .module('pipLayout')\n    .directive('pipCard', cardDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction dialogDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-dialog');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDialog', dialogDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction documentDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-document');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDocument', documentDirective);\n\n})();","'use strict';\n\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainBreakpoints, MainBreakpointStatuses, MainResizedEvent } from '../media/MediaService'; \n\n// Avoid default export\n(() => {\n\ninterface IMainDirectiveAttributes extends ng.IAttributes {\n    pipContainer: string;\n}\n\nclass MainDirectiveController implements ng.IController {\n    private _container: any;\n\n    public constructor(\n        private $scope: ng.IScope, \n        private $element: angular.IRootElementService, \n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $attrs: IMainDirectiveAttributes\n    ) {\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\n\n        // Add CSS class\n        $element.addClass('pip-main');\n\n        // Add resize listener\n        const listener = () => { this.resize(); };\n        addResizeListener(this._container[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener(this._container[0], listener);\n        });\n\n        // Perform initial calculations\n        this.updateBreakpointStatuses();\n    }\n\n    private updateBreakpointStatuses() {\n        const width = this._container.innerWidth();\n        const body = $('body');\n\n        MainBreakpointStatuses.update(MainBreakpoints, width);\n\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\n            if (_.isBoolean(status)) {\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\n            }\n        });\n\n        this.$timeout(() => {\n            this.$rootScope.$apply();\n        });\n    }\n    \n    private resize() {\n        this.updateBreakpointStatuses();\n        this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\n    }\n}\n\nclass MainBodyDirectiveLink {\n    public constructor(\n        $scope: ng.IScope, \n        $element: angular.IRootElementService\n    ) {\n        // Add CSS class\n        $element.addClass('pip-main-body');\n    }\n}\n\nfunction mainDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        controller: MainDirectiveController,\n        controllerAs: 'vm' \n    }\n}\n\nfunction mainBodyDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: MainBodyDirectiveLink\n    }\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipMain', mainDirective)\n    .directive('pipMainBody', mainBodyDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction simpleDirective(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\n            $element.addClass('pip-simple');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipSimple', simpleDirective);\n\n})();","'use strict';\n\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\ndeclare var Masonry: any;\n\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\n    columnWidth: string | number;\n    pipInfinite: string | boolean | number;\n}\n\nclass TilesOptions {\n    gutter: number;\n    isFitWidth: boolean;\n    isResizeBound: boolean;\n    transitionDuration: number;\n}\n\ninterface ITilesControllerScope extends ng.IScope {\n    tilesOptions: TilesOptions;\n}\n\nclass TilesDirectiveLink {\n    private _columnWidth: number;\n    private _container: any;\n    private _prevContainerWidth: number;\n    private _masonry: any;\n    private _sizer: any;\n\n    public constructor(\n        $scope: ng.IScope, \n        private $element: JQuery, \n        private $attrs: ITilesDirectiveAttributes,\n        private $rootScope: ng.IRootScopeService\n    ) {\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440,\n        this._container = $element.children('.pip-tiles-container'),\n        this._prevContainerWidth = null,\n        this._masonry = Masonry.data(this._container[0]);\n        \n        // Add class to the element\n        $element.addClass('pip-tiles');\n\n        // Add resize listener\n        const listener = () => { this.resize(false); };\n        addResizeListener($element[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener($element[0], listener);\n        });\n\n        // Insert sizer\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\n        this._sizer.appendTo(this._container);\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\n\n        // Resize the element right away\n        this.resize(true);\n    }\n\n    private resize(force: boolean) {\n        let width = this.$element.parent().width(),\n            containerWidth;\n\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\n            width = width - 24 * 2;\n\n            let columns = Math.floor(width / this._columnWidth);\n            containerWidth = (this._columnWidth + 16) * columns - 16;\n\n            if (containerWidth > width) {\n                columns--;\n                containerWidth = (this._columnWidth + 16) * columns - 16;\n            }\n\n            if (columns < 1) {\n                containerWidth = width;\n                this._sizer.css('width', containerWidth + 'px');\n            } else {\n                this._sizer.css('width', this._columnWidth + 'px');\n            }\n\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.removeClass('pip-mobile');\n        } else {\n            width = width - 16 * 2;\n            containerWidth = width;\n\n            this._sizer.css('width', containerWidth + 'px');\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.addClass('pip-mobile');\n        }\n\n        // Manually call layout on tile container\n        if (this._prevContainerWidth != containerWidth || force) {\n            this._prevContainerWidth = containerWidth;\n            this._masonry.layout();\n\n            // Notify child controls that layout was resized\n            this.$rootScope.$emit(LayoutResizedEvent);\n        }\n    }\n}\n\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\n    \"ngInject\";\n\n    // Converts value into boolean\n    function convertToBoolean(value): boolean {\n        if (value == null) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n    }\n\n    return {\n        restrict: 'EA',\n        scope: false,\n        transclude: true,\n        template:\n            ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n                if (convertToBoolean($attrs.pipInfinite)) {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\n                        + ' pip-infinite-scroll=\"readScroll()\" >'\n                        + '</div>';\n                } else {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\">'\n                        + '</div>';\n                }\n            },\n        controller: ($scope: ITilesControllerScope) => {\n            $scope.tilesOptions = {\n                gutter: 8,//16\n                isFitWidth: false,\n                isResizeBound: false,\n                transitionDuration: 0 // '0.2s'\n            };\n        },\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipTiles', tilesDirective);\n","'use strict';\n\nexport class MediaBreakpoints {\n    public constructor(\n        xs: number, sm: number, md: number, lg: number\n    ) {\n        this.xs = xs;\n        this.sm = sm;\n        this.md = md;\n        this.lg = lg;\n    }\n\n    public xs: number;\n    public sm: number;\n    public md: number;\n    public lg: number;\n}\n\nexport class MediaBreakpointStatuses {\n    public width: number;\n    public 'xs': boolean;\n    public 'gt-xs': boolean;\n    public 'sm': boolean;\n    public 'gt-sm': boolean;\n    public 'md': boolean;\n    public 'gt-md': boolean;\n    public 'lg': boolean;\n    public 'gt-lg': boolean;\n    public 'xl': boolean;\n\n    public update(breakpoints: MediaBreakpoints, width: number) {\n        if (breakpoints == null) return;\n\n        this.width = width;\n        this['xs'] = width <= breakpoints.xs;\n        this['gt-xs'] = width > breakpoints.xs;\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\n        this['gt-sm'] = width > breakpoints.sm;\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\n        this['gt-md'] = width > breakpoints.md;\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\n        this['gt-lg'] = width > breakpoints.lg;\n        this['xl'] = this['gt-lg'];\n    }\n}\n\nexport let MainResizedEvent: string = 'pipMainResized';\nexport let LayoutResizedEvent: string = 'pipLayoutResized';\n\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\n\nexport interface IMediaService {\n    (breakpoint: string): boolean;\n    breakpoints: MediaBreakpoints;\n    width: number;\n} \n\nexport interface IMediaProvider extends ng.IServiceProvider {\n    breakpoints: MediaBreakpoints;\n}\n\nclass MediaProvider implements IMediaProvider {\n    public get breakpoints(): MediaBreakpoints {\n        return MainBreakpoints;\n    }\n\n    public set breakpoints(value: MediaBreakpoints) {\n        MainBreakpoints = value;\n    }\n\n    public $get() {\n        const service = function(size) {\n            return MainBreakpointStatuses[size];\n        }\n\n        Object.defineProperty(service, 'breakpoints', {\n            get: () => { return MainBreakpoints; },\n            set: (value) => { \n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\n                \n                MainBreakpointStatuses.update(\n                    MainBreakpoints, \n                    MainBreakpointStatuses.width\n                );\n            }\n        });\n\n        Object.defineProperty(service, 'width', {\n            get: () => { \n                return MainBreakpointStatuses.width; \n            }\n        });\n\n        return service; \n    }\n}\n\nangular\n    .module('pipMedia')\n    .provider('pipMedia', MediaProvider);\n","'use strict';\n\nlet attachEvent = (<any>document).attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nfunction requestFrame(callback): any {\n    let frame = window.requestAnimationFrame \n        || (<any>window).mozRequestAnimationFrame \n        || (<any>window).webkitRequestAnimationFrame \n        || function(callback) { \n            return window.setTimeout(callback, 20);     \n        };\n\n    return frame(callback);\n}\n\nfunction cancelFrame(): any {\n    let cancel = window.cancelAnimationFrame \n        || (<any>window).mozCancelAnimationFrame \n        || (<any>window).webkitCancelAnimationFrame \n        || window.clearTimeout;\n\n    return function(id) { \n        return cancel(id); \n    };\n}\n\nfunction resizeListener(event: any): void {\n    const win = event.target || event.srcElement;\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\n    win.__resizeRAF__ = requestFrame(function() {\n        const trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function(fn){\n            fn.call(trigger, event);\n        });\n    });\n}\n\nfunction loadListener(event: any): void {\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nexport function addResizeListener(element, listener): void {\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = loadListener;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n\n    element.__resizeListeners__.push(listener);\n}\n\nexport function removeResizeListener(element, listener): void {\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\n    if (!element.__resizeListeners__.length) {\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\n        else {\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n        }\n    }\n}\n","'use strict';\n\nangular.module('pipMedia', []);\n\nimport './MediaService';\nimport './ResizeFunctions';\n\nexport * from './MediaService';\nexport * from './ResizeFunctions';","/**\n * @file Registration of all WebUI list controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipBehaviors', [\n        'pipFocused',\n        'pipSelected',\n        'pipInfiniteScroll',\n        'pipUnsavedChanges',\n        'pipDraggable',\n        'pipShortcuts'\n    ]);\n    \n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipDraggable\", []);\n\n    thisModule.service('pipDraggable', function () {\n\n        var scope = this;\n        scope.inputEvent = function (event) {\n            if (angular.isDefined(event.touches)) {\n                return event.touches[0];\n            }\n            //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\n            else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\n                return event.originalEvent.touches[0];\n            }\n            return event;\n        };\n\n    });\n\n    thisModule.directive('pipDrag',\n        function ($rootScope, $parse, $document, $window, pipDraggable) {\n            return {\n\n                restrict: 'A',\n                link: function (scope: any, element, attrs: any) {\n                    scope.value = attrs.ngDrag;\n                    var LONG_PRESS = 50; // 50ms for longpress\n                    var offset, _centerAnchor = false, _mx, _my, _tx, _ty, _mrx, _mry;\n                    var _hasTouch = ('ontouchstart' in window) || (<any>window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\n                    var _pressEvents = 'touchstart mousedown';\n                    var _moveEvents = 'touchmove mousemove';\n                    var _releaseEvents = 'touchend mouseup';\n                    var _dragHandle;\n\n                    // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\n                    var _myid = scope.$id;\n                    var _data = null;\n\n                    var _dragOffset = null;\n\n                    var _dragEnabled = false;\n\n                    var _pressTimer = null;\n\n                    var _elementStyle: any = {};\n\n                    var onDragStartCallback = $parse(attrs.pipDragStart) || null;\n                    var onDragStopCallback = $parse(attrs.pipDragStop) || null;\n                    var onDragSuccessCallback = $parse(attrs.pipDragSuccess) || null;\n                    var allowTransform = angular.isDefined(attrs.allowTransform) ? scope.$eval(attrs.allowTransform) : false;\n\n                    var getDragData = $parse(attrs.pipDragData);\n                    var\n                        verticalScroll = toBoolean(attrs.pipVerticalScroll) || true,\n                        horizontalScroll = toBoolean(attrs.pipHorizontalScroll) || true,\n                        activationDistance = parseFloat(attrs.pipActivationDistance) || 75,\n                        scrollDistance = parseFloat(attrs.pipScrollDistance) || 50,\n                        scrollParent = false,\n\n                        scrollContainer = angular.element(window),\n                        scrollContainerGetter = $parse(attrs.pipScrollContainer);\n\n                    // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\n                    var _deregisterRootMoveListener = angular.noop;\n\n                    initialize();\n\n                    return;\n\n                    //-----------------------------------\n\n                    function initialize() {\n                        element.attr('pip-draggable', 'false'); // prevent native drag\n                        // check to see if drag handle(s) was specified\n                        // if querySelectorAll is available, we use this instead of find\n                        // as JQLite find is limited to tagnames\n                        let dragHandles: any;\n                        if (element[0].querySelectorAll) {\n                            dragHandles = angular.element(element[0].querySelectorAll('[pip-drag-handle]'));\n                        } else {\n                            dragHandles = element.find('[pip-drag-handle]');\n                        }\n                        if (dragHandles.length) {\n                            _dragHandle = dragHandles;\n                        }\n                        toggleListeners(true);\n\n                        // Initialize scroll container\n                        if (scrollParent) {\n                            scrollContainer = angular.element(element.parent());\n                        } else if (attrs.pipScrollContainer) {\n                            scrollContainer = angular.element(scrollContainerGetter(scope));\n                        } else {\n                            scrollContainer = angular.element(window);\n                        }\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    function toggleListeners(enable) {\n                        if (!enable)return;\n                        // add listeners.\n\n                        scope.$on('$destroy', onDestroy);\n                        scope.$watch(attrs.pipDrag, onEnableChange);\n                        scope.$watch(attrs.pipCenterAnchor, onCenterAnchor);\n                        // wire up touch events\n                        if (_dragHandle) {\n                            // handle(s) specified, use those to initiate drag\n                            _dragHandle.on(_pressEvents, onpress);\n                        } else {\n                            // no handle(s) specified, use the element as the handle\n                            element.on(_pressEvents, onpress);\n                        }\n                        if (!_hasTouch && element[0].nodeName.toLowerCase() == \"img\") {\n                            element.on('mousedown', function () {\n                                return false;\n                            }); // prevent native drag for images\n                        }\n                    }\n                    \n                    function onDestroy(enable) {\n                        toggleListeners(false);\n                    }\n\n                    function onEnableChange(newVal, oldVal) {\n                        _dragEnabled = (newVal);\n                    }\n\n                    function onCenterAnchor(newVal, oldVal) {\n                        if (angular.isDefined(newVal))\n                            _centerAnchor = (newVal || 'true');\n                    }\n\n                    function isClickableElement(evt) {\n                        return (\n                            angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\n                        );\n                    }\n\n                    /*\n                     * When the element is clicked start the drag behaviour\n                     * On touch devices as a small delay so as not to prevent native window scrolling\n                     */\n                    function onpress(evt) {\n                        if (!_dragEnabled)return;\n\n                        if (isClickableElement(evt)) {\n                            return;\n                        }\n\n                        if (evt.type == \"mousedown\" && evt.button != 0) {\n                            // Do not start dragging on right-click\n                            return;\n                        }\n\n                        saveElementStyles();\n\n                        if (_hasTouch) {\n                            cancelPress();\n                            _pressTimer = setTimeout(function () {\n                                cancelPress();\n                                onlongpress(evt);\n                            }, LONG_PRESS);\n                            $document.on(_moveEvents, cancelPress);\n                            $document.on(_releaseEvents, cancelPress);\n                        } else {\n                            onlongpress(evt);\n                        }\n\n                    }\n\n                    function saveElementStyles() {\n                        _elementStyle.left = element.css('css') || 0;\n                        _elementStyle.top = element.css('top') || 0;\n                        _elementStyle.position = element.css('position');\n                        _elementStyle.width = element.css('width');    \n                    }\n\n                    function cancelPress() {\n                        clearTimeout(_pressTimer);\n                        $document.off(_moveEvents, cancelPress);\n                        $document.off(_releaseEvents, cancelPress);\n                    }\n\n                    function onlongpress(evt) {\n                        if (!_dragEnabled)return;\n                        evt.preventDefault();\n\n                        offset = element[0].getBoundingClientRect();\n                        if (allowTransform)\n                            _dragOffset = offset;\n                        else {\n                            _dragOffset = {left: document.body.scrollLeft, top: document.body.scrollTop};\n                        }\n\n\n                        (<any>element).centerX = element[0].offsetWidth / 2;\n                        (<any>element).centerY = element[0].offsetHeight / 2;\n\n                        _mx = pipDraggable.inputEvent(evt).pageX;\n                        _my = pipDraggable.inputEvent(evt).pageY;\n                        _mrx = _mx - offset.left;\n                        _mry = _my - offset.top;\n                        if (_centerAnchor) {\n                            _tx = _mx - (<any>element).centerX - $window.pageXOffset;\n                            _ty = _my - (<any>element).centerY - $window.pageYOffset;\n                        } else {\n                            _tx = _mx - _mrx - $window.pageXOffset;\n                            _ty = _my - _mry - $window.pageYOffset;\n                        }\n\n                        $document.on(_moveEvents, onmove);\n                        $document.on(_releaseEvents, onrelease);\n                        // This event is used to receive manually triggered mouse move events\n                        // jqLite unfortunately only supports triggerHandler(...)\n                        // See http://api.jquery.com/triggerHandler/\n                        // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\n                        _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', function (event, origEvent) {\n                            onmove(origEvent);\n                        });\n                    }\n\n                    function onmove(evt) {\n                        if (!_dragEnabled)return;\n                        evt.preventDefault();\n\n                        if (!element.hasClass('pip-dragging')) {\n                            _data = getDragData(scope);\n                            element.addClass('pip-dragging');\n                            $rootScope.$broadcast('draggable:start', {\n                                x: _mx,\n                                y: _my,\n                                tx: _tx,\n                                ty: _ty,\n                                event: evt,\n                                element: element,\n                                data: _data\n                            });\n\n                            if (onDragStartCallback) {\n                                scope.$apply(function () {\n                                    onDragStartCallback(scope, {$data: _data, $event: evt});\n                                });\n                            }\n                        }\n\n                        _mx = pipDraggable.inputEvent(evt).pageX;\n                        _my = pipDraggable.inputEvent(evt).pageY;\n\n                        if (horizontalScroll || verticalScroll) {\n                            dragToScroll();\n                        }\n\n                        if (_centerAnchor) {\n                            _tx = _mx - (<any>element).centerX - _dragOffset.left;\n                            _ty = _my - (<any>element).centerY - _dragOffset.top;\n                        } else {\n                            _tx = _mx - _mrx - _dragOffset.left;\n                            _ty = _my - _mry - _dragOffset.top;\n                        }\n\n                        moveElement(_tx, _ty);\n\n                        $rootScope.$broadcast('draggable:move', {\n                            x: _mx,\n                            y: _my,\n                            tx: _tx,\n                            ty: _ty,\n                            event: evt,\n                            element: element,\n                            data: _data,\n                            uid: _myid,\n                            dragOffset: _dragOffset\n                        });\n                    }\n\n                    function onrelease(evt) {\n                        if (!_dragEnabled)\n                            return;\n                        evt.preventDefault();\n                        $rootScope.$broadcast('draggable:end', {\n                            x: _mx,\n                            y: _my,\n                            tx: _tx,\n                            ty: _ty,\n                            event: evt,\n                            element: element,\n                            data: _data,\n                            callback: onDragComplete,\n                            uid: _myid\n                        });\n                        element.removeClass('pip-dragging');\n                        element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\n                        reset();\n                        $document.off(_moveEvents, onmove);\n                        $document.off(_releaseEvents, onrelease);\n\n                        if (onDragStopCallback) {\n                            scope.$apply(function () {\n                                onDragStopCallback(scope, {$data: _data, $event: evt});\n                            });\n                        }\n\n                        _deregisterRootMoveListener();\n                    }\n\n                    function onDragComplete(evt) {\n                        if (!onDragSuccessCallback)return;\n\n                        scope.$apply(function () {\n                            onDragSuccessCallback(scope, {$data: _data, $event: evt});\n                        });\n                    }\n\n                    function reset() {\n                        if (allowTransform)\n                            element.css({transform: '', 'z-index': '', '-webkit-transform': '', '-ms-transform': ''});\n                        else {\n                            element.css({'position': _elementStyle.position, top: _elementStyle.top, left: _elementStyle.left, 'z-index': '', width: _elementStyle.width});\n                        }\n                    }\n\n                    function moveElement(x, y) {\n                        var eWidth = element.css('width');\n                        if (allowTransform) {\n                            element.css({\n                                transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                                'z-index': 99999,\n                                '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                                '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n                            });\n                        } else {\n                            element.css({\n                                'left': x + 'px',\n                                'top': y + 'px',\n                                'position': 'fixed',\n                                'z-index': 100,\n                                width: eWidth\n                            });\n                        }\n                    }\n\n                    function dragToScroll() {\n                        var scrollX = 0, scrollY = 0,\n                            offset = function (element) {\n                                return element.offset() || {left: 0, top: 0};\n                            };\n\n                        if (horizontalScroll) {\n                            var\n                                containerLeft = offset(scrollContainer).left,\n                                containerWidth = scrollContainer.innerWidth(),\n                                containerRight = containerLeft + containerWidth;\n\n                            if ((_mx - containerLeft) < activationDistance) {\n                                scrollX = -scrollDistance;\n                            }\n                            else if ((containerRight - _mx) < activationDistance) {\n                                scrollX = scrollDistance;\n                            }\n                        }\n\n                        if (verticalScroll) {\n                            var\n                                containerTop = offset(scrollContainer).top,\n                                containerHeight = scrollContainer.innerHeight(),\n                                containerBottom = containerTop + containerHeight;\n\n                            if ((_my - containerTop) < activationDistance) {\n                                scrollY = -scrollDistance + 30;\n                            }\n                            else if ((containerBottom - _my) < activationDistance) {\n                                scrollY = scrollDistance - 30;\n                            }\n                        }\n                        if (scrollX !== 0 || scrollY !== 0) {\n                            var\n                                containerScrollLeft = scrollContainer.scrollLeft(),\n                                containerScrollTop = scrollContainer.scrollTop();\n\n                            scrollContainer.scrollLeft(containerScrollLeft + scrollX);\n                            scrollContainer.scrollTop(containerScrollTop + scrollY);\n                        }\n\n                    }\n                }\n            }\n        });\n\n    thisModule.directive('pipDrop', \n        function ($parse, $timeout, $window, $document, pipDraggable) {\n        return {\n            restrict: 'A',\n            link: function (scope: any, element, attrs: any) {\n                scope.value = attrs.pipDrop;\n                scope.isTouching = false;\n\n                var _lastDropTouch = null;\n                var _myid = scope.$id;\n                var _dropEnabled = false;\n\n                var onDropCallback = $parse(attrs.pipDropSuccess);// || function(){};\n                var onDragStartCallback = $parse(attrs.pipDragStart);\n                var onDragStopCallback = $parse(attrs.pipDragStop);\n                var onDragMoveCallback = $parse(attrs.pipDragMove);\n\n                initialize();\n\n                return;\n\n                //----------------------\n\n                function initialize() {\n                    toggleListeners(true);\n                }\n\n                function toggleListeners(enable) {\n                    // remove listeners\n                    if (!enable)return;\n                    // add listeners.\n                    scope.$watch(attrs.pipDrop, onEnableChange);\n                    scope.$on('$destroy', onDestroy);\n                    scope.$on('draggable:start', onDragStart);\n                    scope.$on('draggable:move', onDragMove);\n                    scope.$on('draggable:end', onDragEnd);\n                }\n\n                function onDestroy(enable) {\n                    toggleListeners(false);\n                }\n\n                function onEnableChange(newVal, oldVal) {\n                    _dropEnabled = newVal;\n                }\n\n                function onDragStart(evt, obj) {\n                    if (!_dropEnabled)return;\n                    isTouching(obj.x, obj.y, obj.element);\n\n                    if (attrs.pipDragStart) {\n                        $timeout(function () {\n                            onDragStartCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n                }\n\n                function onDragMove(evt, obj) {\n                    if (!_dropEnabled)return;\n                    isTouching(obj.x, obj.y, obj.element);\n\n                    if (attrs.pipDragMove) {\n                        $timeout(function () {\n                            onDragMoveCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n                }\n\n                function onDragEnd(evt, obj) {\n                    // don't listen to drop events if this is the element being dragged\n                    // only update the styles and return\n                    if (!_dropEnabled || _myid === obj.uid) {\n                        updateDragStyles(false, obj.element);\n                        return;\n                    }\n\n                    if (isTouching(obj.x, obj.y, obj.element)) {\n                        // call the pipDraggable pipDragSuccess element callback\n                        if (obj.callback) {\n                            obj.callback(obj);\n                        }\n\n                        if (attrs.pipDropSuccess) {\n                            $timeout(function () {\n                                onDropCallback(scope, {\n                                    $data: obj.data,\n                                    $event: obj,\n                                    $target: scope.$eval(scope.value)\n                                });\n                            });\n                        }\n                    }\n\n                    if (attrs.pipDragStop) {\n                        $timeout(function () {\n                            onDragStopCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n\n                    updateDragStyles(false, obj.element);\n                }\n\n                function isTouching(mouseX, mouseY, dragElement) {\n                    var touching = hitTest(mouseX, mouseY);\n                    scope.isTouching = touching;\n                    if (touching) {\n                        _lastDropTouch = element;\n                    }\n                    updateDragStyles(touching, dragElement);\n                    return touching;\n                }\n\n                function updateDragStyles(touching, dragElement) {\n                    if (touching) {\n                        element.addClass('pip-drag-enter');\n                        dragElement.addClass('pip-drag-over');\n                    } else if (_lastDropTouch == element) {\n                        _lastDropTouch = null;\n                        element.removeClass('pip-drag-enter');\n                        dragElement.removeClass('pip-drag-over');\n                    }\n                };\n\n                function hitTest(x, y) {\n                    var bounds = element[0].getBoundingClientRect();\n                    x -= $document[0].body.scrollLeft + $document[0].documentElement.scrollLeft;\n                    y -= $document[0].body.scrollTop + $document[0].documentElement.scrollTop;\n                    return x >= bounds.left\n                        && x <= bounds.right\n                        && y <= bounds.bottom\n                        && y >= bounds.top;\n                }\n            }\n        };\n    });\n\n    //thisModule.directive('pipDragClone', function ($parse, $timeout, pipDraggable) {\n    //    return {\n    //        restrict: 'A',\n    //        link: function (scope, element, attrs) {\n    //            var img, _allowClone = true;\n    //            var _dragOffset = null;\n    //            scope.clonedData = {};\n    //            initialize();\n    //            return;\n\n    //            function initialize() {\n//\n    //                img = element.find('img');\n    //                element.attr('pip-draggable', 'false');\n    //                img.attr('draggable', 'false');\n    //                reset();\n    //                toggleListeners(true);\n    //            }\n//\n//\n    //            function toggleListeners(enable) {\n    //                // remove listeners\n//\n    //                if (!enable)return;\n    //                // add listeners.\n    //                scope.$on('draggable:start', onDragStart);\n    //                scope.$on('draggable:move', onDragMove);\n    //                scope.$on('draggable:end', onDragEnd);\n    //                preventContextMenu();\n//\n    //            }\n\n    //            function preventContextMenu() {\n    //                //  element.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                img.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                //  element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                img.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //            }\n\n    //            function onDragStart(evt, obj, elm) {\n    //                _allowClone = true;\n    //                if (angular.isDefined(obj.data.allowClone)) {\n    //                    _allowClone = obj.data.allowClone;\n    //                }\n    //                if (_allowClone) {\n    //                    scope.$apply(function () {\n    //                        scope.clonedData = obj.data;\n    //                    });\n    //                    element.css('width', obj.element[0].offsetWidth);\n    //                    element.css('height', obj.element[0].offsetHeight);\n//\n    //                    moveElement(obj.tx, obj.ty);\n    //                }\n//\n    //            }\n\n    //            function onDragMove(evt, obj) {\n    //                if (_allowClone) {\n//\n    //                    _tx = obj.tx + obj.dragOffset.left;\n    //                    _ty = obj.ty + obj.dragOffset.top;\n//\n    //                    moveElement(_tx, _ty);\n    //                }\n    //            }\n\n    //            function onDragEnd(evt, obj) {\n    //                //moveElement(obj.tx,obj.ty);\n    //                if (_allowClone) {\n    //                    reset();\n    //                }\n    //            }\n//\n    //            function reset() {\n    //                element.css({left: 0, top: 0, position: 'fixed', 'z-index': -1, visibility: 'hidden'});\n    //            }\n\n    //            function moveElement(x, y) {\n    //                element.css({\n    //                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n    //                    'z-index': 99999,\n    //                    'visibility': 'visible',\n    //                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n    //                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n    //                    //,margin: '0'  don't monkey with the margin,\n    //                });\n    //            }\n//\n    //            function absorbEvent_(event) {\n    //                var e = event;//.originalEvent;\n    //                e.preventDefault && e.preventDefault();\n    //                e.stopPropagation && e.stopPropagation();\n    //                e.cancelBubble = true;\n    //                e.returnValue = false;\n    //                return false;\n    //            }\n//\n    //        }\n    //    };\n    //});\n\n    thisModule.directive('pipPreventDrag', function ($parse, $timeout) {\n        return {\n            restrict: 'A',\n            link: function (scope: any, element, attrs: any) {\n                initialize();\n\n                return;\n                //---------------------\n\n                function initialize() {\n                    element.attr('pip-draggable', 'false');\n                    toggleListeners(true);\n                }\n\n                function toggleListeners(enable) {\n                    // remove listeners\n                    if (!enable)return;\n                    // add listeners.\n                    element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n                }\n\n                function absorbEvent_(event) {\n                    var e = event.originalEvent;\n                    e.preventDefault && e.preventDefault();\n                    e.stopPropagation && e.stopPropagation();\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n                    return false;\n                }\n            }\n        };\n    });\n\n    thisModule.directive('pipCancelDrag', function () {\n        return {\n            restrict: 'A',\n            link: function (scope, element, attrs) {\n                element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\n            }\n        };\n    });\n})();\n\n","/**\n * @file Keyboard navigation over few focusable controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipFocused\", []);\n\n    thisModule.directive('pipFocused', function ($timeout, $mdConstant, $window) {\n        return {\n            // restrict: 'EA',\n            require: \"?ngModel\",\n            link: function ($scope: any, $element, $attrs: any) {\n                var controls, controlsLength,\n                    withHidden = $attrs.pipWithHidden,\n                    opacityDelta = 0.4,\n                    opacityLimit = 0.5,\n                    _color,\n                    focusedColor = $attrs.pipFocusedColor ? $attrs.pipFocusedColor : null,\n                    reInit = $attrs.pipFocusedRebind ? $attrs.pipFocusedRebind : null,\n                    focusedTabindex = $attrs.pipFocusedTabindex ? parseInt($attrs.pipFocusedTabindex) || 0 : 0,\n                    isOpacity = $attrs.pipFocusedOpacity ? toBoolean($attrs.pipFocusedOpacity) : false;\n\n                $timeout(init);\n                $element.on('keydown', keydownListener);\n\n                if ($attrs.ngModel) {\n                    $scope.$watch($attrs.ngModel, function () {\n                        $timeout(init);\n                    }, true);\n                }\n\n                if ($attrs.pipFocusedData) {\n                    $attrs.$observe('pipFocusedData', function () {\n                        $timeout(init);\n                    }, true);\n                }      \n                          \n                // Converts value into boolean\n                function toBoolean(value) {\n                    if (value == null) return false;\n                    if (!value) return false;\n                    value = value.toString().toLowerCase();\n                    return value == '1' || value == 'true';\n                };\n\n                function rgba(color) {\n                    if (focusedColor) {\n                        return focusedColor;\n                    }\n\n                    var arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\n\n                    if (!arr || arr.length < 3) {\n                        return ''\n                    }\n\n                    let red, blue, green, opacity;\n\n                    opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\n                    red = arr[0];\n                    blue = arr[1];\n                    green = arr[2];\n\n                    if (opacity < opacityLimit) {\n                        opacity += opacityDelta;\n                    } else {\n                        opacity -= opacityDelta;\n                    }\n\n                    return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\n                }\n\n                function setTabindex(element, value) {\n                    element.attr('tabindex', value);\n                }\n\n                function checkTabindex(controls) {\n                    let index = _.findIndex(controls, (c) => {\n                        return c['tabindex'] > -1;\n                    });\n\n                    if (index == -1 && controls.length > 0) {\n                        // let el = controls[0];\n                        setTabindex(angular.element(controls[0]), focusedTabindex);\n                    }\n                }\n\n                function init() {\n                    var selector = withHidden ? '.pip-focusable' : '.pip-focusable:visible';\n                    controls = $element.find(selector);\n                    controlsLength = controls.length;\n                    checkTabindex(controls);\n                    // add needed event listeners\n                    controls.on('focus', function () {\n                        if ($(this).hasClass('md-focused')) {\n                            return;\n                        }\n                        if (reInit) {\n                            init();\n                        }\n                        $element.addClass('pip-focused-container');\n                        if (isOpacity) {\n                            let ell = angular.element($(this)[0]);\n\n                            _color = $(this).css('backgroundColor');\n                            // _color = $window.getComputedStyle($(this)[0], null).backgroundColor;\n                            $(this).css('backgroundColor', rgba(_color));\n                            $(this).addClass('md-focused');\n                        } else {\n                            $(this).addClass('md-focused md-focused-opacity');\n                        }\n                        \n                        // setTabindex(angular.element($(this)[0]), 0);\n                    }).on('focusout', function () {\n                        if (!$(this).hasClass('md-focused')) {\n                            return;\n                        }                        \n                        $element.removeClass('pip-focused-container');\n\n                        if (isOpacity) {\n                            // $(this).css('backgroundColor', _color);\n                            $(this).css('backgroundColor', \"\");\n                            $(this).removeClass('md-focused md-focused-opacity');\n                        } else {\n                            $(this).removeClass('md-focused');\n                        }\n                        // if I go from block all element have tabindex = -1\n                        // setTabindex(angular.element($(this)[0]), -1);\n                    });\n                }\n\n                function keydownListener(e) {\n                    var keyCode = e.which || e.keyCode;\n                    // Check control keyCode\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\n\n                        e.preventDefault();\n\n                        var\n                            increment = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                            moveToControl = controls.index(controls.filter(\".md-focused\")) + increment;\n                        // Move focus to next control\n                        if (moveToControl >= 0 && moveToControl < controlsLength) {\n                            controls[moveToControl].focus();\n                        }\n                    }\n                }\n            }\n        };\n    });\n\n})();\n\n","/**\n * @file Infinite scrolling behavior\n * @description\n * Modified from https://github.com/sroze/ngInfiniteScroll\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipInfiniteScroll\", []);\n\n    thisModule.directive('pipInfiniteScroll', \n        function($rootScope, $window, $interval, $parse) {\n            var THROTTLE_MILLISECONDS = 500;\n\n            return {\n                scope: {\n                    pipInfiniteScroll: '&',\n                    pipScrollContainer: '=',\n                    pipScrollDistance: '=',\n                    pipScrollDisabled: '=',\n                    pipScrollUseDocumentBottom: '=',\n                    pipScrollListenForEvent: '@'\n                },\n                link: function($scope: any, $element, $attrs: any) {\n                    var \n                        checkWhenEnabled = null,\n                        scrollContainer,\n                        immediateCheck = true,\n                        scrollDistance = null,\n                        scrollEnabled = null, \n                        unregisterEventListener = null,\n                        useDocumentBottom = false, \n                        windowElement = angular.element($window);\n                    \n                    function height(element) {\n                        element = element[0] || element;\n                        if (isNaN(element.offsetHeight)) {\n                            return element.document.documentElement.clientHeight;\n                        } else {\n                            return element.offsetHeight;\n                        }\n                    };\n\n                    function offsetTop(element) {\n                        if (!element[0].getBoundingClientRect || element.css('none')) {\n                            return;\n                        }\n                        return element[0].getBoundingClientRect().top + pageYOffset(element);\n                    };\n\n                    function pageYOffset(element) {\n                        element = element[0] || element;\n                        if (isNaN(window.pageYOffset)) {\n                            return element.document.documentElement.scrollTop;\n                        } else {\n                            return element.ownerDocument.defaultView.pageYOffset;\n                        }\n                    };\n\n                    var onContainerScroll = function() {\n                        var \n                            containerBottom, \n                            containerTopOffset, \n                            elementBottom, \n                            remaining, \n                            shouldScroll;\n                                                \n                        if (scrollContainer === windowElement) {\n                            containerBottom = height(scrollContainer) + pageYOffset(scrollContainer[0].document.documentElement);\n                            elementBottom = offsetTop($element) + height($element);\n                        } else {\n                            containerBottom = height(scrollContainer);\n                            containerTopOffset = 0;\n                            if (offsetTop(scrollContainer) !== void 0) {\n                                containerTopOffset = offsetTop(scrollContainer);\n                            }\n                            elementBottom = offsetTop($element) - containerTopOffset + height($element);\n                        }\n\n                        if (useDocumentBottom) {\n                            elementBottom = height(($element[0].ownerDocument || (<any>$element[0]).document).documentElement);\n                        }\n\n                        remaining = elementBottom - containerBottom;\n                        shouldScroll = remaining <= height(scrollContainer) * scrollDistance + 1;\n                        \n                        if (shouldScroll) {\n                            checkWhenEnabled = true;\n                            if (scrollEnabled) {\n                                if ($scope.$$phase || $rootScope.$$phase) {\n                                    return $scope.pipInfiniteScroll();\n                                } else {\n                                    return $scope.$apply($scope.pipInfiniteScroll);\n                                }\n                            }\n                        } else {\n                            return checkWhenEnabled = false;\n                        }\n                    };\n\n                    if (THROTTLE_MILLISECONDS != null) {\n                        onContainerScroll = _.throttle(onContainerScroll, THROTTLE_MILLISECONDS);                    \n                    }\n\n                    $scope.$on('$destroy', function() {\n                        scrollContainer.unbind('scroll', onContainerScroll);\n                        if (unregisterEventListener != null) {\n                            unregisterEventListener();\n                            return unregisterEventListener = null;\n                        }\n                    });\n\n                    function handleScrollDistance(v) {\n                        return scrollDistance = parseFloat(v) || 0;\n                    };\n                    $scope.$watch('pipScrollDistance', handleScrollDistance);\n                    handleScrollDistance($scope.pipScrollDistance);\n                    \n                    function handleScrollDisabled(v) {\n                        scrollEnabled = !v;\n                        if (scrollEnabled && checkWhenEnabled) {\n                            checkWhenEnabled = false;\n                            return onContainerScroll();\n                        }\n                    };\n                    $scope.$watch('pipScrollDisabled', handleScrollDisabled);\n                    handleScrollDisabled($scope.pipScrollDisabled);\n\n                    function handleScrollUseDocumentBottom(v) {\n                        return useDocumentBottom = v;\n                    };\n                    $scope.$watch('pipScrollUseDocumentBottom', handleScrollUseDocumentBottom);\n                    handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\n\n                    function changeContainer(newContainer) {\n                        if (scrollContainer != null) {\n                            scrollContainer.unbind('scroll', onContainerScroll);\n                        }\n\n                        scrollContainer = newContainer;\n                        if (newContainer != null) {\n                            return scrollContainer.bind('scroll', onContainerScroll);\n                        }\n                    };\n\n                    changeContainer(windowElement);\n                    if ($scope.pipScrollListenForEvent) {\n                        unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, onContainerScroll);\n                    }\n\n                    function handleScrollContainer(newContainer) {\n                        if ((newContainer == null) || newContainer.length === 0) {\n                            return;\n                        }\n                        if (newContainer instanceof HTMLElement) {\n                            newContainer = angular.element(newContainer);\n                        } else if (typeof newContainer.append === 'function') {\n                            newContainer = angular.element(newContainer[newContainer.length - 1]);\n                        } else if (typeof newContainer === 'string') {\n                            newContainer = $element.parents().find(newContainer);\n                        }\n\n                        if (newContainer != null && (!Array.isArray(newContainer) ||\n                            (Array.isArray(newContainer) && newContainer.length > 0))) {\n                            return changeContainer(newContainer);\n                        } else {\n                            throw new Error(\"Invalid pip-scroll-container attribute.\");\n                        }\n                    };\n                    $scope.$watch('pipScrollContainer', function (newContainer) {\n                        if (newContainer !== scrollContainer)\n                            handleScrollContainer(newContainer);\n                    });\n                    handleScrollContainer($scope.pipScrollContainer || []);\n                    \n                    if ($attrs.pipScrollParent != null) {\n                        changeContainer(angular.element($element.parent()));\n                    }\n                    if ($attrs.pipScrolImmediateCheck != null) {\n                        immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\n                    }\n                    \n                    return $interval((function() {\n                        if (immediateCheck) {\n                            return onContainerScroll();\n                        }\n                    }), 0, 1);\n                }\n            }\n        }\n    );\n\n})();\n\n","'use strict';\n\nexport class ShortcutOption {\n    Type: KeyboardEvent;\n    Propagate: boolean;\n    DisableInInput: boolean;\n    Target: any; // event target object\n    Keycode: number;\n}\n\nexport class KeyboardEvent {\n    static Keydown: string = 'keydown';\n    static Keyup: string = 'keyup';\n    static Keypress: string = 'keypress';\n}\n\nexport class KeyboardShortcut {\n    private shift_nums = {\n        \"`\": \"~\",\n        \"1\": \"!\",\n        \"2\": \"@\",\n        \"3\": \"#\",\n        \"4\": \"$\",\n        \"5\": \"%\",\n        \"6\": \"^\",\n        \"7\": \"&\",\n        \"8\": \"*\",\n        \"9\": \"(\",\n        \"0\": \")\",\n        \"-\": \"_\",\n        \"=\": \"+\",\n        \";\": \":\",\n        \"'\": \"\\\"\",\n        \",\": \"<\",\n        \".\": \">\",\n        \"/\": \"?\",\n        \"\\\\\": \"|\"\n    };\n\n    private special_keys = {\n        'esc': 27,\n        'escape': 27,\n        'tab': 9,\n        'space': 32,\n        'return': 13,\n        'enter': 13,\n        'backspace': 8,\n\n        'scrolllock': 145,\n        'scroll_lock': 145,\n        'scroll': 145,\n        'capslock': 20,\n        'caps_lock': 20,\n        'caps': 20,\n        'numlock': 144,\n        'num_lock': 144,\n        'num': 144,\n\n        'pause': 19,\n        'break': 19,\n\n        'insert': 45,\n        'home': 36,\n        'delete': 46,\n        'end': 35,\n\n        'pageup': 33,\n        'page_up': 33,\n        'pu': 33,\n\n        'pagedown': 34,\n        'page_down': 34,\n        'pd': 34,\n\n        'left': 37,\n        'up': 38,\n        'right': 39,\n        'down': 40,\n\n        'f1': 112,\n        'f2': 113,\n        'f3': 114,\n        'f4': 115,\n        'f5': 116,\n        'f6': 117,\n        'f7': 118,\n        'f8': 119,\n        'f9': 120,\n        'f10': 121,\n        'f11': 122,\n        'f12': 123\n    };\n\n    private modifiers = {\n        shift: { wanted: false, pressed: false },\n        ctrl: { wanted: false, pressed: false },\n        alt: { wanted: false, pressed: false },\n        meta: { wanted: false, pressed: false }\t//Meta is Mac specific\n    };\n\n    public eventCallback: Function;\n    public target: any;\n    public event: KeyboardEvent;\n    public option: ShortcutOption;\n    public shorcut: string;\n    public callback: Function;\n\n    public constructor(\n        element: any,\n        shorcutCombination: string,\n        option: ShortcutOption,\n        callback: (e?: JQueryEventObject) => void\n    ) {\n        \"ngInject\";\n\n        this.target = element;\n        this.shorcut = shorcutCombination;\n        this.event = option.Type;\n        this.option = option;\n        this.callback = callback;\n\n        this.eventCallback = (event: JQueryEventObject) => {\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\n            let code: number;\n\n            if (this.option.DisableInInput) { //Don't enable shortcut keys in Input, Textarea fields\n                let element;\n                if (e.target) {\n                    element = e.target;\n                } else if (e.srcElement) {\n                    element = e.srcElement;\n                }\n\n                if (element.nodeType == 3) {\n                    element = element.parentNode;\n                }\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\n            }\n            //Find Which key is pressed\n            if (e.keyCode) {\n                code = e.keyCode;\n            } else if (e.which) {\n                code = e.which;\n            }\n\n            let character = String.fromCharCode(code).toLowerCase();\n\n            if (code == 188) character = \",\"; //If the user presses , when the type is onkeydown\n            if (code == 190) character = \".\"; //If the user presses , when the type is onkeydown\n\n            let keys: string[] = this.shorcut.split(\"+\");\n            //Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\n            let kp: number = 0;\n\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\n\n            let i: number = 0;\n            for (i = 0; i < keys.length; i++) {\n                let k: string = keys[i];\n                //Modifiers\n                if (k == 'ctrl' || k == 'control') {\n                    kp++;\n                    this.modifiers.ctrl.wanted = true;\n                } else if (k == 'shift') {\n                    kp++;\n                    this.modifiers.shift.wanted = true;\n                } else if (k == 'alt') {\n                    kp++;\n                    this.modifiers.alt.wanted = true;\n                } else if (k == 'meta') {\n                    kp++;\n                    this.modifiers.meta.wanted = true;\n                } else if (k.length > 1) { //If it is a special key\n                    if (this.special_keys[k] == code) {\n                        kp++;\n                    }\n                } else if (this.option.Keycode) {\n                    if (this.option.Keycode == code) kp++;\n                } else { //The special keys did not match\n                    if (character == k) kp++;\n                    else {\n                        if (this.shift_nums[character] && e.shiftKey) { //Stupid Shift key bug created by using lowercase\n                            character = this.shift_nums[character];\n                            if (character == k) {\n                                kp++;\n                            }\n                        }\n                    }\n                }\n            }\n            \n            if (kp == keys.length &&\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\n\n                this.callback(e);\n\n                if (!this.option.Propagate) { //Stop the event\n                    //e.cancelBubble is supported by IE - this will kill the bubbling process.\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n\n                    //e.stopPropagation works in Firefox.\n                    if (e.stopPropagation) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                    }\n\n                    return false;\n                }\n            }\n            this.modifiers.ctrl.pressed = false;\n            this.modifiers.shift.pressed = false;\n            this.modifiers.alt.pressed = false;\n            this.modifiers.meta.pressed = false;\n        };\n    }\n}\n","'use strict';\n\nimport  {\n    KeyboardShortcut,\n    ShortcutOption,\n    KeyboardEvent\n} from \"./KeyboardShortcut\";\n\nexport interface IKeyboardShortcuts {\n    [key: string]: KeyboardShortcut\n}\n\nexport interface IShortcutsRegisterService {\n    add(shorcutName: string, callback: () => void, options: ShortcutOption): void;\n    remove(shorcutName: string): void;\n\n    shorcuts: IKeyboardShortcuts\n}\n\nexport interface IShortcutsRegisterProvider extends ng.IServiceProvider {\n    option: ShortcutOption;\n}\n\nexport class ShortcutsRegister implements IShortcutsRegisterService {\n    private _log: ng.ILogService;\n    private _defaultOption: ShortcutOption;\n    private _shortcuts: IKeyboardShortcuts;\n\n    public constructor(\n        $log: ng.ILogService,\n        option: ShortcutOption\n    ) {\n        \"ngInject\";\n        this._log = $log;\n        this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\n\n        this._shortcuts = {};\n    }\n\n    private getDefaultOption(): ShortcutOption {\n        let defaultOption: ShortcutOption = {\n            Type: KeyboardEvent.Keydown,\n            Propagate: false,\n            DisableInInput: false,\n            Target: document,\n            Keycode: null\n        };\n\n        return defaultOption;\n    }\n\n    private checkAddShortcut(element: any, shorcutCombination: string, callback: (e: JQueryEventObject) => void): boolean {\n        if (!element) {\n            this._log.error('Register shortcut: element undentified!');\n\n            return false;\n        }\n\n        if (!shorcutCombination) {\n            this._log.error('Register shortcut: shorcut combination undentified!');\n\n            return false;\n        }\n\n        if (!callback) {\n            this._log.error('Register shortcut: shorcut callback undentified!');\n\n            return false;\n        }\n\n        return true;\n    }\n\n    public get shorcuts(): IKeyboardShortcuts {\n        return this._shortcuts;\n    }\n\n    public add(shorcutName: string, callback: (e: JQueryEventObject) => void, option: ShortcutOption): void {\n        this.remove(shorcutName);\n        let shorcutOption: ShortcutOption = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\n        let shorcutCombination: string = shorcutName.toLowerCase();\n        let element = shorcutOption.Target;\n\n\n        if (typeof shorcutOption.Target == 'string') {\n            element = document.getElementById(shorcutOption.Target);\n        } else {\n            element = shorcutOption.Target;\n        }\n\n        if (!this.checkAddShortcut(element, shorcutCombination, callback)) {\n            \n            return\n        }\n\n        let newKeyboardShortcut = new KeyboardShortcut(element, shorcutCombination, shorcutOption, callback);\n\n\t\tthis._shortcuts[shorcutCombination] = newKeyboardShortcut;\n\n\t\t//Attach the function with the event\n\t\tif (element.addEventListener) { \n            element.addEventListener(shorcutOption.Type, newKeyboardShortcut.eventCallback, false);\n        } else if (element.attachEvent) { \n            element.attachEvent('on' + shorcutOption.Type, newKeyboardShortcut.eventCallback);\n        } else { \n            element.on(shorcutOption.Type, newKeyboardShortcut.eventCallback); \n        }\n    }\n\n    public remove(shorcutName: string): void {\n\t\tlet shortcutCombination = shorcutName.toLowerCase();\n\t\tlet binding: KeyboardShortcut = this._shortcuts[shortcutCombination];\n\n\t\tdelete(this._shortcuts[shortcutCombination])\n\t\tif (!binding) return;\n\n\t\tlet type = binding.event;\n\t\tlet element = binding.target;\n\t\tlet callback = binding.eventCallback;\n\n\t\tif (element.detachEvent) {\n            element.detachEvent('on' + type, callback);\n        } else if (element.removeEventListener) { \n            element.removeEventListener(type, callback, false);\n        } else { \n            // element['on' + type] = false;\n            element.off(type, callback);\n        }\n    }\n}\n\n\n\nclass ShortcutsRegisterProvider implements IShortcutsRegisterProvider {\n    private _service: ShortcutsRegister;\n    private _option: ShortcutOption;\n\n    public get option(): ShortcutOption {\n        return this._option;\n    }\n\n    public set option(value: ShortcutOption) {\n        this._option = value || new ShortcutOption();\n    }\n\n    public $get(\n        $log: ng.ILogService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShortcutsRegister($log, this._option);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipShortcuts')\n    .provider('pipShortcutsRegister', ShortcutsRegisterProvider);\n","'use strict';\n\nimport  {\n    ShortcutOption,\n} from \"./KeyboardShortcut\";\n\nimport  {\n    IShortcutsRegisterService,\n} from \"./ShorcutsRegisterService\";\n\n\n    // thisModule.directive('pipSelected', function ($parse, $mdConstant, $timeout) {\n    //     return {\n    //         restrict: 'A',\n    //         scope: false,\n\nclass ShortcutController {\n    private _log: ng.ILogService;\n\n    private actionShortcuts: Function;\n    private nameShortcuts: string;\n    private options: ShortcutOption;\n\n    constructor(\n        $element: any,\n        $attrs: any,\n        $scope: ng.IScope,\n        $log: ng.ILogService,\n        $parse: any,\n        pipShortcutsRegister: IShortcutsRegisterService\n    ) {\n        \"ngInject\";\n        this._log = $log;\n\n        if ($attrs.pipShortcutAction) {\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\n            let a1 = $attrs.pipShortcutAction;\n            this.actionShortcuts($scope, {$event: {}});\n        } else {\n            this._log.error('Shorcunt action does not set.');\n\n            return\n        }\n\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\n            this.nameShortcuts = $attrs.pipShortcutName;\n        } else {\n            this._log.error('Shorcunt name does not set.');\n\n            return\n        }\n\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOption>$attrs.pipShorcutOptions : <ShortcutOption>{};\n        this.options.Target = $element;\n        // regester keyboard shortcut\n        pipShortcutsRegister.add(this.nameShortcuts, (e?: any) => {\n            this.actionShortcuts($scope, {$event: {'e': e}});          \n        }, this.options);\n    }\n\n    private keypressShortcut(action) {\n        this.actionShortcuts();\n    }\n}\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function shortcutsDirective($parse) {\n        return {\n            restrict: 'A',\n            scope: false,            \n            controller: ShortcutController\n        };\n    }\n\n    angular\n        .module('pipShortcuts')\n        .directive('pipShortcut', shortcutsDirective);\n})();","'use strict';\n\n\nimport {\n    ShortcutsRegister\n} from \"./ShorcutsRegisterService\"\nimport  {\n    KeyboardShortcut,\n    ShortcutOption,\n    KeyboardEvent\n} from \"./KeyboardShortcut\";\n\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\n\nexport class ShortcutItem {\n    // Shortcut combination\n    public shortcut: string;\n    // target object \n    public target?: any;\n    // target element by Id\n    public targetId?: string;\n    // // target element by class (firstelement??)\n    // public targetClass?: string;\n    // Access function\n    public access?: (event: JQueryEventObject) => boolean;\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public keypress?: (event: JQueryEventObject) => void;\n    // default options\n    public options?: ShortcutOption;    \n}\n\n// export class ShortcutItem extends SimpleShortcutItem {\n//     public shortcuts: SimpleShortcutItem[];\n// }\n\nexport class ShortcutsConfig {\n    // Global shortcut \n    public globalShortcuts: ShortcutItem[] = [];\n    // Local shortcut \n    public localShortcuts: ShortcutItem[] = [];\n    // default options\n    public defaultOptions: ShortcutOption = null;\n}\n\nexport interface IShortcutsService {\n    readonly config: ShortcutsConfig;\n\n    globalShortcuts: ShortcutItem[];\n    localShortcuts: ShortcutItem[];\n\n    on(globalShortcuts?: ShortcutItem[], localShortcuts?: ShortcutItem[]): void;\n    onLocal(localShortcuts?: ShortcutItem[]): void;\n    off(): void;\n}\n\nexport interface IShortcutsProvider extends ng.IServiceProvider {\n    config: ShortcutsConfig;\n    \n    globalShortcuts: ShortcutItem[];\n    localShortcuts: ShortcutItem[];\n    defaultOptions: ShortcutOption;\n}\n\nclass ShortcutsService implements IShortcutsService {\n    private _config: ShortcutsConfig;\n    private _oldConfig: ShortcutsConfig;\n    private _rootScope: ng.IRootScopeService;\n    private _window: ng.IWindowService;\n    private _location: ng.ILocationService;\n    private _injector: ng.auto.IInjectorService;    \n    private _pipShortcutsRegister: ShortcutsRegister;\n\n    public constructor(\n        config: ShortcutsConfig,\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService, \n        $location: ng.ILocationService, \n        $injector: ng.auto.IInjectorService,\n        pipShortcutsRegister: ShortcutsRegister\n    ) {\n        this._config = config;\n        this._oldConfig = _.cloneDeep(this._config);\n        this._rootScope = $rootScope;\n        this._window = $window;\n        this._location = $location;\n        this._injector = $injector;    \n        this._pipShortcutsRegister = pipShortcutsRegister;\n\n        // add shortcuts\n        this.addShortcuts(this._config.globalShortcuts);\n        this.addShortcuts(this._config.localShortcuts);        \n    }\n\n    // private declaration \n    private sendChangeEvent() {\n        // remove shortcuts\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\n        this.removeShortcuts(this._oldConfig.localShortcuts);\n        // add shortcuts\n        this.addShortcuts(this._config.globalShortcuts);\n        this.addShortcuts(this._config.localShortcuts);\n\n        this._rootScope.$emit(ShortcutsChangedEvent, this._config);\n        // save current config to oldConfig\n        this._oldConfig = _.cloneDeep(this._config);\n    }\n\n    private removeShortcuts(collection: ShortcutItem[]): void {\n        _.each(collection, (k) => {\n            this._pipShortcutsRegister.remove(k.shortcut);\n        });\n    }\n\n    private keypressShortcut(shorcut: ShortcutItem, event: JQueryEventObject) {\n        if (shorcut.access && _.isFunction(shorcut.access)) {\n            if (!shorcut.access(event)) {\n                return;\n            }\n        } \n\n        if (shorcut.keypress) {\n            shorcut.keypress(event);\n            return;\n        }\n\n        if (shorcut.href) {\n            this._window.location.href = shorcut.href;\n            return;\n        }\n\n        if (shorcut.url) {\n            this._location.url(shorcut.url);\n            return;\n        }\n\n        if (shorcut.state) {\n            if (this._injector.has('$state')) {\n                var $state = this._injector.get('$state');\n                $state['go'](shorcut.state, shorcut.stateParams);\n            }\n            return;\n        }\n\n        if (shorcut.event) {\n            this._rootScope.$broadcast(shorcut.event);\n        } else {\n            // Otherwise raise notification\n            this._rootScope.$broadcast('pipShortcutKeypress', shorcut.shortcut);\n        }\n    }\n\n    private addShortcuts(collection: ShortcutItem[]): void {\n        let generalOptions: ShortcutOption = this._config.defaultOptions ? this._config.defaultOptions : <ShortcutOption>{};\n        \n        _.each(collection, (k) => {\n            let option: ShortcutOption = k.options ? k.options : generalOptions;\n            let target: any;\n\n            target = k.target ? k.target : k.targetId;\n            option.Target = target;\n            // regester keyboard shortcut\n            this._pipShortcutsRegister.add(k.shortcut, (e?: any) => {\n                this.keypressShortcut(k, e);        \n            }, option);              \n        });\n    }\n\n    // public declaration \n\n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public get defaultOptions(): ShortcutOption {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOption) {\n        this._config.defaultOptions = value || null;\n        this.sendChangeEvent();\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get localShortcuts(): ShortcutItem[] {\n        return this._config.localShortcuts;\n    }\n\n    public set localShortcuts(value: ShortcutItem[]) {\n        this._config.localShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n\n    public on(globalShortcuts?: ShortcutItem[], localShortcuts?: ShortcutItem[]): void {\n        if (globalShortcuts && _.isArray(globalShortcuts)) {\n            this._config.globalShortcuts = globalShortcuts;    \n        }\n        if (localShortcuts && _.isArray(localShortcuts)) {\n            this._config.localShortcuts = localShortcuts;    \n        }        \n\n        this.sendChangeEvent();\n    }\n\n    public onLocal(localShortcuts?: ShortcutItem[]): void {\n        if (localShortcuts && _.isArray(localShortcuts)) {\n            this._config.localShortcuts = localShortcuts;    \n        }        \n\n        this.sendChangeEvent();\n    }\n\n    public off(): void {\n        this._config.globalShortcuts = [];\n        this._config.localShortcuts = [];\n        this.sendChangeEvent();\n    }\n}\n\nclass ShortcutsProvider implements IShortcutsProvider {\n    private _config: ShortcutsConfig = new ShortcutsConfig();\n    private _service: ShortcutsService;\n\n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public set config(value: ShortcutsConfig) {\n        this._config = value || new ShortcutsConfig();\n    }\n\n    public get defaultOptions(): ShortcutOption {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOption) {\n        this._config.defaultOptions = value || null;\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n    }\n\n    public get localShortcuts(): ShortcutItem[] {\n        return this._config.localShortcuts;\n    }\n\n    public set localShortcuts(value: ShortcutItem[]) {\n        this._config.localShortcuts = value || [];\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService, \n        $window: ng.IWindowService, \n        $location: ng.ILocationService, \n        $injector: ng.auto.IInjectorService,\n        pipShortcutsRegister: ShortcutsRegister\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutsRegister);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipShortcuts')\n    .provider('pipShortcuts', ShortcutsProvider);\n\n","'use strict';\n\nangular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\n\nimport './ShorcutsRegisterService';\nimport './ShortcutsService';\nimport './ShortcutDirective';\n\nexport * from './ShortcutsService';\nexport * from './ShorcutsRegisterService';","/**\n * @file Keyboard navigation with scrolling over non-focusable controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipSelected\", []);\n\n    thisModule.directive('pipSelected', function ($parse, $mdConstant, $timeout) {\n        return {\n            restrict: 'A',\n            scope: false,\n            link: function ($scope: any, $element, $attrs: any) {\n                var\n                    indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null,\n                    indexSetter = indexGetter ? indexGetter.assign : null,\n                    idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null,\n                    idSetter = idGetter ? idGetter.assign : null,\n                    changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null,\n                    enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null,\n                    noScroll = toBoolean($attrs.pipNoScroll),\n                    modifier = toBoolean($attrs.pipSkipHidden) ? ':visible' : '',\n                    className = toBoolean($attrs.pipTreeList) ? '.pip-selectable-tree' : '.pip-selectable',\n                    selectedIndex = indexGetter($scope),\n                    currentElementTabinex = $element.attr('tabindex'),\n                    pipSelectedWatch = $attrs.pipSelectedWatch,\n                    isScrolled = false;\n\n                // variables for touch    \n                var touchStartX, touchStartY, trackingClick, trackingClickStart, targetElement, lastClickTime, cancelNextClick;\n                // constant for touch\n                var touchBoundary = 10,\n                    tapdelay = 200,\n                    tapTimeout = 700;\n\n                // Set tabindex if it's not set yet\n                $element.attr('tabindex', currentElementTabinex || 0);\n                \n                $element.on('click', className, onClickEvent);\n                $element.on('touchstart', className, onTouchStart);\n                $element.on('touchmove', className, onTouchMove);\n                $element.on('touchend', className, onTouchEnd);\n                $element.on('touchcancel', className, onTouchCancel);\n                $element.on('keydown', onKeyDown);\n                $element.on('focusin', onFocusIn);\n                $element.on('focusout', onFocusOut);\n\n                // Watch selected item index\n                if (!toBoolean($attrs.pipTreeList)) {\n                    $scope.$watch(indexGetter, function (newSelectedIndex) {\n                        selectItem({ itemIndex: newSelectedIndex });\n                    });\n                } else {\n                    $scope.$watch(idGetter, function (newSelectedId) {\n                        setTimeout(function () {\n                            selectItem({ itemId: newSelectedId, raiseEvent: true });\n                        }, 0);\n                    });\n                }\n\n                // Watch resync selection\n                if (pipSelectedWatch) {\n                    $scope.$watch(pipSelectedWatch, function () {\n                        // Delay update to allow ng-repeat to update DOM\n                        setTimeout(function () {\n                            selectedIndex = indexGetter($scope);\n                            selectItem({ itemIndex: selectedIndex });\n                        }, 100);\n                    });\n                }\n\n                // Select item defined by index\n                selectItem({ itemIndex: selectedIndex, items: $element.find(className) });\n\n                // Converts value into boolean\n                function toBoolean(value) {\n                    if (value == null) return false;\n                    if (!value) return false;\n                    value = value.toString().toLowerCase();\n                    return value == '1' || value == 'true';\n                };\n\n                // Functions and listeners\n                function selectItem(itemParams) {\n                    if (isScrolled) return;\n                    var itemIndex = itemParams.itemIndex,\n                        itemId = itemParams.itemId,\n                        items = itemParams.items || $element.find(className + modifier),\n                        itemsLength = items.length,\n                        item = (function () {\n                            if (itemParams.item) return itemParams.item;\n                            if (itemIndex === undefined && itemIndex === -1) {\n                                itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\n                            }\n                            if (itemIndex >= 0 && itemIndex < itemsLength) {\n                                return items[itemIndex]\n                            }\n                        } ()),\n                        raiseEvent = itemParams.raiseEvent;\n\n                    if (item) {\n                        $element.find(className).removeClass('selected md-focused');\n                        item = angular.element(item)\n                            .addClass('selected md-focused')\n                            .focus(); // todo   ,   \n                        if (!noScroll) scrollToItem(item);\n                        if (raiseEvent) defineSelectedIndex(items);\n                    }\n                };\n\n                function defineSelectedIndex(items) {\n                    var oldSelectedIndex = selectedIndex;\n                    selectedIndex = -1;\n                    for (var index = 0; index < items.length; index++) {\n                        if ($(items[index]).hasClass('selected')) {\n                            selectedIndex = index;\n\n                            break;\n                        }\n                    }\n\n                    // Execute callback to notify about item select\n                    if (oldSelectedIndex != selectedIndex && selectedIndex !== -1) {\n                        $scope.$apply(updateIndex);\n                    } else {\n                        $scope.$apply(onSelect);\n                    }\n\n                    function updateIndex() {\n                        var selectedItem = angular.element(items[selectedIndex]),\n                            selectedId = selectedItem.attr('pip-id');\n\n                        if (indexSetter) indexSetter($scope, selectedIndex);\n                        if (idSetter) idSetter($scope, selectedId);\n                        onSelect();\n                    };\n\n                    function onSelect() {\n                        var selectedItem = angular.element(items[selectedIndex]),\n                            selectedId = selectedItem.attr('pip-id');\n\n                        if (changeGetter) {\n                            changeGetter($scope, {\n                                $event: {\n                                    target: $element,\n                                    item: selectedItem,\n                                    index: selectedIndex,\n                                    id: selectedId,\n                                    newIndex: selectedIndex,\n                                    oldIndex: oldSelectedIndex\n                                }\n                            });\n                        }\n                    }\n                };\n\n                function scrollToItem($item) {\n                    if (noScroll) return;\n\n                    var\n                        containerTop = $element.offset().top,\n                        containerHeight = $element.height(),\n                        containerBottom = containerTop + containerHeight,\n                        itemTop = $item.offset().top,\n                        itemHeight = $item.outerHeight(true),\n                        itemBottom = itemTop + itemHeight,\n                        containerScrollTop = $element.scrollTop();\n\n                    isScrolled = true;\n                    setTimeout(function () {\n                        isScrolled = false;\n                    }, 100);\n\n                    if (containerTop > itemTop) {\n                        $element.scrollTop(containerScrollTop + itemTop - containerTop);\n                    }\n                    else if (containerBottom < itemBottom) {\n                        $element.scrollTop(containerScrollTop + itemBottom - containerBottom);\n                    }\n\n                };\n\n                function getTargetElementFromEventTarget(eventTarget) {\n                    // On some older browsers the event target may be a text node.\n                    if (eventTarget.nodeType === Node.TEXT_NODE) {\n                        return eventTarget.parentNode;\n                    }\n\n                    return eventTarget;\n                };\n\n                function touchHasMoved(event) {\n                    var touch = event.changedTouches[0], boundary = touchBoundary; //Touchmove boundary, beyond which a click will be cancelled.\n\n                    if (Math.abs(touch.pageX - touchStartX) > boundary || Math.abs(touch.pageY - touchStartY) > boundary) {\n                        return true;\n                    }\n\n                    return false;\n                };\n\n                function onClickEvent(event) {\n                    selectItem({ item: event.currentTarget, raiseEvent: true });\n                }\n\n                function onTouchStart(ev) {\n                    //ev.preventDefault();\n\n                    let event = ev.originalEvent;\n                    if (event['targetTouches'].length > 1) {\n                        return true;\n                    }\n                    let targetElement = getTargetElementFromEventTarget(event.target);\n                    let touch = event['targetTouches'][0];\n\n                    trackingClick = true;\n                    trackingClickStart = event.timeStamp;\n                    targetElement = targetElement;\n\n                    touchStartX = touch.pageX;\n                    touchStartY = touch.pageY;\n\n                    if ((event.timeStamp - lastClickTime) < tapdelay) {\n                      //  event.preventDefault();\n                    }\n\n                    return true;\n                }\n\n                function onTouchMove(ev) {\n                    if (!trackingClick) {\n                        return true;\n                    }\n                    let event = ev.originalEvent;\n                    // If the touch has moved, cancel the click tracking\n                    if (targetElement !== getTargetElementFromEventTarget(event.target) || touchHasMoved(event)) {\n                        trackingClick = false;\n                        targetElement = null;\n                    }\n\n                    return true;\n                }\n\n                function onTouchEnd(ev) {\n                    var forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = targetElement;\n\n                    if (!trackingClick) {\n                        return true;\n                    }\n                    event = ev.originalEvent;\n                    // Prevent phantom clicks on fast double-tap \n                    if ((event.timeStamp - lastClickTime) < tapdelay) {\n                        cancelNextClick = true;\n                        return true;\n                    }\n\n                    if ((event.timeStamp - trackingClickStart) > tapTimeout) {\n                        return true;\n                    }\n\n                    // Reset to prevent wrong click cancel on input \n                    cancelNextClick = false;\n\n                    lastClickTime = event.timeStamp;\n\n                    newTrackingClickStart = trackingClickStart;\n                    trackingClick = false;\n                    trackingClickStart = 0;\n\n                    selectItem({ item: ev.currentTarget, raiseEvent: true });\n\n                    return false;\n                }\n\n                function onTouchCancel(ev) {\n                    trackingClick = false;\n                    targetElement = null;\n                }\n\n                function onKeyDown(e) {\n                    var keyCode = e.which || e.keyCode;\n\n                    // Check control keyCode\n                    if (keyCode == $mdConstant.KEY_CODE.ENTER || keyCode == $mdConstant.KEY_CODE.SPACE) {\n                        e.preventDefault();\n                        e.stopPropagation();\n\n                        if (enterSpaceGetter) {\n                            enterSpaceGetter($scope, {\n                                $event: {\n                                    target: $element,\n                                    index: selectedIndex,\n                                    item: $element.find('.selected')\n                                }\n                            });\n                        }\n\n                    } else\n                        if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW || keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\n                            keyCode == $mdConstant.KEY_CODE.UP_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\n\n                            e.preventDefault();\n                            e.stopPropagation();\n\n                            // Get next selectable control index\n                            var items = $element.find(className + modifier),\n                                inc = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                                newSelectedIndex = selectedIndex + inc;\n\n                            // Set next control as selected\n                            selectItem({ itemIndex: newSelectedIndex, items: items, raiseEvent: true });\n                        }\n                }\n\n                function onFocusIn(event) {\n                    // Choose selected element\n                    var items,\n                        selectedItem = $element.find(className + '.selected');\n\n                    selectedItem.addClass('md-focused');\n\n                    // If there are not selected elements then pick the first one\n                    if (selectedItem.length === 0) {\n                        selectedIndex = indexGetter($scope);\n                        items = $element.find(className + modifier);\n                        selectItem({ itemIndex: selectedIndex || 0, items: items, raiseEvent: true });\n                    }\n                }\n\n                function onFocusOut(event) {\n                    $element.find(className + '.md-focused' + modifier).removeClass('md-focused');\n                }\n            }\n        };\n    });\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function(){\n    'use strict';\n\n    var thisModule = angular.module(\"pipUnsavedChanges\", []);\n\n    thisModule.directive(\"pipUnsavedChanges\", function ($window, $rootScope) {\n        return {\n            restrict: 'AE',\n            scope: {\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\n                afterLeave: '&pipUnsavedChangesAfterLeave',\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\n            },\n            link: function($scope: any) {\n\n                $window.onbeforeunload = function() {\n                    if ($scope.unsavedChangesAvailable()) {\n                        $rootScope.$routing = false;\n                        return $scope.unsavedChangesMessage;\n                    }\n                };\n\n                var unbindFunc = $scope.$on('$stateChangeStart', function(event) {\n                    if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\n                        $rootScope.$routing = false;\n                         _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\n                        event.preventDefault();\n                    } else {\n                        _.isFunction($scope.afterLeave) && $scope.afterLeave();\n                    }\n                });\n\n                $scope.$on('$destroy', function() {\n                    $window.onbeforeunload = null;\n                    unbindFunc();\n                });\n            }\n        };\n    });\n\n})();\n\n","export interface IColorPicker {\n    class: string;\n    colors: string[];\n    currentColor: string;\n    currentColorIndex: number;\n    ngDisabled: Function;\n    colorChange: Function;\n\n    enterSpacePress(event): void;\n    disabled(): boolean;\n    selectColor(index: number);\n}\n\nconst DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\nexport class ColorPickerController implements IColorPicker {\n\n    private _$timeout;\n    private _$scope: ng.IScope;\n\n    public class: string;\n    public colors: string[];\n    public currentColor: string;\n    public currentColorIndex: number;\n    public ngDisabled: Function;\n    public colorChange: Function;\n\n    constructor(\n        $scope: ng.IScope,\n        $element,\n        $attrs,\n        $timeout) {\n        this._$timeout = $timeout;\n        this._$scope = $scope;\n\n        this.class = $attrs.class || '';\n        this.colors = !$scope['vm']['colors'] || \n                _.isArray($scope['vm']['colors']) && $scope['vm']['colors'].length === 0 ? DEFAULT_COLORS : $scope['vm']['colors'];\n        this.colorChange = $scope['vm']['colorChange'] || null;\n        this.currentColor = $scope['vm']['currentColor'] || this.colors[0];\n        this.currentColorIndex = this.colors.indexOf(this.currentColor);\n        this.ngDisabled = $scope['vm']['ngDisabled'] || false;\n    }\n\n    public $onChanges(changes: any) {\n        this.colors = _.isArray(changes['colors'].currentValue) && changes['colors'].currentValue.length !== 0 ? \n            changes['colors'].currentValue : DEFAULT_COLORS;\n        this.currentColor = changes['currentColor'].currentValue || this.colors[0];\n    }\n\n    public disabled(): boolean {\n        if (this.ngDisabled) {\n            return true;\n        }\n\n        return false;\n    };\n\n    public selectColor(index: number) {\n        if (this.disabled()) {\n            return;\n        }\n        this.currentColorIndex = index;\n        this.currentColor = this.colors[this.currentColorIndex];\n        this._$timeout(() => {\n            this._$scope.$apply();\n        });\n\n        if (this.colorChange) {\n            this.colorChange();\n        }\n    };\n\n    public enterSpacePress(event): void {\n        this.selectColor(event.index);\n    };\n\n}\n\nconst pipColorPicker = {\n    bindings: {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '<?ngChange'\n    },\n    templateUrl: 'color_picker/color_picker.html',\n    controller: ColorPickerController,\n    controllerAs: 'vm'\n}\n\nangular\n    .module('pipColorPicker', ['pipControls.Templates'])\n    .component('pipColorPicker', pipColorPicker);","/// <reference path=\"../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipControls', [\n        'pipMarkdown',\n        'pipColorPicker',\n        'pipRoutingProgress',\n        'pipPopover',\n        'pipImageSlider',\n        'pipToasts',\n        'pipControls.Translate'\n    ]);\n\n})();\n\n","/**\n * @file Optional filter to translate string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular */\n\n(() => {\n    'use strict';\n    function filerTranslate($injector: angular.auto.IInjectorService) {\n        let pipTranslate: any = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return (key: string) => {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular.module('pipFiles.Translate', [])\n        .filter('translate', filerTranslate);\n\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass pipImageSliderController{\n\n    private _$attrs;\n    private _$interval: angular.IIntervalService;\n    private _$scope: angular.IScope;\n\n    private _blocks: any[];\n    private _index: number = 0;\n    private _newIndex: number;\n    private _direction: string;\n    private _type: any;\n    private DEFAULT_INTERVAL = 4500;\n    private _interval;\n    private _timePromises;\n    private _throttled: Function;\n\n    public swipeStart: number = 0;\n    public sliderIndex: number;\n    public slideTo: Function;\n\n    constructor(\n        $scope: ng.IScope, \n        $element, \n        $attrs, \n        $parse: ng.IParseService, \n        $timeout: angular.ITimeoutService,\n        $interval: angular.IIntervalService, \n        pipImageSlider) {\n\n        this.sliderIndex = $scope['vm']['sliderIndex'];\n        this._type = $scope['vm']['type']();\n        this._interval = $scope['vm']['interval']();\n        this._$attrs = $attrs;\n        this._$interval = $interval;\n        this._$scope = $scope;\n        $scope['slideTo'] = this.slideToPrivate;\n\n        $element.addClass('pip-image-slider');\n        $element.addClass('pip-animation-' + this._type);\n        \n        this.setIndex();\n\n        $timeout(() => {\n            this._blocks = $element.find('.pip-animation-block');\n            if (this._blocks.length > 0) {\n                $(this._blocks[0]).addClass('pip-show');\n            }\n        });\n\n        this.startInterval();\n\n        this._throttled = _.throttle(() => {\n            pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n            this._index = this._newIndex;\n            this.setIndex();\n        }, 700);\n        \n        if ($attrs.id) { pipImageSlider.registerSlider($attrs.id, $scope) }\n\n        $element.on('$destroy', () => {\n            this.stopInterval();\n            pipImageSlider.removeSlider($attrs.id);\n        });\n\n    }\n\n    public nextBlock() {\n        this.restartInterval();\n        this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n        this._direction = 'next';\n        this._throttled();\n    }\n\n    public prevBlock() {\n        this.restartInterval();\n        this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n        this._direction = 'prev';\n        this._throttled();\n    }\n\n    private slideToPrivate(nextIndex: number) {\n        if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n            return;\n        }\n\n        this.restartInterval();\n        this._newIndex = nextIndex;\n        this._direction = nextIndex > this._index ? 'next' : 'prev';\n        this._throttled();\n    }\n\n    private setIndex() {\n        if (this._$attrs.pipImageIndex) this.sliderIndex = this._index;\n    }\n\n    private startInterval() {\n        this._timePromises = this._$interval(() => {\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }, this._interval || this.DEFAULT_INTERVAL);\n    }\n\n    private stopInterval() {\n        this._$interval.cancel(this._timePromises);\n    }\n\n    private restartInterval() {\n        this.stopInterval();\n        this.startInterval();\n    }\n}\n\n(() => {\n\n    function pipImageSlider() {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n\n    angular\n        .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service'])\n        .directive('pipImageSlider', pipImageSlider);\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ninterface IImageSliderService {\n    registerSlider(sliderId: string, sliderScope): void;\n    removeSlider(sliderId: string): void;\n    getSliderScope(sliderId: string);\n    nextCarousel(nextBlock, prevBlock): void;\n    prevCarousel(nextBlock, prevBlock): void;\n    toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void;\n}\n\nclass ImageSliderService {\n    private _$timeout: angular.ITimeoutService;\n    private ANIMATION_DURATION: number = 550;\n    private _sliders = {};\n\n    constructor($timeout: angular.ITimeoutService) {\n        this._$timeout = $timeout;\n    }\n\n    public registerSlider(sliderId: string, sliderScope): void {\n        this._sliders[sliderId] = sliderScope;\n    }\n            \n    public removeSlider(sliderId: string): void {\n        delete this._sliders[sliderId];\n    }\n\n    public getSliderScope(sliderId: string) {\n        return this._sliders[sliderId];\n    }\n\n    public nextCarousel(nextBlock, prevBlock): void {\n        nextBlock.addClass('pip-next');\n                \n        this._$timeout(() => {\n            nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n            prevBlock.addClass('animated').removeClass('pip-show');\n        }, 100);\n    }\n\n    public prevCarousel(nextBlock, prevBlock): void {\n        this._$timeout(() => {\n            nextBlock.addClass('animated').addClass('pip-show');\n            prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n        }, 100);\n    }\n\n    public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n        let prevBlock = $(blocks[oldIndex]),\n            blockIndex: number = nextIndex,\n            nextBlock = $(blocks[blockIndex]);\n\n        if (type === 'carousel') {\n            $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n            if (direction && (direction === 'prev' || direction === 'next')) {\n                if (direction === 'prev') {\n                    this.prevCarousel(nextBlock, prevBlock);\n                } else {\n                    this.nextCarousel(nextBlock, prevBlock);\n                }\n            } else {\n                if (nextIndex && nextIndex < oldIndex) {\n                    this.prevCarousel(nextBlock, prevBlock);\n                } else {\n                    this.nextCarousel(nextBlock, prevBlock);\n                }\n            }\n        } else {\n            prevBlock.addClass('animated').removeClass('pip-show');\n            nextBlock.addClass('animated').addClass('pip-show');\n        }\n    }\n\n}\n\n\n(() => {\n    'use strict';\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderButton', []);\n\n    thisModule.directive('pipSliderButton',\n        function () {\n            return {\n                scope: {},\n                controller: function ($scope, $element, $parse, $attrs, pipImageSlider) {\n                    var type = $parse($attrs.pipButtonType)($scope),\n                        sliderId = $parse($attrs.pipSliderId)($scope);\n\n                    $element.on('click', () => {\n                        if (!sliderId || !type) {\n                            return;\n                        }\n\n                        pipImageSlider.getSliderScope(sliderId).vm[type + 'Block']();\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderIndicator', []);\n\n    thisModule.directive('pipSliderIndicator',\n        function () {\n            return {\n                scope: false,\n                controller: ($scope, $element, $parse, $attrs, pipImageSlider) => {\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\n\n                    $element.css('cursor', 'pointer');\n                    $element.on('click',  () => {\n                        if (!sliderId || slideTo && slideTo < 0) {\n                            return;\n                        }\n                        pipImageSlider.getSliderScope(sliderId).vm.slideToPrivate(slideTo);\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ndeclare var marked: any;\n\nfunction Config($injector) {\n    const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n    if (pipTranslate) {\n        pipTranslate.setTranslations('en', {\n            'MARKDOWN_ATTACHMENTS': 'Attachments:',\n            'checklist': 'Checklist',\n            'documents': 'Documents',\n            'pictures': 'Pictures',\n            'location': 'Location',\n            'time': 'Time'\n        });\n        pipTranslate.setTranslations('ru', {\n            'MARKDOWN_ATTACHMENTS': ':',\n            'checklist': '',\n            'documents': '',\n            'pictures': '',\n            'location': '',\n            'time': ''\n        });\n    }\n}\n\nclass MarkdownController {\n    private _pipTranslate;\n    private _$parse: angular.IParseService;\n    private _$scope: angular.IScope;\n    private _$injector;\n    private _$element;\n    private _$attrs;\n    private _text;\n    private _isList;\n    private _clamp;\n    private _rebind;\n\n    constructor(\n        $scope: angular.IScope,\n        $parse: angular.IParseService,\n        $attrs,\n        $element,\n        $injector\n    ) {\n        this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        this._$parse = $parse;\n        this._$scope = $scope;\n        this._$injector = $injector;\n        this._$element = $element;\n        this._$attrs = $attrs;\n        this._text = $scope['$ctrl']['text'];\n        this._isList = $scope['$ctrl']['isList'];\n        this._clamp = $scope['$ctrl']['clamp'];\n        this._rebind = $scope['$ctrl']['rebind'];\n    }\n\n    public $postLink() {\n        // Fill the text\n        this.bindText(this._text);\n\n        this._$scope.$on('pipWindowResized', function () {\n            if (this.bindText) this.bindText(this._text(this._$scope));\n        });\n\n        // Add class\n        this._$element.addClass('pip-markdown');\n\n    }\n\n    public $onChanges(changes: any) {\n        const newText = changes['text'].currentValue;\n\n        if (this._rebind) {\n            if (this._text !== newText) {\n                this._text = newText;\n                this.bindText(this._text);\n            }\n        }\n    }\n\n    private describeAttachments(array) {\n        var attachString = '',\n            attachTypes = [];\n\n        _.each(array, function (attach) {\n            if (attach.type && attach.type !== 'text') {\n                if (attachString.length === 0 && this._pipTranslate) {\n                    attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                }\n\n                if (attachTypes.indexOf(attach.type) < 0) {\n                    attachTypes.push(attach.type);\n                    attachString += attachTypes.length > 1 ? ', ' : ' ';\n                    if (this._pipTranslate)\n                        attachString += this._pipTranslate.translate(attach.type);\n                }\n            }\n        });\n\n        return attachString;\n    }\n\n    private bindText(value) {\n        var textString, isClamped, height, options, obj;\n\n        if (_.isArray(value)) {\n            obj = _.find(value, function (item: any) {\n                return item.type === 'text' && item.text;\n            });\n\n            textString = obj ? obj.text : this.describeAttachments(value);\n        } else {\n            textString = value;\n        }\n\n        isClamped = this._$attrs.pipLineCount && _.isNumber(this._clamp);\n        isClamped = isClamped && textString && textString.length > 0;\n        options = {\n            gfm: true,\n            tables: true,\n            breaks: true,\n            sanitize: true,\n            pedantic: true,\n            smartLists: true,\n            smartypents: false\n        };\n        textString = marked(textString || '', options);\n        if (isClamped) {\n            height = 1.5 * this._clamp;\n        } \n        // Assign value as HTML\n        this._$element.html('<div' + (isClamped ? this._isList ? 'class=\"pip-markdown-content ' +\n            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n            ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this._isList ?\n            ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n        this._$element.find('a').attr('target', 'blank');\n        if (!this._isList && isClamped) {\n            this._$element.append('<div class=\"pip-gradient-block\"></div>');\n        }\n    }\n}\n\n(function () {\n    'use strict';\n\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: {\n            text: '<pipText',\n            isList: '<?pipList',\n            clamp: '<?pipLineCount',\n            rebind: '<?pipRebind'\n        }\n    }\n\n    angular.module('pipMarkdown', ['ngSanitize'])\n        .run(Config)\n        .component('pipMarkdown', MarkdownComponent);\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n\nexport class PopoverController {\n  \n    private _$timeout;\n    private _$scope: ng.IScope;\n\n    public timeout;\n    public backdropElement;\n    public content;\n    public element;\n    public calcH: boolean;\n\n    public templateUrl;\n    public template\n\n    public cancelCallback: Function;\n\n    constructor( \n        $scope: ng.IScope,\n        $rootScope,\n        $element,\n        $timeout, \n        $compile\n       ) {\n           //$scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \n           this._$timeout = $timeout;\n           this.templateUrl = $scope['params'].templateUrl;\n           this.template = $scope['params'].template;\n           this.timeout = $scope['params'].timeout;\n           this.element = $scope['params'].element;\n           this.calcH = $scope['params'].calcHeight;\n           this.cancelCallback = $scope['params'].cancelCallback;\n           this.backdropElement = $('.pip-popover-backdrop');\n           this.backdropElement.on('click keydown scroll',() =>{ this.backdropClick()});\n           this.backdropElement.addClass($scope['params'].responsive !== false ? 'pip-responsive' : '');\n\n           $timeout(() => {\n                this.position();\n                if ($scope['params'].template) {\n                    this.content = $compile($scope['params'].template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n                }\n\n                this.init();\n           });\n\n           $timeout(() => { this.calcHeight(); }, 200);\n           $rootScope.$on('pipPopoverResize', () => { this.onResize()});\n           $(window).resize(() => { this.onResize() });\n\n    }\n\n    public backdropClick() {\n        if (this.cancelCallback) {\n            this.cancelCallback();\n        }\n        this.closePopover();\n    }\n\n    public closePopover() {\n        this.backdropElement.removeClass('opened');\n        this._$timeout(() => {\n            this.backdropElement.remove();\n        }, 100);\n    }\n\n    public onPopoverClick($e) {\n        $e.stopPropagation();\n    }\n\n\n    private init() {\n        this.backdropElement.addClass('opened');\n        $('.pip-popover-backdrop').focus();\n        if (this.timeout) {\n            this._$timeout(function () {\n                this.closePopover();\n            }, this.timeout);\n        }\n    }\n\n    private position() {\n        if (this.element) {\n            let element = $(this.element),\n                pos = element.offset(),\n                width = element.width(),\n                height = element.height(),\n                docWidth = $(document).width(),\n                docHeight = $(document).height(),\n                popover = this.backdropElement.find('.pip-popover');\n\n            if (pos) {\n                popover\n                    .css('max-width', docWidth - (docWidth - pos.left))\n                    .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                    .css('left', pos.left - popover.width() + width / 2)\n                    .css('top', pos.top + height + 16);\n            }\n        }\n    }\n\n    private onResize() {\n        this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n        this.position();\n        this.calcHeight();\n    }\n\n    private calcHeight() {\n        if (this.calcH === false) { return; }\n        let popover = this.backdropElement.find('.pip-popover'),\n        title = popover.find('.pip-title'),\n        footer = popover.find('.pip-footer'),\n        content = popover.find('.pip-content'),\n        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n        content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n    }\n}\n\n(() => {\n    function pipPopover($parse: any) {\n        \"ngInject\";\n\n          return {\n                restrict: 'EA',\n                scope: true,\n                templateUrl: 'popover/popover.html',\n                controller: PopoverController,\n                controllerAs: 'vm'\n            };\n    }\n\n    angular\n        .module('pipPopover', ['pipPopover.Service'])\n        .directive('pipPopover', pipPopover);\n\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nexport class PopoverService {\n  \n    private _$timeout;\n    private _$scope: ng.IScope;\n    private _$compile;\n    private _$rootScope: ng.IRootScopeService;\n\n    public popoverTemplate: string;\n\n    constructor( \n        $compile,\n        $rootScope, \n        $timeout\n       ) {\n           this._$compile = $compile;\n           this._$rootScope = $rootScope;\n           this._$timeout = $timeout;\n           this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n    }\n\n    public show(p) {\n        let element, scope: ng.IScope, params, content;\n            \n        element = $('body');\n        if (element.find('md-backdrop').length > 0) { return; }\n        this.hide();\n        scope = this._$rootScope.$new();\n        params = p && _.isObject(p) ? p : {};\n        scope['params'] = params;\n        scope['locals'] = params.locals;\n        content = this._$compile(this.popoverTemplate)(scope);\n        element.append(content);\n    }\n\n    public hide() {\n        let backdropElement = $('.pip-popover-backdrop');\n        backdropElement.removeClass('opened');\n        this._$timeout(() => {\n            backdropElement.remove();\n        }, 100);\n    }\n\n    public resize() {\n        this._$rootScope.$broadcast('pipPopoverResize');\n    }\n}\n\n\n(() => {\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass RoutingController {\n    private _image: any;\n    private _$element;\n\n    public logoUrl: string;\n    public showProgress: Function;\n\n    constructor( \n        $scope: ng.IScope,\n        $element)\n    {\n\n        this._$element = $element;\n        this.showProgress = $scope['vm']['showProgress'];\n        this.logoUrl = $scope['vm']['logoUrl'];    \n    }\n\n    public $postLink() {\n        this._image = this._$element.find('img'); \n        this.loadProgressImage();\n    }\n\n    public loadProgressImage() {\n        if (this.logoUrl) {\n            this._image.attr('src', this.logoUrl);\n        }\n    }\n}\n\n\n(() => {\n\n    const RoutingProgress = {\n            replace: true,\n            bindings: {\n                showProgress: '&',\n                logoUrl: '@'\n            },\n            templateUrl: 'progress/routing_progress.html',\n            controller: RoutingController,\n            controllerAs: 'vm'\n    }\n\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ninterface IPipToast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n\nclass ToastController {\n    private _$mdToast: angular.material.IToastService;\n    private _pipErrorDetailsDialog;\n\n    public message: string;\n    public actions: string[];\n    public toast: IPipToast;\n    public actionLenght: number;\n    public showDetails: boolean;\n\n    constructor( \n        $mdToast: angular.material.IToastService, \n        toast: IPipToast, \n        $injector\n       ) {\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \n                ? $injector.get('pipErrorDetailsDialog') : null;\n            this._$mdToast = $mdToast;\n            this.message = toast.message;\n            this.actions = toast.actions;\n            this.toast = toast;\n            \n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n\n    }\n\n     public onDetails(): void {\n        this._$mdToast.hide();\n        if (this._pipErrorDetailsDialog) {\n            this._pipErrorDetailsDialog.show(\n            {\n                error: this.toast.error,\n                ok: 'Ok'\n            },\n            angular.noop,\n            angular.noop\n            );\n        }\n    }\n\n    public onAction(action): void {\n        this._$mdToast.hide(\n        {\n            action: action,\n            id: this.toast.id,\n            message: this.message\n        });\n\n    }\n}\n\ninterface IToastService {\n    showNextToast(): void;\n    showToast(toast: IPipToast): void;\n    addToast(toast): void;\n    removeToasts(type: string): void;\n    getToastById(id: string): IPipToast;\n    removeToastsById(id: string): void;\n    onClearToasts(): void;\n    showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string);\n    showMessage(message: string, successCallback, cancelCallback, id?: string);\n    showError(message: string, successCallback, cancelCallback, id: string, error: any);\n    hideAllToasts(): void;\n    clearToasts(type?: string);\n}\n\nclass ToastService implements IToastService {\n    private SHOW_TIMEOUT: number = 20000;\n    private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n    private toasts: IPipToast[] = [];\n    private currentToast: any;\n    private sounds: any = {};\n\n    private _$mdToast: angular.material.IToastService;\n\n    constructor(\n        $rootScope: ng.IRootScopeService, \n        $mdToast: angular.material.IToastService) {\n\n        this._$mdToast = $mdToast;\n\n        $rootScope.$on('$stateChangeSuccess', () => {this.onStateChangeSuccess()});\n        $rootScope.$on('pipSessionClosed', () => {this.onClearToasts()});\n        $rootScope.$on('pipIdentityChanged', () => {this.onClearToasts()});\n    }\n\n    public showNextToast(): void {\n        let toast: IPipToast;\n\n        if (this.toasts.length > 0) {\n            toast = this.toasts[0];\n            this.toasts.splice(0, 1);\n            this.showToast(toast);\n        }\n    }\n\n     // Show toast\n     public showToast(toast: IPipToast): void {\n        this.currentToast = toast;\n\n        this._$mdToast.show({\n            templateUrl: 'toast/toast.html',\n            hideDelay: toast.duration || this.SHOW_TIMEOUT,\n            position: 'bottom left',\n            controller: ToastController,\n            controllerAs: 'vm',\n            locals: {\n                toast: this.currentToast,\n                sounds: this.sounds\n            }\n        })\n        .then( \n            (action: string) => {\n                this.showToastOkResult(action);\n            },\n            (action: string) => {\n                this.showToastCancelResult(action);\n            }\n        );\n    }\n\n    private showToastCancelResult(action: string):void {\n        if (this.currentToast.cancelCallback) {\n            this.currentToast.cancelCallback(action);\n        }\n        this.currentToast = null;\n        this.showNextToast();\n    }\n\n    private showToastOkResult(action: string): void {\n        if (this.currentToast.successCallback) {\n            this.currentToast.successCallback(action);\n        }\n        this.currentToast = null;\n        this.showNextToast();\n    }\n\n    public addToast(toast): void {\n        if (this.currentToast && toast.type !== 'error') {\n            this.toasts.push(toast);\n        } else {\n            this.showToast(toast);\n        }\n    }\n\n    public removeToasts(type: string): void {\n        let result: any[] = [];\n        _.each(this.toasts, (toast) => {\n            if (!toast.type || toast.type !== type) {\n                result.push(toast);\n            }\n        });\n        this.toasts = _.cloneDeep(result);\n    }\n\n    public removeToastsById(id: string): void {\n        _.remove(this.toasts, {id: id});\n    }\n\n    public getToastById(id: string): IPipToast {\n        return _.find(this.toasts, {id: id});\n    }\n\n    public onStateChangeSuccess() {}\n\n    public onClearToasts(): void {\n        this.clearToasts(null);\n    }\n\n    public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n        this.addToast({\n            id: id || null,\n            type: 'notification',\n            message: message,\n            actions: actions || ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback,\n            duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n        });\n    }\n\n    public showMessage(message: string, successCallback, cancelCallback, id?: string) {\n        this.addToast({\n            id: id || null,\n            type: 'message',\n            message: message,\n            actions: ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback\n        });\n    }\n\n     public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n        this.addToast({\n            id: id || null,\n            error: error,\n            type: 'error',\n            message: message || 'Unknown error.',\n            actions: ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback\n        });\n    }\n\n    public hideAllToasts(): void {\n        this._$mdToast.cancel();\n        this.toasts = [];\n    }\n\n    public clearToasts(type?: string) {\n        if (type) {\n            // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n            this.removeToasts(type);\n        } else {\n            this._$mdToast.cancel();\n            this.toasts = [];\n        }\n    }\n\n}\n\n\n(() => {\n    angular\n        .module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n        .service('pipToasts', ToastService);\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{vm.class}}\" pip-selected=\"vm.currentColorIndex\" pip-enter-space-press=\"vm.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in vm.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"vm.selectColor($index)\" aria-label=\"color\" ng-disabled=\"vm.disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == vm.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"vm.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"vm.onPopoverClick($event)\" ng-include=\"vm.templateUrl\"></div><div ng-if=\"vm.template\" class=\"pip-popover\" ng-click=\"vm.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"vm.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","{\n    interface ITagList {\n        tags: string[];\n        type: string;\n        typeLocal: string;\n    }\n\n    class TagListController implements ITagList {\n        public rebind: string;\n\n        public tags: string[];\n        public type: string;\n        public typeLocal: string;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService\n        ) {\n\n            // Set tags\n            $element.css('display', 'block');\n            $element.addClass('pip-tag-list');\n        }\n\n        private toBoolean(value: string): boolean {\n            if (_.isNull(value) || _.isUndefined(value)) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        public $onChanges(changes: TagListChanges) {\n            if (this.rebind && changes.tags) {\n                this.tags = changes.tags.currentValue;\n            }\n\n        }\n\n    }\n\n    interface ITagListBindings {\n        [key: string]: any;\n\n        tags: any,\n        type: any,\n        typeLocal: any,\n        rebuid: any\n    }\n\n    const TagListBindings: ITagListBindings = {\n        tags: '<pipTags',\n        type: '<pipType',\n        typeLocal: '<pipTypeLocal',\n        rebuid: '<pipRebind'\n    }\n\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        tags: ng.IChangesObject<string[]>;\n        type: ng.IChangesObject<string>;\n        typeLocal: ng.IChangesObject<string>;\n        rebuid: ng.IChangesObject<boolean>\n    }\n\n    const TagList = {\n        bindings: TagListBindings,\n        templateUrl: 'tag_list/TagList.html',\n        controller: TagListController\n    }\n\n    angular\n        .module('pipTagList', ['pipList.Translate'])\n        .component('pipTagList', TagList)\n\n}","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","'use strict';\n\nangular.module('pipDateTime', [\n    'pipDateTime.Service', 'pipDateTime.Filter'\n]);\n","'use strict';\n\nfunction formatTimeFilter(pipDateTime: any) {\n    \"ngInject\";\n\n    return function (value: any, format: string): string {\n        return pipDateTime.formatTime(value, format);\n    }\n}\n\nfunction formatDateOptionalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, format: string): string {\n        return pipDateTime.formatDateOptional(value, format);\n    }\n}\n\nfunction formatLongDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDate(value);\n    }\n}\n\nfunction formatShortDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDate(value);\n    }\n}\n\nfunction formatMiddleDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMiddleDate(value);\n    }\n}\n\nfunction formatMonthFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any) {\n        return pipDateTime.formatMonth(value);\n    }\n}\n\nfunction formatLongMonthFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongMonth(value);\n    }\n}\n\nfunction formatYearFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatYear(value);\n    }\n}\n\nfunction formatWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatWeek(value);\n    }\n}\n\nfunction formatShortWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortWeek(value);\n    }\n}\n\nfunction formatShortDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDateTime(value);\n    }\n}\n\nfunction formatMiddleDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMiddleDateTime(value);\n    }\n}\n\nfunction formatLongDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDateTime(value);\n    }\n}\n\nfunction formatShortDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatShortDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatMiddleDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatMiddleDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatLongDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatLongDateLongTime(value, firstTime);\n    }\n}\n\nfunction bbFormatDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.bbFormatDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatFullDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatFullDateTime(value);\n    }\n}\n\nfunction formatShortTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortTime(value);\n    }\n}\n\nfunction formatLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongTime(value);\n    }\n}\n\nfunction formatShortDayOfWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDayOfWeek(value);\n    }\n}\n\nfunction formatLongDayOfWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDayOfWeek(value);\n    }\n}\n\nfunction formatLongMonthDayFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongMonthDay(value);\n    }\n}\n\nfunction formatShortMonthDayFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortMonthDay(value);\n    }\n}\n\nfunction formatDateRangeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value1: any, value2: any): string {\n        return pipDateTime.formatDateRange(value1, value2);\n    }\n}\n\nfunction formatDateTimeRangeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value1: any, value2: any): string {\n        return pipDateTime.formatDateTimeRange(value1, value2);\n    }\n}\n\nfunction formatISOWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatISOWeek(value);\n    }\n}\n\nfunction formatShortISOWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortISOWeek(value);\n    }\n}\n\nfunction formatISOWeekOrdinalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatISOWeekOrdinal(value);\n    }\n}\n\nfunction formatDateYFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatDateY(value);\n    }\n}\n\nfunction formatLongDateYFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDateY(value);\n    }\n}\n\nfunction formatTodayDateLongTimeLongFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateLongTimeLong(value);\n    }\n}\n\nfunction formatTodayDateShortTimeLongFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateShortTimeLong(value);\n    }\n}\n\nfunction formatTodayDateLongTimeShortFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateLongTimeShort(value);\n    }\n}\n\nfunction formatTodayDateShortTimeShortFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateShortTimeShort(value);\n    }\n}\n\nfunction formatMillisecondsToSecondsFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMillisecondsToSeconds(value);\n    }\n}\n\nfunction formatElapsedIntervalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, start: any): string {\n        return pipDateTime.formatElapsedInterval(value, start);\n    }\n}\n\nfunction getDateJSONFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.getDateJSON(value);\n    }\n}\n\nangular\n    .module('pipDateTime.Filter', [])\n    .filter('formatTime', formatTimeFilter)\n    .filter('formatDateOptional', formatDateOptionalFilter)\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\n    .filter('formatShortDate', formatShortDateFilter)\n    .filter('formatMiddleDate', formatMiddleDateFilter)\n    .filter('formatLongDate', formatLongDateFilter)\n    .filter('formatMonth', formatMonthFilter)\n    .filter('formatLongMonth', formatLongMonthFilter)\n    .filter('formatYear', formatYearFilter)\n    .filter('formatWeek', formatWeekFilter)\n    .filter('formatShortWeek', formatShortWeekFilter)\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)    \n    .filter('formatLongDateTime', formatLongDateTimeFilter)\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)    \n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)    \n    .filter('formatFullDateTime', formatFullDateTimeFilter)\n    .filter('formatShortTime', formatShortTimeFilter)\n    .filter('formatLongTime', formatLongTimeFilter)\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\n    .filter('formatDateRange', formatDateRangeFilter)\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\n    .filter('formatISOWeek', formatISOWeekFilter)\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\n    .filter('formatDateY', formatDateYFilter)\n    .filter('formatLongDateY', formatLongDateYFilter)\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\n","'use strict';\n\nexport class DateTimeConfig {\n    timeZone: number;\n}\n\nexport interface IDateTimeService {\n    readonly config: DateTimeConfig;\n    useTimeZone(offset: number);\n\n    bbFormatDateLongTime(value: any, firstTime?: boolean): string; \n    \n    formatTime(value: any, format: string): string;\n    formatDateOptional(value: any, format: string): string;\n    formatShortDate(value: any): string;\n    formatMiddleDate(value: any): string;\n    formatLongDate(value: any): string;\n    formatMonth(value: any): string;\n    formatLongMonth(value: any): string;\n    formatYear(value: any): string;\n    formatWeek(value: any): string;\n    formatShortWeek(value: any): string;\n    formatShortDateTime(value: any): string;\n    formatMiddleDateTime(value: any): string;    \n    formatLongDateTime(value: any): string;\n    formatFullDateTime(value: any): string;\n    formatShortDateLongTime(value: any, firstTime?: boolean): string;\n    formatMiddleDateLongTime(value: any, firstTime?: boolean): string;    \n    formatLongDateLongTime(value: any, firstTime?: boolean): string;    \n    formatShortTime(value: any): string;\n    formatLongTime(value: any): string;\n    formatShortDayOfWeek(value: any): string;\n    formatLongDayOfWeek(value: any): string;\n    formatLongMonthDay(value: any): string;\n    formatShortMonthDay(value: any): string;\n    formatDateRange(value1: any, value2: any): string;\n    formatDateTimeRange(value1: any, value2: any): string;\n    formatISOWeek(value: any): string;\n    formatShortISOWeek(value: any): string;\n    formatISOWeekOrdinal(value: any): string;\n    formatDateY(value: any): string;\n    formatLongDateY(value: any): string;\n    formatTodayDateLongTimeLong(value: any): string;\n    formatTodayDateShortTimeLong(value: any): string;\n    formatTodayDateLongTimeShort(value: any): string;\n    formatTodayDateShortTimeShort(value: any): string;\n    formatMillisecondsToSeconds(value: any): string;\n    formatElapsedInterval(value: any, start: any): string;\n\n    getDateJSON(date: any): string;\n    getNextStart(value: any, category: string): any;\n    getPrevStart(value: any, category: string): any;\n    getNowStart(category: string): any;\n\n    addHours(value: any, hours: number): any;\n    toStartDay(value: any): any;\n    toEndDay(value: any, offset: number): any;\n    toStartWeek(value: any): any;\n    toEndWeek(value: any, offset: number): any;\n    toStartMonth(value: any): any;\n    toEndMonth(value: any, offset: number): any;\n    toStartYear(value: any): any;\n    toEndYear(value: any, offset: number): any;\n \n}\n\nexport interface IDateTimeProvider extends IDateTimeService, ng.IServiceProvider {\n\n}\n\nclass DateTime implements IDateTimeService {\n    private _config: DateTimeConfig;\n    protected _momentRanged = new Array('year', 'month', 'week', 'isoweek', 'day');\n    protected _defaultFormat = 'LL'\n\n    private isUndefinedOrNull(value: any): boolean {\n        return angular.isUndefined(value) || value === null;\n    }\n\n    private getRange(value: string): string {\n        if (this.isUndefinedOrNull(value)) {\n            return 'day';\n        }\n\n        let index = this._momentRanged.indexOf(value)\n\n        if (index < 0) {\n            return 'day'\n        } else {\n            return this._momentRanged[index];\n        }\n    }\n\n    private getOperationRange(value: string): string {\n        if (this.isUndefinedOrNull(value)) {\n            return 'day';\n        }\n\n        let range = value == 'isoweek' ? 'week' : value,\n            index = this._momentRanged.indexOf(range)\n\n        if (index < 0) {\n            return 'day'\n        } else {\n            return this._momentRanged[index];\n        }\n    }\n\n    private formatDateTime(value: any, basicFormat: string): string {\n        var date: any,\n            formatTpl: string;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        formatTpl = basicFormat ? basicFormat : this._defaultFormat;\n\n        return date.format(formatTpl);\n    }\n\n    private formatDateTimeY(value: any, basicFormat: string): string {\n        var date: any,\n            nowDate: any,\n            formatMoment: string;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n        formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\n\n        if (nowDate.year() == date.year()) {\n            formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n        }\n\n        return date.format(formatMoment);\n    }\n\n    private formatDay(value: any, basicFormat: string): string {\n        var date: any,\n            format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\n            formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.format(formatMonthYearless);\n    }\n\n    private formatMonthDay(value: any, basicFormat: string): string {\n        var date: any,\n            format = basicFormat ? basicFormat : this._defaultFormat,\n            formatLL = moment.localeData().longDateFormat(format),\n            formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.format(formatYearlessLL);\n    }\n\n//  use timezone not testing\n    private formatRange(value1: any, value2: any, basicFormat: string): string {\n        var dateStart: any,\n            dateEnd: any,\n            format = basicFormat ? basicFormat : this._defaultFormat;\n\n        if (this.isUndefinedOrNull(value1)) {\n            dateStart = null;\n        } else {\n            dateStart = (this._config.timeZone != undefined && this._config.timeZone != null) ?  moment(value1).utcOffset(this._config.timeZone) : moment(value1);\n        }\n        if (this.isUndefinedOrNull(value2)) {\n            dateEnd = null;\n        } else {\n            dateEnd = (this._config.timeZone != undefined && this._config.timeZone != null) ?  moment(value2).utcOffset(this._config.timeZone) : moment(value2);\n        }\n\n        if (dateStart === null && dateEnd === null) return '';\n\n        if (dateStart === null) {\n            return dateEnd.format(basicFormat);\n        } else if (dateEnd === null || dateStart.isSame(dateEnd)) {\n            return dateStart.format(basicFormat);;\n        }\n\n        if (dateStart.isAfter(dateEnd)) {\n            // todo localization\n            throw new Error('Date range error. Start date is more than end date.');\n        }\n\n        if (dateStart.year() == dateEnd.year()) {\n            if (dateStart.month() == dateEnd.month()) {\n                return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            } else {\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            }\n        } else {\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\n        }\n    }\n\n    private toStartRange(value: any, range: string): any {\n        var date: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.startOf(range).toDate();\n    }\n\n    private toEndRange(value: any, range: string, offset: number): any {\n        var date: any,\n            result: any,\n            mssOffset: number;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (!angular.isNumber(offset)) {\n            mssOffset = 0;\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        if (mssOffset) {\n            result = date.startOf(range).add(mssOffset, 'milliseconds');\n        } else {\n            result = date.startOf(range);\n        }\n\n        return date.startOf(range).toDate();\n    }\n\n    private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\n        var date: any,\n            result: string,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n        if (firstTime) {\n            result = date.format(formatTime) + ' ' + date.format(formatDate);\n        } else {\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\n        }\n\n        return result;\n    }\n\n    private toTodayDate(value: any, formatDate: string, formatTime: string): any {\n        var date: any,\n            result: string,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone != undefined && this._config.timeZone != null) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n\n        if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day()) {\n            result = date.format(formatTime);\n        } else {\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\n        }\n\n        return result;\n    }\n\n    public constructor(config: DateTimeConfig) { \n        this._config = config || { timeZone: null };\n    };\n\n    public get config(): DateTimeConfig {\n        return this._config;\n    }\n\n    public useTimeZone(offset: number) {\n        this._config.timeZone = offset;\n    }\n    // formating functions \n    // -------------------\n\n    // todo Optional\n    public formatTime(value: any, format: string): string {\n        return this.formatDateTime(value, 'LLL');\n    }\n    // todo Optional\n    public formatDateOptional(value: any, format: string): string {\n        return this.formatDateTime(value, 'L');\n    }\n\n    // date formats\n    public formatShortDate(value: any): string {\n        return this.formatDateTime(value, 'L');\n    }\n\n    public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime); \n    }\n\n    public formatMiddleDate(value: any): string {\n        return this.formatDateTime(value, 'll');\n    }\n\n    public formatLongDate(value: any): string {\n        return this.formatDateTime(value, 'LL');\n    }\n\n    public formatMonth(value: any): string {\n        return this.formatDateTime(value, 'MM');\n    }\n\n    public formatLongMonth(value: any): string {\n        return this.formatDateTime(value, 'MMMM');\n    }\n\n    public formatYear(value: any): string {\n        return this.formatDateTime(value, 'YYYY');\n    }\n\n    public formatWeek(value: any): string {\n        return this.formatDateTime(value, 'ww');\n    }\n\n    public formatShortWeek(value: any): string {\n        return this.formatDateTime(value, 'w');\n    }\n\n    public formatShortDateTime(value: any): string {\n        return this.toDateWithTime(value, 'L', 'LT'); \n    }\n\n    public formatMiddleDateTime(value: any): string {\n        return this.formatDateTime(value, 'lll');\n    }\n\n    public formatLongDateTime(value: any): string {\n        return this.formatDateTime(value, 'LLL');\n    }\n\n    public formatFullDateTime(value: any): string {\n        return this.formatDateTime(value, 'LLLL');\n    }\n\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'L', 'LTS', firstTime); \n    }\n\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'll', 'LTS', firstTime);\n    }\n\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\n    }\n\n    public formatShortTime(value: any): string {\n        return this.formatDateTime(value, 'LT');\n    }\n\n    public formatLongTime(value: any): string {\n        return this.formatDateTime(value, 'LTS');\n    }\n\n    public formatShortDayOfWeek(value: any): string {\n        return this.formatDateTime(value, 'dd');\n    }\n\n    public formatLongDayOfWeek(value: any): string {\n        return this.formatDateTime(value, 'dddd');\n    }\n\n    // public formatTimeNumber(value: any): string {\n    //     return this.formatDateTime(value, 'LLL');\n    // }\n\n    // public formatLongTimeNumber(value: any): string {\n    //     return this.formatDateTime(value, 'LLLL');\n    // }\n\n    ///-----------------\n\n    public formatLongMonthDay(value: any): string {\n        return this.formatMonthDay(value, 'LL');\n    }\n\n    public formatShortMonthDay(value: any): string {\n        return this.formatMonthDay(value, 'L');\n    }\n\n    public formatDateRange(value1: any, value2: any): string {\n        return this.formatRange(value1, value2, 'LL');\n    }\n\n    public formatDateTimeRange(value1: any, value2: any): string {\n        return this.formatRange(value1, value2, 'LLL');\n    }\n\n    // iso function\n    // --------------\n\n    public formatISOWeek(value: any): string {\n        return this.formatDateTime(value, 'WW');\n    }\n\n    public formatShortISOWeek(value: any): string {\n        return this.formatDateTime(value, 'W');\n    }\n\n    public formatISOWeekOrdinal(value: any): string {\n        return this.formatDateTime(value, 'Wo');\n    }\n    // special formats \n    // --------------\n\n    // year option displays if the current year is not equal to, the date of \n    public formatDateY(value: any): string {\n        return this.formatDateTimeY(value, 'L');\n    }\n\n    // year option displays if the current year is not equal to, the date of\n    public formatLongDateY(value: any): string {\n        return this.formatDateTimeY(value, 'LL');\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateLongTimeLong(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LTS')\n    }\n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateShortTimeLong(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LTS')\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateLongTimeShort(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LT')\n    }\n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateShortTimeShort(value: any): string {\n        return this.toTodayDate(value, 'll', 'LT')\n    }\n\n    // todo\n    public formatMillisecondsToSeconds(value: any): string {\n        return '';\n    }\n\n    // todo\n    public formatElapsedInterval(value: any, start: any): string {\n        var date: any,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n        if (this.isUndefinedOrNull(start)) {\n            nowDate = moment();\n        } else {\n            nowDate = moment(start);\n        }\n\n        date = moment(value);\n        if (!date.isValid() || !nowDate.isValid()) {\n            return '';\n        }\n\n        return moment(date).fromNow(nowDate);\n    }\n\n    public getDateJSON(date: any): string {\n        return JSON.stringify(moment(date));\n    }\n\n    // navigation functions \n    // ------------------\n\n    public getNextStart(value: any, category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category);\n        result = moment(date).startOf(range).add(this.getOperationRange(range));\n\n        return result.toDate();\n    }\n\n    public getPrevStart(value: any, category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category);\n        result = moment(date).startOf(range).add(-1, this.getOperationRange(range));\n\n        return result.toDate();\n    }\n\n    public getNowStart(category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        date = moment();\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category)\n        result = moment(date).startOf(range);\n\n        return result.toDate();\n    }\n\n    public addHours(value: any, hours: number): any {\n        var date: any;\n\n        if (this.isUndefinedOrNull(value) || !angular.isNumber(hours)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.add(hours, 'hours').toDate();\n    }\n\n    public toStartDay(value: any): any {\n        return this.toStartRange(value, 'day');\n    }\n\n    public toEndDay(value: any, offset: number): any {\n        return this.toEndRange(value, 'day', offset);\n    }\n\n    public toStartWeek(value: any): any {\n        return this.toStartRange(value, 'week');\n    }\n\n    public toEndWeek(value: any, offset: number): any {\n        return this.toEndRange(value, 'week', offset);\n    }\n\n    public toStartMonth(value: any): any {\n        return this.toStartRange(value, 'month');\n    }\n\n    public toEndMonth(value: any, offset: number): any {\n        return this.toEndRange(value, 'month', offset);\n    }\n\n    public toStartYear(value: any): any {\n        return this.toStartRange(value, 'year');\n    }\n\n    public toEndYear(value: any, offset: number): any {\n        return this.toEndRange(value, 'year', offset);\n    }\n\n}\n\nclass DateTimeService {\n    private _datetime: DateTime;\n    private _config: DateTimeConfig;\n\n    public constructor(\n        datetime: DateTime,\n    ) {\n        this._config = { timeZone: null};\n        this._datetime = datetime;\n    }\n\n    // todo Optional\n    public useTimeZone(offset: number): void {\n        return this._datetime.useTimeZone(offset);\n    }\n\n    // todo Optional\n    public formatTime(value: any, format: string): string {\n        return this._datetime.formatTime(value, format);\n    }\n\n    // todo Optional\n    public formatDateOptional(value: any, format: string): string {\n        return this._datetime.formatDateOptional(value, format);\n    }\n\n    public formatShortDate(value: any): string {\n        return this._datetime.formatShortDate(value);\n    }\n\n    public formatMiddleDate(value: any): string {\n        return this._datetime.formatMiddleDate(value);\n    }\n\n    public formatLongDate(value: any): string {\n        return this._datetime.formatLongDate(value);\n    }\n\n    public formatMonth(value: any): string {\n        return this._datetime.formatMonth(value);\n    }\n\n    public formatLongMonth(value: any): string {\n        return this._datetime.formatLongMonth(value);\n    }\n\n    public formatYear(value: any): string {\n        return this._datetime.formatYear(value);\n    }\n\n    public formatWeek(value: any): string {\n        return this._datetime.formatWeek(value);\n    }\n\n    public formatShortWeek(value: any): string {\n        return this._datetime.formatShortWeek(value);\n    }\n\n    public formatShortDateTime(value: any): string {\n        return this._datetime.formatShortDateTime(value);\n    }\n\n    public formatMiddleDateTime(value: any): string {\n        return this._datetime.formatMiddleDateTime(value);\n    }\n\n    public formatLongDateTime(value: any): string {\n        return this._datetime.formatLongDateTime(value);\n    }\n\n    public formatFullDateTime(value: any): string {\n        return this._datetime.formatFullDateTime(value);\n    }\n\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatShortDateLongTime(value, firstTime);\n    }\n\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatMiddleDateLongTime(value, firstTime);\n    }\n\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatLongDateLongTime(value, firstTime);\n    }\n\n    public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.bbFormatDateLongTime(value, firstTime);\n    }\n\n    public formatShortTime(value: any): string {\n        return this._datetime.formatShortTime(value);\n    }\n\n    public formatLongTime(value: any): string {\n        return this._datetime.formatLongTime(value);\n    }\n\n    public formatShortDayOfWeek(value: any): string {\n        return this._datetime.formatShortDayOfWeek(value);\n    }\n\n    public formatLongDayOfWeek(value: any): string {\n        return this._datetime.formatLongDayOfWeek(value);\n    }\n\n    public formatLongMonthDay(value: any): string {\n        return this._datetime.formatLongMonthDay(value);\n    }\n\n    public formatShortMonthDay(value: any): string {\n        return this._datetime.formatShortMonthDay(value);\n    }\n\n    public formatDateRange(value1: any, value2: any): string {\n        return this._datetime.formatDateRange(value1, value2);\n    }\n\n    public formatDateTimeRange(value1: any, value2: any): string {\n        return this._datetime.formatDateTimeRange(value1, value2);\n    }\n\n    // iso function\n    // --------------\n\n    public formatISOWeek(value: any): string {\n        return this._datetime.formatISOWeek(value);\n    }\n\n    public formatShortISOWeek(value: any): string {\n        return this._datetime.formatShortISOWeek(value);\n    }\n\n    public formatISOWeekOrdinal(value: any): string {\n        return this._datetime.formatISOWeekOrdinal(value);\n    }\n    // special formats \n    // --------------\n\n    // year option displays if the current year is not equal to, the date of \n    public formatDateY(value: any): string {\n        return this._datetime.formatDateY(value);\n    }\n\n    // year option displays if the current year is not equal to, the date of\n    public formatLongDateY(value: any): string {\n        return this._datetime.formatLongDateY(value);\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateLongTimeLong(value: any): string {\n        return this._datetime.formatTodayDateLongTimeLong(value);\n    }    \n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateShortTimeLong(value: any): string {\n        return this._datetime.formatTodayDateShortTimeLong(value);\n    }     \n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateLongTimeShort(value: any): string {\n        return this._datetime.formatTodayDateLongTimeShort(value);\n    }     \n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateShortTimeShort(value: any): string {\n        return this._datetime.formatTodayDateShortTimeShort(value);\n    }     \n\n    // todo\n    public formatMillisecondsToSeconds(value: any) {\n        return this._datetime.formatMillisecondsToSeconds(value);\n    }\n\n    // todo\n    public formatElapsedInterval(value: any, start: any): string {\n        return this._datetime.formatElapsedInterval(value, start);\n    }\n\n    public getDateJSON(date: any): string {\n        return this._datetime.getDateJSON(date);\n    }\n\n    // navigation functions \n    // ------------------\n\n    public getNextStart(value: any, category: string): any {\n        return this._datetime.getNextStart(value, category);\n    }\n\n    public getPrevStart(value: any, category: string): any {\n        return this._datetime.getPrevStart(value, category);\n    }\n\n    public getNowStart(category: string): any {\n        return this._datetime.getNowStart(category);\n    }\n\n    public addHours(value: any, hours: number): any {\n        return this._datetime.addHours(value, hours);\n    }\n\n    public toStartDay(value: any): any {\n        return this._datetime.toStartDay(value);\n    }\n\n    public toEndDay(value: any, offset: number): any {\n        return this._datetime.toEndDay(value, offset);\n    }\n\n    public toStartWeek(value: any): any {\n        return this._datetime.toStartWeek(value);\n    }\n\n    public toEndWeek(value: any, offset: number): any {\n        return this._datetime.toEndWeek(value, offset);\n    }\n\n    public toStartMonth(value: any): any {\n        return this._datetime.toStartMonth(value);\n    }\n\n    public toEndMonth(value: any, offset: number): any {\n        return this._datetime.toEndMonth(value, offset);\n    }\n\n    public toStartYear(value: any): any {\n        return this._datetime.toStartYear(value);\n    }\n\n    public toEndYear(value: any, offset: number): any {\n        return this._datetime.toEndYear(value, offset);\n    }\n\n}\n\nclass DateTimeProvider extends DateTime implements IDateTimeProvider {\n    private _translation: DateTime;\n    private _service: DateTimeService;\n\n    public constructor() {\n        super({ timeZone: null });\n    }\n\n    public $get(): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new DateTimeService(this);\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDateTime.Service', [])\n    .provider('pipDateTime', DateTimeProvider);\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipDate', ['pipDates.Templates']);\n\n    thisModule.directive('pipDate',\n        function () {\n            return {\n                restrict: 'EA',\n                require: 'ngModel',\n                scope: {\n                    timeMode: '@pipTimeMode',\n                    disabled: '&ngDisabled',\n                    model: '=ngModel',\n                    ngChange: '&'\n                },\n                templateUrl: 'date_directive/date.html',\n                controller: 'pipDateController'\n            };\n        }\n    );\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipDateController',\n        function ($scope, $element, $injector) { //pipTranslate\n            var value,\n                localeDate: any = moment.localeData(),\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\n                momentShortDays = localeDate._weekdaysMin,\n                momentFirstDayOfWeek = localeDate._week.dow;\n\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    DAY: 'Day',\n                    MONTH: 'Month',\n                    YEAR: 'Year'\n                });\n                pipTranslate.setTranslations('ru', {\n                    DAY: '',\n                    MONTH: '',\n                    YEAR: ''                    \n                });\n                $scope.dayLabel = pipTranslate.translate('DAY');\n                $scope.monthLabel = pipTranslate.translate('MONTH');\n                $scope.yearLabel = pipTranslate.translate('YEAR');\n            } else {\n                $scope.dayLabel = 'Day';\n                $scope.monthLabel = 'Month';                \n                $scope.yearLabel = 'Year';\n\n            }\n\n            function dayList(month, year) {\n                var count = 31, days = [], i;\n\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\n                    count = 30;\n                } else if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n\n                for (i = 1; i <= count; i++) {\n                    days.push(i);\n                }\n\n                return days;\n            }\n\n            function monthList() {\n                var months = [], i;\n\n                for (i = 1; i <= 12; i++) {\n                    months.push({\n                        id: i,\n                        name: momentMonths[i-1]\n                    });\n                }\n\n                return months;\n            }\n\n            function yearList() {\n                var i,\n                    currentYear = new Date().getFullYear(),\n                    startYear = $scope.timeMode === 'future' ? currentYear : currentYear - 100,\n                    endYear = $scope.timeMode === 'past' ? currentYear : currentYear + 100,\n                    years = [];\n\n                if ($scope.timeMode === 'past') {\n                    for (i = endYear; i >= startYear; i--) {\n                        years.push(i);\n                    }\n                } else {\n                    for (i = startYear; i <= endYear; i++) {\n                        years.push(i);\n                    }\n                }\n\n                return years;\n            }\n\n            function adjustDay() {\n                var days = dayList($scope.month, $scope.year);\n\n                if ($scope.days.length !== days.length) {\n                    if ($scope.day > days.length) {\n                        $scope.day = days.length;\n                    }\n\n                    $scope.days = days;\n                }\n            }\n\n            function getValue(v) {\n                var value = v ? _.isDate(v) ? v : new Date(v) : null,\n                    day = value ? value.getDate() : null,\n                    month = value ? value.getMonth() + 1 : null,\n                    year = value ? value.getFullYear() : null;\n\n                // Update day list if month and year were changed\n                if ($scope.month !== month && $scope.year !== year) {\n                    $scope.days = dayList($scope.month, $scope.year);\n                }\n\n                // Assign values to scope\n                $scope.day = day;\n                $scope.month = month;\n                $scope.year = year;\n            }\n\n            function setValue() {\n                var value;\n\n                if ($scope.day && $scope.month && $scope.year) {\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\n                    $scope.model = value;\n                    $scope.ngChange();\n                }\n            }\n\n            $scope.onDayChanged = function () {\n                setValue();\n            };\n\n            $scope.onMonthChanged = function () {\n                adjustDay();\n                setValue();\n            };\n\n            $scope.onYearChanged = function () {\n                adjustDay();\n                setValue();\n            };\n\n            // Set initial values\n            value = $scope.model ? _.isDate($scope.model) ? $scope.model : new Date($scope.model) : null;\n            $scope.day = value ? value.getDate() : null;\n            $scope.month = value ? value.getMonth() + 1 : null;\n            $scope.year = value ? value.getFullYear() : null;\n\n\n\n            $scope.days = dayList($scope.month, $scope.year);\n            $scope.months = monthList();\n            $scope.years = yearList();\n\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\n\n            // React on changes\n            $scope.$watch('model', function (newValue) {\n                getValue(newValue);\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n        }\n    );\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n    var thisModule = angular.module('pipDateRange', ['pipDates.Templates']);\n\n    thisModule.directive('pipDateRange',\n        function () {\n            return {\n                restrict: 'EA',\n                require: 'ngModel',\n                scope: {\n                    timeMode: '@pipTimeMode',\n                    disabled: '&ngDisabled',\n                    model: '=ngModel',\n                    pipChanged: '&',\n                    pipDateRangeType: '@',\n                    pipDateFormat: '@',\n                    pipNoLine: '@'\n                },\n                templateUrl: 'date_range_directive/date_range.html',\n                controller: 'pipDateRangeController'\n            };\n        });\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipDateRangeController',\n        function ($scope, $element, $mdMedia, $rootScope, $injector, $timeout) { //pipTranslate, \n            var currentDate,\n                currentYear,\n                currentMonth,\n                currentDay,\n                prevState: any = {}, \n                currentState: any = {},\n                localeDate: any = moment.localeData(),\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\n                momentShortDays = localeDate._weekdaysMin,\n                momentFirstDayOfWeek = localeDate._week.dow;\n\n            // var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            // if (pipTranslate) {\n            //     pipTranslate.setTranslations('en', {\n            //         EVENT_NEW_START_TIME: 'Start time',\n            //         EVENT_NEW_END_TIME: 'End time'\n            //     });\n            //     pipTranslate.setTranslations('ru', {\n            //         EVENT_NEW_START_TIME: '',\n            //         EVENT_NEW_END_TIME: ''                \n            //     });\n            //     $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\n            //             : pipTranslate.translate('EVENT_NEW_START_TIME');\n            //     $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\n            //             : pipTranslate.translate('EVENT_NEW_END_TIME');\n            // } else {\n            //     $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\n            //     $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \n            // }\n\n            currentDate = new Date();\n            currentYear = currentDate.getUTCFullYear();\n            currentMonth = currentDate.getUTCMonth() + 1;\n            currentDay = currentDate.getUTCDate();\n\n            $scope.onDayChanged = function () {\n                setValue();\n            };\n\n            $scope.onMonthChanged = function () {\n                if ($scope.pipDateRangeType === 'weekly') {\n                    var date, dayOfWeek;\n\n                    date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\n                    dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\n                    correctWeek();\n                    adjustWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            $scope.onYearChanged = function () {\n                var date, dayOfWeek;\n\n                date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                if ($scope.pipDateRangeType === 'weekly') {\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\n                    adjustWeek();\n                    correctWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            $scope.onWeekChange = function () {\n                if ($scope.pipDateRangeType === 'weekly') {\n                    adjustWeek();\n                    correctWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            // visibility\n            $scope.isDay = function () {\n                return $scope.pipDateRangeType === 'daily';\n            };\n\n            $scope.isWeek = function () {\n                return $scope.pipDateRangeType === 'weekly';\n            };\n\n            $scope.isMonth = function () {\n                return $scope.pipDateRangeType === 'daily' ||\n                    $scope.pipDateRangeType === 'weekly' ||\n                    $scope.pipDateRangeType === 'monthly';\n            };\n\n            $scope.onChange = function () {\n                if ($scope.pipChanged) {\n                    $timeout(function() {\n                        $scope.pipChanged();\n                    }, 0);\n                }\n            };\n\n            function setCurrent() {\n                currentState.day = $scope.day;\n                currentState.month = $scope.month;\n                currentState.year = $scope.year;\n                currentState.week = $scope.week;\n                currentState.dateRangeType = $scope.pipDateRangeType;\n                currentState.model = $scope.model;\n            }\n\n            function fillLists() {\n                $scope.days = dayList($scope.month, $scope.year);\n                $scope.weeks = weekList($scope.month, $scope.year);\n                $scope.months = monthList();\n                $scope.shortMonths = monthList();\n                $scope.years = yearList();\n\n            }\n\n            function correctWeek() {\n                if (!prevState.model || prevState.model && prevState.model.getTime() >= $scope.model.getTime()) {\n                    // if shift week -> increase month\n                    if ($scope.weeks && $scope.weeks[$scope.week] && $scope.weeks[$scope.week].id <= 0) {\n                        if ($scope.month < 12) {\n                            $scope.month += 1;\n                        } else {\n                            $scope.month = 1;\n                            $scope.year += 1;\n                        }\n                        fillLists();\n                    }\n                }\n            }\n\n            function init() {\n                var value;\n\n                value = $scope.model ? new Date($scope.model) : null;\n                $scope.day = value ? value.getUTCDate() : null;\n                $scope.month = value ? value.getUTCMonth() + 1 : null;\n                $scope.year = value ? value.getUTCFullYear() : null;\n                $scope.week = value ? getWeekByDate($scope.day, $scope.month - 1, $scope.year) : null;\n\n                fillLists();\n\n                if ($scope.pipDateRangeType === 'weekly') {\n                    correctWeek();\n                    adjustWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            }\n\n            // Set initial values\n            $scope.$mdMedia = $mdMedia;\n\n            init();\n\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\n\n            // React on changes\n            $scope.$watch('model', function (newValue, oldValue) {\n                if (newValue !== oldValue) {\n                    getValue(newValue);\n                }\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n\n            $scope.$watch('pipDateRangeType', function (newValue, oldValue) {\n                if (newValue !== oldValue && oldValue) {\n                    init();\n                }\n            });\n\n            $scope.onYearClick = function () {\n                if (!$scope.year) {\n                    $scope.year = currentYear;\n                }\n            };\n\n            $scope.onMonthClick = function () {\n                if (!$scope.month) {\n                    $scope.month = currentMonth;\n                }\n            };\n\n            $scope.onDayClick = function () {\n                if (!$scope.year) {\n                    $scope.day = currentDay;\n                }\n            };\n            // ---------------------------------------------------------------------------------------\n\n            function getCountDay(month, year) {\n                var count = 31;\n\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\n                    count = 30;\n                } else if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n\n                return count;\n            }\n\n            function dayList(month, year) {\n                var count, days, i, ln;\n\n              //  ln = $rootScope.$language || 'en';\n                count = getCountDay(month, year);\n                $scope.nameDays = [];\n                days = [];\n                for (i = 1; i <= count; i++) {\n                    days.push(i);\n                    $scope.nameDays.push(momentShortDays[moment([year, month - 1, i]).weekday()]);\n                }\n\n                return days;\n            }\n\n            function getWeekByDate(day, month, year) {\n                var date, dayOfWeek, startWeek;\n\n                date = new Date(Date.UTC(year, month, day));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n\n                if (dayOfWeek === 1) {\n                    startWeek = day;\n                } else {\n                    startWeek = day + 1 - dayOfWeek;\n                }\n\n                return startWeek;\n            }\n\n            function getWeek(day, countDay, countPrevMonthDay) {\n                var endDay, startDay;\n\n                endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\n                startDay = day > 0 ? day : countPrevMonthDay + day;\n\n                return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\n            }\n\n            function weekList(month, year) { //    \n                var weeks, countDay, countPrevMonthDay, startWeek;\n\n                weeks = [];  //        \n                countDay = getCountDay(month, year);\n                startWeek = getWeekByDate(1, month - 1, year);\n\n                countPrevMonthDay = month - 1 ? getCountDay(month - 1, year) : getCountDay(12, year - 1);\n                while (startWeek < countDay + 1) {\n                    weeks.push({\n                        id: startWeek,\n                        name: getWeek(startWeek, countDay, countPrevMonthDay)\n                    });\n                    startWeek = startWeek + 7;\n                }\n\n                return weeks;\n            }\n\n            function monthList() {\n                var months = [], i;\n\n                for (i = 1; i <= 12; i++) {\n                    months.push({\n                        id: i,\n                        name: momentMonths[i-1]\n                    });\n                }\n\n                return months;\n            }\n\n            function yearList() {\n                var startYear, i,\n                    endYear,\n                    years = [];\n\n                switch ($scope.timeMode) {\n                    case 'future':\n                        startYear = currentYear;\n                        endYear = currentYear + 100;\n                        break;\n                    case 'past':\n                        startYear = currentYear - 100;\n                        endYear = currentYear;\n                        break;\n                    case 'now':\n                        startYear = currentYear - 50;\n                        endYear = currentYear + 100;\n                        break;\n                    default:\n                        startYear = currentYear - 50;\n                        endYear = currentYear + 50;\n                        break;\n                }\n                if ($scope.timeMode === 'future') {\n                    for (i = startYear; i <= endYear; i++) {\n                        years.push(i);\n                    }\n                } else {\n                    for (i = endYear; i >= startYear; i--) {\n                        years.push(i);\n                    }\n                }\n\n                return years;\n            }\n\n            function adjustDay() {\n                var days = dayList($scope.month, $scope.year);\n\n                switch ($scope.pipDateRangeType) {\n                    case 'monthly':\n                        $scope.day = 1;\n                        break;\n                    case 'yearly':\n                        $scope.month = 1;\n                        $scope.day = 1;\n                        break;\n                    default:\n                        if ($scope.days.length !== days.length) {\n                            if ($scope.day > days.length) {\n                                $scope.day = days.length;\n                            }\n                        }\n                        break;\n                }\n                $scope.days = days;\n            }\n\n            function adjustWeek() {\n                var weeks;\n\n                weeks = weekList($scope.month, $scope.year);\n                $scope.week = getWeekByDate($scope.week, $scope.month - 1, $scope.year);\n                $scope.weeks = weeks;\n            }\n\n            function getValue(v) {\n                var value, day, month, year, week;\n\n                value = v ? new Date(v) : null;\n                // Define values\n                day = value ? value.getUTCDate() : null;\n                month = value ? value.getUTCMonth() + 1 : null;\n                year = value ? value.getUTCFullYear() : null;\n                week = value ? getWeekByDate(day, month - 1, year) : null;\n                // Exit if nothing to update\n                if ($scope.day === day && $scope.month === month && $scope.year === year && $scope.week === week) {\n                    return;\n                }\n                // Assign values to scope\n                $scope.day = day;\n                $scope.month = month;\n                $scope.year = year;\n                $scope.week = week;\n\n                // Define data sources\n                $scope.days = dayList($scope.month, $scope.year);\n                $scope.weeks = weekList($scope.month, $scope.year);\n            }\n\n            function setValue() {\n                var value;\n\n                if ($scope.pipDateRangeType === 'weekly') {\n                    value = new Date($scope.year, $scope.month - 1, $scope.week, 0, 0, 0, 0);\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                    $scope.model = value;\n                } else {\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                    $scope.model = value;\n                }\n\n                prevState = _.cloneDeep(currentState);\n                setCurrent();\n                $scope.onChange();\n            }\n        }\n    );\n\n})();\n","'use strict';\n\nangular.module('pipDates', [\n    'pipDate',\n    'pipTimeRange',\n    'pipDateTime',\n    'pipTimeRangeEdit',\n    'pipDateRange',\n    'pipDates.Translate'\n]);\n","/**\n * @file Optional filter to translate string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipDates.Translate', []);\n\n    thisModule.filter('translate', function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipTimeRange', []);\n\n    thisModule.directive('pipTimeRange',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipStartDate: '=',\n                    pipEndDate: '='\n                },\n                templateUrl: 'time_range_directive/time_range.html',\n                link: function ($scope: any, $element, $attrs) {\n\n                    function getDateJSON(value) {\n                        return value ? new Date(value) : null;\n                    }\n\n                    function defineStartDate() {\n                        if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\n                            $scope.data.start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate\n                                : getDateJSON($scope.pipStartDate);\n                        }\n                    }\n\n                    function defineEndDate() {\n                        if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\n                            $scope.data.end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate\n                                : getDateJSON($scope.pipEndDate);\n                        }\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    $scope.data = {};\n                    $scope.data.start = null;\n                    $scope.data.end = null;\n                    defineStartDate();\n                    defineEndDate();\n\n                    if (toBoolean((<any>$attrs).pipRebind)) {\n                        $scope.$watch('pipStartDate',\n                            function () {\n                                $scope.data.start = null;\n                                defineStartDate();\n                            }\n                        );\n                        $scope.$watch('pipEndDate',\n                            function () {\n                                $scope.data.end = null;\n                                defineEndDate();\n                            }\n                        );\n                    }\n\n                    // Add class\n                    $element.addClass('pip-time-range');\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipTimeRangeEdit', []);\n\n    thisModule.directive('pipTimeRangeEdit',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipStartDate: '=',\n                    pipChanged: '&',\n                    pipEndDate: '=',\n                    pipStartLabel: '@',\n                    pipEndLabel: '@',\n                    disabled: '&ngDisabled',\n                    pipHideTime: '=',\n                    pipSize: '='\n                },\n                templateUrl: 'time_range_edit_directive/time_range_edit.html',\n                controller: 'pipTimeRangeEditController'\n            };\n        }\n    );\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipTimeRangeEditController',\n        function ($scope, $element, $attrs, $injector, pipDateTime) { //pipTranslate\n\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    EVENT_NEW_START_TIME: 'Start time',\n                    EVENT_NEW_END_TIME: 'End time'\n                });\n                pipTranslate.setTranslations('ru', {\n                    EVENT_NEW_START_TIME: '',\n                    EVENT_NEW_END_TIME: ''                \n                });\n                $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\n                        : pipTranslate.translate('EVENT_NEW_START_TIME');\n                $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\n                        : pipTranslate.translate('EVENT_NEW_END_TIME');\n            } else {\n                $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\n                $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \n            }\n\n            function getDateJSON(value) {\n                return value ? new Date(value) : null;\n            }\n\n            function setDuration() {\n                var start, end;\n\n                if (!$scope.data.startDate || !$scope.data.endDate) {\n                    return null;\n                }\n                \n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n\n                return end - start;\n            }\n\n            function validateStartDate() {\n                var date, start, end;\n                //     ,   \n                if (!$scope.data.startDate) {\n                    $scope.data.startTime = null;\n\n                    return;\n                }\n\n                // c     -  \n                if ($scope.data.startTime === undefined || $scope.data.startTime === null) {\n                    if (!$scope.data.endTime) {\n                        date = new Date();\n                        date = date.getTime() - pipDateTime.toStartDay(date);\n                        $scope.data.startTime = Math.floor(date / (30 * 60 * 1000)) * 30;\n                    } else {\n                        $scope.data.startTime = $scope.data.endTime === 0 ? 0 : $scope.data.endTime - 30;\n                    }\n                }\n\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n\n                //   ,   .       \n                if ($scope.data.duration) {\n                    end = new Date(start.getTime() + $scope.data.duration);\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\n                    end = end.getTime() - $scope.data.endDate.getTime();\n                    $scope.data.endTime = Math.floor(end / (30 * 60 * 1000)) * 30;\n                } else {\n                    //     \n                    end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n                    if (start >= end) {\n                        //    ,    \n                        $scope.data.endDate = pipDateTime.toStartDay(new Date(start.getTime() + 30 * 60000));\n                        $scope.data.endTime = ($scope.data.startTime + 30) % 1440;\n                    }\n                }\n\n                $scope.data.startTime = Math.round($scope.data.startTime / 30) * 30;\n            }\n\n            function validateEndDate() {\n                var date, start, end;\n\n                //     ,   \n                if (!$scope.data.endDate) {\n                    $scope.data.endTime = null;\n\n                    return;\n                }\n\n                // c     -  \n                if ($scope.data.endTime === undefined || $scope.data.endTime === null) {\n                    if (!$scope.data.startTime) {\n                        date = new Date();\n                        date = date.getTime() - pipDateTime.toStartDay(date);\n                        $scope.data.endTime = Math.floor(date / (30 * 60 * 1000)) * 30;\n                    } else {\n                        $scope.data.endTime = $scope.data.startTime === 1410 ? 1410 : $scope.data.startTime + 30;\n                    }\n                }\n\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n\n                if (start >= end) {\n                    //    ,    \n                    $scope.data.startDate = pipDateTime.toStartDay(new Date(end.getTime() - 30 * 60000));\n                    $scope.data.startTime = $scope.data.endTime % 1440 === 0 ? 1410 : $scope.data.endTime - 30;\n                }\n\n                $scope.data.endTime = Math.round($scope.data.endTime / 30) * 30;\n                $scope.data.duration = setDuration();\n            }\n\n            function setDate() {\n                var time;\n\n                $scope.data.bind = false;\n\n                if ($scope.data.startDate) {\n                    time = $scope.data.startTime ? $scope.data.startTime * 60 * 1000 : 0;\n                    $scope.pipStartDate = new Date($scope.data.startDate.getTime() + time);\n                }\n\n                if ($scope.data.endDate) {\n                    time = $scope.data.endTime ? $scope.data.endTime * 60 * 1000 : 0;\n                    $scope.pipEndDate = new Date($scope.data.endDate.getTime() + time);\n                }\n\n                $scope.data.bind = true;\n            }\n\n            function defineDate() {\n                var start, end;\n\n                if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\n                    start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate : null;\n\n                    if (!start) {\n                        start = getDateJSON($scope.pipStartDate);\n                    }\n\n                    $scope.data.startDate = pipDateTime.toStartDay(start);\n                    $scope.data.startTime = (<any>new Date(start) - $scope.data.startDate) / (60 * 1000);\n                }\n\n                if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\n                    end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate : null;\n\n                    if (!start) {\n                        end = getDateJSON($scope.pipEndDate);\n                    }\n\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\n                    $scope.data.endTime = (<any>new Date(end) - $scope.data.endDate) / (60 * 1000);\n                }\n\n                validateStartDate();\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n            }\n\n            function getTimeInterval() {\n                var result, i, j, minutes;\n\n                result = [];\n                for (i = 0; i < 24; i++) {\n                    for (j = 0; j < 2; j++) {\n                        minutes = j * 30;\n                        result.push({\n                            id: i * 60 + minutes,\n                            time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\n                        });\n                    }\n                }\n\n                return result;\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function initDate() {\n                $scope.data.startDate = null;\n                $scope.data.startTime = null;\n                $scope.data.endDate = null;\n                $scope.data.endTime = null;\n                $scope.data.duration = null;\n                $scope.showTime = !toBoolean($scope.pipHideTime);\n            }\n\n            // initialize data\n            $scope.intervalTimeCollection = getTimeInterval();\n            $scope.data = {};\n            initDate();\n            defineDate();\n\n            // process function\n            $scope.onChangeStartDate = function (newV) {\n                validateStartDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeEndDate = function () {\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeStartTime = function () {\n                if (!$scope.data.startDate) {\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date());\n                }\n                validateStartDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeEndTime = function () {\n                if (!$scope.data.endDate) {\n                    $scope.data.endDate = pipDateTime.toStartDay(new Date());\n                }\n\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.isDisabled = function () {\n                if ($scope.disabled) {\n                    return $scope.disabled();\n                }\n\n                return false;\n            };\n\n            $scope.$watchGroup([$scope.pipStartDate, $scope.pipEndDate], function () {\n                if ($scope.data.bind) {\n                    initDate();\n                    defineDate();\n                }\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n\n            // Add class\n            $element.addClass('pip-time-range-edit');\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_directive/date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"disableControls\" ng-model=\"day\" placeholder=\"{{dayLabel}}\" ng-change=\"onDayChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"disableControls\" ng-model=\"month\" placeholder=\"{{monthLabel}}\" ng-change=\"onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"disableControls\" ng-model=\"year\" placeholder=\"{{yearLabel}}\" ng-change=\"onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range_directive/date_range.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onDayClick()\" ng-model=\"day\" ng-change=\"onDayChanged()\" placeholder=\"{{dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" ng-model=\"week\" ng-change=\"onWeekChange()\" placeholder=\"{{weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isDay() || isWeek()\"></div><md-input-container ng-show=\"isMonth() && !monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isMonth() && monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onYearClick()\" ng-model=\"year\" ng-change=\"onYearChanged()\" placeholder=\"{{yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_directive/time_range.html',\n    '<p><span ng-if=\"data.start != null\">{{data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"data.start && data.end\">-</span> <span ng-if=\"data.end != null\">{{data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit_directive/time_range_edit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"data.startDate\" xmd-placeholder=\"{{startLabel}}\" ng-change=\"onChangeStartDate()\" ng-disabled=\"isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"data.startTime\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeStartTime(data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"data.endDate\" xmd-placeholder=\"{{endLabel}}\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"data.endTime\" ng-change=\"onChangeEndTime()\" ng-disabled=\"isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\n\nclass ConfirmationDialogController extends  ConfirmationDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this._injector = $injector;\n\n        this.initTranslate();\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'CONFIRM_TITLE': 'Confirm' });\n            pipTranslate.translations('ru', { 'CONFIRM_TITLE': ''});\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('CONFIRM_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\n            this.cancel = pipTranslate.translate(this.cancel) || ('CANCEL');\n        } else {\n            this.title = this.title || 'Confirm';\n            this.ok = this.ok || 'OK';\n            this.cancel = this.cancel || 'Cancel';\n        }\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipConfirmationDialog')\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","export class ConfirmationDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Confirm button caption\n    public ok?: string;\n    // Dialog title\n    public title?: string; \n    // Cancel button caption\n    public cancel?: string;\n}\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\nimport { IConfirmationDialogService } from './IConfirmationDialogService';\n\nclass ConfirmationDialogService implements IConfirmationDialogService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params: ConfirmationDialogParams, successCallback?: () => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'confirmation/ConfirmationDialog.html',\n            controller: 'pipConfirmationDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n        })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipConfirmationDialog')\n    .service('pipConfirmationDialog', ConfirmationDialogService);","angular\n    .module('pipConfirmationDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ConfirmationDialogController';\nimport './ConfirmationDialogService';\nimport './ConfirmationDialogParams';\n\nexport * from './IConfirmationDialogService';","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\n\nclass ErrorDialogStrings {\n    public errorDetails: string = 'Error details';\n    public errorMessage: string = 'Message';\n    public errorCode: string = 'Code';\n    public errorMethod: string = 'Method';\n    public errorPath: string = 'Path';\n    public errorText: string = 'Error';   \n}\n\nclass ErrorDetailsDialogController extends ErrorDetailsDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: ng.material.IDialogService;\n    public theme: string;\n    public strings: ErrorDialogStrings;\n\n    constructor(\n        $mdDialog: ng.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n        \n        super();\n\n        this.strings = new ErrorDialogStrings();\n        this._injector = $injector;\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope.$theme;\n\n        this.initTranslate();\n\n        if (!this.error) {\n            this.error = '<none>';             \n        }\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', {\n                'OK': 'Ok',\n                'CANCEL': 'Cancel',\n                'ERROR_DETAILS': 'Error details',\n                'CODE': 'Error code',\n                'PATH': 'Path',\n                'ERROR': 'Error',\n                'METHOD': 'Method',\n                'MESSAGE': 'Message',\n                'DISMISS': 'Dismiss'\n            });\n            pipTranslate.translations('ru', {\n                'OK': '',\n                'CANCEL': '',\n                'ERROR_DETAILS': ' ',\n                'CODE': ' ',\n                'PATH': '',\n                'ERROR': '',\n                'METHOD': '',\n                'MESSAGE': ''\n            });\n            this.dismissButton = pipTranslate.translate(this.dismissButton) || pipTranslate.translate('DISMISS');\n\n            this.strings.errorDetails = pipTranslate.translate('ERROR_DETAILS');\n            this.strings.errorMessage = pipTranslate.translate('MESSAGE');\n            this.strings.errorCode = pipTranslate.translate('CODE');\n            this.strings.errorMethod = pipTranslate.translate('METHOD');\n            this.strings.errorPath = pipTranslate.translate('PATH');\n            this.strings.errorText = pipTranslate.translate('ERROR');\n        } else {\n            this.dismissButton = this.dismissButton || 'Dismiss';\n        }\n    }\n    \n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public isString(error): boolean {\n        return _.isString(error);\n    }\n\n    public getErrorText(): string {\n        let error: string;\n\n        if (_.isString(this.error)) { \n            return this.error\n        } \n        if (this.error && this.error.error) {\n            return this.error.error.toString();\n        }\n        if (this.error && this.error.data && this.error.data.error) {\n            return this.error.data.error.toString();\n        }\n        \n        return '<none>';\n    }\n\n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","export class ErrorDetailsDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Close button label\n    public dismissButton?: string;\n    // Error object or string\n    public error: any;\n}","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\nimport { IErrorDetailsDialogService } from './IErrorDetailsDialogService';\n\nclass ErrorDetailsDialogService implements IErrorDetailsDialogService {\n    public _mdDialog: angular.material.IDialogService;\n\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    \n    public show(params: ErrorDetailsDialogParams, \n        successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'error_details/ErrorDetailsDialog.html',\n            controller: 'pipErrorDetailsDialogController',\n            controllerAs: '$ctrl',\n            locals: params, \n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .service('pipErrorDetailsDialog', ErrorDetailsDialogService);","angular\n    .module('pipErrorDetailsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ErrorDetailsDialogParams';\nimport './ErrorDetailsDialogService';\nimport './ErrorDetailsDialogController';\n\nexport * from './ErrorDetailsDialogParams';\nexport * from './IErrorDetailsDialogService';","import { InformationDialogParams } from './InformationDialogParams';\n\nexport class InformationDialogStrings {\n    public ok: string = 'OK';\n    public title: string; \n    public message: string;\n    public error: string;\n    public content;\n}\n\nclass InformationDialogController extends InformationDialogParams {\n    private _injector: ng.auto.IInjectorService;\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public content: string;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService,\n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();        \n        this._injector = $injector;\n\n        this.initTranslate()\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        let content: string = this.message;\n        let item: string;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': '' });\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('INFORMATION_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('OK');\n            content = pipTranslate.translate(content);\n        } else {\n            this.title = this.title || 'Information';\n            this.ok = this.ok || 'OK';\n        }\n\n        let pipFormat: pip.services.IFormat = this._injector.has('pipFormat') \n            ? <pip.services.IFormat>this._injector.get('pipFormat') : null;\n\n        if (this.item && pipFormat) {\n            // item = _.truncate(params.item, 25);\n            content = pipFormat.sprintf(content, item);\n        }\n\n        this.content = content;        \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipInformationDialog')\n    .controller('pipInformationDialogController', InformationDialogController);","export class InformationDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Confirm button caption\n    public ok?: string;\n    // Dialog title\n    public title?: string; \n    // Dialog messag. You can use formatting options (%s, %d etc.). \n    public message: string;\n    // Paramentrs for message string\n    public item?: any;\n}","import { InformationDialogParams } from './InformationDialogParams';\nimport { IInformationDialogService } from './IInformationDialogService';\n\nclass InformationDialogService implements IInformationDialogService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'information/InformationDialog.html',\n            controller: 'pipInformationDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then(function () {\n            if (successCallback) {\n                successCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipInformationDialog')\n    .service('pipInformationDialog', InformationDialogService);","angular\n    .module('pipInformationDialog', [\n        'ngMaterial',\n        'pipDialogs.Translate', \n        'pipDialogs.Templates']);\n\nimport './InformationDialogParams';\nimport './InformationDialogService';\nimport './InformationDialogController';\n\nexport * from './IInformationDialogService';\nexport * from './InformationDialogParams';\n","import { OptionsDialogData } from './OptionsDialogData';\nimport { OptionsDialogParams } from './OptionsDialogParams';\nimport { OptionsDialogResult } from './OptionsDialogResult';\n\nclass OptionsDialogController extends OptionsDialogParams {\n    private _injector: ng.auto.IInjectorService;\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public optionIndex: number;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this.$mdDialog = $mdDialog;\n        this._injector = $injector;\n        this.theme = $rootScope['$theme'];\n        this.options = this.options || [];\n\n        this.initTranslate();\n        \n        this.selectedOption = _.find(this.options, {active: true}) || null;\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\n        let index: number = _.findIndex(this.options, (opt: OptionsDialogData) => {\n            return opt.name == name;\n        });\n        this.optionIndex = index == -1 ? 0 : index;\n        this.selectedOption = this.options[this.optionIndex];\n        this.selectedOptionName = this.selectedOption.name;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' ' });\n\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\n        } else {\n            this.title = this.title || 'Choose Option';\n            this.ok = this.ok || 'Select';\n        }\n              \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsDialogData) {\n        event.stopPropagation();\n        this.selectedOptionName = option.name;\n    }\n            \n    public onKeyPress (event: JQueryKeyEventObject) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            this.onSelect();\n        }\n    }\n\n    public onSelect() {\n        let option: OptionsDialogData;\n        option = _.find(this.options, { name: this.selectedOptionName });\n\n        this.$mdDialog.hide({ option: option, isCheckboxOption: this.isCheckboxOption });\n    }\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsDialog')\n    .controller('pipOptionsDialogController', OptionsDialogController);","\nexport class OptionsDialogData {\n    public icon: string = 'star';\n    public name: string;\n    public title: string;\n    public active: boolean = true; \n}\n","import { OptionsDialogData } from './OptionsDialogData';\n\nexport class OptionsDialogParams {\n    // Mouse event\n    public event?: MouseEvent;\n    // Dialog title \n    public title?: string;\n    // confirm button title\n    public ok?: string;\n    // Dialog options array\n    public options?: OptionsDialogData[];\n    // Selected option by default\n    public selectedOption?: OptionsDialogData;\n    // Selected Option Name\n    public selectedOptionName?: string;\n    // Value for checkbox option\n    public isCheckboxOption?: boolean;\n    // Checkbox caption, Checkbox visible if caption is set\n    public checkboxOptionCaption?: string;\n}\n","import { OptionsDialogData } from './OptionsDialogData';\n\nexport class OptionsDialogResult {\n    public option: OptionsDialogData;\n    public isCheckboxOption: boolean;\n}\n","import { OptionsDialogParams } from './OptionsDialogParams';\nimport { OptionsDialogResult } from './OptionsDialogResult';\nimport { IOptionsDialogService } from './IOptionsDialogService';\n\nclass OptionsDialogService implements IOptionsDialogService {\n    public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public  show(params: OptionsDialogParams, \n        successCallback?: (result: OptionsDialogResult) => void, \n        cancelCallback?: () => void): any {\n        \n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsDialog.html',\n            controller: 'pipOptionsDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,\n            clickOutsideToClose: true\n         })\n        .then((result: OptionsDialogResult) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipOptionsDialog')\n    .service('pipOptionsDialog', OptionsDialogService);","angular\n    .module('pipOptionsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsDialogData';\nimport './OptionsDialogParams';\nimport './OptionsDialogResult';\nimport './OptionsDialogService';\nimport './OptionsDialogController';\n\nexport * from './OptionsDialogData';\nexport * from './OptionsDialogParams';\nexport * from './OptionsDialogResult';\nexport * from './OptionsDialogService';\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\nimport { OptionsBigDialogData } from './OptionsBigDialogData';\n\nclass OptionsBigDialogController extends OptionsBigDialogParams {\n    private _injector: ng.auto.IInjectorService;\n    private $mdDialog: angular.material.IDialogService;\n\n    public theme: string;\n    public optionIndex: number;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector: ng.auto.IInjectorService, \n        $rootScope: ng.IRootScopeService) \n    {\n        \"ngInject\";\n\n        super();\n        this.$mdDialog = $mdDialog;\n        this._injector = $injector;\n        this.theme = $rootScope['$theme'];\n\n        this.initTranslate()\n\n        this.selectedOption = _.find(this.options, {active: true}) || null;\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\n        let index: number = _.findIndex(this.options, (opt: OptionsBigDialogData) => {\n            return opt.name == name;\n        });\n        this.optionIndex = index == -1 ? 0 : index;\n        this.selectedOption = this.options[this.optionIndex];\n        this.selectedOptionName = this.selectedOption.name;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    private initTranslate(): void {\n        let pipTranslate: pip.services.ITranslateService;\n        pipTranslate = this._injector.has('pipTranslate') \n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option' });\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': ' ' });\n\n            this.title =  pipTranslate.translate(this.title) || pipTranslate.translate('OPTIONS_TITLE');\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('SELECT');\n        } else {\n            this.title = this.title || 'Choose Option';\n            this.ok = this.ok || 'Select';\n        }        \n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigDialogData) {\n        event.stopPropagation();\n        this.selectedOptionName = option.name;\n\n        if (this.noActions) {\n            this.onSelect();\n        }\n    }\n\n    public onSelected() {\n        this.selectedOptionName = this.options[this.optionIndex].name;\n\n        if (this.noActions) {\n               this.onSelect();\n        }\n    }\n\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (index !== undefined && index > -1 && index < this.options.length) {\n                this.selectedOptionName = this.options[index].name;\n                this.onSelect();\n            }\n        }\n    }\n    \n    public onSelect = function () {\n        let option: OptionsBigDialogData;\n        option = <OptionsBigDialogData>_.find(this.options, { name: this.selectedOptionName }) || new OptionsBigDialogData();\n        this.$mdDialog.hide({ option: option });\n    };\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);\n","export class OptionsBigDialogData {\n    public name: string;\n    public title: string;\n    public subtitle: string;\n}\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\n\nexport class OptionsBigDialogParams {\n    // Mouse event\n    public event?: MouseEvent;   \n    // Dialog title \n    public title?: string;  \n    // confirm button title\n    public ok?: string;\n    // Dialog options array\n    public options?: OptionsBigDialogData[];\n    // Selected option by default\n    public selectedOption?: OptionsBigDialogData;\n    // Selected Option Name\n    public selectedOptionName?: string;    \n    // Dialog hint title\n    public hint?: string;\n    // Show title\n    public noTitle;\n    // Show action button\n    public noActions;\n}\n\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\n\nexport class OptionsBigDialogResult {\n    public option: OptionsBigDialogData;\n    public isCheckboxOption: boolean;\n}\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\nimport { OptionsBigDialogResult } from './OptionsBigDialogResult';\nimport { IOptionsBigDialogService } from './IOptionsBigDialogService';\n\nclass OptionsBigDialogService implements IOptionsBigDialogService {\n    public _mdDialog: angular.material.IDialogService;\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback?: (result: OptionsBigDialogResult) => void, cancelCallback?: () => void): any {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsBigDialog.html',\n            controller: 'pipOptionsBigDialogController',\n            controllerAs: '$ctrl',\n            locals: params,\n            bindToController: true,        \n            clickOutsideToClose: true\n         })\n        .then((result: OptionsBigDialogResult) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, \n        () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .service('pipOptionsBigDialog', OptionsBigDialogService);","angular\n    .module('pipOptionsBigDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsBigDialogParams';\nimport './OptionsBigDialogData';\nimport './OptionsBigDialogResult';\nimport './OptionsBigDialogService';\nimport './OptionsBigDialogController';\n\nexport * from './OptionsBigDialogParams';\nexport * from './OptionsBigDialogData';\nexport * from './OptionsBigDialogResult';\nexport * from './IOptionsBigDialogService';\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{ ::$ctrl.theme }}\"><div class=\"pip-header\"><h3>{{ :: $ctrl.title }}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"$ctrl.onCancel()\">{{ :: $ctrl.cancel }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ :: $ctrl.ok }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-header\"><h3>{{:: $ctrl.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ $ctrl.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ $ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.checkboxOptionCaption\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"$ctrl.isCheckboxOption\" aria-label=\"CHECKBOX\">{{ ::$ctrl.checkboxOptionCaption | translate }}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"$ctrl.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"$ctrl.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in $ctrl.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'$ctrl.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == $ctrl.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{ option.icon }}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{ ::option.title | translate }}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{ ::option.title | translate }}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetailsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{ ::$ctrl.strings.errorDetails | translate }}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ ::$ctrl.strings.errorCode | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ $ctrl.error.code || $ctrl.error.data.code }}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ ::$ctrl.strings.errorPath | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ $ctrl.error.path || $ctrl.error.data.path }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.isString($ctrl.error) || $ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ ::$ctrl.strings.errorText | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ $ctrl.getErrorText() }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ ::$ctrl.strings.errorMethod | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ $ctrl.error.method || $ctrl.error.data.method }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ ::$ctrl.strings.errorMessage | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ $ctrl.error.message || $ctrl.error.data.message }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"$ctrl.onOk()\">{{ ::$ctrl.dismissButton | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_big/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !$ctrl.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': $ctrl.noTitle && $ctrl.hint}\"><h3 class=\"m0\" ng-if=\"!$ctrl.noTitle\">{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.noTitle && $ctrl.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{ ::$ctrl.hint | translate }}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"$ctrl.optionIndex\" index=\"{{ $ctrl.optionIndex }}\" pip-select=\"$ctrl.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == $ctrl.selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"$ctrl.onKeyUp($event, $index)\" ng-repeat=\"option in $ctrl.options\"><div class=\"pip-content content-stretch\" ng-click=\"$ctrl.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{ ::option.title | translate }}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{ ::option.subtitle | translate }}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"$ctrl.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!$ctrl.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\" style=\"margin-right: -6px\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","\n\nexport let ActionsChangedEvent = 'pipActionsChanged';\nexport let SecondaryActionsOpenEvent = 'pipSecondaryActionsOpen';\n\nexport class SimpleActionItem {\n    // Name to refer to the item\n    public name: string;\n    // Link visible title\n    public title?: string;\n    // Show divider instead of title\n    public divider?: boolean;\n    // Icon name from $iconProvider\n    public icon?: string;\n    // Counter badge\n    public count?: number;\n    // Access function\n    public access?: (action: SimpleActionItem) => boolean;\n    // Show on specified breakpoints\n    public breakpoints?: string[];\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public click?: (action: SimpleActionItem) => void;\n}\n\nexport class ActionItem extends SimpleActionItem {\n    public subActions: SimpleActionItem[];\n}\n\nexport class ActionsConfig {\n    // Primary global actions visible on the screen\n    public primaryGlobalActions: ActionItem[] = [];\n    // Primary local actions visible on the screen\n    public primaryLocalActions: ActionItem[] = [];\n\n    // Secondary global actions available in popup\n    public secondaryGlobalActions: ActionItem[] = [];\n    // Secondary local actions available in popup\n    public secondaryLocalActions: ActionItem[]= [];\n}\n\nexport interface IActionsService {\n    readonly config: ActionsConfig;\n\n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\n    hide(): void;\n    updateCount(link: string, count: number): void; \n    clearCounts(): void;\n    openMenuEvent(): void;\n}\n\nexport interface IActionsProvider extends ng.IServiceProvider {\n    config: ActionsConfig;\n    \n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n}\n\nclass ActionsService implements IActionsService {\n    private _config: ActionsConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: ActionsConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\n        this._config.primaryLocalActions = primaryActions || [];\n        this._config.secondaryLocalActions = secondaryActions || [];\n        this.sendChangeEvent();\n    }\n\n    public hide(): void {\n        this._config.primaryLocalActions = [];\n        this._config.secondaryLocalActions = [];\n        this.sendChangeEvent();\n    }\n\n    public updateCount(action: string, count: number) {\n        if (action == null || !_.isNumber(count)) return;\n\n        _.each(this._config.primaryGlobalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.primaryGlobalActions, (a) => {\n            a.count = null;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            a.count = null;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\n    }\n\n    public openMenuEvent(): void {\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\n    }\n}\n\nclass ActionsProvider implements IActionsProvider {\n    private _config: ActionsConfig = new ActionsConfig();\n    private _service: ActionsService;\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public set config(value: ActionsConfig) {\n        this._config = value || new ActionsConfig();\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ActionsService(this._config, $rootScope);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipActions')\n    .provider('pipActions', ActionsProvider);\n\n","\n\nimport { IActionsService, ActionItem, ActionsConfig } from \"./ActionsService\";\n// Prevent junk from going into typescript definitions\n\n// todo: create class ActionsController and extend it \n\nclass PrimaryActionsController {\n    private _element: ng.IAugmentedJQuery;\n    private _attrs: ng.IAttributes;\n    private _injector: ng.auto.IInjectorService;\n    private _scope: angular.IScope;\n    private _log: ng.ILogService;\n    private _rootScope: ng.IRootScopeService;\n    private _window: ng.IWindowService;\n    private _location: ng.ILocationService;\n    private _pipActions: IActionsService;\n    private _pipTranslate: pip.services.ITranslateService\n\n    public config: ActionsConfig;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $injector: ng.auto.IInjectorService,\n        $scope: angular.IScope,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        $location: ng.ILocationService,\n        pipActions: IActionsService\n\n    ) {\n        \"ngInject\";\n\n        this._element = $element;\n        this._attrs = $attrs;\n        this._scope = $scope;\n        this._injector = $injector;\n        this._log = $log;\n        this._rootScope = $rootScope;\n        this._window = $window;\n        this._location = $location;\n        this._pipActions = pipActions;\n\n\n        this._pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\n            this._pipTranslate.setTranslations('en', {\n                DOCUMENTS_ATTACHED: 'document(s) attached',\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\n            });\n            this._pipTranslate.setTranslations('ru', {\n                DOCUMENTS_ATTACHED: ' ',\n                ERROR_DOCUMENTS_LOADED: ': <%= error_number %> ()  '\n\n            });\n        }\n\n        // Apply class and call resize\n        this._element.addClass('pip-primary-actions');\n\n        if (this._scope.localActions) {\n            pipActions.primaryLocalActions = this._scope.localActions;\n        }\n\n        if (this._scope.globalActions) {\n            pipActions.primaryGlobalActions = this._scope.globalActions;\n        }\n\n        this.config = pipActions.config;\n\n        this._rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\n            this.onActionsChanged(event, config);\n        });\n\n    }\n\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\n        this.config = config;\n    }\n\n    public isHidden(action: ActionItem): boolean {\n        // Todo: Check breakpoints here\n        return action.access && !action.access(action);\n    }\n\n    public actionCount(action: ActionItem): string {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return String(action.count);\n    }\n\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        // todo: do not supported into ActionItem\n        // if (action.close) {\n        //     this._scope.originatorEv = null;\n        // }\n\n        if (action.subActions) {\n            $mdOpenMenu(this._scope.originatorEv);\n            return;\n        }\n\n        if (_.isFunction(action.click)) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this._window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this._location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this._injector.has('this._state')) {\n                let _state: angular.ui.IStateService = this._injector.has('pipTranslate') ? <angular.ui.IStateService>this._injector.get('$state') : null ;\n                if (_state) {\n                    _state.go(action.state, action.stateParams);\n                }\n            }\n            return;\n        }\n\n        if (action.event) {\n            this._rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            this._rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\n(() => {\n    function primaryActionsDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                localActions: '=pipLocalActions',\n                globalActions: '=pipGlobalActions'\n            },\n            replace: false,\n            templateUrl: 'actions/PrimaryActions.html',\n            controller: PrimaryActionsController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n\n    angular\n        .module('pipActions')\n        .directive('pipPrimaryActions', primaryActionsDirective);\n\n})();","\n\nimport { IActionsService, ActionItem, ActionsConfig } from \"./ActionsService\";\n\n// Prevent junk from going into typescript definitions\n\n// todo: create class ActionsController and extend it \n\nclass SecondaryActionsController {\n    private _element: ng.IAugmentedJQuery;\n    private _attrs: ng.IAttributes;\n    private _injector: ng.auto.IInjectorService;\n    private _scope: angular.IScope;\n    private _log: ng.ILogService;\n    private _rootScope: ng.IRootScopeService;\n    private _window: ng.IWindowService;\n    private _location: ng.ILocationService;\n    private _pipActions: IActionsService;\n    private _pipTranslate: pip.services.ITranslateService\n    private _menuFn: Function;\n    public config: ActionsConfig;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $injector: ng.auto.IInjectorService,\n        $scope: angular.IScope,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        $location: ng.ILocationService,\n        pipActions: IActionsService\n    ) {\n        \"ngInject\";\n\n        this._element = $element;\n        this._attrs = $attrs;\n        this._scope = $scope;\n        this._injector = $injector;\n        this._log = $log;\n        this._rootScope = $rootScope;\n        this._window = $window;\n        this._location = $location;\n        this._pipActions = pipActions;\n\n        // Apply class and call resize\n        this._element.addClass('pip-secondary-actions');\n\n        if (this._scope.localActions) {\n            pipActions.secondaryLocalActions = this._scope.localActions;\n        }\n\n        if (this._scope.globalActions) {\n            pipActions.secondaryGlobalActions = this._scope.globalActions;\n        }\n\n        this.config = pipActions.config;\n\n        this._rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\n            this.onActionsChanged(event, config);\n        });\n\n        this._rootScope.$on('pipSecondaryActionsOpen', () => {\n            this.onActionsMenuOpen();\n        });\n\n    }\n\n    public getMenu(menuFn: Function): void {\n         this._menuFn = menuFn;\n    }\n\n    public onActionsMenuOpen(): void {\n        this._menuFn();\n    }\n\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\n        this._scope.originatorEv = ev;\n        $mdOpenMenu(ev);\n    }\n\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\n        this.config = config;\n    }\n\n    public isHidden(action: ActionItem): boolean {\n        // Todo: Check breakpoints here\n        return action.access && !action.access(action);\n    }\n\n    public actionCount(action: ActionItem): string {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return String(action.count);\n    }\n\n\n    private calcActions(actions: ActionItem[]): number {\n        let count: number = 0;\n\n        _.each(actions, (action: ActionItem) => {\n            if (!this.isHidden(action)) {\n                count++;\n            }\n        });\n\n        return count;\n    }\n\n    public secondaryActionsVisible() {\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\n            this.calcActions(this.config.secondaryLocalActions) > 0;\n    }\n\n    public secondaryDividerVisible() {\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\n            this.calcActions(this.config.secondaryLocalActions) > 0;\n    }\n\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        // todo: do not supported into ActionItem\n        // if (action.close) {\n        //     this._scope.originatorEv = null;\n        // }\n\n        if (action.subActions) {\n            $mdOpenMenu(this._scope.originatorEv);\n            return;\n        }\n\n        if (action.click) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this._window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this._location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this._injector.has('this._state')) {\n                let _state: angular.ui.IStateService = this._injector.has('pipTranslate') ? <angular.ui.IStateService>this._injector.get('$state') : null;\n                if (_state) {\n                    _state.go(action.state, action.stateParams);\n                }\n            }\n            return;\n        }\n\n        if (action.event) {\n            this._rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            this._rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\n(() => {\n    function secondaryActionsDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                localActions: '=pipLocalActions',\n                globalActions: '=pipGlobalActions'\n            },\n            replace: false,\n            templateUrl: 'actions/SecondaryActions.html',\n            controller: SecondaryActionsController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipActions')\n        .directive('pipSecondaryActions', secondaryActionsDirective);\n\n})();\n","\n\nangular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\n\nimport './ActionsService';\nimport './PrimaryActionsDirective';\nimport './SecondaryActionsDirective';\n\nexport * from './ActionsService';","\n\nimport { IAppBarService, AppBarConfig } from \"./AppBarService\";\n// Prevent junk from going into typescript definitions\n\nclass AppBarDirectiveController {\n    public config: AppBarConfig;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $scope: angular.IScope,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        pipAppBar: IAppBarService\n    ) {\n        \"ngInject\";\n        // Apply class and call resize\n        $element.addClass('pip-appbar');\n        $element.addClass('color-primary-bg');\n\n        $scope.config = pipAppBar.config;\n\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\n            this.onAppBarChanged(event, config)\n        });\n    }\n\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\n        this.config = config;\n    }\n    \n}\n\n(() => {\n    function appbarDirective() {\n        return {\n            restrict: 'E',\n            transclude: true,\n            scope: true,\n            templateUrl: 'appbar/AppBar.html',\n            controller: AppBarDirectiveController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipAppBar')\n        .directive('pipAppbar', appbarDirective);\n\n})();","\n\n// Prevent junk from going into typescript definitions\nimport { AppBarConfig, IAppBarService } from \"./AppBarService\";\n\nclass AppBarPartDirectiveController {\n    private _scope: ng.IScope;\n    private _partName: string;\n    private _partValue: string;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $scope: ng.IScope,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        pipAppBar: IAppBarService\n    ) {\n        \"ngInject\";\n\n        this._scope = $scope;\n        this._partName = String($attrs.pipAppbarPart);\n        this._partValue = null;\n\n        // Break part apart\n        let pos: number = this._partName.indexOf(':');\n        if (pos > 0) {\n            this._partValue = this._partName.substr(pos + 1);\n            this._partName = this._partName.substr(0, pos);\n        }\n\n        // onAppBarChanged(null, pipAppBar.config);\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\n            this.onAppBarChanged(null, config)\n        });\n\n    }\n\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\n        let parts: any = config.parts || {};\n        let currentPartValue = parts[this._partName];\n\n        // Set visible variable to switch ngIf\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\n\n        if (visible != this._scope['visible'])\n            this._scope['visible'] = visible;\n    }\n\n}\n\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\n(() => {\n    function appbarPartDirective(ngIfDirective) {\n        \"ngInject\";\n\n        var ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\n                // Visualize based on visible variable in scope\n                $attrs.ngIf = function () {\n                    return $scope.visible;\n                };\n                ngIf.link.apply(ngIf, arguments);\n            },\n            controller: AppBarPartDirectiveController\n        };\n    }\n\n    angular.module('pipAppBar')\n        .directive('pipAppbarPart', appbarPartDirective);\n\n})();","\n\nexport let AppBarChangedEvent = 'pipAppBarChanged';\n\nexport class AppBarConfig {\n    visible: boolean;\n    parts: any;\n    classes: string[];\n} \n\nexport interface IAppBarService {\n    readonly config: AppBarConfig;\n    readonly classes: string[];\n    parts: any;\n\n    show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void;\n    hide(): void;\n \n    addShadow(...breakpoints: string[]): void;\n    removeShadow(): void;\n \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAppBarProvider extends ng.IServiceProvider {\n    config: AppBarConfig;\n    parts: any;\n    classes: string[];\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nclass AppBarService implements IAppBarService {\n    private _config: AppBarConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(config: AppBarConfig, $rootScope: ng.IRootScopeService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\n        this._config.visible = true;\n        this._config.parts = parts || this._config.parts || {};\n        this._config.classes = classes || this._config.classes || [];\n        if (shadowBreakpoints) {\n            this.setShadow(shadowBreakpoints); \n        }\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.visible = false;\n        this.sendConfigEvent();\n    }\n\n    private hideShadow(): void {\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\n    }\n\n    private setShadow(breakpoints: string[]): void {\n        this.hideShadow();\n\n        if (breakpoints != null && breakpoints.length > 0) {\n            _.each(breakpoints, (bp) => {\n                this._config.classes.push('pip-shadow-' + bp);\n            });\n        } else {\n            this._config.classes.push('pip-shadow');\n        }\n    }\n\n    public addShadow(...breakpoints: string[]): void {\n        this.setShadow(breakpoints);\n        this.sendConfigEvent();\n    }\n\n    public removeShadow(): void {\n        this.hideShadow();\n        this.sendConfigEvent();\n    }\n \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$broadcast(AppBarChangedEvent, this._config);\n    }\n}\n\nclass AppBarProvider implements IAppBarProvider {\n    private _config: AppBarConfig = {\n        visible: true,\n        parts: {},\n        classes: []\n    };\n    private _service: AppBarService;\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public set config(value: AppBarConfig) {\n        this._config = value || new AppBarConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AppBarService(this._config, $rootScope);\n\n        return this._service;\n    }     \n}\n\nangular\n    .module('pipAppBar')\n    .provider('pipAppBar', AppBarProvider);\n","\n\nangular\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\n\nimport './AppBarService';\nimport './AppBarDirective';\nimport './AppBarPartDirective';\n\nexport * from './AppBarService';\n","\n\nimport { SimpleActionItem } from '../actions/ActionsService';\nimport { BreadcrumbItem } from './BreadcrumbService';\nimport { BreadcrumbConfig } from './BreadcrumbService';\nimport { IBreadcrumbService } from './BreadcrumbService';\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\nimport { OpenSearchEvent } from '../search/SearchService'\n\n// Prevent junk from going into typescript definitions\nclass BreadcrumbController {\n    private _rootScope: ng.IRootScopeService;\n    private _window: ng.IWindowService;\n    private _location: ng.ILocationService;\n    private _injector: ng.auto.IInjectorService;\n    private originatorEv: Event;\n    private _media: any;\n\n    public config: BreadcrumbConfig;\n\n    public constructor(\n        $element: ng.IAugmentedJQuery,\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        $state: ng.ui.IStateService,\n        $location: ng.ILocationService,\n        $injector: ng.auto.IInjectorService,\n        pipBreadcrumb: IBreadcrumbService,\n        $mdMedia: angular.material.IMedia\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._window = $window;\n        this._location = $location;\n        this._injector = $injector;\n\n        // Apply class and call resize\n        $element.addClass('pip-breadcrumb');\n\n        this.config = pipBreadcrumb.config;\n\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\n            this.onBreadcrumbChanged(event, config);\n        });\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\n    }\n\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\n        this.config = config;\n    }\n\n    private onBreadcrumbBack(): void {\n        let items: BreadcrumbItem[] = this.config.items;\n        // Go to the last breadcrumb item\n        if (_.isArray(items) && items.length > 0) {\n            let item: BreadcrumbItem = items[items.length - 1];\n            if (_.isFunction(item.click)) {\n                item.click(item);\n            } else {\n                this._window.history.back();\n            }\n        } else {\n            this._window.history.back();\n        }\n    }\n\n    public onClick(item: BreadcrumbItem): void {\n        if (_.isFunction(item.click)) {\n            item.click(item);\n        }\n    }\n\n    public openSearch(): void {\n        this._rootScope.$broadcast(OpenSearchEvent);\n    }\n\n    public actionsVisible(item: BreadcrumbItem): boolean {\n\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\n    }\n\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\n        this.originatorEv = event;\n        $mdOpenMenu(this.originatorEv);\n    }\n\n    public onSubActionClick(action: SimpleActionItem): void {\n        if (!action || action.divider) {\n            return;\n        }\n\n        if (_.isFunction(action.click)) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this._window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this._location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this._injector.has('$state')) {\n                let _state: angular.ui.IStateService = this._injector.get('$state') as ng.ui.IStateService\n                _state.go(action.state, action.stateParams);\n            }\n            return;\n        }\n\n        if (action.event) {\n            this._rootScope.$broadcast(action.event);\n            this.originatorEv = null;\n        } else {\n            // Otherwise raise notification\n            this._rootScope.$broadcast('pipActionClicked', action.name);\n            this.originatorEv = null;\n        }\n    }\n}\n\n(() => {\n    function breadcrumbDirective() {\n        return {\n            restrict: 'E',\n            scope: {},\n            replace: false,\n            templateUrl: 'breadcrumb/Breadcrumb.html',\n            controller: BreadcrumbController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n\n    angular.module('pipBreadcrumb')\n        .directive('pipBreadcrumb', breadcrumbDirective);\n\n})();","\n\nimport { SimpleActionItem } from '../actions/ActionsService';\nexport let BreadcrumbChangedEvent = \"pipBreadcrumbChanged\";\nexport let BreadcrumbBackEvent = \"pipBreadcrumbBack\";\n\nexport class BreadcrumbItem {\n    title: string;\n    click?: (item: BreadcrumbItem) => void;   \n    subActions?: SimpleActionItem[]; \n}\n\nexport class BreadcrumbConfig {\n    text: string;\n    items: BreadcrumbItem[];\n    criteria: string;\n}\n\nexport interface IBreadcrumbService {\n    config: BreadcrumbConfig;\n    text: string;\n    items: BreadcrumbItem[];\n    criteria: string;\n\n    showText(text: string, criteria?: string): void;\n    showItems(items: BreadcrumbItem[], criteria?: string): void;\n}\n\nexport interface IBreadcrumbProvider extends ng.IServiceProvider {\n    text: string;\n}\n\nclass BreadcrumbService implements IBreadcrumbService {\n    private _config: BreadcrumbConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: BreadcrumbConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config() {\n        return this._config;\n    }\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n        this._config.items = null;\n\n        this.sendConfigEvent();\n    }\n\n    public get items(): BreadcrumbItem[] {\n        return this._config.items;\n    }\n\n    public set items(value: BreadcrumbItem[]) {\n        this._config.text = null;\n        this._config.items = value;\n\n        this.sendConfigEvent();\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public showText(text: string, criteria?: string): void {\n        this._config.text = text;\n        this._config.items = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\n        this._config.items = items || [];\n        this._config.text = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public sendConfigEvent() {\n        this._rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\n    }\n}\n\n\nclass BreadcrumbProvider implements IBreadcrumbProvider {\n    private _config: BreadcrumbConfig = { \n        text: null,\n        items: null,\n        criteria: null\n    };\n    private _service: BreadcrumbService;\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new BreadcrumbService(this._config, $rootScope);\n\n        return this._service;\n    }\n}\n\n\nangular.module('pipBreadcrumb')\n    .provider('pipBreadcrumb', BreadcrumbProvider);\n","\n\nangular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\n\nimport './BreadcrumbDirective';\nimport './BreadcrumbService';\n\nexport * from './BreadcrumbService';\n\n\n","\n\nimport { INavIconService } from '../icon/NavIconService';\nimport { INavMenuService } from '../menu/NavMenuService';\nimport { INavHeaderService } from '../header/NavHeaderService';\nimport { IBreadcrumbService } from '../breadcrumb/BreadcrumbService';\nimport { ISearchService } from '../search/SearchService';\nimport { IActionsService } from '../actions/ActionsService';\nimport { IAppBarService } from '../appbar/AppBarService';\nimport { ISideNavService } from '../sidenav/SideNavService';\n\nexport interface INavService {\n    appbar: IAppBarService;\n    icon: INavIconService;\n    breadcrumb: IBreadcrumbService;\n    actions: IActionsService;\n    search: ISearchService;\n    sidenav: ISideNavService;\n    header: INavHeaderService;\n    menu: INavMenuService;\n\n    reset(): void;\n}\n\nclass NavService implements INavService {\n\n    public constructor($injector: ng.auto.IInjectorService) {\n        \"ngInject\";\n\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\n    }\n\n    public appbar: IAppBarService;\n    public icon: INavIconService;\n    public breadcrumb: IBreadcrumbService;\n    public actions: IActionsService;\n    public search: ISearchService;\n    public sidenav: ISideNavService;\n    public header: INavHeaderService;\n    public menu: INavMenuService;\n\n    public reset() {\n        // Reset appbar\n        if (this.appbar) {\n            this.appbar.show();\n        }\n\n        // Reset icon\n        if (this.icon) {\n            this.icon.showMenu();\n        }\n\n        // Reset breadcrumb\n        if (this.breadcrumb) {\n            this.breadcrumb.showText(null);\n        }\n\n        // Reset actions\n        if (this.actions) {\n            this.actions.show();\n        }\n\n        // Reset search\n        if (this.search) {\n            this.search.set(null);\n        }\n\n        if (this.sidenav) {\n            this.sidenav.show();\n        }\n\n    }\n}\n\nangular\n    .module('pipNavService', [])\n    .service('pipNavService', NavService);","\n\n// Prevent junk from going into typescript definitions\n(() => {\n    class DropdownDirectiveController {\n        private _element: ng.IAugmentedJQuery;\n        private _attrs: ng.IAttributes;\n        private _injector: ng.auto.IInjectorService;\n        private _scope: angular.IScope;\n        private _log: ng.ILogService;\n        private _rootScope: ng.IRootScopeService;\n        private _pipTranslate: pip.services.ITranslateService;\n\n        private _pipTheme: pip.themes.IThemeService;\n        private _pipMedia: pip.layouts.IMediaService;\n        private _timeout: ng.ITimeoutService;\n\n        public themeClass: string;\n        public media: any;\n        public actions: any; // string or array\n        public activeIndex: number;\n        public selectedIndex: number;\n        public currentTheme: string;\n\n        constructor(\n            $element: ng.IAugmentedJQuery,\n            $attrs: ng.IAttributes,\n            $injector: ng.auto.IInjectorService,\n            $scope: angular.IScope,\n            $log: ng.ILogService,\n            $rootScope: ng.IRootScopeService,\n            $mdMedia: angular.material.IMedia,\n            $timeout: ng.ITimeoutService\n\n        ) {\n            \"ngInject\";\n\n            this._element = $element;\n            this._attrs = $attrs;\n            this._scope = $scope;\n            this._injector = $injector;\n            this._log = $log;\n            this._rootScope = $rootScope;\n            this._timeout = $timeout;\n\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\n\n            if (this._pipTheme) {\n                this.currentTheme = this._pipTheme.theme;\n            } else if (this._rootScope['$theme']) {\n                this.currentTheme = this._rootScope['$theme'];\n            }\n\n            this.themeClass = ($attrs.class || '') + ' md-' + this.currentTheme + '-theme';\n\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\n            this.media = this._pipMedia !== undefined ? this._pipMedia : $mdMedia;\n            this.actions = ($scope['actions'] && _.isArray($scope['actions'])) ? $scope['actions'] : [];\n            this.activeIndex = $scope['activeIndex'] || 0;\n        }\n\n\n        public disabled(): boolean {\n            if (this._scope['ngDisabled']) {\n                return this._scope['ngDisabled']();\n            } else {\n                return false;\n            }\n        }\n\n        public onSelect(index: number): void {\n            this.activeIndex = index;\n            this._scope['activeIndex'] = index;\n            if (this._scope['select']) {\n                this._scope['select'](this.actions[index], this.activeIndex);\n            }\n\n            if (this._scope['pipChange']) {\n                this._timeout(() => {\n                    this._scope['pipChange']();\n                });\n            }\n        }\n\n        public show(): boolean {\n            let result: boolean;\n            if (this._scope['showDropdown']()) {\n                return !!this._scope['showDropdown']();\n            } else {\n                return true;\n            }\n        }\n\n    }\n\n    function dropdownDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                ngDisabled: '&',\n                actions: '=pipActions',\n                showDropdown: '&pipShow',\n                activeIndex: '=pipActiveIndex',\n                select: '=pipDropdownSelect',\n                pipChange: '&'\n            },\n            templateUrl: 'dropdown/Dropdown.html',\n            controller: DropdownDirectiveController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipDropdown', ['pipNav.Templates'])\n        .directive('pipDropdown', dropdownDirective);\n\n})();","\n\n// Prevent junk from going into typescript definitions\nimport { INavHeaderService, NavHeaderConfig } from \"./NavHeaderService\";\n\n(() => {\n    class NavHeaderDirectiveController {\n        private _element: ng.IAugmentedJQuery;\n        private _scope: angular.IScope;\n        private _log: ng.ILogService;\n        private _rootScope: ng.IRootScopeService;\n        private _timeout: ng.ITimeoutService;\n        private _pipNavHeader: INavHeaderService;\n\n        public title: string;\n        public subtitle: string;\n        public imageUrl: string;\n        public imageCss: string;\n        public image: ng.IAugmentedJQuery;\n        public imageBlock: ng.IAugmentedJQuery;\n        public loadedDefaultImage: boolean;\n        public showHeader: boolean;\n\n        constructor(\n            $element: ng.IAugmentedJQuery,\n            $scope: angular.IScope,\n            $log: ng.ILogService,\n            $rootScope: ng.IRootScopeService,\n            $timeout: ng.ITimeoutService,\n            pipNavHeader: INavHeaderService,\n            navConstant: any\n\n        ) {\n            \"ngInject\";\n\n            this._element = $element;\n            this._scope = $scope;\n            this._log = $log;\n            this._rootScope = $rootScope;\n            this._timeout = $timeout;\n            this._pipNavHeader = pipNavHeader;\n\n            // Apply class and call resize\n            this._element.addClass('pip-sticky-nav-header');\n\n\n            this.initImage();\n\n            let cleanupNavHeaderChanged: Function = this._rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\n                this.onNavHeaderChanged($event, config)\n            });\n            let cleanupSideNavStateChanged: Function = this._rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\n                this.onStateChanged($event, state)\n            });\n\n            $scope.$on('$destroy', () => {\n                if (angular.isFunction(cleanupNavHeaderChanged)) {\n                    cleanupNavHeaderChanged();\n                }\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\n                    cleanupSideNavStateChanged();\n                }\n            });\n\n        }\n\n        private initImage() {\n            this.imageBlock = this._element.find('.pip-sticky-nav-header-user')\n\n            this._timeout(() => {\n                this.image = this._element.find('.pip-sticky-nav-header-user-image');\n\n                if (this.image[0]) {\n                    this.image[0].onload = (() => this.onImageLoad());\n\n                    // ($event: HTMLElement, erroev: Event): any =>  {\n                    //     this.onImageLoad($event);\n                    //     return null;\n                    // }\n                    this.image[0].onerror = (() => this.onImageError());\n                    // ($event: ng.IAngularEvent) => {\n                    //     this.onImageError($event);\n                    // }\n                } else {\n                    this.image.onload = (() => this.onImageLoad());\n                    this.image.onerror = (() => this.onImageError());\n                }\n\n                this.onNavHeaderChanged(null, this._pipNavHeader.config);\n            }, 20);\n        }\n\n        private initHeader() {\n            if (!this._pipNavHeader.config) return;\n\n            this.title = this._pipNavHeader.config.title;\n            this.subtitle = this._pipNavHeader.config.subtitle;\n            this.imageUrl = this._pipNavHeader.config.imageUrl;\n            this.imageCss = this._pipNavHeader.config.imageCss;\n        }\n\n        // // When image is loaded resize/reposition it\n        // private onImageLoad($event) {\n        //     let image: ng.IAugmentedJQuery = $($event.target);\n        //     this.setImageMarginCSS(image);\n        // };\n\n        // private onImageError($event) {\n        //     if (this.loadedDefaultImage) return;\n        //     this._scope.$apply(() => {\n        //         this.setImage(this._pipNavHeader.config, true);\n        //     });\n        // };\n        // When image is loaded resize/reposition it\n        private onImageLoad() {\n            this.setImageMarginCSS(this.image);\n        };\n\n        private onImageError() {\n            if (this.loadedDefaultImage) return;\n            this._scope.$apply(() => {\n                this.setImage(this._pipNavHeader.config, true);\n            });\n        };\n\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\n            if (state === undefined) return;\n\n            if (state.id == 'toggle') {\n                this._timeout(() => {\n                    this.showHeader = state && state.id == 'toggle';\n                }, 400);\n            } else {\n                this.showHeader = false;\n            }\n        }\n\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\n            var cssParams = {},\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\n                imageWidth = image[0]['naturalWidth'] || image.width,\n                imageHeight = image[0]['naturalHeight'] || image.height,\n                margin = 0;\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\n                cssParams['width'] = '' + containerWidth + 'px';\n                cssParams['margin-left'] = '';\n            }\n\n            image.css(cssParams);\n        };\n\n        private setImage(config, loadError: boolean) {\n            if (!config) return;\n\n            var url: string;\n\n            if (!loadError && !!config.imageUrl && !this.loadedDefaultImage) {\n                url = config.imageUrl;\n            } else {\n                this.loadedDefaultImage = true;\n                url = config.defaultImageUrl;\n            }\n\n            if (url && this.image) {\n                this.image.attr('src', url);\n            } else {\n                this.imageBlock.css('display', 'none');\n            }\n        }\n\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\n            if (!config) return;\n            this.setImage(config, false)\n\n            this.title = config.title;\n            this.subtitle = config.subtitle;\n            this.imageUrl = config.imageUrl;\n            this.imageCss = config.imageCss;\n        }\n\n        public onUserClick() {\n            this._rootScope.$broadcast('pipNavUserClicked'); // todo\n        }\n\n    }\n\n    function navHeaderDirective() {\n        return {\n            restrict: 'EA',\n            replace: false,\n            templateUrl: 'header/NavHeader.html',\n            controller: NavHeaderDirectiveController,\n            controllerAs: '$ctrl'\n\n        };\n    }\n\n    angular\n        .module('pipNavHeader')\n        .directive('pipNavHeader', navHeaderDirective);\n\n})();","\n\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\n\nexport class NavHeaderConfig {\n    // Image url\n    public imageUrl: string;\n    // Image url\n    public defaultImageUrl: string;\n    // Title\n    public title: string;\n    // Subtitle\n    public subtitle: string;\n    // image styles\n    public imageCss: string;\n    // Handle header click event\n    click: () => void;\n    // Event name\n    event: string\n};\n\nexport interface INavHeaderService {\n    readonly config: NavHeaderConfig;\n    imageUrl: string;\n    title: string;\n    subtitle: string;\n    event: string;\n\n    show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void;\n    hide(): void;\n    click: () => void;\n}\n\nexport interface INavHeaderProvider extends ng.IServiceProvider {\n    config: NavHeaderConfig;\n    defaultImageUrl: string;\n    imageUrl: string;\n    title: string;\n    subtitle: string;\n    event: string;\n\n    set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void;\n    clear(): void;\n    click: () => void;\n}\n\nclass NavHeaderService {\n    private _config: NavHeaderConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(config: NavHeaderConfig, $rootScope: ng.IRootScopeService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n        this.sendConfigEvent();\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n        this.sendConfigEvent();\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n        this.sendConfigEvent();\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n        this.sendConfigEvent();\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n        this.sendConfigEvent();\n    }\n\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n        } else {\n            this._config.click = null;\n        }\n        if (_.isString(callbackOrEvent)) {\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.event = null;\n        }\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(NavHeaderChangedEvent, this._config);\n    }\n}\n\nclass NavHeaderProvider implements INavHeaderProvider {\n    private _config: NavHeaderConfig = new NavHeaderConfig();\n    private _service: NavHeaderService;\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public set config(value: NavHeaderConfig) {\n        this._config = value || new NavHeaderConfig();\n    }\n\n    public get defaultImageUrl(): string {\n        return this._config.defaultImageUrl;\n    }\n\n    public set defaultImageUrl(value: string) {\n        this._config.defaultImageUrl = value;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n    }\n\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n        } else {\n            this._config.click = null;\n        }\n        if (_.isString(callbackOrEvent)) {\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.event = null;\n        }\n    }\n\n    public clear(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavHeaderService(this._config, $rootScope);\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipNavHeader')\n    .provider('pipNavHeader', NavHeaderProvider);\n","\n\nangular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\n\nimport './NavHeaderService';\nimport './NavHeaderDirective';\n\nexport * from './NavHeaderService';","\nimport { OpenSideNavEvent } from '../sidenav/SideNavEvents';\nimport {  INavIconService, NavIconConfig } from \"./NavIconService\";\n// Prevent junk from going into typescript definitions\nexport let NavIconClickedEvent = 'pipNavIconClicked';\n\nclass NavIconDirectiveController {\n    private _element: ng.IAugmentedJQuery;\n    private _scope: angular.IScope;\n    private _log: ng.ILogService;\n    private _rootScope: ng.IRootScopeService;\n    private _window: ng.IWindowService;\n\n    public config: NavIconConfig;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $scope: angular.IScope,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        pipNavIcon: INavIconService\n    ) {\n        \"ngInject\";\n\n        this._element = $element;\n        this._scope = $scope;\n        this._log = $log;\n        this._rootScope = $rootScope;\n        this._window = $window;\n\n        // Apply class and call resize\n        $element.addClass('pip-nav-icon');\n\n        this.config = pipNavIcon.config;\n\n        $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\n            this.onNavIconChanged(event, config)\n        });\n\n    }\n\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\n        this.config = config;\n    }\n\n    public onNavIconClick(): void {\n        if (_.isFunction(this.config.click)) {\n            // Execute nav icon callback\n            this.config.click();\n        } else if (this.config.event) {\n            this._rootScope.$broadcast(this.config.event);\n        } else if (this.config.type == 'menu') {\n            this._rootScope.$broadcast(OpenSideNavEvent);\n        } else if (this.config.type == 'back') {\n            this._window.history.back();\n        } else {\n            this._rootScope.$broadcast(NavIconClickedEvent);\n        }\n    }\n\n}\n\n(() => {\n    function navIconDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                type: '=pipType',\n                imageUrl: '=pipImageUrl',\n                icon: '=pipIcon'\n            },\n            replace: false,\n            templateUrl: 'icon/NavIcon.html',\n            controller: NavIconDirectiveController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n\n    angular\n        .module('pipNavIcon')\n        .directive('pipNavIcon', navIconDirective);\n\n})();","\n\nexport let NavIconChangedEvent = 'pipNavIconChanged';\n\nexport class NavIconConfig {\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\n    public type: string;\n    // Image url\n    public imageUrl: string;\n    // Icon name\n    public icon: string;\n    // Handle nav icon click event\n    click: () => void;\n    // Event name\n    event: string\n};\n\nexport interface INavIconService {\n    readonly config: NavIconConfig;\n\n    showMenu(callbackOrEvent?: any): void;\n    showIcon(icon: string, callbackOrEvent?: any): void;\n    showBack(callbackOrEvent?: any): void;\n    showImage(imageUrl: string, callbackOrEvent?: any): void;\n    hide(): void;\n}\n\nexport interface INavIconProvider extends ng.IServiceProvider {\n    config: NavIconConfig;\n\n    setMenu(callbackOrEvent?: any): void;\n    setIcon(icon: string, callbackOrEvent?: any): void;\n    setBack(callbackOrEvent?: any): void;\n    setImage(imageUrl: string, callbackOrEvent?: any): void;\n    clear(): void;\n}\n\nclass NavIconService implements INavIconService {\n    private _config: NavIconConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(config: NavIconConfig, $rootScope: ng.IRootScopeService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n            this._config.event = null;\n        } else if (_.isString(callbackOrEvent)) {\n            this._config.click = null;\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.click = null;\n            this._config.event = null;\n        }\n    }\n\n    public showMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$broadcast(NavIconChangedEvent, this._config);\n    }\n}\n\nclass NavIconProvider implements INavIconProvider {\n    private _config: NavIconConfig = new NavIconConfig();\n    private _service: NavIconService;\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    public set config(value: NavIconConfig) {\n        this._config = value || new NavIconConfig();\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent))\n            this._config.click = callbackOrEvent;\n        else this._config.click = null;\n\n        if (_.isString(callbackOrEvent))\n            this._config.event = callbackOrEvent;\n        else this._config.event = null;\n    }\n\n    public setMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public clear(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavIconService(this._config, $rootScope);\n\n        return this._service;\n    }\n     \n}\n\n\nangular\n    .module('pipNavIcon')\n    .provider('pipNavIcon', NavIconProvider);\n","\n\nangular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavIconService';\nimport './NavIconDirective';\n\nexport * from './NavIconService';\n","\n\n// Prevent junk from going into typescript definitions\n\n\n(() => {\n    class LanguagePickerDirectiveController {\n        private _element: ng.IAugmentedJQuery;\n        private _attrs: ng.IAttributes;\n        private _injector: ng.auto.IInjectorService;\n        private _scope: ng.IScope;\n        private _log: ng.ILogService;\n        private _rootScope: ng.IRootScopeService;\n        private _translate: pip.services.ITranslateService;\n        private _timeout: ng.ITimeoutService;\n\n        public languages: string[] = ['en', 'ru'];\n        public selectedLanguage: string;\n\n        public constructor(\n            $element: ng.IAugmentedJQuery,\n            $attrs: ng.IAttributes,\n            $injector: ng.auto.IInjectorService,\n            $scope: ng.IScope,\n            $log: ng.ILogService,\n            $rootScope: ng.IRootScopeService,\n            $timeout: ng.ITimeoutService\n        ) {\n            \"ngInject\";\n\n            this._element = $element;\n            this._attrs = $attrs;\n            this._scope = $scope;\n            this._injector = $injector;\n            this._log = $log;\n            this._rootScope = $rootScope;\n            this._timeout = $timeout;\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\n\n            // Apply class and call resize\n            $element.addClass('pip-language-picker');\n\n            this.setLanguages($scope['languages']);\n\n            this.selectedLanguage = $scope['value'] || this.languages[0];\n        }\n\n        public get language() {\n            return this._translate ? this._translate.language : null;\n        }\n\n        public setLanguages(languages: string[]): void {\n            this.languages = languages.length > 0 ? languages : ['en', 'ru'];\n        }\n\n        public onLanguageClick(language: string) {\n            if (this._translate != null) {\n                this.selectedLanguage = language;\n                // this._timeout(() => {\n                this._translate.language = this.selectedLanguage;\n                // }, 0);\n            }\n        }\n\n    }\n\n    function languagePickerDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                languages: '=languages',\n                value: '=value'\n            },\n            replace: false,\n            templateUrl: function (element, attr) {\n                return 'language/LanguagePicker.html';\n            },\n            controller: LanguagePickerDirectiveController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipLanguagePicker', [\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\n        ])\n        .directive('pipLanguagePicker', languagePickerDirective);\n\n})();","// Prevent junk from going into typescript definitions\nimport { ISideNavService, SideNavConfig } from '../sidenav/SideNavService';\nimport { NavMenuConfig, NavMenuSection, INavMenuService, NavMenuLink } from './NavMenuService';\nimport { SideNavStateNames, SideNavState } from '../sidenav/SideNavState';\n\n(() => {\n    class NavMenuDirectiveController {\n        private _element: ng.IAugmentedJQuery;\n        private _attrs: ng.IAttributes;\n        private _injector: ng.auto.IInjectorService;\n        private _scope: angular.IScope;\n        private _log: ng.ILogService;\n        private _rootScope: ng.IRootScopeService;\n        private _pipSideNav: ISideNavService;\n        private _pipNavMenu: INavMenuService;\n        private _state: angular.ui.IStateService;\n        private _window: ng.IWindowService;\n        private _location: ng.ILocationService;\n        private _pipMedia: pip.layouts.IMediaService;\n        private _timeout: ng.ITimeoutService;\n        private _animationDuration;\n        private _pipSideNavElement: ng.IAugmentedJQuery;\n\n        public sections: NavMenuSection[];\n        public defaultIcon: string;\n        public isCollapsed: boolean;\n        public expanded: boolean;\n        public expandedButton: boolean;\n        public sideNavState: SideNavState;\n\n        constructor(\n            $element: ng.IAugmentedJQuery,\n            $attrs: ng.IAttributes,\n            $injector: ng.auto.IInjectorService,\n            $scope: angular.IScope,\n            $log: ng.ILogService,\n            $window: ng.IWindowService,\n            $location: ng.ILocationService,\n            $rootScope: ng.IRootScopeService,\n            $timeout: ng.ITimeoutService,\n            pipSideNav: ISideNavService,\n            pipNavMenu: INavMenuService,\n            navConstant: any\n\n        ) {\n            \"ngInject\";\n\n            this._element = $element;\n            this._attrs = $attrs;\n            this._scope = $scope;\n            this._injector = $injector;\n            this._log = $log;\n            this._rootScope = $rootScope;\n            this._timeout = $timeout;\n            this._window = $window;\n            this._location = $location;\n            this._pipSideNav = pipSideNav;\n            this._pipNavMenu = pipNavMenu;\n\n            this._state = this._injector.has('$state') ? <angular.ui.IStateService>this._injector.get('$state') : null;\n\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\n                this._pipSideNavElement = $element.parent().parent();\n            // Apply class and call resize\n            this._element.addClass('pip-sticky-nav-menu');\n\n            this.sections = this._scope['sections'] || this._pipNavMenu.sections;\n\n            this.setCollapsible();\n\n            this.defaultIcon = this._pipNavMenu.defaultIcon;\n\n            this.onStateChanged(null, this._pipSideNav.state);\n\n            let cleanupNavMenuChanged: Function = this._rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\n                this.onConfigChanged($event, config)\n            });\n            let cleanupSideNavStateChanged: Function = this._rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\n                this.onStateChanged($event, state)\n            });\n\n            this._scope.$on('$destroy', () => {\n                if (angular.isFunction(cleanupNavMenuChanged)) {\n                    cleanupNavMenuChanged();\n                }\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\n                    cleanupSideNavStateChanged();\n                }\n            });\n\n        }\n\n        private setCollapsible(): void {\n            var collapsed: boolean;\n            if (angular.isFunction(this._scope['collapsed'])) {\n                collapsed = this._scope['collapsed']();\n            } else {\n                collapsed = this._scope['collapsed'] !== false && this._scope['collapsed'] !== 'false';\n            }\n\n            this.isCollapsed = collapsed;\n        }\n\n        public onExpand(): void {\n            if (!this.isCollapsed) { return }\n\n            this.expanded = !this.expanded;\n\n            if (this.expanded) {\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\n            } else {\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\n            }\n            this._rootScope.$emit('pipNavExpanded', this.expanded);\n        }\n\n        public isHidden(item: NavMenuLink): boolean {\n            return item && item.access && !item.access(item);\n        }\n\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\n            var result = true;\n            _.each(linkCollection, (link: NavMenuLink) => {\n                if (!this.isHidden(link)) {\n                    result = false;\n                }\n            });\n\n            return result;\n        }\n\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\n            if (!config) return;\n            this.sections = config.sections;\n        }\n\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\n            if (!state) return;\n\n            this.isCollapsed = state.expand;\n            this.expanded = state.isExpanded;\n            this.expandedButton = state.expandedButton;\n\n            this.sideNavState = state;\n        }\n\n        public isActive(link: NavMenuLink): boolean {\n            if (link.parentState) {\n\n                if (this._state != null && this._state.includes(link.parentState)) {\n                    return true;\n                }\n            } else if (link.state) {\n                if (this._state != null && this._state.includes(link.state)) {\n                    return true;\n                }\n            } else if (link.href) {\n                if (link.href.split('?')[0] === this._window.location.href.split('?')[0]) {\n                    return true;\n                }\n            } else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === this._location.url().split(/[\\s/?]+/)[1]) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\n            event.stopPropagation();\n\n            if (!link) {\n                this._pipSideNav.close();\n\n                return;\n            }\n\n            if (link.href) {\n                if (link.href.split('?')[0] === this._window.location.href.split('?')[0]) {\n                    this._pipSideNav.close();\n\n                    return;\n                }\n\n                this._pipSideNav.close();\n                this._timeout(() => {\n                    this._window.location.href = link.href;\n                }, this._animationDuration);\n\n                return;\n            } else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === this._location.url().split(/[\\s/?]+/)[1]) {\n                    this._pipSideNav.close();\n                    return;\n                }\n\n                this._pipSideNav.close();\n                this._timeout(() => {\n                    this._location.url(link.url);\n                }, this._animationDuration);\n\n                return;\n            } else if (link.state) {\n                if (this._state != null && this._state.current.name === link.state) {\n                    this._pipSideNav.close();\n\n                    return;\n                }\n\n                this._pipSideNav.close();\n                this._timeout(() => {\n                    this._state.go(link.state, link.stateParams);\n                }, this._animationDuration);\n\n                return;\n            } else if (link.event) {\n                this._rootScope.$broadcast(link.event, link);\n            }\n\n\n            this._pipSideNav.close();\n        }\n    }\n\n\n    function navMenuDirective() {\n        return {\n            restrict: 'EA',\n            scope: {\n                sections: '=?pipSections',\n                collapsed: '=?pipCollapsed'\n            },\n            replace: false,\n            templateUrl: 'menu/NavMenu.html',\n            controller: NavMenuDirectiveController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipNavMenu')\n        .directive('pipNavMenu', navMenuDirective);\n\n})();","\n\nexport let NavMenuChangedEvent = 'pipNavMenuChanged';\n\nexport class NavMenuLink {\n    // Name to refer to the item\n    public name: string;\n    // Link visible title\n    public title: string;\n    // Tooltip text\n    public tooltipText?: string;    \n    // Icon name from $iconProvider\n    public icon?: string;\n    // Counter badge\n    public count?: number;\n    // class for badge style\n    public badgeStyle?: string;\n    // Access function\n    public access?: (link: NavMenuLink) => boolean;\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // parent state or parent state for selection item \n    public parentState?: string;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public click?: (link: NavMenuLink) => void;\n}\n\nexport class NavMenuSection {\n    // Name to refer to the section\n    public name: string;\n    // Section visible title\n    public title?: string;\n    // Tooltip text\n    public tooltipText?: string;      \n    // Icon name from $iconProvider\n    public icon?: string;\n    // Links shown in the section\n    public links: NavMenuLink[];\n    // Access function\n    public access?: (section: NavMenuSection) => boolean;\n}\n\nexport class NavMenuConfig {\n    sections: NavMenuSection[];\n    defaultIcon: string;\n}\n\nexport interface INavMenuService {\n    sections: NavMenuSection[];\n    defaultIcon: string;\n    updateCount(link: string, count: number): void; \n    updateBadgeStyle(link: string, style: string): void;\n    clearCounts(): void;\n}\n\nexport interface INavMenuProvider extends ng.IServiceProvider {\n    sections: NavMenuSection[];\n    defaultIcon: string;\n}\n\nclass NavMenuService implements INavMenuService {\n    private _config: NavMenuConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: NavMenuConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public updateBadgeStyle(link: string, style: string): void {\n        if (link == null || !_.isString(style)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.badgeStyle = style;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n        this.sendChangeEvent();\n    }\n\n    public updateCount(link: string, count: number): void {\n        if (link == null || !_.isNumber(count)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.count = count;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                l.count = null;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\n    }\n}\n\nclass NavMenuProvider implements INavMenuProvider {\n    private _config: NavMenuConfig = {\n        sections: [],\n        defaultIcon: 'icons:folder'\n    };\n    private _service: NavMenuService;\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavMenuService(this._config, $rootScope);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipNavMenu')\n    .provider('pipNavMenu', NavMenuProvider);\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavMenuService';\nimport './NavMenuDirective';\n\nexport * from './NavMenuService';","\n\nimport { SearchConfig } from './SearchService';\nimport { ISearchService } from './SearchService';\nimport { SearchChangedEvent } from './SearchService';\nimport { SearchActivatedEvent } from './SearchService';\n\n// Prevent junk from going into typescript definitions\n\n\nclass SearchBarController {\n    private _rootScope: ng.IRootScopeService;\n    private _element: any;\n\n    public config: SearchConfig;\n    public enabled: boolean = false;\n    public search: any = { text: '' };\n\n    public constructor(\n        $element: ng.IAugmentedJQuery,\n        $rootScope: ng.IRootScopeService,\n        pipSearch: ISearchService\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._element = $element;\n\n        // Apply class and call resize\n        $element.addClass('pip-search-bar');\n\n        this.config = pipSearch.config;\n        this.stateChange();\n        $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\n            this.onSearchChanged(event, config);\n        });\n    }\n\n    private stateChange(): void {\n        if (this.enabled) {\n            this._element.addClass('w-stretch');\n            this._element.parent().addClass('pip-search-active');\n\n        } else {\n            this._element.removeClass('w-stretch');\n            this._element.parent().removeClass('pip-search-active');\n        }\n    }\n\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\n        this.config = config;\n        this.enabled = false;\n        this.search.text = '';\n        this.stateChange();\n    }\n\n    private focusText(): void {\n        setTimeout(() => {\n            let element: JQuery = $('.pip-search-text');\n            if (element.length > 0)\n                element.focus();\n        }, 0);\n    }\n\n    public enable(): void {\n        this.search.text = this.config.criteria;\n        this.enabled = true;\n        this.focusText();\n        this.stateChange();\n    }\n\n    public onClick(): void {\n        let search = this.search.text;\n\n        this.search.text = '';\n        this.enabled = false;\n        this.stateChange();\n\n        if (this.config.callback) {\n            this.config.callback(search);\n        } else {\n            this._rootScope.$broadcast(SearchActivatedEvent, search);\n        }\n    }\n\n    public clear(): void {\n        if (this.search.text) {\n            this.search.text = '';\n            this.focusText();\n        } else {\n            this.enabled = false;\n            this.stateChange();\n            this.onClick();\n        }\n    }\n\n    public onKeyDown(event: KeyboardEvent): void {\n        // Enter pressed\n        if (event.keyCode === 13)\n            this.onClick();\n        // ESC pressed\n        else if (event.keyCode === 27) {\n            this.enabled = false;\n            this.stateChange();\n        }\n    }\n}\n\n(() => {\n    function searchBarDirective() {\n        return {\n            restrict: 'E',\n            scope: {},\n            replace: false,\n            templateUrl: 'search/SearchBar.html',\n            controller: SearchBarController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular.module('pipSearchBar')\n        .directive('pipSearchBar', searchBarDirective);\n\n})();","\n\nexport let OpenSearchEvent = 'pipOpenSearch';\nexport let CloseSearchEvent = 'pipCloseSearch';\nexport let SearchChangedEvent = 'pipSearchChanged';\nexport let SearchActivatedEvent = 'pipSearchActivated';\n\nexport class SearchConfig {\n    // Search visible\n    public visible: boolean;\n    // Search criteria\n    public criteria: string;\n    // Custom search parameters\n    public params: any;\n    // History for search autocomplete\n    public history: string[];\n    // Callback for search\n    callback: (criteria: string) => void;\n}\n\nexport interface ISearchService {\n    config: SearchConfig;\n    criteria: string;\n    params: any;\n    history: string[];\n    callback: (criteria: string) => void;\n\n    set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void;\n    clear(): void;\n    open(): void;\n    close(): void;\n    toggle(): void;\n}\n\nexport interface ISearchProvider extends ng.IServiceProvider {    \n}\n\n\nclass SearchService implements ISearchService {\n    private _config: SearchConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: SearchConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\n    }\n\n    public get config(): SearchConfig {\n        return this._config;\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public get params(): any {\n        return this._config.params;\n    }\n\n    public set params(value: any) {\n        this._config.params = value;\n        this.sendConfigEvent();\n    }\n\n    public get history(): string[] {\n        return this._config.history;\n    }\n\n    public set history(value: string[]) {\n        this._config.history = value;\n        this.sendConfigEvent();\n    }\n\n    public get callback(): (criteria: string) => void {\n        return this._config.callback;\n    }\n\n    public set callback(value: (criteria: string) => void) {\n        this._config.callback = value;\n        this.sendConfigEvent();\n    }\n\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\n        this._config.callback = callback;\n        this._config.criteria = criteria;\n        this._config.params = params;\n        this._config.history = history;\n        this.sendConfigEvent();\n    }\n\n    public clear(): void {\n        this._config.callback = null;\n        this._config.criteria = null;\n        this._config.params = null;\n        this.sendConfigEvent();\n    }\n\n    public open(): void {\n        this._config.visible = true;\n        this.sendConfigEvent();                \n    }\n            \n    public close(): void {\n        this._config.visible = false;        \n        this.sendConfigEvent();                \n    }                \n\n    public toggle(): void {\n        this._config.visible = !this._config.visible;\n        this.sendConfigEvent();                \n    }                   \n\n    private sendConfigEvent(): void {\n        this._rootScope.$broadcast(SearchChangedEvent, this._config);\n    }\n}\n\nclass SearchProvider implements ISearchProvider {\n    private _config: SearchConfig = new SearchConfig();\n    private _service: SearchService = null;\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SearchService(this._config, $rootScope);\n\n        return this._service;\n    } \n}\n\n\nangular.module('pipSearchBar')\n    .provider('pipSearch', SearchProvider);\n","\n\nangular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './SearchService';\nimport './SearchBarDirective';\n\nexport * from './SearchService';","\nimport { ISideNavService, SideNavConfig } from './SideNavService';\n\nimport { SideNavStateNames, SideNavState, SideNavStateConfig } from './SideNavState';\n\n// Prevent junk from going into typescript definitions\n\n\nclass SideNavDirectiveController {\n    private _element: ng.IAugmentedJQuery;\n    private _attrs: ng.IAttributes;\n    private _injector: ng.auto.IInjectorService;\n    private _scope: angular.IScope;\n    private _log: ng.ILogService;\n    private _rootScope: ng.IRootScopeService;\n    private _pipSideNav: ISideNavService;\n\n    private _pipMedia: pip.layouts.IMediaService;\n    private _timeout: ng.ITimeoutService;\n\n    private _isResizing: boolean;\n    private _animationDuration: number;\n    private _mainContainer: string; // todo add  to config\n    private _bigWidth: number;\n\n    private _middleWidth: number;\n    private _smallWidth: number;\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\n    private _navState: SideNavStateConfig;\n\n    private windowResize: Function;\n\n    public sidenavState: SideNavState;\n\n    constructor(\n        $element: ng.IAugmentedJQuery,\n        $attrs: ng.IAttributes,\n        $injector: ng.auto.IInjectorService,\n        $scope: angular.IScope,\n        $log: ng.ILogService,\n        $rootScope: ng.IRootScopeService,\n        $timeout: ng.ITimeoutService,\n        pipSideNav: ISideNavService,\n        navConstant: any\n\n    ) {\n        \"ngInject\";\n\n        this._element = $element;\n        this._attrs = $attrs;\n        this._scope = $scope;\n        this._injector = $injector;\n        this._log = $log;\n        this._rootScope = $rootScope;\n        this._timeout = $timeout;\n        this._pipSideNav = pipSideNav;\n\n        this._pipMedia = this._injector.has('pipMedia') ? <pip.layouts.IMediaService>this._injector.get('pipMedia') : null;\n\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\n        this._isResizing = false;\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\n        this._navState = new SideNavStateConfig();\n        this._mediaBreakpoints = this.setBreakpoints();\n\n        // Apply class and call resize\n        this._element.addClass('pip-sticky-sidenav');\n\n        let cleanupMainResized;\n        let cleanupSideNavState;\n\n        if (this._pipSideNav.config && this._pipSideNav.config.type != 'popup') {\n            this._timeout(() => {\n                this.setSideNaveState()\n            }, 100);\n\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\n            cleanupMainResized = this._rootScope.$on('pipMainResized', () => {\n                this.windowResize();\n            });\n            cleanupSideNavState = this._rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\n                this.onSideNavState($event, state)\n            });\n        } else {\n            this._isResizing = false;\n            this.sidenavState = null;\n            this._timeout(() => {\n                this.setState(SideNavStateNames.Toggle);\n            }, 100);\n        }\n\n        let cleanupNavHeaderChanged: Function = this._rootScope.$on('pipNavIconClicked', () => {\n            this.onNavIconClick();\n        });\n        let cleanupSideNavChanged: Function = this._rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\n            this.onSideNavChanged($event, config)\n        });\n\n        this._scope.$on('$destroy', () => {\n            if (angular.isFunction(cleanupNavHeaderChanged)) {\n                cleanupNavHeaderChanged();\n            }\n            if (angular.isFunction(cleanupSideNavChanged)) {\n                cleanupSideNavChanged();\n            }\n            if (angular.isFunction(cleanupMainResized)) {\n                cleanupMainResized();\n            }\n            if (angular.isFunction(cleanupSideNavState)) {\n                cleanupSideNavState();\n            }\n        });\n\n    }\n\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\n        } else {\n            return this._pipMedia.breakpoints;\n        }\n    }\n\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\n        if (config && config.visible) {\n            this._element.css('display', 'block');\n        } else {\n            this._element.css('display', 'none');\n        }\n    }\n\n    private onNavIconClick(): void {\n        this._pipSideNav.open();\n    }\n\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\n            this.setState(stateName);\n        }\n    }\n\n    private setSideNaveState(): void {\n        if (this._pipSideNav.config && this._pipSideNav.config.type == 'popup') { return }\n\n        if (this._isResizing) {\n            this._timeout(() => { this.setSideNaveState() }, this._animationDuration); \n\n            return;\n        }\n\n        let mainWidth: number = $(this._mainContainer).innerWidth();\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 2 : 0; // add border width\n\n        if (mainWidth + currentWidth < this._mediaBreakpoints.sm) {\n            this.setState(SideNavStateNames.Toggle);\n            return;\n        }\n        if (mainWidth + currentWidth < this._mediaBreakpoints.md) {\n            this.setState(SideNavStateNames.Small);\n            return;\n        }\n        if (mainWidth + currentWidth < this._mediaBreakpoints.lg) {\n            this.setState(SideNavStateNames.Large);\n            return;\n        }\n        this.setState(SideNavStateNames.XLarge);\n    }\n\n    private setState(stateName: SideNavStateNames) {\n        if (this._isResizing) return;\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\n\n        if (stateName != SideNavStateNames.Toggle) {\n            this._element.removeClass('sidenav-mobile');\n        }\n\n        if (stateName != SideNavStateNames.Small) {\n            this._element.removeClass('pip-sticky-nav-small');\n        }\n\n        if (stateName != SideNavStateNames.XLarge) {\n            this._element.removeClass('sidenav-desktop');\n        }\n\n        if (stateName != SideNavStateNames.Large) {\n            this._element.removeClass('sidenav-smalldesktop');\n        }\n\n        this._isResizing = true;\n        if (stateName == SideNavStateNames.Toggle) {\n            this._pipSideNav.close();\n        }\n        this.sidenavState = this._navState[String(stateName)];\n        this._element.addClass(this.sidenavState.addClass);\n\n        this._pipSideNav.state = this.sidenavState;\n\n        // check sideNav State\n        this._timeout(() => {\n            this.setSideNaveState()\n        }, 15);\n\n        // complete animation\n        this._timeout(() => {\n            this._isResizing = false;\n        }, this._animationDuration); //animationDuration\n\n    }\n}\n\n(() => {\n    function sideNavDirective() {\n        return {\n            restrict: 'E',\n            transclude: true,\n            scope: true,\n            templateUrl: 'sidenav/SideNav.html',\n            controller: SideNavDirectiveController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n    angular\n        .module('pipSideNav')\n        .directive('pipSidenav', sideNavDirective);\n\n})();","export let SideNavChangedEvent = 'pipSideNavChanged';\nexport let SideNavStateChangedEvent = 'pipSideNavStateChanged';\nexport let OpenSideNavEvent = 'pipOpenSideNav';\nexport let CloseSideNavEvent = 'pipCloseSideNav';","\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function SideNavPartDirectiveController($scope, $element, $attrs, $rootScope, pipSideNav) {\n        \"ngInject\";\n\n        var partName = '' + $attrs.pipSidenavPart;\n        var partValue = null;\n\n        // Break part apart\n        var pos = partName.indexOf(':');\n        if (pos > 0) {\n            partValue = partName.substr(pos + 1);\n            partName = partName.substr(0, pos);\n        }\n\n        onSideNavChanged(null, pipSideNav.config)\n        $rootScope.$on('pipSideNavChanged', onSideNavChanged);\n\n        function onSideNavChanged(event, config) {\n            var parts = config.parts || {};\n            var currentPartValue = parts[partName];\n            var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\n\n            if (visible != $scope.visible)\n                $scope.visible = visible;\n        }\n\n    }\n\n    function sidenavPartDirective(ngIfDirective) {\n        \"ngInject\";\n\n        var ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function linkFunction($scope: any, $element, $attrs) {\n                $attrs.ngIf = function () { return $scope.visible };\n                ngIf.link.apply(ngIf, arguments);\n            },\n            controller: SideNavPartDirectiveController\n        };\n    }\n\n    angular\n        .module('pipSideNav')\n        .directive('pipSidenavPart', sidenavPartDirective);\n\n})();","import { SideNavChangedEvent, SideNavStateChangedEvent, OpenSideNavEvent, CloseSideNavEvent } from './SideNavEvents';\n\nexport class SideNavConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n    visible: boolean;\n}\n\nexport interface ISideNavService {\n    readonly config: SideNavConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n    show(): void;\n    hide(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nexport interface ISideNavProvider extends ng.IServiceProvider {\n    config: SideNavConfig;\n    parts: any;\n    type: string;\n    visible: boolean;\n    classes: string[];\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nclass SideNavService implements ISideNavService {\n    private _config: SideNavConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n\n\n    public constructor(config: SideNavConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(SideNavStateChangedEvent, value);\n    }\n\n    public open() {\n        this._sidenav('pip-sticky-sidenav').open();\n    }\n\n    public close() {\n        this._sidenav('pip-sticky-sidenav').close();\n    }\n\n    public toggle() {\n        this._sidenav('pip-sticky-sidenav').toggle();\n    }\n\n    public show() {\n        if (!this._config.visible) {\n            this._config.visible = true;\n            this.sendConfigEvent();\n        }\n    }\n\n    public hide() {\n        if (this._config.visible) {\n            this._config.visible = false;\n            this.sendConfigEvent();\n        }\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(SideNavChangedEvent, this._config);\n    }\n}\n\nclass SideNavProvider implements ISideNavProvider {\n    private _config: SideNavConfig = {\n        parts: {},\n        classes: [],\n        type: 'popup',\n        state: null,\n        visible: true\n    };\n\n    private _service: SideNavService;\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public set config(value: SideNavConfig) {\n        this._config = value || new SideNavConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get visible(): boolean {\n        return this._config.visible;\n    }\n\n    public set visible(value: boolean) {\n        this._config.visible = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }\n}\n\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\n}\n\nangular\n    .module('pipSideNav')\n    .provider('pipSideNav', SideNavProvider)\n    .run(hookSideNavEvents);\n","export class SideNavStateNames {\n        static Toggle: string = 'toggle';\n        static Small: string = 'small';\n        static Large: string = 'large';\n        static XLarge: string = 'xlarge';\n}               \n               \n export class SideNavState {\n    id: SideNavStateNames;\n    // Class which added to sidenav in this state\n    addClass: string;\n    // Side nav always open\n    isLockedOpen: boolean;\n    // Show SideNav header \n    showHeader: boolean;\n    // Show expanded button\n    expandedButton: boolean;\n    // SideNav has expand\n    isExpanded: boolean;\n    // SideNav is Expanded in this state by default\n    expand: boolean;\n    // Tooltype is show\n    showIconTooltype: boolean;\n } \n\nexport class SideNavStateConfig {\n            toggle: SideNavState = { // media(sm, xs)\n                id: SideNavStateNames.Toggle,\n                addClass: 'sidenav-mobile', \n                showHeader: true,\n                isLockedOpen: false,\n                expandedButton: false,\n                isExpanded: true,\n                expand: true,\n                showIconTooltype: false\n            };\n            small: SideNavState = { // media(md)\n                id: SideNavStateNames.Small,\n                addClass: 'pip-sticky-nav-small sidenav-smalldesktop', \n                showHeader: false,\n                isLockedOpen: true,\n                expandedButton: false,\n                isExpanded: false,\n                expand: false,\n                showIconTooltype: true\n            };\n            large: SideNavState = { // media(lg)\n                id: SideNavStateNames.Large,\n                addClass: 'sidenav-smalldesktop', \n                showHeader: false,\n                isLockedOpen: true,\n                expandedButton: true,\n                isExpanded: true,\n                expand: true,\n                showIconTooltype: true\n            };\n            xlarge: SideNavState = { // media(xl)\n                id: SideNavStateNames.XLarge,\n                addClass: 'sidenav-desktop', \n                showHeader: false,\n                isLockedOpen: true,\n                expandedButton: false,\n                isExpanded: true,\n                expand: true,\n                showIconTooltype: false\n            };   \n}","\n\nangular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\n\nimport './SideNavEvents';\nimport './SideNavState';\nimport './SideNavService';\nimport './SideNavPartDirective';\nimport './SideNavDirective';\n\nexport * from './SideNavService';","\n// Prevent junk from going into typescript definitions\n{\n    class Selected {\n        activeIndex: number = 0;\n        activeTab: number = 0;\n    }\n\n    class TabsDirectiveController {\n\n        private _element: ng.IAugmentedJQuery;\n        private _attrs: ng.IAttributes;\n        private _injector: ng.auto.IInjectorService;\n        private _scope: angular.IScope;\n        private _log: ng.ILogService;\n        private _rootScope: ng.IRootScopeService;\n        private _pipTranslate: pip.services.ITranslateService;\n\n        private _pipTheme: pip.themes.IThemeService;\n        private _pipMedia: pip.layouts.IMediaService;\n        private _timeout: ng.ITimeoutService;\n\n        public themeClass: string;\n        public media: any;\n        public pipTabIndex: number;\n        public selected: Selected;\n        public tabs: any[];\n        public currentTheme: string;\n        public breakpoints: string;\n\n        constructor(\n            $element: ng.IAugmentedJQuery,\n            $attrs: ng.IAttributes,\n            $injector: ng.auto.IInjectorService,\n            $scope: angular.IScope,\n            $log: ng.ILogService,\n            $rootScope: ng.IRootScopeService,\n            $mdMedia: angular.material.IMedia,\n            $timeout: ng.ITimeoutService,\n            navConstant: any\n\n        ) {\n            \"ngInject\";\n\n            this._element = $element;\n            this._attrs = $attrs;\n            this._scope = $scope;\n            this._injector = $injector;\n            this._log = $log;\n            this._rootScope = $rootScope;\n            this._timeout = $timeout;\n\n            this.selected = new Selected();\n            this.setTheme();\n            this.setMedia($mdMedia);\n            this.initTabs();\n\n            this.breakpoints = this._scope['breakpoints'] ? this._scope['breakpoints'] : navConstant.TAB_BREAKPOINT;\n\n            if (this.toBoolean($attrs['pipRebind'])) {\n                this._scope.$watch(() => this._scope['activeIndex'],\n                    (newValue: number, oldValue: number) => {\n                        this.selected.activeIndex = newValue || 0;\n                        this.selected.activeTab = this.selected.activeIndex;\n                    }\n                );\n            }\n\n        }\n\n        private setTheme(): void {\n            this._pipTheme = this._injector.has('pipTheme') ? <pip.themes.IThemeService>this._injector.get('pipTheme') : null;\n            if (this._pipTheme) {\n                this.currentTheme = this._pipTheme.theme;\n            } else if (this._rootScope['$theme']) {\n                this.currentTheme = this._rootScope['$theme'];\n            }\n\n            this.themeClass = (this._attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\n        }\n\n        private setMedia($mdMedia: angular.material.IMedia): void {\n            this._pipMedia = this._injector.has('pipMedia') ? <pip.layouts.IMediaService>this._injector.get('pipMedia') : null;\n            this.media = this._pipMedia !== undefined ? this._pipMedia : $mdMedia;\n        }\n\n        private setTranslate(): void {\n            this._pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\n            if (this._pipTranslate) {\n                if (this.tabs.length > 0 && this.tabs[0].title) {\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\n                } else {\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\n                }\n            }\n        }\n\n        private initTabs(): void {\n            this.tabs = (this._scope['tabs'] && _.isArray(this._scope['tabs'])) ? this._scope['tabs'] : [];\n            this.pipTabIndex = this._attrs['pipTabIndex'] ? parseInt(this._attrs['pipTabIndex']) : 0;\n            this.selected.activeIndex = this._scope['activeIndex'] || 0;\n            this.selected.activeTab = this.selected.activeIndex;\n\n\n\n            if (this.pipTabIndex) {\n                this._timeout(() => {\n                    let a = this._element.find('md-tabs-canvas');\n                    if (a && a[0]) {\n                        angular.element(a[0]).attr('tabindex', this.pipTabIndex);\n                    }\n                    a.on('focusout', function () {\n                        angular.element(a[0]).attr('tabindex', this.pipTabIndex);\n                        this._timeout(() => {\n                            angular.element(a[0]).attr('tabindex', this.pipTabIndex);\n                        }, 50);\n                    });\n                }, 1000);\n            }\n            this.setTranslate();\n        }\n\n\n        public disabled(): boolean {\n            if (this._scope['ngDisabled']) {\n                return this._scope['ngDisabled']();\n            }\n\n            return false;\n        };\n\n        public tabDisabled(index: number): boolean {\n            return (this.disabled() && this.selected.activeIndex != index);\n        };\n\n        public onSelect(index: number): void {\n            if (this.disabled()) return;\n\n            this.selected.activeIndex = index;\n            this.selected.activeTab = this.selected.activeIndex;\n            this._timeout(() => {\n                this._scope['activeIndex'] = index;\n                if (this._scope['select']) {\n                    this._scope['select'](this.tabs[this.selected.activeIndex], this.selected.activeIndex);\n                }\n            }, 0);\n\n        };\n\n        public showShadow(): boolean {\n            if (this._scope['showTabsShadow']) {\n                return this._scope['showTabsShadow']();\n            } else {\n                return false;\n            }\n        };\n\n        public show(): boolean {\n            if (this._scope['showTabs']) {\n                return this._scope['showTabs']();\n            } else {\n                return true;\n            }\n        };\n\n        public toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n    }\n\n    function tabsDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                ngDisabled: '&',\n                tabs: '=pipTabs',\n                showTabs: '&pipShowTabs',\n                showTabsShadow: '&pipTabsShadow',\n                activeIndex: '=pipActiveIndex',\n                select: '=pipTabsSelect',\n                breakpoints: '=pipBreakpoints'\n            },\n            templateUrl: 'tabs/Tabs.html',\n            controller: TabsDirectiveController,\n            controllerAs: '$ctrl'\n        };\n    }\n\n\n    angular\n        .module(\"pipTabs\", ['pipNav.Templates'])\n        .directive('pipTabs', tabsDirective);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"!$ctrl._media(\\'xs\\')\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"$ctrl._media(\\'xs\\')\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"{{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"onUserClick()\" tabindex=\"-1\">{{ title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.selectedLanguage | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.expanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.expanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" ng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.expanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\" ng-hide=\"link.access && !link.access(link)\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-click=\"$ctrl.clickLink($event, link)\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\">{{ ::link.tooltipText | translate }}</md-tooltip><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!($ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded)\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !link.tooltipText && !$ctrl.expanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar class=\"pip-nav {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs ng-if=\"$ctrl.media($ctrl.breakpoints)\" md-selected=\"$ctrl.selected.activeTab\" ng-class=\"{\\'disabled\\': $ctrl.disabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">{{ tab.newCounts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.media($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.selected.activeIndex\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selected.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">{{ tab.newCounts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","{\n\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-cool': 'Cool'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     'bootbarn-cool': ''\n    // });\n    \n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(69, 90, 100, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\n\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(69, 90, 100, .54)',\n        '500': 'rgba(69, 90, 100, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\n\n\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-cool')\n        .primaryPalette('bootbarn-cool-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-cool-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-cool-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\n    .config(configureBootBarnCoolTheme);\n\n}","{\n\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-monochrome': 'Monochrome'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     'bootbarn-monochrome': ''\n    // });\n    \n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(38, 50, 56, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\n\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(38, 50, 56, .54)',\n        '500': 'rgba(38, 50, 56, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\n\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-monochrome')\n        .primaryPalette('bootbarn-monochrome-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-monochrome-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-monochrome-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\n    .config(configureBootBarnMonochromeTheme);\n\n}","{\n\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-warm': 'Warm'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     'bootbarn-warm': ''\n    // });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(177, 55, 34, 1)'\n        })\n        ;\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\n\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\n        '300': 'rgba(177, 55, 34, .54)',\n        '500': 'rgba(177, 55, 34, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\n\n\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'A700': 'rgba(127, 148, 92, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\n\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\n        'A200': 'rgba(255, 82, 82, 1)',\n        'contrastLightColors': ['A200']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\n\n    $mdThemingProvider.theme('bootbarn-warm')\n    .primaryPalette('bootbarn-warm-primary', {\n        'default': '500',\n        'hue-1': '300'\n    })\n    .backgroundPalette('bootbarn-warm-background', {\n        'default': '50',  // background\n        'hue-1': 'A200',  // tiles dialog\n        'hue-2': 'A700'   // app bar\n    })\n    .warnPalette('bootbarn-warm-error', {\n        'default': 'A200'\n    })\n    .accentPalette('bootbarn-warm-accent', {\n        'default': 'A700'\n    });\n}\n\n\nangular\n    .module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\n    .config(configureBootBarnWarmTheme);\n\n}","import './BootBarnCoolTheme';\nimport './BootBarnWarmTheme';\nimport './BootBarnMonochromeTheme';\n\nangular.module('pipTheme.BootBarn', [\n    'ngMaterial',\n    'pipTheme.BootBarn.Warm',\n    'pipTheme.BootBarn.Cool',\n    'pipTheme.BootBarn.Monochrome',\n]);\n","import { IThemeService, IThemeProvider } from './IThemeService';\n\nexport let ThemeRootVar = \"$theme\";\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \nexport let ThemeResetPage = \"pipResetPage\";    \n\nclass ThemeConfig {\n    public theme: string;\n}\n\nclass ThemeService implements IThemeService {\n    private _config: ThemeConfig;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _currentTheme: string = null;\n\n    public constructor(\n        private $log: ng.ILogService,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService,\n        private $mdTheming,\n        config: ThemeConfig,\n        setRootVar: boolean,\n        persist: boolean,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._config = config;\n\n        //if (this._persist && this.$window.localStorage && this._config.theme == \"default\")\n        this._config.theme = this.$window.localStorage.getItem('theme') || this._config.theme || 'default';\n\n        this.$log.debug(\"Set theme to \" + this._config.theme);\n\n        // Define theme for angular material \n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\n        this.save();\n    }\n\n    private save(): void {\n        let body = $('body');\n        let newTheme: string = this._config.theme;\n\n        // Switch material theme\n        // body.attr('md-theme', newTheme);\n\n        // Change custom theme\n        body.addClass(newTheme);\n        if (this._currentTheme != null && this._currentTheme != newTheme)\n            body.removeClass(this._currentTheme);            \n\n        this._currentTheme = newTheme;\n\n        // Set root scope variable\n        if (this._setRootVar)\n            this.$rootScope[ThemeRootVar] = this._config.theme;\n\n        // Save in local storage\n        if (this._persist && this.$window.localStorage != null)\n            this.$window.localStorage.setItem('theme', this._config.theme);\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        if (value != this._config.theme) {\n            if (!(value in this.$mdTheming.THEMES))\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\n\n            this._config.theme = value;\n            \n            this.$log.debug(\"Changing theme to \" + value);\n\n            this.save();                \n\n            this.$rootScope.$emit(ThemeChangedEvent, value);\n            this.$rootScope.$emit(ThemeResetPage);\n        }\n    }\n\n    public use(theme: string): string {\n        if (theme != null) {\n            this._config.theme = theme;\n            this.save();    \n        }     \n        return this._config.theme;\n    }\n\n}\n\n\nclass ThemeProvider implements IThemeProvider {\n    private _config: ThemeConfig = new ThemeConfig();\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: ThemeService;\n    \n    public constructor() {\n        this._config.theme = \"default\";\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        this._config.theme = value;\n    }\n\n    public use(theme: string): string {\n        if (theme != null) {\n            this._config.theme = theme;\n            let body = $('body');\n            body.addClass(this._config.theme);\n        }\n        return this._config.theme;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdTheming: any\n    ): ThemeService {\n        \"ngInject\";\n        if (_.isUndefined(this._service) || _.isNull(this._service))  {\n            this._service = new ThemeService($log, $rootScope, $window, this._config,  $mdTheming, this._setRootVar, this._persist);\n        }\n         \n        return this._service;\n    }\n}\n\n\nfunction initTheme(pipTheme: IThemeService) {\n    pipTheme.theme;\n}\n\n\nangular\n    .module('pipTheme')\n    .provider('pipTheme', ThemeProvider)\n    .run(initTheme);\n","angular.module('pipTheme', ['ngMaterial']);\n\nimport './ThemeService';\n\nexport * from './IThemeService';\nexport * from './ThemeService';\n","{\n\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     amber: 'Amber'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     amber: ''\n    // });\n\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)'\n    });\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\n\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 152, 0, 1)',\n        '900': 'rgba(255, 152, 0, .54);'\n    });\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\n\n    $mdThemingProvider.theme('amber')\n        .primaryPalette('orange-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('orange-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('orange', {\n            'default': '900'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\n    .config(configureDefaultAmberTheme);\n    \n}","{\n\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     blue: 'Blue',\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     blue: ''\n    // });\n\n    registerBlueTheme('default');\n    registerBlueTheme('blue');\n\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    function registerBlueTheme(themeName) {\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\n            'contrastDefaultColor': 'light',\n            'contrastDarkColors': undefined\n        });\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\n\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(33, 150, 243, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\n\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\n            '600': 'rgba(0, 200, 83, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\n\n        $mdThemingProvider.theme(themeName)\n            .primaryPalette('blue-primary', {\n                'default': '500',\n                'hue-1': '300'\n            })\n            .backgroundPalette('blue-background', {\n                'default': '50',  // background\n                'hue-1': 'A200',  // tiles dialog\n                'hue-2': 'A700'   // app bar\n            })\n            .warnPalette('red', {\n                'default': 'A200'\n            })\n            .accentPalette('blue-accent', {\n                'default': '600'\n            });\n    }\n}\n\n\nangular\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\n    .config(configureDefaultBlueTheme);\n\n}","{\n\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     green: 'Green'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     green: ''\n    // });\n\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(76, 175, 80, 1)'\n    });\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\n\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\n        '300': '#9ed4a1',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\n\n\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\n\n    $mdThemingProvider.theme('green')\n        .primaryPalette('green-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('green-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('green-accent', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.Green', [ 'ngMaterial' ])\n    .config(configureDefaultGreenTheme);\n\n}","{\n\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     grey: 'Grey'\n    // });\n    \n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     grey: ''\n    // });\n\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)',\n        'A400': '#a9b9c0',\n        '500': '#607D8B',\n        'A700': '#90A4AE',\n        //'800': '',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\n\n\n    $mdThemingProvider.theme('grey')\n        .primaryPalette('third-party', {\n            'default': '500',\n            'hue-1': 'A400'\n        })\n        .backgroundPalette('third-party', {\n            'default': '50',  // background\n            'hue-1': '500',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('third-party', {\n            'default': 'A700'\n        });\n    \n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\n\nangular\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\n    .config(configureDefaultGreyTheme);\n\n}","{\n\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     navy: 'Navy'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     navy: '-'\n    // });\n\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\n        '700': 'rgba(86, 97, 125, 1)',\n        '800': 'rgba(86, 97, 125, .54)',\n        'A100': 'rgba(250, 250, 250, 1)',\n    });\n    $mdThemingProvider.definePalette('grey', greyPalette);\n\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('teal', tealPalette);\n\n    $mdThemingProvider.theme('navy')\n        .primaryPalette('grey', {\n            'default': '700',\n            'hue-1': '800'\n        })\n        .backgroundPalette('grey', {\n            'default': '50',  // background\n            'hue-1': '700',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('teal', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\n    .config(configureDefaultNavyTheme);\n    \n}","{\n\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     orange: 'Orange'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     orange: ''\n    // });\n\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 112, 67, 1)',\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\n    });\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\n\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 112, 67, 1)',\n        '900': 'rgba(255, 152, 67, .54)',\n        'A100': 'rgba(255, 171, 64, 1)',\n        'contrastLightColors': ['800', '900', 'A100']\n    });\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\n\n    $mdThemingProvider.theme('orange')\n        .primaryPalette('red-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('red-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('red-primary', {\n            'default': 'A100'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\n    .config(configureDefaultOrangeTheme);\n\n}","{\n\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     pink: 'Pink'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: '',\n    //     pink: '',\n\n    // });\n\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['A200', 'A700']\n    });\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\n\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\n        '600': 'rgba(255, 128, 171, 1)',\n        '700': 'rgba(188, 86, 121, .54)',\n        '900': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'light'\n    });\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\n\n    $mdThemingProvider.theme('pink')\n        .primaryPalette('pink-primary', {\n            'default': '900',\n            'hue-1': '700'\n        })\n        .backgroundPalette('pink-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('pink-primary', {\n            'default': '600'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\n    .config(configureDefaultPinkTheme);\n    \n}","import './DefaultBlueTheme';\nimport './DefaultPinkTheme';\nimport './DefaultAmberTheme';\nimport './DefaultOrangeTheme';\nimport './DefaultGreenTheme';\nimport './DefaultNavyTheme';\nimport './DefaultGreyTheme';\n\nfunction configureDefaultTheme($mdThemingProvider) {\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Default', [\n        'ngMaterial',\n        'pipTheme.Blue', \n        'pipTheme.Pink',\n        'pipTheme.Amber', \n        'pipTheme.Orange', \n        'pipTheme.Green', \n        'pipTheme.Navy', \n        'pipTheme.Grey'\n    ])\n    .config(configureDefaultTheme);\n","/**\n * @file Errors string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Strings', ['pipTranslate']);\n\n    thisModule.run(($injector: angular.auto.IInjectorService) => {\n        let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        if (pipTranslate == null) return;\n\n        // Set translation strings for the module\n        pipTranslate.translations('en', {\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n            'ERROR_ROUTE_CONTINUE': 'Continue',\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\n\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n            'ERROR_UNKNOWN_CLOSE': 'Close',\n            'ERROR_UNKNOWN_DETAILS': 'Details',\n\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n                                            'a short period. We\\'ll be back soon. Thank for your patience.',\n            'ERROR_AVAILABLE_CLOSE': 'Close',\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\n\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\n            'ERROR_RESPONDING_RETRY': 'Retry',\n\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n                                          'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n                                          'technologies. Download one of these great browsers and you\\'ll be on your way:',\n            'ERROR_UNSUPPORTED_O': 'Opera',\n            'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\n\n        });\n\n        pipTranslate.translations('ru', {\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n            'ERROR_ROUTE_CONTINUE': 'Continue',\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\n\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n            'ERROR_UNKNOWN_CLOSE': 'Close',\n            'ERROR_UNKNOWN_DETAILS': 'Details',\n\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n            'a short period. We\\'ll be back soon. Thank for your patience.',\n            'ERROR_AVAILABLE_CLOSE': 'Close',\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\n\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\n            'ERROR_RESPONDING_RETRY': 'Retry',\n\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n            'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n            'technologies. Download one of these great browsers and you\\'ll be on your way:',            \n            'ERROR_UNSUPPORTED_O': 'Opera',\n            'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\n\n        });\n    });\n\n})();","/**\n * @file Registration of all error handling components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(() => {\n    'use strict';\n\n    angular.module('pipErrors', [\n        'pipErrors.Pages',\n        'pipErrorsService',\n        'pipNoConnectionPanel',\n        'pipClearErrors',\n\t    'pipFormErrors'\n\n    ]);\n    \n})();","'use strict';\n\nangular.module('pipErrorsService', []);\n\nimport './errors_service';","/* global angular */\n\nimport {IErrorsService, ErrorsConfig} from './errors_service';\n\nclass ErrorsPageRun {\n    constructor(\n        $rootScope: ng.IRootScopeService, \n        private $state: ng.ui.IStateService, \n        private $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let errorConfig: ErrorsConfig = pipErrorsService.config;\n\n            if (errorConfig.Unsupported.Active) {\n                this.checkSupported();\n            }\n\n            if (errorConfig.MissingRoute.Active) {\n                $rootScope.$on('$stateNotFound',\n                    (\n                        event: angular.IAngularEvent, \n                        unfoundState: ng.ui.IState, \n                        fromState: ng.ui.IState, \n                        fromParams: any) => {\n                        event.preventDefault();\n\n                        $state.go('errors_missing_route', {\n                            unfoundState: unfoundState,\n                            fromState: {\n                                to: fromState ? fromState.name : '',\n                                fromParams: fromParams\n                            }\n                        }\n                        );\n                        $rootScope['$routing'] = false;\n                    }\n                );\n            }\n\n            if (errorConfig.NoConnection.Active) {\n                $rootScope.$on('pipNoConnectionError', \n                (event: angular.IAngularEvent, params) => { \n                    this.noConnectionError(event, params)\n                });\n            }\n\n            if (errorConfig.Unknown.Active) {\n                $rootScope.$on('pipUnknownError',\n                (event: angular.IAngularEvent, params) => { \n                    this.unknownError(event, params)\n                });\n            }\n\n            if (errorConfig.Maintenance.Active) {\n                $rootScope.$on('pipMaintenanceError',\n                (event: angular.IAngularEvent, params) => { \n                    this.maintenanceError(event, params)\n                });\n            }\n    }\n\n    private goToErrors(toState: string, params) {\n        if (toState == null)\n            throw new Error('Error state was not defined');\n\n        this.$state.go(toState, params);\n    }\n\n    private maintenanceError(event: angular.IAngularEvent, params) {\n        this.goToErrors('errors_maintenance', params);\n    }\n\n    private noConnectionError(event: angular.IAngularEvent, params) {\n        this.goToErrors('errors_no_connection', params);\n    }\n\n    private unknownError(event: angular.IAngularEvent, params) {\n        this.goToErrors('errors_unknown', params);\n    }\n// todo: implement this into puplic service\n    private checkSupported(supported?: any) {\n        let pipSystemInfo: any = this.$injector.has('pipSystemInfo') ? this.$injector.get('pipSystemInfo') : null;\n        if (!pipSystemInfo) { return; }\n\n                // todo make configured\n        if (!supported) {\n            supported = {\n                edge: 11,\n                ie: 11,\n                firefox: 43, //4, for testing\n                opera: 35,\n                chrome: 47\n            };\n        }\n\n        let browser: string = pipSystemInfo.browserName;\n        let version: string = pipSystemInfo.browserVersion;\n            version = version.split(\".\")[0]\n\n        if (browser && supported[browser] && version >= supported[browser]) {\n            return;\n        }\n                // if not supported\n        this.$state.go('errors_unsupported');\n    }\n}\n\ninterface IAuthHttpResponseInterceptor {\n    responseError(rejection);\n}\n\nclass AuthHttpResponseInterceptor implements IAuthHttpResponseInterceptor{\n    constructor(\n        private $q: ng.IQService, \n        private $location: ng.ILocationService, \n        private $rootScope: ng.IRootScopeService) {}\n    public responseError(rejection) {\n        let toState: string = this.$rootScope['$state'] && this.$rootScope['$state'].name ? this.$rootScope['$state'].name : null,\n            toParams = this.$rootScope['$state'] && this.$rootScope['$state'].params ? this.$rootScope['$state'].params : null;\n\n        switch (rejection.status) {\n            case 503:\n                //available (maintenance)\n                this.$rootScope.$emit('pipMaintenanceError', { error: rejection });\n                break;\n            case -1:\n                this.$rootScope.$emit('pipNoConnectionError', { error: rejection });\n                break;\n            default:\n                console.error(\"errors_unknown\", rejection);\n                break;\n        }\n\n        return this.$q.reject(rejection);\n    }\n\n}\n\n    import {ErrorMaintenanceController} from '../maintenance/maintenance';\n\n(() => {\n    'use strict';\n\n    function ErrorsPageConfig(\n        $stateProvider: ng.ui.IStateProvider, \n        $httpProvider: ng.IHttpProvider\n    ) {\n        // Attach interceptor to react on unauthorized errors\n        $httpProvider.interceptors.push('pipAuthHttpResponseInterceptor');\n\n            // Configure module routes\n        $stateProvider\n                .state('errors_no_connection', {\n                    url: '/errors/no_connection',\n                    params: {\n                        error: null\n                    },\n                    controller: 'pipErrorNoConnectionController',\n                     controllerAs: '$ctrl',\n                    templateUrl: 'no_connection/no_connection.html'\n                })\n                .state('errors_maintenance', {\n                    url: '/errors/maintenance',\n                    params: {\n                        error: null\n                    },\n                    controller: ErrorMaintenanceController,\n                    controllerAs: '$ctrl',\n                    templateUrl: 'maintenance/maintenance.html'\n                })\n                .state('errors_missing_route', {\n                    url: '/errors/missing_route',\n                    params: {\n                        unfoundState: null,\n                        fromState: null\n                    },\n                    controller: 'pipErrorMissingRouteController',\n                    controllerAs: '$ctrl',\n                    templateUrl: 'missing_route/missing_route.html'\n                })\n                .state('errors_unsupported', {\n                    url: '/errors/unsupported',\n                    params: {\n                        error: null\n                    },\n                    controllerAs: '$ctrl',\n                    controller: 'pipErrorUnsupportedController',\n                    templateUrl: 'unsupported/unsupported.html'\n                })\n                .state('errors_unknown', {\n                    url: '/errors/unknown',\n                    params: {\n                        error: null\n                    }, \n                    controllerAs: '$ctrl',\n                    controller: 'pipErrorUnknownController',\n                    templateUrl: 'unknown/unknown.html'\n                });\n    }\n\n    angular.module('pipErrors.Pages', [\n        'ngMaterial',\n        'pipErrors.Strings', 'pipErrors.NoConnection', 'pipErrors.MissingRoute', 'pipErrors.Unsupported',\n        'pipErrors.Unknown', 'pipErrors.Maintenance', 'pipErrors.Translate', 'pipErrors.Templates'\n    ])\n    .config(ErrorsPageConfig)\n    .run((\n        $rootScope: ng.IRootScopeService, \n        $state: ng.ui.IStateService, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) => {\n        let run = new ErrorsPageRun($rootScope, $state, $injector, pipErrorsService);\n    })\n    .service('pipAuthHttpResponseInterceptor', AuthHttpResponseInterceptor);\n\n})();\n\n","'use strict';\n\nexport class ErrorStateItem {\n    Active: boolean;\n    Name: string;\n    Event: string;\n    Title: string;\n    SubTitle: String;\n    Breadcrumb: string;\n    Image: string;\n    Params?: any;\n}\n\nexport class ErrorsConfig {\n    Maintenance: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_maintenance',\n        Event: 'pipMaintenanceError',\n        Title: 'ERROR_AVAILABLE_TITLE',\n        SubTitle: 'ERROR_AVAILABLE_SUBTITLE',\n        Breadcrumb: 'ERROR_AVAILABLE_TITLE',\n        Image: 'images/maintenance.svg'\n        \n    };\n    MissingRoute: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_missing_route',\n        Event: '$stateNotFound',\n        Title: 'ERROR_ROUTE_TITLE',\n        SubTitle: 'ERROR_ROUTE_SUBTITLE',\n        Breadcrumb: 'ERROR_ROUTE_PAGE_TITLE',\n        Image: 'images/invalid_route.svg'\n    };\n    NoConnection: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_no_connection',\n        Event: 'pipNoConnectionError',\n        Title: 'ERROR_RESPONDING_TITLE',\n        SubTitle: 'ERROR_RESPONDING_SUBTITLE',\n        Breadcrumb: 'ERROR_RESPONDING_TITLE',\n        Image: 'images/no_response.svg'\n    };\n    Unknown: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_unknown',\n        Event: 'pipUnknownError',\n        Title: 'ERROR_UNKNOWN_TITLE',\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\n        Image: 'images/unknown_error.svg'\n    };\n    Unsupported: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_unsupported',\n        Event: '',\n        Title: 'ERROR_UNSUPPORTED_TITLE',\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\n        Image: '',\n        Params: {\n            supported: {\n                edge: 11,\n                ie: 11,\n                firefox: 43, \n                opera: 35,\n                chrome: 47\n            }\n        }\n    }\n}\n\nexport interface IErrorsService {\n    getErrorItemByKey(errorName: string): ErrorStateItem;\n\n    config: ErrorsConfig;\n}\n\nexport interface IErrorsProvider extends ng.IServiceProvider {\n    configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void;\n    configureErrors(value: ErrorsConfig): void;\n    config: ErrorsConfig;\n}\n\nclass ErrorsService implements IErrorsService {\n    private _config: ErrorsConfig;\n\n    public constructor(\n        config: ErrorsConfig\n    ) {\n        \"ngInject\";\n\n        this._config = config || new ErrorsConfig();\n    }\n\n    public get config(): ErrorsConfig {\n        console.log(this._config);\n        return this._config;\n    }\n\n    public getErrorItemByKey(errorName: string): ErrorStateItem {\n        if (!errorName || !this._config[errorName]) {\n            return null;\n        }\n\n        return this._config[errorName];\n    }\n\n}\n\nclass ErrorsProvider implements IErrorsProvider {\n    private _service: ErrorsService;\n    public config: ErrorsConfig;\n\n    constructor() {\n        this.config = new ErrorsConfig();\n    }\n\n    public configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void {\n        if (!errorName || !errorParams) return;\n        if (!this.config[errorName]) return;\n\n        this.config[errorName] = <ErrorStateItem>_.defaultsDeep(errorParams, this.config[errorName]);\n    }\n\n    public configureErrors(value: ErrorsConfig): void {\n        if (!value) return;\n\n        this.config = <ErrorsConfig>_.defaultsDeep(value, this.config);\n    }\n\n    public $get(): ErrorsService {\n        \"ngInject\";\n\n        if (this._service == null ) {\n            this._service = new ErrorsService(this.config);\n        }\n\n        return this._service;\n    }\n}\n\n(() => {\nangular\n    .module('pipErrorsService')\n    .provider('pipErrorsService', ErrorsProvider);\n\n})();\n","/**\n * @file Special error handling for forms\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nclass ClearErrorsLink {\n    private _fieldController: any;\n    private _formController: any;\n\n    constructor(\n        $scope: ng.IScope,\n        $element: ng.IRootElementService, \n        $attrs: ng.IAttributes, \n        $ctrls\n    ) {\n        this._fieldController = $ctrls[0],\n        this._formController = $ctrls[1];\n\n        $scope.$watch($attrs['ngModel'], (newValue) => {\n            this.clearFieldErrors();\n            this.clearFormErrors();\n        });\n    }\n\n    private clearFieldErrors() {\n        let errors = this._fieldController.$error;\n\n        for (let prop in errors) {\n            if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\n                this._fieldController.$setValidity(prop, true);\n            }\n        }\n    }\n\n    private clearFormErrors() {\n        this._formController.$serverError = {};\n    }\n}\n\n(() => {\n    'use strict';\n\n    function clearErrors () {\n        return {\n            restrict: 'A',\n            require: ['ngModel', '^?form'],\n            link: ClearErrorsLink\n        };\n    }\n\n    var thisModule = angular.module('pipClearErrors', []);\n\n    thisModule.directive('pipClearErrors', clearErrors);\n\n})();","/**\n * @file Form error utilities\n * @copyright Digital Living Software Corp. 2014-2016\n *\n */\n \n /* global _, angular */\n\n class FormErrors {\n\n    constructor(private $rootScope: ng.IRootScopeService) {}\n\n    public errorsWithHint(field) {\n        if (field == null) return;\n\t\t\t\n        return _.isEmpty(field.$error) ? { hint: true } : field.$error;\n    };\n\n    public touchedErrorsWithHint(form: ng.IFormController, field) {\n        if (form == null) return;\n        if (field == null) return;\n\n        if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\n            let result = _.isEmpty(field.$error) ? { hint: true} : field.$error;\n            return result;\n        }\n        return { hint: true };\n    }\n\n    public resetFormErrors(form: ng.IFormController, errors?: boolean): void {\n        form.$setPristine();\n        form.$setUntouched();\n\n        if (errors) {\n            form.$setDirty();\n            form.$setSubmitted();\n        }\n\n        form['$serverError'] = {};\n    }\n\n    public resetFieldsErrors(form: ng.IFormController, field) {\n        if (!form) return;\n        if (field && form[field] && form[field].$error) {\n            form[field].$error = {};\n        } else {\n            for (let prop in form) {\n                if (form[prop] && form[prop].$error) {\n                    form[prop].$error = {};\n                }\n            }\n            if (form && form.$error) { \n                form.$error = {}; \n            }\n        }\n    }\n\n    public setFormError(form: ng.IFormController, error, errorFieldMap) {\n            if (error == null) return;\n            // Prepare form server errors\n            form['$serverError'] = form['$serverError'] || {};\n            // Prepare error code\n            let code: string = error.code || (error.data || {}).code || null;\n            if (!code && error.status) code = error.status;\n\n            if (code) {\n                let errorName = 'ERROR_' + code,\n                    field = errorFieldMap ? errorFieldMap[code] : null;\n                // Set server error to fields\n                if (field && form[field] && form[field].$setValidity) {\n                    form[field].$setValidity(errorName, false);\n                    return;\n                }\n\n                // Set server error to form\n                if (field == 'form') {\n                    form['$serverError'][errorName] = true;\n                    return;\n                }\n            }\n\n            // if undefined error for this form or code === undefined/null, go to unhandled error page\n            if (error.data && error.data.message) {\n                form['$serverError']['ERROR_UNKNOWN'] = error.data.message;\n                this.goToUnhandledErrorPage(error);\n                return;\n            }\n\n            // Set as undefined error\n            if (error.message) {\n                form['$serverError']['ERROR_UNKNOWN'] = error.message;\n                this.goToUnhandledErrorPage(error);\n                return;\n            }\n\n            if (error.name) {\n                form['$serverError']['ERROR_UNKNOWN'] = error.name;\n                this.goToUnhandledErrorPage(error);\n                return;\n            }\n\n            \n            form['$serverError']['ERROR_UNKNOWN'] = error;\n            this.goToUnhandledErrorPage(error);\n        }\n\n        private goToUnhandledErrorPage(error) {\n            this.$rootScope.$emit('pipUnhandledInternalError', {\n                error: error\n            });\n        };\n }\n \n(() => {\n    'use strict';\n\n    angular.module('pipFormErrors', [])\n    .service('pipFormErrors', FormErrors);\n\n})();","/**\n * @file Maintenance error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipMaintenanceError {\n    config?: PipMaintenanceErrorConfig;\n}\nexport class PipMaintenanceErrorConfig {\n    params?: PipMaintenanceErrorParams;\n}\nexport class PipMaintenanceErrorParams {\n    interval?: number = 0;\n}\n\nexport class ErrorMaintenanceController {\n    private _errorKey: string = 'Maintenance';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipMaintenanceError;\n    public timeoutInterval: number;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n        this.timeoutInterval = this.error && this.error.config &&\n            this.error.config.params && this.error.config.params.interval ? this.error.config.params.interval : 0;\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n}\n\n\n(() => {\n    'use strict';\n\n    angular.module('pipErrors.Maintenance', []).controller('PipErrorMaintenanceController', ErrorMaintenanceController);\n\n})();\n","/**\n * @file Missing route error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nclass PipMissingRouteErrorState {\n   to: string;\n   toParams: any;\n   fromParams: any;\n}\n\nclass ErrorMissingRouteController {\n    private _errorKey: string = 'MissingRoute';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public fromState: PipMissingRouteErrorState;\n    public unfoundState: PipMissingRouteErrorState;\n    public url: string;\n    public urlBack: string;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.fromState = $state && $state.params && $state.params['fromState'] ?  $state.params['fromState'] : {};\n        this.unfoundState = $state && $state.params ?  $state.params['unfoundState'] : {};\n        this.url = this.unfoundState && this.unfoundState.to ? $state.href(this.unfoundState.to, this.unfoundState.toParams, {absolute: true}) : '';\n        this.urlBack = this.fromState && this.fromState.to ? $state.href(this.fromState.to, this.fromState.fromParams, {absolute: true}) : '';\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    public  onContinue() {\n            // Todo: Go to default state '/'\n            //pipAuthState.goToAuthorized();\n    };\n}\n\n\n(() => {\n    'use strict';\n\n    angular.module('pipErrors.MissingRoute', [])\n        .controller('pipErrorMissingRouteController', ErrorMissingRouteController);\n\n})();\n","/**\n * @file No connection error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipNoConnectionError {\n    config?: any;\n}\n\nexport class ErrorNoConnectionController {\n    private _errorKey: string = 'NoConnection';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipNoConnectionError;\n\n    constructor(\n        private $window: ng.IWindowService,\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    public onRetry() {\n        this.$window.history.back();\n    }\n}\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.NoConnection', []);\n\n    thisModule.controller('pipErrorNoConnectionController',  ErrorNoConnectionController);\n\n\n})();\n","/**\n * @file No Connection Error panel\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global _, angular */\nclass NoConnectionPanelController {\n    private _retry: Function;\n    constructor($scope: ng.IScope){\n        this._retry = $scope['retry'];\n    }\n\n    public onRetry() {\n        if (this._retry && angular.isFunction(this._retry)) this._retry();\n    }\n}\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module(\"pipNoConnectionPanel\", ['pipErrors.Translate']);\n\n    thisModule.directive('pipNoConnectionPanel',\n        () => {\n            return {\n                restrict: 'E',\n                scope: {\n                    error: '=pipError',\n                    retry: '=pipRetry'\n                },\n                templateUrl: 'no_connection_panel/no_connection_panel.html',\n                controller: 'pipNoConnectionPanelController',\n                controllerAs: '$ctrl'\n            };\n        }\n    );\n\n    thisModule.controller('pipNoConnectionPanelController', NoConnectionPanelController);\n\n})();\n\n","/**\n * @file Unknown error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipUnknownErrorDetails {\n    code: number;\n    message: string;\n    status: string;\n    server_stacktrace: Function;\n    client_stacktrace: Function;\n}\n\nexport class ErrorUnknownController {\n    private _errorKey: string = 'Unknown';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipUnknownErrorDetails;\n    public error_details: PipUnknownErrorDetails;\n    public showError: boolean;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.showError = $scope['showError'];\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n        \n        this.parseError();\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n\n    private parseError() {\n        this.error_details = new PipUnknownErrorDetails();\n        this.error_details.code = this.error.code;\n        this.error_details.message = this.error.message;\n        this.error_details.status = this.error.status;\n\n        this.error_details.server_stacktrace = () => {};\n\n        this.error_details.client_stacktrace = () => {};\n    }\n\n    public onDetails() {\n        this.showError = true;\n    }\n\n}\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Unknown', []);\n\n    thisModule.controller('pipErrorUnknownController', ErrorUnknownController);\n\n})();\n","/**\n * @file Unsupported error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n\nimport {IErrorsService, ErrorsConfig, ErrorStateItem} from '../errors_pages/errors_service';\n\nexport class PipUnsupportedError {\n    config?: any;\n}\n\nexport class ErrorUnsupportedController {\n    private _errorKey: string = 'Unsupported';\n    private pipNavService;\n\n    public errorConfig: ErrorStateItem;\n    public isCordova: boolean = false;\n    public media;\n    public error: PipUnsupportedError;\n\n    constructor(\n        $scope: ng.IScope,\n        $state: ng.ui.IStateService, \n        $rootScope: ng.IRootScopeService,\n        $mdMedia: angular.material.IMedia, \n        $injector: angular.auto.IInjectorService, \n        pipErrorsService: IErrorsService) {\n\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n        this.errorConfig = pipErrorsService.getErrorItemByKey(this._errorKey);\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n\n        this.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope['$routing'] = false;\n        this.appHeader();\n\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\n\n    }\n\n    private appHeader(): void {\n        if (!this.pipNavService) return;\n\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.showMenu();\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\n        this.pipNavService.actions.hide();\n    }\n}\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Unsupported', []);\n\n    thisModule.controller('pipErrorUnsupportedController', ErrorUnsupportedController);\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/maintenance.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_AVAILABLE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_AVAILABLE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.timeoutInterval\">{{::\\'ERROR_AVAILABLE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"$ctrl.isCordova\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_AVAILABLE_CLOSE\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/missing_route.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"$ctrl.onContinue($event)\">{{::\\'ERROR_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{$ctrl.url}}\">{{::\\'ERROR_ROUTE_TRY_AGAIN\\' | translate }}: {{$ctrl.url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{$ctrl.urlBack}}\">{{::\\'ERROR_ROUTE_GO_BACK\\' | translate }}: {{$ctrl.urlBack}}</a></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/no_connection.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/unsupported.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$ctrl.media(\\'gt-xs\\')\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$ctrl.media(\\'xs\\')\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/unknown.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.showError && $ctrl.error_details && $ctrl.error_details.message\"><div ng-if=\"$ctrl.error_details.code\">Code: {{$ctrl.error_details.code}}</div><div ng-if=\"$ctrl.error_details.message\">Description: {{$ctrl.error_details.message}}</div><div ng-if=\"$ctrl.error_details.status\">HTTP status: {{$ctrl.error_details.status}}</div><div ng-if=\"$ctrl.error_details.server_stacktrace\">Server stacktrace: {{$ctrl.error_details.server_stacktrace}}</div><div ng-if=\"$ctrl.error_details.client_stacktrace\">Client stacktrace stacktrace: {{$ctrl.error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"$ctrl.isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"$ctrl.error_details && $ctrl.error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"$ctrl.onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/no_connection_panel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipBarCharts\n     *\n     * @description\n     * Bar chart on top of Rickshaw charts\n     */\n    angular.module('pipBarCharts', [])\n        .directive('pipBarChart', pipBarChart);\n\n    function pipBarChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                xTickFormat: '=pipXTickFormat',\n                yTickFormat: '=pipYTickFormat',\n                interactiveLegend: '=pipInterLegend'\n            },\n            bindToController: true,\n            controllerAs: 'barChart',\n            templateUrl: 'bar/bar_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                let vm = this;\n                let chart = null;\n                let chartElem = null;\n                let colors = _.map($mdColorPalette, function (palette, color) {\n                    return color;\n                });\n                colors = _.filter(colors, function(color){\n                    return _.isObject($mdColorPalette[color]) && _.isObject($mdColorPalette[color][500] && _.isArray($mdColorPalette[color][500].value));\n                });                \n                let height = 270;\n\n                vm.data = prepareData(vm.series) || [];\n                vm.legend = _.clone(vm.series);\n                \n                if ((vm.series || []).length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                $scope.$watch('barChart.series', function (updatedSeries) {\n                    vm.data = prepareData(updatedSeries);\n                    vm.legend = _.clone(vm.series);\n                    generateParameterColor();\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        configBarWidthAndLabel();\n                        drawEmptyState();\n                    }\n                });\n\n                $scope.$watch('barChart.legend', function(updatedLegend) {\n                    vm.data = prepareData(updatedLegend);\n                    vm.legend = updatedLegend;\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        configBarWidthAndLabel();\n                        drawEmptyState();\n                    }\n                }, true);\n\n                function prepareData(data) {\n                    let result = [];\n                    _.each(data, (seria) => {\n                        if (!seria.disabled && seria.values) result.push(seria);\n                    });\n\n                    return _.cloneDeep(result);\n                }\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(function () {\n                    chart = nv.models.discreteBarChart()\n                        .margin({top: 10, right: 0, bottom: 10, left: 50})\n                        .x(function (d) { return d.label || d.key || d.x; })\n                        .y(function (d) { return d.value; })\n                        .showValues(true)\n                        .staggerLabels(true) \n                        .showXAxis(true)\n                        .showYAxis(true)\n                        .valueFormat(<any>d3.format('d'))\n                        .duration(0)\n                        .height(height)\n                        .color(function(d) {\n                            return vm.data[d.series].color || materialColorToRgba(colors[d.series]);\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n\n                    chart.yAxis\n                        .tickFormat(function (d) {\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\n                        });\n\n                    chart.xAxis\n                        .tickFormat(function (d) {\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\n                        });\n\n                    chartElem = d3.select($element.get(0))\n                        .select('.bar-chart svg')\n                        .datum(vm.data)\n                        .style('height', '285px')\n                        .call(chart);\n\n                    nv.utils.windowResize(() => {\n                        chart.update();\n                         configBarWidthAndLabel(0);\n                         drawEmptyState();\n                    });\n\n                    return chart;\n                }, function () {\n\n                    $timeout(configBarWidthAndLabel, 0);\n                    drawEmptyState();\n                });\n\n                function drawEmptyState() {\n                    if ($element.find('.nv-noData').length === 0) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                    } else {\n                        let g = chartElem.append('g').classed('empty-state', true),\n                            width = $element.find('.nvd3-svg').innerWidth(),\n                            margin = width * 0.1;\n\n                        g.append('g')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', height - 10)\n                            .attr('width', 38);\n\n                        g.append('g')\n                            .attr('transform', 'translate(42, 60)')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', 200)\n                            .attr('width', 38);\n\n                        g.append('g')\n                            .attr('transform', 'translate(84, 160)')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', 100)\n                            .attr('width', 38);\n\n                        g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2*margin) / 126) + ', 1)' );\n                    }\n                }\n\n                /**\n                 * Aligns value label according to parent container size.\n                 * @return {void}\n                 */\n                function configBarWidthAndLabel(timeout: number = 1000) {\n                    var labels = $element.find('.nv-bar text'),\n                        chartBars = $element.find('.nv-bar'),\n                        parentHeight = (<any>$element.find('.nvd3-svg')[0]).getBBox().height;\n\n                    d3.select($element.find('.bar-chart')[0]).classed('visible', true);\n\n                    chartBars.each(function (index, item) {\n                        var barHeight = Number(d3.select(<any>item).select('rect').attr('height')),\n                            barWidth = Number(d3.select(<any>item).select('rect').attr('width')),\n                            element = d3.select(<any>item),\n                            x = d3.transform(element.attr('transform')).translate[0],\n                            y = d3.transform(element.attr('transform')).translate[1];\n\n                        element\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + (height - 20) + ')')\n                            .select('rect').attr('height', 0);\n\n                        element\n                            .transition()\n                            .duration(timeout)\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + y + ')')\n                            .select('rect').attr('height', barHeight);\n\n                        d3.select(labels[index])\n                            .attr('dy', barHeight / 2 + 10)\n                            .attr('x', barWidth / 2);\n                    });\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function getMaterialColor(index) {\n                    if (!colors || colors.length < 1) return null;\n\n                    if (index >= colors.length) {\n                        index = 0;\n                    }\n\n                    return materialColorToRgba(colors[index]);\n                } \n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        if (item.values[0]) {\n                            item.values[0].color = item.values[0].color || getMaterialColor(index);\n                            item.color = item.values[0].color;\n                        }\n                    });\n                }\n            }\n        };\n    }\n})();","/**\n * @file Registration of chart WebUI controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipCharts', [\n        'pipBarCharts',\n        'pipLineCharts',\n        'pipPieCharts',\n        'pipChartLegends',\n        'pipCharts.Templates'\n    ]);\n\n})();\n\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipLegends\n     *\n     * @description\n     * Legend of charts\n     */\n    angular.module('pipChartLegends', [])\n        .directive('pipChartLegend', pipChartLegend);\n\n    function pipChartLegend() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                interactive: '=pipInteractive'\n            },\n            templateUrl: 'legend/interactive_legend.html',\n            controller: function ($element, $scope, $timeout, $mdColorPalette) {\n                var colors = _.map($mdColorPalette, function (palette) {\n                    return palette[500].hex;\n                });\n                colors = _.filter(colors, function(color){\n                    return color !== undefined && color !== null;\n                });  \n                function colorCheckboxes() {\n                    var checkboxContainers = $($element).find('md-checkbox .md-container');\n\n                    checkboxContainers.each(function (index, item) {\n                        if (index >= $scope.series.length) {\n                            return \n                        }\n                        $(item)\n                            .css('color', $scope.series[index].color || colors[index])\n                            .find('.md-icon')\n                            .css('background-color', $scope.series[index].color || colors[index]);\n                    });\n                }\n\n                function animate() {\n                    var legendTitles = $($element).find('.chart-legend-item');\n\n                    legendTitles.each(function (index, item) {\n                        $timeout(function () {\n                            $(item).addClass('visible');\n                        }, 200 * index);\n                    });\n                }\n                \n                function prepareSeries() {\n                    if (!$scope.series) return;\n\n                    $scope.series.forEach(function (item, index) {\n                        item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : colors[index]);\n                        item.disabled = item.disabled || false;\n                    });   \n                }\n\n                $scope.$watch('series', function () {\n                    $timeout(function () {\n                        animate();\n                        colorCheckboxes();\n                    }, 0);\n                    prepareSeries();\n                }, true);\n\n                $scope.$watch('interactive', function (newValue, oldValue) {\n                    if (newValue == true && newValue != oldValue) {\n                        $timeout(colorCheckboxes, 0);\n                    }\n                });\n\n                $timeout(function () {\n                    animate();\n                    colorCheckboxes();\n                }, 0);\n                prepareSeries();\n            }\n        };\n    }\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipLineCharts\n     *\n     * @description\n     * Line chart on top of Rickshaw charts\n     */\n    angular.module('pipLineCharts', [])\n        .directive('pipLineChart', pipLineChart);\n\n    function pipLineChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                showYAxis: '=pipYAxis',\n                showXAxis: '=pipXAxis',\n                xFormat: '=pipXFormat',\n                xTickFormat: '=pipXTickFormat',\n                yTickFormat: '=pipYTickFormat',\n                xTickValues: '=pipXTickValues',\n                dynamic: '=pipDynamic',\n                fixedHeight: '@pipDiagramHeight',\n                dynamicHeight: '@pipDynamicHeight',\n                minHeight: '@pipMinHeight',\n                maxHeight: '@pipMaxHeight',\n                interactiveLegend: '=pipInterLegend'\n            },\n            bindToController: true,\n            controllerAs: 'lineChart',\n            templateUrl: 'line/line_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                var vm        = this;\n                var chart     = null;\n                var chartElem = null;\n                var setZoom = null;\n                var updateZoomOptions = null;\n                var fixedHeight = vm.fixedHeight || 270;\n                var dynamicHeight = vm.dynamicHeight || false;\n                var minHeight = vm.minHeight || fixedHeight;\n                var maxHeight = vm.maxHeight || fixedHeight;\n\n                var filteredColor = _.filter($mdColorPalette, function(palette, color){\n                    return _.isObject(color) && _.isObject(color[500] && _.isArray(color[500].value));\n                });\n                var colors = _.map(filteredColor, function (palette, color) {\n                    return color;\n                });\n                colors = _.filter(colors, function(color){\n                    return _.isObject($mdColorPalette[color]) && _.isObject($mdColorPalette[color][500] && _.isArray($mdColorPalette[color][500].value));\n                });\n                vm.data = prepareData(vm.series) || [];\n                vm.legend = _.clone(vm.series);\n                vm.sourceEvents = [];\n                \n                vm.isVisibleX = function () {\n                    return vm.showXAxis == undefined ? true : vm.showXAxis; \n                };\n\n                vm.isVisibleY = function () {\n                    return vm.showYAxis == undefined ? true : vm.showYAxis;\n                };\n\n                vm.zoomIn = function () {\n                    if (setZoom) {\n                        setZoom('in');\n                    }\n                };\n\n                vm.zoomOut = function () {\n                    if (setZoom) {\n                        setZoom('out');\n                    }\n                };\n                \n                if (vm.series && vm.series.length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                // Sets colors of items\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                $scope.$watch('lineChart.series', function (updatedSeries) {\n                    vm.data = prepareData(updatedSeries);\n                    vm.legend = _.clone(vm.series);\n\n                    generateParameterColor();\n\n                    if (chart) {\n                         chart.xAxis\n                            .tickValues(vm.xTickValues && _.isArray(vm.xTickValues) && vm.xTickValues.length > 2 ? \n                                d3.range(vm.xTickValues[0], vm.xTickValues[1], vm.xTickValues[2]) : null);\n\n                        chartElem.datum(vm.data || []).call(chart);\n                        drawEmptyState();\n                        \n                        if (updateZoomOptions) updateZoomOptions(vm.data);\n                    }\n                }, true);\n\n                $scope.$watch('lineChart.legend', function(updatedLegend) {\n                    vm.data = prepareData(updatedLegend);\n                    vm.legend = updatedLegend;\n\n                    if (chart) {\n                        chartElem.datum(vm.data || []).call(chart);\n                        drawEmptyState();\n\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\n                    }\n                }, true);\n\n                $scope.$on('$destroy', () => {\n                   setTimeout(()=> {d3.selectAll('.nvtooltip').style('opacity', 0); }, 800)\n                });\n\n                function prepareData(data) {\n                    let result = [];\n                    _.each(data, (seria) => {\n                        if (!seria.disabled && seria.values) result.push(seria);\n                    });\n\n                    return _.cloneDeep(result);\n                }\n\n                var getHeight = () => {\n                    if (dynamicHeight) {\n                        const heigth = Math.min(Math.max(minHeight, $element.parent().innerHeight()), maxHeight);\n                        return heigth;\n                    } else {\n                        return fixedHeight;\n                    }\n                };\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(() => {\n                    chart = nv.models.lineChart()\n                        .margin({ top: 20, right: 20, bottom: 30, left: 30 })\n                        .x(function (d) {\n                            return (d !== undefined && d.x !== undefined) ? (vm.xFormat ? vm.xFormat(d.x) : d.x) : d;\n                        })\n                        .y(function (d) {\n                            return (d !== undefined && d.value !== undefined) ? d.value : d;\n                        })\n                        .height(getHeight() - 50)\n                        .useInteractiveGuideline(true)\n                        .showXAxis(true)\n                        .showYAxis(true)\n                        .showLegend(false)\n                        .color(function(d) {\n                            return d.color || (<any>d3.scale).paletteColors().range();\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n\n                    chart.yAxis\n                        .tickFormat(function (d) {\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\n                        });\n\n                    chart.xAxis\n                        .tickFormat(function (d) {\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\n                        })\n                        .tickValues(vm.xTickValues && _.isArray(vm.xTickValues) && vm.xTickValues.length > 2 ? \n                                d3.range(vm.xTickValues[0], vm.xTickValues[1], vm.xTickValues[2]) : null);\n\n                    chartElem = d3.select($element.get(0)).select('.line-chart svg');\n                    chartElem.datum(vm.data || []).style('height', (getHeight() - 50) + 'px').call(chart);\n                    // Handle touches for correcting tooltip position\n                    $('.line-chart svg').on('touchstart touchmove', (e) => { \n                        setTimeout(() => {\n                            let tooltip = $('.nvtooltip'),\n                                tooltipW = tooltip.innerWidth(),\n                                bodyWidth = $('body').innerWidth(),\n                                x = e.originalEvent['touches'][0]['pageX'],\n                                y = e.originalEvent['touches'][0]['pageY'];\n\n                            tooltip.css('transform', 'translate(' \n                                + (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' \n                                + y + ')');\n                            tooltip.css('left', 0); \n                            tooltip.css('top', 0);\n                        }); \n                    });\n\n                    $('.line-chart svg').on('touchstart touchend', (e) => { \n                        let removeTooltip = () => {\n                            let tooltip = $('.nvtooltip');\n                            tooltip.css('opacity', 0);\n                        };\n\n                        removeTooltip();\n\n                        setTimeout(() => {\n                            removeTooltip();\n                        }, 500); \n                    });\n\n                    if (vm.dynamic) {\n                        addZoom(chart, chartElem);\n                    }\n\n                    nv.utils.windowResize(() => { onResize(); });\n\n                    $scope.$on('pipMainResized', () => { onResize(); });\n\n                    return chart;\n                }, () => {\n                    drawEmptyState();\n                });\n\n                function onResize() {\n                    chart.height(getHeight() - 50);\n                    chartElem.style('height', (getHeight() - 50) + 'px');\n                    chart.update();\n                    drawEmptyState();\n                }\n\n                function drawEmptyState() {\n                    if (!$element.find('text.nv-noData').get(0)) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                    } else {\n                        let containerWidth = $element.find('.line-chart').innerWidth(),\n                            containerHeight = $element.find('.line-chart').innerHeight();\n                        \n                        if ($element.find('.empty-state').get(0)) {\n                            chartElem\n                                .select('image')\n                                .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\n                        } else {\n                            chartElem\n                                .append(\"defs\")\n                                .append(\"pattern\")\n                                .attr(\"height\", 1)\n                                .attr(\"width\", 1)\n                                .attr(\"x\", \"0\")\n                                .attr(\"y\", \"0\")\n                                .attr(\"id\", \"bg\")\n                                .append(\"image\")\n                                .attr('x', 17)\n                                .attr('y', 0)\n                                .attr('height', \"216px\")\n                                .attr('width', \"1151px\")\n                                .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\n                                .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\n\n                            chartElem\n                                .append('rect')\n                                .classed('empty-state', true)\n                                .attr('height', \"100%\")\n                                .attr('width', \"100%\")\n                                .attr('fill', 'url(#bg)');\n                        }\n                    }\n                }\n\n                function updateScroll(domains, boundary) {\n                    var bDiff = boundary[1] - boundary[0],\n                        domDiff = domains[1] - domains[0],\n                        isEqual = (domains[1] - domains[0])/bDiff === 1;\n\n                    $($element[0]).find('.visual-scroll')\n                        .css('opacity', function () {\n                            return isEqual ? 0 : 1;\n                        });\n\n                    if (isEqual) return;\n                    \n                    $($element[0]).find('.scrolled-block')\n                        .css('left', function () {\n                            return domains[0]/bDiff * 100 + '%';\n                        })\n                        .css('width', function () {\n                            return domDiff/bDiff * 100 + '%';\n                        });\n                }\n\n                function addZoom(chart, svg) {\n                    // scaleExtent\n                    var scaleExtent = 4;\n\n                    // parameters\n                    var yAxis       = null;\n                    var xAxis       = null;\n                    var xDomain     = null;\n                    var yDomain     = null;\n                    var redraw      = null;\n                    var svg         = svg;\n\n                    // scales\n                    var xScale = null;\n                    var yScale = null;\n\n                    // min/max boundaries\n                    var x_boundary = null;\n                    var y_boundary = null;\n\n                    // create d3 zoom handler\n                    var d3zoom = d3.behavior.zoom();\n                    var prevXDomain = null;\n                    var prevScale = null;\n                    var prevTranslate = null;\n\n                    setData(chart);\n\n                    function setData(newChart) {\n                        // parameters\n                        yAxis       = newChart.yAxis;\n                        xAxis       = newChart.xAxis;\n                        xDomain     = newChart.xDomain || xAxis.scale().domain;\n                        yDomain     = newChart.yDomain || yAxis.scale().domain;\n                        redraw      = newChart.update;\n\n                        // scales\n                        xScale = xAxis.scale();\n                        yScale = yAxis.scale();\n\n                        // min/max boundaries\n                        x_boundary = xAxis.scale().domain().slice();\n                        y_boundary = yAxis.scale().domain().slice();\n\n                        // create d3 zoom handler\n                        prevXDomain = x_boundary;\n                        prevScale = d3zoom.scale();\n                        prevTranslate = d3zoom.translate();\n\n                        // ensure nice axis\n                        xScale.nice();\n                        yScale.nice();\n                    }\n\n                    // fix domain\n                    function fixDomain(domain, boundary, scale, translate) {\n                        if (domain[0] < boundary[0]) {\n                            domain[0] = boundary[0];\n                            if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\n                                domain[1] += (boundary[0] - domain[0]);\n                            } else {\n                                domain[1] = prevXDomain[1];\n                                translate = _.clone(prevTranslate);\n                            }\n\n                        }\n                        if (domain[1] > boundary[1]) {\n                            domain[1] = boundary[1];\n                            if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\n                                domain[0] -= (domain[1] - boundary[1]);\n                            } else {\n                                domain[0] = prevXDomain[0];\n                                translate = _.clone(prevTranslate);\n                            }\n                        }\n\n                        d3zoom.translate(translate);\n                        prevXDomain = _.clone(domain);\n                        prevScale = _.clone(scale);\n                        prevTranslate = _.clone(translate);\n                        return domain;\n                    }\n\n                    function updateChart() {\n                        d3zoom.scale(1);\n                        d3zoom.translate([0,0]);\n                        xScale.domain(x_boundary);\n                        d3zoom.x(xScale).y(yScale);\n                        svg.call(d3zoom);\n                    }\n\n                    // zoom event handler\n                    function zoomed() {\n                        // Switch off vertical zooming temporary\n                        // yDomain(yScale.domain());\n\n                        if ((<any>d3.event).scale === 1) {\n                            unzoomed();\n                            updateChart();\n                        } else {\n                            xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\n                            redraw();\n                        }\n\n                        updateScroll(xScale.domain(), x_boundary);\n                    }\n\n                    //\n                    setZoom = function(which) {\n                        var center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\n                        var translate0 = d3zoom.translate(), coordinates0 = coordinates(center0);\n\n                        if (which === 'in') {\n                            if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\n                        } else {\n                            if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\n                        }\n\n                        var center1 = point(coordinates0);\n                        d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\n\n                        d3zoom.event(svg);\n                    };\n\n                    function step(which) {\n                        var translate = d3zoom.translate();\n\n                        if (which === 'right') {\n                            translate[0] -= 20;\n                        } else {\n                            translate[0] += 20;\n                        }\n\n                        d3zoom.translate(translate);\n                        d3zoom.event(svg);\n                    }\n\n                    function coordinates(point) {\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\n                        return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\n                    }\n\n                    function point(coordinates) {\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\n                        return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\n                    }\n\n                    function keypress() {\n                        switch((<any>d3.event).keyCode) {\n                            case 39: step('right'); break;\n                            case 37: step('left'); break;\n                            case 107: setZoom('in'); break;\n                            case 109: setZoom('out');\n                        }\n                    }\n\n                    // zoom event handler\n                    function unzoomed() {\n                        xDomain(x_boundary);\n                        redraw();\n                        d3zoom.scale(1);\n                        d3zoom.translate([0,0]);\n                        prevScale = 1;\n                        prevTranslate = [0,0];\n                    }\n\n                    // initialize wrapper\n                    d3zoom.x(xScale)\n                        .y(yScale)\n                        .scaleExtent([1, scaleExtent])\n                        .on('zoom', zoomed);\n\n                    // add handler\n                    svg.call(d3zoom).on('dblclick.zoom', unzoomed);\n                    $($element.get(0)).addClass('dynamic');\n\n                    // add keyboard handlers\n                    svg\n                        .attr('focusable', false)\n                        .style('outline', 'none')\n                        .on('keydown', keypress)\n                        .on('focus', function () {});\n\n                    var getXMinMax = function(data) {\n                        var maxVal, minVal = null;\n\n                        for(var i=0;i<data.length;i++) {\n                            if (!data[i].disabled) {\n                                var tempMinVal = d3.max(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\n                                var tempMaxVal = d3.min(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\n                                minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\n                                maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\n                            }\n                        }\n                        return [maxVal, minVal];\n                    };\n\n                    updateZoomOptions = function(data) {\n                        yAxis = chart.yAxis;\n                        xAxis = chart.xAxis;\n\n                        xScale = xAxis.scale();\n                        yScale = yAxis.scale();\n\n                        x_boundary = getXMinMax(data);\n\n                        if (d3zoom.scale() === 1) {\n                            d3zoom.x(xScale).y(yScale);\n                            svg.call(d3zoom);\n                            d3zoom.event(svg);\n                        }\n\n                        updateScroll(xScale.domain(), x_boundary);\n                    }\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function getMaterialColor(index) {\n                    if (!colors || colors.length < 1) return null;\n\n                    if (index >= colors.length) {\n                        index = 0;\n                    }\n\n                    return materialColorToRgba(colors[index]);\n                }                \n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        item.color = item.color || getMaterialColor(index);\n                    });\n                }\n            }\n        };\n    }\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipPieCharts\n     *\n     * @description\n     * Line chart on top of Rickshaw charts\n     */\n    angular.module('pipPieCharts', [])\n        .directive('pipPieChart', pipPieChart);\n\n    function pipPieChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                donut: '=pipDonut',\n                legend: '=pipShowLegend',\n                total: '=pipShowTotal',\n                size: '=pipPieSize',\n                centered: '=pipCentered'\n            },\n            bindToController: true,\n            controllerAs: 'pieChart',\n            templateUrl: 'pie/pie_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                var vm               = this;\n                var chart            = null;\n                var titleElem        = null;\n                var chartElem        = null;\n                var colors           = _.map($mdColorPalette, function (palette, color) {\n                    return color;\n                });\n                colors = _.filter(colors, function(color){\n                    return _.isObject($mdColorPalette[color]) && _.isObject($mdColorPalette[color][500] && _.isArray($mdColorPalette[color][500].value));\n                });                \n                var resizeTitleLabel = resizeTitleLabelUnwrap;\n\n                vm.data = vm.data || [];\n\n                vm.showLegend = function () {\n                    return vm.legend !== undefined ? vm.legend: true;\n                };\n\n                if (vm.series && vm.series.length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                $scope.$watch('pieChart.series', function (newVal) {\n                    vm.data = newVal;\n\n                    generateParameterColor();\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        $timeout(resizeTitleLabel);\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\n                    }\n                }, true);\n\n                // Sets colors of items\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(() => {\n                    chart = nv.models.pieChart()\n                        .margin({ top: 0, right: 0, bottom: 0, left: 0 })\n                        .x(function (d) {\n                            return vm.donut ? d.value : null;\n                        })\n                        .y(function (d) {\n                            return d.value;\n                        })\n                        .height(vm.size || 250)\n                        .width(vm.size || 250)\n                        .showLabels(true)\n                        .labelThreshold(.001)\n                        .growOnHover(false)\n                        .donut(vm.donut)\n                        .donutRatio(0.5)\n                        .color(function(d) {\n                            return d.color || (<any>d3.scale).paletteColors().range();\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n                    chart.showLegend(false);\n\n                    chartElem = d3.select($element.get(0))\n                        .select('.pie-chart')\n                        .style('height', (vm.size || 250) + 'px')\n                        .style('width', vm.centered ? '100%' : (vm.size || 250) + 'px')\n                        .select('svg')\n                        .style('opacity', 0)\n                        .datum(vm.data || [])\n                        .call(chart);\n\n                    nv.utils.windowResize(function () {\n                        chart.update();\n                        $timeout(resizeTitleLabel);\n                        centerChart();\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\n                    });\n\n                    return chart;\n                }, () => {\n                    $timeout(function () {\n                        var svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0];\n                        renderTotalLabel(svgElem);\n                        d3.select(svgElem)\n                            .transition()\n                            .duration(1000)\n                            .style('opacity', 1);\n                        \n                        $timeout(resizeTitleLabelUnwrap, 800);\n                        centerChart();\n                        drawEmptyState(svgElem);\n                    });\n                });\n\n                function drawEmptyState(svg) {\n                    if (!$element.find('text.nv-noData').get(0)) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                        $element.find('.pip-empty-pie-text').remove();\n                    } else {\n                    \n                        if ($element.find('.pip-empty-pie-text').length === 0) { \n                            $element.find('.pie-chart')\n                                .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\n                        }\n\n                        var pie = d3.layout.pie().sort(null),\n                            size = Number(vm.size || 250);\n\n                        var arc = d3.svg.arc()\n                            .innerRadius(size / 2 - 20)\n                            .outerRadius(size / 2 - 57);\n                    \n                        svg = d3.select(svg)\n                            .append(\"g\")\n                            .classed('empty-state', true)\n                            .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\n                    \n                        var path = svg.selectAll(\"path\")\n                            .data(pie([1]))\n                            .enter().append(\"path\")\n                            .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\n                            .attr(\"d\", <any>arc);\n                    }\n                }\n\n                function centerChart() {\n                    if (vm.centered) {\n                        let svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0],\n                        leftMargin = $(svgElem).innerWidth() / 2 - (vm.size || 250) / 2;\n                        d3.select($element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\n                    }\n                }\n\n                function renderTotalLabel(svgElem) {\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\n\n                    let totalVal = vm.data.reduce(function (sum, curr) {\n                        return sum + curr.value;\n                    }, 0);\n\n                    if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\n                    \n                    d3.select(svgElem)\n                        .select('.nv-pie:not(.nvd3)')\n                        .append('text')\n                        .classed('label-total', true)\n                        .attr('text-anchor', 'middle')\n                        .style('dominant-baseline', 'central')\n                        .text(totalVal);\n\n                    titleElem = d3.select($element.find('text.label-total').get(0)).style('opacity', 0);\n                }\n\n                function resizeTitleLabelUnwrap() {\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\n\n                    var boxSize =  $element.find('.nvd3.nv-pieChart').get(0).getBBox();\n\n                    if (!boxSize.width || !boxSize.height) {\n                        return;\n                    }\n\n                    titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function getMaterialColor(index) {\n                    if (!colors || colors.length < 1) return null;\n\n                    if (index >= colors.length) {\n                        index = 0;\n                    }\n\n                    return materialColorToRgba(colors[index]);\n                } \n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        item.color = item.color || getMaterialColor(index);\n                    });\n                }\n            }\n        };\n    }\n})();","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar/bar_chart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend pip-series=\"barChart.legend\" pip-interactive=\"barChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line/line_chart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': lineChart.isVisibleX(), \\'visible-y-axis\\': lineChart.isVisibleY()}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"lineChart.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"lineChart.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"lineChart.legend\" pip-interactive=\"lineChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('legend/interactive_legend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie/pie_chart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !pieChart.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"pieChart.data\" pip-interactive=\"false\" ng-if=\"pieChart.showLegend()\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","/**\n * @file Location control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n\n/* global angular, google */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocation\", []);\n\n    thisModule.directive('pipLocation', \n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipLocationName: '&',\n                    pipLocationPos: '&',\n                    pipLocationResize: '&',\n                    pipShowLocationIcon: '='\n                },\n                template: \n                    function($element, $attrs: any) {\n                        function toBoolean(value) {\n                            if (value == null) return false;\n                            if (!value) return false;\n                            value = value.toString().toLowerCase();\n                            return value == '1' || value == 'true';\n                        }\n\n                        if (toBoolean($attrs.pipCollapse)) {\n                            return String()\n                                + '<div class=\"pip-location-name location-collapse\" ng-click=\"pipLocationResize()\" ng-hide=\"!pipLocationName()\"'\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\">'\n                                + '<md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"pipShowLocationIcon\"></md-icon>'\n                                + '<span class=\"pip-location-text\">{{pipLocationName()}}</span> '\n                                + '</div>'\n                                + '<div class=\"pip-location-container\" ng-hide=\"!pipLocationPos()\"></div>';\n                        } else {\n                            return String()\n                                + '<md-button class=\"pip-location-name\" ng-click=\"pipLocationResize()\" '\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\">'\n                                + '<div class=\"layout-align-start-center layout-row w-stretch\">'\n                                + '<md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"pipShowLocationIcon\"></md-icon>'\n                                + '<span class=\"pip-location-text flex\">{{pipLocationName()}}</span>'\n                                + '<md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-if=\"!showMap\"></md-icon>'\n                                + '<md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-if=\"showMap\"></md-icon>'\n                                + '</div></md-button>'\n                                + '<div class=\"pip-location-container\"'\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"></div>';\n                        }\n                    },\n                controller: 'pipLocationController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationController',\n        function ($scope, $element, $attrs) {\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            var \n                $name = $element.children('.pip-location-name'),\n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null,\n                $up = $element.find('.icon-up'),\n                $down = $element.find('.icon-down'),\n                collapsable = toBoolean($attrs.pipCollapse);\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n                $mapContainer.hide();\n            };\n\n            function generateMap() {\n                var location = $scope.pipLocationPos();\n                \n                // Safeguard for bad coordinates\n                if ($scope.showMap == false || location == null\n                    || location.coordinates == null\n                    || location.coordinates.length < 0) {\n                    clearMap();\n                    return;\n                }\n\n                // Determine map coordinates\n                var coordinates = new google.maps.LatLng(\n                    location.coordinates[0],\n                    location.coordinates[1]\n                );\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapContainer.show();\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map with point marker\n                var \n                    mapOptions = {\n                        center: coordinates,\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: false,\n                        draggable: false\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions);\n                    \n                new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n            };\n\n            // Process user actions\n            if (!collapsable) {\n                $scope.showMap = false;\n                $up.hide();\n                $mapContainer.hide();\n\n                $name.click(function (event) {\n                    event.stopPropagation();\n                    if ($attrs.disabled) return;\n                    $scope.showMap = !$scope.showMap;\n                    $up[$scope.showMap ? 'show' : 'hide']();\n                    $down[!$scope.showMap ? 'show' : 'hide']();\n                    generateMap();\n                });\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch($scope.pipLocationPos,\n                    function (newValue) {\n                        generateMap();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location');\n\n            // Visualize map\n            if ($scope.pipLocationPos()) generateMap();\n            else clearMap();\n        }    \n    );\n\n})();\n","/**\n * @file Location edit dialog\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve sample in sampler app\n */\n \n/* global angular, google */\n\nclass LocationDialogService {\n    private _$mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._$mdDialog = $mdDialog;\n    }\n\n    public show (params, successCallback, cancelCallback) {\n        this._$mdDialog.show({\n            controller: 'pipLocationEditDialogController',\n            controllerAs: '$ctrl',\n            templateUrl: 'location_dialog/location_dialog.html',\n            locals: {\n                locationName: params.locationName,\n                locationPos: params.locationPos\n            },\n            clickOutsideToClose: true\n        })\n        .then((result) => {\n            if (successCallback) {\n                successCallback(result);\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n}\n\nclass LocationEditDialogController {\n    private _map = null;\n    private _marker = null;\n    private _$scope: ng.IScope;\n    private _$mdDialog: angular.material.IDialogService;\n\n    public theme: string;\n    public locationPos;\n    public locationName;\n    public supportSet: boolean;\n\n    constructor(\n        $scope: ng.IScope, \n        $rootScope: ng.IRootScopeService, \n        $timeout: angular.ITimeoutService, \n        $mdDialog: angular.material.IDialogService,\n        locationPos, \n        locationName) {\n\n        this._$mdDialog = $mdDialog;\n        this._$scope = $scope;\n        this.theme = $rootScope['$theme'];\n        this.locationPos = locationPos && locationPos.type == 'Point'\n                && locationPos.coordinates && locationPos.coordinates.length == 2\n                ? locationPos : null;\n        this.locationName = locationName;\n        this.supportSet = navigator.geolocation != null;\n\n         // Wait until dialog is initialized\n        $timeout(() => {\n            let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n            // Calculate coordinate of the center\n            let coordinates = this.locationPos ?\n                new google.maps.LatLng(\n                    this.locationPos.coordinates[0],\n                    this.locationPos.coordinates[1]\n                ) : null;\n\n                // Create the map with point marker\n            let mapOptions = {\n                center: new google.maps.LatLng(0, 0),\n                zoom: 1,\n                mapTypeId: google.maps.MapTypeId.ROADMAP,\n                disableDefaultUI: true\n            }\n            if (coordinates != null) {\n                mapOptions.center = coordinates;\n                mapOptions.zoom = 12;\n            }\n\n            this._map = new google.maps.Map(mapContainer[0], mapOptions);\n            this._marker = this.createMarker(coordinates);\n\n                // Fix resizing issue\n            setTimeout(() => {\n                google.maps.event.trigger(this._map, 'resize');\n            }, 1000);\n        }, 0);\n\n        $scope.$on('pipLayoutResized', () => {\n            if (this._map == null) return;\n            google.maps.event.trigger(this._map, 'resize');\n        });\n\n    }\n\n    public createMarker (coordinates) {\n        if (this._marker) this._marker.setMap(null);\n        if (coordinates) {\n            this._marker = new google.maps.Marker({ \n                position: coordinates, \n                map: this._map,\n                draggable: true,\n                animation: google.maps.Animation.DROP\n            });\n\n            let thisMarker = this._marker;\n            google.maps.event.addListener(thisMarker, 'dragend', () => {\n                let coordinates = thisMarker.getPosition(); \n                    this.changeLocation(coordinates, null);\n            });\n        } else {\n            this._marker = null;\n        }\n\n        return this._marker;\n    }\n\n    public changeLocation(coordinates, tid) {\n        this.locationPos = {\n            type: 'Point',\n            coordinates: [coordinates.lat(), coordinates.lng()]\n        };\n        this.locationName = null;\n\n        if (tid == null) {\n            // tid = $scope.transaction.begin();\n            if (tid == null) return;\n        }\n\n        // Read address\n        let geocoder = new google.maps.Geocoder();\n        geocoder.geocode({ location: coordinates }, (results, status) => {\n            // if ($scope.transaction.aborted(tid)) return;\n\n            // Process positive response\n            if (status == google.maps.GeocoderStatus.OK && results && results.length > 0) {\n                this.locationName = results[0].formatted_address;\n            }\n\n                    // $scope.transaction.end();\n            this._$scope.$apply();\n        })\n    }\n    public onAddPin() {\n        if (this._map == null) return;\n\n        let coordinates = this._map.getCenter();\n            this._marker = this.createMarker(coordinates);\n            this.changeLocation(coordinates, null);\n    }\n\n    public onRemovePin() {\n        if (this._map == null) return;\n        this._marker = this.createMarker(null);\n        this.locationPos = null;\n        this.locationName = null;\n    }\n\n    public onZoomIn() {\n        if (this._map == null) return;\n        let zoom = this._map.getZoom();\n        this._map.setZoom(zoom + 1);\n    }\n\n    public onZoomOut() {\n        if (this._map == null) return;\n        let zoom = this._map.getZoom();\n        this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n    }\n\n    public onSetLocation = function () {\n        if (this._map == null) return;\n\n                // var tid = $scope.transaction.begin();\n                // if (tid == null) return;\n\n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                        // if ($scope.transaction.aborted(tid)) return;\n\n                let coordinates = new google.maps.LatLng(\n                    position.coords.latitude, position.coords.longitude);\n                this._marker = this.createMarker(coordinates);\n                this._map.setCenter(coordinates);\n                this._map.setZoom(12);\n                this.changeLocation(coordinates, null);\n            },\n            () => {\n                        // $scope.transaction.end();\n                this.$scope.$apply();\n            },\n        {\n            maximumAge: 0,\n            enableHighAccuracy: true,\n            timeout: 5000\n        });\n    }\n\n    public onCancel(): void {\n        this._$mdDialog.cancel();\n    }\n\n    public onApply(): void {\n        this._$mdDialog.hide({\n            location: this.locationPos,\n            locationPos: this.locationPos,\n            locationName: this.locationName   \n        })\n    }\n\n    \n\n}\n\n(() => {\n    'use strict';\n    function LocationDialogRun ($injector) {\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.setTranslations('en', {\n                'LOCATION_ADD_LOCATION': 'Add location',\n                'LOCATION_SET_LOCATION': 'Set location',\n                'LOCATION_ADD_PIN': 'Add pin',\n                'LOCATION_REMOVE_PIN': 'Remove pin'\n            });\n            pipTranslate.setTranslations('ru', {\n                'LOCATION_ADD_LOCATION': ' ',\n                'LOCATION_SET_LOCATION': ' ',\n                'LOCATION_ADD_PIN': ' ',\n                'LOCATION_REMOVE_PIN': ' '\n            });\n        }\n    }\n\n\n    angular.module('pipLocationEditDialog', ['ngMaterial',  'pipLocations.Templates'])\n           .run(LocationDialogRun)\n           .service('pipLocationEditDialog', LocationDialogService)\n           .controller('pipLocationEditDialogController', LocationEditDialogController \n        /*function ($scope, $rootScope, $timeout, $mdDialog,  locationPos, locationName) {\n\n            $scope.theme = $rootScope.$theme;\n            $scope.locationPos = locationPos && locationPos.type == 'Point'\n                && locationPos.coordinates && locationPos.coordinates.length == 2\n                ? locationPos : null;\n            $scope.locationName = locationName;\n            $scope.supportSet = navigator.geolocation != null;\n\n            // $scope.transaction = pipTransaction('location_edit_dialog', $scope);\n\n            var map = null, marker = null;\n\n            function createMarker (coordinates) {\n                if (marker) marker.setMap(null);\n                \n                if (coordinates) {\n                    marker = new google.maps.Marker({ \n                        position: coordinates, \n                        map: map,\n                        draggable: true,\n                        animation: google.maps.Animation.DROP\n                    });\n\n                    var thisMarker = marker;\n                    google.maps.event.addListener(thisMarker, 'dragend', function() {\n                       var coordinates = thisMarker.getPosition(); \n                       changeLocation(coordinates, null);\n                    });\n                } else {\n                    marker = null;\n                }\n\n                return marker;\n            };\n\n            function changeLocation(coordinates, tid) {\n                $scope.locationPos = {\n                    type: 'Point',\n                    coordinates: [coordinates.lat(), coordinates.lng()]\n                };\n                $scope.locationName = null;\n\n                if (tid == null) {\n                    // tid = $scope.transaction.begin();\n                    if (tid == null) return;\n                }\n\n                // Read address\n                var geocoder = new google.maps.Geocoder();\n                geocoder.geocode({ location: coordinates }, function(results, status) {\n                    // if ($scope.transaction.aborted(tid)) return;\n\n                    // Process positive response\n                    if (status == google.maps.GeocoderStatus.OK\n                        && results && results.length > 0) {\n                        $scope.locationName = results[0].formatted_address;\n                    }\n\n                    // $scope.transaction.end();\n                    $scope.$apply();\n                });\n            };\n\n            // Wait until dialog is initialized\n            $timeout(function () {\n                var mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n\n                // Calculate coordinate of the center\n                var coordinates = $scope.locationPos ?\n                    new google.maps.LatLng(\n                        $scope.locationPos.coordinates[0],\n                        $scope.locationPos.coordinates[1]\n                    ) : null;\n\n                // Create the map with point marker\n                var mapOptions = {\n                    center: new google.maps.LatLng(0, 0),\n                    zoom: 1,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true\n                };\n                if (coordinates != null) {\n                    mapOptions.center = coordinates;\n                    mapOptions.zoom = 12;\n                }\n\n                map = new google.maps.Map(mapContainer[0], mapOptions);\n                marker = createMarker(coordinates);\n\n                // Fix resizing issue\n                setTimeout(function () {\n                    google.maps.event.trigger(map, 'resize');\n                }, 1000);\n            }, 0);\n\n            $scope.$on('pipLayoutResized', function (event) {\n                if (map == null) return;\n                google.maps.event.trigger(map, 'resize');\n            });\n\n            $scope.onAddPin = function () {\n                if (map == null) return;\n\n                var coordinates = map.getCenter();\n                marker = createMarker(coordinates);\n                changeLocation(coordinates, null);\n            };\n\n            $scope.onRemovePin = function () {\n                if (map == null) return;\n                marker = createMarker(null);\n                $scope.locationPos = null;\n                $scope.locationName = null;\n            };\n\n            $scope.onZoomIn = function () {\n                if (map == null) return;\n                var zoom = map.getZoom();\n                map.setZoom(zoom + 1);\n            };\n\n            $scope.onZoomOut = function () {\n                if (map == null) return;\n                var zoom = map.getZoom();\n                map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n            };\n\n            $scope.onSetLocation = function () {\n                if (map == null) return;\n\n                // var tid = $scope.transaction.begin();\n                // if (tid == null) return;\n\n                navigator.geolocation.getCurrentPosition(\n                    function (position) {\n                        // if ($scope.transaction.aborted(tid)) return;\n\n                        var coordinates = new google.maps.LatLng(\n                            position.coords.latitude, position.coords.longitude);\n\n                        marker = createMarker(coordinates);\n                        map.setCenter(coordinates);\n                        map.setZoom(12);\n\n                        changeLocation(coordinates, null);\n                    },\n                    function () {\n                        // $scope.transaction.end();\n                        $scope.$apply();\n                    },\n                    {\n                        maximumAge: 0,\n                        enableHighAccuracy: true,\n                        timeout: 5000\n                    }\n                );\n            };\n\n            $scope.onCancel = function () {\n                $mdDialog.cancel();\n            };\n\n            $scope.onApply = function () {\n                $mdDialog.hide({\n                    location: $scope.locationPos,\n                    locationPos: $scope.locationPos,\n                    locationName: $scope.locationName   \n                });\n            };\n        }*/\n    );\n})();\n","/**\n * @file Location edit control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n \n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationEdit\", ['pipLocationEditDialog']);\n\n    thisModule.directive('pipLocationEdit',\n        function ($parse, $http, pipLocationEditDialog) {\n            return {\n                restrict: 'EAC',\n                scope: {\n                    pipLocationName: '=',\n                    pipLocationPos: '=',\n                    pipLocationHolder: '=',\n                    ngDisabled: '&',\n                    pipChanged: '&'\n                },\n                template: String()\n                    + '<md-input-container class=\"md-block\">'\n                    + '<label>{{ \\'LOCATION\\' | translate }}</label>'\n                    + '<input ng-model=\"pipLocationName\"'\n                    + 'ng-disabled=\"ngDisabled()\"/></md-input-container>'\n                    + '<div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\">'\n                    + '<md-button class=\"md-raised\" ng-disabled=\"ngDisabled()\" ng-click=\"onSetLocation()\"'\n                    + 'aria-label=\"LOCATION_ADD_LOCATION\">'\n                    + '<span class=\"icon-location\"></span> {{::\\'LOCATION_ADD_LOCATION\\' | translate }}'\n                    + '</md-button></div>'\n                    + '<div class=\"pip-location-container\" tabindex=\"{{ ngDisabled() ? -1 : 0 }}\"'\n                    + ' ng-click=\"onMapClick($event)\" ng-keypress=\"\"onMapKeyPress($event)\"></div>',\n                controller: function ($scope, $element) {\n                    $element.find('md-input-container').attr('md-no-float', !!$scope.pipLocationHolder);\n                },\n                link: function ($scope: any, $element) {\n\n                    var \n                        $empty = $element.children('.pip-location-empty'),\n                        $mapContainer = $element.children('.pip-location-container'),\n                        $mapControl = null;\n\n                    function clearMap() {\n                        // Remove map control\n                        if ($mapControl) $mapControl.remove();\n                        $mapControl = null;\n\n                        // Toggle control visibility\n                        $mapContainer.hide();\n                        $empty.show();\n                    };\n\n                    function generateMap() {\n                        // Safeguard for bad coordinates\n                        var location = $scope.pipLocationPos;\n                        if (location == null || location.coordinates == null || location.coordinates.length < 0) {\n                            clearMap();\n                            return;\n                        }\n\n                        // Determine map coordinates\n                        var coordinates = new google.maps.LatLng(\n                            location.coordinates[0],\n                            location.coordinates[1]\n                        );\n\n                        // Clean up the control\n                        if ($mapControl) $mapControl.remove();\n\n                        // Toggle control visibility\n                        $mapContainer.show();\n                        $empty.hide();\n\n                        // Add a new map\n                        $mapControl = $('<div></div>');\n                        $mapControl.appendTo($mapContainer);\n\n                        // Create the map with point marker\n                        var mapOptions = {\n                            center: coordinates,\n                            zoom: 12,\n                            mapTypeId: google.maps.MapTypeId.ROADMAP,\n                            disableDefaultUI: true,\n                            disableDoubleClickZoom: true,\n                            scrollwheel: false,\n                            draggable: false\n                        };\n                        var map = new google.maps.Map($mapControl[0], mapOptions);\n                        var marker = new google.maps.Marker({\n                            position: coordinates,\n                            map: map\n                        });\n                    };\n\n                    function defineCoordinates() {\n                        var locationName = $scope.pipLocationName;\n\n                        if (locationName == '') {\n                            $scope.pipLocationPos = null;\n                            clearMap();\n                            $scope.$apply();\n                            return;\n                        }\n\n                    //    $http.get('http://maps.googleapis.com/maps/api/geocode/json?address=' + locationName)\n                    //    .success(function (response) { ... })\n                    //    .error(function (response) {... });\n\n                        var geocoder = new google.maps.Geocoder();\n                        geocoder.geocode({ address: locationName }, function(results, status) {\n                            $scope.$apply(function() {\n                                // Process response\n                                if (status == google.maps.GeocoderStatus.OK) {\n                                    // Check for empty results\n                                    if (results == null || results.length == 0) {\n                                        $scope.pipLocationPos = null;\n                                        clearMap();\n                                        return;\n                                    }\n\n                                    var \n                                        geometry = results[0].geometry || {},\n                                        location = geometry.location || {};\n\n                                    // Check for empty results again\n                                    if (location.lat == null || location.lng == null) {\n                                        $scope.pipLocationPos = null;\n                                        clearMap();\n                                        return;\n                                    }\n\n                                    $scope.pipLocationPos = {\n                                        type: 'Point',\n                                        coordinates: [\n                                            location.lat(),\n                                            location.lng()\n                                        ]\n                                    };\n\n                                    //generateMap();                                \n                                } \n                                // Process error...\n                                else {\n                                    $scope.pipLocationPos = null;\n                                    //clearMap();                                \n                                }\n                            });\n                        });\n\n                    };\n                    var defineCoordinatesDebounced = _.debounce(defineCoordinates, 2000);\n\n                    // Process user actions\n                    \n                    $scope.onSetLocation = function() {\n                        if ($scope.ngDisabled()) return;\n                          \n                        pipLocationEditDialog.show(\n                            {\n                                locationName: $scope.pipLocationName,\n                                locationPos: $scope.pipLocationPos\n                            },\n                            function (result) {\n                                var \n                                    location = result.location,\n                                    locationName = result.locationName;\n\n                                // Do not change anything if location is about the same\n                                if ($scope.pipLocationPos && $scope.pipLocationPos.type == 'Point'\n                                    && $scope.pipLocationPos.coordinates.length == 2\n                                    && location && location.coordinates.length == 2\n                                    && ($scope.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001\n                                    && ($scope.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001\n                                    && (locationName == $scope.pipLocationName)) {\n                                    return;        \n                                }\n\n                                $scope.pipLocationPos = location;\n                                $scope.pipLocationName = locationName;\n\n                                if (locationName == null && location != null) {\n                                    $scope.pipLocationName = \n                                        '(' + result.location.coordinates[0]\n                                        + ',' + result.location.coordinates[1] + ')';\n                                }\n                                $scope.pipChanged();\n                                $mapContainer[0].focus();\n                            }\n                        );\n                    };\n\n                    $scope.onMapClick = function ($event) {\n                        if ($scope.ngDisabled()) return;\n\n                        $mapContainer[0].focus();\n                        $scope.onSetLocation();\n                        //$event.stopPropagation();\n                    };\n\n                    $scope.onMapKeyPress = function($event) {\n                        if ($scope.ngDisabled()) return;\n\n                        if ($event.keyCode == 13 || $event.keyCode == 32) {\n                            $scope.onSetLocation();\n                            //$event.stopPropagation();\n                        }  \n                    };\n\n                    // Watch for location name changes\n                    $scope.$watch(\n                        function () {\n                            return $scope.pipLocationName\n                        },\n                        function (newValue, oldValue) {\n                            if (newValue != oldValue)\n                                defineCoordinatesDebounced();\n                        }\n                    );\n\n                    $scope.$watch(\n                        function () {\n                            return $scope.pipLocationPos\n                        },\n                        function () {\n                            generateMap();\n                        }\n                    );\n\n                    // Add class\n                    $element.addClass('pip-location-edit');\n\n                    // Visualize map\n                    if ($scope.pipLocationPos) generateMap();\n                    else clearMap();\n                }\n            }\n        }\n    );\n\n})();\n","/**\n * @file Location IP control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n \n/* global angular, google */\n\ndeclare let google: any;\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationIp\", []);\n\n    thisModule.directive('pipLocationIp',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipIpaddress: '&',\n                    pipExtraInfo: '&'\n                },\n                template: '<div class=\"pip-location-container\"></div>',\n                controller: 'pipLocationIpController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationIpController',\n        function ($scope, $element, $attrs, $http) {\n\n            var \n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null;\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n            }\n\n            function generateMap(latitude, longitude) {\n                // Safeguard for bad coordinates\n                if (latitude == null || longitude == null) {\n                    clearMap();\n                    return;\n                }\n\n                // Determine map coordinates\n                var coordinates = new google.maps.LatLng(\n                    latitude,\n                    longitude\n                );\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map with point marker\n                var \n                    mapOptions = {\n                        center: coordinates,\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: false,\n                        draggable: false\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions);\n                    \n                new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function defineCoordinates() {\n                var ipAddress = $scope.pipIpaddress();\n\n                if (ipAddress == '') {\n                    clearMap();\n                    return;\n                }\n\n                // Todo: Find more reliable geocoding service to locate ip addresses\n                $http.jsonp('https://www.geoplugin.net/json.gp?ip=' + ipAddress + '&jsoncallback=JSON_CALLBACK')\n                .success(function (response) {\n                    if (response != null \n                        && response.geoplugin_latitude != null\n                        && response.geoplugin_longitude != null) {\n                        \n                        generateMap(response.geoplugin_latitude, response.geoplugin_longitude);\n\n                        if ($scope.pipExtraInfo) {\n                            var extraInfo = {\n                                city: response.geoplugin_city,  \n                                regionCode: response.geoplugin_regionCode,  \n                                region: response.geoplugin_regionName,  \n                                areaCode: response.geoplugin_areaCode,  \n                                countryCode: response.geoplugin_countryCode,  \n                                country: response.geoplugin_countryName,  \n                                continentCode: response.geoplugin_continentCode\n                            };\n                            $scope.pipExtraInfo({ extraInfo: extraInfo });\n                        }\n                    } else {\n                        clearMap();\n                    }\n                })\n                .error(function (response) {\n                    console.error(response);\n                    clearMap();\n                });\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch(\n                    function () {\n                        return $scope.pipIpaddress()\n                    },\n                    function (newValue) {\n                        defineCoordinates();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location-ip');\n\n            // Visualize map\n            defineCoordinates();\n        }        \n    );\n\n})();\n\n","/**\n * @file Location map control\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular, google */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationMap\", []);\n\n    thisModule.directive('pipLocationMap',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipLocationPos: '&',\n                    pipLocationPositions: '&',\n                    pipIconPath: '&',\n                    pipDraggable: '&',\n                    pipStretch: '&'\n                },\n                template: '<div class=\"pip-location-container\"></div>',\n                controller: 'pipLocationMapController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationMapController',\n        ['$scope', '$element', '$attrs', '$parse', '$timeout', function ($scope, $element, $attrs, $parse, $timeout) {\n            var\n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null,\n                stretchMap = $scope.pipStretch() || false,\n                iconPath = $scope.pipIconPath();\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n            }\n\n            function checkLocation (loc) {\n                return !(loc == null\n                || loc.coordinates == null\n                || loc.coordinates.length < 0);\n            }\n\n            function determineCoordinates(loc) {\n                var point = new google.maps.LatLng(\n                    loc.coordinates[0],\n                    loc.coordinates[1]\n                );\n\n                point.fill = loc.fill;\n                point.stroke = loc.stroke;\n\n                return point;\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function generateMap() {\n                var location = $scope.pipLocationPos(),\n                    locations = $scope.pipLocationPositions(),\n                    points = [],\n                    draggable = $scope.pipDraggable() || false;\n\n                // Safeguard for bad coordinates\n                if (checkLocation(location)) {\n                    points.push(determineCoordinates(location));\n                } else {\n                    if (locations && locations.length && locations.length > 0) {\n                        locations.forEach(function (loc) {\n                            if (checkLocation(loc)) {\n                                points.push(determineCoordinates(loc));\n                            }\n                        });\n                    }\n                }\n\n                if (points.length === 0) {\n                    clearMap();\n                    return;\n                }\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map\n                var\n                    mapOptions = {\n                        center: points[0],\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: draggable,\n                        draggable: draggable\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions),\n                    bounds = new google.maps.LatLngBounds();\n\n                // Create markers\n                points.forEach(function(point) {\n                    var icon = {\n                        path: iconPath,\n                        fillColor: point.fill || '#EF5350',\n                        fillOpacity: 1,\n                        scale: 1,\n                        strokeColor: point.stroke || 'white',\n                        strokeWeight: 5\n                    };\n\n                    new google.maps.Marker({\n                        position: point,\n                        map: map,\n                        icon: iconPath ? icon : null\n                    });\n                    bounds.extend(point);\n                });\n\n                // Auto-config of zoom and center\n                if (points.length > 1) map.fitBounds(bounds);\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch(\n                    function () {\n                        return $scope.pipLocationPos()\n                    },\n                    function () {\n                        generateMap();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location-map');\n            if (stretchMap) $mapContainer.addClass('stretch');\n\n            // Visualize map\n            if ($scope.pipLocationPos() || $scope.pipLocationPositions()) $timeout(generateMap, 200);\n            else clearMap();\n        }]\n    );\n\n})();\n\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipLocations', [        \n        'pipLocation',\n        'pipLocationMap',\n        'pipLocationIp',\n        'pipLocationEditDialog',\n        'pipLocationEdit',\n        'pipLocations.Translate'\n    ]);\n    \n})();\n\n\n","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/location_dialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","export class ButtonsUpload {\n    public title: string;\n    public click: Function;\n}","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nimport {\n    FileFailChanges,\n    IFileFailBindings\n} from \"./index\";\n\nexport interface IFileFailController {\n    name: string;\n    type: string;\n    error: string;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileFailController implements IFileFailController, IFileFailBindings {\n    public name: string;\n    public type: string;\n    public error: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n        \n        $scope.$watch('error', (error: string) => {\n            this.error = error;\n        })\n    }\n}","\nimport { FileFailController } from './FileFailController';\nimport { ButtonsUpload } from '../common/ButtonsUpload';\n\nexport interface IFileFailBindings {\n    [key: string]: any;\n\n    buttons: any,\n    name: any,\n    type: any,\n    error: any\n}\n\nconst FileFailBindings: IFileFailBindings = {\n    buttons: '<?pipButtons',\n    name: '<pipName',\n    type: '<?pipType',\n    error: '<pipError'\n}\n\nexport class FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n}\n\nconst fileFailComponent: ng.IComponentOptions = {\n    controller: FileFailController,\n    bindings: FileFailBindings,\n    templateUrl: 'fail/FileFail.html'\n};\n\n\n(() => {\n\n    angular\n        .module('pipFiles.FailUpload', [])\n        .component('pipFailUpload', fileFailComponent)\n\n\n})();\n","\nimport {FileSelectController} from './select/FileSelectController';\nimport {FileUploadService} from './service/FileUploadService';\n\nimport './success/index';\nimport './upload/index';\nimport './start/index';\nimport './fail/index';\n\n(() => {\n    function fileModelDirective($parse: any) {\n        \"ngInject\";\n\n        return {\n            restrict: 'A',\n            link: (scope, element, attrs) => {\n                let model = $parse(attrs.fileModel);\n                let modelSetter = model.assign;\n                \n                element.bind('change', () => {\n                    scope.$apply(() => {\n                        modelSetter(scope, element[0].files[0]);\n                    });\n                });\n            }\n        };\n    }\n\n    function fileSelectDirective() {\n        return {\n            restrict: 'E',\n            replace: true,\n            scope: {\n                localFile: '='\n            },\n            controller: FileSelectController,\n            controllerAs: 'vm',\n            templateUrl: 'select/FileSelect.html'\n        };\n    }\n\n    angular\n        .module('pipFiles', [\n            'pipFiles.SuccessUpload',\n            'pipFiles.FileUpload',\n            'pipFiles.StartUpload',\n            'pipFiles.FailUpload'\n        ])\n        .directive('fileModel', fileModelDirective)\n        .directive('pipFileSelect', fileSelectDirective)\n       //.directive('pipFailUpload', fileFailDirective)\n        .service('pipFileUpload', FileUploadService);\n\n\n})();\n","export interface IFileSelectController {\n    localFile: any;\n    onUploadButtonClick(): void ;\n    onDeleteButtonClick(): void;\n}\n\nexport class FileSelectController implements IFileSelectController {\n    public localFile: any;\n    \n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        this.localFile = $scope['localFile'];\n        $scope.$watch('vm.localFile', (item) => {\n            $scope['localFile'] = item;\n        }) \n    }\n\n    public onUploadButtonClick(): void {\n        $('#inp_file').click();\n    }\n\n    public onDeleteButtonClick(): void {\n        this.localFile = null;\n        let forml = document.getElementById('inp_form');\n        (<any>forml).reset();\n\n    }\n}","export class FileUploadState {\n    public static All: string[] = ['start', 'upload', 'fail'];\n    public static Start: string = 'start';\n    public static Upload: string = 'upload';\n    public static Fail: string = 'fail';\n}\n\nexport interface IFileUploadService {\n    progress: number;\n    state: string;\n    error: string;\n    upload(url: string, file: any, transaction: any, callback?: (data: any, err: any) => void): void;\n}\n\nexport class FileUploadService implements IFileUploadService {\n    public progress: number;\n    public state: string;\n    public error: string = null;\n\n    public constructor( private $http: ng.IHttpService) {}\n\n    public upload(url: string, file: any, callback?: (data: any, err: any) => void): void {\n        \n        let fd: FormData = new FormData();\n        fd.append('file', file);\n        \n        this.progress = 0;\n        this.state = FileUploadState.Start;\n        this.$http.post(url, fd, <any>{\n            uploadEventHandlers: {\n                progress: (e: any) => {\n                    if (e.lengthComputable) {\n                        this.progress = (e.loaded / e.total) * 100;\n                    }\n                }\n            },\n            headers: { 'Content-Type': undefined }\n        })    \n        .success((response: any) => {\n            this.state = FileUploadState.Upload;\n\n            if (callback) callback(response, null);\n        })    \n        .error((response: any) => {\n            this.state = FileUploadState.Fail;\n            this.error = response.Error || response;\n\n            if (callback) callback(null, response);\n        });\n    }\n}","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nexport interface IFileStartController {\n    name: string;\n    type: string;\n    progress: number;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileStartController implements IFileStartController {\n    public name: string;\n    public progress: number = 0;\n    public type: string;\n    public buttons: ButtonsUpload[];\n\n    constructor($scope: ng.IScope) {\n        \"ngInject\";\n        \n        // Init parameters\n      \n        $scope.$watch('progress', (progress: number) => {\n            this.progress = progress;\n        })\n    }\n}","\nimport {FileStartController} from './FileStartController';\n\n(() => {\n \n    const fileStartDirective = {\n        restrict: 'E',\n        replace: true,\n        controller: FileStartController,\n        controllerAs: 'vm',\n        bindings: {\n            buttons: '=?pipButtons',\n            name: '=pipName',\n            type: '=?pipType',\n            progress: '=?pipProgress'\n        },\n        templateUrl: 'start/FileStart.html'\n    };\n\n    angular\n        .module('pipFiles.StartUpload', [])\n        .component('pipStartUpload', fileStartDirective)\n\n\n})();\n","\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nimport { IFileSuccessBindings} from './index';\n\nexport interface IFileSuccessController {\n    name: string;\n    type: string;\n    buttons: ButtonsUpload[];\n}\n\nexport class FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\n    public name: string;\n    public type: string = 'file';\n    public buttons: ButtonsUpload[];\n\n    constructor() {}\n\n    public $onChanges(changes) {}\n}","\nimport {FileSuccessController} from './FileSuccessController';\n\nexport interface IFileSuccessBindings {\n    [key: string]: any;\n\n    type: any\n    buttons: any,\n    name: any\n}\n\nconst FileSuccessBindings: IFileSuccessBindings = {\n    buttons: '=?pipButtons',\n    name: '=pipName',\n    type: '=?pipType',\n};\n\n(() => {\n \n     const fileSuccessDirective = {\n            restrict: 'E',\n            replace: true,\n            controller: FileSuccessController,\n            controllerAs: 'vm',\n            bindings: FileSuccessBindings,\n            templateUrl: 'success/FileSuccess.html'\n    }\n\n\n    angular\n        .module('pipFiles.SuccessUpload', [])\n        .component('pipSuccesUpload', fileSuccessDirective)\n\n\n})();\n","\nimport {\n    IFileUploadService\n} from \"../service/FileUploadService\";\n\nimport {\n    ButtonsUpload\n} from \"../common/ButtonsUpload\";\n\nimport {\n    FileUploadChanges\n} from \"./index\";\n\nexport interface IFileUploadController {\n    name: string;\n    type: string;\n    state: string;\n    progress: number;\n    onCancel(): void;\n    onRetry(): void;\n    onAbort(): void;\n}\n\nexport class FileUploadButtons {\n    retry: Function;\n    cancel: Function;\n    abort: Function;\n}\n\nexport class FileUploadController implements IFileUploadController {\n    public buttonFunction: FileUploadButtons;\n    public uploadButtons: ButtonsUpload[];\n    public failButtons: ButtonsUpload[];\n    public startButtons: ButtonsUpload[];\n\n    public name: string;\n    public type: string;\n    public state: string;\n    public progress: number;\n    public buttons: boolean;\n    public error: string = null;\n\n    constructor( $scope: ng.IScope ) {\n        \"ngInject\";\n        \n        // Init parameters\n        if (this.buttonFunction) {\n            this.uploadButtons = [];\n            this.failButtons = [\n                {title: 'Cancel', click: () => { this.onCancel()}},\n                {title: 'Retry', click: () => { this.onRetry()}}\n            ];\n            this.startButtons = [\n                {title: 'Abort', click: () => { this.onAbort() }}\n            ];\n        }\n    }\n\n    \n    public $onChanges(changes: FileUploadChanges) {\n        if (changes.state) {\n            this.state = changes.state.currentValue;\n        }\n\n        if (changes.progress) {\n            this.progress = changes.progress.currentValue;\n        }\n\n        if (changes.error) {\n            this.error = changes.error.currentValue;\n        }\n\n    }\n\n    public onCancel(): void {\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\n    }\n\n    public onRetry(): void {\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\n    }\n\n    public onAbort() {\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\n    }\n\n}","\nimport {FileUploadController, FileUploadButtons} from './FileUploadController';\n\nexport interface IFileUploadBindings {\n    [key: string]: any;\n\n    buttonFunction: any,\n    buttons: any,\n    error: any,\n    name: any,\n    state: any,\n    type: any,\n    progress: any\n}\n\nconst FileUploadBindings: IFileUploadBindings = {\n    buttonFunction: '<?pipButtonFunctions',\n    buttons: '<?pipButtons',\n    error: '<?pipError',\n    name: '<pipName',\n    state: '<pipState',\n    type: '<?pipType',\n    progress: '<pipProgress'\n}\n\nexport class FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\n    buttons: ng.IChangesObject<boolean>;\n    error: ng.IChangesObject<string>;\n    name: ng.IChangesObject<string>;\n    state: ng.IChangesObject<string>;\n    type: ng.IChangesObject<string>;\n    progress: ng.IChangesObject<number>;\n}\n\nconst fileUploadDirective = {\n    controller: FileUploadController,\n    bindings: FileUploadBindings,\n    templateUrl: 'upload/FileUpload.html'\n};\n\n\n(() => {\n\n    angular\n        .module('pipFiles.FileUpload', [])\n        .component('pipFileUpload', fileUploadDirective)\n       \n})();\n","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{$ctrl.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div class=\"color-error pip-error\">{{$ctrl.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"vm.localFile\" id=\"inp_file\" ng-model=\"vm.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"vm.onUploadButtonClick()\" ng-if=\"!vm.localFile\">Choose File</md-button><div ng-if=\"vm.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{vm.localFile.name}}</div><div ng-if=\"vm.localFile.size\" class=\"color-secondary-text\">{{vm.localFile.size}}</div></div><md-button ng-click=\"vm.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::vm.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{vm.progress}}\" ng-if=\"vm.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"vm.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == \\'upload\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == \\'fail\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == \\'start\\'\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n","import './widgets/Widgets';\nimport './draggable/Draggable';\n\nangular.module('pipDashboard', [\n  'pipWidget',\n  'pipDragged',\n  'pipWidgetConfigDialog',\n  'pipAddDashboardComponentDialog',\n  'pipDashboard.Templates',\n\n  // External pip modules\n  'pipLayout',\n  'pipLocations',\n  'pipDateTime',\n  'pipCharts',\n  'pipTranslate',\n  'pipControls'\n]);\n\nimport './utility/WidgetTemplateUtility';\nimport './dialogs/widget_config/ConfigDialogController';\nimport './dialogs/add_component/AddComponentDialogController';\nimport './DashboardComponent';\n","import {\n  IWidgetTemplateService\n} from './utility/WidgetTemplateUtility';\nimport {\n  IAddComponentDialogService,\n  IAddComponentDialogprovider\n} from './dialogs/add_component/AddComponentProvider'\n\n{\n  const setTranslations = function ($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      ( < any > pipTranslate).setTranslations('en', {\n        DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\n      });\n      ( < any > pipTranslate).setTranslations('ru', {\n        DROP_TO_CREATE_NEW_GROUP: '     '\n      });\n    }\n  }\n\n  const configureAvailableWidgets = function (pipAddComponentDialogProvider: IAddComponentDialogprovider) {\n    pipAddComponentDialogProvider.configWidgetList([\n      [{\n          title: 'Event',\n          icon: 'document',\n          name: 'event',\n          amount: 0\n        },\n        {\n          title: 'Position',\n          icon: 'location',\n          name: 'position',\n          amount: 0\n        }\n      ],\n      [{\n          title: 'Calendar',\n          icon: 'date',\n          name: 'calendar',\n          amount: 0\n        },\n        {\n          title: 'Sticky Notes',\n          icon: 'note-take',\n          name: 'notes',\n          amount: 0\n        },\n        {\n          title: 'Statistics',\n          icon: 'tr-statistics',\n          name: 'statistics',\n          amount: 0\n        }\n      ]\n    ]);\n  }\n\n  class draggableOptions {\n    tileWidth: number;\n    tileHeight: number;\n    gutter: number;\n    inline: boolean;\n  }\n\n  const DEFAULT_GRID_OPTIONS: draggableOptions = {\n    tileWidth: 150, // 'px'\n    tileHeight: 150, // 'px'\n    gutter: 10, // 'px'\n    inline: false\n  };\n\n  interface DashboardBindings {\n      gridOptions: any;\n      groupAdditionalActions: any;\n      groupedWidgets: any;\n  }\n\n  class DashboardController implements ng.IController, DashboardBindings {\n    private defaultGroupMenuActions: any = [{\n        title: 'Add Component',\n        callback: (groupIndex) => {\n          this.addComponent(groupIndex);\n        }\n      },\n      {\n        title: 'Remove',\n        callback: (groupIndex) => {\n          this.removeGroup(groupIndex);\n        }\n      },\n      {\n        title: 'Configurate',\n        callback: (groupIndex) => {\n          console.log('configurate group with index:', groupIndex);\n        }\n      }\n    ];\n    private _includeTpl: string = '<pip-{{ type }}-widget group=\"groupIndex\" index=\"index\"' +\n      'pip-options=\"$parent.$ctrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\n      '</pip-{{ type }}-widget>';\n\n    public groupedWidgets: any;\n    public draggableGridOptions: draggableOptions;\n    public widgetsTemplates: any;\n    public groupMenuActions: any = this.defaultGroupMenuActions;\n    public widgetsContext: any;\n    public gridOptions: any;\n    public groupAdditionalActions: any;\n\n    constructor(\n      $scope: angular.IScope,\n      private $rootScope: angular.IRootScopeService,\n      private $attrs: any,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private $interpolate: angular.IInterpolateService,\n      private pipAddComponentDialog: IAddComponentDialogService,\n      private pipWidgetTemplate: IWidgetTemplateService\n    ) {\n      // Add class to style scroll bar\n      $element.addClass('pip-scroll');\n\n      // Set tiles grid options\n      this.draggableGridOptions = this.gridOptions || DEFAULT_GRID_OPTIONS;\n\n      // Switch inline displaying\n      if (this.draggableGridOptions.inline === true) {\n        $element.addClass('inline-grid');\n      }\n      // Extend group's menu actions\n      if (this.groupAdditionalActions) angular.extend(this.groupMenuActions, this.groupAdditionalActions);\n\n      // Compile widgets\n      this.widgetsContext = $scope;\n      this.compileWidgets();\n\n      this.$timeout(() => {\n        this.$element.addClass('visible');\n      }, 700);\n    }\n\n    private compileWidgets() {\n      _.each(this.groupedWidgets, (group, groupIndex) => {\n        group.removedWidgets = group.removedWidgets || [],\n          group.source = group.source.map((widget, index) => {\n            // Establish default props\n            widget.size = widget.size || {\n              colSpan: 1,\n              rowSpan: 1\n            };\n            widget.index = index;\n            widget.groupIndex = groupIndex;\n            widget.menu = widget.menu || {};\n            angular.extend(widget.menu, [{\n              title: 'Remove',\n              click: (item, params, object) => {\n                this.removeWidget(item, params, object);\n              }\n            }]);\n\n            return {\n              opts: widget,\n              template: this.pipWidgetTemplate.getTemplate(widget, this._includeTpl)\n            };\n          })\n      });\n    }\n\n    public addComponent(groupIndex) {\n      this.pipAddComponentDialog\n        .show(this.groupedWidgets, groupIndex)\n        .then((data) => {\n          var activeGroup;\n\n          if (!data) {\n            return;\n          }\n\n          if (data.groupIndex !== -1) {\n            activeGroup = this.groupedWidgets[data.groupIndex];\n          } else {\n            activeGroup = {\n              title: 'New group',\n              source: []\n            };\n          }\n\n          this.addWidgets(activeGroup.source, data.widgets);\n\n          if (data.groupIndex === -1) {\n            this.groupedWidgets.push(activeGroup);\n          }\n\n          this.compileWidgets();\n        });\n    };\n\n    public removeGroup = (groupIndex) => {\n      console.log('removeGroup', groupIndex);\n      this.groupedWidgets.splice(groupIndex, 1);\n    }\n\n    private addWidgets(group, widgets) {\n      widgets.forEach((widgetGroup) => {\n        widgetGroup.forEach((widget) => {\n          if (widget.amount) {\n            Array.apply(null, Array(widget.amount)).forEach(() => {\n              group.push({\n                type: widget.name\n              });\n            });\n          }\n        });\n      });\n    }\n\n    private removeWidget(item, params, object) {\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\n      this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\n      this.$timeout(() => {\n        this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\n      });\n    }\n\n  }\n\n  const pipDashboard: ng.IComponentOptions = {\n    bindings: {\n      gridOptions: '=pipGridOptions',\n      groupAdditionalActions: '=pipGroupActions',\n      groupedWidgets: '=pipGroups'\n    },\n    controller: DashboardController,\n    templateUrl: 'Dashboard.html'\n  }\n\n  angular\n    .module('pipDashboard')\n    .config(configureAvailableWidgets)\n    .config(setTranslations)\n    .component('pipDashboard', pipDashboard);\n\n}","export class AddComponentDialogWidget {\n    title: string;\n    icon: string;\n    name: string;\n    amount: number;\n}\n\nexport class AddComponentDialogController implements ng.IController {\n    public defaultWidgets: [AddComponentDialogWidget[]];\n    public groups: any;\n    public totalWidgets: number = 0;\n\n    constructor(\n        groups, // Later may be group type\n        public activeGroupIndex: number,\n        widgetList: [AddComponentDialogWidget[]],\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\n        this.defaultWidgets = _.cloneDeep(widgetList);\n        this.groups = _.map(groups, function (group) {\n            return group['title'];\n        });\n    }\n\n    public add() {\n        this.$mdDialog.hide({\n            groupIndex: this.activeGroupIndex,\n            widgets: this.defaultWidgets\n        });\n    };\n\n    public cancel() {\n        this.$mdDialog.cancel();\n    };\n\n    public encrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultWidgets[groupIndex][widgetIndex];\n        widget.amount++;\n        this.totalWidgets++;\n    };\n\n    public decrease(groupIndex: number, widgetIndex: number) {\n        const widget = this.defaultWidgets[groupIndex][widgetIndex];\n        widget.amount = widget.amount ? widget.amount - 1 : 0;\n        this.totalWidgets = this.totalWidgets ? this.totalWidgets - 1 : 0;\n    };\n}\n\nangular\n    .module('pipAddDashboardComponentDialog', ['ngMaterial']);\n\nimport './AddComponentProvider';","import {\n  AddComponentDialogWidget,\n  AddComponentDialogController\n} from './AddComponentDialogController';\n\nexport interface IAddComponentDialogService {\n  show(groups, activeGroupIndex): angular.IPromise < any > ;\n}\n\nexport interface IAddComponentDialogprovider {\n  configWidgetList(list: [AddComponentDialogWidget[]]): void;\n}\n\n{\n  const setTranslations = function($injector: ng.auto.IInjectorService) {\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n    if (pipTranslate) {\n      (<any>pipTranslate).setTranslations('en', {\n        DASHBOARD_ADD_COMPONENT_DIALOG_TITLE: 'Add component',\n        DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS: 'Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount',\n        DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP: 'Create new group'\n      });\n      (<any>pipTranslate).setTranslations('ru', {\n        DASHBOARD_ADD_COMPONENT_DIALOG_TITLE: ' ',\n        DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS: ' \"Enter\"  \"+\"       \"Delete\" or \"-\"    ',\n        DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP: '  '\n      });\n    }\n  }\n\n  class AddComponentDialogService implements IAddComponentDialogService {\n\n    public constructor(\n      private widgetList: [AddComponentDialogWidget[]],\n      private $mdDialog: angular.material.IDialogService\n    ) {}\n\n    public show(groups, activeGroupIndex) {\n      return this.$mdDialog\n        .show({\n          templateUrl: 'dialogs/add_component/AddComponent.html',\n          bindToController: true,\n          controller: AddComponentDialogController,\n          controllerAs: 'dialogCtrl',\n          clickOutsideToClose: true,\n          resolve: {\n            groups: () => {\n              return groups;\n            },\n            activeGroupIndex: () => {\n              return activeGroupIndex;\n            },\n            widgetList: () => {\n              return (<any>this.widgetList);\n            }\n          }\n        });\n    };\n  }\n\n  class AddComponentDialogProvider implements IAddComponentDialogprovider {\n    private _service: AddComponentDialogService;\n    private _widgetList: [AddComponentDialogWidget[]] = null;\n\n    constructor() {}\n\n    public configWidgetList = function (list: [AddComponentDialogWidget[]]) {\n      this._widgetList = list;\n    };\n\n    public $get($mdDialog: angular.material.IDialogService) {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new AddComponentDialogService(this._widgetList, $mdDialog);\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipDashboard')\n    .config(setTranslations)\n    .provider('pipAddComponentDialog', AddComponentDialogProvider);\n}","\nclass TileColors {\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\n}\n\nclass TileSizes {\n    static all: any = [{\n            name: 'DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL',\n            id: '11'\n        },\n        {\n            name: 'DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE',\n            id: '21'\n        },\n        {\n            name: 'DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE',\n            id: '22'\n        }\n    ];\n}\n\nexport class WidgetConfigDialogController {\n    public colors: string[] = TileColors.all;\n    public sizes: any = TileSizes.all;\n    public sizeId: string = TileSizes.all[0].id;\n    public onCancel: Function;\n\n    constructor(\n        public params,\n        public $mdDialog: angular.material.IDialogService\n    ) {\n        \"ngInject\";\n\n        angular.extend(this, this.params);\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\n\n        this.onCancel = () => {\n            this.$mdDialog.cancel();\n        }\n    }\n\n    public onApply(updatedData) {\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\n        this.$mdDialog.hide(updatedData);\n    }\n}\n\nangular\n    .module('pipWidgetConfigDialog', ['ngMaterial']);\n\nimport './ConfigDialogService';\nimport './ConfigDialogExtendComponent';","{    \n    interface IWidgetConfigExtendComponentBindings {\n        [key: string]: any;\n\n        pipExtensionUrl: any;\n        pipDialogScope: any;\n        pipApply: any;\n    }\n\n    const WidgetConfigExtendComponentBindings: IWidgetConfigExtendComponentBindings = {\n        pipExtensionUrl: '<',\n        pipDialogScope: '<',\n        pipApply: '&'\n    }\n\n    class WidgetConfigExtendComponentChanges implements ng.IOnChangesObject, IWidgetConfigExtendComponentBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipExtensionUrl: ng.IChangesObject<string>;\n        pipDialogScope: ng.IChangesObject<ng.IScope>;\n\n        pipApply: ng.IChangesObject<({updatedData: any}) => ng.IPromise<void>>;\n    }\n\n    interface IWidgetConfigExtendComponentAttributes extends ng.IAttributes {\n        pipExtensionUrl: string\n    }\n\n    class WidgetConfigExtendComponentController implements IWidgetConfigExtendComponentBindings {\n        public pipExtensionUrl: string;\n        public pipDialogScope: ng.IScope;\n        public pipApply: (param: {updatedData: any}) => ng.IPromise<void>;\n\n        constructor(\n            private $templateRequest: angular.ITemplateRequestService,\n            private $compile: angular.ICompileService,\n            private $scope: angular.IScope, \n            private $element: JQuery, \n            private $attrs: IWidgetConfigExtendComponentAttributes\n        ) { }\n\n        public $onChanges(changes: WidgetConfigExtendComponentChanges) {\n            if (changes.pipDialogScope) {\n                angular.extend(this, changes.pipDialogScope.currentValue);\n            }\n            if (changes.pipExtensionUrl) {\n                this.$templateRequest(changes.pipExtensionUrl.currentValue, false).then((html) => {\n                    this.$element.find('pip-extension-point').replaceWith(this.$compile(html)(this.$scope));\n                });\n            }\n        }\n\n        public onApply() {\n            this.pipApply({updatedData: this});\n        }\n    }\n\n    const pipWidgetConfigComponent: ng.IComponentOptions = {\n        templateUrl: 'dialogs/widget_config/ConfigDialogExtendComponent.html',\n        controller: WidgetConfigExtendComponentController,\n        bindings: WidgetConfigExtendComponentBindings\n    }\n\n    angular\n        .module('pipWidgetConfigDialog')\n        .component('pipWidgetConfigExtendComponent', pipWidgetConfigComponent);\n}","import { WidgetConfigDialogController } from './ConfigDialogController';\n\nexport interface IWidgetConfigService {\n    show(params: IWidgetConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void): any;\n}\n\nexport interface IWidgetConfigDialogOptions extends angular.material.IDialogOptions {\n    dialogClass?: string;\n    extensionUrl?: string;\n    event?: any;\n}\n\n{\n    const setTranslations = function($injector: ng.auto.IInjectorService) {\n        const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n        if (pipTranslate) {\n            ( < any > pipTranslate).setTranslations('en', {\n                DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE: 'Edit tile',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL: 'Small',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE: 'Wide',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE: 'Large'\n            });\n            ( < any > pipTranslate).setTranslations('ru', {\n                DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE: ' ',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_SMALL: '.',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_WIDE: '',\n                DASHBOARD_WIDGET_CONFIG_DIALOG_SIZE_LARGE: ''\n            });\n        }\n    }\n\n    class WidgetConfigDialogService {\n        public constructor(\n            public $mdDialog: angular.material.IDialogService\n        ) {}\n\n        public show(params: IWidgetConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: params.templateUrl || 'dialogs/widget_config/ConfigDialog.html',\n                    controller: WidgetConfigDialogController,\n                    bindToController: true,\n                    controllerAs: 'vm',\n                    locals: {\n                        params: params.locals\n                    },\n                    clickOutsideToClose: true\n                })\n                .then((key) => {\n                    if (successCallback) {\n                        successCallback(key);\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    angular\n        .module('pipWidgetConfigDialog')\n        .config(setTranslations)\n        .service('pipWidgetConfigDialogService', WidgetConfigDialogService);\n}","angular.module('pipDragged', []);\n\nimport './DraggableTileService';\nimport './DraggableComponent';\nimport './draggable_group/DraggableTilesGroupService'\nimport './draggable_group/DraggableTilesGroupDirective'","declare var interact;\n\nimport {\n  DragTileService,\n  IDragTileService,\n  IDragTileConstructor\n} from './DraggableTileService';\nimport {\n  TilesGridService,\n  ITilesGridService,\n  ITilesGridConstructor\n} from './draggable_group/DraggableTilesGroupService';\n\nexport const DEFAULT_TILE_WIDTH: number = 150;\nexport const DEFAULT_TILE_HEIGHT: number = 150;\nexport const UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\n\nconst SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\nconst DEFAULT_OPTIONS = {\n  tileWidth: DEFAULT_TILE_WIDTH, // 'px'\n  tileHeight: DEFAULT_TILE_HEIGHT, // 'px'\n  gutter: 20, // 'px'\n  container: 'pip-draggable-grid:first-of-type',\n  //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\n  activeDropzoneClass: 'dropzone-active',\n  groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\n};\n\n{\n  interface IDraggableBindings {\n      tilesTemplates: any;\n      tilesContext: any;\n      options: any;\n      groupMenuActions: any;\n      $container: JQuery;\n  }\n\n  interface IDraggableControllerScope extends ng.IScope {\n    $container: JQuery;\n    tilesTemplates: any;\n    options: any;\n  }\n\n  interface ITileScope extends ng.IScope {\n    index: number | string;\n    groupIndex: number | string;\n  }\n\n  class DraggableController implements ng.IComponentController, IDraggableBindings {\n    public opts: any;\n    public groups: any;\n    public sourceDropZoneElem: any = null;\n    public isSameDropzone: boolean = true;\n    public tileGroups: any = null;\n    public availableWidth: number;\n    public availableColumns: number;\n    public groupsContainers: any;\n    public container: any;\n    public activeDraggedGroup: any;\n    public draggedTile: any;\n    public containerOffset: any;\n    public tilesTemplates: any;\n    public tilesContext: any;\n    public options: any;\n    public groupMenuActions: any;\n    public $container: JQuery;\n\n    constructor(\n      private $scope: IDraggableControllerScope,\n      private $rootScope: angular.IRootScopeService,\n      private $compile: angular.ICompileService,\n      private $timeout: angular.ITimeoutService,\n      private $element: JQuery,\n      pipDragTile: IDragTileService,\n      pipTilesGrid: ITilesGridService,\n      pipMedia: pip.layouts.IMediaService\n    ) {\n      this.opts = _.merge({\n        mobileBreakpoint: pipMedia.breakpoints.xs\n      }, DEFAULT_OPTIONS, this.options);\n\n      this.groups = this.tilesTemplates.map((group, groupIndex) => {\n        return {\n          title: group.title,\n          editingName: false,\n          index: groupIndex,\n          source: group.source.map((tile) => {\n            const tileScope = this.createTileScope(tile);\n\n            return IDragTileConstructor(DragTileService, {\n              tpl: $compile(tile.template)(tileScope),\n              options: tile.opts,\n              size: tile.opts.size\n            });\n          })\n        };\n      });\n\n      // Add templates watcher\n      $scope.$watch('$ctrl.tilesTemplates', (newVal) => {\n        this.watch(newVal);\n      }, true);\n\n      // Initialize data\n      this.initialize();\n\n      // Resize handler TODO: replace by pip resize watchers\n      $(window).on('resize', _.debounce(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n\n        this.tileGroups.forEach((group) => {\n          group\n            .setAvailableColumns(this.availableColumns)\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n            .setTilesDimensions()\n            .calcContainerHeight();\n        });\n      }, 50));\n    }\n\n    // Post link function\n    public $postLink() {\n      this.$container = this.$element;\n    }\n\n    // Watch handler\n    private watch(newVal) {\n      const prevVal = this.groups;\n      let changedGroupIndex = null;\n\n      if (newVal.length > prevVal.length) {\n        this.addGroup(newVal[newVal.length - 1]);\n\n        return;\n      }\n\n      if (newVal.length < prevVal.length) {\n        this.removeGroups(newVal);\n\n        return;\n      }\n\n      for (let i = 0; i < newVal.length; i++) {\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\n          changedGroupIndex = i;\n\n          if (groupWidgetDiff < 0) {\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\n\n            _.each(newTiles, (tile) => {\n              console.log('tile', tile);\n            });\n\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\n\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          } else {\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\n            this.updateTilesOptions(newVal);\n            this.$timeout(() => {\n              this.updateTilesGroups();\n            });\n          }\n\n          return;\n        }\n      }\n\n      if (newVal && this.tileGroups) {\n        this.updateTilesOptions(newVal);\n        this.$timeout(() => {\n          this.updateTilesGroups();\n        });\n      }\n    }\n\n    // Inline edit group handlers\n    public onTitleClick(group, event) {\n      if (!group.editingName) {\n        group.oldTitle = _.clone(group.title);\n        group.editingName = true;\n        this.$timeout(() => {\n          $(event.currentTarget.children[0]).focus();\n        });\n      }\n    }\n\n    public cancelEditing(group) {\n      group.title = group.oldTitle;\n    }\n\n    public onBlurTitleInput(group) {\n      this.$timeout(() => {\n        group.editingName = false;\n        this.$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\n        // Update title in outer scope\n        this.tilesTemplates[group.index].title = group.title;\n      }, 100);\n    }\n\n    public onKyepressTitleInput(group, event) {\n      if (event.keyCode === 13) {\n        this.onBlurTitleInput(group);\n      }\n    }\n\n    // Update outer scope functions\n    private updateTilesTemplates(updateType: string, source ? : any) {\n      switch (updateType) {\n        case 'addGroup':\n          if (this.groups.length !== this.tilesTemplates.length) {\n            this.tilesTemplates.push(source);\n          }\n          break;\n        case 'moveTile':\n          const {\n            fromIndex,\n            toIndex,\n            tileOptions,\n            fromTileIndex\n          } = {\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\n            toIndex: source.to.elem.attributes['data-group-id'].value,\n            tileOptions: source.tile.opts.options,\n            fromTileIndex: source.tile.opts.options.index\n          }\n          this.tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\n          this.tilesTemplates[toIndex].source.push({\n            opts: tileOptions\n          });\n\n          this.reIndexTiles(source.from.elem);\n          this.reIndexTiles(source.to.elem);\n          break;\n      }\n    }\n\n    // Manage tiles functions\n    private createTileScope(tile: any): ITileScope {\n      const tileScope = < ITileScope > this.$rootScope.$new(false, this.tilesContext);\n      tileScope.index = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index;\n      tileScope.groupIndex = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\n\n      return tileScope;\n    }\n\n    private removeTiles(group, indexes, container) {\n      const tiles = $(container).find('.pip-draggable-tile');\n\n      _.each(indexes, (index) => {\n        group.tiles.splice(index, 1);\n        tiles[index].remove();\n      });\n\n      this.reIndexTiles(container);\n    }\n\n    private reIndexTiles(container, gIndex ? ) {\n      const tiles = $(container).find('.pip-draggable-tile'),\n        groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\n\n      _.each(tiles, (tile, index) => {\n        const child = $(tile).children()[0];\n        angular.element(child).scope()['index'] = index;\n        angular.element(child).scope()['groupIndex'] = groupIndex;\n      });\n    }\n\n    private removeGroups(newGroups) {\n      const removeIndexes = [],\n        remain = [],\n        containers = [];\n\n\n      _.each(this.groups, (group, index) => {\n        if (_.findIndex(newGroups, (g) => {\n            return g['title'] === group.title\n          }) < 0) {\n          removeIndexes.push(index);\n        } else {\n          remain.push(index);\n        }\n      });\n\n      _.each(removeIndexes.reverse(), (index) => {\n        this.groups.splice(index, 1);\n        this.tileGroups.splice(index, 1);\n      });\n\n      _.each(remain, (index) => {\n        containers.push(this.groupsContainers[index]);\n      });\n\n      this.groupsContainers = containers;\n\n      _.each(this.groupsContainers, (container, index) => {\n        this.reIndexTiles(container, index);\n      });\n    }\n\n    private addGroup(sourceGroup) {\n      const group = {\n        title: sourceGroup.title,\n        source: sourceGroup.source.map((tile) => {\n          const tileScope = this.createTileScope(tile);\n\n          return IDragTileConstructor(DragTileService, {\n            tpl: this.$compile(tile.template)(tileScope),\n            options: tile.opts,\n            size: tile.opts.size\n          });\n        })\n      };\n\n      this.groups.push(group);\n      if (!this.$scope.$$phase) this.$scope.$apply();\n\n      this.$timeout(() => {\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups.push(\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight()\n        );\n      });\n\n      this.updateTilesTemplates('addGroup', sourceGroup);\n    }\n\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\n      newTiles.forEach((tile) => {\n        const tileScope = this.createTileScope(tile);\n\n        const newTile = IDragTileConstructor(DragTileService, {\n          tpl: this.$compile(tile.template)(tileScope),\n          options: tile.opts,\n          size: tile.opts.size\n        });\n\n        group.addTile(newTile);\n\n        $('<div>')\n          .addClass('pip-draggable-tile')\n          .append(newTile.getCompiledTemplate())\n          .appendTo(groupContainer);\n      });\n    }\n\n    private updateTilesOptions(optionsGroup) {\n      optionsGroup.forEach((optionGroup) => {\n        optionGroup.source.forEach((tileOptions) => {\n          this.tileGroups.forEach((group) => {\n            group.updateTileOptions(tileOptions.opts);\n          });\n        });\n      });\n    }\n\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\n      return tileGroups.map((group, index) => {\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\n          .setTilesDimensions()\n          .calcContainerHeight();\n      });\n    }\n\n    private updateTilesGroups(onlyPosition ? , draggedTile ? ) {\n      this.tileGroups.forEach((group) => {\n        if (!onlyPosition) {\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\n        }\n\n        group\n          .setTilesDimensions(onlyPosition, draggedTile)\n          .calcContainerHeight();\n      });\n    }\n\n    private getContainerWidth(): any {\n      const container = this.$container || $('body');\n      return container.width();\n    }\n\n    private getAvailableColumns(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT :\n        Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\n    }\n\n    private getActiveGroupAndTile(elem): any {\n      const active = {};\n\n      this.tileGroups.forEach((group) => {\n        const foundTile = group.getTileByNode(elem);\n\n        if (foundTile) {\n          active['group'] = group;\n          active['tile'] = foundTile;\n          return;\n        }\n      });\n\n      return active;\n    }\n\n    private getSingleTileWidthForMobile(availableWidth): any {\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\n    }\n\n    private onDragStartListener(event) {\n      const activeEntities = this.getActiveGroupAndTile(event.target);\n\n      this.container = $(event.target).parent('.pip-draggable-group').get(0);\n      this.draggedTile = activeEntities['tile'];\n      this.activeDraggedGroup = activeEntities['group'];\n\n      this.$element.addClass('drag-transfer');\n\n      this.draggedTile.startDrag();\n    }\n\n    private onDragMoveListener(event) {\n      const target = event.target;\n      const x = (parseFloat(target.style.left) || 0) + event.dx;\n      const y = (parseFloat(target.style.top) || 0) + event.dy;\n\n      this.containerOffset = this.getContainerOffset();\n\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\n      target.style.top = y + 'px';\n\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\n        left: event.pageX - this.containerOffset.left,\n        top: event.pageY - this.containerOffset.top\n      }, this.draggedTile);\n\n      if (belowElement) {\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\n        const belowElemIndex = this.activeDraggedGroup.getTileIndex(belowElement);\n\n        if ((draggedTileIndex + 1) === belowElemIndex) {\n          return;\n        }\n\n        this.activeDraggedGroup\n          .swapTiles(this.draggedTile, belowElement)\n          .setTilesDimensions(true, this.draggedTile);\n\n        this.$timeout(() => {\n          this.setGroupContainersHeight();\n        }, 0);\n      }\n    }\n\n    private onDragEndListener() {\n      this.draggedTile.stopDrag(this.isSameDropzone);\n\n      this.$element.removeClass('drag-transfer');\n      this.activeDraggedGroup = null;\n      this.draggedTile = null;\n    }\n\n    private getContainerOffset() {\n      const containerRect = this.container.getBoundingClientRect();\n\n      return {\n        left: containerRect.left,\n        top: containerRect.top\n      };\n    }\n\n    private setGroupContainersHeight() {\n      this.tileGroups.forEach((tileGroup) => {\n        tileGroup.calcContainerHeight();\n      });\n    }\n\n    private moveTile(from, to, tile) {\n      let elem;\n      const movedTile = from.removeTile(tile);\n      const tileScope = this.createTileScope(tile);\n\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\n        .find(movedTile.getElem())\n        .remove();\n\n      if (to !== null) {\n        to.addTile(movedTile);\n\n        elem = this.$compile(movedTile.getElem())(tileScope);\n\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\n          .append(elem);\n\n        this.$timeout(to.setTilesDimensions.bind(to, true));\n      }\n\n      this.updateTilesTemplates('moveTile', {\n        from: from,\n        to: to,\n        tile: movedTile\n      });\n    }\n\n    private onDropListener(event) {\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\n      const droppedGroup = this.tileGroups[droppedGroupIndex];\n\n      if (this.activeDraggedGroup !== droppedGroup) {\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\n      }\n\n      this.updateTilesGroups(true);\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropToFictGroupListener(event) {\n      const from = this.activeDraggedGroup;\n      const tile = this.draggedTile;\n\n      this.addGroup({\n        title: 'New group',\n        source: []\n      });\n      this.$timeout(() => {\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\n        this.updateTilesGroups(true);\n      });\n\n      this.sourceDropZoneElem = null;\n    }\n\n    private onDropEnterListener(event) {\n      if (!this.sourceDropZoneElem) {\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\n      }\n\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\n        $('body').css('cursor', 'copy');\n        this.isSameDropzone = false;\n      } else {\n        $('body').css('cursor', '');\n        this.isSameDropzone = true;\n      }\n    }\n\n    private onDropDeactivateListener(event) {\n      if (this.sourceDropZoneElem !== event.target) {\n        event.target.classList.remove(this.opts.activeDropzoneClass);\n        $('body').css('cursor', '');\n      }\n    }\n\n    private onDropLeaveListener(event) {\n      event.target.classList.remove(this.opts.activeDropzoneClass);\n    }\n\n    private initialize() {\n      this.$timeout(() => {\n        this.availableWidth = this.getContainerWidth();\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\n        this.tileGroups = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\n\n        interact('.pip-draggable-tile')\n          .draggable({\n            // enable autoScroll\n            autoScroll: true,\n            onstart: (event) => {\n              this.onDragStartListener(event)\n            },\n            onmove: (event) => {\n              this.onDragMoveListener(event)\n            },\n            onend: (event) => {\n              this.onDragEndListener()\n            }\n          });\n\n        interact('.pip-draggable-group.fict-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropToFictGroupListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          })\n\n        interact('.pip-draggable-group')\n          .dropzone({\n            ondrop: (event) => {\n              this.onDropListener(event)\n            },\n            ondragenter: (event) => {\n              this.onDropEnterListener(event)\n            },\n            ondropdeactivate: (event) => {\n              this.onDropDeactivateListener(event)\n            },\n            ondragleave: (event) => {\n              this.onDropLeaveListener(event)\n            }\n          });\n\n        this.$container\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\n            interact('.pip-draggable-tile').draggable(false);\n            $(this).trigger('click');\n          })\n          .on('mouseup touchend', () => {\n            interact('.pip-draggable-tile').draggable(true);\n          });\n      }, 0);\n    }\n\n  }\n\n  const DragComponent: ng.IComponentOptions = {\n    bindings: {\n      tilesTemplates: '=pipTilesTemplates',\n      tilesContext: '=pipTilesContext',\n      options: '=pipDraggableGrid',\n      groupMenuActions: '=pipGroupMenuActions'\n    },\n    templateUrl: 'draggable/Draggable.html',\n    controller: DraggableController\n  }\n\n  angular.module('pipDragged')\n    .component('pipDraggableGrid', DragComponent);\n}","export interface DragTileConstructor {\n  new (options: any);\n}\n\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\n  return new constructor(options);\n}\n\nexport interface IDragTileService {\n  tpl: any;\n  opts: any;\n  size: any;\n  elem: any;\n  preview: any;\n  getSize(): any;\n  setSize(width, height): any;\n  setPosition(left, top): any;\n  getCompiledTemplate(): any;\n  updateElem(parent): any;\n  getElem(): any;\n  startDrag(): any;\n  stopDrag(isAnimate): any;\n  setPreviewPosition(coords): void;\n  getOptions(): any;\n  setOptions(options): any;\n}\n\nlet DEFAULT_TILE_SIZE = {\n  colSpan: 1,\n  rowSpan: 1\n};\n\nexport class DragTileService implements IDragTileService {\n  public tpl: any;\n  public opts: any;\n  public size: any;\n  public elem: any;\n  public preview: any;\n\n  constructor (options: any) {\n    this.tpl = options.tpl.get(0);\n    this.opts = options;\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\n    this.elem = null;\n  }\n\n  public getSize(): any {\n    return this.size;\n  }\n\n  public setSize(width, height): any {\n    this.size.width = width;\n    this.size.height = height;\n\n    if (this.elem) {\n      this.elem.css({\n        width: width,\n        height: height\n      });\n    }\n\n    return this;\n  }\n\n  public setPosition(left, top): any {\n    this.size.left = left;\n    this.size.top = top;\n\n    if (this.elem) {\n      this.elem.css({\n        left: left,\n        top: top\n      });\n    }\n\n    return this;\n  }\n\n  public getCompiledTemplate(): any {\n    return this.tpl;\n  };\n\n  public updateElem(parent): any {\n    this.elem = $(this.tpl).parent(parent);\n\n    return this;\n  };\n\n  public getElem(): any {\n    return this.elem.get(0);\n  };\n\n  public startDrag(): any {\n    this.preview = $('<div>')\n      .addClass('pip-dragged-preview')\n      .css({\n        position: 'absolute',\n        left: this.elem.css('left'),\n        top: this.elem.css('top'),\n        width: this.elem.css('width'),\n        height: this.elem.css('height')\n      });\n\n    this.elem\n      .addClass('no-animation')\n      .css({\n        zIndex: '9999'\n      })\n      .after(this.preview);\n\n    return this;\n  };\n\n  public stopDrag(isAnimate): any {\n    let self = this;\n\n    if (isAnimate) {\n      this.elem\n        .removeClass('no-animation')\n        .css({\n          left: this.preview.css('left'),\n          top: this.preview.css('top')\n        })\n        .on('transitionend', onTransitionEnd);\n    } else {\n      self.elem\n        .css({\n          left: self.preview.css('left'),\n          top: self.preview.css('top'),\n          zIndex: ''\n        })\n        .removeClass('no-animation');\n\n      self.preview.remove();\n      self.preview = null;\n    }\n\n    return this;\n\n    function onTransitionEnd() {\n      if (self.preview) {\n        self.preview.remove();\n        self.preview = null;\n      }\n\n      self.elem\n        .css('zIndex', '')\n        .off('transitionend', onTransitionEnd);\n    }\n  };\n\n  public setPreviewPosition(coords) {\n    this.preview.css(coords);\n  };\n\n  public getOptions(): any {\n    return this.opts.options;\n  };\n\n  public setOptions(options): any {\n    _.merge(this.opts.options, options);\n    _.merge(this.size, options.size);\n\n    return this;\n  };\n}\n\nangular\n  .module('pipDragged')\n  .service('pipDragTile', function () {\n    return function (options) {\n      let newTile = new DragTileService(options);\n\n      return newTile;\n    }\n  });","{\n  interface DraggableTileAttributes extends ng.IAttributes {\n    pipDraggableTiles: any;\n  }\n\n  function DraggableTileLink(\n    $scope: ng.IScope,\n    $elem: JQuery,\n    $attr: DraggableTileAttributes\n  ) {\n    const docFrag = document.createDocumentFragment(),\n      group = $scope.$eval($attr.pipDraggableTiles);\n\n    group.forEach(function (tile) {\n      const tpl = wrapComponent(tile.getCompiledTemplate());\n      docFrag.appendChild(tpl);\n    });\n\n    $elem.append(docFrag);\n\n    function wrapComponent(elem) {\n      return $('<div>')\n        .addClass('pip-draggable-tile')\n        .append(elem)\n        .get(0);\n    }\n  }\n\n  function DraggableTile() {\n    return {\n      restrict: 'A',\n      link: DraggableTileLink\n    };\n  }\n\n  angular\n    .module('pipDragged')\n    .directive('pipDraggableTiles', DraggableTile);\n\n}","export interface TilesGridConstructor {\n  new(tiles, options, columns, elem);\n}\n\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem): ITilesGridService {\n  return new constructor(tiles, options, columns, elem);\n}\n\nexport interface ITilesGridService {\n  tiles: any;\n  opts: any;\n  columns: any;\n  elem: any;\n  gridCells: any;\n  inline: boolean;\n  isMobileLayout: boolean;\n\n  addTile(tile): any;\n  getCellByPosition(row, col): any;\n  getCells(prevCell, rowSpan, colSpan): any;\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\n  getCell(src, basicRow, basicCol, columns): any;\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\n  getBasicRow(prevCell): any;\n  isCellFree(row, col): any;\n  getCellIndex(srcCell): any;\n  reserveCells(start, end, elem): void;\n  clearElements(): void;\n  setAvailableColumns(columns): any;\n  generateGrid(singleTileWidth ? ): any;\n  setTilesDimensions(onlyPosition, draggedTile): any;\n  calcContainerHeight(): any;\n  getTileByNode(node): any;\n  getTileByCoordinates(coords, draggedTile): any;\n  getTileIndex(tile): any;\n  swapTiles(movedTile, beforeTile): any;\n  removeTile(removeTile): any;\n  updateTileOptions(opts): any;\n}\n\nconst MOBILE_LAYOUT_COLUMNS = 2;\n\nexport class TilesGridService implements ITilesGridService {\n  public tiles: any;\n  public opts: any;\n  public columns: any;\n  public elem: any;\n  public gridCells: any = [];\n  public inline: boolean = false;\n  public isMobileLayout: boolean;\n\n  constructor(tiles, options, columns, elem) {\n    this.tiles = tiles;\n    this.opts = options;\n    this.columns = columns || 0; // available columns in a row\n    this.elem = elem;\n    this.gridCells = [];\n    this.inline = options.inline || false;\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n  }\n\n  public addTile(tile): any {\n    this.tiles.push(tile);\n    if (this.tiles.length === 1) {\n      this.generateGrid();\n    }\n\n    return this;\n  };\n\n  public getCellByPosition(row, col): any {\n    return this.gridCells[row][col];\n  };\n\n  public getCells(prevCell, rowSpan, colSpan): any {\n    if (this.isMobileLayout) {\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\n    } else {\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\n    }\n  };\n\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicCol = prevCell && prevCell.col || 0;\n    const basicRow = this.getBasicRow(prevCell);\n\n    // Small tile\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    // Medium tile\n    if (colSpan === 2 && rowSpan === 1) {\n      const prevTileSize = prevCell && prevCell.elem.size || null;\n\n      if (!prevTileSize) {\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\n        if (this.columns - basicCol - 2 > 0) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\n        if (prevCell.row % 2 === 0) {\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\n        } else {\n          if (this.columns - basicCol - 3 >= 0) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n          }\n        }\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\n        if (this.columns - basicCol - 3 >= 0) {\n          if (this.isCellFree(basicRow, basicCol + 1)) {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          } else {\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\n          }\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\n        }\n      }\n    }\n\n    // Big tile\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\n    } else if (rowSpan === 2 && colSpan === 2) {\n      if (this.columns - basicCol - 2 > 0) {\n        if (this.isCellFree(basicRow, basicCol + 1)) {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\n        } else {\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\n        }\n      } else {\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\n      }\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getCell(src, basicRow, basicCol, columns): any {\n    let cell, col, row;\n\n    if (this.isMobileLayout) {\n      // mobile layout\n      for (col = basicCol; col < columns; col++) {\n        if (!src[basicRow][col].elem) {\n          cell = src[basicRow][col];\n          break;\n        }\n      }\n\n      return cell;\n    }\n\n    // desktop\n    for (col = basicCol; col < columns; col++) {\n      for (row = 0; row < 2; row++) {\n        if (!src[row + basicRow][col].elem) {\n          cell = src[row + basicRow][col];\n          break;\n        }\n      }\n\n      if (cell) {\n        return cell;\n      }\n    }\n  };\n\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\n    let leftCornerCell;\n    let rightCornerCell;\n    const basicRow = this.getBasicRow(prevCell);\n    const basicCol = prevCell && prevCell.col || 0;\n\n\n    if (colSpan === 1 && rowSpan === 1) {\n      const gridCopy = this.gridCells.slice();\n\n      if (!prevCell) {\n        leftCornerCell = gridCopy[0][0];\n      } else {\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\n\n        if (!leftCornerCell) {\n          const rowShift = this.isMobileLayout ? 1 : 2;\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\n        }\n      }\n    }\n\n    if (!prevCell) {\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\n    } else if (colSpan === 2) {\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\n    }\n\n    return {\n      start: leftCornerCell,\n      end: rightCornerCell\n    };\n  };\n\n  public getBasicRow(prevCell): any {\n    let basicRow;\n\n    if (this.isMobileLayout) {\n      if (prevCell) {\n        basicRow = prevCell && prevCell.row || 0;\n      } else {\n        basicRow = 0;\n      }\n    } else {\n      if (prevCell) {\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\n      } else {\n        basicRow = 0;\n      }\n    }\n\n    return basicRow;\n  };\n\n  public isCellFree(row, col): any {\n    return !this.gridCells[row][col].elem;\n  };\n\n  public getCellIndex(srcCell): any {\n    const self = this;\n    let index;\n\n    this.gridCells.forEach((row, rowIndex) => {\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\n        return cell === srcCell;\n      });\n\n      if (index !== -1) {\n        return;\n      }\n    });\n\n    return index !== -1 ? index : 0;\n  };\n\n  public reserveCells(start, end, elem) {\n    this.gridCells.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell.row >= start.row && cell.row <= end.row &&\n          cell.col >= start.col && cell.col <= end.col) {\n          cell.elem = elem;\n        }\n      });\n    });\n  };\n\n  public clearElements() {\n    this.gridCells.forEach((row) => {\n      row.forEach((tile) => {\n        tile.elem = null;\n      });\n    });\n  };\n\n  public setAvailableColumns(columns): any {\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\n    this.columns = columns;\n\n    return this;\n  };\n\n  public generateGrid(singleTileWidth ? ): any {\n    const self = this,\n          tileWidth = singleTileWidth || this.opts.tileWidth,\n          offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\n    let   colsInRow = 0,\n          rows = 0,\n          gridInRow = [];\n\n    this.gridCells = [];\n\n    this.tiles.forEach((tile, index, srcTiles) => {\n      const tileSize = tile.getSize();\n\n      generateCells(tileSize.colSpan);\n\n      if (srcTiles.length === index + 1) {\n        if (colsInRow < self.columns) {\n          generateCells(self.columns - colsInRow);\n        }\n\n        // Generate more cells for extends tile size to big\n        if (self.tiles.length * 2 > self.gridCells.length) {\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\n            generateCells(self.columns);\n          });\n        }\n      }\n    });\n\n    function generateCells(newCellCount) {\n      Array.apply(null, Array(newCellCount)).forEach(() => {\n        if (self.columns < colsInRow + 1) {\n          rows++;\n          colsInRow = 0;\n\n          self.gridCells.push(gridInRow);\n          gridInRow = [];\n        }\n\n        let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\n        let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\n\n        // Describe grid cell size through block corners coordinates\n        gridInRow.push({\n          top: top,\n          left: left,\n          bottom: top + self.opts.tileHeight,\n          right: left + tileWidth,\n          row: rows,\n          col: colsInRow\n        });\n\n        colsInRow++;\n      });\n    }\n\n    return this;\n  };\n\n  public setTilesDimensions(onlyPosition, draggedTile): any {\n    const self = this;\n    let currIndex = 0;\n    let prevCell;\n\n    if (onlyPosition) {\n      self.clearElements();\n    }\n\n    this.tiles.forEach((tile) => {\n      const tileSize = tile.getSize();\n      let startCell;\n      let width;\n      let height;\n      let cells;\n\n      tile.updateElem('.pip-draggable-tile');\n      if (tileSize.colSpan === 1) {\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\n        } else {\n          startCell = self.getCells(prevCell, 1, 1).start;\n        }\n\n\n        if (!onlyPosition) {\n          width = startCell.right - startCell.left;\n          height = startCell.bottom - startCell.top;\n        }\n\n        prevCell = startCell;\n\n        self.reserveCells(startCell, startCell, tile);\n\n        currIndex++;\n      } else if (tileSize.colSpan === 2) {\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\n        startCell = cells.start;\n\n        if (!onlyPosition) {\n          width = cells.end.right - cells.start.left;\n          height = cells.end.bottom - cells.start.top;\n        }\n\n        prevCell = cells.end;\n\n        self.reserveCells(cells.start, cells.end, tile);\n\n        currIndex += 2;\n      }\n\n      // Render preview\n      // while tiles from group is dragged\n      if (draggedTile === tile) {\n        tile.setPreviewPosition({\n          left: startCell.left,\n          top: startCell.top\n        });\n\n        return;\n      }\n\n      if (!onlyPosition) {\n        tile.setSize(width, height);\n      }\n\n      tile.setPosition(startCell.left, startCell.top);\n    });\n\n    return this;\n  };\n\n  public calcContainerHeight(): any {\n    let maxHeightSize, maxWidthSize;\n\n    if (!this.tiles.length) {\n      return this;\n    }\n\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\n      const tileSize = tile['getSize']();\n      return tileSize.top + tileSize.height;\n    })['getSize']();\n\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\n\n    if (this.inline) {\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\n        const tileSize = tile['getSize']();\n        return tileSize.left + tileSize.width;\n      })['getSize']();\n\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\n    }\n\n    return this;\n  };\n\n  public getTileByNode(node): any {\n    const foundTile = this.tiles.filter((tile) => {\n      return node === tile.getElem();\n    });\n\n    return foundTile.length ? foundTile[0] : null;\n  };\n\n  public getTileByCoordinates(coords, draggedTile): any {\n    return this.tiles\n      .filter((tile) => {\n        const tileSize = tile.getSize();\n\n        return tile !== draggedTile &&\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\n      })[0] || null;\n  };\n\n  public getTileIndex(tile): any {\n    return _.findIndex(this.tiles, tile);\n  };\n\n  public swapTiles(movedTile, beforeTile): any {\n    const movedTileIndex = _.findIndex(this.tiles, movedTile);\n    const beforeTileIndex = _.findIndex(this.tiles, beforeTile);\n\n    this.tiles.splice(movedTileIndex, 1);\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\n\n    return this;\n  };\n\n  public removeTile(removeTile): any {\n    let droppedTile;\n\n    this.tiles.forEach((tile, index, tiles) => {\n      if (tile === removeTile) {\n        droppedTile = tiles.splice(index, 1)[0];\n        return false;\n      }\n    });\n\n    return droppedTile;\n  };\n\n  public updateTileOptions(opts): any {\n    const index = _.findIndex(this.tiles, (tile) => {\n      return tile['getOptions']() === opts;\n    });\n\n    if (index !== -1) {\n      this.tiles[index].setOptions(opts);\n      return true;\n    }\n\n    return false;\n  };\n}\n\nangular\n  .module('pipDragged')\n  .service('pipTilesGrid', function () {\n    return function (tiles, options, columns, elem) {\n      let newGrid = new TilesGridService(tiles, options, columns, elem);\n\n      return newGrid;\n    }\n  });","export interface IWidgetTemplateService {\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\n    setImageMarginCSS($element, image): void;\n} \n\n{\n    class widgetTemplateService implements IWidgetTemplateService {\n        private _$interpolate: angular.IInterpolateService;\n        private _$compile: angular.ICompileService;\n        private _$templateRequest: angular.ITemplateRequestService;\n\n        constructor(\n            $interpolate: angular.IInterpolateService,\n            $compile: angular.ICompileService,\n            $templateRequest: angular.ITemplateRequestService\n        ) {\n            this._$interpolate = $interpolate;\n            this._$compile = $compile;\n            this._$templateRequest = $templateRequest;\n        }\n\n        public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\n            const {\n                template,\n                templateUrl,\n                type\n            } = source;\n            let result;\n\n            if (type) {\n                const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\n                return strictCompile == true ?\n                    (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\n                    interpolated;\n            }\n\n            if (template) {\n                return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\n            }\n\n            if (templateUrl) {\n                this._$templateRequest(templateUrl, false).then((html) => {\n                    result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\n                });\n            }\n\n            return result;\n        }\n\n        public setImageMarginCSS($element, image) {\n            let\n                containerWidth = $element.width ? $element.width() : $element.clientWidth,\n                containerHeight = $element.height ? $element.height() : $element.clientHeight,\n                imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\n                imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\n                margin = 0,\n                cssParams = {};\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n                cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n                cssParams['margin-left'] = '';\n            }\n\n            $(image).css(cssParams);\n        }\n    }\n\n    // image load directive TODO: remove to pipImageUtils\n    const ImageLoad = function ImageLoad($parse: ng.IParseService): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (scope: ng.IScope, element: JQuery, attrs: any) {\n                const callback = $parse(attrs.pipImageLoad);\n\n                element.bind('load', (event) => {\n                    callback(scope, {\n                        $event: event\n                    });\n                });\n            }\n        }\n    }\n\n    angular\n        .module('pipDashboard')\n        .service('pipWidgetTemplate', widgetTemplateService)\n        .directive('pipImageLoad', ImageLoad);\n}","export interface IDashboardWidget {\n    options: any;\n    color: string;\n    size: Object | string | number;\n}\n\nexport class DashboardWidget implements IDashboardWidget {\n    public options: any;\n    public color: string;\n    public size: Object | string | number;\n\n    constructor() { }\n}","angular.module('pipWidget', []);\n\nimport './calendar/WidgetCalendar';\nimport './event/WidgetEvent';\nimport './menu/WidgetMenuService';\nimport './menu/WidgetMenuDirective';\nimport './notes/WidgetNotes';\nimport './position/WidgetPosition';\nimport './statistics/WidgetStatistics';\nimport './picture_slider/WidgetPictureSlider';\n","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\n\n{\n  class CalendarWidgetController extends MenuWidgetService {\n    constructor(\n      private pipWidgetConfigDialogService: IWidgetConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n        this.menu.push({\n          title: 'Configurate',\n          click: () => {\n            this.onConfigClick();\n          }\n        });\n        this.options.date = this.options.date || new Date();\n        this.color = this.options.color || 'blue';\n      }\n    }\n\n    private onConfigClick() {\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          date: this.options.date,\n        },\n        extensionUrl: 'widgets/calendar/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n      });\n    }\n\n  }\n\n  const CalendarWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions',\n    },\n    controller: CalendarWidgetController,\n    templateUrl: 'widgets/calendar/WidgetCalendar.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipCalendarWidget', CalendarWidget);\n\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService'; \n{\n  class EventWidgetController extends MenuWidgetService {\n    private _oldOpacity: number;\n\n    public opacity: number = 0.57;\n\n    constructor(\n      $scope: ng.IScope,\n      private $element: JQuery,\n      private $timeout: angular.ITimeoutService,\n      private pipWidgetConfigDialogService: IWidgetConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'gray';\n      this.opacity = this.options.opacity || this.opacity;\n\n      this.drawImage();\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        this.drawImage();\n      });\n    }\n\n    private drawImage() {\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.onImageLoad(this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    private onConfigClick() {\n      this._oldOpacity = _.clone(this.opacity);\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size || {\n            colSpan: 1,\n            rowSpan: 1\n          },\n          date: this.options.date,\n          title: this.options.title,\n          text: this.options.text,\n          opacity: this.opacity,\n          onOpacitytest: (opacity) => {\n            this.opacity = opacity;\n          }\n        },\n        extensionUrl: 'widgets/event/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n\n        this.color = result.color;\n        this.options.color = result.color;\n        this.options.date = result.date;\n        this.options.title = result.title;\n        this.options.text = result.text;\n        this.options.opacity = result.opacity;\n      }, () => {\n        this.opacity = this._oldOpacity;\n      });\n    }\n\n    private onImageLoad(image) {\n      this.setImageMarginCSS(this.$element.parent(), image);\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      if (this.options.image) {\n        this.$timeout(() => {\n          this.setImageMarginCSS(this.$element.parent(), this.$element.find('img'));\n        }, 500);\n      }\n    }\n\n    // Later replace by pipImageUtils sevice's function\n    private setImageMarginCSS($element, image) {\n      let\n        containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\n        containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\n        imageWidth = image[0].naturalWidth || image.width,\n        imageHeight = image[0].naturalHeight || image.height,\n        margin = 0,\n        cssParams = {};\n\n      if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n        margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n        cssParams['margin-left'] = '' + margin + 'px';\n        cssParams['height'] = '' + containerHeight + 'px'; //'100%';\n        cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\n        cssParams['margin-top'] = '';\n      } else {\n        margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n        cssParams['margin-top'] = '' + margin + 'px';\n        cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\n        cssParams['width'] = '' + containerWidth + 'px'; //'100%';\n        cssParams['margin-left'] = '';\n      }\n\n      image.css(cssParams);\n    }\n  }\n\n\n  const EventWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: EventWidgetController,\n    templateUrl: 'widgets/event/WidgetEvent.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipEventWidget', EventWidget);\n}","(() => {\n  'use strict';\n\n  angular\n    .module('pipWidget')\n    .directive('pipMenuWidget', pipMenuWidget);\n\n  function pipMenuWidget() {\n    return {\n      restrict        : 'EA',\n      templateUrl     : 'widgets/menu/WidgetMenu.html'\n    };\n  }\n})();\n","import { DashboardWidget } from '../WidgetClass';\n\nexport class MenuWidgetService extends DashboardWidget {\n  public menu: any = [{\n    title: 'Change Size',\n    action: angular.noop,\n    submenu: [{\n        title: '1 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 1,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 1',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 1\n        }\n      },\n      {\n        title: '2 x 2',\n        action: 'changeSize',\n        params: {\n          sizeX: 2,\n          sizeY: 2\n        }\n      }\n    ]\n  }];\n\n  constructor() {\n    \"ngInject\";\n\n    super();\n  }\n\n  public callAction(actionName, params, item) {\n    if (this[actionName]) {\n      this[actionName].call(this, params);\n    }\n\n    if (item['click']) {\n      item['click'].call(item, params, this);\n    }\n  };\n\n  public changeSize(params) {\n    this.options.size.colSpan = params.sizeX;\n    this.options.size.rowSpan = params.sizeY;\n  };\n}\n\n{\n  class MenuWidgetProvider {\n    private _service: MenuWidgetService;\n\n    constructor() {}\n\n    public $get() {\n      \"ngInject\";\n\n      if (this._service == null)\n        this._service = new MenuWidgetService();\n\n      return this._service;\n    }\n  }\n\n  angular\n    .module('pipWidget')\n    .provider('pipWidgetMenu', MenuWidgetProvider);\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\n\n{\n  class NotesWidgetController extends MenuWidgetService {\n\n    constructor(\n      private pipWidgetConfigDialogService: IWidgetConfigService\n    ) {\n      super();\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.color = this.options.color || 'orange';\n    }\n\n    private onConfigClick() {\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-calendar-config',\n        locals: {\n          color: this.color,\n          size: this.options.size,\n          title: this.options.title,\n          text: this.options.text,\n        },\n        extensionUrl: 'widgets/notes/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.color = result.color;\n        this.options.color = result.color;\n        this.changeSize(result.size);\n        this.options.text = result.text;\n        this.options.title = result.title;\n      });\n    }\n  }\n\n  const NotesWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: NotesWidgetController,\n    templateUrl: 'widgets/notes/WidgetNotes.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipNotesWidget', NotesWidget);\n}","'use strict';\n\nimport {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\nimport {\n  IWidgetTemplateService\n} from '../../utility/WidgetTemplateUtility';\n\n{\n  class PictureSliderController extends MenuWidgetService {\n    public animationType: string = 'fading';\n    public animationInterval: number = 5000;\n\n    constructor(\n      private $scope: angular.IScope,\n      private $element: any,\n      private $timeout: angular.ITimeoutService,\n      private pipWidgetConfigDialogService: IWidgetConfigService,\n      private pipWidgetTemplate: IWidgetTemplateService\n    ) {\n      super();\n\n      if (this.options) {\n        this.animationType = this.options.animationType || this.animationType;\n        this.animationInterval = this.options.animationInterval || this.animationInterval;\n      }\n    }\n\n    public onImageLoad($event) {\n      this.$timeout(() => {\n        this.pipWidgetTemplate.setImageMarginCSS(this.$element.parent(), $event.target);\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.$timeout(() => {\n        _.each(this.$element.find('img'), (image) => {\n          this.pipWidgetTemplate.setImageMarginCSS(this.$element.parent(), image);\n        });\n      }, 500);\n    }\n  }\n\n  const PictureSliderWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: PictureSliderController,\n    templateUrl: 'widgets/picture_slider/WidgetPictureSlider.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipPictureSliderWidget', PictureSliderWidget);\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\nimport {\n  IWidgetConfigService\n} from '../../dialogs/widget_config/ConfigDialogService';\n\n{\n  class PositionWidgetController extends MenuWidgetService {\n    public showPosition: boolean = true;\n\n    constructor(\n      $scope: angular.IScope,\n      private $timeout: angular.ITimeoutService,\n      private $element: any,\n      private pipWidgetConfigDialogService: IWidgetConfigService,\n      private pipLocationEditDialog: any,\n    ) {\n      super();\n\n      if (this.options) {\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\n      }\n\n      this.menu.push({\n        title: 'Configurate',\n        click: () => {\n          this.onConfigClick();\n        }\n      });\n      this.menu.push({\n        title: 'Change location',\n        click: () => {\n          this.openLocationEditDialog();\n        }\n      });\n\n      this.options.location = this.options.location || this.options.position;\n\n      $scope.$watch('widgetCtrl.options.location', () => {\n        this.reDrawPosition();\n      });\n\n      // TODO it doesn't work\n      $scope.$watch(() => {\n        return $element.is(':visible');\n      }, (newVal) => {\n        if (newVal == true) this.reDrawPosition();\n      });\n    }\n\n    private onConfigClick() {\n      this.pipWidgetConfigDialogService.show({\n        dialogClass: 'pip-position-config',\n        locals: {\n          size: this.options.size,\n          locationName: this.options.locationName,\n          hideColors: true,\n        },\n        extensionUrl: 'widgets/position/ConfigDialogExtension.html'\n      }, (result: any) => {\n        this.changeSize(result.size);\n        this.options.locationName = result.locationName;\n      });\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reDrawPosition();\n    }\n\n    public openLocationEditDialog() {\n      this.pipLocationEditDialog.show({\n        locationName: this.options.locationName,\n        locationPos: this.options.location\n      }, (newPosition) => {\n        if (newPosition) {\n          this.options.location = newPosition.location;\n          this.options.locationName = newPosition.locatioName;\n        }\n      });\n    }\n\n    private reDrawPosition() {\n      this.showPosition = false;\n      this.$timeout(() => {\n        this.showPosition = true;\n      }, 50);\n    }\n  }\n\n\n  const PositionWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions',\n      index: '=',\n      group: '='\n    },\n    controller: PositionWidgetController,\n    templateUrl: 'widgets/position/WidgetPosition.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipPositionWidget', PositionWidget);\n}","import {\n  MenuWidgetService\n} from '../menu/WidgetMenuService';\n\n{\n  const SMALL_CHART: number = 70;\n  const BIG_CHART: number = 250;\n\n  class StatisticsWidgetController extends MenuWidgetService {\n    private _$scope: angular.IScope;\n    private _$timeout: angular.ITimeoutService;\n\n    public reset: boolean = false;\n    public chartSize: number = SMALL_CHART;\n\n    constructor(\n      pipWidgetMenu: any,\n      $scope: angular.IScope,\n      $timeout: angular.ITimeoutService\n    ) {\n      super();\n      this._$scope = $scope;\n      this._$timeout = $timeout;\n\n      if (this.options) {\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\n      }\n\n      this.setChartSize();\n    }\n\n    public changeSize(params) {\n      this.options.size.colSpan = params.sizeX;\n      this.options.size.rowSpan = params.sizeY;\n\n      this.reset = true;\n      this.setChartSize();\n      this._$timeout(() => {\n        this.reset = false;\n      }, 500);\n    }\n\n    private setChartSize() {\n      this.chartSize = this.options.size.colSpan == 2 && this.options.size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\n    }\n  }\n\n\n  const StatisticsWidget: ng.IComponentOptions = {\n    bindings: {\n      options: '=pipOptions'\n    },\n    controller: StatisticsWidgetController,\n    templateUrl: 'widgets/statistics/WidgetStatistics.html'\n  }\n\n  angular\n    .module('pipWidget')\n    .component('pipStatisticsWidget', StatisticsWidget);\n}","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"$ctrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"$ctrl.groupedWidgets\" pip-tiles-context=\"$ctrl.widgetsContext\" pip-draggable-grid=\"$ctrl.draggableGridOptions\" pip-group-menu-actions=\"$ctrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in $ctrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"$ctrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"$ctrl.onBlurTitleInput(group)\" ng-keypress=\"$ctrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"$ctrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in $ctrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/add_component/AddComponent.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">{{ \\'DASHBOARD_ADD_COMPONENT_DIALOG_TITLE\\' | translate }}<md-input-container class=\"layout-row flex-auto m0 tm16\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"{{ \\'DASHBOARD_ADD_COMPONENT_DIALOG_CREATE_NEW_GROUP\\' | translate }}\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">{{ \\'DASHBOARD_ADD_COMPONENT_DIALOG_USE_HOT_KEYS\\' | translate }}</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Cancel\">{{ \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"dialogCtrl.add()\" ng-disabled=\"dialogCtrl.totalWidgets === 0\" arial-label=\"Add\">{{ \\'ADD\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/widget_config/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-widget-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-widget-config-extend-component class=\"layout-column\" pip-dialog-scope=\"vm\" pip-extension-url=\"vm.params.extensionUrl\" pip-apply=\"vm.onApply(updatedData)\"></pip-widget-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dialogs/widget_config/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{ \\'DASHBOARD_WIDGET_CONFIG_DIALOG_TITLE\\' | translate }}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!$ctrl.hideSizes\" pip-buttons=\"$ctrl.sizes\" ng-model=\"$ctrl.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!$ctrl.hideColors\" pip-colors=\"$ctrl.colors\" ng-model=\"$ctrl.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onCancel()\">{{ \\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\">{{ \\'APPLY\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/calendar/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/calendar/WidgetCalendar.html',\n    '<div class=\"widget-box pip-calendar-widget {{ $ctrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-menu-widget></pip-menu-widget></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ $ctrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ $ctrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/event/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container>Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"$ctrl.opacity\" ng-change=\"$ctrl.onOpacitytest($ctrl.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/event/WidgetEvent.html',\n    '<div class=\"widget-box pip-event-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><img ng-if=\"$ctrl.options.image\" ng-src=\"{{$ctrl.options.image}}\" alt=\"{{$ctrl.options.title || $ctrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ $ctrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"$ctrl.options.date\">{{ $ctrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ $ctrl.options.text || $ctrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/menu/WidgetMenu.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"$ctrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"$ctrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"$ctrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/picture_slider/WidgetPictureSlider.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ $ctrl.options.title }}</span><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/notes/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/notes/WidgetNotes.html',\n    '<div class=\"widget-box pip-notes-widget {{ $ctrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"$ctrl.options.title || $ctrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span></div><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget><div class=\"text-container flex-auto pip-scroll\"><p>{{ $ctrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/position/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"$ctrl.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/position/WidgetPosition.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!$ctrl.options.locationName\"><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"$ctrl.options.locationName\"><span class=\"flex text-overflow\">{{ $ctrl.options.locationName }}</span><pip-menu-widget ng-if=\"!$ctrl.options.hideMenu\"></pip-menu-widget></div><pip-location-map class=\"flex\" ng-if=\"$ctrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"$ctrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('widgets/statistics/WidgetStatistics.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-menu-widget></pip-menu-widget></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.series && !$ctrl.reset\"><pip-pie-chart pip-series=\"$ctrl.options.series\" ng-if=\"!$ctrl.options.chartType || $ctrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"$ctrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n","import { ISettingsService } from '../service/ISettingsService';\nimport { SettingsTab } from '../service/SettingsTab';\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\n\ninterface ISettingsPageController {\n    tabs: SettingsTab[];\n    selected: SettingsPageSelectedTab;\n    onDropdownSelect: Function;\n    onNavigationSelect(state: string): void;\n}\n\nclass SettingsPageController implements ISettingsPageController {\n    public tabs: SettingsTab[];\n    public selected: SettingsPageSelectedTab;\n    public onDropdownSelect: Function;\n\n    constructor(\n        private $state: ng.ui.IStateService,\n        pipNavService: pip.nav.INavService,\n        pipSettings: ISettingsService,\n        $rootScope: ng.IRootScopeService, \n        $timeout: angular.ITimeoutService\n    ) {\n\n        this.tabs = _.filter(pipSettings.getTabs(), (tab: SettingsTab) => {\n                if (tab.visible === true && (tab.access ? tab.access($rootScope['$user'], tab) : true)) {\n                    return tab;\n                }\n            });\n\n        this.tabs = _.sortBy(this.tabs, 'index');\n\n        this.selected = new SettingsPageSelectedTab();\n        if (this.$state.current.name !== 'settings') {\n            this.initSelect(this.$state.current.name);\n        } else if (this.$state.current.name === 'settings' && pipSettings.getDefaultTab()) {\n            this.initSelect(pipSettings.getDefaultTab().state);\n        } else {\n            $timeout(() => {\n                if (pipSettings.getDefaultTab()) {\n                    this.initSelect(pipSettings.getDefaultTab().state);\n                }\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\n                     this.initSelect(this.tabs[0].state);\n                }\n            });\n        }\n\n        pipNavService.icon.showMenu();\n        pipNavService.breadcrumb.text = \"Settings\";\n        pipNavService.actions.hide();\n        pipNavService.appbar.removeShadow();\n        \n        this.onDropdownSelect = (state) => {\n            this.onNavigationSelect(state.state);\n        }\n    }\n\n    private initSelect(state: string): void {\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\n            return tab.state === state;\n        });\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\n        this.selected.tabId = state;\n        this.$state.go(this.selected.tabId);\n    }\n\n    public onNavigationSelect(state: string): void {\n        this.initSelect(state);\n\n        if (this.selected.tab) {\n            this.$state.go(state);\n        }\n    }\n}\n\nangular\n    .module('pipSettings.Page')\n    .controller('pipSettingsPageController', SettingsPageController);\n","{\n    function configureSettingsPageRoutes($stateProvider) {\n        $stateProvider\n            .state('settings', {\n                url: '/settings?party_id',\n                auth: true,\n                controllerAs: 'vm',\n                controller: 'pipSettingsPageController',\n                templateUrl: 'page/SettingsPage.html'\n            });\n\n    }\n\n    angular.module('pipSettings.Page')\n        .config(configureSettingsPageRoutes);\n}\n","angular.module('pipHelp.Page', [\n    'ui.router', \n    'pipHelp.Service',\n    'pipNav', \n    'pipSelected',\n    'pipTranslate',\n    'pipHelp.Templates'\n    ]);\n\nimport './HelpPage';\nimport './HelpPageRoutes';","import { SettingsTab } from './SettingsTab';\n\nexport class SettingsConfig {\n    public defaultTab: string;\n    public tabs: SettingsTab[] = [];\n    public titleText: string = 'SETTINGS_TITLE';\n    public titleLogo: boolean = null;\n    public isNavIcon: boolean = true;\n}\n","import { SettingsTab } from './SettingsTab';\n\nexport class SettingsPageSelectedTab {\n    public tab: SettingsTab;\n    public tabIndex: number = 0;\n    public tabId: string;\n}","import { SettingsTab } from './SettingsTab';\nimport { SettingsConfig } from './SettingsConfig';\nimport { ISettingsService } from './ISettingsService';\nimport { ISettingsProvider } from './ISettingsService';\n\nclass SettingsService implements ISettingsService {\n    private _config: SettingsConfig;\n\n    public constructor(config: SettingsConfig) {\n        \"ngInject\";\n        this._config = config;\n    }\n\n    private getFullStateName(state: string): string {\n        return 'settings.' + state;\n    }\n\n    public setDefaultTab(name: string): void {\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === 'settings.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n    }\n\n    public getDefaultTab(): SettingsTab {\n        let defaultTab: SettingsTab;\n\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === this._config.defaultTab;\n        });\n        return _.cloneDeep(defaultTab);\n    }\n\n    public showTitleText (newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo) {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public getTabs(): SettingsTab[] {\n        return _.cloneDeep(this._config.tabs);\n    }\n\n}\n\nclass SettingsProvider implements ISettingsProvider {\n    private _service: SettingsService;\n    private _config: SettingsConfig = new SettingsConfig();\n\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\n\n    public getFullStateName(state: string): string {\n        return 'settings.' + state;\n    }\n\n    public getDefaultTab(): SettingsTab {\n        let defaultTab: SettingsTab;\n\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === defaultTab.state;\n        });\n\n        return _.cloneDeep(defaultTab);\n    }\n\n    public addTab(tabObj: SettingsTab): void {\n        let existingTab: SettingsTab;\n\n        this.validateTab(tabObj);\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === 'settings.' + tabObj.state;\n        });\n        if (existingTab) {\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n        }\n\n        this._config.tabs.push({\n            state: this.getFullStateName(tabObj.state),\n            title: tabObj.title,\n            index: tabObj.index || 100000,\n            access: tabObj.access,\n            visible: tabObj.visible !== false,\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\n        });\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\n\n        // if we just added first state and no default state is specified\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\n            this.setDefaultTab(tabObj.state);\n        }\n    }\n\n    public setDefaultTab(name: string): void {\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\n            return tab.state === 'settings.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n        //console.log(this.$stateProvider);\n        //this.$stateProvider.go(this._config.defaultTab);\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\n    }\n\n    /**\n     * Validates passed tab config object\n     * If passed tab is not valid it will throw an error\n     */\n    private validateTab(tabObj: SettingsTab): void {\n        if (!tabObj || !_.isObject(tabObj)) {\n            throw new Error('Invalid object');\n        }\n\n        if (tabObj.state === null || tabObj.state === '') {\n            throw new Error('Tab should have valid Angular UI router state name');\n        }\n\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\n            throw new Error('\"access\" should be a function');\n        }\n\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n            throw new Error('Invalid state configuration object');\n        }\n    }\n\n    public showTitleText (newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo) {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public $get(): ISettingsService {\n        \"ngInject\";\n\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\n            this._service = new SettingsService(this._config);\n        }\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipSettings.Service')\n    .provider('pipSettings', SettingsProvider);\n\n","export class SettingsStateConfig {\n    public url: string;\n    public auth: boolean = false;\n    public templateUrl?: string;\n    public template?: string;\n}","import { SettingsStateConfig } from './SettingsStateConfig';\n\nexport class SettingsTab {\n    public state: string;\n    public title: string;\n    public index: number;\n    public access: Function;\n    public visible: boolean;\n    public stateConfig: SettingsStateConfig;\n}\n","angular\n    .module('pipHelp.Service', []);\n\nimport './HelpConfig';\nimport './HelpPageSelectedTab';\nimport './HelpTab';\nimport './HelpStateConfig';\nimport './HelpService';\n\nexport * from './HelpConfig';\nexport * from './HelpPageSelectedTab';\nexport * from './HelpTab';\nexport * from './HelpStateConfig';\nexport * from './HelpService';\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","import { IHelpService } from '../service/IHelpService';\nimport { HelpTab } from '../service/HelpTab';\nimport { HelpPageSelectedTab } from '../service/HelpPageSelectedTab';\n\ninterface IHelpPage {\n    tabs: HelpTab[];\n    selected: HelpPageSelectedTab;\n    onDropdownSelect: Function;\n    onNavigationSelect(state: string): void;\n}\n\nclass HelpPageController implements IHelpPage, ng.IController {\n    public tabs: HelpTab[];\n    public selected: HelpPageSelectedTab;\n    public onDropdownSelect: Function;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $state: ng.ui.IStateService,\n        $rootScope: ng.IRootScopeService, \n        $timeout: angular.ITimeoutService,\n        pipNavService: pip.nav.INavService,\n        pipHelp: IHelpService\n    ) {\n\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: HelpTab) =>{\n            if (tab.visible === true) {\n                    return tab;\n            }\n        });\n\n        this.tabs = _.sortBy(this.tabs, 'index');\n\n        this.selected = new HelpPageSelectedTab();\n        if (this.$state.current.name !== 'help') {\n            this.initSelect(this.$state.current.name);\n        } else if (this.$state.current.name === 'help' && pipHelp.getDefaultTab()) {\n            this.initSelect(pipHelp.getDefaultTab().state);\n        } else {\n            $timeout(() => {\n                if (pipHelp.getDefaultTab()) {\n                    this.initSelect(pipHelp.getDefaultTab().state);\n                }\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\n                    this.initSelect(this.tabs[0].state);\n                }\n            });\n        }\n\n        pipNavService.icon.showMenu();\n        pipNavService.breadcrumb.text = \"Help\";\n        pipNavService.actions.hide();\n        pipNavService.appbar.removeShadow();\n        \n        this.onDropdownSelect = (state) => {\n            this.onNavigationSelect(state.state);\n        }\n    }\n\n    private initSelect(state: string): void {\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\n            return tab.state === state;\n        });\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\n        this.selected.tabId = state;\n        \n        this.$state.go(this.selected.tabId);\n    }\n\n    public onNavigationSelect(state: string): void {\n        this.initSelect(state);\n\n        if (this.selected.tab) {\n            this.$state.go(state);\n        }\n    }\n}\n\nangular\n    .module('pipHelp.Page')\n    .controller('pipHelpPageController', HelpPageController);\n","{\n    function configureHelpPageRoutes($stateProvider) {\n        $stateProvider\n            .state('help', {\n                url: '/help?party_id',\n                auth: true,\n                controllerAs: '$ctrl',\n                controller: 'pipHelpPageController',\n                templateUrl: 'page/HelpPage.html'\n            });      \n    }\n\n    angular.module('pipHelp.Page')\n        .config(configureHelpPageRoutes);\n}","import { HelpTab } from './HelpTab';\n\nexport class HelpConfig {\n    public defaultTab: string;\n    public tabs: HelpTab[] = [];\n    public titleText: string = 'SETTINGS_TITLE';\n    public titleLogo: string = null;\n    public isNavIcon: boolean = true;\n}\n","import { HelpTab } from './HelpTab';\n\nexport class HelpPageSelectedTab {\n    public tab: HelpTab;\n    public tabIndex: number;\n    public tabId: string;\n}","import { HelpConfig } from \"./HelpConfig\";\nimport { HelpTab } from './HelpTab';\nimport { IHelpService } from \"./IHelpService\";\nimport { IHelpProvider } from \"./IHelpService\";\n\nclass HelpService implements IHelpService {\n\n    public constructor(private _config: HelpConfig) {\n        \"ngInject\";\n    }\n\n    private getFullStateName(state: string): string {\n        return 'help.' + state;\n    }\n\n    public setDefaultTab(name: string): void {\n        if (!_.find(this._config.tabs, (tab) => {\n            return tab.state === 'help.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n    }\n\n    public getDefaultTab(): HelpTab {\n        let defaultTab: HelpTab;\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\n            return p.state === this._config.defaultTab;\n        });\n        return _.cloneDeep(defaultTab);\n    }\n\n    public showTitleText(newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo: string): string {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public getTabs(): HelpTab[] {\n        return _.cloneDeep(this._config.tabs);\n    }\n\n}\n\nclass HelpProvider implements IHelpProvider, ng.IServiceProvider {\n    private _service: HelpService;\n    private _config: HelpConfig = new HelpConfig();\n\n    constructor(private $stateProvider: ng.ui.IStateProvider) { }\n\n    public getFullStateName(state: string): string {\n        return 'help.' + state;\n    }\n\n    public getDefaultTab(): HelpTab {\n        let defaultTab: HelpTab;\n\n        defaultTab = _.find(this._config.tabs, (p) => {\n            return p.state === this._config.defaultTab;\n        });\n\n        return _.cloneDeep(defaultTab);\n    }\n\n    public addTab(tabObj: HelpTab): void {\n        let existingTab: HelpTab;\n        this.validateTab(tabObj);\n        existingTab = _.find(this._config.tabs, (p) => {\n            return p.state === 'help.' + tabObj.state;\n        });\n        if (existingTab) {\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n        }\n\n        this._config.tabs.push({\n            state: this.getFullStateName(tabObj.state),\n            title: tabObj.title,\n            index: tabObj.index || 100000,\n            access: tabObj.access,\n            visible: tabObj.visible !== false,\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\n        });\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\n\n        // if we just added first state and no default state is specified\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\n            this.setDefaultTab(tabObj.state);\n        }\n    }\n\n    public setDefaultTab(name: string): void {\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\n            return tab.state === 'help.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n        //this.$stateProvider.go(this._config.defaultTab);\n        //pipAuthStateProvider.redirect('help', getFullStateName(name));\n    }\n\n    /**\n     * Validates passed tab config object\n     * If passed tab is not valid it will throw an error\n     */\n\n    private validateTab(tabObj: HelpTab) {\n        if (!tabObj || !_.isObject(tabObj)) {\n            throw new Error('Invalid object');\n        }\n\n        if (tabObj.state === null || tabObj.state === '') {\n            throw new Error('Tab should have valid Angular UI router state name');\n        }\n\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\n            throw new Error('\"access\" should be a function');\n        }\n\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n            throw new Error('Invalid state configuration object');\n        }\n    }\n\n    public showTitleText(newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo: string): string {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (!_.isNull(value) && !_.isUndefined(value)) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public $get(): IHelpService {\n        \"ngInject\";\n\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\n            this._service = new HelpService(this._config);\n        }\n\n        return this._service;\n    }\n}\n\n\nangular\n    .module('pipHelp.Service')\n    .provider('pipHelp', HelpProvider);\n","export class HelpStateConfig {\n    public url: string;\n    public auth: boolean = false;\n    public templateUrl?: string;\n    public template?: string;\n}\n","import { HelpStateConfig } from './HelpStateConfig';\n\nexport class HelpTab {\n    public state: string;\n    public title: string;\n    public index: number;\n    public access: Function;\n    public visible: boolean;\n    public stateConfig: HelpStateConfig;\n}\n\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-help\"><div class=\"pip-menu-container\" ng-hide=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"$ctrl.selected.tabIndex\" pip-selected-watch=\"$ctrl.selected.navId\" pip-select=\"$ctrl.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in $ctrl.tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"$ctrl.tabs\" pip-dropdown-select=\"$ctrl.onDropdownSelect\" pip-active-index=\"$ctrl.selected.tabIndex\"></pip-dropdown><div class=\"pip-body p0 layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}