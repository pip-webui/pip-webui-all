{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","../node_modules/async/dist/async.js","../node_modules/process/browser.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/Translation.ts","src/translate/TranslateService.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/dependencies/TranslateFilter.ts","src/fabs/FabTooltipVisibility.ts","src/refresh_button/RefreshButton.ts","src/toggle_buttons/ToggleButtons.ts","temp/pip-webui-buttons-html.min.js","../node_modules/dexie/dist/dexie.js","src/cache/cache-config.service.ts","src/cache/cache.interceptor.ts","src/cache/cache.models.ts","src/cache/cache.service.ts","src/cache/index.ts","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/Focused.ts","src/infinite_scroll/InfiniteScroll.ts","src/selected/Selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/UnsavedChanges.ts","src/color_picker/ColorPicker.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","src/toast/index.ts","temp/pip-webui-controls-html.min.js","src/tag_list/TagList.ts","temp/pip-webui-lists-html.min.js","src/date/Date.ts","src/date_format/DateConvertService.ts","src/date_format/DateFormatFilter.ts","src/date_format/DateFormatService.ts","src/date_format/IDateConvertService.ts","src/date_format/index.ts","src/date_range/DateRange.ts","src/time_range/TimeRange.ts","src/time_range_edit/TimeRangeEdit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationDialogController.ts","src/confirmation/ConfirmationDialogParams.ts","src/confirmation/ConfirmationDialogService.ts","src/confirmation/index.ts","src/error_details/ErrorDetailsDialogController.ts","src/error_details/ErrorDetailsDialogParams.ts","src/error_details/ErrorDetailsDialogService.ts","src/error_details/index.ts","src/information/InformationDialogController.ts","src/information/InformationDialogParams.ts","src/information/InformationDialogService.ts","src/information/index.ts","src/options/OptionsDialogController.ts","src/options/OptionsDialogData.ts","src/options/OptionsDialogParams.ts","src/options/OptionsDialogResult.ts","src/options/OptionsDialogService.ts","src/options/index.ts","src/options_big/OptionsBigDialogController.ts","src/options_big/OptionsBigDialogData.ts","src/options_big/OptionsBigDialogParams.ts","src/options_big/OptionsBigDialogResult.ts","src/options_big/OptionsBigDialogService.ts","src/options_big/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/IActionsService.ts","src/actions/PrimaryActions.ts","src/actions/SecondaryActions.ts","src/actions/index.ts","src/appbar/AppBar.ts","src/appbar/AppBarConfig.ts","src/appbar/AppBarPart.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/Breadcrumb.ts","src/breadcrumb/BreadcrumbConfig.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dropdown/Dropdown.ts","src/header/NavHeader.ts","src/header/NavHeaderConfig.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIcon.ts","src/icon/NavIconConfig.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenu.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBar.ts","src/search/SearchConfig.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNav.ts","src/sidenav/SideNavPart.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/Tabs.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/error_pages/ErrorPageConfig.ts","src/error_pages/ErrorPageConfigService.ts","src/form_errors/ClearErrorsDirective.ts","src/form_errors/FormErrorsService.ts","src/http_intercept/HttpResponseInterceptor.ts","src/maintenance/MaintenanceErrorPage.ts","src/missing_route/MissingRouteErrorPage.ts","src/no_connection/NoConnectionErrorPage.ts","src/no_connection_panel/NoConnectionPanel.ts","src/unknown/UnknownErrorPage.ts","src/unsupported/UnsupportedErrorPage.ts","temp/pip-webui-errors-html.min.js","src/bar_chart/BarChart.ts","src/chart_colors/ChartColorsService.ts","src/chart_legend/ChartInteractiveLegend.ts","src/line_chart/LineChart.ts","src/pie_chart/PieChart.ts","temp/pip-webui-charts-html.min.js","src/location/Location.ts","src/location_dialog/LocationDialog.ts","src/location_dialog/LocationDialogParams.ts","src/location_dialog/index.ts","src/location_edit/LocationEdit.ts","src/location_ip/LocationIp.ts","src/location_map/LocationMap.ts","temp/pip-webui-locations-html.min.js","src/file_fail/FileFail.ts","src/file_select/FileSelect.ts","src/file_start/FileStart.ts","src/file_success/FileSuccess.ts","src/file_upload/FileUpload.ts","src/model/FileModel.ts","src/service/FileUploadService.ts","src/service/FileUploadState.ts","src/service/MultiuploadResult.ts","temp/pip-webui-files-html.min.js","src/add_tile_dialog/AddTileDialogController.ts","src/add_tile_dialog/AddTileProvider.ts","src/add_tile_dialog/index.ts","src/calendar_tile/CalendarTile.ts","src/common_tile/Tile.ts","src/config_tile_dialog/ConfigDialogController.ts","src/config_tile_dialog/ConfigDialogExtendComponent.ts","src/config_tile_dialog/ConfigDialogService.ts","src/config_tile_dialog/index.ts","src/dashboard/Dashboard.ts","src/draggable/Draggable.ts","src/draggable/DraggableTileService.ts","src/event_tile/EventTile.ts","src/menu_tile/MenuTileDirective.ts","src/menu_tile/MenuTileService.ts","src/menu_tile/index.ts","src/note_tile/NoteTile.ts","src/picture_slider_tile/PictureSliderTile.ts","src/position_tile/PositionTile.ts","src/statistics_tile/StatisticsTile.ts","src/tile_group/TileGroupDirective.ts","src/tile_group/TileGroupService.ts","src/tile_group/index.ts","src/utility/TileTemplateUtility.ts","temp/pip-webui-dashboard-html.min.js","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js","src/page/HelpPage.ts","src/page/HelpPageRoutes.ts","src/service/HelpConfig.ts","src/service/HelpPageSelectedTab.ts","src/service/HelpService.ts","src/service/HelpStateConfig.ts","src/service/HelpTab.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","factory","async","apply","func","thisArg","args","overRest$1","start","transform","nativeMax","undefined","arguments","index","array","Array","otherArgs","identity","value","rest","isObject","type","asyncify","initialParams","callback","result","then","err","message","supportsAsync","supported","isAsync","eval","fn","supportsSymbol","Symbol","toStringTag","wrapAsync","asyncFn","applyEach$1","eachfn","fns","go","that","cb","wrapAsync$1","concat","getRawTag","isOwn","hasOwnProperty","symToStringTag$1","tag","nativeObjectToString","objectToString","nativeObjectToString$1","baseGetTag","undefinedTag","nullTag","Object","symToStringTag","isFunction","funcTag","genTag","asyncTag","proxyTag","isLength","MAX_SAFE_INTEGER","isArrayLike","noop","once","callFn","baseTimes","iteratee","isObjectLike","baseIsArguments","argsTag","stubFalse","isIndex","MAX_SAFE_INTEGER$1","reIsUint","test","baseIsTypedArray","typedArrayTags","baseUnary","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isBuffer","isType","isTypedArray","skipIndexes","String","key","hasOwnProperty$1","push","isPrototype","Ctor","constructor","prototype","objectProto$5","overArg","arg","baseKeys","object","nativeKeys","hasOwnProperty$3","keys","createArrayIterator","coll","len","createES2015Iterator","iterator","item","next","done","createObjectIterator","obj","okeys","getIterator","onlyOnce","_eachOfLimit","limit","iterateeCallback","running","breakLoop","replenish","elem","nextElem","eachOfLimit","doLimit","iterable","eachOfArrayLike","iteratorCallback","completed","doParallel","eachOf","_asyncMap","arr","results","counter","_iteratee","_","v","doParallelLimit","arrayEach","createBaseFor","fromRight","keysFunc","props","baseForOwn","baseFor","baseFindIndex","predicate","fromIndex","baseIsNaN","strictIndexOf","baseIndexOf","arrayMap","isSymbol","symbolTag","baseToString","symbolToString","INFINITY","baseSlice","end","castSlice","charsEndIndex","strSymbols","chrSymbols","charsStartIndex","asciiToArray","string","split","hasUnicode","reHasUnicode","unicodeToArray","match","reUnicode","stringToArray","toString","trim","chars","guard","replace","reTrim","join","parseParams","STRIP_COMMENTS","FN_ARGS","FN_ARG_SPLIT","map","FN_ARG","autoInject","tasks","newTasks","taskFn","newTask","taskCb","newArgs","params","name","fnIsAsync","hasNoDeps","slice","pop","auto","fallback","setTimeout","wrap","defer","DLL","head","tail","setInitial","dll","node","queue","worker","concurrency","payload","_insert","data","insertAtFront","q","started","idle","setImmediate$1","drain","_tasks","unshift","process","_next","numRunning","task","workersList","splice","error","buffer","unsaturated","_worker","isProcessing","saturated","empty","paused","kill","Math","min","shift","pause","resume","cargo","reduce","memo","eachOfSeries","x","concat$1","y","doSeries","_createTester","check","getResult","testResult","testPassed","_findGetResult","consoleFunc","console","doDuring","truth","_fn","_test","doWhilst","doUntil","during","_withoutIndex","eachLimit","eachLimit$1","ensureAsync","sync","innerArgs","notId","baseProperty","filterArray","truthValues","filterGeneric","sort","b","_filter","forever","errback","mapValuesLimit","newObj","val","has","memoize","hasher","create","queues","memoized","unmemoized","_parallel","parallelLimit","parallelLimit$1","race","TypeError","reduceRight","reverse","reflect","reflectCallback","cbArgs","reject$1","reflectAll","constant$1","retry","opts","retryAttempt","_task","attempt","options","times","errorFilter","intervalFunc","DEFAULT_TIMES","DEFAULT_INTERVAL","acc","interval","series","sortBy","comparator","left","right","criteria","timeout","milliseconds","info","injectedCallback","timedOut","originalCallback","clearTimeout","timer","timeoutCallback","origCallback","baseRange","step","nativeMax$1","nativeCeil","timeLimit","count","mapLimit","accumulator","k","unmemoize","whilst","until","max","freeGlobal","freeSelf","root","Function","Symbol$1","objectProto","objectProto$1","iteratorSymbol","objectProto$3","hasOwnProperty$2","propertyIsEnumerable","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","argsTag$1","arrayTag","boolTag","dateTag","errorTag","funcTag$1","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","freeExports$1","freeModule$1","moduleExports$1","freeProcess","nodeUtil","binding","nodeIsTypedArray","objectProto$2","objectProto$4","eachOfGeneric","Infinity","applyEach","mapSeries","applyEachSeries","apply$2","callArgs","enqueueTask","readyTasks","runTask","processQueue","runningTasks","addListener","taskName","taskListeners","listeners","taskComplete","hasError","taskCallback","safeResults","rkey","getDependents","keys$$1","numTasks","readyToCheck","uncheckedDependencies","dependencies","remainingDependencies","dependencyName","currentTask","dependent","symbolProto","rsAstralRange","rsComboMarksRange","rsComboSymbolsRange","rsVarRange","rsZWJ","RegExp","rsAstralRange$1","rsComboMarksRange$1","rsComboSymbolsRange$1","rsVarRange$1","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsZWJ$1","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","hasSetImmediate","setImmediate","hasNextTick","nextTick","_defer","removeLink","prev","insertAfter","newNode","insertBefore","seq$1","functions","_functions","newargs","nextargs","compose","concatSeries","constant","values","ignoredArgs","detect","detectLimit","detectSeries","dir","eachSeries","every","everyLimit","everySeries","filter","filterLimit","filterSeries","groupByLimit","mapResults","groupBy","groupBySeries","log","mapValues","mapValuesSeries","_defer$1","queue$1","items","priorityQueue","priority","nextNode","reject","rejectLimit","rejectSeries","retryable","some","Boolean","someLimit","someSeries","ceil","timesSeries","waterfall","nextTask","taskIndex","each","parallel","seq","timesLimit","all","any","forEach","forEachSeries","forEachLimit","forEachOf","forEachOfSeries","forEachOfLimit","inject","foldl","foldr","select","selectLimit","selectSeries","wrapSync","allLimit","allSeries","anyLimit","anySeries","find","findLimit","findSeries","defineProperty","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","title","browser","env","argv","version","versions","on","off","removeListener","removeAllListeners","emit","cwd","chdir","umask","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","url","PreviousState","StateVar","PrevStateVar","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","cloneDeep","extend","addBackStateDecorator","$provide","decorator","$inject","5","hookRoutingEvents","$log","$state","RoutingVar","m","p","./BackDecorator","./RoutingEvents","7","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","_setRootVar","_identity","_rootScope","_log","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","$get","provider","8","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","notifyError","_session","notifyListeners","successCallback","listener","notifyOpenListeners","_this","notifyCloseListeners","$emit","stop","oldSession","addOpenListener","addCloseListener","removeOpenListener","removeCloseListener","isOpened","open","close","SessionProvider","./IdentityService","./SessionService","10","Transaction","scope","_scope","_id","_operation","_error","TransactionError_1","TransactionError","_progress","reset","busy","failed","aborted","id","begin","operation","Date","getTime","update","progress","abort","decode","11","details","cause","stack_trace","statusText","status","12","Transaction_1","TransactionService","_transactions","transaction","get","service","13","configureTransactionStrings","$injector","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","./TransactionError","./TransactionService","./TransactionStrings","15","translateDirective","pipTranslate","key1","key2","link","element","attrs","translate","text","translateHtmlDirective","html","directive","16","optionalTranslateFilter","translateFilter","initTranslate","language","extendStatics","setPrototypeOf","__proto__","d","__","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","changeLocale","save","locale","localeDate","moment","localeData","months","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","translateSet","keyProp","valueProp","translateObjects","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","TranslateProvider","set","./Translation","18","Translation","_language","en","ru","es","pt","de","fr","_translations","isNull","isUndefined","toUpperCase","19","./TranslateFilter","./TranslateService","20","Codes","hash","charCodeAt","random","substr","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","toLowerCase","parseFormat","fmt","parse_tree","arg_names","exec","_fmt","replacement_field","field_match","field_list","tree_length","node_type","cursor","sprintf","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","output","pad","_i","filterToString","arrayToString","enumToArray","hookResetEvents","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","$timeout","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","$","position","scrollTop","top","ScrollService","SystemInfo","ua","navigator","userAgent","search","browserName","subVersion","osAll","osAndroid","isDesktop","platform","isMobile","isCordova","isSupported","edge","ie","firefox","opera","chrome","safari","Tags","normalizeOne","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","extract","entity","searchFields","field","hashTags","uniq","26","TimerEvent","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","newEvent","startEvent","removeEvent","existingEvent","stopEvent","clearEvents","cancel","ex","buttons","2","pipFabTooltipVisibility","$parse","restrict","controller","FabTooltipVisibilityController_1","$element","$attrs","$scope","showGetter","showSetter","assign","$watch","trigGetter","isOpen","3","./refresh_button/RefreshButton","./toggle_buttons/ToggleButtons","4","RefreshButtonBindings","visible","onRefresh","RefreshButtonChanges","RefreshButtonController","$postLink","_buttonElement","children","_textElement","show","$onChanges","changes","currentValue","hide","onClick","$event","width","css","RefreshButtonComponent","component","ToggleButtonsBindings","ToggleButton","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","ToggleButtonsChanges","ToggleButtonsController","pipMedia","class","currentButtonIndex","disabled","addClass","removeClass","buttonSelected","enterSpacePress","highlightButton","level","ToggleButtons","bindings","6","$templateCache","put","Dexie","extension","hasOwn","prop","_hasOwn","proto","getProto","setProp","functionOrGetSet","writable","derive","Child","from","Parent","bind","getPropertyDescriptor","pd","getOwnPropertyDescriptor","_slice","override","origFunc","overridedFactory","assert","asap","_global","arrayToObject","extractor","nameAndValue","trycatcher","tryCatch","onerror","getByKeyPath","keyPath","rv","period","innerObj","setByKeyPath","isFrozen","currentKeyPath","remainingKeyPath","delByKeyPath","kp","shallowClone","flatten","deepClone","intrinsicTypes","getObjectDiff","prfx","ap","bp","getArrayOf","arrayLike","it","NO_CHAR_ARRAY","getIteratorOf","setDebug","libraryFilter","getErrorWithStack","NEEDS_THROW_FOR_STACK","prettyStack","exception","numIgnoredFrames","stack","frame","deprecated","what","warn","DexieError","msg","_e","getMultiErrorMessage","failures","ModifyError","successCount","failedKeys","BulkError","mapError","domError","SyntaxError","exceptionMap","inner","nop","mirror","pureFunctionChain","f1","f2","callBoth","on1","on2","hookCreatingChain","res","onsuccess","res2","hookDeletingChain","hookUpdatingChain","modifications","reverseStoppableEventChain","promisableChain","thiz","Promise","_listeners","onuncatched","_lib","psd","_PSD","PSD","_stackHolder","_prev","_numPrev","INTERNAL","_state","_value","handleRejection","ref","executePromiseTask","Listener","onFulfilled","onRejected","resolve","zone","promise","shouldExecuteTick","beginMicroTickScope","_then","propagateAllListeners","endMicroTickScope","reason","rejectingErrors","rejectionMapper","_promise","origProp","stack_being_generated","addPossiblyUnhandledError","propagateToListener","finalize","numScheduledCalls","asap$1","finalizePhysicalTick","callListener","currentFulfiller","ret","markErrorAsHandled","getStack","stacks","errorName","failure","linkToPreviousPromise","numPrev","LONG_STACKS_CLIP_LIMIT","physicalTick","wasRootExec","isOutsideMicroTick","needsNewPhysicalTick","callbacks","microtickQueue","unhandledErrs","unhandledErrors","onunhandled","finalizers","tickFinalizers","run_at_end_of_this_or_next_physical_tick","finalizer","PromiseReject","errorCatcher","outerScope","switchToZone","newScope","props$$1","a1","a2","parent","zone_id_counter","globalEnv","globalPSD","patchGlobalPromise","PromiseProp","nthen","getPatchedPromiseThen","gthen","usePSD","incrementExpectedAwaits","taskCounter","awaits","echoes","ZONE_ECHO_LIMIT","decrementExpectedAwaits","sourceTaskId","onPossibleParallellAsync","possiblePromise","NativePromise","rejection","zoneEnterEcho","targetZone","totalEchoes","zoneStack","zoneLeaveEcho","bEnteringZone","currentZone","zoneEchoes","enqueueNativeMicroTask","snapShot","GlobalPromise","targetEnv","nativePromiseProto","a3","job","nativePromiseThen","resolvedNativePromise","nativeAwaitCompatibleWrap","possibleAwait","outerZone","origThen","onResolved","globalError","eventData","document","createEvent","initEvent","UNHANDLEDREJECTION","CustomEvent","detail","dispatchEvent","PromiseRejectionEvent","onunhandledrejection","defaultPrevented","Events","ctx","add","eventName","chainFunction","defaultFunction","addConfiguredEvents","context","subscribers","fire","subscribe","unsubscribe","evs","cfg","exceptions","InvalidArgument","subscriber","addEventType","dbName","Version","versionNumber","_cfg","storesSource","dbschema","tables","contentUpgrade","stores","runUpgraders","oldVersion","idbtrans","trans","db","_createTransaction","READWRITE","dbStoreNames","globalSchema","_completion","catch","rejectTransaction","_reject","tableName","createTable","primKey","indexes","follow","populate","updateTablesAndIndexes","runQueue","oldVersionStruct","Upgrade","_dbSchema","anyContentUpgraderHasRun","oldSchema","newSchema","adjustToExistingIndexNames","diff","getSchemaDiff","tuple","recreate","store","objectStore","idx","addIndex","deleteIndex","del","idxName","hasIEDeleteObjectStoreBug","deleteRemovedTables","createMissingTables","table","oldDef","newDef","def","src","oldIndexes","idxByName","newIndexes","oldIdx","newIdx","createObjectStore","autoIncrement","objectStoreNames","contains","storeName","deleteObjectStore","createIndex","unique","multiEntry","multi","tempTransaction","mode","storeNames","openComplete","letThrough","isBeingOpened","autoOpen","DatabaseClosed","dbReadyPromise","extractTransactionArgs","_tableArgs_","scopeFunc","Table","tableSchema","optionalTrans","schema","_tx","hook","allTables","creating","reading","updating","deleting","BulkErrorHandlerCatchAll","errorList","supportHooks","hookedEventRejectHandler","eventRejectHandler","bulkDelete","idbstore","keysOrTuples","hasDeleteHook","deletingHook","lastItem","hookCtx","errorHandler","successHandler","hookedEventSuccessHandler","req","delete","_hookCtx","active","_reculock","_blockedFuncs","_resolve","_waitingFor","_waitingQueue","_spinCount","complete","wasActive","WhereClause","orCollection","_ctx","or","Collection","whereClause","keyRangeGenerator","keyRange","whereCtx","isPrimKey","range","keysOnly","algorithm","replayFilter","justLimit","isMatch","offset","valueMapper","isPlainKeyRange","ignoreLimitFilter","lowerVersionFirst","setApiOnPlace","objs","tableNames","removeTablesApi","iterate","mappedFn","c","wrappedFn","continue","advancer","parseIndexSyntax","IndexSpec","cmp","indexedDB","ascending","descending","simpleCompare","simpleCompareReverse","combine","filter1","filter2","readGlobalSchema","verno","idbdb","safariMultiStoreFix","dotted","j","indexNames","idbindex","TableSchema","hasGetAll","indexName","dexieName","indexSpec","WorkerGlobalScope","fireOnBlocked","ev","connections","_vcFired","dbReadyResolve","cancelOpen","deps","addons","IDBKeyRange","dbOpenError","onReadyBeingFired","openCanceller","autoSchema","hasNativeGetDatabaseNames","getNativeGetDatabaseNamesFn","Schema","versionInstance","storesSpec","_parseStoresSpec","upgrade","upgradeFunction","outSchema","instanceTemplate","compound","_allTables","parentTransaction","_whenReady","resolveDbReady","upgradeTransaction","MissingAPI","round","onblocked","onupgradeneeded","_allowEmptyDB","preventDefault","delreq","deleteDatabase","NoSuchDatabase","pow","onversionchange","dbNamesDB","dbnames","vip","ready","fireRemainders","remainders","finally","hasArguments","doDelete","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","bSticky","_transaction","enterTransactionScope","transless","zoneProps","AsyncFunction","returnValue","promiseFollowed","decrementor","throw","awaitIterator","PrematureCommit","onlyIfCompatible","SubTransaction","InvalidTable","_trans","writeLocked","_idbstore","supplyIdbStore","NotFound","keyOrCrit","where","first","indexOrCrit","keyPaths","equals","compoundIndex","ix","maxKey","maxString","simpleIndex","toCollection","numRows","filterFunction","and","toArray","orderBy","mapToClass","structure","mappedClass","applyStructure","readHook","defineClass","anyOf","bulkPut","objects","numObjs","eventSuccessHandler","effectiveKeys","objectLookup","modify","objsToAdd","keysToAdd","bulkAdd","lastAddedKey","lastEffectiveKey","creatingHook","effectiveKey","keyToUse","updatingHook","target","clear","keyOrObject","_lock","lockOwnerFor","_unlock","_locked","fnAndPSD","OpenFailed","TransactionInactive","onabort","Abort","oncomplete","bWriteLock","ReadOnly","_root","waitFor","spin","currentWaitPromise","fail","collectionOrWhereClause","T","collection","emptyCollection","only","upperFactory","lowerFactory","nextCasing","lowerKey","upperNeedle","lowerNeedle","llp","lwrKeyChar","addIgnoreCaseAlgorithm","needles","suffix","initDirection","upper","lower","compare","needleBounds","needle","upperNeedles","nb","lowerNeedles","direction","nextKeySuffix","needlesLen","STRING_EXPECTED","bound","_ondirectionchange","firstPossibleNeedle","_addAlgorithm","advance","lowestPossibleCasing","casing","between","includeLower","includeUpper","INVALID_KEY_ARGUMENT","above","lowerBound","aboveOrEqual","below","upperBound","belowOrEqual","startsWith","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","notEqual","inAnyRange","minKey","includeLowers","includeUppers","noneOf","ranges","addRange","newRange","rangeSorter","sortDirection","keyWithinCurrentRange","keyIsBeyondCurrentEntry","keyIsBeforeCurrentEntry","checkKey","startsWithAnyOf","addFilter","addReplayFilter","isLimitFilter","curr","addMatchFilter","getIndexOrStore","openCursor","idxOrStore","openKeyCursor","iter","resolveboth","resolved","union","primaryKey","Uint8Array","_iterate","_read","_write","clone","raw","getval","parts","lastPart","sorter","aVal","lastIndex","bVal","order","readingHook","getAll","offsetLeft","rowsLeft","bIncludeStopEntry","last","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","getAllKeys","uniqueKeys","firstKey","lastKey","distinct","strKey","found","modifyItem","failKeys","thisContext","checkFinished","currentKey","modifyer","bDelete","doReject","iterationComplete","origItem","objectDiff","additionalChanges","numKeys","anythingModified","origChanges","hangsOnDeleteLargeKeyRange","countReq","delReq","CHUNKSIZE","totalCount","nextChunk","newVersion","parseType","member","hookSuccessHandler","hookErrorHandler","stopPropagation","getNext","onSuccess","onError","callNext","doThrow","keyPathSrc","getDatabaseNames","webkitGetDatabaseNames","getPrototypeOf","num","location","href","dexieErrorNames","idbDomErrorNames","defaultTexts","VersionChanged","_stack","errnames","BaseException","msgOrInner","fullName","Syntax","Type","Range","RangeError","fullNameExceptions","nativePromiseInstanceAndProto","P","resolvedGlobalPromise","schedulePhysicalTick","MutationObserver","hiddenDiv","createElement","observe","attributes","setAttribute","unhandleds","pgp","uh","thenProp","microTaskId","handler","onFinally","ms","handle","Timeout","remaining","newPSD","scheduler","DEXIE_VERSION","isIEOrEdge","dexieStackFrameFilter","databaseName","exists","NoSuchDatabaseError","Class","properties","ignoreTransaction","generatorFn","spawn","currentTransaction","promiseOrFunction","optionalTimeout","MultiModifyError","Modify","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","semVer","default","parse","removeItem","CacheConfigService","enableLogs","models","CacheConfigProvider","configureInterceptor","$httpProvider","interceptors","$q","pipCache","getDefaultParams","_a","model","ik","interceptor","config","method","groups","getKey","cachedData","onResponse","body","getParams","getItems","params_1","responseModify","itemsToResponse","resp","responseToItems","setItems","its","removeTotal","groups_1","deleteItems","state_1","state_2","response","CacheCollectionParams","CacheInterceptorOptions","CacheModel","CacheService","openedDbs","Map","getDbName","modelName","getDb","modelKey","lastRead","meta","getModel","expire","maxAge","expired","valueOf","groupCollapsed","groupEnd","_d","sent","totalDetails","total","ids","reads","_b","_c","fill","lr","promises","__generator","dbs","names","dbs_1","name_1","CacheProvider","pipCacheConfigProvider","registerModel","layouts","MediaService_1","IMediaService_1","AuxPanelDirectiveController","pipAuxPanel","normalSize","largeSize","gtxs","gtlg","bodyElement","bodyWidth","LayoutResizedEvent","isGtxs","MainBreakpoints","xs","isGtlg","lg","AuxPanel","transclude","../media/IMediaService","../media/MediaService","AuxPanelPartDirective","ngIfDirective","ngIf","terminal","AuxPanelPartController_1","partName","pipAuxPanelPart","pos","partValue","onAuxPanelChanged","currentPartValue","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","$broadcast","AuxPanelStateChangedEvent","AuxPanelOpenedEvent","AuxPanelClosedEvent","toggle","cc","part","AuxPanelChangedEvent","AuxPanelProvider","IAuxPanelService_2","AuxPanelConfig","./IAuxPanelService","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","cardDirective","CardDirectiveLink","resize","MainResizedEvent","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","Number","minHeight","MainBreakpointStatuses","space","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","dialogDirective","documentDirective","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","heading","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","_heading","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","containerWidth","columns","layout","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","resizeListener","win","srcElement","__resizeRAF__","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","attachEvent","getComputedStyle","style","onload","isIE","appendChild","removeEventListener","removeChild","behaviors","CancelDragLink_1","attr","CancelDrag","DragLink_1","$document","pipDraggable","LONG_PRESS","_centerAnchor","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","_data","_dragOffset","_dragEnabled","_pressTimer","_elementStyle","scrollParent","scrollContainer","_deregisterRootMoveListener","ngDrag","_myid","$id","onDragStartCallback","pipDragStart","onDragMoveCallbak","pipDragMove","onDragStopCallback","pipDragStop","onDragSuccessCallback","pipDragSuccess","allowTransform","isDefined","$eval","getDragData","pipDragData","verticalScroll","pipVerticalScroll","horizontalScroll","pipHorizontalScroll","activationDistance","pipActivationDistance","scrollDistance","scrollContainerGetter","pipScrollContainer","initialize","dragHandles","querySelectorAll","_dragHandle","toggleListeners","enable","onDestroy","pipDrag","newVal","oldVal","onEnableChange","pipCenterAnchor","onCenterAnchor","onpress","nodeName","isClickableElement","evt","button","saveElementStyles","cancelPress","onlongpress","getBoundingClientRect","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","inputEvent","pageX","_my","pageY","_mrx","_mry","pageXOffset","_ty","pageYOffset","onmove","onrelease","origEvent","tx","ty","$data","dragToScroll","moveElement","uid","dragOffset","onDragComplete","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","Drag","DraggableService","touches","originalEvent","DropLink_1","pipDrop","isTouching","onDropCallback","pipDropSuccess","onDragMoveCallback","onEnterCallback","pipEnter","onLeaveCallback","pipLeave","onDiactiveCallback","pipDiactive","onDragStart","onDragMove","onDragEnd","_dropEnabled","updateDragStyles","$target","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","bottom","Drop","PreventDragLink_1","absorbEvent_","cancelBubble","./Drag","./DraggableService","./Drop","./PreventDrag","FocusedLink_1","$mdConstant","opacityDelta","opacityLimit","keydownListener","init","ngModel","pipFocusedData","selector","pipWithHidden","onFocusClass","pipFocusedClass","controls","controlsLength","checkTabindex","currentTarget","pipRebind","pipFocusedOpacity","color","oldBackgroundColor","rgba","pipFocusedColor","red","blue","green","opacity","setTabindex","findIndex","pipFocusedTabindex","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipFocusedRebind","./focused/Focused","./infinite_scroll/InfiniteScroll","./selected/Selected","./shortcuts/index","./unsaved_changes/UnsavedChanges","9","InfiniteScrollLink_1","THROTTLE_MILLISECONDS","checkWhenEnabled","immediateCheck","scrollEnabled","unregisterEventListener","useDocumentBottom","windowElement","onContainerScrollThrottle","throttle","onContainerScroll","unbind","handleScrollDistance","pipScrollDistance","handleScrollDisabled","pipScrollDisabled","handleScrollUseDocumentBottom","pipScrollUseDocumentBottom","pipScrollListenForEvent","newContainer","handleScrollContainer","pipScrollParent","changeContainer","pipScrolImmediateCheck","isNaN","clientHeight","offsetTop","ownerDocument","containerTopOffset","elementBottom","shouldScroll","$$phase","pipInfiniteScroll","HTMLElement","append","parents","InfiniteScroll","SelectedLink_1","touchBoundary","tapdelay","tapTimeout","indexGetter","pipSelected","indexSetter","idGetter","pipSelectedId","idSetter","changeGetter","pipSelect","enterSpaceGetter","pipEnterSpacePress","noScroll","pipNoScroll","modifier","pipSkipHidden","className","pipTreeList","selectedIndex","currentElementTabinex","pipSelectedWatch","isScrolled","onClickEvent","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onKeyDown","onFocusIn","onFocusOut","newSelectedId","selectItem","itemId","raiseEvent","newSelectedIndex","itemIndex","itemParams","itemsLength","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedId","onSelect","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","getTargetElementFromEventTarget","eventTarget","Node","TEXT_NODE","parentNode","touchHasMoved","touch","changedTouches","boundary","touchStartX","touchStartY","targetElement","trackingClick","trackingClickStart","timeStamp","lastClickTime","cancelNextClick","ENTER","SPACE","inc","Selected","ShortcutItem","ShortcutsConfig","globalShortcuts","localShortcuts","KeyboardEvent","Keydown","Keyup","Keypress","ShortcutOptions","Shortcut","shorcutCombination","option","shift_nums","`","0","-","=",";","'",",",".","/","\\","special_keys","esc","escape","tab","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","break","insert","home","pageup","page_up","pu","pagedown","page_down","up","down","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","wanted","pressed","ctrl","alt","shorcut","DisableInInput","element_1","tagName","character","ctrlKey","shiftKey","altKey","metaKey","Keycode","Propagate","ShortcutBindingService_1","_shortcuts","_defaultOption","defaults","getDefaultOption","Shortcut_1","Target","shortcut","remove","shortcutOption","shortcutCombination","getElementById","newKeyboardShortcut","eventCallback","detachEvent","ShortcutBindingProvider","_option","14","ShortcutController","pipShortcutBinding","pipShortcutAction","actionShortcuts","pipShortcutName","nameShortcuts","pipShorcutOptions","keypressShortcut","action","$onInit","shortcutsDirective","ShortcutsChangedEvent","ShortcutsService","$location","_oldConfig","addShortcuts","sendChangeEvent","removeShortcuts","access","keypress","stateParams","defaultOptions","generalOptions","targetId","ShortcutsProvider","IShortcutsService_1","./IShortcutsService","./ShortcutBindingService","./ShortcutDirective","./ShortcutsService","17","onbeforeunload","unsavedChangesAvailable","unsavedChangesMessage","unbindFunc","confirm","cancelLeave","afterLeave","ColorPickerBindings","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","currentColorIndex","selectColor","pipColorPicker","templateUrl","pipImageSliderController_1","pipImageSlider","_index","swipeStart","_type","slideTo","slideToPrivate","setIndex","_blocks","startInterval","_throttled","toBlock","_newIndex","_direction","registerSlider","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","bindToController","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","prevCarousel","blocks","blockIndex","vm","SliderButtonController_1","SliderIndicatorController_1","SliderIndicator","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","MarkdownBindings","isList","clamp","rebind","MarkdownController","MarkdownChanges","_pipTranslate","bindText","_text","_$scope","newText","describeAttachments","attachTypes","attach","attachString","textString","isClamped","isNumber","gfm","breaks","sanitize","pedantic","smartLists","smartypents","marked","ConfigTranslations","MarkdownComponent","PopoverController","$compile","$templateRequest","backdropElement","backdropClick","responsive","locals","template","content","calcHeight","onResize","cancelCallback","closePopover","onPopoverClick","docWidth","docHeight","popover","footer","contentHeight","PopoverBindings","Popover","PopoverService","popoverTemplate","$new","./PopoverService","RoutingBindings","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","actions","actionLenght","showDetails","onDetails","ok","onMessageClick","onAction","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","showToast","currentToast","hideDelay","duration","showToastOkResult","showToastCancelResult","addToast","removeToasts","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","showClickableError","hideAllToasts","./Toast","./ToastService","lists","./tag_list/TagList","TagListController","toBoolean","TagListBindings","typeLocal","rebuid","TagList","TagListChanges","dates","DateBindings","timeMode","ngChange","DateController","DateChanges","momentMonths","momentDays","momentShortDays","momentFirstDayOfWeek","isDate","day","getDate","month","getMonth","year","getFullYear","dayList","monthList","years","yearList","disableControls","getValue","currentYear","startYear","endYear","adjustDay","setValue","onMonthChanged","onYearChanged","DateComponent","IDateConvertService_1","DateConvert","_momentRanged","DateRangeType","All","_defaultFormat","_defaultTimeZoneOffset","isUndefinedOrNull","date","getRange","Day","getOperationRange","WeekFromSunday","toStartRange","localDate","utcOffset","isValid","startOf","toDate","toEndRange","mssOffset","endOf","toJson","toNextRange","toPrevRange","toCurrentRange","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","Month","toEndMonth","toStartYear","Year","toEndYear","DateConvertService","convert","_convert","defaultTimeZoneOffset","toJSON","DateConvertProvider","__extends","formatTimeFilter","pipDateFormat","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","formatShortElapsedFilter","formatShortElapsed","formatLongElapsedFilter","formatLongElapsed","formatMiddleElapsedFilter","formatMiddleElapsed","getDateJSONFilter","pipDateConvert","formatTimeShortFilter","formatTimeShort","formatTimeLongFilter","formatTimeLong","declarePipDateResources","pipTranslateProvider","DATE_ELAPSED","DATE_HOUR_ONE","DATE_HOUR_SHORT","DATE_MINUTE_SHORT","DATE_HOURS_FEW","DATE_HOURS_AFTER_FOOR","DATE_MINUTE_ONE","DATE_MINUTES_FEW","DATE_MINUTES_AFTER_FOOR","DATE_FEW_SECOND","DATE_FEW_SECOND_SHORT","DATE_FEW_SECOND_SHORT_ELAPSED","DateFormat","oneHour","oneMinute","oneSeccond","oneDay","formatDateTime","basicFormat","formatTpl","formatDateTimeY","nowDate","formatMoment","longDateFormat","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","toDateWithTime","formatDate","toTodayDate","fromNow","borderDate","isBefore","h","asHours","asMinutes","mString","getHoursString","getMinutesString","utc","hh","hString","sec","getDateJSON","DateFormatProvider","Week","./DateFormatFilter","./DateFormatService","./IDateConvertService","./IDateFormatService","DateRangeBindings","DateRangeController","DateRangeChanges","$mdMedia","prevState","currentState","standalone","currentDate","getUTCFullYear","currentMonth","getUTCMonth","currentDay","getUTCDate","newValue","oldValue","dayOfWeek","UTC","getUTCDay","week","getWeekByDate","correctWeek","adjustWeek","onWeekChange","isDay","isWeek","isMonth","onChange","pipChanged","setCurrent","dateRangeType","fillLists","weeks","weekList","onYearClick","onMonthClick","onDayClick","getCountDay","nameDays","weekday","getWeek","countDay","countPrevMonthDay","startDay","endDay","startWeek","getTimezoneOffset","daterange","TimeRangeData","TimeRangeController","TimeRangeChanges","defineStartDate","defineEndDate","TimeRangeBindings","TimeRangeComponent","TimeRangeEditData_1","TimeRangeEditChanges","TimeRangeEditController","startLabel","endLabel","intervalTimeCollection","getTimeInterval","initDate","defineDate","pipStartDate","pipEndDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","pipStartLabel","pipEndLabel","setDuration","startDate","endDate","startTime","MinutesInHour","MillisecondsInSecond","endTime","validateStartDate","IntervalTimeRange","HoursInDay","validateEndDate","setDate","minutes","showTime","pipHideTime","onChangeStartDate","newV","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","TimeRangeEditComponent","TimeRangeEditBindings","dialogs","ConfirmationDialogParams_1","ConfirmationDialogController","$mdDialog","_injector","DIALOG_CONFIRM_TITLE","DIALOG_CONFIRM_OK","DIALOG_CONFIRM_CANCEL","onOk","onCancel","ConfirmationDialogParams","ConfirmationDialogService","_mdDialog","targetEvent","./ConfirmationDialogParams","./ConfirmationDialogService","./IConfirmationDialogService","ErrorDialogStrings","errorDetails","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorDetailsDialogController","strings","theme","themes","ThemeRootVar","OK","CANCEL","ERROR_DETAILS","ERROR_CODE","ERROR_PATH","ERROR_ERROR","ERROR_METHOD","ERROR_MESSAGE","ERROR_DISMISS","dismissButton","getErrorText","ErrorDetailsDialogParams","ErrorDetailsDialogService","clickOutsideToClose","InformationDialogController","INFORMATION_TITLE","INFORMATION_OK","pipFormat","InformationDialogParams","InformationDialogService","OptionsDialogController","selectedOption","opt","optionIndex","selectedOptionName","focusInput","DIALOG_OPTIONS_TITLE","DIALOG_OPTIONS_SELECT","DIALOG_OPTIONS_CANCEL","onOptionSelect","onKeyPress","isCheckboxOption","list","OptionsDialogParams","OptionsDialogData","OptionsDialogResult","OptionsDialogService","21","OptionsBigDialogController","OptionsBigDialogData_1","OptionsBigDialogData","noActions","onSelected","onKeyUp","OptionsBigDialogParams","OptionsBigDialogResult","OptionsBigDialogService","27","./OptionsBigDialogController","./OptionsBigDialogData","./OptionsBigDialogParams","./OptionsBigDialogResult","./OptionsBigDialogService","28","nav","IActionsService_1","IActionsService_2","IActionsService_3","ActionsService","primaryGlobalActions","secondaryGlobalActions","primaryLocalActions","secondaryLocalActions","primaryActions","secondaryActions","updateCount","clearCounts","ActionsChangedEvent","openMenuEvent","SecondaryActionsOpenEvent","ActionsProvider","ActionsConfig","SimpleActionItem","ActionItem","PrimaryActionsController","pipActions","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","onActionsChanged","localActions","globalActions","isHidden","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","click","PrimaryActionsBindings","PrimaryActionsChanges","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","calcActions","secondaryActionsVisible","secondaryDividerVisible","SecondaryActionsBindings","SecondaryActionsChanges","AppBarController","pipAppBar","onAppBarChanged","appbar","AppBarConfig","AppBarPartController","_partName","_partValue","appbarPart","AppBarChangedEvent","AppBarService","shadowBreakpoints","setShadow","hideShadow","addShadow","removeShadow","AppBarProvider","AppBarConfig_1","./AppBar","./AppBarConfig","./AppBarPart","./AppBarService","BreadcrumbController","pipBreadcrumb","navConstant","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","_media","BREADCRUMB_BREAKPOINT","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","onOpenMenu","onSubActionClick","breadcrumb","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","showText","showItems","BreadcrumbProvider","BreadcrumbConfig_1","./BreadcrumbConfig","NavService","icon","sidenav","header","menu","showMenu","DropdownController","_pipTheme","_pipMedia","currentTheme","themeClass","media","activeIndex","pipChange","showDropdown","DropdownBindings","DropdownChanges","dropdown","NavHeaderController","pipNavHeader","imageUrl","initImage","cleanupNavHeaderChanged","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","$onDestroy","imageBlock","image","onImageLoad","onImageError","initHeader","subtitle","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","imageWidth","imageHeight","margin","loadError","defaultImageUrl","onUserClick","navHeader","NavHeaderConfig","NavHeaderService","callbackOrEvent","NavHeaderChangedEvent","NavHeaderProvider","NavHeaderConfig_1","./NavHeaderService","22","23","SideNavService_1","NavIconService_1","NavIconBindings","NavIconChanges","NavIconController","pipNavIcon","clearFn","onNavIconChanged","onNavIconClick","ToggleSideNavEvent","NavIconClickedEvent","NavIcon","NavIconConfig","25","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconChangedEvent","NavIconConfig_1","NavIconProvider","setMenu","setIcon","setBack","./NavIconConfig","./INavIconService","./NavIcon","./NavIconService","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_MIDDLE_WIDTH","SIDENAV_SMALL_WIDTH","./appbar","./breadcrumb","./common/NavService","./dropdown/Dropdown","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/Tabs","LanguagePickerDirectiveController","_translate","languages","previousValue","setLanguages","onLanguageClick","LanguagePickerBindings","LanguagePickerChanges","languagePickerDirective","navMenuDirective","NavMenuController","pipSideNav","pipNavMenu","expanded","_animationDuration","SIDENAV_ANIMATION_DURATION","_pipSideNavElement","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","isSectionEmpty","linkCollection","expand","expandedButton","isExpanded","sideNavState","isActive","parentState","includes","clickLink","current","NavMenuBindings","NavMenuChangedEvent","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","31","./NavMenuService","32","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchActivatedEvent","SearchBar","./SearchService","34","SearchConfig","CloseSearchEvent","SearchService","SearchProvider","36","./SearchBar","./SearchConfig","37","SideNavController","_bigWidth","SIDENAV_LARGE_WIDTH","_middleWidth","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","setSideNaveState","windowResize","debounce","cleanupSideNavState","onSideNavState","sidenavState","backdrop","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","cleanupMainResized","stateName","mainWidth","_mainContainer","sideNavWidth","currentWidth","Small","Large","XLarge","SideNavBindings","sideNav","./SideNavState","38","sidenavPartDirective","SideNavPartBindings_1","SideNavPartController_1","hookSideNavEvents","OpenSideNavEvent","CloseSideNavEvent","SideNavChangedEvent","SideNavService","SideNavStateChangedEvent","SideNavConfig","SideNavProvider","40","SideNavState","isLockedOpen","showIconTooltype","small","large","xlarge","41","./SideNavPart","./SideNavService","42","PipTab","TabsChanges","TabsDirectiveController","setTheme","setTranslate","tabs","tabDisabled","selectedTabId","showShadow","showTabsShadow","showTabs","Tabs","TabsBindings","43","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","pipTheme","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","800","900","orangePrimaryPalette","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultBlueTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","A400","configureDefaultNavyTheme","greyPalette","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","configureDefaultPinkTheme","PinkBackgroundPalette","700","PinkPrimaryPalette","configureDefaultTheme","errors","ErrorPageConfig","ErrorPageConfigs","Maintenance","Active","Name","Event","Title","SubTitle","Breadcrumb","Image","MissingRoute","NoConnection","StateIgnored","Unknown","Unsupported","Params","SupportedBrowsers","ErrorPageConfig_1","ErrorPageConfigService","getErrorPageConfig","pageName","ErrorPageConfigProvider","configs","setErrorPageConfig","defaultsDeep","setAllErrorPageConfigs","setSupportedBrowsers","browsers","./ErrorPageConfig","clearErrorsDirective","$ctrls","ClearErrorsLink","_fieldController","_formController","clearFieldErrors","clearFormErrors","$error","$setValidity","$serverError","FormErrorsService","errorsWithHint","isEmpty","hint","touchedErrorsWithHint","form","notSubmited","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","goToUnhandledErrorPage","configureHttpInterceptor","$stateProvider","HttpResponseInterceptor","./error_pages/ErrorPageConfig","./error_pages/ErrorPageConfigService","./form_errors/ClearErrorsDirective","./form_errors/FormErrorsService","./http_intercept/HttpResponseInterceptor","./maintenance/MaintenanceErrorPage","./missing_route/MissingRouteErrorPage","./no_connection/NoConnectionErrorPage","./no_connection_panel/NoConnectionPanel","./unknown/UnknownErrorPage","./unsupported/UnsupportedErrorPage","configureMaintenanceErrorPageRoute","ErrorsMaintenanceState","MaintenanceErrorPageController","initMaintenanceErrorPage","pipErrorPageConfigService","MaintenanceErrorEvent","setMaintenanceErrorPageResources","ERROR_MAINTENANCE_TITLE","ERROR_MAINTENANCE_SUBTITLE","ERROR_MAINTENANCE_CLOSE","ERROR_MAINTENANCE_TRY_AGAIN","ERROR_MAINTENANCE_RETRY","MaintenanceError","MaintenanceErrorConfig","MaintenanceErrorParams","_pageName","pipNavService","appHeader","timeoutInterval","onRetry","RedirectSateDefault","configureMissingRouteErrorPageRoute","ErrorsMissingRouteState","unfoundState","MissingRouteErrorPageController","initMissingRouteErrorPage","StateNotFoundEvent","to","setMissingRouteErrorPageResources","ERROR_MISSING_ROUTE_TITLE","ERROR_MISSING_ROUTE_SUBTITLE","ERROR_MISSING_ROUTE_CONTINUE","ERROR_MISSING_ROUTE_TRY_AGAIN","ERROR_MISSING_ROUTE_GO_BACK","ERROR_MISSING_ROUTE_PAGE_TITLE","MissingRouteErrorState","absolute","urlBack","onContinue","configureNoConnectionErrorPageRoute","ErrorsConnectionState","NoConnectionErrorPageController","initNoConnectionErrorPage","ErrorsConnectionEvent","setNoConnectionErrorPageResources","ERROR_NO_CONNECTION_SUBTITLE","ERROR_NO_CONNECTION_RETRY","NoConnectionError","errorConfig","NoConnectionPanelController","_retry","configureUnknownErrorPageRoute","ErrorsUnknownState","UnknownErrorPageController","initUnknownErrorPage","ErrorsUnknownEvent","setUnknownErrorPageResources","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","UnknownErrorDetails","parseError","error_details","server_stacktrace","client_stacktrace","configureUnsupportedErrorPageRoute","ErrorsUnsupportedState","UnsupportedErrorPageController","initUnsupportedErrorPage","pipSystemInfo","supportedVersions","browserVersion","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","ERROR_UNSUPPORTED_EDGE","ERROR_UNSUPPORTED_EDGE_VER","ERROR_UNSUPPORTED_SAFARI_VER","ERROR_UNSUPPORTED_SAFARI","ErrorsUnsupportedEvent","UnsupportedError","setUnsupportedErrorPageResources","charts","BarChartBindings","xTickFormat","yTickFormat","interactiveLegend","BarChartController","BarChartBindingsChanges","pipChartColors","chart","spaceAfterBar","spaceAfterMultiBar","generateMaterialColors","updatedLegend","prepareData","legend","updateChart","generateParameterColor","paletteColors","d3","scale","ordinal","materialColorToRgba","instantiateChart","chartElem","datum","configBarWidthAndLabel","drawEmptyState","nv","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","seria","classed","getGroupSize","labels","chartBars","getBBox","groupSize","barHeight","barWidth","transition","getMaterialColor","BarChart","ChartColorsService","$mdColorPalette","palette","ChartLegendBindings","interactive","ChartLegendBindingsChanges","ChartLegendController","updateLegends","colorCheckboxes","animate","prepareSeries","checkboxContainers","legendTitles","materialColor","ChartLegend","LineChartBindings","xFormat","xTickValues","dynamic","fixedHeight","dynamicHeight","LineChartBindingsChanges","LineChartController","HEIGHT","setZoom","updateZoomOptions","selectAll","updateXTickValues","updateSeries","getHeight","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","onlyZeroY","yDomain","clipYTick","tickValues","tooltipW","removeTooltip","addZoom","updateScroll","domains","bDiff","domDiff","isEqual","svg","xDomain","redraw","xScale","yScale","x_boundary","y_boundary","d3zoom","behavior","zoom","prevXDomain","prevScale","prevTranslate","newChart","domain","nice","zoomed","unzoomed","fixDomain","translate0","coordinates0","coordinates","center0","center1","point","scaleExtent","LineChart","PieChartBindings","donut","centered","PieChartBindingsChanges","PieChartController","resizeTitleLabelUnwrap","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","centerChart","renderTotalLabel","svgElem","pie","arc","innerRadius","outerRadius","leftMargin","totalVal","sum","titleElem","boxSize","PieChart","locations","LocationBindings","pipLocationName","pipLocationPos","pipShowLocationIcon","pipCollapse","pipDisabled","pipLocationResize","LocationController","LocationBindingsChanges","showMap","mapContainer","generateMap","redrawMap","clearMap","mapControl","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Marker","LocationComponent","LocationEditDialogController_1","locationPos","locationName","_map","_marker","onSetLocation","geolocation","getCurrentPosition","coords","latitude","longitude","createMarker","setCenter","changeLocation","maximumAge","enableHighAccuracy","supportSet","setMap","animation","Animation","DROP","thisMarker_1","getPosition","tid","lat","lng","Geocoder","geocode","latLng","formatted_address","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onApply","LocationDialogService","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","LocationDialogParams","LocationEditBindings","pipLocationHolder","LocationEditBindingsChanges","LocationEditController","pipLocationEditDialog","defineCoordinatesDebounced","defineCoordinates","GeocoderStatus","geometry","location_1","longtitude","onMapClick","onMapKeyPress","LocationEdit","LocationIpBindings","pipIpaddress","pipExtraInfo","LocationIpBindingsChanges","LocationIpController","$http","ipAddress","extraInfo","city","regionCode","region","regionName","zipCode","countryCode","country","countryName","LocationIp","LocationMapBindings","pipIconPath","pipInteractive","pipStretch","LocationMapBindingsChanges","LocationMapController","checkLocation","loc","determineCoordinates","stroke","points","LatLngBounds","path","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","LocationMap","files","FileFailBindings","FileFailController","FileFailChanges","fileFailComponent","FileSelectBindings","localFile","FileSelectController","onUploadButtonClick","onDeleteButtonClick","fileSelectDirective","FileStartBindings","FileStartChanges","FileStartController","fileStartDirective","FileSuccessBindings","FileSuccessController","fileSuccessDirective","FileUploadBindings","FileUploadButtons","buttonFunction","FileUploadChanges","FileUploadController","uploadButtons","failButtons","startButtons","onAbort","fileUploadDirective","./file_select/FileSelect","./file_start/FileStart","./file_success/FileSuccess","./file_upload/FileUpload","./model/FileModel","./service/FileUploadService","./service/MultiuploadResult","fileModelLink","fileModel","modelSetter","fileModelDirective","FileUploadState_1","FileUploadService","multiUpload","uploadedUrl","collections","oneFileResultCallback","oneFileProgressCallback","abortCallback","breakOnFirstError","idField","cancelQuery","file","fd","FormData","FileUploadState","Uploading","post","lengthComputable","loaded","headers","Content-Type","Access-Control-Allow-Origin","Completed","Failed","upload","resultCallback","progressCallback","./FileUploadState","MultiuploadResult","dashboard","AddTileDialog","AddTileDialogController","activeGroupIndex","widgetList","totalTiles","defaultTiles","group","groupIndex","widgets","encrease","widgetIndex","amount","decrease","widget","AddTileDialogController_1","DASHBOARD_ADD_TILE_DIALOG_TITLE","DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS","DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP","AddTileDialogService_1","AddTileDialogProvider","_widgetList","configWidgetList","MenuTileService_1","CalendarTileController","pipTileConfigDialogService","onConfigClick","dialogClass","extensionUrl","changeSize","MenuTileService","CalendarTile","DashboardTile","TileColors","TileSizes","TileConfigDialogController","sizes","sizeId","colSpan","rowSpan","updatedData","sizeX","sizeY","TileConfigExtendComponentBindings","pipExtensionUrl","pipDialogScope","pipApply","TileConfigExtendComponentChanges","TileConfigExtendComponentController","replaceWith","pipTileConfigComponent","ConfigDialogController_1","DASHBOARD_TILE_CONFIG_DIALOG_TITLE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE","DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE","TileConfigDialogService","./ConfigDialogExtendComponent","./ConfigDialogService","DROP_TO_CREATE_NEW_GROUP","pipAddTileDialogProvider","configureAvailableWidgets","DEFAULT_GRID_OPTIONS_1","draggableOptions","tileWidth","DashboardController","$interpolate","pipAddTileDialog","pipTileTemplate","defaultGroupMenuActions","addComponent","removeGroup","_includeTpl","groupMenuActions","groupedWidgets","draggableGridOptions","gridOptions","inline","groupAdditionalActions","widgetsContext","compileWidgets","removedWidgets","source","removeWidget","getTemplate","activeGroup","addWidgets","widgetGroup","Dashboard","DraggableTileService_1","TileGroupService_1","DEFAULT_TILE_WIDTH","DEFAULT_TILE_HEIGHT","UPDATE_GROUPS_EVENT","DEFAULT_OPTIONS","tileHeight","DraggableController","pipDragTile","pipTilesGrid","sourceDropZoneElem","isSameDropzone","merge","tilesTemplates","tile","tileScope","createTileScope","IDragTileConstructor","DragTileService","tpl","watch","getContainerWidth","getAvailableColumns","availableWidth","tileGroups","setAvailableColumns","availableColumns","generateGrid","getSingleTileWidthForMobile","setTilesDimensions","calcContainerHeight","$container","prevVal","changedGroupIndex","addGroup","removeGroups","groupWidgetDiff","newTiles","addTilesIntoGroup","groupsContainers","updateTilesGroups","removeTiles","updateTilesOptions","onTitleClick","editingName","oldTitle","cancelEditing","onBlurTitleInput","onKyepressTitleInput","updateTilesTemplates","updateType","toIndex","tileOptions","fromTileIndex","reIndexTiles","tilesContext","container","tiles","gIndex","child","newGroups","removeIndexes","remain","containers","sourceGroup","groupContaninerSelector","ITilesGridConstructor","TilesGridService","groupContainer","newTile","addTile","getCompiledTemplate","optionsGroup","optionGroup","updateTileOptions","initTilesGroups","onlyPosition","draggedTile","mobileBreakpoint","getActiveGroupAndTile","foundTile","getTileByNode","onDragStartListener","activeEntities","activeDraggedGroup","startDrag","onDragMoveListener","dx","dy","containerOffset","getContainerOffset","belowElement","getTileByCoordinates","getTileIndex","swapTiles","setGroupContainersHeight","onDragEndListener","stopDrag","containerRect","tileGroup","moveTile","movedTile","removeTile","getElem","onDropListener","droppedGroupIndex","droppedGroup","onDropToFictGroupListener","onDropEnterListener","dragEvent","dragEnter","classList","onDropDeactivateListener","activeDropzoneClass","onDropLeaveListener","speed","onstart","onend","dropzone","ondrop","ondragenter","ondropdeactivate","ondragleave","interact","DragComponent","../tile_group/TileGroupService","./DraggableTileService","DEFAULT_TILE_SIZE","getSize","setSize","setPosition","updateElem","preview","zIndex","after","isAnimate","onTransitionEnd","setPreviewPosition","getOptions","setOptions","EventTileController","is","drawImage","onOpacitytest","_oldOpacity","naturalWidth","naturalHeight","EventTile","../menu_tile/MenuTileService","./calendar_tile/CalendarTile","./common_tile/Tile","./config_tile_dialog","./dashboard/Dashboard","./draggable","./event_tile/EventTile","./menu_tile","./note_tile/NoteTile","./picture_slider_tile/PictureSliderTile","./position_tile/PositionTile","./statistics_tile/StatisticsTile","./tile_group/index","./utility/TileTemplateUtility","TileMenu","callAction","actionName","MenuTileProvider","../common_tile/Tile","NoteTileController","NoteTile","PictureSliderController","animationInterval","animationType","PictureSliderTile","PositionTileController","showPosition","openLocationEditDialog","reDrawPosition","hideColors","newPosition","locatioName","PositionTile","StatisticsTileController","chartSize","SMALL_CHART_1","_$timeout","setChartSize","StatisticsTile","DraggableTileLink","$elem","$attr","wrapComponent","docFrag","createDocumentFragment","pipDraggableTiles","DraggableTiles","24","gridCells","isMobileLayout","MOBILE_LAYOUT_COLUMNS","getCellByPosition","row","col","getCells","prevCell","getAvailableCellsMobile","getAvailableCellsDesktop","leftCornerCell","basicCol","basicRow","getBasicRow","gridCopy","getCell","rowShift","prevTileSize","rightCornerCell","isCellFree","cell","getCellIndex","srcCell","rowIndex","reserveCells","clearElements","singleTileWidth","newCellCount","colsInRow","rows","gridInRow","querySelector","srcTiles","generateCells","currIndex","startCell","cells","tileSize","maxHeightSize","maxWidthSize","maxBy","beforeTile","movedTileIndex","beforeTileIndex","droppedTile","./TileGroupService","tileTemplateService","_$interpolate","_$compile","_$templateRequest","strictCompile","interpolated","pipImageLoad","ImageLoad","settings","SettingsPageSelectedTab_1","SettingsPageController","pipSettings","translateInit","mediaSizeGtSm","initTabs","cleanUpSelectFunc","initSelect","cleanUpFunc","getTabs","selected","SettingsPageSelectedTab","getDefaultTab","PIP_SETTINGS","PIP_SETTINGS_DETAILS","toMainFromDetails","detailsTitle","updateState","tabIndex","tabId","onNavigationSelect","../service/SettingsPageSelectedTab","configureSettingsPageRoutes","auth","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsConfig_1","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","addTab","tabObj","validateTab","iconClass","stateConfig","SettingsStateConfig","SettingsTab","./SettingsConfig","./SettingsPageSelectedTab","./SettingsService","./SettingsStateConfig","./SettingsTab","help","HelpPageSelectedTab_1","HelpPageController","pipHelp","HelpPageSelectedTab","onDropdownSelect","configureHelpPageRoutes","./HelpPage","./HelpPageRoutes","HelpConfig","HelpService","HelpProvider","HelpConfig_1","HelpStateConfig","HelpTab","./HelpConfig","./HelpPageSelectedTab","./HelpService","./HelpStateConfig","./HelpTab"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.async = global.async || {})));\n}(this, (function (exports) { 'use strict';\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest$1(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n// Lodash rest function without function.toString()\n// remappings\nfunction rest(func, start) {\n    return overRest$1(func, start, identity);\n}\n\nvar initialParams = function (fn) {\n    return rest(function (args /*..., callback*/) {\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    });\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous funuction, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return initialParams(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if (isObject(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                callback(null, value);\n            }, function (err) {\n                callback(err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction supportsAsync() {\n    var supported;\n    try {\n        /* eslint no-eval: 0 */\n        supported = isAsync(eval('(async function () {})'));\n    } catch (e) {\n        supported = false;\n    }\n    return supported;\n}\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? asyncify(asyncFn) : asyncFn;\n}\n\nvar wrapAsync$1 = supportsAsync() ? wrapAsync : identity;\n\nfunction applyEach$1(eachfn) {\n    return rest(function (fns, args) {\n        var go = initialParams(function (args, callback) {\n            var that = this;\n            return eachfn(fns, function (fn, cb) {\n                wrapAsync$1(fn).apply(that, args.concat(cb));\n            }, callback);\n        });\n        if (args.length) {\n            return go.apply(this, args);\n        } else {\n            return go;\n        }\n    });\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol$1 = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  value = Object(value);\n  return (symToStringTag && symToStringTag in value)\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]';\nvar funcTag = '[object Function]';\nvar genTag = '[object GeneratorFunction]';\nvar proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nvar breakLoop = {};\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nvar getIterator = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$2.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]';\nvar arrayTag = '[object Array]';\nvar boolTag = '[object Boolean]';\nvar dateTag = '[object Date]';\nvar errorTag = '[object Error]';\nvar funcTag$1 = '[object Function]';\nvar mapTag = '[object Map]';\nvar numberTag = '[object Number]';\nvar objectTag = '[object Object]';\nvar regexpTag = '[object RegExp]';\nvar setTag = '[object Set]';\nvar stringTag = '[object String]';\nvar weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\nvar dataViewTag = '[object DataView]';\nvar float32Tag = '[object Float32Array]';\nvar float64Tag = '[object Float64Array]';\nvar int8Tag = '[object Int8Array]';\nvar int16Tag = '[object Int16Array]';\nvar int32Tag = '[object Int32Array]';\nvar uint8Tag = '[object Uint8Array]';\nvar uint8ClampedTag = '[object Uint8ClampedArray]';\nvar uint16Tag = '[object Uint16Array]';\nvar uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag$1] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/** Detect free variable `exports`. */\nvar freeExports$1 = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule$1 = freeExports$1 && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports$1 && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$1.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$5;\n\n  return value === proto;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$3.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? { value: coll[i], key: i } : null;\n    };\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done) return null;\n        i++;\n        return { value: item.value, key: i };\n    };\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = keys(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        return i < len ? { value: obj[key], key: key } : null;\n    };\n}\n\nfunction iterator(coll) {\n    if (isArrayLike(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = getIterator(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\n\nfunction onlyOnce(fn) {\n    return function () {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = once(callback || noop);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = iterator(obj);\n        var done = false;\n        var running = 0;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            } else if (value === breakLoop || done && running <= 0) {\n                done = true;\n                return callback(null);\n            } else {\n                replenish();\n            }\n        }\n\n        function replenish() {\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, onlyOnce(iterateeCallback));\n            }\n        }\n\n        replenish();\n    };\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n  _eachOfLimit(limit)(coll, wrapAsync$1(iteratee), callback);\n}\n\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = once(callback || noop);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if (++completed === length || value === breakLoop) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, onlyOnce(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = doLimit(eachOfLimit, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nvar eachOf = function (coll, iteratee, callback) {\n    var eachOfImplementation = isArrayLike(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, wrapAsync$1(iteratee), callback);\n};\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOf, obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || noop;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = wrapAsync$1(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nvar map = doParallel(_asyncMap);\n\n/**\n * Applies the provided arguments to each function in the array, calling\n * `callback` after all functions have completed. If you only provide the first\n * argument, `fns`, then it will return a function which lets you pass in the\n * arguments as if it were a single function call. If more arguments are\n * provided, `callback` is required while `args` is still optional.\n *\n * @name applyEach\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s\n * to all call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument, `fns`, is provided, it will\n * return a function which lets you pass in the arguments as if it were a single\n * function call. The signature is `(..args, callback)`. If invoked with any\n * arguments, `callback` is required.\n * @example\n *\n * async.applyEach([enableSearch, updateSchema], 'bucket', callback);\n *\n * // partial application example:\n * async.each(\n *     buckets,\n *     async.applyEach([enableSearch, updateSchema]),\n *     callback\n * );\n */\nvar applyEach = applyEach$1(map);\n\nfunction doParallelLimit(fn) {\n    return function (obj, limit, iteratee, callback) {\n        return fn(_eachOfLimit(limit), obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs a maximum of `limit` async operations at a time.\n *\n * @name mapLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapLimit = doParallelLimit(_asyncMap);\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs only a single async operation at a time.\n *\n * @name mapSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapSeries = doLimit(mapLimit, 1);\n\n/**\n * The same as [`applyEach`]{@link module:ControlFlow.applyEach} but runs only a single async operation at a time.\n *\n * @name applyEachSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.applyEach]{@link module:ControlFlow.applyEach}\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s to all\n * call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument is provided, it will return\n * a function which lets you pass in the arguments as if it were a single\n * function call.\n */\nvar applyEachSeries = applyEach$1(mapSeries);\n\n/**\n * Creates a continuation function with some arguments already applied.\n *\n * Useful as a shorthand when combined with other control flow functions. Any\n * arguments passed to the returned function are added to the arguments\n * originally passed to apply.\n *\n * @name apply\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {Function} function - The function you want to eventually apply all\n * arguments to. Invokes with (arguments...).\n * @param {...*} arguments... - Any number of arguments to automatically apply\n * when the continuation is called.\n * @example\n *\n * // using apply\n * async.parallel([\n *     async.apply(fs.writeFile, 'testfile1', 'test1'),\n *     async.apply(fs.writeFile, 'testfile2', 'test2')\n * ]);\n *\n *\n * // the same process without using apply\n * async.parallel([\n *     function(callback) {\n *         fs.writeFile('testfile1', 'test1', callback);\n *     },\n *     function(callback) {\n *         fs.writeFile('testfile2', 'test2', callback);\n *     }\n * ]);\n *\n * // It's possible to pass any number of additional arguments when calling the\n * // continuation:\n *\n * node> var fn = async.apply(sys.puts, 'one');\n * node> fn('two', 'three');\n * one\n * two\n * three\n */\nvar apply$2 = rest(function (fn, args) {\n    return rest(function (callArgs) {\n        return fn.apply(null, args.concat(callArgs));\n    });\n});\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\n/**\n * Determines the best order for running the {@link AsyncFunction}s in `tasks`, based on\n * their requirements. Each function can optionally depend on other functions\n * being completed first, and each function is run as soon as its requirements\n * are satisfied.\n *\n * If any of the {@link AsyncFunction}s pass an error to their callback, the `auto` sequence\n * will stop. Further tasks will not execute (so any other functions depending\n * on it will not run), and the main `callback` is immediately called with the\n * error.\n *\n * {@link AsyncFunction}s also receive an object containing the results of functions which\n * have completed so far as the first argument, if they have dependencies. If a\n * task function has no dependencies, it will only be passed a callback.\n *\n * @name auto\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Object} tasks - An object. Each of its properties is either a\n * function or an array of requirements, with the {@link AsyncFunction} itself the last item\n * in the array. The object's key of a property serves as the name of the task\n * defined by that property, i.e. can be used when specifying requirements for\n * other tasks. The function receives one or two arguments:\n * * a `results` object, containing the results of the previously executed\n *   functions, only passed if the task has any dependencies,\n * * a `callback(err, result)` function, which must be called when finished,\n *   passing an `error` (which can be `null`) and the result of the function's\n *   execution.\n * @param {number} [concurrency=Infinity] - An optional `integer` for\n * determining the maximum number of tasks that can be run in parallel. By\n * default, as many as possible.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback. Results are always returned; however, if an\n * error occurs, no further `tasks` will be performed, and the results object\n * will only contain partial results. Invoked with (err, results).\n * @returns undefined\n * @example\n *\n * async.auto({\n *     // this function will just be passed a callback\n *     readData: async.apply(fs.readFile, 'data.txt', 'utf-8'),\n *     showData: ['readData', function(results, cb) {\n *         // results.readData is the file's contents\n *         // ...\n *     }]\n * }, callback);\n *\n * async.auto({\n *     get_data: function(callback) {\n *         console.log('in get_data');\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         console.log('in make_folder');\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: ['get_data', 'make_folder', function(results, callback) {\n *         console.log('in write_file', JSON.stringify(results));\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(results, callback) {\n *         console.log('in email_link', JSON.stringify(results));\n *         // once the file is written let's email a link to it...\n *         // results.write_file contains the filename returned by write_file.\n *         callback(null, {'file':results.write_file, 'email':'user@example.com'});\n *     }]\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('results = ', results);\n * });\n */\nvar auto = function (tasks, concurrency, callback) {\n    if (typeof concurrency === 'function') {\n        // concurrency is optional, shift the args.\n        callback = concurrency;\n        concurrency = null;\n    }\n    callback = once(callback || noop);\n    var keys$$1 = keys(tasks);\n    var numTasks = keys$$1.length;\n    if (!numTasks) {\n        return callback(null);\n    }\n    if (!concurrency) {\n        concurrency = numTasks;\n    }\n\n    var results = {};\n    var runningTasks = 0;\n    var hasError = false;\n\n    var listeners = Object.create(null);\n\n    var readyTasks = [];\n\n    // for cycle detection:\n    var readyToCheck = []; // tasks that have been identified as reachable\n    // without the possibility of returning to an ancestor task\n    var uncheckedDependencies = {};\n\n    baseForOwn(tasks, function (task, key) {\n        if (!isArray(task)) {\n            // no dependencies\n            enqueueTask(key, [task]);\n            readyToCheck.push(key);\n            return;\n        }\n\n        var dependencies = task.slice(0, task.length - 1);\n        var remainingDependencies = dependencies.length;\n        if (remainingDependencies === 0) {\n            enqueueTask(key, task);\n            readyToCheck.push(key);\n            return;\n        }\n        uncheckedDependencies[key] = remainingDependencies;\n\n        arrayEach(dependencies, function (dependencyName) {\n            if (!tasks[dependencyName]) {\n                throw new Error('async.auto task `' + key + '` has a non-existent dependency `' + dependencyName + '` in ' + dependencies.join(', '));\n            }\n            addListener(dependencyName, function () {\n                remainingDependencies--;\n                if (remainingDependencies === 0) {\n                    enqueueTask(key, task);\n                }\n            });\n        });\n    });\n\n    checkForDeadlocks();\n    processQueue();\n\n    function enqueueTask(key, task) {\n        readyTasks.push(function () {\n            runTask(key, task);\n        });\n    }\n\n    function processQueue() {\n        if (readyTasks.length === 0 && runningTasks === 0) {\n            return callback(null, results);\n        }\n        while (readyTasks.length && runningTasks < concurrency) {\n            var run = readyTasks.shift();\n            run();\n        }\n    }\n\n    function addListener(taskName, fn) {\n        var taskListeners = listeners[taskName];\n        if (!taskListeners) {\n            taskListeners = listeners[taskName] = [];\n        }\n\n        taskListeners.push(fn);\n    }\n\n    function taskComplete(taskName) {\n        var taskListeners = listeners[taskName] || [];\n        arrayEach(taskListeners, function (fn) {\n            fn();\n        });\n        processQueue();\n    }\n\n    function runTask(key, task) {\n        if (hasError) return;\n\n        var taskCallback = onlyOnce(rest(function (err, args) {\n            runningTasks--;\n            if (args.length <= 1) {\n                args = args[0];\n            }\n            if (err) {\n                var safeResults = {};\n                baseForOwn(results, function (val, rkey) {\n                    safeResults[rkey] = val;\n                });\n                safeResults[key] = args;\n                hasError = true;\n                listeners = Object.create(null);\n\n                callback(err, safeResults);\n            } else {\n                results[key] = args;\n                taskComplete(key);\n            }\n        }));\n\n        runningTasks++;\n        var taskFn = wrapAsync$1(task[task.length - 1]);\n        if (task.length > 1) {\n            taskFn(results, taskCallback);\n        } else {\n            taskFn(taskCallback);\n        }\n    }\n\n    function checkForDeadlocks() {\n        // Kahn's algorithm\n        // https://en.wikipedia.org/wiki/Topological_sorting#Kahn.27s_algorithm\n        // http://connalle.blogspot.com/2013/10/topological-sortingkahn-algorithm.html\n        var currentTask;\n        var counter = 0;\n        while (readyToCheck.length) {\n            currentTask = readyToCheck.pop();\n            counter++;\n            arrayEach(getDependents(currentTask), function (dependent) {\n                if (--uncheckedDependencies[dependent] === 0) {\n                    readyToCheck.push(dependent);\n                }\n            });\n        }\n\n        if (counter !== numTasks) {\n            throw new Error('async.auto cannot execute tasks due to a recursive dependency');\n        }\n    }\n\n    function getDependents(taskName) {\n        var result = [];\n        baseForOwn(tasks, function (task, key) {\n            if (isArray(task) && baseIndexOf(task, taskName, 0) >= 0) {\n                result.push(key);\n            }\n        });\n        return result;\n    }\n};\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : undefined;\nvar symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange$1 = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange$1 = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange$1 = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange$1 = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange$1 + ']';\nvar rsCombo = '[' + rsComboMarksRange$1 + rsComboSymbolsRange$1 + ']';\nvar rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\nvar rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')';\nvar rsNonAstral = '[^' + rsAstralRange$1 + ']';\nvar rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\nvar rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\nvar rsZWJ$1 = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?';\nvar rsOptVar = '[' + rsVarRange$1 + ']?';\nvar rsOptJoin = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*';\nvar rsSeq = rsOptVar + reOptMod + rsOptJoin;\nvar rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nvar FN_ARGS = /^(?:async\\s+)?(function)?\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\nvar FN_ARG_SPLIT = /,/;\nvar FN_ARG = /(=.+)?(\\s*)$/;\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\nfunction parseParams(func) {\n    func = func.toString().replace(STRIP_COMMENTS, '');\n    func = func.match(FN_ARGS)[2].replace(' ', '');\n    func = func ? func.split(FN_ARG_SPLIT) : [];\n    func = func.map(function (arg) {\n        return trim(arg.replace(FN_ARG, ''));\n    });\n    return func;\n}\n\n/**\n * A dependency-injected version of the [async.auto]{@link module:ControlFlow.auto} function. Dependent\n * tasks are specified as parameters to the function, after the usual callback\n * parameter, with the parameter names matching the names of the tasks it\n * depends on. This can provide even more readable task graphs which can be\n * easier to maintain.\n *\n * If a final callback is specified, the task results are similarly injected,\n * specified as named parameters after the initial error parameter.\n *\n * The autoInject function is purely syntactic sugar and its semantics are\n * otherwise equivalent to [async.auto]{@link module:ControlFlow.auto}.\n *\n * @name autoInject\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.auto]{@link module:ControlFlow.auto}\n * @category Control Flow\n * @param {Object} tasks - An object, each of whose properties is an {@link AsyncFunction} of\n * the form 'func([dependencies...], callback). The object's key of a property\n * serves as the name of the task defined by that property, i.e. can be used\n * when specifying requirements for other tasks.\n * * The `callback` parameter is a `callback(err, result)` which must be called\n *   when finished, passing an `error` (which can be `null`) and the result of\n *   the function's execution. The remaining parameters name other tasks on\n *   which the task is dependent, and the results from those tasks are the\n *   arguments of those parameters.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback, and a `results` object with any completed\n * task results, similar to `auto`.\n * @example\n *\n * //  The example from `auto` can be rewritten as follows:\n * async.autoInject({\n *     get_data: function(callback) {\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: function(get_data, make_folder, callback) {\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     },\n *     email_link: function(write_file, callback) {\n *         // once the file is written let's email a link to it...\n *         // write_file contains the filename returned by write_file.\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n *\n * // If you are using a JS minifier that mangles parameter names, `autoInject`\n * // will not work with plain functions, since the parameter names will be\n * // collapsed to a single letter identifier.  To work around this, you can\n * // explicitly specify the names of the parameters your task function needs\n * // in an array, similar to Angular.js dependency injection.\n *\n * // This still has an advantage over plain `auto`, since the results a task\n * // depends on are still spread into arguments.\n * async.autoInject({\n *     //...\n *     write_file: ['get_data', 'make_folder', function(get_data, make_folder, callback) {\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(write_file, callback) {\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }]\n *     //...\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n */\nfunction autoInject(tasks, callback) {\n    var newTasks = {};\n\n    baseForOwn(tasks, function (taskFn, key) {\n        var params;\n        var fnIsAsync = isAsync(taskFn);\n        var hasNoDeps = !fnIsAsync && taskFn.length === 1 || fnIsAsync && taskFn.length === 0;\n\n        if (isArray(taskFn)) {\n            params = taskFn.slice(0, -1);\n            taskFn = taskFn[taskFn.length - 1];\n\n            newTasks[key] = params.concat(params.length > 0 ? newTask : taskFn);\n        } else if (hasNoDeps) {\n            // no dependencies, use the function as-is\n            newTasks[key] = taskFn;\n        } else {\n            params = parseParams(taskFn);\n            if (taskFn.length === 0 && !fnIsAsync && params.length === 0) {\n                throw new Error(\"autoInject task functions require explicit parameters.\");\n            }\n\n            // remove callback param\n            if (!fnIsAsync) params.pop();\n\n            newTasks[key] = params.concat(newTask);\n        }\n\n        function newTask(results, taskCb) {\n            var newArgs = arrayMap(params, function (name) {\n                return results[name];\n            });\n            newArgs.push(taskCb);\n            wrapAsync$1(taskFn).apply(null, newArgs);\n        }\n    });\n\n    auto(newTasks, callback);\n}\n\nvar hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return rest(function (fn, args) {\n        defer(function () {\n            fn.apply(null, args);\n        });\n    });\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nvar setImmediate$1 = wrap(_defer);\n\n// Simple doubly linked list (https://en.wikipedia.org/wiki/Doubly_linked_list) implementation\n// used for queues. This implementation assumes that the node provided by the user can be modified\n// to adjust the next and last properties. We implement only the minimal functionality\n// for queue support.\nfunction DLL() {\n    this.head = this.tail = null;\n    this.length = 0;\n}\n\nfunction setInitial(dll, node) {\n    dll.length = 1;\n    dll.head = dll.tail = node;\n}\n\nDLL.prototype.removeLink = function (node) {\n    if (node.prev) node.prev.next = node.next;else this.head = node.next;\n    if (node.next) node.next.prev = node.prev;else this.tail = node.prev;\n\n    node.prev = node.next = null;\n    this.length -= 1;\n    return node;\n};\n\nDLL.prototype.empty = DLL;\n\nDLL.prototype.insertAfter = function (node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next) node.next.prev = newNode;else this.tail = newNode;\n    node.next = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.insertBefore = function (node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev) node.prev.next = newNode;else this.head = newNode;\n    node.prev = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.unshift = function (node) {\n    if (this.head) this.insertBefore(this.head, node);else setInitial(this, node);\n};\n\nDLL.prototype.push = function (node) {\n    if (this.tail) this.insertAfter(this.tail, node);else setInitial(this, node);\n};\n\nDLL.prototype.shift = function () {\n    return this.head && this.removeLink(this.head);\n};\n\nDLL.prototype.pop = function () {\n    return this.tail && this.removeLink(this.tail);\n};\n\nfunction queue(worker, concurrency, payload) {\n    if (concurrency == null) {\n        concurrency = 1;\n    } else if (concurrency === 0) {\n        throw new Error('Concurrency must not be zero');\n    }\n\n    var _worker = wrapAsync$1(worker);\n    var numRunning = 0;\n    var workersList = [];\n\n    function _insert(data, insertAtFront, callback) {\n        if (callback != null && typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0 && q.idle()) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function () {\n                q.drain();\n            });\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                callback: callback || noop\n            };\n\n            if (insertAtFront) {\n                q._tasks.unshift(item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    }\n\n    function _next(tasks) {\n        return rest(function (args) {\n            numRunning -= 1;\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                var task = tasks[i];\n                var index = baseIndexOf(workersList, task, 0);\n                if (index >= 0) {\n                    workersList.splice(index);\n                }\n\n                task.callback.apply(task, args);\n\n                if (args[0] != null) {\n                    q.error(args[0], task.data);\n                }\n            }\n\n            if (numRunning <= q.concurrency - q.buffer) {\n                q.unsaturated();\n            }\n\n            if (q.idle()) {\n                q.drain();\n            }\n            q.process();\n        });\n    }\n\n    var isProcessing = false;\n    var q = {\n        _tasks: new DLL(),\n        concurrency: concurrency,\n        payload: payload,\n        saturated: noop,\n        unsaturated: noop,\n        buffer: concurrency / 4,\n        empty: noop,\n        drain: noop,\n        error: noop,\n        started: false,\n        paused: false,\n        push: function (data, callback) {\n            _insert(data, false, callback);\n        },\n        kill: function () {\n            q.drain = noop;\n            q._tasks.empty();\n        },\n        unshift: function (data, callback) {\n            _insert(data, true, callback);\n        },\n        process: function () {\n            // Avoid trying to start too many processing operations. This can occur\n            // when callbacks resolve synchronously (#1267).\n            if (isProcessing) {\n                return;\n            }\n            isProcessing = true;\n            while (!q.paused && numRunning < q.concurrency && q._tasks.length) {\n                var tasks = [],\n                    data = [];\n                var l = q._tasks.length;\n                if (q.payload) l = Math.min(l, q.payload);\n                for (var i = 0; i < l; i++) {\n                    var node = q._tasks.shift();\n                    tasks.push(node);\n                    data.push(node.data);\n                }\n\n                if (q._tasks.length === 0) {\n                    q.empty();\n                }\n                numRunning += 1;\n                workersList.push(tasks[0]);\n\n                if (numRunning === q.concurrency) {\n                    q.saturated();\n                }\n\n                var cb = onlyOnce(_next(tasks));\n                _worker(data, cb);\n            }\n            isProcessing = false;\n        },\n        length: function () {\n            return q._tasks.length;\n        },\n        running: function () {\n            return numRunning;\n        },\n        workersList: function () {\n            return workersList;\n        },\n        idle: function () {\n            return q._tasks.length + numRunning === 0;\n        },\n        pause: function () {\n            q.paused = true;\n        },\n        resume: function () {\n            if (q.paused === false) {\n                return;\n            }\n            q.paused = false;\n            setImmediate$1(q.process);\n        }\n    };\n    return q;\n}\n\n/**\n * A cargo of tasks for the worker function to complete. Cargo inherits all of\n * the same methods and event callbacks as [`queue`]{@link module:ControlFlow.queue}.\n * @typedef {Object} CargoObject\n * @memberOf module:ControlFlow\n * @property {Function} length - A function returning the number of items\n * waiting to be processed. Invoke like `cargo.length()`.\n * @property {number} payload - An `integer` for determining how many tasks\n * should be process per round. This property can be changed after a `cargo` is\n * created to alter the payload on-the-fly.\n * @property {Function} push - Adds `task` to the `queue`. The callback is\n * called once the `worker` has finished processing the task. Instead of a\n * single task, an array of `tasks` can be submitted. The respective callback is\n * used for every task in the list. Invoke like `cargo.push(task, [callback])`.\n * @property {Function} saturated - A callback that is called when the\n * `queue.length()` hits the concurrency and further tasks will be queued.\n * @property {Function} empty - A callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - A callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke like `cargo.idle()`.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke like `cargo.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke like `cargo.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke like `cargo.kill()`.\n */\n\n/**\n * Creates a `cargo` object with the specified payload. Tasks added to the\n * cargo will be processed altogether (up to the `payload` limit). If the\n * `worker` is in progress, the task is queued until it becomes available. Once\n * the `worker` has completed some tasks, each callback of those tasks is\n * called. Check out [these](https://camo.githubusercontent.com/6bbd36f4cf5b35a0f11a96dcd2e97711ffc2fb37/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130382f62626330636662302d356632392d313165322d393734662d3333393763363464633835382e676966) [animations](https://camo.githubusercontent.com/f4810e00e1c5f5f8addbe3e9f49064fd5d102699/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130312f38346339323036362d356632392d313165322d383134662d3964336430323431336266642e676966)\n * for how `cargo` and `queue` work.\n *\n * While [`queue`]{@link module:ControlFlow.queue} passes only one task to one of a group of workers\n * at a time, cargo passes an array of tasks to a single worker, repeating\n * when the worker is finished.\n *\n * @name cargo\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An asynchronous function for processing an array\n * of queued tasks. Invoked with `(tasks, callback)`.\n * @param {number} [payload=Infinity] - An optional `integer` for determining\n * how many tasks should be processed per round; if omitted, the default is\n * unlimited.\n * @returns {module:ControlFlow.CargoObject} A cargo object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the cargo and inner queue.\n * @example\n *\n * // create a cargo object with payload 2\n * var cargo = async.cargo(function(tasks, callback) {\n *     for (var i=0; i<tasks.length; i++) {\n *         console.log('hello ' + tasks[i].name);\n *     }\n *     callback();\n * }, 2);\n *\n * // add some items\n * cargo.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * cargo.push({name: 'bar'}, function(err) {\n *     console.log('finished processing bar');\n * });\n * cargo.push({name: 'baz'}, function(err) {\n *     console.log('finished processing baz');\n * });\n */\nfunction cargo(worker, payload) {\n  return queue(worker, 1, payload);\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs only a single async operation at a time.\n *\n * @name eachOfSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachOfSeries = doLimit(eachOfLimit, 1);\n\n/**\n * Reduces `coll` into a single value using an async `iteratee` to return each\n * successive step. `memo` is the initial state of the reduction. This function\n * only operates in series.\n *\n * For performance reasons, it may make sense to split a call to this function\n * into a parallel map, and then use the normal `Array.prototype.reduce` on the\n * results. This function is for situations where each step in the reduction\n * needs to be async; if you can get the data before reducing it, then it's\n * probably a good idea to do so.\n *\n * @name reduce\n * @static\n * @memberOf module:Collections\n * @method\n * @alias inject\n * @alias foldl\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n * @example\n *\n * async.reduce([1,2,3], 0, function(memo, item, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         callback(null, memo + item)\n *     });\n * }, function(err, result) {\n *     // result is now equal to the last value of memo, which is 6\n * });\n */\nfunction reduce(coll, memo, iteratee, callback) {\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    eachOfSeries(coll, function (x, i, callback) {\n        _iteratee(memo, x, function (err, v) {\n            memo = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, memo);\n    });\n}\n\n/**\n * Version of the compose function that is more natural to read. Each function\n * consumes the return value of the previous function. It is the equivalent of\n * [compose]{@link module:ControlFlow.compose} with the arguments reversed.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name seq\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.compose]{@link module:ControlFlow.compose}\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} a function that composes the `functions` in order\n * @example\n *\n * // Requires lodash (or underscore), express3 and dresende's orm2.\n * // Part of an app, that fetches cats of the logged user.\n * // This example uses `seq` function to avoid overnesting and error\n * // handling clutter.\n * app.get('/cats', function(request, response) {\n *     var User = request.models.User;\n *     async.seq(\n *         _.bind(User.get, User),  // 'User.get' has signature (id, callback(err, data))\n *         function(user, fn) {\n *             user.getCats(fn);      // 'getCats' has signature (callback(err, data))\n *         }\n *     )(req.session.user_id, function (err, cats) {\n *         if (err) {\n *             console.error(err);\n *             response.json({ status: 'error', message: err.message });\n *         } else {\n *             response.json({ status: 'ok', message: 'Cats found', data: cats });\n *         }\n *     });\n * });\n */\nvar seq$1 = rest(function seq(functions) {\n    var _functions = arrayMap(functions, wrapAsync$1);\n    return rest(function (args) {\n        var that = this;\n\n        var cb = args[args.length - 1];\n        if (typeof cb == 'function') {\n            args.pop();\n        } else {\n            cb = noop;\n        }\n\n        reduce(_functions, args, function (newargs, fn, cb) {\n            fn.apply(that, newargs.concat(rest(function (err, nextargs) {\n                cb(err, nextargs);\n            })));\n        }, function (err, results) {\n            cb.apply(that, [err].concat(results));\n        });\n    });\n});\n\n/**\n * Creates a function which is a composition of the passed asynchronous\n * functions. Each function consumes the return value of the function that\n * follows. Composing functions `f()`, `g()`, and `h()` would produce the result\n * of `f(g(h()))`, only this version uses callbacks to obtain the return values.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name compose\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} an asynchronous function that is the composed\n * asynchronous `functions`\n * @example\n *\n * function add1(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n + 1);\n *     }, 10);\n * }\n *\n * function mul3(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n * 3);\n *     }, 10);\n * }\n *\n * var add1mul3 = async.compose(mul3, add1);\n * add1mul3(4, function (err, result) {\n *     // result now equals 15\n * });\n */\nvar compose = rest(function (args) {\n  return seq$1.apply(null, args.reverse());\n});\n\nfunction concat$1(eachfn, arr, fn, callback) {\n    var result = [];\n    eachfn(arr, function (x, index, cb) {\n        fn(x, function (err, y) {\n            result = result.concat(y || []);\n            cb(err);\n        });\n    }, function (err) {\n        callback(err, result);\n    });\n}\n\n/**\n * Applies `iteratee` to each item in `coll`, concatenating the results. Returns\n * the concatenated list. The `iteratee`s are called in parallel, and the\n * results are concatenated as they return. There is no guarantee that the\n * results array will be returned in the original order of `coll` passed to the\n * `iteratee` function.\n *\n * @name concat\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`,\n * which should use an array as its result. Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n * @example\n *\n * async.concat(['dir1','dir2','dir3'], fs.readdir, function(err, files) {\n *     // files is now a list of filenames that exist in the 3 directories\n * });\n */\nvar concat = doParallel(concat$1);\n\nfunction doSeries(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOfSeries, obj, wrapAsync$1(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`concat`]{@link module:Collections.concat} but runs only a single async operation at a time.\n *\n * @name concatSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.concat]{@link module:Collections.concat}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`.\n * The iteratee should complete with an array an array of results.\n * Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n */\nvar concatSeries = doSeries(concat$1);\n\n/**\n * Returns a function that when called, calls-back with the values provided.\n * Useful as the first function in a [`waterfall`]{@link module:ControlFlow.waterfall}, or for plugging values in to\n * [`auto`]{@link module:ControlFlow.auto}.\n *\n * @name constant\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {...*} arguments... - Any number of arguments to automatically invoke\n * callback with.\n * @returns {AsyncFunction} Returns a function that when invoked, automatically\n * invokes the callback with the previous given arguments.\n * @example\n *\n * async.waterfall([\n *     async.constant(42),\n *     function (value, next) {\n *         // value === 42\n *     },\n *     //...\n * ], callback);\n *\n * async.waterfall([\n *     async.constant(filename, \"utf8\"),\n *     fs.readFile,\n *     function (fileData, next) {\n *         //...\n *     }\n *     //...\n * ], callback);\n *\n * async.auto({\n *     hostname: async.constant(\"https://server.net/\"),\n *     port: findFreePort,\n *     launchServer: [\"hostname\", \"port\", function (options, cb) {\n *         startServer(options, cb);\n *     }],\n *     //...\n * }, callback);\n */\nvar constant = rest(function (values) {\n    var args = [null].concat(values);\n    return initialParams(function (ignoredArgs, callback) {\n        return callback.apply(this, args);\n    });\n});\n\nfunction _createTester(check, getResult) {\n    return function (eachfn, arr, iteratee, cb) {\n        cb = cb || noop;\n        var testPassed = false;\n        var testResult;\n        eachfn(arr, function (value, _, callback) {\n            iteratee(value, function (err, result) {\n                if (err) {\n                    callback(err);\n                } else if (check(result) && !testResult) {\n                    testPassed = true;\n                    testResult = getResult(true, value);\n                    callback(null, breakLoop);\n                } else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            if (err) {\n                cb(err);\n            } else {\n                cb(null, testPassed ? testResult : getResult(false));\n            }\n        });\n    };\n}\n\nfunction _findGetResult(v, x) {\n    return x;\n}\n\n/**\n * Returns the first value in `coll` that passes an async truth test. The\n * `iteratee` is applied in parallel, meaning the first iteratee to return\n * `true` will fire the detect `callback` with that result. That means the\n * result might not be the first item in the original `coll` (in terms of order)\n * that passes the test.\n\n * If order within the original `coll` is important, then look at\n * [`detectSeries`]{@link module:Collections.detectSeries}.\n *\n * @name detect\n * @static\n * @memberOf module:Collections\n * @method\n * @alias find\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n * @example\n *\n * async.detect(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // result now equals the first file in the list that exists\n * });\n */\nvar detect = doParallel(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name detectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findLimit\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectLimit = doParallelLimit(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs only a single async operation at a time.\n *\n * @name detectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findSeries\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectSeries = doLimit(detectLimit, 1);\n\nfunction consoleFunc(name) {\n    return rest(function (fn, args) {\n        wrapAsync$1(fn).apply(null, args.concat(rest(function (err, args) {\n            if (typeof console === 'object') {\n                if (err) {\n                    if (console.error) {\n                        console.error(err);\n                    }\n                } else if (console[name]) {\n                    arrayEach(args, function (x) {\n                        console[name](x);\n                    });\n                }\n            }\n        })));\n    });\n}\n\n/**\n * Logs the result of an [`async` function]{@link AsyncFunction} to the\n * `console` using `console.dir` to display the properties of the resulting object.\n * Only works in Node.js or in browsers that support `console.dir` and\n * `console.error` (such as FF and Chrome).\n * If multiple arguments are returned from the async function,\n * `console.dir` is called on each argument in order.\n *\n * @name dir\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, {hello: name});\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.dir(hello, 'world');\n * {hello: 'world'}\n */\nvar dir = consoleFunc('dir');\n\n/**\n * The post-check version of [`during`]{@link module:ControlFlow.during}. To reflect the difference in\n * the order of operations, the arguments `test` and `fn` are switched.\n *\n * Also a version of [`doWhilst`]{@link module:ControlFlow.doWhilst} with asynchronous `test` function.\n * @name doDuring\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.during]{@link module:ControlFlow.during}\n * @category Control Flow\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (...args, callback), where `...args` are the\n * non-error args from the previous callback of `fn`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error if one occurred, otherwise `null`.\n */\nfunction doDuring(fn, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync$1(fn);\n    var _test = wrapAsync$1(test);\n\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        args.push(check);\n        _test.apply(this, args);\n    });\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    check(null, true);\n}\n\n/**\n * The post-check version of [`whilst`]{@link module:ControlFlow.whilst}. To reflect the difference in\n * the order of operations, the arguments `test` and `iteratee` are switched.\n *\n * `doWhilst` is to `whilst` as `do while` is to `while` in plain JavaScript.\n *\n * @name doWhilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - A function which is called each time `test`\n * passes. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped.\n * `callback` will be passed an error and any arguments passed to the final\n * `iteratee`'s callback. Invoked with (err, [results]);\n */\nfunction doWhilst(iteratee, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        if (test.apply(this, args)) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    });\n    _iteratee(next);\n}\n\n/**\n * Like ['doWhilst']{@link module:ControlFlow.doWhilst}, except the `test` is inverted. Note the\n * argument ordering differs from `until`.\n *\n * @name doUntil\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.doWhilst]{@link module:ControlFlow.doWhilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction doUntil(iteratee, test, callback) {\n    doWhilst(iteratee, function () {\n        return !test.apply(this, arguments);\n    }, callback);\n}\n\n/**\n * Like [`whilst`]{@link module:ControlFlow.whilst}, except the `test` is an asynchronous function that\n * is passed a callback in the form of `function (err, truth)`. If error is\n * passed to `test` or `fn`, the main callback is immediately called with the\n * value of the error.\n *\n * @name during\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (callback).\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error, if one occurred, otherwise `null`.\n * @example\n *\n * var count = 0;\n *\n * async.during(\n *     function (callback) {\n *         return callback(null, count < 5);\n *     },\n *     function (callback) {\n *         count++;\n *         setTimeout(callback, 1000);\n *     },\n *     function (err) {\n *         // 5 seconds have passed\n *     }\n * );\n */\nfunction during(test, fn, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync$1(fn);\n    var _test = wrapAsync$1(test);\n\n    function next(err) {\n        if (err) return callback(err);\n        _test(check);\n    }\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    _test(check);\n}\n\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\n\n/**\n * Applies the function `iteratee` to each item in `coll`, in parallel.\n * The `iteratee` is called with an item from the list, and a callback for when\n * it has finished. If the `iteratee` passes an error to its `callback`, the\n * main `callback` (for the `each` function) is immediately called with the\n * error.\n *\n * Note, that since this function applies `iteratee` to each item in parallel,\n * there is no guarantee that the iteratee functions will complete in order.\n *\n * @name each\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEach\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to\n * each item in `coll`. Invoked with (item, callback).\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOf`.\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * // assuming openFiles is an array of file names and saveFile is a function\n * // to save the modified contents of that file:\n *\n * async.each(openFiles, saveFile, function(err){\n *   // if any of the saves produced an error, err would equal that error\n * });\n *\n * // assuming openFiles is an array of file names\n * async.each(openFiles, function(file, callback) {\n *\n *     // Perform operation on file here.\n *     console.log('Processing file ' + file);\n *\n *     if( file.length > 32 ) {\n *       console.log('This file name is too long');\n *       callback('File name too long');\n *     } else {\n *       // Do work to process file here\n *       console.log('File processed');\n *       callback();\n *     }\n * }, function(err) {\n *     // if any of the file processing produced an error, err would equal that error\n *     if( err ) {\n *       // One of the iterations produced an error.\n *       // All processing will now stop.\n *       console.log('A file failed to process');\n *     } else {\n *       console.log('All files have been processed successfully');\n *     }\n * });\n */\nfunction eachLimit(coll, iteratee, callback) {\n  eachOf(coll, _withoutIndex(wrapAsync$1(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit$1(coll, limit, iteratee, callback) {\n  _eachOfLimit(limit)(coll, _withoutIndex(wrapAsync$1(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachSeries = doLimit(eachLimit$1, 1);\n\n/**\n * Wrap an async function and ensure it calls its callback on a later tick of\n * the event loop.  If the function already calls its callback on a next tick,\n * no extra deferral is added. This is useful for preventing stack overflows\n * (`RangeError: Maximum call stack size exceeded`) and generally keeping\n * [Zalgo](http://blog.izs.me/post/59142742143/designing-apis-for-asynchrony)\n * contained. ES2017 `async` functions are returned as-is -- they are immune\n * to Zalgo's corrupting influences, as they always resolve on a later tick.\n *\n * @name ensureAsync\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - an async function, one that expects a node-style\n * callback as its last argument.\n * @returns {AsyncFunction} Returns a wrapped function with the exact same call\n * signature as the function passed in.\n * @example\n *\n * function sometimesAsync(arg, callback) {\n *     if (cache[arg]) {\n *         return callback(null, cache[arg]); // this would be synchronous!!\n *     } else {\n *         doSomeIO(arg, callback); // this IO would be asynchronous\n *     }\n * }\n *\n * // this has a risk of stack overflows if many results are cached in a row\n * async.mapSeries(args, sometimesAsync, done);\n *\n * // this will defer sometimesAsync's callback if necessary,\n * // preventing stack overflows\n * async.mapSeries(args, async.ensureAsync(sometimesAsync), done);\n */\nfunction ensureAsync(fn) {\n    if (isAsync(fn)) return fn;\n    return initialParams(function (args, callback) {\n        var sync = true;\n        args.push(function () {\n            var innerArgs = arguments;\n            if (sync) {\n                setImmediate$1(function () {\n                    callback.apply(null, innerArgs);\n                });\n            } else {\n                callback.apply(null, innerArgs);\n            }\n        });\n        fn.apply(this, args);\n        sync = false;\n    });\n}\n\nfunction notId(v) {\n    return !v;\n}\n\n/**\n * Returns `true` if every element in `coll` satisfies an async test. If any\n * iteratee call returns `false`, the main `callback` is immediately called.\n *\n * @name every\n * @static\n * @memberOf module:Collections\n * @method\n * @alias all\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n * @example\n *\n * async.every(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then every file exists\n * });\n */\nvar every = doParallel(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs a maximum of `limit` async operations at a time.\n *\n * @name everyLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everyLimit = doParallelLimit(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs only a single async operation at a time.\n *\n * @name everySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in series.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everySeries = doLimit(everyLimit, 1);\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nfunction filterArray(eachfn, arr, iteratee, callback) {\n    var truthValues = new Array(arr.length);\n    eachfn(arr, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            truthValues[index] = !!v;\n            callback(err);\n        });\n    }, function (err) {\n        if (err) return callback(err);\n        var results = [];\n        for (var i = 0; i < arr.length; i++) {\n            if (truthValues[i]) results.push(arr[i]);\n        }\n        callback(null, results);\n    });\n}\n\nfunction filterGeneric(eachfn, coll, iteratee, callback) {\n    var results = [];\n    eachfn(coll, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            if (err) {\n                callback(err);\n            } else {\n                if (v) {\n                    results.push({ index: index, value: x });\n                }\n                callback();\n            }\n        });\n    }, function (err) {\n        if (err) {\n            callback(err);\n        } else {\n            callback(null, arrayMap(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), baseProperty('value')));\n        }\n    });\n}\n\nfunction _filter(eachfn, coll, iteratee, callback) {\n    var filter = isArrayLike(coll) ? filterArray : filterGeneric;\n    filter(eachfn, coll, wrapAsync$1(iteratee), callback || noop);\n}\n\n/**\n * Returns a new array of all the values in `coll` which pass an async truth\n * test. This operation is performed in parallel, but the results array will be\n * in the same order as the original.\n *\n * @name filter\n * @static\n * @memberOf module:Collections\n * @method\n * @alias select\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.filter(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of the existing files\n * });\n */\nvar filter = doParallel(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name filterLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar filterLimit = doParallelLimit(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs only a single async operation at a time.\n *\n * @name filterSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results)\n */\nvar filterSeries = doLimit(filterLimit, 1);\n\n/**\n * Calls the asynchronous function `fn` with a callback parameter that allows it\n * to call itself again, in series, indefinitely.\n\n * If an error is passed to the callback then `errback` is called with the\n * error, and execution stops, otherwise it will never be called.\n *\n * @name forever\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} fn - an async function to call repeatedly.\n * Invoked with (next).\n * @param {Function} [errback] - when `fn` passes an error to it's callback,\n * this function will be called, and execution stops. Invoked with (err).\n * @example\n *\n * async.forever(\n *     function(next) {\n *         // next is suitable for passing to things that need a callback(err [, whatever]);\n *         // it will result in this function being called again.\n *     },\n *     function(err) {\n *         // if next is called with a value in its first parameter, it will appear\n *         // in here as 'err', and execution will stop.\n *     }\n * );\n */\nfunction forever(fn, errback) {\n    var done = onlyOnce(errback || noop);\n    var task = wrapAsync$1(ensureAsync(fn));\n\n    function next(err) {\n        if (err) return done(err);\n        task(next);\n    }\n    next();\n}\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs a maximum of `limit` async operations at a time.\n *\n * @name groupByLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupByLimit = function (coll, limit, iteratee, callback) {\n    callback = callback || noop;\n    var _iteratee = wrapAsync$1(iteratee);\n    mapLimit(coll, limit, function (val, callback) {\n        _iteratee(val, function (err, key) {\n            if (err) return callback(err);\n            return callback(null, { key: key, val: val });\n        });\n    }, function (err, mapResults) {\n        var result = {};\n        // from MDN, handle object having an `hasOwnProperty` prop\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n        for (var i = 0; i < mapResults.length; i++) {\n            if (mapResults[i]) {\n                var key = mapResults[i].key;\n                var val = mapResults[i].val;\n\n                if (hasOwnProperty.call(result, key)) {\n                    result[key].push(val);\n                } else {\n                    result[key] = [val];\n                }\n            }\n        }\n\n        return callback(err, result);\n    });\n};\n\n/**\n * Returns a new object, where each value corresponds to an array of items, from\n * `coll`, that returned the corresponding key. That is, the keys of the object\n * correspond to the values passed to the `iteratee` callback.\n *\n * Note: Since this function applies the `iteratee` to each item in parallel,\n * there is no guarantee that the `iteratee` functions will complete in order.\n * However, the values for each key in the `result` will be in the same order as\n * the original `coll`. For Objects, the values will roughly be in the order of\n * the original Objects' keys (but this can vary across JavaScript engines).\n *\n * @name groupBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n * @example\n *\n * async.groupBy(['userId1', 'userId2', 'userId3'], function(userId, callback) {\n *     db.findById(userId, function(err, user) {\n *         if (err) return callback(err);\n *         return callback(null, user.age);\n *     });\n * }, function(err, result) {\n *     // result is object containing the userIds grouped by age\n *     // e.g. { 30: ['userId1', 'userId3'], 42: ['userId2']};\n * });\n */\nvar groupBy = doLimit(groupByLimit, Infinity);\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs only a single async operation at a time.\n *\n * @name groupBySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupBySeries = doLimit(groupByLimit, 1);\n\n/**\n * Logs the result of an `async` function to the `console`. Only works in\n * Node.js or in browsers that support `console.log` and `console.error` (such\n * as FF and Chrome). If multiple arguments are returned from the async\n * function, `console.log` is called on each argument in order.\n *\n * @name log\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, 'hello ' + name);\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.log(hello, 'world');\n * 'hello world'\n */\nvar log = consoleFunc('log');\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name mapValuesLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nfunction mapValuesLimit(obj, limit, iteratee, callback) {\n    callback = once(callback || noop);\n    var newObj = {};\n    var _iteratee = wrapAsync$1(iteratee);\n    eachOfLimit(obj, limit, function (val, key, next) {\n        _iteratee(val, key, function (err, result) {\n            if (err) return next(err);\n            newObj[key] = result;\n            next();\n        });\n    }, function (err) {\n        callback(err, newObj);\n    });\n}\n\n/**\n * A relative of [`map`]{@link module:Collections.map}, designed for use with objects.\n *\n * Produces a new Object by mapping each value of `obj` through the `iteratee`\n * function. The `iteratee` is called each `value` and `key` from `obj` and a\n * callback for when it has finished processing. Each of these callbacks takes\n * two arguments: an `error`, and the transformed item from `obj`. If `iteratee`\n * passes an error to its callback, the main `callback` (for the `mapValues`\n * function) is immediately called with the error.\n *\n * Note, the order of the keys in the result is not guaranteed.  The keys will\n * be roughly in the order they complete, (but this is very engine-specific)\n *\n * @name mapValues\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n * @example\n *\n * async.mapValues({\n *     f1: 'file1',\n *     f2: 'file2',\n *     f3: 'file3'\n * }, function (file, key, callback) {\n *   fs.stat(file, callback);\n * }, function(err, result) {\n *     // result is now a map of stats for each file, e.g.\n *     // {\n *     //     f1: [stats for file1],\n *     //     f2: [stats for file2],\n *     //     f3: [stats for file3]\n *     // }\n * });\n */\n\nvar mapValues = doLimit(mapValuesLimit, Infinity);\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs only a single async operation at a time.\n *\n * @name mapValuesSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nvar mapValuesSeries = doLimit(mapValuesLimit, 1);\n\nfunction has(obj, key) {\n    return key in obj;\n}\n\n/**\n * Caches the results of an async function. When creating a hash to store\n * function results against, the callback is omitted from the hash and an\n * optional hash function can be used.\n *\n * If no hash function is specified, the first argument is used as a hash key,\n * which may work reasonably if it is a string or a data type that converts to a\n * distinct string. Note that objects and arrays will not behave reasonably.\n * Neither will cases where the other arguments are significant. In such cases,\n * specify your own hash function.\n *\n * The cache of results is exposed as the `memo` property of the function\n * returned by `memoize`.\n *\n * @name memoize\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function to proxy and cache results from.\n * @param {Function} hasher - An optional function for generating a custom hash\n * for storing results. It has all the arguments applied to it apart from the\n * callback, and must be synchronous.\n * @returns {AsyncFunction} a memoized version of `fn`\n * @example\n *\n * var slow_fn = function(name, callback) {\n *     // do something\n *     callback(null, result);\n * };\n * var fn = async.memoize(slow_fn);\n *\n * // fn can now be used as if it were slow_fn\n * fn('some name', function() {\n *     // callback\n * });\n */\nfunction memoize(fn, hasher) {\n    var memo = Object.create(null);\n    var queues = Object.create(null);\n    hasher = hasher || identity;\n    var _fn = wrapAsync$1(fn);\n    var memoized = initialParams(function memoized(args, callback) {\n        var key = hasher.apply(null, args);\n        if (has(memo, key)) {\n            setImmediate$1(function () {\n                callback.apply(null, memo[key]);\n            });\n        } else if (has(queues, key)) {\n            queues[key].push(callback);\n        } else {\n            queues[key] = [callback];\n            _fn.apply(null, args.concat(rest(function (args) {\n                memo[key] = args;\n                var q = queues[key];\n                delete queues[key];\n                for (var i = 0, l = q.length; i < l; i++) {\n                    q[i].apply(null, args);\n                }\n            })));\n        }\n    });\n    memoized.memo = memo;\n    memoized.unmemoized = fn;\n    return memoized;\n}\n\n/**\n * Calls `callback` on a later loop around the event loop. In Node.js this just\n * calls `setImmediate`.  In the browser it will use `setImmediate` if\n * available, otherwise `setTimeout(callback, 0)`, which means other higher\n * priority events may precede the execution of `callback`.\n *\n * This is used internally for browser-compatibility purposes.\n *\n * @name nextTick\n * @static\n * @memberOf module:Utils\n * @method\n * @alias setImmediate\n * @category Util\n * @param {Function} callback - The function to call on a later loop around\n * the event loop. Invoked with (args...).\n * @param {...*} args... - any number of additional arguments to pass to the\n * callback on the next tick.\n * @example\n *\n * var call_order = [];\n * async.nextTick(function() {\n *     call_order.push('two');\n *     // call_order now equals ['one','two']\n * });\n * call_order.push('one');\n *\n * async.setImmediate(function (a, b, c) {\n *     // a, b, and c equal 1, 2, and 3\n * }, 1, 2, 3);\n */\nvar _defer$1;\n\nif (hasNextTick) {\n    _defer$1 = process.nextTick;\n} else if (hasSetImmediate) {\n    _defer$1 = setImmediate;\n} else {\n    _defer$1 = fallback;\n}\n\nvar nextTick = wrap(_defer$1);\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || noop;\n    var results = isArrayLike(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        wrapAsync$1(task)(rest(function (err, args) {\n            if (args.length <= 1) {\n                args = args[0];\n            }\n            results[key] = args;\n            callback(err);\n        }));\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  _parallel(eachOf, tasks, callback);\n}\n\n/**\n * The same as [`parallel`]{@link module:ControlFlow.parallel} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name parallelLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.parallel]{@link module:ControlFlow.parallel}\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n */\nfunction parallelLimit$1(tasks, limit, callback) {\n  _parallel(_eachOfLimit(limit), tasks, callback);\n}\n\n/**\n * A queue of tasks for the worker function to complete.\n * @typedef {Object} QueueObject\n * @memberOf module:ControlFlow\n * @property {Function} length - a function returning the number of items\n * waiting to be processed. Invoke with `queue.length()`.\n * @property {boolean} started - a boolean indicating whether or not any\n * items have been pushed and processed by the queue.\n * @property {Function} running - a function returning the number of items\n * currently being processed. Invoke with `queue.running()`.\n * @property {Function} workersList - a function returning the array of items\n * currently being processed. Invoke with `queue.workersList()`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke with `queue.idle()`.\n * @property {number} concurrency - an integer for determining how many `worker`\n * functions should be run in parallel. This property can be changed after a\n * `queue` is created to alter the concurrency on-the-fly.\n * @property {Function} push - add a new task to the `queue`. Calls `callback`\n * once the `worker` has finished processing the task. Instead of a single task,\n * a `tasks` array can be submitted. The respective callback is used for every\n * task in the list. Invoke with `queue.push(task, [callback])`,\n * @property {Function} unshift - add a new task to the front of the `queue`.\n * Invoke with `queue.unshift(task, [callback])`.\n * @property {Function} saturated - a callback that is called when the number of\n * running workers hits the `concurrency` limit, and further tasks will be\n * queued.\n * @property {Function} unsaturated - a callback that is called when the number\n * of running workers is less than the `concurrency` & `buffer` limits, and\n * further tasks will not be queued.\n * @property {number} buffer - A minimum threshold buffer in order to say that\n * the `queue` is `unsaturated`.\n * @property {Function} empty - a callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - a callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} error - a callback that is called when a task errors.\n * Has the signature `function(error, task)`.\n * @property {boolean} paused - a boolean for determining whether the queue is\n * in a paused state.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke with `queue.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke with `queue.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke with `queue.kill()`.\n */\n\n/**\n * Creates a `queue` object with the specified `concurrency`. Tasks added to the\n * `queue` are processed in parallel (up to the `concurrency` limit). If all\n * `worker`s are in progress, the task is queued until one becomes available.\n * Once a `worker` completes a `task`, that `task`'s callback is called.\n *\n * @name queue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`. Invoked with (task, callback).\n * @param {number} [concurrency=1] - An `integer` for determining how many\n * `worker` functions should be run in parallel.  If omitted, the concurrency\n * defaults to `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the queue.\n * @example\n *\n * // create a queue object with concurrency 2\n * var q = async.queue(function(task, callback) {\n *     console.log('hello ' + task.name);\n *     callback();\n * }, 2);\n *\n * // assign a callback\n * q.drain = function() {\n *     console.log('all items have been processed');\n * };\n *\n * // add some items to the queue\n * q.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * q.push({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n *\n * // add some items to the queue (batch-wise)\n * q.push([{name: 'baz'},{name: 'bay'},{name: 'bax'}], function(err) {\n *     console.log('finished processing item');\n * });\n *\n * // add some items to the front of the queue\n * q.unshift({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n */\nvar queue$1 = function (worker, concurrency) {\n  var _worker = wrapAsync$1(worker);\n  return queue(function (items, cb) {\n    _worker(items[0], cb);\n  }, concurrency, 1);\n};\n\n/**\n * The same as [async.queue]{@link module:ControlFlow.queue} only tasks are assigned a priority and\n * completed in ascending priority order.\n *\n * @name priorityQueue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`.\n * Invoked with (task, callback).\n * @param {number} concurrency - An `integer` for determining how many `worker`\n * functions should be run in parallel.  If omitted, the concurrency defaults to\n * `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A priorityQueue object to manage the tasks. There are two\n * differences between `queue` and `priorityQueue` objects:\n * * `push(task, priority, [callback])` - `priority` should be a number. If an\n *   array of `tasks` is given, all tasks will be assigned the same priority.\n * * The `unshift` method was removed.\n */\nvar priorityQueue = function (worker, concurrency) {\n    // Start with a normal queue\n    var q = queue$1(worker, concurrency);\n\n    // Override push to accept second parameter representing priority\n    q.push = function (data, priority, callback) {\n        if (callback == null) callback = noop;\n        if (typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function () {\n                q.drain();\n            });\n        }\n\n        priority = priority || 0;\n        var nextNode = q._tasks.head;\n        while (nextNode && priority >= nextNode.priority) {\n            nextNode = nextNode.next;\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                priority: priority,\n                callback: callback\n            };\n\n            if (nextNode) {\n                q._tasks.insertBefore(nextNode, item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    };\n\n    // Remove unshift function\n    delete q.unshift;\n\n    return q;\n};\n\n/**\n * Runs the `tasks` array of functions in parallel, without waiting until the\n * previous function has completed. Once any of the `tasks` complete or pass an\n * error to its callback, the main `callback` is immediately called. It's\n * equivalent to `Promise.race()`.\n *\n * @name race\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array containing [async functions]{@link AsyncFunction}\n * to run. Each function can complete with an optional `result` value.\n * @param {Function} callback - A callback to run once any of the functions have\n * completed. This function gets an error or result from the first function that\n * completed. Invoked with (err, result).\n * @returns undefined\n * @example\n *\n * async.race([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // main callback\n * function(err, result) {\n *     // the result will be equal to 'two' as it finishes earlier\n * });\n */\nfunction race(tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new TypeError('First argument to race must be an array of functions'));\n    if (!tasks.length) return callback();\n    for (var i = 0, l = tasks.length; i < l; i++) {\n        wrapAsync$1(tasks[i])(callback);\n    }\n}\n\nvar slice = Array.prototype.slice;\n\n/**\n * Same as [`reduce`]{@link module:Collections.reduce}, only operates on `array` in reverse order.\n *\n * @name reduceRight\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reduce]{@link module:Collections.reduce}\n * @alias foldr\n * @category Collection\n * @param {Array} array - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n */\nfunction reduceRight(array, memo, iteratee, callback) {\n  var reversed = slice.call(array).reverse();\n  reduce(reversed, memo, iteratee, callback);\n}\n\n/**\n * Wraps the async function in another function that always completes with a\n * result object, even when it errors.\n *\n * The result object has either the property `error` or `value`.\n *\n * @name reflect\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function you want to wrap\n * @returns {Function} - A function that always passes null to it's callback as\n * the error. The second argument to the callback will be an `object` with\n * either an `error` or a `value` property.\n * @example\n *\n * async.parallel([\n *     async.reflect(function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff but error ...\n *         callback('bad stuff happened');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     })\n * ],\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = 'bad stuff happened'\n *     // results[2].value = 'two'\n * });\n */\nfunction reflect(fn) {\n    var _fn = wrapAsync$1(fn);\n    return initialParams(function reflectOn(args, reflectCallback) {\n        args.push(rest(function callback(err, cbArgs) {\n            if (err) {\n                reflectCallback(null, {\n                    error: err\n                });\n            } else {\n                var value = null;\n                if (cbArgs.length === 1) {\n                    value = cbArgs[0];\n                } else if (cbArgs.length > 1) {\n                    value = cbArgs;\n                }\n                reflectCallback(null, {\n                    value: value\n                });\n            }\n        }));\n\n        return _fn.apply(this, args);\n    });\n}\n\nfunction reject$1(eachfn, arr, iteratee, callback) {\n    _filter(eachfn, arr, function (value, cb) {\n        iteratee(value, function (err, v) {\n            cb(err, !v);\n        });\n    }, callback);\n}\n\n/**\n * The opposite of [`filter`]{@link module:Collections.filter}. Removes values that pass an `async` truth test.\n *\n * @name reject\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.reject(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of missing files\n *     createFiles(results);\n * });\n */\nvar reject = doParallel(reject$1);\n\n/**\n * A helper function that wraps an array or an object of functions with `reflect`.\n *\n * @name reflectAll\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.reflect]{@link module:Utils.reflect}\n * @category Util\n * @param {Array|Object|Iterable} tasks - The collection of\n * [async functions]{@link AsyncFunction} to wrap in `async.reflect`.\n * @returns {Array} Returns an array of async functions, each wrapped in\n * `async.reflect`\n * @example\n *\n * let tasks = [\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         // do some more stuff but error ...\n *         callback(new Error('bad stuff happened'));\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ];\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = Error('bad stuff happened')\n *     // results[2].value = 'two'\n * });\n *\n * // an example using an object instead of an array\n * let tasks = {\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         callback('two');\n *     },\n *     three: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'three');\n *         }, 100);\n *     }\n * };\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results.one.value = 'one'\n *     // results.two.error = 'two'\n *     // results.three.value = 'three'\n * });\n */\nfunction reflectAll(tasks) {\n    var results;\n    if (isArray(tasks)) {\n        results = arrayMap(tasks, reflect);\n    } else {\n        results = {};\n        baseForOwn(tasks, function (task, key) {\n            results[key] = reflect.call(this, task);\n        });\n    }\n    return results;\n}\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name rejectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectLimit = doParallelLimit(reject$1);\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs only a single async operation at a time.\n *\n * @name rejectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectSeries = doLimit(rejectLimit, 1);\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant$1(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * Attempts to get a successful response from `task` no more than `times` times\n * before returning an error. If the task is successful, the `callback` will be\n * passed the result of the successful task. If all attempts fail, the callback\n * will be passed the error and result (if any) of the final attempt.\n *\n * @name retry\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @see [async.retryable]{@link module:ControlFlow.retryable}\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - Can be either an\n * object with `times` and `interval` or a number.\n * * `times` - The number of attempts to make before giving up.  The default\n *   is `5`.\n * * `interval` - The time to wait between retries, in milliseconds.  The\n *   default is `0`. The interval may also be specified as a function of the\n *   retry count (see example).\n * * `errorFilter` - An optional synchronous function that is invoked on\n *   erroneous result. If it returns `true` the retry attempts will continue;\n *   if the function returns `false` the retry flow is aborted with the current\n *   attempt's error and result being returned to the final callback.\n *   Invoked with (err).\n * * If `opts` is a number, the number specifies the number of times to retry,\n *   with the default interval of `0`.\n * @param {AsyncFunction} task - An async function to retry.\n * Invoked with (callback).\n * @param {Function} [callback] - An optional callback which is called when the\n * task has succeeded, or after the final failed attempt. It receives the `err`\n * and `result` arguments of the last attempt at completing the `task`. Invoked\n * with (err, results).\n *\n * @example\n *\n * // The `retry` function can be used as a stand-alone control flow by passing\n * // a callback, as shown below:\n *\n * // try calling apiMethod 3 times\n * async.retry(3, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 3 times, waiting 200 ms between each retry\n * async.retry({times: 3, interval: 200}, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 10 times with exponential backoff\n * // (i.e. intervals of 100, 200, 400, 800, 1600, ... milliseconds)\n * async.retry({\n *   times: 10,\n *   interval: function(retryCount) {\n *     return 50 * Math.pow(2, retryCount);\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod the default 5 times no delay between each retry\n * async.retry(apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod only when error condition satisfies, all other\n * // errors will abort the retry control flow and return to final callback\n * async.retry({\n *   errorFilter: function(err) {\n *     return err.message === 'Temporary error'; // only retry on a specific error\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // It can also be embedded within other control flow functions to retry\n * // individual methods that are not as reliable, like this:\n * async.auto({\n *     users: api.getUsers.bind(api),\n *     payments: async.retryable(3, api.getPayments.bind(api))\n * }, function(err, results) {\n *     // do something with the results\n * });\n *\n */\nfunction retry(opts, task, callback) {\n    var DEFAULT_TIMES = 5;\n    var DEFAULT_INTERVAL = 0;\n\n    var options = {\n        times: DEFAULT_TIMES,\n        intervalFunc: constant$1(DEFAULT_INTERVAL)\n    };\n\n    function parseTimes(acc, t) {\n        if (typeof t === 'object') {\n            acc.times = +t.times || DEFAULT_TIMES;\n\n            acc.intervalFunc = typeof t.interval === 'function' ? t.interval : constant$1(+t.interval || DEFAULT_INTERVAL);\n\n            acc.errorFilter = t.errorFilter;\n        } else if (typeof t === 'number' || typeof t === 'string') {\n            acc.times = +t || DEFAULT_TIMES;\n        } else {\n            throw new Error(\"Invalid arguments for async.retry\");\n        }\n    }\n\n    if (arguments.length < 3 && typeof opts === 'function') {\n        callback = task || noop;\n        task = opts;\n    } else {\n        parseTimes(options, opts);\n        callback = callback || noop;\n    }\n\n    if (typeof task !== 'function') {\n        throw new Error(\"Invalid arguments for async.retry\");\n    }\n\n    var _task = wrapAsync$1(task);\n\n    var attempt = 1;\n    function retryAttempt() {\n        _task(function (err) {\n            if (err && attempt++ < options.times && (typeof options.errorFilter != 'function' || options.errorFilter(err))) {\n                setTimeout(retryAttempt, options.intervalFunc(attempt));\n            } else {\n                callback.apply(null, arguments);\n            }\n        });\n    }\n\n    retryAttempt();\n}\n\n/**\n * A close relative of [`retry`]{@link module:ControlFlow.retry}.  This method\n * wraps a task and makes it retryable, rather than immediately calling it\n * with retries.\n *\n * @name retryable\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.retry]{@link module:ControlFlow.retry}\n * @category Control Flow\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - optional\n * options, exactly the same as from `retry`\n * @param {AsyncFunction} task - the asynchronous function to wrap.\n * This function will be passed any arguments passed to the returned wrapper.\n * Invoked with (...args, callback).\n * @returns {AsyncFunction} The wrapped function, which when invoked, will\n * retry on an error, based on the parameters specified in `opts`.\n * This function will accept the same parameters as `task`.\n * @example\n *\n * async.auto({\n *     dep1: async.retryable(3, getFromFlakyService),\n *     process: [\"dep1\", async.retryable(3, function (results, cb) {\n *         maybeProcessData(results.dep1, cb);\n *     })]\n * }, callback);\n */\nvar retryable = function (opts, task) {\n    if (!task) {\n        task = opts;\n        opts = null;\n    }\n    var _task = wrapAsync$1(task);\n    return initialParams(function (args, callback) {\n        function taskFn(cb) {\n            _task.apply(null, args.concat(cb));\n        }\n\n        if (opts) retry(opts, taskFn, callback);else retry(taskFn, callback);\n    });\n};\n\n/**\n * Run the functions in the `tasks` collection in series, each one running once\n * the previous function has completed. If any functions in the series pass an\n * error to its callback, no more functions are run, and `callback` is\n * immediately called with the value of the error. Otherwise, `callback`\n * receives an array of results when `tasks` have completed.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function, and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n *  results from {@link async.series}.\n *\n * **Note** that while many implementations preserve the order of object\n * properties, the [ECMAScript Language Specification](http://www.ecma-international.org/ecma-262/5.1/#sec-8.6)\n * explicitly states that\n *\n * > The mechanics and order of enumerating the properties is not specified.\n *\n * So if you rely on the order in which your series of functions are executed,\n * and want this to work on all platforms, consider using an array.\n *\n * @name series\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection containing\n * [async functions]{@link AsyncFunction} to run in series.\n * Each function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This function gets a results array (or object)\n * containing all the result arguments passed to the `task` callbacks. Invoked\n * with (err, result).\n * @example\n * async.series([\n *     function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     },\n *     function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // results is now equal to ['one', 'two']\n * });\n *\n * async.series({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback){\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equal to: {one: 1, two: 2}\n * });\n */\nfunction series(tasks, callback) {\n  _parallel(eachOfSeries, tasks, callback);\n}\n\n/**\n * Returns `true` if at least one element in the `coll` satisfies an async test.\n * If any iteratee call returns `true`, the main `callback` is immediately\n * called.\n *\n * @name some\n * @static\n * @memberOf module:Collections\n * @method\n * @alias any\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n * @example\n *\n * async.some(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then at least one of the files exists\n * });\n */\nvar some = doParallel(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs a maximum of `limit` async operations at a time.\n *\n * @name someLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anyLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someLimit = doParallelLimit(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs only a single async operation at a time.\n *\n * @name someSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anySeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in series.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someSeries = doLimit(someLimit, 1);\n\n/**\n * Sorts a list by the results of running each `coll` value through an async\n * `iteratee`.\n *\n * @name sortBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a value to use as the sort criteria as\n * its `result`.\n * Invoked with (item, callback).\n * @param {Function} callback - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is the items\n * from the original `coll` sorted by the values returned by the `iteratee`\n * calls. Invoked with (err, results).\n * @example\n *\n * async.sortBy(['file1','file2','file3'], function(file, callback) {\n *     fs.stat(file, function(err, stats) {\n *         callback(err, stats.mtime);\n *     });\n * }, function(err, results) {\n *     // results is now the original array of files sorted by\n *     // modified date\n * });\n *\n * // By modifying the callback parameter the\n * // sorting order can be influenced:\n *\n * // ascending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x);\n * }, function(err,result) {\n *     // result callback\n * });\n *\n * // descending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x*-1);    //<- x*-1 instead of x, turns the order around\n * }, function(err,result) {\n *     // result callback\n * });\n */\nfunction sortBy(coll, iteratee, callback) {\n    var _iteratee = wrapAsync$1(iteratee);\n    map(coll, function (x, callback) {\n        _iteratee(x, function (err, criteria) {\n            if (err) return callback(err);\n            callback(null, { value: x, criteria: criteria });\n        });\n    }, function (err, results) {\n        if (err) return callback(err);\n        callback(null, arrayMap(results.sort(comparator), baseProperty('value')));\n    });\n\n    function comparator(left, right) {\n        var a = left.criteria,\n            b = right.criteria;\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n}\n\n/**\n * Sets a time limit on an asynchronous function. If the function does not call\n * its callback within the specified milliseconds, it will be called with a\n * timeout error. The code property for the error object will be `'ETIMEDOUT'`.\n *\n * @name timeout\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} asyncFn - The async function to limit in time.\n * @param {number} milliseconds - The specified time limit.\n * @param {*} [info] - Any variable you want attached (`string`, `object`, etc)\n * to timeout Error for more information..\n * @returns {AsyncFunction} Returns a wrapped function that can be used with any\n * of the control flow functions.\n * Invoke this function with the same parameters as you would `asyncFunc`.\n * @example\n *\n * function myFunction(foo, callback) {\n *     doAsyncTask(foo, function(err, data) {\n *         // handle errors\n *         if (err) return callback(err);\n *\n *         // do some stuff ...\n *\n *         // return processed data\n *         return callback(null, data);\n *     });\n * }\n *\n * var wrapped = async.timeout(myFunction, 1000);\n *\n * // call `wrapped` as you would `myFunction`\n * wrapped({ bar: 'bar' }, function(err, data) {\n *     // if `myFunction` takes < 1000 ms to execute, `err`\n *     // and `data` will have their expected values\n *\n *     // else `err` will be an Error with the code 'ETIMEDOUT'\n * });\n */\nfunction timeout(asyncFn, milliseconds, info) {\n    var originalCallback, timer;\n    var timedOut = false;\n\n    function injectedCallback() {\n        if (!timedOut) {\n            originalCallback.apply(null, arguments);\n            clearTimeout(timer);\n        }\n    }\n\n    function timeoutCallback() {\n        var name = asyncFn.name || 'anonymous';\n        var error = new Error('Callback function \"' + name + '\" timed out.');\n        error.code = 'ETIMEDOUT';\n        if (info) {\n            error.info = info;\n        }\n        timedOut = true;\n        originalCallback(error);\n    }\n\n    var fn = wrapAsync$1(asyncFn);\n\n    return initialParams(function (args, origCallback) {\n        originalCallback = origCallback;\n        // setup timer and call original function\n        timer = setTimeout(timeoutCallback, milliseconds);\n        fn.apply(null, args.concat(injectedCallback));\n    });\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\nvar nativeMax$1 = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax$1(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name timesLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} count - The number of times to run the function.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see [async.map]{@link module:Collections.map}.\n */\nfunction timeLimit(count, limit, iteratee, callback) {\n  var _iteratee = wrapAsync$1(iteratee);\n  mapLimit(baseRange(0, count, 1), limit, _iteratee, callback);\n}\n\n/**\n * Calls the `iteratee` function `n` times, and accumulates results in the same\n * manner you would use with [map]{@link module:Collections.map}.\n *\n * @name times\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n * @example\n *\n * // Pretend this is some complicated async factory\n * var createUser = function(id, callback) {\n *     callback(null, {\n *         id: 'user' + id\n *     });\n * };\n *\n * // generate 5 users\n * async.times(5, function(n, next) {\n *     createUser(n, function(err, user) {\n *         next(err, user);\n *     });\n * }, function(err, users) {\n *     // we should now have 5 users\n * });\n */\nvar times = doLimit(timeLimit, Infinity);\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs only a single async operation at a time.\n *\n * @name timesSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n */\nvar timesSeries = doLimit(timeLimit, 1);\n\n/**\n * A relative of `reduce`.  Takes an Object or Array, and iterates over each\n * element in series, each step potentially mutating an `accumulator` value.\n * The type of the accumulator defaults to the type of collection passed in.\n *\n * @name transform\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} [accumulator] - The initial state of the transform.  If omitted,\n * it will default to an empty Object or Array, depending on the type of `coll`\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * collection that potentially modifies the accumulator.\n * Invoked with (accumulator, item, key, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the transformed accumulator.\n * Invoked with (err, result).\n * @example\n *\n * async.transform([1,2,3], function(acc, item, index, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         acc.push(item * 2)\n *         callback(null)\n *     });\n * }, function(err, result) {\n *     // result is now equal to [2, 4, 6]\n * });\n *\n * @example\n *\n * async.transform({a: 1, b: 2, c: 3}, function (obj, val, key, callback) {\n *     setImmediate(function () {\n *         obj[key] = val * 2;\n *         callback();\n *     })\n * }, function (err, result) {\n *     // result is equal to {a: 2, b: 4, c: 6}\n * })\n */\nfunction transform(coll, accumulator, iteratee, callback) {\n    if (arguments.length <= 3) {\n        callback = iteratee;\n        iteratee = accumulator;\n        accumulator = isArray(coll) ? [] : {};\n    }\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n\n    eachOf(coll, function (v, k, cb) {\n        _iteratee(accumulator, v, k, cb);\n    }, function (err) {\n        callback(err, accumulator);\n    });\n}\n\n/**\n * Undoes a [memoize]{@link module:Utils.memoize}d function, reverting it to the original,\n * unmemoized form. Handy for testing.\n *\n * @name unmemoize\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.memoize]{@link module:Utils.memoize}\n * @category Util\n * @param {AsyncFunction} fn - the memoized function\n * @returns {AsyncFunction} a function that calls the original unmemoized function\n */\nfunction unmemoize(fn) {\n    return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n    };\n}\n\n/**\n * Repeatedly call `iteratee`, while `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs.\n *\n * @name whilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n * @returns undefined\n * @example\n *\n * var count = 0;\n * async.whilst(\n *     function() { return count < 5; },\n *     function(callback) {\n *         count++;\n *         setTimeout(function() {\n *             callback(null, count);\n *         }, 1000);\n *     },\n *     function (err, n) {\n *         // 5 seconds have passed, n = 5\n *     }\n * );\n */\nfunction whilst(test, iteratee, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync$1(iteratee);\n    if (!test()) return callback(null);\n    var next = rest(function (err, args) {\n        if (err) return callback(err);\n        if (test()) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    });\n    _iteratee(next);\n}\n\n/**\n * Repeatedly call `iteratee` until `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs. `callback` will be passed an error and any\n * arguments passed to the final `iteratee`'s callback.\n *\n * The inverse of [whilst]{@link module:ControlFlow.whilst}.\n *\n * @name until\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction until(test, iteratee, callback) {\n    whilst(function () {\n        return !test.apply(this, arguments);\n    }, iteratee, callback);\n}\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */\nvar waterfall = function (tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        if (taskIndex === tasks.length) {\n            return callback.apply(null, [null].concat(args));\n        }\n\n        var taskCallback = onlyOnce(rest(function (err, args) {\n            if (err) {\n                return callback.apply(null, [err].concat(args));\n            }\n            nextTask(args);\n        }));\n\n        args.push(taskCallback);\n\n        var task = wrapAsync$1(tasks[taskIndex++]);\n        task.apply(null, args);\n    }\n\n    nextTask([]);\n};\n\n/**\n * An \"async function\" in the context of Async is an asynchronous function with\n * a variable number of parameters, with the final parameter being a callback.\n * (`function (arg1, arg2, ..., callback) {}`)\n * The final callback is of the form `callback(err, results...)`, which must be\n * called once the function is completed.  The callback should be called with a\n * Error as its first argument to signal that an error occurred.\n * Otherwise, if no error occurred, it should be called with `null` as the first\n * argument, and any additional `result` arguments that may apply, to signal\n * successful completion.\n * The callback must be called exactly once, ideally on a later tick of the\n * JavaScript event loop.\n *\n * This type of function is also referred to as a \"Node-style async function\",\n * or a \"continuation passing-style function\" (CPS). Most of the methods of this\n * library are themselves CPS/Node-style async functions, or functions that\n * return CPS/Node-style async functions.\n *\n * Wherever we accept a Node-style async function, we also directly accept an\n * [ES2017 `async` function]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function}.\n * In this case, the `async` function will not be passed a final callback\n * argument, and any thrown error will be used as the `err` argument of the\n * implicit callback, and the return value will be used as the `result` value.\n * (i.e. a `rejected` of the returned Promise becomes the `err` callback\n * argument, and a `resolved` value becomes the `result`.)\n *\n * Note, due to JavaScript limitations, we can only detect native `async`\n * functions and not transpilied implementations.\n * Your environment must have `async`/`await` support for this to work.\n * (e.g. Node > v7.6, or a recent version of a modern browser).\n * If you are using `async` functions through a transpiler (e.g. Babel), you\n * must still wrap the function with [asyncify]{@link module:Utils.asyncify},\n * because the `async function` will be compiled to an ordinary function that\n * returns a promise.\n *\n * @typedef {Function} AsyncFunction\n * @static\n */\n\n/**\n * Async is a utility module which provides straight-forward, powerful functions\n * for working with asynchronous JavaScript. Although originally designed for\n * use with [Node.js](http://nodejs.org) and installable via\n * `npm install --save async`, it can also be used directly in the browser.\n * @module async\n * @see AsyncFunction\n */\n\n/**\n * A collection of `async` functions for manipulating collections, such as\n * arrays and objects.\n * @module Collections\n */\n\n/**\n * A collection of `async` functions for controlling the flow through a script.\n * @module ControlFlow\n */\n\n/**\n * A collection of `async` utility functions.\n * @module Utils\n */\n\nvar index = {\n  applyEach: applyEach,\n  applyEachSeries: applyEachSeries,\n  apply: apply$2,\n  asyncify: asyncify,\n  auto: auto,\n  autoInject: autoInject,\n  cargo: cargo,\n  compose: compose,\n  concat: concat,\n  concatSeries: concatSeries,\n  constant: constant,\n  detect: detect,\n  detectLimit: detectLimit,\n  detectSeries: detectSeries,\n  dir: dir,\n  doDuring: doDuring,\n  doUntil: doUntil,\n  doWhilst: doWhilst,\n  during: during,\n  each: eachLimit,\n  eachLimit: eachLimit$1,\n  eachOf: eachOf,\n  eachOfLimit: eachOfLimit,\n  eachOfSeries: eachOfSeries,\n  eachSeries: eachSeries,\n  ensureAsync: ensureAsync,\n  every: every,\n  everyLimit: everyLimit,\n  everySeries: everySeries,\n  filter: filter,\n  filterLimit: filterLimit,\n  filterSeries: filterSeries,\n  forever: forever,\n  groupBy: groupBy,\n  groupByLimit: groupByLimit,\n  groupBySeries: groupBySeries,\n  log: log,\n  map: map,\n  mapLimit: mapLimit,\n  mapSeries: mapSeries,\n  mapValues: mapValues,\n  mapValuesLimit: mapValuesLimit,\n  mapValuesSeries: mapValuesSeries,\n  memoize: memoize,\n  nextTick: nextTick,\n  parallel: parallelLimit,\n  parallelLimit: parallelLimit$1,\n  priorityQueue: priorityQueue,\n  queue: queue$1,\n  race: race,\n  reduce: reduce,\n  reduceRight: reduceRight,\n  reflect: reflect,\n  reflectAll: reflectAll,\n  reject: reject,\n  rejectLimit: rejectLimit,\n  rejectSeries: rejectSeries,\n  retry: retry,\n  retryable: retryable,\n  seq: seq$1,\n  series: series,\n  setImmediate: setImmediate$1,\n  some: some,\n  someLimit: someLimit,\n  someSeries: someSeries,\n  sortBy: sortBy,\n  timeout: timeout,\n  times: times,\n  timesLimit: timeLimit,\n  timesSeries: timesSeries,\n  transform: transform,\n  unmemoize: unmemoize,\n  until: until,\n  waterfall: waterfall,\n  whilst: whilst,\n\n  // aliases\n  all: every,\n  any: some,\n  forEach: eachLimit,\n  forEachSeries: eachSeries,\n  forEachLimit: eachLimit$1,\n  forEachOf: eachOf,\n  forEachOfSeries: eachOfSeries,\n  forEachOfLimit: eachOfLimit,\n  inject: reduce,\n  foldl: reduce,\n  foldr: reduceRight,\n  select: filter,\n  selectLimit: filterLimit,\n  selectSeries: filterSeries,\n  wrapSync: asyncify\n};\n\nexports['default'] = index;\nexports.applyEach = applyEach;\nexports.applyEachSeries = applyEachSeries;\nexports.apply = apply$2;\nexports.asyncify = asyncify;\nexports.auto = auto;\nexports.autoInject = autoInject;\nexports.cargo = cargo;\nexports.compose = compose;\nexports.concat = concat;\nexports.concatSeries = concatSeries;\nexports.constant = constant;\nexports.detect = detect;\nexports.detectLimit = detectLimit;\nexports.detectSeries = detectSeries;\nexports.dir = dir;\nexports.doDuring = doDuring;\nexports.doUntil = doUntil;\nexports.doWhilst = doWhilst;\nexports.during = during;\nexports.each = eachLimit;\nexports.eachLimit = eachLimit$1;\nexports.eachOf = eachOf;\nexports.eachOfLimit = eachOfLimit;\nexports.eachOfSeries = eachOfSeries;\nexports.eachSeries = eachSeries;\nexports.ensureAsync = ensureAsync;\nexports.every = every;\nexports.everyLimit = everyLimit;\nexports.everySeries = everySeries;\nexports.filter = filter;\nexports.filterLimit = filterLimit;\nexports.filterSeries = filterSeries;\nexports.forever = forever;\nexports.groupBy = groupBy;\nexports.groupByLimit = groupByLimit;\nexports.groupBySeries = groupBySeries;\nexports.log = log;\nexports.map = map;\nexports.mapLimit = mapLimit;\nexports.mapSeries = mapSeries;\nexports.mapValues = mapValues;\nexports.mapValuesLimit = mapValuesLimit;\nexports.mapValuesSeries = mapValuesSeries;\nexports.memoize = memoize;\nexports.nextTick = nextTick;\nexports.parallel = parallelLimit;\nexports.parallelLimit = parallelLimit$1;\nexports.priorityQueue = priorityQueue;\nexports.queue = queue$1;\nexports.race = race;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reflect = reflect;\nexports.reflectAll = reflectAll;\nexports.reject = reject;\nexports.rejectLimit = rejectLimit;\nexports.rejectSeries = rejectSeries;\nexports.retry = retry;\nexports.retryable = retryable;\nexports.seq = seq$1;\nexports.series = series;\nexports.setImmediate = setImmediate$1;\nexports.some = some;\nexports.someLimit = someLimit;\nexports.someSeries = someSeries;\nexports.sortBy = sortBy;\nexports.timeout = timeout;\nexports.times = times;\nexports.timesLimit = timeLimit;\nexports.timesSeries = timesSeries;\nexports.transform = transform;\nexports.unmemoize = unmemoize;\nexports.until = until;\nexports.waterfall = waterfall;\nexports.whilst = whilst;\nexports.all = every;\nexports.allLimit = everyLimit;\nexports.allSeries = everySeries;\nexports.any = some;\nexports.anyLimit = someLimit;\nexports.anySeries = someSeries;\nexports.find = detect;\nexports.findLimit = detectLimit;\nexports.findSeries = detectSeries;\nexports.forEach = eachLimit;\nexports.forEachSeries = eachSeries;\nexports.forEachLimit = eachLimit$1;\nexports.forEachOf = eachOf;\nexports.forEachOfSeries = eachOfSeries;\nexports.forEachOfLimit = eachOfLimit;\nexports.inject = reduce;\nexports.foldl = reduce;\nexports.foldr = reduceRight;\nexports.select = filter;\nexports.selectLimit = filterLimit;\nexports.selectSeries = filterSeries;\nexports.wrapSync = asyncify;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","﻿import './service';\r\nimport './page';\r\n\r\nangular.module('pipHelp', [\r\n    'pipHelp.Service',\r\n    'pipHelp.Page'\r\n]);\r\n\r\nexport * from './service';\r\n","export let StateVar: string = \"$state\";\r\nexport let PrevStateVar: string = \"$prevState\";\r\n\r\n// Run function to set CurrentState and PreviousState global variables\r\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n\r\n            let CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            let PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        // Record current and previous state\r\n        $rootScope[StateVar] = CurrentState;\r\n        $rootScope[PrevStateVar] = PreviousState;            \r\n        }\r\n    );\r\n\r\n}\r\n\r\n// Decorator function to modify $state service by adding goBack and goBackAndSelect methods\r\nfunction decorateBackStateService($delegate: any, $window: ng.IWindowService, $rootScope: ng.IRootScopeService): any {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        // todo: define end fix PreviousState\r\n        if (!!$rootScope[StateVar] && !!$rootScope[PrevStateVar]) {\r\n\r\n            let state = _.cloneDeep($rootScope[PrevStateVar]);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\n// Config function to decorate $state service\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n    ","export let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents(\r\n    $rootScope: ng.IRootScopeService,\r\n    $log: ng.ILogService,\r\n    $state: ng.ui.IStateService\r\n) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting')\r\n    .run(hookRoutingEvents);\r\n    ","angular.module('pipRouting', ['ui.router']);\r\n\r\nimport './BackDecorator';\r\nimport './RoutingEvents';\r\n\r\nexport * from './BackDecorator';\r\nexport * from './RoutingEvents';\r\n","import { IIdentityService, IIdentityProvider } from './IIdentityService';\r\n\r\nexport let IdentityRootVar = \"$identity\";\r\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: any;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\r\n\r\n        let identity: any = value || {};\r\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: any = null;\r\n    private _service: IdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipIdentity', IdentityProvider);\r\n","import { ISessionService, ISessionProvider } from './ISessionService';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nlet async = require('async');\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private listeners: any = {};\r\n    private notifyError: boolean = false;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        session: any,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private notifyListeners(type: string, successCallback: (error?: any, result?: any) => void): void {\r\n        if (!type){  \r\n            throw new Error(\"Event object missing 'type' property.\");\r\n        }\r\n\r\n        if (this.listeners[type] instanceof Array){\r\n            async.each(\r\n                this.listeners[type], \r\n                (listener, callback) => {\r\n                listener(callback);\r\n            }, successCallback);\r\n        } else {\r\n            successCallback();\r\n        }\r\n    }\r\n\r\n    private notifyOpenListeners(callback: (error?: any, result?: any) => void): void {\r\n        this.notifyListeners('open', (error: any, result: any) => {\r\n            if (!error) {\r\n                callback(null, result);\r\n            } else {\r\n                // reset session\r\n                // this._session = null;\r\n                this._log.error(error);\r\n                callback(error);\r\n                // throw new Error('Session open error:');\r\n            }\r\n        });\r\n    }\r\n\r\n    private notifyCloseListeners(callback: (error?: any, result?: any) => void): void {\r\n        this.notifyListeners('close', (error: any, result: any) => {\r\n            if (!error) {\r\n                callback(null, result);\r\n            } else {\r\n                this._log.error(error);\r\n                callback(error);\r\n                // throw new Error('Session close error:');\r\n            }\r\n        });\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    private start(session: any): void {\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionOpenedEvent, session);\r\n        this._log.debug(\"Opened session \" + session);\r\n    }\r\n\r\n    private stop(): void {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\r\n\r\n        this._log.debug(\"Closed session \" + oldSession);\r\n    }\r\n\r\n    private addListener(type: string, listener: any): void {\r\n        if (typeof this.listeners[type] == \"undefined\") {\r\n            this.listeners[type] = [];\r\n        }\r\n\r\n        this.listeners[type].push(listener);\r\n    }\r\n\r\n    private removeListener(type: string, listener: any): void {\r\n        if (this.listeners[type] instanceof Array) {\r\n            var listeners = this.listeners[type];\r\n            for (var i = 0, len = listeners.length; i < len; i++) {\r\n                if (listeners[i] === listener) {\r\n                    listeners.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public addOpenListener(listener: any): void {\r\n        this.addListener('open', listener);\r\n    }\r\n\r\n    public addCloseListener(listener: any): void {\r\n        this.addListener('close', listener);\r\n    }\r\n\r\n    public removeOpenListener(listener: any): void {\r\n        this.removeListener('open', listener);\r\n    }\r\n\r\n    public removeCloseListener(listener: any): void {\r\n        this.removeListener('close', listener);\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n\r\n        this.notifyOpenListeners((error?: any, result?: any) => {\r\n            if (!error) {\r\n                this.start(session);\r\n            } else {\r\n                this.stop();\r\n            }\r\n        });\r\n    }\r\n\r\n    public close() {\r\n        if (this.session == null) { return }\r\n\r\n        this.notifyCloseListeners((error?: any, result?: any) => {\r\n            if (!error) this.stop();\r\n        });\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: SessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;\r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSession')\r\n    .provider('pipSession', SessionProvider); \r\n","angular.module('pipSession', []);\r\n\r\nimport './IdentityService';\r\nimport './SessionService';\r\n\r\nexport * from './IIdentity';\r\nexport * from './IIdentityService';\r\nexport * from './IdentityService';\r\n\r\nexport * from './ISessionService';\r\nexport * from './SessionService';\r\n","import { TransactionError } from './TransactionError'\r\n\r\nexport class Transaction {\r\n    private _scope: string = null;\r\n    private _id: string = null;\r\n    private _operation: string = null;\r\n    private _error: TransactionError = new TransactionError();\r\n    private _progress: number = 0;\r\n\r\n    public constructor(scope: string) {\r\n        this._scope = scope;\r\n    }\r\n\r\n    public get scope(): string {\r\n        return this._scope;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get operation(): string {\r\n        return this._operation;\r\n    }\r\n\r\n    public get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    public get error(): TransactionError {\r\n        return this._error;\r\n    }\r\n\r\n    public get errorMessage(): string {\r\n        return this._error.message;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._id = null;\r\n        this._operation = null;\r\n        this._progress = 0;\r\n        this._error.reset();\r\n    }\r\n\r\n    public busy(): boolean {\r\n        return this._id != null;\r\n    }\r\n\r\n    public failed(): boolean {\r\n        return !this._error.empty();\r\n    }\r\n\r\n    public aborted(id: string): boolean {\r\n        return this._id != id;\r\n    }\r\n\r\n    public begin(operation: string): string {\r\n        // Transaction is already running\r\n        if (this._id != null) return null;\r\n\r\n        this._id = new Date().getTime().toString();\r\n        this._operation = operation || 'PROCESSING'\r\n        this._error.reset();\r\n\r\n        return this._id;\r\n    }\r\n\r\n    public update(progress: number): void {\r\n        this._progress = Math.max(progress, 100);\r\n    }\r\n\r\n    public abort(): void {\r\n        this._id = null;\r\n        this._error.reset();\r\n    }\r\n\r\n    public end(error?: any): void {\r\n        this._error.decode(error);\r\n        this._id = null;\r\n    }\r\n}\r\n","export class TransactionError {\r\n    public code: string;\r\n    public message: string;\r\n    public details: any;\r\n    public cause: string;\r\n    public stack_trace: string;\r\n\r\n    public constructor(error?: any) {\r\n        if (error != null)\r\n            this.decode(error);\r\n    }\r\n\r\n    public reset(): void {\r\n        this.code = null;\r\n        this.message = null;\r\n        this.details = null;\r\n        this.cause = null;\r\n        this.stack_trace = null;\r\n    }\r\n\r\n    public empty(): boolean {\r\n        return this.message = null && this.code == null;\r\n    }\r\n\r\n    public decode(error: any): void {\r\n        this.reset();\r\n\r\n        if (error == null) return;\r\n\r\n        // Process regular messages\r\n        if (error.message) {\r\n            this.message = error.message;\r\n        }\r\n\r\n        // Process server application errors\r\n        if (error.data) {\r\n            if (error.data.code) { \r\n                // process server error codes here\r\n                this.message = this.message || 'ERROR_' + error.data.code;\r\n                this.code = this.code || error.data.code;\r\n            }\r\n\r\n            if (error.data.message) {\r\n                this.message = this.message || error.data.message;\r\n            }\r\n\r\n            this.message = this.message || error.data;\r\n            this.details = this.details || error.data;\r\n\r\n            this.cause = error.data.cause;\r\n            this.stack_trace = error.data.stack_trace;\r\n            this.details = error.data.details;            \r\n        }\r\n\r\n        // Process standard HTTP errors\r\n        if (error.statusText) {\r\n            this.message = this.message || error.statusText;\r\n        }\r\n        if (error.status) {\r\n            this.message = this.message || 'ERROR_' + error.status;\r\n            this.code = this.code || error.status;\r\n        }\r\n        \r\n        this.message = this.message || error;\r\n        this.details = this.details || error;\r\n    }\r\n}\r\n","import { Transaction } from './Transaction';\r\nimport { ITransactionService } from './ITransactionService';\r\n\r\nclass TransactionService implements ITransactionService {\r\n    private _transactions: Transaction = <Transaction>{};\r\n\r\n    public constructor() {}\r\n\r\n    public create(scope?: string): Transaction {\r\n        let transaction: Transaction = new Transaction(scope);\r\n        \r\n        if (scope != null)\r\n            this._transactions[scope] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    public get(scope?: string): Transaction {\r\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\r\n\r\n        if (transaction == null) {\r\n            transaction = new Transaction(scope);\r\n            if (scope != null)\r\n                this._transactions[scope] = transaction;\r\n        }\r\n\r\n        return transaction;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .service('pipTransaction', TransactionService);\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction configureTransactionStrings($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslateProvider') \r\n        ? <ITranslateService>$injector.get('pipTranslateProvider') : null;\r\n\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': 'Вход в систему...',\r\n            'PROCESSING': 'Обрабатывается...',\r\n            'LOADING': 'Загружается...',\r\n            'SAVING': 'Сохраняется...'\r\n        });   \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipTransaction')\r\n    .config(configureTransactionStrings);\r\n","angular.module('pipTransaction', []);\r\n\r\nimport './TransactionStrings';\r\nimport './TransactionError';\r\nimport './Transaction';\r\nimport './TransactionService';\r\n\r\nexport * from './TransactionError';\r\nexport * from './Transaction';\r\nexport * from './ITransactionService';\r\n","import { ITranslateService } from '../translate/ITranslateService';\r\n\r\nfunction translateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction translateHtmlDirective(pipTranslate: ITranslateService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) => {\r\n            let key: string = scope.key1 || scope.key2;\r\n            let value: string = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .directive('pipTranslate', translateDirective)\r\n    .directive('pipTranslateHtml', translateHtmlDirective);\r\n","import { ITranslateService } from './ITranslateService';\r\n\r\nfunction translateFilter(pipTranslate: ITranslateService) {\r\n    \"ngInject\";\r\n\r\n    return function (key: string) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector: ng.auto.IInjectorService) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate: ITranslateService = $injector.has('pipTranslate') \r\n        ? <ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n    return function (key: string) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .filter('translate', translateFilter);\r\n","export class Translation {\r\n    protected _language: string = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': 'Английский',\r\n            'ru': 'Русский',\r\n            'es': 'Испанский',\r\n            'pt': 'Португальский',\r\n            'de': 'Немецкий',\r\n            'fr': 'Французский'\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Yet another method to set translation strings for specific language\r\n    public translations(language: string, translations: any): void {\r\n        this.setTranslations(language, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values: string[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k: string) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item: any) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key: string) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","﻿import { Translation } from './Translation';\r\nimport { ResetPageEvent } from '../utilities/PageResetService';\r\nimport { ITranslateService, ITranslateProvider } from './ITranslateService';\r\n\r\nexport let LanguageRootVar = \"$language\";\r\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nclass TranslateService implements ITranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _window: ng.IWindowService;\r\n    private _mdDateLocale: angular.material.IDateLocaleProvider;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService,\r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider,\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._window = $window;\r\n        this._mdDateLocale = $mdDateLocale;\r\n\r\n        if (this._persist && this._window.localStorage) {\r\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\r\n            this.changeLocale(this._translation.language);\r\n        }\r\n        this._log.debug(\"Set language to \" + this._translation.language);\r\n\r\n        this.save();\r\n    }\r\n\r\n    private changeLocale(locale: string) {\r\n        if (!locale) return;\r\n\r\n        // var localeDate: moment.MomentLanguageData;\r\n        var localeDate: any;\r\n\r\n        moment.locale(locale);\r\n        localeDate = moment.localeData();\r\n\r\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\r\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\r\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\r\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\r\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist && this._window.localStorage != null)\r\n            this._window.localStorage.setItem('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this._log.debug(\"Changing language to \" + value);\r\n\r\n            this.changeLocale(this._translation.language);\r\n            this.save();   \r\n\r\n            this._rootScope.$emit(LanguageChangedEvent, value);\r\n            this._rootScope.$emit(ResetPageEvent);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdDateLocale: angular.material.IDateLocaleProvider\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction initTranslate(pipTranslate: ITranslateService) {\r\n    pipTranslate.language;\r\n}\r\n\r\nangular\r\n    .module('pipTranslate')\r\n    .provider('pipTranslate', TranslateProvider)\r\n    .run(initTranslate);\r\n","angular.module('pipTranslate', []);\r\n\r\nimport './Translation';\r\nimport './TranslateService';\r\nimport './TranslateFilter';\r\nimport './TranslateDirective';\r\n\r\nexport * from './Translation';\r\nexport * from './ITranslateService';\r\nexport * from './TranslateService';\r\n","import { ICodes } from './ICodes';\r\n\r\nclass Codes implements ICodes {\r\n    // Simple version of string hashcode\r\n    public hash(value: string): number {\r\n        if (value == null) return 0;\r\n        \r\n        let result: number = 0;\r\n        for (let i = 0; i < value.length; i++)\r\n            result += value.charCodeAt(i);\r\n\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    public verification(): string {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipCodes', [])\r\n    .service('pipCodes', Codes);\r\n","import { IFormat } from './IFormat';\r\n\r\nclass Format implements IFormat {\r\n    // Cached for parsed formats\r\n    private cache = {};\r\n\r\n    // Creates a sample line from a text\r\n    public sample(value: string, maxLength: number): string {\r\n        if (!value || value == '') {\r\n            return '';\r\n        }\r\n\r\n        var length: number = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    private strRepeat(str: string, qty: number): string {\r\n        if (qty < 1) { \r\n            return '';\r\n        }\r\n        var result: string = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getType(variable): string {\r\n        return toString.call(variable).slice(8, -1).toLowerCase();\r\n    }\r\n\r\n    private parseFormat(fmt: string): any {\r\n        let _fmt: string = fmt, match = [], parse_tree = [], arg_names: number = 0;\r\n        while (_fmt) {\r\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                parse_tree.push(match[0]);\r\n            }\r\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                parse_tree.push('%');\r\n            }\r\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                if (match[2]) {\r\n                    arg_names |= 1;\r\n                    let field_list: string[] = [], replacement_field: string = match[2], field_match: string[] = [];\r\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                        field_list.push(field_match[1]);\r\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                field_list.push(field_match[1]);\r\n                            }\r\n                            else {\r\n                                throw new Error('Unknown error');\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw new Error('Unknown error');\r\n                    }\r\n                    match[2] = field_list;\r\n                }\r\n                else {\r\n                    arg_names |= 2;\r\n                }\r\n                if (arg_names === 3) {\r\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\r\n                }\r\n                parse_tree.push(match);\r\n            }\r\n            else {\r\n                throw new Error('Unknown error');\r\n            }\r\n            _fmt = _fmt.substring(match[0].length);\r\n        }\r\n        return parse_tree;\r\n    }\r\n\r\n    private format(parse_tree: any, argv: any): string {\r\n        let cursor: number = 0; \r\n        let tree_length: number = parse_tree.length; \r\n        let output = [];\r\n\r\n        for (let i = 0; i < tree_length; i++) {\r\n            let node_type = this.getType(parse_tree[i]);\r\n            if (node_type === 'string') {\r\n                output.push(parse_tree[i]);\r\n            }\r\n            else if (node_type === 'array') {\r\n                let match = parse_tree[i]; // convenience purposes only\r\n                let arg: any;\r\n                if (match[2]) { // keyword argument\r\n                    arg = argv[cursor];\r\n                    for (let k = 0; k < match[2].length; k++) {\r\n                        if (!arg.hasOwnProperty(match[2][k])) {\r\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\r\n                        }\r\n                        arg = arg[match[2][k]];\r\n                    }\r\n                } else if (match[1]) { // positional argument (explicit)\r\n                    arg = argv[match[1]];\r\n                }\r\n                else { // positional argument (implicit)\r\n                    arg = argv[cursor++];\r\n                }\r\n\r\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\r\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\r\n                }\r\n                switch (match[8]) {\r\n                    case 'b': arg = arg.toString(2); break;\r\n                    case 'c': arg = String.fromCharCode(arg); break;\r\n                    case 'd': arg = parseInt(arg, 10); break;\r\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                    case 'o': arg = arg.toString(8); break;\r\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                    case 'u': arg = Math.abs(arg); break;\r\n                    case 'x': arg = arg.toString(16); break;\r\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                }\r\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \r\n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                let pad_length = match[6] - String(arg).length;\r\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\r\n                output.push(match[5] ? arg + pad : pad + arg);\r\n            }\r\n        }\r\n        return output.join('');\r\n    }\r\n    \r\n    public sprintf(message: string, ...args: any[]): string {\r\n        if (!this.cache.hasOwnProperty(message))\r\n            this.cache[message] = this.parseFormat(message);\r\n\r\n        return this.format(this.cache[message], args);\r\n    }\r\n\r\n    public filterToString(filter: any): string {\r\n        if (filter == null) return null;\r\n        let result = ''; \r\n\r\n        for (let key in filter) {\r\n            if (result.length > 0)\r\n                result += ';';\r\n\r\n            let value = filter[key];\r\n            if (value != null)\r\n                result += key + '=' + value\r\n            else\r\n                result += key\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public arrayToString(array: string[]): string {\r\n        let result = ''; \r\n\r\n        if (array == null || array.length == 0)\r\n            return result;\r\n\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (result.length > 0)\r\n                result += ',';\r\n            result += array[i]\r\n        }\r\n\r\n        return result;\r\n    }    \r\n\r\n    public enumToArray(obj: any): any[] {\r\n        let result: any[] = [];\r\n        let key;\r\n\r\n        for (key in obj)\r\n            if (obj.hasOwnProperty(key))\r\n                result.push(obj[key]);\r\n\r\n        return result;\r\n    };    \r\n}\r\n\r\n\r\nangular\r\n    .module('pipFormat', [])\r\n    .service('pipFormat', Format);\r\n","import { IPageResetService } from './IPageResetService';\r\n\r\n\r\nexport let ResetPageEvent: string = \"pipResetPage\";\r\nexport let ResetAreaEvent: string = \"pipResetArea\";\r\n\r\nexport let ResetRootVar: string = \"$reset\";\r\nexport let ResetAreaRootVar: string = \"$resetArea\";\r\n\r\n\r\nclass PageResetService implements IPageResetService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $timeout: ng.ITimeoutService\r\n    ) {\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._timeout = $timeout;\r\n\r\n        $rootScope[ResetRootVar] = false;\r\n        $rootScope[ResetAreaRootVar] = null;\r\n    }\r\n\r\n    public reset(): void {\r\n        this._log.debug(\"Resetting the entire page\");\r\n        this.performReset(null);\r\n    }\r\n\r\n    public resetArea(area: string): void {\r\n        this._log.debug(\"Resetting the area \" + area);\r\n        this.performReset(area);\r\n    }\r\n\r\n    private performReset(area?: string): void {\r\n        this._rootScope[ResetRootVar] = area == null;\r\n        this._rootScope[ResetAreaRootVar] = area;\r\n\r\n        this._timeout(() => {\r\n            this._rootScope[ResetRootVar] = false;\r\n            this._rootScope[ResetAreaRootVar] = null;\r\n        }, 0);\r\n    }\r\n}\r\n\r\n\r\nfunction hookResetEvents(\r\n    $rootScope: ng.IRootScopeService, \r\n    pipPageReset: IPageResetService\r\n) {\r\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\r\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\r\n}\r\n\r\n\r\nangular.module('pipPageReset', [])\r\n    .service('pipPageReset', PageResetService)\r\n    .run(hookResetEvents);\r\n","import { IScrollService } from './IScrollService';\r\n\r\n\r\nclass ScrollService implements IScrollService {\r\n\r\n    public scrollTo(parentElement, childElement, animationDuration): void {\r\n        if (!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipScroll', [])\r\n    .service('pipScroll', ScrollService);\r\n","import { ISystemInfo } from './ISystemInfo';\r\n\r\n\r\nclass SystemInfo implements ISystemInfo {\r\n    private _window: ng.IWindowService;\r\n\r\n    public constructor($window: ng.IWindowService) {\r\n        \"ngInject\";\r\n\r\n        this._window = $window;\r\n    }\r\n\r\n    // todo add support for iPhone\r\n    public get browserName(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    public get browserVersion(): string {\r\n        let version;\r\n        let ua = this._window.navigator.userAgent;\r\n        let browser = this.browserName;\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]) ? (ua.split(\"Edge\")[1]).split(\"/\")[1] : null;\r\n                break;\r\n            case \"ie\":\r\n                let subVersion = ua.split(\"MSIE \")[1] ? ua.split(\"MSIE \")[1] : ua.split(\"Trident/\")[1]\r\n                version = subVersion ? subVersion.split(\";\")[0] : null;\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]) ? (ua.split(\"; rv:\")[1]).split(\")\")[0] : null;\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = (ua.search(/Opera/) > -1) ? ua.split(\"Version/\")[1] : ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]) ? (ua.split(\"YaBrowser/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]) ? (ua.split(\"Chrome/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Safari/\")[1]) ? (ua.split(\"Safari/\")[1]).split(\" \")[0] : null;\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    public get platform(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    public get os(): string {\r\n        let ua = this._window.navigator.userAgent;\r\n\r\n        try {\r\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\r\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    public isDesktop(): boolean {\r\n        return this.platform == 'desktop';\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        return this.platform == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    public isCordova(): boolean {\r\n        return false;\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    public isSupported(supported?: any): boolean {\r\n        if (!supported) \r\n            supported = {\r\n                edge: 12,\r\n                ie: 11,\r\n                firefox: 43, //4, for testing\r\n                opera: 35,\r\n                chrome: 47,\r\n                safari: 600\r\n            };\r\n\r\n        let browser = this.browserName;\r\n        let version = this.browserVersion;\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipSystemInfo', [])\r\n    .service('pipSystemInfo', SystemInfo);\r\n","import { ITags } from './ITags';\r\n\r\nclass Tags implements ITags {\r\n\r\n    public normalizeOne(tag: string): string {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    public compressOne(tag: string): string {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    public equal(tag1: string, tag2: string): boolean {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return this.compressOne(tag1) == this.compressOne(tag2);\r\n    }\r\n\r\n    public normalizeAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public compressAll(tags: any): string[] {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\r\n\r\n        return tags;\r\n    }\r\n\r\n    public extract(entity: any, searchFields?: string[]): string[] {\r\n        let tags = this.normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, (field) => {\r\n            let text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                let hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(this.normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTags', [])\r\n    .service('pipTags', Tags);\r\n","import { ITimerService } from './ITimerService';\r\n\r\nclass TimerEvent {\r\n    public event: string;\r\n    public timeout: number;\r\n    public interval: any;\r\n\r\n    public constructor(event: string, timeout: number) {\r\n        this.event = event;\r\n        this.timeout = timeout;\r\n    }\r\n}\r\n\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\r\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\r\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\r\n];\r\n\r\n\r\nclass TimerService implements ITimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _log: ng.ILogService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $interval: ng.IIntervalService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._log = $log;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public isStarted(): boolean {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { \r\n                this._log.debug('Generated timer event ' + event.event); \r\n                this._rootScope.$emit(event.event)\r\n            },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","import './Format';\r\nimport './TimerService';\r\nimport './ScrollService';\r\nimport './Tags';\r\nimport './Codes';\r\nimport './SystemInfo';\r\nimport './PageResetService';\r\n\r\n\r\nexport * from './IFormat';\r\nexport * from './ITimerService';\r\nexport * from './IScrollService';\r\nexport * from './ITags';\r\nexport * from './ICodes';\r\nexport * from './ISystemInfo';\r\nexport * from './IPageResetService';\r\n","{\r\n    function filter($injector: ng.auto.IInjectorService) {\r\n         let pipTranslate: any = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return (key) => {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular.module('pipHelp.Translate', [])\r\n           .filter('translate', filter);\r\n\r\n}\r\n","{\r\n\r\nclass FabTooltipVisibilityController {\r\n    private _element;\r\n    private _scope: angular.IScope;\r\n    private _timeout: ng.ITimeoutService;\r\n\r\n    constructor(\r\n        $element: any,\r\n        $attrs: angular.IAttributes,\r\n        $scope: angular.IScope,\r\n        $timeout: ng.ITimeoutService,\r\n        $parse\r\n    ) {\r\n        \"ngInject\";\r\n        let trigGetter = $parse($attrs['pipFabTooltipVisibility']),\r\n            showGetter = $parse($attrs['pipFabShowTooltip']),\r\n            showSetter = showGetter.assign;\r\n\r\n        $scope.$watch(trigGetter, (isOpen) => {\r\n            if (!_.isFunction(showSetter)) return;\r\n\r\n            if (isOpen) {\r\n                $timeout(() => {\r\n                    showSetter($scope, isOpen);\r\n                }, 600);\r\n            } else {\r\n                showSetter($scope, isOpen);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nfunction pipFabTooltipVisibility($parse, $timeout): ng.IDirective {\r\n    return {\r\n        restrict: 'A',\r\n        scope: false,\r\n        controller: FabTooltipVisibilityController\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipFabTooltipVisibility', [])\r\n    .directive('pipFabTooltipVisibility', pipFabTooltipVisibility);\r\n\r\n}","{\r\n\r\ninterface IRefreshButtonBindings {\r\n    [key: string]: any;\r\n\r\n    text: any;\r\n    visible: any;\r\n    onRefresh: any\r\n}\r\n\r\nconst RefreshButtonBindings: IRefreshButtonBindings = {\r\n    text: '<pipText',\r\n    visible: '<pipVisible',\r\n    onRefresh: '&?pipRefresh'\r\n}\r\n\r\nclass RefreshButtonChanges implements ng.IOnChangesObject, IRefreshButtonBindings {\r\n    [key: string]: ng.IChangesObject < any > ;\r\n    // Not one way bindings\r\n    onRefresh: ng.IChangesObject < ({\r\n        $event: any\r\n    }) => ng.IPromise < any >> ;\r\n    // One way bindings\r\n    text: ng.IChangesObject < string > ;\r\n    visible: ng.IChangesObject < boolean > ;\r\n}\r\n\r\nclass RefreshButtonController implements IRefreshButtonBindings {\r\n\r\n    private _textElement: any;\r\n    private _buttonElement: any;\r\n    private _width: number;\r\n\r\n    public text: string;\r\n    public visible: boolean;\r\n    public onRefresh: (param: {\r\n        $event: ng.IAngularEvent\r\n    }) => ng.IPromise < any > ;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        private $element: any,\r\n        private $attrs: ng.IAttributes\r\n    ) {}\r\n\r\n    public $postLink() {\r\n        this._buttonElement = this.$element.children('.md-button');\r\n        this._textElement = this._buttonElement.children('.pip-refresh-text');\r\n\r\n        this.show();\r\n    }\r\n\r\n    public $onChanges(changes: RefreshButtonChanges) {\r\n        if (changes.visible.currentValue === true) {\r\n            this.text = changes.text.currentValue;\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    public onClick($event) {\r\n        if (this.onRefresh) {\r\n            this.onRefresh({\r\n                $event: $event\r\n            });\r\n        }\r\n    }\r\n\r\n    private show() {\r\n        if (this._textElement === undefined || this._buttonElement === undefined) {\r\n            return;\r\n        }\r\n        // Set new text\r\n        this._textElement.text(this.text);\r\n        // Show button\r\n        this._buttonElement.show();\r\n        // Adjust position\r\n        const width = this._buttonElement.width();\r\n        this._buttonElement.css('margin-left', '-' + width / 2 + 'px');\r\n    }\r\n\r\n    private hide() {\r\n        this._buttonElement.hide();\r\n    }\r\n}\r\n\r\n\r\nconst RefreshButtonComponent: ng.IComponentOptions = {\r\n    bindings: RefreshButtonBindings,\r\n    controller: RefreshButtonController,\r\n    template: '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"$ctrl.onClick($event)\" aria-label=\"REFRESH\">' +\r\n        '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\r\n        '<span class=\"pip-refresh-text\"></span>' +\r\n        '</md-button>'\r\n};\r\n\r\nangular\r\n    .module('pipRefreshButton', ['ngMaterial'])\r\n    .component('pipRefreshButton', RefreshButtonComponent);\r\n\r\n}","{\r\n\r\nclass ToggleButton {\r\n    id: any;\r\n    name: string;\r\n    disabled: boolean;\r\n    level: number;\r\n    diselectable: boolean;\r\n    filled: boolean;\r\n}\r\n\r\ninterface IToggleButtonsBindings {\r\n    [key: string]: any;\r\n\r\n    ngDisabled: any;\r\n    buttons: any;\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    multiselect: any;\r\n    change: any;\r\n    onlyToggle: any\r\n}\r\n\r\nconst ToggleButtonsBindings: IToggleButtonsBindings = {\r\n    ngDisabled: '<?',\r\n    buttons: '<pipButtons',\r\n    currentButtonValue: '=ngModel',\r\n    currentButton: '=?pipButtonObject',\r\n    multiselect: '<?pipMultiselect',\r\n    change: '&ngChange',\r\n    onlyToggle: '<?pipOnlyToggle'\r\n}\r\n\r\nclass ToggleButtonsChanges implements ng.IOnChangesObject, IToggleButtonsBindings {\r\n    [key: string]: ng.IChangesObject < any > ;\r\n    // Not one way bindings\r\n    currentButtonValue: any;\r\n    currentButton: any;\r\n    change: ng.IChangesObject < () => ng.IPromise < void >> ;\r\n    // One way bindings\r\n    ngDisabled: ng.IChangesObject < boolean > ;\r\n    buttons: ng.IChangesObject < ToggleButton[] > ;\r\n    multiselect: ng.IChangesObject < boolean > ;\r\n    onlyToggle: ng.IChangesObject < boolean > ;\r\n}\r\n\r\nclass ToggleButtonsController implements IToggleButtonsBindings {\r\n    lenght: number;\r\n\r\n    public ngDisabled: boolean;\r\n    public class: string;\r\n    public multiselect: boolean;\r\n    public buttons: ToggleButton[] = [];\r\n    public disabled: boolean;\r\n    public currentButtonValue: any;\r\n    public currentButtonIndex: number;\r\n    public currentButton: any;\r\n    public change: () => ng.IPromise < any > ;\r\n    public onlyToggle: boolean;\r\n    public pipMedia: any;\r\n\r\n    constructor(\r\n        private $element: any,\r\n        private $attrs: angular.IAttributes,\r\n        private $scope: angular.IScope,\r\n        private $timeout: ng.ITimeoutService,\r\n        $injector: ng.auto.IInjectorService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.class = $attrs['class'] || '';\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $onChanges(changes: ToggleButtonsChanges) {\r\n        this.multiselect = changes.multiselect ? changes.multiselect.currentValue : this.multiselect;\r\n        this.disabled = changes.ngDisabled ? changes.ngDisabled.currentValue : this.disabled;\r\n        this.onlyToggle = changes.onlyToggle ? changes.onlyToggle.currentValue : this.onlyToggle;\r\n\r\n        if (changes.buttons) {\r\n            this.buttons = _.isArray(changes.buttons.currentValue) && changes.buttons.currentValue.length === 0 ? [] : changes.buttons.currentValue;\r\n        }\r\n\r\n        const index = _.indexOf(this.buttons, _.find(this.buttons, {\r\n            id: this.currentButtonValue\r\n        }));\r\n        this.currentButtonIndex = index < 0 ? 0 : index;\r\n        this.currentButton = this.buttons.length > 0 ? this.buttons[this.currentButtonIndex] : this.currentButton;\r\n    }\r\n\r\n    public $postLink() {\r\n        this.$element\r\n            .on('focusin', () => {\r\n                this.$element.addClass('focused-container');\r\n            })\r\n            .on('focusout', () => {\r\n                this.$element.removeClass('focused-container');\r\n            });\r\n    }\r\n\r\n    public buttonSelected(index) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.currentButtonIndex = index;\r\n        this.currentButton = this.buttons[this.currentButtonIndex];\r\n        this.currentButtonValue = this.currentButton.id || index;\r\n\r\n        this.$timeout(() => {\r\n            if (this.change) {\r\n                this.change();\r\n            }\r\n        });\r\n    }\r\n\r\n    public enterSpacePress(event) {\r\n        this.buttonSelected(event.index);\r\n    }\r\n\r\n    public highlightButton(index) {\r\n        if (this.multiselect &&\r\n            !_.isUndefined(this.currentButton.level) &&\r\n            !_.isUndefined(this.buttons[index].level)) {\r\n\r\n            return this.currentButton.level >= this.buttons[index].level;\r\n        }\r\n\r\n        return this.currentButtonIndex == index;\r\n    }\r\n}\r\n\r\nconst ToggleButtons: ng.IComponentOptions = {\r\n    bindings: ToggleButtonsBindings,\r\n    templateUrl: 'toggle_buttons/ToggleButtons.html',\r\n    controller: ToggleButtonsController\r\n}\r\n\r\nangular\r\n    .module('pipToggleButtons', ['pipButtons.Templates'])\r\n    .component('pipToggleButtons', ToggleButtons);\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/ToggleButtons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{$ctrl.class}}\" pip-selected=\"$ctrl.bufButtonIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\" ng-if=\"!$ctrl.pipMedia(\\'xs\\') || $ctrl.onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in $ctrl.buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : $ctrl.highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + ($ctrl.highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"$ctrl.buttonSelected($index, $event)\" ng-disabled=\"button.disabled || $ctrl.disabled\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.onlyToggle\"><md-select ng-model=\"$ctrl.currentButtonIndex\" ng-disabled=\"$ctrl.disabled\" aria-label=\"DROPDOWN\" md-on-close=\"$ctrl.buttonSelected($ctrl.currentButtonIndex)\"><md-option ng-repeat=\"action in $ctrl.buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 2.0.4, Fri May 25 2018\n *\n * http://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Dexie = factory());\n}(this, (function () { 'use strict';\n\nvar keys = Object.keys;\nvar isArray = Array.isArray;\nvar _global = typeof self !== 'undefined' ? self :\n    typeof window !== 'undefined' ? window :\n        global;\nfunction extend(obj, extension) {\n    if (typeof extension !== 'object')\n        return obj;\n    keys(extension).forEach(function (key) {\n        obj[key] = extension[key];\n    });\n    return obj;\n}\nvar getProto = Object.getPrototypeOf;\nvar _hasOwn = {}.hasOwnProperty;\nfunction hasOwn(obj, prop) {\n    return _hasOwn.call(obj, prop);\n}\nfunction props(proto, extension) {\n    if (typeof extension === 'function')\n        extension = extension(getProto(proto));\n    keys(extension).forEach(function (key) {\n        setProp(proto, key, extension[key]);\n    });\n}\nvar defineProperty = Object.defineProperty;\nfunction setProp(obj, prop, functionOrGetSet, options) {\n    defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n        { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n        { value: functionOrGetSet, configurable: true, writable: true }, options));\n}\nfunction derive(Child) {\n    return {\n        from: function (Parent) {\n            Child.prototype = Object.create(Parent.prototype);\n            setProp(Child.prototype, \"constructor\", Child);\n            return {\n                extend: props.bind(null, Child.prototype)\n            };\n        }\n    };\n}\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nfunction getPropertyDescriptor(obj, prop) {\n    var pd = getOwnPropertyDescriptor(obj, prop), proto;\n    return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n}\nvar _slice = [].slice;\nfunction slice(args, start, end) {\n    return _slice.call(args, start, end);\n}\nfunction override(origFunc, overridedFactory) {\n    return overridedFactory(origFunc);\n}\nfunction assert(b) {\n    if (!b)\n        throw new Error(\"Assertion Failed\");\n}\nfunction asap(fn) {\n    if (_global.setImmediate)\n        setImmediate(fn);\n    else\n        setTimeout(fn, 0);\n}\n\n/** Generate an object (hash map) based on given array.\n * @param extractor Function taking an array item and its index and returning an array of 2 items ([key, value]) to\n *        instert on the resulting object for each item in the array. If this function returns a falsy value, the\n *        current item wont affect the resulting object.\n */\nfunction arrayToObject(array, extractor) {\n    return array.reduce(function (result, item, i) {\n        var nameAndValue = extractor(item, i);\n        if (nameAndValue)\n            result[nameAndValue[0]] = nameAndValue[1];\n        return result;\n    }, {});\n}\nfunction trycatcher(fn, reject) {\n    return function () {\n        try {\n            fn.apply(this, arguments);\n        }\n        catch (e) {\n            reject(e);\n        }\n    };\n}\nfunction tryCatch(fn, onerror, args) {\n    try {\n        fn.apply(null, args);\n    }\n    catch (ex) {\n        onerror && onerror(ex);\n    }\n}\nfunction getByKeyPath(obj, keyPath) {\n    // http://www.w3.org/TR/IndexedDB/#steps-for-extracting-a-key-from-a-value-using-a-key-path\n    if (hasOwn(obj, keyPath))\n        return obj[keyPath]; // This line is moved from last to first for optimization purpose.\n    if (!keyPath)\n        return obj;\n    if (typeof keyPath !== 'string') {\n        var rv = [];\n        for (var i = 0, l = keyPath.length; i < l; ++i) {\n            var val = getByKeyPath(obj, keyPath[i]);\n            rv.push(val);\n        }\n        return rv;\n    }\n    var period = keyPath.indexOf('.');\n    if (period !== -1) {\n        var innerObj = obj[keyPath.substr(0, period)];\n        return innerObj === undefined ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n    }\n    return undefined;\n}\nfunction setByKeyPath(obj, keyPath, value) {\n    if (!obj || keyPath === undefined)\n        return;\n    if ('isFrozen' in Object && Object.isFrozen(obj))\n        return;\n    if (typeof keyPath !== 'string' && 'length' in keyPath) {\n        assert(typeof value !== 'string' && 'length' in value);\n        for (var i = 0, l = keyPath.length; i < l; ++i) {\n            setByKeyPath(obj, keyPath[i], value[i]);\n        }\n    }\n    else {\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var currentKeyPath = keyPath.substr(0, period);\n            var remainingKeyPath = keyPath.substr(period + 1);\n            if (remainingKeyPath === \"\")\n                if (value === undefined)\n                    delete obj[currentKeyPath];\n                else\n                    obj[currentKeyPath] = value;\n            else {\n                var innerObj = obj[currentKeyPath];\n                if (!innerObj)\n                    innerObj = (obj[currentKeyPath] = {});\n                setByKeyPath(innerObj, remainingKeyPath, value);\n            }\n        }\n        else {\n            if (value === undefined)\n                delete obj[keyPath];\n            else\n                obj[keyPath] = value;\n        }\n    }\n}\nfunction delByKeyPath(obj, keyPath) {\n    if (typeof keyPath === 'string')\n        setByKeyPath(obj, keyPath, undefined);\n    else if ('length' in keyPath)\n        [].map.call(keyPath, function (kp) {\n            setByKeyPath(obj, kp, undefined);\n        });\n}\nfunction shallowClone(obj) {\n    var rv = {};\n    for (var m in obj) {\n        if (hasOwn(obj, m))\n            rv[m] = obj[m];\n    }\n    return rv;\n}\nvar concat = [].concat;\nfunction flatten(a) {\n    return concat.apply([], a);\n}\n//https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\nvar intrinsicTypes = \"Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set\"\n    .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return [\"Int\", \"Uint\", \"Float\"].map(function (t) { return t + num + \"Array\"; }); }))).filter(function (t) { return _global[t]; }).map(function (t) { return _global[t]; });\nfunction deepClone(any) {\n    if (!any || typeof any !== 'object')\n        return any;\n    var rv;\n    if (isArray(any)) {\n        rv = [];\n        for (var i = 0, l = any.length; i < l; ++i) {\n            rv.push(deepClone(any[i]));\n        }\n    }\n    else if (intrinsicTypes.indexOf(any.constructor) >= 0) {\n        rv = any;\n    }\n    else {\n        rv = any.constructor ? Object.create(any.constructor.prototype) : {};\n        for (var prop in any) {\n            if (hasOwn(any, prop)) {\n                rv[prop] = deepClone(any[prop]);\n            }\n        }\n    }\n    return rv;\n}\nfunction getObjectDiff(a, b, rv, prfx) {\n    // Compares objects a and b and produces a diff object.\n    rv = rv || {};\n    prfx = prfx || '';\n    keys(a).forEach(function (prop) {\n        if (!hasOwn(b, prop))\n            rv[prfx + prop] = undefined; // Property removed\n        else {\n            var ap = a[prop], bp = b[prop];\n            if (typeof ap === 'object' && typeof bp === 'object' &&\n                ap && bp &&\n                // Now compare constructors are same (not equal because wont work in Safari)\n                ('' + ap.constructor) === ('' + bp.constructor))\n                // Same type of object but its properties may have changed\n                getObjectDiff(ap, bp, rv, prfx + prop + \".\");\n            else if (ap !== bp)\n                rv[prfx + prop] = b[prop]; // Primitive value changed\n        }\n    });\n    keys(b).forEach(function (prop) {\n        if (!hasOwn(a, prop)) {\n            rv[prfx + prop] = b[prop]; // Property added\n        }\n    });\n    return rv;\n}\n// If first argument is iterable or array-like, return it as an array\nvar iteratorSymbol = typeof Symbol !== 'undefined' && Symbol.iterator;\nvar getIteratorOf = iteratorSymbol ? function (x) {\n    var i;\n    return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n} : function () { return null; };\nvar NO_CHAR_ARRAY = {};\n// Takes one or several arguments and returns an array based on the following criteras:\n// * If several arguments provided, return arguments converted to an array in a way that\n//   still allows javascript engine to optimize the code.\n// * If single argument is an array, return a clone of it.\n// * If this-pointer equals NO_CHAR_ARRAY, don't accept strings as valid iterables as a special\n//   case to the two bullets below.\n// * If single argument is an iterable, convert it to an array and return the resulting array.\n// * If single argument is array-like (has length of type number), convert it to an array.\nfunction getArrayOf(arrayLike) {\n    var i, a, x, it;\n    if (arguments.length === 1) {\n        if (isArray(arrayLike))\n            return arrayLike.slice();\n        if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n            return [arrayLike];\n        if ((it = getIteratorOf(arrayLike))) {\n            a = [];\n            while ((x = it.next()), !x.done)\n                a.push(x.value);\n            return a;\n        }\n        if (arrayLike == null)\n            return [arrayLike];\n        i = arrayLike.length;\n        if (typeof i === 'number') {\n            a = new Array(i);\n            while (i--)\n                a[i] = arrayLike[i];\n            return a;\n        }\n        return [arrayLike];\n    }\n    i = arguments.length;\n    a = new Array(i);\n    while (i--)\n        a[i] = arguments[i];\n    return a;\n}\n\n// By default, debug will be true only if platform is a web platform and its page is served from localhost.\n// When debug = true, error's stacks will contain asyncronic long stacks.\nvar debug = typeof location !== 'undefined' &&\n    // By default, use debug mode if served from localhost.\n    /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\nfunction setDebug(value, filter) {\n    debug = value;\n    libraryFilter = filter;\n}\nvar libraryFilter = function () { return true; };\nvar NEEDS_THROW_FOR_STACK = !new Error(\"\").stack;\nfunction getErrorWithStack() {\n    \"use strict\";\n    if (NEEDS_THROW_FOR_STACK)\n        try {\n            // Doing something naughty in strict mode here to trigger a specific error\n            // that can be explicitely ignored in debugger's exception settings.\n            // If we'd just throw new Error() here, IE's debugger's exception settings\n            // will just consider it as \"exception thrown by javascript code\" which is\n            // something you wouldn't want it to ignore.\n            getErrorWithStack.arguments;\n            throw new Error(); // Fallback if above line don't throw.\n        }\n        catch (e) {\n            return e;\n        }\n    return new Error();\n}\nfunction prettyStack(exception, numIgnoredFrames) {\n    var stack = exception.stack;\n    if (!stack)\n        return \"\";\n    numIgnoredFrames = (numIgnoredFrames || 0);\n    if (stack.indexOf(exception.name) === 0)\n        numIgnoredFrames += (exception.name + exception.message).split('\\n').length;\n    return stack.split('\\n')\n        .slice(numIgnoredFrames)\n        .filter(libraryFilter)\n        .map(function (frame) { return \"\\n\" + frame; })\n        .join('');\n}\nfunction deprecated(what, fn) {\n    return function () {\n        console.warn(what + \" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. \" + prettyStack(getErrorWithStack(), 1));\n        return fn.apply(this, arguments);\n    };\n}\n\nvar dexieErrorNames = [\n    'Modify',\n    'Bulk',\n    'OpenFailed',\n    'VersionChange',\n    'Schema',\n    'Upgrade',\n    'InvalidTable',\n    'MissingAPI',\n    'NoSuchDatabase',\n    'InvalidArgument',\n    'SubTransaction',\n    'Unsupported',\n    'Internal',\n    'DatabaseClosed',\n    'PrematureCommit',\n    'ForeignAwait'\n];\nvar idbDomErrorNames = [\n    'Unknown',\n    'Constraint',\n    'Data',\n    'TransactionInactive',\n    'ReadOnly',\n    'Version',\n    'NotFound',\n    'InvalidState',\n    'InvalidAccess',\n    'Abort',\n    'Timeout',\n    'QuotaExceeded',\n    'Syntax',\n    'DataClone'\n];\nvar errorList = dexieErrorNames.concat(idbDomErrorNames);\nvar defaultTexts = {\n    VersionChanged: \"Database version changed by other database connection\",\n    DatabaseClosed: \"Database has been closed\",\n    Abort: \"Transaction aborted\",\n    TransactionInactive: \"Transaction has already completed or failed\"\n};\n//\n// DexieError - base class of all out exceptions.\n//\nfunction DexieError(name, msg) {\n    // Reason we don't use ES6 classes is because:\n    // 1. It bloats transpiled code and increases size of minified code.\n    // 2. It doesn't give us much in this case.\n    // 3. It would require sub classes to call super(), which\n    //    is not needed when deriving from Error.\n    this._e = getErrorWithStack();\n    this.name = name;\n    this.message = msg;\n}\nderive(DexieError).from(Error).extend({\n    stack: {\n        get: function () {\n            return this._stack ||\n                (this._stack = this.name + \": \" + this.message + prettyStack(this._e, 2));\n        }\n    },\n    toString: function () { return this.name + \": \" + this.message; }\n});\nfunction getMultiErrorMessage(msg, failures) {\n    return msg + \". Errors: \" + failures\n        .map(function (f) { return f.toString(); })\n        .filter(function (v, i, s) { return s.indexOf(v) === i; }) // Only unique error strings\n        .join('\\n');\n}\n//\n// ModifyError - thrown in Collection.modify()\n// Specific constructor because it contains members failures and failedKeys.\n//\nfunction ModifyError(msg, failures, successCount, failedKeys) {\n    this._e = getErrorWithStack();\n    this.failures = failures;\n    this.failedKeys = failedKeys;\n    this.successCount = successCount;\n}\nderive(ModifyError).from(DexieError);\nfunction BulkError(msg, failures) {\n    this._e = getErrorWithStack();\n    this.name = \"BulkError\";\n    this.failures = failures;\n    this.message = getMultiErrorMessage(msg, failures);\n}\nderive(BulkError).from(DexieError);\n//\n//\n// Dynamically generate error names and exception classes based\n// on the names in errorList.\n//\n//\n// Map of {ErrorName -> ErrorName + \"Error\"}\nvar errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + \"Error\", obj); }, {});\n// Need an alias for DexieError because we're gonna create subclasses with the same name.\nvar BaseException = DexieError;\n// Map of {ErrorName -> exception constructor}\nvar exceptions = errorList.reduce(function (obj, name) {\n    // Let the name be \"DexieError\" because this name may\n    // be shown in call stack and when debugging. DexieError is\n    // the most true name because it derives from DexieError,\n    // and we cannot change Function.name programatically without\n    // dynamically create a Function object, which would be considered\n    // 'eval-evil'.\n    var fullName = name + \"Error\";\n    function DexieError(msgOrInner, inner) {\n        this._e = getErrorWithStack();\n        this.name = fullName;\n        if (!msgOrInner) {\n            this.message = defaultTexts[name] || fullName;\n            this.inner = null;\n        }\n        else if (typeof msgOrInner === 'string') {\n            this.message = msgOrInner;\n            this.inner = inner || null;\n        }\n        else if (typeof msgOrInner === 'object') {\n            this.message = msgOrInner.name + \" \" + msgOrInner.message;\n            this.inner = msgOrInner;\n        }\n    }\n    derive(DexieError).from(BaseException);\n    obj[name] = DexieError;\n    return obj;\n}, {});\n// Use ECMASCRIPT standard exceptions where applicable:\nexceptions.Syntax = SyntaxError;\nexceptions.Type = TypeError;\nexceptions.Range = RangeError;\nvar exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n    obj[name + \"Error\"] = exceptions[name];\n    return obj;\n}, {});\nfunction mapError(domError, message) {\n    if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n        return domError;\n    var rv = new exceptionMap[domError.name](message || domError.message, domError);\n    if (\"stack\" in domError) {\n        // Derive stack from inner exception if it has a stack\n        setProp(rv, \"stack\", { get: function () {\n                return this.inner.stack;\n            } });\n    }\n    return rv;\n}\nvar fullNameExceptions = errorList.reduce(function (obj, name) {\n    if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n        obj[name + \"Error\"] = exceptions[name];\n    return obj;\n}, {});\nfullNameExceptions.ModifyError = ModifyError;\nfullNameExceptions.DexieError = DexieError;\nfullNameExceptions.BulkError = BulkError;\n\nfunction nop() { }\nfunction mirror(val) { return val; }\nfunction pureFunctionChain(f1, f2) {\n    // Enables chained events that takes ONE argument and returns it to the next function in chain.\n    // This pattern is used in the hook(\"reading\") event.\n    if (f1 == null || f1 === mirror)\n        return f2;\n    return function (val) {\n        return f2(f1(val));\n    };\n}\nfunction callBoth(on1, on2) {\n    return function () {\n        on1.apply(this, arguments);\n        on2.apply(this, arguments);\n    };\n}\nfunction hookCreatingChain(f1, f2) {\n    // Enables chained events that takes several arguments and may modify first argument by making a modification and then returning the same instance.\n    // This pattern is used in the hook(\"creating\") event.\n    if (f1 === nop)\n        return f2;\n    return function () {\n        var res = f1.apply(this, arguments);\n        if (res !== undefined)\n            arguments[0] = res;\n        var onsuccess = this.onsuccess, // In case event listener has set this.onsuccess\n        onerror = this.onerror; // In case event listener has set this.onerror\n        this.onsuccess = null;\n        this.onerror = null;\n        var res2 = f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        return res2 !== undefined ? res2 : res;\n    };\n}\nfunction hookDeletingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        f1.apply(this, arguments);\n        var onsuccess = this.onsuccess, // In case event listener has set this.onsuccess\n        onerror = this.onerror; // In case event listener has set this.onerror\n        this.onsuccess = this.onerror = null;\n        f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n    };\n}\nfunction hookUpdatingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function (modifications) {\n        var res = f1.apply(this, arguments);\n        extend(modifications, res); // If f1 returns new modifications, extend caller's modifications with the result before calling next in chain.\n        var onsuccess = this.onsuccess, // In case event listener has set this.onsuccess\n        onerror = this.onerror; // In case event listener has set this.onerror\n        this.onsuccess = null;\n        this.onerror = null;\n        var res2 = f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        return res === undefined ?\n            (res2 === undefined ? undefined : res2) :\n            (extend(res, res2));\n    };\n}\nfunction reverseStoppableEventChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        if (f2.apply(this, arguments) === false)\n            return false;\n        return f1.apply(this, arguments);\n    };\n}\n\nfunction promisableChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        var res = f1.apply(this, arguments);\n        if (res && typeof res.then === 'function') {\n            var thiz = this, i = arguments.length, args = new Array(i);\n            while (i--)\n                args[i] = arguments[i];\n            return res.then(function () {\n                return f2.apply(thiz, args);\n            });\n        }\n        return f2.apply(this, arguments);\n    };\n}\n\n/*\n * Copyright (c) 2014-2017 David Fahlander\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/LICENSE-2.0\n */\n//\n// Promise and Zone (PSD) for Dexie library\n//\n// I started out writing this Promise class by copying promise-light (https://github.com/taylorhakes/promise-light) by\n// https://github.com/taylorhakes - an A+ and ECMASCRIPT 6 compliant Promise implementation.\n//\n// In previous versions this was fixed by not calling setTimeout when knowing that the resolve() or reject() came from another\n// tick. In Dexie v1.4.0, I've rewritten the Promise class entirely. Just some fragments of promise-light is left. I use\n// another strategy now that simplifies everything a lot: to always execute callbacks in a new micro-task, but have an own micro-task\n// engine that is indexedDB compliant across all browsers.\n// Promise class has also been optimized a lot with inspiration from bluebird - to avoid closures as much as possible.\n// Also with inspiration from bluebird, asyncronic stacks in debug mode.\n//\n// Specific non-standard features of this Promise class:\n// * Custom zone support (a.k.a. PSD) with ability to keep zones also when using native promises as well as\n//   native async / await.\n// * Promise.follow() method built upon the custom zone engine, that allows user to track all promises created from current stack frame\n//   and below + all promises that those promises creates or awaits.\n// * Detect any unhandled promise in a PSD-scope (PSD.onunhandled). \n//\n// David Fahlander, https://github.com/dfahlander\n//\n// Just a pointer that only this module knows about.\n// Used in Promise constructor to emulate a private constructor.\nvar INTERNAL = {};\n// Async stacks (long stacks) must not grow infinitely.\nvar LONG_STACKS_CLIP_LIMIT = 100;\nvar MAX_LONG_STACKS = 20;\nvar ZONE_ECHO_LIMIT = 7;\nvar nativePromiseInstanceAndProto = (function () {\n    try {\n        // Be able to patch native async functions\n        return new Function(\"let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];\")();\n    }\n    catch (e) {\n        var P = _global.Promise;\n        return P ?\n            [P.resolve(), P.prototype, P.resolve()] :\n            [];\n    }\n})();\nvar resolvedNativePromise = nativePromiseInstanceAndProto[0];\nvar nativePromiseProto = nativePromiseInstanceAndProto[1];\nvar resolvedGlobalPromise = nativePromiseInstanceAndProto[2];\nvar nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\nvar NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\nvar AsyncFunction = nativePromiseInstanceAndProto[3];\nvar patchGlobalPromise = !!resolvedGlobalPromise;\nvar stack_being_generated = false;\n/* The default function used only for the very first promise in a promise chain.\n   As soon as then promise is resolved or rejected, all next tasks will be executed in micro ticks\n   emulated in this module. For indexedDB compatibility, this means that every method needs to\n   execute at least one promise before doing an indexedDB operation. Dexie will always call\n   db.ready().then() for every operation to make sure the indexedDB event is started in an\n   indexedDB-compatible emulated micro task loop.\n*/\nvar schedulePhysicalTick = resolvedGlobalPromise ?\n    function () { resolvedGlobalPromise.then(physicalTick); }\n    :\n        _global.setImmediate ?\n            // setImmediate supported. Those modern platforms also supports Function.bind().\n            setImmediate.bind(null, physicalTick) :\n            _global.MutationObserver ?\n                // MutationObserver supported\n                function () {\n                    var hiddenDiv = document.createElement(\"div\");\n                    (new MutationObserver(function () {\n                        physicalTick();\n                        hiddenDiv = null;\n                    })).observe(hiddenDiv, { attributes: true });\n                    hiddenDiv.setAttribute('i', '1');\n                } :\n                // No support for setImmediate or MutationObserver. No worry, setTimeout is only called\n                // once time. Every tick that follows will be our emulated micro tick.\n                // Could have uses setTimeout.bind(null, 0, physicalTick) if it wasnt for that FF13 and below has a bug \n                function () { setTimeout(physicalTick, 0); };\n// Configurable through Promise.scheduler.\n// Don't export because it would be unsafe to let unknown\n// code call it unless they do try..catch within their callback.\n// This function can be retrieved through getter of Promise.scheduler though,\n// but users must not do Promise.scheduler = myFuncThatThrowsException\nvar asap$1 = function (callback, args) {\n    microtickQueue.push([callback, args]);\n    if (needsNewPhysicalTick) {\n        schedulePhysicalTick();\n        needsNewPhysicalTick = false;\n    }\n};\nvar isOutsideMicroTick = true;\nvar needsNewPhysicalTick = true;\nvar unhandledErrors = [];\nvar rejectingErrors = [];\nvar currentFulfiller = null;\nvar rejectionMapper = mirror; // Remove in next major when removing error mapping of DOMErrors and DOMExceptions\nvar globalPSD = {\n    id: 'global',\n    global: true,\n    ref: 0,\n    unhandleds: [],\n    onunhandled: globalError,\n    pgp: false,\n    env: {},\n    finalize: function () {\n        this.unhandleds.forEach(function (uh) {\n            try {\n                globalError(uh[0], uh[1]);\n            }\n            catch (e) { }\n        });\n    }\n};\nvar PSD = globalPSD;\nvar microtickQueue = []; // Callbacks to call in this or next physical tick.\nvar numScheduledCalls = 0; // Number of listener-calls left to do in this physical tick.\nvar tickFinalizers = []; // Finalizers to call when there are no more async calls scheduled within current physical tick.\nfunction Promise(fn) {\n    if (typeof this !== 'object')\n        throw new TypeError('Promises must be constructed via new');\n    this._listeners = [];\n    this.onuncatched = nop; // Deprecate in next major. Not needed. Better to use global error handler.\n    // A library may set `promise._lib = true;` after promise is created to make resolve() or reject()\n    // execute the microtask engine implicitely within the call to resolve() or reject().\n    // To remain A+ compliant, a library must only set `_lib=true` if it can guarantee that the stack\n    // only contains library code when calling resolve() or reject().\n    // RULE OF THUMB: ONLY set _lib = true for promises explicitely resolving/rejecting directly from\n    // global scope (event handler, timer etc)!\n    this._lib = false;\n    // Current async scope\n    var psd = (this._PSD = PSD);\n    if (debug) {\n        this._stackHolder = getErrorWithStack();\n        this._prev = null;\n        this._numPrev = 0; // Number of previous promises (for long stacks)\n    }\n    if (typeof fn !== 'function') {\n        if (fn !== INTERNAL)\n            throw new TypeError('Not a function');\n        // Private constructor (INTERNAL, state, value).\n        // Used internally by Promise.resolve() and Promise.reject().\n        this._state = arguments[1];\n        this._value = arguments[2];\n        if (this._state === false)\n            handleRejection(this, this._value); // Map error, set stack and addPossiblyUnhandledError().\n        return;\n    }\n    this._state = null; // null (=pending), false (=rejected) or true (=resolved)\n    this._value = null; // error or result\n    ++psd.ref; // Refcounting current scope\n    executePromiseTask(this, fn);\n}\n// Prepare a property descriptor to put onto Promise.prototype.then\nvar thenProp = {\n    get: function () {\n        var psd = PSD, microTaskId = totalEchoes;\n        function then(onFulfilled, onRejected) {\n            var _this = this;\n            var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n            if (possibleAwait)\n                decrementExpectedAwaits();\n            var rv = new Promise(function (resolve, reject) {\n                propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait), resolve, reject, psd));\n            });\n            debug && linkToPreviousPromise(rv, this);\n            return rv;\n        }\n        then.prototype = INTERNAL; // For idempotense, see setter below.\n        return then;\n    },\n    // Be idempotent and allow another framework (such as zone.js or another instance of a Dexie.Promise module) to replace Promise.prototype.then\n    // and when that framework wants to restore the original property, we must identify that and restore the original property descriptor.\n    set: function (value) {\n        setProp(this, 'then', value && value.prototype === INTERNAL ?\n            thenProp : // Restore to original property descriptor.\n            {\n                get: function () {\n                    return value; // Getter returning provided value (behaves like value is just changed)\n                },\n                set: thenProp.set // Keep a setter that is prepared to restore original.\n            });\n    }\n};\nprops(Promise.prototype, {\n    then: thenProp,\n    _then: function (onFulfilled, onRejected) {\n        // A little tinier version of then() that don't have to create a resulting promise.\n        propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n    },\n    catch: function (onRejected) {\n        if (arguments.length === 1)\n            return this.then(null, onRejected);\n        // First argument is the Error type to catch\n        var type = arguments[0], handler = arguments[1];\n        return typeof type === 'function' ? this.then(null, function (err) {\n            // Catching errors by its constructor type (similar to java / c++ / c#)\n            // Sample: promise.catch(TypeError, function (e) { ... });\n            return err instanceof type ? handler(err) : PromiseReject(err);\n        })\n            : this.then(null, function (err) {\n                // Catching errors by the error.name property. Makes sense for indexedDB where error type\n                // is always DOMError but where e.name tells the actual error type.\n                // Sample: promise.catch('ConstraintError', function (e) { ... });\n                return err && err.name === type ? handler(err) : PromiseReject(err);\n            });\n    },\n    finally: function (onFinally) {\n        return this.then(function (value) {\n            onFinally();\n            return value;\n        }, function (err) {\n            onFinally();\n            return PromiseReject(err);\n        });\n    },\n    stack: {\n        get: function () {\n            if (this._stack)\n                return this._stack;\n            try {\n                stack_being_generated = true;\n                var stacks = getStack(this, [], MAX_LONG_STACKS);\n                var stack = stacks.join(\"\\nFrom previous: \");\n                if (this._state !== null)\n                    this._stack = stack; // Stack may be updated on reject.\n                return stack;\n            }\n            finally {\n                stack_being_generated = false;\n            }\n        }\n    },\n    timeout: function (ms, msg) {\n        var _this = this;\n        return ms < Infinity ?\n            new Promise(function (resolve, reject) {\n                var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);\n                _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n            }) : this;\n    }\n});\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n    setProp(Promise.prototype, Symbol.toStringTag, 'Promise');\n// Now that Promise.prototype is defined, we have all it takes to set globalPSD.env.\n// Environment globals snapshotted on leaving global zone\nglobalPSD.env = snapShot();\nfunction Listener(onFulfilled, onRejected, resolve, reject, zone) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.resolve = resolve;\n    this.reject = reject;\n    this.psd = zone;\n}\n// Promise Static Properties\nprops(Promise, {\n    all: function () {\n        var values = getArrayOf.apply(null, arguments) // Supports iterables, implicit arguments and array-like.\n            .map(onPossibleParallellAsync); // Handle parallell async/awaits \n        return new Promise(function (resolve, reject) {\n            if (values.length === 0)\n                resolve([]);\n            var remaining = values.length;\n            values.forEach(function (a, i) { return Promise.resolve(a).then(function (x) {\n                values[i] = x;\n                if (!--remaining)\n                    resolve(values);\n            }, reject); });\n        });\n    },\n    resolve: function (value) {\n        if (value instanceof Promise)\n            return value;\n        if (value && typeof value.then === 'function')\n            return new Promise(function (resolve, reject) {\n                value.then(resolve, reject);\n            });\n        var rv = new Promise(INTERNAL, true, value);\n        linkToPreviousPromise(rv, currentFulfiller);\n        return rv;\n    },\n    reject: PromiseReject,\n    race: function () {\n        var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n        return new Promise(function (resolve, reject) {\n            values.map(function (value) { return Promise.resolve(value).then(resolve, reject); });\n        });\n    },\n    PSD: {\n        get: function () { return PSD; },\n        set: function (value) { return PSD = value; }\n    },\n    //totalEchoes: {get: ()=>totalEchoes},\n    //task: {get: ()=>task},\n    newPSD: newScope,\n    usePSD: usePSD,\n    scheduler: {\n        get: function () { return asap$1; },\n        set: function (value) { asap$1 = value; }\n    },\n    rejectionMapper: {\n        get: function () { return rejectionMapper; },\n        set: function (value) { rejectionMapper = value; } // Map reject failures\n    },\n    follow: function (fn, zoneProps) {\n        return new Promise(function (resolve, reject) {\n            return newScope(function (resolve, reject) {\n                var psd = PSD;\n                psd.unhandleds = []; // For unhandled standard- or 3rd party Promises. Checked at psd.finalize()\n                psd.onunhandled = reject; // Triggered directly on unhandled promises of this library.\n                psd.finalize = callBoth(function () {\n                    var _this = this;\n                    // Unhandled standard or 3rd part promises are put in PSD.unhandleds and\n                    // examined upon scope completion while unhandled rejections in this Promise\n                    // will trigger directly through psd.onunhandled\n                    run_at_end_of_this_or_next_physical_tick(function () {\n                        _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n                    });\n                }, psd.finalize);\n                fn();\n            }, zoneProps, resolve, reject);\n        });\n    }\n});\n/**\n* Take a potentially misbehaving resolver function and make sure\n* onFulfilled and onRejected are only called once.\n*\n* Makes no guarantees about asynchrony.\n*/\nfunction executePromiseTask(promise, fn) {\n    // Promise Resolution Procedure:\n    // https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    try {\n        fn(function (value) {\n            if (promise._state !== null)\n                return; // Already settled\n            if (value === promise)\n                throw new TypeError('A promise cannot be resolved with itself.');\n            var shouldExecuteTick = promise._lib && beginMicroTickScope();\n            if (value && typeof value.then === 'function') {\n                executePromiseTask(promise, function (resolve, reject) {\n                    value instanceof Promise ?\n                        value._then(resolve, reject) :\n                        value.then(resolve, reject);\n                });\n            }\n            else {\n                promise._state = true;\n                promise._value = value;\n                propagateAllListeners(promise);\n            }\n            if (shouldExecuteTick)\n                endMicroTickScope();\n        }, handleRejection.bind(null, promise)); // If Function.bind is not supported. Exception is handled in catch below\n    }\n    catch (ex) {\n        handleRejection(promise, ex);\n    }\n}\nfunction handleRejection(promise, reason) {\n    rejectingErrors.push(reason);\n    if (promise._state !== null)\n        return;\n    var shouldExecuteTick = promise._lib && beginMicroTickScope();\n    reason = rejectionMapper(reason);\n    promise._state = false;\n    promise._value = reason;\n    debug && reason !== null && typeof reason === 'object' && !reason._promise && tryCatch(function () {\n        var origProp = getPropertyDescriptor(reason, \"stack\");\n        reason._promise = promise;\n        setProp(reason, \"stack\", {\n            get: function () {\n                return stack_being_generated ?\n                    origProp && (origProp.get ?\n                        origProp.get.apply(reason) :\n                        origProp.value) :\n                    promise.stack;\n            }\n        });\n    });\n    // Add the failure to a list of possibly uncaught errors\n    addPossiblyUnhandledError(promise);\n    propagateAllListeners(promise);\n    if (shouldExecuteTick)\n        endMicroTickScope();\n}\nfunction propagateAllListeners(promise) {\n    //debug && linkToPreviousPromise(promise);\n    var listeners = promise._listeners;\n    promise._listeners = [];\n    for (var i = 0, len = listeners.length; i < len; ++i) {\n        propagateToListener(promise, listeners[i]);\n    }\n    var psd = promise._PSD;\n    --psd.ref || psd.finalize(); // if psd.ref reaches zero, call psd.finalize();\n    if (numScheduledCalls === 0) {\n        // If numScheduledCalls is 0, it means that our stack is not in a callback of a scheduled call,\n        // and that no deferreds where listening to this rejection or success.\n        // Since there is a risk that our stack can contain application code that may\n        // do stuff after this code is finished that may generate new calls, we cannot\n        // call finalizers here.\n        ++numScheduledCalls;\n        asap$1(function () {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick(); // Will detect unhandled errors\n        }, []);\n    }\n}\nfunction propagateToListener(promise, listener) {\n    if (promise._state === null) {\n        promise._listeners.push(listener);\n        return;\n    }\n    var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n    if (cb === null) {\n        // This Listener doesnt have a listener for the event being triggered (onFulfilled or onReject) so lets forward the event to any eventual listeners on the Promise instance returned by then() or catch()\n        return (promise._state ? listener.resolve : listener.reject)(promise._value);\n    }\n    ++listener.psd.ref;\n    ++numScheduledCalls;\n    asap$1(callListener, [cb, promise, listener]);\n}\nfunction callListener(cb, promise, listener) {\n    try {\n        // Set static variable currentFulfiller to the promise that is being fullfilled,\n        // so that we connect the chain of promises (for long stacks support)\n        currentFulfiller = promise;\n        // Call callback and resolve our listener with it's return value.\n        var ret, value = promise._value;\n        if (promise._state) {\n            // cb is onResolved\n            ret = cb(value);\n        }\n        else {\n            // cb is onRejected\n            if (rejectingErrors.length)\n                rejectingErrors = [];\n            ret = cb(value);\n            if (rejectingErrors.indexOf(value) === -1)\n                markErrorAsHandled(promise); // Callback didnt do Promise.reject(err) nor reject(err) onto another promise.\n        }\n        listener.resolve(ret);\n    }\n    catch (e) {\n        // Exception thrown in callback. Reject our listener.\n        listener.reject(e);\n    }\n    finally {\n        // Restore env and currentFulfiller.\n        currentFulfiller = null;\n        if (--numScheduledCalls === 0)\n            finalizePhysicalTick();\n        --listener.psd.ref || listener.psd.finalize();\n    }\n}\nfunction getStack(promise, stacks, limit) {\n    if (stacks.length === limit)\n        return stacks;\n    var stack = \"\";\n    if (promise._state === false) {\n        var failure = promise._value, errorName, message;\n        if (failure != null) {\n            errorName = failure.name || \"Error\";\n            message = failure.message || failure;\n            stack = prettyStack(failure, 0);\n        }\n        else {\n            errorName = failure; // If error is undefined or null, show that.\n            message = \"\";\n        }\n        stacks.push(errorName + (message ? \": \" + message : \"\") + stack);\n    }\n    if (debug) {\n        stack = prettyStack(promise._stackHolder, 2);\n        if (stack && stacks.indexOf(stack) === -1)\n            stacks.push(stack);\n        if (promise._prev)\n            getStack(promise._prev, stacks, limit);\n    }\n    return stacks;\n}\nfunction linkToPreviousPromise(promise, prev) {\n    // Support long stacks by linking to previous completed promise.\n    var numPrev = prev ? prev._numPrev + 1 : 0;\n    if (numPrev < LONG_STACKS_CLIP_LIMIT) {\n        promise._prev = prev;\n        promise._numPrev = numPrev;\n    }\n}\n/* The callback to schedule with setImmediate() or setTimeout().\n   It runs a virtual microtick and executes any callback registered in microtickQueue.\n */\nfunction physicalTick() {\n    beginMicroTickScope() && endMicroTickScope();\n}\nfunction beginMicroTickScope() {\n    var wasRootExec = isOutsideMicroTick;\n    isOutsideMicroTick = false;\n    needsNewPhysicalTick = false;\n    return wasRootExec;\n}\n/* Executes micro-ticks without doing try..catch.\n   This can be possible because we only use this internally and\n   the registered functions are exception-safe (they do try..catch\n   internally before calling any external method). If registering\n   functions in the microtickQueue that are not exception-safe, this\n   would destroy the framework and make it instable. So we don't export\n   our asap method.\n*/\nfunction endMicroTickScope() {\n    var callbacks, i, l;\n    do {\n        while (microtickQueue.length > 0) {\n            callbacks = microtickQueue;\n            microtickQueue = [];\n            l = callbacks.length;\n            for (i = 0; i < l; ++i) {\n                var item = callbacks[i];\n                item[0].apply(null, item[1]);\n            }\n        }\n    } while (microtickQueue.length > 0);\n    isOutsideMicroTick = true;\n    needsNewPhysicalTick = true;\n}\nfunction finalizePhysicalTick() {\n    var unhandledErrs = unhandledErrors;\n    unhandledErrors = [];\n    unhandledErrs.forEach(function (p) {\n        p._PSD.onunhandled.call(null, p._value, p);\n    });\n    var finalizers = tickFinalizers.slice(0); // Clone first because finalizer may remove itself from list.\n    var i = finalizers.length;\n    while (i)\n        finalizers[--i]();\n}\nfunction run_at_end_of_this_or_next_physical_tick(fn) {\n    function finalizer() {\n        fn();\n        tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n    }\n    tickFinalizers.push(finalizer);\n    ++numScheduledCalls;\n    asap$1(function () {\n        if (--numScheduledCalls === 0)\n            finalizePhysicalTick();\n    }, []);\n}\nfunction addPossiblyUnhandledError(promise) {\n    // Only add to unhandledErrors if not already there. The first one to add to this list\n    // will be upon the first rejection so that the root cause (first promise in the\n    // rejection chain) is the one listed.\n    if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))\n        unhandledErrors.push(promise);\n}\nfunction markErrorAsHandled(promise) {\n    // Called when a reject handled is actually being called.\n    // Search in unhandledErrors for any promise whos _value is this promise_value (list\n    // contains only rejected promises, and only one item per error)\n    var i = unhandledErrors.length;\n    while (i)\n        if (unhandledErrors[--i]._value === promise._value) {\n            // Found a promise that failed with this same error object pointer,\n            // Remove that since there is a listener that actually takes care of it.\n            unhandledErrors.splice(i, 1);\n            return;\n        }\n}\nfunction PromiseReject(reason) {\n    return new Promise(INTERNAL, false, reason);\n}\nfunction wrap(fn, errorCatcher) {\n    var psd = PSD;\n    return function () {\n        var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn.apply(this, arguments);\n        }\n        catch (e) {\n            errorCatcher && errorCatcher(e);\n        }\n        finally {\n            switchToZone(outerScope, false);\n            if (wasRootExec)\n                endMicroTickScope();\n        }\n    };\n}\n//\n// variables used for native await support\n//\nvar task = { awaits: 0, echoes: 0, id: 0 }; // The ongoing macro-task when using zone-echoing.\nvar taskCounter = 0; // ID counter for macro tasks.\nvar zoneStack = []; // Stack of left zones to restore asynchronically.\nvar zoneEchoes = 0; // zoneEchoes is a must in order to persist zones between native await expressions.\nvar totalEchoes = 0; // ID counter for micro-tasks. Used to detect possible native await in our Promise.prototype.then.\nvar zone_id_counter = 0;\nfunction newScope(fn, props$$1, a1, a2) {\n    var parent = PSD, psd = Object.create(parent);\n    psd.parent = parent;\n    psd.ref = 0;\n    psd.global = false;\n    psd.id = ++zone_id_counter;\n    // Prepare for promise patching (done in usePSD):\n    var globalEnv = globalPSD.env;\n    psd.env = patchGlobalPromise ? {\n        Promise: Promise,\n        PromiseProp: { value: Promise, configurable: true, writable: true },\n        all: Promise.all,\n        race: Promise.race,\n        resolve: Promise.resolve,\n        reject: Promise.reject,\n        nthen: getPatchedPromiseThen(globalEnv.nthen, psd),\n        gthen: getPatchedPromiseThen(globalEnv.gthen, psd) // global then\n    } : {};\n    if (props$$1)\n        extend(psd, props$$1);\n    // unhandleds and onunhandled should not be specifically set here.\n    // Leave them on parent prototype.\n    // unhandleds.push(err) will push to parent's prototype\n    // onunhandled() will call parents onunhandled (with this scope's this-pointer though!)\n    ++parent.ref;\n    psd.finalize = function () {\n        --this.parent.ref || this.parent.finalize();\n    };\n    var rv = usePSD(psd, fn, a1, a2);\n    if (psd.ref === 0)\n        psd.finalize();\n    return rv;\n}\n// Function to call if scopeFunc returns NativePromise\n// Also for each NativePromise in the arguments to Promise.all()\nfunction incrementExpectedAwaits() {\n    if (!task.id)\n        task.id = ++taskCounter;\n    ++task.awaits;\n    task.echoes += ZONE_ECHO_LIMIT;\n    return task.id;\n}\n// Function to call when 'then' calls back on a native promise where onAwaitExpected() had been called.\n// Also call this when a native await calls then method on a promise. In that case, don't supply\n// sourceTaskId because we already know it refers to current task.\nfunction decrementExpectedAwaits(sourceTaskId) {\n    if (!task.awaits || (sourceTaskId && sourceTaskId !== task.id))\n        return;\n    if (--task.awaits === 0)\n        task.id = 0;\n    task.echoes = task.awaits * ZONE_ECHO_LIMIT; // Will reset echoes to 0 if awaits is 0.\n}\n// Call from Promise.all() and Promise.race()\nfunction onPossibleParallellAsync(possiblePromise) {\n    if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n        incrementExpectedAwaits();\n        return possiblePromise.then(function (x) {\n            decrementExpectedAwaits();\n            return x;\n        }, function (e) {\n            decrementExpectedAwaits();\n            return rejection(e);\n        });\n    }\n    return possiblePromise;\n}\nfunction zoneEnterEcho(targetZone) {\n    ++totalEchoes;\n    if (!task.echoes || --task.echoes === 0) {\n        task.echoes = task.id = 0; // Cancel zone echoing.\n    }\n    zoneStack.push(PSD);\n    switchToZone(targetZone, true);\n}\nfunction zoneLeaveEcho() {\n    var zone = zoneStack[zoneStack.length - 1];\n    zoneStack.pop();\n    switchToZone(zone, false);\n}\nfunction switchToZone(targetZone, bEnteringZone) {\n    var currentZone = PSD;\n    if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n        // Enter or leave zone asynchronically as well, so that tasks initiated during current tick\n        // will be surrounded by the zone when they are invoked.\n        enqueueNativeMicroTask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n    }\n    if (targetZone === PSD)\n        return;\n    PSD = targetZone; // The actual zone switch occurs at this line.\n    // Snapshot on every leave from global zone.\n    if (currentZone === globalPSD)\n        globalPSD.env = snapShot();\n    if (patchGlobalPromise) {\n        // Let's patch the global and native Promises (may be same or may be different)\n        var GlobalPromise = globalPSD.env.Promise;\n        // Swich environments (may be PSD-zone or the global zone. Both apply.)\n        var targetEnv = targetZone.env;\n        // Change Promise.prototype.then for native and global Promise (they MAY differ on polyfilled environments, but both can be accessed)\n        // Must be done on each zone change because the patched method contains targetZone in its closure.\n        nativePromiseProto.then = targetEnv.nthen;\n        GlobalPromise.prototype.then = targetEnv.gthen;\n        if (currentZone.global || targetZone.global) {\n            // Leaving or entering global zone. It's time to patch / restore global Promise.\n            // Set this Promise to window.Promise so that transiled async functions will work on Firefox, Safari and IE, as well as with Zonejs and angular.\n            Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n            // Support Promise.all() etc to work indexedDB-safe also when people are including es6-promise as a module (they might\n            // not be accessing global.Promise but a local reference to it)\n            GlobalPromise.all = targetEnv.all;\n            GlobalPromise.race = targetEnv.race;\n            GlobalPromise.resolve = targetEnv.resolve;\n            GlobalPromise.reject = targetEnv.reject;\n        }\n    }\n}\nfunction snapShot() {\n    var GlobalPromise = _global.Promise;\n    return patchGlobalPromise ? {\n        Promise: GlobalPromise,\n        PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n        all: GlobalPromise.all,\n        race: GlobalPromise.race,\n        resolve: GlobalPromise.resolve,\n        reject: GlobalPromise.reject,\n        nthen: nativePromiseProto.then,\n        gthen: GlobalPromise.prototype.then\n    } : {};\n}\nfunction usePSD(psd, fn, a1, a2, a3) {\n    var outerScope = PSD;\n    try {\n        switchToZone(psd, true);\n        return fn(a1, a2, a3);\n    }\n    finally {\n        switchToZone(outerScope, false);\n    }\n}\nfunction enqueueNativeMicroTask(job) {\n    //\n    // Precondition: nativePromiseThen !== undefined\n    //\n    nativePromiseThen.call(resolvedNativePromise, job);\n}\nfunction nativeAwaitCompatibleWrap(fn, zone, possibleAwait) {\n    return typeof fn !== 'function' ? fn : function () {\n        var outerZone = PSD;\n        if (possibleAwait)\n            incrementExpectedAwaits();\n        switchToZone(zone, true);\n        try {\n            return fn.apply(this, arguments);\n        }\n        finally {\n            switchToZone(outerZone, false);\n        }\n    };\n}\nfunction getPatchedPromiseThen(origThen, zone) {\n    return function (onResolved, onRejected) {\n        return origThen.call(this, nativeAwaitCompatibleWrap(onResolved, zone, false), nativeAwaitCompatibleWrap(onRejected, zone, false));\n    };\n}\nvar UNHANDLEDREJECTION = \"unhandledrejection\";\nfunction globalError(err, promise) {\n    var rv;\n    try {\n        rv = promise.onuncatched(err);\n    }\n    catch (e) { }\n    if (rv !== false)\n        try {\n            var event, eventData = { promise: promise, reason: err };\n            if (_global.document && document.createEvent) {\n                event = document.createEvent('Event');\n                event.initEvent(UNHANDLEDREJECTION, true, true);\n                extend(event, eventData);\n            }\n            else if (_global.CustomEvent) {\n                event = new CustomEvent(UNHANDLEDREJECTION, { detail: eventData });\n                extend(event, eventData);\n            }\n            if (event && _global.dispatchEvent) {\n                dispatchEvent(event);\n                if (!_global.PromiseRejectionEvent && _global.onunhandledrejection)\n                    // No native support for PromiseRejectionEvent but user has set window.onunhandledrejection. Manually call it.\n                    try {\n                        _global.onunhandledrejection(event);\n                    }\n                    catch (_) { }\n            }\n            if (!event.defaultPrevented) {\n                console.warn(\"Unhandled rejection: \" + (err.stack || err));\n            }\n        }\n        catch (e) { }\n}\nvar rejection = Promise.reject;\n\nfunction Events(ctx) {\n    var evs = {};\n    var rv = function (eventName, subscriber) {\n        if (subscriber) {\n            // Subscribe. If additional arguments than just the subscriber was provided, forward them as well.\n            var i = arguments.length, args = new Array(i - 1);\n            while (--i)\n                args[i - 1] = arguments[i];\n            evs[eventName].subscribe.apply(null, args);\n            return ctx;\n        }\n        else if (typeof (eventName) === 'string') {\n            // Return interface allowing to fire or unsubscribe from event\n            return evs[eventName];\n        }\n    };\n    rv.addEventType = add;\n    for (var i = 1, l = arguments.length; i < l; ++i) {\n        add(arguments[i]);\n    }\n    return rv;\n    function add(eventName, chainFunction, defaultFunction) {\n        if (typeof eventName === 'object')\n            return addConfiguredEvents(eventName);\n        if (!chainFunction)\n            chainFunction = reverseStoppableEventChain;\n        if (!defaultFunction)\n            defaultFunction = nop;\n        var context = {\n            subscribers: [],\n            fire: defaultFunction,\n            subscribe: function (cb) {\n                if (context.subscribers.indexOf(cb) === -1) {\n                    context.subscribers.push(cb);\n                    context.fire = chainFunction(context.fire, cb);\n                }\n            },\n            unsubscribe: function (cb) {\n                context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n            }\n        };\n        evs[eventName] = rv[eventName] = context;\n        return context;\n    }\n    function addConfiguredEvents(cfg) {\n        // events(this, {reading: [functionChain, nop]});\n        keys(cfg).forEach(function (eventName) {\n            var args = cfg[eventName];\n            if (isArray(args)) {\n                add(eventName, cfg[eventName][0], cfg[eventName][1]);\n            }\n            else if (args === 'asap') {\n                // Rather than approaching event subscription using a functional approach, we here do it in a for-loop where subscriber is executed in its own stack\n                // enabling that any exception that occur wont disturb the initiator and also not nescessary be catched and forgotten.\n                var context = add(eventName, mirror, function fire() {\n                    // Optimazation-safe cloning of arguments into args.\n                    var i = arguments.length, args = new Array(i);\n                    while (i--)\n                        args[i] = arguments[i];\n                    // All each subscriber:\n                    context.subscribers.forEach(function (fn) {\n                        asap(function fireEvent() {\n                            fn.apply(null, args);\n                        });\n                    });\n                });\n            }\n            else\n                throw new exceptions.InvalidArgument(\"Invalid event config\");\n        });\n    }\n}\n\n/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * Copyright (c) 2014-2017 David Fahlander\n *\n * Version 2.0.4, Fri May 25 2018\n *\n * http://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/LICENSE-2.0\n *\n */\nvar DEXIE_VERSION = '2.0.4';\nvar maxString = String.fromCharCode(65535);\nvar maxKey = (function () { try {\n    IDBKeyRange.only([[]]);\n    return [[]];\n}\ncatch (e) {\n    return maxString;\n} })();\nvar minKey = -Infinity;\nvar INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\nvar STRING_EXPECTED = \"String expected.\";\nvar connections = [];\nvar isIEOrEdge = typeof navigator !== 'undefined' && /(MSIE|Trident|Edge)/.test(navigator.userAgent);\nvar hasIEDeleteObjectStoreBug = isIEOrEdge;\nvar hangsOnDeleteLargeKeyRange = isIEOrEdge;\nvar dexieStackFrameFilter = function (frame) { return !/(dexie\\.js|dexie\\.min\\.js)/.test(frame); };\nvar dbNamesDB; // Global database for backing Dexie.getDatabaseNames() on browser without indexedDB.webkitGetDatabaseNames() \n// Init debug\nsetDebug(debug, dexieStackFrameFilter);\nfunction Dexie(dbName, options) {\n    /// <param name=\"options\" type=\"Object\" optional=\"true\">Specify only if you wich to control which addons that should run on this instance</param>\n    var deps = Dexie.dependencies;\n    var opts = extend({\n        // Default Options\n        addons: Dexie.addons,\n        autoOpen: true,\n        indexedDB: deps.indexedDB,\n        IDBKeyRange: deps.IDBKeyRange // Backend IDBKeyRange api. Default to browser env.\n    }, options);\n    var addons = opts.addons, autoOpen = opts.autoOpen, indexedDB = opts.indexedDB, IDBKeyRange = opts.IDBKeyRange;\n    var globalSchema = this._dbSchema = {};\n    var versions = [];\n    var dbStoreNames = [];\n    var allTables = {};\n    ///<var type=\"IDBDatabase\" />\n    var idbdb = null; // Instance of IDBDatabase\n    var dbOpenError = null;\n    var isBeingOpened = false;\n    var onReadyBeingFired = null;\n    var openComplete = false;\n    var READONLY = \"readonly\", READWRITE = \"readwrite\";\n    var db = this;\n    var dbReadyResolve, dbReadyPromise = new Promise(function (resolve) {\n        dbReadyResolve = resolve;\n    }), cancelOpen, openCanceller = new Promise(function (_, reject) {\n        cancelOpen = reject;\n    });\n    var autoSchema = true;\n    var hasNativeGetDatabaseNames = !!getNativeGetDatabaseNamesFn(indexedDB), hasGetAll;\n    function init() {\n        // Default subscribers to \"versionchange\" and \"blocked\".\n        // Can be overridden by custom handlers. If custom handlers return false, these default\n        // behaviours will be prevented.\n        db.on(\"versionchange\", function (ev) {\n            // Default behavior for versionchange event is to close database connection.\n            // Caller can override this behavior by doing db.on(\"versionchange\", function(){ return false; });\n            // Let's not block the other window from making it's delete() or open() call.\n            // NOTE! This event is never fired in IE,Edge or Safari.\n            if (ev.newVersion > 0)\n                console.warn(\"Another connection wants to upgrade database '\" + db.name + \"'. Closing db now to resume the upgrade.\");\n            else\n                console.warn(\"Another connection wants to delete database '\" + db.name + \"'. Closing db now to resume the delete request.\");\n            db.close();\n            // In many web applications, it would be recommended to force window.reload()\n            // when this event occurs. To do that, subscribe to the versionchange event\n            // and call window.location.reload(true) if ev.newVersion > 0 (not a deletion)\n            // The reason for this is that your current web app obviously has old schema code that needs\n            // to be updated. Another window got a newer version of the app and needs to upgrade DB but\n            // your window is blocking it unless we close it here.\n        });\n        db.on(\"blocked\", function (ev) {\n            if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                console.warn(\"Dexie.delete('\" + db.name + \"') was blocked\");\n            else\n                console.warn(\"Upgrade '\" + db.name + \"' blocked by other connection holding version \" + ev.oldVersion / 10);\n        });\n    }\n    //\n    //\n    //\n    // ------------------------- Versioning Framework---------------------------\n    //\n    //\n    //\n    this.version = function (versionNumber) {\n        /// <param name=\"versionNumber\" type=\"Number\"></param>\n        /// <returns type=\"Version\"></returns>\n        if (idbdb || isBeingOpened)\n            throw new exceptions.Schema(\"Cannot add version when database is open\");\n        this.verno = Math.max(this.verno, versionNumber);\n        var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];\n        if (versionInstance)\n            return versionInstance;\n        versionInstance = new Version(versionNumber);\n        versions.push(versionInstance);\n        versions.sort(lowerVersionFirst);\n        // Disable autoschema mode, as at least one version is specified.\n        autoSchema = false;\n        return versionInstance;\n    };\n    function Version(versionNumber) {\n        this._cfg = {\n            version: versionNumber,\n            storesSource: null,\n            dbschema: {},\n            tables: {},\n            contentUpgrade: null\n        };\n        this.stores({}); // Derive earlier schemas by default.\n    }\n    extend(Version.prototype, {\n        stores: function (stores) {\n            /// <summary>\n            ///   Defines the schema for a particular version\n            /// </summary>\n            /// <param name=\"stores\" type=\"Object\">\n            /// Example: <br/>\n            ///   {users: \"id++,first,last,&amp;username,*email\", <br/>\n            ///   passwords: \"id++,&amp;username\"}<br/>\n            /// <br/>\n            /// Syntax: {Table: \"[primaryKey][++],[&amp;][*]index1,[&amp;][*]index2,...\"}<br/><br/>\n            /// Special characters:<br/>\n            ///  \"&amp;\"  means unique key, <br/>\n            ///  \"*\"  means value is multiEntry, <br/>\n            ///  \"++\" means auto-increment and only applicable for primary key <br/>\n            /// </param>\n            this._cfg.storesSource = this._cfg.storesSource ? extend(this._cfg.storesSource, stores) : stores;\n            // Derive stores from earlier versions if they are not explicitely specified as null or a new syntax.\n            var storesSpec = {};\n            versions.forEach(function (version) {\n                extend(storesSpec, version._cfg.storesSource);\n            });\n            var dbschema = (this._cfg.dbschema = {});\n            this._parseStoresSpec(storesSpec, dbschema);\n            // Update the latest schema to this version\n            // Update API\n            globalSchema = db._dbSchema = dbschema;\n            removeTablesApi([allTables, db, Transaction.prototype]); // Keep Transaction.prototype even though it should be depr.\n            setApiOnPlace([allTables, db, Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n            dbStoreNames = keys(dbschema);\n            return this;\n        },\n        upgrade: function (upgradeFunction) {\n            this._cfg.contentUpgrade = upgradeFunction;\n            return this;\n        },\n        _parseStoresSpec: function (stores, outSchema) {\n            keys(stores).forEach(function (tableName) {\n                if (stores[tableName] !== null) {\n                    var instanceTemplate = {};\n                    var indexes = parseIndexSyntax(stores[tableName]);\n                    var primKey = indexes.shift();\n                    if (primKey.multi)\n                        throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n                    if (primKey.keyPath)\n                        setByKeyPath(instanceTemplate, primKey.keyPath, primKey.auto ? 0 : primKey.keyPath);\n                    indexes.forEach(function (idx) {\n                        if (idx.auto)\n                            throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n                        if (!idx.keyPath)\n                            throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n                        setByKeyPath(instanceTemplate, idx.keyPath, idx.compound ? idx.keyPath.map(function () { return \"\"; }) : \"\");\n                    });\n                    outSchema[tableName] = new TableSchema(tableName, primKey, indexes, instanceTemplate);\n                }\n            });\n        }\n    });\n    function runUpgraders(oldVersion, idbtrans, reject) {\n        var trans = db._createTransaction(READWRITE, dbStoreNames, globalSchema);\n        trans.create(idbtrans);\n        trans._completion.catch(reject);\n        var rejectTransaction = trans._reject.bind(trans);\n        newScope(function () {\n            PSD.trans = trans;\n            if (oldVersion === 0) {\n                // Create tables:\n                keys(globalSchema).forEach(function (tableName) {\n                    createTable(idbtrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n                });\n                Promise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);\n            }\n            else\n                updateTablesAndIndexes(oldVersion, trans, idbtrans).catch(rejectTransaction);\n        });\n    }\n    function updateTablesAndIndexes(oldVersion, trans, idbtrans) {\n        // Upgrade version to version, step-by-step from oldest to newest version.\n        // Each transaction object will contain the table set that was current in that version (but also not-yet-deleted tables from its previous version)\n        var queue = [];\n        var oldVersionStruct = versions.filter(function (version) { return version._cfg.version === oldVersion; })[0];\n        if (!oldVersionStruct)\n            throw new exceptions.Upgrade(\"Dexie specification of currently installed DB version is missing\");\n        globalSchema = db._dbSchema = oldVersionStruct._cfg.dbschema;\n        var anyContentUpgraderHasRun = false;\n        var versToRun = versions.filter(function (v) { return v._cfg.version > oldVersion; });\n        versToRun.forEach(function (version) {\n            /// <param name=\"version\" type=\"Version\"></param>\n            queue.push(function () {\n                var oldSchema = globalSchema;\n                var newSchema = version._cfg.dbschema;\n                adjustToExistingIndexNames(oldSchema, idbtrans);\n                adjustToExistingIndexNames(newSchema, idbtrans);\n                globalSchema = db._dbSchema = newSchema;\n                var diff = getSchemaDiff(oldSchema, newSchema);\n                // Add tables           \n                diff.add.forEach(function (tuple) {\n                    createTable(idbtrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n                });\n                // Change tables\n                diff.change.forEach(function (change) {\n                    if (change.recreate) {\n                        throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                    }\n                    else {\n                        var store = idbtrans.objectStore(change.name);\n                        // Add indexes\n                        change.add.forEach(function (idx) {\n                            addIndex(store, idx);\n                        });\n                        // Update indexes\n                        change.change.forEach(function (idx) {\n                            store.deleteIndex(idx.name);\n                            addIndex(store, idx);\n                        });\n                        // Delete indexes\n                        change.del.forEach(function (idxName) {\n                            store.deleteIndex(idxName);\n                        });\n                    }\n                });\n                if (version._cfg.contentUpgrade) {\n                    anyContentUpgraderHasRun = true;\n                    return Promise.follow(function () {\n                        version._cfg.contentUpgrade(trans);\n                    });\n                }\n            });\n            queue.push(function (idbtrans) {\n                if (!anyContentUpgraderHasRun || !hasIEDeleteObjectStoreBug) {\n                    var newSchema = version._cfg.dbschema;\n                    // Delete old tables\n                    deleteRemovedTables(newSchema, idbtrans);\n                }\n            });\n        });\n        // Now, create a queue execution engine\n        function runQueue() {\n            return queue.length ? Promise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n                Promise.resolve();\n        }\n        return runQueue().then(function () {\n            createMissingTables(globalSchema, idbtrans); // At last, make sure to create any missing tables. (Needed by addons that add stores to DB without specifying version)\n        });\n    }\n    function getSchemaDiff(oldSchema, newSchema) {\n        var diff = {\n            del: [],\n            add: [],\n            change: [] // Array of {name: tableName, recreate: newDefinition, del: delIndexNames, add: newIndexDefs, change: changedIndexDefs}\n        };\n        for (var table in oldSchema) {\n            if (!newSchema[table])\n                diff.del.push(table);\n        }\n        for (table in newSchema) {\n            var oldDef = oldSchema[table], newDef = newSchema[table];\n            if (!oldDef) {\n                diff.add.push([table, newDef]);\n            }\n            else {\n                var change = {\n                    name: table,\n                    def: newDef,\n                    recreate: false,\n                    del: [],\n                    add: [],\n                    change: []\n                };\n                if (oldDef.primKey.src !== newDef.primKey.src) {\n                    // Primary key has changed. Remove and re-add table.\n                    change.recreate = true;\n                    diff.change.push(change);\n                }\n                else {\n                    // Same primary key. Just find out what differs:\n                    var oldIndexes = oldDef.idxByName;\n                    var newIndexes = newDef.idxByName;\n                    for (var idxName in oldIndexes) {\n                        if (!newIndexes[idxName])\n                            change.del.push(idxName);\n                    }\n                    for (idxName in newIndexes) {\n                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                        if (!oldIdx)\n                            change.add.push(newIdx);\n                        else if (oldIdx.src !== newIdx.src)\n                            change.change.push(newIdx);\n                    }\n                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                        diff.change.push(change);\n                    }\n                }\n            }\n        }\n        return diff;\n    }\n    function createTable(idbtrans, tableName, primKey, indexes) {\n        /// <param name=\"idbtrans\" type=\"IDBTransaction\"></param>\n        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ? { keyPath: primKey.keyPath, autoIncrement: primKey.auto } : { autoIncrement: primKey.auto });\n        indexes.forEach(function (idx) { addIndex(store, idx); });\n        return store;\n    }\n    function createMissingTables(newSchema, idbtrans) {\n        keys(newSchema).forEach(function (tableName) {\n            if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n            }\n        });\n    }\n    function deleteRemovedTables(newSchema, idbtrans) {\n        for (var i = 0; i < idbtrans.db.objectStoreNames.length; ++i) {\n            var storeName = idbtrans.db.objectStoreNames[i];\n            if (newSchema[storeName] == null) {\n                idbtrans.db.deleteObjectStore(storeName);\n            }\n        }\n    }\n    function addIndex(store, idx) {\n        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n    }\n    //\n    //\n    //      Dexie Protected API\n    //\n    //\n    this._allTables = allTables;\n    this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) {\n        return new Transaction(mode, storeNames, dbschema, parentTransaction);\n    };\n    /* Generate a temporary transaction when db operations are done outside a transaction scope.\n    */\n    function tempTransaction(mode, storeNames, fn) {\n        if (!openComplete && (!PSD.letThrough)) {\n            if (!isBeingOpened) {\n                if (!autoOpen)\n                    return rejection(new exceptions.DatabaseClosed());\n                db.open().catch(nop); // Open in background. If if fails, it will be catched by the final promise anyway.\n            }\n            return dbReadyPromise.then(function () { return tempTransaction(mode, storeNames, fn); });\n        }\n        else {\n            var trans = db._createTransaction(mode, storeNames, globalSchema);\n            try {\n                trans.create();\n            }\n            catch (ex) {\n                return rejection(ex);\n            }\n            return trans._promise(mode, function (resolve, reject) {\n                return newScope(function () {\n                    PSD.trans = trans;\n                    return fn(resolve, reject, trans);\n                });\n            }).then(function (result) {\n                // Instead of resolving value directly, wait with resolving it until transaction has completed.\n                // Otherwise the data would not be in the DB if requesting it in the then() operation.\n                // Specifically, to ensure that the following expression will work:\n                //\n                //   db.friends.put({name: \"Arne\"}).then(function () {\n                //       db.friends.where(\"name\").equals(\"Arne\").count(function(count) {\n                //           assert (count === 1);\n                //       });\n                //   });\n                //\n                return trans._completion.then(function () { return result; });\n            }); /*.catch(err => { // Don't do this as of now. If would affect bulk- and modify methods in a way that could be more intuitive. But wait! Maybe change in next major.\n                trans._reject(err);\n                return rejection(err);\n            });*/\n        }\n    }\n    this._whenReady = function (fn) {\n        return openComplete || PSD.letThrough ? fn() : new Promise(function (resolve, reject) {\n            if (!isBeingOpened) {\n                if (!autoOpen) {\n                    reject(new exceptions.DatabaseClosed());\n                    return;\n                }\n                db.open().catch(nop); // Open in background. If if fails, it will be catched by the final promise anyway.\n            }\n            dbReadyPromise.then(resolve, reject);\n        }).then(fn);\n    };\n    //\n    //\n    //\n    //\n    //      Dexie API\n    //\n    //\n    //\n    this.verno = 0;\n    this.open = function () {\n        if (isBeingOpened || idbdb)\n            return dbReadyPromise.then(function () { return dbOpenError ? rejection(dbOpenError) : db; });\n        debug && (openCanceller._stackHolder = getErrorWithStack()); // Let stacks point to when open() was called rather than where new Dexie() was called.\n        isBeingOpened = true;\n        dbOpenError = null;\n        openComplete = false;\n        // Function pointers to call when the core opening process completes.\n        var resolveDbReady = dbReadyResolve, \n        // upgradeTransaction to abort on failure.\n        upgradeTransaction = null;\n        return Promise.race([openCanceller, new Promise(function (resolve, reject) {\n                // Multiply db.verno with 10 will be needed to workaround upgrading bug in IE:\n                // IE fails when deleting objectStore after reading from it.\n                // A future version of Dexie.js will stopover an intermediate version to workaround this.\n                // At that point, we want to be backward compatible. Could have been multiplied with 2, but by using 10, it is easier to map the number to the real version number.\n                // If no API, throw!\n                if (!indexedDB)\n                    throw new exceptions.MissingAPI(\"indexedDB API not found. If using IE10+, make sure to run your code on a server URL \" +\n                        \"(not locally). If using old Safari versions, make sure to include indexedDB polyfill.\");\n                var req = autoSchema ? indexedDB.open(dbName) : indexedDB.open(dbName, Math.round(db.verno * 10));\n                if (!req)\n                    throw new exceptions.MissingAPI(\"IndexedDB API not available\"); // May happen in Safari private mode, see https://github.com/dfahlander/Dexie.js/issues/134\n                req.onerror = eventRejectHandler(reject);\n                req.onblocked = wrap(fireOnBlocked);\n                req.onupgradeneeded = wrap(function (e) {\n                    upgradeTransaction = req.transaction;\n                    if (autoSchema && !db._allowEmptyDB) {\n                        // Caller did not specify a version or schema. Doing that is only acceptable for opening alread existing databases.\n                        // If onupgradeneeded is called it means database did not exist. Reject the open() promise and make sure that we\n                        // do not create a new database by accident here.\n                        req.onerror = preventDefault; // Prohibit onabort error from firing before we're done!\n                        upgradeTransaction.abort(); // Abort transaction (would hope that this would make DB disappear but it doesnt.)\n                        // Close database and delete it.\n                        req.result.close();\n                        var delreq = indexedDB.deleteDatabase(dbName); // The upgrade transaction is atomic, and javascript is single threaded - meaning that there is no risk that we delete someone elses database here!\n                        delreq.onsuccess = delreq.onerror = wrap(function () {\n                            reject(new exceptions.NoSuchDatabase(\"Database \" + dbName + \" doesnt exist\"));\n                        });\n                    }\n                    else {\n                        upgradeTransaction.onerror = eventRejectHandler(reject);\n                        var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion; // Safari 8 fix.\n                        runUpgraders(oldVer / 10, upgradeTransaction, reject, req);\n                    }\n                }, reject);\n                req.onsuccess = wrap(function () {\n                    // Core opening procedure complete. Now let's just record some stuff.\n                    upgradeTransaction = null;\n                    idbdb = req.result;\n                    connections.push(db); // Used for emulating versionchange event on IE/Edge/Safari.\n                    if (autoSchema)\n                        readGlobalSchema();\n                    else if (idbdb.objectStoreNames.length > 0) {\n                        try {\n                            adjustToExistingIndexNames(globalSchema, idbdb.transaction(safariMultiStoreFix(idbdb.objectStoreNames), READONLY));\n                        }\n                        catch (e) {\n                            // Safari may bail out if > 1 store names. However, this shouldnt be a showstopper. Issue #120.\n                        }\n                    }\n                    idbdb.onversionchange = wrap(function (ev) {\n                        db._vcFired = true; // detect implementations that not support versionchange (IE/Edge/Safari)\n                        db.on(\"versionchange\").fire(ev);\n                    });\n                    if (!hasNativeGetDatabaseNames && dbName !== '__dbnames') {\n                        dbNamesDB.dbnames.put({ name: dbName }).catch(nop);\n                    }\n                    resolve();\n                }, reject);\n            })]).then(function () {\n            // Before finally resolving the dbReadyPromise and this promise,\n            // call and await all on('ready') subscribers:\n            // Dexie.vip() makes subscribers able to use the database while being opened.\n            // This is a must since these subscribers take part of the opening procedure.\n            onReadyBeingFired = [];\n            return Promise.resolve(Dexie.vip(db.on.ready.fire)).then(function fireRemainders() {\n                if (onReadyBeingFired.length > 0) {\n                    // In case additional subscribers to db.on('ready') were added during the time db.on.ready.fire was executed.\n                    var remainders = onReadyBeingFired.reduce(promisableChain, nop);\n                    onReadyBeingFired = [];\n                    return Promise.resolve(Dexie.vip(remainders)).then(fireRemainders);\n                }\n            });\n        }).finally(function () {\n            onReadyBeingFired = null;\n        }).then(function () {\n            // Resolve the db.open() with the db instance.\n            isBeingOpened = false;\n            return db;\n        }).catch(function (err) {\n            try {\n                // Did we fail within onupgradeneeded? Make sure to abort the upgrade transaction so it doesnt commit.\n                upgradeTransaction && upgradeTransaction.abort();\n            }\n            catch (e) { }\n            isBeingOpened = false; // Set before calling db.close() so that it doesnt reject openCanceller again (leads to unhandled rejection event).\n            db.close(); // Closes and resets idbdb, removes connections, resets dbReadyPromise and openCanceller so that a later db.open() is fresh.\n            // A call to db.close() may have made on-ready subscribers fail. Use dbOpenError if set, since err could be a follow-up error on that.\n            dbOpenError = err; // Record the error. It will be used to reject further promises of db operations.\n            return rejection(dbOpenError);\n        }).finally(function () {\n            openComplete = true;\n            resolveDbReady(); // dbReadyPromise is resolved no matter if open() rejects or resolved. It's just to wake up waiters.\n        });\n    };\n    this.close = function () {\n        var idx = connections.indexOf(db);\n        if (idx >= 0)\n            connections.splice(idx, 1);\n        if (idbdb) {\n            try {\n                idbdb.close();\n            }\n            catch (e) { }\n            idbdb = null;\n        }\n        autoOpen = false;\n        dbOpenError = new exceptions.DatabaseClosed();\n        if (isBeingOpened)\n            cancelOpen(dbOpenError);\n        // Reset dbReadyPromise promise:\n        dbReadyPromise = new Promise(function (resolve) {\n            dbReadyResolve = resolve;\n        });\n        openCanceller = new Promise(function (_, reject) {\n            cancelOpen = reject;\n        });\n    };\n    this.delete = function () {\n        var hasArguments = arguments.length > 0;\n        return new Promise(function (resolve, reject) {\n            if (hasArguments)\n                throw new exceptions.InvalidArgument(\"Arguments not allowed in db.delete()\");\n            if (isBeingOpened) {\n                dbReadyPromise.then(doDelete);\n            }\n            else {\n                doDelete();\n            }\n            function doDelete() {\n                db.close();\n                var req = indexedDB.deleteDatabase(dbName);\n                req.onsuccess = wrap(function () {\n                    if (!hasNativeGetDatabaseNames) {\n                        dbNamesDB.dbnames.delete(dbName).catch(nop);\n                    }\n                    resolve();\n                });\n                req.onerror = eventRejectHandler(reject);\n                req.onblocked = fireOnBlocked;\n            }\n        });\n    };\n    this.backendDB = function () {\n        return idbdb;\n    };\n    this.isOpen = function () {\n        return idbdb !== null;\n    };\n    this.hasBeenClosed = function () {\n        return dbOpenError && (dbOpenError instanceof exceptions.DatabaseClosed);\n    };\n    this.hasFailed = function () {\n        return dbOpenError !== null;\n    };\n    this.dynamicallyOpened = function () {\n        return autoSchema;\n    };\n    //\n    // Properties\n    //\n    this.name = dbName;\n    // db.tables - an array of all Table instances.\n    props(this, {\n        tables: {\n            get: function () {\n                /// <returns type=\"Array\" elementType=\"Table\" />\n                return keys(allTables).map(function (name) { return allTables[name]; });\n            }\n        }\n    });\n    //\n    // Events\n    //\n    this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", { ready: [promisableChain, nop] });\n    this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n        return function (subscriber, bSticky) {\n            Dexie.vip(function () {\n                if (openComplete) {\n                    // Database already open. Call subscriber asap.\n                    if (!dbOpenError)\n                        Promise.resolve().then(subscriber);\n                    // bSticky: Also subscribe to future open sucesses (after close / reopen) \n                    if (bSticky)\n                        subscribe(subscriber);\n                }\n                else if (onReadyBeingFired) {\n                    // db.on('ready') subscribers are currently being executed and have not yet resolved or rejected\n                    onReadyBeingFired.push(subscriber);\n                    if (bSticky)\n                        subscribe(subscriber);\n                }\n                else {\n                    // Database not yet open. Subscribe to it.\n                    subscribe(subscriber);\n                    // If bSticky is falsy, make sure to unsubscribe subscriber when fired once.\n                    if (!bSticky)\n                        subscribe(function unsubscribe() {\n                            db.on.ready.unsubscribe(subscriber);\n                            db.on.ready.unsubscribe(unsubscribe);\n                        });\n                }\n            });\n        };\n    });\n    this.transaction = function () {\n        /// <summary>\n        ///\n        /// </summary>\n        /// <param name=\"mode\" type=\"String\">\"r\" for readonly, or \"rw\" for readwrite</param>\n        /// <param name=\"tableInstances\">Table instance, Array of Table instances, String or String Array of object stores to include in the transaction</param>\n        /// <param name=\"scopeFunc\" type=\"Function\">Function to execute with transaction</param>\n        var args = extractTransactionArgs.apply(this, arguments);\n        return this._transaction.apply(this, args);\n    };\n    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n        // Let table arguments be all arguments between mode and last argument.\n        var i = arguments.length;\n        if (i < 2)\n            throw new exceptions.InvalidArgument(\"Too few arguments\");\n        // Prevent optimzation killer (https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments)\n        // and clone arguments except the first one into local var 'args'.\n        var args = new Array(i - 1);\n        while (--i)\n            args[i - 1] = arguments[i];\n        // Let scopeFunc be the last argument and pop it so that args now only contain the table arguments.\n        scopeFunc = args.pop();\n        var tables = flatten(args); // Support using array as middle argument, or a mix of arrays and non-arrays.\n        return [mode, tables, scopeFunc];\n    }\n    this._transaction = function (mode, tables, scopeFunc) {\n        var parentTransaction = PSD.trans;\n        // Check if parent transactions is bound to this db instance, and if caller wants to reuse it\n        if (!parentTransaction || parentTransaction.db !== db || mode.indexOf('!') !== -1)\n            parentTransaction = null;\n        var onlyIfCompatible = mode.indexOf('?') !== -1;\n        mode = mode.replace('!', '').replace('?', ''); // Ok. Will change arguments[0] as well but we wont touch arguments henceforth.\n        try {\n            //\n            // Get storeNames from arguments. Either through given table instances, or through given table names.\n            //\n            var storeNames = tables.map(function (table) {\n                var storeName = table instanceof Table ? table.name : table;\n                if (typeof storeName !== 'string')\n                    throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                return storeName;\n            });\n            //\n            // Resolve mode. Allow shortcuts \"r\" and \"rw\".\n            //\n            if (mode == \"r\" || mode == READONLY)\n                mode = READONLY;\n            else if (mode == \"rw\" || mode == READWRITE)\n                mode = READWRITE;\n            else\n                throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n            if (parentTransaction) {\n                // Basic checks\n                if (parentTransaction.mode === READONLY && mode === READWRITE) {\n                    if (onlyIfCompatible) {\n                        // Spawn new transaction instead.\n                        parentTransaction = null;\n                    }\n                    else\n                        throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                }\n                if (parentTransaction) {\n                    storeNames.forEach(function (storeName) {\n                        if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                            if (onlyIfCompatible) {\n                                // Spawn new transaction instead.\n                                parentTransaction = null;\n                            }\n                            else\n                                throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                    \" not included in parent transaction.\");\n                        }\n                    });\n                }\n                if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                    // '?' mode should not keep using an inactive transaction.\n                    parentTransaction = null;\n                }\n            }\n        }\n        catch (e) {\n            return parentTransaction ?\n                parentTransaction._promise(null, function (_, reject) { reject(e); }) :\n                rejection(e);\n        }\n        // If this is a sub-transaction, lock the parent and then launch the sub-transaction.\n        return (parentTransaction ?\n            parentTransaction._promise(mode, enterTransactionScope, \"lock\") :\n            PSD.trans ?\n                // no parent transaction despite PSD.trans exists. Make sure also\n                // that the zone we create is not a sub-zone of current, because\n                // Promise.follow() should not wait for it if so.\n                usePSD(PSD.transless, function () { return db._whenReady(enterTransactionScope); }) :\n                db._whenReady(enterTransactionScope));\n        function enterTransactionScope() {\n            return Promise.resolve().then(function () {\n                // Keep a pointer to last non-transactional PSD to use if someone calls Dexie.ignoreTransaction().\n                var transless = PSD.transless || PSD;\n                // Our transaction.\n                //return new Promise((resolve, reject) => {\n                var trans = db._createTransaction(mode, storeNames, globalSchema, parentTransaction);\n                // Let the transaction instance be part of a Promise-specific data (PSD) value.\n                var zoneProps = {\n                    trans: trans,\n                    transless: transless\n                };\n                if (parentTransaction) {\n                    // Emulate transaction commit awareness for inner transaction (must 'commit' when the inner transaction has no more operations ongoing)\n                    trans.idbtrans = parentTransaction.idbtrans;\n                }\n                else {\n                    trans.create(); // Create the backend transaction so that complete() or error() will trigger even if no operation is made upon it.\n                }\n                // Support for native async await.\n                if (scopeFunc.constructor === AsyncFunction) {\n                    incrementExpectedAwaits();\n                }\n                var returnValue;\n                var promiseFollowed = Promise.follow(function () {\n                    // Finally, call the scope function with our table and transaction arguments.\n                    returnValue = scopeFunc.call(trans, trans);\n                    if (returnValue) {\n                        if (returnValue.constructor === NativePromise) {\n                            var decrementor = decrementExpectedAwaits.bind(null, null);\n                            returnValue.then(decrementor, decrementor);\n                        }\n                        else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                            // scopeFunc returned an iterator with throw-support. Handle yield as await.\n                            returnValue = awaitIterator(returnValue);\n                        }\n                    }\n                }, zoneProps);\n                return (returnValue && typeof returnValue.then === 'function' ?\n                    // Promise returned. User uses promise-style transactions.\n                    Promise.resolve(returnValue).then(function (x) { return trans.active ?\n                        x // Transaction still active. Continue.\n                        : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")); })\n                    // No promise returned. Wait for all outstanding promises before continuing. \n                    : promiseFollowed.then(function () { return returnValue; })).then(function (x) {\n                    // sub transactions don't react to idbtrans.oncomplete. We must trigger a completion:\n                    if (parentTransaction)\n                        trans._resolve();\n                    // wait for trans._completion\n                    // (if root transaction, this means 'complete' event. If sub-transaction, we've just fired it ourselves)\n                    return trans._completion.then(function () { return x; });\n                }).catch(function (e) {\n                    trans._reject(e); // Yes, above then-handler were maybe not called because of an unhandled rejection in scopeFunc!\n                    return rejection(e);\n                });\n            });\n        }\n    };\n    this.table = function (tableName) {\n        /// <returns type=\"Table\"></returns>\n        if (!hasOwn(allTables, tableName)) {\n            throw new exceptions.InvalidTable(\"Table \" + tableName + \" does not exist\");\n        }\n        return allTables[tableName];\n    };\n    //\n    //\n    //\n    // Table Class\n    //\n    //\n    //\n    function Table(name, tableSchema, optionalTrans) {\n        /// <param name=\"name\" type=\"String\"></param>\n        this.name = name;\n        this.schema = tableSchema;\n        this._tx = optionalTrans;\n        this.hook = allTables[name] ? allTables[name].hook : Events(null, {\n            \"creating\": [hookCreatingChain, nop],\n            \"reading\": [pureFunctionChain, mirror],\n            \"updating\": [hookUpdatingChain, nop],\n            \"deleting\": [hookDeletingChain, nop]\n        });\n    }\n    function BulkErrorHandlerCatchAll(errorList, done, supportHooks) {\n        return (supportHooks ? hookedEventRejectHandler : eventRejectHandler)(function (e) {\n            errorList.push(e);\n            done && done();\n        });\n    }\n    function bulkDelete(idbstore, trans, keysOrTuples, hasDeleteHook, deletingHook) {\n        // If hasDeleteHook, keysOrTuples must be an array of tuples: [[key1, value2],[key2,value2],...],\n        // else keysOrTuples must be just an array of keys: [key1, key2, ...].\n        return new Promise(function (resolve, reject) {\n            var len = keysOrTuples.length, lastItem = len - 1;\n            if (len === 0)\n                return resolve();\n            if (!hasDeleteHook) {\n                for (var i = 0; i < len; ++i) {\n                    var req = idbstore.delete(keysOrTuples[i]);\n                    req.onerror = eventRejectHandler(reject);\n                    if (i === lastItem)\n                        req.onsuccess = wrap(function () { return resolve(); });\n                }\n            }\n            else {\n                var hookCtx, errorHandler = hookedEventRejectHandler(reject), successHandler = hookedEventSuccessHandler(null);\n                tryCatch(function () {\n                    for (var i = 0; i < len; ++i) {\n                        hookCtx = { onsuccess: null, onerror: null };\n                        var tuple = keysOrTuples[i];\n                        deletingHook.call(hookCtx, tuple[0], tuple[1], trans);\n                        var req = idbstore.delete(tuple[0]);\n                        req._hookCtx = hookCtx;\n                        req.onerror = errorHandler;\n                        if (i === lastItem)\n                            req.onsuccess = hookedEventSuccessHandler(resolve);\n                        else\n                            req.onsuccess = successHandler;\n                    }\n                }, function (err) {\n                    hookCtx.onerror && hookCtx.onerror(err);\n                    throw err;\n                });\n            }\n        });\n    }\n    props(Table.prototype, {\n        //\n        // Table Protected Methods\n        //\n        _trans: function getTransaction(mode, fn, writeLocked) {\n            var trans = this._tx || PSD.trans;\n            return trans && trans.db === db ?\n                trans === PSD.trans ?\n                    trans._promise(mode, fn, writeLocked) :\n                    newScope(function () { return trans._promise(mode, fn, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :\n                tempTransaction(mode, [this.name], fn);\n        },\n        _idbstore: function getIDBObjectStore(mode, fn, writeLocked) {\n            var tableName = this.name;\n            function supplyIdbStore(resolve, reject, trans) {\n                if (trans.storeNames.indexOf(tableName) === -1)\n                    throw new exceptions.NotFound(\"Table\" + tableName + \" not part of transaction\");\n                return fn(resolve, reject, trans.idbtrans.objectStore(tableName), trans);\n            }\n            return this._trans(mode, supplyIdbStore, writeLocked);\n        },\n        //\n        // Table Public Methods\n        //\n        get: function (keyOrCrit, cb) {\n            if (keyOrCrit && keyOrCrit.constructor === Object)\n                return this.where(keyOrCrit).first(cb);\n            var self = this;\n            return this._idbstore(READONLY, function (resolve, reject, idbstore) {\n                var req = idbstore.get(keyOrCrit);\n                req.onerror = eventRejectHandler(reject);\n                req.onsuccess = wrap(function () {\n                    resolve(self.hook.reading.fire(req.result));\n                }, reject);\n            }).then(cb);\n        },\n        where: function (indexOrCrit) {\n            if (typeof indexOrCrit === 'string')\n                return new WhereClause(this, indexOrCrit);\n            if (isArray(indexOrCrit))\n                return new WhereClause(this, \"[\" + indexOrCrit.join('+') + \"]\");\n            // indexOrCrit is an object map of {[keyPath]:value} \n            var keyPaths = keys(indexOrCrit);\n            if (keyPaths.length === 1)\n                // Only one critera. This was the easy case:\n                return this\n                    .where(keyPaths[0])\n                    .equals(indexOrCrit[keyPaths[0]]);\n            // Multiple criterias.\n            // Let's try finding a compound index that matches all keyPaths in\n            // arbritary order:\n            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n                return ix.compound &&\n                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; }) &&\n                    ix.keyPath.every(function (keyPath) { return keyPaths.indexOf(keyPath) >= 0; });\n            })[0];\n            if (compoundIndex && maxKey !== maxString)\n                // Cool! We found such compound index\n                // and this browser supports compound indexes (maxKey !== maxString)!\n                return this\n                    .where(compoundIndex.name)\n                    .equals(compoundIndex.keyPath.map(function (kp) { return indexOrCrit[kp]; }));\n            if (!compoundIndex)\n                console.warn(\"The query \" + JSON.stringify(indexOrCrit) + \" on \" + this.name + \" would benefit of a \" +\n                    (\"compound index [\" + keyPaths.join('+') + \"]\"));\n            // Ok, now let's fallback to finding at least one matching index\n            // and filter the rest.\n            var idxByName = this.schema.idxByName;\n            var simpleIndex = keyPaths.reduce(function (r, keyPath) { return [\n                r[0] || idxByName[keyPath],\n                r[0] || !idxByName[keyPath] ?\n                    combine(r[1], function (x) { return '' + getByKeyPath(x, keyPath) ==\n                        '' + indexOrCrit[keyPath]; })\n                    : r[1]\n            ]; }, [null, null]);\n            var idx = simpleIndex[0];\n            return idx ?\n                this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                    .filter(simpleIndex[1]) :\n                compoundIndex ?\n                    this.filter(simpleIndex[1]) : // Has compound but browser bad. Allow filter.\n                    this.where(keyPaths).equals(''); // No index at all. Fail lazily.\n        },\n        count: function (cb) {\n            return this.toCollection().count(cb);\n        },\n        offset: function (offset) {\n            return this.toCollection().offset(offset);\n        },\n        limit: function (numRows) {\n            return this.toCollection().limit(numRows);\n        },\n        reverse: function () {\n            return this.toCollection().reverse();\n        },\n        filter: function (filterFunction) {\n            return this.toCollection().and(filterFunction);\n        },\n        each: function (fn) {\n            return this.toCollection().each(fn);\n        },\n        toArray: function (cb) {\n            return this.toCollection().toArray(cb);\n        },\n        orderBy: function (index) {\n            return new Collection(new WhereClause(this, isArray(index) ?\n                \"[\" + index.join('+') + \"]\" :\n                index));\n        },\n        toCollection: function () {\n            return new Collection(new WhereClause(this));\n        },\n        mapToClass: function (constructor, structure) {\n            /// <summary>\n            ///     Map table to a javascript constructor function. Objects returned from the database will be instances of this class, making\n            ///     it possible to the instanceOf operator as well as extending the class using constructor.prototype.method = function(){...}.\n            /// </summary>\n            /// <param name=\"constructor\">Constructor function representing the class.</param>\n            /// <param name=\"structure\" optional=\"true\">Helps IDE code completion by knowing the members that objects contain and not just the indexes. Also\n            /// know what type each member has. Example: {name: String, emailAddresses: [String], password}</param>\n            this.schema.mappedClass = constructor;\n            var instanceTemplate = Object.create(constructor.prototype);\n            if (structure) {\n                // structure and instanceTemplate is for IDE code competion only while constructor.prototype is for actual inheritance.\n                applyStructure(instanceTemplate, structure);\n            }\n            this.schema.instanceTemplate = instanceTemplate;\n            // Now, subscribe to the when(\"reading\") event to make all objects that come out from this table inherit from given class\n            // no matter which method to use for reading (Table.get() or Table.where(...)... )\n            var readHook = function (obj) {\n                if (!obj)\n                    return obj; // No valid object. (Value is null). Return as is.\n                // Create a new object that derives from constructor:\n                var res = Object.create(constructor.prototype);\n                // Clone members:\n                for (var m in obj)\n                    if (hasOwn(obj, m))\n                        try {\n                            res[m] = obj[m];\n                        }\n                        catch (_) { }\n                return res;\n            };\n            if (this.schema.readHook) {\n                this.hook.reading.unsubscribe(this.schema.readHook);\n            }\n            this.schema.readHook = readHook;\n            this.hook(\"reading\", readHook);\n            return constructor;\n        },\n        defineClass: function (structure) {\n            /// <summary>\n            ///     Define all members of the class that represents the table. This will help code completion of when objects are read from the database\n            ///     as well as making it possible to extend the prototype of the returned constructor function.\n            /// </summary>\n            /// <param name=\"structure\">Helps IDE code completion by knowing the members that objects contain and not just the indexes. Also\n            /// know what type each member has. Example: {name: String, emailAddresses: [String], properties: {shoeSize: Number}}</param>\n            return this.mapToClass(Dexie.defineClass(structure), structure);\n        },\n        bulkDelete: function (keys$$1) {\n            if (this.hook.deleting.fire === nop) {\n                return this._idbstore(READWRITE, function (resolve, reject, idbstore, trans) {\n                    resolve(bulkDelete(idbstore, trans, keys$$1, false, nop));\n                });\n            }\n            else {\n                return this\n                    .where(':id')\n                    .anyOf(keys$$1)\n                    .delete()\n                    .then(function () { }); // Resolve with undefined.\n            }\n        },\n        bulkPut: function (objects, keys$$1) {\n            var _this = this;\n            return this._idbstore(READWRITE, function (resolve, reject, idbstore) {\n                if (!idbstore.keyPath && !_this.schema.primKey.auto && !keys$$1)\n                    throw new exceptions.InvalidArgument(\"bulkPut() with non-inbound keys requires keys array in second argument\");\n                if (idbstore.keyPath && keys$$1)\n                    throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n                if (keys$$1 && keys$$1.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                if (objects.length === 0)\n                    return resolve(); // Caller provided empty list.\n                var done = function (result) {\n                    if (errorList.length === 0)\n                        resolve(result);\n                    else\n                        reject(new BulkError(_this.name + \".bulkPut(): \" + errorList.length + \" of \" + numObjs + \" operations failed\", errorList));\n                };\n                var req, errorList = [], errorHandler, numObjs = objects.length, table = _this;\n                if (_this.hook.creating.fire === nop && _this.hook.updating.fire === nop) {\n                    //\n                    // Standard Bulk (no 'creating' or 'updating' hooks to care about)\n                    //\n                    errorHandler = BulkErrorHandlerCatchAll(errorList);\n                    for (var i = 0, l = objects.length; i < l; ++i) {\n                        req = keys$$1 ? idbstore.put(objects[i], keys$$1[i]) : idbstore.put(objects[i]);\n                        req.onerror = errorHandler;\n                    }\n                    // Only need to catch success or error on the last operation\n                    // according to the IDB spec.\n                    req.onerror = BulkErrorHandlerCatchAll(errorList, done);\n                    req.onsuccess = eventSuccessHandler(done);\n                }\n                else {\n                    var effectiveKeys = keys$$1 || idbstore.keyPath && objects.map(function (o) { return getByKeyPath(o, idbstore.keyPath); });\n                    // Generate map of {[key]: object}\n                    var objectLookup = effectiveKeys && arrayToObject(effectiveKeys, function (key, i) { return key != null && [key, objects[i]]; });\n                    var promise = !effectiveKeys ?\n                        // Auto-incremented key-less objects only without any keys argument.\n                        table.bulkAdd(objects) :\n                        // Keys provided. Either as inbound in provided objects, or as a keys argument.\n                        // Begin with updating those that exists in DB:\n                        table.where(':id').anyOf(effectiveKeys.filter(function (key) { return key != null; })).modify(function () {\n                            this.value = objectLookup[this.primKey];\n                            objectLookup[this.primKey] = null; // Mark as \"don't add this\"\n                        }).catch(ModifyError, function (e) {\n                            errorList = e.failures; // No need to concat here. These are the first errors added.\n                        }).then(function () {\n                            // Now, let's examine which items didnt exist so we can add them:\n                            var objsToAdd = [], keysToAdd = keys$$1 && [];\n                            // Iterate backwards. Why? Because if same key was used twice, just add the last one.\n                            for (var i = effectiveKeys.length - 1; i >= 0; --i) {\n                                var key = effectiveKeys[i];\n                                if (key == null || objectLookup[key]) {\n                                    objsToAdd.push(objects[i]);\n                                    keys$$1 && keysToAdd.push(key);\n                                    if (key != null)\n                                        objectLookup[key] = null; // Mark as \"dont add again\"\n                                }\n                            }\n                            // The items are in reverse order so reverse them before adding.\n                            // Could be important in order to get auto-incremented keys the way the caller\n                            // would expect. Could have used unshift instead of push()/reverse(),\n                            // but: http://jsperf.com/unshift-vs-reverse\n                            objsToAdd.reverse();\n                            keys$$1 && keysToAdd.reverse();\n                            return table.bulkAdd(objsToAdd, keysToAdd);\n                        }).then(function (lastAddedKey) {\n                            // Resolve with key of the last object in given arguments to bulkPut():\n                            var lastEffectiveKey = effectiveKeys[effectiveKeys.length - 1]; // Key was provided.\n                            return lastEffectiveKey != null ? lastEffectiveKey : lastAddedKey;\n                        });\n                    promise.then(done).catch(BulkError, function (e) {\n                        // Concat failure from ModifyError and reject using our 'done' method.\n                        errorList = errorList.concat(e.failures);\n                        done();\n                    }).catch(reject);\n                }\n            }, \"locked\"); // If called from transaction scope, lock transaction til all steps are done.\n        },\n        bulkAdd: function (objects, keys$$1) {\n            var self = this, creatingHook = this.hook.creating.fire;\n            return this._idbstore(READWRITE, function (resolve, reject, idbstore, trans) {\n                if (!idbstore.keyPath && !self.schema.primKey.auto && !keys$$1)\n                    throw new exceptions.InvalidArgument(\"bulkAdd() with non-inbound keys requires keys array in second argument\");\n                if (idbstore.keyPath && keys$$1)\n                    throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n                if (keys$$1 && keys$$1.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                if (objects.length === 0)\n                    return resolve(); // Caller provided empty list.\n                function done(result) {\n                    if (errorList.length === 0)\n                        resolve(result);\n                    else\n                        reject(new BulkError(self.name + \".bulkAdd(): \" + errorList.length + \" of \" + numObjs + \" operations failed\", errorList));\n                }\n                var req, errorList = [], errorHandler, successHandler, numObjs = objects.length;\n                if (creatingHook !== nop) {\n                    //\n                    // There are subscribers to hook('creating')\n                    // Must behave as documented.\n                    //\n                    var keyPath = idbstore.keyPath, hookCtx;\n                    errorHandler = BulkErrorHandlerCatchAll(errorList, null, true);\n                    successHandler = hookedEventSuccessHandler(null);\n                    tryCatch(function () {\n                        for (var i = 0, l = objects.length; i < l; ++i) {\n                            hookCtx = { onerror: null, onsuccess: null };\n                            var key = keys$$1 && keys$$1[i];\n                            var obj = objects[i], effectiveKey = keys$$1 ? key : keyPath ? getByKeyPath(obj, keyPath) : undefined, keyToUse = creatingHook.call(hookCtx, effectiveKey, obj, trans);\n                            if (effectiveKey == null && keyToUse != null) {\n                                if (keyPath) {\n                                    obj = deepClone(obj);\n                                    setByKeyPath(obj, keyPath, keyToUse);\n                                }\n                                else {\n                                    key = keyToUse;\n                                }\n                            }\n                            req = key != null ? idbstore.add(obj, key) : idbstore.add(obj);\n                            req._hookCtx = hookCtx;\n                            if (i < l - 1) {\n                                req.onerror = errorHandler;\n                                if (hookCtx.onsuccess)\n                                    req.onsuccess = successHandler;\n                            }\n                        }\n                    }, function (err) {\n                        hookCtx.onerror && hookCtx.onerror(err);\n                        throw err;\n                    });\n                    req.onerror = BulkErrorHandlerCatchAll(errorList, done, true);\n                    req.onsuccess = hookedEventSuccessHandler(done);\n                }\n                else {\n                    //\n                    // Standard Bulk (no 'creating' hook to care about)\n                    //\n                    errorHandler = BulkErrorHandlerCatchAll(errorList);\n                    for (var i = 0, l = objects.length; i < l; ++i) {\n                        req = keys$$1 ? idbstore.add(objects[i], keys$$1[i]) : idbstore.add(objects[i]);\n                        req.onerror = errorHandler;\n                    }\n                    // Only need to catch success or error on the last operation\n                    // according to the IDB spec.\n                    req.onerror = BulkErrorHandlerCatchAll(errorList, done);\n                    req.onsuccess = eventSuccessHandler(done);\n                }\n            });\n        },\n        add: function (obj, key) {\n            /// <summary>\n            ///   Add an object to the database. In case an object with same primary key already exists, the object will not be added.\n            /// </summary>\n            /// <param name=\"obj\" type=\"Object\">A javascript object to insert</param>\n            /// <param name=\"key\" optional=\"true\">Primary key</param>\n            var creatingHook = this.hook.creating.fire;\n            return this._idbstore(READWRITE, function (resolve, reject, idbstore, trans) {\n                var hookCtx = { onsuccess: null, onerror: null };\n                if (creatingHook !== nop) {\n                    var effectiveKey = (key != null) ? key : (idbstore.keyPath ? getByKeyPath(obj, idbstore.keyPath) : undefined);\n                    var keyToUse = creatingHook.call(hookCtx, effectiveKey, obj, trans); // Allow subscribers to when(\"creating\") to generate the key.\n                    if (effectiveKey == null && keyToUse != null) {\n                        if (idbstore.keyPath)\n                            setByKeyPath(obj, idbstore.keyPath, keyToUse);\n                        else\n                            key = keyToUse;\n                    }\n                }\n                try {\n                    var req = key != null ? idbstore.add(obj, key) : idbstore.add(obj);\n                    req._hookCtx = hookCtx;\n                    req.onerror = hookedEventRejectHandler(reject);\n                    req.onsuccess = hookedEventSuccessHandler(function (result) {\n                        // TODO: Remove these two lines in next major release (2.0?)\n                        // It's no good practice to have side effects on provided parameters\n                        var keyPath = idbstore.keyPath;\n                        if (keyPath)\n                            setByKeyPath(obj, keyPath, result);\n                        resolve(result);\n                    });\n                }\n                catch (e) {\n                    if (hookCtx.onerror)\n                        hookCtx.onerror(e);\n                    throw e;\n                }\n            });\n        },\n        put: function (obj, key) {\n            var _this = this;\n            /// <summary>\n            ///   Add an object to the database but in case an object with same primary key alread exists, the existing one will get updated.\n            /// </summary>\n            /// <param name=\"obj\" type=\"Object\">A javascript object to insert or update</param>\n            /// <param name=\"key\" optional=\"true\">Primary key</param>\n            var creatingHook = this.hook.creating.fire, updatingHook = this.hook.updating.fire;\n            if (creatingHook !== nop || updatingHook !== nop) {\n                //\n                // People listens to when(\"creating\") or when(\"updating\") events!\n                // We must know whether the put operation results in an CREATE or UPDATE.\n                //\n                var keyPath = this.schema.primKey.keyPath;\n                var effectiveKey = (key !== undefined) ? key : (keyPath && getByKeyPath(obj, keyPath));\n                if (effectiveKey == null)\n                    return this.add(obj);\n                // Since key is optional, make sure we get it from obj if not provided\n                // Primary key exist. Lock transaction and try modifying existing. If nothing modified, call add().\n                // clone obj before this async call. If caller modifies obj the line after put(), the IDB spec requires that it should not affect operation.\n                obj = deepClone(obj);\n                return this._trans(READWRITE, function () {\n                    return _this.where(\":id\").equals(effectiveKey).modify(function () {\n                        // Replace extisting value with our object\n                        // CRUD event firing handled in Collection.modify()\n                        this.value = obj;\n                    }).then(function (count) { return count === 0 ? _this.add(obj, key) : effectiveKey; });\n                }, \"locked\"); // Lock needed because operation is splitted into modify() and add().\n            }\n            else {\n                // Use the standard IDB put() method.\n                return this._idbstore(READWRITE, function (resolve, reject, idbstore) {\n                    var req = key !== undefined ? idbstore.put(obj, key) : idbstore.put(obj);\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function (ev) {\n                        var keyPath = idbstore.keyPath;\n                        if (keyPath)\n                            setByKeyPath(obj, keyPath, ev.target.result);\n                        resolve(req.result);\n                    });\n                });\n            }\n        },\n        'delete': function (key) {\n            /// <param name=\"key\">Primary key of the object to delete</param>\n            if (this.hook.deleting.subscribers.length) {\n                // People listens to when(\"deleting\") event. Must implement delete using Collection.delete() that will\n                // call the CRUD event. Only Collection.delete() will know whether an object was actually deleted.\n                return this.where(\":id\").equals(key).delete();\n            }\n            else {\n                // No one listens. Use standard IDB delete() method.\n                return this._idbstore(READWRITE, function (resolve, reject, idbstore) {\n                    var req = idbstore.delete(key);\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function () {\n                        resolve(req.result);\n                    });\n                });\n            }\n        },\n        clear: function () {\n            if (this.hook.deleting.subscribers.length) {\n                // People listens to when(\"deleting\") event. Must implement delete using Collection.delete() that will\n                // call the CRUD event. Only Collection.delete() will knows which objects that are actually deleted.\n                return this.toCollection().delete();\n            }\n            else {\n                return this._idbstore(READWRITE, function (resolve, reject, idbstore) {\n                    var req = idbstore.clear();\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function () {\n                        resolve(req.result);\n                    });\n                });\n            }\n        },\n        update: function (keyOrObject, modifications) {\n            if (typeof modifications !== 'object' || isArray(modifications))\n                throw new exceptions.InvalidArgument(\"Modifications must be an object.\");\n            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n                // object to modify. Also modify given object with the modifications:\n                keys(modifications).forEach(function (keyPath) {\n                    setByKeyPath(keyOrObject, keyPath, modifications[keyPath]);\n                });\n                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n                if (key === undefined)\n                    return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n                return this.where(\":id\").equals(key).modify(modifications);\n            }\n            else {\n                // key to modify\n                return this.where(\":id\").equals(keyOrObject).modify(modifications);\n            }\n        }\n    });\n    //\n    //\n    //\n    // Transaction Class\n    //\n    //\n    //\n    function Transaction(mode, storeNames, dbschema, parent) {\n        var _this = this;\n        /// <summary>\n        ///    Transaction class. Represents a database transaction. All operations on db goes through a Transaction.\n        /// </summary>\n        /// <param name=\"mode\" type=\"String\">Any of \"readwrite\" or \"readonly\"</param>\n        /// <param name=\"storeNames\" type=\"Array\">Array of table names to operate on</param>\n        this.db = db;\n        this.mode = mode;\n        this.storeNames = storeNames;\n        this.idbtrans = null;\n        this.on = Events(this, \"complete\", \"error\", \"abort\");\n        this.parent = parent || null;\n        this.active = true;\n        this._reculock = 0;\n        this._blockedFuncs = [];\n        this._resolve = null;\n        this._reject = null;\n        this._waitingFor = null;\n        this._waitingQueue = null;\n        this._spinCount = 0; // Just for debugging waitFor()\n        this._completion = new Promise(function (resolve, reject) {\n            _this._resolve = resolve;\n            _this._reject = reject;\n        });\n        this._completion.then(function () {\n            _this.active = false;\n            _this.on.complete.fire();\n        }, function (e) {\n            var wasActive = _this.active;\n            _this.active = false;\n            _this.on.error.fire(e);\n            _this.parent ?\n                _this.parent._reject(e) :\n                wasActive && _this.idbtrans && _this.idbtrans.abort();\n            return rejection(e); // Indicate we actually DO NOT catch this error.\n        });\n    }\n    props(Transaction.prototype, {\n        //\n        // Transaction Protected Methods (not required by API users, but needed internally and eventually by dexie extensions)\n        //\n        _lock: function () {\n            assert(!PSD.global); // Locking and unlocking reuires to be within a PSD scope.\n            // Temporary set all requests into a pending queue if they are called before database is ready.\n            ++this._reculock; // Recursive read/write lock pattern using PSD (Promise Specific Data) instead of TLS (Thread Local Storage)\n            if (this._reculock === 1 && !PSD.global)\n                PSD.lockOwnerFor = this;\n            return this;\n        },\n        _unlock: function () {\n            assert(!PSD.global); // Locking and unlocking reuires to be within a PSD scope.\n            if (--this._reculock === 0) {\n                if (!PSD.global)\n                    PSD.lockOwnerFor = null;\n                while (this._blockedFuncs.length > 0 && !this._locked()) {\n                    var fnAndPSD = this._blockedFuncs.shift();\n                    try {\n                        usePSD(fnAndPSD[1], fnAndPSD[0]);\n                    }\n                    catch (e) { }\n                }\n            }\n            return this;\n        },\n        _locked: function () {\n            // Checks if any write-lock is applied on this transaction.\n            // To simplify the Dexie API for extension implementations, we support recursive locks.\n            // This is accomplished by using \"Promise Specific Data\" (PSD).\n            // PSD data is bound to a Promise and any child Promise emitted through then() or resolve( new Promise() ).\n            // PSD is local to code executing on top of the call stacks of any of any code executed by Promise():\n            //         * callback given to the Promise() constructor  (function (resolve, reject){...})\n            //         * callbacks given to then()/catch()/finally() methods (function (value){...})\n            // If creating a new independant Promise instance from within a Promise call stack, the new Promise will derive the PSD from the call stack of the parent Promise.\n            // Derivation is done so that the inner PSD __proto__ points to the outer PSD.\n            // PSD.lockOwnerFor will point to current transaction object if the currently executing PSD scope owns the lock.\n            return this._reculock && PSD.lockOwnerFor !== this;\n        },\n        create: function (idbtrans) {\n            var _this = this;\n            if (!this.mode)\n                return this;\n            assert(!this.idbtrans);\n            if (!idbtrans && !idbdb) {\n                switch (dbOpenError && dbOpenError.name) {\n                    case \"DatabaseClosedError\":\n                        // Errors where it is no difference whether it was caused by the user operation or an earlier call to db.open()\n                        throw new exceptions.DatabaseClosed(dbOpenError);\n                    case \"MissingAPIError\":\n                        // Errors where it is no difference whether it was caused by the user operation or an earlier call to db.open()\n                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                    default:\n                        // Make it clear that the user operation was not what caused the error - the error had occurred earlier on db.open()!\n                        throw new exceptions.OpenFailed(dbOpenError);\n                }\n            }\n            if (!this.active)\n                throw new exceptions.TransactionInactive();\n            assert(this._completion._state === null);\n            idbtrans = this.idbtrans = idbtrans || idbdb.transaction(safariMultiStoreFix(this.storeNames), this.mode);\n            idbtrans.onerror = wrap(function (ev) {\n                preventDefault(ev); // Prohibit default bubbling to window.error\n                _this._reject(idbtrans.error);\n            });\n            idbtrans.onabort = wrap(function (ev) {\n                preventDefault(ev);\n                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n                _this.active = false;\n                _this.on(\"abort\").fire(ev);\n            });\n            idbtrans.oncomplete = wrap(function () {\n                _this.active = false;\n                _this._resolve();\n            });\n            return this;\n        },\n        _promise: function (mode, fn, bWriteLock) {\n            var _this = this;\n            if (mode === READWRITE && this.mode !== READWRITE)\n                return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n            if (!this.active)\n                return rejection(new exceptions.TransactionInactive());\n            if (this._locked()) {\n                return new Promise(function (resolve, reject) {\n                    _this._blockedFuncs.push([function () {\n                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                        }, PSD]);\n                });\n            }\n            else if (bWriteLock) {\n                return newScope(function () {\n                    var p = new Promise(function (resolve, reject) {\n                        _this._lock();\n                        var rv = fn(resolve, reject, _this);\n                        if (rv && rv.then)\n                            rv.then(resolve, reject);\n                    });\n                    p.finally(function () { return _this._unlock(); });\n                    p._lib = true;\n                    return p;\n                });\n            }\n            else {\n                var p = new Promise(function (resolve, reject) {\n                    var rv = fn(resolve, reject, _this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p._lib = true;\n                return p;\n            }\n        },\n        _root: function () {\n            return this.parent ? this.parent._root() : this;\n        },\n        waitFor: function (promise) {\n            // Always operate on the root transaction (in case this is a sub stransaction)\n            var root = this._root();\n            // For stability reasons, convert parameter to promise no matter what type is passed to waitFor().\n            // (We must be able to call .then() on it.)\n            promise = Promise.resolve(promise);\n            if (root._waitingFor) {\n                // Already called waitFor(). Wait for both to complete.\n                root._waitingFor = root._waitingFor.then(function () { return promise; });\n            }\n            else {\n                // We're not in waiting state. Start waiting state.\n                root._waitingFor = promise;\n                root._waitingQueue = [];\n                // Start interacting with indexedDB until promise completes:\n                var store = root.idbtrans.objectStore(root.storeNames[0]);\n                (function spin() {\n                    ++root._spinCount; // For debugging only\n                    while (root._waitingQueue.length)\n                        (root._waitingQueue.shift())();\n                    if (root._waitingFor)\n                        store.get(-Infinity).onsuccess = spin;\n                }());\n            }\n            var currentWaitPromise = root._waitingFor;\n            return new Promise(function (resolve, reject) {\n                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {\n                    if (root._waitingFor === currentWaitPromise) {\n                        // No one added a wait after us. Safe to stop the spinning.\n                        root._waitingFor = null;\n                    }\n                });\n            });\n        },\n        //\n        // Transaction Public Properties and Methods\n        //\n        abort: function () {\n            this.active && this._reject(new exceptions.Abort());\n            this.active = false;\n        },\n        tables: {\n            get: deprecated(\"Transaction.tables\", function () { return allTables; })\n        },\n        table: function (name) {\n            var table = db.table(name); // Don't check that table is part of transaction. It must fail lazily!\n            return new Table(name, table.schema, this);\n        }\n    });\n    //\n    //\n    //\n    // WhereClause\n    //\n    //\n    //\n    function WhereClause(table, index, orCollection) {\n        /// <param name=\"table\" type=\"Table\"></param>\n        /// <param name=\"index\" type=\"String\" optional=\"true\"></param>\n        /// <param name=\"orCollection\" type=\"Collection\" optional=\"true\"></param>\n        this._ctx = {\n            table: table,\n            index: index === \":id\" ? null : index,\n            or: orCollection\n        };\n    }\n    props(WhereClause.prototype, function () {\n        // WhereClause private methods\n        function fail(collectionOrWhereClause, err, T) {\n            var collection = collectionOrWhereClause instanceof WhereClause ?\n                new Collection(collectionOrWhereClause) :\n                collectionOrWhereClause;\n            collection._ctx.error = T ? new T(err) : new TypeError(err);\n            return collection;\n        }\n        function emptyCollection(whereClause) {\n            return new Collection(whereClause, function () { return IDBKeyRange.only(\"\"); }).limit(0);\n        }\n        function upperFactory(dir) {\n            return dir === \"next\" ? function (s) { return s.toUpperCase(); } : function (s) { return s.toLowerCase(); };\n        }\n        function lowerFactory(dir) {\n            return dir === \"next\" ? function (s) { return s.toLowerCase(); } : function (s) { return s.toUpperCase(); };\n        }\n        function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n            var length = Math.min(key.length, lowerNeedle.length);\n            var llp = -1;\n            for (var i = 0; i < length; ++i) {\n                var lwrKeyChar = lowerKey[i];\n                if (lwrKeyChar !== lowerNeedle[i]) {\n                    if (cmp(key[i], upperNeedle[i]) < 0)\n                        return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n                    if (cmp(key[i], lowerNeedle[i]) < 0)\n                        return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n                    if (llp >= 0)\n                        return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n                    return null;\n                }\n                if (cmp(key[i], lwrKeyChar) < 0)\n                    llp = i;\n            }\n            if (length < lowerNeedle.length && dir === \"next\")\n                return key + upperNeedle.substr(key.length);\n            if (length < key.length && dir === \"prev\")\n                return key.substr(0, upperNeedle.length);\n            return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n        }\n        function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n            /// <param name=\"needles\" type=\"Array\" elementType=\"String\"></param>\n            var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n            if (!needles.every(function (s) { return typeof s === 'string'; })) {\n                return fail(whereClause, STRING_EXPECTED);\n            }\n            function initDirection(dir) {\n                upper = upperFactory(dir);\n                lower = lowerFactory(dir);\n                compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n                var needleBounds = needles.map(function (needle) {\n                    return { lower: lower(needle), upper: upper(needle) };\n                }).sort(function (a, b) {\n                    return compare(a.lower, b.lower);\n                });\n                upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n                lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n                direction = dir;\n                nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n            }\n            initDirection(\"next\");\n            var c = new Collection(whereClause, function () {\n                return IDBKeyRange.bound(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix);\n            });\n            c._ondirectionchange = function (direction) {\n                // This event onlys occur before filter is called the first time.\n                initDirection(direction);\n            };\n            var firstPossibleNeedle = 0;\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                /// <param name=\"cursor\" type=\"IDBCursor\"></param>\n                /// <param name=\"advance\" type=\"Function\"></param>\n                /// <param name=\"resolve\" type=\"Function\"></param>\n                var key = cursor.key;\n                if (typeof key !== 'string')\n                    return false;\n                var lowerKey = lower(key);\n                if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n                    return true;\n                }\n                else {\n                    var lowestPossibleCasing = null;\n                    for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                        var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                        if (casing === null && lowestPossibleCasing === null)\n                            firstPossibleNeedle = i + 1;\n                        else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                            lowestPossibleCasing = casing;\n                        }\n                    }\n                    if (lowestPossibleCasing !== null) {\n                        advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n                    }\n                    else {\n                        advance(resolve);\n                    }\n                    return false;\n                }\n            });\n            return c;\n        }\n        //\n        // WhereClause public methods\n        //\n        return {\n            between: function (lower, upper, includeLower, includeUpper) {\n                /// <summary>\n                ///     Filter out records whose where-field lays between given lower and upper values. Applies to Strings, Numbers and Dates.\n                /// </summary>\n                /// <param name=\"lower\"></param>\n                /// <param name=\"upper\"></param>\n                /// <param name=\"includeLower\" optional=\"true\">Whether items that equals lower should be included. Default true.</param>\n                /// <param name=\"includeUpper\" optional=\"true\">Whether items that equals upper should be included. Default false.</param>\n                /// <returns type=\"Collection\"></returns>\n                includeLower = includeLower !== false; // Default to true\n                includeUpper = includeUpper === true; // Default to false\n                try {\n                    if ((cmp(lower, upper) > 0) ||\n                        (cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                        return emptyCollection(this); // Workaround for idiotic W3C Specification that DataError must be thrown if lower > upper. The natural result would be to return an empty collection.\n                    return new Collection(this, function () { return IDBKeyRange.bound(lower, upper, !includeLower, !includeUpper); });\n                }\n                catch (e) {\n                    return fail(this, INVALID_KEY_ARGUMENT);\n                }\n            },\n            equals: function (value) {\n                return new Collection(this, function () { return IDBKeyRange.only(value); });\n            },\n            above: function (value) {\n                return new Collection(this, function () { return IDBKeyRange.lowerBound(value, true); });\n            },\n            aboveOrEqual: function (value) {\n                return new Collection(this, function () { return IDBKeyRange.lowerBound(value); });\n            },\n            below: function (value) {\n                return new Collection(this, function () { return IDBKeyRange.upperBound(value, true); });\n            },\n            belowOrEqual: function (value) {\n                return new Collection(this, function () { return IDBKeyRange.upperBound(value); });\n            },\n            startsWith: function (str) {\n                /// <param name=\"str\" type=\"String\"></param>\n                if (typeof str !== 'string')\n                    return fail(this, STRING_EXPECTED);\n                return this.between(str, str + maxString, true, true);\n            },\n            startsWithIgnoreCase: function (str) {\n                /// <param name=\"str\" type=\"String\"></param>\n                if (str === \"\")\n                    return this.startsWith(str);\n                return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);\n            },\n            equalsIgnoreCase: function (str) {\n                /// <param name=\"str\" type=\"String\"></param>\n                return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], \"\");\n            },\n            anyOfIgnoreCase: function () {\n                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n                if (set.length === 0)\n                    return emptyCollection(this);\n                return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, \"\");\n            },\n            startsWithAnyOfIgnoreCase: function () {\n                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n                if (set.length === 0)\n                    return emptyCollection(this);\n                return addIgnoreCaseAlgorithm(this, function (x, a) {\n                    return a.some(function (n) {\n                        return x.indexOf(n) === 0;\n                    });\n                }, set, maxString);\n            },\n            anyOf: function () {\n                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n                var compare = ascending;\n                try {\n                    set.sort(compare);\n                }\n                catch (e) {\n                    return fail(this, INVALID_KEY_ARGUMENT);\n                }\n                if (set.length === 0)\n                    return emptyCollection(this);\n                var c = new Collection(this, function () { return IDBKeyRange.bound(set[0], set[set.length - 1]); });\n                c._ondirectionchange = function (direction) {\n                    compare = (direction === \"next\" ? ascending : descending);\n                    set.sort(compare);\n                };\n                var i = 0;\n                c._addAlgorithm(function (cursor, advance, resolve) {\n                    var key = cursor.key;\n                    while (compare(key, set[i]) > 0) {\n                        // The cursor has passed beyond this key. Check next.\n                        ++i;\n                        if (i === set.length) {\n                            // There is no next. Stop searching.\n                            advance(resolve);\n                            return false;\n                        }\n                    }\n                    if (compare(key, set[i]) === 0) {\n                        // The current cursor value should be included and we should continue a single step in case next item has the same key or possibly our next key in set.\n                        return true;\n                    }\n                    else {\n                        // cursor.key not yet at set[i]. Forward cursor to the next key to hunt for.\n                        advance(function () { cursor.continue(set[i]); });\n                        return false;\n                    }\n                });\n                return c;\n            },\n            notEqual: function (value) {\n                return this.inAnyRange([[minKey, value], [value, maxKey]], { includeLowers: false, includeUppers: false });\n            },\n            noneOf: function () {\n                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n                if (set.length === 0)\n                    return new Collection(this); // Return entire collection.\n                try {\n                    set.sort(ascending);\n                }\n                catch (e) {\n                    return fail(this, INVALID_KEY_ARGUMENT);\n                }\n                // Transform [\"a\",\"b\",\"c\"] to a set of ranges for between/above/below: [[minKey,\"a\"], [\"a\",\"b\"], [\"b\",\"c\"], [\"c\",maxKey]]\n                var ranges = set.reduce(function (res, val) { return res ? res.concat([[res[res.length - 1][1], val]]) : [[minKey, val]]; }, null);\n                ranges.push([set[set.length - 1], maxKey]);\n                return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n            },\n            /** Filter out values withing given set of ranges.\n            * Example, give children and elders a rebate of 50%:\n            *\n            *   db.friends.where('age').inAnyRange([[0,18],[65,Infinity]]).modify({Rebate: 1/2});\n            *\n            * @param {(string|number|Date|Array)[][]} ranges\n            * @param {{includeLowers: boolean, includeUppers: boolean}} options\n            */\n            inAnyRange: function (ranges, options) {\n                if (ranges.length === 0)\n                    return emptyCollection(this);\n                if (!ranges.every(function (range) { return range[0] !== undefined && range[1] !== undefined && ascending(range[0], range[1]) <= 0; })) {\n                    return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n                }\n                var includeLowers = !options || options.includeLowers !== false; // Default to true\n                var includeUppers = options && options.includeUppers === true; // Default to false\n                function addRange(ranges, newRange) {\n                    for (var i = 0, l = ranges.length; i < l; ++i) {\n                        var range = ranges[i];\n                        if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                            range[0] = min(range[0], newRange[0]);\n                            range[1] = max(range[1], newRange[1]);\n                            break;\n                        }\n                    }\n                    if (i === l)\n                        ranges.push(newRange);\n                    return ranges;\n                }\n                var sortDirection = ascending;\n                function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n                // Join overlapping ranges\n                var set;\n                try {\n                    set = ranges.reduce(addRange, []);\n                    set.sort(rangeSorter);\n                }\n                catch (ex) {\n                    return fail(this, INVALID_KEY_ARGUMENT);\n                }\n                var i = 0;\n                var keyIsBeyondCurrentEntry = includeUppers ?\n                    function (key) { return ascending(key, set[i][1]) > 0; } :\n                    function (key) { return ascending(key, set[i][1]) >= 0; };\n                var keyIsBeforeCurrentEntry = includeLowers ?\n                    function (key) { return descending(key, set[i][0]) > 0; } :\n                    function (key) { return descending(key, set[i][0]) >= 0; };\n                function keyWithinCurrentRange(key) {\n                    return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n                }\n                var checkKey = keyIsBeyondCurrentEntry;\n                var c = new Collection(this, function () {\n                    return IDBKeyRange.bound(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers);\n                });\n                c._ondirectionchange = function (direction) {\n                    if (direction === \"next\") {\n                        checkKey = keyIsBeyondCurrentEntry;\n                        sortDirection = ascending;\n                    }\n                    else {\n                        checkKey = keyIsBeforeCurrentEntry;\n                        sortDirection = descending;\n                    }\n                    set.sort(rangeSorter);\n                };\n                c._addAlgorithm(function (cursor, advance, resolve) {\n                    var key = cursor.key;\n                    while (checkKey(key)) {\n                        // The cursor has passed beyond this key. Check next.\n                        ++i;\n                        if (i === set.length) {\n                            // There is no next. Stop searching.\n                            advance(resolve);\n                            return false;\n                        }\n                    }\n                    if (keyWithinCurrentRange(key)) {\n                        // The current cursor value should be included and we should continue a single step in case next item has the same key or possibly our next key in set.\n                        return true;\n                    }\n                    else if (cmp(key, set[i][1]) === 0 || cmp(key, set[i][0]) === 0) {\n                        // includeUpper or includeLower is false so keyWithinCurrentRange() returns false even though we are at range border.\n                        // Continue to next key but don't include this one.\n                        return false;\n                    }\n                    else {\n                        // cursor.key not yet at set[i]. Forward cursor to the next key to hunt for.\n                        advance(function () {\n                            if (sortDirection === ascending)\n                                cursor.continue(set[i][0]);\n                            else\n                                cursor.continue(set[i][1]);\n                        });\n                        return false;\n                    }\n                });\n                return c;\n            },\n            startsWithAnyOf: function () {\n                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n                if (!set.every(function (s) { return typeof s === 'string'; })) {\n                    return fail(this, \"startsWithAnyOf() only works with strings\");\n                }\n                if (set.length === 0)\n                    return emptyCollection(this);\n                return this.inAnyRange(set.map(function (str) {\n                    return [str, str + maxString];\n                }));\n            }\n        };\n    });\n    //\n    //\n    //\n    // Collection Class\n    //\n    //\n    //\n    function Collection(whereClause, keyRangeGenerator) {\n        /// <summary>\n        ///\n        /// </summary>\n        /// <param name=\"whereClause\" type=\"WhereClause\">Where clause instance</param>\n        /// <param name=\"keyRangeGenerator\" value=\"function(){ return IDBKeyRange.bound(0,1);}\" optional=\"true\"></param>\n        var keyRange = null, error = null;\n        if (keyRangeGenerator)\n            try {\n                keyRange = keyRangeGenerator();\n            }\n            catch (ex) {\n                error = ex;\n            }\n        var whereCtx = whereClause._ctx, table = whereCtx.table;\n        this._ctx = {\n            table: table,\n            index: whereCtx.index,\n            isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n            range: keyRange,\n            keysOnly: false,\n            dir: \"next\",\n            unique: \"\",\n            algorithm: null,\n            filter: null,\n            replayFilter: null,\n            justLimit: true,\n            isMatch: null,\n            offset: 0,\n            limit: Infinity,\n            error: error,\n            or: whereCtx.or,\n            valueMapper: table.hook.reading.fire\n        };\n    }\n    function isPlainKeyRange(ctx, ignoreLimitFilter) {\n        return !(ctx.filter || ctx.algorithm || ctx.or) &&\n            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n    }\n    props(Collection.prototype, function () {\n        //\n        // Collection Private Functions\n        //\n        function addFilter(ctx, fn) {\n            ctx.filter = combine(ctx.filter, fn);\n        }\n        function addReplayFilter(ctx, factory, isLimitFilter) {\n            var curr = ctx.replayFilter;\n            ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;\n            ctx.justLimit = isLimitFilter && !curr;\n        }\n        function addMatchFilter(ctx, fn) {\n            ctx.isMatch = combine(ctx.isMatch, fn);\n        }\n        /** @param ctx {\n         *      isPrimKey: boolean,\n         *      table: Table,\n         *      index: string\n         * }\n         * @param store IDBObjectStore\n         **/\n        function getIndexOrStore(ctx, store) {\n            if (ctx.isPrimKey)\n                return store;\n            var indexSpec = ctx.table.schema.idxByName[ctx.index];\n            if (!indexSpec)\n                throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + store.name + \" is not indexed\");\n            return store.index(indexSpec.name);\n        }\n        /** @param ctx {\n         *      isPrimKey: boolean,\n         *      table: Table,\n         *      index: string,\n         *      keysOnly: boolean,\n         *      range?: IDBKeyRange,\n         *      dir: \"next\" | \"prev\"\n         * }\n         */\n        function openCursor(ctx, store) {\n            var idxOrStore = getIndexOrStore(ctx, store);\n            return ctx.keysOnly && 'openKeyCursor' in idxOrStore ?\n                idxOrStore.openKeyCursor(ctx.range || null, ctx.dir + ctx.unique) :\n                idxOrStore.openCursor(ctx.range || null, ctx.dir + ctx.unique);\n        }\n        function iter(ctx, fn, resolve, reject, idbstore) {\n            var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n            if (!ctx.or) {\n                iterate(openCursor(ctx, idbstore), combine(ctx.algorithm, filter), fn, resolve, reject, !ctx.keysOnly && ctx.valueMapper);\n            }\n            else\n                (function () {\n                    var set = {};\n                    var resolved = 0;\n                    function resolveboth() {\n                        if (++resolved === 2)\n                            resolve(); // Seems like we just support or btwn max 2 expressions, but there are no limit because we do recursion.\n                    }\n                    function union(item, cursor, advance) {\n                        if (!filter || filter(cursor, advance, resolveboth, reject)) {\n                            var primaryKey = cursor.primaryKey;\n                            var key = '' + primaryKey;\n                            if (key === '[object ArrayBuffer]')\n                                key = '' + new Uint8Array(primaryKey);\n                            if (!hasOwn(set, key)) {\n                                set[key] = true;\n                                fn(item, cursor, advance);\n                            }\n                        }\n                    }\n                    ctx.or._iterate(union, resolveboth, reject, idbstore);\n                    iterate(openCursor(ctx, idbstore), ctx.algorithm, union, resolveboth, reject, !ctx.keysOnly && ctx.valueMapper);\n                })();\n        }\n        return {\n            //\n            // Collection Protected Functions\n            //\n            _read: function (fn, cb) {\n                var ctx = this._ctx;\n                return ctx.error ?\n                    ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                    ctx.table._idbstore(READONLY, fn).then(cb);\n            },\n            _write: function (fn) {\n                var ctx = this._ctx;\n                return ctx.error ?\n                    ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                    ctx.table._idbstore(READWRITE, fn, \"locked\"); // When doing write operations on collections, always lock the operation so that upcoming operations gets queued.\n            },\n            _addAlgorithm: function (fn) {\n                var ctx = this._ctx;\n                ctx.algorithm = combine(ctx.algorithm, fn);\n            },\n            _iterate: function (fn, resolve, reject, idbstore) {\n                return iter(this._ctx, fn, resolve, reject, idbstore);\n            },\n            clone: function (props$$1) {\n                var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n                if (props$$1)\n                    extend(ctx, props$$1);\n                rv._ctx = ctx;\n                return rv;\n            },\n            raw: function () {\n                this._ctx.valueMapper = null;\n                return this;\n            },\n            //\n            // Collection Public methods\n            //\n            each: function (fn) {\n                var ctx = this._ctx;\n                return this._read(function (resolve, reject, idbstore) {\n                    iter(ctx, fn, resolve, reject, idbstore);\n                });\n            },\n            count: function (cb) {\n                var ctx = this._ctx;\n                if (isPlainKeyRange(ctx, true)) {\n                    // This is a plain key range. We can use the count() method if the index.\n                    return this._read(function (resolve, reject, idbstore) {\n                        var idx = getIndexOrStore(ctx, idbstore);\n                        var req = (ctx.range ? idx.count(ctx.range) : idx.count());\n                        req.onerror = eventRejectHandler(reject);\n                        req.onsuccess = function (e) {\n                            resolve(Math.min(e.target.result, ctx.limit));\n                        };\n                    }, cb);\n                }\n                else {\n                    // Algorithms, filters or expressions are applied. Need to count manually.\n                    var count = 0;\n                    return this._read(function (resolve, reject, idbstore) {\n                        iter(ctx, function () { ++count; return false; }, function () { resolve(count); }, reject, idbstore);\n                    }, cb);\n                }\n            },\n            sortBy: function (keyPath, cb) {\n                /// <param name=\"keyPath\" type=\"String\"></param>\n                var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n                function getval(obj, i) {\n                    if (i)\n                        return getval(obj[parts[i]], i - 1);\n                    return obj[lastPart];\n                }\n                var order = this._ctx.dir === \"next\" ? 1 : -1;\n                function sorter(a, b) {\n                    var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n                    return aVal < bVal ? -order : aVal > bVal ? order : 0;\n                }\n                return this.toArray(function (a) {\n                    return a.sort(sorter);\n                }).then(cb);\n            },\n            toArray: function (cb) {\n                var ctx = this._ctx;\n                return this._read(function (resolve, reject, idbstore) {\n                    if (hasGetAll && ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                        // Special optimation if we could use IDBObjectStore.getAll() or\n                        // IDBKeyRange.getAll():\n                        var readingHook = ctx.table.hook.reading.fire;\n                        var idxOrStore = getIndexOrStore(ctx, idbstore);\n                        var req = ctx.limit < Infinity ?\n                            idxOrStore.getAll(ctx.range, ctx.limit) :\n                            idxOrStore.getAll(ctx.range);\n                        req.onerror = eventRejectHandler(reject);\n                        req.onsuccess = readingHook === mirror ?\n                            eventSuccessHandler(resolve) :\n                            eventSuccessHandler(function (res) {\n                                try {\n                                    resolve(res.map(readingHook));\n                                }\n                                catch (e) {\n                                    reject(e);\n                                }\n                            });\n                    }\n                    else {\n                        // Getting array through a cursor.\n                        var a = [];\n                        iter(ctx, function (item) { a.push(item); }, function arrayComplete() {\n                            resolve(a);\n                        }, reject, idbstore);\n                    }\n                }, cb);\n            },\n            offset: function (offset) {\n                var ctx = this._ctx;\n                if (offset <= 0)\n                    return this;\n                ctx.offset += offset; // For count()\n                if (isPlainKeyRange(ctx)) {\n                    addReplayFilter(ctx, function () {\n                        var offsetLeft = offset;\n                        return function (cursor, advance) {\n                            if (offsetLeft === 0)\n                                return true;\n                            if (offsetLeft === 1) {\n                                --offsetLeft;\n                                return false;\n                            }\n                            advance(function () {\n                                cursor.advance(offsetLeft);\n                                offsetLeft = 0;\n                            });\n                            return false;\n                        };\n                    });\n                }\n                else {\n                    addReplayFilter(ctx, function () {\n                        var offsetLeft = offset;\n                        return function () { return (--offsetLeft < 0); };\n                    });\n                }\n                return this;\n            },\n            limit: function (numRows) {\n                this._ctx.limit = Math.min(this._ctx.limit, numRows); // For count()\n                addReplayFilter(this._ctx, function () {\n                    var rowsLeft = numRows;\n                    return function (cursor, advance, resolve) {\n                        if (--rowsLeft <= 0)\n                            advance(resolve); // Stop after this item has been included\n                        return rowsLeft >= 0; // If numRows is already below 0, return false because then 0 was passed to numRows initially. Otherwise we wouldnt come here.\n                    };\n                }, true);\n                return this;\n            },\n            until: function (filterFunction, bIncludeStopEntry) {\n                addFilter(this._ctx, function (cursor, advance, resolve) {\n                    if (filterFunction(cursor.value)) {\n                        advance(resolve);\n                        return bIncludeStopEntry;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n                return this;\n            },\n            first: function (cb) {\n                return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n            },\n            last: function (cb) {\n                return this.reverse().first(cb);\n            },\n            filter: function (filterFunction) {\n                /// <param name=\"jsFunctionFilter\" type=\"Function\">function(val){return true/false}</param>\n                addFilter(this._ctx, function (cursor) {\n                    return filterFunction(cursor.value);\n                });\n                // match filters not used in Dexie.js but can be used by 3rd part libraries to test a\n                // collection for a match without querying DB. Used by Dexie.Observable.\n                addMatchFilter(this._ctx, filterFunction);\n                return this;\n            },\n            and: function (filterFunction) {\n                return this.filter(filterFunction);\n            },\n            or: function (indexName) {\n                return new WhereClause(this._ctx.table, indexName, this);\n            },\n            reverse: function () {\n                this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n                if (this._ondirectionchange)\n                    this._ondirectionchange(this._ctx.dir);\n                return this;\n            },\n            desc: function () {\n                return this.reverse();\n            },\n            eachKey: function (cb) {\n                var ctx = this._ctx;\n                ctx.keysOnly = !ctx.isMatch;\n                return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n            },\n            eachUniqueKey: function (cb) {\n                this._ctx.unique = \"unique\";\n                return this.eachKey(cb);\n            },\n            eachPrimaryKey: function (cb) {\n                var ctx = this._ctx;\n                ctx.keysOnly = !ctx.isMatch;\n                return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n            },\n            keys: function (cb) {\n                var ctx = this._ctx;\n                ctx.keysOnly = !ctx.isMatch;\n                var a = [];\n                return this.each(function (item, cursor) {\n                    a.push(cursor.key);\n                }).then(function () {\n                    return a;\n                }).then(cb);\n            },\n            primaryKeys: function (cb) {\n                var ctx = this._ctx;\n                if (hasGetAll && ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                    // Special optimation if we could use IDBObjectStore.getAllKeys() or\n                    // IDBKeyRange.getAllKeys():\n                    return this._read(function (resolve, reject, idbstore) {\n                        var idxOrStore = getIndexOrStore(ctx, idbstore);\n                        var req = ctx.limit < Infinity ?\n                            idxOrStore.getAllKeys(ctx.range, ctx.limit) :\n                            idxOrStore.getAllKeys(ctx.range);\n                        req.onerror = eventRejectHandler(reject);\n                        req.onsuccess = eventSuccessHandler(resolve);\n                    }).then(cb);\n                }\n                ctx.keysOnly = !ctx.isMatch;\n                var a = [];\n                return this.each(function (item, cursor) {\n                    a.push(cursor.primaryKey);\n                }).then(function () {\n                    return a;\n                }).then(cb);\n            },\n            uniqueKeys: function (cb) {\n                this._ctx.unique = \"unique\";\n                return this.keys(cb);\n            },\n            firstKey: function (cb) {\n                return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n            },\n            lastKey: function (cb) {\n                return this.reverse().firstKey(cb);\n            },\n            distinct: function () {\n                var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n                if (!idx || !idx.multi)\n                    return this; // distinct() only makes differencies on multiEntry indexes.\n                var set = {};\n                addFilter(this._ctx, function (cursor) {\n                    var strKey = cursor.primaryKey.toString(); // Converts any Date to String, String to String, Number to String and Array to comma-separated string\n                    var found = hasOwn(set, strKey);\n                    set[strKey] = true;\n                    return !found;\n                });\n                return this;\n            },\n            //\n            // Methods that mutate storage\n            //\n            modify: function (changes) {\n                var self = this, ctx = this._ctx, hook = ctx.table.hook, updatingHook = hook.updating.fire, deletingHook = hook.deleting.fire;\n                return this._write(function (resolve, reject, idbstore, trans) {\n                    var modifyer;\n                    if (typeof changes === 'function') {\n                        // Changes is a function that may update, add or delete propterties or even require a deletion the object itself (delete this.item)\n                        if (updatingHook === nop && deletingHook === nop) {\n                            // Noone cares about what is being changed. Just let the modifier function be the given argument as is.\n                            modifyer = changes;\n                        }\n                        else {\n                            // People want to know exactly what is being modified or deleted.\n                            // Let modifyer be a proxy function that finds out what changes the caller is actually doing\n                            // and call the hooks accordingly!\n                            modifyer = function (item) {\n                                var origItem = deepClone(item); // Clone the item first so we can compare laters.\n                                if (changes.call(this, item, this) === false)\n                                    return false; // Call the real modifyer function (If it returns false explicitely, it means it dont want to modify anyting on this object)\n                                if (!hasOwn(this, \"value\")) {\n                                    // The real modifyer function requests a deletion of the object. Inform the deletingHook that a deletion is taking place.\n                                    deletingHook.call(this, this.primKey, item, trans);\n                                }\n                                else {\n                                    // No deletion. Check what was changed\n                                    var objectDiff = getObjectDiff(origItem, this.value);\n                                    var additionalChanges = updatingHook.call(this, objectDiff, this.primKey, origItem, trans);\n                                    if (additionalChanges) {\n                                        // Hook want to apply additional modifications. Make sure to fullfill the will of the hook.\n                                        item = this.value;\n                                        keys(additionalChanges).forEach(function (keyPath) {\n                                            setByKeyPath(item, keyPath, additionalChanges[keyPath]); // Adding {keyPath: undefined} means that the keyPath should be deleted. Handled by setByKeyPath\n                                        });\n                                    }\n                                }\n                            };\n                        }\n                    }\n                    else if (updatingHook === nop) {\n                        // changes is a set of {keyPath: value} and no one is listening to the updating hook.\n                        var keyPaths = keys(changes);\n                        var numKeys = keyPaths.length;\n                        modifyer = function (item) {\n                            var anythingModified = false;\n                            for (var i = 0; i < numKeys; ++i) {\n                                var keyPath = keyPaths[i], val = changes[keyPath];\n                                if (getByKeyPath(item, keyPath) !== val) {\n                                    setByKeyPath(item, keyPath, val); // Adding {keyPath: undefined} means that the keyPath should be deleted. Handled by setByKeyPath\n                                    anythingModified = true;\n                                }\n                            }\n                            return anythingModified;\n                        };\n                    }\n                    else {\n                        // changes is a set of {keyPath: value} and people are listening to the updating hook so we need to call it and\n                        // allow it to add additional modifications to make.\n                        var origChanges = changes;\n                        changes = shallowClone(origChanges); // Let's work with a clone of the changes keyPath/value set so that we can restore it in case a hook extends it.\n                        modifyer = function (item) {\n                            var anythingModified = false;\n                            var additionalChanges = updatingHook.call(this, changes, this.primKey, deepClone(item), trans);\n                            if (additionalChanges)\n                                extend(changes, additionalChanges);\n                            keys(changes).forEach(function (keyPath) {\n                                var val = changes[keyPath];\n                                if (getByKeyPath(item, keyPath) !== val) {\n                                    setByKeyPath(item, keyPath, val);\n                                    anythingModified = true;\n                                }\n                            });\n                            if (additionalChanges)\n                                changes = shallowClone(origChanges); // Restore original changes for next iteration\n                            return anythingModified;\n                        };\n                    }\n                    var count = 0;\n                    var successCount = 0;\n                    var iterationComplete = false;\n                    var failures = [];\n                    var failKeys = [];\n                    var currentKey = null;\n                    function modifyItem(item, cursor) {\n                        currentKey = cursor.primaryKey;\n                        var thisContext = {\n                            primKey: cursor.primaryKey,\n                            value: item,\n                            onsuccess: null,\n                            onerror: null\n                        };\n                        function onerror(e) {\n                            failures.push(e);\n                            failKeys.push(thisContext.primKey);\n                            checkFinished();\n                            return true; // Catch these errors and let a final rejection decide whether or not to abort entire transaction\n                        }\n                        if (modifyer.call(thisContext, item, thisContext) !== false) {\n                            var bDelete = !hasOwn(thisContext, \"value\");\n                            ++count;\n                            tryCatch(function () {\n                                var req = (bDelete ? cursor.delete() : cursor.update(thisContext.value));\n                                req._hookCtx = thisContext;\n                                req.onerror = hookedEventRejectHandler(onerror);\n                                req.onsuccess = hookedEventSuccessHandler(function () {\n                                    ++successCount;\n                                    checkFinished();\n                                });\n                            }, onerror);\n                        }\n                        else if (thisContext.onsuccess) {\n                            // Hook will expect either onerror or onsuccess to always be called!\n                            thisContext.onsuccess(thisContext.value);\n                        }\n                    }\n                    function doReject(e) {\n                        if (e) {\n                            failures.push(e);\n                            failKeys.push(currentKey);\n                        }\n                        return reject(new ModifyError(\"Error modifying one or more objects\", failures, successCount, failKeys));\n                    }\n                    function checkFinished() {\n                        if (iterationComplete && successCount + failures.length === count) {\n                            if (failures.length > 0)\n                                doReject();\n                            else\n                                resolve(successCount);\n                        }\n                    }\n                    self.clone().raw()._iterate(modifyItem, function () {\n                        iterationComplete = true;\n                        checkFinished();\n                    }, doReject, idbstore);\n                });\n            },\n            'delete': function () {\n                var _this = this;\n                var ctx = this._ctx, range = ctx.range, deletingHook = ctx.table.hook.deleting.fire, hasDeleteHook = deletingHook !== nop;\n                if (!hasDeleteHook &&\n                    isPlainKeyRange(ctx) &&\n                    ((ctx.isPrimKey && !hangsOnDeleteLargeKeyRange) || !range)) {\n                    // May use IDBObjectStore.delete(IDBKeyRange) in this case (Issue #208)\n                    // For chromium, this is the way most optimized version.\n                    // For IE/Edge, this could hang the indexedDB engine and make operating system instable\n                    // (https://gist.github.com/dfahlander/5a39328f029de18222cf2125d56c38f7)\n                    return this._write(function (resolve, reject, idbstore) {\n                        // Our API contract is to return a count of deleted items, so we have to count() before delete().\n                        var onerror = eventRejectHandler(reject), countReq = (range ? idbstore.count(range) : idbstore.count());\n                        countReq.onerror = onerror;\n                        countReq.onsuccess = function () {\n                            var count = countReq.result;\n                            tryCatch(function () {\n                                var delReq = (range ? idbstore.delete(range) : idbstore.clear());\n                                delReq.onerror = onerror;\n                                delReq.onsuccess = function () { return resolve(count); };\n                            }, function (err) { return reject(err); });\n                        };\n                    });\n                }\n                // Default version to use when collection is not a vanilla IDBKeyRange on the primary key.\n                // Divide into chunks to not starve RAM.\n                // If has delete hook, we will have to collect not just keys but also objects, so it will use\n                // more memory and need lower chunk size.\n                var CHUNKSIZE = hasDeleteHook ? 2000 : 10000;\n                return this._write(function (resolve, reject, idbstore, trans) {\n                    var totalCount = 0;\n                    // Clone collection and change its table and set a limit of CHUNKSIZE on the cloned Collection instance.\n                    var collection = _this\n                        .clone({\n                        keysOnly: !ctx.isMatch && !hasDeleteHook\n                    }) // load just keys (unless filter() or and() or deleteHook has subscribers)\n                        .distinct() // In case multiEntry is used, never delete same key twice because resulting count\n                        .limit(CHUNKSIZE)\n                        .raw(); // Don't filter through reading-hooks (like mapped classes etc)\n                    var keysOrTuples = [];\n                    // We're gonna do things on as many chunks that are needed.\n                    // Use recursion of nextChunk function:\n                    var nextChunk = function () { return collection.each(hasDeleteHook ? function (val, cursor) {\n                        // Somebody subscribes to hook('deleting'). Collect all primary keys and their values,\n                        // so that the hook can be called with its values in bulkDelete().\n                        keysOrTuples.push([cursor.primaryKey, cursor.value]);\n                    } : function (val, cursor) {\n                        // No one subscribes to hook('deleting'). Collect only primary keys:\n                        keysOrTuples.push(cursor.primaryKey);\n                    }).then(function () {\n                        // Chromium deletes faster when doing it in sort order.\n                        hasDeleteHook ?\n                            keysOrTuples.sort(function (a, b) { return ascending(a[0], b[0]); }) :\n                            keysOrTuples.sort(ascending);\n                        return bulkDelete(idbstore, trans, keysOrTuples, hasDeleteHook, deletingHook);\n                    }).then(function () {\n                        var count = keysOrTuples.length;\n                        totalCount += count;\n                        keysOrTuples = [];\n                        return count < CHUNKSIZE ? totalCount : nextChunk();\n                    }); };\n                    resolve(nextChunk());\n                });\n            }\n        };\n    });\n    //\n    //\n    //\n    // ------------------------- Help functions ---------------------------\n    //\n    //\n    //\n    function lowerVersionFirst(a, b) {\n        return a._cfg.version - b._cfg.version;\n    }\n    function setApiOnPlace(objs, tableNames, dbschema) {\n        tableNames.forEach(function (tableName) {\n            var schema = dbschema[tableName];\n            objs.forEach(function (obj) {\n                if (!(tableName in obj)) {\n                    if (obj === Transaction.prototype || obj instanceof Transaction) {\n                        // obj is a Transaction prototype (or prototype of a subclass to Transaction)\n                        // Make the API a getter that returns this.table(tableName)\n                        setProp(obj, tableName, { get: function () { return this.table(tableName); } });\n                    }\n                    else {\n                        // Table will not be bound to a transaction (will use Dexie.currentTransaction)\n                        obj[tableName] = new Table(tableName, schema);\n                    }\n                }\n            });\n        });\n    }\n    function removeTablesApi(objs) {\n        objs.forEach(function (obj) {\n            for (var key in obj) {\n                if (obj[key] instanceof Table)\n                    delete obj[key];\n            }\n        });\n    }\n    function iterate(req, filter, fn, resolve, reject, valueMapper) {\n        // Apply valueMapper (hook('reading') or mappped class)\n        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;\n        // Wrap fn with PSD and microtick stuff from Promise.\n        var wrappedFn = wrap(mappedFn, reject);\n        if (!req.onerror)\n            req.onerror = eventRejectHandler(reject);\n        if (filter) {\n            req.onsuccess = trycatcher(function filter_record() {\n                var cursor = req.result;\n                if (cursor) {\n                    var c = function () { cursor.continue(); };\n                    if (filter(cursor, function (advancer) { c = advancer; }, resolve, reject))\n                        wrappedFn(cursor.value, cursor, function (advancer) { c = advancer; });\n                    c();\n                }\n                else {\n                    resolve();\n                }\n            }, reject);\n        }\n        else {\n            req.onsuccess = trycatcher(function filter_record() {\n                var cursor = req.result;\n                if (cursor) {\n                    var c = function () { cursor.continue(); };\n                    wrappedFn(cursor.value, cursor, function (advancer) { c = advancer; });\n                    c();\n                }\n                else {\n                    resolve();\n                }\n            }, reject);\n        }\n    }\n    function parseIndexSyntax(indexes) {\n        /// <param name=\"indexes\" type=\"String\"></param>\n        /// <returns type=\"Array\" elementType=\"IndexSpec\"></returns>\n        var rv = [];\n        indexes.split(',').forEach(function (index) {\n            index = index.trim();\n            var name = index.replace(/([&*]|\\+\\+)/g, \"\"); // Remove \"&\", \"++\" and \"*\"\n            // Let keyPath of \"[a+b]\" be [\"a\",\"b\"]:\n            var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n            rv.push(new IndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), /\\./.test(index)));\n        });\n        return rv;\n    }\n    function cmp(key1, key2) {\n        return indexedDB.cmp(key1, key2);\n    }\n    function min(a, b) {\n        return cmp(a, b) < 0 ? a : b;\n    }\n    function max(a, b) {\n        return cmp(a, b) > 0 ? a : b;\n    }\n    function ascending(a, b) {\n        return indexedDB.cmp(a, b);\n    }\n    function descending(a, b) {\n        return indexedDB.cmp(b, a);\n    }\n    function simpleCompare(a, b) {\n        return a < b ? -1 : a === b ? 0 : 1;\n    }\n    function simpleCompareReverse(a, b) {\n        return a > b ? -1 : a === b ? 0 : 1;\n    }\n    function combine(filter1, filter2) {\n        return filter1 ?\n            filter2 ?\n                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n                filter1 :\n            filter2;\n    }\n    function readGlobalSchema() {\n        db.verno = idbdb.version / 10;\n        db._dbSchema = globalSchema = {};\n        dbStoreNames = slice(idbdb.objectStoreNames, 0);\n        if (dbStoreNames.length === 0)\n            return; // Database contains no stores.\n        var trans = idbdb.transaction(safariMultiStoreFix(dbStoreNames), 'readonly');\n        dbStoreNames.forEach(function (storeName) {\n            var store = trans.objectStore(storeName), keyPath = store.keyPath, dotted = keyPath && typeof keyPath === 'string' && keyPath.indexOf('.') !== -1;\n            var primKey = new IndexSpec(keyPath, keyPath || \"\", false, false, !!store.autoIncrement, keyPath && typeof keyPath !== 'string', dotted);\n            var indexes = [];\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var idbindex = store.index(store.indexNames[j]);\n                keyPath = idbindex.keyPath;\n                dotted = keyPath && typeof keyPath === 'string' && keyPath.indexOf('.') !== -1;\n                var index = new IndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== 'string', dotted);\n                indexes.push(index);\n            }\n            globalSchema[storeName] = new TableSchema(storeName, primKey, indexes, {});\n        });\n        setApiOnPlace([allTables], keys(globalSchema), globalSchema);\n    }\n    function adjustToExistingIndexNames(schema, idbtrans) {\n        /// <summary>\n        /// Issue #30 Problem with existing db - adjust to existing index names when migrating from non-dexie db\n        /// </summary>\n        /// <param name=\"schema\" type=\"Object\">Map between name and TableSchema</param>\n        /// <param name=\"idbtrans\" type=\"IDBTransaction\"></param>\n        var storeNames = idbtrans.db.objectStoreNames;\n        for (var i = 0; i < storeNames.length; ++i) {\n            var storeName = storeNames[i];\n            var store = idbtrans.objectStore(storeName);\n            hasGetAll = 'getAll' in store;\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var indexName = store.indexNames[j];\n                var keyPath = store.index(indexName).keyPath;\n                var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n                if (schema[storeName]) {\n                    var indexSpec = schema[storeName].idxByName[dexieName];\n                    if (indexSpec)\n                        indexSpec.name = indexName;\n                }\n            }\n        }\n        // Bug with getAll() on Safari ver<604 on Workers only, see discussion following PR #579\n        if (/Safari/.test(navigator.userAgent) &&\n            !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n            [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n            hasGetAll = false;\n        }\n    }\n    function fireOnBlocked(ev) {\n        db.on(\"blocked\").fire(ev);\n        // Workaround (not fully*) for missing \"versionchange\" event in IE,Edge and Safari:\n        connections\n            .filter(function (c) { return c.name === db.name && c !== db && !c._vcFired; })\n            .map(function (c) { return c.on(\"versionchange\").fire(ev); });\n    }\n    extend(this, {\n        Collection: Collection,\n        Table: Table,\n        Transaction: Transaction,\n        Version: Version,\n        WhereClause: WhereClause\n    });\n    init();\n    addons.forEach(function (fn) {\n        fn(db);\n    });\n}\nfunction parseType(type) {\n    if (typeof type === 'function') {\n        return new type();\n    }\n    else if (isArray(type)) {\n        return [parseType(type[0])];\n    }\n    else if (type && typeof type === 'object') {\n        var rv = {};\n        applyStructure(rv, type);\n        return rv;\n    }\n    else {\n        return type;\n    }\n}\nfunction applyStructure(obj, structure) {\n    keys(structure).forEach(function (member) {\n        var value = parseType(structure[member]);\n        obj[member] = value;\n    });\n    return obj;\n}\nfunction hookedEventSuccessHandler(resolve) {\n    // wrap() is needed when calling hooks because the rare scenario of:\n    //  * hook does a db operation that fails immediately (IDB throws exception)\n    //    For calling db operations on correct transaction, wrap makes sure to set PSD correctly.\n    //    wrap() will also execute in a virtual tick.\n    //  * If not wrapped in a virtual tick, direct exception will launch a new physical tick.\n    //  * If this was the last event in the bulk, the promise will resolve after a physical tick\n    //    and the transaction will have committed already.\n    // If no hook, the virtual tick will be executed in the reject()/resolve of the final promise,\n    // because it is always marked with _lib = true when created using Transaction._promise().\n    return wrap(function (event) {\n        var req = event.target, ctx = req._hookCtx, // Contains the hook error handler. Put here instead of closure to boost performance.\n        result = ctx.value || req.result, // Pass the object value on updates. The result from IDB is the primary key.\n        hookSuccessHandler = ctx && ctx.onsuccess;\n        hookSuccessHandler && hookSuccessHandler(result);\n        resolve && resolve(result);\n    }, resolve);\n}\nfunction eventRejectHandler(reject) {\n    return wrap(function (event) {\n        preventDefault(event);\n        reject(event.target.error);\n        return false;\n    });\n}\nfunction eventSuccessHandler(resolve) {\n    return wrap(function (event) {\n        resolve(event.target.result);\n    });\n}\nfunction hookedEventRejectHandler(reject) {\n    return wrap(function (event) {\n        // See comment on hookedEventSuccessHandler() why wrap() is needed only when supporting hooks.\n        var req = event.target, err = req.error, ctx = req._hookCtx, // Contains the hook error handler. Put here instead of closure to boost performance.\n        hookErrorHandler = ctx && ctx.onerror;\n        hookErrorHandler && hookErrorHandler(err);\n        preventDefault(event);\n        reject(err);\n        return false;\n    });\n}\nfunction preventDefault(event) {\n    if (event.stopPropagation)\n        event.stopPropagation();\n    if (event.preventDefault)\n        event.preventDefault();\n}\nfunction awaitIterator(iterator) {\n    var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);\n    function step(getNext) {\n        return function (val) {\n            var next = getNext(val), value = next.value;\n            return next.done ? value :\n                (!value || typeof value.then !== 'function' ?\n                    isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                    value.then(onSuccess, onError));\n        };\n    }\n    return step(callNext)();\n}\n//\n// IndexSpec struct\n//\nfunction IndexSpec(name, keyPath, unique, multi, auto, compound, dotted) {\n    /// <param name=\"name\" type=\"String\"></param>\n    /// <param name=\"keyPath\" type=\"String\"></param>\n    /// <param name=\"unique\" type=\"Boolean\"></param>\n    /// <param name=\"multi\" type=\"Boolean\"></param>\n    /// <param name=\"auto\" type=\"Boolean\"></param>\n    /// <param name=\"compound\" type=\"Boolean\"></param>\n    /// <param name=\"dotted\" type=\"Boolean\"></param>\n    this.name = name;\n    this.keyPath = keyPath;\n    this.unique = unique;\n    this.multi = multi;\n    this.auto = auto;\n    this.compound = compound;\n    this.dotted = dotted;\n    var keyPathSrc = typeof keyPath === 'string' ? keyPath : keyPath && ('[' + [].join.call(keyPath, '+') + ']');\n    this.src = (unique ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + keyPathSrc;\n}\n//\n// TableSchema struct\n//\nfunction TableSchema(name, primKey, indexes, instanceTemplate) {\n    /// <param name=\"name\" type=\"String\"></param>\n    /// <param name=\"primKey\" type=\"IndexSpec\"></param>\n    /// <param name=\"indexes\" type=\"Array\" elementType=\"IndexSpec\"></param>\n    /// <param name=\"instanceTemplate\" type=\"Object\"></param>\n    this.name = name;\n    this.primKey = primKey || new IndexSpec();\n    this.indexes = indexes || [new IndexSpec()];\n    this.instanceTemplate = instanceTemplate;\n    this.mappedClass = null;\n    this.idxByName = arrayToObject(indexes, function (index) { return [index.name, index]; });\n}\nfunction safariMultiStoreFix(storeNames) {\n    return storeNames.length === 1 ? storeNames[0] : storeNames;\n}\nfunction getNativeGetDatabaseNamesFn(indexedDB) {\n    var fn = indexedDB && (indexedDB.getDatabaseNames || indexedDB.webkitGetDatabaseNames);\n    return fn && fn.bind(indexedDB);\n}\n// Export Error classes\nprops(Dexie, fullNameExceptions); // Dexie.XXXError = class XXXError {...};\n//\n// Static methods and properties\n// \nprops(Dexie, {\n    //\n    // Static delete() method.\n    //\n    delete: function (databaseName) {\n        var db = new Dexie(databaseName), promise = db.delete();\n        promise.onblocked = function (fn) {\n            db.on(\"blocked\", fn);\n            return this;\n        };\n        return promise;\n    },\n    //\n    // Static exists() method.\n    //\n    exists: function (name) {\n        return new Dexie(name).open().then(function (db) {\n            db.close();\n            return true;\n        }).catch(Dexie.NoSuchDatabaseError, function () { return false; });\n    },\n    //\n    // Static method for retrieving a list of all existing databases at current host.\n    //\n    getDatabaseNames: function (cb) {\n        var getDatabaseNames = getNativeGetDatabaseNamesFn(Dexie.dependencies.indexedDB);\n        return getDatabaseNames ? new Promise(function (resolve, reject) {\n            var req = getDatabaseNames();\n            req.onsuccess = function (event) {\n                resolve(slice(event.target.result, 0)); // Converst DOMStringList to Array<String>\n            };\n            req.onerror = eventRejectHandler(reject);\n        }).then(cb) : dbNamesDB.dbnames.toCollection().primaryKeys(cb);\n    },\n    defineClass: function () {\n        // Default constructor able to copy given properties into this object.\n        function Class(properties) {\n            /// <param name=\"properties\" type=\"Object\" optional=\"true\">Properties to initialize object with.\n            /// </param>\n            if (properties)\n                extend(this, properties);\n        }\n        return Class;\n    },\n    applyStructure: applyStructure,\n    ignoreTransaction: function (scopeFunc) {\n        // In case caller is within a transaction but needs to create a separate transaction.\n        // Example of usage:\n        //\n        // Let's say we have a logger function in our app. Other application-logic should be unaware of the\n        // logger function and not need to include the 'logentries' table in all transaction it performs.\n        // The logging should always be done in a separate transaction and not be dependant on the current\n        // running transaction context. Then you could use Dexie.ignoreTransaction() to run code that starts a new transaction.\n        //\n        //     Dexie.ignoreTransaction(function() {\n        //         db.logentries.add(newLogEntry);\n        //     });\n        //\n        // Unless using Dexie.ignoreTransaction(), the above example would try to reuse the current transaction\n        // in current Promise-scope.\n        //\n        // An alternative to Dexie.ignoreTransaction() would be setImmediate() or setTimeout(). The reason we still provide an\n        // API for this because\n        //  1) The intention of writing the statement could be unclear if using setImmediate() or setTimeout().\n        //  2) setTimeout() would wait unnescessary until firing. This is however not the case with setImmediate().\n        //  3) setImmediate() is not supported in the ES standard.\n        //  4) You might want to keep other PSD state that was set in a parent PSD, such as PSD.letThrough.\n        return PSD.trans ?\n            usePSD(PSD.transless, scopeFunc) : // Use the closest parent that was non-transactional.\n            scopeFunc(); // No need to change scope because there is no ongoing transaction.\n    },\n    vip: function (fn) {\n        // To be used by subscribers to the on('ready') event.\n        // This will let caller through to access DB even when it is blocked while the db.ready() subscribers are firing.\n        // This would have worked automatically if we were certain that the Provider was using Dexie.Promise for all asyncronic operations. The promise PSD\n        // from the provider.connect() call would then be derived all the way to when provider would call localDatabase.applyChanges(). But since\n        // the provider more likely is using non-promise async APIs or other thenable implementations, we cannot assume that.\n        // Note that this method is only useful for on('ready') subscribers that is returning a Promise from the event. If not using vip()\n        // the database could deadlock since it wont open until the returned Promise is resolved, and any non-VIPed operation started by\n        // the caller will not resolve until database is opened.\n        return newScope(function () {\n            PSD.letThrough = true; // Make sure we are let through if still blocking db due to onready is firing.\n            return fn();\n        });\n    },\n    async: function (generatorFn) {\n        return function () {\n            try {\n                var rv = awaitIterator(generatorFn.apply(this, arguments));\n                if (!rv || typeof rv.then !== 'function')\n                    return Promise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        };\n    },\n    spawn: function (generatorFn, args, thiz) {\n        try {\n            var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n            if (!rv || typeof rv.then !== 'function')\n                return Promise.resolve(rv);\n            return rv;\n        }\n        catch (e) {\n            return rejection(e);\n        }\n    },\n    // Dexie.currentTransaction property\n    currentTransaction: {\n        get: function () { return PSD.trans || null; }\n    },\n    waitFor: function (promiseOrFunction, optionalTimeout) {\n        // If a function is provided, invoke it and pass the returning value to Transaction.waitFor()\n        var promise = Promise.resolve(typeof promiseOrFunction === 'function' ? Dexie.ignoreTransaction(promiseOrFunction) : promiseOrFunction)\n            .timeout(optionalTimeout || 60000); // Default the timeout to one minute. Caller may specify Infinity if required.       \n        // Run given promise on current transaction. If no current transaction, just return a Dexie promise based\n        // on given value.\n        return PSD.trans ? PSD.trans.waitFor(promise) : promise;\n    },\n    // Export our Promise implementation since it can be handy as a standalone Promise implementation\n    Promise: Promise,\n    // Dexie.debug proptery:\n    // Dexie.debug = false\n    // Dexie.debug = true\n    // Dexie.debug = \"dexie\" - don't hide dexie's stack frames.\n    debug: {\n        get: function () { return debug; },\n        set: function (value) {\n            setDebug(value, value === 'dexie' ? function () { return true; } : dexieStackFrameFilter);\n        }\n    },\n    // Export our derive/extend/override methodology\n    derive: derive,\n    extend: extend,\n    props: props,\n    override: override,\n    // Export our Events() function - can be handy as a toolkit\n    Events: Events,\n    // Utilities\n    getByKeyPath: getByKeyPath,\n    setByKeyPath: setByKeyPath,\n    delByKeyPath: delByKeyPath,\n    shallowClone: shallowClone,\n    deepClone: deepClone,\n    getObjectDiff: getObjectDiff,\n    asap: asap,\n    maxKey: maxKey,\n    minKey: minKey,\n    // Addon registry\n    addons: [],\n    // Global DB connection list\n    connections: connections,\n    MultiModifyError: exceptions.Modify,\n    errnames: errnames,\n    // Export other static classes\n    IndexSpec: IndexSpec,\n    TableSchema: TableSchema,\n    //\n    // Dependencies\n    //\n    // These will automatically work in browsers with indexedDB support, or where an indexedDB polyfill has been included.\n    //\n    // In node.js, however, these properties must be set \"manually\" before instansiating a new Dexie().\n    // For node.js, you need to require indexeddb-js or similar and then set these deps.\n    //\n    dependencies: (function () {\n        try {\n            return {\n                // Required:\n                indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n                IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n            };\n        }\n        catch (e) {\n            return {\n                indexedDB: null,\n                IDBKeyRange: null\n            };\n        }\n    })(),\n    // API Version Number: Type Number, make sure to always set a version number that can be comparable correctly. Example: 0.9, 0.91, 0.92, 1.0, 1.01, 1.1, 1.2, 1.21, etc.\n    semVer: DEXIE_VERSION,\n    version: DEXIE_VERSION.split('.')\n        .map(function (n) { return parseInt(n); })\n        .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }),\n    // https://github.com/dfahlander/Dexie.js/issues/186\n    // typescript compiler tsc in mode ts-->es5 & commonJS, will expect require() to return\n    // x.default. Workaround: Set Dexie.default = Dexie.\n    default: Dexie,\n    // Make it possible to import {Dexie} (non-default import)\n    // Reason 1: May switch to that in future.\n    // Reason 2: We declare it both default and named exported in d.ts to make it possible\n    // to let addons extend the Dexie interface with Typescript 2.1 (works only when explicitely\n    // exporting the symbol, not just default exporting)\n    Dexie: Dexie\n});\n// Map DOMErrors and DOMExceptions to corresponding Dexie errors. May change in Dexie v2.0.\nPromise.rejectionMapper = mapError;\n// Initialize dbNamesDB (won't ever be opened on chromium browsers')\ndbNamesDB = new Dexie('__dbnames');\ndbNamesDB.version(1).stores({ dbnames: 'name' });\n(function () {\n    // Migrate from Dexie 1.x database names stored in localStorage:\n    var DBNAMES = 'Dexie.DatabaseNames';\n    try {\n        if (typeof localStorage !== undefined && _global.document !== undefined) {\n            // Have localStorage and is not executing in a worker. Lets migrate from Dexie 1.x.\n            JSON.parse(localStorage.getItem(DBNAMES) || \"[]\")\n                .forEach(function (name) { return dbNamesDB.dbnames.put({ name: name }).catch(nop); });\n            localStorage.removeItem(DBNAMES);\n        }\n    }\n    catch (_e) { }\n})();\n\nreturn Dexie;\n\n})));\n//# sourceMappingURL=dexie.js.map\n","import { CacheModel } from \"./cache.models\";\r\n\r\nexport interface ICacheConfigService {\r\n    enableLogs: boolean;\r\n    models: CacheModel[];\r\n    prefix: string;\r\n}\r\n\r\nexport class CacheConfigService implements ICacheConfigService {\r\n    constructor(\r\n        public enableLogs: boolean,\r\n        public models: CacheModel[],\r\n        public prefix: string\r\n    ) { }\r\n}\r\n\r\nexport interface ICacheConfigProvider {\r\n    enableLogs: boolean;\r\n    models: CacheModel[];\r\n    prefix: string;\r\n}\r\n\r\nclass CacheConfigProvider implements ICacheConfigProvider, ng.IServiceProvider {\r\n\r\n    private _service: CacheConfigService;\r\n\r\n    enableLogs: boolean = false;\r\n    models: CacheModel[] = [];\r\n    prefix: string = 'PipCache';\r\n\r\n    constructor() {\r\n        \"ngInject\";\r\n    }\r\n\r\n    public $get() {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new CacheConfigService(\r\n                this.enableLogs,\r\n                this.models,\r\n                this.prefix\r\n            );\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module(\"pipCache\")\r\n    .provider('pipCacheConfig', CacheConfigProvider);","import { ICacheService } from \"./cache.service\";\r\nimport { CacheCollectionParams } from \"./cache.models\";\r\n\r\nfunction configureInterceptor(\r\n    $httpProvider: ng.IHttpProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $httpProvider.interceptors.push(function ($q: ng.IQService, pipCache: ICacheService) {\r\n        const getDefaultParams = function (params: any): CacheCollectionParams {\r\n            const ret: CacheCollectionParams = {};\r\n            if (params) {\r\n                if (params.hasOwnProperty('offset')) { ret.offset = parseInt(params.offset, 10); }\r\n                if (params.hasOwnProperty('limit')) { ret.limit = parseInt(params.limit, 10); }\r\n            }\r\n            return ret;\r\n        };\r\n        return {\r\n            request: (config: ng.IRequestConfig) => {\r\n                for (const model of pipCache.models) {\r\n                    for (const ik of Object.keys(model.interceptors)) {\r\n                        const interceptor = model.interceptors[ik];\r\n                        const match = interceptor.match.exec(config.url);\r\n                        if (match) {\r\n                            switch (config.method) {\r\n                                case 'GET':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                            const { groups } = match;\r\n                                            return pipCache.getItem(model.name, interceptor.getKey(groups), interceptor.options)\r\n                                                .then(item => {\r\n                                                    if (!item) {\r\n                                                        (config as any).onResponse = (body) => {\r\n                                                            pipCache.setItem(model.name, body, interceptor.options);\r\n                                                        };\r\n                                                        return config;\r\n                                                    } else {\r\n                                                        config.timeout = $q.defer().promise;\r\n                                                        return $q.reject({ cachedData: item });\r\n                                                    }\r\n                                                });\r\n                                        case 'collection':\r\n                                            const params = interceptor.getParams ? interceptor.getParams(config.params) : getDefaultParams(config.params);\r\n                                            return pipCache.getItems(model.name, params, interceptor.options)\r\n                                                .then(items => {\r\n                                                    if (!items) {\r\n                                                        (config as any).onResponse = (body) => {\r\n                                                            const its = interceptor.responseModify\r\n                                                                ? interceptor.responseModify.responseToItems(body) : body;\r\n                                                            pipCache.setItems(model.name, its,\r\n                                                                { params, options: interceptor.options });\r\n                                                        };\r\n                                                        return config;\r\n                                                    } else {\r\n                                                        config.timeout = $q.defer().promise;\r\n                                                        const resp = interceptor.responseModify\r\n                                                            ? interceptor.responseModify.itemsToResponse(items) : items;\r\n                                                        return $q.reject({ cachedData: resp });\r\n                                                    }\r\n                                                });\r\n                                        default:\r\n                                            console.error(`Unknown type of interceptor (${ik})`);\r\n                                            break;\r\n                                    }\r\n                                case 'POST':\r\n                                case 'PUT':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                        case 'collection':\r\n                                            (config as any).onResponse = (body) => {\r\n                                                pipCache.setItem(model.name, body, { removeTotal: config.method === 'POST' });\r\n                                            };\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                case 'DELETE':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                            const { groups } = match;\r\n                                            (config as any).onResponse = (body) => {\r\n                                                pipCache.deleteItems(model.name, [interceptor.getKey(groups)]);\r\n                                            };\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return config;\r\n            },\r\n            response: <T>(response: ng.IHttpPromiseCallbackArg<T>) => {\r\n                if (response.config.hasOwnProperty('onResponse') && typeof (response.config as any).onResponse === 'function') {\r\n                    (response.config as any).onResponse(response.data);\r\n                }\r\n                return response;\r\n            },\r\n            responseError: function (rejection) {\r\n                if (rejection && rejection.cachedData) {\r\n                    return $q.resolve({ data: rejection.cachedData });\r\n                }\r\n                return $q.reject(rejection);\r\n            }\r\n        } as ng.IHttpInterceptor;\r\n    });\r\n}\r\n\r\nangular\r\n    .module('pipCache')\r\n    .config(configureInterceptor);","export class CacheCollectionParams {\r\n    offset?: number;\r\n    limit?: number;\r\n}\r\n\r\nexport class CacheInterceptorOptions {\r\n    maxAge?: number;\r\n}\r\n\r\nexport class CacheModel {\r\n    name: string;\r\n    options: {\r\n        maxAge: number;\r\n        key?: string;\r\n    };\r\n    interceptors: {\r\n        item?: {\r\n            match: RegExp;\r\n            options?: CacheInterceptorOptions;\r\n            getKey: (groups: any) => any;\r\n        };\r\n        collection?: {\r\n            match: RegExp;\r\n            options?: CacheInterceptorOptions;\r\n            responseModify?: {\r\n                responseToItems: (resp: any) => any[];\r\n                itemsToResponse: (items: any[]) => any;\r\n            }\r\n            getParams?: (params: any) => CacheCollectionParams;\r\n        };\r\n    };\r\n}\r\n","import { CacheInterceptorOptions, CacheCollectionParams, CacheModel } from './cache.models';\r\nimport { ICacheConfigProvider } from './cache-config.service';\r\nimport * as Dexie from 'dexie';\r\n\r\nexport interface ICacheService {\r\n    models: CacheModel[];\r\n    getItem(modelName: string, key: any, options?: CacheInterceptorOptions): Promise<any>;\r\n    getItems(modelName: string, params?: CacheCollectionParams, options?: CacheInterceptorOptions): Promise<any[]>;\r\n    setItem(modelName: string, item: any, options?: { removeTotal?: boolean }): Promise<any>;\r\n    setItems(modelName: string, items: any[], payload?: {\r\n        params?: CacheCollectionParams, options?: CacheInterceptorOptions\r\n    }): Promise<any[]>\r\n    deleteItems(modelName: string, keys: any[]): Promise<any>;\r\n    clear(model?: string | string[]): Promise<any>;\r\n}\r\n\r\nexport class CacheService implements ICacheService {\r\n\r\n    private openedDbs = new Map<string, Dexie.Dexie>();\r\n\r\n    constructor(private config: ICacheConfigProvider) { }\r\n\r\n    private getDbName(modelName: string): string {\r\n        if (!modelName) { throw new Error('Model name should be defined'); }\r\n        return this.config.prefix + modelName.charAt(0).toUpperCase() + modelName.slice(1);\r\n    }\r\n\r\n    private getDb(model: CacheModel): Dexie.Dexie {\r\n        if (!model || !model.name) { throw new Error('Model should be defined'); }\r\n        const dbName = this.getDbName(model.name);\r\n        if (this.openedDbs.has(dbName)) { return this.openedDbs.get(dbName); }\r\n        const db = new Dexie.Dexie(dbName);\r\n        const modelKey = model.options.key || 'id';\r\n        db.version(1).stores({\r\n            items: modelKey,\r\n            lastRead: '',\r\n            indexes: 'idx,' + modelKey,\r\n            meta: ''\r\n        });\r\n        this.openedDbs.set(dbName, db);\r\n        return db;\r\n    }\r\n\r\n    private getModel(modelName: string): CacheModel {\r\n        return this.models.find(m => m.name === modelName);\r\n    }\r\n\r\n    public get models(): CacheModel[] { return this.config.models || []; }\r\n\r\n    async getItem(modelName: string, key: any, options?: CacheInterceptorOptions): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const [expire, item] = await Promise.all([\r\n            db.table('lastRead').get(key),\r\n            db.table('items').get(key)\r\n        ]);\r\n        const maxAge = options && options.maxAge || model.options.maxAge;\r\n        const expired = expire + maxAge <= new Date().valueOf();\r\n        if (this.config.enableLogs) {\r\n            console.groupCollapsed('[PipCache] GET single item #' + key);\r\n            console.log('Item: ', item);\r\n            console.log('Expired: ', expired);\r\n            console.log('Expired at: ', new Date(expire));\r\n            console.groupEnd();\r\n        }\r\n        return expired ? null : item;\r\n    }\r\n    async getItems(modelName: string, params?: CacheCollectionParams, options?: CacheInterceptorOptions): Promise<any[]> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const modelKey = model.options.key || 'id';\r\n        // get indexes of items we should receive\r\n        const totalDetails: { total: number, lastRead: number } = await db.table('meta').get('total');\r\n        const maxAge = options && options.maxAge || model.options.maxAge;\r\n        const total = totalDetails && (totalDetails.lastRead + maxAge >= new Date().valueOf())\r\n            ? totalDetails.total : undefined;\r\n        if (this.config.enableLogs) {\r\n            console.groupCollapsed('[PipCache] GET collection of items');\r\n            console.log('Params: ', params);\r\n        }\r\n        if (params && Object.keys(params).length) {\r\n            // If we have some limitations we have to get ids of items and then items\r\n            const offset = params.hasOwnProperty('offset') ? params.offset : 0;\r\n            const limit = params.hasOwnProperty('limit') ? params.limit : undefined;\r\n            if (limit !== undefined) {\r\n                // This is the only case where we don't need to know about total items count\r\n                const indexes = await db.table('indexes').where('idx').between(offset, offset + limit, true, false).toArray();\r\n                if (indexes.length !== limit && (total === undefined || indexes.length !== total - offset)) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('There\\'s not enough information about indexes');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                } else {\r\n                    const ids = indexes.map(idx => idx.id);\r\n                    const [items, reads] = await Promise.all([\r\n                        db.table('items').where(modelKey).anyOf(ids).toArray(),\r\n                        db.table('lastRead').where('').anyOf(ids).toArray()\r\n                    ]);\r\n                    if (!items || items.length !== indexes.length || !reads || reads.length !== indexes.length) {\r\n                        if (this.config.enableLogs) {\r\n                            console.warn('Not all items presented in cache');\r\n                            console.groupEnd();\r\n                        }\r\n                        return null;\r\n                    }\r\n                    if (Math.min(...reads) + maxAge <= new Date().valueOf()) {\r\n                        if (this.config.enableLogs) {\r\n                            console.log('Items was expired');\r\n                            console.groupEnd();\r\n                        }\r\n                        return null;\r\n                    }\r\n                    if (this.config.enableLogs) {\r\n                        console.log('Items: ', items);\r\n                        console.groupEnd();\r\n                    }\r\n                    return items;\r\n                }\r\n            } else if (total !== undefined) {\r\n                // In this case we should check is total count of items presented\r\n                const indexes = await db.table('indexes').where('idx').aboveOrEqual(offset).toArray();\r\n                if (indexes.length !== limit || indexes.length !== total - offset) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('Not all items presented in cache');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                }\r\n                const ids = indexes.map(idx => idx.id);\r\n                const [items, reads] = await Promise.all([\r\n                    db.table('items').where(modelKey).anyOf(ids).toArray(),\r\n                    db.table('lastRead').where(modelKey).anyOf(ids).toArray()\r\n                ]);\r\n                if (!items || items.length !== indexes.length || !reads || reads.length !== indexes.length) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('Not all items presented in cache');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                }\r\n                if (Math.min(...reads) + maxAge >= new Date().valueOf()) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('Items was expired');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                }\r\n                if (this.config.enableLogs) {\r\n                    console.log('Items: ', items);\r\n                    console.groupEnd();\r\n                }\r\n                return items;\r\n            }\r\n        } else if (total !== undefined) {\r\n            // If there is no limitations we have to return all items if they're all presented\r\n            const [items, reads] = await Promise.all([\r\n                db.table('items').toArray(),\r\n                db.table('lastRead').toArray()\r\n            ]);\r\n            if (!items || items.length !== total || !reads || reads.length !== total) {\r\n                if (this.config.enableLogs) {\r\n                    console.log('Not all items presented in cache');\r\n                    console.groupEnd();\r\n                }\r\n                return null;\r\n            }\r\n            if (Math.min(...reads) + maxAge <= new Date().valueOf()) {\r\n                if (this.config.enableLogs) {\r\n                    console.log('Items was expired');\r\n                    console.groupEnd();\r\n                }\r\n                return null;\r\n            }\r\n            if (this.config.enableLogs) {\r\n                console.log('Items: ', items);\r\n                console.groupEnd();\r\n            }\r\n            return items;\r\n        } else {\r\n            if (this.config.enableLogs) {\r\n                console.log('We want to return all items, but we don\\'t know how many they are');\r\n                console.groupEnd();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    async setItem(modelName: string, item: any, options?: { removeTotal?: boolean; }): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const [expire, it] = await Promise.all([\r\n            db.table('lastRead').put(new Date().valueOf(), item[model.options.key]),\r\n            db.table('items').put(item)\r\n        ]);\r\n        if (options) {\r\n            if (options.removeTotal) {\r\n                await db.table('meta').delete('total');\r\n            }\r\n        }\r\n        if (this.config.enableLogs) {\r\n            console.groupCollapsed('[PipCache] SET single item #' + item[model.options.key]);\r\n            console.log('Item: ', it);\r\n            console.log('Readed at: ', new Date());\r\n            console.groupEnd();\r\n        }\r\n        return it;\r\n    }\r\n    async setItems(modelName: string, items: any[], payload?:\r\n        { params?: CacheCollectionParams; options?: CacheInterceptorOptions; }): Promise<any[]> {\r\n        const model = this.getModel(modelName);\r\n        const modelKey = model.options.key || 'id';\r\n        const db = this.getDb(model);\r\n        const lr = new Date().valueOf();\r\n        const offset = payload && payload.params && payload.params.offset || 0;\r\n        const ids = items.map(it => it[modelKey]);\r\n        const indexes = ids.map((id, idx) => ({ id, idx: idx + offset }));\r\n        const promises = [\r\n            db.table('lastRead').bulkPut(new Array(items.length).fill(lr), ids),\r\n            db.table('items').bulkPut(items),\r\n            db.table('indexes').bulkPut(indexes)\r\n        ];\r\n        let total;\r\n        if ((payload && payload.params && payload.params.limit && items && items.length < payload.params.limit)\r\n            || (!payload || !payload.params || !Object.keys(payload.params).length)) {\r\n            total = (payload.params.offset || 0) + items.length;\r\n            promises.push(db.table('meta').put({ lastRead: new Date().valueOf(), total }, 'total'));\r\n        }\r\n        return Promise.all(promises).then(([args]) => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] SET collection of items');\r\n                console.log('Params: ', payload.params);\r\n                console.log('Items: ', items);\r\n                console.log('Last read at: ', new Date());\r\n                if (args && args.length === 2) {\r\n                    console.log('New total: ', total);\r\n                }\r\n                console.groupEnd();\r\n            }\r\n            return items;\r\n        });\r\n    }\r\n    async deleteItems(modelName: string, keys: any[]): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const modelKey = model.options.key || 'id';\r\n        return Promise.all([\r\n            db.table('lastRead').bulkDelete(keys),\r\n            db.table('items').bulkDelete(keys),\r\n            db.table('indexes').where(modelKey).anyOf(keys).delete(),\r\n            db.table('meta').delete('total')\r\n        ]).then(() => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] DELETE');\r\n                console.log('Keys: ', keys);\r\n                console.groupEnd();\r\n            }\r\n        });\r\n    }\r\n    async clear(model?: string | string[]): Promise<any> {\r\n        return new Promise(resolve => {\r\n            const dbs: string[] = [];\r\n            if (model) {\r\n                Array.isArray(model)\r\n                    ? dbs.push(...model.map(m => this.getDbName(m)))\r\n                    : dbs.push(this.getDbName(model));\r\n                resolve(dbs);\r\n            } else {\r\n                resolve(Dexie.Dexie.getDatabaseNames());\r\n            }\r\n        }).then((names: string[]) => {\r\n            const dbs = names.filter(name => name.startsWith(this.config.prefix));\r\n            if (this.config.enableLogs) {\r\n                console.log('databases to delete: ', names);\r\n            }\r\n            const promises = [];\r\n            for (const name of dbs) {\r\n                try {\r\n                    const db = this.openedDbs.has(name) ? this.openedDbs.get(name) : new Dexie.Dexie(name);\r\n                    promises.push(db.table('items').clear());\r\n                    promises.push(db.table('meta').clear());\r\n                    promises.push(db.table('lastRead').clear());\r\n                    promises.push(db.table('indexes').clear());\r\n                } catch (err) {\r\n                    if (this.config.enableLogs) {\r\n                        console.warn('Error opening database ' + name);\r\n                    }\r\n                }\r\n            }\r\n            return Promise.all(promises);\r\n        }).then(res => {\r\n            if (this.config.enableLogs) {\r\n                console.log('%c%s', 'color: blue; font: 1.2rem Impact;', '[PipCache] CLEAR');\r\n                if (model) { console.log('Model(s): ', model); } else { console.log('all models'); }\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport interface ICacheProvider {\r\n    models: CacheModel[];\r\n    registerModel(model: CacheModel): boolean;\r\n}\r\n\r\nclass CacheProvider implements ICacheProvider {\r\n\r\n    private _service: ICacheService;\r\n\r\n    constructor(private pipCacheConfigProvider: ICacheConfigProvider) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    public get models(): CacheModel[] { return this.pipCacheConfigProvider.models; }\r\n\r\n    public registerModel(model: CacheModel) {\r\n        if (!model) { return false; }\r\n        const res = this.models.find(m => m.name === model.name);\r\n        if (res) { return false; }\r\n        this.models.push(model);\r\n        return true;\r\n    }\r\n\r\n    public $get() {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new CacheService(this.pipCacheConfigProvider);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module(\"pipCache\")\r\n    .provider('pipCache', CacheProvider);","angular.module('pipCache', []);\r\n\r\nimport './cache-config.service';\r\nimport './cache.service';\r\nimport './cache.interceptor';\r\n\r\nexport * from './cache.models';\r\nexport * from './cache-config.service';\r\nexport * from './cache.service';\r\n","import { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './IAuxPanelService';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\n\r\n{\r\n    class AuxPanelDirectiveController {\r\n        private normalSize: number = 320;\r\n        private largeSize: number = 480;\r\n        private _debounceBodySize: Function;\r\n        private gtxs: boolean = null;\r\n        private gtlg: boolean = null;\r\n        private bodyWidth: number;\r\n        private bodyElement: any;\r\n\r\n        public constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private pipAuxPanel: IAuxPanelService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // this._debounceBodySize = _.debounce(() => {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n            // }, 10);\r\n\r\n            this.bodyElement = $('body');\r\n            this.bodyWidth = this.bodyElement.width();\r\n            $rootScope.$on(LayoutResizedEvent, () => {\r\n                this.bodyWidth = this.bodyElement.width();\r\n            });\r\n            // this._debounceBodySize();\r\n        }\r\n\r\n        public isGtxs(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtxs;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n\r\n            //     return this.gtxs;\r\n            // }\r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n\r\n            return this.bodyWidth > MainBreakpoints.xs;\r\n        }\r\n\r\n        public isGtlg(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtlg;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n                \r\n            //     return this.gtlg;\r\n            // }            \r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n            \r\n            return this.bodyWidth > (MainBreakpoints.lg + this.largeSize);\r\n        }\r\n    }\r\n\r\n    const AuxPanel: ng.IComponentOptions = {\r\n\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\r\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" ng-transclude><div pip-focused></div>' +\r\n        '</md-sidenav>'\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .component('pipAuxPanel', AuxPanel);\r\n\r\n}\r\n","{\r\n\r\n    class AuxPanelPartController {\r\n        private partName: string;\r\n        private partValue: string;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipAuxPanel) {\r\n            \"ngInject\";\r\n            this.partName = '' + $attrs.pipAuxPanelPart;\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\r\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\r\n                this.onAuxPanelChanged(event, config);\r\n            });\r\n\r\n        }\r\n\r\n        private onAuxPanelChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = config[this.partName];\r\n            // Set visible variable to switch ngIf\r\n\r\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\r\n        }\r\n    }\r\n\r\n\r\n    function AuxPanelPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function ($scope: ng.IScope, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: AuxPanelPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent, AuxPanelOpenedEvent, AuxPanelClosedEvent } from './IAuxPanelService';\r\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n\r\n        \"ngInject\";\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n        this._rootScope.$emit(AuxPanelOpenedEvent, this._config);\r\n    }\r\n\r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n        this._rootScope.$emit(AuxPanelClosedEvent, this._config);\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    \"ngInject\";\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\nexport const AuxPanelOpenedEvent = 'pipAuxPanelOpened';\r\nexport const AuxPanelClosedEvent = 'pipAuxPanelClosed';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}","angular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPart';\r\nimport './AuxPanel';\r\n\r\nexport * from './IAuxPanelService';","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface ICardDirectiveAttributes extends ng.IAttributes {\r\n    minWidth: string | number;\r\n    minHeight: string | number;\r\n    width: string | number;\r\n    height: string | number;\r\n}\r\n\r\nclass CardDirectiveLink {\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService, \r\n        private $element: JQuery, \r\n        private $attrs: ICardDirectiveAttributes\r\n    ) {\r\n       \"ngInject\";\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        const\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width();\r\n        let\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\r\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\r\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\r\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this.$element.css('width', width ? width + 'px' : '');\r\n        this.$element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            const\r\n                $header = this.$element.find('.pip-header:visible'),\r\n                $footer = this.$element.find('.pip-footer:visible'),\r\n                $body = this.$element.find('.pip-body');\r\n            let maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this.$element.css('left', left);\r\n            this.$element.css('top', top);\r\n\r\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this.$rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\n    interface IMainDirectiveAttributes extends ng.IAttributes {\r\n        pipContainer: string;\r\n    }\r\n\r\n    class MainDirectiveController implements ng.IController {\r\n        private _container: any;\r\n\r\n        public constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: angular.IRootElementService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $attrs: IMainDirectiveAttributes\r\n        ) {\r\n            \"ngInject\";\r\n            this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\r\n\r\n            // Add CSS class\r\n            $element.addClass('pip-main');\r\n\r\n            // Add resize listener\r\n            const listener = () => { this.resize(); };\r\n            addResizeListener(this._container[0], listener);\r\n\r\n            // Unbind when scope is removed\r\n            $scope.$on('$destroy', () => {\r\n                removeResizeListener(this._container[0], listener);\r\n            });\r\n\r\n            // Perform initial calculations\r\n            this.updateBreakpointStatuses();\r\n        }\r\n\r\n        private updateBreakpointStatuses() {\r\n            const width = this._container.innerWidth();\r\n            const body = $('body');\r\n\r\n            MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n            $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n                if (_.isBoolean(status)) {\r\n                    body[status ? 'addClass' : 'removeClass']('pip-' + breakpoint);\r\n                }\r\n            });\r\n\r\n            this.$timeout(() => {\r\n                this.$rootScope.$apply();\r\n            });\r\n        }\r\n\r\n        private resize() {\r\n            this.updateBreakpointStatuses();\r\n            this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n        }\r\n    }\r\n\r\n    class MainBodyDirectiveLink {\r\n        public constructor(\r\n            $scope: ng.IScope,\r\n            $element: angular.IRootElementService\r\n        ) {\r\n            \"ngInject\";\r\n            // Add CSS class\r\n            $element.addClass('pip-main-body');\r\n        }\r\n    }\r\n\r\n    function mainDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            controller: MainDirectiveController,\r\n            controllerAs: 'vm'\r\n        }\r\n    }\r\n\r\n    function mainBodyDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: MainBodyDirectiveLink\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipMain', mainDirective)\r\n        .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","(() => {\r\n\r\n    function simpleDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n                $element.addClass('pip-simple');\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipSimple', simpleDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\r\n    columnWidth: string | number;\r\n    pipInfinite: string | boolean | number;\r\n}\r\n\r\nclass TilesOptions {\r\n    gutter: number;\r\n    isFitWidth: boolean;\r\n    isResizeBound: boolean;\r\n    transitionDuration: number;\r\n}\r\n\r\ninterface ITilesControllerScope extends ng.IScope {\r\n    tilesOptions: TilesOptions;\r\n}\r\n\r\nclass TilesDirectiveLink {\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n\tprivate _heading: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope,\r\n        private $element: JQuery,\r\n        private $attrs: ITilesDirectiveAttributes,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        \"ngInject\";\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440;\r\n        this._container = $element.children('.pip-tiles-container');\r\n\t\tthis._heading = $($element.children('.pip-tiles-heading')[0]);\r\n        this._prevContainerWidth = null;\r\n        this._masonry = Masonry.data(this._container[0]);\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this.$element.parent().width(),\r\n            containerWidth;\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this.$rootScope.$emit(LayoutResizedEvent, containerWidth);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value): boolean {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n\t\t\tgutter: '='\r\n\t\t},\r\n        transclude: {\r\n            'heading': '?pipTilesHeading'\r\n        },\r\n        template:\r\n        ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            if (convertToBoolean($attrs.pipInfinite)) {\r\n                return String()\r\n                    + '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                    + '</div>';\r\n            } else {\r\n                return String()\r\n\t\t\t\t\t+ '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\">'\r\n                    + '</div>';\r\n            }\r\n        },\r\n        controller: ($scope: ITilesControllerScope) => {\r\n            $scope.tilesOptions = {\r\n                gutter: $scope.gutter || 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","export const MainResizedEvent = 'pipMainResized';\r\nexport const LayoutResizedEvent = 'pipLayoutResized';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null || width == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\r\nimport { IMediaProvider } from './IMediaService';\r\n\r\nexport let MainBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\r\nexport const MainBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nclass MediaProvider implements IMediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        const service = (size) => {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipMedia')\r\n    .provider('pipMedia', MediaProvider);\r\n","let attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n           \"ngInject\";\r\n    let frame = window.requestAnimationFrame\r\n        || (<any>window).mozRequestAnimationFrame\r\n        || (<any>window).webkitRequestAnimationFrame\r\n        || function (callback) {\r\n            return window.setTimeout(callback, 20);\r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n           \"ngInject\";\r\n    let cancel = window.cancelAnimationFrame\r\n        || (<any>window).mozCancelAnimationFrame\r\n        || (<any>window).webkitCancelAnimationFrame\r\n        || window.clearTimeout;\r\n\r\n    return function (id) {\r\n        return cancel(id);\r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    const win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function () {\r\n        const trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function (fn) {\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    if (this.contentDocument) {\r\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n    }\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            if (element.__resizeTrigger__.contentDocument) {\r\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n            }\r\n        }\r\n    }\r\n}\r\n","angular.module('pipMedia', []);\r\n\r\nimport './MediaService';\r\nimport './ResizeFunctions';\r\n\r\nexport * from './IMediaService';\r\nexport * from './MediaService';\r\nexport * from './ResizeFunctions';","{\r\n    class CancelDragLink {\r\n        constructor(\r\n            $element: JQuery\r\n        ) {\r\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n        }\r\n    }\r\n\r\n    const CancelDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new CancelDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipCancelDrag', CancelDrag);\r\n}","import {\r\n    IDraggableService\r\n} from './DraggableService';\r\n\r\n{\r\n    interface IDragLinkScope extends ng.IScope {\r\n        value: any;\r\n    }\r\n\r\n    interface IDragLinkAttributes extends ng.IAttributes {\r\n        ngDrag: any;\r\n        pipDragStart: any;\r\n        pipDragMove: any;\r\n        pipDragStop: any;\r\n        pipDragSuccess: any;\r\n        allowTransform: any;\r\n        pipDragData: any;\r\n        pipVerticalScroll: any;\r\n        pipHorizontalScroll: any;\r\n        pipActivationDistance: any;\r\n        pipScrollContainer: any;\r\n        pipDrag: any;\r\n        pipCenterAnchor: any;\r\n    }\r\n\r\n    class DragLink {\r\n        private LONG_PRESS: number = 50; // 50ms for longpress\r\n        private offset: any;\r\n        private _centerAnchor: boolean = false;\r\n        private _mx: number;\r\n        private _my: number;\r\n        private _tx: number;\r\n        private _ty: number;\r\n        private _mrx: number;\r\n        private _mry: number;\r\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n        private _pressEvents: string = 'touchstart mousedown';\r\n        private _moveEvents: string = 'touchmove mousemove';\r\n        private _releaseEvents: string = 'touchend mouseup';\r\n        private _dragHandle: any;\r\n\r\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n        private _myid: string | number;\r\n        private _data: any = null;\r\n\r\n        private _dragOffset: any = null;\r\n\r\n        private _dragEnabled: boolean = false;\r\n\r\n        private _pressTimer: any = null;\r\n\r\n        private _elementStyle: any = {};\r\n\r\n        private onDragStartCallback: Function;\r\n        private onDragMoveCallbak: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragSuccessCallback: Function;\r\n        private allowTransform: boolean;\r\n\r\n        private getDragData: any;\r\n        private verticalScroll: boolean;\r\n        private horizontalScroll: boolean;\r\n        private activationDistance: number;\r\n        private scrollDistance: number;\r\n        private scrollParent: boolean = false;\r\n\r\n        private scrollContainer: JQuery = angular.element(window);\r\n        private scrollContainerGetter: any;\r\n\r\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n        private _deregisterRootMoveListener: Function = angular.noop;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $window: ng.IWindowService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDragLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDragLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.ngDrag;\r\n            this._myid = $scope.$id;\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\r\n            this.onDragMoveCallbak = $parse($attrs.pipDragMove) || null;\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\r\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\r\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\r\n\r\n            this.getDragData = $parse($attrs.pipDragData);\r\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\r\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\r\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\r\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\r\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\r\n\r\n            this.$element.css('cursor', 'move');\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\r\n            // check to see if drag handle(s) was specified\r\n            // if querySelectorAll is available, we use this instead of find\r\n            // as JQLite find is limited to tagnames\r\n            let dragHandles: any;\r\n            if (this.$element[0].querySelectorAll) {\r\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\r\n            } else {\r\n                dragHandles = this.$element.find('[pip-drag-handle]');\r\n            }\r\n            if (dragHandles.length) {\r\n                this._dragHandle = dragHandles;\r\n            }\r\n            this.toggleListeners(true);\r\n\r\n            // Initialize scroll container\r\n            if (this.scrollParent) {\r\n                this.scrollContainer = angular.element(this.$element.parent());\r\n            } else if (this.$attrs.pipScrollContainer) {\r\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\r\n            } else {\r\n                this.scrollContainer = angular.element(window);\r\n            }\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            if (!enable) return;\r\n            // add listeners.\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                this.onDestroy(enable);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\r\n                this.onCenterAnchor(newVal, oldVal);\r\n            });\r\n            // wire up touch events\r\n            if (this._dragHandle) {\r\n                // handle(s) specified, use those to initiate drag\r\n                this._dragHandle.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            } else {\r\n                // no handle(s) specified, use the element as the handle\r\n                this.$element.on(this._pressEvents, (event) => {\r\n                    this.onpress(event);\r\n                });\r\n            }\r\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\r\n                this.$element.on('mousedown', () => {\r\n                    return false;\r\n                }); // prevent native drag for images\r\n            }\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dragEnabled = (newVal);\r\n        }\r\n\r\n        private onCenterAnchor(newVal, oldVal) {\r\n            if (angular.isDefined(newVal))\r\n                this._centerAnchor = (newVal || 'true');\r\n        }\r\n\r\n        private isClickableElement(evt) {\r\n            return (\r\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n            );\r\n        }\r\n\r\n        /*\r\n         * When the element is clicked start the drag behaviour\r\n         * On touch devices as a small delay so as not to prevent native window scrolling\r\n         */\r\n        private onpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n\r\n            if (this.isClickableElement(evt)) {\r\n                return;\r\n            }\r\n\r\n            if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                // Do not start dragging on right-click\r\n                return;\r\n            }\r\n\r\n            this.saveElementStyles();\r\n\r\n            if (this._hasTouch) {\r\n                this.cancelPress();\r\n                this._pressTimer = setTimeout(() => {\r\n                    this.cancelPress();\r\n                    this.onlongpress(evt);\r\n                }, this.LONG_PRESS);\r\n                this.$document.on(this._moveEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n                this.$document.on(this._releaseEvents, () => {\r\n                    this.cancelPress();\r\n                });\r\n            } else {\r\n                this.onlongpress(evt);\r\n            }\r\n        }\r\n\r\n        private saveElementStyles() {\r\n            this._elementStyle.left = this.$element.css('left') || 0;\r\n            this._elementStyle.top = this.$element.css('top') || 0;\r\n            this._elementStyle.position = this.$element.css('position');\r\n            this._elementStyle.width = this.$element.css('width');\r\n        }\r\n\r\n        private cancelPress() {\r\n            clearTimeout(this._pressTimer);\r\n            this.$document.off(this._moveEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n            this.$document.off(this._releaseEvents, () => {\r\n                this.cancelPress();\r\n            });\r\n        }\r\n\r\n        private onlongpress(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n\r\n            this.offset = this.$element[0].getBoundingClientRect();\r\n            if (this.allowTransform)\r\n                this._dragOffset = this.offset;\r\n            else {\r\n                this._dragOffset = {\r\n                    left: document.body.scrollLeft,\r\n                    top: document.body.scrollTop\r\n                };\r\n            }\r\n\r\n\r\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\r\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n            this._mrx = this._mx - this.offset.left;\r\n            this._mry = this._my - this.offset.top;\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\r\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\r\n            }\r\n\r\n            this.$document.on(this._moveEvents, (event) => {\r\n                this.onmove(event);\r\n            });\r\n            this.$document.on(this._releaseEvents, (event) => {\r\n                this.onrelease(event);\r\n            });\r\n            // This event is used to receive manually triggered mouse move events\r\n            // jqLite unfortunately only supports triggerHandler(...)\r\n            // See http://api.jquery.com/triggerHandler/\r\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\r\n                this.onmove(origEvent);\r\n            });\r\n        }\r\n\r\n        private onmove(evt) {\r\n            if (!this._dragEnabled) return;\r\n            evt.preventDefault();\r\n            if (!this.$element.hasClass('pip-dragging')) {\r\n                this._data = this.getDragData(this.$scope);\r\n                this.$element.addClass('pip-dragging');\r\n                this.$rootScope.$broadcast('draggable:start', {\r\n                    x: this._mx,\r\n                    y: this._my,\r\n                    tx: this._tx,\r\n                    ty: this._ty,\r\n                    event: evt,\r\n                    element: this.$element,\r\n                    data: this._data\r\n                });\r\n\r\n                if (this.onDragStartCallback) {\r\n                    this.$scope.$apply(() => {\r\n                        this.onDragStartCallback(this.$scope, {\r\n                            $data: this._data,\r\n                            $event: evt\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\r\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\r\n\r\n            if (this.horizontalScroll || this.verticalScroll) {\r\n                this.dragToScroll();\r\n            }\r\n\r\n            if (this._centerAnchor) {\r\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\r\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\r\n            } else {\r\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\r\n                this._ty = this._my - this._mry - this._dragOffset.top;\r\n            }\r\n\r\n            this.moveElement(this._tx, this._ty);\r\n            \r\n            this.$rootScope.$broadcast('draggable:move', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                uid: this._myid,\r\n                dragOffset: this._dragOffset\r\n            });\r\n\r\n            if (this.onDragMoveCallbak) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragMoveCallbak(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: angular.extend(evt, ),\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onrelease(evt) {\r\n            if (!this._dragEnabled)\r\n                return;\r\n            evt.preventDefault();\r\n            this.$rootScope.$broadcast('draggable:end', {\r\n                x: this._mx,\r\n                y: this._my,\r\n                tx: this._tx,\r\n                ty: this._ty,\r\n                event: evt,\r\n                element: this.$element,\r\n                data: this._data,\r\n                callback: this.onDragComplete,\r\n                uid: this._myid\r\n            });\r\n            this.$element.removeClass('pip-dragging');\r\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n            this.reset();\r\n            this.$document.off(this._moveEvents);\r\n            this.$document.off(this._releaseEvents);\r\n            if (this.onDragStopCallback) {\r\n                this.$scope.$apply(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: this._data,\r\n                        $event: evt\r\n                    });\r\n                });\r\n            }\r\n\r\n            this._deregisterRootMoveListener();\r\n        }\r\n\r\n        private onDragComplete(evt) {\r\n            if (!this.onDragSuccessCallback) return;\r\n\r\n            this.$scope.$apply(() => {\r\n                this.onDragSuccessCallback(this.$scope, {\r\n                    $data: this._data,\r\n                    $event: evt\r\n                });\r\n            });\r\n        }\r\n\r\n        private reset() {\r\n            if (this.allowTransform)\r\n                this.$element.css({\r\n                    transform: '',\r\n                    'z-index': '',\r\n                    '-webkit-transform': '',\r\n                    '-ms-transform': ''\r\n                });\r\n            else {\r\n                this.$element.css({\r\n                    position: this._elementStyle.position,\r\n                    top: this._elementStyle.top,\r\n                    left: this._elementStyle.left,\r\n                    'z-index': '',\r\n                    width: this._elementStyle.width\r\n                });\r\n            }\r\n        }\r\n\r\n        private moveElement(x, y) {\r\n            const eWidth = this.$element.css('width');\r\n            if (this.allowTransform) {\r\n                this.$element.css({\r\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    'z-index': 99999,\r\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                });\r\n            } else {\r\n                this.$element.css({\r\n                    'left': x + 'px',\r\n                    'top': y + 'px',\r\n                    'position': 'fixed',\r\n                    'z-index': 100,\r\n                    width: eWidth\r\n                });\r\n            }\r\n        }\r\n\r\n        private dragToScroll() {\r\n            let scrollX = 0,\r\n                scrollY = 0,\r\n                offset = (element) => {\r\n                    return element.offset() || {\r\n                        left: 0,\r\n                        top: 0\r\n                    };\r\n                };\r\n\r\n            if (this.horizontalScroll) {\r\n                const\r\n                    containerLeft = offset(this.scrollContainer).left,\r\n                    containerWidth = this.scrollContainer.innerWidth(),\r\n                    containerRight = containerLeft + containerWidth;\r\n\r\n                if ((this._mx - containerLeft) < this.activationDistance) {\r\n                    scrollX = -this.scrollDistance;\r\n                } else if ((containerRight - this._mx) < this.activationDistance) {\r\n                    scrollX = this.scrollDistance;\r\n                }\r\n            }\r\n\r\n            if (this.verticalScroll) {\r\n                const\r\n                    containerTop = offset(this.scrollContainer).top,\r\n                    containerHeight = this.scrollContainer.innerHeight(),\r\n                    containerBottom = containerTop + containerHeight;\r\n\r\n                if ((this._my - containerTop) < this.activationDistance) {\r\n                    scrollY = -this.scrollDistance + 30;\r\n                } else if ((containerBottom - this._my) < this.activationDistance) {\r\n                    scrollY = this.scrollDistance - 30;\r\n                }\r\n            }\r\n            if (scrollX !== 0 || scrollY !== 0) {\r\n                const\r\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\r\n                    containerScrollTop = this.scrollContainer.scrollTop();\r\n\r\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const Drag = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $window: ng.IWindowService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDragLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDragLinkAttributes\r\n            ) {\r\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrag', Drag);\r\n}","export interface IDraggableService {\r\n    inputEvent(event: any);\r\n}\r\n\r\nclass DraggableService implements IDraggableService {\r\n    public inputEvent(event) {\r\n        if (angular.isDefined(event.touches)) {\r\n            return event.touches[0];\r\n        }\r\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n            return event.originalEvent.touches[0];\r\n        }\r\n        return event;\r\n    };\r\n}\r\n\r\nangular\r\n    .module(\"pipDraggable\")\r\n    .service('pipDraggable', DraggableService);\r\n    ","import {\r\n    IDraggableService\r\n} from './DraggableService';\r\n\r\n{\r\n    interface IDropLinkScope extends ng.IScope {\r\n        value: any;\r\n        isTouching: any;\r\n    }\r\n\r\n    interface IDropLinkAttributes extends ng.IAttributes {\r\n        pipDrop: any;\r\n        pipDropSuccess: any;\r\n        pipDragStart: any;\r\n        pipDragStop: any;\r\n        pipDragMove: any;\r\n        pipEnter: any;\r\n        pipLeave: any;\r\n        pipDiactive: any;\r\n    }\r\n\r\n    class DropLink {\r\n\r\n        private _lastDropTouch: any;\r\n        private _myid: number | string;\r\n        private _dropEnabled: boolean;\r\n\r\n        private onDropCallback: Function; // || function(){};\r\n        private onDragStartCallback: Function;\r\n        private onDragStopCallback: Function;\r\n        private onDragMoveCallback: Function;\r\n        private onEnterCallback: Function;\r\n        private onLeaveCallback: Function;\r\n        private onDiactiveCallback: Function;\r\n\r\n        constructor(\r\n            private $parse: ng.IParseService,\r\n            private $document: ng.IDocumentService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipDraggable: IDraggableService,\r\n            private $scope: IDropLinkScope,\r\n            private $element: JQuery,\r\n            private $attrs: IDropLinkAttributes\r\n        ) {\r\n            $scope.value = $attrs.pipDrop;\r\n            $scope.isTouching = false;\r\n\r\n            this._myid = $scope.$id;\r\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\r\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\r\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\r\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\r\n            this.onEnterCallback = $parse($attrs.pipEnter);\r\n            this.onLeaveCallback = $parse($attrs.pipLeave);\r\n            this.onDiactiveCallback = $parse($attrs.pipDiactive);\r\n\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\r\n                this.onEnableChange(newVal, oldVal);\r\n            });\r\n            this.$scope.$on('$destroy', (event) => {\r\n                this.onDestroy(event);\r\n            });\r\n            this.$scope.$on('draggable:start', (evt, obj) => {\r\n                this.onDragStart(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:move', (evt, obj) => {\r\n                this.onDragMove(evt, obj);\r\n            });\r\n            this.$scope.$on('draggable:end', (evt, obj) => {\r\n                this.onDragEnd(evt, obj);\r\n            });\r\n        }\r\n\r\n        private onDestroy(enable) {\r\n            this.toggleListeners(false);\r\n        }\r\n\r\n        private onEnableChange(newVal, oldVal) {\r\n            this._dropEnabled = newVal;\r\n        }\r\n\r\n        private onDragStart(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\r\n\r\n            if (this.$attrs.pipDragStart) {\r\n                this.$timeout(() => {\r\n                    this.onDragStartCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragMove(evt, obj) {\r\n            if (!this._dropEnabled) return;\r\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\r\n\r\n            if (this.$attrs.pipDragMove) {\r\n                this.$timeout(() => {\r\n                    this.onDragMoveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        private onDragEnd(evt, obj) {\r\n            // don't listen to drop events if this is the element being dragged\r\n            // only update the styles and return\r\n            if (!this._dropEnabled) {\r\n                this.updateDragStyles(false, obj.element);\r\n                return;\r\n            }\r\n\r\n            if (this.isTouching(obj.x, obj.y, obj.element, evt, obj)) {\r\n                // call the pipDraggable pipDragSuccess element callback\r\n                if (obj.callback) {\r\n                    obj.callback(obj);\r\n                }\r\n\r\n                if (this.$attrs.pipDropSuccess) {\r\n                    this.$timeout(() => {\r\n                        this.onDropCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n\r\n                if (this.$attrs.pipDiactive) {\r\n                    this.$timeout(() => {\r\n                        this.onDiactiveCallback(this.$scope, {\r\n                            $data: obj.data,\r\n                            $event: obj,\r\n                            $target: this.$scope.$eval(this.$scope.value)\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (this.$attrs.pipDragStop) {\r\n                this.$timeout(() => {\r\n                    this.onDragStopCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.updateDragStyles(false, obj.element);\r\n        }\r\n\r\n        private isTouching(mouseX, mouseY, dragElement, evt, obj) {\r\n            const touching = this.hitTest(mouseX, mouseY);\r\n            if (touching !== this.$scope.isTouching) {\r\n                if (touching) {\r\n                    this.onEnterCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj,\r\n                        $target: this.$scope.$eval(this.$scope.value)\r\n                    });\r\n                } else {\r\n                    this.onLeaveCallback(this.$scope, {\r\n                        $data: obj.data,\r\n                        $event: obj,\r\n                        $target: this.$scope.$eval(this.$scope.value)\r\n                    });\r\n                }\r\n            }\r\n\r\n            this.$scope.isTouching = touching;\r\n            if (touching) {\r\n                this._lastDropTouch = this.$element;\r\n            }\r\n            this.updateDragStyles(touching, dragElement);\r\n            return touching;\r\n        }\r\n\r\n        private updateDragStyles(touching, dragElement) {\r\n            if (touching) {\r\n                this.$element.addClass('pip-drag-enter');\r\n                dragElement.addClass('pip-drag-over');\r\n            } else if (this._lastDropTouch == this.$element) {\r\n                this._lastDropTouch = null;\r\n                this.$element.removeClass('pip-drag-enter');\r\n                dragElement.removeClass('pip-drag-over');\r\n            }\r\n        };\r\n\r\n        private hitTest(x, y) {\r\n            const bounds = this.$element[0].getBoundingClientRect();\r\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\r\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\r\n            return x >= bounds.left &&\r\n                x <= bounds.right &&\r\n                y <= bounds.bottom &&\r\n                y >= bounds.top;\r\n        }\r\n    }\r\n\r\n    const Drop = function (\r\n        $parse: ng.IParseService,\r\n        $document: ng.IDocumentService,\r\n        $timeout: ng.ITimeoutService,\r\n        pipDraggable: IDraggableService,\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: IDropLinkScope,\r\n                $element: JQuery,\r\n                $attrs: IDropLinkAttributes\r\n            ) {\r\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipDrop', Drop);\r\n}","{\r\n\r\n    class PreventDragLink {\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.initialize();\r\n        }\r\n\r\n        private initialize() {\r\n            this.$element.attr('pip-draggable', 'false');\r\n            this.toggleListeners(true);\r\n        }\r\n\r\n        private toggleListeners(enable) {\r\n            // remove listeners\r\n            if (!enable) return;\r\n            // add listeners.\r\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\r\n        }\r\n\r\n        private absorbEvent_(event) {\r\n            const e = event.originalEvent;\r\n            e.preventDefault && e.preventDefault();\r\n            e.stopPropagation && e.stopPropagation();\r\n            e.cancelBubble = true;\r\n            e.returnValue = false;\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    const PreventDrag = function (): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: ng.IAttributes\r\n            ) {\r\n                new PreventDragLink($element);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipDraggable\")\r\n        .directive('pipPreventDrag', PreventDrag);\r\n}","angular.module('pipDraggableTiles', []);\r\n\r\nimport './DraggableTileService';\r\nimport './Draggable';","{\r\n    interface FocusedScope extends ng.IScope {\r\n        pipFocusedColor: Function;\r\n        pipFocusedClass: Function;\r\n        pipFocusedRebind: Function;\r\n        pipFocusedTabindex: Function;\r\n        pipFocusedOpacity: Function;\r\n        pipFocusedData: Function;\r\n        pipWithHidden: Function;\r\n        pipRebind: Function;\r\n    }\r\n\r\n    interface FocusedAttributes extends ng.IAttributes {\r\n        ngModel: any;\r\n        pipFocusedData: any;\r\n    }\r\n\r\n    class FocusedLink implements ng.IDirective {\r\n        private controls: JQuery;\r\n        private controlsLength: number;\r\n        private color: string;\r\n        private opacityDelta: number = 0.4;\r\n        private opacityLimit: number = 0.5;\r\n        private oldBackgroundColor: string;\r\n        private onFocusClass: string;\r\n\r\n        constructor(\r\n            private $scope: FocusedScope,\r\n            private $element: JQuery,\r\n            $attrs: FocusedAttributes,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $mdConstant: any,\r\n            private $window: ng.IWindowService\r\n        ) {\r\n\r\n            $element.on('keydown', (e) => {\r\n                this.keydownListener(e);\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.init();\r\n            });\r\n\r\n            if ($attrs.ngModel) {\r\n                $scope.$watch('ngModel', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n\r\n            if ($attrs.pipFocusedData) {\r\n                $scope.$watch('pipFocusedData', function () {\r\n                    $timeout(this.init);\r\n                }, true);\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\r\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\r\n            this.controls = this.$element.find(selector);\r\n            this.controlsLength = this.controls.length;\r\n            this.checkTabindex(this.controls);\r\n            // Add event listeners\r\n            this.controls.on('focus', (event) => {\r\n                const target = event.currentTarget;\r\n                if ($(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\r\n                    this.init();\r\n                }\r\n                this.$element.addClass('pip-focused-container');\r\n                $(target).addClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n\r\n                    this.color = $(target).css('backgroundColor');\r\n                    this.oldBackgroundColor = this.color;\r\n                    $(target).css('backgroundColor', this.rgba(this.color));\r\n                    $(target).addClass('md-focused');\r\n                } else {\r\n                    $(target).addClass('md-focused md-focused-opacity');\r\n                }\r\n\r\n            }).on('focusout', (event) => {\r\n                const target = event.currentTarget;\r\n                if (!$(target).hasClass('md-focused')) {\r\n                    return;\r\n                }\r\n                this.$element.removeClass('pip-focused-container');\r\n                $(target).removeClass(this.onFocusClass);\r\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\r\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\r\n                    $(target).removeClass('md-focused md-focused-opacity');\r\n                } else {\r\n                    $(target).removeClass('md-focused');\r\n                }\r\n            });\r\n        }\r\n\r\n        private rgba(color) {\r\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\r\n                return this.$scope.pipFocusedColor();\r\n            }\r\n\r\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\r\n\r\n            if (!arr || arr.length < 3) {\r\n                return ''\r\n            }\r\n\r\n            let red, blue, green, opacity;\r\n\r\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\r\n            red = arr[0];\r\n            blue = arr[1];\r\n            green = arr[2];\r\n\r\n            if (opacity < this.opacityLimit) {\r\n                opacity += this.opacityDelta;\r\n            } else {\r\n                opacity -= this.opacityDelta;\r\n            }\r\n\r\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\r\n        }\r\n\r\n        private setTabindex(element, value) {\r\n            element.attr('tabindex', value);\r\n        }\r\n\r\n        private checkTabindex(controls) {\r\n            const index = _.findIndex(controls, (c) => {\r\n                return c['tabindex'] > -1;\r\n            });\r\n\r\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\r\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\r\n            }\r\n        }\r\n\r\n        private keydownListener(e) {\r\n            const keyCode = e.which || e.keyCode;\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                e.preventDefault();\r\n\r\n                const\r\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\r\n                // Move focus to next control\r\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\r\n                    this.controls[moveToControl].focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const Focused = function ($timeout: ng.ITimeoutService, \r\n        $mdConstant: any, \r\n        $window: ng.IWindowService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipFocusedColor: '&?',\r\n                pipFocusedClass: '&?',\r\n                pipFocusedRebind: '&?',\r\n                pipFocusedTabindex: '&?',\r\n                pipFocusedOpacity: '&?',\r\n                pipFocusedData: '&?',\r\n                pipWithHidden: '&?',\r\n                pipRebind: '&?'\r\n            },\r\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\r\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipFocused\", [])\r\n        .directive('pipFocused', Focused);\r\n}","{\r\n    interface InfiniteScrollScope extends ng.IScope {\r\n        pipInfiniteScroll: Function;\r\n        pipScrollContainer: JQuery;\r\n        pipScrollDistance: number | string;\r\n        pipScrollDisabled: boolean;\r\n        pipScrollUseDocumentBottom: boolean;\r\n        pipScrollListenForEvent: string;\r\n    }\r\n\r\n    interface InfiniteScrollAttributes extends ng.IAttributes {\r\n        pipScrollParent: any;\r\n        pipScrolImmediateCheck: any;\r\n    }\r\n\r\n    class InfiniteScrollLink {\r\n        private THROTTLE_MILLISECONDS: number = 500;\r\n        private checkWhenEnabled = null;\r\n        private scrollContainer = null;\r\n        private immediateCheck = true;\r\n        private scrollDistance = null;\r\n        private scrollEnabled = null;\r\n        private unregisterEventListener = null;\r\n        private useDocumentBottom = false;\r\n        private windowElement = null;\r\n        private onContainerScrollThrottle: Function;\r\n\r\n        constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $window: ng.IWindowService,\r\n            private $interval: ng.IIntervalService,\r\n            private $scope: InfiniteScrollScope,\r\n            private $element: JQuery,\r\n            private $attrs: InfiniteScrollAttributes\r\n        ) {\r\n            this.windowElement = angular.element($window);\r\n\r\n            this.onContainerScrollThrottle = _.throttle(() => {\r\n                this.onContainerScroll();\r\n            }, this.THROTTLE_MILLISECONDS);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n                if (this.unregisterEventListener !== null) {\r\n                    this.unregisterEventListener();\r\n                    return this.unregisterEventListener = null;\r\n                }\r\n            });\r\n\r\n            $scope.$watch('pipScrollDistance', (v) => {\r\n                this.handleScrollDistance(v);\r\n            });\r\n            this.handleScrollDistance($scope.pipScrollDistance);\r\n\r\n            $scope.$watch('pipScrollDisabled', (v) => {\r\n                this.handleScrollDisabled(v);\r\n            });\r\n            this.handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\r\n                this.handleScrollUseDocumentBottom(v);\r\n            });\r\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n            this.changeContainer(this.windowElement);\r\n            if ($scope.pipScrollListenForEvent) {\r\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            $scope.$watch('pipScrollContainer', (newContainer) => {\r\n                if (newContainer != this.scrollContainer)\r\n                    this.handleScrollContainer(newContainer);\r\n            });\r\n            this.handleScrollContainer($scope.pipScrollContainer || []);\r\n\r\n            if ($attrs.pipScrollParent !== null) {\r\n                this.changeContainer(angular.element($element.parent()));\r\n            }\r\n            if ($attrs.pipScrolImmediateCheck !== null) {\r\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n            }\r\n\r\n            $interval((function () {\r\n                if (this.immediateCheck) {\r\n                    return this.onContainerScrollThrottle();\r\n                }\r\n            }), 0, 1);\r\n        }\r\n\r\n        private height(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(element.offsetHeight)) {\r\n                return element.document.documentElement.clientHeight;\r\n            } else {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        private offsetTop(element) {\r\n            if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                return;\r\n            }\r\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\r\n        }\r\n\r\n        private pageYOffset(element) {\r\n            element = element[0] || element;\r\n            if (isNaN(window.pageYOffset)) {\r\n                return element.document.documentElement.scrollTop;\r\n            } else {\r\n                return element.ownerDocument.defaultView.pageYOffset;\r\n            }\r\n        }\r\n\r\n        private onContainerScroll() {\r\n            let containerBottom,\r\n                containerTopOffset,\r\n                elementBottom,\r\n                remaining,\r\n                shouldScroll;\r\n\r\n            if (this.scrollContainer === this.windowElement) {\r\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\r\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\r\n            } else {\r\n                containerBottom = this.height(this.scrollContainer);\r\n                containerTopOffset = 0;\r\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\r\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\r\n                }\r\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\r\n            }\r\n\r\n            if (this.useDocumentBottom) {\r\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\r\n            }\r\n\r\n            remaining = elementBottom - containerBottom;\r\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\r\n\r\n            if (shouldScroll) {\r\n                this.checkWhenEnabled = true;\r\n                if (this.scrollEnabled) {\r\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\r\n                        return this.$scope.pipInfiniteScroll();\r\n                    } else {\r\n                        return this.$scope.$apply(() => {\r\n                            this.$scope.pipInfiniteScroll();\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                return this.checkWhenEnabled = false;\r\n            }\r\n        }\r\n\r\n        private handleScrollDistance(v) {\r\n            return this.scrollDistance = parseFloat(v) || 0;\r\n        }\r\n\r\n        private handleScrollDisabled(v) {\r\n            this.scrollEnabled = !v;\r\n            if (this.scrollEnabled && this.checkWhenEnabled) {\r\n                this.checkWhenEnabled = false;\r\n                this.onContainerScrollThrottle();\r\n            }\r\n        }\r\n\r\n        private handleScrollUseDocumentBottom(v) {\r\n            return this.useDocumentBottom = v;\r\n        }\r\n\r\n        private changeContainer(newContainer) {\r\n            if (this.scrollContainer) {\r\n                this.scrollContainer.unbind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n\r\n            this.scrollContainer = newContainer;\r\n            if (newContainer) {\r\n                return this.scrollContainer.bind('scroll', () => {\r\n                    this.onContainerScrollThrottle();\r\n                });\r\n            }\r\n        }\r\n\r\n        private handleScrollContainer(newContainer) {\r\n            if ((newContainer == null) || newContainer.length === 0) {\r\n                return;\r\n            }\r\n            if (newContainer instanceof HTMLElement) {\r\n                newContainer = angular.element(newContainer);\r\n            } else if (typeof newContainer.append === 'function') {\r\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n            } else if (typeof newContainer === 'string') {\r\n                newContainer = this.$element.parents().find(newContainer);\r\n            }\r\n\r\n            if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                return this.changeContainer(newContainer);\r\n            } else {\r\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const InfiniteScroll = function (\r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $interval: ng.IIntervalService\r\n    ): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                pipInfiniteScroll: '&',\r\n                pipScrollContainer: '=',\r\n                pipScrollDistance: '=',\r\n                pipScrollDisabled: '=',\r\n                pipScrollUseDocumentBottom: '=',\r\n                pipScrollListenForEvent: '@'\r\n            },\r\n            link: function (\r\n                $scope: InfiniteScrollScope,\r\n                $element: JQuery,\r\n                $attrs: InfiniteScrollAttributes\r\n            ) {\r\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipInfiniteScroll\", [])\r\n        .directive('pipInfiniteScroll', InfiniteScroll);\r\n}","{\r\n    interface SelectedAttributes extends ng.IAttributes {\r\n        pipSelected: any;\r\n        pipSelectedId: any;\r\n        pipSelect: any;\r\n        pipEnterSpacePress: any;\r\n        pipNoScroll: any;\r\n        pipSkipHidden: any;\r\n        pipTreeList: any;\r\n        pipSelectedWatch: any;\r\n    }\r\n\r\n    class SelectedLink {\r\n        private indexGetter: any;\r\n        private indexSetter: any;\r\n        private idSetter: any;\r\n        private idGetter: any;\r\n        private changeGetter: any;\r\n        private enterSpaceGetter: any;\r\n        private noScroll: any;\r\n        private modifier: any;\r\n        private className: any;\r\n        private selectedIndex: any;\r\n        private currentElementTabinex: any;\r\n        private pipSelectedWatch: any;\r\n        private isScrolled: any;\r\n        // Variables for touch functions\r\n        private touchStartX: any;\r\n        private touchStartY: any;\r\n        private trackingClick: any;\r\n        private trackingClickStart: any;\r\n        private targetElement: any;\r\n        private lastClickTime: any;\r\n        private cancelNextClick: any;\r\n        // Constants for touch functions\r\n        private touchBoundary: number = 10;\r\n        private tapdelay: number = 200;\r\n        private tapTimeout: number = 700;\r\n\r\n        constructor(\r\n            $parse: ng.IParseService,\r\n            private $mdConstant: any,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs: SelectedAttributes\r\n        ) {\r\n            //todo add stopSelect parametr to disable select\r\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\r\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\r\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\r\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\r\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\r\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\r\n            this.noScroll = $attrs.pipNoScroll;\r\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\r\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\r\n            this.selectedIndex = this.indexGetter($scope);\r\n            this.currentElementTabinex = $element.attr('tabindex');\r\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\r\n            this.isScrolled = false;\r\n\r\n            $element.attr('tabindex', this.currentElementTabinex || 0);\r\n\r\n            $element.on('click', this.className, (event) => {\r\n                this.onClickEvent(event);\r\n            });\r\n            $element.on('touchstart', this.className, (event) => {\r\n                this.onTouchStart(event);\r\n            });\r\n            $element.on('touchmove', this.className, (event) => {\r\n                this.onTouchMove(event);\r\n            });\r\n            $element.on('touchend', this.className, (event) => {\r\n                this.onTouchEnd(event);\r\n            });\r\n            $element.on('touchcancel', this.className, (event) => {\r\n                this.onTouchCancel(event);\r\n            });\r\n            $element.on('keydown', (event) => {\r\n                this.onKeyDown(event);\r\n            });\r\n            $element.on('focusin', (event) => {\r\n                this.onFocusIn(event);\r\n            });\r\n            $element.on('focusout', (event) => {\r\n                this.onFocusOut(event);\r\n            });\r\n\r\n            // Watch selected item index\r\n            if (!$attrs.pipTreeList) {\r\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\r\n                    this.selectItem({\r\n                        itemIndex: newSelectedIndex\r\n                    });\r\n                });\r\n            } else {\r\n                $scope.$watch(this.idGetter, (newSelectedId) => {\r\n                    $timeout(() => {\r\n                        this.selectItem({\r\n                            itemId: newSelectedId,\r\n                            raiseEvent: true\r\n                        });\r\n                    }, 0);\r\n                });\r\n            }\r\n\r\n            // Watch resync selection\r\n            if (this.pipSelectedWatch) {\r\n                $scope.$watch(this.pipSelectedWatch, () => {\r\n                    // Delay update to allow ng-repeat to update DOM\r\n                    $timeout(() => {\r\n                        this.selectedIndex = this.indexGetter($scope);\r\n                        this.selectItem({\r\n                            itemIndex: this.selectedIndex\r\n                        });\r\n                    }, 100);\r\n                });\r\n            }\r\n\r\n            // Select item defined by index\r\n            this.selectItem({\r\n                itemIndex: this.selectedIndex,\r\n                items: $element.find(this.className)\r\n            });\r\n        }\r\n\r\n        private selectItem(itemParams) {\r\n            if (this.isScrolled) return;\r\n            let itemIndex = itemParams.itemIndex,\r\n                itemId = itemParams.itemId,\r\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\r\n                itemsLength = items.length,\r\n                item = () => {\r\n                    if (itemParams.item) return itemParams.item;\r\n                    if (itemIndex === undefined && itemIndex === -1) {\r\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                    }\r\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                        return items[itemIndex]\r\n                    }\r\n\r\n                    return false;\r\n                },\r\n                raiseEvent = itemParams.raiseEvent;\r\n                item = item();\r\n            if (item) {\r\n                this.$element.find(this.className).removeClass('selected md-focused');\r\n                item = <any>angular.element(item)\r\n                    .addClass('selected md-focused')\r\n                    .focus();\r\n                if (!this.noScroll) this.scrollToItem(item);\r\n                if (raiseEvent) this.defineSelectedIndex(items);\r\n            }\r\n        };\r\n\r\n        private defineSelectedIndex(items) {\r\n            const oldSelectedIndex = this.selectedIndex;\r\n            this.selectedIndex = -1;\r\n            for (var index = 0; index < items.length; index++) {\r\n                if ($(items[index]).hasClass('selected')) {\r\n                    this.selectedIndex = index;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const updateIndex = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\r\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\r\n                onSelect();\r\n            };\r\n\r\n            const onSelect = () => {\r\n                const selectedItem = angular.element(items[this.selectedIndex]),\r\n                    selectedId = selectedItem.attr('pip-id');\r\n\r\n                if (this.changeGetter) {\r\n                    this.changeGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            item: selectedItem,\r\n                            index: this.selectedIndex,\r\n                            id: selectedId,\r\n                            newIndex: this.selectedIndex,\r\n                            oldIndex: oldSelectedIndex\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Execute callback to notify about item select\r\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\r\n                this.$scope.$apply(() => { updateIndex(); });\r\n            } else {\r\n                this.$scope.$apply(() => { onSelect(); });\r\n            }\r\n        };\r\n\r\n        private scrollToItem($item) {\r\n            if (this.noScroll || !$item.offset()) return;\r\n\r\n            const\r\n                containerTop = this.$element.offset().top,\r\n                containerHeight = this.$element.height(),\r\n                containerBottom = containerTop + containerHeight,\r\n                itemTop = $item.offset().top,\r\n                itemHeight = $item.outerHeight(true),\r\n                itemBottom = itemTop + itemHeight,\r\n                containerScrollTop = this.$element.scrollTop();\r\n\r\n            this.isScrolled = true;\r\n            this.$timeout(() => {\r\n                this.isScrolled = false;\r\n            }, 100);\r\n\r\n            if (containerTop > itemTop) {\r\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n            } else if (containerBottom < itemBottom) {\r\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n            }\r\n        };\r\n\r\n        private getTargetElementFromEventTarget(eventTarget) {\r\n            // On some older browsers the event target may be a text node.\r\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\r\n                return eventTarget.parentNode;\r\n            }\r\n\r\n            return eventTarget;\r\n        };\r\n\r\n        private touchHasMoved(event) {\r\n            const touch = event.changedTouches[0],\r\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\r\n\r\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        private onClickEvent(event) {\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n        }\r\n\r\n        private onTouchStart(event) {\r\n            const ev = event.originalEvent;\r\n            if (ev['targetTouches'].length > 1) {\r\n                return true;\r\n            }\r\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\r\n                touch = ev['targetTouches'][0];\r\n\r\n            this.trackingClick = true;\r\n            this.trackingClickStart = ev.timeStamp;\r\n            this.targetElement = targetElement;\r\n\r\n            this.touchStartX = touch.pageX;\r\n            this.touchStartY = touch.pageY;\r\n\r\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                //  event.preventDefault();\r\n            }*/\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchMove(event) {\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // If the touch has moved, cancel the click tracking\r\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\r\n                this.trackingClick = false;\r\n                this.targetElement = null;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private onTouchEnd(event) {\r\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\r\n\r\n            if (!this.trackingClick) {\r\n                return true;\r\n            }\r\n            const ev = event.originalEvent;\r\n            // Prevent phantom clicks on fast double-tap \r\n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\r\n                this.cancelNextClick = true;\r\n                return true;\r\n            }\r\n\r\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\r\n                return true;\r\n            }\r\n\r\n            // Reset to prevent wrong click cancel on input \r\n            this.cancelNextClick = false;\r\n\r\n            this.lastClickTime = event.timeStamp;\r\n\r\n            newTrackingClickStart = this.trackingClickStart;\r\n            this.trackingClick = false;\r\n            this.trackingClickStart = 0;\r\n\r\n            this.selectItem({\r\n                item: event.currentTarget,\r\n                raiseEvent: true\r\n            });\r\n\r\n            return false;\r\n        }\r\n\r\n        private onTouchCancel(event) {\r\n            this.trackingClick = false;\r\n            this.targetElement = null;\r\n        }\r\n\r\n        private onKeyDown(event) {\r\n            var keyCode = event.which || event.keyCode;\r\n\r\n            // Check control keyCode\r\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                if (this.enterSpaceGetter) {\r\n                    this.enterSpaceGetter(this.$scope, {\r\n                        $event: {\r\n                            target: this.$element,\r\n                            index: this.selectedIndex,\r\n                            item: this.$element.find('.selected')\r\n                        }\r\n                    });\r\n                }\r\n\r\n            } else\r\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\r\n            ) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n\r\n                // Get next selectable control index\r\n                const items = this.$element.find(this.className + this.modifier),\r\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                    newSelectedIndex = this.selectedIndex + inc;\r\n\r\n                // Set next control as selected\r\n                this.selectItem({\r\n                    itemIndex: newSelectedIndex,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusIn(event) {\r\n            // Choose selected element\r\n            let items,\r\n                selectedItem = this.$element.find(this.className + '.selected');\r\n\r\n            selectedItem.addClass('md-focused');\r\n\r\n            // If there are not selected elements then pick the first one\r\n            if (selectedItem.length === 0) {\r\n                this.selectedIndex = this.indexGetter(this.$scope);\r\n                items = this.$element.find(this.className + this.modifier);\r\n                this.selectItem({\r\n                    itemIndex: this.selectedIndex || 0,\r\n                    items: items,\r\n                    raiseEvent: true\r\n                });\r\n            }\r\n        }\r\n\r\n        private onFocusOut(event) {\r\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\r\n        }\r\n    }\r\n\r\n    const Selected = function (\r\n        $parse: ng.IParseService,\r\n        $mdConstant: any,\r\n        $timeout: ng.ITimeoutService\r\n    ): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: JQuery,\r\n                $attrs: SelectedAttributes\r\n            ) {\r\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipSelected\", [])\r\n        .directive('pipSelected', Selected);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\n\r\nexport class ShortcutItem {\r\n    // Shortcut combination\r\n    public shortcut: string;\r\n    // Target object \r\n    public target?: any;\r\n    // Target element by Id\r\n    public targetId?: string;\r\n    // Target element by class (firstelement??)\r\n    // Public targetClass?: string;\r\n    // Access function\r\n    public access?: (event: JQueryEventObject) => boolean;\r\n    // Window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public keypress?: (event: JQueryEventObject) => void;\r\n    // Default options\r\n    public options?: ShortcutOptions;    \r\n}\r\n\r\n// export class ShortcutItem extends SimpleShortcutItem {\r\n//     public shortcuts: SimpleShortcutItem[];\r\n// }\r\n\r\nexport class ShortcutsConfig {\r\n    // Global shortcut \r\n    public globalShortcuts: ShortcutItem[] = [];\r\n    // Local shortcut \r\n    public localShortcuts: ShortcutItem[] = [];\r\n    // Default options\r\n    public defaultOptions: ShortcutOptions = null;\r\n}\r\n\r\nexport interface IShortcutsService {\r\n    readonly config: ShortcutsConfig;\r\n\r\n    globalShortcuts: ShortcutItem[];\r\n    localShortcuts: ShortcutItem[];\r\n}\r\n\r\nexport interface IShortcutsProvider extends ng.IServiceProvider {\r\n    config: ShortcutsConfig;\r\n    \r\n    globalShortcuts: ShortcutItem[];\r\n    defaultOptions: ShortcutOptions;\r\n}\r\n","export class KeyboardEvent {\r\n    static Keydown: string = 'keydown';\r\n    static Keyup: string = 'keyup';\r\n    static Keypress: string = 'keypress';\r\n}\r\n\r\nexport class ShortcutOptions {\r\n    Type: KeyboardEvent;\r\n    Propagate: boolean;\r\n    DisableInInput: boolean;\r\n    Target: any; // Event target object\r\n    Keycode: number;\r\n}\r\n\r\nexport class Shortcut {\r\n    private shift_nums = {\r\n        \"`\": \"~\",\r\n        \"1\": \"!\",\r\n        \"2\": \"@\",\r\n        \"3\": \"#\",\r\n        \"4\": \"$\",\r\n        \"5\": \"%\",\r\n        \"6\": \"^\",\r\n        \"7\": \"&\",\r\n        \"8\": \"*\",\r\n        \"9\": \"(\",\r\n        \"0\": \")\",\r\n        \"-\": \"_\",\r\n        \"=\": \"+\",\r\n        \";\": \":\",\r\n        \"'\": \"\\\"\",\r\n        \",\": \"<\",\r\n        \".\": \">\",\r\n        \"/\": \"?\",\r\n        \"\\\\\": \"|\"\r\n    };\r\n\r\n    private special_keys = {\r\n        'esc': 27,\r\n        'escape': 27,\r\n        'tab': 9,\r\n        'space': 32,\r\n        'return': 13,\r\n        'enter': 13,\r\n        'backspace': 8,\r\n\r\n        'scrolllock': 145,\r\n        'scroll_lock': 145,\r\n        'scroll': 145,\r\n        'capslock': 20,\r\n        'caps_lock': 20,\r\n        'caps': 20,\r\n        'numlock': 144,\r\n        'num_lock': 144,\r\n        'num': 144,\r\n\r\n        'pause': 19,\r\n        'break': 19,\r\n\r\n        'insert': 45,\r\n        'home': 36,\r\n        'delete': 46,\r\n        'end': 35,\r\n\r\n        'pageup': 33,\r\n        'page_up': 33,\r\n        'pu': 33,\r\n\r\n        'pagedown': 34,\r\n        'page_down': 34,\r\n        'pd': 34,\r\n\r\n        'left': 37,\r\n        'up': 38,\r\n        'right': 39,\r\n        'down': 40,\r\n\r\n        'f1': 112,\r\n        'f2': 113,\r\n        'f3': 114,\r\n        'f4': 115,\r\n        'f5': 116,\r\n        'f6': 117,\r\n        'f7': 118,\r\n        'f8': 119,\r\n        'f9': 120,\r\n        'f10': 121,\r\n        'f11': 122,\r\n        'f12': 123\r\n    };\r\n\r\n    private modifiers = {\r\n        shift: { wanted: false, pressed: false },\r\n        ctrl: { wanted: false, pressed: false },\r\n        alt: { wanted: false, pressed: false },\r\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\r\n    };\r\n\r\n    public eventCallback: Function;\r\n    public target: any;\r\n    public event: KeyboardEvent;\r\n    public option: ShortcutOptions;\r\n    public shorcut: string;\r\n    public callback: Function;\r\n\r\n    public constructor(\r\n        element: any,\r\n        shorcutCombination: string,\r\n        option: ShortcutOptions,\r\n        callback: (e?: JQueryEventObject) => void\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this.target = element;\r\n        this.shorcut = shorcutCombination;\r\n        this.event = option.Type;\r\n        this.option = option;\r\n        this.callback = callback;\r\n\r\n        this.eventCallback = (event: JQueryEventObject) => {\r\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\r\n            let code: number;\r\n\r\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\r\n                let element;\r\n                if (e.target) {\r\n                    element = e.target;\r\n                } else if (e.srcElement) {\r\n                    element = e.srcElement;\r\n                }\r\n\r\n                if (element.nodeType == 3) {\r\n                    element = element.parentNode;\r\n                }\r\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\r\n            }\r\n            // Find Which key is pressed\r\n            if (e.keyCode) {\r\n                code = e.keyCode;\r\n            } else if (e.which) {\r\n                code = e.which;\r\n            }\r\n\r\n            let character = String.fromCharCode(code).toLowerCase();\r\n\r\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\r\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\r\n\r\n            let keys: string[] = this.shorcut.split(\"+\");\r\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\r\n            let kp: number = 0;\r\n\r\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\r\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\r\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\r\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\r\n\r\n            let i: number = 0;\r\n            for (i = 0; i < keys.length; i++) {\r\n                let k: string = keys[i];\r\n                // Modifiers\r\n                if (k == 'ctrl' || k == 'control') {\r\n                    kp++;\r\n                    this.modifiers.ctrl.wanted = true;\r\n                } else if (k == 'shift') {\r\n                    kp++;\r\n                    this.modifiers.shift.wanted = true;\r\n                } else if (k == 'alt') {\r\n                    kp++;\r\n                    this.modifiers.alt.wanted = true;\r\n                } else if (k == 'meta') {\r\n                    kp++;\r\n                    this.modifiers.meta.wanted = true;\r\n                } else if (k.length > 1) { // If it is a special key\r\n                    if (this.special_keys[k] == code) {\r\n                        kp++;\r\n                    }\r\n                } else if (this.option.Keycode) {\r\n                    if (this.option.Keycode == code) kp++;\r\n                } else { // The special keys did not match\r\n                    if (character == k) kp++;\r\n                    else {\r\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\r\n                            character = this.shift_nums[character];\r\n                            if (character == k) {\r\n                                kp++;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (kp == keys.length &&\r\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\r\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\r\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\r\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\r\n\r\n                this.callback(e);\r\n\r\n                if (!this.option.Propagate) { // Stop the event\r\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    // e.stopPropagation works in Firefox.\r\n                    if (e.stopPropagation) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n            }\r\n            this.modifiers.ctrl.pressed = false;\r\n            this.modifiers.shift.pressed = false;\r\n            this.modifiers.alt.pressed = false;\r\n            this.modifiers.meta.pressed = false;\r\n        };\r\n    }\r\n}\r\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\r\n\r\n{\r\n    class ShortcutBindingService implements IShortcutBindingService {\r\n        private _log: ng.ILogService;\r\n        private _defaultOption: ShortcutOptions;\r\n        private _shortcuts: IKeyboardShortcuts = {};\r\n\r\n        public constructor(\r\n            $log: ng.ILogService,\r\n            option: ShortcutOptions\r\n        ) {\r\n            \"ngInject\";\r\n            this._log = $log;\r\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\r\n        }\r\n\r\n        private getDefaultOption(): ShortcutOptions {\r\n            let defaultOption: ShortcutOptions = {\r\n                Type: KeyboardEvent.Keydown,\r\n                Propagate: false,\r\n                DisableInInput: false,\r\n                Target: document,\r\n                Keycode: null\r\n            };\r\n\r\n            return defaultOption;\r\n        }\r\n\r\n        public get shortcuts(): IKeyboardShortcuts {\r\n            return this._shortcuts;\r\n        }\r\n\r\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\r\n            this.remove(shortcut);\r\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\r\n            let shortcutCombination: string = shortcut.toLowerCase();\r\n            let element = shortcutOption.Target;\r\n\r\n            if (typeof shortcutOption.Target == 'string') {\r\n                element = document.getElementById(shortcutOption.Target);\r\n            } else {\r\n                element = shortcutOption.Target;\r\n            }\r\n\r\n            if (!element) {\r\n                this._log.error('Register shortcut: element undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!shortcutCombination) {\r\n                this._log.error('Register shortcut: shortcut combination undentified!');\r\n                return;\r\n            }\r\n\r\n            if (!callback) {\r\n                this._log.error('Register shortcut: shorcut callback undentified!');\r\n                return;\r\n            }\r\n\r\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\r\n\r\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\r\n\r\n            //Attach the function with the event\r\n            if (element.addEventListener) {\r\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\r\n            } else if (element.attachEvent) {\r\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            } else {\r\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\r\n            }\r\n        }\r\n\r\n        public remove(shorcut: string): void {\r\n            let shortcutCombination = shorcut.toLowerCase();\r\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\r\n\r\n            delete(this._shortcuts[shortcutCombination])\r\n            if (!binding) return;\r\n\r\n            let type = binding.event;\r\n            let element = binding.target;\r\n            let callback = binding.eventCallback;\r\n\r\n            if (element.detachEvent) {\r\n                element.detachEvent('on' + type, callback);\r\n            } else if (element.removeEventListener) {\r\n                element.removeEventListener(type, callback, false);\r\n            } else {\r\n                // element['on' + type] = false;\r\n                element.off(type, callback);\r\n            }\r\n        }\r\n    }\r\n\r\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\r\n        private _service: ShortcutBindingService;\r\n        private _option: ShortcutOptions;\r\n\r\n        public get option(): ShortcutOptions {\r\n            return this._option;\r\n        }\r\n\r\n        public set option(value: ShortcutOptions) {\r\n            this._option = value || new ShortcutOptions();\r\n        }\r\n\r\n        public $get(\r\n            $log: ng.ILogService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new ShortcutBindingService($log, this._option);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\r\n}","import { ShortcutOptions } from \"./Shortcut\";\r\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\r\n\r\ninterface ShortcutAttributes extends ng.IAttributes {\r\n    pipShortcutAction: any;\r\n    pipShortcutName: any;\r\n    pipShorcutOptions: ShortcutOptions;\r\n}\r\n\r\nclass ShortcutController implements ng.IController  {\r\n    private actionShortcuts: Function;\r\n    private nameShortcuts: string;\r\n    private options: ShortcutOptions;\r\n\r\n    constructor(\r\n        $element: JQuery,\r\n        $attrs: ShortcutAttributes,\r\n        $scope: ng.IScope,\r\n        $log: ng.ILogService,\r\n        $parse: ng.IParseService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if ($attrs.pipShortcutAction) {\r\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\r\n            // this.actionShortcuts($scope, {$event: {}});\r\n        } else {\r\n            $log.error('Shortcut action does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\r\n            this.nameShortcuts = $attrs.pipShortcutName;\r\n        } else {\r\n            $log.error('Shortcut name does not set.');\r\n\r\n            return\r\n        }\r\n\r\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\r\n        this.options.Target = $element;\r\n        \r\n        // Registration of keybord shortcuts\r\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\r\n            this.actionShortcuts($scope, {$event: {'e': e}});          \r\n        }, this.options);\r\n    }\r\n\r\n    private keypressShortcut(action) {\r\n        this.actionShortcuts();\r\n    }\r\n\r\n    public $onInit() {}\r\n}\r\n\r\n// Prevent junk from going into typescript definitions\r\n{\r\n    const shortcutsDirective = function(): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,            \r\n            controller: ShortcutController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipShortcuts')\r\n        .directive('pipShortcut', shortcutsDirective);\r\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\r\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\r\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\r\n\r\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\r\n\r\nclass ShortcutsService implements IShortcutsService {\r\n    private _oldConfig: ShortcutsConfig;\r\n    private _config: ShortcutsConfig;\r\n\r\n    public constructor(\r\n        config: ShortcutsConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService, \r\n        private $location: ng.ILocationService, \r\n        private $injector: ng.auto.IInjectorService,\r\n        private pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n        this._oldConfig = _.cloneDeep(this._config);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this._config.globalShortcuts);\r\n        this.addShortcuts(this._config.localShortcuts);        \r\n    }\r\n\r\n    // Describe private functions\r\n    private sendChangeEvent() {\r\n        // Remove shortcuts\r\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\r\n        this.removeShortcuts(this._oldConfig.localShortcuts);\r\n\r\n        // Add shortcuts\r\n        this.addShortcuts(this.config.globalShortcuts);\r\n        this.addShortcuts(this.config.localShortcuts);\r\n\r\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\r\n\r\n        // Save current config to oldConfig\r\n        this._oldConfig = _.cloneDeep(this.config);\r\n    }\r\n\r\n    private removeShortcuts(collection: ShortcutItem[]): void {\r\n        _.each(collection, (k) => {\r\n            this.pipShortcutBinding.remove(k.shortcut);\r\n        });\r\n    }\r\n\r\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\r\n        if (item.access && _.isFunction(item.access)) {\r\n            if (!item.access(event)) {\r\n                return;\r\n            }\r\n        } \r\n\r\n        if (item.keypress) {\r\n            item.keypress(event);\r\n            return;\r\n        }\r\n\r\n        if (item.href) {\r\n            this.$window.location.href = item.href;\r\n            return;\r\n        }\r\n\r\n        if (item.url) {\r\n            this.$location.url(item.url);\r\n            return;\r\n        }\r\n\r\n        if (item.state) {\r\n            if (this.$injector.has('$state')) {\r\n                var $state = this.$injector.get('$state');\r\n                $state['go'](item.state, item.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (item.event) {\r\n            this.$rootScope.$broadcast(item.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\r\n        }\r\n    }\r\n\r\n    private addShortcuts(collection: ShortcutItem[]): void {\r\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\r\n        \r\n        _.each(collection, (k) => {\r\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\r\n            let target: any;\r\n\r\n            target = k.target ? k.target : k.targetId;\r\n            if (target) { \r\n                option.Target = target;\r\n            }\r\n            // Registration of keyboard shortcut\r\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\r\n                this.keypressShortcut(k, e);        \r\n            }, option);              \r\n        });\r\n    }\r\n\r\n    // Describe public functions \r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get localShortcuts(): ShortcutItem[] {\r\n        return this._config.localShortcuts;\r\n    }\r\n\r\n    public set localShortcuts(value: ShortcutItem[]) {\r\n        this._config.localShortcuts = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n}\r\n\r\nclass ShortcutsProvider implements IShortcutsProvider {\r\n    private _config: ShortcutsConfig = new ShortcutsConfig();\r\n    private _service: ShortcutsService;\r\n\r\n    public get config(): ShortcutsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ShortcutsConfig) {\r\n        this._config = value || new ShortcutsConfig();\r\n    }\r\n\r\n    public get defaultOptions(): ShortcutOptions {\r\n        return this._config.defaultOptions;\r\n    }\r\n\r\n    public set defaultOptions(value: ShortcutOptions) {\r\n        this._config.defaultOptions = value || null;\r\n    }\r\n\r\n    public get globalShortcuts(): ShortcutItem[] {\r\n        return this._config.globalShortcuts;\r\n    }\r\n\r\n    public set globalShortcuts(value: ShortcutItem[]) {\r\n        this._config.globalShortcuts = value || [];\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService, \r\n        $window: ng.IWindowService, \r\n        $location: ng.ILocationService, \r\n        $injector: ng.auto.IInjectorService,\r\n        pipShortcutBinding: IShortcutBindingService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipShortcuts')\r\n    .provider('pipShortcuts', ShortcutsProvider);\r\n\r\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\r\n\r\nimport './ShortcutBindingService';\r\nimport './ShortcutsService';\r\nimport './ShortcutDirective';\r\n\r\nexport * from './IShortcutsService';\r\nexport * from './IShortcutBindingService';\r\nexport * from './ShortcutsService';\r\nexport * from './ShortcutBindingService';","{\r\n    interface UnsavedChangesScope extends ng.IScope {\r\n        unsavedChangesAvailable: Function;\r\n        unsavedChangesMessage: string;\r\n        cancelLeave: Function;\r\n        afterLeave: Function;\r\n    }\r\n\r\n    class UnsavedChangesLink {\r\n        constructor(\r\n            $scope: UnsavedChangesScope,\r\n            $window: ng.IWindowService\r\n        ) {\r\n            $window.onbeforeunload = () => {\r\n                if ($scope.unsavedChangesAvailable()) {\r\n                    return $scope.unsavedChangesMessage;\r\n                }\r\n            };\r\n\r\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\r\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\r\n                    event.preventDefault();\r\n                } else {\r\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                }\r\n            });\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $window.onbeforeunload = null;\r\n                unbindFunc();\r\n            });\r\n        }\r\n    }\r\n\r\n    const UnsavedChanges = function ($window: ng.IWindowService) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave',\r\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\r\n            },\r\n            link: function ($scope: UnsavedChangesScope) {\r\n                new UnsavedChangesLink($scope, $window);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module(\"pipUnsavedChanges\", [])\r\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\r\n}","{\n    interface IColorPickerBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        colors: any;\n        currentColor: any;\n        colorChange: any;\n    }\n\n    interface IColorPickerAttributes extends ng.IAttributes {\n        class: string;\n    }\n\n    const ColorPickerBindings: IColorPickerBindings = {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '&?ngChange'\n    }\n\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\n        currentColor: any;\n\n        ngDisabled: ng.IChangesObject < boolean > ;\n        colors: ng.IChangesObject < string[] > ;\n    }\n\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n    class ColorPickerController implements IColorPickerBindings {\n        public class: string;\n        public colors: string[];\n        public currentColor: string;\n        public currentColorIndex: number;\n        public ngDisabled: boolean;\n        public colorChange: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            $attrs: IColorPickerAttributes,\n            private $timeout: ng.ITimeoutService\n        ) { \n            this.class = $attrs.class || ''; \n        }\n\n        public $onChanges(changes: ColorPickerChanges) {\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\n                changes.colors.currentValue : DEFAULT_COLORS;\n            this.currentColor = this.currentColor || this.colors[0];\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\n\n            this.ngDisabled = changes.ngDisabled.currentValue;\n        }\n\n        public selectColor(index: number) {\n            if (this.ngDisabled) {\n                return;\n            }\n            this.currentColorIndex = index;\n            this.currentColor = this.colors[this.currentColorIndex];\n            this.$timeout(() => {\n                this.$scope.$apply();\n            });\n\n            if (this.colorChange) {\n                this.colorChange();\n            }\n        };\n\n        public enterSpacePress(event): void {\n            this.selectColor(event.index);\n        };\n\n    }\n\n    const pipColorPicker: ng.IComponentOptions = {\n        bindings: ColorPickerBindings,\n        templateUrl: 'color_picker/ColorPicker.html',\n        controller: ColorPickerController\n    }\n\n    angular\n        .module('pipColorPicker', ['pipControls.Templates'])\n        .component('pipColorPicker', pipColorPicker);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class pipImageSliderController implements ng.IController {\n        private _blocks: any[];\n        private _index: number = 0;\n        private _newIndex: number;\n        private _direction: string;\n        private _type: string;\n        private DEFAULT_INTERVAL:number = 4500;\n        private _interval: number | string;\n        private _timePromises;\n        private _throttled: Function;\n\n        public swipeStart: number = 0;\n        public sliderIndex: number;\n        public slideTo: Function;\n        public type: Function;\n        public interval: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs,\n            private $parse: ng.IParseService,\n            private $timeout: angular.ITimeoutService,\n            private $interval: angular.IIntervalService,\n            private pipImageSlider: IImageSliderService\n        ) {\n\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\n            this._type = this.type();\n            this._interval = this.interval();\n            this.slideTo = this.slideToPrivate;\n\n            $element.addClass('pip-image-slider');\n            $element.addClass('pip-animation-' + this._type);\n\n            this.setIndex();\n\n            $timeout(() => {\n                this._blocks = <any>$element.find('.pip-animation-block');\n                if (this._blocks.length > 0) {\n                    $(this._blocks[0]).addClass('pip-show');\n                }\n            });\n\n            this.startInterval();\n\n            this._throttled = _.throttle(() => {\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n                this._index = this._newIndex;\n                this.setIndex();\n            }, 700);\n\n            if ($attrs.id) {\n                pipImageSlider.registerSlider($attrs.id, $scope)\n            }\n\n            $scope.$on('$destroy', () => {\n                this.stopInterval();\n                pipImageSlider.removeSlider($attrs.id);\n            });\n\n        }\n\n        public nextBlock() {\n            this.restartInterval();\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }\n\n        public prevBlock() {\n            this.restartInterval();\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n            this._direction = 'prev';\n            this._throttled();\n        }\n\n        private slideToPrivate(nextIndex: number) {\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n                return;\n            }\n\n            this.restartInterval();\n            this._newIndex = nextIndex;\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\n            this._throttled();\n        }\n\n        private setIndex() {\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\n        }\n\n        private startInterval() {\n            this._timePromises = this.$interval(() => {\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n                this._direction = 'next';\n                this._throttled();\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\n        }\n\n        private stopInterval() {\n            this.$interval.cancel(this._timePromises);\n        }\n\n        private restartInterval() {\n            this.stopInterval();\n            this.startInterval();\n        }\n    }\n\n    const ImageSlider = function(): ng.IDirective {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular.module('pipImageSlider')\n        .directive('pipImageSlider', ImageSlider);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class ImageSliderService implements IImageSliderService {\n        private ANIMATION_DURATION: number = 550;\n        private _sliders: Object = {};\n\n        constructor(\n            private $timeout: angular.ITimeoutService\n        ) {}\n\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\n            this._sliders[sliderId] = sliderScope;\n        }\n\n        public removeSlider(sliderId: string): void {\n            delete this._sliders[sliderId];\n        }\n\n        public getSliderScope(sliderId: string) {\n            return this._sliders[sliderId];\n        }\n\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            nextBlock.addClass('pip-next');\n\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                prevBlock.addClass('animated').removeClass('pip-show');\n            }, 100);\n        }\n\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show');\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n            }, 100);\n        }\n\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n            const prevBlock = $(blocks[oldIndex]),\n                blockIndex = nextIndex,\n                nextBlock = $(blocks[blockIndex]);\n\n            if (type === 'carousel') {\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                if (direction && (direction === 'prev' || direction === 'next')) {\n                    if (direction === 'prev') {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                } else {\n                    if (nextIndex && nextIndex < oldIndex) {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                }\n            } else {\n                prevBlock.addClass('animated').removeClass('pip-show');\n                nextBlock.addClass('animated').addClass('pip-show');\n            }\n        }\n    }\n\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderButtonController implements ng.IController {\n        public direction: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.on('click', () => {\n                if (!this.sliderId() || !this.direction()) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\n            });\n        }\n    }\n\n    const SliderButton = function (): ng.IDirective {\n        return {\n            scope: {\n                direction: '&pipButtonType',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderButtonController\n        };\n    }\n\n    angular\n        .module('pipSliderButton', [])\n        .directive('pipSliderButton', SliderButton);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderIndicatorController implements ng.IController {\n        public slideTo: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.css('cursor', 'pointer');\n            $element.on('click', () => {\n                if (!this.sliderId() || this.slideTo() === undefined) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\n            });\n        }\n    }\n\n    const SliderIndicator = function (): ng.IDirective {\n        return {\n            scope: {\n                slideTo: '&pipSlideTo',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderIndicatorController\n        }\n    }\n\n    angular\n        .module('pipSliderIndicator', [])\n        .directive('pipSliderIndicator', SliderIndicator);\n}","angular\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\nimport './ImageSlider';\nimport './ImageSliderService';\nimport './SliderButton';\nimport './SliderIndicator';\n\nexport * from './IImageSliderService';","declare var marked: any;\n\n{\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            (<any>pipTranslate).setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            (<any>pipTranslate).setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\n                'checklist': 'Список',\n                'documents': 'Документы',\n                'pictures': 'Изображения',\n                'location': 'Местонахождение',\n                'time': 'Время'\n            });\n        }\n    }\n\n    interface IMarkdownBindings {\n        [key: string]: any;\n\n        text: any;\n        isList: any;\n        clamp: any;\n        rebind: any;\n    }\n\n    const MarkdownBindings: IMarkdownBindings = {\n        text: '<pipText',\n        isList: '<?pipList',\n        clamp: '<?pipLineCount',\n        rebind: '<?pipRebind'\n    }\n\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        text: ng.IChangesObject < string > ;\n        isList: ng.IChangesObject < boolean > ;\n        clamp: ng.IChangesObject < number | string > ;\n        rebind: ng.IChangesObject < boolean > ;\n    }\n\n    class MarkdownController implements IMarkdownBindings, ng.IController {\n        private _pipTranslate;\n\n        public text: string;\n        public isList: boolean;\n        public clamp: string | number;\n        public rebind: boolean;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $element: JQuery,\n            $injector: ng.auto.IInjectorService\n        ) {\n            \"ngInject\";\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        }\n\n        public $postLink() {\n            // Fill the text\n            this.bindText(this.text);\n\n            this.$scope.$on('pipWindowResized', function () {\n                if (this.bindText) this.bindText(this._text(this._$scope));\n            });\n\n            // Add class\n            this.$element.addClass('pip-markdown');\n\n        }\n\n        public $onChanges(changes: MarkdownChanges) {\n            const newText = changes.text.currentValue;\n\n            if (this.rebind) {\n                this.text = newText;\n                this.bindText(this.text);\n            }\n        }\n\n        private describeAttachments(array) {\n            var attachString = '',\n                attachTypes = [];\n\n            _.each(array, function (attach) {\n                if (attach.type && attach.type !== 'text') {\n                    if (attachString.length === 0 && this._pipTranslate) {\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                    }\n\n                    if (attachTypes.indexOf(attach.type) < 0) {\n                        attachTypes.push(attach.type);\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\n                        if (this._pipTranslate)\n                            attachString += this._pipTranslate.translate(attach.type);\n                    }\n                }\n            });\n\n            return attachString;\n        }\n\n        private bindText(value) {\n            let textString, isClamped, height, options, obj;\n\n            if (_.isArray(value)) {\n                obj = _.find(value, function (item: any) {\n                    return item.type === 'text' && item.text;\n                });\n\n                textString = obj ? obj.text : this.describeAttachments(value);\n            } else {\n                textString = value;\n            }\n\n            isClamped = this.clamp && _.isNumber(this.clamp);\n            isClamped = isClamped && textString && textString.length > 0;\n            options = {\n                gfm: true,\n                tables: true,\n                breaks: true,\n                sanitize: true,\n                pedantic: true,\n                smartLists: true,\n                smartypents: false\n            };\n            textString = marked(textString || '', options);\n            if (isClamped) {\n                height = 1.5 * Number(this.clamp);\n            }\n            // Assign value as HTML\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n            this.$element.find('a').attr('target', 'blank');\n            if (!this.isList && isClamped) {\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\n            }\n        }\n    }\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: MarkdownBindings\n    }\n\n    angular\n        .module('pipMarkdown', ['ngSanitize'])\n        .run(ConfigTranslations)\n        .component('pipMarkdown', MarkdownComponent);\n}","{\n    interface IPopoverBindings {\n        [key: string]: any;\n\n        params: any;\n    }\n\n    const PopoverBindings: IPopoverBindings = {\n        params: '<pipParams'\n    }\n\n    class PopoverController implements IPopoverBindings, ng.IController {\n        private backdropElement;\n        private content;\n        public params: any;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $compile: ng.ICompileService,\n            private $templateRequest: ng.ITemplateRequestService\n        ) {\n            this.backdropElement = $('.pip-popover-backdrop');\n            this.backdropElement.on('click keydown scroll', () => {\n                this.backdropClick();\n            });\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\n\n            $timeout(() => {\n                this.position();\n                angular.extend($scope, this.params.locals);\n\n                if (this.params.template) {\n                    this.content = $compile(this.params.template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n\n                    this.init();\n                } else {\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\n                        this.content = $compile(html)($scope);\n                        $element.find('.pip-popover').append(this.content);\n\n                        this.init();\n                    });\n                }\n            });\n\n            $timeout(() => {\n                this.calcHeight();\n            }, 200);\n            $rootScope.$on('pipPopoverResize', () => {\n                this.onResize()\n            });\n            $(window).resize(() => {\n                this.onResize()\n            });\n        }\n\n        public backdropClick() {\n            if (this.params.cancelCallback) {\n                this.params.cancelCallback();\n            }\n            this.closePopover();\n        }\n\n        public closePopover() {\n            this.backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                this.backdropElement.remove();\n            }, 100);\n        }\n\n        public onPopoverClick(event) {\n            event.stopPropagation();\n        }\n\n        private init() {\n            this.backdropElement.addClass('opened');\n            $('.pip-popover-backdrop').focus();\n            if (this.params.timeout) {\n                this.$timeout(function () {\n                    this.closePopover();\n                }, this.params.timeout);\n            }\n        }\n\n        private position() {\n            if (this.params.element) {\n                let element = $(this.params.element),\n                    pos = element.offset(),\n                    width = element.width(),\n                    height = element.height(),\n                    docWidth = $(document).width(),\n                    docHeight = $(document).height(),\n                    popover = this.backdropElement.find('.pip-popover');\n\n                if (pos) {\n                    popover\n                        .css('max-width', docWidth - (docWidth - pos.left))\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                        .css('left', pos.left - popover.width() + width / 2)\n                        .css('top', pos.top + height + 16);\n                }\n            }\n        }\n\n        private onResize() {\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n            this.position();\n            this.calcHeight();\n        }\n\n        private calcHeight() {\n            if (this.params.calcHeight === false) {\n                return;\n            }\n            const popover = this.backdropElement.find('.pip-popover'),\n                title = popover.find('.pip-title'),\n                footer = popover.find('.pip-footer'),\n                content = popover.find('.pip-content'),\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n        }\n    }\n\n    const Popover: ng.IComponentOptions = {\n        bindings: PopoverBindings,\n        templateUrl: 'popover/Popover.html',\n        controller: PopoverController\n    }\n\n    angular\n        .module('pipPopover')\n        .component('pipPopover', Popover);\n}","import { IPopoverService } from './IPopoverService';\n\n{\n    interface PopoverTemplateScope extends ng.IScope {\n        params ? : any;\n        locals ? : any;\n    }\n\n    class PopoverService implements IPopoverService {\n        private popoverTemplate: string;\n\n        constructor(\n            private $compile: ng.ICompileService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService\n        ) {\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n        }\n\n        public show(p: Object) {\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\n\n            element = $('body');\n            if (element.find('md-backdrop').length > 0) {\n                return;\n            }\n            this.hide();\n            scope = this.$rootScope.$new();\n            params = p && _.isObject(p) ? p : {};\n            scope.params = params;\n            scope.locals = params.locals;\n            content = this.$compile(this.popoverTemplate)(scope);\n            element.append(content);\n        }\n\n        public hide() {\n            const backdropElement = $('.pip-popover-backdrop');\n            backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                backdropElement.remove();\n            }, 100);\n        }\n\n        public resize() {\n            this.$rootScope.$broadcast('pipPopoverResize');\n        }\n    }\n\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n}","angular.module('pipPopover', ['pipPopover.Service']);\n\nimport './Popover';\nimport './PopoverService';\n\nexport * from './IPopoverService';","{\n    interface IRoutingBindings {\n        [key: string]: any;\n\n        logoUrl: any;\n        showProgress: any;\n    }\n\n    const RoutingBindings: IRoutingBindings = {\n        showProgress: '&',\n        logoUrl: '@'\n    }\n\n    class RoutingController implements ng.IController, IRoutingBindings {\n        private _image: any;\n\n        public logoUrl: string;\n        public showProgress: Function;\n\n        constructor(\n            $scope: ng.IScope,\n            private $element: JQuery\n        ) { }\n\n        public $postLink() {\n            this._image = this.$element.find('img');\n            this.loadProgressImage();\n        }\n\n        public loadProgressImage() {\n            if (this.logoUrl) {\n                this._image.attr('src', this.logoUrl);\n            }\n        }\n    }\n\n    const RoutingProgress: ng.IComponentOptions = {\n        bindings: RoutingBindings,\n        templateUrl: 'progress/RoutingProgress.html',\n        controller: RoutingController\n    }\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n}","export class Toast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n","import { Toast } from './Toast';\nimport { IToastService } from './IToastService';\n\n{\n    class ToastController {\n        private _pipErrorDetailsDialog;\n\n        public message: string;\n        public actions: string[];\n        public actionLenght: number;\n        public showDetails: boolean;\n\n        constructor(\n            private $mdToast: angular.material.IToastService,\n            public toast: Toast,\n            $injector: ng.auto.IInjectorService\n        ) {\n            \"ngInject\";\n\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\n                $injector.get('pipErrorDetailsDialog') : null;\n            this.message = toast.message;\n            this.actions = toast.actions;\n\n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n        }\n\n        public onDetails(): void {\n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onMessageClick(): void {\n            if (this.toast.type !== 'clickable_error' || !this.showDetails) return;\n            \n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onAction(action): void {\n            this.$mdToast.hide({\n                action: action,\n                id: this.toast.id,\n                message: this.message\n            });\n        }\n    }\n\n    class ToastService implements IToastService {\n        private SHOW_TIMEOUT: number = 20000;\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n        private toasts: Toast[] = [];\n        private currentToast: any;\n        private sounds: any = {};\n\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            private $mdToast: angular.material.IToastService\n        ) {\n            \"ngInject\";\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\n        }\n\n        public showNextToast(): void {\n            let toast: Toast;\n\n            if (this.toasts.length > 0) {\n                toast = this.toasts[0];\n                this.toasts.splice(0, 1);\n                this.showToast(toast);\n            }\n        }\n\n        // Show toast\n        public showToast(toast: Toast): void {\n            this.currentToast = toast;\n\n            this.$mdToast.show({\n                    templateUrl: 'toast/Toast.html',\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: ToastController,\n                    controllerAs: 'vm',\n                    locals: {\n                        toast: this.currentToast,\n                        sounds: this.sounds\n                    }\n                })\n                .then(\n                    (action: string) => {\n                        this.showToastOkResult(action);\n                    },\n                    (action: string) => {\n                        this.showToastCancelResult(action);\n                    }\n                );\n        }\n\n        private showToastCancelResult(action: string): void {\n            if (this.currentToast && this.currentToast.cancelCallback) {\n                this.currentToast.cancelCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        private showToastOkResult(action: string): void {\n            if (this.currentToast && this.currentToast.successCallback) {\n                this.currentToast.successCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        public addToast(toast): void {\n            if (this.currentToast && toast.type !== 'error') {\n                this.toasts.push(toast);\n            } else {\n                this.showToast(toast);\n            }\n        }\n\n        public removeToasts(type: string): void {\n            const result: any[] = [];\n            _.each(this.toasts, (toast) => {\n                if (!toast.type || toast.type !== type) {\n                    result.push(toast);\n                }\n            });\n            this.toasts = _.cloneDeep(result);\n        }\n\n        public removeToastsById(id: string): void {\n            _.remove(this.toasts, {\n                id: id\n            });\n        }\n\n        public getToastById(id: string): Toast {\n            return _.find(this.toasts, {\n                id: id\n            });\n        }\n\n        public onStateChangeSuccess() {}\n\n        public onClearToasts(): void {\n            this.clearToasts(null);\n        }\n\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n            this.addToast({\n                id: id || null,\n                type: 'notification',\n                message: message,\n                actions: actions || ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback,\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n            });\n        }\n\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\n            this.addToast({\n                id: id || null,\n                type: 'message',\n                message: message,\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n        \n        public showClickableError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'clickable_error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public hideAllToasts(): void {\n            this.$mdToast.cancel();\n            this.toasts = [];\n        }\n\n        public clearToasts(type ? : string) {\n            if (type) {\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                this.removeToasts(type);\n            } else {\n                this.$mdToast.cancel();\n                this.toasts = [];\n            }\n        }\n\n    }\n\n    angular\n        .module('pipToasts')\n        .service('pipToasts', ToastService);\n}","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n\nimport './ToastService';\nimport './Toast';\n\nexport * from './IToastService';","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/ColorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/Popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/RoutingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/Toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\' || vm.toast.type==\\'clickable_error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\" ng-class=\"{\\'clickable\\': vm.showDetails && vm.toast.type==\\'clickable_error\\' }\" ng-click=\"vm.onMessageClick()\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || ((vm.toast.type==\\'error\\' || vm.toast.type==\\'clickable_error\\') && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","{\r\n    interface ITagList {\r\n        tags: string[];\r\n        type: string;\r\n        typeLocal: string;\r\n    }\r\n\r\n    class TagListController implements ITagList {\r\n        public rebind: string;\r\n\r\n        public tags: string[];\r\n        public type: string;\r\n        public typeLocal: string;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService\r\n        ) {\r\n\r\n            // Set tags\r\n            $element.css('display', 'block');\r\n            $element.addClass('pip-tag-list');\r\n        }\r\n\r\n        private toBoolean(value: string): boolean {\r\n            if (_.isNull(value) || _.isUndefined(value)) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TagListChanges) {\r\n            if (this.rebind && changes.tags) {\r\n                this.tags = changes.tags.currentValue;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    interface ITagListBindings {\r\n        [key: string]: any;\r\n\r\n        tags: any,\r\n        type: any,\r\n        typeLocal: any,\r\n        rebuid: any\r\n    }\r\n\r\n    const TagListBindings: ITagListBindings = {\r\n        tags: '<pipTags',\r\n        type: '<pipType',\r\n        typeLocal: '<pipTypeLocal',\r\n        rebuid: '<pipRebind'\r\n    }\r\n\r\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        tags: ng.IChangesObject<string[]>;\r\n        type: ng.IChangesObject<string>;\r\n        typeLocal: ng.IChangesObject<string>;\r\n        rebuid: ng.IChangesObject<boolean>\r\n    }\r\n\r\n    const TagList = {\r\n        bindings: TagListBindings,\r\n        templateUrl: 'tag_list/TagList.html',\r\n        controller: TagListController\r\n    }\r\n\r\n    angular\r\n        .module('pipTagList', ['pipList.Translate'])\r\n        .component('pipTagList', TagList)\r\n\r\n}","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","\r\n(() => {\r\n    interface IDateBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any,\r\n        disabled: any,\r\n        model: any,\r\n        ngChange: any\r\n    }\r\n\r\n    const DateBindings: IDateBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '<ngModel',\r\n        ngChange: '<'\r\n    }\r\n\r\n    class DateChanges implements ng.IOnChangesObject, IDateBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => boolean>;\r\n        model: ng.IChangesObject<Date>;\r\n        ngChange: ng.IChangesObject<(date: Date) => void>;\r\n    }\r\n\r\n\r\n    class DateController {\r\n        private value: any;\r\n        private localeDate: moment.MomentLanguageData = moment.localeData();\r\n        private momentMonths: any[];\r\n        private momentDays: any[];\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public timeMode: string;\r\n        public day: number;\r\n        public month: number;\r\n        public year: number;\r\n\r\n        public model: Date;\r\n        public ngChange: (date: Date) => void;\r\n\r\n        public days: number[];\r\n        public months: any[];\r\n        public years: number[];\r\n        public disabled: () => boolean;\r\n        public disableControls: boolean;\r\n\r\n        constructor(\r\n            $injector: angular.auto.IInjectorService,\r\n            $scope: ng.IScope) {\r\n            \"ngInject\";\r\n            this.momentMonths = angular.isArray(this.localeDate['_months']) ? this.localeDate['_months'] : this.localeDate['_months'].format;\r\n            this.momentDays = angular.isArray(this.localeDate['_weekdays']) ? this.localeDate['_weekdays'] : this.localeDate['_weekdays'].format;\r\n            this.momentShortDays = this.localeDate['_weekdaysMin'];\r\n            this.momentFirstDayOfWeek = this.localeDate['_week'].dow;\r\n\r\n            let value = this.model ? _.isDate(this.model) ? this.model : new Date(this.model) : null;\r\n            this.day = value ? value.getDate() : null;\r\n            this.month = value ? value.getMonth() + 1 : null;\r\n            this.year = value ? value.getFullYear() : null;\r\n\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.years = this.yearList();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateChanges) {\r\n            if (changes.model && changes.model.currentValue) {\r\n                this.model = changes.model.currentValue;\r\n                this.getValue(this.model);\r\n            }\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number = 31, days: number[] = [];\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n            } else {\r\n                if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n            }\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList(): number[] {\r\n            let currentYear: number = new Date().getFullYear(),\r\n                startYear: number = this.timeMode === 'future' ? currentYear : currentYear - 100,\r\n                endYear: number = this.timeMode === 'past' ? currentYear : currentYear + 100,\r\n                years = [];\r\n\r\n            if (this.timeMode === 'past') {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            if (this.days.length !== days.length) {\r\n                if (this.day > days.length) {\r\n                    this.day = days.length;\r\n                }\r\n\r\n                this.days = days;\r\n            }\r\n        }\r\n\r\n        private getValue(v: any) {\r\n            let value: Date = v ? _.isDate(v) ? v : new Date(v) : null,\r\n                day: number = value ? value.getDate() : null,\r\n                month: number = value ? value.getMonth() + 1 : null,\r\n                year: number = value ? value.getFullYear() : null;\r\n\r\n            // Update day list if month and year were changed\r\n            if (this.month !== month && this.year !== year) {\r\n                this.days = this.dayList(this.month, this.year);\r\n            }\r\n\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n        }\r\n\r\n        public setValue() {\r\n            let value: Date;\r\n\r\n            if (this.day && this.month && this.year) {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                this.model = value;\r\n                this.ngChange(this.model);\r\n            }\r\n        }\r\n\r\n        public onMonthChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged() {\r\n            this.adjustDay();\r\n            this.setValue();\r\n        }\r\n    }\r\n\r\n    const DateComponent: ng.IComponentOptions = {\r\n        bindings: DateBindings,\r\n        templateUrl: 'date/Date.html',\r\n        controller: DateController\r\n    }\r\n\r\n    angular\r\n        .module('pipDate', ['pipDates.Templates'])\r\n        .component('pipDate', DateComponent)\r\n})();\r\n\r\n","import { DateRangeType, IDateConvertService, IDateConvertProvider } from './IDateConvertService';\r\n\r\n(() => {\r\n    class DateConvert implements IDateConvertService {\r\n        protected _momentRanged: string[] = DateRangeType.All;\r\n        protected _defaultFormat: string = 'LL';\r\n        private _defaultTimeZoneOffset: number;\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._defaultTimeZoneOffset = value;\r\n        }\r\n\r\n        private isUndefinedOrNull(date: any): boolean {\r\n            return angular.isUndefined(date) || date === null;\r\n        }\r\n\r\n        private getRange(date: string): string {\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            let index = this._momentRanged.indexOf(date)\r\n\r\n            if (index < 0) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            return this._momentRanged[index];\r\n        }\r\n\r\n        private getOperationRange(date: string): string {\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            let range: string = date == DateRangeType.WeekFromSunday ? DateRangeType.WeekFromSunday : date,\r\n                index = this._momentRanged.indexOf(range)\r\n\r\n            if (index < 0) {\r\n                return DateRangeType.Day;\r\n            }\r\n\r\n            return this._momentRanged[index];\r\n\r\n        }\r\n  \r\n        private toStartRange(date: any, range: string): Date {\r\n            let localDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                throw new Error('toStartRange - date is undefined or null');\r\n            }\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\r\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\r\n            } else {\r\n                localDate = moment(date);\r\n            }\r\n\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toStartRange - localDate is invalid');\r\n            }\r\n\r\n            return localDate.startOf(range).toDate();\r\n        }\r\n\r\n        private toEndRange(date: any, range: string, offset?: number): any {\r\n            let localDate: any,\r\n                result: any,\r\n                mssOffset: number;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return '';\r\n            }\r\n\r\n            if (!angular.isNumber(offset)) {\r\n                mssOffset = 0;\r\n            }\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null) {\r\n                localDate = moment(date).utcOffset(this._defaultTimeZoneOffset);\r\n            } else {\r\n                localDate = moment(date);\r\n            }\r\n\r\n            if (!localDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            if (mssOffset) {\r\n                result = localDate.endOf(range).add(mssOffset, 'milliseconds');\r\n            } else {\r\n                result = localDate.endOf(range);\r\n            }\r\n\r\n            return localDate.endOf(range).toDate();\r\n        }\r\n\r\n        public toJson(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n\r\n        // navigation functions \r\n        // ------------------\r\n\r\n        public toNextRange(date: any, type: string): any {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                return '';\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(type);\r\n            result = moment(localDate).startOf(range).add(1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public toPrevRange(date: any, type: string): Date {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date)) {\r\n                throw new Error('toPrevRange- date is undefined or null');\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toPrevRange - localDate is invalid');\r\n            }\r\n\r\n            range = this.getRange(type);\r\n            result = moment(localDate).startOf(range).add(-1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public toCurrentRange(type: string): Date {\r\n            let localDate: moment.Moment,\r\n                range: string,\r\n                result: moment.Moment;\r\n\r\n            localDate = moment();\r\n            if (!localDate.isValid()) {\r\n                throw new Error('toCurrentRange - localDate is invalid');\r\n            }\r\n\r\n            range = this.getRange(type)\r\n            result = moment(localDate).startOf(range);\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public addHours(date: any, hours: number): Date {\r\n            let localDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(date) || !angular.isNumber(hours)) {\r\n                throw new Error('addHours - date is undefined or null or hours is not a number');\r\n            }\r\n\r\n            localDate = moment(date);\r\n            if (!localDate.isValid()) {\r\n                throw new Error('addHours - localDate is invalid');\r\n            }\r\n\r\n            return localDate.add(hours, 'hours').toDate();\r\n        }\r\n\r\n        public toStartDay(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Day);\r\n        }\r\n\r\n        public toEndDay(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Day, offset);\r\n        }\r\n\r\n        public toStartWeek(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.WeekFromSunday);\r\n        }\r\n\r\n        public toEndWeek(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.WeekFromSunday, offset);\r\n        }\r\n\r\n        public toStartMonth(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Month);\r\n        }\r\n\r\n        public toEndMonth(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Month, offset);\r\n        }\r\n\r\n        public toStartYear(date: any): Date {\r\n            return this.toStartRange(date, DateRangeType.Year);\r\n        }\r\n\r\n        public toEndYear(date: any, offset?: number): Date {\r\n            return this.toEndRange(date, DateRangeType.Year, offset);\r\n        }\r\n\r\n        // public toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     tzOffset = tzOffset !== null && tzOffset !== undefined ? tzOffset : 0;\r\n        //     offset = offset ? offset : 0; \r\n\r\n        //     return moment(date).add(offset - tzOffset, 'minutes').format();\r\n        // }\r\n\r\n        // public fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     tzOffset = tzOffset !== null && tzOffset !== undefined ? tzOffset : 0;\r\n        //     offset = offset ? offset : 0; \r\n\r\n        //     return moment(date).add(tzOffset - offset, 'minutes').format();\r\n        // }\r\n\r\n    }\r\n\r\n    class DateConvertService {\r\n        private _convert: DateConvert;\r\n\r\n        public constructor(\r\n            convert: DateConvert,\r\n        ) {\r\n            this._convert = convert;\r\n        }\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._convert.defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._convert.defaultTimeZoneOffset = value;\r\n        }\r\n    \r\n        public toJSON(date: any): string {\r\n            return this._convert.toJson(date);\r\n        }\r\n\r\n        // date range functions \r\n        // ------------------\r\n\r\n        public toNextRange(date: any, type: string): any {\r\n            return this._convert.toNextRange(date, type);\r\n        }\r\n\r\n        public toPrevRange(date: any, type: string): any {\r\n            return this._convert.toPrevRange(date, type);\r\n        }\r\n\r\n        public toCurrentRange(type: string): any {\r\n            return this._convert.toCurrentRange(type);\r\n        }\r\n\r\n        public addHours(date: any, hours: number): any {\r\n            return this._convert.addHours(date, hours);\r\n        }\r\n\r\n        public toStartDay(date: any): any {\r\n            return this._convert.toStartDay(date);\r\n        }\r\n\r\n        public toEndDay(date: any, offset?: number): any {\r\n            return this._convert.toEndDay(date, offset);\r\n        }\r\n\r\n        public toStartWeek(date: any): any {\r\n            return this._convert.toStartWeek(date);\r\n        }\r\n\r\n        public toEndWeek(date: any, offset?: number): any {\r\n            return this._convert.toEndWeek(date, offset);\r\n        }\r\n\r\n        public toStartMonth(date: any): any {\r\n            return this._convert.toStartMonth(date);\r\n        }\r\n\r\n        public toEndMonth(date: any, offset?: number): any {\r\n            return this._convert.toEndMonth(date, offset);\r\n        }\r\n\r\n        public toStartYear(date: any): any {\r\n            return this._convert.toStartYear(date);\r\n        }\r\n\r\n        public toEndYear(date: any, offset?: number): any {\r\n            return this._convert.toEndYear(date, offset);\r\n        }\r\n\r\n        // public toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     return this._convert.toTimeZoneToString(date, tzOffset, offset);\r\n        // }\r\n\r\n        // public fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string {\r\n        //     return this._convert.fromTimeZoneToString(date, tzOffset, offset);\r\n        // }\r\n    }\r\n\r\n    class DateConvertProvider extends DateConvert implements IDateConvertProvider {\r\n        private _translation: DateConvert;\r\n        private _service: DateConvertService;\r\n\r\n        public $get(): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateConvertService(this);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Convert', [])\r\n        .provider('pipDateConvert', DateConvertProvider);\r\n})();","import { IDateFormatService } from './IDateFormatService';\r\nimport { IDateConvertService } from './IDateConvertService';\r\n\r\nfunction formatTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatTime(value, format);\r\n    }\r\n}\r\n\r\nfunction formatDateOptionalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, format: string): string => {\r\n        return pipDateFormat.formatDateOptional(value, format);\r\n    }\r\n}\r\n\r\nfunction formatLongDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDate(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any) => {\r\n        return pipDateFormat.formatMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatYearFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatYear(value);\r\n    }\r\n}\r\n\r\nfunction formatWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMiddleDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatShortDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatMiddleDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatMiddleDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatLongDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.formatLongDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction bbFormatDateLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, firstTime: boolean): string => {\r\n        return pipDateFormat.bbFormatDateLongTime(value, firstTime);\r\n    }\r\n}\r\n\r\nfunction formatFullDateTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatFullDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDayOfWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatShortMonthDayFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatDateRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatDateTimeRangeFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value1: any, value2: any): string => {\r\n        return pipDateFormat.formatDateTimeRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortISOWeekFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatShortISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekOrdinalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatISOWeekOrdinal(value);\r\n    }\r\n}\r\n\r\nfunction formatDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateYFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatLongDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeLong(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateLongTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateLongTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTodayDateShortTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatTodayDateShortTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatMillisecondsToSecondsFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateFormat.formatMillisecondsToSeconds(value);\r\n    }\r\n}\r\n\r\nfunction formatElapsedIntervalFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, start: any): string => {\r\n        return pipDateFormat.formatElapsedInterval(value, start);\r\n    }\r\n}\r\n\r\nfunction formatShortElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatShortElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction formatLongElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatLongElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction formatMiddleElapsedFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any, hours?: number, start?: any): string => {\r\n        return pipDateFormat.formatMiddleElapsed(value, hours, start);\r\n    }\r\n}\r\n\r\nfunction getDateJSONFilter(pipDateConvert: IDateConvertService) {\r\n    \"ngInject\";\r\n\r\n    return (value: any): string => {\r\n        return pipDateConvert.toJson(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeShortFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: number): string => {\r\n        return pipDateFormat.formatTimeShort(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeLongFilter(pipDateFormat: IDateFormatService) {\r\n    \"ngInject\";\r\n\r\n    return (value: number): string => {\r\n        return pipDateFormat.formatTimeLong(value);\r\n    }\r\n}\r\nangular\r\n    .module('pipDate.Filter', [])\r\n    .filter('formatTime', formatTimeFilter)\r\n    .filter('formatDateOptional', formatDateOptionalFilter)\r\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\r\n    .filter('formatShortDate', formatShortDateFilter)\r\n    .filter('formatMiddleDate', formatMiddleDateFilter)\r\n    .filter('formatLongDate', formatLongDateFilter)\r\n    .filter('formatMonth', formatMonthFilter)\r\n    .filter('formatLongMonth', formatLongMonthFilter)\r\n    .filter('formatYear', formatYearFilter)\r\n    .filter('formatWeek', formatWeekFilter)\r\n    .filter('formatShortWeek', formatShortWeekFilter)\r\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\r\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)\r\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\r\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\r\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)\r\n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)\r\n    .filter('formatFullDateTime', formatFullDateTimeFilter)\r\n    .filter('formatShortTime', formatShortTimeFilter)\r\n    .filter('formatLongTime', formatLongTimeFilter)\r\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\r\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\r\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\r\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\r\n    .filter('formatDateRange', formatDateRangeFilter)\r\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\r\n    .filter('formatISOWeek', formatISOWeekFilter)\r\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\r\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\r\n    .filter('formatDateY', formatDateYFilter)\r\n    .filter('formatLongDateY', formatLongDateYFilter)\r\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\r\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\r\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\r\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\r\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\r\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter)\r\n    .filter('formatShortElapsed', formatShortElapsedFilter)\r\n    .filter('formatMiddleElapsed', formatMiddleElapsedFilter)\r\n    .filter('formatLongElapsed', formatLongElapsedFilter)\r\n    .filter('formatTimeShort', formatTimeShortFilter)\r\n    .filter('formatTimeLong', formatTimeLongFilter);\r\n","import { DateRangeType } from './IDateConvertService';\r\nimport { IDateFormatService, IDateFormatProvider } from './IDateFormatService';\r\n\r\n(() => {\r\n    class DateFormat implements IDateFormatService {\r\n        protected _momentRanged: string[] = DateRangeType.All;\r\n        protected _defaultFormat: string = 'LL'\r\n\r\n        private _defaultTimeZoneOffset: number;\r\n        private oneHour: number = 60 * 60 * 1000;\r\n        private oneMinute: number = 60 * 1000;\r\n        private oneSeccond: number = 1000;\r\n        private oneDay: number = 24 * 60 * 60 * 1000;\r\n\r\n\r\n        public constructor(\r\n            private $injector: angular.auto.IInjectorService\r\n        ) {\r\n\r\n        }\r\n\r\n        public get defaultTimeZoneOffset(): number {\r\n            return this._defaultTimeZoneOffset;\r\n        }\r\n\r\n        public set defaultTimeZoneOffset(value: number) {\r\n            this._defaultTimeZoneOffset = value;\r\n        }\r\n\r\n        private isUndefinedOrNull(value: any): boolean {\r\n            return angular.isUndefined(value) || value === null;\r\n        }\r\n\r\n        private formatDateTime(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let formatTpl: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            return date.format(formatTpl);\r\n        }\r\n\r\n        private formatDateTimeY(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let nowDate: moment.Moment;\r\n            let formatMoment: string;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n            formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n            if (nowDate.year() == date.year())\r\n                formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            return date.format(formatMoment);\r\n        }\r\n\r\n        private formatDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n            let formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '').replace(/[./]/g, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            return date.format(formatMonthYearless);\r\n        }\r\n\r\n        private formatMonthDay(value: any, basicFormat: string): string {\r\n            let date: moment.Moment;\r\n            let format = basicFormat ? basicFormat : this._defaultFormat;\r\n            let formatLL = moment.localeData().longDateFormat(format);\r\n            let formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            return date.format(formatYearlessLL);\r\n        }\r\n\r\n        //  use timezone not testing\r\n        public formatRange(value1: any, value2: any, basicFormat: string): string {\r\n            let dateStart: moment.Moment;\r\n            let dateEnd: moment.Moment;\r\n            let format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            if (this.isUndefinedOrNull(value1))\r\n                dateStart = null;\r\n            else\r\n                dateStart = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                    ? moment(value1).utcOffset(this._defaultTimeZoneOffset) : moment(value1);\r\n\r\n            if (this.isUndefinedOrNull(value2))\r\n                dateEnd = null;\r\n            else\r\n                dateEnd = (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                    ? moment(value2).utcOffset(this._defaultTimeZoneOffset) : moment(value2);\r\n\r\n            if (dateStart === null && dateEnd === null)\r\n                return '';\r\n            if (dateStart === null)\r\n                return dateEnd.format(basicFormat);\r\n            if (dateEnd === null || dateStart.isSame(dateEnd))\r\n                return dateStart.format(basicFormat);;\r\n\r\n            if (dateStart.isAfter(dateEnd))\r\n                throw new Error('Date range error. Start date is more than end date.');\r\n\r\n            if (dateStart.year() == dateEnd.year()) {\r\n                if (dateStart.month() == dateEnd.month())\r\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n\r\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n            }\r\n\r\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n        }\r\n\r\n        private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\r\n            let date: moment.Moment;\r\n            let result: string;\r\n            let nowDate: moment.Moment;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n            if (firstTime)\r\n                result = date.format(formatTime) + ' ' + date.format(formatDate);\r\n            else\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n\r\n            return result;\r\n        }\r\n\r\n        private toTodayDate(value: any, formatDate: string, formatTime: string): any {\r\n            let date: moment.Moment;\r\n            let result: string;\r\n            let nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) return '';\r\n\r\n            if (this._defaultTimeZoneOffset != undefined && this._defaultTimeZoneOffset != null)\r\n                date = moment(value).utcOffset(this._defaultTimeZoneOffset);\r\n            else\r\n                date = moment(value);\r\n\r\n            if (!date.isValid()) return '';\r\n\r\n            nowDate = moment();\r\n\r\n            if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day())\r\n                result = date.format(formatTime);\r\n            else\r\n                result = date.format(formatDate) + ' ' + date.format(formatTime);\r\n\r\n            return result;\r\n        }\r\n\r\n        // formating functions \r\n        // -------------------\r\n\r\n        public formatTime(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatDateOptional(value: any, format: string): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        // date formats\r\n        public formatShortDate(value: any): string {\r\n            return this.formatDateTime(value, 'L');\r\n        }\r\n\r\n        public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDate(value: any): string {\r\n            return this.formatDateTime(value, 'll');\r\n        }\r\n\r\n        public formatLongDate(value: any): string {\r\n            return this.formatDateTime(value, 'LL');\r\n        }\r\n\r\n        public formatMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MM');\r\n        }\r\n\r\n        public formatLongMonth(value: any): string {\r\n            return this.formatDateTime(value, 'MMMM');\r\n        }\r\n\r\n        public formatYear(value: any): string {\r\n            return this.formatDateTime(value, 'YYYY');\r\n        }\r\n\r\n        public formatWeek(value: any): string {\r\n            return this.formatDateTime(value, 'ww');\r\n        }\r\n\r\n        public formatShortWeek(value: any): string {\r\n            return this.formatDateTime(value, 'w');\r\n        }\r\n\r\n        public formatShortDateTime(value: any): string {\r\n            return this.toDateWithTime(value, 'L', 'LT');\r\n        }\r\n\r\n        public formatMiddleDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'lll');\r\n        }\r\n\r\n        public formatLongDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLL');\r\n        }\r\n\r\n        public formatFullDateTime(value: any): string {\r\n            return this.formatDateTime(value, 'LLLL');\r\n        }\r\n\r\n        public formatShortDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'L', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'll', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatLongDateLongTime(value: any, firstTime?: boolean): string {\r\n            return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\r\n        }\r\n\r\n        public formatShortTime(value: any): string {\r\n            return this.formatDateTime(value, 'LT');\r\n        }\r\n\r\n        public formatLongTime(value: any): string {\r\n            return this.formatDateTime(value, 'LTS');\r\n        }\r\n\r\n        public formatShortDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dd');\r\n        }\r\n\r\n        public formatLongDayOfWeek(value: any): string {\r\n            return this.formatDateTime(value, 'dddd');\r\n        }\r\n\r\n        // public formatTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLL');\r\n        // }\r\n\r\n        // public formatLongTimeNumber(value: any): string {\r\n        //     return this.formatDateTime(value, 'LLLL');\r\n        // }\r\n\r\n        ///-----------------\r\n\r\n        public formatLongMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'LL');\r\n        }\r\n\r\n        public formatShortMonthDay(value: any): string {\r\n            return this.formatMonthDay(value, 'L');\r\n        }\r\n\r\n        public formatDateRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LL');\r\n        }\r\n\r\n        public formatDateTimeRange(value1: any, value2: any): string {\r\n            return this.formatRange(value1, value2, 'LLL');\r\n        }\r\n\r\n        // iso function\r\n        // --------------\r\n\r\n        public formatISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'WW');\r\n        }\r\n\r\n        public formatShortISOWeek(value: any): string {\r\n            return this.formatDateTime(value, 'W');\r\n        }\r\n\r\n        public formatISOWeekOrdinal(value: any): string {\r\n            return this.formatDateTime(value, 'Wo');\r\n        }\r\n        // special formats \r\n        // --------------\r\n\r\n        // year option displays if the current year is not equal to, the date of \r\n        public formatDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'L');\r\n        }\r\n\r\n        // year option displays if the current year is not equal to, the date of\r\n        public formatLongDateY(value: any): string {\r\n            return this.formatDateTimeY(value, 'LL');\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateLongTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30:25 PM or 8:30:25 PM\r\n        public formatTodayDateShortTimeLong(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LTS')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // September 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateLongTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'LL', 'LT')\r\n        }\r\n\r\n        // date displays if the current date  is not equal now \r\n        // Sep 4 1986 8:30 PM or 8:30 PM\r\n        public formatTodayDateShortTimeShort(value: any): string {\r\n            return this.toTodayDate(value, 'll', 'LT')\r\n        }\r\n\r\n        // todo\r\n        public formatMillisecondsToSeconds(value: any): string {\r\n            return '';\r\n        }\r\n\r\n        public formatElapsedInterval(value: any, start: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return moment(date).fromNow(nowDate);\r\n        }\r\n\r\n        public formatShortElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatShortDateTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + moment.utc(ms).format(\":mm \") + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_SHORT_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + moment.utc(ms).format(\":mm \") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' min. ago';\r\n                        } else {\r\n                            s = 'few sec. ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        private getHoursString(h: number): string {\r\n            let hh: number = h % 10;\r\n            if (h == 0) return '';\r\n\r\n            if (hh == 1) {\r\n                return 'DATE_HOUR_ONE'\r\n            }\r\n            if (hh > 1 && hh < 5) {\r\n                return 'DATE_HOURS_FEW'\r\n            }\r\n\r\n            return 'DATE_HOURS_AFTER_FOOR'\r\n        }\r\n\r\n        private getMinutesString(m: number): string {\r\n            if (m == 1) {\r\n                return 'DATE_MINUTE_ONE'\r\n            }\r\n            if (m > 1 && m < 5) {\r\n                return 'DATE_MINUTES_FEW'\r\n            }\r\n\r\n            return 'DATE_MINUTES_AFTER_FOOR'\r\n        }\r\n\r\n        public formatLongElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatFullDateTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' ' + pipTranslate.translate(hString) + moment.utc(ms).format(\" mm \") +\r\n                            pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' hours ' + moment.utc(ms).format(\":mm minutes\") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' minutes ago';\r\n                        } else {\r\n                            s = 'few second ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        public formatMiddleElapsed(value: any, hours?: number, start?: any): string {\r\n            let date: moment.Moment,\r\n                nowDate: moment.Moment,\r\n                borderDate: moment.Moment;;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            if (this.isUndefinedOrNull(start)) {\r\n                nowDate = moment();\r\n            } else {\r\n                nowDate = moment(start);\r\n            }\r\n            borderDate = _.cloneDeep(nowDate)\r\n\r\n            date = moment(value);\r\n            if (!date.isValid() || !nowDate.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            // define default hours\r\n            if (this.isUndefinedOrNull(hours)) {\r\n                hours = -24;\r\n            }\r\n            // add hours to now date\r\n            borderDate.add(hours, 'hours');\r\n\r\n            if (date.isBefore(borderDate)) {\r\n                // return date\r\n                return this.formatMiddleDateLongTime(date);\r\n            } else {\r\n                // return time\r\n                let ms = nowDate.diff(date);\r\n                let diff = moment.duration(nowDate.diff(date));\r\n                let s: string;\r\n\r\n                let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n                let h = Math.floor(diff.asHours());\r\n                let m = Math.floor(diff.asMinutes() - 60 * h);\r\n\r\n                if (pipTranslate) {\r\n                    let hString: string = 'DATE_HOUR_SHORT';\r\n                    let mString: string = 'DATE_MINUTE_SHORT';\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' ' + pipTranslate.translate(hString) + moment.utc(ms).format(\" mm \") +\r\n                            pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' ' + pipTranslate.translate(mString) + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        } else {\r\n                            s = pipTranslate.translate('DATE_FEW_SECOND_SHORT_ELAPSED') + ' ' + pipTranslate.translate('DATE_ELAPSED');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (h) {\r\n                        s = Math.floor(diff.asHours()) + ' h. ' + moment.utc(ms).format(\":mm min.\") + ' ago';\r\n                    } else {\r\n                        if (m) {\r\n                            s = moment.utc(ms).format(\"m\") + ' min. ago';\r\n                        } else {\r\n                            s = 'few sec. ago';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return s;\r\n            }\r\n        }\r\n\r\n        public formatTimeShort(value: number): string {\r\n            if (value <= 0) return '';\r\n\r\n            let s: string = '';\r\n            let h = Math.floor(value / this.oneHour);\r\n            let m = Math.floor((value - h * this.oneHour) / this.oneMinute);\r\n            let sec = Math.floor((value - h * this.oneHour - m * this.oneMinute) / this.oneSeccond);\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                let hString: string = 'DATE_HOUR_SHORT';\r\n                let mString: string = 'DATE_MINUTE_SHORT';\r\n                if (h) {\r\n                    s = h + ' ' + pipTranslate.translate(hString) + ' ' +\r\n                        (\"0\" + m).substr(-2, 2) + ' ' + pipTranslate.translate(mString);\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' ' + pipTranslate.translate(mString);\r\n                    } else {\r\n                        s = sec + ' ' + pipTranslate.translate('DATE_FEW_SECOND_SHORT');\r\n                    }\r\n                }\r\n            } else {\r\n                if (h) {\r\n                    s = h + ' h. ' + (\"0\" + m).substr(-2, 2) + ' min.';\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' min.';\r\n                    } else {\r\n                        s = sec + ' sec.';\r\n                    }\r\n                }\r\n            }\r\n\r\n            return s;\r\n        }\r\n\r\n        public formatTimeLong(value: number): string {\r\n            if (value <= 0) return '';\r\n\r\n            let s: string = '';\r\n            let h = Math.floor(value / this.oneHour);\r\n            let m = Math.floor((value - h * this.oneHour) / this.oneMinute);\r\n            let sec = Math.floor((value - h * this.oneHour - m * this.oneMinute) / this.oneSeccond);\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                    let hString: string = this.getHoursString(h);\r\n                    let mString: string = this.getMinutesString(m);\r\n                if (h) {\r\n                    \r\n                    s = h + ' ' + pipTranslate.translate(hString) + ' ' +\r\n                        (\"0\" + m).substr(-2, 2) + ' ' + pipTranslate.translate(mString);\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' ' + pipTranslate.translate(mString);\r\n                    } else {\r\n                        s = sec + ' ' + pipTranslate.translate('DATE_FEW_SECOND');\r\n                    }\r\n                }\r\n            } else {\r\n                if (h) {\r\n                    s = h + ' hours ' + (\"0\" + m).substr(-2, 2) + ' minutes';\r\n                } else {\r\n                    if (m) {\r\n                        s = m + ' minutes';\r\n                    } else {\r\n                        s = sec + ' second';\r\n                    }\r\n                }\r\n            }\r\n\r\n            return s;\r\n        }\r\n\r\n        public getDateJSON(date: any): string {\r\n            return JSON.stringify(moment(date));\r\n        }\r\n    }\r\n\r\n    class DateFormatProvider extends DateFormat implements IDateFormatProvider {\r\n        private _translation: DateFormat;\r\n        private _service: DateFormat;\r\n\r\n        public $get(\r\n            $injector: angular.auto.IInjectorService\r\n        ): any {\r\n            \"ngInject\";\r\n\r\n            if (this._service == null)\r\n                this._service = new DateFormat($injector);\r\n\r\n            return this._service;\r\n        }\r\n    }\r\n\r\n    function declarePipDateResources($injector: angular.auto.IInjectorService) {\r\n        let pipTranslateProvider: any = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n        if (pipTranslateProvider && pipTranslateProvider.translations) {\r\n            pipTranslateProvider.translations('en', {\r\n                DATE_ELAPSED: 'ago',\r\n                DATE_HOUR_ONE: 'hour',\r\n                DATE_HOUR_SHORT: 'h',\r\n                DATE_MINUTE_SHORT: 'min',\r\n                DATE_HOURS_FEW: 'hours',\r\n                DATE_HOURS_AFTER_FOOR: 'hours',\r\n                DATE_MINUTE_ONE: 'minute',\r\n                DATE_MINUTES_FEW: 'minutes',\r\n                DATE_MINUTES_AFTER_FOOR: 'minutes',\r\n                DATE_FEW_SECOND: 'second',\r\n                DATE_FEW_SECOND_SHORT: 'sec.',\r\n                DATE_FEW_SECOND_ELAPSED: 'few sec. ago',\r\n                DATE_FEW_SECOND_SHORT_ELAPSED: 'few sec. ago'\r\n\r\n            });\r\n            pipTranslateProvider.translations('ru', {\r\n                DATE_ELAPSED: 'назад',\r\n                DATE_HOUR_ONE: 'час',\r\n                DATE_HOUR_SHORT: 'ч.',\r\n                DATE_MINUTE_SHORT: 'мин.',\r\n                DATE_HOURS_FEW: 'часа',\r\n                DATE_HOURS_AFTER_FOOR: 'часов',\r\n                DATE_MINUTE_ONE: 'минуту',\r\n                DATE_MINUTES_FEW: 'минуты',\r\n                DATE_MINUTES_AFTER_FOOR: 'минут',\r\n                DATE_FEW_SECOND: 'секунд',\r\n                DATE_FEW_SECOND_SHORT: 'сек.',\r\n                DATE_FEW_SECOND_ELAPSED: 'несколько секунд назад',\r\n                DATE_FEW_SECOND_SHORT_ELAPSED: 'неск. с. назад',\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    angular\r\n        .module('pipDate.Format', [])\r\n        .provider('pipDateFormat', DateFormatProvider)\r\n        .config(declarePipDateResources);\r\n})();","export class DateRangeType {\r\n    static Year: string = 'year';\r\n    static Month: string = 'month';\r\n    static Week: string = 'week';\r\n    static WeekFromSunday: string = 'isoweek';\r\n    static Day: string = 'day';\r\n    static All: string[] = ['year', 'month', 'week', 'isoweek', 'day']\r\n}\r\n\r\nexport interface IDateConvertService {\r\n    defaultTimeZoneOffset: number;\r\n\r\n    toJson(date: any): string;\r\n    toNextRange(date: any, type: string): Date;\r\n    toPrevRange(date: any, type: string): Date;\r\n    toCurrentRange(type: string): Date;\r\n\r\n    addHours(date: any, hours: number): Date;\r\n    toStartDay(date: any): Date;\r\n    toEndDay(date: any, offset?: number): Date;\r\n    toStartWeek(date: any): Date;\r\n    toEndWeek(date: any, offset?: number): Date;\r\n    toStartMonth(date: any): Date;\r\n    toEndMonth(date: any, offset?: number): Date;\r\n    toStartYear(date: any): Date;\r\n    toEndYear(date: any, offset?: number): Date;\r\n\r\n    // toTimeZoneToString(date: any, tzOffset?: number, offset?: number): string;\r\n    // fromTimeZoneToString(date: any, tzOffset?: number, offset?: number): string;\r\n}\r\n\r\nexport interface IDateConvertProvider extends IDateConvertService, ng.IServiceProvider {\r\n}","\r\nangular.module('pipDate.Common', [\r\n    'pipDate.Convert',\r\n    'pipDate.Format',\r\n    'pipDate.Filter'\r\n]);\r\n\r\nimport './DateConvertService';\r\nimport './DateFormatFilter';\r\nimport './DateFormatService';\r\nimport './IDateConvertService';\r\nimport './IDateFormatService';\r\n\r\nexport * from './IDateConvertService';\r\nexport * from './IDateFormatService';","\r\n(() => {\r\n    interface IDateRangeBindings {\r\n        [key: string]: any;\r\n\r\n        timeMode: any;\r\n        disabled: any;\r\n        model: any;\r\n        pipChanged: any;\r\n        type: any;\r\n        pipDateFormat: any;\r\n        pipNoLine: any;\r\n    }\r\n\r\n    const DateRangeBindings: IDateRangeBindings = {\r\n        timeMode: '@pipTimeMode',\r\n        disabled: '&ngDisabled',\r\n        model: '=ngModel',\r\n        pipChanged: '&',\r\n        type: '@pipDateRangeType',\r\n        pipDateFormat: '@',\r\n        pipNoLine: '@'\r\n    }\r\n\r\n\r\n    class DateRangeChanges implements ng.IOnChangesObject, IDateRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        timeMode: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        model: ng.IChangesObject<any>;\r\n        pipChanged: ng.IChangesObject<() => void>;\r\n        type: ng.IChangesObject<string>;\r\n        pipDateFormat: ng.IChangesObject<any>;\r\n        pipNoLine: ng.IChangesObject<any>;\r\n    }\r\n\r\n    class DateRangeController {\r\n        private currentDate: Date;\r\n        private currentYear: number;\r\n        private currentMonth: number;\r\n        private currentDay: number;\r\n        private prevState: any = {};\r\n        private currentState: any = {};\r\n        private localeDate: any;\r\n        private momentMonths: any;\r\n        private momentDays: any;\r\n        private momentShortDays: any;\r\n        private momentFirstDayOfWeek: any;\r\n\r\n        public type: string;\r\n        public pipChanged: Function;\r\n        public year: number;\r\n        public month: number;\r\n        public week: any;\r\n        public day: number;\r\n        public shortMonths: string[];\r\n        public days: number[];\r\n        public weeks: any[];\r\n        public months: number[];\r\n        public years: number[];\r\n        public nameDays: string[];\r\n        public model: any;\r\n        public disabled: Function;\r\n        public disableControls: boolean;\r\n        public timeMode: string;\r\n\r\n        constructor(\r\n            public $mdMedia: angular.material.IMedia,\r\n            private $timeout: ng.ITimeoutService,\r\n            $scope: ng.IScope,\r\n            $element,\r\n            $rootScope: ng.IRootScopeService,\r\n            $injector: angular.auto.IInjectorService) {\r\n            \"ngInject\";\r\n\r\n            this.localeDate = moment.localeData();\r\n            this.momentMonths = angular.isArray(this.localeDate._months) ? this.localeDate._months : this.localeDate._months.standalone;\r\n            this.momentDays = angular.isArray(this.localeDate._weekdays) ? this.localeDate._weekdays : this.localeDate._weekdays.format;\r\n            this.momentShortDays = this.localeDate._weekdaysMin;\r\n            this.momentFirstDayOfWeek = this.localeDate._week.dow;\r\n\r\n            this.currentDate = new Date();\r\n            this.currentYear = this.currentDate.getUTCFullYear();\r\n            this.currentMonth = this.currentDate.getUTCMonth() + 1;\r\n            this.currentDay = this.currentDate.getUTCDate();\r\n\r\n            this.init();\r\n\r\n            this.disableControls = this.disabled ? this.disabled() : false;\r\n\r\n\r\n            $scope.$watch('$ctrl.type', (newValue, oldValue) => {\r\n                if (newValue !== oldValue && oldValue) {\r\n                    this.init();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public $onChanges(changes: DateRangeChanges) {\r\n            if (changes.type && changes.type.currentValue) {\r\n                this.type = changes.type.currentValue;\r\n                this.init();\r\n            }\r\n\r\n            /*if (changes.type && changes.type.currentValue && changes.type.currentValue != changes.type.previousValue) {\r\n               this.type = changes.type.currentValue; \r\n               this.init();\r\n           }\r\n   \r\n           if (changes.disabled && changes.disabled.currentValue) {\r\n                this.disableControls = changes.disabled.currentValue();\r\n           }\r\n   \r\n           if (changes.model && changes.model.currentValue) {\r\n                 this.getValue(changes.model.currentValue);\r\n           }*/\r\n\r\n        }\r\n\r\n        public onMonthChanged(): void {\r\n            if (this.type === 'weekly') {\r\n                let date: Date, dayOfWeek: number;\r\n                date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.correctWeek();\r\n                this.adjustWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearChanged(): void {\r\n            let date: Date, dayOfWeek: number;\r\n            date = new Date(Date.UTC(this.year, this.month - 1, 1));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n            if (this.type === 'weekly') {\r\n                this.week = this.getWeekByDate(dayOfWeek, this.month - 1, this.year);\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public onWeekChange() {\r\n            if (this.type === 'weekly') {\r\n                this.adjustWeek();\r\n                this.correctWeek();\r\n            } else {\r\n                this.adjustDay();\r\n            }\r\n            this.setValue();\r\n        };\r\n\r\n        public isDay(): boolean {\r\n            return this.type === 'daily';\r\n        };\r\n\r\n        public isWeek(): boolean {\r\n            return this.type === 'weekly';\r\n        };\r\n\r\n        public isMonth(): boolean {\r\n            return this.type === 'daily' ||\r\n                this.type === 'weekly' ||\r\n                this.type === 'monthly';\r\n        };\r\n\r\n        public onChange() {\r\n            if (this.pipChanged) {\r\n                this.$timeout(() => {\r\n                    this.pipChanged();\r\n                }, 0);\r\n            }\r\n        };\r\n\r\n        private setCurrent() {\r\n            this.currentState.day = this.day;\r\n            this.currentState.month = this.month;\r\n            this.currentState.year = this.year;\r\n            this.currentState.week = this.week;\r\n            this.currentState.dateRangeType = this.type;\r\n            this.currentState.model = this.model;\r\n        }\r\n\r\n        private fillLists() {\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n            this.months = this.monthList();\r\n            this.shortMonths = this.monthList();\r\n            this.years = this.yearList();\r\n        }\r\n\r\n        private correctWeek() {\r\n            if (!this.prevState.model || this.prevState.model && this.prevState.model.getTime() >= this.model.getTime()) {\r\n                // if shift week -> increase month\r\n                if (this.weeks && this.weeks[this.week] && this.weeks[this.week].id <= 0) {\r\n                    if (this.month < 12) {\r\n                        this.month += 1;\r\n                    } else {\r\n                        this.month = 1;\r\n                        this.year += 1;\r\n                    }\r\n                    this.fillLists();\r\n                }\r\n            }\r\n        }\r\n\r\n        private init() {\r\n            let value: Date;\r\n\r\n            value = this.model ? new Date(this.model) : null;\r\n            this.day = value ? value.getUTCDate() : null;\r\n            this.month = value ? value.getUTCMonth() + 1 : null;\r\n            this.year = value ? value.getUTCFullYear() : null;\r\n            this.week = value ? this.getWeekByDate(this.day, this.month - 1, this.year) : null;\r\n\r\n            this.fillLists();\r\n\r\n            if (this.type === 'weekly') {\r\n                this.correctWeek();\r\n            }\r\n            this.adjustWeek();\r\n            this.setValue();\r\n        }\r\n\r\n        public onYearClick() {\r\n            if (!this.year) {\r\n                this.year = this.currentYear;\r\n            }\r\n        };\r\n\r\n        public onMonthClick() {\r\n            if (!this.month) {\r\n                this.month = this.currentMonth;\r\n            }\r\n        };\r\n\r\n        public onDayClick() {\r\n            if (!this.year) {\r\n                this.day = this.currentDay;\r\n            }\r\n        };\r\n        // ---------------------------------------------------------------------------------------\r\n\r\n        public getCountDay(month: number, year: number): number {\r\n            let count = 31;\r\n\r\n            if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                count = 30;\r\n                return count;\r\n            }\r\n\r\n            if (month === 2) {\r\n                if (year) {\r\n                    count = year % 4 === 0 ? 29 : 28;\r\n                    return count;\r\n                }\r\n                count = 28;\r\n            }\r\n\r\n            return count;\r\n\r\n        }\r\n\r\n        private dayList(month: number, year: number): number[] {\r\n            let count: number, days: number[];\r\n\r\n            count = this.getCountDay(month, year);\r\n            this.nameDays = [];\r\n            days = [];\r\n            for (let i: number = 1; i <= count; i++) {\r\n                days.push(i);\r\n                this.nameDays.push(this.momentShortDays[moment([year, month - 1, i]).weekday()]);\r\n            }\r\n\r\n            return days;\r\n        }\r\n\r\n        public getWeekByDate(day, month, year) {\r\n            let date: Date, dayOfWeek: number, startWeek;\r\n\r\n            date = new Date(Date.UTC(year, month, day));\r\n            dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n\r\n            if (dayOfWeek === 1) {\r\n                startWeek = day;\r\n            } else {\r\n                startWeek = day + 1 - dayOfWeek;\r\n            }\r\n\r\n            return startWeek;\r\n        }\r\n\r\n        public getWeek(day: number, countDay: number, countPrevMonthDay) {\r\n            let endDay: number, startDay: number;\r\n\r\n            endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\r\n            startDay = day > 0 ? day : countPrevMonthDay + day;\r\n\r\n            return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\r\n        }\r\n\r\n        public weekList(month: number, year: number) { // возвращает список начала надели\r\n            let weeks: any[], countDay: number, countPrevMonthDay: number, startWeek: number;\r\n\r\n            weeks = [];  // в массиве первые дни недели в текущем месяце\r\n            countDay = this.getCountDay(month, year);\r\n            startWeek = this.getWeekByDate(1, month - 1, year);\r\n\r\n            countPrevMonthDay = month - 1 ? this.getCountDay(month - 1, year) : this.getCountDay(12, year - 1);\r\n            while (startWeek < countDay + 1) {\r\n                weeks.push({\r\n                    id: startWeek,\r\n                    name: this.getWeek(startWeek, countDay, countPrevMonthDay)\r\n                });\r\n                startWeek = startWeek + 7;\r\n            }\r\n\r\n            return weeks;\r\n        }\r\n\r\n        private monthList() {\r\n            let months: any[] = [];\r\n\r\n            for (let i: number = 1; i <= 12; i++) {\r\n                months.push({\r\n                    id: i,\r\n                    name: this.momentMonths[i - 1]\r\n                });\r\n            }\r\n\r\n            return months;\r\n        }\r\n\r\n        private yearList() {\r\n            let startYear: number, endYear: number, years: any[] = [];\r\n\r\n            switch (this.timeMode) {\r\n                case 'future':\r\n                    startYear = this.currentYear;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                case 'past':\r\n                    startYear = this.currentYear - 100;\r\n                    endYear = this.currentYear;\r\n                    break;\r\n                case 'now':\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 100;\r\n                    break;\r\n                default:\r\n                    startYear = this.currentYear - 50;\r\n                    endYear = this.currentYear + 50;\r\n                    break;\r\n            }\r\n            if (this.timeMode === 'future') {\r\n                for (let i: number = startYear; i <= endYear; i++) {\r\n                    years.push(i);\r\n                }\r\n            } else {\r\n                for (let i: number = endYear; i >= startYear; i--) {\r\n                    years.push(i);\r\n                }\r\n            }\r\n\r\n            return years;\r\n        }\r\n\r\n        private adjustDay() {\r\n            let days = this.dayList(this.month, this.year);\r\n\r\n            switch (this.type) {\r\n                case 'monthly':\r\n                    this.day = 1;\r\n                    break;\r\n                case 'yearly':\r\n                    this.month = 1;\r\n                    this.day = 1;\r\n                    break;\r\n                default:\r\n                    if (this.days.length !== days.length) {\r\n                        if (this.day > days.length) {\r\n                            this.day = days.length;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            this.days = days;\r\n        }\r\n\r\n        private adjustWeek() {\r\n            let weeks = this.weekList(this.month, this.year);\r\n            this.week = this.getWeekByDate(this.week, this.month - 1, this.year);\r\n            this.weeks = weeks;\r\n        }\r\n\r\n        private getValue(v) {\r\n            let value: Date, day: number, month: number, year: number, week: string;\r\n\r\n            value = v ? new Date(v) : null;\r\n            // Define values\r\n            day = value ? value.getUTCDate() : null;\r\n            month = value ? value.getUTCMonth() + 1 : null;\r\n            year = value ? value.getUTCFullYear() : null;\r\n            week = value ? this.getWeekByDate(day, month - 1, year) : null;\r\n            // Exit if nothing to update\r\n            if (this.day === day && this.month === month && this.year === year && this.week === week) {\r\n                return;\r\n            }\r\n            // Assign values to scope\r\n            this.day = day;\r\n            this.month = month;\r\n            this.year = year;\r\n            this.week = week;\r\n\r\n            // Define data sources\r\n            this.days = this.dayList(this.month, this.year);\r\n            this.weeks = this.weekList(this.month, this.year);\r\n        }\r\n\r\n        public setValue() {\r\n            let value;\r\n\r\n            if (this.type === 'weekly') {\r\n                value = new Date(this.year, this.month - 1, this.week, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            } else {\r\n                value = new Date(this.year, this.month - 1, this.day, 0, 0, 0, 0);\r\n                value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                this.model = value;\r\n            }\r\n\r\n            this.prevState = _.cloneDeep(this.currentState);\r\n            this.setCurrent();\r\n            this.onChange();\r\n        }\r\n\r\n    }\r\n\r\n    const daterange: ng.IComponentOptions = {\r\n        bindings: DateRangeBindings,\r\n        templateUrl: 'date_range/DateRange.html',\r\n        controller: DateRangeController \r\n\r\n    };\r\n    angular\r\n        .module('pipDateRange', ['pipDates.Templates'])\r\n        .component('pipDateRange', daterange)\r\n})();\r\n","\r\n(() => {\r\n    class TimeRangeData {\r\n        start: any;\r\n        end: any;\r\n    }\r\n\r\n    interface ITimeRangeBindings {\r\n        [key: string]: any;\r\n\r\n        start: any;\r\n        end: any;\r\n    }\r\n\r\n    const TimeRangeBindings: ITimeRangeBindings = {\r\n        start: '<?pipStartDate',\r\n        end: '<?pipEndDate'\r\n    }\r\n\r\n    class TimeRangeChanges implements ng.IOnChangesObject, ITimeRangeBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        start: ng.IChangesObject<any>;\r\n        end: ng.IChangesObject<any>;\r\n    }\r\n\r\n    class TimeRangeController {\r\n        public data: TimeRangeData;\r\n        public start: any;\r\n        public end: any;\r\n\r\n        constructor($scope: ng.IScope, $attrs: ng.IAttributes, $element: JQuery) {\r\n            \"ngInject\";\r\n            this.data = new TimeRangeData();\r\n            this.defineStartDate();\r\n            this.defineEndDate();\r\n\r\n            $element.addClass('pip-time-range');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeChanges) {\r\n            if (changes.start && changes.start.currentValue) {\r\n                this.data.start = null;\r\n                this.defineStartDate();\r\n            }\r\n            if (changes.end && changes.end.currentValue) {\r\n                this.data.end = null;\r\n                this.defineEndDate();\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private defineStartDate() {\r\n            if (this.start !== null && this.start !== undefined) {\r\n                this.data.start = _.isDate(this.start) ? this.start\r\n                    : this.getDateJSON(this.start);\r\n            }\r\n        }\r\n\r\n        private defineEndDate() {\r\n            if (this.end !== null && this.end !== undefined) {\r\n                this.data.end = _.isDate(this.end) ? this.end\r\n                    : this.getDateJSON(this.end);\r\n            }\r\n        }\r\n\r\n        private toBoolean(value): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n    }\r\n\r\n    const TimeRangeComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeBindings,\r\n        templateUrl: 'time_range/TimeRange.html',\r\n        controller: TimeRangeController\r\n    }\r\n\r\n    angular.module('pipTimeRange', [])\r\n        .component('pipTimeRange', TimeRangeComponent);\r\n\r\n})();\r\n","export const IntervalTimeRange = 30;\r\nexport const MinutesInHour = 60;\r\nexport const HoursInDay = 24;\r\nexport const MillisecondsInSecond = 1000;\r\n\r\n{\r\n    class TimeRangeEditData {\r\n        endTime: number;\r\n        startTime: number;\r\n        startDate: Date;\r\n        endDate: Date;\r\n        duration: number;\r\n        bind: boolean = false;\r\n    }\r\n\r\n\r\n    interface ITimeRangeEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipStartDate: any,\r\n        pipChanged: any,\r\n        pipEndDate: any,\r\n        pipStartLabel: any,\r\n        pipEndLabel: any,\r\n        disabled: any,\r\n        pipHideTime: any,\r\n        pipSize: any\r\n    }\r\n\r\n    const TimeRangeEditBindings: ITimeRangeEditBindings = {\r\n        pipStartDate: '<',\r\n        pipChanged: '=',\r\n        pipEndDate: '<',\r\n        pipStartLabel: '@',\r\n        pipEndLabel: '@',\r\n        disabled: '&ngDisabled',\r\n        pipHideTime: '=',\r\n        pipSize: '='\r\n    }\r\n\r\n    class TimeRangeEditChanges implements ng.IOnChangesObject, ITimeRangeEditBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        pipStartDate: ng.IChangesObject<any>;\r\n        pipChanged: ng.IChangesObject<(start: Date, end: Date) => void>\r\n        pipEndDate: ng.IChangesObject<any>;\r\n        pipStartLabel: ng.IChangesObject<string>;\r\n        pipEndLabel: ng.IChangesObject<string>;\r\n        disabled: ng.IChangesObject<() => void>;\r\n        pipHideTime: ng.IChangesObject<boolean>;\r\n        pipSize: ng.IChangesObject<any>;\r\n    }\r\n\r\n\r\n    class TimeRangeEditController {\r\n        public startLabel: string = 'Start time';\r\n        public endLabel: string = 'End time';\r\n        public pipStartLabel: string;\r\n        public pipEndLabel: string;\r\n\r\n        public pipEndDate: any;\r\n        public pipStartDate: any;\r\n        public pipHideTime: boolean;\r\n        public pipSize;\r\n        public showTime: boolean;\r\n        public data: TimeRangeEditData;\r\n        public intervalTimeCollection: any;\r\n        public disabled: () => boolean;\r\n\r\n        public pipChanged: (start: Date, end: Date) => void;\r\n\r\n        constructor(\r\n            private $injector: angular.auto.IInjectorService,\r\n            private pipDateConvert,\r\n            private $scope: ng.IScope,\r\n            $element: JQuery) {\r\n            \"ngInject\";\r\n\r\n            this.translate();\r\n            this.intervalTimeCollection = this.getTimeInterval();\r\n            this.data = new TimeRangeEditData();\r\n            this.initDate();\r\n            this.defineDate();\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-range-edit');\r\n        }\r\n\r\n        public $onChanges(changes: TimeRangeEditChanges) {\r\n            if (changes.pipStartDate && changes.pipStartDate.currentValue) {\r\n                this.pipStartDate = changes.pipStartDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n            if (changes.pipEndDate && changes.pipEndDate.currentValue) {\r\n                this.pipEndDate = changes.pipEndDate.currentValue;\r\n                this.initDate();\r\n                this.defineDate();\r\n            }\r\n\r\n        }\r\n\r\n        private translate() {\r\n            let pipTranslate: any = this.$injector.has('pipTranslate') ? this.$injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    EVENT_NEW_START_TIME: 'Start time',\r\n                    EVENT_NEW_END_TIME: 'End time'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    EVENT_NEW_START_TIME: 'Начало',\r\n                    EVENT_NEW_END_TIME: 'Конец'\r\n                });\r\n                this.startLabel = this.pipStartLabel ? pipTranslate.translate(this.pipStartLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n                this.endLabel = this.pipEndLabel ? pipTranslate.translate(this.pipEndLabel)\r\n                    : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            }\r\n        }\r\n\r\n        private getDateJSON(value: any): Date {\r\n            return value ? new Date(value) : null;\r\n        }\r\n\r\n        private setDuration() {\r\n            let start, end;\r\n\r\n            if (!this.data.startDate || !this.data.endDate) {\r\n                return null;\r\n            }\r\n\r\n            start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n            return end - start;\r\n        }\r\n\r\n        private validateStartDate() {\r\n            let date: Date = new Date(), start: Date = new Date(), end: Date = new Date(), endTime: number, startTime: number;\r\n            // если начальная дата не задана, обнуляем и выходим\r\n            if (!this.data.startDate || _.isNull(this.data.startDate) || !this.data) {\r\n                this.data.startTime = null;\r\n                this.data.startDate = null;\r\n                return;\r\n            }\r\n\r\n            // еcли не задано начальное время - задаем его\r\n            if (_.isUndefined(this.data.startTime) || _.isNull(this.data.startTime)) {\r\n                if (!this.data || !this.data.endTime) {\r\n                    date = new Date();\r\n                    startTime = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.startTime = Math.floor(startTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.startTime = this.data.endTime === 0 ? 0 : this.data.endTime - IntervalTimeRange;\r\n                }\r\n            }\r\n\r\n            if (this.data && this.data.startDate) {\r\n                start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n\r\n                // Если есть длительность, то сохраняем ее. Длительность можно изменить только изменяя конечную дату\r\n                if (this.data.duration) {\r\n                    end = new Date(start.getTime() + this.data.duration);\r\n                    this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                    endTime = end.getTime() - this.data.endDate.getTime();\r\n                    this.data.endTime = Math.floor(endTime / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    // Если нет длительности сравниваем даты\r\n                    end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n                    if (start >= end) {\r\n                        // Если начальная дата больше, то двигаем конечную дату\r\n                        this.data.endDate = this.pipDateConvert.toStartDay(new Date(start.getTime() + (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)));\r\n                        this.data.endTime = (this.data.startTime + IntervalTimeRange) % (HoursInDay * MinutesInHour); // минут в сутках\r\n                    }\r\n                }\r\n\r\n                this.data.startTime = Math.round(this.data.startTime / IntervalTimeRange) * IntervalTimeRange;\r\n            }\r\n\r\n        }\r\n\r\n\r\n        private validateEndDate() {\r\n            let date: any = new Date(), start: Date = new Date(), end: Date = new Date();\r\n\r\n            if (!this.data.endDate) {\r\n                this.data.endTime = null;\r\n                this.data.endDate = null;\r\n                return;\r\n            }\r\n\r\n            // еcли не задано конечное время - задаем его\r\n            if (_.isUndefined(this.data.endTime) || _.isNull(this.data.endTime)) {\r\n                if (!this.data.startTime) {\r\n                    date = new Date();\r\n                    date = date.getTime() - this.pipDateConvert.toStartDay(date);\r\n                    this.data.endTime = Math.floor(date / (IntervalTimeRange * MinutesInHour * MillisecondsInSecond)) * IntervalTimeRange;\r\n                } else {\r\n                    this.data.endTime = this.data.startTime === (HoursInDay * MinutesInHour - IntervalTimeRange) ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.startTime + IntervalTimeRange;\r\n                }\r\n            }\r\n            if (this.data.startDate && this.data.startTime) {\r\n                start = new Date(this.data.startDate.getTime() + this.data.startTime * MinutesInHour * MillisecondsInSecond);\r\n            }\r\n            if (this.data.endDate && this.data.endTime) {\r\n                end = new Date(this.data.endDate.getTime() + this.data.endTime * MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            if (start >= end) {\r\n                // Если начальная дата больше, то двигаем начальную дату\r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date(end.getTime() - IntervalTimeRange * MinutesInHour * MillisecondsInSecond));\r\n                this.data.startTime = this.data.endTime % (HoursInDay * MinutesInHour) === 0 ? (HoursInDay * MinutesInHour - IntervalTimeRange) : this.data.endTime - IntervalTimeRange;\r\n            }\r\n\r\n            this.data.endTime = Math.round(this.data.endTime / IntervalTimeRange) * IntervalTimeRange;\r\n            this.data.duration = this.setDuration();\r\n        }\r\n\r\n        private setDate() {\r\n            let time: number;\r\n\r\n            if (!this.data) this.data = new TimeRangeEditData();\r\n            this.data.bind = false;\r\n\r\n            if (this.data.startDate) {\r\n                time = this.data.startTime ? this.data.startTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipStartDate = new Date(this.data.startDate.getTime() + time);\r\n            }\r\n\r\n            if (this.data.endDate) {\r\n                time = this.data.endTime ? this.data.endTime * MinutesInHour * MillisecondsInSecond : 0;\r\n                this.pipEndDate = new Date(this.data.endDate.getTime() + time);\r\n            }\r\n\r\n            this.data.bind = true;\r\n        }\r\n\r\n        private defineDate() {\r\n            let start: Date, end: Date;\r\n            if (this.pipStartDate !== null && this.pipStartDate !== undefined) {\r\n                start = _.isDate(this.pipStartDate) ? this.pipStartDate : null;\r\n\r\n                if (!start) {\r\n                    start = this.getDateJSON(this.pipStartDate);\r\n                }\r\n\r\n                this.data.startDate = this.pipDateConvert.toStartDay(start);\r\n                this.data.startTime = (<any>new Date(start) - <any>this.data.startDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            if (this.pipEndDate !== null && this.pipEndDate !== undefined) {\r\n                end = _.isDate(this.pipEndDate) ? this.pipEndDate : null;\r\n\r\n                if (!end) {\r\n                    end = this.getDateJSON(this.pipEndDate);\r\n                }\r\n\r\n                this.data.endDate = this.pipDateConvert.toStartDay(end);\r\n                this.data.endTime = (<any>new Date(end) - <any>this.data.endDate) / (MinutesInHour * MillisecondsInSecond);\r\n            }\r\n\r\n            this.validateStartDate();\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n        }\r\n\r\n        private getTimeInterval() {\r\n            let result, minutes: number;\r\n\r\n            result = [];\r\n            for (let i: number = 0; i < 24; i++) {\r\n                for (let j: number = 0; j < 2; j++) {\r\n                    minutes = j * IntervalTimeRange;\r\n                    result.push({\r\n                        id: i * MinutesInHour + minutes,\r\n                        time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\r\n                    });\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        private toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        private initDate() {\r\n            this.data.startDate = null;\r\n            this.data.startTime = null;\r\n            this.data.endDate = null;\r\n            this.data.endTime = null;\r\n            this.data.duration = null;\r\n            this.showTime = !this.toBoolean(this.pipHideTime);\r\n        }\r\n\r\n        public onChangeStartDate(newV) {\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndDate() {\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeStartTime() {\r\n            if (!this.data.startDate) {\r\n                this.data.startDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n            this.validateStartDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public onChangeEndTime() {\r\n            if (!this.data.endDate) {\r\n                this.data.endDate = this.pipDateConvert.toStartDay(new Date());\r\n            }\r\n\r\n            this.validateEndDate();\r\n            this.data.duration = this.setDuration();\r\n            this.setDate();\r\n            this.pipChanged(this.pipStartDate, this.pipEndDate);\r\n        };\r\n\r\n        public isDisabled() {\r\n            if (this.disabled) {\r\n                return this.disabled();\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n    }\r\n\r\n    const TimeRangeEditComponent: ng.IComponentOptions = {\r\n        bindings: TimeRangeEditBindings,\r\n        templateUrl: 'time_range_edit/TimeRangeEdit.html',\r\n        controller: TimeRangeEditController\r\n    };\r\n    angular.module('pipTimeRangeEdit', [])\r\n        .component('pipTimeRangeEdit', TimeRangeEditComponent)\r\n\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date/Date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.day\" placeholder=\"{{$ctrl.dayLabel}}\" ng-change=\"$ctrl.setValue()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.month\" placeholder=\"{{$ctrl.monthLabel}}\" ng-change=\"$ctrl.onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"$ctrl.disableControls\" ng-model=\"$ctrl.year\" placeholder=\"{{$ctrl.yearLabel}}\" ng-change=\"$ctrl.onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range/DateRange.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"$ctrl.isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onDayClick()\" ng-model=\"$ctrl.day\" ng-change=\"$ctrl.setValue()\" placeholder=\"{{$ctrl.dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.days track by opt\">{{$ctrl.nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" ng-model=\"$ctrl.week\" ng-change=\"$ctrl.onWeekChange()\" placeholder=\"{{$ctrl.weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isDay() || $ctrl.isWeek()\"></div><md-input-container ng-show=\"$ctrl.isMonth() && !$ctrl.monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"$ctrl.isMonth() && $ctrl.monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onMonthClick()\" ng-model=\"$ctrl.month\" ng-change=\"$ctrl.onMonthChanged()\" placeholder=\"{{$ctrl.monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $ctrl.$mdMedia(\\'gt-xs\\'), \\'space8\\': $ctrl.$mdMedia(\\'xs\\')}\" ng-show=\"$ctrl.isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $ctrl.$mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : $ctrl.pipNoLine}\" ng-disable=\"{{$ctrl.disableControls}}\" md-on-open=\"$ctrl.onYearClick()\" ng-model=\"$ctrl.year\" ng-change=\"$ctrl.onYearChanged()\" placeholder=\"{{$ctrl.yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in $ctrl.years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range/TimeRange.html',\n    '<p><span ng-if=\"$ctrl.data.start != null\">{{$ctrl.data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"$ctrl.data.start && $ctrl.data.end\">-</span> <span ng-if=\"$ctrl.data.end != null\">{{$ctrl.data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit/TimeRangeEdit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"$ctrl.data.startDate\" xmd-placeholder=\"{{$ctrl.startLabel}}\" ng-change=\"$ctrl.onChangeStartDate()\" ng-disabled=\"$ctrl.isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"$ctrl.data.startTime\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeStartTime($ctrl.data.startTime)\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{$ctrl.endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"$ctrl.data.endDate\" xmd-placeholder=\"{{$ctrl.endLabel}}\" ng-disabled=\"$ctrl.isDisabled()\" ng-change=\"$ctrl.onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"$ctrl.showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"$ctrl.data.endTime\" ng-change=\"$ctrl.onChangeEndTime()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\n\r\nclass ConfirmationDialogController extends  ConfirmationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this._injector = $injector;\r\n\r\n        this.initTranslate();\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_TITLE': 'Confirm' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_TITLE': 'Подтвердите'});\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_OK': 'Ok' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_OK': 'Принять'});\r\n            pipTranslate.translations('en', { 'DIALOG_CONFIRM_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_CONFIRM_CANCEL': 'Отменить'});\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_CONFIRM_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_CONFIRM_OK');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_CONFIRM_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Confirm';\r\n            this.ok = this.ok || 'OK';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","export class ConfirmationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Cancel button caption\r\n    public cancel?: string;\r\n}\r\n","import { ConfirmationDialogParams } from './ConfirmationDialogParams';\r\nimport { IConfirmationDialogService } from './IConfirmationDialogService';\r\n\r\nclass ConfirmationDialogService implements IConfirmationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params: ConfirmationDialogParams, successCallback?: () => void, cancelCallback?: () => void) {\r\n        this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'confirmation/ConfirmationDialog.html',\r\n            controller: 'pipConfirmationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n        })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipConfirmationDialog')\r\n    .service('pipConfirmationDialog', ConfirmationDialogService);","angular\r\n    .module('pipConfirmationDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ConfirmationDialogParams';\r\nimport './ConfirmationDialogController';\r\nimport './IConfirmationDialogService';\r\nimport './ConfirmationDialogService';\r\n\r\nexport * from './IConfirmationDialogService';\r\n","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\n\r\nclass ErrorDialogStrings {\r\n    public errorDetails: string = 'Error details';\r\n    public errorMessage: string = 'Message';\r\n    public errorCode: string = 'Code';\r\n    public errorMethod: string = 'Method';\r\n    public errorPath: string = 'Path';\r\n    public errorText: string = 'Error';   \r\n}\r\n\r\nclass ErrorDetailsDialogController extends ErrorDetailsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: ng.material.IDialogService;\r\n    public theme: string;\r\n    public strings: ErrorDialogStrings;\r\n\r\n    constructor(\r\n        $mdDialog: ng.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n        \r\n        super();\r\n\r\n        this.strings = new ErrorDialogStrings();\r\n        this._injector = $injector;\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n\r\n        this.initTranslate();\r\n\r\n        if (!this.error) {\r\n            this.error = '<none>';             \r\n        }\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', {\r\n                'OK': 'Ok',\r\n                'CANCEL': 'Cancel',\r\n                'ERROR_DETAILS': 'Error details',\r\n                'ERROR_CODE': 'Error code',\r\n                'ERROR_PATH': 'Path',\r\n                'ERROR_ERROR': 'Error',\r\n                'ERROR_METHOD': 'Method',\r\n                'ERROR_MESSAGE': 'Message',\r\n                'ERROR_DISMISS': 'Dismiss'\r\n            });\r\n            pipTranslate.translations('ru', {\r\n                'OK': 'Ок',\r\n                'CANCEL': 'Отмена',\r\n                'ERROR_DETAILS': 'Детали ошибки',\r\n                'ERROR_CODE': 'Код ошибки',\r\n                'ERROR_PATH': 'Путь',\r\n                'ERROR_ERROR': 'Ошибка',\r\n                'ERROR_METHOD': 'Метод',\r\n                'ERROR_MESSAGE': 'Сообщение'\r\n            });\r\n            this.dismissButton = pipTranslate.translate(this.dismissButton) || pipTranslate.translate('ERROR_DISMISS');\r\n\r\n            this.strings.errorDetails = pipTranslate.translate('ERROR_DETAILS');\r\n            this.strings.errorMessage = pipTranslate.translate('ERROR_MESSAGE');\r\n            this.strings.errorCode = pipTranslate.translate('ERROR_CODE');\r\n            this.strings.errorMethod = pipTranslate.translate('ERROR_METHOD');\r\n            this.strings.errorPath = pipTranslate.translate('ERROR_PATH');\r\n            this.strings.errorText = pipTranslate.translate('ERROR_ERROR');\r\n        } else {\r\n            this.dismissButton = this.dismissButton || 'Dismiss';\r\n        }\r\n    }\r\n    \r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public isString(error): boolean {\r\n        return _.isString(error);\r\n    }\r\n\r\n    public getErrorText(): string {\r\n        let error: string;\r\n\r\n        if (_.isString(this.error)) { \r\n            return this.error\r\n        } \r\n        if (this.error && this.error.error) {\r\n            return this.error.error.toString();\r\n        }\r\n        if (this.error && this.error.data && this.error.data.error) {\r\n            return this.error.data.error.toString();\r\n        }\r\n        \r\n        return '<none>';\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","export class ErrorDetailsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Close button label\r\n    public dismissButton?: string;\r\n    // Error object or string\r\n    public error: any;\r\n}","import { ErrorDetailsDialogParams } from './ErrorDetailsDialogParams';\r\nimport { IErrorDetailsDialogService } from './IErrorDetailsDialogService';\r\n\r\nclass ErrorDetailsDialogService implements IErrorDetailsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    \r\n    public show(params: ErrorDetailsDialogParams, \r\n        successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'error_details/ErrorDetailsDialog.html',\r\n            controller: 'pipErrorDetailsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params, \r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(() => {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipErrorDetailsDialog')\r\n    .service('pipErrorDetailsDialog', ErrorDetailsDialogService);","angular\r\n    .module('pipErrorDetailsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './ErrorDetailsDialogParams';\r\nimport './ErrorDetailsDialogService';\r\nimport './ErrorDetailsDialogController';\r\n\r\nexport * from './ErrorDetailsDialogParams';\r\nexport * from './IErrorDetailsDialogService';","import { InformationDialogParams } from './InformationDialogParams';\r\n\r\nclass InformationDialogController extends InformationDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public content: string;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();        \r\n        this._injector = $injector;\r\n\r\n        this.initTranslate()\r\n\r\n        this.$mdDialog = $mdDialog;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        let content: string = this.message;\r\n        let item: string;\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': 'Информация' });\r\n            pipTranslate.translations('en', { 'INFORMATION_OK': 'Ok'});\r\n            pipTranslate.translations('ru', { 'INFORMATION_OK': 'Ок' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('INFORMATION_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('INFORMATION_OK');\r\n            content = pipTranslate.translate(content);\r\n        } else {\r\n            this.title = this.title || 'Information';\r\n            this.ok = this.ok || 'OK';\r\n        }\r\n\r\n        let pipFormat: pip.services.IFormat = this._injector.has('pipFormat') \r\n            ? <pip.services.IFormat>this._injector.get('pipFormat') : null;\r\n\r\n        if (this.item && pipFormat) {\r\n            // item = _.truncate(params.item, 25);\r\n            content = pipFormat.sprintf(content, item);\r\n        }\r\n\r\n        this.content = content;        \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .controller('pipInformationDialogController', InformationDialogController);","export class InformationDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Confirm button caption\r\n    public ok?: string;\r\n    // Dialog title\r\n    public title?: string; \r\n    // Dialog messag. You can use formatting options (%s, %d etc.). \r\n    public message: string;\r\n    // Paramentrs for message string\r\n    public item?: any;\r\n}","import { InformationDialogParams } from './InformationDialogParams';\r\nimport { IInformationDialogService } from './IInformationDialogService';\r\n\r\nclass InformationDialogService implements IInformationDialogService {\r\n    private _mdDialog: angular.material.IDialogService;\r\n    \r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n\r\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'information/InformationDialog.html',\r\n            controller: 'pipInformationDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then(function () {\r\n            if (successCallback) {\r\n                successCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipInformationDialog')\r\n    .service('pipInformationDialog', InformationDialogService);","angular\r\n    .module('pipInformationDialog', [\r\n        'ngMaterial',\r\n        'pipDialogs.Translate', \r\n        'pipDialogs.Templates']);\r\n\r\nimport './InformationDialogParams';\r\nimport './InformationDialogController';\r\nimport './InformationDialogService';\r\n\r\n\r\nexport * from './IInformationDialogService';\r\nexport * from './InformationDialogParams';\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\nimport { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\n\r\nclass OptionsDialogController extends OptionsDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    public $mdDialog: angular.material.IDialogService;\r\n    public theme: string;\r\n    public optionIndex: number;\r\n    \r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService,\r\n        $rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n        this.options = this.options || [];\r\n\r\n        this.initTranslate();\r\n\r\n        this.selectedOption = _.find(this.options, { active: true }) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_TITLE': 'Выберите опцию' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_SELECT': 'Select' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_SELECT': 'Выбрать' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_CANCEL': 'Отменить' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_OPTIONS_SELECT');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_OPTIONS_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }\r\n\r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n    }\r\n\r\n    public onKeyPress(event: JQueryKeyEventObject) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelect() {\r\n        let option: OptionsDialogData;\r\n        option = _.find(this.options, { name: this.selectedOptionName });\r\n\r\n        this.$mdDialog.hide({ option: option, isCheckboxOption: this.isCheckboxOption });\r\n    }\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .controller('pipOptionsDialogController', OptionsDialogController);","\r\nexport class OptionsDialogData {\r\n    public icon: string = 'star';\r\n    public name: string;\r\n    public title: string;\r\n    public active: boolean = true; \r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;\r\n    // Dialog title \r\n    public title?: string;\r\n    // confirm button title\r\n    public ok?: string;\r\n    // cancel button title\r\n    public cancel?: string;\r\n    // Dialog options array\r\n    public options?: OptionsDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;\r\n    // Value for checkbox option\r\n    public isCheckboxOption?: boolean;\r\n    // Checkbox caption, Checkbox visible if caption is set\r\n    public checkboxOptionCaption?: string;\r\n}\r\n","import { OptionsDialogData } from './OptionsDialogData';\r\n\r\nexport class OptionsDialogResult {\r\n    public option: OptionsDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsDialogParams } from './OptionsDialogParams';\r\nimport { OptionsDialogResult } from './OptionsDialogResult';\r\nimport { IOptionsDialogService } from './IOptionsDialogService';\r\n\r\nclass OptionsDialogService implements IOptionsDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    public constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public  show(params: OptionsDialogParams, \r\n        successCallback?: (result: OptionsDialogResult) => void, \r\n        cancelCallback?: () => void): any {\r\n        \r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options/OptionsDialog.html',\r\n            controller: 'pipOptionsDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,\r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n                \r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsDialog')\r\n    .service('pipOptionsDialog', OptionsDialogService);","angular\r\n    .module('pipOptionsDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsDialogData';\r\nimport './OptionsDialogParams';\r\nimport './OptionsDialogResult';\r\nimport './OptionsDialogController';\r\nimport './OptionsDialogService';\r\n\r\n\r\nexport * from './OptionsDialogData';\r\nexport * from './OptionsDialogParams';\r\nexport * from './OptionsDialogResult';\r\nexport * from './OptionsDialogService';\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nclass OptionsBigDialogController extends OptionsBigDialogParams {\r\n    private _injector: ng.auto.IInjectorService;\r\n    private $mdDialog: angular.material.IDialogService;\r\n\r\n    public theme: string;\r\n    public optionIndex: number;\r\n\r\n    constructor(\r\n        $mdDialog: angular.material.IDialogService,\r\n        $injector: ng.auto.IInjectorService, \r\n        $rootScope: ng.IRootScopeService) \r\n    {\r\n        \"ngInject\";\r\n\r\n        super();\r\n        this.$mdDialog = $mdDialog;\r\n        this._injector = $injector;\r\n        this.theme = $rootScope[pip.themes.ThemeRootVar];\r\n\r\n        this.initTranslate()\r\n\r\n        this.selectedOption = _.find(this.options, {active: true}) || null;\r\n        let name: string = this.selectedOption ? this.selectedOption.name : this.selectedOptionName;\r\n        let index: number = _.findIndex(this.options, (opt: OptionsBigDialogData) => {\r\n            return opt.name == name;\r\n        });\r\n        this.optionIndex = index == -1 ? 0 : index;\r\n        this.selectedOption = this.options[this.optionIndex];\r\n        this.selectedOptionName = this.selectedOption.name;\r\n\r\n        setTimeout(this.focusInput, 500);\r\n    }\r\n\r\n    private initTranslate(): void {\r\n        let pipTranslate: pip.services.ITranslateService;\r\n        pipTranslate = this._injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>this._injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_TITLE': 'Choose Option' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_TITLE': 'Выберите опцию' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_SELECT': 'Select' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_SELECT': 'Выбрать' });\r\n            pipTranslate.translations('en', { 'DIALOG_OPTIONS_CANCEL': 'Cancel' });\r\n            pipTranslate.translations('ru', { 'DIALOG_OPTIONS_CANCEL': 'Отменить' });\r\n\r\n            this.title = pipTranslate.translate(this.title) || pipTranslate.translate('DIALOG_OPTIONS_TITLE');\r\n            this.ok = pipTranslate.translate(this.ok) || pipTranslate.translate('DIALOG_OPTIONS_SELECT');\r\n            this.cancel = pipTranslate.translate(this.cancel) || ('DIALOG_OPTIONS_CANCEL');\r\n        } else {\r\n            this.title = this.title || 'Choose Option';\r\n            this.ok = this.ok || 'Select';\r\n            this.cancel = this.cancel || 'Cancel';\r\n        }      \r\n    }\r\n\r\n    public onOk(): void {\r\n        this.$mdDialog.hide();\r\n    }\r\n\r\n    public onCancel(): void {\r\n        this.$mdDialog.cancel();\r\n    }\r\n\r\n    public onOptionSelect(event: ng.IAngularEvent, option: OptionsBigDialogData) {\r\n        event.stopPropagation();\r\n        this.selectedOptionName = option.name;\r\n\r\n        if (this.noActions) {\r\n            this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onSelected() {\r\n        this.selectedOptionName = this.options[this.optionIndex].name;\r\n\r\n        if (this.noActions) {\r\n               this.onSelect();\r\n        }\r\n    }\r\n\r\n    public onKeyUp(event: JQueryKeyEventObject, index: number) {\r\n        if (event.keyCode === 32 || event.keyCode === 13) {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            if (index !== undefined && index > -1 && index < this.options.length) {\r\n                this.selectedOptionName = this.options[index].name;\r\n                this.onSelect();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public onSelect = function () {\r\n        let option: OptionsBigDialogData;\r\n        option = <OptionsBigDialogData>_.find(this.options, { name: this.selectedOptionName }) || new OptionsBigDialogData();\r\n        this.$mdDialog.hide({ option: option });\r\n    };\r\n\r\n    private focusInput() {\r\n        let list;\r\n        list = $('.pip-options-dialog .pip-list');\r\n        list.focus();\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);\r\n","export class OptionsBigDialogData {\r\n    public name: string;\r\n    public title: string;\r\n    public subtitle: string;\r\n}\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogParams {\r\n    // Mouse event\r\n    public event?: MouseEvent;   \r\n    // Dialog title \r\n    public title?: string;  \r\n    // confirm button title\r\n    public ok?: string;\r\n    // cancel button title\r\n    public cancel?: string;\r\n    // Dialog options array\r\n    public options?: OptionsBigDialogData[];\r\n    // Selected option by default\r\n    public selectedOption?: OptionsBigDialogData;\r\n    // Selected Option Name\r\n    public selectedOptionName?: string;    \r\n    // Dialog hint title\r\n    public hint?: string;\r\n    // Show title\r\n    public noTitle;\r\n    // Show action button\r\n    public noActions;\r\n}\r\n\r\n","import { OptionsBigDialogData } from './OptionsBigDialogData';\r\n\r\nexport class OptionsBigDialogResult {\r\n    public option: OptionsBigDialogData;\r\n    public isCheckboxOption: boolean;\r\n}\r\n","import { OptionsBigDialogParams } from './OptionsBigDialogParams';\r\nimport { OptionsBigDialogResult } from './OptionsBigDialogResult';\r\nimport { IOptionsBigDialogService } from './IOptionsBigDialogService';\r\n\r\nclass OptionsBigDialogService implements IOptionsBigDialogService {\r\n    public _mdDialog: angular.material.IDialogService;\r\n    constructor($mdDialog: angular.material.IDialogService) {\r\n        this._mdDialog = $mdDialog;\r\n    }\r\n    public show(params, successCallback?: (result: OptionsBigDialogResult) => void, cancelCallback?: () => void): any {\r\n         this._mdDialog.show({\r\n            targetEvent: params.event,\r\n            templateUrl: 'options_big/OptionsBigDialog.html',\r\n            controller: 'pipOptionsBigDialogController',\r\n            controllerAs: '$ctrl',\r\n            locals: params,\r\n            bindToController: true,        \r\n            clickOutsideToClose: true\r\n         })\r\n        .then((result: OptionsBigDialogResult) => {\r\n            if (successCallback) {\r\n                successCallback(result);\r\n            }\r\n        }, \r\n        () => {\r\n            if (cancelCallback) {\r\n                cancelCallback();\r\n            }\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nangular\r\n    .module('pipOptionsBigDialog')\r\n    .service('pipOptionsBigDialog', OptionsBigDialogService);","angular\r\n    .module('pipOptionsBigDialog', [\r\n        'ngMaterial', \r\n        'pipDialogs.Translate',\r\n        'pipDialogs.Templates']);\r\n\r\nimport './OptionsBigDialogParams';\r\nimport './OptionsBigDialogData';\r\nimport './OptionsBigDialogResult';\r\nimport './OptionsBigDialogController';\r\nimport './OptionsBigDialogService';\r\n\r\n\r\nexport * from './OptionsBigDialogParams';\r\nexport * from './OptionsBigDialogData';\r\nexport * from './OptionsBigDialogResult';\r\nexport * from './IOptionsBigDialogService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{ ::$ctrl.theme }}\"><div class=\"pip-header\"><h3>{{ :: $ctrl.title }}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"$ctrl.onCancel()\">{{ :: $ctrl.cancel }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ :: $ctrl.ok }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetailsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{ ::$ctrl.strings.errorDetails | translate }}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ ::$ctrl.strings.errorCode | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.code || ($ctrl.error.data && $ctrl.error.data.code)\">{{ $ctrl.error.code || $ctrl.error.data.code }}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ ::$ctrl.strings.errorPath | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.path || ($ctrl.error.data && $ctrl.error.data.path)\">{{ $ctrl.error.path || $ctrl.error.data.path }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.isString($ctrl.error) || $ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ ::$ctrl.strings.errorText | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.error || ($ctrl.error.data && $ctrl.error.data.error)\">{{ $ctrl.getErrorText() }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ ::$ctrl.strings.errorMethod | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.method || ($ctrl.error.data && $ctrl.error.data.method)\">{{ $ctrl.error.method || $ctrl.error.data.method }}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ ::$ctrl.strings.errorMessage | translate }}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"$ctrl.error.message || ($ctrl.error.data && $ctrl.error.data.message)\">{{ $ctrl.error.message || $ctrl.error.data.message }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"$ctrl.onOk()\">{{ ::$ctrl.dismissButton | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><div class=\"pip-header\"><h3>{{:: $ctrl.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ $ctrl.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onOk()\">{{ $ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.checkboxOptionCaption\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"$ctrl.isCheckboxOption\" aria-label=\"CHECKBOX\">{{ ::$ctrl.checkboxOptionCaption | translate }}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"$ctrl.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"$ctrl.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in $ctrl.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'$ctrl.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == $ctrl.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{ option.icon }}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{ ::option.title | translate }}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{ ::option.title | translate }}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::$ctrl.cancel | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options_big/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !$ctrl.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': $ctrl.noTitle && $ctrl.hint}\"><h3 class=\"m0\" ng-if=\"!$ctrl.noTitle\">{{ ::$ctrl.title | translate }}</h3><div ng-show=\"$ctrl.noTitle && $ctrl.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{ ::$ctrl.hint | translate }}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"$ctrl.optionIndex\" index=\"{{ $ctrl.optionIndex }}\" pip-select=\"$ctrl.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == $ctrl.selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"$ctrl.onKeyUp($event, $index)\" ng-repeat=\"option in $ctrl.options\"><div class=\"pip-content content-stretch\" ng-click=\"$ctrl.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{ ::option.title | translate }}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{ ::option.subtitle | translate }}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"$ctrl.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!$ctrl.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"$ctrl.onCancel()\">{{ ::$ctrl.cancel | translate }}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"$ctrl.onSelect()\" style=\"margin-right: -6px\">{{ ::$ctrl.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","import { ActionsConfig } from './IActionsService';\r\nimport { ActionItem } from './IActionsService';\r\nimport { ActionsChangedEvent } from './IActionsService';\r\nimport { SecondaryActionsOpenEvent } from './IActionsService';\r\nimport { IActionsService } from './IActionsService';\r\nimport { IActionsProvider } from './IActionsService';\r\n\r\n\r\nclass ActionsService implements IActionsService {\r\n    private _config: ActionsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: ActionsConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\r\n        this._config.primaryLocalActions = primaryActions || [];\r\n        this._config.secondaryLocalActions = secondaryActions || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.primaryLocalActions = [];\r\n        this._config.secondaryLocalActions = [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(action: string, count: number) {\r\n        if (action == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\r\n    }\r\n\r\n    public openMenuEvent(): void {\r\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\r\n    }\r\n}\r\n\r\nclass ActionsProvider implements IActionsProvider {\r\n    private _config: ActionsConfig = new ActionsConfig();\r\n    private _service: ActionsService;\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ActionsConfig) {\r\n        this._config = value || new ActionsConfig();\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ActionsService(this._config, $rootScope);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipActions')\r\n    .provider('pipActions', ActionsProvider);\r\n\r\n","export const ActionsChangedEvent: string = 'pipActionsChanged';\r\nexport const SecondaryActionsOpenEvent: string = 'pipSecondaryActionsOpen';\r\n\r\nexport class SimpleActionItem {\r\n    // Name to refer to the item\r\n    public name: string;\r\n    // Link visible title\r\n    public title?: string;\r\n    // Show divider instead of title\r\n    public divider?: boolean;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Counter badge\r\n    public count?: number;\r\n    // Access function\r\n    public access?: (action: SimpleActionItem) => boolean;\r\n    // Show on specified breakpoints\r\n    public breakpoints?: string[];\r\n    // window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public click?: (action: SimpleActionItem) => void;\r\n}\r\n\r\nexport class ActionItem extends SimpleActionItem {\r\n    public subActions?: SimpleActionItem[];\r\n}\r\n\r\nexport class ActionsConfig {\r\n    // Primary global actions visible on the screen\r\n    public primaryGlobalActions: ActionItem[] = [];\r\n    // Primary local actions visible on the screen\r\n    public primaryLocalActions: ActionItem[] = [];\r\n\r\n    // Secondary global actions available in popup\r\n    public secondaryGlobalActions: ActionItem[] = [];\r\n    // Secondary local actions available in popup\r\n    public secondaryLocalActions: ActionItem[]= [];\r\n}\r\n\r\nexport interface IActionsService {\r\n    readonly config: ActionsConfig;\r\n\r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n\r\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\r\n    hide(): void;\r\n    updateCount(link: string, count: number): void; \r\n    clearCounts(): void;\r\n    openMenuEvent(): void;\r\n}\r\n\r\nexport interface IActionsProvider extends ng.IServiceProvider {\r\n    config: ActionsConfig;\r\n    \r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n}","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass PrimaryActionsController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public config: ActionsConfig;\r\n\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n    public originatorEv: any;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $log: ng.ILogService,\r\n        $attrs: ng.IAttributes\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                DOCUMENTS_ATTACHED: 'document(s) attached',\r\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                DOCUMENTS_ATTACHED: 'документов добавлено',\r\n                ERROR_DOCUMENTS_LOADED: 'Ошибка: <%= error_number %> документ(ов) не загружено'\r\n\r\n            });\r\n        }\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-primary-actions');\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n    }\r\n    \r\n    public $onInit() {\r\n        if (this.localActions) {\r\n            this.pipActions.primaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            this.pipActions.primaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = this.pipActions.config;\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null ;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface IPrimaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any,\r\n    originatorEv: any\r\n}\r\n\r\nconst PrimaryActionsBindings: IPrimaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions',\r\n    originatorEv: '<?pipOriginatorEv'\r\n}\r\n\r\nclass PrimaryActionsChanges implements ng.IOnChangesObject, IPrimaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n    originatorEv: ng.IChangesObject<any>;\r\n}\r\n\r\n\r\n(() => {\r\n    const primaryActions: ng.IComponentOptions = {\r\n        bindings: PrimaryActionsBindings,\r\n        templateUrl: 'actions/PrimaryActions.html',\r\n        controller: PrimaryActionsController\r\n    };\r\n\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipPrimaryActions', primaryActions);\r\n\r\n})();","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass SecondaryActionsController {\r\n    private pipTranslate: pip.services.ITranslateService\r\n    private _menuFn: Function;\r\n    private originatorEv: any;\r\n\r\n    public config: ActionsConfig;\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n\r\n    constructor(\r\n        private $attrs: ng.IAttributes,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $element: ng.IAugmentedJQuery,\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-secondary-actions');\r\n\r\n        if (this.localActions) {\r\n            pipActions.secondaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            pipActions.secondaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = pipActions.config;\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n        this.$rootScope.$on('pipSecondaryActionsOpen', () => {\r\n            this.onActionsMenuOpen();\r\n        });\r\n\r\n    }\r\n\r\n    public getMenu(menuFn: Function): void {\r\n         this._menuFn = menuFn;\r\n    }\r\n\r\n    public onActionsMenuOpen(): void {\r\n        this._menuFn();\r\n    }\r\n\r\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\r\n        this.originatorEv = ev;\r\n        $mdOpenMenu(ev);\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n\r\n    private calcActions(actions: ActionItem[]): number {\r\n        let count: number = 0;\r\n\r\n        _.each(actions, (action: ActionItem) => {\r\n            if (!this.isHidden(action)) {\r\n                count++;\r\n            }\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    public secondaryActionsVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public secondaryDividerVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        // todo: do not supported into ActionItem\r\n        // if (action.close) {\r\n        //     this.$scope.originatorEv = null;\r\n        // }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface ISecondaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any\r\n}\r\n\r\nconst SecondaryActionsBindings: ISecondaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions'\r\n}\r\n\r\nclass SecondaryActionsChanges implements ng.IOnChangesObject, ISecondaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n}\r\n\r\n\r\n(() => {\r\n    const secondaryActions: ng.IComponentOptions = {\r\n        bindings: SecondaryActionsBindings,\r\n        templateUrl: 'actions/SecondaryActions.html',\r\n        controller: SecondaryActionsController\r\n    };\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipSecondaryActions', secondaryActions);\r\n\r\n})();\r\n","angular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\r\n\r\nimport './ActionsService';\r\nimport './PrimaryActions';\r\nimport './SecondaryActions';\r\n\r\nexport * from './IActionsService';","﻿import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarController {\r\n    public config: AppBarConfig;\r\n\r\n    constructor(\r\n        $element: ng.IAugmentedJQuery,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n        // Apply class and call resize\r\n        $element.addClass('pip-appbar');\r\n        $element.addClass('color-primary-bg');\r\n\r\n        this.config = pipAppBar.config;\r\n\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(event, config)\r\n        });\r\n    }\r\n\r\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        this.config = config;\r\n    }\r\n    \r\n}\r\n\r\n{\r\n    const appbar: ng.IComponentOptions = {\r\n        transclude: true,\r\n        templateUrl: 'appbar/AppBar.html',\r\n        controller: AppBarController\r\n    }\r\n\r\n    angular\r\n        .module('pipAppBar')\r\n        .component('pipAppbar', appbar);\r\n\r\n}","export class AppBarConfig {\r\n    visible: boolean;\r\n    parts: any;\r\n    classes: string[];\r\n} ","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarPartController {\r\n    \r\n    private _partName: string;\r\n    private _partValue: string;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $log: ng.ILogService,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._partName = String($attrs['pipAppbarPart']);\r\n        this._partValue = null;\r\n\r\n        // Break part apart\r\n        let pos: number = this._partName.indexOf(':');\r\n        if (pos > 0) {\r\n            this._partValue = this._partName.substr(pos + 1);\r\n            this._partName = this._partName.substr(0, pos);\r\n        }\r\n\r\n        this.onAppBarChanged(null, pipAppBar.config);\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(null, config)\r\n        });\r\n\r\n    }\r\n\r\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        let parts: any = config.parts || {};\r\n        let currentPartValue = parts[this._partName];\r\n\r\n        // Set visible variable to switch ngIf\r\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\r\n\r\n        if (visible != this.$scope['visible'])\r\n            this.$scope['visible'] = visible;\r\n    }\r\n\r\n}\r\n\r\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n(() => {\r\n    function appbarPart(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs['ngIf'] = () => {\r\n                    return $scope['visible'];\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: AppBarPartController\r\n        };\r\n    }\r\n\r\n    angular.module('pipAppBar')\r\n        .directive('pipAppbarPart', appbarPart);\r\n\r\n})();","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService, IAppBarProvider } from './IAppBarService';\r\n\r\nexport const AppBarChangedEvent: string = 'pipAppBarChanged';\r\n\r\nclass AppBarService implements IAppBarService {\r\n    private _config: AppBarConfig;\r\n\r\n    public constructor(config: AppBarConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\r\n        this._config.visible = true;\r\n        this._config.parts = parts || this._config.parts || {};\r\n        this._config.classes = classes || this._config.classes || [];\r\n        if (shadowBreakpoints) {\r\n            this.setShadow(shadowBreakpoints); \r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private hideShadow(): void {\r\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\r\n    }\r\n\r\n    private setShadow(breakpoints: string[]): void {\r\n        this.hideShadow();\r\n\r\n        if (breakpoints != null && breakpoints.length > 0) {\r\n            _.each(breakpoints, (bp) => {\r\n                this._config.classes.push('pip-shadow-' + bp);\r\n            });\r\n        } else {\r\n            this._config.classes.push('pip-shadow');\r\n        }\r\n    }\r\n\r\n    public addShadow(...breakpoints: string[]): void {\r\n        this.setShadow(breakpoints);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeShadow(): void {\r\n        this.hideShadow();\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(AppBarChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AppBarProvider implements IAppBarProvider {\r\n    private _config: AppBarConfig = {\r\n        visible: true,\r\n        parts: {},\r\n        classes: []\r\n    };\r\n    private _service: AppBarService;\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AppBarConfig) {\r\n        this._config = value || new AppBarConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AppBarService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nangular\r\n    .module('pipAppBar')\r\n    .provider('pipAppBar', AppBarProvider);\r\n","angular\r\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './AppBarConfig';\r\nimport './AppBarService';\r\nimport './AppBar';\r\nimport './AppBarPart';\r\n\r\nexport * from './AppBarService';\r\n","import { SimpleActionItem } from '../actions/IActionsService';\r\nimport { BreadcrumbItem } from './BreadcrumbConfig';\r\nimport { BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService } from './IBreadcrumbService';\r\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\r\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\r\nimport { OpenSearchEvent } from '../search/SearchService';\r\n\r\n// interface IBreadcrumbBindings {\r\n//     [key: string]: any;\r\n\r\n//     breakpoint: any;\r\n// }\r\n\r\n// const BreadcrumbBindings: IBreadcrumbBindings = {\r\n//     breakpoint: '<?pipBreakpoint', // string\r\n// }\r\n\r\n// class BreadcrumbChanges implements ng.IOnChangesObject, IBreadcrumbBindings {\r\n//     [key: string]: ng.IChangesObject<any>;\r\n//     // Not one way bindings\r\n//     breakpoint: ng.IChangesObject<string>;\r\n// }\r\n\r\nclass BreadcrumbController {\r\n    private originatorEv: Event;\r\n    private _media: any;\r\n\r\n    public config: BreadcrumbConfig;\r\n    // public breakpoint: string;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private $injector: ng.auto.IInjectorService,\r\n        pipBreadcrumb: IBreadcrumbService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $state: ng.ui.IStateService,\r\n        $element: ng.IAugmentedJQuery,\r\n        private navConstant: any\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\r\n            this.onBreadcrumbChanged(event, config);\r\n        });\r\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\r\n\r\n        if (!this.config.breakpoint) {\r\n            this.config.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n        }\r\n    }\r\n\r\n    // public $onChanges(changes: BreadcrumbChanges) {\r\n\r\n    //     if (!changes.breakpoint) {\r\n    //         if (!this.breakpoint) {\r\n    //             this.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n    //         }\r\n    //     } else {\r\n    //         this.breakpoint = changes.breakpoint.currentValue ? changes.breakpoint.currentValue : this.navConstant.BREADCRUMB_BREAKPOINT\r\n    //     }\r\n    // }\r\n\r\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack(): void {\r\n        let items: BreadcrumbItem[] = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let item: BreadcrumbItem = items[items.length - 1];\r\n            if (_.isFunction(item.click)) {\r\n                item.click(item);\r\n            } else {\r\n                this.$window.history.back();\r\n            }\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n    }\r\n\r\n    public onClick(item: BreadcrumbItem): void {\r\n        if (_.isFunction(item.click)) {\r\n            item.click(item);\r\n        }\r\n    }\r\n\r\n    public openSearch(): void {\r\n        this.$rootScope.$broadcast(OpenSearchEvent);\r\n    }\r\n\r\n    public actionsVisible(item: BreadcrumbItem): boolean {\r\n\r\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\r\n    }\r\n\r\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\r\n        this.originatorEv = event;\r\n        $mdOpenMenu(this.originatorEv);\r\n    }\r\n\r\n    public onSubActionClick(action: SimpleActionItem): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.get('$state') as ng.ui.IStateService\r\n                _state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n            this.originatorEv = null;\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n            this.originatorEv = null;\r\n        }\r\n    }\r\n}\r\n\r\nconst breadcrumb: ng.IComponentOptions = {\r\n    // bindings: BreadcrumbBindings,\r\n    templateUrl: 'breadcrumb/Breadcrumb.html',\r\n    controller: BreadcrumbController\r\n}\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .component('pipBreadcrumb', breadcrumb);","import { SimpleActionItem } from '../actions/IActionsService';\r\nexport class BreadcrumbItem {\r\n    title: string = null;\r\n    click?: (item: BreadcrumbItem) => void = null;   \r\n    subActions?: SimpleActionItem[] = null; \r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n    breakpoint: string;\r\n}\r\n","import { BreadcrumbItem, BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService, IBreadcrumbProvider } from './IBreadcrumbService';\r\n\r\nexport const BreadcrumbChangedEvent: string = \"pipBreadcrumbChanged\";\r\nexport const BreadcrumbBackEvent: string = \"pipBreadcrumbBack\";\r\n\r\nclass BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        config: BreadcrumbConfig\r\n    ) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get breakpoint(): string {\r\n        return this._config.breakpoint;\r\n    }\r\n\r\n    public set breakpoint(value: string) {\r\n        this._config.breakpoint = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showText(text: string, criteria?: string): void {\r\n        this._config.text = text;\r\n        this._config.items = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\r\n        this._config.items = items || [];\r\n        this._config.text = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public sendConfigEvent() {\r\n        this.$rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\n\r\nclass BreadcrumbProvider implements IBreadcrumbProvider, ng.IServiceProvider {\r\n    private _config: BreadcrumbConfig = new BreadcrumbConfig();\r\n    private _service: BreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): IBreadcrumbService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService($rootScope, this._config);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .provider('pipBreadcrumb', BreadcrumbProvider);\r\n","angular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\r\n\r\nimport './Breadcrumb';\r\nimport './BreadcrumbService';\r\n\r\nexport * from './BreadcrumbService';\r\n\r\n\r\n","import { INavService } from './INavService'\r\nimport { INavIconService } from '../icon/INavIconService';\r\nimport { INavMenuService } from '../menu/INavMenuService';\r\nimport { INavHeaderService } from '../header/INavHeaderService';\r\nimport { IBreadcrumbService } from '../breadcrumb/IBreadcrumbService';\r\nimport { ISearchService } from '../search/ISearchService';\r\nimport { IActionsService } from '../actions/IActionsService';\r\nimport { IAppBarService } from '../appbar/IAppBarService';\r\nimport { ISideNavService } from '../sidenav/ISideNavService';\r\n\r\nclass NavService implements INavService {\r\n\r\n    public appbar: IAppBarService;\r\n    public icon: INavIconService;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: IActionsService;\r\n    public search: ISearchService;\r\n    public sidenav: ISideNavService;\r\n    public header: INavHeaderService;\r\n    public menu: INavMenuService;\r\n\r\n    public constructor($injector: ng.auto.IInjectorService) {\r\n        \"ngInject\";\r\n\r\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\r\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\r\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\r\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\r\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\r\n    }\r\n\r\n    public reset() {\r\n        // Reset appbar\r\n        if (this.appbar) {\r\n            this.appbar.show();\r\n        }\r\n\r\n        // Reset icon\r\n        if (this.icon) {\r\n            this.icon.showMenu();\r\n        }\r\n\r\n        // Reset breadcrumb\r\n        if (this.breadcrumb) {\r\n            this.breadcrumb.showText(null);\r\n        }\r\n\r\n        // Reset actions\r\n        if (this.actions) {\r\n            this.actions.show();\r\n        }\r\n\r\n        // Reset search\r\n        if (this.search) {\r\n            this.search.set(null);\r\n        }\r\n\r\n        if (this.sidenav) {\r\n            this.sidenav.show();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavService', [])\r\n    .service('pipNavService', NavService);","{\r\n    class DropdownController {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n\r\n        public themeClass: string;\r\n        public media: any;\r\n        public actions: any[]; // string or array\r\n        public activeIndex: number;\r\n        public selectedIndex: number;\r\n        public currentTheme: string;\r\n\r\n        public ngDisabled: Function;\r\n        public showDropdown: Function;\r\n        public select: any;\r\n        public pipChange: Function;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            $element: ng.IAugmentedJQuery,\r\n            $attrs: ng.IAttributes,\r\n            $injector: ng.auto.IInjectorService,\r\n            $log: ng.ILogService,\r\n            $rootScope: ng.IRootScopeService,\r\n            $mdMedia: angular.material.IMedia,\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\r\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if ($rootScope['$theme']) {\r\n                this.currentTheme = $rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = ($attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\r\n\r\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n            this.media = !_.isUndefined(this._pipMedia) ? this._pipMedia : $mdMedia;\r\n            this.actions = (this.actions && _.isArray(this.actions)) ? this.actions : [];\r\n            this.activeIndex = this.activeIndex || 0;\r\n        }\r\n\r\n        public disabled(): boolean {\r\n            if (this.ngDisabled) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public onSelect(index: number): void {\r\n            this.activeIndex = index;\r\n            if (this.select) {\r\n                this.select(this.actions[index], this.activeIndex);\r\n            }\r\n\r\n            if (this.pipChange) {\r\n                this.$timeout(() => {\r\n                    this.pipChange();\r\n                });\r\n            }\r\n        }\r\n\r\n        public show(): boolean {\r\n            let result: boolean;\r\n            if (this.showDropdown()) {\r\n                return !!this.showDropdown();\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    interface IDropdownBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any,\r\n        actions: any,\r\n        showDropdown: any,\r\n        activeIndex: any,\r\n        select: any,\r\n        pipChange: any\r\n    }\r\n\r\n    const DropdownBindings: IDropdownBindings = {\r\n        ngDisabled: '&',\r\n        actions: '=pipActions',\r\n        showDropdown: '&pipShow',\r\n        activeIndex: '=pipActiveIndex',\r\n        select: '=pipDropdownSelect',\r\n        pipChange: '&'\r\n    }\r\n\r\n    class DropdownChanges implements ng.IOnChangesObject, IDropdownBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        ngDisabled: ng.IChangesObject<Function>;\r\n        actions: ng.IChangesObject<any>;\r\n        showDropdown: ng.IChangesObject<Function>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<any>;\r\n        pipChange: ng.IChangesObject<Function>;\r\n    }\r\n\r\n    const dropdown: ng.IComponentOptions = {\r\n        bindings: DropdownBindings,\r\n        templateUrl: 'dropdown/Dropdown.html',\r\n        controller: DropdownController\r\n    };\r\n\r\n    angular\r\n        .module('pipDropdown', ['pipNav.Templates'])\r\n        .component('pipDropdown', dropdown);\r\n\r\n}","import { INavHeaderService } from \"./INavHeaderService\";\r\nimport { NavHeaderConfig } from \"./NavHeaderConfig\";\r\n\r\n{\r\n    class NavHeaderController {\r\n        private cleanupNavHeaderChanged: Function;\r\n        private cleanupSideNavStateChanged: Function;\r\n\r\n        public title: string;\r\n        public subtitle: string;\r\n        public imageUrl: string = null;\r\n        public imageCss: string;\r\n        public image: any;\r\n        public imageBlock: any;\r\n        public loadedDefaultImage: boolean;\r\n        public showHeader: boolean;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $scope: angular.IScope,\r\n            $log: ng.ILogService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipNavHeader: INavHeaderService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            this.initImage();\r\n\r\n            this.cleanupNavHeaderChanged = $rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\r\n                this.onNavHeaderChanged($event, config)\r\n            });\r\n            this.cleanupSideNavStateChanged = $rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n        }\r\n\r\n        public $onDestroy() {\r\n\r\n            if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n                this.cleanupNavHeaderChanged();\r\n            }\r\n            if (angular.isFunction(this.cleanupSideNavStateChanged)) {\r\n                this.cleanupSideNavStateChanged();\r\n            }\r\n        }\r\n\r\n        private initImage() {\r\n            this.imageBlock = this.$element.find('.pip-sticky-nav-header-user');\r\n\r\n            this.$timeout(() => {\r\n                this.image = this.$element.find('.pip-sticky-nav-header-user-image');\r\n\r\n                if (this.image[0]) {\r\n                    this.image[0].onload = (() => this.onImageLoad());\r\n\r\n                    // ($event: HTMLElement, erroev: Event): any =>  {\r\n                    //     this.onImageLoad($event);\r\n                    //     return null;\r\n                    // }\r\n                    this.image[0].onerror = (() => this.onImageError());\r\n                    // ($event: ng.IAngularEvent) => {\r\n                    //     this.onImageError($event);\r\n                    // }\r\n                } else {\r\n                    this.image.onload = (() => this.onImageLoad());\r\n                    this.image.onerror = (() => this.onImageError());\r\n                }\r\n\r\n                this.onNavHeaderChanged(null, this.pipNavHeader.config);\r\n            }, 20);\r\n        }\r\n\r\n        private initHeader() {\r\n            if (!this.pipNavHeader.config) return;\r\n\r\n            this.title = this.pipNavHeader.config.title;\r\n            this.subtitle = this.pipNavHeader.config.subtitle;\r\n            this.imageUrl = this.pipNavHeader.config.imageUrl;\r\n            this.imageCss = this.pipNavHeader.config.imageCss;\r\n        }\r\n\r\n        // // When image is loaded resize/reposition it\r\n        // private onImageLoad($event) {\r\n        //     let image: ng.IAugmentedJQuery = $($event.target);\r\n        //     this.setImageMarginCSS(image);\r\n        // };\r\n\r\n        // private onImageError($event) {\r\n        //     if (this.loadedDefaultImage) return;\r\n        //     this.$scope.$apply(() => {\r\n        //         this.setImage(this.pipNavHeader.config, true);\r\n        //     });\r\n        // };\r\n        // When image is loaded resize/reposition it\r\n        private onImageLoad() {\r\n            this.setImageMarginCSS(this.image);\r\n        };\r\n\r\n        private onImageError() {\r\n            if (this.loadedDefaultImage) return;\r\n            this.$scope.$apply(() => {\r\n                this.setImage(this.pipNavHeader.config, true);\r\n            });\r\n        };\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\r\n            if (state === undefined) return;\r\n\r\n            if (state.id == 'toggle') {\r\n                this.$timeout(() => {\r\n                    this.showHeader = state && state.id == 'toggle';\r\n                }, 400);\r\n            } else {\r\n                this.showHeader = false;\r\n            }\r\n        }\r\n\r\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\r\n            var cssParams = {},\r\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\r\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\r\n                imageWidth = image[0]['naturalWidth'] || image.width,\r\n                imageHeight = image[0]['naturalHeight'] || image.height,\r\n                margin = 0;\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\r\n                cssParams['width'] = '' + containerWidth + 'px';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            image.css(cssParams);\r\n        };\r\n\r\n        private setImage(config, loadError: boolean) {\r\n            if (!config) return;\r\n\r\n            let url: string;\r\n\r\n            if (!loadError && !!config.imageUrl) {\r\n                url = config.imageUrl;\r\n            } else {\r\n                this.loadedDefaultImage = true;\r\n                url = config.defaultImageUrl;\r\n            }\r\n\r\n            if (url && this.image) {\r\n                this.image.attr('src', url);\r\n            } else {\r\n                this.imageBlock.css(\"display\", \"none\");\r\n            }\r\n        }\r\n\r\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\r\n            if (!config) return;\r\n\r\n            this.title = config.title;\r\n            this.subtitle = config.subtitle;\r\n            this.imageUrl = config.imageUrl;\r\n            this.imageCss = config.imageCss;\r\n\r\n            this.setImage(config, false)\r\n        }\r\n\r\n        public onUserClick() {\r\n            this.$rootScope.$broadcast('pipNavUserClicked'); // todo\r\n        }\r\n\r\n    }\r\n\r\n    const navHeader: ng.IComponentOptions = {\r\n        templateUrl: 'header/NavHeader.html',\r\n        controller: NavHeaderController\r\n    };\r\n\r\n    angular\r\n        .module('pipNavHeader')\r\n        .component('pipNavHeader', navHeader);\r\n\r\n}","export class NavHeaderConfig {\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Image url\r\n    public defaultImageUrl: string;\r\n    // Title\r\n    public title: string;\r\n    // Subtitle\r\n    public subtitle: string;\r\n    // image styles\r\n    public imageCss: string;\r\n    // Handle header click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavHeaderConfig } from \"./NavHeaderConfig\";\r\nimport { INavHeaderService, INavHeaderProvider } from \"./INavHeaderService\";\r\n\r\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\r\n\r\nclass NavHeaderService implements INavHeaderService {\r\n    private _config: NavHeaderConfig;\r\n\r\n    public constructor(config: NavHeaderConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(NavHeaderChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavHeaderProvider implements INavHeaderProvider {\r\n    private _config: NavHeaderConfig = new NavHeaderConfig();\r\n    private _service: NavHeaderService;\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavHeaderConfig) {\r\n        this._config = value || new NavHeaderConfig();\r\n    }\r\n\r\n    public get defaultImageUrl(): string {\r\n        return this._config.defaultImageUrl;\r\n    }\r\n\r\n    public set defaultImageUrl(value: string) {\r\n        this._config.defaultImageUrl = value;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n    }\r\n\r\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavHeaderService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavHeader')\r\n    .provider('pipNavHeader', NavHeaderProvider);\r\n","angular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './NavHeaderService';\r\nimport './NavHeader';\r\n\r\nexport * from './NavHeaderService';","import { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService } from './INavIconService';\r\nimport { NavIconClickedEvent, NavIconChangedEvent } from './NavIconService';\r\n\r\ninterface INavIconBindings {\r\n    [key: string]: any;\r\n\r\n    type: any;\r\n    imageUrl: any;\r\n    icon: any;\r\n}\r\n\r\nconst NavIconBindings: INavIconBindings = {\r\n    type: '<?pipType',\r\n    imageUrl: '<?pipImageUrl',\r\n    icon: '<?pipIcon'\r\n}\r\n\r\nclass NavIconChanges implements ng.IOnChangesObject, INavIconBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n    // Not one way bindings\r\n\r\n    type: ng.IChangesObject<string>;\r\n    imageUrl: ng.IChangesObject<string>;\r\n    icon: ng.IChangesObject<string>;\r\n}\r\n\r\nclass NavIconController implements INavIconBindings {\r\n    private clearFn: Function;\r\n\r\n    public config: NavIconConfig;\r\n    public type: string;\r\n    public imageUrl: string;\r\n    public icon: string;\r\n\r\n    constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        $element: ng.IAugmentedJQuery,\r\n        $scope: angular.IScope,\r\n        $log: ng.ILogService,\r\n        pipNavIcon: INavIconService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-nav-icon');\r\n\r\n        this.config = pipNavIcon.config;\r\n\r\n        this.clearFn = $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\r\n            this.onNavIconChanged(event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onInit() {\r\n        if (this.type) {\r\n            this.config.type = this.type;\r\n        }\r\n        if (this.imageUrl) {\r\n            this.config.imageUrl = this.imageUrl;\r\n        }\r\n        if (this.icon) {\r\n            this.config.icon = this.icon;\r\n        }        \r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    public onNavIconClick(): void {\r\n        if (_.isFunction(this.config.click)) {\r\n            // Execute nav icon callback\r\n            this.config.click();\r\n        } else if (this.config.event) {\r\n            this.$rootScope.$broadcast(this.config.event);\r\n        } else if (this.config.type == 'menu') {\r\n            this.$rootScope.$broadcast(ToggleSideNavEvent);\r\n        } else if (this.config.type == 'back') {\r\n            this.$window.history.back();\r\n        } else {\r\n            this.$rootScope.$broadcast(NavIconClickedEvent);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst NavIcon: ng.IComponentOptions = {\r\n    bindings: NavIconBindings,\r\n    templateUrl: 'icon/NavIcon.html',\r\n    controller: NavIconController\r\n}\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .component('pipNavIcon', NavIcon);\r\n","export class NavIconConfig {\r\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n    public type: string;\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Icon name\r\n    public icon: string;\r\n    // Handle nav icon click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService, INavIconProvider } from './INavIconService';\r\n\r\nexport const NavIconClickedEvent: string = 'pipNavIconClicked';\r\nexport const NavIconChangedEvent: string = 'pipNavIconChanged';\r\n\r\nclass NavIconService implements INavIconService {\r\n    private _config: NavIconConfig;\r\n\r\n    public constructor(config: NavIconConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n            this._config.event = null;\r\n        } else if (_.isString(callbackOrEvent)) {\r\n            this._config.click = null;\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public showMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(NavIconChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavIconProvider implements INavIconProvider {\r\n    private _config: NavIconConfig = new NavIconConfig();\r\n    private _service: NavIconService;\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavIconConfig) {\r\n        this._config = value || new NavIconConfig();\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public setMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavIconService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n     \r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .provider('pipNavIcon', NavIconProvider);\r\n","angular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavIconConfig';\r\nimport './INavIconService';\r\nimport './NavIconService';\r\nimport './NavIcon';\r\n\r\n\r\nexport * from './NavIconConfig';\r\nexport * from './INavIconService';\r\nexport * from './NavIconService';\r\n","{\r\n    class LanguagePickerDirectiveController implements ILanguagePickerBindings {\r\n        private _translate: pip.services.ITranslateService;\r\n        public languages: string[];\r\n        public value: string;\r\n\r\n        public constructor(\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            $rootScope: ng.IRootScopeService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.setLanguages(this.languages);\r\n            this.value = this.value || this.languages[0];\r\n        }\r\n\r\n        public $onChanges(changes: LanguagePickerChanges) {\r\n            if (this.value != changes.value.previousValue) {\r\n            }\r\n        }\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(languages: string[]): void {\r\n            this.languages = languages && languages.length > 0 ? languages : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language: string) {\r\n            if (this._translate != null) {\r\n                this.value = language;\r\n                this._translate.language = this.value;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    interface ILanguagePickerBindings {\r\n        [key: string]: any;\r\n\r\n        languages: any,\r\n        value: any\r\n    }\r\n\r\n    const LanguagePickerBindings: ILanguagePickerBindings = {\r\n        languages: '<?languages',\r\n        value: '<?value'\r\n    }\r\n\r\n    class LanguagePickerChanges implements ng.IOnChangesObject, ILanguagePickerBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n\r\n        languages: ng.IChangesObject<string[]>;\r\n        value: ng.IChangesObject<string>;\r\n    }\r\n\r\n    const languagePickerDirective: ng.IComponentOptions = {\r\n        bindings: LanguagePickerBindings,\r\n        templateUrl: 'language/LanguagePicker.html',\r\n        controller: LanguagePickerDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .component('pipLanguagePicker', languagePickerDirective);\r\n\r\n}","import { ISideNavService} from '../sidenav/ISideNavService';\r\nimport { INavMenuService} from './INavMenuService';\r\nimport { SideNavStateNames, SideNavState, SideNavConfig } from '../sidenav/SideNavState';\r\nimport { NavMenuConfig, NavMenuSection, NavMenuLink } from './NavMenuConfig';\r\n\r\n(() => {\r\n    class NavMenuController {\r\n        private _state: angular.ui.IStateService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n        private _animationDuration;\r\n        private _pipSideNavElement: ng.IAugmentedJQuery;\r\n\r\n        public sections: NavMenuSection[];\r\n        public defaultIcon: string;\r\n        public isCollapsed: boolean;\r\n        public expanded: boolean = null;\r\n        public expandedButton: boolean;\r\n        public sideNavState: SideNavState;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $window: ng.IWindowService,\r\n            private $location: ng.ILocationService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipSideNav: ISideNavService,\r\n            private pipNavMenu: INavMenuService,\r\n\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._state = $injector.has('$state') ? <angular.ui.IStateService>$injector.get('$state') : null;\r\n\r\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\r\n                this._pipSideNavElement = $element.parents('pip-sidenav');///$element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n\r\n            this.sections = this.$scope['sections'] || this.pipNavMenu.sections;\r\n\r\n            this.setCollapsible();\r\n\r\n            this.defaultIcon = this.pipNavMenu.defaultIcon;\r\n\r\n            this.onStateChanged(null, this.pipSideNav.state);\r\n\r\n            let cleanupNavMenuChanged: Function = this.$rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\r\n                this.onConfigChanged($event, config)\r\n            });\r\n            let cleanupSideNavStateChanged: Function = this.$rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                if (angular.isFunction(cleanupNavMenuChanged)) {\r\n                    cleanupNavMenuChanged();\r\n                }\r\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\r\n                    cleanupSideNavStateChanged();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private setCollapsible(): void {\r\n            var collapsed: boolean;\r\n            if (angular.isFunction(this.$scope['collapsed'])) {\r\n                collapsed = this.$scope['collapsed']();\r\n            } else {\r\n                collapsed = this.$scope['collapsed'] !== false && this.$scope['collapsed'] !== 'false';\r\n            }\r\n\r\n            this.isCollapsed = collapsed;\r\n        }\r\n\r\n        public onExpand(): void {\r\n            if (!this.isCollapsed) { return }\r\n\r\n            this.expanded = !this.expanded;\r\n\r\n            if (this.expanded) {\r\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\r\n            } else {\r\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\r\n            }\r\n            this.$rootScope.$emit('pipNavExpanded', this.expanded);\r\n        }\r\n\r\n        public isHidden(item: NavMenuLink): boolean {\r\n            return item && item.access && !item.access(item);\r\n        }\r\n\r\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\r\n            var result = true;\r\n            _.each(linkCollection, (link: NavMenuLink) => {\r\n                if (!this.isHidden(link)) {\r\n                    result = false;\r\n                }\r\n            });\r\n\r\n            return result;\r\n        }\r\n\r\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\r\n            if (!config) return;\r\n            this.sections = config.sections;\r\n        }\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\r\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\r\n            if (!state) return;\r\n\r\n            this.isCollapsed = state.expand;\r\n            if (!state.expandedButton || this.expanded == null) this.expanded = state.isExpanded;\r\n            this.expandedButton = state.expandedButton;\r\n\r\n            this.sideNavState = state;\r\n        }\r\n\r\n        public isActive(link: NavMenuLink): boolean {\r\n            if (link.parentState) {\r\n\r\n                if (this._state != null && this._state.includes(link.parentState)) {\r\n                    return true;\r\n                }\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.includes(link.state)) {\r\n                    return true;\r\n                }\r\n            } else if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    return true;\r\n                }\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\r\n            event.stopPropagation();\r\n\r\n            if (!link) {\r\n                this.pipSideNav.close();\r\n\r\n                return;\r\n            }\r\n\r\n            if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$window.location.href = link.href;\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    this.pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$location.url(link.url);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.current.name === link.state) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this._state.go(link.state, link.stateParams);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.event) {\r\n                this.$rootScope.$broadcast(link.event, link);\r\n            }\r\n\r\n            this.pipSideNav.close();\r\n        }\r\n    }\r\n\r\n    interface INavMenuBindings {\r\n        [key: string]: any;\r\n        sections: any,\r\n        collapsed: any\r\n    }\r\n\r\n    const NavMenuBindings: INavMenuBindings = {\r\n        sections: '=?pipSections',\r\n        collapsed: '=?pipCollapsed'\r\n    };\r\n\r\n    function navMenuDirective() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: NavMenuBindings,\r\n            replace: false,\r\n            templateUrl: 'menu/NavMenu.html',\r\n            controller: NavMenuController,\r\n            controllerAs: '$ctrl'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipNavMenu')\r\n        .directive('pipNavMenu', navMenuDirective);\r\n\r\n})();","import { NavMenuConfig, NavMenuSection } from './NavMenuConfig';\r\nimport { INavMenuService, INavMenuProvider } from './INavMenuService';\r\n\r\nexport const NavMenuChangedEvent = 'pipNavMenuChanged';\r\n\r\nclass NavMenuService implements INavMenuService {\r\n    private _config: NavMenuConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: NavMenuConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public updateBadgeStyle(link: string, style: string): void {\r\n        if (link == null || !_.isString(style)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.badgeStyle = style;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(link: string, count: number): void {\r\n        if (link == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.count = count;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                l.count = null;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavMenuProvider implements INavMenuProvider {\r\n    private _config: NavMenuConfig = {\r\n        sections: [],\r\n        defaultIcon: 'icons:folder'\r\n    };\r\n    private _service: NavMenuService;\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavMenuService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavMenu')\r\n    .provider('pipNavMenu', NavMenuProvider);\r\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavMenuService';\r\nimport './NavMenu';","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchService } from './ISearchService';\r\nimport { OpenSearchEvent, CloseSearchEvent, SearchChangedEvent, SearchActivatedEvent } from './SearchService';\r\n\r\nclass SearchBarController {\r\n    private clearFn: Function;\r\n\r\n    public config: SearchConfig;\r\n    public enabled: boolean = false;\r\n    public search: any = { text: '' };\r\n\r\n    public constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $rootScope: ng.IRootScopeService,\r\n        pipSearch: ISearchService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-search-bar');\r\n\r\n        this.config = pipSearch.config;\r\n        this.stateChange();\r\n        this.clearFn = $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\r\n            this.onSearchChanged(event, config);\r\n        });\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    private stateChange(): void {\r\n        if (this.enabled) {\r\n            this.$element.addClass('w-stretch');\r\n            this.$element.parent().addClass('pip-search-active');\r\n\r\n        } else {\r\n            this.$element.removeClass('w-stretch');\r\n            this.$element.parent().removeClass('pip-search-active');\r\n        }\r\n    }\r\n\r\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\r\n        this.config = config;\r\n        this.enabled = false;\r\n        this.search.text = '';\r\n        this.stateChange();\r\n    }\r\n\r\n    private focusText(): void {\r\n        setTimeout(() => {\r\n            let element: JQuery = $('.pip-search-text');\r\n            if (element.length > 0)\r\n                element.focus();\r\n        }, 0);\r\n    }\r\n\r\n    public enable(): void {\r\n        this.search.text = this.config.criteria;\r\n        this.enabled = true;\r\n        this.focusText();\r\n        this.stateChange();\r\n    }\r\n\r\n    public onClick(): void {\r\n        let search = this.search.text;\r\n\r\n        this.search.text = '';\r\n        this.enabled = false;\r\n        this.stateChange();\r\n\r\n        if (this.config.callback) {\r\n            this.config.callback(search);\r\n        } else {\r\n            this.$rootScope.$broadcast(SearchActivatedEvent, search);\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        if (this.search.text) {\r\n            this.search.text = '';\r\n            this.focusText();\r\n        } else {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    public onKeyDown(event: KeyboardEvent): void {\r\n        // Enter pressed\r\n        if (event.keyCode === 13)\r\n            this.onClick();\r\n        // ESC pressed\r\n        else if (event.keyCode === 27) {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n        }\r\n    }\r\n}\r\n\r\nconst SearchBar: ng.IComponentOptions = {\r\n    templateUrl: 'search/SearchBar.html',\r\n    controller: SearchBarController\r\n}\r\n\r\nangular\r\n    .module('pipSearchBar')\r\n    .component('pipSearchBar', SearchBar);\r\n","export class SearchConfig {\r\n    // Search visible\r\n    public visible: boolean;\r\n    // Search criteria\r\n    public criteria: string;\r\n    // Custom search parameters\r\n    public params: any;\r\n    // History for search autocomplete\r\n    public history: string[];\r\n    // Callback for search\r\n    callback: (criteria: string) => void;\r\n}","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchProvider, ISearchService } from './ISearchService';\r\n\r\nexport const OpenSearchEvent = 'pipOpenSearch';\r\nexport const CloseSearchEvent = 'pipCloseSearch';\r\nexport const SearchChangedEvent = 'pipSearchChanged';\r\nexport const SearchActivatedEvent = 'pipSearchActivated';\r\n\r\nclass SearchService implements ISearchService {\r\n    private _config: SearchConfig;\r\n\r\n    public constructor(\r\n        config: SearchConfig,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n\r\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\r\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\r\n    }\r\n\r\n    public get config(): SearchConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get params(): any {\r\n        return this._config.params;\r\n    }\r\n\r\n    public set params(value: any) {\r\n        this._config.params = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get history(): string[] {\r\n        return this._config.history;\r\n    }\r\n\r\n    public set history(value: string[]) {\r\n        this._config.history = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get callback(): (criteria: string) => void {\r\n        return this._config.callback;\r\n    }\r\n\r\n    public set callback(value: (criteria: string) => void) {\r\n        this._config.callback = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\r\n        this._config.callback = callback;\r\n        this._config.criteria = criteria;\r\n        this._config.params = params;\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.callback = null;\r\n        this._config.criteria = null;\r\n        this._config.params = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public open(): void {\r\n        this._config.visible = true;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public close(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._config.visible = !this._config.visible;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent(): void {\r\n        this.$rootScope.$broadcast(SearchChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SearchProvider implements ISearchProvider {\r\n    private _config: SearchConfig = new SearchConfig();\r\n    private _service: SearchService = null;\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SearchService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipSearchBar')\r\n    .provider('pipSearch', SearchProvider);\r\n","angular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './SearchConfig';\r\nimport './ISearchService';\r\nimport './SearchService';\r\nimport './SearchBar';\r\n\r\nexport * from './ISearchService';\r\n","import { ISideNavService } from './ISideNavService';\r\nimport { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { SideNavStateNames, SideNavState, SideNavStateConfig, SideNavConfig } from './SideNavState';\r\n\r\nclass SideNavController implements ISideNavBindings {\r\n    private _pipMedia: pip.layouts.IMediaService;\r\n    private _isResizing: boolean;\r\n    private _animationDuration: number;\r\n    private _mainContainer: string; // todo add  to config\r\n    private _bigWidth: number;\r\n    private _middleWidth: number;\r\n    private _smallWidth: number;\r\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\r\n    private _navState: SideNavStateConfig;\r\n    private cleanupMainResized: Function;\r\n    private cleanupSideNavState: Function;\r\n    private cleanupNavHeaderChanged: Function;\r\n    private cleanupSideNavChanged: Function;\r\n    private windowResize: Function;\r\n\r\n    public sidenavState: SideNavState;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private pipSideNav: ISideNavService,\r\n        navConstant: any\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\r\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\r\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\r\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\r\n        this._isResizing = false;\r\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\r\n        this._navState = new SideNavStateConfig();\r\n        this._mediaBreakpoints = this.setBreakpoints();\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-sticky-sidenav');\r\n\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type != 'popup') {\r\n            this.$timeout(() => {\r\n                this.setSideNaveState()\r\n            }, 100);\r\n\r\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\r\n            this.cleanupMainResized = this.$rootScope.$on('pipMainResized', () => {\r\n                this.windowResize();\r\n            });\r\n            this.cleanupSideNavState = this.$rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\r\n                this.onSideNavState($event, state)\r\n            });\r\n        } else {\r\n            this._isResizing = false;\r\n            this.sidenavState = null;\r\n            this.$timeout(() => {\r\n                if (this.pipSideNav.config.backdrop == false) {\r\n                    this.$element.addClass('pip-sidenav-hide-backdrop');\r\n                } else {\r\n                    this.$element.removeClass('pip-sidenav-hide-backdrop');\r\n                }\r\n                this.setState(SideNavStateNames.Toggle);\r\n            }, 100);\r\n        }\r\n\r\n        this.cleanupNavHeaderChanged = this.$rootScope.$on(ToggleSideNavEvent, () => {\r\n            this.onNavIconClick();\r\n        });\r\n        this.cleanupSideNavChanged = this.$rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\r\n            this.onSideNavChanged($event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n            this.cleanupNavHeaderChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavChanged)) {\r\n            this.cleanupSideNavChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupMainResized)) {\r\n            this.cleanupMainResized();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavState)) {\r\n            this.cleanupSideNavState();\r\n        }\r\n    }\r\n\r\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\r\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\r\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\r\n        } else {\r\n            return this._pipMedia.breakpoints;\r\n        }\r\n    }\r\n\r\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\r\n        if (config && config.visible) {\r\n            this.$element.css('display', 'block');\r\n        } else {\r\n            this.$element.css('display', 'none');\r\n        }\r\n    }\r\n\r\n    private onNavIconClick(): void {\r\n        this.pipSideNav.toggle();\r\n    }\r\n\r\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\r\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\r\n            this.setState(stateName);\r\n        }\r\n    }\r\n\r\n    private setSideNaveState(): void {\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type == 'popup') { return }\r\n\r\n        if (this._isResizing) {\r\n            this.$timeout(() => { this.setSideNaveState() }, this._animationDuration);\r\n\r\n            return;\r\n        }\r\n\r\n        let mainWidth: number = $(this._mainContainer).innerWidth();\r\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\r\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 1 : 0; // add border width\r\n\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.sm) {\r\n            this.setState(SideNavStateNames.Toggle);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.md) {\r\n            this.setState(SideNavStateNames.Small);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.lg) {\r\n            this.setState(SideNavStateNames.Large);\r\n            return;\r\n        }\r\n        this.setState(SideNavStateNames.XLarge);\r\n    }\r\n\r\n    private setState(stateName: SideNavStateNames) {\r\n        if (this._isResizing) return;\r\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\r\n\r\n        if (stateName != SideNavStateNames.Toggle) {\r\n            this.$element.removeClass('sidenav-mobile');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Small) {\r\n            this.$element.removeClass('pip-sticky-nav-small');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.XLarge) {\r\n            this.$element.removeClass('sidenav-desktop');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Large) {\r\n            this.$element.removeClass('sidenav-smalldesktop');\r\n        }\r\n\r\n        this._isResizing = true;\r\n        /*if (stateName == SideNavStateNames.Toggle) {\r\n            this.pipSideNav.close();\r\n        }*/\r\n        this.sidenavState = this._navState[String(stateName)];\r\n        this.$element.addClass(this.sidenavState.addClass);\r\n\r\n        this.pipSideNav.state = this.sidenavState;\r\n\r\n        // check sideNav State\r\n        this.$timeout(() => {\r\n            this.setSideNaveState()\r\n        }, 15);\r\n\r\n        // complete animation\r\n        this.$timeout(() => {\r\n            this._isResizing = false;\r\n        }, this._animationDuration); //animationDuration\r\n\r\n    }\r\n}\r\n\r\n\r\ninterface ISideNavBindings {\r\n    [key: string]: any;\r\n    sidenavState: any;\r\n}\r\n\r\nconst SideNavBindings: ISideNavBindings = {\r\n    sidenavState: '=?'\r\n};\r\n\r\n(() => {\r\n\r\n    const sideNav: ng.IComponentOptions = {\r\n        transclude: true,\r\n        bindings: SideNavBindings,\r\n        templateUrl: 'sidenav/SideNav.html',\r\n        controller: SideNavController\r\n    };\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .component('pipSidenav', sideNav);\r\n\r\n})();","{\r\n\r\n    interface ISideNavPartBindings {\r\n        [key: string]: any;\r\n        visible: any\r\n    }\r\n\r\n    const SideNavPartBindings: ISideNavPartBindings = {\r\n        visible: '=?'\r\n    }\r\n\r\n    class SideNavPartController {\r\n        private partName: string;\r\n        private partValue: string = null;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipSideNav) {\r\n\r\n            this.partName = '' + $attrs['pipSidenavPart'];\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onSideNavChanged(null, pipSideNav.config)\r\n            $rootScope.$on('pipSideNavChanged', (event, config) => { this.onSideNavChanged(event, config) });\r\n        }\r\n\r\n        private onSideNavChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = parts[this.partName];\r\n            let visible: boolean = !!(this.partValue ? currentPartValue == this.partValue : currentPartValue);\r\n\r\n            if (visible != this.$scope['visible'])\r\n                this.$scope['visible'] = visible;\r\n        }\r\n    }\r\n\r\n    function sidenavPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: SideNavPartBindings,\r\n            link: function linkFunction(\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes) {\r\n                $attrs['ngIf'] = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: SideNavPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .directive('pipSidenavPart', sidenavPartDirective);\r\n\r\n}","import { SideNavState, SideNavConfig } from \"./SideNavState\";\r\nimport { ISideNavProvider, ISideNavService } from \"./ISideNavService\";\r\n\r\nexport const SideNavChangedEvent = 'pipSideNavChanged';\r\nexport const SideNavStateChangedEvent = 'pipSideNavStateChanged';\r\nexport const OpenSideNavEvent = 'pipOpenSideNav';\r\nexport const CloseSideNavEvent = 'pipCloseSideNav';\r\nexport const ToggleSideNavEvent = 'pipToggleSideNav';\r\n\r\nclass SideNavService implements ISideNavService {\r\n    private _config: SideNavConfig;\r\n    private _state: any;\r\n\r\n    public constructor(\r\n        config: SideNavConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this.$rootScope.$broadcast(SideNavStateChangedEvent, value);\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public open() {\r\n        this.$mdSidenav('pip-sticky-sidenav').open();\r\n    }\r\n\r\n    public close() {\r\n        this.$mdSidenav('pip-sticky-sidenav').close();\r\n    }\r\n\r\n    public toggle() {\r\n        this.$mdSidenav('pip-sticky-sidenav').toggle();\r\n    }\r\n\r\n    public show() {\r\n        if (!this._config.visible) {\r\n            this._config.visible = true;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        if (this._config.visible) {\r\n            this._config.visible = false;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(SideNavChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SideNavProvider implements ISideNavProvider {\r\n    private _config: SideNavConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'popup',\r\n        backdrop: true,\r\n        state: null,\r\n        visible: true\r\n    };\r\n\r\n    private _service: SideNavService;\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: SideNavConfig) {\r\n        this._config = value || new SideNavConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get visible(): boolean {\r\n        return this._config.visible;\r\n    }\r\n\r\n    public set visible(value: boolean) {\r\n        this._config.visible = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\r\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\r\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipSideNav')\r\n    .provider('pipSideNav', SideNavProvider)\r\n    .run(hookSideNavEvents);\r\n","export class SideNavStateNames {\r\n    static Toggle: string = 'toggle';\r\n    static Small: string = 'small';\r\n    static Large: string = 'large';\r\n    static XLarge: string = 'xlarge';\r\n}\r\n\r\nexport class SideNavState {\r\n    id: SideNavStateNames;\r\n    // Class which added to sidenav in this state\r\n    addClass: string;\r\n    // Side nav always open\r\n    isLockedOpen: boolean;\r\n    // Show SideNav header \r\n    showHeader: boolean;\r\n    // Show expanded button\r\n    expandedButton: boolean;\r\n    // SideNav has expand\r\n    isExpanded: boolean;\r\n    // SideNav is Expanded in this state by default\r\n    expand: boolean;\r\n    // Tooltype is show\r\n    showIconTooltype: boolean;\r\n}\r\n\r\nexport class SideNavStateConfig {\r\n    toggle: SideNavState = { // media(sm, xs)\r\n        id: SideNavStateNames.Toggle,\r\n        addClass: 'sidenav-mobile',\r\n        showHeader: true,\r\n        isLockedOpen: false,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n    small: SideNavState = { // media(md)\r\n        id: SideNavStateNames.Small,\r\n        addClass: 'pip-sticky-nav-small sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: false,\r\n        expand: false,\r\n        showIconTooltype: true\r\n    };\r\n    large: SideNavState = { // media(lg)\r\n        id: SideNavStateNames.Large,\r\n        addClass: 'sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: true,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: true\r\n    };\r\n    xlarge: SideNavState = { // media(xl)\r\n        id: SideNavStateNames.XLarge,\r\n        addClass: 'sidenav-desktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n}\r\n\r\nexport class SideNavConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: SideNavState;\r\n    type: string;\r\n    backdrop: boolean = true;\r\n    visible: boolean;\r\n}","angular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './SideNavState';\r\nimport './SideNavService';\r\nimport './SideNavPart';\r\nimport './SideNav';\r\n\r\nexport * from './SideNavService';","\r\nexport class PipTab {\r\n    id: string;\r\n    name?: string;\r\n    count: number;\r\n    title: string;\r\n}\r\n\r\n{\r\n    interface ITabsBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        tabs: any;\r\n        showTabs: any;\r\n        showTabsShadow: any;\r\n        activeIndex: any;\r\n        select: any;\r\n        breakpoints: any;\r\n        themeClass: any;\r\n    }\r\n\r\n    const TabsBindings: ITabsBindings = {\r\n        ngDisabled: '&?', // function\r\n        tabs: '<pipTabs', // PipTab[]\r\n        showTabs: '&pipShowTabs', // function\r\n        showTabsShadow: '&pipTabsShadow', // function\r\n        activeIndex: '<?pipActiveIndex', // number\r\n        select: '=pipTabsSelect', // function\r\n        breakpoints: '<?pipBreakpoints', // string\r\n        themeClass: '<?themeClass', // string\r\n    }\r\n\r\n    class TabsChanges implements ng.IOnChangesObject, ITabsBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        tabs: ng.IChangesObject<PipTab[]>;\r\n        showTabs: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        showTabsShadow: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        breakpoints: ng.IChangesObject<string>;\r\n        themeClass: ng.IChangesObject<string>;\r\n    }\r\n\r\n    class TabsDirectiveController implements ITabsBindings {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private pipMedia;\r\n        private selectedTabId: string;\r\n\r\n        public ngDisabled: Function;\r\n        public tabs: PipTab[];\r\n        public activeIndex: number;\r\n        public breakpoints: string;\r\n        public showTabs: Function;\r\n        public showTabsShadow: Function;\r\n        public select: Function;\r\n        public themeClass: string;\r\n\r\n        public currentTheme: string;\r\n\r\n        public change: () => ng.IPromise<any>;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $injector: ng.auto.IInjectorService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private navConstant: any,\r\n            $mdMedia: angular.material.IMedia\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.setTheme();\r\n            this.pipMedia = this.$injector.has('pipMedia') ? <pip.layouts.IMediaService>this.$injector.get('pipMedia') : $mdMedia;\r\n            \r\n            if (!this.breakpoints) {\r\n                this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n            }\r\n        }\r\n\r\n        private setTheme(): void {\r\n            this._pipTheme = this.$injector.has('pipTheme') ? <pip.themes.IThemeService>this.$injector.get('pipTheme') : null;\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if (this.$rootScope['$theme']) {\r\n                this.currentTheme = this.$rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = (this.themeClass || '') + ' md-' + this.currentTheme + '-theme';\r\n        }\r\n\r\n        private setTranslate(): void {\r\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n            if (this._pipTranslate) {\r\n                if (this.tabs.length > 0 && this.tabs[0].title) {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\r\n                } else {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\r\n                }\r\n            }\r\n        }\r\n\r\n        public isDisabled(): boolean {\r\n            if (_.isFunction(this.ngDisabled)) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return this.toBoolean(this.ngDisabled);\r\n            }\r\n        };\r\n\r\n        public tabDisabled(index: number): boolean {\r\n            return (this.isDisabled() && this.activeIndex != index);\r\n        };\r\n\r\n        public onSelect(index: number): void {\r\n            if (this.isDisabled()) return;\r\n            this.activeIndex = index;\r\n            this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            this.$timeout(() => {\r\n                if (this.select) {\r\n                    this.select(this.tabs[this.activeIndex], this.activeIndex);\r\n                }\r\n            }, 0);\r\n\r\n        };\r\n\r\n        public showShadow(): boolean {\r\n            if (_.isFunction(this.showTabsShadow)) {\r\n                return this.showTabsShadow();\r\n            } else {\r\n                return this.toBoolean(this.showTabsShadow);\r\n            }\r\n        };\r\n\r\n        public show(): boolean {\r\n            if (!this.showTabs) return true;\r\n            if (_.isFunction(this.showTabs)) {\r\n                return this.showTabs();\r\n            } else {\r\n                return this.toBoolean(this.showTabs);\r\n            }\r\n        };\r\n\r\n        public toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TabsChanges) {\r\n\r\n            if (!changes.breakpoints) {\r\n                if (!this.breakpoints) {\r\n                    this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n                }\r\n            } else {\r\n                this.breakpoints = changes.breakpoints.currentValue ? changes.breakpoints.currentValue : this.navConstant.TAB_BREAKPOINT\r\n            }\r\n\r\n            if (changes.activeIndex === undefined) {\r\n                if (!this.activeIndex) {\r\n                    this.activeIndex = 0;\r\n                }\r\n            } else {\r\n                this.activeIndex = changes.activeIndex.currentValue || 0;\r\n                if (this.$timeout && this.activeIndex !== changes.activeIndex.previousValue) {\r\n                    this.$timeout(() => {\r\n                        let a = this.$element.find('md-tabs-canvas');\r\n                        if (a && a[0]) {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                        }\r\n                        a.on('focusout', () => {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            this.$timeout(() => {\r\n                                angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            }, 50);\r\n                        });\r\n                    }, 1000);\r\n                }\r\n            }\r\n\r\n            if (changes.tabs === undefined || !_.isArray(changes.tabs.currentValue)) {\r\n                if (!this.tabs) {\r\n                    this.tabs = [];\r\n                }\r\n            } else {\r\n                this.tabs = changes.tabs.currentValue;\r\n                this.setTranslate();\r\n            }\r\n\r\n            if (!changes.activeIndex && changes.tabs && this.selectedTabId !== undefined) {\r\n                const index = _.indexOf(this.tabs, _.find(this.tabs, {\r\n                    id: this.selectedTabId\r\n                }));\r\n                if (index < 0) {\r\n                    this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n                } else if (this.tabs.length > 0 && this.activeIndex) {\r\n                    this.onSelect(index);\r\n                }\r\n            } else {\r\n                this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const Tabs: ng.IComponentOptions = {\r\n        bindings: TabsBindings,\r\n        templateUrl: 'tabs/Tabs.html',\r\n        controller: TabsDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipTabs', ['pipNav.Templates'])\r\n        .component('pipTabs', Tabs);\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"color-primary-bg {{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"$ctrl._media($ctrl.config.breakpoint)\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"!$ctrl._media($ctrl.config.breakpoint)\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"$ctrl.showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"$ctrl.imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"$ctrl.onUserClick()\" tabindex=\"-1\">{{ $ctrl.title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ $ctrl.subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.value | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.pipSideNav.state.isExpanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.pipSideNav.state.isExpanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" xxxng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.pipSideNav.state.isExpanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-disabled=\"link.access && !link.access(link)\" ng-click=\"$ctrl.clickLink($event, link)\"><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype || !link.tooltipText || $ctrl.pipSideNav.state.isExpanded\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && link.tooltipText && !$ctrl.pipSideNav.state.isExpanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar ng-if=\"$ctrl.pipMedia\" class=\"pip-nav color-primary-bg {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs class=\"color-primary-bg\" ng-if=\"$ctrl.pipMedia($ctrl.breakpoints)\" md-selected=\"$ctrl.activeIndex\" ng-class=\"{\\'disabled\\': $ctrl.isDisabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.pipMedia($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.activeIndex\" ng-disabled=\"$ctrl.isDisabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","{\r\n\r\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-cool': 'Cool'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     'bootbarn-cool': ''\r\n    // });\r\n    \r\n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(69, 90, 100, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\r\n\r\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(69, 90, 100, .54)',\r\n        '500': 'rgba(69, 90, 100, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\r\n\r\n\r\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-cool')\r\n        .primaryPalette('bootbarn-cool-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-cool-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-cool-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\r\n    .config(configureBootBarnCoolTheme);\r\n\r\n}","{\r\n\r\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-monochrome': 'Monochrome'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     'bootbarn-monochrome': ''\r\n    // });\r\n    \r\n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(38, 50, 56, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\r\n\r\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '300': 'rgba(38, 50, 56, .54)',\r\n        '500': 'rgba(38, 50, 56, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\r\n\r\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n        'A700': 'rgba(76, 175, 80, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-monochrome')\r\n        .primaryPalette('bootbarn-monochrome-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('bootbarn-monochrome-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('bootbarn-monochrome-accent', {\r\n            'default': 'A700'\r\n        });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\r\n    .config(configureBootBarnMonochromeTheme);\r\n\r\n}","{\r\n\r\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     'bootbarn-warm': 'Warm'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     'bootbarn-warm': 'Коричневая'\r\n    // });\r\n\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(177, 55, 34, 1)'\r\n        })\r\n        ;\r\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\r\n\r\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\r\n        '300': 'rgba(177, 55, 34, .54)',\r\n        '500': 'rgba(177, 55, 34, 1)',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\r\n\r\n\r\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'A700': 'rgba(127, 148, 92, 1)',\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\r\n\r\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\r\n        'A200': 'rgba(255, 82, 82, 1)',\r\n        'contrastLightColors': ['A200']\r\n    });\r\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\r\n\r\n    $mdThemingProvider.theme('bootbarn-warm')\r\n    .primaryPalette('bootbarn-warm-primary', {\r\n        'default': '500',\r\n        'hue-1': '300'\r\n    })\r\n    .backgroundPalette('bootbarn-warm-background', {\r\n        'default': '50',  // background\r\n        'hue-1': 'A200',  // tiles dialog\r\n        'hue-2': 'A700'   // app bar\r\n    })\r\n    .warnPalette('bootbarn-warm-error', {\r\n        'default': 'A200'\r\n    })\r\n    .accentPalette('bootbarn-warm-accent', {\r\n        'default': 'A700'\r\n    });\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\r\n    .config(configureBootBarnWarmTheme);\r\n\r\n}","import './BootBarnCoolTheme';\r\nimport './BootBarnWarmTheme';\r\nimport './BootBarnMonochromeTheme';\r\n\r\nangular.module('pipTheme.BootBarn', [\r\n    'ngMaterial',\r\n    'pipTheme.BootBarn.Warm',\r\n    'pipTheme.BootBarn.Cool',\r\n    'pipTheme.BootBarn.Monochrome',\r\n]);\r\n","import { IThemeService, IThemeProvider } from './IThemeService';\r\n\r\nexport let ThemeRootVar = \"$theme\";\r\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \r\nexport let ThemeResetPage = \"pipResetPage\";    \r\n\r\nclass ThemeConfig {\r\n    public theme: string;\r\n}\r\n\r\nclass ThemeService implements IThemeService {\r\n    private _config: ThemeConfig;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _currentTheme: string = null;\r\n\r\n    public constructor(\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $mdTheming,\r\n        config: ThemeConfig,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n    ) {\r\n        \"ngInject\";\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._config = config;\r\n\r\n        //if (this._persist && this.$window.localStorage && this._config.theme == \"default\")\r\n        this._config.theme = this.$window.localStorage.getItem('theme') || this._config.theme || 'default';\r\n\r\n        this.$log.debug(\"Set theme to \" + this._config.theme);\r\n\r\n        // Define theme for angular material \r\n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        let body = $('body');\r\n        let newTheme: string = this._config.theme;\r\n\r\n        // Switch material theme\r\n        // body.attr('md-theme', newTheme);\r\n\r\n        // Change custom theme\r\n        body.addClass(newTheme);\r\n        if (this._currentTheme != null && this._currentTheme != newTheme)\r\n            body.removeClass(this._currentTheme);            \r\n\r\n        this._currentTheme = newTheme;\r\n\r\n        // Set root scope variable\r\n        if (this._setRootVar)\r\n            this.$rootScope[ThemeRootVar] = this._config.theme;\r\n\r\n        // Save in local storage\r\n        if (this._persist && this.$window.localStorage != null)\r\n            this.$window.localStorage.setItem('theme', this._config.theme);\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        if (value != this._config.theme) {\r\n            if (!(value in this.$mdTheming.THEMES))\r\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\r\n\r\n            this._config.theme = value;\r\n            \r\n            this.$log.debug(\"Changing theme to \" + value);\r\n\r\n            this.save();                \r\n\r\n            this.$rootScope.$emit(ThemeChangedEvent, value);\r\n            this.$rootScope.$emit(ThemeResetPage);\r\n        }\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null) {\r\n            this._config.theme = theme;\r\n            this.save();    \r\n        }     \r\n        return this._config.theme;\r\n    }\r\n\r\n}\r\n\r\n\r\nclass ThemeProvider implements IThemeProvider {\r\n    private _config: ThemeConfig = new ThemeConfig();\r\n    private _setRootVar: boolean = true;\r\n    private _persist: boolean = true;\r\n    private _service: ThemeService;\r\n    \r\n    public constructor() {\r\n        this._config.theme = \"default\";\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public get theme(): string {\r\n        return this._config.theme;\r\n    }\r\n\r\n    public set theme(value: string) {\r\n        this._config.theme = value;\r\n    }\r\n\r\n    public use(theme: string): string {\r\n        if (theme != null) {\r\n            this._config.theme = theme;\r\n            let body = $('body');\r\n            body.addClass(this._config.theme);\r\n        }\r\n        return this._config.theme;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService,\r\n        $log: ng.ILogService, \r\n        $window: ng.IWindowService,\r\n        $mdTheming: any\r\n    ): ThemeService {\r\n        \"ngInject\";\r\n        if (_.isUndefined(this._service) || _.isNull(this._service))  {\r\n            this._service = new ThemeService($log, $rootScope, $window, $mdTheming, this._config, this._setRootVar, this._persist);\r\n        }\r\n         \r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nfunction initTheme(pipTheme: IThemeService) {\r\n    pipTheme.theme;\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme')\r\n    .provider('pipTheme', ThemeProvider)\r\n    .run(initTheme);\r\n","angular.module('pipTheme', ['ngMaterial']);\r\n\r\nimport './ThemeService';\r\n\r\nexport * from './IThemeService';\r\nexport * from './ThemeService';\r\n","{\r\n\r\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     amber: 'Amber'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     amber: 'Янтарная'\r\n    // });\r\n\r\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\r\n\r\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 152, 0, 1)',\r\n        '900': 'rgba(255, 152, 0, .54);'\r\n    });\r\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('amber')\r\n        .primaryPalette('orange-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('orange-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('orange', {\r\n            'default': '900'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\r\n    .config(configureDefaultAmberTheme);\r\n    \r\n}","{\r\n\r\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     blue: 'Blue',\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     blue: 'Голубая'\r\n    // });\r\n\r\n    registerBlueTheme('default');\r\n    registerBlueTheme('blue');\r\n\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    function registerBlueTheme(themeName) {\r\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\r\n            'contrastDefaultColor': 'light',\r\n            'contrastDarkColors': undefined\r\n        });\r\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\r\n\r\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(33, 150, 243, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\r\n\r\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            '600': 'rgba(0, 200, 83, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\r\n\r\n        $mdThemingProvider.theme(themeName)\r\n            .primaryPalette('blue-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('blue-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('blue-accent', {\r\n                'default': '600'\r\n            });\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\r\n    .config(configureDefaultBlueTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     green: 'Green'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     green: 'Зеленая'\r\n    // });\r\n\r\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(76, 175, 80, 1)'\r\n    });\r\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\r\n\r\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\r\n        '300': '#9ed4a1',\r\n        'contrastLightColors': ['500', '300']\r\n    });\r\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\r\n\r\n\r\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n        'contrastLightColors': ['A700']\r\n    });\r\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\r\n\r\n    $mdThemingProvider.theme('green')\r\n        .primaryPalette('green-primary', {\r\n            'default': '500',\r\n            'hue-1': '300'\r\n        })\r\n        .backgroundPalette('green-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('green-accent', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Green', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreenTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     grey: 'Grey'\r\n    // });\r\n    \r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     grey: 'Серая'\r\n    // });\r\n\r\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 152, 0, 1)',\r\n        'A400': '#a9b9c0',\r\n        '500': '#607D8B',\r\n        'A700': '#90A4AE',\r\n        //'800': '',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\r\n\r\n\r\n    $mdThemingProvider.theme('grey')\r\n        .primaryPalette('third-party', {\r\n            'default': '500',\r\n            'hue-1': 'A400'\r\n        })\r\n        .backgroundPalette('third-party', {\r\n            'default': '50',  // background\r\n            'hue-1': '500',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('third-party', {\r\n            'default': 'A700'\r\n        });\r\n    \r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\n\r\nangular\r\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\r\n    .config(configureDefaultGreyTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     navy: 'Navy'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     navy: 'Сине-серая'\r\n    // });\r\n\r\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\r\n        '700': 'rgba(86, 97, 125, 1)',\r\n        '800': 'rgba(86, 97, 125, .54)',\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n    });\r\n    $mdThemingProvider.definePalette('grey', greyPalette);\r\n\r\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\r\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('teal', tealPalette);\r\n\r\n    $mdThemingProvider.theme('navy')\r\n        .primaryPalette('grey', {\r\n            'default': '700',\r\n            'hue-1': '800'\r\n        })\r\n        .backgroundPalette('grey', {\r\n            'default': '50',  // background\r\n            'hue-1': '700',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('teal', {\r\n            'default': 'A700'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\r\n    .config(configureDefaultNavyTheme);\r\n    \r\n}","{\r\n\r\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     orange: 'Orange'\r\n    // });\r\n\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     orange: 'Оранжевая'\r\n    // });\r\n\r\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(255, 112, 67, 1)',\r\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\r\n    });\r\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\r\n\r\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n        '800': 'rgba(255, 112, 67, 1)',\r\n        '900': 'rgba(255, 152, 67, .54)',\r\n        'A100': 'rgba(255, 171, 64, 1)',\r\n        'contrastLightColors': ['800', '900', 'A100']\r\n    });\r\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('orange')\r\n        .primaryPalette('red-primary', {\r\n            'default': '800',\r\n            'hue-1': '900'\r\n        })\r\n        .backgroundPalette('red-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('red-primary', {\r\n            'default': 'A100'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\r\n    .config(configureDefaultOrangeTheme);\r\n\r\n}","{\r\n\r\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\r\n    // pipTranslateProvider.translations('en', {\r\n    //     THEME: 'Theme',\r\n    //     pink: 'Pink'\r\n    // });\r\n    // pipTranslateProvider.translations('ru', {\r\n    //     THEME: 'Тема',\r\n    //     pink: 'Розовая',\r\n\r\n    // });\r\n\r\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n        'A100': 'rgba(250, 250, 250, 1)',\r\n        'A200': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'dark',\r\n        'contrastLightColors': ['A200', 'A700']\r\n    });\r\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\r\n\r\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\r\n        '600': 'rgba(255, 128, 171, 1)',\r\n        '700': 'rgba(188, 86, 121, .54)',\r\n        '900': 'rgba(188, 86, 121, 1)',\r\n        'contrastDefaultColor': 'light'\r\n    });\r\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\r\n\r\n    $mdThemingProvider.theme('pink')\r\n        .primaryPalette('pink-primary', {\r\n            'default': '900',\r\n            'hue-1': '700'\r\n        })\r\n        .backgroundPalette('pink-background', {\r\n            'default': '50',  // background\r\n            'hue-1': 'A200',  // tiles dialog\r\n            'hue-2': 'A700'   // app bar\r\n        })\r\n        .warnPalette('red', {\r\n            'default': 'A200'\r\n        })\r\n        .accentPalette('pink-primary', {\r\n            'default': '600'\r\n        });\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\r\n    .config(configureDefaultPinkTheme);\r\n    \r\n}","import './DefaultBlueTheme';\r\nimport './DefaultPinkTheme';\r\nimport './DefaultAmberTheme';\r\nimport './DefaultOrangeTheme';\r\nimport './DefaultGreenTheme';\r\nimport './DefaultNavyTheme';\r\nimport './DefaultGreyTheme';\r\n\r\nfunction configureDefaultTheme($mdThemingProvider) {\r\n    $mdThemingProvider.setDefaultTheme('default');\r\n    $mdThemingProvider.alwaysWatchTheme(true);\r\n}\r\n\r\nangular\r\n    .module('pipTheme.Default', [\r\n        'ngMaterial',\r\n        'pipTheme.Blue', \r\n        'pipTheme.Pink',\r\n        'pipTheme.Amber', \r\n        'pipTheme.Orange', \r\n        'pipTheme.Green', \r\n        'pipTheme.Navy', \r\n        'pipTheme.Grey'\r\n    ])\r\n    .config(configureDefaultTheme);\r\n","\r\nexport class ErrorPageConfig {\r\n    Active: boolean;\r\n    Name: string;\r\n    Event: string;\r\n    Title: string;\r\n    SubTitle: String;\r\n    Breadcrumb: string;\r\n    Image: string;\r\n    Params?: any;\r\n    RedirectSateDefault?: string;\r\n    StateIgnored?: string[];\r\n}\r\n\r\nexport class ErrorPageConfigs {\r\n\r\n    Maintenance: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_maintenance',\r\n        Event: 'pipMaintenanceError',\r\n        Title: 'ERROR_MAINTENANCE_TITLE',\r\n        SubTitle: 'ERROR_MAINTENANCE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MAINTENANCE_TITLE',\r\n        Image: 'images/maintenance.svg'\r\n\r\n    };\r\n\r\n    MissingRoute: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_missing_route',\r\n        Event: '$stateNotFound',\r\n        Title: 'ERROR_MISSING_ROUTE_TITLE',\r\n        SubTitle: 'ERROR_MISSING_ROUTE_SUBTITLE',\r\n        Breadcrumb: 'ERROR_MISSING_ROUTE_PAGE_TITLE',\r\n        Image: 'images/invalid_route.svg'\r\n    };\r\n\r\n    NoConnection: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_no_connection',\r\n        Event: 'pipNoConnectionError',\r\n        Title: 'ERROR_NO_CONNECTION_TITLE',\r\n        SubTitle: 'ERROR_NO_CONNECTION_SUBTITLE',\r\n        Breadcrumb: 'ERROR_NO_CONNECTION_TITLE',\r\n        Image: 'images/no_response.svg',\r\n        StateIgnored: []\r\n    };\r\n\r\n    Unknown: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unknown',\r\n        Event: 'pipUnknownError',\r\n        Title: 'ERROR_UNKNOWN_TITLE',\r\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\r\n        Image: 'images/unknown_error.svg'\r\n    };\r\n\r\n    Unsupported: ErrorPageConfig = {\r\n        Active: true,\r\n        Name: 'errors_unsupported',\r\n        Event: '',\r\n        Title: 'ERROR_UNSUPPORTED_TITLE',\r\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\r\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\r\n        Image: '',\r\n        Params: {}\r\n    }\r\n}\r\n\r\nexport class SupportedBrowsers {\r\n    edge: number = 11;\r\n    ie: number = 11;\r\n    firefox: number = 43;\r\n    opera: number = 35;\r\n    chrome: number = 47;\r\n}\r\n","import { IErrorPageConfigService, IErrorPageConfigProvider } from './IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig, SupportedBrowsers } from './ErrorPageConfig';\r\n\r\nclass ErrorPageConfigService implements IErrorPageConfigService {\r\n    private _config: ErrorPageConfigs;\r\n\r\n    public constructor(\r\n        config: ErrorPageConfigs\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._config = config || new ErrorPageConfigs();\r\n    }\r\n\r\n    public get configs(): ErrorPageConfigs {\r\n        return this._config;\r\n    }\r\n\r\n    public getErrorPageConfig(pageName: string): ErrorPageConfig {\r\n        console.log(pageName, this._config);\r\n        if (!pageName || !this._config[pageName]) {\r\n            return null;\r\n        }\r\n\r\n        return this._config[pageName];\r\n    }\r\n\r\n}\r\n\r\nclass ErrorPageConfigProvider implements IErrorPageConfigProvider {\r\n    private _service: ErrorPageConfigService;\r\n    public configs: ErrorPageConfigs;\r\n\r\n    constructor() {\r\n        this.configs = new ErrorPageConfigs();\r\n        this.configs.Unsupported.Params.supported = new SupportedBrowsers();\r\n    }\r\n\r\n    public setErrorPageConfig(pageName: string, config: ErrorPageConfig): void {\r\n        if (!pageName || !config) return;\r\n        if (!this.configs[pageName]) return;\r\n\r\n        this.configs[pageName] = <ErrorPageConfig>_.defaultsDeep(config, this.configs[pageName]);\r\n    }\r\n\r\n    public setAllErrorPageConfigs(configs: ErrorPageConfigs): void {\r\n        if (!configs) return;\r\n\r\n        this.configs = <ErrorPageConfigs>_.defaultsDeep(configs, this.configs);\r\n    }\r\n\r\n    public setSupportedBrowsers(browsers: SupportedBrowsers): void {\r\n        this.configs.Unsupported.Params.supported = browsers;\r\n    }\r\n\r\n    public $get(): ErrorPageConfigService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new ErrorPageConfigService(this.configs);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrorPageConfigService', [])\r\n        .provider('pipErrorPageConfigService', ErrorPageConfigProvider);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class ClearErrorsLink {\r\n        private _fieldController: any;\r\n        private _formController: any;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $ctrls\r\n        ) {\r\n            'ngInject';\r\n\r\n            this._fieldController = $ctrls[0];\r\n            this._formController = $ctrls[1];\r\n\r\n            $scope.$watch($attrs['ngModel'], (newValue) => {\r\n                this.clearFieldErrors();\r\n                this.clearFormErrors();\r\n            });\r\n        }\r\n\r\n        public clearFieldErrors() {\r\n            let errors = this._fieldController.$error;\r\n\r\n            for (let prop in errors) {\r\n                if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                    this._fieldController.$setValidity(prop, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        public clearFormErrors() {\r\n            this._formController.$serverError = {};\r\n        }\r\n    }\r\n\r\n    function clearErrorsDirective() {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: function (\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes,\r\n                $ctrls\r\n            ) {\r\n                new ClearErrorsLink($scope, $element, $attrs, $ctrls);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipClearErrors', [])\r\n        .directive('pipClearErrors', clearErrorsDirective);\r\n})();","import { IFormErrorsService } from './IFormErrorsService';\r\n\r\nclass FormErrorsService {\r\n\r\n    constructor(private $rootScope: ng.IRootScopeService) { }\r\n\r\n    public errorsWithHint(field: any) {\r\n        if (field == null) return;\r\n\r\n        return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n    };\r\n\r\n    public touchedErrorsWithHint(form: ng.IFormController, field: any, notSubmited?: boolean) {\r\n        if (form == null) return;\r\n        if (field == null) return;\r\n\r\n        if (form.$submitted || notSubmited && (field.$touched || field.$dirty)) {\r\n            let result = _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n            return result;\r\n        }\r\n        return { hint: true };\r\n    }\r\n\r\n    public resetFormErrors(form: ng.IFormController, errors?: boolean): void {\r\n        form.$setPristine();\r\n        form.$setUntouched();\r\n\r\n        if (errors) {\r\n            form.$setDirty();\r\n            form.$setSubmitted();\r\n        }\r\n\r\n        form['$serverError'] = {};\r\n    }\r\n\r\n    public resetFieldsErrors(form: ng.IFormController, field?: any): void {\r\n        if (!form) return;\r\n        if (field && form[field] && form[field].$error) {\r\n            form[field].$error = {};\r\n        } else {\r\n            for (let prop in form) {\r\n                if (form[prop] && form[prop].$error) {\r\n                    form[prop].$error = {};\r\n                }\r\n            }\r\n            if (form && form.$error) {\r\n                form.$error = {};\r\n            }\r\n        }\r\n    }\r\n\r\n    public setFormError(form: ng.IFormController, error, errorFieldMap) {\r\n        if (error == null) return;\r\n        // Prepare form server errors\r\n        form['$serverError'] = form['$serverError'] || {};\r\n        // Prepare error code\r\n        let code: string = error.code || (error.data || {}).code || null;\r\n        if (!code && error.status) code = error.status;\r\n\r\n        if (code) {\r\n            let errorName = 'ERROR_' + code,\r\n                field = errorFieldMap ? errorFieldMap[code] : null;\r\n            // Set server error to fields\r\n            if (field && form[field] && form[field].$setValidity) {\r\n                form[field].$setValidity(errorName, false);\r\n                return;\r\n            }\r\n\r\n            // Set server error to form\r\n            if (field == 'form') {\r\n                form['$serverError'][errorName] = true;\r\n                return;\r\n            }\r\n        }\r\n\r\n        // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n        if (error.data && error.data.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.data.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        // Set as undefined error\r\n        if (error.message) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.message;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n        if (error.name) {\r\n            form['$serverError']['ERROR_UNKNOWN'] = error.name;\r\n            this.goToUnhandledErrorPage(error);\r\n            return;\r\n        }\r\n\r\n\r\n        form['$serverError']['ERROR_UNKNOWN'] = error;\r\n        this.goToUnhandledErrorPage(error);\r\n    }\r\n\r\n    private goToUnhandledErrorPage(error) {\r\n        this.$rootScope.$emit('pipUnhandledInternalError', {\r\n            error: error\r\n        });\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipFormErrors', [])\r\n        .service('pipFormErrors', FormErrorsService);\r\n\r\n})();","\n\n    class HttpResponseInterceptor implements ng.IHttpInterceptor {\n        constructor(\n            private $q: ng.IQService, \n            private $location: ng.ILocationService, \n            private $rootScope: ng.IRootScopeService\n        ) {\n                \"ngInject\";\n        }\n\n        public responseError = (rejection: any): ng.IPromise<any> => {\n            switch (rejection.status) {\n                case 503:\n                    //available (maintenance)\n                    this.$rootScope.$emit('pipMaintenanceError', { error: rejection });\n                    break;\n                case -1:\n                    this.$rootScope.$emit('pipNoConnectionError', { error: rejection });\n                    break;\n                default:\n                    console.error(\"errors_unknown\", rejection);\n                    break;\n            }\n\n            return this.$q.reject(rejection);\n        }\n\n    }\n\n    function configureHttpInterceptor(\n        $stateProvider: ng.ui.IStateProvider, \n        $httpProvider: ng.IHttpProvider\n    ) {\n        // Attach interceptor to react on unauthorized errors\n        $httpProvider.interceptors.push('pipHttpResponseInterceptor');\n    }\n\n    angular\n        .module('pipErrors.Pages')\n        .config(configureHttpInterceptor)\n        .service('pipHttpResponseInterceptor', HttpResponseInterceptor);\n\n\n\n","export let ErrorsMaintenanceState = 'errors_maintenance';\r\nexport let MaintenanceErrorEvent = 'pipMaintenanceError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MaintenanceError {\r\n    config?: MaintenanceErrorConfig;\r\n}\r\n\r\nclass MaintenanceErrorConfig {\r\n    params?: MaintenanceErrorParams;\r\n}\r\n\r\nclass MaintenanceErrorParams {\r\n    interval?: number = 0;\r\n}\r\n\r\nclass MaintenanceErrorPageController {\r\n    private _pageName: string = 'Maintenance';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: MaintenanceError;\r\n    public timeoutInterval: number;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        private $window: ng.IWindowService,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n        this.timeoutInterval = this.error && this.error.config &&\r\n            this.error.config.params && this.error.config.params.interval ? this.error.config.params.interval : 0;\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    \r\n    public onRetry() {\r\n        if (this.$state.params && this.$state.params['fromState'] && this.$state.params['fromState'] != this.config.Name ) {\r\n            this.$state.go(this.$state.params['fromState'], this.$state.params['fromParams']);\r\n        } else if (this.config.RedirectSateDefault) {\r\n            this.$state.go(this.config.RedirectSateDefault);\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n        // this.$window.history.back();\r\n    }\r\n}\r\n\r\nfunction configureMaintenanceErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsMaintenanceState, {\r\n                url: '/errors/maintenance',\r\n                params: {\r\n                    error: null\r\n                },\r\n                controller: MaintenanceErrorPageController,\r\n                controllerAs: '$ctrl',\r\n                templateUrl: 'maintenance/MaintenanceErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initMaintenanceErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Maintenance.Active) return;\r\n\r\n    $rootScope.$on(MaintenanceErrorEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        $state.go(ErrorsMaintenanceState, params);\r\n    });\r\n}\r\n\r\nfunction setMaintenanceErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MAINTENANCE_TITLE': 'The server is on maintenance',\r\n        'ERROR_MAINTENANCE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n        'a short period. We\\'ll be back soon. Thank for your patience.',\r\n        'ERROR_MAINTENANCE_CLOSE': 'Close',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Try after',\r\n        ERROR_MAINTENANCE_RETRY: 'Retry'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MAINTENANCE_TITLE': 'Сервер находится на обслуживании',\r\n        'ERROR_MAINTENANCE_SUBTITLE': 'Приносим извинения за неудобства. Это приложение проходит техническое обслуживание на короткий период времени. Мы скоро вернемся. Благодарим за терпение.',\r\n        'ERROR_MAINTENANCE_CLOSE': 'Закрыть',\r\n        'ERROR_MAINTENANCE_TRY_AGAIN': 'Попробовать еще',\r\n        ERROR_MAINTENANCE_RETRY: 'Попробовать еще'\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMaintenanceErrorPageRoute)\r\n        .run(initMaintenanceErrorPage)\r\n        .run(setMaintenanceErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsMissingRouteState = 'errors_missing_route';\r\nexport let StateNotFoundEvent = '$stateNotFound';  \r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass MissingRouteErrorState {\r\n    to: string;\r\n    toParams: any;\r\n    fromParams: any;\r\n}\r\n\r\nclass MissingRouteErrorPageController {\r\n    private _pageName: string = 'MissingRoute';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public fromState: MissingRouteErrorState;\r\n    public unfoundState: MissingRouteErrorState;\r\n    public url: string;\r\n    public urlBack: string;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        private $location: ng.ILocationService,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.fromState = $state && $state.params && $state.params['fromState'] ? $state.params['fromState'] : {};\r\n        this.unfoundState = $state && $state.params ? $state.params['unfoundState'] : {};\r\n        this.url = this.unfoundState && this.unfoundState.to ? $state.href(this.unfoundState.to, this.unfoundState.toParams, { absolute: true }) : '';\r\n        this.urlBack = this.fromState && this.fromState.to ? $state.href(this.fromState.to, this.fromState.fromParams, { absolute: true }) : '';\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onContinue() {\r\n        this.$location.url('/');\r\n    }\r\n}\r\n\r\nfunction configureMissingRouteErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n    $stateProvider\r\n        .state(ErrorsMissingRouteState, {\r\n            url: '/errors/missing_route',\r\n            params: {\r\n                unfoundState: null,\r\n                fromState: null\r\n            },\r\n            controller: MissingRouteErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'missing_route/MissingRouteErrorPage.html'\r\n        });\r\n}\r\n\r\n\r\nfunction initMissingRouteErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.MissingRoute.Active) return;\r\n\r\n    $rootScope.$on(StateNotFoundEvent,\r\n        (\r\n            event: angular.IAngularEvent,\r\n            unfoundState: ng.ui.IState,\r\n            fromState: ng.ui.IState,\r\n            fromParams: any) => {\r\n            event.preventDefault();\r\n\r\n            $state.go(ErrorsMissingRouteState, {\r\n                unfoundState: unfoundState,\r\n                fromState: {\r\n                    to: fromState ? fromState.name : '',\r\n                    fromParams: fromParams\r\n                }\r\n            });\r\n\r\n            $rootScope[pip.services.RoutingVar] = false;\r\n        }\r\n    );\r\n}\r\n\r\nfunction setMissingRouteErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_MISSING_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Continue',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Try again',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Go Back',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Wrong page'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_MISSING_ROUTE_TITLE': 'К сожалению, страница недоступна',\r\n        'ERROR_MISSING_ROUTE_SUBTITLE': 'Введенная Вами ссылка не коректная или страница может быть удалена.',\r\n        'ERROR_MISSING_ROUTE_CONTINUE': 'Продолжить',\r\n        'ERROR_MISSING_ROUTE_TRY_AGAIN': 'Попробовать еще',\r\n        'ERROR_MISSING_ROUTE_GO_BACK': 'Вернуться',\r\n        'ERROR_MISSING_ROUTE_PAGE_TITLE': 'Ошибочная страница'\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureMissingRouteErrorPageRoute)\r\n        .run(initMissingRouteErrorPage)\r\n        .run(setMissingRouteErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsConnectionState = 'errors_no_connection';\r\nexport let ErrorsConnectionEvent = 'pipNoConnectionError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass NoConnectionError {\r\n    config?: any;\r\n}\r\n\r\nclass NoConnectionErrorPageController {\r\n    private _pageName: string = 'NoConnection';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: NoConnectionError;\r\n\r\n    constructor(\r\n        private $window: ng.IWindowService,\r\n        $scope: ng.IScope,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    public onRetry() {\r\n        if (this.$state.params && this.$state.params['fromState'] && this.$state.params['fromState'] != this.errorConfig.Name) {\r\n            this.$state.go(this.$state.params['fromState'], this.$state.params['fromParams']);\r\n        } else if (this.errorConfig.RedirectSateDefault) {\r\n            this.$state.go(this.errorConfig.RedirectSateDefault);\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n        // this.$window.history.back();\r\n    }\r\n}\r\n\r\nfunction configureNoConnectionErrorPageRoute(\r\n    $injector: angular.auto.IInjectorService,\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state(ErrorsConnectionState, {\r\n            url: '/errors/no_connection',\r\n            params: {\r\n                error: null,\r\n                fromState: null,\r\n                fromParams: null\r\n            },\r\n            controller: NoConnectionErrorPageController,\r\n            controllerAs: '$ctrl',\r\n            templateUrl: 'no_connection/NoConnectionErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initNoConnectionErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n    if (!config.NoConnection.StateIgnored) config.NoConnection.StateIgnored = [];\r\n    config.NoConnection.StateIgnored.push(config.NoConnection.Name);\r\n\r\n    if (!config.NoConnection.Active) return;\r\n\r\n    $rootScope.$on(ErrorsConnectionEvent,\r\n        (event: angular.IAngularEvent, params) => {\r\n            params = params ? params : {};\r\n\r\n            if (config.NoConnection.StateIgnored.indexOf($state.current.name) > -1) {\r\n                return;\r\n            } else {\r\n                params.fromState = $state.current.name;\r\n                params.fromParams = $state.params;\r\n            }\r\n\r\n            // todo make configure, as array of state\r\n            if ($state.current.name == 'recover_password' || $state.current.name == 'change_password'\r\n                || $state.current.name == 'expire_change_password' || $state.current.name == 'reset_password'\r\n                || $state.current.name == 'verify_email' || $state.current.name == 'verify_email_success'\r\n                || $state.current.name == 'signin' || $state.current.name == 'signup') {\r\n\r\n                return\r\n            }\r\n            $state.go(ErrorsConnectionState, params);\r\n        });\r\n}\r\n\r\nfunction setNoConnectionErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_NO_CONNECTION_TITLE': 'No connection to the server',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n        'ERROR_NO_CONNECTION_RETRY': 'Retry',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_NO_CONNECTION_TITLE': 'Нет подключения к серверу',\r\n        'ERROR_NO_CONNECTION_SUBTITLE': 'Невозможно подключиться к серверу. Проверьте подключение к Интернету и повторите попытку.',\r\n        'ERROR_NO_CONNECTION_RETRY': 'Повторить',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureNoConnectionErrorPageRoute)\r\n        .run(initNoConnectionErrorPage)\r\n        .run(setNoConnectionErrorPageResources);\r\n\r\n})();\r\n","(() => {\r\n\r\n    class NoConnectionPanelController {\r\n        private _retry: Function;\r\n        public error: any;\r\n        constructor($scope: ng.IScope) {\r\n            this._retry = $scope['retry'];\r\n            this.error = $scope['error'];\r\n        }\r\n\r\n        public onRetry() {\r\n            if (this._retry && angular.isFunction(this._retry)) this._retry();\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module(\"pipNoConnectionPanel\", [])\r\n        .directive('pipNoConnectionPanel',\r\n        () => {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/NoConnectionPanel.html',\r\n                controller: NoConnectionPanelController,\r\n                controllerAs: '$ctrl'\r\n            };\r\n        }\r\n        )\r\n\r\n})();\r\n\r\n","export let ErrorsUnknownState = 'errors_unknown';\r\nexport let ErrorsUnknownEvent = 'pipUnknownError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnknownErrorDetails {\r\n    code: number;\r\n    message: string;\r\n    status: string;\r\n    server_stacktrace: Function;\r\n    client_stacktrace: Function;\r\n}\r\n\r\nclass UnknownErrorPageController {\r\n    private _pageName: string = 'Unknown';\r\n    private pipNavService;\r\n\r\n    public config: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnknownErrorDetails;\r\n    public error_details: UnknownErrorDetails;\r\n    public showError: boolean;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService, \r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia, \r\n        $injector: angular.auto.IInjectorService,  \r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.config = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.showError = $scope['showError'];\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ?  $state.params['error'] : {};\r\n        \r\n        this.parseError();\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.config.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n\r\n    private parseError() {\r\n        this.error_details = new UnknownErrorDetails();\r\n        this.error_details.code = this.error.code;\r\n        this.error_details.message = this.error.message;\r\n        this.error_details.status = this.error.status;\r\n\r\n        this.error_details.server_stacktrace = () => {};\r\n\r\n        this.error_details.client_stacktrace = () => {};\r\n    }\r\n\r\n    public onDetails() {\r\n        this.showError = true;\r\n    }\r\n\r\n}\r\n\r\nfunction configureUnknownErrorPageRoute (\r\n    $injector: angular.auto.IInjectorService, \r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n            .state(ErrorsUnknownState, {\r\n                url: '/errors/unknown',\r\n                params: {\r\n                    error: null\r\n                }, \r\n                controllerAs: '$ctrl',\r\n                controller: UnknownErrorPageController,\r\n                templateUrl: 'unknown/UnknownErrorPage.html'\r\n            });\r\n}\r\n\r\nfunction initUnknownErrorPage(\r\n    $rootScope: ng.IRootScopeService, \r\n    $state: ng.ui.IStateService, \r\n    pipErrorPageConfigService: IErrorPageConfigService\r\n) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unknown.Active) return;\r\n\r\n    $rootScope.$on(ErrorsUnknownEvent,\r\n    (event: angular.IAngularEvent, params) => { \r\n        $state.go(ErrorsUnknownState, params);\r\n    });\r\n}\r\n\r\nfunction setUnknownErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n        'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n        'ERROR_UNKNOWN_CLOSE': 'Close',\r\n        'ERROR_UNKNOWN_DETAILS': 'Details',\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNKNOWN_TITLE': 'Что-то пошло не так',\r\n        'ERROR_UNKNOWN_SUBTITLE': 'Произошла неизвестная ошибка, но не беспокойтесь, мы уже уведомлены.',\r\n        'ERROR_UNKNOWN_CLOSE': 'Закрыть',\r\n        'ERROR_UNKNOWN_DETAILS': 'Подробнее',\r\n    });\r\n}\r\n\r\n(() => {\r\n\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnknownErrorPageRoute)\r\n        .run(initUnknownErrorPage)\r\n        .run(setUnknownErrorPageResources);\r\n\r\n})();\r\n","export let ErrorsUnsupportedState = 'errors_unsupported';\r\nexport let ErrorsUnsupportedEvent = 'pipUnsupportedError';\r\n\r\nimport { IErrorPageConfigService } from '../error_pages/IErrorPageConfigService';\r\nimport { ErrorPageConfigs, ErrorPageConfig } from '../error_pages/ErrorPageConfig';\r\n\r\nclass UnsupportedError {\r\n    config?: any;\r\n}\r\n\r\nclass UnsupportedErrorPageController {\r\n    private _pageName: string = 'Unsupported';\r\n    private pipNavService;\r\n\r\n    public errorConfig: ErrorPageConfig;\r\n    public isCordova: boolean = false;\r\n    public media;\r\n    public error: UnsupportedError;\r\n\r\n    constructor(\r\n        $scope: ng.IScope,\r\n        $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $injector: angular.auto.IInjectorService,\r\n        pipErrorPageConfigService: IErrorPageConfigService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this.errorConfig = pipErrorPageConfigService.getErrorPageConfig(this._pageName);\r\n        this.pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\r\n\r\n        this.media = pipMedia ? pipMedia : $mdMedia;\r\n\r\n        $rootScope[pip.services.RoutingVar] = false;\r\n        this.appHeader();\r\n\r\n        this.error = $state && $state.params && $state.params['error'] ? $state.params['error'] : {};\r\n\r\n    }\r\n\r\n    private appHeader(): void {\r\n        if (!this.pipNavService) return;\r\n\r\n        this.pipNavService.appbar.addShadow();\r\n        this.pipNavService.icon.showMenu();\r\n        this.pipNavService.breadcrumb.text = this.errorConfig.Breadcrumb;\r\n        this.pipNavService.actions.hide();\r\n    }\r\n}\r\n\r\nfunction configureUnsupportedErrorPageRoute(\r\n    $stateProvider: ng.ui.IStateProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $stateProvider\r\n        .state(ErrorsUnsupportedState, {\r\n            url: '/errors/unsupported',\r\n            params: {\r\n                error: null\r\n            },\r\n            controllerAs: '$ctrl',\r\n            controller: UnsupportedErrorPageController,\r\n            templateUrl: 'unsupported/UnsupportedErrorPage.html'\r\n        });\r\n}\r\n\r\nfunction initUnsupportedErrorPage(\r\n    $rootScope: ng.IRootScopeService,\r\n    $state: ng.ui.IStateService,\r\n    $injector: angular.auto.IInjectorService,\r\n    pipErrorPageConfigService: IErrorPageConfigService) {\r\n    \"ngInject\";\r\n\r\n    let config: ErrorPageConfigs = pipErrorPageConfigService.configs;\r\n\r\n    if (!config.Unsupported.Active) return;\r\n\r\n    let pipSystemInfo: any = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null;\r\n    if (!pipSystemInfo) { return; }\r\n\r\n    let supportedVersions = config.Unsupported.Params.supported;\r\n\r\n    let browser: string = pipSystemInfo.browserName;\r\n    let version: string = pipSystemInfo.browserVersion;\r\n    version = version.split(\".\")[0]\r\n\r\n    if (browser\r\n        && supportedVersions[browser]\r\n        && version >= supportedVersions[browser]) {\r\n        return;\r\n    }\r\n    // if not supported\r\n    $state.go(ErrorsUnsupportedState);\r\n}\r\n\r\nfunction setUnsupportedErrorPageResources($injector: angular.auto.IInjectorService) {\r\n    let pipTranslate: any = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate == null) return;\r\n\r\n    // Set translation strings for the module\r\n    pipTranslate.translations('en', {\r\n        'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n        'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n        'technologies. Download one of these great browsers and you\\'ll be on your way:',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': 'Version',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': 'Version',\r\n        ERROR_UNSUPPORTED_EDGE: 'Edge',\r\n        ERROR_UNSUPPORTED_EDGE_VER: 'Version',\r\n        ERROR_UNSUPPORTED_SAFARI_VER: 'Version',\r\n        ERROR_UNSUPPORTED_SAFARI: 'Safari'\r\n    });\r\n\r\n    pipTranslate.translations('ru', {\r\n        'ERROR_UNSUPPORTED_TITLE': 'Этот браузер не поддерживается. ',\r\n        'ERROR_UNSUPPORTED_SUBTITLE': 'Наше приложение использует новейшие технологии. Это делает приложение более быстрым ' +\r\n        'и простым в использовании. К сожалению, ваш браузер не поддерживает эти технологии. ' +\r\n        'Загрузите один из этих великолепных браузеров, и вы будете в пути:',\r\n        'ERROR_UNSUPPORTED_O': 'Opera',\r\n        'ERROR_UNSUPPORTED_O_VER': 'Версия',\r\n        'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n        'ERROR_UNSUPPORTED_IE_VER': 'Версия',\r\n        'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n        'ERROR_UNSUPPORTED_GC_VER': 'Версия',\r\n        'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n        'ERROR_UNSUPPORTED_FM_VER': 'Версия',\r\n        ERROR_UNSUPPORTED_EDGE: 'Edge',\r\n        ERROR_UNSUPPORTED_EDGE_VER: 'Версия',\r\n        ERROR_UNSUPPORTED_SAFARI_VER: 'Версия',\r\n        ERROR_UNSUPPORTED_SAFARI: 'Safari'\r\n    });\r\n}\r\n\r\n(() => {\r\n    angular\r\n        .module('pipErrors.Pages')\r\n        .config(configureUnsupportedErrorPageRoute)\r\n        .run(initUnsupportedErrorPage)\r\n        .run(setUnsupportedErrorPageResources);\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/MaintenanceErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_MAINTENANCE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_MAINTENANCE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.timeoutInterval\">{{::\\'ERROR_MAINTENANCE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"$ctrl.isCordova\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_MAINTENANCE_CLOSE\\' | translate}}</md-button></div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"!$ctrl.isCordova\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_MAINTENANCE_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/MissingRouteErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"$ctrl.onContinue($event)\">{{::\\'ERROR_MISSING_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{$ctrl.url}}\">{{::\\'ERROR_MISSING_ROUTE_TRY_AGAIN\\' | translate }}: {{$ctrl.url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{$ctrl.urlBack}}\">{{::\\'ERROR_MISSING_ROUTE_GO_BACK\\' | translate }}: {{$ctrl.urlBack}}</a></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/NoConnectionErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/NoConnectionPanel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{$ctrl.error.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.error.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.error.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"$ctrl.onRetry($event)\">{{::\\'ERROR_NO_CONNECTION_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/UnknownErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{$ctrl.config.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::$ctrl.config.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.config.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"$ctrl.showError && $ctrl.error_details && $ctrl.error_details.message\"><div ng-if=\"$ctrl.error_details.code\">Code: {{$ctrl.error_details.code}}</div><div ng-if=\"$ctrl.error_details.message\">Description: {{$ctrl.error_details.message}}</div><div ng-if=\"$ctrl.error_details.status\">HTTP status: {{$ctrl.error_details.status}}</div><div ng-if=\"$ctrl.error_details.server_stacktrace\">Server stacktrace: {{$ctrl.error_details.server_stacktrace}}</div><div ng-if=\"$ctrl.error_details.client_stacktrace\">Client stacktrace stacktrace: {{$ctrl.error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"$ctrl.isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"$ctrl.onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"$ctrl.error_details && $ctrl.error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"$ctrl.onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/UnsupportedErrorPage.html',\n    '<div class=\"pip-error-scroll-body pip-scroll\"><div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::$ctrl.errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::$ctrl.errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$ctrl.media(\\'gt-xs\\') && $ctrl.errorConfig.Params && $ctrl.errorConfig.Params.supported\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.ie\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}} {{ $ctrl.errorConfig.Params.supported.ie }} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.edge\"><div style=\"background-image: url(\\'images/edge.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://microsoft-edge.en.softonic.com/download\">{{::\\'ERROR_UNSUPPORTED_EDGE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_EDGE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.edge}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.firefox\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.firefox}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.chrome\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.chrome}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.opera\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.opera}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.safari\"><div style=\"background-image: url(\\'images/safari.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://safari.en.softonic.com/\">{{::\\'ERROR_UNSUPPORTED_SAFARI\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_SAFARI_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.safari}} +</p></div></div></div><div class=\"pip-error-details\" ng-if=\"$ctrl.media(\\'xs\\') && $ctrl.errorConfig.Params && $ctrl.errorConfig.Params.supported\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.ie\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.ie}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.edge\"><div style=\"background-image: url(\\'images/edge.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://microsoft-edge.en.softonic.com/download\">{{::\\'ERROR_UNSUPPORTED_EDGE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_EDGE_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.edge}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.firefox\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.firefox}} +</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.chrome\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.chrome}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.opera\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.opera}} +</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\" ng-if=\"$ctrl.errorConfig.Params.supported.safari\"><div style=\"background-image: url(\\'images/safari.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16 text-center\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://safari.en.softonic.com/\">{{::\\'ERROR_UNSUPPORTED_SAFARI\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_SAFARI_VER\\' | translate}} {{$ctrl.errorConfig.Params.supported.safari}} +</p></div></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IBarChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const BarChartBindings: IBarChartBindings = {\r\n        series: '<pipSeries',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class BarChartBindingsChanges implements IBarChartBindings, ng.IOnChangesObject {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject<any>;\r\n        xTickFormat: ng.IChangesObject<any>;\r\n        yTickFormat: ng.IChangesObject<any>;\r\n        interactiveLegend: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class BarChartController implements ng.IController, IBarChartBindings {\r\n        public series: any;\r\n        public xTickFormat: any;\r\n        public yTickFormat: any;\r\n        public interactiveLegend: boolean;\r\n        public legend: any;\r\n\r\n        private data: any;\r\n        private chart: nv.DiscreteBarChart = null;\r\n        private chartElem: any;\r\n        private colors: string[];\r\n        private height: number = 270;\r\n\r\n        private spaceAfterBar: number = 15;\r\n        private spaceAfterMultiBar: number = 1;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                if (!updatedLegend) return;\r\n\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n            this.generateParameterColor();\r\n            (<any>d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: BarChartBindingsChanges) {\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : null;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : null;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : null;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.data = this.prepareData(this.series);\r\n                this.legend = _.clone(this.series);\r\n                this.generateParameterColor();\r\n                this.updateChart();\r\n            }\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.chartElem.datum(this.data).call(this.chart);\r\n                this.configBarWidthAndLabel();\r\n                this.drawEmptyState();\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.discreteBarChart()\r\n                    .margin({\r\n                        top: 10,\r\n                        right: 0,\r\n                        bottom: 10\r\n                    })\r\n                    .x((d) => {\r\n                        return d.label || d.key || d.x;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .showValues(true)\r\n                    .staggerLabels(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .valueFormat(<any>d3.format('d'))\r\n                    .duration(0)\r\n                    .height(this.height)\r\n                    .color((d) => {\r\n                        return this.data[d.series].color || this.pipChartColors.materialColorToRgba(this.colors[d.series]);\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d) => {\r\n                        return this.yTickFormat ? this.yTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    });\r\n\r\n                this.chartElem = <any>d3.select(this.$element.get(0))\r\n                    .select('.bar-chart svg')\r\n                    .datum(this.data)\r\n                    .style('height', '305px')\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelOpened', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1000);\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelClosed', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1000);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    this.configBarWidthAndLabel(0);\r\n                }, 0);\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.update();\r\n            this.configBarWidthAndLabel(0);\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private prepareData(data): any {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (this.$element.find('.nv-noData').length === 0) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const g = this.chartElem.append('g').classed('empty-state', true),\r\n                    width = this.$element.find('.nvd3-svg').innerWidth(),\r\n                    margin = width * 0.1;\r\n\r\n                g.append('g')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', this.height - 10)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(42, 60)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 200)\r\n                    .attr('width', 38);\r\n\r\n                g.append('g')\r\n                    .attr('transform', 'translate(84, 160)')\r\n                    .style('fill', 'rgba(0, 0, 0, 0.08)')\r\n                    .append('rect')\r\n                    .attr('height', 100)\r\n                    .attr('width', 38);\r\n\r\n                g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2 * margin) / 126) + ', 1)');\r\n            }\r\n        }\r\n\r\n        private getGroupSize(): number {\r\n            let n: number = 1;\r\n\r\n            for (let i = 0; i < this.data.length; i++) {\r\n                if (this.data[i] && this.data[i].values && this.data[i].values.length > 0) {\r\n                    if (this.data[i].values.length > n) {\r\n                        n = this.data[i].values.length;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return this.data.length;\r\n        }\r\n\r\n        private configBarWidthAndLabel(timeout: number = 1000) {\r\n            const labels = this.$element.find('.nv-bar text'),\r\n                chartBars = this.$element.find('.nv-bar'),\r\n                parentHeight = (<any>this.$element.find('.nvd3-svg')[0]).getBBox().height;\r\n\r\n            d3.select(this.$element.find('.bar-chart')[0]).classed('visible', true);\r\n\r\n            let groupSize = this.getGroupSize();\r\n            let space: number = groupSize == 1 ? this.spaceAfterBar : this.spaceAfterMultiBar;\r\n            let correction = 2;\r\n            if (groupSize > 1) {\r\n                _.each(chartBars, (item: EventTarget, index: number) => {\r\n                    const barHeight = Number(d3.select(item).select('rect').attr('height')),\r\n                        barWidth = Number(d3.select(item).select('rect').attr('width'))/groupSize,\r\n                        element = d3.select(item),\r\n                        x = d3.transform(element.attr('transform')).translate[0],\r\n                        y = d3.transform(element.attr('transform')).translate[1];\r\n    \r\n                    element\r\n                        .attr('transform', 'translate(' + Number(x + index * (barWidth)) + ', ' + (this.height - 20) + ')')\r\n                        .select('rect').attr('height', 0);\r\n    \r\n                    element\r\n                        .transition()\r\n                        .duration(timeout)\r\n                        .attr('transform', 'translate(' + Number(x + index * (barWidth)) + ', ' + y + ')')\r\n                        .select('rect').attr('height', barHeight);\r\n    \r\n                    d3.select(labels[index])\r\n                        .attr('dy', barHeight / 2 + 10)\r\n                        .attr('x', barWidth * groupSize  / 2);\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                if (item.values[0]) {\r\n                    item.values[0].color = item.values[0].color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n                    item.color = item.values[0].color;\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const BarChart: ng.IComponentOptions = {\r\n        bindings: BarChartBindings,\r\n        templateUrl: 'bar_chart/BarChart.html',\r\n        controller: BarChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipBarCharts', [])\r\n        .component('pipBarChart', BarChart);\r\n}","import { IChartColorsService } from './IChartColorsService';\r\n\r\n{\r\n    class ChartColorsService implements IChartColorsService {\r\n        constructor(\r\n            private $mdColorPalette: angular.material.IColorPalette\r\n        ) { \r\n            \"ngInject\";\r\n        }\r\n\r\n        public getMaterialColor(index: number, colors: string[]): string {\r\n            if (!colors || colors.length < 1) return null;\r\n\r\n            if (index >= colors.length) {\r\n                index = 0;\r\n            }\r\n\r\n            return this.materialColorToRgba(colors[index]);\r\n        }\r\n\r\n        public materialColorToRgba(color: string): string {\r\n            return 'rgba(' + this.$mdColorPalette[color][500].value[0] + ',' +\r\n                this.$mdColorPalette[color][500].value[1] + ',' +\r\n                this.$mdColorPalette[color][500].value[2] + ',' +\r\n                (this.$mdColorPalette[color][500].value[3] || 1) + ')';\r\n        }\r\n\r\n        public generateMaterialColors(): string[] {\r\n            let colors = _.map((<any>this.$mdColorPalette), (palette, color: string) => {\r\n                return color;\r\n            });\r\n            colors = _.filter(colors, (color: string) => {\r\n                return _.isObject(this.$mdColorPalette[color]) && _.isObject(this.$mdColorPalette[color][500]) && _.isArray(this.$mdColorPalette[color][500].value);\r\n            });\r\n\r\n            return colors;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipChartColors', [])\r\n        .service('pipChartColors', ChartColorsService);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        interactive: any;\r\n    }\r\n\r\n    const ChartLegendBindings: IChartLegendBindings = {\r\n        series: '<pipSeries',\r\n        interactive: '<pipInteractive'\r\n    }\r\n\r\n    class ChartLegendBindingsChanges implements ng.IOnChangesObject, IChartLegendBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        interactive: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class ChartLegendController implements ng.IController, IChartLegendBindings {\r\n        public series: any;\r\n        public interactive: boolean;\r\n\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.updateLegends();\r\n        }\r\n\r\n        public $onChanges(changes: ChartLegendBindingsChanges) {\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.series = changes.series.currentValue;\r\n                this.updateLegends();\r\n            }\r\n\r\n            if (changes.interactive && changes.interactive.currentValue !== changes.interactive.previousValue) {\r\n                this.interactive = changes.interactive.currentValue;\r\n                if (this.interactive === true) {\r\n                    this.$timeout(() => {\r\n                        this.colorCheckboxes();\r\n                    }, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateLegends() {\r\n            this.$timeout(() => {\r\n                this.animate();\r\n                this.colorCheckboxes();\r\n            }, 0);\r\n            this.prepareSeries();\r\n        }\r\n\r\n        private colorCheckboxes() {\r\n            const checkboxContainers = this.$element.find('md-checkbox .md-container');\r\n\r\n            _.each(checkboxContainers, (item: EventTarget, index: number) => {\r\n                if (index >= this.series.length) {\r\n                    return\r\n                }\r\n                $(item)\r\n                    .css('color', this.series[index].color || this.colors[index])\r\n                    .find('.md-icon')\r\n                    .css('background-color', this.series[index].color || this.colors[index]);\r\n            });\r\n        }\r\n\r\n        private animate() {\r\n            const legendTitles = this.$element.find('.chart-legend-item');\r\n\r\n            _.each(legendTitles, (item: EventTarget, index: number) => {\r\n                this.$timeout(() => {\r\n                    $(item).addClass('visible');\r\n                }, 200 * index);\r\n            });\r\n        }\r\n\r\n        private prepareSeries() {\r\n            if (!this.series) return;\r\n\r\n            _.each(this.series, (item: any, index: number) => {\r\n                const materialColor = this.pipChartColors.getMaterialColor(index, this.colors);\r\n                item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : materialColor);\r\n                item.disabled = item.disabled || false;\r\n            });\r\n        }\r\n    }\r\n\r\n    const ChartLegend: ng.IComponentOptions = {\r\n        bindings: ChartLegendBindings,\r\n        templateUrl: 'chart_legend/ChartInteractiveLegend.html',\r\n        controller: ChartLegendController\r\n    }\r\n\r\n    angular\r\n        .module('pipChartLegends', [])\r\n        .component('pipChartLegend', ChartLegend);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        showYAxis: any;\r\n        showXAxis: any;\r\n        xFormat: any;\r\n        xTickFormat: any;\r\n        yTickFormat: any;\r\n        xTickValues: any;\r\n        dynamic: any;\r\n        fixedHeight: any;\r\n        dynamicHeight: any;\r\n        minHeight: any;\r\n        maxHeight: any;\r\n        interactiveLegend: any;\r\n    }\r\n\r\n    const LineChartBindings: ILineChartBindings = {\r\n        series: '<pipSeries',\r\n        showYAxis: '<?pipYAxis',\r\n        showXAxis: '<?pipXAxis',\r\n        xFormat: '<?pipXFormat',\r\n        xTickFormat: '<?pipXTickFormat',\r\n        yTickFormat: '<?pipYTickFormat',\r\n        xTickValues: '<?pipXTickValues',\r\n        dynamic: '<?pipDynamic',\r\n        fixedHeight: '<?pipDiagramHeight',\r\n        dynamicHeight: '<?pipDynamicHeight',\r\n        minHeight: '<?pipMinHeight',\r\n        maxHeight: '<?pipMaxHeight',\r\n        interactiveLegend: '<?pipInterLegend'\r\n    }\r\n\r\n    class LineChartBindingsChanges implements ng.IOnChangesObject, ILineChartBindings {\r\n        [key: string]: any;\r\n\r\n        fixedHeight: ng.IChangesObject<number>;\r\n        dynamicHeight: ng.IChangesObject<boolean>;\r\n        minHeight: ng.IChangesObject<number>;\r\n        maxHeight: ng.IChangesObject<number>;\r\n\r\n        series: ng.IChangesObject<any>;\r\n        showYAxis: ng.IChangesObject<boolean>;\r\n        showXAxis: ng.IChangesObject<boolean>;\r\n        xFormat: ng.IChangesObject<any>;\r\n        xTickFormat: ng.IChangesObject<any>;\r\n        yTickFormat: ng.IChangesObject<any>;\r\n        xTickValues: ng.IChangesObject<any>;\r\n        dynamic: ng.IChangesObject<boolean>;\r\n        interactiveLegend: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LineChartController implements ng.IController, ILineChartBindings {\r\n        private HEIGHT = 270;\r\n        private chart: nv.LineChart = null;\r\n        private chartElem: any = null;\r\n        private setZoom: Function = null;\r\n        private updateZoomOptions: Function = null;\r\n        private colors: string[];\r\n\r\n        public fixedHeight: number = this.HEIGHT;\r\n        public dynamicHeight: boolean = false;\r\n        public minHeight: number = this.HEIGHT;\r\n        public maxHeight: number = this.HEIGHT;\r\n        public series: any;\r\n        public showYAxis: boolean = true;\r\n        public showXAxis: boolean = true;\r\n        public xFormat: Function;\r\n        public xTickFormat: Function;\r\n        public yTickFormat: Function;\r\n        public xTickValues: number[];\r\n        public dynamic: boolean = false;\r\n        public interactiveLegend: boolean = false;\r\n        public data: any;\r\n        public legend: any;\r\n        public sourceEvents: any;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n\r\n            $scope.$watch('$ctrl.legend', (updatedLegend) => {\r\n                this.data = this.prepareData(updatedLegend);\r\n                this.legend = updatedLegend;\r\n\r\n                this.updateChart();\r\n            }, true);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                $timeout(() => {\r\n                    d3.selectAll('.nvtooltip').style('opacity', 0);\r\n                }, 800)\r\n            });\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.prepareData(this.series) || [];\r\n            this.legend = _.clone(this.series);\r\n            this.sourceEvents = [];\r\n\r\n            this.generateParameterColor();\r\n\r\n            (<any>d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: LineChartBindingsChanges) {\r\n            this.fixedHeight = changes.fixedHeight ? changes.fixedHeight.currentValue : this.HEIGHT;\r\n            this.minHeight = changes.minHeight ? changes.minHeight.currentValue : this.HEIGHT;\r\n            this.maxHeight = changes.maxHeight ? changes.maxHeight.currentValue : this.HEIGHT;\r\n            this.dynamicHeight = changes.dynamicHeight ? changes.dynamicHeight.currentValue : this.dynamicHeight;\r\n\r\n            this.showXAxis = changes.showXAxis ? changes.showXAxis.currentValue : this.showXAxis;\r\n            this.showYAxis = changes.showYAxis ? changes.showYAxis.currentValue : this.showYAxis;\r\n            this.dynamic = changes.dynamic ? changes.dynamic.currentValue : this.dynamic;\r\n            this.interactiveLegend = changes.interactiveLegend ? changes.interactiveLegend.currentValue : this.interactiveLegend;\r\n\r\n            this.xFormat = changes.xFormat ? changes.xFormat.currentValue : this.xFormat;\r\n            this.xTickFormat = changes.xTickFormat ? changes.xTickFormat.currentValue : this.xTickFormat;\r\n            this.yTickFormat = changes.yTickFormat ? changes.yTickFormat.currentValue : this.yTickFormat;\r\n\r\n            if (changes.xTickValues && changes.xTickValues.currentValue !== changes.xTickValues.previousValue) {\r\n                this.xTickValues = changes.xTickValues.currentValue;\r\n                this.updateXTickValues();\r\n                if (this.chartElem && this.chart) this.chartElem.datum(this.data || []).call(this.chart);\r\n            }\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.updateSeries();\r\n            }\r\n        }\r\n\r\n        private prepareData(data) {\r\n            const result = [];\r\n            _.each(data, (seria) => {\r\n                if (!seria.disabled && seria.values) result.push(seria);\r\n            });\r\n\r\n            return _.cloneDeep(result);\r\n        }\r\n\r\n        private getHeight() {\r\n            /*if (this.dynamicHeight) {\r\n                const heigth = Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight);\r\n                return heigth;\r\n            } else {\r\n                return this.fixedHeight;\r\n            }*/\r\n            return this.dynamicHeight ? Math.min(Math.max(this.minHeight, this.$element.parent().innerHeight()), this.maxHeight) : this.fixedHeight;\r\n        };\r\n\r\n        public zoomIn() {\r\n            if (this.setZoom) {\r\n                this.setZoom('in');\r\n            }\r\n        };\r\n\r\n        public zoomOut() {\r\n            if (this.setZoom) {\r\n                this.setZoom('out');\r\n            }\r\n        };\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.lineChart()\r\n                    .margin({\r\n                        top: 20,\r\n                        right: 20,\r\n                        bottom: 30,\r\n                        left: 80\r\n                    })\r\n                    .x((d) => {\r\n                        return (d !== undefined && d.x !== undefined) ? (this.xFormat ? this.xFormat(d.x) : d.x) : d;\r\n                    })\r\n                    .y((d) => {\r\n                        return (d !== undefined && d.value !== undefined) ? d.value : d;\r\n                    })\r\n                    .height(this.getHeight() - 50)\r\n                    .useInteractiveGuideline(true)\r\n                    .showXAxis(true)\r\n                    .showYAxis(true)\r\n                    .showLegend(false)\r\n                    .color((d) => {\r\n                        return d.color || (<any>d3.scale).paletteColors().range();\r\n                    });\r\n                if (this.onlyZeroY()) {\r\n                    this.chart.yDomain([0, 5]);\r\n                }\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n\r\n                this.chart.yAxis\r\n                    .tickFormat((d: any) => {\r\n                        let y = this.yTickFormat ? this.yTickFormat(d) : d;\r\n\r\n                        return this.clipYTick(y);\r\n                    });\r\n\r\n                this.chart.xAxis\r\n                    .tickFormat((d) => {\r\n                        return this.xTickFormat ? this.xTickFormat(d) : d;\r\n                    })\r\n                    .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                        d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0)).select('.line-chart svg');\r\n                this.chartElem.datum(this.data || []).style('height', (this.getHeight() - 50) + 'px').call(this.chart);\r\n                // Handle touches for correcting tooltip position\r\n                $('.line-chart svg').on('touchstart touchmove', (e) => {\r\n                    this.$timeout(() => {\r\n                        const tooltip = $('.nvtooltip'),\r\n                            tooltipW = tooltip.innerWidth(),\r\n                            bodyWidth = $('body').innerWidth(),\r\n                            x = e.originalEvent['touches'][0]['pageX'],\r\n                            y = e.originalEvent['touches'][0]['pageY'];\r\n\r\n                        tooltip.css('transform', 'translate(' +\r\n                            (x + tooltipW >= bodyWidth ? (x - tooltipW) : x) + ',' +\r\n                            y + ')');\r\n                        tooltip.css('left', 0);\r\n                        tooltip.css('top', 0);\r\n                    });\r\n                });\r\n\r\n                $('.line-chart svg').on('touchstart touchend', (e) => {\r\n                    const removeTooltip = () => {\r\n                        $('.nvtooltip').css('opacity', 0);\r\n                    };\r\n\r\n                    removeTooltip();\r\n\r\n                    this.$timeout(() => {\r\n                        removeTooltip();\r\n                    }, 500);\r\n                });\r\n\r\n                if (this.dynamic) {\r\n                    this.addZoom(this.chart, this.chartElem);\r\n                }\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipMainResized', () => {\r\n                    this.onResize();\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelOpened', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1500);\r\n                });\r\n\r\n                this.$rootScope.$on('pipAuxPanelClosed', () => {\r\n                    this.$timeout(() => {\r\n                        this.onResize();\r\n                    }, 1500);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.drawEmptyState();\r\n            });\r\n        }\r\n\r\n        private clipYTick(string: String): any {\r\n            return string.length > 12 ? (string.substr(0, 10) + '..') : string;\r\n        }\r\n\r\n        private onlyZeroY() {\r\n            for (let seria in this.data) {\r\n                for (let v in this.data[seria]['values']) {\r\n                    if (this.data[seria]['values'][v]['value'] != 0) return false;\r\n                };\r\n            };\r\n\r\n            return true;\r\n        }\r\n\r\n        private updateXTickValues() {\r\n            if (!this.chart) return;\r\n\r\n            this.chart.xAxis\r\n                .tickValues(this.xTickValues && _.isArray(this.xTickValues) && this.xTickValues.length > 2 ?\r\n                    d3.range(this.xTickValues[0], this.xTickValues[1], this.xTickValues[2]) : null);\r\n        }\r\n\r\n        private updateChart() {\r\n            if (this.chart) {\r\n                this.updateXTickValues();\r\n\r\n                this.chartElem.datum(this.data || []).call(this.chart);\r\n                this.drawEmptyState();\r\n\r\n                if (this.updateZoomOptions) this.updateZoomOptions(this.data);\r\n            }\r\n        }\r\n\r\n        private updateSeries() {\r\n            this.data = this.prepareData(this.series);\r\n            this.legend = _.clone(this.series);\r\n\r\n            this.generateParameterColor();\r\n            this.updateChart();\r\n        }\r\n\r\n        private onResize() {\r\n            this.chart.height(this.getHeight() - 50);\r\n            this.chartElem.style('height', (this.getHeight() - 50) + 'px');\r\n            this.chart.update();\r\n            this.drawEmptyState();\r\n        }\r\n\r\n        private drawEmptyState() {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n            } else {\r\n                const containerWidth = this.$element.find('.line-chart').innerWidth(),\r\n                    containerHeight = this.$element.find('.line-chart').innerHeight();\r\n\r\n                if (this.$element.find('.empty-state').get(0)) {\r\n                    this.chartElem\r\n                        .select('image')\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\r\n                } else {\r\n                    this.chartElem\r\n                        .append(\"defs\")\r\n                        .append(\"pattern\")\r\n                        .attr(\"height\", 1)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"x\", \"0\")\r\n                        .attr(\"y\", \"0\")\r\n                        .attr(\"id\", \"bg\")\r\n                        .append(\"image\")\r\n                        .attr('x', 17)\r\n                        .attr('y', 0)\r\n                        .attr('height', \"216px\")\r\n                        .attr('width', \"1151px\")\r\n                        .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\r\n                        .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\r\n\r\n                    this.chartElem\r\n                        .append('rect')\r\n                        .classed('empty-state', true)\r\n                        .attr('height', \"100%\")\r\n                        .attr('width', \"100%\")\r\n                        .attr('fill', 'url(#bg)');\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateScroll(domains, boundary) {\r\n            const bDiff = boundary[1] - boundary[0],\r\n                domDiff = domains[1] - domains[0],\r\n                isEqual = domDiff / bDiff === 1;\r\n\r\n            $(this.$element[0]).find('.visual-scroll')\r\n                .css('opacity', function () {\r\n                    return isEqual ? 0 : 1;\r\n                });\r\n\r\n            if (isEqual) return;\r\n\r\n            $(this.$element[0]).find('.scrolled-block')\r\n                .css('left', () => {\r\n                    return (domains[0] - boundary[0]) / bDiff * 100 + '%';\r\n                })\r\n                .css('width', () => {\r\n                    return domDiff / bDiff * 100 + '%';\r\n                });\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n        private addZoom(chart, svg) {\r\n            // Scale Extent\r\n            const scaleExtent = 4;\r\n\r\n            // Parameters\r\n            let yAxis = null;\r\n            let xAxis = null;\r\n            let xDomain = null;\r\n            let yDomain = null;\r\n            let redraw = null;\r\n\r\n            // Scales\r\n            let xScale = null;\r\n            let yScale = null;\r\n\r\n            // Min/max boundaries\r\n            let x_boundary = null;\r\n            let y_boundary = null;\r\n\r\n            // Create d3 zoom handler\r\n            let d3zoom = d3.behavior.zoom();\r\n            let prevXDomain = null;\r\n            let prevScale = null;\r\n            let prevTranslate = null;\r\n\r\n            const setData = (newChart) => {\r\n                // Parameters\r\n                yAxis = newChart.yAxis;\r\n                xAxis = newChart.xAxis;\r\n                xDomain = newChart.xDomain || xAxis.scale().domain;\r\n                yDomain = newChart.yDomain || yAxis.scale().domain;\r\n                redraw = newChart.update;\r\n\r\n                // Scales\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                // Min/max boundaries\r\n                x_boundary = xAxis.scale().domain().slice();\r\n                y_boundary = yAxis.scale().domain().slice();\r\n\r\n                // Create d3 zoom handler\r\n                prevXDomain = x_boundary;\r\n                prevScale = d3zoom.scale();\r\n                prevTranslate = d3zoom.translate();\r\n\r\n                // Ensure nice axis\r\n                xScale.nice();\r\n                yScale.nice();\r\n            }\r\n\r\n            setData(chart);\r\n\r\n            // Fix domain\r\n            const fixDomain = (domain, boundary, scale, translate) => {\r\n                if (domain[0] < boundary[0]) {\r\n                    domain[0] = boundary[0];\r\n                    if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                        domain[1] += (boundary[0] - domain[0]);\r\n                    } else {\r\n                        domain[1] = prevXDomain[1];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n\r\n                }\r\n                if (domain[1] > boundary[1]) {\r\n                    domain[1] = boundary[1];\r\n                    if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                        domain[0] -= (domain[1] - boundary[1]);\r\n                    } else {\r\n                        domain[0] = prevXDomain[0];\r\n                        translate = _.clone(prevTranslate);\r\n                    }\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                prevXDomain = _.clone(domain);\r\n                prevScale = _.clone(scale);\r\n                prevTranslate = _.clone(translate);\r\n\r\n                return domain;\r\n            }\r\n\r\n            const updateChart = () => {\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                xScale.domain(x_boundary);\r\n                d3zoom.x(xScale).y(yScale);\r\n                svg.call(d3zoom);\r\n            }\r\n\r\n            // Zoom event handler\r\n            const zoomed = () => {\r\n                if ((<any>d3.event).scale === 1) {\r\n                    unzoomed();\r\n                    updateChart();\r\n                } else {\r\n                    xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\r\n                    redraw();\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n\r\n            // Describe set zoom function\r\n            this.setZoom = (which) => {\r\n                const center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                const translate0 = d3zoom.translate(),\r\n                    coordinates0 = coordinates(center0);\r\n\r\n                if (which === 'in') {\r\n                    if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                } else {\r\n                    if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                }\r\n\r\n                const center1 = point(coordinates0);\r\n                d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                d3zoom.event(svg);\r\n            };\r\n\r\n            const step = (which) => {\r\n                const translate = d3zoom.translate();\r\n\r\n                if (which === 'right') {\r\n                    translate[0] -= 20;\r\n                } else {\r\n                    translate[0] += 20;\r\n                }\r\n\r\n                d3zoom.translate(translate);\r\n                d3zoom.event(svg);\r\n            }\r\n\r\n            const coordinates = (point) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n            }\r\n\r\n            const point = (coordinates) => {\r\n                const scale = d3zoom.scale(),\r\n                    translate = d3zoom.translate();\r\n                return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n            }\r\n\r\n            const keypress = () => {\r\n                switch ((<any>d3.event).keyCode) {\r\n                    case 39:\r\n                        step('right');\r\n                        break;\r\n                    case 37:\r\n                        step('left');\r\n                        break;\r\n                    case 107:\r\n                        this.setZoom('in');\r\n                        break;\r\n                    case 109:\r\n                        this.setZoom('out');\r\n                }\r\n            }\r\n\r\n            // Zoom event handler\r\n            const unzoomed = () => {\r\n                xDomain(x_boundary);\r\n                redraw();\r\n                d3zoom.scale(1);\r\n                d3zoom.translate([0, 0]);\r\n                prevScale = 1;\r\n                prevTranslate = [0, 0];\r\n            }\r\n\r\n            // Initialize wrapper\r\n            d3zoom.x(xScale)\r\n                .y(yScale)\r\n                .scaleExtent([1, scaleExtent])\r\n                .on('zoom', zoomed);\r\n\r\n            // Add handler\r\n            svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n            $(this.$element.get(0)).addClass('dynamic');\r\n\r\n            // Add keyboard handlers\r\n            svg\r\n                .attr('focusable', false)\r\n                .style('outline', 'none')\r\n                .on('keydown', keypress)\r\n                .on('focus', () => { });\r\n\r\n            const getXMinMax = (data) => {\r\n                let maxVal, minVal = null;\r\n\r\n                for (let i = 0; i < data.length; i++) {\r\n                    if (!data[i].disabled) {\r\n                        const tempMinVal = d3.max(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        const tempMaxVal = d3.min(data[i].values, (d: any) => {\r\n                            return this.xFormat ? this.xFormat(d.x) : d.x;\r\n                        });\r\n                        minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                        maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                    }\r\n                }\r\n                return [maxVal, minVal];\r\n            };\r\n\r\n            const updateZoomOptions = (data) => {\r\n                yAxis = chart.yAxis;\r\n                xAxis = chart.xAxis;\r\n\r\n                xScale = xAxis.scale();\r\n                yScale = yAxis.scale();\r\n\r\n                x_boundary = getXMinMax(data);\r\n\r\n                if (d3zoom.scale() === 1) {\r\n                    d3zoom.x(xScale).y(yScale);\r\n                    svg.call(d3zoom);\r\n                    d3zoom.event(svg);\r\n                }\r\n\r\n                this.updateScroll(xScale.domain(), x_boundary);\r\n            }\r\n        }\r\n    }\r\n\r\n    const LineChart: ng.IComponentOptions = {\r\n        bindings: LineChartBindings,\r\n        templateUrl: 'line_chart/LineChart.html',\r\n        controller: LineChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipLineCharts', [])\r\n        .component('pipLineChart', LineChart);\r\n}","import { IChartColorsService } from '../chart_colors/IChartColorsService';\r\n\r\n{\r\n    interface IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: any;\r\n        donut: any;\r\n        legend: any;\r\n        total: any;\r\n        size: any;\r\n        centered: any;\r\n    }\r\n\r\n    const PieChartBindings: IPieChartBindings = {\r\n        series: '<pipSeries',\r\n        donut: '<?pipDonut',\r\n        legend: '<?pipShowLegend',\r\n        total: '<?pipShowTotal',\r\n        size: '<?pipPieSize',\r\n        centered: '<?pipCentered'\r\n    }\r\n\r\n    class PieChartBindingsChanges implements ng.IOnChangesObject, IPieChartBindings {\r\n        [key: string]: any;\r\n\r\n        series: ng.IChangesObject < any > ;\r\n        donut: ng.IChangesObject < boolean > ;\r\n        legend: ng.IChangesObject < boolean > ;\r\n        total: ng.IChangesObject < boolean > ;\r\n        size: ng.IChangesObject < number | string > ;\r\n        centered: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class PieChartController implements ng.IController, IPieChartBindings {\r\n        public series: any;\r\n        public donut: boolean = false;\r\n        public legend: boolean = true;\r\n        public total: boolean = true;\r\n        public size: number | string = 250;\r\n        public centered: boolean = false;\r\n\r\n        private data: any;\r\n        private chart: nv.PieChart = null;\r\n        private chartElem: any;\r\n        private titleElem: any;\r\n        private colors: string[];\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipChartColors: IChartColorsService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.colors = this.pipChartColors.generateMaterialColors();\r\n        }\r\n\r\n        public $onInit() {\r\n            this.data = this.series;\r\n            this.generateParameterColor();\r\n            ( < any > d3.scale).paletteColors = () => {\r\n                return d3.scale.ordinal().range(this.colors.map((color) => {\r\n                    return this.pipChartColors.materialColorToRgba(color);\r\n                }));\r\n            };\r\n\r\n            this.instantiateChart();\r\n        }\r\n\r\n        public $onChanges(changes: PieChartBindingsChanges) {\r\n            this.legend = changes.legend ? changes.legend.currentValue : this.legend;\r\n            this.centered = changes.centered ? changes.centered.currentValue : this.centered;\r\n            this.donut = changes.donut ? changes.donut.currentValue : this.donut;\r\n            this.size = changes.size ? changes.size.currentValue : this.size;\r\n            this.total = changes.total ? changes.total.currentValue : this.total;\r\n\r\n            if (changes.series && changes.series.currentValue !== changes.series.previousValue) {\r\n                this.data = changes.series.currentValue;\r\n                this.generateParameterColor();\r\n\r\n                if (this.chart) {\r\n                    this.chartElem.datum(this.data).call(this.chart);\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                }\r\n            }\r\n        }\r\n\r\n        private instantiateChart() {\r\n            nv.addGraph(() => {\r\n                this.chart = nv.models.pieChart()\r\n                    .margin({\r\n                        top: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        left: 0\r\n                    })\r\n                    .x((d) => {\r\n                        return this.donut ? d.value : null;\r\n                    })\r\n                    .y((d) => {\r\n                        return d.value;\r\n                    })\r\n                    .height(Number(this.size))\r\n                    .width(Number(this.size))\r\n                    .showLabels(true)\r\n                    .labelThreshold(.001)\r\n                    .growOnHover(false)\r\n                    .donut(this.donut)\r\n                    .donutRatio(0.5)\r\n                    .color((d) => {\r\n                        return d.color || ( < any > d3.scale).paletteColors().range();\r\n                    });\r\n\r\n                this.chart.tooltip.enabled(false);\r\n                this.chart.noData('There is no data right now...');\r\n                this.chart.showLegend(false);\r\n\r\n                this.chartElem = d3.select(this.$element.get(0))\r\n                    .select('.pie-chart')\r\n                    .style('height', (this.size) + 'px')\r\n                    .style('width', this.centered ? '100%' : (this.size) + 'px')\r\n                    .select('svg')\r\n                    .style('opacity', 0)\r\n                    .datum(this.data || [])\r\n                    .call(this.chart);\r\n\r\n                nv.utils.windowResize(() => {\r\n                    this.chart.update();\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    });\r\n                    this.centerChart();\r\n                    this.drawEmptyState(d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0]);\r\n                });\r\n\r\n                return this.chart;\r\n            }, () => {\r\n                this.$timeout(() => {\r\n                    const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0];\r\n                    this.renderTotalLabel(svgElem);\r\n                    d3.select(svgElem)\r\n                        .transition()\r\n                        .duration(1000)\r\n                        .style('opacity', 1);\r\n\r\n                    this.$timeout(() => {\r\n                        this.resizeTitleLabelUnwrap();\r\n                    }, 800);\r\n                    this.centerChart();\r\n                    this.drawEmptyState(svgElem);\r\n                });\r\n            });\r\n        }\r\n\r\n        private drawEmptyState(svg) {\r\n            if (!this.$element.find('text.nv-noData').get(0)) {\r\n                d3.select(this.$element.find('.empty-state')[0]).remove();\r\n                this.$element.find('.pip-empty-pie-text').remove();\r\n            } else {\r\n                if (this.$element.find('.pip-empty-pie-text').length === 0) {\r\n                    this.$element.find('.pie-chart')\r\n                        .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\r\n                }\r\n\r\n                const pie = d3.layout.pie().sort(null),\r\n                    size = Number(this.size);\r\n\r\n                const arc = d3.svg.arc()\r\n                    .innerRadius(size / 2 - 20)\r\n                    .outerRadius(size / 2 - 57);\r\n\r\n                svg = d3.select(svg)\r\n                    .append(\"g\")\r\n                    .classed('empty-state', true)\r\n                    .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\r\n\r\n                const path = svg.selectAll(\"path\")\r\n                    .data(pie([1]))\r\n                    .enter().append(\"path\")\r\n                    .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\r\n                    .attr(\"d\", < any > arc);\r\n            }\r\n        }\r\n\r\n        private centerChart() {\r\n            if (this.centered) {\r\n                const svgElem = d3.select(this.$element.get(0)).select('.pie-chart svg')[0][0],\r\n                    leftMargin = $(svgElem).innerWidth() / 2 - (Number(this.size) || 250) / 2;\r\n                d3.select(this.$element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\r\n            }\r\n        }\r\n\r\n        private renderTotalLabel(svgElem) {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            let totalVal = this.data.reduce(function (sum, curr) {\r\n                return sum + curr.value;\r\n            }, 0);\r\n\r\n            if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\r\n\r\n            d3.select(svgElem)\r\n                .select('.nv-pie:not(.nvd3)')\r\n                .append('text')\r\n                .classed('label-total', true)\r\n                .attr('text-anchor', 'middle')\r\n                .style('dominant-baseline', 'central')\r\n                .text(totalVal);\r\n\r\n            this.titleElem = d3.select(this.$element.find('text.label-total').get(0)).style('opacity', 0);\r\n        }\r\n\r\n        private resizeTitleLabelUnwrap() {\r\n            if ((!this.total && !this.donut) || !this.data) return;\r\n\r\n            const boxSize = ( < any > this.$element.find('.nvd3.nv-pieChart').get(0)).getBBox();\r\n\r\n            if (!boxSize.width || !boxSize.height) {\r\n                return;\r\n            }\r\n\r\n            this.titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\r\n        }\r\n\r\n        private generateParameterColor() {\r\n            if (!this.data) return;\r\n\r\n            _.each(this.data, (item: any, index: number) => {\r\n                item.color = item.color || this.pipChartColors.getMaterialColor(index, this.colors);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const PieChart: ng.IComponentOptions = {\r\n        bindings: PieChartBindings,\r\n        templateUrl: 'pie_chart/PieChart.html',\r\n        controller: PieChartController\r\n    }\r\n\r\n    angular\r\n        .module('pipPieCharts', [])\r\n        .component('pipPieChart', PieChart);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar_chart/BarChart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend ng-show=\"$ctrl.legend\" pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('chart_legend/ChartInteractiveLegend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in $ctrl.series\" ng-show=\"item.values || item.value\"><md-checkbox ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"$ctrl.interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!$ctrl.interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line_chart/LineChart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': $ctrl.showXAxis, \\'visible-y-axis\\': $ctrl.showYAxis}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"$ctrl.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"$ctrl.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"$ctrl.legend\" pip-interactive=\"$ctrl.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie_chart/PieChart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !$ctrl.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"$ctrl.data\" pip-interactive=\"false\" ng-if=\"$ctrl.legend\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","{\r\n    interface ILocationBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipShowLocationIcon: any;\r\n        pipCollapse: any;\r\n        pipRebind: any;\r\n        pipDisabled: any;\r\n        pipLocationResize: any;\r\n    }\r\n\r\n    const LocationBindings: ILocationBindings = {\r\n        pipLocationName: '<',\r\n        pipLocationPos: '<',\r\n        pipShowLocationIcon: '<',\r\n        pipCollapse: '<',\r\n        pipRebind: '<',\r\n        pipDisabled: '<',\r\n        pipLocationResize: '&'\r\n    }\r\n\r\n    class LocationBindingsChanges implements ng.IOnChangesObject, ILocationBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: ng.IChangesObject < string > ;\r\n        pipLocationPos: ng.IChangesObject < any > ;\r\n        pipShowLocationIcon: ng.IChangesObject < boolean > ;\r\n        pipCollapse: ng.IChangesObject < boolean > ;\r\n        pipRebind: ng.IChangesObject < boolean > ;\r\n        pipDisabled: ng.IChangesObject < boolean > ;\r\n\r\n        pipLocationResize: any;\r\n    }\r\n\r\n    class LocationController implements ng.IController, ILocationBindings {\r\n        public pipLocationName: string;\r\n        public pipLocationPos: any;\r\n        public pipShowLocationIcon: boolean;\r\n        public pipCollapse: boolean;\r\n        public pipRebind: boolean;\r\n        public pipDisabled: boolean;\r\n        public showMap: boolean = true;\r\n        public pipLocationResize: Function;\r\n\r\n        private name: JQuery;\r\n        private mapContainer: JQuery;\r\n        private mapControl: JQuery;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $scope: ng.IScope\r\n        ) {\r\n            \"ngInject\";\r\n            // Add class\r\n            $element.addClass('pip-location');\r\n        }\r\n\r\n        public $postLink() {\r\n            this.$timeout(() => {\r\n                this.name = this.$element.find('.pip-location-name');\r\n                this.mapContainer = this.$element.find('.pip-location-container');\r\n\r\n                if (this.pipCollapse === true) {\r\n                    this.mapContainer.hide();\r\n                    this.showMap = false;\r\n\r\n                    // Process user click\r\n                    this.name.click((event) => {\r\n                        event.stopPropagation();\r\n                        if (this.pipDisabled) return;\r\n                        this.showMap = !this.showMap;\r\n                        this.mapContainer[this.showMap ? 'show' : 'hide']();\r\n                        if (this.showMap) this.generateMap();\r\n                        if (!this.$scope.$$phase) this.$scope.$apply();\r\n                    });\r\n                }\r\n\r\n                this.redrawMap();\r\n            });\r\n        }\r\n\r\n        private redrawMap() {\r\n            if (!this.mapContainer) return;\r\n\r\n            // Visualize map\r\n            if (this.pipLocationPos && this.showMap === true) {\r\n                this.generateMap();\r\n            } else {\r\n                this.clearMap();\r\n            }\r\n        }\r\n\r\n        public $onChanges(changes: LocationBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind \r\n                ? changes.pipRebind.currentValue || false : false;\r\n            this.pipShowLocationIcon = changes.pipShowLocationIcon \r\n                ? changes.pipShowLocationIcon.currentValue || false : false;\r\n            this.pipCollapse = changes.pipCollapse \r\n                ? changes.pipCollapse.currentValue || false : false;\r\n            this.pipDisabled = changes.pipDisabled \r\n                ? changes.pipDisabled.currentValue || false : false;\r\n\r\n            if (this.pipRebind) {\r\n                this.pipLocationName = changes.pipLocationName \r\n                    ? changes.pipLocationName.currentValue : null;\r\n                this.pipLocationPos = changes.pipLocationPos \r\n                    ? changes.pipLocationPos.currentValue : null;\r\n                this.redrawMap();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n            this.mapContainer.hide();\r\n        }\r\n\r\n        private generateMap() {\r\n            const location = this.pipLocationPos;\r\n\r\n            // Safeguard for bad coordinates\r\n            if (this.showMap === false \r\n                || location == null \r\n                || location.coordinates == null \r\n                || location.coordinates.length < 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            const coordinates = new google.maps.LatLng(\r\n                location.coordinates[0],\r\n                location.coordinates[1]\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapContainer.show();\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const\r\n                mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\r\n\r\n            new google.maps.Marker({\r\n                position: coordinates,\r\n                map: map\r\n            });\r\n        };\r\n    }\r\n\r\n    const LocationComponent: ng.IComponentOptions = {\r\n        bindings: LocationBindings,\r\n        templateUrl: 'location/Location.html',\r\n        controller: LocationController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocation\", [])\r\n        .component('pipLocation', LocationComponent);\r\n}","import { ILocationDialogService } from './ILocationDialogService';\r\nimport { LocationDialogParams } from './LocationDialogParams';\r\n\r\n{\r\n    class LocationEditDialogController {\r\n        private _map = null;\r\n        private _marker = null;\r\n\r\n        public theme: string;\r\n        public locationPos;\r\n        public locationName;\r\n        public supportSet: boolean;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $timeout: angular.ITimeoutService,\r\n            private $mdDialog: angular.material.IDialogService,\r\n            locationPos: any,\r\n            locationName: string\r\n        ) {\r\n            this.theme = $rootScope['$theme'];\r\n            this.locationPos = locationPos && locationPos.type == 'Point' &&\r\n                locationPos.coordinates && locationPos.coordinates.length == 2 ?\r\n                locationPos : null;\r\n            this.locationName = locationName;\r\n            this.supportSet = navigator.geolocation != null;\r\n\r\n            // Wait until dialog is initialized\r\n            $timeout(() => {\r\n                let mapContainer = $('.pip-location-edit-dialog .pip-location-container');\r\n                // Calculate coordinate of the center\r\n                let coordinates = this.locationPos ?\r\n                    new google.maps.LatLng(\r\n                        this.locationPos.coordinates[0],\r\n                        this.locationPos.coordinates[1]\r\n                    ) : null;\r\n\r\n                // Create the map with point marker\r\n                const mapOptions = {\r\n                    center: new google.maps.LatLng(0, 0),\r\n                    zoom: 1,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true\r\n                }\r\n                if (coordinates != null) {\r\n                    mapOptions.center = coordinates;\r\n                    mapOptions.zoom = 12;\r\n                }\r\n\r\n                this._map = new google.maps.Map(mapContainer[0], mapOptions);\r\n                this._marker = this.createMarker(coordinates);\r\n\r\n                // Fix resizing issue\r\n                $timeout(() => {\r\n                    google.maps.event.trigger(this._map, 'resize');\r\n                }, 1000);\r\n            }, 0);\r\n\r\n            $scope.$on('pipLayoutResized', () => {\r\n                if (this._map == null) return;\r\n                google.maps.event.trigger(this._map, 'resize');\r\n            });\r\n\r\n        }\r\n\r\n        private createMarker(coordinates) {\r\n            if (this._marker) this._marker.setMap(null);\r\n            if (coordinates) {\r\n                this._marker = new google.maps.Marker({\r\n                    position: coordinates,\r\n                    map: this._map,\r\n                    draggable: true,\r\n                    animation: google.maps.Animation.DROP\r\n                });\r\n\r\n                let thisMarker = this._marker;\r\n                google.maps.event.addListener(thisMarker, 'dragend', () => {\r\n                    let coordinates = thisMarker.getPosition();\r\n                    this.changeLocation(coordinates, null);\r\n                });\r\n            } else {\r\n                this._marker = null;\r\n            }\r\n\r\n            return this._marker;\r\n        }\r\n\r\n        private changeLocation(coordinates, tid) {\r\n            this.locationPos = {\r\n                type: 'Point',\r\n                coordinates: [coordinates.lat(), coordinates.lng()]\r\n            };\r\n            this.locationName = null;\r\n            // Read address\r\n            const geocoder = new google.maps.Geocoder();\r\n            geocoder.geocode({\r\n                latLng: coordinates\r\n            }, (results, status) => {\r\n                // Process positive response\r\n                if (results && results.length > 0) {\r\n                    this.locationName = results[0].formatted_address;\r\n                }\r\n\r\n                this.$scope.$apply();\r\n            })\r\n        }\r\n        // Describe user actions\r\n        public onAddPin() {\r\n            if (this._map === null) return;\r\n\r\n            const coordinates = this._map.getCenter();\r\n            this._marker = this.createMarker(coordinates);\r\n            this.changeLocation(coordinates, null);\r\n        }\r\n\r\n        public onRemovePin() {\r\n            if (this._map === null) return;\r\n            this._marker = this.createMarker(null);\r\n            this.locationPos = null;\r\n            this.locationName = null;\r\n        }\r\n\r\n        public onZoomIn() {\r\n            if (this._map === null) return;\r\n            const zoom = this._map.getZoom();\r\n            this._map.setZoom(zoom + 1);\r\n        }\r\n\r\n        public onZoomOut() {\r\n            if (this._map === null) return;\r\n            const zoom = this._map.getZoom();\r\n            this._map.setZoom(zoom > 1 ? zoom - 1 : zoom);\r\n        }\r\n\r\n        public onSetLocation = function () {\r\n            if (this._map === null) return;\r\n\r\n            navigator.geolocation.getCurrentPosition(\r\n                (position) => {\r\n                    const coordinates = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n                    this._marker = this.createMarker(coordinates);\r\n                    this._map.setCenter(coordinates);\r\n                    this._map.setZoom(12);\r\n                    this.changeLocation(coordinates, null);\r\n                },\r\n                () => {\r\n                    this.$scope.$apply();\r\n                }, {\r\n                    maximumAge: 0,\r\n                    enableHighAccuracy: true,\r\n                    timeout: 5000\r\n                });\r\n        }\r\n\r\n        public onCancel(): void {\r\n            this.$mdDialog.cancel();\r\n        }\r\n\r\n        public onApply(): void {\r\n            this.$mdDialog.hide({\r\n                location: this.locationPos,\r\n                locationPos: this.locationPos,\r\n                locationName: this.locationName\r\n            })\r\n        }\r\n    }\r\n    \r\n    class LocationDialogService implements ILocationDialogService {\r\n        constructor(\r\n            private $mdDialog: angular.material.IDialogService\r\n        ) {}\r\n\r\n        public show(params: LocationDialogParams, successCallback?, cancelCallback?) {\r\n            this.$mdDialog.show({\r\n                    controller: LocationEditDialogController,\r\n                    controllerAs: '$ctrl',\r\n                    templateUrl: 'location_dialog/LocationDialog.html',\r\n                    locals: {\r\n                        locationName: params.locationName,\r\n                        locationPos: params.locationPos\r\n                    },\r\n                    clickOutsideToClose: true\r\n                })\r\n                .then((result) => {\r\n                    if (successCallback) {\r\n                        successCallback(result);\r\n                    }\r\n                }, () => {\r\n                    if (cancelCallback) {\r\n                        cancelCallback();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    const LocationDialogRun = function($injector: ng.auto.IInjectorService) {\r\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            ( < any > pipTranslate).setTranslations('en', {\r\n                'LOCATION_ADD_LOCATION': 'Add location',\r\n                'LOCATION_SET_LOCATION': 'Set location',\r\n                'LOCATION_ADD_PIN': 'Add pin',\r\n                'LOCATION_REMOVE_PIN': 'Remove pin'\r\n            });\r\n            ( < any > pipTranslate).setTranslations('ru', {\r\n                'LOCATION_ADD_LOCATION': 'Добавить местоположение',\r\n                'LOCATION_SET_LOCATION': 'Определить положение',\r\n                'LOCATION_ADD_PIN': 'Добавить точку',\r\n                'LOCATION_REMOVE_PIN': 'Убрать точку'\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipLocationEditDialog')\r\n        .run(LocationDialogRun)\r\n        .service('pipLocationEditDialog', LocationDialogService);\r\n}","export class LocationDialogParams {\r\n    // Locations position\r\n    locationPos: any;\r\n    // Location name\r\n    locationName: string;\r\n}","angular.module('pipLocationEditDialog', ['ngMaterial', 'pipLocations.Templates']);\r\n\r\nimport './LocationDialog'","import { ILocationDialogService } from '../location_dialog/ILocationDialogService';\r\n\r\n{\r\n    interface ILocationEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipLocationHolder: any;\r\n        ngDisabled: any;\r\n        pipChanged: any;\r\n    }\r\n\r\n    const LocationEditBindings: ILocationEditBindings = {\r\n        pipLocationName: '=',\r\n        pipLocationPos: '=',\r\n        pipLocationHolder: '=',\r\n        ngDisabled: '<',\r\n        pipChanged: '&'\r\n    }\r\n\r\n    class LocationEditBindingsChanges implements ng.IOnChangesObject, ILocationEditBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationName: any;\r\n        pipLocationPos: any;\r\n        pipLocationHolder: any;\r\n        pipChanged: any;\r\n\r\n        ngDisabled: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LocationEditController implements ng.IController, ILocationEditBindings {\r\n        public pipLocationName: string;\r\n        public pipLocationPos: any;\r\n        public pipLocationHolder: boolean;\r\n        public ngDisabled: boolean;\r\n        public pipChanged: Function;\r\n\r\n        private empty: JQuery;\r\n        private mapContainer: JQuery;\r\n        private mapControl: any;\r\n        private defineCoordinatesDebounced: Function;\r\n\r\n        constructor(\r\n            private $element: JQuery,\r\n            private $scope: ng.IScope,\r\n            private pipLocationEditDialog: ILocationDialogService\r\n        ) {\r\n            this.defineCoordinatesDebounced = _.debounce(() => {\r\n                this.defineCoordinates\r\n            }, 2000);\r\n        }\r\n\r\n        public $postLink() {\r\n            this.$element.find('md-input-container').attr('md-no-float', (!!this.pipLocationHolder).toString());\r\n            // Set containers\r\n            this.empty = this.$element.children('.pip-location-empty');\r\n            this.mapContainer = this.$element.children('.pip-location-container');\r\n            this.mapControl = null;\r\n\r\n            // Add watchers\r\n            this.$scope.$watch('$ctrl.pipLocationName',\r\n                (newValue, oldValue) => {\r\n                    if (newValue !== oldValue) {\r\n                        this.defineCoordinatesDebounced();\r\n                    }\r\n                }\r\n            );\r\n            this.$scope.$watch('$ctrl.pipLocationPos',\r\n                () => {\r\n                    this.generateMap();\r\n                }\r\n            );\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-location-edit');\r\n\r\n            // Visualize map\r\n            if (this.pipLocationPos) {\r\n                this.generateMap();\r\n            } else {\r\n                this.clearMap();\r\n            }\r\n        }\r\n\r\n        public $onChanges(changes: LocationEditBindingsChanges) {\r\n            this.ngDisabled = changes.ngDisabled ? changes.ngDisabled.currentValue : false; \r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n\r\n            // Toggle control visibility\r\n            this.mapContainer.hide();\r\n            this.empty.show();\r\n        }\r\n\r\n        private generateMap() {\r\n            // Safeguard for bad coordinates\r\n            const location = this.pipLocationPos;\r\n            if (location == null || location.coordinates == null || location.coordinates.length < 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            const coordinates = new google.maps.LatLng(\r\n                location.coordinates[0],\r\n                location.coordinates[1]\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n\r\n            // Toggle control visibility\r\n            this.mapContainer.show();\r\n            this.empty.hide();\r\n\r\n            // Add a new map\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\r\n                marker = new google.maps.Marker({\r\n                    position: coordinates,\r\n                    map: map\r\n                });\r\n        }\r\n\r\n        private defineCoordinates() {\r\n            const locationName = this.pipLocationName;\r\n\r\n            if (locationName == '') {\r\n                this.pipLocationPos = null;\r\n                this.clearMap();\r\n                this.$scope.$apply();\r\n                return;\r\n            }\r\n\r\n            const geocoder = new google.maps.Geocoder();\r\n            geocoder.geocode({\r\n                address: locationName\r\n            }, function (results, status) {\r\n                this.$scope.$apply(function () {\r\n                    // Process response\r\n                    if (status === google.maps.GeocoderStatus.OK) {\r\n                        // Check for empty results\r\n                        if (results === null || results.length === 0) {\r\n                            this.pipLocationPos = null;\r\n                            this.clearMap();\r\n                            return;\r\n                        }\r\n\r\n                        const geometry = results[0].geometry || {},\r\n                            location = geometry.location || {};\r\n\r\n                        // Check for empty results again\r\n                        if (location.lat === null || location.lng === null) {\r\n                            this.pipLocationPos = null;\r\n                            this.clearMap();\r\n                            return;\r\n                        }\r\n\r\n                        this.pipLocationPos = {\r\n                            type: 'Point',\r\n                            coordinates: {\r\n                                latitude: location.lat(),\r\n                                longtitude: location.lng()\r\n                            }\r\n                        };\r\n                        this.generateMap();\r\n                    }\r\n                    else {\r\n                        this.pipLocationPos = null;\r\n                        this.clearMap();\r\n                    }\r\n                });\r\n            });\r\n        };\r\n\r\n        public onSetLocation() {\r\n            if (this.ngDisabled) return;\r\n\r\n            this.pipLocationEditDialog.show({\r\n                    locationName: this.pipLocationName,\r\n                    locationPos: this.pipLocationPos\r\n                },\r\n                (result) => {\r\n                    const\r\n                        location = result.location,\r\n                        locationName = result.locationName;\r\n\r\n                    // Do not change anything if location is about the same\r\n                    if (this.pipLocationPos && this.pipLocationPos.type == 'Point' &&\r\n                        this.pipLocationPos.coordinates.length == 2 &&\r\n                        location && location.coordinates.length == 2 &&\r\n                        (this.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001 &&\r\n                        (this.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001 &&\r\n                        (locationName === this.pipLocationName)) {\r\n                        return;\r\n                    }\r\n\r\n                    this.pipLocationPos = location;\r\n                    this.pipLocationName = locationName;\r\n\r\n                    if (locationName === null && location !== null) {\r\n                        this.pipLocationName =\r\n                            '(' + result.location.coordinates[0] +\r\n                            ',' + result.location.coordinates[1] + ')';\r\n                    }\r\n                    this.pipChanged();\r\n                    this.mapContainer[0].focus();\r\n                }\r\n            );\r\n        };\r\n\r\n        public onMapClick($event) {\r\n            if (this.ngDisabled) return;\r\n\r\n            this.mapContainer[0].focus();\r\n            this.onSetLocation();\r\n            //$event.stopPropagation();\r\n        };\r\n\r\n        public onMapKeyPress($event) {\r\n            if (this.ngDisabled) return;\r\n\r\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\r\n                this.onSetLocation();\r\n                //$event.stopPropagation();\r\n            }\r\n        };\r\n    }\r\n\r\n    const LocationEdit: ng.IComponentOptions = {\r\n        bindings: LocationEditBindings,\r\n        templateUrl: 'location_edit/LocationEdit.html',\r\n        controller: LocationEditController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationEdit\", ['pipLocationEditDialog'])\r\n        .component('pipLocationEdit', LocationEdit);\r\n\r\n}","declare let google: any;\r\n\r\n{\r\n    interface ILocationIpBindings {\r\n        [key: string]: any;\r\n\r\n        pipIpaddress: any;\r\n        pipExtraInfo: any;\r\n        pipRebind: any;\r\n    }\r\n\r\n    const LocationIpBindings: ILocationIpBindings = {\r\n        pipIpaddress: '<',\r\n        pipExtraInfo: '&',\r\n        pipRebind: '<'\r\n    }\r\n\r\n    interface IIpResponseInfo {\r\n        city: string;\r\n        regionCode: string | number;\r\n        regionName: string;\r\n        zipCode: string | number;\r\n        countryCode: string | number;\r\n        countryName: string;\r\n        latitude: string | number;\r\n        longitude: string | number;\r\n    }\r\n\r\n    class LocationIpBindingsChanges implements ng.IOnChangesObject, ILocationIpBindings {\r\n        [key: string]: any;\r\n\r\n        pipExtraInfo: any;\r\n\r\n        pipIpaddress: ng.IChangesObject < string > ;\r\n        pipRebind: ng.IChangesObject < boolean >\r\n    }\r\n\r\n    class LocationIpController implements ng.IController, ILocationIpBindings {\r\n        private mapContainer: JQuery;\r\n        private mapControl: any;\r\n\r\n        public pipExtraInfo: any;\r\n        public pipIpaddress: string;\r\n        public pipRebind: boolean;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            private $http: ng.IHttpService\r\n        ) {\r\n            this.mapContainer = $element.children('.pip-location-container');\r\n            $element.addClass('pip-location-ip');\r\n            this.defineCoordinates();\r\n        }\r\n\r\n        public $onChanges(changes: LocationIpBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\r\n\r\n            if (this.pipRebind === true) {\r\n                this.pipIpaddress = changes.pipIpaddress ? changes.pipIpaddress.currentValue : this.pipIpaddress;\r\n                this.defineCoordinates();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n        }\r\n\r\n        private generateMap(latitude, longitude) {\r\n            // Safeguard for bad coordinates\r\n            if (latitude == null || longitude == null) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Determine map coordinates\r\n            var coordinates = new google.maps.LatLng(\r\n                latitude,\r\n                longitude\r\n            );\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map with point marker\r\n            const\r\n                mapOptions = {\r\n                    center: coordinates,\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: false,\r\n                    draggable: false\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions);\r\n\r\n            new google.maps.Marker({\r\n                position: coordinates,\r\n                map: map\r\n            });\r\n        }\r\n\r\n        private defineCoordinates() {\r\n            const ipAddress = this.pipIpaddress;\r\n\r\n            if (ipAddress == '') {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            this.$http.get('https://freegeoip.net/json/' + ipAddress)\r\n                .success((response: IIpResponseInfo) => {\r\n                    if (response != null &&\r\n                        response.latitude != null &&\r\n                        response.longitude != null) {\r\n\r\n                        this.generateMap(response.latitude, response.longitude);\r\n\r\n                        if (this.pipExtraInfo) {\r\n                            const extraInfo = {\r\n                                city: response.city,\r\n                                regionCode: response.regionCode,\r\n                                region: response.regionName,\r\n                                zipCode: response.zipCode,\r\n                                countryCode: response.countryCode,\r\n                                country: response.countryName\r\n                            };\r\n                            this.pipExtraInfo({\r\n                                extraInfo: extraInfo\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.clearMap();\r\n                    }\r\n                })\r\n                .error((response) => {\r\n                    this.clearMap();\r\n                });\r\n        }\r\n    }\r\n\r\n    const LocationIp: ng.IComponentOptions = {\r\n        bindings: LocationIpBindings,\r\n        template: '<div class=\"pip-location-container\"></div>',\r\n        controller: LocationIpController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationIp\", [])\r\n        .component('pipLocationIp', LocationIp);\r\n}","{\r\n\r\n    interface ILocationMapBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationPos: any;\r\n        pipIconPath: any;\r\n        pipInteractive: any;\r\n        pipStretch: any;\r\n        pipRebind: any;\r\n    }\r\n\r\n    const LocationMapBindings: ILocationMapBindings = {\r\n        pipLocationPos: '<',\r\n        pipIconPath: '<',\r\n        pipInteractive: '<',\r\n        pipStretch: '<',\r\n        pipRebind: '<'\r\n    }\r\n\r\n    class LocationMapBindingsChanges implements ng.IOnChangesObject, ILocationMapBindings {\r\n        [key: string]: any;\r\n\r\n        pipLocationPos: ng.IChangesObject<any>;\r\n        pipIconPath: ng.IChangesObject<string>;\r\n        pipInteractive: ng.IChangesObject<boolean>;\r\n        pipStretch: ng.IChangesObject<boolean>;\r\n        pipRebind: ng.IChangesObject<boolean>;\r\n    }\r\n\r\n    class LocationMapController implements ng.IController, ILocationMapBindings {\r\n        public pipLocationPos: any;\r\n        public pipIconPath: string;\r\n        public pipInteractive: boolean;\r\n        public pipStretch: boolean;\r\n        public pipRebind: boolean;\r\n\r\n        private mapContainer: JQuery;\r\n        private mapControl: any = null;\r\n\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.mapContainer = $element.children('.pip-location-container');\r\n            $element.addClass('pip-location-map');\r\n        }\r\n\r\n        public $onChanges(changes: LocationMapBindingsChanges) {\r\n            this.pipRebind = changes.pipRebind ? changes.pipRebind.currentValue || false : false;\r\n            this.pipInteractive = changes.pipInteractive ? changes.pipInteractive.currentValue || false : false;\r\n            this.pipStretch = changes.pipStretch ? changes.pipStretch.currentValue || false : false;\r\n\r\n            if (this.pipStretch === true)  {\r\n                this.mapContainer.addClass('stretch');\r\n            } else {\r\n                this.mapContainer.removeClass('stretch');\r\n            }\r\n\r\n            if (this.pipRebind === true) {\r\n                this.pipLocationPos = changes.pipLocationPos ? changes.pipLocationPos.currentValue : this.pipLocationPos;\r\n                this.pipIconPath = changes.pipIconPath ? changes.pipIconPath.currentValue : this.pipIconPath;\r\n\r\n                this.generateMap();\r\n            }\r\n        }\r\n\r\n        private clearMap() {\r\n            // Remove map control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = null;\r\n        }\r\n\r\n        private checkLocation(loc) {\r\n            return !(loc == null || loc.coordinates == null || loc.coordinates.length < 0);\r\n        }\r\n\r\n        private determineCoordinates(loc) {\r\n            const point = new google.maps.LatLng(\r\n                loc.coordinates[0],\r\n                loc.coordinates[1]\r\n            );\r\n\r\n            point.fill = loc.fill;\r\n            point.stroke = loc.stroke;\r\n\r\n            return point;\r\n        }\r\n\r\n        private generateMap() {\r\n            const locations = this.pipLocationPos,\r\n                points = [],\r\n                interactive = this.pipInteractive || false;\r\n\r\n            // Safeguard for bad coordinates\r\n            if (this.checkLocation(locations) && !_.isArray(locations)) {\r\n                points.push(this.determineCoordinates(locations));\r\n            } else {\r\n                if (locations && _.isArray(locations) && locations.length > 0) {\r\n                    _.each(locations, (loc) => {\r\n                        if (this.checkLocation(loc)) {\r\n                            points.push(this.determineCoordinates(loc));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (points.length === 0) {\r\n                this.clearMap();\r\n                return;\r\n            }\r\n\r\n            // Clean up the control\r\n            if (this.mapControl) this.mapControl.remove();\r\n            this.mapControl = $('<div></div>');\r\n            this.mapControl.appendTo(this.mapContainer);\r\n\r\n            // Create the map\r\n            const mapOptions = {\r\n                    center: points[0],\r\n                    zoom: 12,\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                    disableDefaultUI: true,\r\n                    disableDoubleClickZoom: true,\r\n                    scrollwheel: interactive,\r\n                    draggable: interactive\r\n                },\r\n                map = new google.maps.Map(this.mapControl[0], mapOptions),\r\n                bounds = new google.maps.LatLngBounds();\r\n\r\n            // Create markers\r\n            _.each(points, (point) => {\r\n                const icon = {\r\n                    path: this.pipIconPath,\r\n                    fillColor: point.fill || '#EF5350',\r\n                    fillOpacity: 1,\r\n                    scale: 1,\r\n                    strokeColor: point.stroke || 'white',\r\n                    strokeWeight: 5\r\n                };\r\n\r\n                new google.maps.Marker({\r\n                    position: point,\r\n                    map: map,\r\n                    icon: this.pipIconPath ? icon : null\r\n                });\r\n                bounds.extend(point);\r\n            });\r\n\r\n            // Auto-config of zoom and center\r\n            if (points.length > 1) map.fitBounds(bounds);\r\n        }\r\n    }\r\n\r\n    const LocationMap: ng.IComponentOptions = {\r\n        bindings: LocationMapBindings,\r\n        template: '<div class=\"pip-location-container\"></div>',\r\n        controller: LocationMapController\r\n    }\r\n\r\n    angular\r\n        .module(\"pipLocationMap\", [])\r\n        .component('pipLocationMap', LocationMap);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location/Location.html',\n    '<div class=\"pip-location-name location-collapse\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"!$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text\">{{$ctrl.pipLocationName}}</span></div><md-button class=\"pip-location-name\" ng-click=\"$ctrl.pipLocationResize()\" ng-if=\"$ctrl.pipCollapse\" ng-class=\"$ctrl.pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"$ctrl.pipShowLocationIcon\"></md-icon><span class=\"pip-location-text flex\">{{$ctrl.pipLocationName}}</span><md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-show=\"!$ctrl.showMap\"></md-icon><md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-show=\"$ctrl.showMap\"></md-icon></div></md-button><div class=\"pip-location-container\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/LocationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddPin()\" ng-show=\"$ctrl.locationPos == null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onRemovePin()\" ng-show=\"$ctrl.locationPos != null\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"$ctrl.onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"$ctrl.onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"$ctrl.onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_edit/LocationEdit.html',\n    '<md-input-container class=\"md-block\"><label>{{ \\'LOCATION\\' | translate }}</label> <input ng-model=\"$ctrl.pipLocationName\" ng-disabled=\"$ctrl.ngDisabled\"></md-input-container><div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\"><md-button class=\"md-raised\" ng-disabled=\"$ctrl.ngDisabled\" ng-click=\"$ctrl.onSetLocation()\" aria-label=\"LOCATION_ADD_LOCATION\"><span class=\"icon-location\"></span> {{\\'LOCATION_ADD_LOCATION\\' | translate }}</md-button></div><div class=\"pip-location-container\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-click=\"$ctrl.onMapClick($event)\" ng-keypress=\"$ctrl.onMapKeyPress($event)\"></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileFailBindings {\r\n    [key: string]: any;\r\n\r\n    buttons: any,\r\n    name: any,\r\n    type: any,\r\n    error: any\r\n}\r\n\r\nconst FileFailBindings: IFileFailBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    error: '<pipError'\r\n}\r\n\r\nclass FileFailChanges implements ng.IOnChangesObject, IFileFailBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n}\r\n\r\n\r\ninterface IFileFailController {\r\n    name: string;\r\n    type: string;\r\n    error: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileFailController implements IFileFailController, IFileFailBindings {\r\n    public name: string;\r\n    public type: string;\r\n    public error: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor($scope: ng.IScope) {\r\n        \"ngInject\";\r\n        \r\n        // Init parameters\r\n        \r\n        $scope.$watch('error', (error: string) => {\r\n            this.error = error;\r\n        })\r\n    }\r\n}\r\n\r\nconst fileFailComponent: ng.IComponentOptions = {\r\n    controller: FileFailController,\r\n    bindings: FileFailBindings,\r\n    templateUrl: 'file_fail/FileFail.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.FailUpload', [])\r\n    .component('pipFailUpload', fileFailComponent)\r\n","{\r\n\r\n    interface IFileSelectController {\r\n        localFile: any;\r\n        onUploadButtonClick(): void;\r\n        onDeleteButtonClick(): void;\r\n    }\r\n\r\n    interface IFileSelectBindings {\r\n        [key: string]: any;\r\n\r\n        localFile: any,\r\n        change: any\r\n    }\r\n\r\n    const FileSelectBindings: IFileSelectBindings = {\r\n        localFile: '<pipLocalFile',\r\n        change: '<pipChange'\r\n    }\r\n\r\n    class FileSelectController implements IFileSelectController {\r\n        public localFile: any;\r\n        public change: Function;\r\n\r\n        constructor($scope: ng.IScope) {\r\n            \"ngInject\";\r\n            $scope.$watch('$ctrl.localFile', (item) => {\r\n                if (this.change) {\r\n                    this.change(this.localFile);\r\n                }\r\n            })\r\n        }\r\n\r\n        public onUploadButtonClick(): void {\r\n            $('#inp_file').click();\r\n        }\r\n\r\n        public onDeleteButtonClick(): void {\r\n            this.localFile = null;\r\n            let forml = document.getElementById('inp_form');\r\n            (<any>forml).reset();\r\n\r\n        }\r\n    }\r\n\r\n    const fileSelectDirective = {\r\n        restrict: 'E',\r\n        replace: true,\r\n        bindings: FileSelectBindings,\r\n        controller: FileSelectController,\r\n        templateUrl: 'file_select/FileSelect.html'\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Select', [])\r\n        .component('pipFileSelect', fileSelectDirective)\r\n\r\n}\r\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileStartBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any,\r\n    progress: any\r\n}\r\n\r\nconst FileStartBindings: IFileStartBindings = {\r\n    buttons: '<?pipButtons',\r\n    name: '<pipName',\r\n    type: '<?pipType',\r\n    progress: '<?pipProgress'\r\n};\r\n\r\n\r\nclass FileStartChanges implements ng.IOnChangesObject, IFileStartBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttons: ng.IChangesObject<ButtonsUpload[]>;\r\n    name: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\ninterface IFileStartController {\r\n    name: string;\r\n    type: string;\r\n    progress: number;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileStartController implements IFileStartController {\r\n    public name: string;\r\n    public progress: number = 0;\r\n    public type: string;\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() { }\r\n\r\n    public $onChanges(changes: FileStartChanges) {\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nconst fileStartDirective = {\r\n    controller: FileStartController,\r\n    bindings: FileStartBindings,\r\n    templateUrl: 'file_start/FileStart.html'\r\n};\r\n\r\nangular\r\n    .module('pipFiles.StartUpload', [])\r\n    .component('pipStartUpload', fileStartDirective)\r\n","import { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\ninterface IFileSuccessBindings {\r\n    [key: string]: any;\r\n\r\n    type: any\r\n    buttons: any,\r\n    name: any\r\n}\r\n\r\nconst FileSuccessBindings: IFileSuccessBindings = {\r\n    buttons: '=?pipButtons',\r\n    name: '=pipName',\r\n    type: '=?pipType',\r\n}\r\n\r\ninterface IFileSuccessController {\r\n    name: string;\r\n    type: string;\r\n    buttons: ButtonsUpload[];\r\n}\r\n\r\nclass FileSuccessController implements IFileSuccessController, IFileSuccessBindings {\r\n    public name: string;\r\n    public type: string = 'file';\r\n    public buttons: ButtonsUpload[];\r\n\r\n    constructor() {}\r\n\r\n    public $onChanges(changes) {}\r\n}\r\n\r\nconst fileSuccessDirective = {\r\n    restrict: 'E',\r\n    replace: true,\r\n    controller: FileSuccessController,\r\n    controllerAs: 'vm',\r\n    bindings: FileSuccessBindings,\r\n    templateUrl: 'file_success/FileSuccess.html'\r\n}\r\n\r\n\r\nangular\r\n    .module('pipFiles.SuccessUpload', [])\r\n    .component('pipSuccesUpload', fileSuccessDirective)\r\n","import { IFileUploadService } from \"../service/IFileUploadService\";\r\nimport { ButtonsUpload } from \"../common/ButtonsUpload\";\r\n\r\nclass FileUploadButtons {\r\n    retry: Function;\r\n    cancel: Function;\r\n    abort: Function;\r\n}\r\n\r\ninterface IFileUploadController {\r\n    name: string;\r\n    type: string;\r\n    state: string;\r\n    progress: number;\r\n    onCancel(): void;\r\n    onRetry(): void;\r\n    onAbort(): void;\r\n}\r\n\r\ninterface IFileUploadBindings {\r\n    [key: string]: any;\r\n\r\n    buttonFunction: any,\r\n    buttons: any,\r\n    error: any,\r\n    name: any,\r\n    state: any,\r\n    type: any,\r\n    progress: any\r\n}\r\n\r\nconst FileUploadBindings: IFileUploadBindings = {\r\n    buttonFunction: '<?pipButtonFunctions',\r\n    buttons: '<?pipButtons',\r\n    error: '<?pipError',\r\n    name: '<pipName',\r\n    state: '<pipState',\r\n    type: '<?pipType',\r\n    progress: '<pipProgress'\r\n}\r\n\r\nclass FileUploadChanges implements ng.IOnChangesObject, IFileUploadBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    buttonFunction: ng.IChangesObject<FileUploadButtons>;\r\n    buttons: ng.IChangesObject<boolean>;\r\n    error: ng.IChangesObject<string>;\r\n    name: ng.IChangesObject<string>;\r\n    state: ng.IChangesObject<string>;\r\n    type: ng.IChangesObject<string>;\r\n    progress: ng.IChangesObject<number>;\r\n}\r\n\r\n\r\nclass FileUploadController implements IFileUploadController, IFileUploadBindings {\r\n    public buttonFunction: FileUploadButtons;\r\n    public uploadButtons: ButtonsUpload[];\r\n    public failButtons: ButtonsUpload[];\r\n    public startButtons: ButtonsUpload[];\r\n\r\n    public name: string;\r\n    public type: string;\r\n    public state: string;\r\n    public progress: number;\r\n    public buttons: boolean;\r\n    public error: string = null;\r\n\r\n    constructor($scope: ng.IScope) { }\r\n\r\n    public $onInit() {\r\n        if (this.buttons) {\r\n            this.uploadButtons = [];\r\n            this.failButtons = [\r\n                { title: 'Cancel', click: () => { this.onCancel() } },\r\n                { title: 'Retry', click: () => { this.onRetry() } }\r\n            ];\r\n            this.startButtons = [\r\n                { title: 'Abort', click: () => { this.onAbort() } }\r\n            ];\r\n        }\r\n    }\r\n\r\n    public $onChanges(changes: FileUploadChanges) {\r\n        if (changes.state) {\r\n            this.state = changes.state.currentValue;\r\n        }\r\n\r\n        if (changes.progress) {\r\n            this.progress = changes.progress.currentValue;\r\n        }\r\n\r\n        if (changes.error) {\r\n            this.error = changes.error.currentValue;\r\n        }\r\n\r\n    }\r\n\r\n    public onCancel(): void {\r\n        if (this.buttonFunction.cancel) this.buttonFunction.cancel();\r\n    }\r\n\r\n    public onRetry(): void {\r\n        if (this.buttonFunction.retry) this.buttonFunction.retry();\r\n    }\r\n\r\n    public onAbort() {\r\n        if (this.buttonFunction.abort) this.buttonFunction.abort();\r\n    }\r\n\r\n}\r\n\r\nconst fileUploadDirective = {\r\n    controller: FileUploadController,\r\n    bindings: FileUploadBindings,\r\n    templateUrl: 'file_upload/FileUpload.html'\r\n};\r\n\r\n\r\nangular\r\n    .module('pipFiles.FileUpload', [])\r\n    .component('pipFileUpload', fileUploadDirective)\r\n","{\r\n    function fileModelLink(scope, element, attrs, $parse) {\r\n        let model = $parse(attrs.fileModel);\r\n        let modelSetter = model.assign;\r\n                \r\n        element.bind('change', () => {\r\n            scope.$apply(() => {\r\n                modelSetter(scope, element[0].files[0]);\r\n            });\r\n        });\r\n    }\r\n\r\n    function fileModelDirective($parse: ng.IParseProvider) {\r\n        \"ngInject\";\r\n\r\n        return {\r\n            restrict: 'A',\r\n            link: (scope: ng.IScope, element, attrs: ng.IAttributes) => { \r\n                fileModelLink(scope, element, attrs, $parse) \r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipFiles.Model', [])\r\n        .directive('fileModel', fileModelDirective)\r\n}","import { FileUploadState } from './FileUploadState';\r\nimport { IFileUploadService } from './IFileUploadService';\r\nimport { MultiuploadResult } from './MultiuploadResult';\r\n\r\nlet async = require('async');\r\n\r\n\r\nclass FileUploadService implements IFileUploadService {\r\n\r\n    public constructor(\r\n        private $http: ng.IHttpService,\r\n        private $q: ng.IQService\r\n    ) {\r\n        \"ngInject\";\r\n    }\r\n\r\n\r\n    public multiUpload(uploadedUrl: string, collections: any[], oneFileResultCallback: (index: number, data: any, err: any) => void,\r\n        oneFileProgressCallback: (index: number, state: FileUploadState, progress: number) => void,\r\n        successCallback: (error: any, result: any, res: MultiuploadResult[]) => void, \r\n        abortCallback?: (cancelQuery: any) => void, \r\n        breakOnFirstError?: boolean, idField?: string): void {\r\n\r\n        let cancelQuery = this.$q.defer(); // call cancelQuery.resolve(); for abort\r\n        if (abortCallback) {\r\n            abortCallback(cancelQuery);\r\n        }\r\n        let res: MultiuploadResult[] = [];\r\n        idField = idField ? idField : 'id';\r\n\r\n        async.eachOf(collections,\r\n            (item, index, callback) => {\r\n                if (!item.file) {\r\n                    res.push({\r\n                        index: index,\r\n                        data: null,\r\n                        error: null,\r\n                        id: item[idField]\r\n                    });\r\n\r\n                    callback();\r\n                    return;\r\n                }\r\n                let fd: FormData = new FormData();\r\n                fd.append('file', item.file);\r\n                oneFileProgressCallback(index, FileUploadState.Uploading, 0);\r\n\r\n                this.$http.post(uploadedUrl, fd, <any>{\r\n                    timeout: cancelQuery.promise,\r\n                    uploadEventHandlers: {\r\n                        progress: (e: any) => {\r\n                            if (e.lengthComputable) {\r\n                                oneFileProgressCallback(index, FileUploadState.Uploading, (e.loaded / e.total) * 100);\r\n                            }\r\n                        }\r\n                    },\r\n                    headers: {\r\n                        'Content-Type': undefined,\r\n                        'Access-Control-Allow-Origin': '*'\r\n                    }\r\n                })\r\n                    .then(\r\n                    (response: any) => {\r\n                        res.push({\r\n                            index: index,\r\n                            data: response.data,\r\n                            error: null,\r\n                            id: item[idField]\r\n                        });\r\n                        oneFileProgressCallback(index, FileUploadState.Completed, 100);\r\n                        oneFileResultCallback(index, response.data, null);\r\n                        callback();\r\n                    },\r\n                    (response: any) => {\r\n                        res.push({\r\n                            index: index,\r\n                            data: null,\r\n                            error: response.data,\r\n                            id: item[idField]\r\n                        });\r\n                        oneFileProgressCallback(index, FileUploadState.Failed, 0);\r\n                        oneFileResultCallback(index, null, response.data);\r\n\r\n                        // break on first error\r\n                        if (breakOnFirstError) {\r\n                            callback(response.data);\r\n                        } else {\r\n                            callback();\r\n                        }\r\n                        \r\n                    });\r\n            },\r\n            (error, result) => {\r\n                cancelQuery = null;\r\n                successCallback(error, result, res);\r\n            });\r\n    }\r\n\r\n    public upload(file: any, url: string,\r\n        resultCallback?: (data: any, err: any) => void,\r\n        progressCallback?: (state: FileUploadState, progress: number) => void\r\n    ): void {\r\n\r\n        let fd: FormData = new FormData();\r\n        fd.append('file', file);\r\n\r\n        if (progressCallback)\r\n            progressCallback(FileUploadState.Uploading, 0);\r\n\r\n        this.$http.post(url, fd, <any>{\r\n            uploadEventHandlers: {\r\n                progress: (e: any) => {\r\n                    if (e.lengthComputable && progressCallback) {\r\n                        progressCallback(FileUploadState.Uploading, (e.loaded / e.total) * 100);\r\n                    }\r\n                }\r\n            },\r\n            headers: { 'Content-Type': undefined }\r\n        })\r\n            .success((response: any) => {\r\n                if (progressCallback)\r\n                    progressCallback(FileUploadState.Completed, 100);\r\n\r\n                if (resultCallback)\r\n                    resultCallback(response, null);\r\n            })\r\n            .error((response: any) => {\r\n                if (progressCallback)\r\n                    progressCallback(FileUploadState.Failed, 0);\r\n\r\n                if (resultCallback)\r\n                    resultCallback(null, response.Error || response);\r\n            });\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipFiles.Service', [])\r\n    .service('pipFileUpload', FileUploadService);\r\n","export enum FileUploadState {\r\n    Uploading,\r\n    Completed,\r\n    Failed\r\n}","export class MultiuploadResult {\r\n    public index: number; // elemtnt index into upload collection\r\n    public data: any;\r\n    public error: any;\r\n    public id: string; // value of identificated field\r\n}","(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_fail/FileFail.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon color-badge-bg\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{$ctrl.type}} failed with errors!</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div class=\"color-error pip-error\">{{$ctrl.error}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons && $ctrl.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"fail in $ctrl.buttons\" ng-click=\"fail.click()\">{{::fail.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_select/FileSelect.html',\n    '<div class=\"pip-file-select\"><form id=\"inp_form\" class=\"pip-hidden-form\"><input type=\"file\" file-model=\"$ctrl.localFile\" id=\"inp_file\" ng-model=\"$ctrl.localFile\"></form><md-button class=\"md-raised md-accent pip-button\" ng-click=\"$ctrl.onUploadButtonClick()\" ng-if=\"!$ctrl.localFile\">Choose File</md-button><div ng-if=\"$ctrl.localFile.name\" class=\"pip-file layout-row layout-align-start-center\"><md-icon md-svg-icon=\"icons:document\" class=\"pip-icon\"></md-icon><div class=\"flex\"><div class=\"text-body2 text-overflow\">{{$ctrl.localFile.name}}</div><div ng-if=\"$ctrl.localFile.size\" class=\"color-secondary-text\">{{$ctrl.localFile.size}}</div></div><md-button ng-click=\"$ctrl.onDeleteButtonClick()\" class=\"md-icon-button\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_start/FileStart.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-orange\"><md-icon md-svg-icon=\"icons:play\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploading {{::$ctrl.type}}</h3><div class=\"color-secondary-text pip-subtitle\">{{$ctrl.name}}</div><div><md-progress-linear md-mode=\"determinate\" class=\"md-accent\" value=\"{{$ctrl.progress}}\" ng-if=\"$ctrl.progress < 100\"></md-progress-linear><md-progress-linear md-mode=\"indeterminate\" class=\"md-accent\" ng-if=\"$ctrl.progress == 100\"></md-progress-linear></div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"$ctrl.buttons\"><div><md-button class=\"md-accent\" ng-repeat=\"start in $ctrl.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_success/FileSuccess.html',\n    '<div class=\"pip-files pip-progress-files\"><div class=\"pip-body pip-scroll pip-progress-body\"><div class=\"layout-row\"><div class=\"pip-progress-icon bb-green\"><md-icon md-svg-icon=\"icons:check\"></md-icon></div><div class=\"pip-progress-content\"><h3 class=\"pip-title\">Uploaded {{::vm.type}} successfully!</h3><div class=\"color-secondary-text pip-subtitle\">{{vm.name}}</div></div></div></div><div class=\"pip-footer layout-row layout-align-end-center\" ng-if=\"vm.buttons && vm.buttons.length > 0\"><div><md-button class=\"md-accent\" ng-repeat=\"start in vm.buttons\" ng-click=\"start.click()\">{{start.title}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipFiles.Templates');\n} catch (e) {\n  module = angular.module('pipFiles.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('file_upload/FileUpload.html',\n    '<div><pip-succes-upload ng-if=\"$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-buttons=\"$ctrl.buttons\"></pip-succes-upload><pip-fail-upload ng-if=\"$ctrl.state == 2\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-error=\"$ctrl.error\" pip-buttons=\"$ctrl.failButtons\"></pip-fail-upload><pip-start-upload ng-if=\"$ctrl.state == 0\" pip-name=\"$ctrl.name\" pip-type=\"$ctrl.type\" pip-progress=\"$ctrl.progress\" pip-buttons=\"$ctrl.startButtons\"></pip-start-upload></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-files-html.min.js.map\n","export class AddTileDialog {\r\n    title: string;\r\n    icon: string;\r\n    name: string;\r\n    amount: number;\r\n}\r\n\r\nexport class AddTileDialogController implements ng.IController {\r\n    public defaultTiles: [AddTileDialog[]];\r\n    public groups: any;\r\n    public totalTiles: number = 0;\r\n\r\n    constructor(\r\n        groups: any,\r\n        public activeGroupIndex: number,\r\n        widgetList: [AddTileDialog[]],\r\n        public $mdDialog: angular.material.IDialogService\r\n    ) {\r\n        this.activeGroupIndex = _.isNumber(activeGroupIndex) ? activeGroupIndex : -1;\r\n        this.defaultTiles = _.cloneDeep(widgetList);\r\n        this.groups = _.map(groups, function (group) {\r\n            return group['title'];\r\n        });\r\n    }\r\n\r\n    public $onInit() {}\r\n    \r\n    public add() {\r\n        this.$mdDialog.hide({\r\n            groupIndex: this.activeGroupIndex,\r\n            widgets: this.defaultTiles\r\n        });\r\n    };\r\n\r\n    public cancel() {\r\n        this.$mdDialog.cancel();\r\n    };\r\n\r\n    public encrease(groupIndex: number, widgetIndex: number) {\r\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\r\n        widget.amount++;\r\n        this.totalTiles++;\r\n    };\r\n\r\n    public decrease(groupIndex: number, widgetIndex: number) {\r\n        const widget = this.defaultTiles[groupIndex][widgetIndex];\r\n        widget.amount = widget.amount ? widget.amount - 1 : 0;\r\n        this.totalTiles = this.totalTiles ? this.totalTiles - 1 : 0;\r\n    };\r\n}","import {\r\n  AddTileDialog,\r\n  AddTileDialogController\r\n} from './AddTileDialogController';\r\n\r\nexport interface IAddTileDialogService {\r\n  show(groups, activeGroupIndex): angular.IPromise < any > ;\r\n}\r\n\r\nexport interface IAddTileDialogprovider {\r\n  configWidgetList(list: [AddTileDialog[]]): void;\r\n}\r\n\r\n{\r\n  const setTranslations = function($injector: ng.auto.IInjectorService) {\r\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n    if (pipTranslate) {\r\n      (<any>pipTranslate).setTranslations('en', {\r\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Add component',\r\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Use \"Enter\" or \"+\" buttons on keyboard to encrease and \"Delete\" or \"-\" to decrease tiles amount',\r\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Create new group'\r\n      });\r\n      (<any>pipTranslate).setTranslations('ru', {\r\n        DASHBOARD_ADD_TILE_DIALOG_TITLE: 'Добавить компонент',\r\n        DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS: 'Используйте \"Enter\" или \"+\" клавиши на клавиатуре чтобы увеличить и \"Delete\" or \"-\" чтобы уменшить количество тайлов',\r\n        DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP: 'Создать новую группу'\r\n      });\r\n    }\r\n  }\r\n\r\n  class AddTileDialogService implements IAddTileDialogService {\r\n    public constructor(\r\n      private widgetList: [AddTileDialog[]],\r\n      private $mdDialog: angular.material.IDialogService\r\n    ) {}\r\n\r\n    public show(groups, activeGroupIndex) {\r\n      return this.$mdDialog\r\n        .show({\r\n          templateUrl: 'add_tile_dialog/AddTile.html',\r\n          bindToController: true,\r\n          controller: AddTileDialogController,\r\n          controllerAs: 'dialogCtrl',\r\n          clickOutsideToClose: true,\r\n          resolve: {\r\n            groups: () => {\r\n              return groups;\r\n            },\r\n            activeGroupIndex: () => {\r\n              return activeGroupIndex;\r\n            },\r\n            widgetList: () => {\r\n              return (<any>this.widgetList);\r\n            }\r\n          }\r\n        });\r\n    };\r\n  }\r\n\r\n  class AddTileDialogProvider implements IAddTileDialogprovider {\r\n    private _service: AddTileDialogService;\r\n    private _widgetList: [AddTileDialog[]] = null;\r\n\r\n    constructor() {}\r\n\r\n    public configWidgetList = function (list: [AddTileDialog[]]) {\r\n      this._widgetList = list;\r\n    };\r\n\r\n    public $get($mdDialog: angular.material.IDialogService) {\r\n      \"ngInject\";\r\n\r\n      if (this._service == null)\r\n        this._service = new AddTileDialogService(this._widgetList, $mdDialog);\r\n\r\n      return this._service;\r\n    }\r\n  }\r\n\r\n  angular\r\n    .module('pipAddDashboardTileDialog')\r\n    .config(setTranslations)\r\n    .provider('pipAddTileDialog', AddTileDialogProvider);\r\n}","angular\r\n    .module('pipAddDashboardTileDialog', ['ngMaterial']);\r\n\r\nimport './AddTileDialogController';\r\nimport './AddTileProvider';","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class CalendarTileController extends MenuTileService {\r\n    constructor(\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n        this.menu.push({\r\n          title: 'Configurate',\r\n          click: () => {\r\n            this.onConfigClick();\r\n          }\r\n        });\r\n        this.options.date = this.options.date || new Date();\r\n        this.color = this.options.color || 'blue';\r\n      }\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-calendar-config',\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size,\r\n          date: this.options.date,\r\n        },\r\n        extensionUrl: 'calendar_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.options.date = result.date;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const CalendarTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions',\r\n    },\r\n    controller: CalendarTileController,\r\n    templateUrl: 'calendar_tile/CalendarTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipCalendarTile', CalendarTile);\r\n\r\n}","export interface IDashboardTile {\r\n    options: any;\r\n    color: string;\r\n    size: Object | string | number;\r\n}\r\n\r\nexport class DashboardTile implements IDashboardTile {\r\n    public options: any;\r\n    public color: string;\r\n    public size: Object | string | number;\r\n\r\n    constructor() { }\r\n}","\r\nclass TileColors {\r\n    static all: string[] = ['purple', 'green', 'gray', 'orange', 'blue'];\r\n}\r\n\r\nclass TileSizes {\r\n    static all: any = [{\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL',\r\n            id: '11'\r\n        },\r\n        {\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE',\r\n            id: '21'\r\n        },\r\n        {\r\n            name: 'DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE',\r\n            id: '22'\r\n        }\r\n    ];\r\n}\r\n\r\nexport class TileConfigDialogController {\r\n    public colors: string[] = TileColors.all;\r\n    public sizes: any = TileSizes.all;\r\n    public sizeId: string = TileSizes.all[0].id;\r\n    public onCancel: Function;\r\n\r\n    constructor(\r\n        public params,\r\n        public extensionUrl,\r\n        public $mdDialog: angular.material.IDialogService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        angular.extend(this, this.params);\r\n        this.sizeId = '' + this.params.size.colSpan + this.params.size.rowSpan;\r\n\r\n        this.onCancel = () => {\r\n            this.$mdDialog.cancel();\r\n        }\r\n    }\r\n\r\n    public onApply(updatedData) {\r\n        this['size'].sizeX = Number(this.sizeId.substr(0, 1));\r\n        this['size'].sizeY = Number(this.sizeId.substr(1, 1));\r\n        this.$mdDialog.hide(updatedData);\r\n    }\r\n}","{    \r\n    interface ITileConfigExtendComponentBindings {\r\n        [key: string]: any;\r\n\r\n        pipExtensionUrl: any;\r\n        pipDialogScope: any;\r\n        pipApply: any;\r\n    }\r\n\r\n    const TileConfigExtendComponentBindings: ITileConfigExtendComponentBindings = {\r\n        pipExtensionUrl: '<',\r\n        pipDialogScope: '<',\r\n        pipApply: '&'\r\n    }\r\n\r\n    class TileConfigExtendComponentChanges implements ng.IOnChangesObject, ITileConfigExtendComponentBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        pipExtensionUrl: ng.IChangesObject<string>;\r\n        pipDialogScope: ng.IChangesObject<ng.IScope>;\r\n\r\n        pipApply: ng.IChangesObject<({updatedData: any}) => ng.IPromise<void>>;\r\n    }\r\n\r\n    interface ITileConfigExtendComponentAttributes extends ng.IAttributes {\r\n        pipExtensionUrl: string\r\n    }\r\n\r\n    class TileConfigExtendComponentController implements ITileConfigExtendComponentBindings {\r\n        public pipExtensionUrl: string;\r\n        public pipDialogScope: ng.IScope;\r\n        public pipApply: (param: {updatedData: any}) => ng.IPromise<void>;\r\n\r\n        constructor(\r\n            private $templateRequest: angular.ITemplateRequestService,\r\n            private $compile: angular.ICompileService,\r\n            private $scope: angular.IScope, \r\n            private $element: JQuery, \r\n            private $attrs: ITileConfigExtendComponentAttributes\r\n        ) { }\r\n\r\n        public $onChanges(changes: TileConfigExtendComponentChanges) {\r\n            if (changes.pipDialogScope) {\r\n                delete changes.pipDialogScope.currentValue['$scope'];\r\n                angular.extend(this, changes.pipDialogScope.currentValue);\r\n            }\r\n            if (changes.pipExtensionUrl && changes.pipExtensionUrl.currentValue) {\r\n                this.$templateRequest(changes.pipExtensionUrl.currentValue, false).then((html) => {\r\n                    this.$element.find('pip-extension-point').replaceWith(this.$compile(html)(this.$scope));\r\n                });\r\n            }\r\n        }\r\n\r\n        public onApply() {\r\n            this.pipApply({updatedData: this});\r\n        }\r\n    }\r\n\r\n    const pipTileConfigComponent: ng.IComponentOptions = {\r\n        templateUrl: 'config_tile_dialog/ConfigDialogExtendComponent.html',\r\n        controller: TileConfigExtendComponentController,\r\n        bindings: TileConfigExtendComponentBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipConfigDashboardTileDialog')\r\n        .component('pipTileConfigExtendComponent', pipTileConfigComponent);\r\n}","import { TileConfigDialogController } from './ConfigDialogController';\r\n\r\nexport interface ITileConfigService {\r\n    show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void): any;\r\n}\r\n\r\nexport interface ITileConfigDialogOptions extends angular.material.IDialogOptions {\r\n    dialogClass?: string;\r\n    extensionUrl?: string;\r\n    event?: any;\r\n}\r\n\r\n{\r\n    const setTranslations = function($injector: ng.auto.IInjectorService) {\r\n        const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n        if (pipTranslate) {\r\n            ( < any > pipTranslate).setTranslations('en', {\r\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Edit tile',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Small',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Wide',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Large'\r\n            });\r\n            ( < any > pipTranslate).setTranslations('ru', {\r\n                DASHBOARD_TILE_CONFIG_DIALOG_TITLE: 'Изменить виджет',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_SMALL: 'Мален.',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_WIDE: 'Широкий',\r\n                DASHBOARD_TILE_CONFIG_DIALOG_SIZE_LARGE: 'Большой'\r\n            });\r\n        }\r\n    }\r\n\r\n    class TileConfigDialogService {\r\n        public constructor(\r\n            public $mdDialog: angular.material.IDialogService\r\n        ) {}\r\n\r\n        public show(params: ITileConfigDialogOptions, successCallback ? : (key) => void, cancelCallback ? : () => void) {\r\n            this.$mdDialog.show({\r\n                    targetEvent: params.event,\r\n                    templateUrl: params.templateUrl || 'dialogs/tile_config/ConfigDialog.html',\r\n                    controller: TileConfigDialogController,\r\n                    bindToController: true,\r\n                    controllerAs: 'vm',\r\n                    locals: {\r\n                        extensionUrl: params.extensionUrl,\r\n                        params: params.locals\r\n                    },\r\n                    clickOutsideToClose: true\r\n                })\r\n                .then((key) => {\r\n                    if (successCallback) {\r\n                        successCallback(key);\r\n                    }\r\n                }, () => {\r\n                    if (cancelCallback) {\r\n                        cancelCallback();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipConfigDashboardTileDialog')\r\n        .config(setTranslations)\r\n        .service('pipTileConfigDialogService', TileConfigDialogService);\r\n}","\r\nangular\r\n    .module('pipConfigDashboardTileDialog', ['ngMaterial']);\r\n\r\nimport './ConfigDialogController';\r\nimport './ConfigDialogService';\r\nimport './ConfigDialogExtendComponent';","import {\r\n  ITileTemplateService\r\n} from '../utility/TileTemplateUtility';\r\nimport {\r\n  IAddTileDialogService,\r\n  IAddTileDialogprovider\r\n} from '../add_tile_dialog/AddTileProvider'\r\n\r\n{\r\n  const setTranslations = function ($injector: ng.auto.IInjectorService) {\r\n    const pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\r\n    if (pipTranslate) {\r\n      ( < any > pipTranslate).setTranslations('en', {\r\n        DROP_TO_CREATE_NEW_GROUP: 'Drop here to create new group',\r\n      });\r\n      ( < any > pipTranslate).setTranslations('ru', {\r\n        DROP_TO_CREATE_NEW_GROUP: 'Перетащите сюда для создания новой группы'\r\n      });\r\n    }\r\n  }\r\n\r\n  const configureAvailableWidgets = function (pipAddTileDialogProvider: IAddTileDialogprovider) {\r\n    pipAddTileDialogProvider.configWidgetList([\r\n      [{\r\n          title: 'Event',\r\n          icon: 'document',\r\n          name: 'event',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Position',\r\n          icon: 'location',\r\n          name: 'position',\r\n          amount: 0\r\n        }\r\n      ],\r\n      [{\r\n          title: 'Calendar',\r\n          icon: 'date',\r\n          name: 'calendar',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Sticky Notes',\r\n          icon: 'note-take',\r\n          name: 'notes',\r\n          amount: 0\r\n        },\r\n        {\r\n          title: 'Statistics',\r\n          icon: 'tr-statistics',\r\n          name: 'statistics',\r\n          amount: 0\r\n        }\r\n      ]\r\n    ]);\r\n  }\r\n\r\n  class draggableOptions {\r\n    tileWidth: number;\r\n    tileHeight: number;\r\n    gutter: number;\r\n    inline: boolean;\r\n  }\r\n\r\n  const DEFAULT_GRID_OPTIONS: draggableOptions = {\r\n    tileWidth: 150, // 'px'\r\n    tileHeight: 150, // 'px'\r\n    gutter: 10, // 'px'\r\n    inline: false\r\n  };\r\n\r\n  interface DashboardBindings {\r\n      gridOptions: any;\r\n      groupAdditionalActions: any;\r\n      groupedWidgets: any;\r\n  }\r\n\r\n  class DashboardController implements ng.IController, DashboardBindings {\r\n    private defaultGroupMenuActions: any = [{\r\n        title: 'Add Component',\r\n        callback: (groupIndex) => {\r\n          this.addComponent(groupIndex);\r\n        }\r\n      },\r\n      {\r\n        title: 'Remove',\r\n        callback: (groupIndex) => {\r\n          this.removeGroup(groupIndex);\r\n        }\r\n      },\r\n      {\r\n        title: 'Configurate',\r\n        callback: (groupIndex) => {\r\n          console.log('configurate group with index:', groupIndex);\r\n        }\r\n      }\r\n    ];\r\n    private _includeTpl: string = '<pip-{{ type }}-tile group=\"groupIndex\" index=\"index\"' +\r\n      'pip-options=\"$parent.$ctrl.groupedWidgets[groupIndex][\\'source\\'][index].opts\">' +\r\n      '</pip-{{ type }}-tile>';\r\n\r\n    public groupedWidgets: any;\r\n    public draggableGridOptions: draggableOptions;\r\n    public widgetsTemplates: any;\r\n    public groupMenuActions: any = this.defaultGroupMenuActions;\r\n    public widgetsContext: any;\r\n    public gridOptions: any;\r\n    public groupAdditionalActions: any;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      private $rootScope: angular.IRootScopeService,\r\n      private $attrs: any,\r\n      private $element: any,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $interpolate: angular.IInterpolateService,\r\n      private pipAddTileDialog: IAddTileDialogService,\r\n      private pipTileTemplate: ITileTemplateService\r\n    ) {\r\n      // Add class to style scroll bar\r\n      $element.addClass('pip-scroll');\r\n\r\n      // Set tiles grid options\r\n      this.draggableGridOptions = this.gridOptions || DEFAULT_GRID_OPTIONS;\r\n\r\n      // Switch inline displaying\r\n      if (this.draggableGridOptions.inline === true) {\r\n        $element.addClass('inline-grid');\r\n      }\r\n      // Extend group's menu actions\r\n      if (this.groupAdditionalActions) angular.extend(this.groupMenuActions, this.groupAdditionalActions);\r\n\r\n      // Compile widgets\r\n      this.widgetsContext = $scope;\r\n      this.compileWidgets();\r\n\r\n      this.$timeout(() => {\r\n        this.$element.addClass('visible');\r\n      }, 700);\r\n    }\r\n\r\n    private compileWidgets() {\r\n      _.each(this.groupedWidgets, (group, groupIndex) => {\r\n        group.removedWidgets = group.removedWidgets || [],\r\n          group.source = group.source.map((widget, index) => {\r\n            // Establish default props\r\n            widget.size = widget.size || {\r\n              colSpan: 1,\r\n              rowSpan: 1\r\n            };\r\n            widget.index = index;\r\n            widget.groupIndex = groupIndex;\r\n            widget.menu = widget.menu || {};\r\n            angular.extend(widget.menu, [{\r\n              title: 'Remove',\r\n              click: (item, params, object) => {\r\n                this.removeWidget(item, params, object);\r\n              }\r\n            }]);\r\n\r\n            return {\r\n              opts: widget,\r\n              template: this.pipTileTemplate.getTemplate(widget, this._includeTpl)\r\n            };\r\n          })\r\n      });\r\n    }\r\n\r\n    public addComponent(groupIndex) {\r\n      this.pipAddTileDialog\r\n        .show(this.groupedWidgets, groupIndex)\r\n        .then((data) => {\r\n          var activeGroup;\r\n\r\n          if (!data) {\r\n            return;\r\n          }\r\n\r\n          if (data.groupIndex !== -1) {\r\n            activeGroup = this.groupedWidgets[data.groupIndex];\r\n          } else {\r\n            activeGroup = {\r\n              title: 'New group',\r\n              source: []\r\n            };\r\n          }\r\n\r\n          this.addWidgets(activeGroup.source, data.widgets);\r\n\r\n          if (data.groupIndex === -1) {\r\n            this.groupedWidgets.push(activeGroup);\r\n          }\r\n\r\n          this.compileWidgets();\r\n        });\r\n    };\r\n\r\n    public removeGroup = (groupIndex) => {\r\n      console.log('removeGroup', groupIndex);\r\n      this.groupedWidgets.splice(groupIndex, 1);\r\n    }\r\n\r\n    private addWidgets(group, widgets) {\r\n      widgets.forEach((widgetGroup) => {\r\n        widgetGroup.forEach((widget) => {\r\n          if (widget.amount) {\r\n            Array.apply(null, Array(widget.amount)).forEach(() => {\r\n              group.push({\r\n                type: widget.name\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    private removeWidget(item, params, object) {\r\n      this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\r\n      this.groupedWidgets[params.options.groupIndex].removedWidgets.push(params.options.index);\r\n      this.groupedWidgets[params.options.groupIndex].source.splice(params.options.index, 1);\r\n      this.$timeout(() => {\r\n        this.groupedWidgets[params.options.groupIndex].removedWidgets = [];\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const Dashboard: ng.IComponentOptions = {\r\n    bindings: {\r\n      gridOptions: '=pipGridOptions',\r\n      groupAdditionalActions: '=pipGroupActions',\r\n      groupedWidgets: '=pipGroups'\r\n    },\r\n    controller: DashboardController,\r\n    templateUrl: 'dashboard/Dashboard.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .config(configureAvailableWidgets)\r\n    .config(setTranslations)\r\n    .component('pipDashboard', Dashboard);\r\n\r\n}","declare var interact;\r\n\r\nimport {\r\n  DragTileService,\r\n  IDragTileService,\r\n  IDragTileConstructor\r\n} from './DraggableTileService';\r\nimport {\r\n  TilesGridService,\r\n  ITilesGridService,\r\n  ITilesGridConstructor\r\n} from '../tile_group/TileGroupService';\r\n\r\nexport const DEFAULT_TILE_WIDTH: number = 150;\r\nexport const DEFAULT_TILE_HEIGHT: number = 150;\r\nexport const UPDATE_GROUPS_EVENT = \"pipUpdateDashboardGroupsConfig\";\r\n\r\nconst SIMPLE_LAYOUT_COLUMNS_COUNT: number = 2;\r\nconst DEFAULT_OPTIONS = {\r\n  tileWidth: DEFAULT_TILE_WIDTH, // 'px'\r\n  tileHeight: DEFAULT_TILE_HEIGHT, // 'px'\r\n  gutter: 20, // 'px'\r\n  container: 'pip-draggable-grid:first-of-type',\r\n  //mobileBreakpoint       : XXX,   // Get from pipMedia Service in the constructor\r\n  activeDropzoneClass: 'dropzone-active',\r\n  groupContaninerSelector: '.pip-draggable-group:not(.fict-group)',\r\n};\r\n\r\n{\r\n  interface IDraggableBindings {\r\n      tilesTemplates: any;\r\n      tilesContext: any;\r\n      options: any;\r\n      groupMenuActions: any;\r\n      $container: JQuery;\r\n  }\r\n\r\n  interface IDraggableControllerScope extends ng.IScope {\r\n    $container: JQuery;\r\n    tilesTemplates: any;\r\n    options: any;\r\n  }\r\n\r\n  interface ITileScope extends ng.IScope {\r\n    index: number | string;\r\n    groupIndex: number | string;\r\n  }\r\n\r\n  class DraggableController implements ng.IComponentController, IDraggableBindings {\r\n    public opts: any;\r\n    public groups: any;\r\n    public sourceDropZoneElem: any = null;\r\n    public isSameDropzone: boolean = true;\r\n    public tileGroups: any = null;\r\n    public availableWidth: number;\r\n    public availableColumns: number;\r\n    public groupsContainers: any;\r\n    public container: any;\r\n    public activeDraggedGroup: any;\r\n    public draggedTile: any;\r\n    public containerOffset: any;\r\n    public tilesTemplates: any;\r\n    public tilesContext: any;\r\n    public options: any;\r\n    public groupMenuActions: any;\r\n    public $container: JQuery;\r\n\r\n    constructor(\r\n      private $scope: IDraggableControllerScope,\r\n      private $rootScope: angular.IRootScopeService,\r\n      private $compile: angular.ICompileService,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $element: JQuery,\r\n      pipDragTile: IDragTileService,\r\n      pipTilesGrid: ITilesGridService,\r\n      pipMedia: pip.layouts.IMediaService\r\n    ) {\r\n      this.opts = _.merge({\r\n        mobileBreakpoint: pipMedia.breakpoints.xs\r\n      }, DEFAULT_OPTIONS, this.options);\r\n\r\n      this.groups = this.tilesTemplates.map((group, groupIndex) => {\r\n        return {\r\n          title: group.title,\r\n          editingName: false,\r\n          index: groupIndex,\r\n          source: group.source.map((tile) => {\r\n            const tileScope = this.createTileScope(tile);\r\n\r\n            return IDragTileConstructor(DragTileService, {\r\n              tpl: $compile(tile.template)(tileScope),\r\n              options: tile.opts,\r\n              size: tile.opts.size\r\n            });\r\n          })\r\n        };\r\n      });\r\n\r\n      // Add templates watcher\r\n      $scope.$watch('$ctrl.tilesTemplates', (newVal) => {\r\n        this.watch(newVal);\r\n      }, true);\r\n\r\n      // Initialize data\r\n      this.initialize();\r\n\r\n      // Resize handler TODO: replace by pip resize watchers\r\n      $(window).on('resize', _.debounce(() => {\r\n        this.availableWidth = this.getContainerWidth();\r\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\r\n\r\n        this.tileGroups.forEach((group) => {\r\n          group\r\n            .setAvailableColumns(this.availableColumns)\r\n            .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n            .setTilesDimensions()\r\n            .calcContainerHeight();\r\n        });\r\n      }, 50));\r\n    }\r\n\r\n    // Post link function\r\n    public $postLink() {\r\n      this.$container = this.$element;\r\n    }\r\n\r\n    // Watch handler\r\n    private watch(newVal) {\r\n      const prevVal = this.groups;\r\n      let changedGroupIndex = null;\r\n\r\n      if (newVal.length > prevVal.length) {\r\n        this.addGroup(newVal[newVal.length - 1]);\r\n\r\n        return;\r\n      }\r\n\r\n      if (newVal.length < prevVal.length) {\r\n        this.removeGroups(newVal);\r\n\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < newVal.length; i++) {\r\n        const groupWidgetDiff = prevVal[i].source.length - newVal[i].source.length;\r\n        if (groupWidgetDiff || (newVal[i].removedWidgets && newVal[i].removedWidgets.length > 0)) {\r\n          changedGroupIndex = i;\r\n\r\n          if (groupWidgetDiff < 0) {\r\n            const newTiles = newVal[changedGroupIndex].source.slice(groupWidgetDiff);\r\n\r\n            _.each(newTiles, (tile) => {\r\n              console.log('tile', tile);\r\n            });\r\n\r\n            this.addTilesIntoGroup(newTiles, this.tileGroups[changedGroupIndex], this.groupsContainers[changedGroupIndex]);\r\n\r\n            this.$timeout(() => {\r\n              this.updateTilesGroups();\r\n            });\r\n          } else {\r\n            this.removeTiles(this.tileGroups[changedGroupIndex], newVal[changedGroupIndex].removedWidgets, this.groupsContainers[changedGroupIndex]);\r\n            this.updateTilesOptions(newVal);\r\n            this.$timeout(() => {\r\n              this.updateTilesGroups();\r\n            });\r\n          }\r\n\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (newVal && this.tileGroups) {\r\n        this.updateTilesOptions(newVal);\r\n        this.$timeout(() => {\r\n          this.updateTilesGroups();\r\n        });\r\n      }\r\n    }\r\n\r\n    // Inline edit group handlers\r\n    public onTitleClick(group, event) {\r\n      if (!group.editingName) {\r\n        group.oldTitle = _.clone(group.title);\r\n        group.editingName = true;\r\n        this.$timeout(() => {\r\n          $(event.currentTarget.children[0]).focus();\r\n        });\r\n      }\r\n    }\r\n\r\n    public cancelEditing(group) {\r\n      group.title = group.oldTitle;\r\n    }\r\n\r\n    public onBlurTitleInput(group) {\r\n      this.$timeout(() => {\r\n        group.editingName = false;\r\n        this.$rootScope.$broadcast(UPDATE_GROUPS_EVENT, this.groups);\r\n        // Update title in outer scope\r\n        this.tilesTemplates[group.index].title = group.title;\r\n      }, 100);\r\n    }\r\n\r\n    public onKyepressTitleInput(group, event) {\r\n      if (event.keyCode === 13) {\r\n        this.onBlurTitleInput(group);\r\n      }\r\n    }\r\n\r\n    // Update outer scope functions\r\n    private updateTilesTemplates(updateType: string, source ? : any) {\r\n      switch (updateType) {\r\n        case 'addGroup':\r\n          if (this.groups.length !== this.tilesTemplates.length) {\r\n            this.tilesTemplates.push(source);\r\n          }\r\n          break;\r\n        case 'moveTile':\r\n          const {\r\n            fromIndex,\r\n            toIndex,\r\n            tileOptions,\r\n            fromTileIndex\r\n          } = {\r\n            fromIndex: source.from.elem.attributes['data-group-id'].value,\r\n            toIndex: source.to.elem.attributes['data-group-id'].value,\r\n            tileOptions: source.tile.opts.options,\r\n            fromTileIndex: source.tile.opts.options.index\r\n          }\r\n          this.tilesTemplates[fromIndex].source.splice(fromTileIndex, 1);\r\n          this.tilesTemplates[toIndex].source.push({\r\n            opts: tileOptions\r\n          });\r\n\r\n          this.reIndexTiles(source.from.elem);\r\n          this.reIndexTiles(source.to.elem);\r\n          break;\r\n      }\r\n    }\r\n\r\n    // Manage tiles functions\r\n    private createTileScope(tile: any): ITileScope {\r\n      const tileScope = < ITileScope > this.$rootScope.$new(false, this.tilesContext);\r\n      tileScope.index = tile.opts.index == undefined ? tile.opts.options.index : tile.opts.index;\r\n      tileScope.groupIndex = tile.opts.groupIndex == undefined ? tile.opts.options.groupIndex : tile.opts.groupIndex;\r\n\r\n      return tileScope;\r\n    }\r\n\r\n    private removeTiles(group, indexes, container) {\r\n      const tiles = $(container).find('.pip-draggable-tile');\r\n\r\n      _.each(indexes, (index) => {\r\n        group.tiles.splice(index, 1);\r\n        tiles[index].remove();\r\n      });\r\n\r\n      this.reIndexTiles(container);\r\n    }\r\n\r\n    private reIndexTiles(container, gIndex ? ) {\r\n      const tiles = $(container).find('.pip-draggable-tile'),\r\n        groupIndex = gIndex === undefined ? container.attributes['data-group-id'].value : gIndex;\r\n\r\n      _.each(tiles, (tile, index) => {\r\n        const child = $(tile).children()[0];\r\n        angular.element(child).scope()['index'] = index;\r\n        angular.element(child).scope()['groupIndex'] = groupIndex;\r\n      });\r\n    }\r\n\r\n    private removeGroups(newGroups) {\r\n      const removeIndexes = [],\r\n        remain = [],\r\n        containers = [];\r\n\r\n\r\n      _.each(this.groups, (group, index) => {\r\n        if (_.findIndex(newGroups, (g) => {\r\n            return g['title'] === group.title\r\n          }) < 0) {\r\n          removeIndexes.push(index);\r\n        } else {\r\n          remain.push(index);\r\n        }\r\n      });\r\n\r\n      _.each(removeIndexes.reverse(), (index) => {\r\n        this.groups.splice(index, 1);\r\n        this.tileGroups.splice(index, 1);\r\n      });\r\n\r\n      _.each(remain, (index) => {\r\n        containers.push(this.groupsContainers[index]);\r\n      });\r\n\r\n      this.groupsContainers = containers;\r\n\r\n      _.each(this.groupsContainers, (container, index) => {\r\n        this.reIndexTiles(container, index);\r\n      });\r\n    }\r\n\r\n    private addGroup(sourceGroup) {\r\n      const group = {\r\n        title: sourceGroup.title,\r\n        source: sourceGroup.source.map((tile) => {\r\n          const tileScope = this.createTileScope(tile);\r\n\r\n          return IDragTileConstructor(DragTileService, {\r\n            tpl: this.$compile(tile.template)(tileScope),\r\n            options: tile.opts,\r\n            size: tile.opts.size\r\n          });\r\n        })\r\n      };\r\n\r\n      this.groups.push(group);\r\n      if (!this.$scope.$$phase) this.$scope.$apply();\r\n\r\n      this.$timeout(() => {\r\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\r\n        this.tileGroups.push(\r\n          ITilesGridConstructor(TilesGridService, group.source, this.opts, this.availableColumns, this.groupsContainers[this.groupsContainers.length - 1])\r\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n          .setTilesDimensions()\r\n          .calcContainerHeight()\r\n        );\r\n      });\r\n\r\n      this.updateTilesTemplates('addGroup', sourceGroup);\r\n    }\r\n\r\n    private addTilesIntoGroup(newTiles, group, groupContainer) {\r\n      newTiles.forEach((tile) => {\r\n        const tileScope = this.createTileScope(tile);\r\n\r\n        const newTile = IDragTileConstructor(DragTileService, {\r\n          tpl: this.$compile(tile.template)(tileScope),\r\n          options: tile.opts,\r\n          size: tile.opts.size\r\n        });\r\n\r\n        group.addTile(newTile);\r\n\r\n        $('<div>')\r\n          .addClass('pip-draggable-tile')\r\n          .append(newTile.getCompiledTemplate())\r\n          .appendTo(groupContainer);\r\n      });\r\n    }\r\n\r\n    private updateTilesOptions(optionsGroup) {\r\n      optionsGroup.forEach((optionGroup) => {\r\n        optionGroup.source.forEach((tileOptions) => {\r\n          this.tileGroups.forEach((group) => {\r\n            group.updateTileOptions(tileOptions.opts);\r\n          });\r\n        });\r\n      });\r\n    }\r\n\r\n    private initTilesGroups(tileGroups, opts, groupsContainers) {\r\n      return tileGroups.map((group, index) => {\r\n        return ITilesGridConstructor(TilesGridService, group.source, opts, this.availableColumns, groupsContainers[index])\r\n          .generateGrid(this.getSingleTileWidthForMobile(this.availableWidth))\r\n          .setTilesDimensions()\r\n          .calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private updateTilesGroups(onlyPosition ? , draggedTile ? ) {\r\n      this.tileGroups.forEach((group) => {\r\n        if (!onlyPosition) {\r\n          group.generateGrid(this.getSingleTileWidthForMobile(this.availableWidth));\r\n        }\r\n\r\n        group\r\n          .setTilesDimensions(onlyPosition, draggedTile)\r\n          .calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private getContainerWidth(): any {\r\n      const container = this.$container || $('body');\r\n      return container.width();\r\n    }\r\n\r\n    private getAvailableColumns(availableWidth): any {\r\n      return this.opts.mobileBreakpoint > availableWidth ? SIMPLE_LAYOUT_COLUMNS_COUNT :\r\n        Math.floor(availableWidth / (this.opts.tileWidth + this.opts.gutter));\r\n    }\r\n\r\n    private getActiveGroupAndTile(elem): any {\r\n      const active = {};\r\n\r\n      this.tileGroups.forEach((group) => {\r\n        const foundTile = group.getTileByNode(elem);\r\n\r\n        if (foundTile) {\r\n          active['group'] = group;\r\n          active['tile'] = foundTile;\r\n          return;\r\n        }\r\n      });\r\n\r\n      return active;\r\n    }\r\n\r\n    private getSingleTileWidthForMobile(availableWidth): any {\r\n      return this.opts.mobileBreakpoint > availableWidth ? availableWidth / 2 - this.opts.gutter : null;\r\n    }\r\n\r\n    private onDragStartListener(event) {\r\n      const activeEntities = this.getActiveGroupAndTile(event.target);\r\n\r\n      this.container = $(event.target).parent('.pip-draggable-group').get(0);\r\n      this.draggedTile = activeEntities['tile'];\r\n      this.activeDraggedGroup = activeEntities['group'];\r\n\r\n      this.$element.addClass('drag-transfer');\r\n\r\n      this.draggedTile.startDrag();\r\n    }\r\n\r\n    private onDragMoveListener(event) {\r\n      const target = event.target;\r\n      const x = (parseFloat(target.style.left) || 0) + event.dx;\r\n      const y = (parseFloat(target.style.top) || 0) + event.dy;\r\n\r\n      this.containerOffset = this.getContainerOffset();\r\n\r\n      target.style.left = x + 'px'; // TODO [apidhirnyi] Extract units into options section\r\n      target.style.top = y + 'px';\r\n\r\n      const belowElement = this.activeDraggedGroup.getTileByCoordinates({\r\n        left: event.pageX - this.containerOffset.left,\r\n        top: event.pageY - this.containerOffset.top\r\n      }, this.draggedTile);\r\n\r\n      if (belowElement) {\r\n        const draggedTileIndex = this.activeDraggedGroup.getTileIndex(this.draggedTile);\r\n        const belowElemIndex = this.activeDraggedGroup.getTileIndex(belowElement);\r\n\r\n        if ((draggedTileIndex + 1) === belowElemIndex) {\r\n          return;\r\n        }\r\n\r\n        this.activeDraggedGroup\r\n          .swapTiles(this.draggedTile, belowElement)\r\n          .setTilesDimensions(true, this.draggedTile);\r\n\r\n        this.$timeout(() => {\r\n          this.setGroupContainersHeight();\r\n        }, 0);\r\n      }\r\n    }\r\n\r\n    private onDragEndListener() {\r\n      this.draggedTile.stopDrag(this.isSameDropzone);\r\n\r\n      this.$element.removeClass('drag-transfer');\r\n      this.activeDraggedGroup = null;\r\n      this.draggedTile = null;\r\n    }\r\n\r\n    private getContainerOffset() {\r\n      const containerRect = this.container.getBoundingClientRect();\r\n\r\n      return {\r\n        left: containerRect.left,\r\n        top: containerRect.top\r\n      };\r\n    }\r\n\r\n    private setGroupContainersHeight() {\r\n      this.tileGroups.forEach((tileGroup) => {\r\n        tileGroup.calcContainerHeight();\r\n      });\r\n    }\r\n\r\n    private moveTile(from, to, tile) {\r\n      let elem;\r\n      const movedTile = from.removeTile(tile);\r\n      const tileScope = this.createTileScope(tile);\r\n\r\n      $(this.groupsContainers[_.findIndex(this.tileGroups, from)])\r\n        .find(movedTile.getElem())\r\n        .remove();\r\n\r\n      if (to !== null) {\r\n        to.addTile(movedTile);\r\n\r\n        elem = this.$compile(movedTile.getElem())(tileScope);\r\n\r\n        $(this.groupsContainers[_.findIndex(this.tileGroups, to)])\r\n          .append(elem);\r\n\r\n        this.$timeout(to.setTilesDimensions.bind(to, true));\r\n      }\r\n\r\n      this.updateTilesTemplates('moveTile', {\r\n        from: from,\r\n        to: to,\r\n        tile: movedTile\r\n      });\r\n    }\r\n\r\n    private onDropListener(event) {\r\n      const droppedGroupIndex = event.target.attributes['data-group-id'].value;\r\n      const droppedGroup = this.tileGroups[droppedGroupIndex];\r\n\r\n      if (this.activeDraggedGroup !== droppedGroup) {\r\n        this.moveTile(this.activeDraggedGroup, droppedGroup, this.draggedTile);\r\n      }\r\n\r\n      this.updateTilesGroups(true);\r\n      this.sourceDropZoneElem = null;\r\n    }\r\n\r\n    private onDropToFictGroupListener(event) {\r\n      const from = this.activeDraggedGroup;\r\n      const tile = this.draggedTile;\r\n\r\n      this.addGroup({\r\n        title: 'New group',\r\n        source: []\r\n      });\r\n      this.$timeout(() => {\r\n        this.moveTile(from, this.tileGroups[this.tileGroups.length - 1], tile);\r\n        this.updateTilesGroups(true);\r\n      });\r\n\r\n      this.sourceDropZoneElem = null;\r\n    }\r\n\r\n    private onDropEnterListener(event) {\r\n      if (!this.sourceDropZoneElem) {\r\n        this.sourceDropZoneElem = event.dragEvent.dragEnter;\r\n      }\r\n\r\n      if (this.sourceDropZoneElem !== event.dragEvent.dragEnter) {\r\n        event.dragEvent.dragEnter.classList.add('dropzone-active');\r\n        $('body').css('cursor', 'copy');\r\n        this.isSameDropzone = false;\r\n      } else {\r\n        $('body').css('cursor', '');\r\n        this.isSameDropzone = true;\r\n      }\r\n    }\r\n\r\n    private onDropDeactivateListener(event) {\r\n      if (this.sourceDropZoneElem !== event.target) {\r\n        event.target.classList.remove(this.opts.activeDropzoneClass);\r\n        $('body').css('cursor', '');\r\n      }\r\n    }\r\n\r\n    private onDropLeaveListener(event) {\r\n      event.target.classList.remove(this.opts.activeDropzoneClass);\r\n    }\r\n\r\n    private initialize() {\r\n      this.$timeout(() => {\r\n        this.availableWidth = this.getContainerWidth();\r\n        this.availableColumns = this.getAvailableColumns(this.availableWidth);\r\n        this.groupsContainers = document.querySelectorAll(this.opts.groupContaninerSelector);\r\n        this.tileGroups = this.initTilesGroups(this.groups, this.opts, this.groupsContainers);\r\n\r\n        interact('.pip-draggable-tile')\r\n          .draggable({\r\n            autoScroll: {\r\n              enabled: true,\r\n              container: $('#content').get(0),\r\n              speed: 500\r\n            },\r\n            onstart: (event) => {\r\n              this.onDragStartListener(event)\r\n            },\r\n            onmove: (event) => {\r\n              this.onDragMoveListener(event)\r\n            },\r\n            onend: (event) => {\r\n              this.onDragEndListener()\r\n            }\r\n          });\r\n\r\n        interact('.pip-draggable-group.fict-group')\r\n          .dropzone({\r\n            ondrop: (event) => {\r\n              this.onDropToFictGroupListener(event)\r\n            },\r\n            ondragenter: (event) => {\r\n              this.onDropEnterListener(event)\r\n            },\r\n            ondropdeactivate: (event) => {\r\n              this.onDropDeactivateListener(event)\r\n            },\r\n            ondragleave: (event) => {\r\n              this.onDropLeaveListener(event)\r\n            }\r\n          });\r\n\r\n        interact('.pip-draggable-group')\r\n          .dropzone({\r\n            ondrop: (event) => {\r\n              this.onDropListener(event)\r\n            },\r\n            ondragenter: (event) => {\r\n              this.onDropEnterListener(event)\r\n            },\r\n            ondropdeactivate: (event) => {\r\n              this.onDropDeactivateListener(event)\r\n            },\r\n            ondragleave: (event) => {\r\n              this.onDropLeaveListener(event)\r\n            }\r\n          });\r\n\r\n        this.$container\r\n          .on('mousedown touchstart', 'md-menu .md-icon-button', () => {\r\n            interact('.pip-draggable-tile').draggable(false);\r\n            $(this).trigger('click');\r\n          })\r\n          .on('mouseup touchend', () => {\r\n            interact('.pip-draggable-tile').draggable(true);\r\n          });\r\n          \r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  const DragComponent: ng.IComponentOptions = {\r\n    bindings: {\r\n      tilesTemplates: '=pipTilesTemplates',\r\n      tilesContext: '=pipTilesContext',\r\n      options: '=pipDraggableGrid',\r\n      groupMenuActions: '=pipGroupMenuActions'\r\n    },\r\n    //controllerAs: 'DraggedCtrl',\r\n    templateUrl: 'draggable/Draggable.html',\r\n    controller: DraggableController\r\n  }\r\n\r\n  angular.module('pipDraggableTiles')\r\n    .component('pipDraggableGrid', DragComponent);\r\n}","export interface DragTileConstructor {\r\n  new (options: any);\r\n}\r\n\r\nexport function IDragTileConstructor(constructor: DragTileConstructor, options: any): IDragTileService {\r\n  return new constructor(options);\r\n}\r\n\r\nexport interface IDragTileService {\r\n  tpl: any;\r\n  opts: any;\r\n  size: any;\r\n  elem: any;\r\n  preview: any;\r\n  getSize(): any;\r\n  setSize(width, height): any;\r\n  setPosition(left, top): any;\r\n  getCompiledTemplate(): any;\r\n  updateElem(parent): any;\r\n  getElem(): any;\r\n  startDrag(): any;\r\n  stopDrag(isAnimate): any;\r\n  setPreviewPosition(coords): void;\r\n  getOptions(): any;\r\n  setOptions(options): any;\r\n}\r\n\r\nlet DEFAULT_TILE_SIZE = {\r\n  colSpan: 1,\r\n  rowSpan: 1\r\n};\r\n\r\nexport class DragTileService implements IDragTileService {\r\n  public tpl: any;\r\n  public opts: any;\r\n  public size: any;\r\n  public elem: any;\r\n  public preview: any;\r\n\r\n  constructor (options: any) {\r\n    this.tpl = options.tpl.get(0);\r\n    this.opts = options;\r\n    this.size = _.merge({}, DEFAULT_TILE_SIZE, options.size);\r\n    this.elem = null;\r\n  }\r\n\r\n  public getSize(): any {\r\n    return this.size;\r\n  }\r\n\r\n  public setSize(width, height): any {\r\n    this.size.width = width;\r\n    this.size.height = height;\r\n\r\n    if (this.elem) {\r\n      this.elem.css({\r\n        width: width,\r\n        height: height\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  public setPosition(left, top): any {\r\n    this.size.left = left;\r\n    this.size.top = top;\r\n\r\n    if (this.elem) {\r\n      this.elem.css({\r\n        left: left,\r\n        top: top\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  public getCompiledTemplate(): any {\r\n    return this.tpl;\r\n  };\r\n\r\n  public updateElem(parent): any {\r\n    this.elem = $(this.tpl).parent(parent);\r\n\r\n    return this;\r\n  };\r\n\r\n  public getElem(): any {\r\n    return this.elem.get(0);\r\n  };\r\n\r\n  public startDrag(): any {\r\n    this.preview = $('<div>')\r\n      .addClass('pip-dragged-preview')\r\n      .css({\r\n        position: 'absolute',\r\n        left: this.elem.css('left'),\r\n        top: this.elem.css('top'),\r\n        width: this.elem.css('width'),\r\n        height: this.elem.css('height')\r\n      });\r\n\r\n    this.elem\r\n      .addClass('no-animation')\r\n      .css({\r\n        zIndex: '9999'\r\n      })\r\n      .after(this.preview);\r\n\r\n    return this;\r\n  };\r\n\r\n  public stopDrag(isAnimate): any {\r\n    let self = this;\r\n\r\n    if (isAnimate) {\r\n      this.elem\r\n        .removeClass('no-animation')\r\n        .css({\r\n          left: this.preview.css('left'),\r\n          top: this.preview.css('top')\r\n        })\r\n        .on('transitionend', onTransitionEnd);\r\n    } else {\r\n      self.elem\r\n        .css({\r\n          left: self.preview.css('left'),\r\n          top: self.preview.css('top'),\r\n          zIndex: ''\r\n        })\r\n        .removeClass('no-animation');\r\n\r\n      self.preview.remove();\r\n      self.preview = null;\r\n    }\r\n\r\n    return this;\r\n\r\n    function onTransitionEnd() {\r\n      if (self.preview) {\r\n        self.preview.remove();\r\n        self.preview = null;\r\n      }\r\n\r\n      self.elem\r\n        .css('zIndex', '')\r\n        .off('transitionend', onTransitionEnd);\r\n    }\r\n  };\r\n\r\n  public setPreviewPosition(coords) {\r\n    this.preview.css(coords);\r\n  };\r\n\r\n  public getOptions(): any {\r\n    return this.opts.options;\r\n  };\r\n\r\n  public setOptions(options): any {\r\n    _.merge(this.opts.options, options);\r\n    _.merge(this.size, options.size);\r\n\r\n    return this;\r\n  };\r\n}\r\n\r\nangular\r\n  .module('pipDraggableTiles')\r\n  .service('pipDragTile', function () {\r\n    return function (options) {\r\n      let newTile = new DragTileService(options);\r\n\r\n      return newTile;\r\n    }\r\n  });","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n{\r\n  class EventTileController extends MenuTileService {\r\n    private _oldOpacity: number;\r\n\r\n    public opacity: number = 0.57;\r\n\r\n    constructor(\r\n      $scope: ng.IScope,\r\n      private $element: JQuery,\r\n      private $timeout: angular.ITimeoutService,\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.color = this.options.color || 'gray';\r\n      this.opacity = this.options.opacity || this.opacity;\r\n\r\n      this.drawImage();\r\n\r\n      // TODO it doesn't work\r\n      $scope.$watch(() => {\r\n        return $element.is(':visible');\r\n      }, (newVal) => {\r\n        this.drawImage();\r\n      });\r\n    }\r\n\r\n    private drawImage() {\r\n      if (this.options.image) {\r\n        this.$timeout(() => {\r\n          this.onImageLoad(this.$element.find('img'));\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this._oldOpacity = _.clone(this.opacity);\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-calendar-config',\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size || {\r\n            colSpan: 1,\r\n            rowSpan: 1\r\n          },\r\n          date: this.options.date,\r\n          title: this.options.title,\r\n          text: this.options.text,\r\n          opacity: this.opacity,\r\n          onOpacitytest: (opacity) => {\r\n            this.opacity = opacity;\r\n          }\r\n        },\r\n        extensionUrl: 'event_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.options.date = result.date;\r\n        this.options.title = result.title;\r\n        this.options.text = result.text;\r\n        this.options.opacity = result.opacity;\r\n      }, () => {\r\n        this.opacity = this._oldOpacity;\r\n      });\r\n    }\r\n\r\n    private onImageLoad(image) {\r\n      this.setImageMarginCSS(this.$element.parent(), image);\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      if (this.options.image) {\r\n        this.$timeout(() => {\r\n          this.setImageMarginCSS(this.$element.parent(), this.$element.find('img'));\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    // Later replace by pipImageUtils sevice's function\r\n    private setImageMarginCSS($element, image) {\r\n      let\r\n        containerWidth = $element.width ? $element.width() : $element.clientWidth, // || 80,\r\n        containerHeight = $element.height ? $element.height() : $element.clientHeight, // || 80,\r\n        imageWidth = image[0].naturalWidth || image.width,\r\n        imageHeight = image[0].naturalHeight || image.height,\r\n        margin = 0,\r\n        cssParams = {};\r\n\r\n      if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n        margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n        cssParams['margin-left'] = '' + margin + 'px';\r\n        cssParams['height'] = '' + containerHeight + 'px'; //'100%';\r\n        cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\r\n        cssParams['margin-top'] = '';\r\n      } else {\r\n        margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n        cssParams['margin-top'] = '' + margin + 'px';\r\n        cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\r\n        cssParams['width'] = '' + containerWidth + 'px'; //'100%';\r\n        cssParams['margin-left'] = '';\r\n      }\r\n\r\n      image.css(cssParams);\r\n    }\r\n  }\r\n\r\n\r\n  const EventTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: EventTileController,\r\n    templateUrl: 'event_tile/EventTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipEventTile', EventTile);\r\n}","{\r\n  const TileMenu = ():ng.IDirective => {\r\n    return {\r\n      restrict: 'EA',\r\n      templateUrl: 'menu_tile/MenuTile.html'\r\n    };\r\n  }\r\n\r\n  angular\r\n    .module('pipMenuTile')\r\n    .directive('pipTileMenu', TileMenu);\r\n}","import { DashboardTile } from '../common_tile/Tile';\r\n\r\nexport class MenuTileService extends DashboardTile {\r\n  public menu: any = [{\r\n    title: 'Change Size',\r\n    action: angular.noop,\r\n    submenu: [{\r\n        title: '1 x 1',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 1,\r\n          sizeY: 1\r\n        }\r\n      },\r\n      {\r\n        title: '2 x 1',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 2,\r\n          sizeY: 1\r\n        }\r\n      },\r\n      {\r\n        title: '2 x 2',\r\n        action: 'changeSize',\r\n        params: {\r\n          sizeX: 2,\r\n          sizeY: 2\r\n        }\r\n      }\r\n    ]\r\n  }];\r\n\r\n  constructor() {\r\n    \"ngInject\";\r\n\r\n    super();\r\n  }\r\n\r\n  public callAction(actionName, params, item) {\r\n    if (this[actionName]) {\r\n      this[actionName].call(this, params);\r\n    }\r\n\r\n    if (item['click']) {\r\n      item['click'].call(item, params, this);\r\n    }\r\n  };\r\n\r\n  public changeSize(params) {\r\n    this.options.size.colSpan = params.sizeX;\r\n    this.options.size.rowSpan = params.sizeY;\r\n  };\r\n}\r\n\r\n{\r\n  class MenuTileProvider {\r\n    private _service: MenuTileService;\r\n\r\n    constructor() {}\r\n\r\n    public $get() {\r\n      \"ngInject\";\r\n\r\n      if (this._service == null)\r\n        this._service = new MenuTileService();\r\n\r\n      return this._service;\r\n    }\r\n  }\r\n\r\n  angular\r\n    .module('pipMenuTile')\r\n    .provider('pipMenuTile', MenuTileProvider);\r\n}","angular\r\n    .module('pipMenuTile', []);\r\n\r\nimport './MenuTileDirective';\r\nimport './MenuTileService';\r\n\r\nexport * from './MenuTileService';","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class NoteTileController extends MenuTileService {\r\n\r\n    constructor(\r\n      private pipTileConfigDialogService: ITileConfigService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.color = this.options.color || 'orange';\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        locals: {\r\n          color: this.color,\r\n          size: this.options.size,\r\n          title: this.options.title,\r\n          text: this.options.text,\r\n        },\r\n        extensionUrl: 'note_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.color = result.color;\r\n        this.options.color = result.color;\r\n        this.changeSize(result.size);\r\n        this.options.text = result.text;\r\n        this.options.title = result.title;\r\n      });\r\n    }\r\n  }\r\n\r\n  const NoteTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: NoteTileController,\r\n    templateUrl: 'note_tile/NoteTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipNoteTile', NoteTile);\r\n}","'use strict';\r\n\r\nimport {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\nimport {\r\n  ITileTemplateService\r\n} from '../utility/TileTemplateUtility';\r\n\r\n{\r\n  class PictureSliderController extends MenuTileService {\r\n    public animationType: string = 'fading';\r\n    public animationInterval: number = 5000;\r\n\r\n    constructor(\r\n      private $scope: angular.IScope,\r\n      private $element: any,\r\n      private $timeout: angular.ITimeoutService,\r\n      private pipTileTemplate: ITileTemplateService\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        this.animationType = this.options.animationType || this.animationType;\r\n        this.animationInterval = this.options.animationInterval || this.animationInterval;\r\n      }\r\n    }\r\n\r\n    public onImageLoad($event) {\r\n      this.$timeout(() => {\r\n        this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), $event.target);\r\n      });\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.$timeout(() => {\r\n        _.each(this.$element.find('img'), (image) => {\r\n          this.pipTileTemplate.setImageMarginCSS(this.$element.parent(), image);\r\n        });\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  const PictureSliderTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: PictureSliderController,\r\n    templateUrl: 'picture_slider_tile/PictureSliderTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipPictureSliderTile', PictureSliderTile);\r\n}","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\nimport {\r\n  ITileConfigService\r\n} from '../config_tile_dialog/ConfigDialogService';\r\n\r\n{\r\n  class PositionTileController extends MenuTileService {\r\n    public showPosition: boolean = true;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      private $timeout: angular.ITimeoutService,\r\n      private $element: any,\r\n      private pipTileConfigDialogService: ITileConfigService,\r\n      private pipLocationEditDialog: any,\r\n    ) {\r\n      super();\r\n\r\n      if (this.options) {\r\n        if (this.options.menu) this.menu = _.union(this.menu, this.options.menu);\r\n      }\r\n\r\n      this.menu.push({\r\n        title: 'Configurate',\r\n        click: () => {\r\n          this.onConfigClick();\r\n        }\r\n      });\r\n      this.menu.push({\r\n        title: 'Change location',\r\n        click: () => {\r\n          this.openLocationEditDialog();\r\n        }\r\n      });\r\n\r\n      this.options.location = this.options.location || this.options.position;\r\n\r\n      $scope.$watch('$ctrl.options.location', () => {\r\n        this.reDrawPosition();\r\n      });\r\n\r\n      // TODO it doesn't work\r\n      $scope.$watch(() => {\r\n        return $element.is(':visible');\r\n      }, (newVal) => {\r\n        if (newVal == true) this.reDrawPosition();\r\n      });\r\n    }\r\n\r\n    private onConfigClick() {\r\n      this.pipTileConfigDialogService.show({\r\n        dialogClass: 'pip-position-config',\r\n        locals: {\r\n          size: this.options.size,\r\n          locationName: this.options.locationName,\r\n          hideColors: true,\r\n        },\r\n        extensionUrl: 'position_tile/ConfigDialogExtension.html'\r\n      }, (result: any) => {\r\n        this.changeSize(result.size);\r\n        this.options.locationName = result.locationName;\r\n      });\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.reDrawPosition();\r\n    }\r\n\r\n    public openLocationEditDialog() {\r\n      this.pipLocationEditDialog.show({\r\n        locationName: this.options.locationName,\r\n        locationPos: this.options.location\r\n      }, (newPosition) => {\r\n        if (newPosition) {\r\n          this.options.location = newPosition.location;\r\n          this.options.locationName = newPosition.locatioName;\r\n        }\r\n      });\r\n    }\r\n\r\n    private reDrawPosition() {\r\n      this.showPosition = false;\r\n      this.$timeout(() => {\r\n        this.showPosition = true;\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n\r\n  const PositionTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: PositionTileController,\r\n    templateUrl: 'position_tile/PositionTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipPositionTile', PositionTile);\r\n}","import {\r\n  MenuTileService\r\n} from '../menu_tile/MenuTileService';\r\n\r\n{\r\n  const SMALL_CHART: number = 70;\r\n  const BIG_CHART: number = 250;\r\n\r\n  class StatisticsTileController extends MenuTileService {\r\n    private _$scope: angular.IScope;\r\n    private _$timeout: angular.ITimeoutService;\r\n\r\n    public reset: boolean = false;\r\n    public chartSize: number = SMALL_CHART;\r\n\r\n    constructor(\r\n      $scope: angular.IScope,\r\n      $timeout: angular.ITimeoutService\r\n    ) {\r\n      super();\r\n      this._$scope = $scope;\r\n      this._$timeout = $timeout;\r\n\r\n      if (this.options) {\r\n        this.menu = this.options.menu ? _.union(this.menu, this.options.menu) : this.menu;\r\n      }\r\n\r\n      this.setChartSize();\r\n    }\r\n\r\n    public changeSize(params) {\r\n      this.options.size.colSpan = params.sizeX;\r\n      this.options.size.rowSpan = params.sizeY;\r\n\r\n      this.reset = true;\r\n      this.setChartSize();\r\n      this._$timeout(() => {\r\n        this.reset = false;\r\n      }, 500);\r\n    }\r\n\r\n    private setChartSize() {\r\n      this.chartSize = this.options.size.colSpan == 2 && this.options.size.rowSpan == 2 ? BIG_CHART : SMALL_CHART;\r\n    }\r\n  }\r\n\r\n\r\n  const StatisticsTile: ng.IComponentOptions = {\r\n    bindings: {\r\n      options: '=pipOptions'\r\n    },\r\n    controller: StatisticsTileController,\r\n    templateUrl: 'statistics_tile/StatisticsTile.html'\r\n  }\r\n\r\n  angular\r\n    .module('pipDashboard')\r\n    .component('pipStatisticsTile', StatisticsTile);\r\n}","{\r\n  interface DraggableTileAttributes extends ng.IAttributes {\r\n    pipDraggableTiles: any;\r\n  }\r\n\r\n  function DraggableTileLink(\r\n    $scope: ng.IScope,\r\n    $elem: JQuery,\r\n    $attr: DraggableTileAttributes\r\n  ) {\r\n    const docFrag = document.createDocumentFragment(),\r\n      group = $scope.$eval($attr.pipDraggableTiles);\r\n\r\n    group.forEach(function (tile) {\r\n      const tpl = wrapComponent(tile.getCompiledTemplate());\r\n      docFrag.appendChild(tpl);\r\n    });\r\n\r\n    $elem.append(docFrag);\r\n\r\n    function wrapComponent(elem) {\r\n      return $('<div>')\r\n        .addClass('pip-draggable-tile')\r\n        .append(elem)\r\n        .get(0);\r\n    }\r\n  }\r\n\r\n  function DraggableTiles(): ng.IDirective {\r\n    return {\r\n      restrict: 'A',\r\n      link: function(\r\n        $scope: ng.IScope,\r\n        $elem: JQuery,\r\n        $attr: DraggableTileAttributes\r\n      ) {\r\n          new DraggableTileLink($scope, $elem, $attr);\r\n      }\r\n    };\r\n  }\r\n\r\n  angular\r\n    .module('pipDraggableTilesGroup')\r\n    .directive('pipDraggableTiles', DraggableTiles);\r\n}","export interface TilesGridConstructor {\r\n  new(tiles, options, columns, elem);\r\n}\r\n\r\nexport function ITilesGridConstructor(constructor: TilesGridConstructor, tiles, options, columns, elem): ITilesGridService {\r\n  return new constructor(tiles, options, columns, elem);\r\n}\r\n\r\nexport interface ITilesGridService {\r\n  tiles: any;\r\n  opts: any;\r\n  columns: any;\r\n  elem: any;\r\n  gridCells: any;\r\n  inline: boolean;\r\n  isMobileLayout: boolean;\r\n\r\n  addTile(tile): any;\r\n  getCellByPosition(row, col): any;\r\n  getCells(prevCell, rowSpan, colSpan): any;\r\n  getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any;\r\n  getCell(src, basicRow, basicCol, columns): any;\r\n  getAvailableCellsMobile(prevCell, rowSpan, colSpan): any;\r\n  getBasicRow(prevCell): any;\r\n  isCellFree(row, col): any;\r\n  getCellIndex(srcCell): any;\r\n  reserveCells(start, end, elem): void;\r\n  clearElements(): void;\r\n  setAvailableColumns(columns): any;\r\n  generateGrid(singleTileWidth ? ): any;\r\n  setTilesDimensions(onlyPosition, draggedTile): any;\r\n  calcContainerHeight(): any;\r\n  getTileByNode(node): any;\r\n  getTileByCoordinates(coords, draggedTile): any;\r\n  getTileIndex(tile): any;\r\n  swapTiles(movedTile, beforeTile): any;\r\n  removeTile(removeTile): any;\r\n  updateTileOptions(opts): any;\r\n}\r\n\r\nconst MOBILE_LAYOUT_COLUMNS = 2;\r\n\r\nexport class TilesGridService implements ITilesGridService {\r\n  public tiles: any;\r\n  public opts: any;\r\n  public columns: any;\r\n  public elem: any;\r\n  public gridCells: any = [];\r\n  public inline: boolean = false;\r\n  public isMobileLayout: boolean;\r\n\r\n  constructor(tiles, options, columns, elem) {\r\n    this.tiles = tiles;\r\n    this.opts = options;\r\n    this.columns = columns || 0; // available columns in a row\r\n    this.elem = elem;\r\n    this.gridCells = [];\r\n    this.inline = options.inline || false;\r\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\r\n  }\r\n\r\n  public addTile(tile): any {\r\n    this.tiles.push(tile);\r\n    if (this.tiles.length === 1) {\r\n      this.generateGrid();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public getCellByPosition(row, col): any {\r\n    return this.gridCells[row][col];\r\n  };\r\n\r\n  public getCells(prevCell, rowSpan, colSpan): any {\r\n    if (this.isMobileLayout) {\r\n      return this.getAvailableCellsMobile(prevCell, rowSpan, colSpan);\r\n    } else {\r\n      return this.getAvailableCellsDesktop(prevCell, rowSpan, colSpan);\r\n    }\r\n  };\r\n\r\n  public getAvailableCellsDesktop(prevCell, rowSpan, colSpan): any {\r\n    let leftCornerCell;\r\n    let rightCornerCell;\r\n    const basicCol = prevCell && prevCell.col || 0;\r\n    const basicRow = this.getBasicRow(prevCell);\r\n\r\n    // Small tile\r\n    if (colSpan === 1 && rowSpan === 1) {\r\n      const gridCopy = this.gridCells.slice();\r\n\r\n      if (!prevCell) {\r\n        leftCornerCell = gridCopy[0][0];\r\n      } else {\r\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\r\n\r\n        if (!leftCornerCell) {\r\n          const rowShift = this.isMobileLayout ? 1 : 2;\r\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Medium tile\r\n    if (colSpan === 2 && rowSpan === 1) {\r\n      const prevTileSize = prevCell && prevCell.elem.size || null;\r\n\r\n      if (!prevTileSize) {\r\n        leftCornerCell = this.getCellByPosition(basicRow, basicCol);\r\n        rightCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 2) {\r\n        if (this.columns - basicCol - 2 > 0) {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n        }\r\n      } else if (prevTileSize.colSpan === 2 && prevTileSize.rowSpan === 1) {\r\n        if (prevCell.row % 2 === 0) {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 1, basicCol - 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol);\r\n        } else {\r\n          if (this.columns - basicCol - 3 >= 0) {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          } else {\r\n            leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n            rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n          }\r\n        }\r\n      } else if (prevTileSize.colSpan === 1 && prevTileSize.rowSpan === 1) {\r\n        if (this.columns - basicCol - 3 >= 0) {\r\n          if (this.isCellFree(basicRow, basicCol + 1)) {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          } else {\r\n            leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n            rightCornerCell = this.getCellByPosition(basicRow, basicCol + 3);\r\n          }\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 2, 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Big tile\r\n    if (!prevCell && rowSpan === 2 && colSpan === 2) {\r\n      leftCornerCell = this.getCellByPosition(basicRow, basicCol);\r\n      rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 1);\r\n    } else if (rowSpan === 2 && colSpan === 2) {\r\n      if (this.columns - basicCol - 2 > 0) {\r\n        if (this.isCellFree(basicRow, basicCol + 1)) {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 1);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 2);\r\n        } else {\r\n          leftCornerCell = this.getCellByPosition(basicRow, basicCol + 2);\r\n          rightCornerCell = this.getCellByPosition(basicRow + 1, basicCol + 3);\r\n        }\r\n      } else {\r\n        leftCornerCell = this.getCellByPosition(basicRow + 2, 0);\r\n        rightCornerCell = this.getCellByPosition(basicRow + 3, 1);\r\n      }\r\n    }\r\n\r\n    return {\r\n      start: leftCornerCell,\r\n      end: rightCornerCell\r\n    };\r\n  };\r\n\r\n  public getCell(src, basicRow, basicCol, columns): any {\r\n    let cell, col, row;\r\n\r\n    if (this.isMobileLayout) {\r\n      // mobile layout\r\n      for (col = basicCol; col < columns; col++) {\r\n        if (!src[basicRow][col].elem) {\r\n          cell = src[basicRow][col];\r\n          break;\r\n        }\r\n      }\r\n\r\n      return cell;\r\n    }\r\n\r\n    // desktop\r\n    for (col = basicCol; col < columns; col++) {\r\n      for (row = 0; row < 2; row++) {\r\n        if (!src[row + basicRow][col].elem) {\r\n          cell = src[row + basicRow][col];\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (cell) {\r\n        return cell;\r\n      }\r\n    }\r\n  };\r\n\r\n  public getAvailableCellsMobile(prevCell, rowSpan, colSpan): any {\r\n    let leftCornerCell;\r\n    let rightCornerCell;\r\n    const basicRow = this.getBasicRow(prevCell);\r\n    const basicCol = prevCell && prevCell.col || 0;\r\n\r\n\r\n    if (colSpan === 1 && rowSpan === 1) {\r\n      const gridCopy = this.gridCells.slice();\r\n\r\n      if (!prevCell) {\r\n        leftCornerCell = gridCopy[0][0];\r\n      } else {\r\n        leftCornerCell = this.getCell(gridCopy, basicRow, basicCol, this.columns);\r\n\r\n        if (!leftCornerCell) {\r\n          const rowShift = this.isMobileLayout ? 1 : 2;\r\n          leftCornerCell = this.getCell(gridCopy, basicRow + rowShift, 0, this.columns);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!prevCell) {\r\n      leftCornerCell = this.getCellByPosition(basicRow, 0);\r\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan - 1, 1);\r\n    } else if (colSpan === 2) {\r\n      leftCornerCell = this.getCellByPosition(basicRow + 1, 0);\r\n      rightCornerCell = this.getCellByPosition(basicRow + rowSpan, 1);\r\n    }\r\n\r\n    return {\r\n      start: leftCornerCell,\r\n      end: rightCornerCell\r\n    };\r\n  };\r\n\r\n  public getBasicRow(prevCell): any {\r\n    let basicRow;\r\n\r\n    if (this.isMobileLayout) {\r\n      if (prevCell) {\r\n        basicRow = prevCell && prevCell.row || 0;\r\n      } else {\r\n        basicRow = 0;\r\n      }\r\n    } else {\r\n      if (prevCell) {\r\n        basicRow = prevCell.row % 2 === 0 ? prevCell.row : prevCell.row - 1;\r\n      } else {\r\n        basicRow = 0;\r\n      }\r\n    }\r\n\r\n    return basicRow;\r\n  };\r\n\r\n  public isCellFree(row, col): any {\r\n    return !this.gridCells[row][col].elem;\r\n  };\r\n\r\n  public getCellIndex(srcCell): any {\r\n    const self = this;\r\n    let index;\r\n\r\n    this.gridCells.forEach((row, rowIndex) => {\r\n      index = _.findIndex(self.gridCells[rowIndex], (cell) => {\r\n        return cell === srcCell;\r\n      });\r\n\r\n      if (index !== -1) {\r\n        return;\r\n      }\r\n    });\r\n\r\n    return index !== -1 ? index : 0;\r\n  };\r\n\r\n  public reserveCells(start, end, elem) {\r\n    this.gridCells.forEach((row) => {\r\n      row.forEach((cell) => {\r\n        if (cell.row >= start.row && cell.row <= end.row &&\r\n          cell.col >= start.col && cell.col <= end.col) {\r\n          cell.elem = elem;\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  public clearElements() {\r\n    this.gridCells.forEach((row) => {\r\n      row.forEach((tile) => {\r\n        tile.elem = null;\r\n      });\r\n    });\r\n  };\r\n\r\n  public setAvailableColumns(columns): any {\r\n    this.isMobileLayout = columns === MOBILE_LAYOUT_COLUMNS;\r\n    this.columns = columns;\r\n\r\n    return this;\r\n  };\r\n\r\n  public generateGrid(singleTileWidth ? ): any {\r\n    const self = this,\r\n      tileWidth = singleTileWidth || this.opts.tileWidth,\r\n      offset = document.querySelector('.pip-draggable-group-title').getBoundingClientRect();\r\n    let colsInRow = 0,\r\n      rows = 0,\r\n      gridInRow = [];\r\n\r\n    this.gridCells = [];\r\n\r\n    this.tiles.forEach((tile, index, srcTiles) => {\r\n      const tileSize = tile.getSize();\r\n\r\n      generateCells(tileSize.colSpan);\r\n\r\n      if (srcTiles.length === index + 1) {\r\n        if (colsInRow < self.columns) {\r\n          generateCells(self.columns - colsInRow);\r\n        }\r\n\r\n        // Generate more cells for extends tile size to big\r\n        if (self.tiles.length * 2 > self.gridCells.length) {\r\n          Array.apply(null, Array(self.tiles.length * 2 - self.gridCells.length)).forEach(() => {\r\n            generateCells(self.columns);\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    function generateCells(newCellCount) {\r\n      Array.apply(null, Array(newCellCount)).forEach(() => {\r\n        if (self.columns < colsInRow + 1) {\r\n          rows++;\r\n          colsInRow = 0;\r\n\r\n          self.gridCells.push(gridInRow);\r\n          gridInRow = [];\r\n        }\r\n\r\n        let top = rows * self.opts.tileHeight + (rows ? rows * self.opts.gutter : 0) + offset.height;\r\n        let left = colsInRow * tileWidth + (colsInRow ? colsInRow * self.opts.gutter : 0);\r\n\r\n        // Describe grid cell size through block corners coordinates\r\n        gridInRow.push({\r\n          top: top,\r\n          left: left,\r\n          bottom: top + self.opts.tileHeight,\r\n          right: left + tileWidth,\r\n          row: rows,\r\n          col: colsInRow\r\n        });\r\n\r\n        colsInRow++;\r\n      });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public setTilesDimensions(onlyPosition, draggedTile): any {\r\n    const self = this;\r\n    let currIndex = 0;\r\n    let prevCell;\r\n\r\n    if (onlyPosition) {\r\n      self.clearElements();\r\n    }\r\n\r\n    this.tiles.forEach((tile) => {\r\n      const tileSize = tile.getSize();\r\n      let startCell;\r\n      let width;\r\n      let height;\r\n      let cells;\r\n\r\n      tile.updateElem('.pip-draggable-tile');\r\n      if (tileSize.colSpan === 1) {\r\n        if (prevCell && prevCell.elem.size.colSpan === 2 && prevCell.elem.size.rowSpan === 1) {\r\n          startCell = self.getCells(self.getCellByPosition(prevCell.row, prevCell.col - 1), 1, 1).start;\r\n        } else {\r\n          startCell = self.getCells(prevCell, 1, 1).start;\r\n        }\r\n\r\n\r\n        if (!onlyPosition) {\r\n          width = startCell.right - startCell.left;\r\n          height = startCell.bottom - startCell.top;\r\n        }\r\n\r\n        prevCell = startCell;\r\n\r\n        self.reserveCells(startCell, startCell, tile);\r\n\r\n        currIndex++;\r\n      } else if (tileSize.colSpan === 2) {\r\n        cells = self.getCells(prevCell, tileSize.rowSpan, tileSize.colSpan);\r\n        startCell = cells.start;\r\n\r\n        if (!onlyPosition) {\r\n          width = cells.end.right - cells.start.left;\r\n          height = cells.end.bottom - cells.start.top;\r\n        }\r\n\r\n        prevCell = cells.end;\r\n\r\n        self.reserveCells(cells.start, cells.end, tile);\r\n\r\n        currIndex += 2;\r\n      }\r\n\r\n      // Render preview\r\n      // while tiles from group is dragged\r\n      if (draggedTile === tile) {\r\n        tile.setPreviewPosition({\r\n          left: startCell.left,\r\n          top: startCell.top\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      if (!onlyPosition) {\r\n        tile.setSize(width, height);\r\n      }\r\n\r\n      tile.setPosition(startCell.left, startCell.top);\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  public calcContainerHeight(): any {\r\n    let maxHeightSize, maxWidthSize;\r\n\r\n    if (!this.tiles.length) {\r\n      return this;\r\n    }\r\n\r\n    maxHeightSize = _.maxBy(this.tiles, (tile) => {\r\n      const tileSize = tile['getSize']();\r\n      return tileSize.top + tileSize.height;\r\n    })['getSize']();\r\n\r\n    this.elem.style.height = maxHeightSize.top + maxHeightSize.height + 'px';\r\n\r\n    if (this.inline) {\r\n      maxWidthSize = _.maxBy(this.tiles, (tile) => {\r\n        const tileSize = tile['getSize']();\r\n        return tileSize.left + tileSize.width;\r\n      })['getSize']();\r\n\r\n      this.elem.style.width = maxWidthSize.left + maxWidthSize.width + 'px';\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public getTileByNode(node): any {\r\n    const foundTile = this.tiles.filter((tile) => {\r\n      return node === tile.getElem();\r\n    });\r\n\r\n    return foundTile.length ? foundTile[0] : null;\r\n  };\r\n\r\n  public getTileByCoordinates(coords, draggedTile): any {\r\n    return this.tiles\r\n      .filter((tile) => {\r\n        const tileSize = tile.getSize();\r\n\r\n        return tile !== draggedTile &&\r\n          tileSize.left <= coords.left && coords.left <= (tileSize.left + tileSize.width) &&\r\n          tileSize.top <= coords.top && coords.top <= (tileSize.top + tileSize.height);\r\n      })[0] || null;\r\n  };\r\n\r\n  public getTileIndex(tile): any {\r\n    return _.findIndex(this.tiles, tile);\r\n  };\r\n\r\n  public swapTiles(movedTile, beforeTile): any {\r\n    const movedTileIndex = _.findIndex(this.tiles, movedTile);\r\n    const beforeTileIndex = _.findIndex(this.tiles, beforeTile);\r\n\r\n    this.tiles.splice(movedTileIndex, 1);\r\n    this.tiles.splice(beforeTileIndex, 0, movedTile);\r\n\r\n    return this;\r\n  };\r\n\r\n  public removeTile(removeTile): any {\r\n    let droppedTile;\r\n\r\n    this.tiles.forEach((tile, index, tiles) => {\r\n      if (tile === removeTile) {\r\n        droppedTile = tiles.splice(index, 1)[0];\r\n        return false;\r\n      }\r\n    });\r\n\r\n    return droppedTile;\r\n  };\r\n\r\n  public updateTileOptions(opts): any {\r\n    const index = _.findIndex(this.tiles, (tile) => {\r\n      return tile['getOptions']() === opts;\r\n    });\r\n\r\n    if (index !== -1) {\r\n      this.tiles[index].setOptions(opts);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n}\r\n\r\n\r\nangular\r\n  .module('pipDraggableTilesGroup')\r\n  .service('pipTilesGrid', function () {\r\n    return function (tiles, options, columns, elem) {\r\n      const newGrid = new TilesGridService(tiles, options, columns, elem);\r\n\r\n      return newGrid;\r\n    }\r\n  });","angular\r\n    .module('pipDraggableTilesGroup', []);\r\n\r\nimport './TileGroupDirective';\r\nimport './TileGroupService';","export interface ITileTemplateService {\r\n    getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any;\r\n    setImageMarginCSS($element, image): void;\r\n} \r\n\r\n{\r\n    class tileTemplateService implements ITileTemplateService {\r\n        private _$interpolate: angular.IInterpolateService;\r\n        private _$compile: angular.ICompileService;\r\n        private _$templateRequest: angular.ITemplateRequestService;\r\n\r\n        constructor(\r\n            $interpolate: angular.IInterpolateService,\r\n            $compile: angular.ICompileService,\r\n            $templateRequest: angular.ITemplateRequestService\r\n        ) {\r\n            this._$interpolate = $interpolate;\r\n            this._$compile = $compile;\r\n            this._$templateRequest = $templateRequest;\r\n        }\r\n\r\n        public getTemplate(source, tpl ? , tileScope ? , strictCompile ? ): any {\r\n            const {\r\n                template,\r\n                templateUrl,\r\n                type\r\n            } = source;\r\n            let result;\r\n\r\n            if (type) {\r\n                const interpolated = tpl ? this._$interpolate(tpl)(source) : this._$interpolate(template)(source);\r\n                return strictCompile == true ?\r\n                    (tileScope ? this._$compile(interpolated)(tileScope) : this._$compile(interpolated)) :\r\n                    interpolated;\r\n            }\r\n\r\n            if (template) {\r\n                return tileScope ? this._$compile(template)(tileScope) : this._$compile(template);\r\n            }\r\n\r\n            if (templateUrl) {\r\n                this._$templateRequest(templateUrl, false).then((html) => {\r\n                    result = tileScope ? this._$compile(html)(tileScope) : this._$compile(html);\r\n                });\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        public setImageMarginCSS($element, image) {\r\n            let\r\n                containerWidth = $element.width ? $element.width() : $element.clientWidth,\r\n                containerHeight = $element.height ? $element.height() : $element.clientHeight,\r\n                imageWidth = (image[0] ? image[0].naturalWidth : image.naturalWidth) || image.width,\r\n                imageHeight = (image[0] ? image[0].naturalHeight : image.naturalWidth) || image.height,\r\n                margin = 0,\r\n                cssParams = {};\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px'; //'100%';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px'; //'100%';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px'; //'100%';\r\n                cssParams['width'] = '' + containerWidth + 'px'; //'100%';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            $(image).css(cssParams);\r\n        }\r\n    }\r\n\r\n    // image load directive TODO: remove to pipImageUtils\r\n    const ImageLoad = function ImageLoad($parse: ng.IParseService): ng.IDirective {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: ng.IScope, element: JQuery, attrs: any) {\r\n                const callback = $parse(attrs.pipImageLoad);\r\n\r\n                element.bind('load', (event) => {\r\n                    callback(scope, {\r\n                        $event: event\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipDashboard')\r\n        .service('pipTileTemplate', tileTemplateService)\r\n        .directive('pipImageLoad', ImageLoad);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_tile_dialog/AddTile.html',\n    '<md-dialog class=\"pip-dialog pip-add-component-dialog\"><md-dialog-content class=\"layout-column\"><div class=\"theme-divider p16 flex-auto\"><h3 class=\"hide-xs m0 bm16 theme-text-primary\" hide-xs=\"\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_TITLE\\' | translate }}<md-input-container class=\"layout-row flex-auto m0 tm16\"><md-select class=\"flex-auto m0 theme-text-primary\" ng-model=\"dialogCtrl.activeGroupIndex\" placeholder=\"{{ \\'DASHBOARD_ADD_TILE_DIALOG_CREATE_NEW_GROUP\\' | translate }}\" aria-label=\"Group\"><md-option ng-value=\"$index\" ng-repeat=\"group in dialogCtrl.groups\">{{ group }}</md-option></md-select></md-input-container></h3></div><div class=\"pip-body pip-scroll p0 flex-auto\"><p class=\"md-body-1 theme-text-secondary m0 lp16 rp16\">{{ \\'DASHBOARD_ADD_TILE_DIALOG_USE_HOT_KEYS\\' | translate }}</p><md-list ng-init=\"groupIndex = $index\" ng-repeat=\"group in dialogCtrl.defaultWidgets\"><md-list-item class=\"layout-row pip-list-item lp16 rp16\" ng-repeat=\"item in group\"><div class=\"icon-holder flex-none\"><md-icon md-svg-icon=\"icons:{{:: item.icon }}\"></md-icon><div class=\"pip-badge theme-badge md-warn\" ng-if=\"item.amount\"><span>{{ item.amount }}</span></div></div><span class=\"flex-auto lm24 theme-text-primary\">{{:: item.title }}</span><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.encrease(groupIndex, $index)\" aria-label=\"Encrease\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button><md-button class=\"md-icon-button flex-none\" ng-click=\"dialogCtrl.decrease(groupIndex, $index)\" aria-label=\"Decrease\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button></md-list-item><md-divider class=\"lm72 tm8 bm8\" ng-if=\"groupIndex !== (dialogCtrl.defaultWidgets.length - 1)\"></md-divider></md-list></div></md-dialog-content><md-dialog-actions class=\"flex-none layout-align-end-center theme-divider divider-top theme-text-primary\"><md-button ng-click=\"dialogCtrl.cancel()\" aria-label=\"Cancel\">{{ \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"dialogCtrl.add()\" ng-disabled=\"dialogCtrl.totalWidgets === 0\" arial-label=\"Add\">{{ \\'ADD\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/CalendarTile.html',\n    '<div class=\"widget-box pip-calendar-widget {{ $ctrl.color }} layout-column layout-fill tp0\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-end-center flex-none\"><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"date lm24 rm12\">{{ $ctrl.options.date.getDate() }}</span><div class=\"flex-auto layout-column\"><span class=\"weekday md-headline\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div><div class=\"widget-content flex-auto layout-column layout-align-space-around-center\" ng-hide=\"$ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1\"><span class=\"weekday md-headline\" ng-hide=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"weekday\" ng-show=\"$ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1\">{{ $ctrl.options.date | formatLongDayOfWeek }}</span> <span class=\"date lm12 rm12\">{{ $ctrl.options.date.getDate() }}</span> <span class=\"month-year md-headline\">{{ $ctrl.options.date | formatLongMonth }} {{ $ctrl.options.date | formatYear }}</span></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('calendar_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch bm16\">Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch\"></md-datepicker></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-tile-config-dialog {{ vm.params.dialogClass }}\" width=\"400\" md-theme=\"{{vm.theme}}\"><pip-tile-config-extend-component class=\"layout-column\" pip-dialog-scope=\"vm\" pip-extension-url=\"vm.extensionUrl\" pip-apply=\"vm.onApply(updatedData)\"></pip-tile-config-extend-component></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('config_tile_dialog/ConfigDialogExtendComponent.html',\n    '<h3 class=\"tm0 flex-none\">{{ \\'DASHBOARD_TILE_CONFIG_DIALOG_TITLE\\' | translate }}</h3><div class=\"pip-body pip-scroll p16 bp0 flex-auto\"><pip-extension-point></pip-extension-point><pip-toggle-buttons class=\"bm16\" ng-if=\"!$ctrl.hideSizes\" pip-buttons=\"$ctrl.sizes\" ng-model=\"$ctrl.sizeId\"></pip-toggle-buttons><pip-color-picker ng-if=\"!$ctrl.hideColors\" pip-colors=\"$ctrl.colors\" ng-model=\"$ctrl.color\"></pip-color-picker></div><div class=\"pip-footer flex-none\"><div><md-button class=\"md-accent\" ng-click=\"$ctrl.onCancel()\">{{ \\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onApply()\">{{ \\'APPLY\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dashboard/Dashboard.html',\n    '<md-button class=\"md-accent md-raised md-fab layout-column layout-align-center-center\" aria-label=\"Add component\" ng-click=\"$ctrl.addComponent()\"><md-icon md-svg-icon=\"icons:plus\" class=\"md-headline centered-add-icon\"></md-icon></md-button><div class=\"pip-draggable-grid-holder\"><pip-draggable-grid pip-tiles-templates=\"$ctrl.groupedWidgets\" pip-tiles-context=\"$ctrl.widgetsContext\" pip-draggable-grid=\"$ctrl.draggableGridOptions\" pip-group-menu-actions=\"$ctrl.groupMenuActions\"></pip-draggable-grid><md-progress-circular md-mode=\"indeterminate\" class=\"progress-ring\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('draggable/Draggable.html',\n    '<div class=\"pip-draggable-holder\"><div class=\"pip-draggable-group\" ng-repeat=\"group in $ctrl.groups\" data-group-id=\"{{ $index }}\" pip-draggable-tiles=\"group.source\"><div class=\"pip-draggable-group-title layout-row layout-align-start-center\"><div class=\"title-input-container\" ng-click=\"$ctrl.onTitleClick(group, $event)\"><input ng-if=\"group.editingName\" ng-blur=\"$ctrl.onBlurTitleInput(group)\" ng-keypress=\"$ctrl.onKyepressTitleInput(group, $event)\" ng-model=\"group.title\"><div class=\"text-overflow flex-none\" ng-if=\"!group.editingName\">{{ group.title }}</div></div><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-show=\"group.editingName\" ng-click=\"$ctrl.cancelEditing(group)\" aria-label=\"Cancel\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-menu class=\"flex-none layout-column\" md-position-mode=\"target-right target\" ng-show=\"!group.editingName\"><md-button class=\"md-icon-button flex-none layout-align-center-center\" ng-click=\"$mdOpenMenu(); groupId = $index\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:dots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in $ctrl.groupMenuActions\"><md-button ng-click=\"action.callback(groupId)\">{{ action.title }}</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class=\"pip-draggable-group fict-group layout-align-center-center layout-column tm16\"><div class=\"fict-group-text-container\"><md-icon md-svg-icon=\"icons:plus\"></md-icon>{{ \\'DROP_TO_CREATE_NEW_GROUP\\' | translate }}</div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container>Date:<md-datepicker ng-model=\"$ctrl.date\" class=\"w-stretch bm8\"></md-datepicker><md-input-container class=\"w-stretch\"><label>Description:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container>Backdrop\\'s opacity:<md-slider aria-label=\"opacity\" type=\"number\" min=\"0.1\" max=\"0.9\" step=\"0.01\" ng-model=\"$ctrl.opacity\" ng-change=\"$ctrl.onOpacitytest($ctrl.opacity)\"></md-slider></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('event_tile/EventTile.html',\n    '<div class=\"widget-box pip-event-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><img ng-if=\"$ctrl.options.image\" ng-src=\"{{$ctrl.options.image}}\" alt=\"{{$ctrl.options.title || $ctrl.options.name}}\"><div class=\"text-backdrop\" style=\"background-color: rgba(0, 0, 0, {{ $ctrl.opacity }})\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"text-container flex-auto pip-scroll\"><p class=\"date flex-none\" ng-if=\"$ctrl.options.date\">{{ $ctrl.options.date | formatShortDate }}</p><p class=\"text flex-auto\">{{ $ctrl.options.text || $ctrl.options.description }}</p></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu_tile/MenuTile.html',\n    '<md-menu class=\"widget-menu\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button flex-none\" ng-click=\"$mdOpenMenu()\" aria-label=\"Menu\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.menu\"><md-button ng-if=\"!item.submenu\" ng-click=\"$ctrl.callAction(item.action, item.params, item)\">{{:: item.title }}</md-button><md-menu ng-if=\"item.submenu\"><md-button ng-click=\"$ctrl.callAction(item.action)\">{{:: item.title }}</md-button><md-menu-content><md-menu-item ng-repeat=\"subitem in item.submenu\"><md-button ng-click=\"$ctrl.callAction(subitem.action, subitem.params, subitem)\">{{:: subitem.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Title:</label> <input type=\"text\" ng-model=\"$ctrl.title\"></md-input-container><md-input-container class=\"w-stretch tm0\"><label>Text:</label> <textarea type=\"text\" ng-model=\"$ctrl.text\">\\n' +\n    '    </textarea></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('note_tile/NoteTile.html',\n    '<div class=\"widget-box pip-notes-widget {{ $ctrl.color }} layout-column\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\" ng-if=\"$ctrl.options.title || $ctrl.options.name\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span></div><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu><div class=\"text-container flex-auto pip-scroll\"><p>{{ $ctrl.options.text }}</p></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_slider_tile/PictureSliderTile.html',\n    '<div class=\"widget-box pip-picture-slider-widget {{ $ctrl.color }} layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\"><span class=\"flex text-overflow\">{{ $ctrl.options.title }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"slider-container\"><div pip-image-slider=\"\" pip-animation-type=\"\\'fading\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'fading\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div><div pip-image-slider=\"\" pip-animation-type=\"\\'carousel\\'\" pip-animation-interval=\"$ctrl.animationInterval\" ng-if=\"$ctrl.animationType == \\'carousel\\'\"><div class=\"pip-animation-block\" ng-repeat=\"slide in $ctrl.options.slides\"><img ng-src=\"{{ slide.image }}\" alt=\"{{ slide.image }}\" pip-image-load=\"$ctrl.onImageLoad($event)\"><p class=\"slide-text\" ng-if=\"slide.text\">{{ slide.text }}</p></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/ConfigDialogExtension.html',\n    '<div class=\"w-stretch\"><md-input-container class=\"w-stretch bm0\"><label>Location name:</label> <input type=\"text\" ng-model=\"$ctrl.locationName\"></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('position_tile/PositionTile.html',\n    '<div class=\"pip-position-widget widget-box p0 layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\" index=\"{{ $ctrl.index }}\" group=\"{{ $ctrl.group }}\"><div class=\"position-absolute-right-top\" ng-if=\"!$ctrl.options.locationName\"><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><div class=\"widget-heading lp16 rp8 layout-row layout-align-end-center flex-none\" ng-if=\"$ctrl.options.locationName\"><span class=\"flex text-overflow\">{{ $ctrl.options.locationName }}</span><pip-tile-menu ng-if=\"!$ctrl.options.hideMenu\"></pip-tile-menu></div><pip-location-map class=\"flex\" ng-if=\"$ctrl.showPosition\" pip-stretch=\"true\" pip-rebind=\"true\" pip-location-pos=\"$ctrl.options.location\"></pip-location-map></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDashboard.Templates');\n} catch (e) {\n  module = angular.module('pipDashboard.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('statistics_tile/StatisticsTile.html',\n    '<div class=\"widget-box pip-statistics-widget layout-column layout-fill\" ng-class=\"{ small: $ctrl.options.size.colSpan == 1 && $ctrl.options.size.rowSpan == 1, medium: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 1, big: $ctrl.options.size.colSpan == 2 && $ctrl.options.size.rowSpan == 2 }\"><div class=\"widget-heading layout-row layout-align-start-center flex-none\"><span class=\"widget-title flex-auto text-overflow\">{{ $ctrl.options.title || $ctrl.options.name }}</span><pip-tile-menu></pip-tile-menu></div><div class=\"widget-content flex-auto layout-row layout-align-center-center\" ng-if=\"$ctrl.options.series && !$ctrl.reset\"><pip-pie-chart pip-series=\"$ctrl.options.series\" ng-if=\"!$ctrl.options.chartType || $ctrl.options.chartType == \\'pie\\'\" pip-donut=\"true\" pip-pie-size=\"$ctrl.chartSize\" pip-show-total=\"true\" pip-centered=\"true\"></pip-pie-chart></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dashboard-html.min.js.map\n","import { ISettingsService } from '../service/ISettingsService';\r\nimport { SettingsTab } from '../service/SettingsTab';\r\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\r\n\r\ninterface ISettingsPageController {\r\n    tabs: SettingsTab[];\r\n    selected: SettingsPageSelectedTab;\r\n    // onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass SettingsPageController implements ISettingsPageController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public tabs: SettingsTab[];\r\n    public selected: SettingsPageSelectedTab;\r\n    // public onDropdownSelect: Function;\r\n    private cleanUpFunc: Function;\r\n    private cleanUpSelectFunc: Function;\r\n    private mediaSizeGtSm: boolean;\r\n    public details: boolean;\r\n\r\n    constructor(\r\n        private $state: ng.ui.IStateService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        $scope: ng.IScope,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $timeout: angular.ITimeoutService,\r\n        private $location: ng.ILocationService,\r\n        private pipNavService: pip.nav.INavService,\r\n        private pipSettings: ISettingsService,\r\n        public pipMedia: pip.layouts.IMediaService,\r\n    ) {\r\n\r\n        this.translateInit();\r\n\r\n        this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n        this.initTabs();\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = $location.search().details == 'details' ? true : false;\r\n        } else {\r\n            this.details = false;\r\n            this.$location.search('details', 'main');\r\n        }\r\n            \r\n        this.cleanUpSelectFunc = $rootScope.$on('$stateChangeSuccess', () => {\r\n            let state = this.$state.current.name;\r\n            this.initSelect(state, false);\r\n        });\r\n\r\n        this.cleanUpFunc = $rootScope.$on('pipMainResized', () => {\r\n            if (this.mediaSizeGtSm !== this.pipMedia('gt-sm')) {\r\n                this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n                if (this.pipMedia('gt-sm')) {\r\n                    this.details = false;\r\n                }\r\n                this.appHeader();\r\n            }\r\n        });\r\n        this.appHeader();\r\n\r\n        $scope.$on('$destroy', () => {\r\n            if (angular.isFunction(this.cleanUpFunc)) {\r\n                this.cleanUpFunc();\r\n            }\r\n            \r\n            if (angular.isFunction(this.cleanUpSelectFunc)) {\r\n                this.cleanUpSelectFunc();\r\n            }\r\n        });\r\n    }\r\n\r\n    private initTabs(): void {\r\n        this.tabs = _.filter(this.pipSettings.getTabs(), (tab: SettingsTab) => {\r\n            if (tab.visible === true && (tab.access ? tab.access(this.$rootScope['$user'], tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new SettingsPageSelectedTab();\r\n        if (this.$state.current.name !== 'settings') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'settings' && this.pipSettings.getDefaultTab()) {\r\n            this.initSelect(this.pipSettings.getDefaultTab().state);\r\n        } else {\r\n            this.$timeout(() => {\r\n                if (this.pipSettings.getDefaultTab()) {\r\n                    this.initSelect(this.pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!this.pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private translateInit() {\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                PIP_SETTINGS: 'Settings',\r\n                PIP_SETTINGS_DETAILS: 'Settings details'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                PIP_SETTINGS: 'Настройки',\r\n                PIP_SETTINGS_DETAILS: 'Подробно'\r\n            });\r\n        }\r\n    }\r\n    private toMainFromDetails(): void {\r\n        this.$location.search('details', 'main');\r\n        this.details = false;\r\n        this.appHeader();\r\n    }\r\n\r\n    public appHeader(): void {\r\n        this.pipNavService.breadcrumb.breakpoint = 'gt-sm';\r\n        if (!this.pipMedia('gt-sm')) {\r\n            let detailsTitle: string = this.selected && this.selected.tab ? this.selected.tab.title : 'PIP_SETTINGS_DETAILS';\r\n            if (this.details) {\r\n                this.pipNavService.icon.showBack(() => {\r\n                    this.toMainFromDetails();\r\n                });\r\n                this.pipNavService.breadcrumb.items = [\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: \"PIP_SETTINGS\", click: () => {\r\n                            this.toMainFromDetails();\r\n                        }\r\n                    },\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: detailsTitle, click: () => { }, subActions: []\r\n                    }\r\n                ];\r\n            } else {\r\n                this.pipNavService.icon.showMenu();\r\n                this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n            }\r\n        } else {\r\n            this.pipNavService.icon.showMenu();\r\n            this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n        }\r\n\r\n\r\n        this.pipNavService.actions.hide();\r\n        this.pipNavService.appbar.removeShadow();\r\n    }\r\n\r\n    private initSelect(state: string, updateState: boolean = true): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        if (updateState === true) this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = true;\r\n            this.$location.search('details', 'details');\r\n            this.appHeader();\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n","{\r\n    function configureSettingsPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('settings', {\r\n                url: '/settings?user_id&details',\r\n                auth: true,\r\n                controllerAs: 'vm',\r\n                controller: 'pipSettingsPageController',\r\n                templateUrl: 'page/SettingsPage.html'\r\n            });\r\n\r\n    }\r\n\r\n    angular.module('pipSettings.Page')\r\n        .config(configureSettingsPageRoutes);\r\n}\r\n","angular.module('pipHelp.Page', [\r\n    'ui.router', \r\n    'pipHelp.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipHelp.Templates'\r\n    ]);\r\n\r\nimport './HelpPage';\r\nimport './HelpPageRoutes';","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsConfig {\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsPageSelectedTab {\r\n    public tab: SettingsTab;\r\n    public tabIndex: number = 0;\r\n    public tabId: string;\r\n}","import { SettingsTab } from './SettingsTab';\r\nimport { SettingsConfig } from './SettingsConfig';\r\nimport { ISettingsService } from './ISettingsService';\r\nimport { ISettingsProvider } from './ISettingsService';\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n\r\n    public constructor(config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): SettingsTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: SettingsTab): void {\r\n        let existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            icon: tabObj.icon,\r\n            iconClass: tabObj.iconClass,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //console.log(this.$stateProvider);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n    private validateTab(tabObj: SettingsTab): void {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): ISettingsService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new SettingsService(this._config);\r\n        }\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","export class SettingsStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}","import { SettingsStateConfig } from './SettingsStateConfig';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public icon?: string;\r\n    public iconClass?: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: SettingsStateConfig;\r\n}\r\n","angular\r\n    .module('pipHelp.Service', []);\r\n\r\nimport './HelpConfig';\r\nimport './HelpPageSelectedTab';\r\nimport './HelpTab';\r\nimport './HelpStateConfig';\r\nimport './HelpService';\r\n\r\nexport * from './HelpConfig';\r\nexport * from './HelpPageSelectedTab';\r\nexport * from './HelpTab';\r\nexport * from './HelpStateConfig';\r\nexport * from './HelpService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<div class=\"pip-main-menu pip-settings\" ng-class=\"{\\'pip-single-content\\': vm.details}\"><div class=\"pip-menu\"><div class=\"pip-list-container pip-scroll divider-top\"><md-list class=\"pip-ref-list tp0 pip-settings-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-ref-list-item pointer divider-bottom pip-selectable\" ng-repeat=\"tab in vm.tabs track by tab.state\" pip-id=\"{{:: tab.state }}\" md-ink-ripple=\"\"><div ng-click=\"vm.onNavigationSelect(tab.state)\" class=\"layout-row layout-align-start-center flex\"><div class=\"pip-settings-icon layout-row layout-align-start-center {{ tab.iconClass ? tab.iconClass : \\'pip-settings-icon-color\\'}}\" ng-if=\"tab.icon\"><md-icon class=\"\" md-svg-icon=\"{{ tab.icon }}\"></md-icon></div><div class=\"pip-content {{ tab.icon ? \\'\\' : \\'pip-settings-without-icon\\' }}\"><p class=\"pip-title text-overflow flex\">{{ ::tab.title | translate }}</p></div><div class=\"pip-ref-list-item-end-icon\"><md-icon class=\"\" md-svg-icon=\"icons:chevron-right\"></md-icon></div></div></md-list-item></md-list></div></div><div class=\"pip-content-container\"><pip-document><div class=\"pip-body tp24-flex layout-column flex\" ui-view=\"\"></div></pip-document></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","import { IHelpService } from '../service/IHelpService';\r\nimport { HelpTab } from '../service/HelpTab';\r\nimport { HelpPageSelectedTab } from '../service/HelpPageSelectedTab';\r\n\r\ninterface IHelpPage {\r\n    tabs: HelpTab[];\r\n    selected: HelpPageSelectedTab;\r\n    onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass HelpPageController implements IHelpPage, ng.IController {\r\n    public tabs: HelpTab[];\r\n    public selected: HelpPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        private $log: ng.ILogService,\r\n        private $state: ng.ui.IStateService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService,\r\n        pipNavService: pip.nav.INavService,\r\n        pipHelp: IHelpService\r\n    ) {\r\n\r\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: HelpTab) =>{\r\n            if (tab.visible === true) {\r\n                    return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new HelpPageSelectedTab();\r\n        if (this.$state.current.name !== 'help') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'help' && pipHelp.getDefaultTab()) {\r\n            this.initSelect(pipHelp.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipHelp.getDefaultTab()) {\r\n                    this.initSelect(pipHelp.getDefaultTab().state);\r\n                }\r\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Help\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        \r\n        this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this.$state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipHelp.Page')\r\n    .controller('pipHelpPageController', HelpPageController);\r\n","{\r\n    function configureHelpPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('help', {\r\n                url: '/help?party_id',\r\n                auth: true,\r\n                controllerAs: '$ctrl',\r\n                controller: 'pipHelpPageController',\r\n                templateUrl: 'page/HelpPage.html'\r\n            });      \r\n    }\r\n\r\n    angular.module('pipHelp.Page')\r\n        .config(configureHelpPageRoutes);\r\n}","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpConfig {\r\n    public defaultTab: string;\r\n    public tabs: HelpTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: string = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { HelpTab } from './HelpTab';\r\n\r\nexport class HelpPageSelectedTab {\r\n    public tab: HelpTab;\r\n    public tabIndex: number;\r\n    public tabId: string;\r\n}","import { HelpConfig } from \"./HelpConfig\";\r\nimport { HelpTab } from './HelpTab';\r\nimport { IHelpService } from \"./IHelpService\";\r\nimport { IHelpProvider } from \"./IHelpService\";\r\n\r\nclass HelpService implements IHelpService {\r\n\r\n    public constructor(private _config: HelpConfig) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): HelpTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass HelpProvider implements IHelpProvider, ng.IServiceProvider {\r\n    private _service: HelpService;\r\n    private _config: HelpConfig = new HelpConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) { }\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: HelpTab): void {\r\n        let existingTab: HelpTab;\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === 'help.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n        //pipAuthStateProvider.redirect('help', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: HelpTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (!_.isNull(value) && !_.isUndefined(value)) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): IHelpService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new HelpService(this._config);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipHelp.Service')\r\n    .provider('pipHelp', HelpProvider);\r\n","export class HelpStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}\r\n","import { HelpStateConfig } from './HelpStateConfig';\r\n\r\nexport class HelpTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: HelpStateConfig;\r\n}\r\n\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-help\"><div class=\"pip-menu-container\" ng-hide=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"$ctrl.selected.tabIndex\" pip-selected-watch=\"$ctrl.selected.navId\" pip-select=\"$ctrl.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in $ctrl.tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"$ctrl.tabs\" pip-dropdown-select=\"$ctrl.onDropdownSelect\" pip-active-index=\"$ctrl.selected.tabIndex\"></pip-dropdown><div class=\"pip-body p0 layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}