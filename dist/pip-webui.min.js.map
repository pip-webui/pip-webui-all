{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/routing/back_decorator.ts","src/routing/redirect_decorator.ts","src/routing/routing.ts","src/routing/routing_events.ts","src/scope/scope_error.ts","src/scope/scope_transaction.ts","src/services.ts","src/session/identity.ts","src/session/session.ts","src/translate/translate.ts","src/translate/translate_directive.ts","src/translate/translate_filter.ts","src/translate/translate_service.ts","src/utilities/codes.ts","src/utilities/format.ts","src/utilities/reset.ts","src/utilities/scroll.ts","src/utilities/system_info.ts","src/utilities/tags.ts","src/utilities/timer.ts","src/buttons.ts","src/dependencies/translate.ts","src/fabs/fab_tooltip_visibility.ts","src/refresh_button/refresh_button.ts","src/toggle_buttons/toggle_buttons.ts","temp/pip-webui-buttons-html.js","src/card/card.ts","src/dialog/dialog.ts","src/document/document.ts","src/layouts.ts","src/main/main.ts","src/media/media.ts","src/simple/simple.ts","src/tiles/tiles.ts","src/split.ts","src/behaviors.ts","src/draggable/draggable.ts","src/focused/focused.ts","src/infinite_scroll/infinite_scroll.ts","src/selected/selected.ts","src/unsaved_changes/unsaved_changes.ts","src/color_picker/color_picker.ts","src/controls.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.js","src/lists.ts","src/tag_list/tag_list.ts","temp/pip-webui-lists-html.js","src/date/date.ts","src/date/date_filter.ts","src/date/date_service.ts","src/date_directive/date.ts","src/date_range_directive/date_range.ts","src/dates.ts","src/dependencies/translate.js","src/time_range_directive/time_range.ts","src/time_range_edit_directive/time_range_edit.ts","temp/pip-webui-dates-html.js","src/confirmation/confirmation.ts","src/dialogs.ts","src/error_details/error_details.ts","src/information/information.ts","src/options/options.ts","src/options/options_big.ts","temp/pip-webui-dialogs-html.js","src/actions/actions_service.ts","src/actions/primary_actions.ts","src/actions/secondary_actions.ts","src/appbar/appbar.ts","src/appbar/appbar_part.ts","src/appbar/appbar_service.ts","src/breadcrumb/breadcrumb.ts","src/breadcrumb/breadcrumb_service.ts","src/dropdown/dropdown.ts","src/language_picker/language_picker.ts","src/nav.ts","src/nav_header/nav_header.ts","src/nav_icon/nav_icon.ts","src/nav_icon/nav_icon_service.ts","src/nav_menu/nav_menu.ts","src/nav_service.ts","src/nav_services/nav_header_service.ts","src/nav_services/nav_menu_service.ts","src/nav_services/sidenav_part.ts","src/nav_services/sidenav_service.ts","src/search_bar/search_bar.ts","src/search_bar/search_service.ts","src/sidenav/sidenav.ts","src/sticky_nav_header/sticky_nav_header.ts","src/sticky_nav_menu/sticky_nav_menu.ts","src/sticky_sidenav/sticky_sidenav.ts","src/tabs/tabs.ts","temp/pip-webui-nav-html.js","src/bootbarn/bootbarn.ts","src/bootbarn/bootbarn_cool.ts","src/bootbarn/bootbarn_monochrome.ts","src/bootbarn/bootbarn_warm.ts","src/default/default.ts","src/default/default_amber.ts","src/default/default_black.ts","src/default/default_blue.ts","src/default/default_green.ts","src/default/default_grey.ts","src/default/default_navy.ts","src/default/default_orange.ts","src/default/default_pink.ts","src/theme.ts","src/common/errors_strings.ts","src/errors.ts","src/errors_pages/errors_pages.ts","src/forms/clear_errors.ts","src/forms/form_errors.ts","src/maintenance/maintenance.ts","src/missing_route/missing_route.ts","src/no_connection/no_connection.ts","src/no_connection_panel/no_connection_panel.ts","src/unknown/unknown.ts","src/unsupported/unsupported.ts","temp/pip-webui-errors-html.js","src/bar/bar_chart.ts","src/charts.ts","src/legend/interactive_legend.ts","src/line/line_chart.ts","src/pie/pie_chart.ts","temp/pip-webui-charts-html.js","src/settings.ts","src/settings_page/settings_page.ts","src/settings_service/settings_service.ts","src/user_settings/user_settings.ts","src/user_settings/user_settings_basic_info.ts","src/user_settings/user_settings_change_password.ts","src/user_settings/user_settings_sessions.ts","src/user_settings/user_settings_strings.ts","src/user_settings/user_settings_verify_email.ts","temp/pip-webui-settings-html.js","src/help.ts","src/help_page/help_page.ts","src/help_service/help_service.ts","temp/pip-webui-help-html.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","config","run","4","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","decorateRedirectStateService","5","6","hookRoutingEvents","$log","$state","RoutingVar","error","unfoundState","to","angular","7","factory","initError","scope","errors","message","undefined","details","errorMessage","data","statusText","status","errorCode","scopeObject","errorDetails","console","isObject","createError","$injector","pipTranslate","has","get","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","pipError","initTransaction","transactions","id","operation","createTransaction","reset","transaction","empty","Date","getTime","err","set","10","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","prototype","defineProperty","value","$broadcast","enumerable","configurable","IdentityProvider","_service","$get","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","open","fullReset","partialReset","close","oldSession","SessionProvider","provider","13","restrict","key1","key2","link","element","attrs","key","translate","text","html","directive","pipTranslateDirective","pipTranslateHtmlDirective","15","translateFilter","optionalTranslateFilter","__extends","d","b","constructor","hasOwnProperty","p","Object","create","__","en","ru","es","pt","de","fr","Translation","_language","use","language","translations","map","_translations","isUndefined","translateArray","keys","values","each","k","push","translateSet","keyProp","valueProp","translateObjects","items","item","translateWithPrefix","prefix","replace","toUpperCase","translateSetWithPrefix","translateSetWithPrefix2","TranslateService","translation","persist","localStorageService","_persist","_translation","_storage","save","LanguageRootVar","LanguageChangedEvent","TranslateProvider","_super","hash","result","charCodeAt","verification","Math","random","toString","substr","19","sample","maxLength","indexOf","substring","strRepeat","str","qty","sprintf","get_type","variable","slice","toLowerCase","args","_i","arguments","str_format","cache","parse","format","parse_tree","argv","arg","match","pad","pad_character","pad_length","node_type","output","tree_length","cursor","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","charAt","str_repeat","join","fmt","arg_names","exec","_fmt","replacement_field","field_match","field_list","20","thisModule","resetPartial","resetFull","resetAll","full","partial","$reset","$partialReset","scrollTo","parentElement","childElement","animationDuration","setTimeout","$","position","modDiff","scrollTop","top","animate","getBrowserName","ua","navigator","userAgent","search","version","split","browser","getPlatform","isDesktop","isMobile","isCordova","getOS","osAll","osAndroid","isSupported","supported","edge","ie","firefox","chrome","getBrowserVersion","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","searchFields","field","hashTags","concat","uniq","normalize","compress","extract","25","DefaultEvents","TimerEvent","timeout","TimerService","$interval","_started","_events","_interval","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","_this","interval","cancel","ex","start","buttons","filter","$parse","controller","$scope","$attrs","trigGetter","pipFabTooltipVisibility","showGetter","pipFabShowTooltip","showSetter","assign","$watch","isOpen","template","$element","hide","$button","width","show","textGetter","pipText","visibleGetter","pipVisible","refreshGetter","pipRefresh","children","$text","css","onClick","newValue","ngDisabled","currentButtonValue","currentButton","change","templateUrl","$mdMedia","index","class","isArray","currentButtonIndex","buttonSelected","disabled","enterSpacePress","elem","on","addClass","removeClass","$templateCache","put","layouts","resize","left","$mainBody","cardContainer","windowWidth","maxWidth","maxHeight","height","minWidth","floor","minHeight","space","min","hasClass","max","$header","$footer","$body","maxBodyHeight","outerHeight","pipMedia","addResizeListener","removeResizeListener","service","getBoundaries","size","boundaries","requestFrame","fn","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resizeListener","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","objectLoad","contentDocument","defaultView","__resizeElement__","addEventListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","type","isIE","appendChild","setSizes","detachEvent","removeEventListener","removeChild","updateClasses","sizes","elementWidth","innerWidth","$apply","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","pipTilesController","force","containerWidth","log","columns","columnWidth","sizer","container","prevContainerWidth","masonry","layout","Masonry","appendTo","convertToBoolean","transclude","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","pipSplit","splitElements","forwardTransition","addTransitionSequence","sequence","transitionSequences","toIndex","fromIndex","behaviors","inputEvent","isDefined","touches","originalEvent","$document","pipDraggable","initialize","attr","dragHandles","querySelectorAll","_dragHandle","toggleListeners","scrollContainer","scrollParent","parent","pipScrollContainer","scrollContainerGetter","toBoolean","enable","onDestroy","pipDrag","onEnableChange","pipCenterAnchor","onCenterAnchor","_pressEvents","onpress","_hasTouch","nodeName","newVal","oldVal","_dragEnabled","_centerAnchor","isClickableElement","evt","button","saveElementStyles","cancelPress","_pressTimer","onlongpress","LONG_PRESS","_moveEvents","_releaseEvents","_elementStyle","off","offset","getBoundingClientRect","_dragOffset","allowTransform","body","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","_deregisterRootMoveListener","origEvent","_data","getDragData","x","y","tx","ty","onDragStartCallback","$data","$event","horizontalScroll","verticalScroll","dragToScroll","moveElement","uid","_myid","dragOffset","callback","onDragComplete","onDragStopCallback","onDragSuccessCallback","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","activationDistance","scrollDistance","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","ngDrag","DocumentTouch","$id","pipDragStart","pipDragStop","pipDragSuccess","$eval","pipDragData","pipVerticalScroll","pipHorizontalScroll","pipActivationDistance","pipScrollDistance","noop","pipDrop","onDragStart","onDragMove","onDragEnd","_dropEnabled","isTouching","pipDragMove","onDragMoveCallback","pipDropSuccess","onDropCallback","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","absorbEvent_","stopPropagation","cancelBubble","returnValue","$mdConstant","init","selector","withHidden","controls","controlsLength","keydownListener","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipWithHidden","ngModel","THROTTLE_MILLISECONDS","pipInfiniteScroll","pipScrollDisabled","pipScrollUseDocumentBottom","pipScrollListenForEvent","isNaN","clientHeight","offsetTop","ownerDocument","handleScrollDistance","v","handleScrollDisabled","scrollEnabled","checkWhenEnabled","onContainerScroll","handleScrollUseDocumentBottom","useDocumentBottom","changeContainer","newContainer","unbind","bind","handleScrollContainer","HTMLElement","append","parents","Array","immediateCheck","unregisterEventListener","windowElement","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","throttle","pipScrollParent","pipScrolImmediateCheck","selectItem","itemParams","isScrolled","itemIndex","itemId","className","modifier","itemsLength","raiseEvent","noScroll","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedIndex","selectedId","indexSetter","idSetter","changeGetter","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","indexGetter","pipSelected","idGetter","pipSelectedId","pipSelect","enterSpaceGetter","pipEnterSpacePress","pipNoScroll","pipSkipHidden","pipTreeList","currentElementTabinex","pipSelectedWatch","newSelectedId","newSelectedIndex","currentTarget","ENTER","SPACE","inc","unsavedChangesAvailable","unsavedChangesMessage","afterLeave","onbeforeunload","$routing","unbindFunc","confirm","isFunction","colors","currentColor","colorChange","DEFAULT_COLORS","currentColorIndex","selectColor","sliderIndex","$pipImageSlider","setIndex","pipImageIndex","startInterval","timePromises","blocks","direction","throttled","DEFAULT_INTERVAL","stopInterval","restartInterval","pipAnimationType","pipAnimationInterval","swipeStart","toBlock","nextBlock","prevBlock","slideTo","nextIndex","registerSlider","removeSlider","register","sliderId","sliderScope","sliders","remove","getSlider","nextCarousel","prevCarousel","blockIndex","getSliderScope","pipButtonType","pipSliderId","pipSlideTo","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","describeAttachments","array","attachString","attachTypes","attach","bindText","textString","isClamped","options","pipLineCount","isNumber","clampGetter","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","listGetter","pipList","pipRebind","$compile","backdropElement","closePopover","backdropClick","cancelCallback","onPopoverClick","$e","pos","docWidth","docHeight","popover","calcHeight","title","footer","content","contentHeight","onResize","responsive","defaults","$parent","onShow","onHide","$new","locals","popoverTemplate","showProgress","logoUrl","loadProgressImage","image","$mdToast","toast","pipErrorDetailsDialog","actions","actionLenght","showDetails","onDetails","ok","onAction","action","showNextToast","toasts","showToast","currentToast","hideDelay","duration","SHOW_TIMEOUT","sounds","then","successCallback","addToast","removeToasts","removeToastsById","getToastById","onStateChangeSuccess","reject","onClearToasts","clearToasts","showNotification","SHOW_TIMEOUT_NOTIFICATIONS","showMessage","showError","hideAllToasts","lists","pipTags","pipType","pipTypeLocal","tagsGetter","dates","formatTimeFilter","pipDateTime","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatDateNumberFilter","formatDateNumber","formatLongDateNumberFilter","formatLongDateNumber","formatTimeNumberFilter","formatTimeNumber","formatLongTimeNumberFilter","formatLongTimeNumber","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","getDateJSON","DateTime","_momentRanged","_defaultFormat","isUndefinedOrNull","getRange","getOperationRange","range","formatDateTime","basicFormat","date","formatTpl","moment","isValid","formatDateTimeY","nowDate","formatMoment","localeData","longDateFormat","year","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","month","startOf","toDate","toEndRange","mssOffset","add","fromNow","JSON","stringify","getNextStart","category","getPrevStart","getNowStart","addHours","hours","toStartDay","toStartRange","toEndDay","toStartWeek","toEndWeek","toStartMonth","toEndMonth","toStartYear","toEndYear","DateTimeService","datetime","_datetime","DateTimeProvider","timeMode","model","ngChange","dayList","days","count","monthList","months","momentMonths","yearList","currentYear","getFullYear","startYear","endYear","years","adjustDay","day","getValue","isDate","getDate","getMonth","setValue","localeDate","_months","_weekdays","_weekdaysMin","_week","dow","DAY","MONTH","YEAR","yearLabel","dayLabel","monthLabel","onDayChanged","onMonthChanged","disableControls","pipChanged","pipDateRangeType","pipDateFormat","pipNoLine","setCurrent","currentState","week","dateRangeType","fillLists","weeks","weekList","shortMonths","correctWeek","prevState","getUTCDate","getUTCMonth","getUTCFullYear","getWeekByDate","adjustWeek","getCountDay","nameDays","momentShortDays","weekday","dayOfWeek","startWeek","UTC","getUTCDay","getWeek","countDay","countPrevMonthDay","endDay","startDay","getTimezoneOffset","onChange","currentDate","currentMonth","currentDay","onYearChanged","onWeekChange","isDay","oldValue","onYearClick","onDayClick","pipStartDate","pipEndDate","defineStartDate","defineEndDate","end","pipStartLabel","pipEndLabel","pipSize","setDuration","startDate","endDate","startTime","endTime","validateEndDate","setDate","validateStartDate","getTimeInterval","j","minutes","initDate","EVENT_NEW_START_TIME","EVENT_NEW_END_TIME","endLabel","startLabel","intervalTimeCollection","defineDate","onChangeStartDate","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","$watchGroup","dialogs","$mdDialog","targetEvent","clickOutsideToClose","CONFIRM_TITLE","theme","$theme","onCancel","onOk","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","dismissButton","errorMethod","errorPath","errorText","INFORMATION_TITLE","pipFormat","truncate","focusToggleControl","option","focusInput","list","OPTIONS_TITLE","applyButtonTitle","appleButtonTitle","selectedOption","active","selectedOptionName","deleted","deletedTitle","onOptionSelect","onKeyPress","onSelect","noActions","noTitle","hint","optionIndex","findIndex","onSelected","onKeyUp","nav","globalActions","primaryActions","secondaryActions","primaryGlobalActions","secondaryGlobalActions","globalPrimaryActions","globalSecondaryActions","primaryLocalActions","secondaryLocalActions","getConfig","hideLocalActions","sendConfigEvent","showLocalActions","updateActionCount","actionName","localActions","$location","pipActions","onActionsChanged","actionHidden","access","actionCount","onActionClick","$mdOpenMenu","divider","originatorEv","menu","href","stateParams","showMenu","partyAvatarUrl","openMenu","ev","calcActions","secondaryActionsVisible","secondaryDividerVisible","pipAppBar","onAppBarChanged","$emit","ngIfDirective","ngIf","priority","terminal","visible","apply","parts","currentPartValue","partName","partValue","pipAppbarPart","initParts","cssClass","ngClasses","showAppBar","newCssClass","hideAppBar","showShadowSm","showShadowSmXs","showShadow","hideShadow","getOrSetPart","getOrSetParts","isEqual","part","breadcrumbDirective","BreadcrumbController","controllerAs","breadcrumb_service_1","breadcrumb_service_2","pipBreadcrumb","_window","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbBackEvent","onBreadcrumbBack","backCallback","click","onBreadcrumbClick","onSearchOpen","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","_config","sendEvent","criteria","BreadcrumbProvider","9","showDropdown","activeIndex","select","11","languagePickerDirective","languages","LanguagePickerController","_timeout","_translate","setLanguages","lang","onLanguageClick","12","subtitle","imageUrl","imageCss","pipNavHeader","setImageMarginCSS","cssParams","clientWidth","imageWidth","naturalWidth","imageHeight","naturalHeight","margin","onIdentityChanged","defaultImageUrl","$image","imageBlock","onUserClick","load","14","pipNavIcon","onNavIconChanged","onNavIconClick","clear","setMenu","callbackOrEvent","setIcon","iconName","setBack","setImage","icon","showIcon","showBack","showImage","16","pipSideNav","pipNavMenu","itemVisible","isSectionEmpty","linkCollection","onConfigChanged","onLinkClick","current","17","NavService","appBar","navIcon","breadcrumb","sideNav","navHeader","navMenu","18","setOrGetIcon","sectionIcon","setOrGetCollapsed","collapsed","newConfig","sections","$mdSidenav","setConfig","setCounter","linkTitle","counter","menuItem","links","section","onSideNavChanged","pipSidenavPart","21","sideNavId","getOrSetId","toggle","22","APPBAR_SEARCH","pipSearch","onSearchBarChanged","searchEnabled","focusSearchText","onSearchEnable","onSearchClick","searchText","onSearchClear","onSearchKeyDown","23","setSearch","clearSearch","updateCriteria","updateHistory","24","resizeImage","26","setCollapsible","collapsibled","onExpand","expanded","pipSdeNavElement","isCollapsed","defaultIicon","27","onNavToggle","28","tabs","showTabs","showTabsShadow","activeTab","tabDisabled","29","themes","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","3","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","orangeBackgroundPalette","orangePrimaryPalette","900","registerDarkTheme","themeName","darkBackgroundPalette","600","700","800","darkAccentPalette","registerBlackTheme","blackBackgroundPalette","blackAccentPalette","registerBlueTheme","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","setDefaultTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","thirdPartyPalette","A400","greyPalette","tealPalette","RedBackgroundPalette","RedPrimaryPalette","PinkBackgroundPalette","PinkPrimaryPalette","pipTheme","initTheme","newTheme","setRoot","initPersist","initSetRoot","$mdTheming","getOrSetTheme","THEMES","resetContent","ERROR_ROUTE_TITLE","ERROR_ROUTE_SUBTITLE","ERROR_ROUTE_CONTINUE","ERROR_ROUTE_TRY_AGAIN","ERROR_ROUTE_GO_BACK","ERROR_ROUTE_PAGE_TITLE","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","ERROR_AVAILABLE_TITLE","ERROR_AVAILABLE_SUBTITLE","ERROR_AVAILABLE_CLOSE","ERROR_AVAILABLE_TRY_AGAIN","ERROR_RESPONDING_TITLE","ERROR_RESPONDING_SUBTITLE","ERROR_RESPONDING_RETRY","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","$stateProvider","$ctrls","clearFieldErrors","fieldController","$error","prop","$setValidity","clearFormErrors","formController","$serverError","errorsWithHint","isEmpty","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","errorName","goToUnhandledErrorPage","appHeader","showMenuNavIcon","showTitleBreadcrumb","onClose","timeoutInterval","onContinue","absolute","urlBack","onRetry","retry","parseError","error_details","description","server_stacktrace","client_stacktrace","charts","pipBarChart","series","bindToController","$mdColorPalette","configBarWidthAndLabel","labels","d3","selectAll","chartBars","parentHeight","getBBox","classed","barSize","Number","transition","materialColorToRgba","color","generateParameterColor","vm","legend","chart","chartElem","palette","scale","paletteColors","ordinal","updatedSeries","datum","update","nv","addGraph","models","discreteBarChart","label","showValues","showXAxis","showYAxis","valueFormat","tooltip","enabled","noData","dispatch","pipChartLegend","interactive","colorCheckboxes","checkboxContainers","legendTitles","prepareSeries","hex","pipLineChart","dynamic","updateScroll","domains","boundary","bDiff","domDiff","addZoom","svg","setData","newChart","yAxis","xAxis","xDomain","domain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","prevXDomain","prevScale","d3zoom","prevTranslate","nice","fixDomain","clone","updateChart","zoomed","unzoomed","step","coordinates","point","keypress","setZoom","scaleExtent","behavior","zoom","center0","translate0","coordinates0","center1","getXMinMax","maxVal","minVal","tempMinVal","tempMaxVal","updateZoomOptions","sourceEvents","isVisibleX","isVisibleY","zoomIn","zoomOut","lineChart","useInteractiveGuideline","showLegend","tickFormat","utils","windowResize","pipPieChart","donut","total","renderTotalLabel","svgElem","totalVal","reduce","sum","curr","titleElem","resizeTitleLabelUnwrap","boxSize","resizeTitleLabel","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","settings","auth","pipSettings","onDropdownSelect","onNavigationSelect","initSelect","selected","tab","tabIndex","tabId","getTabs","$user","sortBy","getDefaultTab","getFullStateName","defaultTab","addTab","tabObj","existingTab","validateTab","stateConfig","setDefaultTab","showTitleText","newTitleText","titleText","titleLogo","showTitleLogo","newTitleLogo","showNavIcon","isNavIcon","pipSettingsProvider","pipTransaction","pipToasts","pipDataUser","pipDataParty","pipFormErrors","onPictureChanged","picture","onPictureCreated","sender","saveChanges","$party","$invalid","loc_pos","party","toJson","originalParty","tid","begin","updateParty","aborted","nameCopy","status_code","fromJson","updateUser","setCurrentTheme","onChangePassword","email","answer","onVerifyEmail","user","email_ver","genders","omit","onExit","onChangeUser","debounce","onChangeBasicInfo","onCheckRepeatPassword","changePasData","repeat","new_password","showRepeatHint","onApply","changePassword","1107","1105","errorsRepeatWithHint","formPart","pipDataSessionProvider","resolve","sessions","readSessionsResolver","sessionId","readSessionIdResolver","pipDataSession","onRemoveAll","async","eachSeries","removeSession","without","onRemove","pipTranslateProvider","SETTINGS_TITLE","SETTINGS_BASIC_INFO_TITLE","SETTINGS_ACTIVE_SESSIONS_TITLE","SETTINGS_BASIC_INFO_FULL_NAME","SETTINGS_BASIC_INFO_VERIFY_HINT","SETTINGS_BASIC_INFO_VERIFY_CODE","SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_NAME_HINT","SETTINGS_BASIC_INFO_WORDS_ABOUT_ME","SETTINGS_BASIC_INFO_GENDER","SETTINGS_BASIC_INFO_BIRTHDAY","SETTINGS_BASIC_INFO_LOCATION","SETTINGS_BASIC_INFO_PRIMARY_EMAIL","SETTINGS_BASIC_INFO_FROM","SETTINGS_BASIC_INFO_USER_ID","SETTINGS_CHANGE_PASSWORD_TITLE","SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD","SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD","SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD","SETTINGS_ACTIVE_SESSIONS_SUBTITLE","SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION","SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS","SETTINGS_ACTIVE_SESSION_OS","SETTINGS_ACTIVE_SESSION_IP","SETTINGS_ACTIVE_SESSION_ACTIVE","SETTINGS_BLACKLIST_TITLE","SETTINGS_BLACKLIST_SUBTITLE","SETTINGS_BLACKLIST_UNBLOCK","SETTINGS_BLACKLIST_EMPTY","SETTINGS_CONTACT_INFO_TITLE","SETTINGS_CONTACT_INFO_EMAIL","SETTINGS_CONTACT_INFO_ADD_EMAIL","SETTINGS_CONTACT_INFO_ADD_PHONE","SETTINGS_CONTACT_INFO_ADD_ADDRESS","SETTINGS_CONTACT_INFO_ADD_ACCOUNT","SETTINGS_CONTACT_INFO_ADD_URL","SETTINGS_CONTACT_INFO_ADDRESS","SETTINGS_CONTACT_INFO_PHONE","SETTINGS_CONTACT_INFO_ACCOUNT_NAME","SETTINGS_CONTACT_INFO_URL","THEME","HINT_PASSWORD","HINT_REPEAT_PASSWORD","ERROR_WRONG_PASSWORD","ERROR_IDENTICAL_PASSWORDS","REPEAT_PASSWORD_INVALID","ERROR_EMAIL_INVALID","onAbort","abort","onRequestVerificationClick","requestEmailVerification","onVerify","verifyEmail","verifyData","1106","1103","emailVerified","help","HelpPageController","pipHelp"],"mappings":"CAAA,SAAAA,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAC,SAAAX,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,qDCAA,qBAUY2B,GAAeC,gBAERC,IAAE,sBAAW,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,KAChBC,cACFC,KAAAL,EAAAK,KAEFC,IAAAN,EAAAM,IACIC,OAAMN,KAENO,eACFH,KAAAH,EAAAG,KAERC,IAAAJ,EAAAI,IAELC,OAAAJ,aAMGM,GAA4BC,EAAAC,GAE5B,UAOA,SAAAC,KACID,EAAIE,QAAAC,eAGAC,GAAcR,MAGU,MAAxBtC,EAAMuC,eAEyB,MAA/BvC,EAAUuC,cAAeH,KAAc,CAC1C,GAAAW,GAAAC,EAAAC,UAAAjD,EAAAuC,cAAKQ,GAAET,OAAAU,EAAAE,OAAAH,EAAAT,OAAAA,GACJG,EAAQU,GAAAJ,EAAQX,KAAOW,EAAAT,YAGlCI,GAAAE,QAAAC,OAhBG,MAFAJ,GAAAE,OAAAA,IACIG,gBAAsBA,EACzBL,EAsBL,QAAOW,GAAAC,KACKC,UAAA,SAAqBd,GAvDjCb,EAAA4B,SAAkC,gBACnBA,SAAA,YAAA,aAEIA,SAAA,iDCRnBC,OAAYJ,GAEDK,IAAA9B,QAEX+B,GAAA,SAAAvC,EAAAlB,EAAAD,wBAYK2D,GAAAlB,GACJ,UAKG,SAASmB,GAAS3B,EAAWF,GAGjC,MAFC/B,GAAA6D,iBAAA5B,GAAAF,EAEDvB,KALI,MADJiC,GAAAmB,SAAAA,EACInB,UAUAqB,GAAiBT,GAKjB,aACQC,UAAU,SAAAK,cAEclB,EAAasB,sBAMpCH,GAAS9B,EAAEiB,EAAAT,MACZP,GAAS/B,EAAA6D,iBAAAd,EAAAX,sBACCL,OACNA,EAAUgB,EAAAX,KAAaE,GACxBU,EAAAgB,OAAAjC,IAEH,KAAO,IAAKV,OAAA,oCAGhB,SAAMU,IACTgC,EAAA,WACJjC,EAAAmC,iBAEDxB,EAAAyB,aAAmCnC,EAAQO,GAAA6B,SAAA,eAG9B,qBAnBSP,EACbnB,UAwBJ2B,GAAOf,aClEZA,GAAaC,UAAA,SAAAe,KDOYd,SAAS,eAEbA,SAAA,cAICA,SAAkB,YAAA,cAChCA,SAAiB,cACjBM,4BCXL5D,OAAA,uBAAA,wBCJHuD,OAAYY,QAEDE,GAAA,SAAUnD,EAAWlB,EAAWD,GAE3C,qBACIC,OAAW,cAEX,YAAW,oBAAuB,kBACtB,6BAGXsE,GAAC,SAAApD,EAAAlB,EAAAD,wBAUFwE,GAAeC,EAAA7C,EACX8C,gBAIS7C,IAAM,oBAAA,SAAAC,EAAoCC,EAAQC,EAAMC,EAAAC,GAC7DN,EAAW5B,EAAO2E,aAAA,MAGX9C,IAAC,sBAAa,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAE3BN,EAAA5B,EAAA2E,aAAA,MAKY9C,IAAA,oBAAiB,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA0C,GAEvBhD,EAAW5B,EAAA2E,aAAc,EAGzBF,EAAAG,MAAU,kCAAyB7C,EAAAK,QAC3BwC,MAAAA,WACAA,MAAS,kCAAG7C,EAAAK,cACRwC,MAAIA,OAEP/C,IAAA,iBAAA,SAAAC,EAAA+C,EAAA5C,EAAAC,KAEP+B,iBAERrC,EAAA5B,EAAA2E,aAAA,EAELD,EAAAvB,GAAA,wBAEM0B,aAAAA,EACK5C,WACH6C,GAAA7C,EAAmBA,EAAAG,KAAA,uBAzCNmB,SAAC,OAAU,aAAU,YAErCoB,WAAA,WClBNI,QAEI9E,OAAA,wBASJwD,IAAAe,QAIQQ,GAAA,SAAW7D,EAAWlB,EAACD,wBAMvBC,OAAA,YAAwB,eAAA,iBAAA,iCACpBA,OAAA,mBAA2B,8BACvBkB,EAASlB,EAASD,sBAElB+E,QAAS9E,OAAS,uBACpBgF,QAAA,YAAA,aAAA,SAAArD,GAGN,QAAAsD,GAAAC,GACIvD,EAAMwD,OAAYD,IACdE,QAAOC,OACVhE,KAAAgE,OAGGC,QAAMD,gBAMNE,GAAcZ,eAEVA,GACJ,MAAC,WAGGS,QACJ,MAACT,GAAAS,OAIL,IAAIT,EAAMa,KAAA,CACN,GAAAb,EAAOa,KAAMnE,KAChB,MAAA,SAAAsD,EAAAa,KAAAnE,IAGG,IAAAsD,EAAOa,KAAQJ,QAClB,MAAAT,GAAAa,KAAAJ,QAGH,MAAAT,GAAAc,WAEFd,EAAmBc,WAEXd,EAAMe,OACT,SAAAf,EAAAe,OAGGf,EAAOa,KAAMb,EAASa,KAACb,UAIvBgB,GAAOhB,GACX,MAAC5B,GAAAgB,OAAAY,GAEU,KACbA,EAAAa,MAAAb,EAAAa,KAAAnE,KAEFsD,EAAAa,KAAsBnE,KAErBsD,EAAAe,OAACf,EAAAe,OAGO,gBAIaf,SACbA,IAAAA,EAAAa,KAAAb,EAAAa,KAAAb,aAIYO,EAAOU,KACnBV,GAAA,YAEDP,UACO,aACOO,UAEV,WACH,GAAAP,GAAAhD,EAAAwD,OAAAD,EAED,OAASnC,GAAAgB,OAAAY,IAAA5B,EAAAgB,OAAAY,EAAAS,UAAArC,EAAAgB,OAAAY,EAAAtD,sBAGL,MAACM,GAAAwD,OAAAD,GACUvD,EAACwD,OAAAD,GAGV,YAEE,WACJ,MAACvD,GAAAwD,OAAAD,GACUvD,EAACwD,OAAAD,GAAAE,QAGP,sBAGL,MAACzD,GAAAwD,OAAAD,GACUvD,EAACwD,OAAAD,GAAA7D,KAGX,cAIG,oBACW8D,OAAED,GACTvD,EAAMwD,OAAeD,GAACI,QAExB,UAEL,SAAAX,GAAKA,GACFhD,EAAUwD,OAAOD,IACpBE,QAAAG,EAAAZ,GACJtD,KAAAsE,EAAAhB,GACHW,QAAAO,EAAAlB,IAG2BmB,QAAYnB,MAAQhD,EAAMwD,OAAAD,KAGzDD,EAAAC,IC3IF,OAHJnC,GAAUgD,SAAGH,KAENA,EAAIjB,MAASA,GAChBA,EDsBC,MAADhD,GAACwD,UAACa,sBClBE9E,EAAclB,EAAAD,sBAEd+E,QAAU9E,OAAA,wBAAW,mBACtBwD,KAAA,YAAA,SAAAyC,MAEHC,GAAaD,EAAAE,IAAgB,gBAAMF,EAAAG,IAAA,gBAAA,WAE/BC,gBAAc,MACdC,SAAW,cACXC,WAAU,gBACXC,QAAA,aACNC,OAAA,cAaLP,EAAmBG,gBACf,MAGIC,SAAW,oBAEJC,WAAA,oBAIPC,QAAA,iBACIC,OAAW,yBAIdzB,QAAA,kBAAA,aAAA,WAAA,SAAArD,EAAA+E,WAKOC,GAAiBzB,GACrBvD,EAAIiF,aAAc1B,IACd2B,GAAAxB,OAEAyB,UAAOzB,gBAGN0B,GAAA7B,EAAAU,KAEGV,GAAE,eACEwB,EAAAxB,MAERP,MAACA,EAEDqC,MAAM,WACFL,EAAc,IACjBhC,EAAAqC,cAGG,WACA,GAAAC,GAAgBtF,EAAYiF,aAAI1B,EACnC,OAAA,OAAA+B,GAAAA,EAAAJ,WAGO,kBACAlC,EAAAuC,iBAEJ,SAAOL,GACV,GAAAI,GAAAtF,EAAAiF,aAAA1B,EAEG,OAAAnC,GAAAgB,OAAAkD,IAAAA,EAAAJ,IAAAA,OAEA,WAKA,MAJH9D,GAAAgB,OAAApC,EAAAiF,aAAA1B,KAEDyB,EAAWzB,GAEAvD,EAAWiF,aAAG1B,IAGzB2B,GAAA,WACI,GAAAI,GAAatF,EAAUiF,aAAA1B,EAC1B,OAAA+B,GAAAA,EAAAJ,GAAA,gBAGO,WAEJ,GAAII,GAAWtF,EAAYiF,aAAe1B,SACtC+B,GAAYA,EAAAH,UAAA,mBAGhB,iBACMnC,GAAMS,iBAEV,SAAA0B,GACF,GAAAG,GAActF,EAAAiF,aAAA1B,EAEd,OAAmB,OAAnB+B,GAAsBA,EAAAJ,GACzB,MAGGI,EAAItF,EAAciF,aAAW1B,IACzB2B,IAAA,GAAAM,OAAcC,UACdN,UAAWA,GAAW,cAE1BnC,EAAMqC,QACTC,EAAAJ,WAGM,cAAMI,GAActF,EAACiF,aAAA1B,EACpB+B,KAACA,EAAWJ,GAAG,MAGnBlC,EAAIqC,aAEH,SAAAK,GACJA,EACH1C,EAAA2C,IAAAD,GAGE1C,EAAYqC,OACZ,IAAAC,GAAYtF,EAAciF,aAAY1B,EACzC,OAAA+B,IAEMA,EAAYJ,GAAA,OCpI3B,OALS9D,GAACgD,SAAAH,KAENA,EAAOjB,MAAeA,EAC1BiB,EAAUqB,YAAAA,GAEVA,QD6CItF,GAAAiF,gBACIG,UC3CRQ,IAAA,SAAarG,EAAAlB,EAAAD,wBAEbC,OAAW,eACX,WACA,eACA,aACD,wBCdH,cAEa,gBACA,YAmBb,YAKI,oCAOI,SAAKkB,EAAalB,EAAAD,kBAGrByH,gBAAA,cAEOC,qBAAA,2BACK,mBACLC,GAAgBC,EAAAC,EAAejG,GACtCpB,KAAAsH,YAAAF,EAEDpH,KAAAuH,UAAAF,OAAAG,WAAApG,OACIgG,aAiBJ,SAdAK,UAAoCL,WAAA,WAChCpH,KAAKsH,cACLtH,KAAKwH,WAAUhI,EAAGyH,iBAAAjH,KAAAuH,mBAErBG,eAAAP,EAAAM,UAAA,kDACLV,IAAA,SAAAY,GAAC3H,KAAAuH,UAAAI,EAED3H,KAAAoH,aAKIpH,KAAAwH,WAAAI,WAAApI,EAAA0H,qBAAAlH,KAAAuH,YAHQM,YAAA,EACAC,cAAQ,IAIhBX,OACgB,mBACfY,UAEDT,aAAsB,OAClBC,UAAK,KACTvH,KAACgI,SAAA,KCjEQ,uDD6DRnC,IAAA,WAMD,MAAA7F,MAAAsH,iBACI,SAAWK,GACd3H,KAAAsH,cAAAK,eAGQ,EACTG,cAAC,kDAJAjC,IAAA,WAMM,MAAA7F,MAAAuH,WAGHR,IAAI,SAAKY,GACL3H,KAAKuH,UAAWI,GAGvBE,YAAA,EAELC,cAAA,IAEAC,EAAON,UAAAQ,MAAA,aAAA,SAAA7G,GACF,UC1FL,OD2F6B,OAAxBpB,KAASgI,mEC3FDhI,KAAAgI,WAGAD,IAgBbxD,SAKI9E,OAAA,2BAKS,cAAcsI,YACnB,SAAKpH,EAAWlB,EAAQD,kBAGxB0I,eAAiB,aACpBC,mBAAA,qBAEOC,mBAAA,yBACK,mBACLC,GAAgBjB,EAAAkB,EAAAlH,GACvBpB,KAAAsH,YAAAF,EAEDpH,KAAAuI,SAAAD,OAAAd,WAAApG,OACIgG,aAgCJ,4DA/BCpH,KAAAwH,WAAAhI,EAAA0I,gBAAAlI,KAAAuI,iCAEDF,EAAAZ,UAAA,eACI,WACH,MAAAzH,MAAAuI,wBAAAT,cAAA,WAEyBJ,eAAAW,EAAAZ,UAAA,YAA4B5B,IAAA,WAC9C,MAAgB,OAAT7F,KAAIuI,UAGfV,YAAK,EACLC,cAAK,IAETO,EAACZ,UAAAe,KAAA,SAAAF,EAAAG,EAAAC,GAEwC,GAAlC,SAAAD,IAAKA,GAAC,GAAA,SAAAC,IAAAA,GAA0B,GAAE,MAAAJ,EACjC,KAAA,IAAUzH,OAAG,yBAEjBb,MAAKuI,SAAWD,EAChBtI,KAAKoH,aACLpH,KAAKwH,WAAWI,WAAWpI,EAAA2I,mBAAoBG,IAEvDD,EAAAZ,UAACkB,MAAA,SAAAF,EAAAC,GAAA,SAAAD,IAAAA,GAAA,GAED,SAAAC,IAAAA,GAAA,EAKI,IAAAE,GAAA5I,KAAAuI,QAJQvI,MAAAuI,SAAW,KACXvI,KAAAoH,aACApH,KAAAwH,WAA4BI,WAAKpI,EAAA4I,mBAAAQ,IAIzCP,OACe,mBACdQ,UAEDvB,aAAsB,OAClBiB,SAAK,KACTvI,KAACgI,SAAA,KC5EF,uDDwEEnC,IAAA,WAMD,MAAA7F,MAAAsH,iBACI,SAAWK,GACd3H,KAAAsH,cAAAK,eAGQ,EACTG,cAAC,iDAJAjC,IAAA,WAMM,MAAA7F,MAAAuI,UAGHxB,IAAI,SAAKY,GACL3H,KAAKuI,SAAWZ,GAGvBE,YAAA,EACLC,cAAA,IAEAe,EAAepB,UAAeQ,MAAA,aAAgB,SAAA7G,GACzC,UCnGG,8BAFIpB,KAACgI,SAAA,GAAAK,GAAArI,KAAAsH,YAAAtH,KAAAuI,SAAAnH,IAEEpB,KAAAgI,WAEZa,ICJHtE,SAAA9E,OAAa,cAAA,iBAEbqJ,SAAA,aAAAD,QACIE,IAAA,SAAWpI,EAAAlB,EAAAD,wBAGPC,OAAA,qCACO,uBAAA,sBAAA,6CAEGkB,EAAMlB,EAAAD,2BAIAmG,qBAGlBqD,SAAA,KACLrE,OAEDsE,KAAA,gBACIC,KAAW,QAGPC,KAAA,SAAcxE,EAAAyE,EAAAC,GACd,GAAOC,GAAA3E,EAAAsE,MAAAtE,EAAAuE,KACCvB,EAAEhC,EAAmB4D,UAAAD,EACzBF,GAAMI,KAAM7B,gBAIAhC,qBAGlBqD,SAAA,KACLrE,OAEMsE,KAAA,oBACKC,KAAA,QAEPC,KAAS,SAACxE,EAAAyE,EAAoBC,wBCvCtB1B,EAAAhC,EAAA4D,UAAAD,EAEbF,GAAAK,KAAyB9B,ODSX5E,SAAa,kBACLA,SAAc,wBCJnCtD,OAAA,6BAEDiK,UAAA,eAAAC,GACID,UAAW,mBAAAE,QAEXC,IAAI,SAAAlJ,EAAelB,EAAUD,wBAK5BsK,GAAAnE,GACJ,UAED,OAAO,UAAA2D,GACF,MAAO3D,GAAA4D,UAA0BD,IAAAA,GCtBrC,QAAAS,GAAarE,wHDgBH3C,SAAa,kBACTA,SAAgB,aCO/BwB,QAqBI9E,OAAA,iCApBU,YAAYqK,YACZ,SAAAnJ,EAAalB,EAAGD,sBAElBQ,MAAMA,KAAAgK,WAAS,SAAAC,EAAAC,gBAEXlK,KAAEmK,YAASF,cADfC,GAAMA,EAAAE,eAASC,KAAAJ,EAAAI,GAAAH,EAAAG,gBAET,OAANH,EAAMI,OAAYC,OAAAL,IAAAM,EAAA/C,UAAAyC,EAAAzC,UAAA,GAAA+C,uBAEZ,mCACT,2BACG,uCAEM,6BAGNC,GAAM,UACNC,GAAM,UACTC,GAAA,UACHC,GAAA,aAEqBC,GAAA,SAEvBC,GAAA,2CAAwDH,GAAA,YAGjDC,GAAA,gBACCC,GAAQ,WACJC,GAAC,8BAMTpD,eAAeqD,EAActD,UAAS,YACtC5B,IAAK,WAAc,MAAA7F,MAAYgL,WAClCjE,IAAA,SAAAY,GAAA3H,KAAAgL,UAAArD,GAGME,YAAA,EACHC,cAAa,MAETL,UAAYwD,IAAQ,SAAAC,GAKrB,MAJI,OAAPA,IACHlL,KAAAgL,UAAAE,GAGMlL,KAAAgL,aACqCvD,UAAU3B,gBAAA,SAAAoF,EAAAC,GAElD,GAAIC,GAAMpL,KAAKqL,cAACH,MAChBlL,MAAIqL,cAAeH,GAAK1I,EAAAE,OAAc0I,EAAKD,MAGnC1D,UAAO8B,UAAO,SAAAD,MAClB9G,EAAAgB,OAAO8F,IAAK9G,EAAA8I,YAAiBhC,GAC9B,MAAA,EAEH,IAAA6B,GAAcnL,KAAAqL,cAAArL,KAAAgL,cACjB,OAAAG,GAAA7B,IAAAA,KAIS7B,UAAY8D,eAAe,SAAMC,MAAChJ,EAAAgB,OAASgI,IAAC,GAAAA,EAAAvK,OAElD,QACA,IAAAwK,MAEIN,EAAmBnL,KAAAqL,cAAArL,KAAAgL,qBACvBxI,GAAAkJ,KAAIF,EAAA,SAAmBG,GAErB,GAAKrC,GAAMqC,GAAA,EACTF,GAAIG,KAAaT,EAAG7B,IAAAA,KAGpBmC,KAGAhE,UAAYoE,aAAO,SAAAL,EAAAM,EAAAC,GACvB,GAAGvJ,EAAAgB,OAAAgI,IAAA,GAAAA,EAAAvK,OAEH,QACH6K,GAAAA,GAAA,KAGMC,EAAAA,GAAA,MACH,IAAIN,MAAsCN,EAAUnL,KAAAqL,cAAArL,KAAAgL,cAapD,OAXAxI,GAAAkJ,KAAOF,EAAG,SAAWlC,GACrB,GAAA3B,KAEI2B,GAAAA,GAAY,GAEd3B,EAAKmE,GAAOxC,EACV3B,EAAIoE,GAAWZ,EAAe7B,IAAAA,EAE9BmC,EAAKG,KAAAjE,KAGF8D,GAIJV,EAAAtD,UAAAuE,iBAAmB,SAA1BC,EAA2BH,EAA2BC,GAClD,GAAAvJ,EAAMgB,OAAGyI,IAA2B,GAAlBA,EAAShL,OACxB,QACH6K,GAAOA,GAAS,SAAQC,GAAG,WAC3B,IAAIZ,GAAenL,KAAKqL,cAAcrL,KAAKgL,cAK3C,OAJAxI,GAAAkJ,KAAOO,EAAA,SAAiBC,GAC3B,GAAA5C,GAAA4C,EAAAJ,IAAA,kBAGSG,KAEAxE,UAAY0E,oBAAqB,SAAKC,EAAa9C,GAIzD,GAHA8C,EAAOA,EAAUA,EAAS,IAAA,GAC1B9C,GAAA8C,EAAY9C,GAAS+C,QAAI,KAAO,KAAAC,cAEtB,MAANhD,EACA,MAAA,EAEJ,IAAE6B,GAAWnL,KAAUqL,cAAGrL,KAAAgL,qBACtBG,GAAoB7B,IAAAA,KAIpB7B,UAAM8E,uBAAgC,SAASH,EAAQZ,EAAIM,EAAAC,MAE3DvJ,EAAAgB,OAAOgI,IAAY,GAADA,EAACvK,OACpB,QAEHmL,GAAOA,EAAOA,EAAAC,QAAA,KAAA,KAAAC,cAAA,GACjBR,EAAAA,GAAA,KAGMC,EAAAA,GAAA,MACH,IAAIN,MAAoCN,EAAUnL,KAAAqL,cAAArL,KAAAgL,qBAElDxI,GAAAkJ,KAAOF,EAAG,SAAWlC,GACrB,GAAA3B,KACA2B,GAASA,GAAM,GAEX3B,EAAMmE,GAAMxC,EACZ3B,EAAAoE,GAAmBZ,EAACiB,EAAmB,IAAA9C,IAAgBA,EAEzDmC,EAASG,KAAEjE,KAEN8D,KAGHhE,UAAM+E,wBAAgC,SAAOJ,EAAYZ,EAAOM,EAAAC,eACxDP,IAAyB,GAAhBA,EAAIvK,OAErB,QACJ6K,GAAGA,GAAA,KAEHC,EAAOA,GAAO,OACjBK,EAAAA,EAAAA,EAAAC,QAAA,KAAA,KAAAC,cAAA,IAAA,EACL,IAAAb,MAACN,EAAAnL,KAAAqL,cAAArL,KAAAgL,qBAEDxI,GAAAkJ,KAAAF,EAAA,SAAAlC,GAOI,GAAA3B,KAOQ2B,GAACA,GAAW,GACZ3B,EAACmE,GAAWxC,EACZ3B,EAACoE,GAAeZ,EAAYiB,EAAA9C,EAAA+C,QAAA,KAAA,KAAAC,gBAC3BF,EAAa9C,EAAA+C,QAAW,KAAA,KAAAC,cACzBb,EAACG,KAAWjE,KAGZ8D,GAEHV,KAGL0B,EAAC,WAEO,QAAAA,GAAAC,EAARtF,EAAAuF,EAAAvL,EAAAwL,GACI5M,KAAIsH,YAAKF,OACLyF,SAAKF,EAET3M,KAAI8M,aAAcJ,OACdlF,WAAcpG,EACrBpB,KAAA+M,SAAAH,EAED5M,KAAA6M,gBAAAC,aAAA5B,SAAA0B,EAAA/G,IAAA,aACW7F,KAAK8M,aAAa5B,eAG7B8B,gBAEavF,UAAAuF,KAAa,gBAElB1F,mBACAE,WAAKhI,EAAWyN,iBAAWjN,KAAA8M,aAAsB5B,UACrDlL,KAAC6M,UACJ7M,KAAA+M,SAAAhG,IAAA,WAAA/G,KAAA8M,aAAA5B,yDATArF,IAAA,WAWM,MAAA7F,MAAA8M,aAAP5B,cAEQ,SAAKvD,GACFA,GAAK3H,KAAS8M,aAAA5B,WACxBlL,KAAA8M,aAAA5B,SAAAvD,EAEM3H,KAAAgN,OACIhN,KAAKwH,WAAYI,WAACpI,EAAgB0N,qBAAwBvF,KAIjEE,YAAY,EACfC,cAAA,MAGeL,UAAAwD,IAAa,SAAcC,GAIvC,MAHH,OAAAA,IAEMlL,KAAAkL,SAAAA,GACIlL,KAAKkL,UAGTuB,EAAAhF,UAAA3B,gBAAgB,SAAvBoF,EAAsCC,GAClC,MAAOnL,MAAK8M,aAAahH,gBAAgBoF,EAAQC,IAG9CsB,EAAAhF,UAAA8B,UAAA,SAAPD,GACI,MAAOtJ,MAAK8M,aAAavD,UAAAD,IAGtBmD,EAAAhF,UAAA8D,eAAA,SAAPC,GACI,MAAOxL,MAAK8M,aAAavB,eAAAC,IAGtBiB,EAAAhF,UAAAoE,aAAA,SAAuBL,EAA9BM,EAA+BC,GAC3B,MAAO/L,MAAK8M,aAAajB,aAAAL,EAAAM,EAAwBC,IAEzDU,EAAAhF,UAACuE,iBAAA,SAAAC,EAAAH,EAAAC,GAAA,MAAA/L,MAAA8M,aAAAd,iBAAAC,EAAAH,EAAAC,IAE+BU,EAAAhF,UAAA0E,oBAAW,SAAAC,EAAA9C,GAMvC,MAAAtJ,MAAA8M,aAAAX,oBAAAC,EAAA9C,IAEAmD,EAAChF,UAAA8E,uBAAA,SAAAH,EAAAZ,EAAAM,EAAAC,GAED,MAAA/L,MAAA8M,aAAWP,uBAAAH,EAAAZ,EAAUM,EAAAC,MACVtE,UAAK+E,wBAAY,SAAAJ,EAAAZ,EAAAM,EAAAC,GAC5B,MAAC/L,MAAA8M,aAAAN,wBAAAJ,EAAAZ,EAAAM,EAAAC,+BAAAoB,KAMDC,EAAApM,KAAAhB,0CACgBmN,EAAS1F,UAAA,cACzB5B,IAAC,iBAED7F,MAAmBsH,aAEnBP,IAAC,SAAAY,yBAJAE,YAAA,EAMMC,cAAA,WAMAJ,eAAcyF,EAAS1F,UAAA,eACtB,WACJ,MAAWzH,MAAC6M,UAEpB9F,IAAA,SAAAY,GApCgC3H,KAoC/B6M,WAAAlF,GAGIE,YAAO,EACPC,cAAS,ICxTdqF,EAAa1F,UAAAQ,MAAA,aAAA,sBAAA,SAAA7G,EAAAwL,GAET,UAKI,OAHqB,OAAlB5M,KAAAgI,WAEAhI,KAAAgI,SAAA,GAAAyE,GAAAzM,KAAAA,KAAAsH,YAAAtH,KAAA6M,SAAAzL,EAAAwL,IACG5M,KAAIgI,WAEbmF,qBAIsB,oCACf,eAAWA,YACf,SAAUxM,EAAOlB,EAASD,sBAEzB+E,QAAA9E,OAAA,iBACDgF,QAAO,WAAO,WAQnB,QAAA4I,GAAA1F,sBC1BH,KAAa,QAAA/G,EAAA,EAAAA,EAAA+G,EAAA1G,OAAAL,IAET0M,GAAa3F,EAAQ4F,WAAO3M,EAK5B,OAAA0M,WAC+BE,KAE3B,MAAIC,MAAMC,SAASC,SAAQ,IAAMC,OAAA,EAAA,IAAAtB,cDSrC,OAGAe,KAAAA,EACIG,aAAYA,cCTZ,SAAO7M,EAAMlB,EAAaD,SAG9BqO,IAAA,SAAAlN,EAAsBlB,EAAKD,sBACV+E,QAAU9E,OAAA,kBACvBgF,QAAU,YAAM,mBAChBqJ,GAAUnG,EAAOoG,OACbpG,GAAY,IAAFA,QAAG,MACb1G,GAAS0G,EAAKqG,QAAQ,KAG7B,OAFG/M,GAACA,GAAA,EAAAA,EAAA0G,EAAA1G,OACDA,EAAOA,EAAO8M,EAAApG,EAAA1G,OAAA8M,EACjBpG,EAAAsG,UAAA,EAAAhN,WAE+BiN,GAAcC,EAAAC,QAAd,EAAA,MAAA,EAC5B,cAAAA,EAAA,GACW,EAAPA,IACHd,GAAAa,GAEGC,IAAA,EAAUD,GAAGA,QAGVb,SAEF,QAAAe,aAMIC,GAAQC,SACTZ,UAAY3M,KAAAuN,GAASC,MAAY,GAAG,GAAAC,cAL5C,IAAE,GADEC,MACFC,EAAA,EAAAA,EAAAC,UAAA3N,OAAA0N,IAEFD,EAAAC,EAAW,GAAMC,UAAGD,SAKRT,IACH,iBACDW,GAASC,MAAS1E,eAAewE,UAAA,QACxBE,MAAGF,UAAc,IAAAC,EAAAE,MAAAH,UAAA,OAEZI,OAAKhO,KAAO,KAAC6N,EAAAC,MAAAF,UAAA,IAAAA,WCjDvC,iBDmDwB,SAASK,EAAAC,MACmBC,GAAAvO,EAA0C+K,EAAEyD,EAAQC,EAAKC,EAACC,QAAxEN,EAAMhO,OAAQuO,EAAA,GAAAC,eAC5BC,EAAC9O,SACD0N,EAASW,EAAWrO,IACvB,aACL6O,EAAC7D,KAAAqD,EAAArO,YACc,UAAX4O,EAAqB,CAEzB,GADAJ,EAACH,EAAArO,GACGwO,EAAE,GAEL,IADGD,EAAMD,EAAKS,GACdhE,EAAA,EAAAA,EAAAyD,EAAA,GAAAnO,OAAA0K,IAAA,CAEG,IAAOwD,EAAK/E,eAAcgF,EAAQ,GAACzD,IAC7B,KAAI,IAAM9K,OAAQwN,EAAA,2CAA6Ce,EAAa,GAAGzD,IAEjFwD,GAAMA,EAAIC,EAAC,GAAAzD,QAEfwD,GADiCC,EAAM,GAClCF,EAAGE,EAAA,IACHF,EAAGS,eAA2BC,KAAMR,EAAA,KAAA,UAAAd,EAAAa,GACzC,KAAK,IAAGtO,OAAAwN,EAAA,4CAAAC,EAAAa,YAAsEC,EAAM,IACpF,IAAK,IAAKD,EAAMA,EAAAxB,SAAW,EAAqD,MAChF,KAAK,IAAKwB,EAAMU,OAAIC,aAAYX,EAAC,MACjC,KAAK,IAAKA,EAAMY,SAAQZ,EAAM,GAAwD,MACtF,KAAK,IAAKA,EAAMC,EAAK,GAAID,EAAKa,cAAAZ,EAAA,IAAAD,EAAAa,eAAC,MAC/B,KAAK,IAAKb,EAAMC,EAAI,GAAAa,WAAad,GAAAe,QAAAd,EAAA,IAAAa,WAAAd,EAAC,MAClC,KAAK,IAAKA,EAAMA,EAAIxB,SAAS,EAAmB,MACnD,KAAA,IACMwB,GAAQA,EAAKU,OAASV,KAASC,EAAG,GAAOD,EAAKlB,UAAQ,EAAGmB,EAAO,IAACD,CACxE,MACA,KAAA,IACMA,EAAQ1B,KAAG0C,IAAAhB,EACV,MACV,KAAA,IACJA,EAAAA,EAAAxB,SAAA,GACa,MAChB,KAAA,IAEiBwB,EAAGA,EAAAxB,SAAA,IAAArB,cAIX6C,EAAO,QAAAS,KAAAR,EAAA,KAAAA,EAAA,IAAAD,GAAA,EAAA,IAAAA,EAAAA,EACNG,EAASF,EAAY,GAAgB,KAAXA,EAAM,GAAY,IAAAA,EAAA,GAAAgB,OAAA,GAAA,IAC5Cb,EAAWH,EAAK,GAAQS,OAAEV,GAAAlO,OAC7BoO,EAAAD,EAAA,GAAAiB,EAAAf,EAAAC,GAAA,GACGE,EAAM7D,KAAKwD,EAAG,GAAAD,EAAeE,EAAMA,EAAMF,SAG7CM,GAAUa,KAAK,wBAGP,SAAIC,eACAnB,KAAYH,KAAGuB,EAA0B,SAEb,UAA5B,YAAQC,KAAAC,WACAtB,EAAC,YAEJ,UAAA,WAAAqB,KAAAC,WACG,aAEH,UAAA,uFAAAD,KAAAC,IAkC3B,KAAA,IAAA7P,OAAA,4BAjC0B,IACI,WACH8P,EAAAvB,EAAA,GAAAwB,QACJ,QAAAA,EAAA,sBAAAH,KAAAE,IAeP,KAAA,IAAA9P,OAAA,mBAbM,KADHgQ,EAAAjF,KAAAgF,EAAA,IACK,MAAAD,EAAAA,EAAA1C,UAAA2C,EAAA,GAAA3P,UACF,GAAoC,QAA9B2P,EAAU,wBAAoBH,KAAAE,IACvCE,EAAAjF,KAAAgF,EAAA,QAEJ,CAAA,GAAA,QAAAA,EAAA,aAAAH,KAAAE,IAIY,KAAS,IAAA9P,OAAA,mBAHhBgQ,GAAAjF,KAAAgF,EAAA,IAUTxB,EAAA,GAAAyB,MAGEL,IAAW,CAGf,IAAW,IAAXA,EACN,KAAA,IAAA3P,OAAA,8EAGQoO,GAAOrD,KAAAwD,wCC9IVP,IAIV,QAEAR,QAAOA,EACHW,OAAAX,EACAP,OAAAA,UAGFgD,IAAA,SAAAnQ,EAAAlB,EAAAD,aAKE,SAAWmB,EAAQlB,EAAAD,mBAGvBuR,GAAAxM,QAAA9E,OAAA,qBACIgF,QAAU,gBAAS,aAAA,WAAA,SAAArD,EAAAmC,WAWfyN,QACA,GAAA,WAEAC,WACI,WAEHC,KACLzK,GAAC,GAAA,GAGN,QAAAA,GAAA0K,EAAAC,qBC3CHA,EAAatM,SAAAsM,KAAAA,GAETD,GAAaC,KAENhQ,EAAQiQ,OAAaF,EACrB/P,EAAAkQ,cAAAF,EACH7N,EAAU,WACZnC,EAAAiQ,QAAA,EAIFjQ,EAAkBkQ,eAAe,GACzB,IDaR,MAFAlQ,GAACC,IAAA,eAAA6P,IAGGF,aAAYA,EACfC,UAAAA,EAEDC,SAAAA,EACIzK,MAAOA,eCfP,SAAW9F,EAAAlB,EAAAD,sBAC0B+E,QAAO9E,OAAA,0BACpC,YAAc,mBAGlB8R,GAAIC,EAAqBC,EAACC,MACPD,IAEZ3M,YACR4M,EAAK,KACXC,WAAA,WAEF,GAAAC,EAAAH,GAAAI,WAAA,CC3BS,GAACC,GAAArE,KAAA0C,IAAAyB,EAAAJ,GAAAO,YAAAH,EAAAH,GAAAI,WAAAG,IAET,MAAUF,EAAW,IAArB,CAIO,GAAAP,GAAAK,EAAAJ,GAAAO,aAAAH,EAAAH,GAAAI,WAAAG,IAAA,GACHN,GAAgB,GAChBE,EAAAJ,GAAmBS,SACRF,UAAER,EAAW,MACbG,MACX,sBDOsBH,cCJtB,SAAW5Q,EAAElB,EAAWD,mBAI5BuR,GAAAxM,QAAA9E,OAAA,sBACIgF,QAAS,iBAAkB,aAAU,UAAA,SAAArD,EAAAc,WAOjCgQ,QAAuBC,GAAAjQ,EAAOkQ,UAAQC,SAC1C,OAAIF,GAAGG,OAAO,SAAA,EAA0B,OACpCH,EAAGG,OAAO,SAAS,EAAc,KACjCH,EAAGG,OAAO,YAAa,EAAU,KACjCH,EAAGG,OAAO,YAAa,EAAW,UAEtCH,EAAOG,OAAA,UAAU,EACpB,QAEDH,EAAAG,OAAA,QAAA,EACe,QACPH,EAAEG,OAAG,cAAkB,EAEjB,YAEVH,EAAOG,OAAC,WAAU,EACT,kBACD,WAAc,EACd,SACJH,EAAAG,OAAS,YAAA,EACL,uCAIAC,IACArQ,EAAMkQ,UAAAC,mBACLH,SAED,OACJK,EAAYJ,EAAAK,MAAA,QAAA,GAAAA,MAAA,KAAA,EACR,WACA,KACJD,EAAKJ,EAAaK,MAAA,SAAA,GAAAA,MAAA,KAAA,EACd,WACA,OACJC,EAAK,KACDF,EAAWJ,EAAGK,MAAM,SAAA,GAAaA,MAAK,KAAM,EAC5C,MACJ,KAAK,UACDD,EAAUJ,EAAGK,MAAM,YAAY,EAC/B,MACJ,KAAK,QACDD,EAAUJ,EAAGK,MAAM,YAAY,EAC/B,MACJ,KAAK,cACDD,EAAUJ,EAAGK,MAAM,QAAA,EACnB,MACP,KAAA,YAEMD,EAAQJ,EAAAK,MAAA,cAAA,GAAAA,MAAA,KAAA,EAClB,MAED,KAAA,SACUD,EAAWJ,EAAAK,MAAU,WAAU,GAAAA,MAAA,KAAA,EAEjC,MACA,KAAA,SAEGD,EAAUJ,EAAAK,MAAA,YAAA,GAAAA,MAAA,KAAA,EACpB,MAED,KAAA,UACWD,EAAWJ,EAAEK,MAAI,YAAU,GAIlC,MAAOD,GAIX,QAAAG,KACI,GAAAP,GAAOjQ,EAAKkQ,UAAAC,SACf,OAAA,6DAAAzC,KAAAuC,EAAA1D,eAED,SACU,kBAGFkE,WAEoB,WAApBD,YACGE,WACa,UAAhBF,IAER,QAACG,KAGD,MAAA,cACoBC,WACZ5Q,EAAQkQ,UAAAC,iBAERU,IAAS,8DAAEtC,KAAA0B,EAAA1D,iBAAA0D,IAAA,GAAA9F,QAAA,QAAA,WAAA2G,EAAA,YAAAvC,KAAA0B,EAAA1D,gBAAA,UACXuE,GAAS,WAAAA,GAAA,WAAAA,EAAA,GAAAD,EAAA,gBAEXjM,GAEE,MAAO,mBAIPmM,GAAWC,GACXA,IAEJA,GACHC,KAAA,GAACC,GAAA,GAEHC,QAAA,YCpIUC,OAAA,IAIb,IAAWb,GAAQP,IAERK,EAAAgB,GAEH,OADAhB,GAAOA,EAAKC,MAAA,KAAA,GACZC,GAAcS,EAAAT,IAAYF,GAAAW,EAAAT,IAA1B,wBDamCP,EACnCqB,kBAAcA,cAAqBb,EACnCC,UAAOA,WAA8BC,EACrCC,UAAOA,QAAwBC,EAC/BG,YAAaA,eCXb,SAAStS,EAAOlB,EAAAD,mBAKpBuR,GAAAxM,QAAA9E,OAAyB,gBACrBgF,QAAU,UAAA,mBAaN+O,GAAYC,GAChB,MAAIA,GACAjR,EAAAkR,KAAOD,EAAMpH,QAAA,UAAA,MACX,KAGV,QAAAsH,GAAAF,GACI,MAAMA,GACFA,EAAIpH,QAAQ,WAAM,IAAYoC,cACjC,aAGGmF,GAAOC,EAAAC,GACX,MAAG,OAAAD,GAAA,MAAAC,GAGN,MAAAD,GAAA,MAAAC,GAGSH,EAAaE,IAAEF,EAAAG,WAGjBC,GAAaC,GAQjB,MAPIxR,GAAAyR,SAAOD,KACRA,EAAAA,EAAAxB,MAAA,aAGNwB,EAAAxR,EAAA4I,IAAA4I,EAAA,SAAAP,GAAC,MAAAD,GAAAC,aAMMS,GAAWF,GAQf,MANIxR,GAAEyR,SAAMD,OACJA,EAAIxB,MAAQ,iBACZpH,IAAI4I,EAAO,SAAQP,GACvB,MAACE,GAAAF,qBCvEb,GAAYO,GAACD,EAAAI,EAAAH,KAqBM,OARnBxR,GAAAkJ,KAAA0I,EAAA,SAAAC,GAAA,GAAA7K,GAAA2K,EAAAE,IAAA,EAIC,IAAA,IAAA7K,EAAA,CAAD,GAAA8K,GAAC9K,EAAA4F,MAAA,QAAA4E,GAAAA,EAAAO,OAAAR,EAAAO,OAIyB9R,EAAAgS,KAAAR,gBDCZJ,EACTJ,aAAAA,EAEDO,aAAAA,EACIU,UAAUV,cACAJ,cACCO,EACdQ,SAAAR,EAEDS,QAAAA,UCNJC,IAAA,SAAAjU,EAAAlB,EAAAD,mBAWIqV,IARQ,mBACAC,YAIJA,cAGJ,qBAAAC,QAAA,YACI,oBAAqBA,QAAA,aACxB,0BAAAA,QAAA,oBAEM,QAAAC,GAAA5T,EAAP6T,GACIjV,KAAIkV,UAAA,EACJlV,KAAImV,QAAA3S,EAAaC,UAASoS,QAACrN,WAAOpG,EAElCpB,KAAIoV,UAAwBH,WAN/BlS,SAAA,aAAA,mCAQgBiS,EAAOvN,UAAA,iBAClB,WACE,MAACzH,MAAQkV,sBAGJ,EACZpN,cAAA,MAGYL,UAAS4N,SAAQ,SAAa/T,EAAQyT,MAC3CO,GAAI9S,EAAa+S,KAAGvV,KAAKmV,QAAW,SAAAhV,GAAA,MAAAA,GAAAmB,OAAAA,OACnB,MAAjBgU,UAGAhU,MAACA,EACJyT,QAAAA,EAGE/U,MAAAmV,QAAAvJ,KAAA4J,GACCxV,KAAKkV,UACLlV,KAACyV,WAAaD,KAGdR,EAAAvN,UAAAiO,YAAR,SAAmBpU,GAAnB,IAAA,GAAAV,GAAAZ,KAKCmV,QAAAlU,OAAA,EAAAL,GAAA,EAAAA,IAAA,CAJG,GAAM0U,GAAgBtV,KAAAmV,QAClBvU,EAGP0U,GAAAhU,OAAAA,IAEOtB,KAAA2V,UAAAL,GACAtV,KAAMmV,QAAQS,OAAUhV,EAAC,QAGlB6G,UAAOoO,YAAA,gBAEbC,YACDX,YAERH,EAACvN,UAAAgO,WAAA,SAAAnU,GAEM,GAAAyU,GAAA/V,IAAPsB,GAAA0U,SAQChW,KAAAoV,UAAA,WAAAW,EAAAvO,WAAAI,WAAAtG,EAAAA,QAAAA,EAAAyT,YAPsBtN,UAAOkO,UAAA,SAAArU,GAE1B,GAAqB,MAAnBA,EAAK0U,SAAc,CACjB,IACDhW,KAAAoV,UAAAa,OAAA3U,EAAA0U,UAGN,MAAAE,IAED5U,EAAA0U,SAMC,SAHMvO,UAAA0O,MAAA,WAEH,GAAIJ,GAAC/V,IACRA,MAAAkV,WACJ1S,EAAAkJ,KAAA1L,KAAAmV,QAAA,SAAA7T,GAEMyU,EAAAN,WAAAnU,KAEFtB,KAAQkV,UAAU;;;CpB5GvB,SAAA3V,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAmW,QAAA7W,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IqBEA,WACI,YAEA+E,SAAQ9E,OAAO,cACX,mBACA,mBACA,wDCNR,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,0BAEhCsR,GAAWsF,OAAO,aAAa,YAAU,SAAS3Q,GAC9C,GAAIC,GAAeD,EAAUE,IAAI,gBAC3BF,EAAUG,IAAI,gBAAkB,IAEtC,OAAO,UAAUyD,GACb,MAAO3D,GAAgBA,EAAa4D,UAAUD,IAAQA,EAAMA,kCCVxE,WACI,YAEA,IAAIyH,GAAaxM,QAAQ9E,OAAO,6BAEhCsR,GAAWrH,UAAU,2BAA2B,SAAU,WAAQ,SAAQ4M,EAAA/S,GACtE,OACIyF,SAAU,IACVrE,OAAO,EACP4R,YAAY,SAAS,SAAQ,SAAMC,EAAAC,GAC/B,GAAIC,GAAaJ,EAAOG,EAAOE,yBAC3BC,EAAaN,EAAOG,EAAOI,mBAC3BC,EAAaF,EAAWG,MAE5BP,GAAOQ,OAAON,EAAY,SAASO,GAC3BA,EACA1T,EAAS,WACLuT,EAAWN,EAAQS,IACpB,KAEHH,EAAWN,EAAQS,uCCpB3C,WACI,YAEA,IAAIlG,GAAaxM,QAAQ9E,OAAO,oBAAqB,cAErDsR,GAAWrH,UAAU,oBACjB,SAAU,SAAM4M,GACZ,OACItN,SAAU,KACVrE,OAAO,EACPuS,SAAUrH,SACV,wMAIAxD,SAAS,EACTlD,KAAM,SAAUqN,EAAQW,EAAUV,GAqB9B,QAAAW,KACIC,EAAQD,OArBZ,GAAIE,GAAO9N,EAAM+N,EACbC,EAAalB,EAAOG,EAAOgB,SAC3BC,EAAgBpB,EAAOG,EAAOkB,YAC9BC,EAAgBtB,EAAOG,EAAOoB,YAC9BR,EAAUF,EAASW,SAAS,cAC5BC,EAAQV,EAAQS,SAAS,oBAE7BP,GAAO,WAEH/N,EAAOgO,EAAWhB,GAClBuB,EAAMvO,KAAKA,GAGX6N,EAAQE,OAGRD,EAAQD,EAAQC,QAChBD,EAAQW,IAAI,cAAe,IAAMV,EAAQ,EAAI,OAOjDd,EAAOyB,QAAU,WACbL,EAAcpB,IAGlBA,EAAOQ,OAAOU,EAAe,SAAUQ,GAC/BA,EACAX,IAEAH,MAIRZ,EAAOQ,OAAOQ,EAAY,SAAUU,GAChCH,EAAMvO,KAAK0O,sCCtDnC,WACI,YAEA,IAAInH,GAAaxM,QAAQ9E,OAAO,oBAAqB,wBAErDsR,GAAWrH,UAAU,mBACjB,WACI,OACIV,SAAU,KACVrE,OACIwT,WAAY,IACZ/B,QAAS,cACTgC,mBAAoB,WACpBC,cAAe,oBACfC,OAAQ,aAEZC,YAAa,qCACbhC,YAAY,SAAU,WAAQ,SAAU,WAAgB,WAAU,SAAAC,EAAAW,EAAAV,EAAA+B,EAAAjV,GAC9D,GAAIkV,EAEJjC,GAAOgC,SAAWA,EAClBhC,EAAOkC,MAAQjC,EAAOiC,OAAS,KAE1BlC,EAAOJ,SAAW5T,EAAEmW,QAAQnC,EAAOJ,UAAsC,IAA1BI,EAAOJ,QAAQnV,UAC/DuV,EAAOJ,YAGXqC,EAAQjW,EAAEwL,QAAQwI,EAAOJ,QAAS5T,EAAE+S,KAAKiB,EAAOJ,SAAU9P,GAAIkQ,EAAO4B,sBACrE5B,EAAOoC,mBAAqBH,EAAQ,EAAI,EAAIA,EAC5CjC,EAAO6B,cAAgB7B,EAAOJ,QAAQnV,OAAS,EAAIuV,EAAOJ,QAAQI,EAAOoC,oBACnEpC,EAAO6B,cAEb7B,EAAOqC,eAAiB,SAAUJ,GAC1BjC,EAAOsC,aAIXtC,EAAOoC,mBAAqBH,EAC5BjC,EAAO6B,cAAgB7B,EAAOJ,QAAQI,EAAOoC,oBAC7CpC,EAAO4B,mBAAqB5B,EAAO6B,cAAc/R,IAAMmS,EAEvDlV,EAAS,WACDiT,EAAO8B,QACP9B,EAAO8B,aAKnB9B,EAAOuC,gBAAkB,SAAUzX,GAC/BkV,EAAOqC,eAAevX,EAAMmX,QAGhCjC,EAAOsC,SAAW,WACd,GAAItC,EAAO2B,WACP,MAAO3B,GAAO2B,gBAI1BhP,KAAM,SAAUxE,EAAOqU,GACnBA,EACKC,GAAG,UAAW,WACXD,EAAKE,SAAS,uBAEjBD,GAAG,WAAY,WACZD,EAAKG,YAAY,uDClE7C,SAAA1Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,wBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,2BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,qCACA;;;C1BRA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAqZ,QAAA/Z,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,I2BOA,WACI,YAEA,IAAIuR,GAAaxM,QAAQ9E,OAAO,oBAEhCsR,GAAWrH,UAAU,UAAW,WAC5B,OACGV,SAAU,KAETG,KAAM,SAASqN,EAAaW,EAAUV,GAiBlC,QAAA8C,KACI,GAUIC,GAAMxH,EATNyH,EAAY7H,EAAE,kBACd8H,EAAgB9H,EAAE,uBAClB+H,EAAc/H,EAAE,YAAY0F,QAC5BsC,EAAWH,EAAUnC,QACrBuC,EAAYJ,EAAUK,SACtBC,EAAWtD,EAAOsD,SAAWtM,KAAKuM,MAAMvD,EAAOsD,UAAY,KAC3DE,EAAYxD,EAAOwD,UAAYxM,KAAKuM,MAAMvD,EAAOwD,WAAa,KAC9D3C,EAAQb,EAAOa,MAAQ7J,KAAKuM,MAAMvD,EAAOa,OAAS,KAClDwC,EAASrD,EAAOqD,OAASrM,KAAKuM,MAAMvD,EAAOqD,QAAU,IAIzD,IAAIH,GAAe,IACfI,EAAW,KACXE,EAAY,KACZ3C,EAAQ,KACRwC,EAAS,KACTF,EAAW,KACXC,EAAY,SAGX,CAED,GAAIK,GAAQP,EAAc,KAAO,GAAK,EACtCC,IAAoB,EAARM,EACZL,GAAqB,EAARK,EAGbH,EAAWA,EAAWtM,KAAK0M,IAAIJ,EAAUH,GAAY,KACrDK,EAAYA,EAAYxM,KAAK0M,IAAIF,EAAWJ,GAAa,KAGzDvC,EAAQA,EAAQ7J,KAAK0M,IAAI7C,EAAOsC,GAAY,KAC5CE,EAASA,EAASrM,KAAK0M,IAAIL,EAAQD,GAAa,KASpD,GALA1C,EAASa,IAAI,YAAa4B,EAAWA,EAAW,KAAO,IACvDzC,EAASa,IAAI,YAAa+B,EAAWA,EAAW,KAAO,IACvD5C,EAASa,IAAI,QAASV,EAAQA,EAAQ,KAAO,IAC7CH,EAASa,IAAI,SAAU8B,EAASA,EAAS,KAAO,IAE3CJ,EAAcU,SAAS,oBAiBxBV,EAAcR,SAAS,cACnBS,GAAe,KACfH,EAAO,EACPxH,EAAM,IAENwH,EAAOE,EAAcpC,QAAU,EAAIH,EAASG,QAAU,EAAI,GAC1DtF,EAAMvE,KAAK4M,IAAIX,EAAcI,SAAW,EAAI3C,EAAS2C,SAAW,EAAI,GAAI,IAG5E3C,EAASa,IAAI,OAAQwB,GACrBrC,EAASa,IAAI,MAAOhG,GACpBL,WAAW,WACPwF,EAASa,IAAI,UAAW,SACzB,SA7BP,CACIb,EAASa,IAAI,aAAc6B,EAAYA,EAAY,KAAO,IAC1D1C,EAASa,IAAI,aAAciC,EAAYA,EAAY,KAAO,GAC1D,IACIK,GAAUnD,EAAS5B,KAAK,uBACxBgF,EAAUpD,EAAS5B,KAAK,uBACxBiF,EAAQrD,EAAS5B,KAAK,aACtBkF,EAAgBZ,GAAaJ,EAAUK,QAEvCQ,GAAQrZ,OAAS,IACjBwZ,GAAiBH,EAAQI,aAAY,IACrCH,EAAQtZ,OAAS,IACjBwZ,GAAiBF,EAAQG,aAAY,IAEzCF,EAAMxC,IAAI,aAAcyC,EAAgB,MAmB5CjE,EAAO5O,WAAW,oBA7FtBuP,EAAS+B,SAAS,YAGlB1C,EAAOnV,IAAI,mBAAoBkY,GAG/BA,IAGA5H,WAAW4H,EAAQ,qCCpBnC,WACI,YAEA,IAAIxI,GAAaxM,QAAQ9E,OAAO,sBAEhCsR,GAAWrH,UAAU,YAAa,WAC9B,OACGV,SAAU,MACVuN,WAAY,yBAInBxF,EAAWwF,WAAW,uBAClB,WAAS,SAAU,SAAMY,EAAAV,GAErBU,EAAS+B,SAAS,cAElB/B,EAASa,IAAI,QAASvB,EAAOa,sCCjBzC,WACI,YAEA,IAAIvG,GAAaxM,QAAQ9E,OAAO,wBAEhCsR,GAAWrH,UAAU,cAAe,WAChC,OACGV,SAAU,KACVuN,WAAY,2BAInBxF,EAAWwF,WAAW,yBAClB,SAAS,WAAQ,SAAU,SAAMC,EAAAW,EAAAV,GAE7BU,EAAS+B,SAAS,+CCf9B,WACI,YAEA3U,SAAQ9E,OAAO,aACX,iBAAkB,mBAAoB,iBAAkB,qBACxD,kBAAmB,mBAAoB,gDCL/C,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,oBAEhCsR,GAAWrH,UAAU,UAAW,WAC5B,OACGV,SAAU,KACVuN,WAAY,uBAInBxF,EAAWrH,UAAU,cAAe,WACjC,OACIV,SAAU,KACVG,KAAM,SAASqN,EAAQW,GAClBA,EAAS+B,SAAS,qBAK9BnI,EAAWwF,WAAW,qBAClB,SAAS,WAAQ,aAAU,WAAoB,SAAAC,EAAAW,EAAA/V,EAAAuZ,GA+B3C,QAAApB,KACInY,EAAWwG,WAAW,oBA/BPgK,EAAE/R,OAGrBsX,GAAS+B,SAAS,YAElByB,IAAWC,kBAAkBzD,EAAS,GAAIoC,GAM1C/C,EAAOnV,IAAI,WAAY,WACnBsZ,IAAWE,qBAAqB1D,EAAS,kDCpCzD,WAGI,GAAIpG,GAAaxM,QAAQ9E,OAAO,qBAEhCsR,GAAW+J,QAAQ,YACf,aAAU,WAAY,SAAQ1Z,EAAAmC,GAoC1B,QAAAwX,GAAwBC,GACpB,MAAOC,GAAWD,GAGtB,QAAAE,GAAsBC,GAClB,GAAIC,GAAMvb,OAAOwb,uBAA+Bxb,OAAQyb,0BAAkCzb,OAAQ0b,6BAC9F,SAASJ,GAAK,MAAOtb,QAAO8R,WAAWwJ,EAAI,IAE/C,OAAOC,GAAID,GAGf,QAAAK,KACI,GAAIvF,GAASpW,OAAO4b,sBAA8B5b,OAAQ6b,yBAAiC7b,OAAQ8b,4BAC/F9b,OAAO+b,YACX,OAAO,UAAStV,GAAK,MAAO2P,GAAO3P,IAGvC,QAAAuV,GAAwB1b,GACpB,GAAI2b,GAAM3b,EAAE4b,QAAU5b,EAAE6b,UACpBF,GAAIG,eAAeT,IACvBM,EAAIG,cAAgBf,EAAa,WAC7B,GAAIgB,GAAUJ,EAAIK,iBAClBD,GAAQE,oBAAoBC,QAAQ,SAASlB,GACzCA,EAAGna,KAAKkb,EAAS/b,OAK7B,QAAAmc,GAAoBnc,GAChBH,KAAKuc,gBAAgBC,YAAYL,kBAAoBnc,KAAKyc,kBAC1Dzc,KAAKuc,gBAAgBC,YAAYE,iBAAiB,SAAUb,GAGhE,QAAAjB,GAA2BxR,EAAS+R,GAChC,IAAK/R,EAAQgT,oBAET,GADAhT,EAAQgT,uBACJO,EACAvT,EAAQ+S,kBAAoB/S,EAC5BA,EAAQuT,YAAY,WAAYd,OAE/B,CACyC,UAAtCe,iBAAiBxT,GAASyI,WAAsBzI,EAAQyT,MAAMhL,SAAW,WAC7E,IAAIiL,GAAW1T,EAAQ+S,kBAAoBY,SAASC,cAAc,SAClEF,GAAIG,aAAa,QAAS,wIAC1BH,EAAIL,kBAAoBrT,EACxB0T,EAAII,OAASZ,EACbQ,EAAIK,KAAO,YACPC,GAAMhU,EAAQiU,YAAYP,GAC9BA,EAAI7X,KAAO,cACNmY,GAAMhU,EAAQiU,YAAYP,GAGvCQ,IACInC,GAAI/R,EAAQgT,oBAAoBxQ,KAAKuP,GACzC/R,EAAQgT,oBAAoBxQ,KAAK0R,GAGrC,QAAAzC,GAA8BzR,EAAS+R,GAC/BA,GAAI/R,EAAQgT,oBAAoBxG,OAAOxM,EAAQgT,oBAAoBpO,QAAQmN,GAAK,GAC/E/R,EAAQgT,oBAAoBnb,SACzB0b,EAAavT,EAAQmU,YAAY,WAAY1B,IAE7CzS,EAAQ+S,kBAAkBI,gBAAgBC,YAAYgB,oBAAoB,SAAU3B,GACpFzS,EAAQ+S,mBAAqB/S,EAAQqU,YAAYrU,EAAQ+S,qBAKrE,QAAAuB,KACI9L,EAAElG,KAAKiS,EAAO,SAAU/b,EAAMoZ,GAC1BpJ,EAAE,QAAQoJ,EAAO,WAAY,eAAe,OAASpZ,KAI7D,QAAA0b,KACIM,EAAehM,EAAE,aAAaiM,aAC9BF,EAAU,GAAIC,GAAgB3C,EAAe,GAAE,GAC/C0C,EAAM,SAAWC,GAAgB3C,EAAe,GAAE,GAClD0C,EAAU,GAAIC,GAAgB3C,EAAe,GAAE,IAAM2C,GAAgB3C,EAAe,GAAE,GACtF0C,EAAM,SAAWC,GAAgB3C,EAAe,GAAE,GAClD0C,EAAU,GAAIC,GAAgB3C,EAAe,GAAE,IAAM2C,GAAgB3C,EAAe,GAAE,GACtF0C,EAAM,SAAWC,GAAgB3C,EAAe,GAAE,GAClD0C,EAAU,GAAIC,GAAgB3C,EAAe,GAAE,IAAM2C,GAAgB3C,EAAe,GAAE,GACtF0C,EAAM,SAAWC,GAAgB3C,EAAe,GAAE,GAClD0C,EAAU,GAAIA,EAAM,SAEpBD,IAEAna,EAAS,WACLnC,EAAW0c,WA3HnB,GAAIF,GAAe,KACfD,GACII,IAAM,EACNC,SAAS,EACTC,IAAM,EACNC,SAAS,EACTC,IAAM,EACNC,SAAS,EACTC,IAAM,EACNC,SAAS,EACTC,IAAM,GAEVtD,GACI8C,IAAO,EAAG,KACVE,IAAO,IAAK,MACZE,IAAO,KAAM,MACbE,IAAO,KAAM,MACbE,IAAO,KAAM,MAEjB5B,EAAoBI,SAAUJ,YAC9BS,EAAOhL,UAAUC,UAAUjD,MAAM,UAErC,OAAO,UAAU4L,GACb,MAAIA,GACO2C,EAAM3C,IAGTJ,kBAAmBA,EACnBC,qBAAsBA,EACtBE,cAAeA,mCCpCvC,WACI,YAEA,IAAIhK,GAAaxM,QAAQ9E,OAAO,sBAEhCsR,GAAWrH,UAAU,YAAa,WAC/B,OACIV,SAAU,KACVG,KAAM,SAASqN,EAAQW,EAAUV,GAC5BU,EAAS+B,SAAS,8CCPlC,WACI,YAsCA,SAAAsF,GAA4BhI,EAAaW,EAAUV,GA0B/C,QAAA8C,GAAgBkF,GACZ,GAEIC,GADApH,EAAQ1F,EAAE,aAAa0F,OAK3B,IAFA/R,QAAQoZ,IAAI,QAASrH,GAEjBA,EAAQ,IAAK,CACbA,GAAgB,EAEhB,IAAIsH,GAAUnR,KAAKuM,MAAM1C,EAAQuH,EACjCH,IAAkBG,EAAc,IAAMD,EAAU,GAE5CF,EAAiBpH,IACjBsH,IACAF,GAAkBG,EAAc,IAAMD,EAAU,IAGhDA,EAAU,GACVF,EAAiBpH,EACjBwH,EAAM9G,IAAI,QAAS0G,EAAiB,OAEpCI,EAAM9G,IAAI,QAAS6G,EAAc,MAIrCE,EAAU/G,IAAI,QAAU0G,EAAiB,GAAM,MAC/CK,EAAU5F,YAAY,kBAEtB7B,IAAgB,GAChBoH,EAAiBpH,EAEjBwH,EAAM9G,IAAI,QAAS0G,EAAiB,MAEpCK,EAAU/G,IAAI,QAAU0G,EAAiB,GAAM,MAC/CK,EAAU7F,SAAS,eAInB8F,GAAsBN,GAAkBD,KACxCO,EAAqBN,EACrBO,EAAQC,SAGR1I,EAAO5O,WAAW,qBArE1B,GACIiX,GAAcpI,EAAOoI,YAAcpR,KAAKuM,MAAMvD,EAAOoI,aAAe,IACpEE,EAAY5H,EAASW,SAAS,wBAC9BkH,EAAqB,KACrBC,EAAUE,QAAQla,KAAK8Z,EAAU,GAGrC5H,GAAS+B,SAAS,YAGlB,IAAI4F,GAAQlN,EAAE,qCACdkN,GAAMM,SAASL,GAGfvI,EAAOnV,IAAI,mBAAoB,WAC3BkY,GAAO,KAIXA,GAAO,GAwDX,QAAA8F,GAA0B1X,GACtB,MAAa,OAATA,MACCA,IACLA,EAAQA,EAAMgG,WAAWc,cACT,KAAT9G,GAAyB,QAATA,IApH3B,GAAIoJ,GAAaxM,QAAQ9E,OAAO,mBAAoB,cAEpDsR,GAAWrH,UAAU,WAAY,WAC9B,OACIV,SAAU,KACVrE,OAAO,EACP2a,YAAY,EACZpI,SACI,SAASC,EAAUV,GACf,MAAI4I,GAAiB5I,EAAO8I,aAChB1P,SACN,wQAMKA,SACD,8LAMlB0G,YAAY,SAAS,SAAWC,GAC3BA,EAAOgJ,cACHC,OAAQ,EACRC,YAAY,EACZC,eAAe,EACfC,mBAAoB,KAG7BzW,KAAMqV;;;ClC5CjB,SAAAjf,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAuS,MAAAjT,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,ImCOA,WACI,YAEA,IAAIuR,GAAaxM,QAAQ9E,OAAO,cAEhCsR,GAAW9N,KAAK,aAAS,WAAY,SAAQ7B,EAAAye,GAEzCze,EAAWC,IAAI,oBACX,SAASC,EAAOC,EAASC,EAAUC,EAAWC,GAE1C,GAAIoe,GAAgBlO,EAAE,aAElBkO,GAAc7e,OAAS,IACvB6e,EAAc3G,YAAY,0BAC1B2G,EAAc3G,YAAY,uBACtB5X,EAAQK,MAAQH,EAAUG,OACtBie,EAASE,kBAAkBxe,EAASE,GACpCqe,EAAc5G,SAAS,0BAEvB4G,EAAc5G,SAAS,8BAU/CnI,EAAWjI,SAAS,WAAY,WAe5B,QAAAkX,GAA+BC,GAC3B,IAAKzd,EAAEmW,QAAQsH,IAAgC,GAAnBA,EAAShf,OACjC,KAAM,IAAIJ,OAAM,sDAGpBqf,GAAoBtU,KAAKqU,GAG7B,QAAAF,GAA2Bxe,EAASE,GAChC,GAAIb,GAAGuf,EAASC,CAEhB,KAAKxf,EAAI,EAAGA,EAAIsf,EAAoBjf,OAAQL,IAIxC,GAHAuf,EAAUD,EAAoBtf,GAAGoN,QAAQzM,EAAQK,MACjDwe,EAAYF,EAAoBtf,GAAGoN,QAAQvM,EAAUG,MAEjDue,GAAU,EACV,MAAOA,GAAUC,CAIzB,QAAO,EAlCX,GAAIF,KAEJlgB,MAAKggB,sBAAwBA,EAE7BhgB,KAAKiI,KAAO,WACR,OACI8X,kBAAmBA;;;CnC3CnC,SAAAxgB,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAogB,UAAA9gB,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IoCOA,WACI,YAEA+E,SAAQ9E,OAAO,gBACX,aACA,cACA,oBACA,oBACA,6CCbR,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,kBAEhCsR,GAAW+J,QAAQ,eAAgB,WAE/B,GAAInW,GAAQ3E,IACZ2E,GAAM2b,WAAa,SAAUhf,GACzB,MAAIiD,SAAQgc,UAAUjf,EAAMkf,SACjBlf,EAAMkf,QAAQ,GAGhBjc,QAAQgc,UAAUjf,EAAMmf,gBAAkBlc,QAAQgc,UAAUjf,EAAMmf,cAAcD,SAC9Elf,EAAMmf,cAAcD,QAAQ,GAEhClf,KAKfyP,EAAWrH,UAAU,WACjB,aAAU,SAAY,YAAQ,UAAkB,eAAc,SAAAtI,EAAAkV,EAAAoK,EAAAxe,EAAAye,GAC1D,OAEI3X,SAAU,IACVG,KAAM,SAAUxE,EAAYyE,EAASC,GA+CjC,QAAAuX,KACIxX,EAAQyX,KAAK,gBAAiB,QAI9B,IAAIC,EAEAA,GADA1X,EAAQ,GAAG2X,iBACGxc,QAAQ6E,QAAQA,EAAQ,GAAG2X,iBAAiB,sBAE5C3X,EAAQmM,KAAK,qBAE3BuL,EAAY7f,SACZ+f,EAAcF,GAElBG,GAAgB,GAIZC,GADAC,GACkB5c,QAAQ6E,QAAQA,EAAQgY,UACnC/X,EAAMgY,mBACK9c,QAAQ6E,QAAQkY,GAAsB3c,IAEtCJ,QAAQ6E,QAAQvJ,QAI1C,QAAA0hB,GAAmB5Z,GACf,MAAa,OAATA,MACCA,IACLA,EAAQA,EAAMgG,WAAWc,cACT,KAAT9G,GAAyB,QAATA,IAG3B,QAAAsZ,GAAyBO,GAChBA,IAGL7c,EAAMtD,IAAI,WAAYogB,GACtB9c,EAAMqS,OAAO3N,EAAMqY,QAASC,GAC5Bhd,EAAMqS,OAAO3N,EAAMuY,gBAAiBC,GAEhCb,EAEAA,EAAY/H,GAAG6I,EAAcC,GAG7B3Y,EAAQ6P,GAAG6I,EAAcC,GAExBC,GAAkD,OAArC5Y,EAAQ,GAAG6Y,SAASxT,eAClCrF,EAAQ6P,GAAG,YAAa,WACpB,OAAO,KAKnB,QAAAwI,GAAmBD,GACfP,GAAgB,GAGpB,QAAAU,GAAwBO,EAAQC,GAC5BC,EAAe,EAGnB,QAAAP,GAAwBK,EAAQC,GACxB5d,QAAQgc,UAAU2B,KAClBG,EAAiBH,GAAU,QAGnC,QAAAI,GAA4BC,GACxB,MACIhe,SAAQgc,UAAUhc,QAAQ6E,QAAQmZ,EAAIxG,QAAQ8E,KAAK,oBAQ3D,QAAAkB,GAAiBQ,GACRH,IAEDE,EAAmBC,IAIP,aAAZA,EAAIpF,MAAqC,GAAdoF,EAAIC,SAKnCC,IAEIT,GACAU,IACAC,EAAchR,WAAW,WACrB+Q,IACAE,EAAYL,IACbM,GACHnC,EAAUzH,GAAG6J,EAAaJ,GAC1BhC,EAAUzH,GAAG8J,EAAgBL,IAE7BE,EAAYL,KAKpB,QAAAE,KACIO,EAAcxJ,KAAOpQ,EAAQ4O,IAAI,QAAU,EAC3CgL,EAAchR,IAAM5I,EAAQ4O,IAAI,QAAU,EAC1CgL,EAAcnR,SAAWzI,EAAQ4O,IAAI,YACrCgL,EAAc1L,MAAQlO,EAAQ4O,IAAI,SAGtC,QAAA0K,KACI9G,aAAa+G,GACbjC,EAAUuC,IAAIH,EAAaJ,GAC3BhC,EAAUuC,IAAIF,EAAgBL,GAGlC,QAAAE,GAAqBL,GACZH,IACLG,EAAI9e,iBAEJyf,EAAS9Z,EAAQ,GAAG+Z,wBAEhBC,EADAC,EACcH,GAEC1J,KAAMuD,SAASuG,KAAKC,WAAYvR,IAAK+K,SAASuG,KAAKvR,WAItE3I,EAAQoa,QAAUpa,EAAQ,GAAGqa,YAAc,EAC3Cra,EAAQsa,QAAUta,EAAQ,GAAGua,aAAe,EAE5CC,EAAMjD,EAAaL,WAAWiC,GAAKsB,MACnCC,EAAMnD,EAAaL,WAAWiC,GAAKwB,MACnCC,EAAOJ,EAAMV,EAAO1J,KACpByK,EAAOH,EAAMZ,EAAOlR,IAChBqQ,GACA6B,EAAMN,EAAMxa,EAAQoa,QAAUthB,EAAQiiB,YACtCC,EAAMN,EAAM1a,EAAQsa,QAAUxhB,EAAQmiB,cAEtCH,EAAMN,EAAMI,EAAO9hB,EAAQiiB,YAC3BC,EAAMN,EAAMG,EAAO/hB,EAAQmiB,aAG/B3D,EAAUzH,GAAG6J,EAAawB,GAC1B5D,EAAUzH,GAAG8J,EAAgBwB,GAK7BC,GAA8BpjB,EAAWC,IAAI,gCAAiC,SAAUC,EAAOmjB,GAC3FH,EAAOG,MAIf,QAAAH,GAAgB/B,GACPH,IACLG,EAAI9e,iBAEC2F,EAAQgR,SAAS,kBAClBsK,EAAQC,EAAYhgB,GACpByE,EAAQ8P,SAAS,gBACjB9X,EAAWwG,WAAW,mBAClBgd,EAAGhB,EACHiB,EAAGf,EACHgB,GAAIZ,EACJa,GAAIX,EACJ9iB,MAAOihB,EACPnZ,QAASA,EACTnE,KAAMyf,IAGNM,GACArgB,EAAMmZ,OAAO,WACTkH,EAAoBrgB,GAAQsgB,MAAOP,EAAOQ,OAAQ3C,OAK9DqB,EAAMjD,EAAaL,WAAWiC,GAAKsB,MACnCC,EAAMnD,EAAaL,WAAWiC,GAAKwB,OAE/BoB,GAAoBC,IACpBC,IAGAhD,GACA6B,EAAMN,EAAMxa,EAAQoa,QAAUJ,EAAY5J,KAC1C4K,EAAMN,EAAM1a,EAAQsa,QAAUN,EAAYpR,MAE1CkS,EAAMN,EAAMI,EAAOZ,EAAY5J,KAC/B4K,EAAMN,EAAMG,EAAOb,EAAYpR,KAGnCsT,EAAYpB,EAAKE,GAEjBhjB,EAAWwG,WAAW,kBAClBgd,EAAGhB,EACHiB,EAAGf,EACHgB,GAAIZ,EACJa,GAAIX,EACJ9iB,MAAOihB,EACPnZ,QAASA,EACTnE,KAAMyf,EACNa,IAAKC,EACLC,WAAYrC,KAIpB,QAAAmB,GAAmBhC,GACVH,IAELG,EAAI9e,iBACJrC,EAAWwG,WAAW,iBAClBgd,EAAGhB,EACHiB,EAAGf,EACHgB,GAAIZ,EACJa,GAAIX,EACJ9iB,MAAOihB,EACPnZ,QAASA,EACTnE,KAAMyf,EACNgB,SAAUC,EACVJ,IAAKC,IAETpc,EAAQ+P,YAAY,gBACpB/P,EAAQgY,SAAS7L,KAAK,mBAAmB4D,YAAY,kBACrD1S,IACAia,EAAUuC,IAAIH,EAAawB,GAC3B5D,EAAUuC,IAAIF,EAAgBwB,GAE1BqB,GACAjhB,EAAMmZ,OAAO,WACT8H,EAAmBjhB,GAAQsgB,MAAOP,EAAOQ,OAAQ3C,MAIzDiC,MAGJ,QAAAmB,GAAwBpD,GACfsD,GAELlhB,EAAMmZ,OAAO,WACT+H,EAAsBlhB,GAAQsgB,MAAOP,EAAOQ,OAAQ3C,MAI5D,QAAA9b,KACQ4c,EACAja,EAAQ4O,KAAK8N,UAAW,GAAIC,UAAW,GAAIC,oBAAqB,GAAIC,gBAAiB,KAErF7c,EAAQ4O,KAAKnG,SAAYmR,EAAcnR,SAAUG,IAAKgR,EAAchR,IAAKwH,KAAMwJ,EAAcxJ,KAAMuM,UAAW,GAAIzO,MAAO0L,EAAc1L,QAI/I,QAAAgO,GAAqBV,EAAGC,GACpB,GAAIqB,GAAS9c,EAAQ4O,IAAI,QACrBqL,GACAja,EAAQ4O,KACJ8N,UAAW,gDAAkDlB,EAAI,KAAOC,EAAI,UAC5EkB,UAAW,MACXC,oBAAqB,gDAAkDpB,EAAI,KAAOC,EAAI,UACtFoB,gBAAiB,sBAAwBrB,EAAI,KAAOC,EAAI,MAG5Dzb,EAAQ4O,KACJwB,KAAQoL,EAAI,KACZ5S,IAAO6S,EAAI,KACXhT,SAAY,QACZkU,UAAW,IACXzO,MAAO4O,IAKnB,QAAAb,KACI,GAAIc,GAAU,EAAGC,EAAU,EACvBlD,EAAS,SAAU9Z,GACf,MAAOA,GAAQ8Z,WAAa1J,KAAM,EAAGxH,IAAK,GAGlD,IAAImT,EAAkB,CAClB,GACIkB,GAAgBnD,EAAOhC,IAAiB1H,KACxCkF,EAAiBwC,GAAgBrD,aACjCyI,EAAiBD,EAAgB3H,CAEhCkF,GAAMyC,EAAiBE,EACxBJ,GAAWK,EAELF,EAAiB1C,EAAO2C,IAC9BJ,EAAUK,GAIlB,GAAIpB,EAAgB,CAChB,GACIqB,GAAevD,EAAOhC,IAAiBlP,IACvC0U,EAAkBxF,GAAgByF,cAClCC,EAAkBH,EAAeC,CAEhC5C,GAAM2C,EAAgBF,EACvBH,GAAWI,EAAiB,GAEtBI,EAAkB9C,EAAOyC,IAC/BH,EAAUI,EAAiB,IAGnC,GAAgB,IAAZL,GAA6B,IAAZC,EAAe,CAChC,GACIS,GAAsB3F,GAAgBqC,aACtCuD,EAAqB5F,GAAgBnP,WAEzCmP,IAAgBqC,WAAWsD,EAAsBV,GACjDjF,GAAgBnP,UAAU+U,EAAqBV,IA1WvDzhB,EAAMgD,MAAQ0B,EAAM0d,MACpB,IACI7D,GAA+BU,EAAKE,EAAKI,EAAKE,EAAKJ,EAAMC,EAKzDjD,EANA6B,EAAa,GACLR,GAAgB,EACxBL,EAAa,gBAAkBniB,SAAiBA,OAAQmnB,cACxDlF,EAAe,uBACfgB,EAAc,sBACdC,EAAiB,mBAIjByC,EAAQ7gB,EAAMsiB,IACdvC,EAAQ,KAERtB,EAAc,KAEdhB,GAAe,EAEfO,EAAc,KAEdK,KAEAgC,EAAsB1O,EAAOjN,EAAM6d,eAAiB,KACpDtB,EAAqBtP,EAAOjN,EAAM8d,cAAgB,KAClDtB,EAAwBvP,EAAOjN,EAAM+d,iBAAmB,KACxD/D,IAAiB9e,QAAQgc,UAAUlX,EAAMga,iBAAkB1e,EAAM0iB,MAAMhe,EAAMga,gBAE7EsB,EAAcrO,EAAOjN,EAAMie,aAE3BlC,EAAiB7D,EAAUlY,EAAMke,qBAAsB,EACvDpC,EAAmB5D,EAAUlY,EAAMme,uBAAwB,EAC3DjB,EAAqBtW,WAAW5G,EAAMoe,wBAA0B,GAChEjB,EAAiBvW,WAAW5G,EAAMqe,oBAAsB,GACxDvG,IAAe,EAEfD,GAAkB3c,QAAQ6E,QAAQvJ,QAClCyhB,GAAwBhL,EAAOjN,EAAMgY,oBAGrCmD,GAA8BjgB,QAAQojB,IAE1C/G,UA0UhB7P,EAAWrH,UAAU,WACjB,SAAU,WAAQ,UAAU,YAAkB,eAAc,SAAA4M,EAAA/S,EAAArB,EAAAwe,EAAAC,GAC5D,OACI3X,SAAU,IACVG,KAAM,SAAUxE,EAAYyE,EAASC,GAmBjC,QAAAuX,KACIK,GAAgB,GAGpB,QAAAA,GAAyBO,GAEhBA,IAEL7c,EAAMqS,OAAO3N,EAAMue,QAASjG,GAC5Bhd,EAAMtD,IAAI,WAAYogB,GACtB9c,EAAMtD,IAAI,kBAAmBwmB,GAC7BljB,EAAMtD,IAAI,iBAAkBymB,GAC5BnjB,EAAMtD,IAAI,gBAAiB0mB,IAG/B,QAAAtG,GAAmBD,GACfP,GAAgB,GAGpB,QAAAU,GAAwBO,EAAQC,GAC5B6F,EAAe9F,EAGnB,QAAA2F,GAAqBtF,EAAKzF,GACjBkL,IACLC,EAAWnL,EAAI8H,EAAG9H,EAAI+H,EAAG/H,EAAI1T,SAEzBC,EAAM6d,cACN3jB,EAAS,WACLyhB,EAAoBrgB,GAAQsgB,MAAOnI,EAAI7X,KAAMigB,OAAQpI,OAKjE,QAAAgL,GAAoBvF,EAAKzF,GAChBkL,IACLC,EAAWnL,EAAI8H,EAAG9H,EAAI+H,EAAG/H,EAAI1T,SAEzBC,EAAM6e,aACN3kB,EAAS,WACL4kB,EAAmBxjB,GAAQsgB,MAAOnI,EAAI7X,KAAMigB,OAAQpI,OAKhE,QAAAiL,GAAmBxF,EAAKzF,GAGpB,MAAKkL,IAAgBxC,IAAU1I,EAAIyI,KAK/B0C,EAAWnL,EAAI8H,EAAG9H,EAAI+H,EAAG/H,EAAI1T,WAEzB0T,EAAI4I,UACJ5I,EAAI4I,SAAS5I,GAGbzT,EAAM+e,gBACN7kB,EAAS,WACL8kB,EAAe1jB,GACXsgB,MAAOnI,EAAI7X,KACXigB,OAAQpI,EACRwL,QAAS3jB,EAAM0iB,MAAM1iB,EAAMgD,YAMvC0B,EAAM8d,aACN5jB,EAAS,WACLqiB,EAAmBjhB,GAAQsgB,MAAOnI,EAAI7X,KAAMigB,OAAQpI,UAI5DyL,IAAiB,EAAOzL,EAAI1T,cA3BxBmf,IAAiB,EAAOzL,EAAI1T,SA8BpC,QAAA6e,GAAoBO,EAAQC,EAAQC,GAChC,GAAIC,GAAWC,EAAQJ,EAAQC,EAM/B,OALA9jB,GAAMsjB,WAAaU,EACfA,IACAE,EAAiBzf,GAErBmf,EAAiBI,EAAUD,GACpBC,EAGX,QAAAJ,GAA0BI,EAAUD,GAC5BC,GACAvf,EAAQ8P,SAAS,kBACjBwP,EAAYxP,SAAS,kBACd2P,GAAkBzf,IACzByf,EAAiB,KACjBzf,EAAQ+P,YAAY,kBACpBuP,EAAYvP,YAAY,kBAIhC,QAAAyP,GAAiBhE,EAAGC,GAChB,GAAIiE,GAAS1f,EAAQ,GAAG+Z,uBAGxB,OAFAyB,IAAKlE,EAAU,GAAG4C,KAAKC,WAAa7C,EAAU,GAAGqI,gBAAgBxF,WACjEsB,GAAKnE,EAAU,GAAG4C,KAAKvR,UAAY2O,EAAU,GAAGqI,gBAAgBhX,UACzD6S,GAAKkE,EAAOtP,MACZoL,GAAKkE,EAAOE,OACZnE,GAAKiE,EAAOG,QACZpE,GAAKiE,EAAO9W,IA7HvBrN,EAAMgD,MAAQ0B,EAAMue,QACpBjjB,EAAMsjB,YAAa,CAEnB,IAAIY,GAAiB,KACjBrD,EAAQ7gB,EAAMsiB,IACde,GAAe,EAEfK,EAAiB/R,EAAOjN,EAAM+e,gBAC9BpD,EAAsB1O,EAAOjN,EAAM6d,cACnCtB,EAAqBtP,EAAOjN,EAAM8d,aAClCgB,EAAqB7R,EAAOjN,EAAM6e,YAEtCtH,UA4NZ7P,EAAWrH,UAAU,kBAAkB,SAAU,WAAQ,SAAQ4M,EAAA/S,GAC7D,OACIyF,SAAU,IACVG,KAAM,SAAUxE,EAAYyE,EAASC,GAMjC,QAAAuX,KACIxX,EAAQyX,KAAK,gBAAiB,SAC9BI,GAAgB,GAGpB,QAAAA,GAAyBO,GAEhBA,GAELpY,EAAQ6P,GAAG,sDAAuDiQ,GAGtE,QAAAA,GAAsB5nB,GAClB,GAAInB,GAAImB,EAAMmf,aAKd,OAJAtgB,GAAEsD,gBAAkBtD,EAAEsD,iBACtBtD,EAAEgpB,iBAAmBhpB,EAAEgpB,kBACvBhpB,EAAEipB,cAAe,EACjBjpB,EAAEkpB,aAAc,GACT,EAvBXzI,SA6BZ7P,EAAWrH,UAAU,gBAAiB,WAClC,OACIV,SAAU,IACVG,KAAM,SAAUxE,EAAOyE,EAASC,GAC5BD,EAAQmM,KAAK,KAAKsL,KAAK,kBAAmB,mDC1pB1D,WACI,YAEA,IAAI9P,GAAaxM,QAAQ9E,OAAO,gBAEhCsR,GAAWrH,UAAU,cAAc,WAAS,cAAU,SAAWnG,EAAA+lB,GAC7D,OACI3oB,QAAS,WACTwI,KAAM,SAAUqN,EAAaW,EAAUV,GAWnC,QAAA8S,KACI,GAAIC,GAAWC,EAAa,iBAAmB,wBAC/CC,GAAWvS,EAAS5B,KAAKiU,GACzBG,EAAiBD,EAASzoB,OAG1ByoB,EAASzQ,GAAG,QAAS,WACjB9B,EAAS+B,SAAS,yBAClBtH,EAAE5R,MAAMkZ,SAAS,gBAClBD,GAAG,WAAY,WACd9B,EAASgC,YAAY,2BAI7B,QAAAyQ,GAAyBzpB,GACrB,GAAI0pB,GAAU1pB,EAAE2pB,OAAS3pB,EAAE0pB,OAG3B,IAAIA,GAAWP,EAAYS,SAASC,YAChCH,GAAWP,EAAYS,SAASE,UAChCJ,GAAWP,EAAYS,SAASG,aAChCL,GAAWP,EAAYS,SAASI,WAAY,CAE5ChqB,EAAEsD,gBAEF,IACI2mB,GAAaP,GAAWP,EAAYS,SAASG,aAAeL,GAAWP,EAAYS,SAASI,WAAc,GAAI,EAC9GE,EAAgBX,EAASjR,MAAMiR,EAASrT,OAAO,gBAAkB+T,CAGjEC,IAAiB,GAAKA,EAAgBV,GACtCD,EAASW,GAAeC,SAzCpC,GAAIZ,GAAUC,EACVF,EAAahT,EAAO8T,aAExBhnB,GAASgmB,GACTpS,EAAS8B,GAAG,UAAW2Q,GAEvBpT,EAAOQ,OAAOP,EAAO+T,QAAS,WAC1BjnB,EAASgmB,KACV,oCCfnB,WACI,YAEA,IAAIxY,GAAaxM,QAAQ9E,OAAO,uBAEhCsR,GAAWrH,UAAU,qBACjB,aAAS,UAAY,YAAS,SAAiB,SAAAtI,EAAAc,EAAA+S,EAAAqB,GAC3C,GAAImU,GAAwB,GAE5B,QACI9lB,OACI+lB,kBAAmB,IACnBrJ,mBAAoB,IACpBqG,kBAAmB,IACnBiD,kBAAmB,IACnBC,2BAA4B,IAC5BC,wBAAyB,KAE7B1hB,KAAM,SAASqN,EAAaW,EAAUV,GAWlC,QAAAqD,GAAgB1Q,GAEZ,MADAA,GAAUA,EAAQ,IAAMA,EACpB0hB,MAAM1hB,EAAQua,cACPva,EAAQ2T,SAASgM,gBAAgBgC,aAEjC3hB,EAAQua,aAIvB,QAAAqH,GAAmB5hB,GACf,GAAKA,EAAQ,GAAG+Z,wBAAyB/Z,EAAQ4O,IAAI,QAGrD,MAAO5O,GAAQ,GAAG+Z,wBAAwBnR,IAAMqS,EAAYjb,GAGhE,QAAAib,GAAqBjb,GAEjB,MADAA,GAAUA,EAAQ,IAAMA,EACpB0hB,MAAMjrB,OAAOwkB,aACNjb,EAAQ2T,SAASgM,gBAAgBhX,UAEjC3I,EAAQ6hB,cAAczO,YAAY6H,YAyDjD,QAAA6G,GAA8BC,GAC1B,MAAO3E,GAAiBvW,WAAWkb,IAAM,EAK7C,QAAAC,GAA8BD,GAE1B,GADAE,GAAiBF,EACbE,GAAiBC,EAEjB,MADAA,IAAmB,EACZC,IAMf,QAAAC,GAAuCL,GACnC,MAAOM,GAAoBN,EAK/B,QAAAO,GAAyBC,GAMrB,GALuB,MAAnBzK,GACAA,EAAgB0K,OAAO,SAAUL,GAGrCrK,EAAkByK,EACE,MAAhBA,EACA,MAAOzK,GAAgB2K,KAAK,SAAUN,GAS9C,QAAAO,GAA+BH,GAC3B,GAAqB,MAAhBA,GAAiD,IAAxBA,EAAa1qB,OAA3C,CAWA,GARI0qB,YAAwBI,aACxBJ,EAAepnB,QAAQ6E,QAAQuiB,GACO,kBAAxBA,GAAaK,OAC3BL,EAAepnB,QAAQ6E,QAAQuiB,EAAaA,EAAa1qB,OAAS,IACnC,gBAAjB0qB,KACdA,EAAexU,EAAS8U,UAAU1W,KAAKoW,IAGvB,MAAhBA,KAA0BO,MAAMvT,QAAQgT,IACvCO,MAAMvT,QAAQgT,IAAiBA,EAAa1qB,OAAS,GACtD,MAAOyqB,GAAgBC,EAEvB,MAAM,IAAI9qB,OAAM,4CA9IxB,GAEIqgB,GADAoK,EAAmB,KAEnBa,GAAiB,EACjB3F,EAAiB,KACjB6E,EAAgB,KAChBe,EAA0B,KAC1BX,GAAoB,EACpBY,EAAgB9nB,QAAQ6E,QAAQlH,GA2BhCqpB,EAAoB,WACpB,GACI3E,GACA0F,EACAC,EACAC,EACAC,CAqBJ,OAnBIvL,KAAoBmL,GACpBzF,EAAkB9M,EAAOoH,GAAmBmD,EAAYnD,EAAgB,GAAGnE,SAASgM,iBACpFwD,EAAgBvB,EAAU7T,GAAY2C,EAAO3C,KAE7CyP,EAAkB9M,EAAOoH,GACzBoL,EAAqB,EACc,SAA/BtB,EAAU9J,KACVoL,EAAqBtB,EAAU9J,IAEnCqL,EAAgBvB,EAAU7T,GAAYmV,EAAqBxS,EAAO3C,IAGlEsU,IACAc,EAAgBzS,GAAQ3C,EAAS,GAAG8T,eAAiB9T,EAAS,GAAG4F,UAAUgM,kBAG/EyD,EAAYD,EAAgB3F,EAC5B6F,EAAeD,GAAa1S,EAAOoH,GAAmBsF,EAAiB,EAEnEiG,GACAnB,GAAmB,EACfD,EACI7U,EAAOkW,SAAWtrB,EAAWsrB,QACtBlW,EAAOkU,oBAEPlU,EAAOsH,OAAOtH,EAAOkU,mBAJpC,QAQOY,GAAmB,EAsFlC,OAlF6B,OAAzBb,IACAc,EAAoB/oB,EAAEmqB,SAASpB,EAAmBd,IAGtDjU,EAAOnV,IAAI,WAAY,WAEnB,GADA6f,EAAgB0K,OAAO,SAAUL,GACF,MAA3Ba,EAEA,MADAA,KACOA,EAA0B,OAOzC5V,EAAOQ,OAAO,oBAAqBkU,GACnCA,EAAqB1U,EAAOkR,mBAS5BlR,EAAOQ,OAAO,oBAAqBoU,GACnCA,EAAqB5U,EAAOmU,mBAK5BnU,EAAOQ,OAAO,6BAA8BwU,GAC5CA,EAA8BhV,EAAOoU,4BAarCc,EAAgBW,GACZ7V,EAAOqU,0BACPuB,EAA0BhrB,EAAWC,IAAImV,EAAOqU,wBAAyBU,IAsB7E/U,EAAOQ,OAAO,qBAAsB,SAAU2U,GACtCA,IAAiBzK,GACjB4K,EAAsBH,KAE9BG,EAAsBtV,EAAO6K,wBAEC,MAA1B5K,EAAOmW,iBACPlB,EAAgBnnB,QAAQ6E,QAAQ+N,EAASiK,WAER,MAAjC3K,EAAOoW,yBACPV,EAAiB3V,EAAO6Q,MAAM5Q,EAAOoW,yBAGlC5X,EAAU,WACb,GAAIkX,EACA,MAAOZ,MAEX,EAAG,oCCvL3B,WACI,YAEA,IAAIxa,GAAaxM,QAAQ9E,OAAO,iBAEhCsR,GAAWrH,UAAU,eAAc,SAAU,cAAQ,WAAa,SAAQ4M,EAAAgT,EAAA/lB,GACtE,OACIyF,SAAU,IACVrE,OAAO,EACPwE,KAAM,SAAUqN,EAAaW,EAAUV,GA+CnC,QAAA8K,GAAmB5Z,GACf,MAAa,OAATA,MACCA,IACLA,EAAQA,EAAMgG,WAAWc,cACT,KAAT9G,GAAyB,QAATA,IAK3B,QAAAmlB,GAAoBC,GAEhB,GADAxnB,QAAQoZ,IAAI,eACRqO,EAAJ,CACA,GAAIC,GAAYF,EAAWE,UACvBC,EAASH,EAAWG,OACpBjhB,EAAQ8gB,EAAW9gB,OAASkL,EAAS5B,KAAK4X,EAAYC,GACtDC,EAAcphB,EAAMhL,OACpBiL,EAAQ,WACJ,MAAI6gB,GAAW7gB,KAAa6gB,EAAW7gB,MACrBpH,SAAdmoB,GAA2BA,KAAc,IACzCA,EAAYhhB,EAAMwM,MAAMxM,EAAMoK,OAAO,WAAa6W,EAAS,OAE3DD,GAAa,GAAKA,EAAYI,EACvBphB,EAAMghB,GADjB,WAIJK,EAAaP,EAAWO,UAExBphB,KACAiL,EAAS5B,KAAK4X,GAAWhU,YAAY,uBACrCjN,EAAO3H,QAAQ6E,QAAQ8C,GAClBgN,SAAS,uBACToR,QACAiD,GAAUC,EAAathB,GACxBohB,GAAYG,EAAoBxhB,KAI5C,QAAAwhB,GAA6BxhB,GAgBzB,QAAAyhB,KACI,GAAIC,GAAeppB,QAAQ6E,QAAQ6C,EAAM2hB,IACrCC,EAAaF,EAAa9M,KAAK,SAE/BiN,IAAaA,EAAYtX,EAAQoX,GACjCG,GAAUA,EAASvX,EAAQqX,GAC3BG,GACAA,EAAaxX,GACT0O,QACInJ,OAAQ5E,EACRjL,KAAMyhB,EACNlV,MAAOmV,EACPtnB,GAAIunB,EACJI,SAAUL,EACVM,SAAUC,KA7B1B,GAAIA,GAAmBP,CACvBA,IAAgB,CAChB,KAAK,GAAInV,GAAQ,EAAGA,EAAQxM,EAAMhL,OAAQwX,IACtC,GAAI7G,EAAE3F,EAAMwM,IAAQ2B,SAAS,YAAa,CACtCwT,EAAgBnV,CAEhB,OAKJ0V,GAAoBP,GAAiBA,KAAkB,GACvDpX,EAAOsH,OAAO4P,GAwBtB,QAAAF,GAAsBY,GAClB,IAAIb,EAAJ,CAEA,GACI9G,GAAetP,EAAS+L,SAASlR,IACjC0U,EAAkBvP,EAAS2C,SAC3B8M,EAAkBH,EAAeC,EACjC2H,EAAUD,EAAMlL,SAASlR,IACzBsc,EAAaF,EAAM1T,aAAY,GAC/B6T,EAAaF,EAAUC,EACvBxH,EAAqB3P,EAASpF,WAE9Bib,IAAa,EACbrb,WAAW,WACPqb,GAAa,GACd,KAEHvG,EAAe4H,EACflX,EAASpF,UAAU+U,EAAqBuH,EAAU5H,GAE7CG,EAAkB2H,GACvBpX,EAASpF,UAAU+U,EAAqByH,EAAa3H,IA7I7D,GACI4H,GAAc/X,EAAOgY,YAAcnY,EAAOG,EAAOgY,aAAe,KAChEX,EAAcU,EAAcA,EAAYzX,OAAS,KACjD2X,EAAWjY,EAAOkY,cAAgBrY,EAAOG,EAAOkY,eAAiB,KACjEZ,EAAWW,EAAWA,EAAS3X,OAAS,KACxCiX,EAAevX,EAAOmY,UAAYtY,EAAOG,EAAOmY,WAAa,KAC7DC,EAAmBpY,EAAOqY,mBAAqBxY,EAAOG,EAAOqY,oBAAsB,KACnFvB,EAAWhM,EAAU9K,EAAOsY,aAC5B3B,EAAW7L,EAAU9K,EAAOuY,eAAiB,WAAa,GAC1D7B,EAAY5L,EAAU9K,EAAOwY,aAAe,uBAAyB,kBACrErB,EAAgBY,EAAYhY,GAC5B0Y,EAAwB/X,EAAS0J,KAAK,YACtCsO,EAAmB1Y,EAAO0Y,iBAC1BnC,GAAa,CAGjB7V,GAAS0J,KAAK,WAAYqO,GAAyB,GAG9C3N,EAAU9K,EAAOwY,aAKlBzY,EAAOQ,OAAO0X,EAAU,SAASU,GAC7Bzd,WAAW,WACPmb,GAAYI,OAAQkC,EAAe9B,YAAY,KAChD,KAPP9W,EAAOQ,OAAOwX,EAAa,SAASa,GAChCvC,GAAYG,UAAWoC,MAW3BF,GACA3Y,EAAOQ,OAAOmY,EAAkB,WAE5Bxd,WAAW,WACPic,EAAgBY,EAAYhY,GAC5BsW,GAAYG,UAAWW,KACxB,OAKXd,GAAYG,UAAWW,EAAe3hB,MAAOkL,EAAS5B,KAAK4X,KAuG3DhW,EAAS8B,GAAG,mBAAoBkU,EAAW,SAAU7rB,GACjDwrB,GAAY5gB,KAAM5K,EAAMguB,cAAehC,YAAY,MAGvDnW,EAAS8B,GAAG,UAAW,SAAU9Y,GAC7B,GAAI0pB,GAAU1pB,EAAE2pB,OAAS3pB,EAAE0pB,OAG3B,IAAIA,GAAWP,EAAYS,SAASwF,OAAS1F,GAAWP,EAAYS,SAASyF,MACzErvB,EAAEsD,iBACFtD,EAAEgpB,kBAEE0F,GACAA,EAAiBrY,GACb0O,QACInJ,OAAQ5E,EACRsB,MAAOmV,EACP1hB,KAAMiL,EAAS5B,KAAK,oBAMpC,IAAIsU,GAAWP,EAAYS,SAASC,YAAcH,GAAWP,EAAYS,SAASG,aAC9EL,GAAWP,EAAYS,SAASE,UAAYJ,GAAWP,EAAYS,SAASI,WAAY,CAExFhqB,EAAEsD,iBACFtD,EAAEgpB,iBAGF,IAAIld,GAAQkL,EAAS5B,KAAK4X,EAAYC,GAClCqC,EAAO5F,GAAWP,EAAYS,SAASG,aAAeL,GAAWP,EAAYS,SAASI,WAAc,GAAI,EACxGkF,EAAmBzB,EAAgB6B,CAGvC3C,IAAYG,UAAWoC,EAAkBpjB,MAAOA,EAAOqhB,YAAY,OAI3EnW,EAAS8B,GAAG,UAAW,SAAU3X,GAE7B,GAAI2K,GACA0hB,EAAexW,EAAS5B,KAAK4X,EAAY,YAE7CQ,GAAazU,SAAS,cAGM,IAAxByU,EAAa1sB,SACb2sB,EAAgBY,EAAYhY,GAC5BvK,EAAQkL,EAAS5B,KAAK4X,EAAYC,GAClCN,GAAYG,UAAWW,GAAiB,EAAG3hB,MAAOA,EAAOqhB,YAAY,OAI7EnW,EAAS8B,GAAG,WAAY,SAAU3X,GAC9B6V,EAAS5B,KAAK4X,EAAY,cAAgBC,GAAUjU,YAAY,iDCxNpF,WACI,YAEA,IAAIpI,GAAaxM,QAAQ9E,OAAO,uBAEhCsR,GAAWrH,UAAU,qBAAqB,UAAU,aAAS,SAAUxH,EAAAd,GACnE,OACI4H,SAAU,KACVrE,OACI+qB,wBAAyB,8BACzBC,sBAAuB,4BACvBC,WAAY,gCAEhBzmB,KAAM,SAASqN,GAEXtU,EAAQ2tB,eAAiB,WACrB,GAAIrZ,EAAOkZ,0BAEP,MADAtuB,GAAW0uB,UAAW,EACftZ,EAAOmZ,sBAItB,IAAII,GAAavZ,EAAOnV,IAAI,oBAAqB,SAASC,GAClDkV,EAAOkZ,4BAA8BxtB,EAAQ8tB,QAAQxZ,EAAOmZ,wBAC5DvuB,EAAW0uB,UAAW,EACtBxuB,EAAMmC,kBAENjB,EAAEytB,WAAWzZ,EAAOoZ,aAAepZ,EAAOoZ,cAIlDpZ,GAAOnV,IAAI,WAAY,WACnBa,EAAQ2tB,eAAiB,KACzBE;;;CzCnCpB,SAAAxwB,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAypB,SAAAnqB,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,I0CEA,WACI,YAEA,IAAIuR,GAAaxM,QAAQ9E,OAAO,kBAAoB,yBAEpDsR,GAAWrH,UAAU,iBACjB,WACI,OACIV,SAAU,KACVrE,OACIwT,WAAY,IACZ+X,OAAQ,aACRC,aAAc,WACdC,YAAa,aAEjB7X,YAAa,iCACbhC,WAAY,8BAIxBxF,EAAWwF,WAAW,4BAClB,SAAU,WAAQ,SAAU,WAAgB,SAAAC,EAAAW,EAAAV,EAAAlT,GACxC,GACI8sB,IAAkB,SAAU,aAAc,QAAS,UAAW,OAAQ,SAAU,OAEpF7Z,GAAOkC,MAAQjC,EAAOiC,OAAS,KAE1BlC,EAAO0Z,QAAU1tB,EAAEmW,QAAQnC,EAAO0Z,SAAoC,IAAzB1Z,EAAO0Z,OAAOjvB,UAC5DuV,EAAO0Z,OAASG,GAGpB7Z,EAAO2Z,aAAe3Z,EAAO2Z,cAAgB3Z,EAAO0Z,OAAO,GAC3D1Z,EAAO8Z,kBAAoB9Z,EAAO0Z,OAAOliB,QAAQwI,EAAO2Z,cAExD3Z,EAAOsC,SAAW,WACd,OAAItC,EAAO2B,YACA3B,EAAO2B,cAMtB3B,EAAO+Z,YAAc,SAAU9X,GACvBjC,EAAOsC,aAGXtC,EAAO8Z,kBAAoB7X,EAE3BjC,EAAO2Z,aAAe3Z,EAAO0Z,OAAO1Z,EAAO8Z,mBAE3C/sB,EAAS,WACLiT,EAAOsH,WAGPtH,EAAO4Z,aACP5Z,EAAO4Z,gBAIf5Z,EAAOuC,gBAAkB,SAAUzX,GAC/BkV,EAAO+Z,YAAYjvB,EAAMmX,uCC5DzC,WACI,YAEAlU,SAAQ9E,OAAO,eACX,cACA,iBACA,qBACA,aACA,iBACA,YACA,sDrBVR,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,2BAEhCsR,GAAWsF,OAAO,aAAa,YAAU,SAAS3Q,GAC9C,GAAIC,GAAeD,EAAUE,IAAI,gBAC3BF,EAAUG,IAAI,gBAAkB,IAEtC,OAAO,UAAUyD,GACb,MAAO3D,GAAgBA,EAAa4D,UAAUD,IAAQA,EAAMA,kCsBVxE,WACI,YAEA,IAAIyH,GAAaxM,QAAQ9E,OAAO,kBAAmB,kBAAmB,qBAAsB,0BAE5FsR,GAAWrH,UAAU,iBACjB,WACI,OACI/E,OACI6rB,YAAa,kBAEjBja,YAAY,SAAU,WAAQ,SAAU,SAAc,WAAY,YAAW,kBAAe,SAAAC,EAAAW,EAAAV,EAAAH,EAAA/S,EAAA0R,EAAAwb,GA2ExF,QAAAC,KACQja,EAAOka,gBAAena,EAAOga,YAAc/X,GAGnD,QAAAmY,KACIC,EAAe5b,EAAU,WACrBgZ,EAAWxV,EAAQ,IAAMqY,EAAO7vB,OAAS,EAAIwX,EAAQ,EACrDsY,EAAY,OACZC,KACDhb,GAAYib,GAGnB,QAAAC,KACIjc,EAAUgB,OAAO4a,GAQrB,QAAAM,KACID,IACAN,IAjGJ,GAAIE,GACW7C,EACX8C,EAIAF,EACAG,EANAvY,EAAQ,EAER0E,EAAO7G,EAAOG,EAAO2a,kBAAkB5a,GACvCya,EAAmB,KACnBjb,EAAWM,EAAOG,EAAO4a,sBAAsB7a,EAInDW,GAAS+B,SAAS,oBAClB/B,EAAS+B,SAAS,iBAAmBiE,GAErC3G,EAAO8a,WAAa,EAmBpBZ,IAEAntB,EAAS,WACLutB,EAAS3Z,EAAS5B,KAAK,wBACnBub,EAAO7vB,OAAS,GAChB2Q,EAAEkf,EAAO,IAAI5X,SAAS,cAI9B0X,IACAI,EAAYxuB,EAAEmqB,SAAS,WACnB8D,EAAgBc,QAAQpU,EAAM2T,EAAQrY,EAAOwV,EAAU8C,GACvDtY,EAAQwV,EACRyC,KACD,KAEHla,EAAOgb,UAAY,WACfL,IACAlD,EAAWxV,EAAQ,IAAMqY,EAAO7vB,OAAS,EAAIwX,EAAQ,EACrDsY,EAAY,OACZC,KAGJxa,EAAOib,UAAY,WACfN,IACAlD,EAAWxV,EAAQ,EAAI,EAAIqY,EAAO7vB,OAAS,EAAIwX,EAAQ,EACvDsY,EAAY,OACZC,KAGJxa,EAAOkb,QAAU,SAAUC,GACnBA,IAAclZ,GAASkZ,EAAYb,EAAO7vB,OAAS,IAIvDkwB,IACAlD,EAAW0D,EACXZ,EAAYY,EAAYlZ,EAAQ,OAAS,OACzCuY,MAGAva,EAAOnQ,IAAImqB,EAAgBmB,eAAenb,EAAOnQ,GAAIkQ,GAkBzDW,EAAS8B,GAAG,WAAY,WACpBiY,IACAT,EAAgBoB,aAAapb,EAAOnQ,uCCxG5D,WACI,YAEA,IAAIyK,GAAaxM,QAAQ9E,OAAO,4BAEhCsR,GAAW+J,QAAQ,mBACf,WAAU,SAAQvX,GAcd,QAAAuuB,GAAkBC,EAAUC,GACxBC,EAAQF,GAAYC,EAGxB,QAAAE,GAAgBH,SACLE,GAAQF,GAGnB,QAAAI,GAAmBJ,GACf,MAAOE,GAAQF,GAGnB,QAAAK,GAAsBZ,EAAWC,GAC7BD,EAAUtY,SAAS,YAEnB3V,EAAS,WACLiuB,EAAUtY,SAAS,YAAYA,SAAS,YAAYC,YAAY,YAChEsY,EAAUvY,SAAS,YAAYC,YAAY,aAC5C,KAGP,QAAAkZ,GAAsBb,EAAWC,GAC7BluB,EAAS,WACLiuB,EAAUtY,SAAS,YAAYA,SAAS,YACxCuY,EAAUvY,SAAS,YAAYA,SAAS,YAAYC,YAAY,aACjE,KAGP,QAAAoY,GAAiBpU,EAAM2T,EAAQ5C,EAAUyD,EAAWZ,GAChD,GAAIU,GAAY7f,EAAEkf,EAAO5C,IACrBoE,EAAaX,EACbH,EAAY5f,EAAEkf,EAAOwB,GAEZ,cAATnV,GACAvL,EAAEkf,GAAQ3X,YAAY,YAAYA,YAAY,YAAYA,YAAY,aAElE4X,GAA4B,SAAdA,GAAsC,SAAdA,EAOlCY,GAAaA,EAAYzD,EACzBmE,EAAab,EAAWC,GAExBW,EAAaZ,EAAWC,GATV,SAAdV,EACAsB,EAAab,EAAWC,GAExBW,EAAaZ,EAAWC,KAUhCA,EAAUvY,SAAS,YAAYC,YAAY,YAC3CqY,EAAUtY,SAAS,YAAYA,SAAS,aA/DhD,GACI+Y,KAEJ,QACIG,aAAcA,EACdC,aAAcA,EACdd,QAASA,EACTK,eAAgBE,EAChBD,aAAcK,EACdK,eAAgBJ,kCCjBhC,WACI,YAEA,IAAIphB,GAAaxM,QAAQ9E,OAAO,qBAEhCsR,GAAWrH,UAAU,kBACjB,WACI,OACI/E,SACA4R,YAAY,SAAU,WAAQ,SAAU,SAAc,kBAAiB,SAAAC,EAAAW,EAAAb,EAAAG,EAAAga,GACnE,GAAItT,GAAO7G,EAAOG,EAAO+b,eAAehc,GACpCub,EAAWzb,EAAOG,EAAOgc,aAAajc,EAE1CW,GAAS8B,GAAG,QAAS,WACZ8Y,GAAa5U,GAIlBsT,EAAgB8B,eAAeR,GAAU5U,EAAO,8CClBxE,WACI,YAEA,IAAIpM,GAAaxM,QAAQ9E,OAAO,wBAEhCsR,GAAWrH,UAAU,qBACjB,WACI,OACI/E,OAAO,EACP4R,YAAY,SAAU,WAAQ,SAAU,SAAc,kBAAiB,SAAAC,EAAAW,EAAAb,EAAAG,EAAAga,GACnE,GAAIsB,GAAWzb,EAAOG,EAAOgc,aAAajc,GACtCkb,EAAUpb,EAAOG,EAAOic,YAAYlc,EAExCW,GAASa,IAAI,SAAU,WACvBb,EAAS8B,GAAG,QAAS,YACZ8Y,GAAYL,GAAWA,EAAU,GAItCjB,EAAgB8B,eAAeR,GAAUL,QAAQA,sCCjBzE,WACI,YAEA,IAAI3gB,GAAaxM,QAAQ9E,OAAO,eAAgB,cAEhDsR,GAAW9N,KAAI,YAAU,SAASyC,GAC9B,GAAIC,GAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAE/EF,KACAA,EAAaG,gBAAgB,MACzB6sB,qBAAwB,eACxBC,UAAa,YACbC,UAAa,YACbC,SAAY,WACZnvB,SAAY,WACZovB,KAAQ,SAEZptB,EAAaG,gBAAgB,MACzB6sB,qBAAwB,YACxBC,UAAa,SACbC,UAAa,YACbC,SAAY,cACZnvB,SAAY,kBACZovB,KAAQ,cAKpBhiB,EAAWrH,UAAU,eACjB,SAAU,YAAQ,SAAS4M,EAAA5Q,GACvB,GAAIC,GAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAEnF,QACImD,SAAU,KACVrE,OAAO,EACPwE,KAAM,SAAUqN,EAAaW,EAAUV,GAMnC,QAAAuc,GAA6BC,GACzB,GAAIC,GAAe,GACfC,IAiBJ,OAfA3wB,GAAEkJ,KAAKunB,EAAO,SAAUG,GAChBA,EAAOjW,MAAwB,SAAhBiW,EAAOjW,OACM,IAAxB+V,EAAajyB,QAAgB0E,IAC7ButB,EAAevtB,EAAa4D,UAAU,yBAGtC4pB,EAAYnlB,QAAQolB,EAAOjW,MAAQ,IACnCgW,EAAYvnB,KAAKwnB,EAAOjW,MACxB+V,GAAgBC,EAAYlyB,OAAS,EAAI,KAAO,IAC5C0E,IACAutB,GAAgBvtB,EAAa4D,UAAU6pB,EAAOjW,WAKvD+V,EAGX,QAAA3R,GAAmB5Z,GACf,MAAa,OAATA,MACCA,IACLA,EAAQA,EAAMgG,WAAWc,cACT,KAAT9G,GAAyB,QAATA,IAG3B,QAAA0rB,GAAkB1rB,GACd,GAAI2rB,GAAYC,EAAWzZ,EAAQ0Z,EAAS1W,CAExCta,GAAEmW,QAAQhR,IACVmV,EAAMta,EAAE+S,KAAK5N,EAAO,SAAUuE,GAC1B,MAAqB,SAAdA,EAAKiR,MAAmBjR,EAAK1C,OAGxC8pB,EAAaxW,EAAMA,EAAItT,KAAOwpB,EAAoBrrB,IAElD2rB,EAAa3rB,EAGjB4rB,EAAY9c,EAAOgd,cAAgBjxB,EAAEkxB,SAASC,KAC9CJ,EAAYA,GAAaD,GAAcA,EAAWryB,OAAS,EAC3DuyB,GACII,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACRC,UAAU,EACVC,UAAU,EACVC,YAAY,EACZC,aAAa,GAEjBZ,EAAaa,OAAOb,GAAc,GAAIE,GAClCD,IACAzZ,EAAS,IAAM6Z,KAGnBxc,EAAS1N,KAAK,QAAU8pB,EAAYa,IAAe,qEACJta,EAAS,OAC9C,oDAAsDA,EAAS,OAASsa,IACxE,8BAAgC,KAAOd,EAAa,UAC9Dnc,EAAS5B,KAAK,KAAKsL,KAAK,SAAU,UAC7BuT,KAAgBb,GACjBpc,EAAS6U,OAAO,0CArExB,GACIxU,GAAalB,EAAOG,EAAOgB,SAC3B2c,EAAa9d,EAAOG,EAAO4d,SAC3BV,EAAcrd,EAAOG,EAAOgd,aAuEhCJ,GAAS7b,EAAWhB,IAGhB+K,EAAU9K,EAAO6d,YACjB9d,EAAOQ,OAAOQ,EAAY,SAAUU,GAChCmb,EAASnb,KAIjB1B,EAAOnV,IAAI,mBAAoB,WAC3BgyB,EAAS7b,EAAWhB,MAIxBW,EAAS+B,SAAS,iDC9HtC,WACI,YAEA,IAAInI,GAAaxM,QAAQ9E,OAAO,cAAe,sBAE/CsR,GAAWrH,UAAU,aAAc,WAC/B,OACIV,SAAU,KACVrE,OAAO,EACP4T,YAAa,uBACbhC,YAAY,SAAU,aAAQ,WAAY,WAAkB,WAAU,SAAAC,EAAApV,EAAA+V,EAAA5T,EAAAgxB,GA2BlE,QAAAhL,KACIiL,EAAgBtb,SAAS,UACzBtH,EAAE,yBAAyB0Y,QACvB9T,EAAO1U,OAAOiT,SACdxR,EAAS,WACLkxB,KACDje,EAAO1U,OAAOiT,SAIzB,QAAA2f,KACQle,EAAO1U,OAAO6yB,gBACdne,EAAO1U,OAAO6yB,iBAGlBF,IAGJ,QAAAA,KACID,EAAgBrb,YAAY,UAC5B5V,EAAS,WACLixB,EAAgBtC,UACjB,KAGP,QAAA0C,GAAwBC,GACpBA,EAAG1L,kBAGP,QAAAtX,KACI,GAAI2E,EAAO1U,OAAOsH,QAAS,CACvB,GAAIA,GAAUwI,EAAE4E,EAAO1U,OAAOsH,SAC1B0rB,EAAM1rB,EAAQ8Z,SACd5L,EAAQlO,EAAQkO,QAChBwC,EAAS1Q,EAAQ0Q,SACjBib,EAAWnjB,EAAEmL,UAAUzF,QACvB0d,EAAYpjB,EAAEmL,UAAUjD,SACxBmb,EAAUT,EAAgBjf,KAAK,eAE/Buf,IACAG,EACKjd,IAAI,YAAa+c,GAAYA,EAAWD,EAAItb,OAC5CxB,IAAI,aAAcgd,GAAaF,EAAI9iB,IAAM8H,GAAU,GAAI,GACvD9B,IAAI,OAAQ8c,EAAItb,KAAOyb,EAAQ3d,QAAUA,EAAQ,GACjDU,IAAI,MAAO8c,EAAI9iB,IAAM8H,EAAS,KAK/C,QAAAob,KACI,GAAI1e,EAAO1U,OAAOozB,cAAe,EAAjC,CAEA,GAAID,GAAUT,EAAgBjf,KAAK,gBAC/B4f,EAAQF,EAAQ1f,KAAK,cACrB6f,EAASH,EAAQ1f,KAAK,eACtB8f,EAAUJ,EAAQ1f,KAAK,gBACvB+f,EAAgBL,EAAQnb,SAAWqb,EAAMza,aAAY,GAAQ0a,EAAO1a,aAAY,EAEpF2a,GAAQrd,IAAI,aAAcvK,KAAK4M,IAAIib,EAAe,GAAK,MAAMtd,IAAI,aAAc,eAGnF,QAAAud,KACIf,EAAgBjf,KAAK,gBAAgBA,KAAK,gBAAgByC,IAAI,aAAc,QAC5EnG,IACAqjB,IA1FJ,GAAIV,GAAiBa,CAErBb,GAAkB5iB,EAAE,yBACpB4iB,EAAgBvb,GAAG,uBAAwByb,GAC3CF,EAAgBtb,SAAS1C,EAAO1U,OAAO0zB,cAAe,EAAQ,iBAAmB,IAEjFjyB,EAAS,WACLsO,IACI2E,EAAO1U,OAAOoV,WACdme,EAAUd,EAAS/d,EAAO1U,OAAOoV,UAAUV,GAC3CW,EAAS5B,KAAK,gBAAgByW,OAAOqJ,IAGzC9L,MAGJhmB,EAAS,WACL2xB,KACD,KAEH1e,EAAOoe,eAAiBA,EACxBpe,EAAShU,EAAEizB,SAASjf,EAAQA,EAAOkf,SAEnCt0B,EAAWC,IAAI,mBAAoBk0B,GACnC3jB,EAAE/R,QAAQ0Z,OAAOgc,qCCnCjC,WACI,YAEA,IAAIxkB,GAAaxM,QAAQ9E,OAAO,wBAEhCsR,GAAW+J,QAAQ,qBACf,WAAU,aAAU,WAAY,SAAQyZ,EAAAnzB,EAAAmC,GAYpC,QAAAoyB,GAAgBtrB,GACZ,GAAIjB,GAASzE,EAAO7C,EAAQuzB,CAE5BjsB,GAAUwI,EAAE,QACRxI,EAAQmM,KAAK,eAAetU,OAAS,IACzC20B,IACAjxB,EAAQvD,EAAWy0B,OACnB/zB,EAASuI,GAAK7H,EAAEgD,SAAS6E,GAAKA,KAC9B1F,EAAM7C,OAASA,EACf6C,EAAMmxB,OAASh0B,EAAOg0B,OACtBT,EAAUd,EAASwB,GAAiBpxB,GACpCyE,EAAQ4iB,OAAOqJ,IAGnB,QAAAO,KACI,GAAIpB,GAAkB5iB,EAAE,wBAExB4iB,GAAgBrb,YAAY,UAC5B5V,EAAS,WACLixB,EAAgBtC,UACjB,KAGP,QAAAqD,KACIn0B,EAAWwG,WAAW,oBAnC1B,GAAImuB,EAKJ,OAHAA,GAAkB,gKAIdxe,KAAMoe,EACNve,KAAMwe,EACNrc,OAAQgc,mCCfxB,WACI,YAEA,IAAIxkB,GAAaxM,QAAQ9E,OAAO,sBAAuB,cAEvDsR,GAAWrH,UAAU,qBAAsB,WACvC,OACIV,SAAU,KACVqD,SAAS,EACT1H,OACQqxB,aAAc,IACdC,QAAS,KAEjB1d,YAAa,iCACbhC,WAAY,kCAIpBxF,EAAWwF,WAAW,gCAClB,SAAU,WAAQ,SAAU,SAAMC,EAAAW,EAAAV,GAO9B,QAAAyf,KACQ1f,EAAOyf,SACPE,EAAMtV,KAAK,MAAOrK,EAAOyf,SARjC,GAAKE,GAAQhf,EAASW,SAAS,MAE/Boe,qCCtBZ,WACI,YACA,IAAInlB,GAAaxM,QAAQ9E,OAAO,aAAc,aAAc,yBAE5DsR,GAAWwF,WAAW,sBAClB,SAAU,WAAQ,QAAU,YAAgB,SAAAC,EAAA4f,EAAAC,EAAA3wB,GACxC,GAAI4wB,GAAwB5wB,EAAUE,IAAI,yBACpCF,EAAUG,IAAI,yBAA2B,IAM/C2Q,GAAO3R,QAAUwxB,EAAMxxB,QACvB2R,EAAO+f,QAAUF,EAAME,QACvB/f,EAAO6f,MAAQA,EAEc,IAAzBA,EAAME,QAAQt1B,OACduV,EAAOggB,aAAe,EACU,IAAzBH,EAAME,QAAQt1B,OACrBuV,EAAOggB,aAAeH,EAAME,QAAQ,GAAG5oB,WAAW1M,OAElDuV,EAAOggB,aAAe,KAG1BhgB,EAAOigB,YAAuC,MAAzBH,EACrB9f,EAAOkgB,UAAY,WACfN,EAAShf,OAELkf,GACAA,EAAsB/e,MAEdnT,MAAOoS,EAAO6f,MAAMjyB,MACpBuyB,GAAI,MAERpyB,QAAQojB,KACRpjB,QAAQojB,OAKpBnR,EAAOogB,SAAW,SAAUC,GACxBT,EAAShf,MAEDyf,OAAQA,EACRvwB,GAAI+vB,EAAM/vB,GACVzB,QAASwxB,EAAMxxB,cAMnCkM,EAAW+J,QAAQ,aACf,aAAU,WAAY,SAAQ1Z,EAAAg1B,GA6B1B,QAAAU,KACI,GAAIT,EAEAU,GAAO91B,OAAS,IAChBo1B,EAAQU,EAAO,GACfA,EAAOnhB,OAAO,EAAG,GACjBohB,EAAUX,IAKlB,QAAAW,GAAmBX,GACfY,EAAeZ,EAEfD,EAAS7e,MACLgB,YAAa,mBACb2e,UAAWb,EAAMc,UAAYC,EAC7BvlB,SAAU,cACV0E,WAAY,qBACZuf,QACIO,MAAOY,EACPI,OAAQA,KAGXC,KACD,SAA2BT,GACnBI,EAAaM,iBACbN,EAAaM,gBAAgBV,GAEjCI,EAAe,KACfH,KAEJ,SAA+BD,GACvBI,EAAatC,gBACbsC,EAAatC,eAAekC,GAEhCI,EAAe,KACfH,MAKZ,QAAAU,GAAkBnB,GACVY,GAA+B,UAAfZ,EAAMlZ,KACtB4Z,EAAOnrB,KAAKyqB,GAEZW,EAAUX,GAIlB,QAAAoB,GAAsBta,GAClB,GAAI7P,KAEJ9K,GAAEkJ,KAAKqrB,EAAQ,SAAUV,GAChBA,EAAMlZ,MAAQkZ,EAAMlZ,OAASA,GAC9B7P,EAAO1B,KAAKyqB,KAGpBU,EAASv0B,EAAEC,UAAU6K,GAGzB,QAAAoqB,GAA0BpxB,GACtB9D,EAAE0vB,OAAO6E,GAASzwB,GAAIA,IAG1B,QAAAqxB,GAAsBrxB,GAClB,MAAO9D,GAAE+S,KAAKwhB,GAASzwB,GAAIA,IAG/B,QAAAsxB,KACIb,EAASv0B,EAAEq1B,OAAOd,EAAQ,SAAUV,GAChC,MAAsB,UAAfA,EAAMlZ,OAGb8Z,GAAsC,UAAtBA,EAAa9Z,OAC7BiZ,EAASngB,SACT6gB,KAIR,QAAAgB,KACIC,IAIJ,QAAAC,GAA0BnzB,EAAS0xB,EAASgB,EAAiB5C,EAAgBruB,GAWzEkxB,GACIlxB,GAAIA,GAAM,KACV6W,KAAM,eACNtY,QAASA,EACT0xB,QAASA,IAAY,MACrBgB,gBAAiBA,EACjB5C,eAAgBA,EAChBwC,SAAUc,IAKlB,QAAAC,GAAqBrzB,EAAS0yB,EAAiB5C,EAAgBruB,GAU3DkxB,GACIlxB,GAAIA,GAAM,KACV6W,KAAM,UACNtY,QAASA,EACT0xB,SAAU,MACVgB,gBAAiBA,EACjB5C,eAAgBA,IAKxB,QAAAwD,GAAmBtzB,EAAS0yB,EAAiB5C,EAAgBruB,EAAIlC,GAU7DozB,GACIlxB,GAAIA,GAAM,KACVlC,MAAOA,EACP+Y,KAAM,QACNtY,QAASA,EACT0xB,SAAU,MACVgB,gBAAiBA,EACjB5C,eAAgBA,IAKxB,QAAAyD,KACIhC,EAASngB,SACT8gB,KAIJ,QAAAgB,GAAqB5a,GACbA,EAEAsa,EAAata,IAEbiZ,EAASngB,SACT8gB,MA/LR,GAIIE,GAHAG,EAAe,IACfa,EAA6B,IAC7BlB,KAEAM,IAYJ,OAJAj2B,GAAWC,IAAI,sBAAuBu2B,GACtCx2B,EAAWC,IAAI,mBAAoBy2B,GACnC12B,EAAWC,IAAI,qBAAsBy2B,IAGjCE,iBAAkBA,EAClBE,YAAaA,EACbC,UAAWA,EACXC,cAAeA,EACfL,YAAaA,EACbL,iBAAkBA,EAClBC,aAAcA,mCChF9B,SAAAl4B,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,iCACA,8hBAYA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uBACA,sQAUA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,iCACA,wkBAmBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,mBACA,gUAMA;;;CrD/EA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAo4B,MAAA94B,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IsBOA,WACI,YAEA,IAAIuR,GAAaxM,QAAQ9E,OAAO,uBAEhCsR,GAAWsF,OAAO,aAAa,YAAU,SAAS3Q,GAC9C,GAAIC,GAAeD,EAAUE,IAAI,gBAC3BF,EAAUG,IAAI,gBAAkB,IAEtC,OAAO,UAAUyD,GACb,MAAO3D,GAAgBA,EAAa4D,UAAUD,IAAQA,EAAMA,kCgCVxE,WACI,YAEA/E,SAAQ9E,OAAO,YACd,2CCFL,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,cAAe,qBAO/CsR,GAAWrH,UAAU,cACjB,SAAU,SAAM4M,GACZ,OACItN,SAAU,KACVrE,OACI2zB,QAAS,IACTC,QAAS,IACTC,aAAc,KAElBjgB,YAAa,yBACbhC,YAAY,SAAU,WAAQ,SAAU,SAAMC,EAAAW,EAAAV,GAQ1C,QAAA8K,GAAmB5Z,GACf,MAAa,OAATA,MACCA,IACLA,EAAQA,EAAMgG,WAAWc,cACT,KAAT9G,GAAyB,QAATA,IAX3B,GAAI8wB,EAEJA,GAAaniB,EAAOG,EAAO6hB,SAC3BnhB,EAASa,IAAI,UAAW,SAExBxB,EAAOxC,KAAOykB,EAAWjiB,GAUrB+K,EAAU9K,EAAO6d,YACjB9d,EAAOQ,OAAOyhB,EAAY,WACtBjiB,EAAOxC,KAAOykB,EAAWjiB,KAKjCW,EAAS+B,SAAS,kDCpDtC,SAAAzZ,GACA,IACAA,EAAA8E,QAAA9E,OAAA,sBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,yBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,yBACA;;;CxDRA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAy4B,MAAAn5B,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,GyDAA,YAEA+E,SAAQ9E,OAAO,eACX,sBAAuB,+CCH3B,qBA2CIk5B,GAAWC,GAEX,iBACI,UAAOjxB,EAAYqH,GACtB,MAAA4pB,GAAAC,WAAAlxB,EAAAqH,YAID8pB,GAAWF,GAEX,iBACI,UAAOjxB,EAAYqH,GACtB,MAAA4pB,GAAAG,mBAAApxB,EAAAqH,YAIDgqB,GAAWJ,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAK,eAAAtxB,YAIDuxB,GAAWN,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAO,gBAAAxxB,YAIDyxB,GAAWR,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAS,YAAA1xB,YAID2xB,GAAWV,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAW,gBAAA5xB,YAID6xB,GAAWZ,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAa,WAAA9xB,YAID+xB,GAAWd,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAe,WAAAhyB,YAIDiyB,GAAWhB,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAiB,gBAAAlyB,YAIDmyB,GAAWlB,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAmB,oBAAApyB,YAIDqyB,GAAWpB,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAqB,mBAAAtyB,YAIDuyB,GAAWtB,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAuB,gBAAAxyB,YAIDyyB,GAAWxB,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAyB,eAAA1yB,YAID2yB,GAAW1B,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAA2B,qBAAA5yB,YAID6yB,GAAW5B,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAA6B,oBAAA9yB,YAID+yB,GAAW9B,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAA+B,iBAAAhzB,YAIDizB,GAAWhC,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAiC,qBAAAlzB,YAIDmzB,GAAWlC,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAmC,iBAAApzB,YAIDqzB,GAAWpC,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAqC,qBAAAtzB,YAIDuzB,GAAWtC,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAuC,mBAAAxzB,YAIDyzB,GAAWxC,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAyC,oBAAA1zB,YAID2zB,GAAW1C,GAEX,iBACI,UAAO2C,EAAYC,GACtB,MAAA5C,GAAA6C,gBAAAF,EAAAC,YAIDE,GAAW9C,GAEX,iBACI,UAAO2C,EAAYC,GACtB,MAAA5C,GAAA+C,oBAAAJ,EAAAC,YAIDI,GAAWhD,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAiD,cAAAl0B,YAIDm0B,GAAWlD,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAmD,mBAAAp0B,YAIDq0B,GAAWpD,GAEX,iBACI,UAAOjxB,GACV,MAAAixB,GAAAqD,qBAAAt0B,YAIAu0B,GAAOtD,oBAED,UAACjxB,GACP,MAAOixB,GAAAuD,YAAmBx0B,YAG1By0B,GAA0BxD,oBAEpB,UAACjxB,GACP,MAAOixB,GAAAyD,gBAAmB10B,YAG1B20B,GAA0B1D,oBAEpB,UAACjxB,GACP,MAAOixB,GAAA2D,4BAAuB50B,YAG9B60B,GAA2B5D,oBAErB,UAACjxB,EAAAwO,GACP,MAAOyiB,GAAA6D,sBAAuB90B,EAAAwO,YAG9BumB,GAAsB9D,oBAEhB,UAACjxB,GACP,MAAOixB,GAAe+D,YAAAh1B,IApR3BgxB,EAAA51B,SAA0B,iBACXA,SAAA,iBAEMA,SAAY,iBAClBA,SAAY,iBACtBA,SAAA,eACLu2B,EAACv2B,SAAA,eAEDy2B,EAAAz2B,SAAA,iBACeA,SAAA,iBAEMA,SAAY,iBACPA,SAAC,iBACtBA,SAAA,eACLm3B,EAACn3B,SAAA,eAEDq3B,EAAAr3B,SAA8B,iBACfA,SAAA,iBAEgBA,SAAA,iBAChBA,SAAY,iBACtBA,SAAA,eACL+3B,EAAC/3B,SAAA,eAEDi4B,EAAAj4B,SAA+B,iBAChBA,SAAA,iBAEgBA,SAAA,iBAChBA,SAAY,iBACtBA,SAAA,eACL64B,EAAC74B,SAAA,eAED+4B,EAAA/4B,SAA2B,iBACZA,SAAA,iBAEJA,SAAoB,iBAChBA,SAAY,iBACtBA,SAAA,eACLy5B,EAACz5B,SAAA,eAED25B,EAAA35B,SAAA,uDC1CAsT,OAAY,aAACsiB,6IAqDbtiB,OAAA,aAAAmjB,GA8LInjB,OAAA,aAAAqjB,UA7LU,kBAAgBE,UAChB,sBAAqBE,GA4LRzjB,OAAA,qBAAA2jB,GA1Lf3jB,OAAA,kBAAA6jB,UACJ,iBAAeE,GAClB/jB,OAAA,uBAAAikB,GAEOjkB,OAAA,sBAARmkB,UACQ,mBAAKE,UACL,uBAAaE,UAChB,mBAAAE,UAEG,uBAAaE,UAEb,qBAAYE,UACZ,sBAAYE,UACf,kBAAAE,UAAK,sBAAEI,UACJ,gBAAYE,UACf,qBAAAE,GACJzlB,OAAA,uBAAA2lB,GAEO3lB,OAAA,cAAA6lB,UACA,kBAAKE,UACL,8BAAaE,UAChB,wBAAAE,WAED,SAAS77B,EAAQlB,EAAID,sBAIjBQ,MAAYA,KAAAgK,WAAA,SAAAC,EAAAC,WACTM,KAACxK,KAAAmK,YAAAF,MAAP,GAAAI,KAAAH,GAAAA,EAAAE,eAAAC,KAAAJ,EAAAI,GAAAH,EAAAG,gBACe,OAANH,EAAMI,OAAcC,OAAOL,IAAAM,EAAA/C,UAAAyC,EAAAzC,UAAA,GAAA+C,KAEzCoyB,EAAC,WAEO,QAAAA,KACJ58B,KAAI68B,cACkB,GAAA3Q,OAAA,OAAA,QAAA,OAAA,UAAA,OAElBlsB,KAAI88B,eAAK,cAEZr1B,UAAAs1B,kBAAA,SAAAp1B,GAED,MAAOpD,SAAO+G,YAAO3D,IAAA,OAAAA,KAEjBF,UAAUu1B,SAAA,SAAAr1B,GACd,GAAC3H,KAAA+8B,kBAAAp1B,GAED,MAAS,KAGZ,IAAA8Q,GAAAzY,KAAA68B,cAAA7uB,QAAArG,EAEO,OAAA8Q,GAAA,EAEA,MAKHzY,KAAA68B,cAAApkB,MAIGhR,UAAUw1B,kBAAA,SAAAt1B,GACd,GAAC3H,KAAA+8B,kBAAAp1B,GAED,MAAU,KAGV,IAAIu1B,GAAc,WAANv1B,EAAqB,OAAGA,EAAA8Q,EAAAzY,KAAA68B,cAAA7uB,QAAAkvB,SAChCzkB,GAAA,EACH,MAKOzY,KAAA68B,cAARpkB,MAMQhR,UAAU01B,eAAA,SAAAx1B,EAAAy1B,GACd,GAACC,GAAAC,CAED,OAAIt9B,MAAG+8B,kBAAcp1B,GAEV,IAGP01B,EAAAE,OAAA51B,GACA01B,EACAG,WAMJF,EAACF,EAAAA,EAAAp9B,KAAA88B,eAEMO,EAAAruB,OAAYsuB,IAJV,KAObV,EAACn1B,UAAAg2B,gBAAA,SAAA91B,EAAAy1B,GAEO,GAAAC,GAAAK,EAAAC,CACJ,OAAI39B,MAAA+8B,kBAEAp1B,GAEK,IAET01B,EAACE,OAAA51B,GAAM01B,EAACG,WAGRE,EAASH,WACKA,OAAKK,aAAAC,eAAAT,EAAAA,EAAAp9B,KAAA88B,gBAClBY,EAAAI,QAAAT,EAAAS,SAAKH,EAAEA,EAAAtxB,QAAA,KAAA,IAAAA,QAAA,eAAA,KAEPgxB,EAAAruB,OAAA2uB,IANG,OAQwCl2B,UAAUs2B,UAAA,SAAAp2B,EAAAy1B,GAEtD,GAAKC,GAAAruB,EAAcuuB,OAAOK,aAAAC,eAAAT,EAAAA,EAAAp9B,KAAA88B,gBAAAkB,EAAAhvB,EAAA3C,QAAA,KAAA,IAAAA,QAAA,eAAA,IAAAA,QAAA,KAAA,UACtBrM,MAAA+8B,kBAAsBp1B,GACzB,MACG41B,OAAO51B,GAA+B01B,EAAAruB,OAAAgvB,OAGtCv2B,UAAUw2B,eAAkB,SAACt2B,EAAAy1B,MAE7BC,GAAMruB,EAASouB,EAACA,EAAAp9B,KAAA88B,eAAAoB,EAAuDX,OAAAK,aAAAC,eAAA7uB,GAAAmvB,EAAAD,EAAA7xB,QAAA,KAAA,IAAAA,QAAA,eAAA,GAC3E,OAACrM,MAAA+8B,kBAAAp1B,GAEG,aAEUA,GACT01B,EAAAruB,OAAAmvB,iBACUC,YAAK,SAAe7C,EAAWC,EAAA4B,MAC1CiB,GAACC,CAAAlB,GAAAA,EAAAp9B,KAAA88B,kBACCuB,EAALr+B,KAAA+8B,kBAAAxB,GAAO,KAGXgC,OAAAhC,GAKG+C,EAFAt+B,KAAU+8B,kBAAAvB,GAEL,KAIK+B,OAAO/B,GAEP,OAAV6C,GAAU,OAAAC,EACb,MAAA,EAED,IAAY,OAAZD,EACH,MAAAC,GAAAtvB,OAAAouB,EAGO,IAEA,OAFSkB,GAESD,EAAAE,OAAAD,GAElB,MAAKD,GAAArvB,OAAkBouB,EAI3B,IAAIiB,EAASG,QAASF,GAClB,KAAA,IAASz9B,OAAK,sDAGlB,OAAIw9B,GAAUP,QAAOQ,EAAAR,OAChBO,EAAYI,SAAKH,EAAAG,QACRz+B,KAAA+9B,UAAAM,EAAAjB,GAAA,IAAAkB,EAAAtvB,OAAAouB,GAIDp9B,KAAKi+B,eAAeI,EAAajB,GAAE,IAAgBkB,EAAAtvB,OAAAouB,GAG/DiB,EAAArvB,OAAAouB,GAAA,IAAAkB,EAAAtvB,OAAAouB,2CAWE,GAAAC,EACH,OAAAr9B,MAAO+8B,kBAAoBp1B,GAC9B,IAGG01B,EAAOE,OAAK51B,GACf01B,EAAAG,UAIAH,EAAAqB,QAAAxB,GAAAyB,SAFM,OAKHl3B,UAAYm3B,WAAe,SAAWj3B,EAAEu1B,EAAAha,GAC3C,GAAAma,GAAA/vB,EAAAuxB,CAEM,OAAA7+B,MAAA+8B,kBAAWp1B,GACH,IAGRpD,QAAAmvB,SAAAxQ,KACH2b,EAAY,GAGTxB,EAAAE,OAAA51B,GACH01B,EAAOG,WAKVlwB,EADGuxB,EACHxB,EAAAqB,QAAAxB,GAAA4B,IAAAD,EAAA,gBAIAxB,EAAAqB,QAAAxB,GAGUG,EAAKqB,QAAAxB,GAAeyB,UAX9B,OAeGl3B,UAAYoxB,WAAe,SAAOlxB,EAAQqH,GAC7C,MAAAhP,MAAAm9B,eAAAx1B,EAAA,UAGGF,UAAYsxB,mBAAsB,SAAMpxB,EAAAqH,GAC3C,MAAAhP,MAAAm9B,eAAAx1B,EAAA,QAGGF,UAAY0xB,gBAAoB,SAASxxB,GAC5C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,QAGGF,UAAYwxB,eAAoB,SAAQtxB,GAC3C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,SAGGF,UAAY4xB,YAAe,SAAO1xB,GACrC,MAAA3H,MAAAm9B,eAAAx1B,EAAA,SAOGF,UAAY8xB,gBAAoB,SAAO5xB,GAC1C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,WAGGF,UAAYgyB,WAAe,SAAW9xB,GACzC,MAAA3H,MAAAm9B,eAAAx1B,EAAA,WAGGF,UAAYkyB,WAAe,SAAOhyB,GACrC,MAAA3H,MAAAm9B,eAAAx1B,EAAA,SAGGF,UAAYoyB,gBAAoB,SAAUlyB,GAC7C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,QAGGF,UAAYsyB,oBAAsB,SAAMpyB,GAC3C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,UAGGF,UAAYwyB,mBAAsB,SAAKtyB,GAC1C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,WAGGF,UAAY0yB,gBAAoB,SAAQxyB,GAC3C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,SAGGF,UAAY4yB,eAAoB,SAAQ1yB,GAC3C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,UAMGF,UAAY8yB,qBAA0B,SAAE5yB,GAC3C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,SAGGF,UAAYgzB,oBAAyB,SAAE9yB,GAC1C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,WAGGF,UAAYkzB,iBAAsB,SAAMhzB,GAC3C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,QAMGF,UAAYozB,qBAA0B,SAAElzB,GAC3C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,SAIGF,UAAYszB,iBAAqB,SAAQpzB,GAC5C,MAAA3H,MAAAm9B,eAAAx1B,EAAA,UAIGF,UAAUwzB,qBAAA,SAAAtzB,GACb,MAAA3H,MAAAm9B,eAAAx1B,EAAA,WAIOF,UACA0zB,mBAAa,SAAAxzB,GAEjB,MAAI3H,MAAKi+B,eAAkBt2B,EAAO,SAEjCF,UAAA4zB,oBAAA,SAAA1zB,GACD,MAAI3H,MAAKi+B,eAAkBt2B,EAAO,QAEjCF,UAAAg0B,gBAAA,SAAAF,EAAAC,GAAC,MAAMx7B,MAAAo+B,YAAA7C,EAAAC,EAAA,SAEP/zB,UAAAk0B,oBAAA,SAAAJ,EAAAC,GAED,MAAOx7B,MAAAo+B,YAAc7C,EAAAC,EAAA,UAEjB/zB,UAAUo0B,cAAA,SAAAl0B,GACd,MAAC3H,MAAAm9B,eAAAx1B,EAAA,OAGLi1B,EAACn1B,UAAAs0B,mBAAA,SAAAp0B,GAEM,MAAA3H,MAAAm9B,eAAWx1B,EAAlB,MAEAi1B,EAACn1B,UAAAw0B,qBAAA,SAAAt0B,GAKM,MAAA3H,MAAAm9B,eAAYx1B,EAAnB,SAKYF,UAAK00B,YAAkB,SAASx0B,SAChC3H,MAAOy9B,gBAAG91B,EAAA,QAGVF,UAAU40B,gBAAO,SAAA10B,GACrB,MAAK3H,MAAKy9B,gBAAY91B,EAAA,SAErBF,UAAA80B,4BAAA,SAAA50B,GAED,MAAK,MAGLF,UAAcg1B,sBAAS,SAAA90B,EAAAwO,GAC1B,GAAAknB,GAAAK,CAEM,OAAA19B,MAAA+8B,kBAAYp1B,GAEX,IAKH+1B,EADG19B,KAAA+8B,kBAAU5mB,GACbonB,SAIaA,OAAApnB,GAGdknB,EAAKE,OAAQ51B,GACb01B,EAASG,WAAaE,EAAQF,UAK3BD,OAAAF,GAAA0B,QAAWrB,GAHP,OAQHj2B,UAAWk1B,YAAC,SAAAU,GAChB,MAAK2B,MAAKC,UAAY1B,OAAAF,OAErB51B,UAAAy3B,aAAA,SAAAv3B,EAAAw3B,GAED,GAAA9B,GAAQH,EAAK5vB,CACb,OAAAtN,MAAS+8B,kBAAap1B,GAEf,IAGJ01B,EAAAE,OAAA51B,GACC01B,EAAUG,WAIdN,EAACl9B,KAAAg9B,SAAAmC,GAED7xB,EAAOiwB,OAAOF,GAAOqB,QAAAxB,GAAA4B,IAAA9+B,KAAAi9B,kBAAAC,IAChB5vB,EAAKqxB,UALD,OAORl3B,UAAA23B,aAAA,SAAAz3B,EAAAw3B,GAED,GAAA9B,GAAOH,EAAS5vB,CACnB,OAAAtN,MAAA+8B,kBAAAp1B,GAEM,IAEN01B,EAAAE,OAAA51B,GAEM01B,EAAAG,WAIAN,EAAAl9B,KAAAg9B,SAAAmC,GACH7xB,EAAOiwB,OAAKF,GAAAqB,QAAkBxB,GAAE4B,KAAQ,EAAA9+B,KAAAi9B,kBAAAC,IAC3C5vB,EAAAqxB,UALc,OAQXl3B,UAAY43B,YAAgB,SAAUF,GACzC,GAAA9B,GAAAH,EAAA5vB,CAGG,OADG+vB,GAAAE,SACHF,EAAOG,WAIPN,EAAOl9B,KAAKg9B,SAAUmC,GACzB7xB,EAAAiwB,OAAAF,GAAAqB,QAAAxB,GAEM5vB,EAAAqxB,UANN,IAQD/B,EAACn1B,UAAA63B,SAAA,SAAA33B,EAAA43B,GAEM,GAAAlC,EACH,OAAAr9B,MAAO+8B,kBAAgBp1B,KAAepD,QAAQmvB,SAAA6L,GACjD,IAERlC,EAAAE,OAAA51B,GAED01B,EAAAG,UAOKH,EAAAyB,IAAAS,EAAA,SAAAZ,SAJD,OAQIl3B,UAAY+3B,WAAU,SAAgB73B,GACzC,MAAA3H,MAAAy/B,aAAA93B,EAAA,UAGGF,UAAYi4B,SAAU,SAAA/3B,EAAmBub,GAC5C,MAAAljB,MAAA4+B,WAAAj3B,EAAA,MAAAub,MAGGzb,UAAYk4B,YAAU,SAAgBh4B,GACzC,MAAA3H,MAAAy/B,aAAA93B,EAAA,WAGGF,UAAYm4B,UAAU,SAAej4B,EAAOub,GAC/C,MAAAljB,MAAA4+B,WAAAj3B,EAAA,OAAAub,MAGGzb,UAAYo4B,aAAU,SAAkBl4B,GAC3C,MAAA3H,MAAAy/B,aAAA93B,EAAA,YAGGF,UAAYq4B,WAAU,SAAgBn4B,EAAOub,GAChD,MAAAljB,MAAA4+B,WAAAj3B,EAAA,QAAAub,MAGGzb,UAAYs4B,YAAU,SAAiBp4B,GAC1C,MAAA3H,MAAAy/B,aAAA93B,EAAA,WAGGF,UAAYu4B,UAAU,SAAWr4B,EAAOub,GAC3C,MAAAljB,MAAA4+B,WAAAj3B,EAAA,OAAAub,IAGG0Z,KAGGqD,EAAA,mBACHA,GAAqBC,GACxBlgC,KAAAmgC,UAAAD,WAGez4B,UAAUoxB,WAAA,SAAmBlxB,EAAOqH,GACnD,MAAAhP,MAAAmgC,UAAAtH,WAAAlxB,EAAAqH,MAGevH,UAAUsxB,mBAAqB,SAAEpxB,EAAAqH,GAChD,MAAAhP,MAAAmgC,UAAApH,mBAAApxB,EAAAqH,MAGevH,UAAU0xB,gBAAe,SAAOxxB,GAC/C,MAAA3H,MAAAmgC,UAAAhH,gBAAAxxB,MAGeF,UAAUwxB,eAAA,SAA2BtxB,GACpD,MAAA3H,MAAAmgC,UAAAlH,eAAAtxB,MAGeF,UAAU4xB,YAAA,SAAoB1xB,GAC7C,MAAA3H,MAAAmgC,UAAA9G,YAAA1xB,MAOeF,UAAU8xB,gBAAiB,SAAO5xB,GACjD,MAAA3H,MAAAmgC,UAAA5G,gBAAA5xB,MAGeF,UAAUgyB,WAAA,SAAqB9xB,GAC9C,MAAA3H,MAAAmgC,UAAA1G,WAAA9xB,MAGeF,UAAUkyB,WAAA,SAAuBhyB,GAChD,MAAA3H,MAAAmgC,UAAAxG,WAAAhyB,MAGeF,UAAUoyB,gBAAA,SAA4BlyB,GACrD,MAAA3H,MAAAmgC,UAAAtG,gBAAAlyB,MAGeF,UAAUsyB,oBAAmB,SAAOpyB,GACnD,MAAA3H,MAAAmgC,UAAApG,oBAAApyB,MAGeF,UAAUwyB,mBAAoB,SAAOtyB,GACpD,MAAA3H,MAAAmgC,UAAAlG,mBAAAtyB,MAGeF,UAAU0yB,gBAAgB,SAAQxyB,GACjD,MAAA3H,MAAAmgC,UAAAhG,gBAAAxyB,MAGeF,UAAU4yB,eAAA,SAA0B1yB,GACnD,MAAA3H,MAAAmgC,UAAA9F,eAAA1yB,MAMeF,UAAU8yB,qBAAqB,SAAA5yB,GAC9C,MAAA3H,MAAAmgC,UAAA5F,qBAAA5yB,MAGeF,UAAUgzB,oBAAmB,SAAO9yB,GACnD,MAAA3H,MAAAmgC,UAAA1F,oBAAA9yB,MAGeF,UAAUkzB,iBAAA,SAA4BhzB,GACrD,MAAA3H,MAAAmgC,UAAAxF,iBAAAhzB,MAMeF,UAAUozB,qBAAmB,SAAAlzB,GAC5C,MAAA3H,MAAAmgC,UAAAtF,qBAAAlzB,MAIeF,UAAUszB,iBAAgB,SAAOpzB,GAChD,MAAA3H,MAAAmgC,UAAApF,iBAAApzB,MAIeF,UAAUwzB,qBAAA,SAAiCtzB,GAC1D,MAAA3H,MAAAmgC,UAAAlF,qBAAAtzB,MAIeF,UAAU0zB,mBAAqB,SAAQxzB,GACtD,MAAA3H,MAAAmgC,UAAAhF,mBAAAxzB,MAGeF,UAAU4zB,oBAAkB,SAAA1zB,GAC3C,MAAA3H,MAAAmgC,UAAA9E,oBAAA1zB,MAMeF,UAAUg0B,gBAAkB,SAAUF,EAAEC,GACvD,MAAAx7B,MAAAmgC,UAAA1E,gBAAAF,EAAAC,MAGe/zB,UAAUk0B,oBAAoB,SAAUJ,EAAAC,GACvD,MAAAx7B,MAAAmgC,UAAAxE,oBAAAJ,EAAAC,MAGe/zB,UAAUo0B,cAAY,SAAUl0B,GAC/C,MAAA3H,MAAAmgC,UAAAtE,cAAAl0B,MAGeF,UAAUs0B,mBAAqB,SAAEp0B,GAChD,MAAA3H,MAAAmgC,UAAApE,mBAAAp0B,MAGeF,UAAUw0B,qBAAkB,SAAAt0B,GAC3C,MAAA3H,MAAAmgC,UAAAlE,qBAAAt0B,MAGeF,UAAU00B,YAAc,SAAUx0B,GACjD,MAAA3H,MAAAmgC,UAAAhE,YAAAx0B,MAGeF,UAAU40B,gBAAkB,SAAC10B,GAC5C,MAAA3H,MAAAmgC,UAAA9D,gBAAA10B,MAGeF,UAAU80B,4BAAyB,SAAA50B,GAClD,MAAA3H,MAAAmgC,UAAA5D,4BAAA50B,MAGeF,UAAUg1B,sBAAoB,SAAA90B,EAAAwO,GAC7C,MAAAnW,MAAAmgC,UAAA1D,sBAAA90B,EAAAwO,MAGe1O,UAAUk1B,YAAW,SAAaU,GACjD,MAAAr9B,MAAAmgC,UAAAxD,YAAAU,MAGe51B,UAAUy3B,aAAY,SAAOv3B,EAAAw3B,GAC5C,MAAAn/B,MAAAmgC,UAAAjB,aAAAv3B,EAAAw3B,MAGe13B,UAAU23B,aAAe,SAAUz3B,EAAAw3B,GAClD,MAAAn/B,MAAAmgC,UAAAf,aAAAz3B,EAAAw3B,IApMLc,EAsMCx4B,UAAA43B,YAAA,SAAAF,GAED,MAAAn/B,MAAAmgC,UAAAd,YAAAF,IAIIc,EAAAx4B,UAAA63B,SAAA,SAAA33B,EAAA43B,GACI,MAAAv/B,MAAAmgC,UAAQb,SAAA33B,EAAA43B,IAGLU,EAAAx4B,UAAA+3B,WAAP,SAAA73B,GACI,MAAA3H,MAAWmgC,UAAAX,WAAA73B,MAGFF,UAAWi4B,SAAI,SAAgB/3B,EAAMub,GAC9C,MAAOljB,MAAKmgC,UAAST,SAAA/3B,EAAAub,IAE7B+c,EAAAx4B,UAACk4B,YAAA,SAAAh4B,GAf8B,MAe9B3H,MAAAmgC,UAAAR,YAAAh4B,MAGWF,UAAAm4B,UAA0B,SAAAj4B,EAAAub,GACjC,MAASljB,MAAAmgC,UAAeP,UAAAj4B,EAAkBub,ICxtB9C+c,EAAAx4B,UAAAo4B,aAAA,SAAAl4B,GACG,MAAA3H,MAAamgC,UAAAN,aAAAl4B,IAIbs4B,EAAWx4B,UAAUq4B,WACjB,SAAAn4B,EAAAub,GACI,MAAOljB,MAAAmgC,UAAAL,WAAAn4B,EAAAub,MAEIzb,UAAWs4B,YAAA,SAAAp4B,SAClB3H,MAAOmgC,UAAAJ,YAAAp4B,MAEHF,UAAUu4B,UAAa,SAAAr4B,EAAAub,eACvBid,UAAOH,UAAUr4B,EAAAub,WAIT,SAAA9V,GAEpB,QACFgzB,KAGFhzB,EAAWpM,KAAAhB,eALDogC,EAAAhzB,KAcE3F,UAAeQ,KAAU,WAE7B,iBACiB,OAAbjI,KAAAgI,gBACIA,SAAU,GAAAi4B,GAAAjgC,YACVgI,gFAMWo4B,oBACZz/B,EAAAlB,EAAAD,kCAGI+E,QAAS9E,OAAG,WAAa,yBACnCiK,UAAA,UAAA,WAAC,OACEV,SAAO,KACPrI,QAAO,UACPgE,OAEH07B,SAAA,eAEDvnB,SAAiB,cACTwnB,MAAK,WAELC,SAAU,KAEdhoB,YAAC,2BAAChC,WAAS,oCAIN,qBAAA,SAAA,WAAA,YAAA,SAAAC,EAAAW,EAAAzR,WAiCD86B,GAAS/B,EAAOX,MACEl9B,KAAd,GAAM6/B,IAcd,KAbK,IAADhC,GAAC,IAAAA,GAAA,IAAAA,GAAA,KAAAA,EACJiC,EAAA,GACY,IAAJjC,IAEJiC,EADG5C,GACHA,EAAA,IAAA,EAAA,GAIR,IAKOl9B,EAAA,EAAOA,GAAK8/B,EAAM9/B,IAClB6/B,EAAI70B,KAAMhL,SAET6/B,WAGJE,KACJ,GAAA//B,GAAAggC,IAED,KAAAhgC,EAAA,EAAAA,GAAmB,GAAAA,IACXggC,EAAKh1B,MAMLtF,GAAO1F,EACPgB,KAAOi/B,EAAejgC,EAAA,IAK1B,OAAOggC,GAEX,QAACE,KAED,GAAAlgC,GAAAmgC,GAAA,GAAAn6B,OAAAo6B,cAAAC,EAAA,WAAAzqB,EAAA6pB,SAAAU,EAAAA,EAAA,IAAAG,EAAA,SAAA1qB,EAAA6pB,SAAAU,EAAAA,EAAA,IAAAI,IACI,IAAU,SAAN3qB,EAAM6pB,SAEN,IAAAz/B,EAAOsgC,EAAOtgC,GAAOqgC,EAASrgC,IAC9BugC,EAAQv1B,KAAIhL,OAInB,KAAAA,EAAAqgC,EAAArgC,GAAAsgC,EAAAtgC,IAEMugC,EAAAv1B,KAAehL,EAItB,OAAOugC,WAEHC,KACF,GAAAX,GAAAD,EAAAhqB,EAAAioB,MAAAjoB,EAAAsnB,KAEKtnB,GAAAiqB,KAAax/B,SAAGw/B,EAAAx/B,SACnBuV,EAAY6qB,IAAAZ,EAAAx/B,SACJuV,EAAG6qB,IAAAZ,EAAAx/B,QAIPuV,EAAOiqB,KAAKA,GAGpB,QAAOa,GAAOnW,GAId,GAAOxjB,GAAOwjB,EAAA3oB,EAAQ++B,OAAOpW,GAAKA,EAAE,GAAMvkB,MAAKukB,GAAE,KAAAkW,EAAA15B,EAAAA,EAAA65B,UAAA,KAAA/C,EAAA92B,EAAAA,EAAA85B,WAAA,EAAA,KAAA3D,EAAAn2B,EAAAA,EAAAq5B,cAAA,IAC1CxqB,GAAMioB,QAAYA,GAAGjoB,EAAAsnB,OAAAA,IACrBtnB,EAAQiqB,KAAAD,EAAWhqB,EAAAioB,MAAAjoB,EAAAsnB,OAK1BtnB,EAAO6qB,IAAOA,EACV7qB,EAAAioB,MAASA,EACVjoB,EAAAsnB,KAAAA,UAGC4D,KACD,GAAA/5B,EAET6O,GAAA6qB,KAAA7qB,EAAAioB,OAAAjoB,EAAAsnB,OAEDn2B,EAAA,GAAAf,MAAA4P,EAAAsnB,KAAAtnB,EAAAioB,MAAA,EAAAjoB,EAAA6qB,IAAA,EAAA,EAAA,EAAA,aC3LJ7qB,EAAA+pB,kBDgEqBoB,EAAMpE,OAAAK,aAAAiD,EAAAt8B,QAAAoU,QAAAgpB,EAAAC,SAAAD,EAAAC,QAAAD,EAAAC,QAAA5yB,UAAAzK,QAAAoU,QAAAgpB,EAAAE,WAAAF,EAAAE,UAAAF,EAAAE,UAAA7yB,OAAA2yB,EAAAG,aAAAH,EAAAI,MAAAC,IACCt8B,EAAME,IAAA,gBAAAF,EAAAG,IAAA,gBAAA,SAEnBF,EAACG,gBAAA,MAEGm8B,IAAK,MACLC,MAAK,QACRC,KAAA,SAGJx8B,EAAAG,gBAAA,MAEDm8B,IAAA,OACQC,MAAM,QAENC,KAAM,mBAEGx8B,EAAA4D,UAAA,oBACC5D,EAAiB4D,UAAA,WACxB64B,UAAAz8B,EAAA4D,UAAA,UAIViN,EAAA6rB,SAAA,MAED7rB,EAAA8rB,WAAA,QACI9rB,EACI4rB,UAAW,QCvF3B5rB,EAAW+rB,aAAU,WAEbb,OAEIc,eAAkB,WAClBpB,yBAGW,sBAIP5qB,EAAA8pB,MAAc99B,EAAA++B,OAAA/qB,EAAA8pB,OAAA9pB,EAAA8pB,MAAA,GAAA15B,MAAA4P,EAAA8pB,OAAA,OACjBe,IAAA15B,EAAAA,EAAA65B,UAAA,OACD/C,MAAW92B,EAAEA,EAAA85B,WAAA,EAAA,OACb3D,KAAUn2B,EAAEA,EAAAq5B,cAAwB,OACtCP,KAAAD,EAAAhqB,EAAAioB,MAAAjoB,EAAAsnB,MACHtnB,EAAAoqB,OAAAD,IAGPnqB,EAAW2qB,MAAAL,IAEHtqB,EAAIisB,kBACAjsB,EACAsC,UAAYtC,EACZsC,WA6BJtC,EAAAQ,OAAc,QAAQ,SAAGkB,GACzBopB,EAAWppB,KAEX1B,EAAAQ,OAAaR,EAAAsC,SAAY,SAAaZ,GAEtC1B,EAAOisB,gBAAevqB,2BAKdvX,EAAOlB,EAAAD,kCAIP+E,QAAY9E,OAAK,gBAAmB,mCAC7B,eAAO,2BAEd,KACJkB,QAAC,UAACgE,OACE07B,SAAS,eACZvnB,SAAA,cACDwnB,MAAW,WACboC,WAAA,IAEKC,iBAAgB,IACfC,cAAe,IAEfC,UAAW,KAEftqB,YAAW,kDACA,8BAGVhC,WAAA,0BAAA,SAAA,WAAA,WAAA,aAAA,YAAA,SAAAC,EAAAW,EAAAqB,EAAApX,EAAAsE,WAyEIo9B,KACLC,EAAa1B,IAAK7qB,EAAQ6qB,IAC1B0B,EAAYtE,MAAQjoB,EAAQioB,MAC5BsE,EAAWjF,KAAQtnB,EAAQsnB,KAC3BiF,EAAWC,KAAQxsB,EAAGwsB,KAEtBD,EAAYE,cAAAzsB,EAAAmsB,iBAEZI,EAAWzC,MAAA9pB,EAAgB8pB,cAEvB4C,KACJ1sB,EAACiqB,KAAAD,EAAAhqB,EAAAioB,MAAAjoB,EAAAsnB,MAACtnB,EAAM2sB,MAAAC,EAAA5sB,EAAAioB,MAAAjoB,EAAAsnB,QACJ8C,OAAYD,IAChBnqB,EAAC6sB,YAAA1C,IACDnqB,EAAA2qB,MAAWL,IAIf,QAAOwC,OAEAC,EAAAjD,OAAAiD,EAAAjD,OAAAiD,EAAAjD,MAAAz5B,WAAA2P,EAAA8pB,MAAAz5B,YAEA2P,EAAA2sB,OAAkB3sB,EAAO2sB,MAAQ3sB,EAAGwsB,OAAOxsB,EAAa2sB,MAAM3sB,EAAAwsB,MAAA18B,IAAA,IAGvDkQ,EAASioB,MAAA,GACPjoB,EAAKioB,OAAW,GAG7BjoB,EAAAioB,MAAA,EAEWjoB,EAAOsnB,MAAU,GAE5BoF,aAKE3Z,KACF,GAAA5hB,EAEHA,GAAO6O,EAAW8pB,MAAG,GAAA15B,MAAA4P,EAAA8pB,OAAA,KACjB9pB,EAAK6qB,IAAO15B,EAAOA,EAAA67B,aAAA,OACf/E,MAAW92B,EAAGA,EAAW87B,cAAC,EAAA,KAC9BjtB,EAACsnB,KAAAn2B,EAAAA,EAAA+7B,iBAAA,KACHltB,EAAAwsB,KAAAr7B,EAAAg8B,EAAAntB,EAAA6qB,IAAA7qB,EAAAioB,MAAA,EAAAjoB,EAAAsnB,MAAA,KAEFoF,IACwB,WAAhB1sB,EAAOmsB,kBACPW,IACHM,KAIGxC,IAEJM,YA2CImC,GAAYpF,EAAIX,GACpB,GAAC4C,GAAA,EAgBL,OAhBY,KAAFjC,GAAE,IAAAA,GAAA,IAAAA,GAAA,KAAAA,EACJiC,EAAA,GAGa,IAAVjC,IAGXiC,EAFC5C,GAEmBA,EAAE,IAAU,EAAA,GAId,IAKlB4C,UAGSF,GAAM/B,EAAAX,GACX,GAAA4C,GAAWD,EAAA7/B,MACX8/B,EAAAmD,EAAYpF,EAAeX,GAE3BtnB,EAAAstB,YACArD,KACI7/B,EAAK,EAACA,GAAK8/B,EAAA9/B,MACPgL,KAAIhL,KACJkjC,SAAMl4B,KAAQm4B,EAAmBxG,QAAEO,EAAAW,EAAkB,EAAA79B,IAAAojC,kBAEzDvD,WAGJkD,GAAatC,EAAA5C,EAAAX,GAChB,GAAAT,GAAA4G,EAAAC,CAYG,OAVJ7G,GAAA,GAAAz2B,MAAAA,KAAAu9B,IAAArG,EAAAW,EAAA4C,IACI4C,EAAU5G,EAAO+G,YAAE/G,EAAA+G,YAAA,EAGfF,EADa,IAAbD,EACY5C,EAGTA,EAAA,EAAA4C,EAMX,QAAAI,GAAAhD,EAAAiD,EAAAC,GACI,GAAIC,GAAAC,QAIJD,GAAQnD,EAAO,EAAAiD,EAAWA,EAAAjD,EAAA,EAAAA,EAAA,IACjBA,EAAQ,EAAAA,EAAAkD,EAAAlD,IACT1zB,WAAY,MAAYF,KAAA0C,IAAAq0B,GAAA72B,sBAElB8wB,EAAAX,MACVqF,GAAKmB,EAAMC,EAAAL,aAEPL,EAAUpF,EAAYX,KACtB6F,EAAM,EAAAlF,EAAA,EAAAX,KACAW,EAAA,EAAAoF,EAAApF,EAAA,EAAAX,GAAA+F,EAAA,GAAA/F,EAAA,KACGwG,EAAG,KACZ14B,MACAtF,GAAA49B,EACJtiC,KAAAyiC,EAAAH,EAAAI,EAAAC,QAEc,CAElB,OAACpB,WAEGxC,QACU//B,YACTA,EAAA,EAAAA,GAAA,GAAAA,IACJggC,EAAAh1B,MAAOtF,GAAA1F,EACAgB,KAAKi/B,EAAcjgC,EAAA,IAG3B,OAACggC,GAGL,QAACE,KAED,GAAAG,GAAArgC,EAAAsgC,EAAAC,IACI,QAAQ3qB,EAAG6pB,UAEX,IAAQ,SACJY,EAAcF,EACVG,EAAUH,EAAK,GACf,MACJ,KAAK,OACDE,EAAYF,EAAK,IACjBG,EAAUH,CACV,MACJ,KAAA,MACIE,EAAWF,EAAW,KACdA,EAAa,kBAGrBE,EAACF,EAAA,GACDG,EAAMH,EAAA,GAGjB,GAAA,WAAAvqB,EAAA6pB,SAED,IAAAz/B,EAAAqgC,EAAArgC,GAAAsgC,EAAAtgC,IACQugC,EAAMv1B,KAAAhL,OAKb,KAAAA,EAAAsgC,EAAAtgC,GAAAqgC,EAAArgC,IAEDugC,EAAkBv1B,KAAChL,EAKf,OAAMugC,WAEFC,KACJ,GAAIX,GAAGD,EAAQhqB,EAAAioB,MAAiBjoB,EAAOsnB,KAEvC,QAAItnB,EAAUmsB,kBACV,IAAA,UACHnsB,EAAA6qB,IAAA,CAEM,MACP,KAAO,SACA7qB,EAAOioB,MAAK,EACZjoB,EAAO6qB,IAAK,CAGZ,MACP,SACH7qB,EAAAiqB,KAAAx/B,SAAAw/B,EAAAx/B,QAEDuV,EAAA6qB,IAAAZ,EAAAx/B,SACcuV,EAAA6qB,IAAAZ,EAAAx/B,QAMVuV,EAACiqB,KAAAA,UACGmD,QACAT,KACAC,EAAY5sB,EAAQioB,MAACjoB,EAAAsnB,MACzBtnB,EAACwsB,KAAAW,EAAAntB,EAAAwsB,KAAAxsB,EAAAioB,MAAA,EAAAjoB,EAAAsnB,MAEDtnB,EAAA2sB,MAAcA,UAEd7B,GAAOnW,GACV,GAAAxjB,GAAA05B,EAAA5C,EAAAX,EAAAkF,CAEPr7B,GAAAwjB,EAAA,GAAAvkB,MAAAukB,GAAA,KAEDkW,EAAA15B,EAAAA,EAAA67B,aAAA,gCCxaO1F,EAACn2B,EAAAA,EAAA+7B,iBAAA,KAELV,EAAOr7B,EAAYg8B,EAAAtC,EAAA5C,EAAA,EAAAX,GAAA,KACdtnB,EAAA6qB,MAAAA,GAAA7qB,EAAAioB,QAAAA,GAAAjoB,EAAAsnB,OAAAA,GAAAtnB,EAAAwsB,OAAAA,IAGTxsB,EAAA6qB,IAAkBA,EAClB7qB,EAAcioB,MAAAA,EACdjoB,EAAAsnB,KAAoBA,EACrBtnB,EAAAwsB,KAAAA,2BCTHxsB,EAAA2sB,MAAAC,EAAA5sB,EAAAioB,MAAAjoB,EAAAsnB,OAEA,QAAA4D,KACA,GAAA/5B,EACA,YAAA6O,EAAAmsB,kBACAh7B,EAAA,GAAAf,MAAA4P,EAAAsnB,KAAAtnB,EAAAioB,MAAA,EAAAjoB,EAAAwsB,KAAA,EAAA,EAAA,EAAA,GACAr7B,EAAA,GAAAf,MAAAe,EAAAd,UAAA,IAAAc,EAAA+8B,qBACAluB,EAAA8pB,MAAA34B,IAGAA,EAAA,GAAAf,MAAA4P,EAAAsnB,KAAAtnB,EAAAioB,MAAA,EAAAjoB,EAAA6qB,IAAA,EAAA,EAAA,EAAA,GACA15B,EAAA,GAAAf,MAAAe,EAAAd,UAAA,IAAAc,EAAA+8B,qBACAluB,EAAA8pB,MAAA34B,GAEA47B,EAAA/gC,EAAAC,UAAAsgC,GACAD,IACAtsB,EAAAmuB,cF6EkBC,GAAM7D,EAAA8D,EAAAC,EAAAvB,KAAAR,KAAApB,EAAApE,OAAAK,aAAAiD,EAAAt8B,QAAAoU,QAAAgpB,EAAAC,SAAAD,EAAAC,QAAAD,EAAAC,QAAA5yB,OAAA+0B,GAAAx/B,QAAAoU,QAAAgpB,EAAAE,WAAAF,EAAAE,UAAAF,EAAAE,UAAA7yB,OAAA2yB,EAAAG,aAAAH,GAAAI,MAAAC,MACJ,GAASp7B,QACZg+B,EAAAlB,mBACUkB,EAAAnB,cAAA,EACfqB,EAAEF,EAAApB,aAEFhtB,EAAO+rB,aAAe,WAClBb,sBAEkB,WAClB,GAAC,WAAAlrB,EAAAmsB,iBAAA,CAAK,GAAEtF,GAAA4G,CACJ5G,GAAA,GAAWz2B,MAACA,KAAAu9B,IAAA3tB,EAAAsnB,KAAAtnB,EAAAioB,MAAA,EAAA,IACfwF,EAAA5G,EAAA+G,YAAA/G,EAAA+G,YAAA,EACD5tB,EAAWwsB,KAAAW,EAAAM,EAAAztB,EAAAioB,MAAA,EAAAjoB,EAAAsnB,MACbwF,IAGKM,QAIAxC,IAELM,QAGEqD,cAAc,cACV1H,GAAM4G,IACN,GAAOr9B,MAAAA,KAAAu9B,IAAA3tB,EAAqBsnB,KAAAtnB,EAAUioB,MAAA,EAAA,IAC5CwF,EAAA5G,EAAA+G,YAAA/G,EAAA+G,YAAA,EAEgB,WAAX5tB,EAAQmsB,kBACPnsB,EAAOwsB,KAAAW,EAAaM,EAAAztB,EAAAioB,MAAA,EAAAjoB,EAAAsnB,MACpB8F,IACHN,KAIDlC,IAEAM,OAEAsD,aAAa,WACe,WAA5BxuB,EAAAmsB,kBACHiB,IAEDN,KAGIlC,IAEAM,KAIJlrB,EAAAyuB,MAAA,WACI,MAAkC,UAA7BzuB,EAASmsB,2BAGF,iBACkB,aAAlBA,4BACG,iBACc,YAAjBA,kBACiB,+BACpB,cAAAA,6BAEJ,WACJnsB,EAAAksB,YACJlsB,EAAAksB,cAiEDlsB,EAAAgC,SAAAA,QAGOiqB,kBAAgBjsB,EAAKsC,UAAetC,EAAMsC,oBACpC,QAAM,SAAAZ,EAAAgtB,GACdhtB,IAAAgtB,GAAK5D,EAAKppB,cAIN1B,EAAAsC,SAAA,SAAAZ,KAACuqB,gBAAMvqB,aAEP,mBAAA,SAAAA,EAAAgtB,GACJhtB,IAAAgtB,GAAAA,GAED3b,QAIA4b,YAAiB,WAGZ3uB,EAAGsnB,OACRtnB,EAAOsnB,KAAWiD,mBAGD,WACbvqB,EAAOioB,QACVjoB,EAAAioB,MAAAoG,IAKLruB,EAAA4uB,WAAA,WACQ5uB,EAAMsnB,OAENtnB,EAAO6qB,IAAKyD,eEjPhC/gC,GAAA,SAAApD,EAAAlB,EAAAD,GACA,YACA+E,SAAA9E,OAAA,sBCpBC,eACG,cAEA,mBAEA,uDAIiBkB,EAAElB,EAAAD,0CAaKC,OAAY,kCAEf,aAAA,YAAA,SAAAiG,SACJA,EAAAE,IAAA,kBAEDC,IAAA,gBAAA,qBAEQyD,YACM3D,EAAkB4D,UAACD,IAAYA,EAAAA,4BAMpC7J,EAAMD,kCAEX+E,QAAO9E,OAAS,+BACnB,eAAA,2BAGK,YAEN4lC,aAAA,IACAC,WAAA,iBAGI,qDAEQ9uB,EAAYW,EAAQV,WACpBkmB,GAAAh1B,GACJ,MACFA,GAAA,GAAAf,MAAAe,GAAA,aAGM49B,KACgB,OAAhB/uB,EAAA6uB,cAAgBvgC,SAAA0R,EAAA6uB,eAEtB7uB,EAAAvR,KAAAkR,MAAA3T,EAAA++B,OAAA/qB,EAAA6uB,cAAA7uB,EAAA6uB,aACL1I,EAAAnmB,EAAA6uB,eAKP,QAAAG,KAER,OAAAhvB,EAAA8uB,YAAAxgC,SAAA0R,EAAA8uB,aAED9uB,EAAAvR,KAAAwgC,IAAAjjC,EAAA++B,OAAA/qB,EAAA8uB,YAAA9uB,EAAA8uB,4BClEG,QAAa/jB,GAAc5Z,GAEpB,MAAU,OAADA,MAGEA,IAENA,EAAYA,EAAKgG,WAAAc,cACF,KAAL9G,GAAK,QAAAA,IAEf6O,EAAAvR,QACAuR,EAAAvR,KAAWkR,MAAK,KAChBK,EAAAvR,KAAUwgC,IAAA,KACVF,IACHC,IACDjkB,EAAa9K,EAAA6d,aACb9d,EAAYQ,OAAA,eAAA,WACdR,EAAAvR,KAAAkR,MAAA,KAERovB,MAMU/uB,EAAeQ,OAAA,aAAc,WAEjBR,EAAGvR,KAAAwgC,IAAA,KACHD,OAGTruB,EAAA+B,SAAA,0CAKGvY,EAAClB,EAAaD,kCAGV+E,QAAA9E,OAAa,yBAC1BiK,UAAA,mBAAA,WAAC,OACEV,SAAO,KACPrE,OACH0gC,aAAA,IAED3C,WAAA,IACI4C,WAAe,IAClBI,cAAA,IAEDC,YAAA,IACQ7sB,SAAU,cAEV8sB,QAAQ,KAEZrtB,YAAC,iDACDhC,WAAY,kCAIfA,WAAA,8BAAA,SAAA,WAAA,SAAA,YAAA,cAAA,SAAAC,EAAAW,EAAAV,EAAA/Q,EAAAkzB,WA4BI+D,GAAAh1B,GAED,MAAKA,GAAO,GAAKf,MAAOe,GAAK,aAIzBk+B,QACA1vB,GAAOsvB,QACPjvB,GAAMvR,KAAI6gC,WAAYtvB,EAAYvR,KAAA8gC,SAEpC5vB,EAAM,GAAAvP,MAAA4P,EAAAvR,KAAA6gC,UAAAj/B,UAAA,GAAA2P,EAAAvR,KAAA+gC,UAAA,OAEJ,GAAMp/B,MAAI4P,EAAKvR,KAAO8gC,QAAKl/B,UAAgC,GAAjB2P,EAAKvR,KAAOghC,QAAe,KAClER,EAAMtvB,GAJF,qBAQPknB,GAAClnB,EAAAsvB,CACL,OAACjvB,GAAAvR,KAAA6gC,WAOItvB,EAAOvR,KAAK+gC,YACbxvB,EAAYvR,KAAAghC,QASRzvB,EAAOvR,KAAK+gC,UAAmC,IAAvBxvB,EAAAvR,KAAYghC,QAAgB,EAACzvB,EAAAvR,KAAAghC,QAAA,IAPzD5I,EAAO,GAAAz2B,MACVy2B,EAAAA,EAAAx2B,UAAA+xB,EAAA4G,WAAAnC,GAGI7mB,EAAOvR,KAAK+gC,UAAU,GAAAv4B,KAAAuM,MAAAqjB,EAAA,QAKrB7mB,EAAMvR,KAAA8gC,SAMZ5vB,EAAK,GAAOvP,MAAK4P,EAAAvR,KAAY6gC,UAAAj/B,UAAA,GAAA2P,EAAAvR,KAAA+gC,UAAA,UACzBxvB,EAAOvR,KAAKkyB,UAEZsO,EAAM,GAAC7+B,MAAAuP,EAAAtP,UAAA2P,EAAAvR,KAAAkyB,UACV3gB,EAAAvR,KAAA8gC,QAAAnN,EAAA4G,WAAAiG,GAEDA,EAAQA,EAAI5+B,UAAY2P,EAAKvR,KAAS8gC,QAAQl/B,UAC3C2P,EAAOvR,KAAKghC,QAA4C,GAAjCx4B,KAACuM,MAAQyrB,EAAO,QAKtCA,EAAM,GAAC7+B,MAAK4P,EAASvR,KAAG8gC,QAAWl/B,UAA+B,GAApB2P,EAAIvR,KAASghC,QAAc,KAC5E9vB,GAAAsvB,IAEMjvB,EAAKvR,KAAQ8gC,QAAGnN,EAAc4G,WAAA,GAAA54B,MAAAuP,EAAAtP,UAAA,OACxC2P,EAAAvR,KAAAghC,SAAAzvB,EAAAvR,KAAA+gC,UAAA,IAAA,gBArBW/gC,KAAOghC,QAAK,YAnBvBzvB,EAAAvR,KAAA+gC,UAAA,cA+COE,QACA7I,GAAIlnB,EAASsvB,QACbjvB,GAAOvR,KAAA8gC,SAKPvvB,EAAOvR,KAAAghC,UACVzvB,EAAAvR,KAAA+gC,UASGxvB,EAAUvR,KAAMghC,QAA+B,OAAvBzvB,EAAAvR,KAAa+gC,UAAsB,KAAOxvB,EAACvR,KAAA+gC,UAAA,IAPhE3I,EAAK,GAAOz2B,MACtBy2B,EAAAA,EAAAx2B,UAAA+xB,EAAA4G,WAAAnC,GAED7mB,EAAAvR,KAAAghC,QAAA,GAAAx4B,KAAAuM,MAAAqjB,EAAA,QAQS7mB,EAAAvR,KAAA6gC,WAML3vB,EAAI,GAAOvP,MAAA4P,EAAUvR,KAAK6gC,UAAQj/B,UAAkC,GAAjB2P,EAAKvR,KAAA+gC,UAAY,OAChE,GAAMp/B,MAAE4P,EAAOvR,KAAO8gC,QAAAl/B,UAAuC,GAAlB2P,EAAAvR,KAAUghC,QAAQ,KAE7D9vB,GAAKsvB,MACExgC,KAAG6gC,UAAYlN,EAAO4G,WAAY,GAAA54B,MAAA6+B,EAAA5+B,UAAA,OACzC2P,EAACvR,KAAA+gC,UAAAxvB,EAAAvR,KAAAghC,QAAA,OAAA,EAAA,KAAAzvB,EAAAvR,KAAAghC,QAAA,WAGDhhC,KAAOkyB,SAAY0O,WAZnBrvB,EAAOvR,KAAK+gC,UAAY,YApB3BxvB,EAAAvR,KAAAghC,QAAA,cAmCDE,KACA,GAAApT,EACAvc,GAAOvR,KAAG4mB,MAAA,EACbrV,EAAAvR,KAAA6gC,YAED/S,EAAAvc,EAAAvR,KAAA+gC,UAAA,GAAAxvB,EAAAvR,KAAA+gC,UAAA,IAAA,EACQxvB,EAAM6uB,aAAgB,GAAAz+B,MAAA4P,EAAAvR,KAAA6gC,UAAAj/B,UAAAksB,IAGtBvc,EAAMvR,KAAM8gC,UACZhT,EAAMvc,EAAOvR,KAAMghC,QAAM,GAAAzvB,EAAAvR,KAAAghC,QAAA,IAAA,IACrBX,WAAgB,GAAC1+B,MAAA4P,EAAAvR,KAAA8gC,QAAAl/B,UAAAksB,WAEblH,MAAK,kBAGb1V,GAACsvB,CACJ,QAAAjvB,EAAA6uB,cAAAvgC,SAAA0R,EAAA6uB,eAEDlvB,EAAO3T,EAAO++B,OAAA/qB,EAAA6uB,cAAA7uB,EAAA6uB,aAAA,KACjBlvB,IAEDA,EAAAwmB,EAAAnmB,EAAA6uB,eAEI7uB,EAAWvR,KAAC6gC,UAAgBlN,EAAC4G,WAAArpB,GAC7BK,EAAWvR,KAAC+gC,WAAe,GAAAp/B,MAAAuP,GAAAK,EAAAvR,KAAA6gC,WAAA,KAEJ,OAAvBtvB,EAAW8uB,YAAiBxgC,SAAA0R,EAAA8uB,aAC/BG,EAAAjjC,EAAA++B,OAAA/qB,EAAA8uB,YAAA9uB,EAAA8uB,WAAA,KAGMnvB,IACIsvB,EAAM9I,EAAAnmB,EAAA8uB,aAEjB9uB,EAAavR,KAAA8gC,QAAAnN,EAAA4G,WAAAiG,GAGNjvB,EAAAvR,KAAAghC,SAAoB,GAAAr/B,MAAA6+B,GAAAjvB,EAAAvR,KAAA8gC,SAAA,KAEvBK,IACA5vB,EAAOvR,KAAGkyB,SAAA0O,IACVM,IAGJ,QAAOE,KACH,GAAA/4B,GAAA1M,EAAe0lC,EAAGC,CAElB,KADAj5B,KACA1M,EAAS,EAACA,EAAA,GAAAA,IACV,IAAO0lC,EAAA,EAAAA,EAAa,EAAAA,IACtBC,EAAA,GAAAD,EAEKh5B,EAAA1B,MACStF,GAAK,GAAD1F,EAAC2lC,EACNxT,KAAKvwB,EAAA6M,IAAAzO,EAAS+M,WAAG,EAAY,KAAAC,OAAW,EAAI,GAAM,IAAEpL,EAAA6M,IAAAk3B,EAAA54B,WAAA,EAAA,MAI/D,OAAOL,GAEX,QAAEk5B,KAEFhwB,EAAOvR,KAAA6gC,UAAkB,KACrBtvB,EAAKvR,KAAO+gC,UAAY,OACpB/gC,KAAO8gC,QAAK,KAChBvvB,EAACvR,KAAAghC,QAAA,KAEDzvB,EAAAvR,KAAAkyB,SAAkB,KApMtB,GAAAxxB,GAAAD,EAAAE,IAAA,gBAAAF,EAAAG,IAAA,gBAAA,IACIF,IAGAA,EAAYG,gBAAiB,MACzB2gC,qBAAqB,aAErBC,mBAAO,aAIX/gC,EAAYG,gBAAiB,MACzB2gC,qBAAiB,4BACE,uBAEHjwB,EAAAkvB,cAAuB//B,EAAa4D,UAAUiN,EAAOkvB,eACpE//B,EAAA4D,UAAA,0BAACo9B,SAAMnwB,EAAAmvB,YAAAhgC,EAAA4D,UAAAiN,EAAAmvB,eACOp8B,UAAU,wBAK7BiN,EAAKowB,WAAYpwB,EAAUkvB,cAAAlvB,EAAAkvB,cAAA,eACvBiB,SAAYnwB,EAAOmvB,YAAQnvB,EAAAmvB,YAAA,cA+K/BkB,uBAAUR,MACVphC,QACJuhC,IAEAM,MACOC,kBAAmB,eAEtBvwB,EAACvR,KAAAkyB,SAAA0O,IAEDM,IACF3vB,EAAAksB,gBAGKsE,gBAAkB,iBAEjB/hC,KAAAkyB,SAAa0O,IACjBM,IACD3vB,EAAAksB,gBAGCuE,kBAAsB,WACvBzwB,EAAAvR,KAAA6gC,YAGKtvB,EAACvR,KAAS6gC,UAAAlN,EAAuB4G,WAAA,GAAA54B,QAIhDw/B,wBCpSLD,IACA3vB,EAAAksB,cAEAlsB,EAAA0wB,gBAAA,WACA1wB,EAAAvR,KAAA8gC,UACAvvB,EAAAvR,KAAA8gC,QAAAnN,EAAA4G,WAAA,GAAA54B,QAEAs/B,IACA1vB,EAAAvR,KAAAkyB,SAAA0O,IACAM,IACA3vB,EAAAksB,cAEAlsB,EAAA2wB,WAAA,WACA,QAAA3wB,EAAAsC,UACAtC,EAAAsC,YAIAtC,EAAA4wB,aAAA5wB,EAAA6uB,aAAA7uB,EAAA8uB,YAAA,WACA9uB,EAAAvR,KAAA4mB,OACA2a,IACAM,OAGAtwB,EAAAQ,OAAAR,EAAAsC,SAAA,SAAAZ,GACA1B,EAAAisB,gBAAAvqB,IAEAf,EAAA+B,SAAA,kCAGAlS,IAAA,SAAArG,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA8E,QAAA9E,OAAA,sBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,yBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,2BACA,w0CA+BA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,sBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,yBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uCACA;OAiGA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,sBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,yBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uCACA,2PAQA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,sBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,yBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,iDACA;;;ClEvMA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAonC,QAAA9nC,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,ImEKA,WACI,YAEA,IAAIuR,GAAaxM,QAAQ9E,OAAO,yBAC3B,aAAc,uBAAwB,wBAE3CsR,GAAWtM,QAAQ,yBACf,YAAU,SAAS6iC,GACf,OACI/vB,KAAM,SAAUzV,EAAQy1B,EAAiB5C,GACrC2S,EAAU/vB,MACNgwB,YAAazlC,EAAOR,MACpBiX,YAAa,iCACbhC,WAAY,kCACZuf,QAAUh0B,OAAQA,GAClB0lC,qBAAqB,IAExBlQ,KAAK,WACEC,GACAA,KAEL,WACK5C,GACAA,WAQxB5jB,EAAWwF,WAAW,mCAClB,SAAU,aAAQ,YAAY,YAAoB,SAAQ,SAAAC,EAAApV,EAAAkmC,EAAA5hC,EAAA5D,GACtD,GAAI6D,GAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAE/EF,IACAA,EAAawF,aAAa,MACtBs8B,cAAiB,YAErB9hC,EAAawF,aAAa,MACtBs8B,cAAiB,gBAGrBjxB,EAAO2e,MAAQrzB,EAAOqzB,OAAS,gBAC/B3e,EAAOmgB,GAAK70B,EAAO60B,IAAM,KACzBngB,EAAOP,OAASnU,EAAOmU,QAAU,WAEjCO,EAAO2e,MAAQrzB,EAAOqzB,OAAS,UAC/B3e,EAAOmgB,GAAK70B,EAAO60B,IAAM,KACzBngB,EAAOP,OAASnU,EAAOmU,QAAU,UAGrCO,EAAOkxB,MAAQtmC,EAAWumC,OAE1BnxB,EAAOoxB,SAAW,WACdN,EAAUrxB,UAGdO,EAAOqxB,KAAO,WACVP,EAAUlwB,uC7CzD1B,WACI,YAEA,IAAIrG,GAAaxM,QAAQ9E,OAAO,0BAEhCsR,GAAWsF,OAAO,aAAa,YAAU,SAAS3Q,GAC9C,GAAIC,GAAeD,EAAUE,IAAI,gBAC3BF,EAAUG,IAAI,gBAAkB,IAEtC,OAAO,UAAUyD,GACb,MAAO3D,GAAgBA,EAAa4D,UAAUD,IAAQA,EAAMA,kC8CVxE,WACI,YAEA/E,SAAQ9E,OAAO,cACX,uBACA,wBACA,mBACA,sBACA,sDCRR,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,yBAC3B,aAAc,uBAAwB,wBAE3CsR,GAAWtM,QAAQ,yBACf,YAAU,SAAS6iC,GACf,OACI/vB,KAAM,SAAUzV,EAAQy1B,EAAiB5C,GACrC2S,EAAU/vB,MACNgwB,YAAazlC,EAAOR,MACpBiX,YAAa,mCACbhC,WAAY,kCACZuf,QAASh0B,OAAQA,GACjB0lC,qBAAqB,IAEpBlQ,KAAK,WACEC,GACAA,KAEL,WACK5C,GACAA,WAQ5B5jB,EAAWwF,WAAW,mCAClB,SAAU,aAAQ,YAAY,YAAoB,SAAQ,SAAAC,EAAApV,EAAAkmC,EAAA5hC,EAAA5D,GAEtD,GAAI6D,GAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAE/EF,IACAA,EAAawF,aAAa,MACtB28B,cAAiB,gBACjBC,KAAQ,aACRC,KAAQ,OACRC,MAAS,QACTC,OAAU,SACVC,QAAW,UACXC,QAAW,YAEfziC,EAAawF,aAAa,MACtB28B,cAAiB,gBACjBC,KAAQ,aACRC,KAAQ,OACRC,MAAS,SACTC,OAAU,QACVC,QAAW,cAEf3xB,EAAOmgB,GAAK70B,EAAO60B,IAAM,KACzBngB,EAAOP,OAASnU,EAAOmU,QAAU,SACjCO,EAAOlR,aAAe,gBACtBkR,EAAO6xB,cAAgB,UACvB7xB,EAAOxR,aAAe,UACtBwR,EAAOpR,UAAY,OACnBoR,EAAO8xB,YAAc,SACrB9xB,EAAO+xB,UAAY,OACnB/xB,EAAOgyB,UAAY,UAEnBhyB,EAAOmgB,GAAK70B,EAAO60B,IAAM,KACzBngB,EAAOP,OAASnU,EAAOmU,QAAU,SACjCO,EAAOlR,aAAe,gBACtBkR,EAAO6xB,cAAgB,UACvB7xB,EAAOxR,aAAe,UACtBwR,EAAOpR,UAAY,OACnBoR,EAAO8xB,YAAc,SACrB9xB,EAAO+xB,UAAY,OACnB/xB,EAAOpS,MAAQ,SAGnBoS,EAAOkxB,MAAQtmC,EAAWumC,OAC1BnxB,EAAOpS,MAAQtC,EAAOsC,MAEtBoS,EAAOoxB,SAAW,WACdN,EAAUrxB,UAGdO,EAAOqxB,KAAO,WACVP,EAAUlwB,uCCnF1B,WACI,YAEA,IAAIrG,GAAaxM,QAAQ9E,OAAO,wBAC3B,aAAc,uBAAwB,wBAE3CsR,GAAWtM,QAAQ,wBACf,YAAU,SAAS6iC,GACf,OACI/vB,KAAM,SAAUzV,EAAQ4jB,GACpB4hB,EAAU/vB,MACNgwB,YAAazlC,EAAOR,MACpBiX,YAAa,+BACbhC,WAAY,iCACZuf,QAASh0B,OAAQA,GACjB0lC,qBAAqB,IAEpBlQ,KAAK,WACE5R,GACAA,WAQ5B3U,EAAWwF,WAAW,kCAClB,SAAU,aAAQ,YAAY,YAAoB,SAAQ,SAAAC,EAAApV,EAAAkmC,EAAA5hC,EAAA5D,GACtD,GAA8BoK,GAA1BmpB,EAAUvzB,EAAO+C,QAEjBc,EAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAC/EF,IACAA,EAAawF,aAAa,MACtBs9B,kBAAqB,gBAEzB9iC,EAAawF,aAAa,MACtBs9B,kBAAqB,eAGzBjyB,EAAO2e,MAAQrzB,EAAOqzB,OAAS,oBAC/B3e,EAAOmgB,GAAK70B,EAAO60B,IAAM,KACzBtB,EAAU1vB,EAAa4D,UAAU8rB,KAEjC7e,EAAO2e,MAAQrzB,EAAOqzB,OAAS,cAC/B3e,EAAOmgB,GAAK70B,EAAO60B,IAAM,KAG7B,IAAI+R,GAAYhjC,EAAUE,IAAI,aAAeF,EAAUG,IAAI,aAAe,IAE1E2Q,GAAOkxB,MAAQtmC,EAAWumC,OACtB7lC,EAAOoK,MAAQw8B,IACfx8B,EAAO1J,EAAEmmC,SAAS7mC,EAAOoK,KAAM,IAC/BmpB,EAAUqT,EAAUr6B,QAAQgnB,EAASnpB,GACrC3G,QAAQoZ,IAAI,WAAY0W,IAE5B7e,EAAO6e,QAAUA,EAEjB7e,EAAOqxB,KAAO,WACVP,EAAUlwB,uCC1D1B,WACI,YAEA,IAAIrG,GAAaxM,QAAQ9E,OAAO,oBAC3B,aAAc,uBAAwB,wBAE3CsR,GAAWtM,QAAQ,oBACf,YAAU,SAAS6iC,GACf,OACI/vB,KAAM,SAAUzV,EAAQy1B,EAAiB5C,GAMrC,QAAAiU,KACQ9mC,EAAOR,OAASQ,EAAOR,MAAMguB,eAC7BxtB,EAAOR,MAAMguB,cAAchF,QAP/BxoB,EAAOR,QACPQ,EAAOR,MAAM6nB,kBACbrnB,EAAOR,MAAMmC,kBASjB6jC,EAAU/vB,MACNgwB,YAAazlC,EAAOR,MACpBiX,YAAa,uBACbhC,WAAY,6BACZuf,QAASh0B,OAAQA,GACjB0lC,qBAAqB,IAExBlQ,KAAK,SAAUuR,GACZD,IAEIrR,GACAA,EAAgBsR,IAErB,WACCD,IACIjU,GACAA,WAOxB5jB,EAAWwF,WAAW,8BAClB,SAAU,aAAQ,YAAY,YAAoB,SAAQ,SAAAC,EAAApV,EAAAkmC,EAAA5hC,EAAA5D,GAgDtD,QAAAgnC,KACI,GAAIC,EAEJA,GAAOn3B,EAAE,iCACTm3B,EAAKze,QAnDT,GAAI3kB,GAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAC/EF,IACAA,EAAawF,aAAa,MACtB69B,cAAiB,kBAErBrjC,EAAawF,aAAa,MACtB69B,cAAiB,mBAGrBxyB,EAAO2e,MAAQrzB,EAAOqzB,OAAS,gBAC/B3e,EAAOyyB,iBAAmBnnC,EAAOonC,kBAAoB,WAErD1yB,EAAO2e,MAAQrzB,EAAOqzB,OAAS,gBAC/B3e,EAAOyyB,iBAAmBnnC,EAAOonC,kBAAoB,UAGzD1yB,EAAOkxB,MAAQtmC,EAAWumC,OAC1BnxB,EAAOgd,QAAU1xB,EAAO0xB,QACxBhd,EAAO2yB,eAAiB3mC,EAAE+S,KAAKzT,EAAO0xB,SAAU4V,QAAQ,QACxD5yB,EAAO6yB,mBAAqB7yB,EAAO2yB,eAAevnC,KAClD4U,EAAO8yB,QAAUxnC,EAAOwnC,QACxB9yB,EAAO+yB,aAAeznC,EAAOynC,aAC7B/yB,EAAOgzB,eAAiB,SAAUloC,EAAOunC,GACrCvnC,EAAM6nB,kBACN3S,EAAO6yB,mBAAqBR,EAAOjnC,MAGvC4U,EAAOizB,WAAa,SAAUnoC,GACJ,KAAlBA,EAAMuoB,SAAoC,KAAlBvoB,EAAMuoB,UAC9BvoB,EAAM6nB,kBACN7nB,EAAMmC,iBACN+S,EAAOkzB,aAIflzB,EAAOoxB,SAAW,WACdN,EAAUrxB,UAGdO,EAAOkzB,SAAW,WACd,GAAIb,EAEJA,GAASrmC,EAAE+S,KAAKzT,EAAO0xB,SAAU5xB,KAAM4U,EAAO6yB,qBAC9C/B,EAAUlwB,MAAMyxB,OAAQA,EAAQS,QAAS9yB,EAAO8yB,WAWpD33B,WAAWm3B,EAAY,oCCpGnC,WACI,YAEA,IAAI/3B,GAAaxM,QAAQ9E,OAAO,uBAC3B,aAAc,uBAAwB,wBAE3CsR,GAAWtM,QAAQ,uBACf,YAAU,SAAS6iC,GACf,OACI/vB,KAAM,SAAUzV,EAAQy1B,EAAiB5C,GAMrC,QAAAiU,KACQ9mC,EAAOR,OAASQ,EAAOR,MAAMguB,eAC7BxtB,EAAOR,MAAMguB,cAAchF,QAP/BxoB,EAAOR,QACPQ,EAAOR,MAAM6nB,kBACbrnB,EAAOR,MAAMmC,kBASjB6jC,EAAU/vB,MACNgwB,YAAazlC,EAAOR,MACpBiX,YAAa,2BACbhC,WAAY,gCACZuf,QAASh0B,OAAQA,GACjB0lC,qBAAqB,IAExBlQ,KAAK,SAAUuR,GACZD,IAEIrR,GACAA,EAAgBsR,IAErB,WACCD,IACIjU,GACAA,WAQxB5jB,EAAWwF,WAAW,iCAClB,SAAU,aAAQ,YAAY,YAAoB,SAAQ,SAAAC,EAAApV,EAAAkmC,EAAA5hC,EAAA5D,GAkEtD,QAAAgnC,KACI,GAAIC,EAEJA,GAAOn3B,EAAE,iCACTm3B,EAAKze,QArET,GAAI3kB,GAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAC/EF,IACAA,EAAawF,aAAa,MACtB69B,cAAiB,kBAErBrjC,EAAawF,aAAa,MACtB69B,cAAiB,mBAGrBxyB,EAAO2e,MAAQrzB,EAAOqzB,OAAS,gBAC/B3e,EAAOyyB,iBAAmBnnC,EAAOmnC,kBAAoB,WAErDzyB,EAAO2e,MAAQrzB,EAAOqzB,OAAS,gBAC/B3e,EAAOyyB,iBAAmBnnC,EAAOmnC,kBAAoB,UAGzDzyB,EAAOkxB,MAAQtmC,EAAWumC,OAC1BnxB,EAAOgd,QAAU1xB,EAAO0xB,QACxBhd,EAAOmzB,UAAY7nC,EAAO6nC,YAAa,EACvCnzB,EAAOozB,QAAU9nC,EAAO8nC,UAAW,EACnCpzB,EAAOqzB,KAAO/nC,EAAO+nC,MAAQ,GAC7BrzB,EAAO2yB,eAAiB3mC,EAAE+S,KAAKzT,EAAO0xB,SAAU4V,QAAQ,QACxD5yB,EAAO6yB,mBAAqB7yB,EAAO2yB,eAAevnC,KAClD4U,EAAOszB,YAActnC,EAAEunC,UAAUjoC,EAAO0xB,QAAShd,EAAO2yB,gBAExD3yB,EAAO8yB,QAAUxnC,EAAOwnC,QACxB9yB,EAAO+yB,aAAeznC,EAAOynC,aAE7B/yB,EAAOgzB,eAAiB,SAAUloC,EAAOunC,GACrCvnC,EAAM6nB,kBACN3S,EAAO6yB,mBAAqBR,EAAOjnC,KAE/B4U,EAAOmzB,WACPnzB,EAAOkzB,YAIflzB,EAAOwzB,WAAa,WAChBxzB,EAAO6yB,mBAAqB7yB,EAAOgd,QAAQhd,EAAOszB,aAAaloC,KAE3D4U,EAAOmzB,WAKfnzB,EAAOyzB,QAAU,SAAU3oC,EAAOmX,GACR,KAAlBnX,EAAMuoB,SAAoC,KAAlBvoB,EAAMuoB,UAC9BvoB,EAAM6nB,kBACN7nB,EAAMmC,iBACQqB,SAAV2T,GAAuBA,GAAQ,GAAMA,EAAQjC,EAAOgd,QAAQvyB,SAC5DuV,EAAO6yB,mBAAqB7yB,EAAOgd,QAAQ/a,GAAO7W,KAClD4U,EAAOkzB,cAInBlzB,EAAOoxB,SAAW,WACdN,EAAUrxB,UAEdO,EAAOkzB,SAAW,WACd,GAAIb,EAEJA,GAASrmC,EAAE+S,KAAKiB,EAAOgd,SAAU5xB,KAAM4U,EAAO6yB,qBAC9C/B,EAAUlwB,MAAMyxB,OAAQA,EAAQS,QAAS9yB,EAAO8yB,WAUpD33B,WAAWm3B,EAAY,oCC/HnC,SAAArpC,GACA,IACAA,EAAA8E,QAAA9E,OAAA,wBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,2BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,iCACA,khBAoBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,wBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,2BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,mCACA,qqFA6DA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,wBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,2BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,+BACA,8lBAyBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,wBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,2BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uBACA,4iEA8CA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,wBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,2BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,2BACA;;;CzEhMA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAiqC,IAAA3qC,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,G0EAA,YAEA,IAAIuR,GAAaxM,QAAQ9E,OAAO,wBAEhCsR,GAAWjI,SAAS,aAAc,WAuE9B,QAAAqhC,GAAuBC,EAAgBC,GACnCrnC,EAAOsnC,qBAAuBF,MAC9BpnC,EAAOunC,uBAAyBF,MAGpC,QAAAG,GAA8BJ,GAC1BpnC,EAAOsnC,qBAAuBF,MAGlC,QAAAK,GAAgCJ,GAC5BrnC,EAAOunC,uBAAyBF,MAhFpC,GAAIrnC,IAEAsnC,wBAEAI,uBAGAH,0BAEAI,yBAIJ3qC,MAAKmqC,cAAgBA,EACrBnqC,KAAKwqC,qBAAuBA,EAC5BxqC,KAAKyqC,uBAAyBA,EAG9BzqC,KAAKiI,MAAO,aAAU,SAAU7G,GAW5B,QAAAwpC,KACI,MAAO5nC,GAIX,QAAA6nC,KACI7nC,EAAO0nC,uBACP1nC,EAAO2nC,yBAEPG,IAGJ,QAAAC,GAA0BX,EAAgBC,GACtCrnC,EAAO0nC,oBAAsBN,MAC7BpnC,EAAO2nC,sBAAwBN,MAE/BS,IAIJ,QAAAE,GAA2BC,EAAYvK,GAEnCl+B,EAAEkJ,KAAK1I,EAAOsnC,qBAAsB,SAAUzT,GACtCA,EAAOj1B,OAASqpC,IAChBpU,EAAO6J,MAAQA,KAIvBl+B,EAAEkJ,KAAK1I,EAAO0nC,oBAAqB,SAAU7T,GACrCA,EAAOj1B,OAASqpC,IAChBpU,EAAO6J,MAAQA,KAGvBoK,IAGJ,QAAAA,KACI1pC,EAAWwG,WAAW,oBAAqB5E,GA/C/C,OACIA,OAAQ4nC,EAERrzB,KAAMwzB,EACN3zB,KAAMyzB,EACNnK,MAAOsK,gCC3BnB,WACI,YAEA,IAAIj6B,GAAaxM,QAAQ9E,OAAO,qBAC3B,aAAc,mBAAoB,mBAAoB,sBAG3DsR,GAAWrH,UAAU,oBAAqB,WACtC,OACIV,SAAU,IACVrE,OACIumC,aAAc,mBACdf,cAAe,qBAEnB99B,SAAS,EACTkM,YAAa,SAAUnP,EAASyX,GAC5B,MAAO,gCAEXtK,WAAY,iCAIpBxF,EAAWwF,WAAW,+BAClB,SAAU,WAAQ,SAAU,aAAkB,UAAW,YAAW,YAAW,aAAU,SAAAC,EAAAW,EAAAV,EAAArV,EAAAc,EAAAipC,EAAAzlC,EAAA0lC,GAuBrF,QAAAC,GAA0B/pC,EAAO0B,GAC7BwT,EAAOxT,OAASA,EAGpB,QAAAsoC,GAAsBzU,GAClB,MAAOA,GAAO0U,SAAW1U,EAAO0U,OAAO1U,GAG3C,QAAA2U,GAAqB3U,GACjB,MAAqB,QAAjBA,EAAO6J,OAAkB7J,EAAO6J,OAAS,EAClC,GAEP7J,EAAO6J,MAAQ,GACR,IAGJ7J,EAAO6J,MAyBlB,QAAA+K,GAAuB5U,EAAQ6U,GAC3B,GAAK7U,IAAUA,EAAO8U,QAAtB,CAQA,GAJI9U,EAAOluB,QACP6N,EAAOo1B,aAAe,MAGtB/U,EAAOgV,KAEP,WADAH,GAAYl1B,EAAOo1B,aAIvB,IAAI/U,EAAOnR,SAEP,WADAmR,GAAOnR,UAIX,IAAImR,EAAOiV,KAEP,YADA5pC,EAAQyB,SAASmoC,KAAOjV,EAAOiV,KAInC,IAAIjV,EAAOh1B,IAEP,WADAspC,GAAUtpC,IAAIg1B,EAAOh1B,IAIzB,IAAIg1B,EAAOt0B,OACP,GAAImD,EAAUE,IAAI,UAAW,CACzB,GAAI1B,GAASwB,EAAUG,IAAI,SAC3B3B,GAAOvB,GAAGk0B,EAAOt0B,MAAOs0B,EAAOkV,kBAKnClV,GAAOv1B,MACPF,EAAWwG,WAAWivB,EAAOv1B,OAG7BF,EAAWwG,WAAW,mBAAoBivB,EAAOj1B,OAvGzDuV,EAAS+B,SAAS,uBAElB1C,EAAOxT,OAASooC,EAAWpoC,SAEvBwT,EAAO00B,eACPE,EAAWL,mBACXv0B,EAAOxT,OAAO0nC,oBAAsBl0B,EAAO00B,aAAa,IAGxD10B,EAAO2zB,gBACPiB,EAAWL,mBACXv0B,EAAOxT,OAAOsnC,qBAAuB9zB,EAAO2zB,cAAc,IAG9D/oC,EAAWC,IAAI,oBAAqBgqC,GAEpC70B,EAAO80B,aAAeA,EACtB90B,EAAOg1B,YAAcA,EAErBh1B,EAAOi1B,cAAgBA,iCC5CnC,WACI,YAEA,IAAI16B,GAAaxM,QAAQ9E,OAAO,uBAC3B,aAAc,mBAAoB,mBAAoB,sBAG3DsR,GAAWrH,UAAU,sBAAuB,WACxC,OACIV,SAAU,IACVrE,OACIwwB,MAAO,YACP6W,SAAU,eACVd,aAAc,mBACdf,cAAe,oBACf8B,eAAgB,sBAEpB5/B,SAAS,EACTkM,YAAa,SAAUnP,EAASyX,GAC5B,MAAO,kCAEXtK,WAAY,mCAIpBxF,EAAWwF,WAAW,iCAClB,SAAU,WAAQ,SAAU,aAAkB,UAAW,YAAW,YAAW,aAAU,SAAAC,EAAAW,EAAAV,EAAArV,EAAAc,EAAAipC,EAAAzlC,EAAA0lC,GA2BrF,QAAAc,GAAkBR,EAAaS,GAC3B31B,EAAOo1B,aAAeO,EACtBT,EAAYS,GAGhB,QAAAd,GAA0B/pC,EAAO0B,GAC7BwT,EAAOxT,OAASA,EAGpB,QAAAsoC,GAAsBzU,GAClB,MAAOA,GAAO0U,SAAW1U,EAAO0U,OAAO1U,GAG3C,QAAA2U,GAAqB3U,GACjB,MAAqB,QAAjBA,EAAO6J,OAAkB7J,EAAO6J,OAAS,EAClC,GAEP7J,EAAO6J,MAAQ,GACR,IAGJ7J,EAAO6J,MAGlB,QAAA0L,GAAqB7V,GACjB,GAAImK,GAAQ,CAQZ,OANAl+B,GAAEkJ,KAAK6qB,EAAS,SAAUM,GACjByU,EAAazU,IACd6J,MAIDA,EAGX,QAAA2L,KACI,MAAOD,GAAY51B,EAAOxT,OAAOunC,wBAA0B,GACvD6B,EAAY51B,EAAOxT,OAAO2nC,uBAAyB,EAG3D,QAAA2B,KACI,MAAOF,GAAY51B,EAAOxT,OAAOunC,wBAA0B,GACvD6B,EAAY51B,EAAOxT,OAAO2nC,uBAAyB,EAG3D,QAAAc,GAAuB5U,EAAQ6U,GAC3B,GAAK7U,IAAUA,EAAO8U,QAAtB,CAQA,GAJI9U,EAAOluB,QACP6N,EAAOo1B,aAAe,MAGtB/U,EAAOgV,KAEP,WADAH,GAAYl1B,EAAOo1B,aAIvB,IAAI/U,EAAOnR,SAEP,WADAmR,GAAOnR,UAIX,IAAImR,EAAOiV,KAEP,YADA5pC,EAAQyB,SAASmoC,KAAOjV,EAAOiV,KAInC,IAAIjV,EAAOh1B,IAEP,WADAspC,GAAUtpC,IAAIg1B,EAAOh1B,IAIzB,IAAIg1B,EAAOt0B,OACP,GAAImD,EAAUE,IAAI,UAAW,CACzB,GAAI1B,GAASwB,EAAUG,IAAI,SAC3B3B,GAAOvB,GAAGk0B,EAAOt0B,MAAOs0B,EAAOkV,kBAKnClV,GAAOv1B,MACPF,EAAWwG,WAAWivB,EAAOv1B,OAG7BF,EAAWwG,WAAW,mBAAoBivB,EAAOj1B,OAhHzDuV,EAAS+B,SAAS,yBAElB1C,EAAOxT,OAASooC,EAAWpoC,SAEvBwT,EAAO00B,eACPE,EAAWL,mBACXv0B,EAAOxT,OAAO2nC,sBAAwBn0B,EAAO00B,aAAa,IAG1D10B,EAAO2zB,gBACPiB,EAAWL,mBACXv0B,EAAOxT,OAAOunC,uBAAyB/zB,EAAO2zB,cAAc,IAGhE/oC,EAAWC,IAAI,oBAAqBgqC,GAEpC70B,EAAO80B,aAAeA,EACtB90B,EAAOg1B,YAAcA,EACrBh1B,EAAO61B,wBAA0BA,EACjC71B,EAAO81B,wBAA0BA,EAEjC91B,EAAOi1B,cAAgBA,EAEvBj1B,EAAO01B,SAAWA,iCCnD9B,WACI,YAEA,IAAIn7B,GAAaxM,QAAQ9E,OAAO,aAC3B,aAAc,mBAAoB,qBAGvCsR,GAAWrH,UAAU,YAAa,WAC9B,OACIV,SAAU,IACVsW,YAAY,EACZ3a,OAAO,EACP4T,YAAa,qBACbhC,WAAY,yBAIpBxF,EAAWwF,WAAW,uBAClB,SAAU,WAAQ,aAAU,YAAqB,SAAAC,EAAAW,EAAA/V,EAAAmrC,GAW7C,QAAAC,GAAyBlrC,EAAO0B,GAC5BwT,EAAOxT,OAASA,EAVpBmU,EAAS+B,SAAS,cAClB/B,EAAS+B,SAAS,oBAElB1C,EAAOi2B,MAAM,mBAEbj2B,EAAOxT,OAASupC,EAAUvpC,SAE1B5B,EAAWC,IAAI,mBAAoBmrC,kCC3B/C,WACI,YAEA,IAAIz7B,GAAaxM,QAAQ9E,OAAO,kBAAmB,qBAGnDsR,GAAWrH,UAAU,iBAAiB,gBAAU,SAAagjC,GACzD,GAAIC,GAAOD,EAAc,EAEzB,QACIptB,WAAYqtB,EAAKrtB,WACjBstB,SAAUD,EAAKC,SACfC,SAAUF,EAAKE,SACf7jC,SAAU2jC,EAAK3jC,SACfrE,OAAO,EACPwE,KAAM,SAAsBqN,EAAaW,EAAUV,GAE/CA,EAAOk2B,KAAO,WACV,MAAOn2B,GAAOs2B,SAElBH,EAAKxjC,KAAK4jC,MAAMJ,EAAM/9B,YAE1B2H,WAAY,8BAIpBxF,EAAWwF,WAAW,2BAClB,SAAU,WAAQ,SAAU,aAAkB,YAAW,SAAAC,EAAAW,EAAAV,EAAArV,EAAAmrC,GAerD,QAAAC,GAAyBlrC,EAAO0B,GAC5B,GAAIgqC,GAAQhqC,EAAOgqC,UACfC,EAAmBD,EAAME,GAGzBJ,KAAaK,EAAYF,GAAoBE,EAAYF,EAEzDH,IAAWt2B,EAAOs2B,UAClBt2B,EAAOs2B,QAAUA,GAtBzB,GAAII,GAAW,GAAKz2B,EAAO22B,cACvBD,EAAY,KAGZrY,EAAMoY,EAASl/B,QAAQ,IACvB8mB,GAAM,IACNqY,EAAYD,EAASt/B,OAAOknB,EAAM,GAClCoY,EAAWA,EAASt/B,OAAO,EAAGknB,IAGlC0X,EAAgB,KAAMD,EAAUvpC,UAEhC5B,EAAWC,IAAI,mBAAoBmrC,kCCxC/C,WACI,YAEA,IAAIz7B,GAAaxM,QAAQ9E,OAAO,uBAEhCsR,GAAWjI,SAAS,YAAa,WAqH7B,QAAA4+B,GAAeA,GAGX,MAFA1kC,GAAO0kC,MAAQA,GAAS1kC,EAAO0kC,MAExB1kC,EAAO0kC,MAGlB,QAAA2F,GAAmBL,GAIf,MAHIxqC,GAAEgD,SAASwnC,KACXhqC,EAAOgqC,MAAQA,GAEZhqC,EAAOgqC,MA9HlB,GAAIhqC,IAEA0kC,MAAO,UACP4F,SAAU,GACVC,aAEAP,SACAQ,YAAY,EAIhBxtC,MAAK0nC,MAAQA,EACb1nC,KAAKgtC,MAAQK,EAGbrtC,KAAKiI,MAAO,aAAU,SAAU7G,GAkB5B,QAAAwpC,KACI,MAAO5nC,GAIX,QAAAsqC,GAAkBG,GAMd,MALmB3oC,SAAf2oC,IACAzqC,EAAOsqC,SAAWG,EAClB3C,KAGG9nC,EAAOsqC,SAIlB,QAAAE,KACIxqC,EAAOwqC,YAAa,EACpB1C,IAIJ,QAAA4C,KACI1qC,EAAOwqC,YAAa,EACpB1C,IAIJ,QAAA6C,KACI3qC,EAAOuqC,UAAU,eAAgB,EACjCvqC,EAAOuqC,UAAU,kBAAmB,EACpCvqC,EAAOuqC,UAAU,kBAAmB,EACpCzC,IAGJ,QAAA8C,KACI5qC,EAAOuqC,UAAU,eAAgB,EACjCvqC,EAAOuqC,UAAU,kBAAmB,EACpCvqC,EAAOuqC,UAAU,kBAAmB,EACpCzC,IAGJ,QAAA+C,KACI7qC,EAAOuqC,UAAU,eAAgB,EACjCzC,IAGJ,QAAAgD,KACI9qC,EAAOuqC,UAAU,eAAgB,EACjCvqC,EAAOuqC,UAAU,kBAAmB,EACpCvqC,EAAOuqC,UAAU,kBAAmB,EACpCzC,IAGJ,QAAAiD,GAAsBnsC,EAAM+F,GACxB,IAAKnF,EAAEyR,SAASrS,GACZ,KAAM,IAAIf,OAAM,+BASpB,OAPaiE,SAAT6C,GACI3E,EAAOgqC,MAAMprC,IAAS+F,IACtB3E,EAAOgqC,MAAMprC,GAAQ+F,EACrBmjC,KAID9nC,EAAOgqC,MAAMprC,GAGxB,QAAAosC,GAAuBhB,GAQnB,MAPIxqC,GAAEgD,SAASwnC,KACNxqC,EAAEyrC,QAAQjrC,EAAOgqC,MAAOA,KACzBhqC,EAAOgqC,MAAQA,EACflC,MAID9nC,EAAOgqC,MAGlB,QAAAlC,KACI1pC,EAAWwG,WAAW,mBAAoB5E,GAhG9C,OACIA,OAAQ4nC,EACR0C,SAAUA,EAEVY,KAAMH,EACNf,MAAOgB,EAEPz2B,KAAMi2B,EACNp2B,KAAMs2B,EACNG,WAAYA,EACZF,aAAcA,EACdC,eAAgBA,EAChBE,WAAYA,uDC0BxBK,YAEInlC,SAAS,IACTrE,SACA0H,SAAA,cACW,SAAAjD,EAAAyX,GACV,MAAA,8BAEDtK,WAAY63B,EACdC,aAAA,MArEN,GAAAC,GAAA3tC,EAAuC,wBACvC4tC,EAAA5tC,EAAoC,wBAEpCytC,EAAA,mBAeQA,GAAW53B,EAAAW,EAAAV,EAAArV,EAAAc,EAAAgC,EAAAsqC,GAEX,UACAxuC,MAAKwH,WAAUpG,EAGfpB,KAAAyuC,QAASvsC,EAETiV,EAAK+B,SAAS,kBAEdlZ,KAAAgD,OAAcwrC,EAACxrC,OACf5B,EAAWC,IAAIitC,EAAAI,uBAAqB1uC,KAAK2uC,qBAC5CvtC,EAAAC,IAAAktC,EAAAK,oBAAA5uC,KAAA6uC,kBA3BL,MAMIT,GAAArrC,SACI,SACA,WACW,SACX,aAEA,UACA,SAAiC,mBAiBnB0E,UAAOknC,oBAAA,SAAArtC,EAAA0B,GACxBhD,KAAAgD,OAAAA,KAGoByE,UAAOonC,iBAAM,WAE9B,GAAI5iC,GAAEjM,KAAQgD,OAAUiJ,SACpBzJ,EAAAmW,QAAI1M,IAAqBA,EAAMhL,OAAM,EAAM,CAC3C,GAAI6tC,GAAa7iC,EAAAA,EAAchL,OAAA,GAAA8tC,KAC3BvsC,GAAAytB,WAAY6e,GACZA,IAEP9uC,KAAAyuC,QAAArsC,QAAAC,WAEJrC,MAAAyuC,QAAArsC,QAAAC,UAGoBoF,UAAUunC,kBAAE,SAAA9iC,GACzB1J,EAAAytB,WAAW/jB,EAAM6iC,QACxB7iC,EAAA6iC,MAAA7iC,MAGmBzE,UAAWwnC,aAAe,WAC7CjvC,KAAAwH,WAAAI,WAAA,kBACJwmC,aAiBO3uC,OAAA,iBACA,aACA,mBACA,mBACF,uGChFK,YACAD,GAAAkvC,uBAAsB,uBAEjClvC,EAAAovC,oBAAA,uBAAAM,GAAA,WAGA,QAACA,MAHD,MAGCA,KAED1vC,GAAA0vC,eAAAA,KAAAC,GAAA,WAIA,QAACA,MAJD,MAICA,KAaD3vC,GAAA2vC,iBAAAA,KAIIC,GAAA,mBAISA,GAAiBpsC,EAAA5B,GACtBpB,KAAKqvC,QAAUrsC,EAClBhD,KAAAwH,WAAApG,EAVL,6BAYIguC,EAAA3nC,UAAA,cACI,WACH,MAAAzH,MAAAqvC,uBAAAvnC,cAAA,0BAEDsnC,EAAA3nC,UAAA,YACI,WACH,MAAAzH,MAAAqvC,QAAA7lC,UAGG,SAAK7B,GACL3H,KAAKqvC,QAAQ7lC,KAAK7B,EAElB3H,KAAKqvC,QAAApjC,MAAY,KACpBjM,KAAAsvC,2BAPAxnC,cAAA,0BASDsnC,EAAA3nC,UAAA,aACI,WACH,MAAAzH,MAAAqvC,QAAApjC,WAGG,SAAKtE,GACL3H,KAAKqvC,QAAQ7lC,KAAK,KAElBxJ,KAAKqvC,QAAApjC,MAAYtE,EACpB3H,KAAAsvC,2BAPAxnC,cAAA,0BASDsnC,EAAA3nC,UAAA,gBACI,WACH,MAAAzH,MAAAqvC,QAAAE,cAGG,SAAK5nC,GACL3H,KAAKqvC,QAAAE,SAAY5nC,EACpB3H,KAAAsvC,2BALAxnC,cAAA,MAQQL,UAAW6nC,UAAW,WAC9BtvC,KAAAwH,WAAAI,WAAApI,EAAAkvC,uBAAA1uC,KAAAqvC,UACJD,KAEDI,EAAA,mBACYA,UACJH,SACA7lC,KAAK,KACLyC,MAAA,KACFsjC,SAAA,MALN,6BAQIC,EAAA/nC,UAAA,YACI,WACH,MAAAzH,MAAAqvC,QAAA7lC,UAGG,SAAK7B,GACR3H,KAAAqvC,QAAA7lC,KAAA7B,iBAJAG,cAAA,MAOcL,UAAAQ,MAAA,aAAA,SAAA7G,GAEX,UAIH,OAHuB,OAAhBpB,KAAKgI,WAEThI,KAAOgI,SAAa,GAAConC,GAAApvC,KAAAqvC,QAAAjuC,IACxBpB,KAAAgI,WACJwnC,aAII/vC,OAAA,6D3DzGLgwC,GAAA,SAAa9uC,EAAAlB,EAAAD,GAEb,qBAGQsK,GAAepE,GAEnB,cACIC,GAAOD,EAAgBE,IAAA,gBAAuBF,EAAWG,IAAG,gBAAI,IACpE,OAAC,UAAAyD,GACJ,MAAA3D,GAAAA,EAAA4D,UAAAD,IAAAA,EAAAA,KAPcvG,SAAA,mD4DDdsT,OAAA,YAAAvM,QACG9C,IAAA,SAAarG,EAAAlB,EAAAD,eAIb,gBAEQuR,GAAOxM,QAAA9E,OAAA,eAAA,uBACHiK,UAAa,eAAA,WAAA,SAAA8O,mBAET,WAEAL,WAAY,IACZoe,QAAA,cACAmZ,aAAQ,WACXC,YAAA,kBACDC,OAAW,kCAII,qCAEA,SAAW,WAAS,SAAA,sBAAA,SAAAp5B,EAAAW,EAAAV,EAAA7J,GAC3B4J,EAAOkC,OAAOjC,EAAIiC,OAAc,IAAM,OAAQ9L,EAAmB/G,IAAM,SAAW,SAClF2Q,EAAOgC,SAAWA,EAElBhC,EAAO+f,QAAW/f,EAAA+f,SAAA/zB,EAAAmW,QAAAnC,EAAA+f,SAAA/f,EAAA+f,aACXoZ,YAAQn5B,EAAam5B,aAAE,aACf,WACX,QAACn5B,EAAA2B,cAAO3B,EAAA2B,gBAOLuxB,SAAQ,SAASjxB,KAChBk3B,YAAcl3B,EACjBjC,EAAAo5B,QACHp5B,EAAAo5B,OAAAp5B,EAAA+f,QAAA9d,GAAAjC,EAAAm5B,qBAIY,WACV,OAACn5B,EAAAk5B,gBAAOl5B,EAAAk5B,8BC5CpCG,IAAA,SAAUlvC,EAAAlB,EAAAD,MAACS,aAAAA,MACPiqC,aAEAA,wBAiDQ4F,qBAEC,IACDnrC,OACAorC,UAAa,cAEb1jC,SAAC,EACDkM,YAAY,SAAAnP,EAAAyX,GACZ,MAAA,wCAEPtK,WAAAy5B,EAEM3B,aAAA,YAjDY,mBAEN2B,GAAoBx5B,EAAAW,EAAAV,EAAArV,EAAAmC,EAAAmC,GACzB,UAGA1F,MAAA+vC,WAAkB,KAAA,MAElB/vC,KAAKiwC,SAAS1sC,EAGdvD,KAAAkwC,WAAexqC,EAAAE,IAAiB,gBAAOF,EAAcG,IAAA,gBAAA,KACxDsR,EAAA+B,SAAA,uBAIDlZ,KAAA+vC,UAAAv5B,EAAWu5B,YAAX1uC,IAAA,kBAAArB,KAAAmwC,cAmBA,SArB8BptC,SAAY,SAAA,WAAA,SAAA,aAAA,WAAA,oBAIzC2E,eAAAsoC,EAAAvoC,UAAA,iFAEMI,YAAA,EACHC,cAAc,IAGXkoC,EAAAvoC,UAAA0oC,aAAe,SAAtBC,GAAApwC,KAAA+vC,UAMCK,EAAAnvC,OAAA,EAAAmvC,GAAA,KAAA,SAJqB3oC,UAAA4oC,gBAAA,SAAAnlC,SACVlL,IACE,OAANA,KAAKkwC,YACRlwC,KAAAiwC,SAAA,WACJl6B,EAAAm6B,WAAAhlC,SAAA6K,EAAA7K,UAEL,IAGW8kC,aAkBNvwC,OAAA,qBApEK,aAAH,mBAqEV,uDCrESyqC,EAsBTjqC,EAAAiqC,MAAAjqC,EAAAiqC,UAtBDjqC,IAAOA,YAAIqwC,IAAA,SAsBV3vC,EAAAlB,EAAAD,MAtBUS,aACPA,MAEAiqC,aACIA,wBAGAzqC,OAAS,UAET,iBACA,cACA,UACA,YACA,aACA,gBACA,oBACA,sBACA,aACA,aACA,eACD,mBApBO,mBAAP,wBCANyqC,EAAAjqC,EAAAiqC,MAAAjqC,EAAAiqC,cACGjqC,YAEA8I,IAAI,SAAUpI,EAAGlB,EAAQD,kCAMV+E,QAAM9E,OAAA,gBAAA,aAAA,mBAAA,2BACdiK,UAAO,eAAA,2BAEH,YAEAyrB,MAAA,YACHob,SAAA,eACDC,SAAc,YACdC,SAAa,gBAEfpkC,SAAA,EACFkM,YAAA,6BAEHhC,WAAW,8BAWHA,WAAe,0BAAsB,SAAkB,WAAC,aAAA,WAAA,eAAA,SAAAC,EAAAW,EAAA/V,EAAAmC,EAAAmtC,WA0BhDC,GAAY5xB,EAAaoX,MACzBya,MAAUlyB,EAAsBK,EAASzH,MAAKyH,EAAAzH,QAAAyH,EAAA8xB,YAAAnqB,EAAA3H,EAAAjF,OAAAiF,EAAAjF,SAAAiF,EAAAgM,aAAA+lB,EAAA3a,EAAA,GAAA4a,cAAA5a,EAAA7e,MAAA05B,EAAA7a,EAAA,GAAA8a,eAAA9a,EAAArc,OAAAo3B,EAAA,CAC9CJ,GAAUpyB,EAAiBsyB,EAAkBtqB,GAC7CwqB,KAAUJ,EAAaE,EAAgBtqB,EAAgBhI,GAAkB,GACzEkyB,EAAU,eAAgB,GAAGM,EAAA,KAChCN,EAAA,OAAA,GAAAlqB,EAAA,KAAKkqB,EAAE,MAAA,GAAAE,EAAApqB,EAAAsqB,EAAA,KACJJ,EAAU,cAAgB,KAG1BM,KAAUF,EAAgBF,EAAApyB,EAAsBgI,GAAA,GAChDkqB,EAAU,cAAc,GAAMM,EAAA,KACjCN,EAAA,OAAA,GAAAI,EAAAtyB,EAAAoyB,EAAA,KAEDF,EAAqB,MAAA,GAAAlyB,EAAA,KACxBkyB,EAAA,eAAA,IAEDza,EAAAne,IAAA44B,WAKQO,QACAtvC,GAAAmB,EAAY0tC,EAAY1tC,WACxBwT,EAAOg6B,SAAYh6B,EAAKg6B,SAAAxtC,EAAAouC,gBAC3BvvC,GAAK0D,QAAEoZ,IAAA,MAAA9c,GACJwvC,EAAOxwB,KAAK,MAAAhf,KAInB0D,QAAAoZ,IAAA,gBAED2yB,EAAAt5B,IAAA,UAAA,SAKN,QAAAu5B,KAEDnwC,EAAAwG,WAAA,qBA/DO,GAA8DypC,GAA9Dlb,EAAW,KAAImb,EAAAn6B,EAAA5B,KAA4B,uBAE3C4B,GAAO+B,SAAW,kBAElB9X,EAASC,IAAA,qBAAA8vC,KACC9vC,IAAG,2BAAc8vC,KACvBI,YAAiBA,IACjB,aACSp6B,EAAK5B,KAAO,kCAErB87B,EAAGG,KAAA,SAAAtsB,GACAiR,EAAAvkB,EAAAsT,EAAAnJ,QAEA40B,EAAAW,EAAAnb,qBC5Cfsb,IAAI,SAAU9wC,EAAGlB,EAAQD,kCAKT+E,QAAK9E,OAAA,cAAA,aAAA,mBAAA,mBAAA,yBACbiK,UAAO,aAAA,2BAEH,WAEJyT,KAAS,WACTqzB,SAAa,gBAEbnkC,SAAC,EACDkM,YAAY,SAAAnP,EAAAyX,GACd,MAAA,0BAGNtK,WAAW,4BAOHA,WAAe,wBAAqB,SAAiB,WAAC,SAAA,aAAA,UAAA,aAAA,SAAAC,EAAAW,EAAAV,EAAArV,EAAAc,EAAAwvC,GAQtD,QAAAC,GAAArwC,EAAA0B,GACIwT,EAAIxT,OAAYA,UAIZ4uC,KACEpvC,EAACytB,WAAWzZ,EAAOxT,OAAQ0iB,UAC7BlP,EAAAxT,OAAW0iB,WACJlP,EAAOxT,OAAO1B,MACrBF,EAAWwG,WAAW4O,EAAAxT,OAAA1B,OACO,QAAtBkV,EAAOxT,OAAOma,KACrB/b,EAAQwG,WAAc,kBAClB,QAAA4O,EAAAxT,OAAAma,KACJjb,EAAAE,QAAWC,OAKzBjB,EAAAwG,WAAA,qBAxBMuP,EAAO+B,SAAA,gBAEP1C,EAAAxT,OAAA0uC,EAA0B1uC,WACf3B,IAAA,oBAAgBswC,GAC3Bn7B,EAACo7B,eAAAA,aC/BT/nC,IAAI,SAAUlJ,EAAGlB,EAAQD,kCAKX+E,QAAM9E,OAAA,2BAEZqJ,SAAU,aAAI,WAiElB,QAAA8hC,KACI,MAAO5nC,WAEP6uC,KACH7uC,EAAAma,KAAA,OAEDna,EAAA0iB,SAAiB,KACb1iB,EAAO1B,MAAO,aAEdwwC,GAAYC,GAEZ/uC,EAAMma,KAAA,SACFuI,SAAO,KACX1iB,EAAM1B,MAAS,KACXkB,EAAAytB,WAAY8hB,KACnB/uC,EAAA0iB,SAAAqsB,GAEDvvC,EAAAyR,SAAiB89B,KACb/uC,EAAW1B,MAAGywC,WAEdC,GAAOC,EAAgBF,GACvB/uC,EAAOma,KAAK,OAEZna,EAAMivC,SAAWA,IACbvsB,SAAO,KACX1iB,EAAM1B,MAAS,KACXkB,EAAAytB,WAAY8hB,KACnB/uC,EAAA0iB,SAAAqsB,GAEDvvC,EAAAyR,SAAiB89B,KACb/uC,EAAW1B,MAAGywC,WAEdG,GAAYH,GAEZ/uC,EAAMma,KAAA,SACFuI,SAAO,KACX1iB,EAAM1B,MAAS,KACXkB,EAAAytB,WAAY8hB,KACnB/uC,EAAA0iB,SAAAqsB,GAEDvvC,EAAAyR,SAAkB89B,KACd/uC,EAAW1B,MAAGywC,WAEdI,GAAO3B,EAAgBuB,GACvB/uC,EAAOma,KAAK,QAEZna,EAAMwtC,SAAWA,IACb9qB,SAAO,KACX1iB,EAAM1B,MAAS,KACXkB,EAAAytB,WAAY8hB,KACnB/uC,EAAA0iB,SAAAqsB,GAEFvvC,EAAAyR,SAAA89B,KAEF/uC,EAAA1B,MAAAywC,MArHO/uC,IAEAma,KAAA,OAEAqzB,SAAO,KACTyB,SAAA,OAEEvsB,SAAU,KACVpkB,MAAM,KAEVtB,MAAKgD,OAAO4nC,EACZ5qC,KAAK6xC,MAAOA,EACZ7xC,KAAK6rC,KAAKiG,EAGV9xC,KAAKqC,KAAO6vC,OACRE,KAAOJ,aACHG,aACI,aAAM,SAAA/wC,GAYd,QAACgW,KAEDy6B,IACI/G,IAEJ,QAACkB,GAAA+F,GAEDD,EAAAC,GACIjH,IAEJ,QAACuH,GAAAJ,EAAAF,GAEDC,EAAAC,EAAkBF,GACdjH,IAEJ,QAACwH,GAAAP,GAEDG,EAAAH,GACIjH,IAEJ,QAACyH,GAAA/B,EAAAuB,GAEDI,EAAA3B,EAAAuB,GACIjH,IAGN,QAAAA,KAEF1pC,EAAAwG,WAAA,oBAAA5E,UAtCQA,OAAM4nC,EACNxzB,KAAMA,EACNy0B,KAAKG,EACP3pC,KAAAiwC,EAIFF,KAAAC,EACIlc,MAAOoc,eCrCnBC,IAAI,SAAU7xC,EAAGlB,EAAQD,kCAMV+E,QAAM9E,OAAA,cAAA,aAAA,mBAAA,mBAAA,yBACdiK,UAAO,aAAA,2BAEN,KACD/E,OACA3B,OAAW,aAEbqJ,SAAA,EACFkM,YAAA,yBAEHhC,WAAW,4BAQHA,WAAe,wBAAqB,SAAiB,WAAA,aAAA,UAAA,YAAA,WAAA,YAAA,aAAA,aAAA,SAAAC,EAAAW,EAAA/V,EAAAc,EAAAipC,EAAA5nC,EAAAmC,EAAA+sC,EAAAC,GAcrD,QAAAC,GAAAzmC,GACI,MAAIA,IAASA,EAAKq/B,SAAAr/B,EAAAq/B,OAAAr/B,WAEd0mC,GAAgBC,UACZ,CAMR,OALArwC,GAAEkJ,KAACmnC,EAAA,SAAA1pC,GACIwpC,EAAOxpC,KACjBmE,GAAA,KAGUA,EAGX,QAAAwlC,GAAqBxxC,EAAW0B,GAC5BwT,EAAMxT,OAAAA,UAGF+vC,GAAWzxC,EAAQ6H,GAEvB,KADIggB,mBACHhgB,EAGG,WADAspC,GAAW9pC,aAGPmjC,KACJ,MAAC3iC,GAAA2iC,KAAAt5B,MAAA,KAAA,KAAAtQ,EAAAyB,SAAAmoC,KAAAt5B,MAAA,KAAA,OAEDigC,GAAW9pC,SAGX8pC,EAAQ9pC,YAERpF,GAAO,WACVrB,EAAAyB,SAAAmoC,KAAA3iC,EAAA2iC,MACM,SAGC3iC,EAAMtH,IACV,MAACsH,GAAAtH,IAAA2Q,MAAA,YAAA,KAAA24B,EAAAtpC,MAAA2Q,MAAA,YAAA,OAEDigC,GAAW9pC,SAGX8pC,EAAQ9pC,YAERpF,GAAO,WACV4nC,EAAAtpC,IAAAsH,EAAAtH,MACM,SAICsH,EAAA5G,MAAW,IACX2B,GAAOwB,EAAAE,IAAA,UAAAF,EAAAG,IAAA,UAAA,IACX,OAAC,OAAA3B,GAAAA,EAAA8uC,QAAApxC,OAAAuH,EAAA5G,UAEDkwC,GAAW9pC,WAGHA,eACA,WACJ,GAACjD,EAAAE,IAAA,UAAA,CACG,GAAA1B,GAAAwB,EAAAG,IAAA,SAED3B,GAAAvB,GAAAwG,EAAA5G,MAAA4G,EAAA4iC,eAEJ,MAIV5iC,EAAA7H,OAEPF,EAAAwG,WAAAuB,EAAA7H,MAAA6H,GAEDspC,EAAA9pC,QArFOwO,EAAO+B,SAAW,gBAClB1C,EAAOxT,OAAAwT,EAAcxT,QAAY0vC,EAAA7sC,MACjCzE,EAAOC,IAAA,oBAAiByxC,GAExBt8B,EAAOm8B,YAAAA,EAIPn8B,EAAAu8B,YAAqBA,IACjBH,eAAoBA,aCxBhCK,IAAA,SAAAtyC,EAAmBlB,EAASD,sBAGnB,mBAEA0zC,GAAUxtC,GACf,UACA1F,MAAKmzC,OAASztC,EAAUE,IAAI,aAAeF,EAAUG,IAAI,aAAe,KACxE7F,KAAKozC,QAAU1tC,EAAUE,IAAI,cAAgBF,EAAUG,IAAI,cAAgB,KAC3E7F,KAAKqzC,WAAY3tC,EAAUE,IAAI,iBAAkBF,EAAUG,IAAI,iBAAkB,KACjF7F,KAAKu2B,QAAU7wB,EAAUE,IAAI,cAAgBF,EAAUG,IAAI,cAAgB,KAC9E7F,KAAAsS,OAAA5M,EAAAE,IAAA,aAAAF,EAAAG,IAAA,aAAA,KAUL7F,KAAAszC,QAAC5tC,EAAAE,IAAA,cAAAF,EAAAG,IAAA,cAAA,KAAA7F,KAAAuzC,UAAA7tC,EAAAE,IAAA,gBAAAF,EAAAG,IAAA,gBAAA,KAEO7F,KAAAwzC,QAAO9tC,EAAkBE,IAAG,cAAAF,EAAAG,IAAA,cAAA,cAnBvB9C,SAAU,0BCjBnBtD,OAAA,qBAEAqb,QAAI,gBAAqBo4B,QAEzBO,IAAA,SAAW9yC,EAASlB,EAAAD,kCAId+E,QAAA9E,OAAA,6BAEGqJ,SAAS,eAAU,mBA8BpB8hC,KACH,MAAA5nC,WAGG6uC,KACH7uC,EAAAouC,gBAAA,KAIJ,QAAAe,GAAA3B,uBAtCG,GAAIxtC,IACAouC,gBAAiB,WAIjBpuC,OAAO4nC,aACHiH,aACKM,OACRlqC,MAAC,aAAA,SAAA7G,GASF,QAAAmxC,GAAA/B,GACI2B,EAAA3B,GACH1F,IAIL,QAAAA,KACI1pC,EAAcwG,WAAA,2BAAA5E,GAZd,OACIA,OAAQ4nC,EACRzU,MAAAoc,eCrBZ1kC,IAAA,SAAWlN,EAASlB,EAAAD,+BAMhBuR,GAAKxM,QAAc9E,OAAA,2BACdqJ,SAAS,aAAG,mBAgDb4qC,GAAkB/rC,SACrBnF,GAAAyR,SAAAtM,KAEDgsC,EAAAhsC,GAEQgsC,UAGJC,GAAiBjsC,SACpB7C,UAAA6C,IAEDksC,EAAclsC,GAENksC,UAGJtqB,GAAOuqB,GAId,MAHItxC,GAAAmW,QAAAm7B,KAAC9wC,EAAA8wC,GAGL9wC,EAlEG,GAAkC2wC,GAA9B3wC,KAAQ6wC,GAAU,OAClBE,SAAOxqB,mBACEmqB,iBACAE,aACL,aAAY,aAAU,SAAAxyC,EAAA4yC,WAajBpJ,KACL,MAAA5nC,GAGJ,QAACixC,GAAAH,SAEDvqB,GAAAuqB,GACI1yC,EAAKwG,WAAc,oBAAwB5E,GAAKA,UAE5CkxC,GAAcC,EAAcC,GAEhC,GAAAD,GAAiB5vC,QAAQmvB,SAAU0gB,GAAnC,OAGQC,IACH7xC,EAAA+S,KAAAvS,EAAA,SAAAzC,GAAC,GAAI2L,GAAE1J,EAAA+S,KAAAhV,EAAA+zC,OAAAnf,MAAAgf,YAACjoC,GAAcA,IAOjCmoC,EAAA7xC,EAAA+S,KAAAg/B,EAAAD,OAAAnf,MAAAgf,IAEFE,EAAA3T,MAAsB0T,EACdH,EAAUjxC,WApCV6C,IAAI+kC,EACN7jC,IAAAktC,EAIFC,WAAAA,EAEIL,UAAOD,EACVxB,KAAAsB,eCtBT5iC,IAAA,SAAWnQ,EAAUlB,EAAAD,kCAIb+E,QAAiB9E,OAAA,mBAAU,yBAC3BiK,UAAU,kBAAa,gBAAA,SAAAgjC,MACvBC,GAAAD,EAAe,UAEfptB,WAAWqtB,EAAArtB,WACXstB,SAAMD,EAAAC,kBAEID,EAAKE,kBACNF,EAAK3jC,SACdrE,OAAC,EACDwE,KAAA,SAAYqN,EAAAW,EAAAV,GACdA,EAAAk2B,KAAA,WAAA,MAAAn2B,GAAAs2B,SACHH,EAAAxjC,KAAA4jC,MAAAJ,IAISp2B,WAAW,iCAKRA,WAAO,4BAAA,SAAA,WAAA,SAAA,aAAA,aAAA,SAAAC,EAAAW,EAAAV,EAAArV,EAAAqxC,GAcd,QAAC+B,GAAAlzC,EAAA0B,GAGP,GAEDiqC,IAFCjqC,EAAAgqC,UAEDhqC,EAAAkqC,0BAlBWA,GAAS,GAAGz2B,EAASg+B,eACrBtH,EAAW,KACdrY,EAAAoY,EAAAl/B,QAAA,IAED8mB,GAAA,IAEAqY,EAAeD,EAAAt/B,OAAAknB,EAAqB,GAEpCoY,EAAAA,EAAAt/B,OAA+B,EAAEknB,MAEzB,KAAA2d,EAA0BzvC,YAEvB3B,IAAA,oBAAsBmzC,cCvCzCE,IAAA,SAAW/zC,EAASlB,EAAAD,kCAKH+E,QAAA9E,OAAA,2BAEbqJ,SAAY,aAAc,WAyF1B,QAAAxC,GAAAA,GAGI,MAFAquC,GAAYruC,GAAGquC,EAKnB,QAAAjN,GAAAA,SACI1kC,GAAM0kC,MAASA,GAAS1kC,EAAA0kC,MACpB1kC,EAAO0kC,cAGX2F,GAAcL,SACjBxqC,GAAAgD,SAAAwnC,KACFhqC,EAAAgqC,MAAAA,WApGC,GAAIhqC,IACA0kC,MAAM,UACNsF,UAEJ2H,EAAY,mBACRruC,GAAAA,OACAohC,MAAAA,OAEAsF,MAAOK,aACH,aAAiB,aAAA,SAAAjsC,EAAA4yC,WAiBZpJ,WACD5nC,WAGA+qC,GAAWnsC,EAAM+F,kBACN/F,QACP,IAAAf,OAAA,sCACHiE,SAAD6C,GACH3E,EAAAgqC,MAAAprC,IAAA+F,IAEM3E,EAAOgqC,MAAMprC,GAAM+F,EAC7BmjC,KAIU9nC,EAACgqC,MAASprC,WAEZgzC,GAAAtuC,SACJ9D,GAAAyR,SAAA3N,IAEMquC,IAAUruC,IACpBquC,EAAAruC,GAIUquC,aAEC3H,GASX,MAROxqC,GAACgD,SAAAwnC,KACJxqC,EAAAyrC,QAAAjrC,EAAAgqC,MAAAA,KAEMhqC,EAAOgqC,MAAMA,EACvBlC,MAIA9nC,EAAAgqC,cAGGlC,KACA1pC,EAAWwG,WAAW,oBAAO5E,GAGjC,QAAAwF,GAAAlH,GACIiE,QAAQoZ,IAAI,WAAWg2B,GACvBX,EAAWW,GAAWnsC,OAG1B,QAAAG,GAAArH,GACIiE,QAAQoZ,IAAI,YAAYg2B,GACxBX,EAAWW,GAAWhsC,QAE1B,QAACksC,KACHtvC,QAAAoZ,IAAA,aAAAg2B,GAEFX,EAAcW,GAAAE,SACVzzC,EAAcwG,WAAI,mBAAU5E,YAvElB3B,IAAA,iBAAYmH,KACXnH,IAAA,kBAAasH,IAEpB3F,OAAM4nC,EACNsD,KAAKH,EACLf,MAAMgB,EACR1nC,GAAAsuC,EAIFpsC,KAAAA,EACIG,MAAOA,EACVksC,OAAAA,eC/BTC,IAAA,SAAen0C,EAAAlB,EAAUD,kCAGjB+E,QAAa9E,OAAA,gBAAsB,aAAA,mBAAA,mBAAA,6BAC/B,YAAiB,SAAQiG,SAC1BA,EAAAE,IAAA,gBAAAF,EAAAG,IAAA,gBAAA,IAEHF,IAAaA,EAAgBG,oBACzBA,gBAAwB,MACzBivC,cAAA,WAERpvC,EAAAG,gBAAA,MAGQivC,cAAU,gBAIbrrC,UAAS,eAAK,2BAEJ,IACV/E,SACA0H,SAAA,EACFkM,YAAA,SAAAnP,EAAAyX,GACH,MAAA,8BAKKtK,WAAS,8BAKFA,WAAU,0BAAU,SAAA,WAAA,SAAA,aAAA,YAAA,SAAAC,EAAAW,EAAAV,EAAArV,EAAA4zC,GAa3B,QAACC,GAAA3zC,EAAA0B,GAEDwT,EAAAxT,OAAAA,EACIwT,EAAI0+B,eAAQ,EAEZ1+B,EAAAlE,OAAW9I,KAAA,WAEP2rC,sBAEC,WACD/rC,EAAEwI,EAAA,oBACTxI,EAAAnI,OAAA,GAEDmI,EAAAkhB,SAEI,GAEJ,QAAC8qB,KAED5+B,EAAAlE,OAAA9I,KAAAgN,EAAAxT,OAAAusC,SACI/4B,EAAI0+B,eAAmB,EAEvBC,YAGIE,QACAC,GAAa9+B,EAAClE,OAAS9I,IAC3BgN,GAAClE,OAAA9I,KAAA,GAACgN,EAAM0+B,eAAA,EACJ1+B,EAAAxT,OAAW0iB,SACdlP,EAAAxT,OAAA0iB,SAAA4vB,GAIGl0C,EAAOwG,WAAc,4BAAA0tC,WAIxBC,KAAK/+B,EAAElE,OAAA9I,MACJgN,EAAOlE,OAAA9I,KAAa,GACpB2rC,MAIR3+B,EAAA0+B,eAA8B,EAEtBG,aAIHG,GAAAl0C,GAED,MAAsB,MAAlBA,EAAMuoB,YACNrT,GAAO6+B,qBAIrB,KAAA/zC,EAAAuoB,UAEDrT,EAAA0+B,eAAA,IArEO/9B,EAAA+B,SAAe,kBAEf1C,EAAOxT,OAAAgyC,EAAiBhyC,SACxBwT,EAAO0+B,eAAgB,EACvB1+B,EAAOlE,QAAA9I,KAAgB,IACvBpI,EAAOC,IAAA,mBAAkB4zC,GAEzBz+B,EAAA4+B,eAAAA,IACIC,cAAgBA,IAChBE,cAAOA,IACPC,gBAAqBA,aC/CjCC,IAAA,SAAW90C,EAASlB,EAAAD,kCAKJ+E,QAAI9E,OAAA,0BAEZqJ,SAAW,YAAA,cAEX9F,IACF8pC,SAAA,EAGEyC,SAAQ,GACRntC,WACAsjB,SAAU,iBAGN,aAAiB,SAAAtkB,WAcjBwpC,KACA,MAAO5nC,WAGP0yC,GAAehwB,EAAG6pB,EAAAntC,GACrBY,EAAA0iB,SAAAA,EAED1iB,EAAAusC,SAAAA,EACIvsC,EAAOZ,QAAQA,EACf0oC,IAGJ,QAAC6K,KAED3yC,EAAA0iB,SAAmB,KACf1iB,EAAOusC,SAAU,KACjBzE,IAGJ,QAAAtiC,GAAAlH,GACI0B,EAAO8pC,SAAU,EACjBhC,IAGJ,QAAAniC,GAAArH,GACI0B,EAAO8pC,SAAU,EACjBhC,IAQJ,QAAA8K,GAAuBrG,GACnBvsC,EAAOusC,SAAUA,EACjBzE,IAGJ,QAAA+K,GAAAzzC,GACIY,EAAAZ,QAAWA,EACd0oC,IAGN,QAAAA,KAEF1pC,EAAAwG,WAAA,mBAAA5E,YA3DgB3B,IAAA,gBAASmH,KACPnH,IAAA,iBAAWsH,IAElB3F,OAAO4nC,EACT7jC,IAAA2uC,EAIF7D,MAAA8D,EACIpG,SAAOqG,EACVxzC,QAAAyzC,eC3BTC,IAAA,SAAWn1C,EAAUlB,EAAAD,kCAGd+E,QAAgB9E,OAAA,cAAA,aAAA,mBAAA,kBAAA,yBAChBiK,UAAW,aAAA,kBAEXV,SAAU,IACZsW,YAAA,EACF3a,OAAA,EAEH4T,YAAqB,uBAIbhC,WAAS,4BAMFA,WAAA,wBAAA,SAAA,WAAA,aAAA,aAAA,SAAAC,EAAAW,EAAA/V,EAAAqxC,GAWd,QAAAb,GAAAtwC,YAPO6V,EAAA+B,SAAA,iBACI5S,GAAU,eACdlF,EAACC,IAAA,oBAAAuwC,cC1BTh9B,IAAA,SAAWjU,EAAUlB,EAAAD,kCAGP+E,QAAA9E,OAAA,sBAAA,aAAA,mBAAA,qCACI,qBAAW,2BAElB,YAEH01B,MAAA,YACDob,SAAc,eACdC,SAAa,YACbC,SAAY,gBAEhBpkC,SAAA,EAEHkM,YAAqB,2CAIThC,WAAY,oCAQhBA,WAAe,gCAA4B,SAAkB,WAAC,aAAA,WAAA,eAAA,SAAAC,EAAAW,EAAA/V,EAAAmC,EAAAmtC,WAmB1DqF,KACI5f,IACDA,EAAKhf,EAAA5B,KAAA,sCAIZhS,EAAA,WACQotC,EACAW,EAAcnb,IAMf,aAECwa,GAAU5xB,EAAmBoX,MAC7Bya,MAAUlyB,EAAiBK,EAAezH,MAAQyH,EAAAzH,QAAAyH,EAAA8xB,YAAAnqB,EAAA3H,EAAAjF,OAAAiF,EAAAjF,SAAAiF,EAAAgM,aAAA+lB,EAAA3a,EAAA,GAAA4a,cAAA5a,EAAA7e,MAAA05B,EAAA7a,EAAA,GAAA8a,eAAA9a,EAAArc,OAAAo3B,EAAA,CAClDJ,GAAUpyB,EAAgBsyB,EAAatqB,GACvCwqB,KAAUJ,EAAaE,EAAMtqB,EAAAhI,GAAA,GAChCkyB,EAAA,eAAA,GAAAM,EAAA,KAAKN,EAAE,OAAA,GAAAlqB,EAAA,KACJkqB,EAAY,MAAA,GAAcE,EAAapqB,EAAiBsqB,EAAe,KACvEJ,EAAU,cAAgB,KAG1BM,KAAUF,EAAcF,EAAMpyB,EAAAgI,GAAA,GACjCkqB,EAAA,cAAA,GAAAM,EAAA,KAEDN,EAAqB,OAAA,GAAAI,EAAAtyB,EAAAoyB,EAAA,KACxBF,EAAA,MAAA,GAAAlyB,EAAA,KAACkyB,EAAA,eAAA,IAGEza,EAAIne,IACA44B,WAIAO,KACJ,GAACtvC,GAAAmB,EAAA0tC,EAAA1tC,QAACnB,GAAM2U,EAAAg6B,SAAAh6B,EAAAg6B,SAAAxtC,EAAAouC,gBACJvvC,EACHwvC,EAAAxwB,KAAA,MAAAhf,GAKDyvC,EAAWt5B,IAAA,UAAW,QAMjC,QAAAu5B,uCArEO,GAA8CF,GAA9Clb,EAAW,KAAImb,EAAgBn6B,EAAE5B,KAAY,8BAC7C4B,GAAO+B,SAAW,yBAElB9X,EAASC,IAAA,qBAAA8vC,KACC9vC,IAAG,2BAAc8vC,KACvB9vC,IAAA,iBAAoB00C,KACpBxE,YAAYA,IACR,aACAp6B,EAAA5B,KAAkB,qCACtB47B,IACDE,EAAIG,KAAA,SAAAtsB,GAEAiR,EAAAvkB,EAAAsT,EAAAnJ,QAEP40B,EAAAW,EAAAnb,qBC1CR6f,IAAA,SAAWr1C,EAAUlB,EAAAD,kCAGP+E,QAAA9E,OAAA,oBAAA,aAAA,mBAAA,mBAAA,mCACK,mBAAW,2BAEtB,KACDkF,OACA3B,OAAW,YACX6wC,UAAY,iBAEhBxnC,SAAA,EAEHkM,YAAqB,uCAGThC,WAAA,kCAIJA,WAAiB,8BAAA,SAAA,WAAA,aAAA,UAAA,YAAA,WAAA,YAAA,aAAA,aAAA,SAAAC,EAAAW,EAAA/V,EAAAc,EAAAipC,EAAA5nC,EAAAmC,EAAA+sC,EAAAC,WAsBZuD,KAAC,GAAIpC,EAELA,GADGtvC,QAAA0rB,WAAmBzZ,EAAAq9B,WACtBr9B,EAAAq9B,YAIJr9B,EAAAq9B,aAAA,GAAA,UAAAr9B,EAAAq9B,UAGGr9B,EAAO0/B,aAAYrC,EAEnBnB,EAAWmB,UAAUA,WAEpBsC,KAAC3/B,EAAM4/B,UAAA5/B,EAAA4/B,SACJ5/B,EAAA4/B,SACHC,EAAAl9B,YAAA,wBAILk9B,EAAyBn9B,SAAA,wBAExB9X,EAAAwG,WAAA,iBAAA4O,EAAA4/B,kBAGOzD,GAAazmC,GACjB,MAAOA,IAAAA,EAAAq/B,SAAgBr/B,EAASq/B,OAAIr/B,cAEnB2mC,GACjB,GAAGvlC,IAAA,CAMH,OALA9K,GAAAkJ,KAAOmnC,EAAO,SAAA1pC,GACjBwpC,EAAAxpC,KAEDmE,GAAA,KAEWA,EAGX,QAAAwlC,GAAqBxxC,EAAW0B,GAC5BwT,EAAM8/B,YAAe5D,EAAGmB,YAExBr9B,EAAKxT,OAAOA,UAER+vC,GAAOzxC,EAAA6H,GAGX,GAFA7H,EAAC6nB,mBAEGhgB,aACAspC,GAAS9pC,WAGTQ,EAAC2iC,KAED,MAAA3iC,GAAA2iC,KAAWt5B,MAAQ,KAAA,KAAAtQ,EAAAyB,SAAAmoC,KAAAt5B,MAAA,KAAA,OACnBigC,GAAS9pC,SAIT8pC,EAAO9pC,YACVpF,GAAA,WACOrB,EAAMyB,SAAMmoC,KAAA3iC,EAAA2iC,MACb,KAGF,IAAA3iC,EAAAtH,IAED,MAAAsH,GAAAtH,IAAW2Q,MAAQ,YAAA,KAAA24B,EAAAtpC,MAAA2Q,MAAA,YAAA,OACnBigC,GAAS9pC,SAIT8pC,EAAO9pC,YACVpF,GAAA,WACO4nC,EAAMtpC,IAAQsH,EAAAtH,MAClB,SAIIsH,EAAM5G,MAAC,CACX,GAAC2B,GAAAwB,EAAAE,IAAA,UAAAF,EAAAG,IAAA,UAAA,IAED,OAAW,OAAX3B,GAAmBA,EAAA8uC,QAAApxC,OAAAuH,EAAA5G,UACnBkwC,GAAS9pC,WAGDA,eACH,WACF,GAAKjD,EAAAE,IAAA,UAAA,CAED,GAAA1B,GAAAwB,EAAAG,IAAA,SACV3B,GAAAvB,GAAAwG,EAAA5G,MAAA4G,EAAA4iC,eAEG,MAKd5iC,EAAA7H,OAEDF,EAAAwG,WAAAuB,EAAA7H,MAAA6H,aAtHO,GAAAktC,GAAuBl/B,EAAAiK,SAAAA,QACvBjK,GAAA+B,SAAe,uBAEf1C,EAAOxT,OAAAwT,EAAexT,QAAA0vC,EAAe7sC,MAGrCowC,IAEAz/B,EAAO4/B,UAAW,EAClB1D,EAAO3rC,IAAAyP,EAAcxT,QACrBwT,EAAO+/B,aAAc,eACrBn1C,EAAOC,IAAQ,oBAAYyxC,GAE3Bt8B,EAAOm8B,YAAAA,EAIPn8B,EAAAu8B,YAAAA,IACIH,eAAcA,IACXuD,SAASA,aCxCxBK,IAAA,SAAW71C,EAAUlB,EAAAD,kCAGd+E,QAAgB9E,OAAA,oBAAA,aAAA,mBAAA,kBAAA,yBAChBiK,UAAW,mBAAA,kBAEXV,SAAU,IACZsW,YAAA,EACF3a,OAAA,EAEH4T,YAAqB,qCAIbhC,WAAS,kCAITA,WAAe,8BAAiC,SAAA,WAAA,aAAA,aAAA,WAAA,SAAAC,EAAAW,EAAA/V,EAAAqxC,EAAAj6B,WAa5Co5B,GAAYtwC,GACZmxC,EAASjqC,OAInB,QAAAiuC,GAAAn1C,GAEDiE,QAAAoZ,IAAA,8CAlBOxH,EAAA+B,SAAc,sBAEd1C,EAAOgC,SAAAA,EAIPpX,EAAAC,IAAA,oBAA6BuwC,KACzBvwC,IAAW,mBAAOo1C,GACtBhE,EAACnsC,GAAA,iCC9BTowC,IAAA,SAAW/1C,EAAUlB,EAASD,kCAIX+E,QAAA9E,OAAA,WAAA,iCACH,UAAe,2BAEf,WAEA0Y,WAAW,IACXw+B,KAAM,WACTC,SAAA,eACDC,eAAa,iBACblH,YACI,kBAEIC,OAAO,8BAEA,6BAEH,SAAe,WAAU,SAAI,WAAkB,sBAAc,YAAuB,SAAAp5B,EAAAW,EAAAV,EAAA+B,EAAA5L,EAAAlH,GACxF8Q,EAAIkC,OAAYjC,EAAGiC,OAAA,IAAA,OAAA9L,EAAA/G,IAAA,SAAA,WACZ2S,SAAQA,SACPhC,EAAamgC,MAAAn0C,EAAAmW,QAAiBnC,EAAOmgC,MAAMngC,EAASmgC,WACxDhxC,GAACD,EAAAE,IAAA,gBAAAF,EAAAG,IAAA,gBAAA,IAACF,KACE6Q,EAAAmgC,KAAY11C,OAAC,GAAAuV,EAAiBmgC,KAAO,GAAIxhB,MAC5CxvB,EAAAqG,iBAAAwK,EAAAmgC,KAAA,QAAA,aAIEhxC,EAAYqG,iBAAmBwK,EAAAmgC,KAAA,OAAA,4BAIjBngC,EAACm5B,aAAa,IAC9BmH,UAAAtgC,EAAAm5B,YACLn5B,EAAEsC,SAAA,WAEF,GAAOtC,EAAA2B,WACH,MAAQ3B,GAAO2B,gBAIZ4+B,YAAQ,SAAWt+B,SAACjC,GAAOsC,YAAAtC,EAAAm5B,aAAAl3B,KAG9BixB,SAAO,SAAYjxB,GACfjC,EAAOsC,aAEXtC,EAACm5B,YAAAl3B,EACHjC,EAAAsgC,UAAAtgC,EAAAm5B,YAEKn5B,EAAAo5B,QACCp5B,EAAOo5B,OAAAp5B,EAAcmgC,KAAGngC,EAAAm5B,aAAAn5B,EAAAm5B,iBAE1B9B,WAAM,mBACJr3B,EAAOqgC,gBACVrgC,EAAAqgC,oBAMCt/B,KAAM,kBACJf,EAAOogC,UACVpgC,EAAAogC,yBCrE7BI,IAAA,SAAAr2C,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,+BACA,ktFAuDA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA;CAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,iCACA,q+CAuCA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,qBACA,wRAYA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,6BACA,o3EAsDA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,yBACA,4mBAWA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uCACA,qhBAiBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,6BACA,wpBAwBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,yBACA,wiCA4BA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,yBACA,uxBAsBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,6BACA,44BA2BA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uBACA,4RAYA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,2CACA,0sBAwBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uCACA,0iEA2CA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,qCACA,uSAaA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,oBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,uBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,iBACA;;;CrGzfA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAg3C,OAAA13C,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IsGAA,WACI,YACA+E,SAAQ9E,OAAO,qBACX,yBACA,yBACA,6DCLR,WACI,qBAgBQuD,GAAAk0C,MACAC,GAAQD,EAAwBE,cAAA,QAChCC,KAAQ,yBACTC,KAAA,wBAGHJ,GAAIK,cAAqB,2BAAiCJ,MACtDK,GAAON,EAAwBE,cAAA,QAC/BK,IAAO,yBACPC,IAAA,uBACDC,qBAAA,MAAA,QAIHT,GAAIK,cAAoB,wBAAiCC,MACrDI,GAAQV,EAAsBE,cAAA,SAC9BS,KAAA,uBACDF,qBAAA,SAGHT,GAAmBK,cAAM,uBAAgBK,KACtBlQ,MAAC,iBACZoQ,eAAgB,yBAChBC,QAAS,MACXC,QAAA,QAEEC,kBAAe,4BACfF,QAAS,KACTC,QAAS,OACXE,QAAA,SAEEC,YAAW,OACbJ,QAAA,SAEEK,cAAW,wBACZL,QAAA,SAIVb,EAAAmB,kBAAA,GAtDDr1C,EAAID,SAAa,qBAEjB,IAAAgO,GAAiBxM,QAAQ9E,OAAC,0BAAA,cAE1BsR,GAAA/N,OAAgBA,WCNnBs1C,GAAA,SAAA33C,EAAAlB,EAAAD,eAEG,qBAgBQwD,GAAQk0C,MACRqB,GAA6BrB,EAAAE,cAAA,QAC9BC,KAAA,yBACHC,KAAA,0BAGWC,cAAA,iCAAuBgB,MAC9BC,GAAOtB,EAAqBE,cAAA,QAC5BK,IAAA,wBACDC,IAAA,sBACHC,qBAAmB,MAAc,WAIrBJ,cAAA,8BAAsBiB,MAC9BC,GAAwBvB,EAAOE,cAAA,SAChCS,KAAA,uBACHF,qBAAmB,YAGAJ,cAAC,6BAA+BkB,KAChC/Q,MAAK,uBAChBoQ,eAAc,+BAChBC,QAAA,cACD,QAEGE,kBAAe,kCACfF,QAAS,KACXC,QAAA,eACD,SAECG,YAAA,eACD,SAEEC,cAAA,8BAEPL,QAAA,SAGHb,EAAAmB,kBAAA,GArDDr1C,EAAAD,SAAkB,qBAElB,IAAAgO,GAAgBxM,QAAA9E,OAAA,gCAAkB,iBAW1BuD,OAAAA,WChBRE,GAAA,SAAavC,EAAAlB,EAAAD,eAGb,qBAgBYwD,GAAQk0C,KACAmB,kBAAsB,MAEjCK,GAAAxB,EAAAE,cAAA,QACLC,KAAA,yBAEIC,KAAA,2BAEOC,cAAsB,2BAAAmB,MAC7BC,GAAqBzB,EAAgBE,cAAA,SACtCK,IAAA,yBACHC,IAAA,uBAGIC,qBAAoB,MAAA,WAEpBJ,cAAwB,wBAAOoB,MAChCC,GAAA1B,EAAAE,cAAA,SACHS,KAAA,wBAEIF,qBAAmB,YAEnBJ,cAAwB,uBAAOqB,MAChCC,GAAA3B,EAAAE,cAAA,OACHE,KAAA,uBAEAK,qBAAyB,YAENJ,cAAK,sBAAAsB,KACFnR,MAAA,iBAChBoQ,eAAA,iCACD,MACGE,QAAS,QAETC,kBAAe,4BACjBF,QAAA,aACD,OACGG,QAAS,SAEZC,YAAA,uBACGJ,QAAW,SAEtBK,cAAA,wBACAL,QAAA,SAzDD/0C,EAAAD,SAAgB,yBAWZgO,GAAAxM,QAAmB9E,OAAA,0BAAuB,iBAEtCuD,OAAAA,WCjBRc,GAAI,SAAUnD,EAAGlB,EAAQD,eAGzB,YAcA,SAACwD,GAAAk0C,gCCnBJA,EAAAmB,kBAAA,GDOGr1C,EAAAD,SAAgB,yBAQZgO,GAAAxM,QAAmB9E,OAAA,oBAA2B,gBAAA,gBAC9C,iBAAkB,kBAAkB,iBAAM,gBAAA,iBAE9CsR,GAAC/N,OAAAA,WCdDe,GAAA,SAAWpD,EAAOlB,EAAQD,oCAgBtBwD,GAAAk0C,GAEA,GAAI4B,GAAuB5B,EAAmBE,cAAc,QACxDC,KAAO,yBACPC,KAAO,wBAEXJ,GAAmBK,cAAc,oBAAkBuB,EAEnD,IAAAC,GAAyB7B,EAAQE,cAAA,cAC5B,uBACG4B,IAAA,8BAEFzB,cAAA,iBAAAwB,KACDrR,MAAkB,SACfoQ,eAAe,kBACfC,QAAS,MACTC,QAAS,QAEZC,kBAAiB,qBACdF,QAAW,KACbC,QAAA,eACD,SAEEG,YAAA,OACPJ,QAAA,SAGHK,cAAA,0BC9CDlB,EAAamB,kBAAA,cDgBG,4BACA9zC,QAAA9E,OAAA,kBAAsB,iBAC/BuD,OAAAA,WCbPwB,GAAA,SAAA7D,EAAgBlB,EAAAD,uCAcJ03C,WAIJ+B,GAAmBC,GAEnB,GAAIC,GAAoBjC,EAAmBE,cAAc,QACrDgC,IAAO,sBACRC,IAAA,4BACHC,IAAA,0BAGmB/B,cAAC,kBAAmB4B,MAC/BI,GAAgBrC,EAAAE,cAAA,SAChBgC,IAAO,0BAEV7B,cAAkB,cAAmBgC,KACvB7R,MAAKwR,GAChBpB,eAAc,mBACdC,QAAS,MACXC,QAAA,QAEEC,kBAAiB,mBACnBF,QAAA,cACD,MACGG,QAAS,SAEpBC,YAAA,OAEDJ,QAAA,SAEQK,cAAO,eACPL,QAAO,gBAGRyB,GAAAN,GACH,GAAAO,GAAmBvC,EAAcE,cAAoB,QAEjDgC,IAAA,sBACAC,IAAO,4BACRC,IAAA,sBACH5B,IAAA,0BAGmBH,cAAC,mBAAgBkC,MAC5BC,GAAgBxC,EAAAE,cAAA,aAChBiC,IAAO,gCAEV9B,cAAkB,eAAoBmC,KACxBhS,MAAKwR,GAChBpB,eAAc,gBACdC,QAAS,MACXC,QAAA,QAEEC,kBAAiB,oBACnBF,QAAA,cACD,MACGG,QAAS,QAEpBC,YAAA,OACJJ,QAAA,uCChFJA,QAAA,UDqBsB,UACA,WACRM,kBAAA,KAPPt1C,SAAA,yBAEAgO,GAAAxM,QAAA9E,OAA2B,kBAAS,iBAChCuD,OAAIA,cCHR,SAAArC,EAAkBlB,EAAAD,uCAQV03C,WAMAyC,GAAQT,MACRU,GAAQ1C,EAAuBE,cAAA,QAChCyC,qBAAA,QACHC,mBAAmBh1C,WAGRyyC,cAAqB,eAAAqC,MAC7BG,GAAA7C,EAAAE,cAAA,QACHC,KAAA,yBAEAC,KAAA,4BAEmBC,cAAK,kBAAAwC,MAChBC,GAAc9C,EAAAE,cAAA,SAChBgC,IAAA,0BAEiB7B,cAAA,cAAAyC,KACAtS,MAAAwR,GACfpB,eAAe,gBACjBC,QAAA,cACD,QAECE,kBAAA,2BACD,KACGD,QAAS,OACVE,QAAA,SAEdC,YAAA,OACAJ,QAAA,SC1DJK,cAAA,eACeL,QAAC,UDwBD,aACD,UACHkC,gBAAmB,aAEf5B,kBAAwB,KAThCt1C,SAAA,yBAEAgO,GAAAxM,QAAA9E,OAA2B,iBAAS,iBAChCuD,OAAIA,uBCLErC,EAAElB,EAAAD,oCAORwD,GAAAk0C,MACDgD,GAAAhD,EAAAE,cAAA,QACHC,KAAA,yBAGIC,KAAA,2BAEDC,cAAA,mBAAA2C,EACH,IAAAC,GAAmBjD,EAAcE,cAAgB,SAEjDK,IAAA,+BACoB,MAAe,WAEbF,cAAA,gBAAA4C,MAChBC,GAAAlD,EAAAE,cAAA,8BACiB,YAEAG,cAAA,eAAA6C,KACA1S,MAAA,SACjBoQ,eAAA,yBACD,MACGE,QAAS,QAEZC,kBAAc,oBACXF,QAAW,KACZC,QAAA,OACPE,QAAA,SAEHC,YAAA,wBCpDDC,cAAa,gBACTL,QAAa,SAIjBb,EAAgBmB,kBAAkB,KDe9Bt1C,SAAA,yBAEAgO,GAAIxM,QAAA9E,OAAsB,kBAAmB,iBACzCuD,OAAOA,wBCLDrC,EAAElB,EAAAD,oCAOTwD,GAAAk0C,GACH,GAAAmD,GAAmBnD,EAAcE,cAAe,QAGhDC,KAAA,8BACK,uBACGiD,KAAA,UACA5C,IAAO,UACTG,KAAA,+BACiB,OACfF,qBAAe,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,YAEAJ,cAAA,cAAA8C,KACjB3S,MAAA,QACDoQ,eAAY,eACTC,QAAW,MACbC,QAAA,SAEEC,kBAAiB,eAClBF,QAAA,KAEPC,QAAA,MAEHE,QAAA,4BCjDJH,QAAA,SAEOK,cAAa,eAEjBL,QAAkB,SAYdb,EAAkBmB,kBAAkB,cDMxB,4BAER9zC,QAAA9E,OAAwB,iBAAM,iBAC9BuD,OAAAA,wBCNMrC,EAAElB,EAAAD,oCAOZwD,GAAAk0C,GAEA,GAAAqD,GAAkBrD,EAAcE,cAAA,YAC3B,uBACGkC,IAAA,yBACAjC,KAAO,6BAEVE,cAA0B,OAAAgD,MACvBC,GAAWtD,EAAIE,cAAA,QACfO,qBAAc,MAAA,MAAA,MAAA,MAAA,MAAA,YAEhBJ,cAAA,OAAAiD,KACW9S,MAAO,QAChBoQ,eAAW,QACbC,QAAA,cACD,QAEEE,kBAAA,QACPF,QAAA,KACHC,QAAA,MACAE,QAAA,SC9CJC,YAAA,OACGJ,QAAa,SAGbK,cAAkB,QAElBL,QAAgB,WAYAM,kBAAwB,KDKpCt1C,SAAI,4BACAwB,QAAA9E,OAAwB,iBAAc,iBACvCuD,OAAAA,eCJD,SAACrC,EAAAlB,EAAAD,oCAOCwD,GAAAk0C,MACDuD,GAAAvD,EAAAE,cAAA,QACHC,KAAA,yBAEAC,KAAA,6CACoB,MAAe,MAAA,MAAA,MAAA,YAEbC,cAAA,iBAAAkD,MAChBC,GAAAxD,EAAAE,cAAA,cACD,wBACG4B,IAAA,0BACA3B,KAAO,wBACPM,qBAAe,MAAA,MAAA,YAENJ,cAAO,cAAAmD,KACLhT,MAAM,UACnBoQ,eAAA,uBACD,MACGE,QAAS,QAEjBC,kBAAmB,kBACtBF,QAAA,KACAC,QAAA,wBCjDDG,YAAa,OACTJ,QAAa,SAIjBK,cAAgB,eAWRL,QAAA,WAEQM,kBAAuB,cDMxB,4BACA9zC,QAAA9E,OAAA,mBAAyB,iBAChCuD,OAAQA,eCLV,SAACrC,EAAAlB,EAAAD,oCAOCwD,GAAAk0C,MACDyD,GAAAzD,EAAAE,cAAA,QACHC,KAAA,yBAEAC,KAAA,6CACoB,OACZK,qBAAgB,OAAA,YAElBJ,cAAA,kBAAAoD,SACiBzD,EAAmBE,cAAA,QAClCgC,IAAA,yBACAC,IAAO,0BACPL,IAAO,wBACTa,qBAAA,YAEatC,cAAM,eAAAqD,KACnBlT,MAAA,QACDoQ,eAAc,gBACXC,QAAW,MACZC,QAAA,QAGVC,kBAAA,mBACAF,QAAA,oBCpDJG,QAAA,SAEOC,YAAa,OAEjBJ,QAAmB,SAGfK,cAAiB,gBACpBL,QAAA,QAGGb,EACYmB,kBACE,cDaH,4BACA9zC,QAAA9E,OAAA,iBAAyB,iBAChCuD,OAAOA,eCVX,SAAKrC,EAAUlB,EAAWD,uCAUlBq7C,KAMJnT,mBAXI,kBACKnjC,QAAG9E,OAAA,YAAwB,qBAAkB,iBAGnDwD,IAACA,cASA,WAAe,mBA0DnB63C,GAAeC,GAKtB,MAJI,OAAAA,IAEFrT,EAAAqT,GAEFrT,oFA7DW,UAAW/6B,GAAS,EAAUquC,GAAA,WAC9BF,YACAA,eACIG,eACAC,aACC,aAAC,WAAA,sBAAA,aAAA,SAAA95C,EAAAmC,EAAAqJ,EAAAuuC,cAMY1yC,EAAMC,KAEH5D,SAAT2D,KAASA,IAEL3D,SAAD4D,KAACA,IACR2I,OAAA5I,IACA6I,cAAQ5I,IACR,WAMJtH,EAAAiQ,QAAa,EAGbjQ,EAAWkQ,eAAW,GACzB,GAEL,QAAC8pC,GAAAL,EAAAtyC,EAAAC,GAED,GAAO,MAAAqyC,GAAAA,GAAArT,EAAA,CACA,KAAEA,IAAayT,GAAAE,QACX,KAAA,IAAAx6C,OAAa,SAAA6mC,EAAA,wEACvBA,GAAAqT,EACHpuC,GAGFC,EAA2B7F,IAAA,QAAA2gC,GACXsT,IACA55C,EAASumC,OAAAD,GACd4T,EAAM7yC,EAAAC,GAChBtH,EAAAwG,WAAA,kBAAAmzC,GAIO,MAAArT,GAEJ,MA3CC/6B,KAED+6B,EAAA96B,EAA+B/G,IAAE,UAAW6hC,GACxCsT,MACUrT,OAASD,IAwC1Bz8B,IAAAmwC,EAGD1T,MAAA0T;;;CnH3FR,SAAA77C,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAA2E,OAAArF,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IoHOA,WACI,YAEA,IAAIuR,GAAaxM,QAAQ9E,OAAO,qBAAsB,gBAEtDsR,GAAW9N,KAAI,YAAS,SAASyC,GAC7B,GAAIC,GAAeD,EAAUE,IAAI,gBAAkBF,EAAUG,IAAI,gBAAkB,IAC/D,OAAhBF,IAGJA,EAAawF,aAAa,MACtBowC,kBAAqB,kCACrBC,qBAAwB,0EACxBC,qBAAwB,WACxBC,sBAAyB,YACzBC,oBAAuB,UACvBC,uBAA0B,aAE1BC,oBAAuB,6BACvBC,uBAA0B,yEAC1BC,oBAAuB,QACvBC,sBAAyB,UAEzBC,sBAAyB,+BACzBC,yBAA4B,2IAE5BC,sBAAyB,QACzBC,0BAA6B,YAE7BC,uBAA0B,8BAC1BC,0BAA6B,iFAC7BC,uBAA0B,QAE1BC,wBAA2B,gCAC3BC,2BAA8B,mOAG9BC,oBAAuB,QACvBC,wBAA2B,cAC3BC,qBAAwB,oBACxBC,yBAA4B,cAC5BC,qBAAwB,gBACxBC,yBAA4B,cAC5BC,qBAAwB,kBACxBC,yBAA4B,gBAIhCt3C,EAAawF,aAAa,MACtBowC,kBAAqB,kCACrBC,qBAAwB,0EACxBC,qBAAwB,WACxBC,sBAAyB,YACzBC,oBAAuB,UACvBC,uBAA0B,aAE1BC,oBAAuB,6BACvBC,uBAA0B,yEAC1BC,oBAAuB,QACvBC,sBAAyB,UAEzBC,sBAAyB,+BACzBC,yBAA4B,2IAE5BC,sBAAyB,QACzBC,0BAA6B,YAE7BC,uBAA0B,8BAC1BC,0BAA6B,6EAC7BC,uBAA0B,QAE1BC,wBAA2B,gCAC3BC,2BAA8B,mOAG9BC,oBAAuB,QACvBC,wBAA2B,cAC3BC,qBAAwB,oBACxBC,yBAA4B,cAC5BC,qBAAwB,gBACxBC,yBAA4B,cAC5BC,qBAAwB,kBACxBC,yBAA4B,gD9FlFxC,WACI,YAEA,IAAIlsC,GAAaxM,QAAQ9E,OAAO,yBAEhCsR,GAAWsF,OAAO,aAAa,YAAU,SAAS3Q,GAC9C,GAAIC,GAAeD,EAAUE,IAAI,gBAC3BF,EAAUG,IAAI,gBAAkB,IAEtC,OAAO,UAAUyD,GACb,MAAO3D,GAAgBA,EAAa4D,UAAUD,IAAQA,EAAMA,kC+FVxE,WACI,YAEA/E,SAAQ9E,OAAO,aACX,kBACA,uBACA,iBACH,8CCZL,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,mBAC5B,aACA,oBAAqB,yBAA0B,yBAA0B,wBACzE,oBAAqB,wBAAyB,sBAAuB,uBAGzEsR,GAAW/N,QACP,iBAAU,SAAck6C,GAEpBA,EACK36C,MAAM,wBACHV,IAAK,wBACLC,QACIsC,MAAO,MAEXmS,WAAY,iCACZgC,YAAa,qCAEhBhW,MAAM,sBACHV,IAAK,sBACLC,QACIsC,MAAO,MAEXmS,WAAY,gCACZgC,YAAa,iCAEhBhW,MAAM,wBACHV,IAAK,wBACLC,QACIuC,aAAc,KACd5C,UAAW,MAEf8U,WAAY,iCACZgC,YAAa,qCAEhBhW,MAAM,sBACHV,IAAK,sBACLC,QACIsC,MAAO,MAEXmS,WAAY,gCACZgC,YAAa,iCAEhBhW,MAAM,kBACHV,IAAK,kBACLC,QACIsC,MAAO,MAEXmS,WAAY,4BACZgC,YAAa,wDC/CjC,WACI,YAEA,IAAIxH,GAAaxM,QAAQ9E,OAAO,oBAEhCsR,GAAWrH,UAAU,iBAAkB,WACnC,OACIV,SAAU,IACVrI,SAAU,UAAW,UACrBwI,KAAM,SAAUqN,EAAQW,EAAUV,EAAa0mC,GAY3C,QAAAC,KACI,GAAIx4C,GAASy4C,EAAgBC,MAE7B,KAAK,GAAIC,KAAQ34C,GACTA,EAAOwF,eAAemzC,IAAiC,UAAxBA,EAAKtvC,UAAU,EAAG,IACjDovC,EAAgBG,aAAaD,GAAM,GAK/C,QAAAE,KACIC,EAAeC,gBAtBnB,GACIN,GAAkBF,EAAO,GACzBO,EAAiBP,EAAO,EAE5B3mC,GAAOQ,OAAOP,EAAO+T,QAAS,SAAUtS,GACpCklC,IACAK,sCCfpB,WACI,YAEA,IAAI1sC,GAAaxM,QAAQ9E,OAAO,mBAEhCsR,GAAWtM,QAAQ,iBAAiB,aAAU,SAAUrD,GAepD,QAAAw8C,GAAwBvpC,GACpB,GAAa,MAATA,EAEJ,MAAO7R,GAAEq7C,QAAQxpC,EAAMipC,SAAYzT,MAAM,GAASx1B,EAAMipC,OAkD5D,QAAAQ,GAA+BC,EAAM1pC,GACjC,GAAY,MAAR0pC,GACS,MAAT1pC,EAAJ,CAEA,GAAI0pC,EAAKC,aAAe3pC,EAAM4pC,UAAYF,EAAKG,UAAYH,EAAKC,aAAe3pC,EAAM4pC,UAAY5pC,EAAM6pC,QAAS,CAC5G,GAAI5wC,GAAS9K,EAAEq7C,QAAQxpC,EAAMipC,SAAYzT,MAAM,GAAQx1B,EAAMipC,MAC7D,OAAOhwC,GAEX,OAASu8B,MAAM,IAGnB,QAAAsU,GAAyBJ,EAAMn5C,GAC3Bm5C,EAAKK,eACLL,EAAKM,gBAEDz5C,IACAm5C,EAAKO,YACLP,EAAKQ,iBAGTR,EAAKJ,gBAGT,QAAAa,GAA2BT,EAAM1pC,GAC7B,GAAK0pC,EACL,GAAI1pC,GAAS0pC,EAAK1pC,IAAU0pC,EAAK1pC,GAAOipC,OACnCS,EAAK1pC,GAAOipC,cACV,CACH,IAAK,GAAIC,KAAQQ,GACTA,EAAKR,IAASQ,EAAKR,GAAMD,SACzBS,EAAKR,GAAMD,UAGfS,IAAQA,EAAKT,SAAQS,EAAKT,YAItC,QAAAmB,GAAsBV,EAAM35C,EAAOs6C,GAC/B,GAAa,MAATt6C,EAAJ,CAEA25C,EAAKJ,aAAeI,EAAKJ,gBAEzB,IAAI78C,GAAOsD,EAAMtD,OAASsD,EAAMa,UAAYnE,MAAQ,IAGpD,KAFKA,GAAQsD,EAAMe,SAAQrE,EAAOsD,EAAMe,QAEpCrE,EAAM,CACN,GACI69C,GAAY,SAAW79C,EACvBuT,EAAQqqC,EAAgBA,EAAc59C,GAAQ,IAElD,IAAIuT,GAAS0pC,EAAK1pC,IAAU0pC,EAAK1pC,GAAOmpC,aAEpC,WADAO,GAAK1pC,GAAOmpC,aAAamB,GAAW,EAKxC,IAAa,QAATtqC,EAEA,YADA0pC,EAAKJ,aAAagB,IAAa,GAMvC,GAAIv6C,EAAMa,MAAQb,EAAMa,KAAKJ,QAGzB,MAFAk5C,GAAKJ,aAA4B,cAAIv5C,EAAMa,KAAKJ,YAChD+5C,GAAuBx6C,EAK3B,IAAIA,EAAMS,QAGN,MAFAk5C,GAAKJ,aAA4B,cAAIv5C,EAAMS,YAC3C+5C,GAAuBx6C,EAI3B,IAAIA,EAAMxC,KAGN,MAFAm8C,GAAKJ,aAA4B,cAAIv5C,EAAMxC,SAC3Cg9C,GAAuBx6C,EAI3B25C,GAAKJ,aAA4B,cAAIv5C,EACrCw6C,EAAuBx6C,IAG3B,QAAAw6C,GAAgCx6C,GAC5BhD,EAAWqrC,MAAM,6BACbroC,MAAOA,IA3JrB,OACCw5C,eAAgBA,EAMPE,sBAAuBA,EACvBK,gBAAiBA,EACjBM,aAAcA,EACdD,kBAAmBA,kCCjB/B,WACI,YAEA,IAAIztC,GAAaxM,QAAQ9E,OAAO,2BAEhCsR,GAAWwF,WAAW,iCAAiC,SAAU,SAAQ,aAAQ,YAAqB,SAAAC,EAAAtS,EAAA9C,EAAAmrC,GAelG,QAAAsS,KACItS,EAAUuS,kBACVvS,EAAUsB,aACVtB,EAAUwS,oBAAoB,4BAC9BxS,EAAUxB,iBAAiB,SAG/B,QAAAiU,MApBA59C,EAAW0uB,UAAW,EACtBtZ,EAAO3D,WAAY,EACnBgsC,IAEAroC,EAAOpS,MAAQF,GAAUA,EAAOpC,QAAUoC,EAAOpC,OAAOsC,MAASF,EAAOpC,OAAOsC,SAC/EoS,EAAOyoC,gBAAkBzoC,EAAOpS,OAASoS,EAAOpS,MAAMpB,QACtCwT,EAAOpS,MAAMpB,OAAOlB,QAAU0U,EAAOpS,MAAMpB,OAAOlB,OAAOkU,SAAWQ,EAAOpS,MAAMpB,OAAOlB,OAAOkU,SAAW,EAE1HQ,EAAOwoC,QAAUA,iCCfzB,WACI,YAEA,IAAIjuC,GAAaxM,QAAQ9E,OAAO,4BAEhCsR,GAAWwF,WAAW,kCAAkC,SAAU,SAAQ,aAAQ,YAAqB,SAAAC,EAAAtS,EAAA9C,EAAAmrC,GAenG,QAAAsS,KACItS,EAAUuS,kBACVvS,EAAUsB,aACVtB,EAAUwS,oBAAoB,6BAC9BxS,EAAUxB,iBAAiB,SAG/B,QAAAmU,MApBAL,IACAz9C,EAAW0uB,UAAW,EAEtBtZ,EAAOpS,MAAQF,GAAUA,EAAOpC,QAAUoC,EAAOpC,OAAOsC,MAASF,EAAOpC,OAAOL,aAC/E+U,EAAOnS,aAAeH,GAAUA,EAAOpC,OAAUoC,EAAOpC,OAAOuC,gBAC/DmS,EAAO3U,IAAM2U,EAAOnS,cAAgBmS,EAAOnS,aAAaC,GAAKJ,EAAO4nC,KAAKt1B,EAAOnS,aAAaC,GAAIkS,EAAOnS,aAAa7C,UAAW29C,UAAU,IAAS,GACnJ3oC,EAAO4oC,QAAU5oC,EAAO/U,WAAa+U,EAAO/U,UAAU6C,GAAKJ,EAAO4nC,KAAKt1B,EAAO/U,UAAU6C,GAAIkS,EAAO/U,UAAUC,YAAay9C,UAAU,IAAS,GAE7I3oC,EAAO0oC,WAAaA,iCCf5B,WACI,YAEA,IAAInuC,GAAaxM,QAAQ9E,OAAO,4BAEhCsR,GAAWwF,WAAW,kCAAkC,SAAU,SAAQ,aAAQ,UAAmB,YAAW,SAAAC,EAAAtS,EAAA9C,EAAAc,EAAAqqC,GAW5G,QAAA8S,KACIn9C,EAAQE,QAAQC,OAIpB,QAAAw8C,KACItS,EAAUuS,kBACVvS,EAAUsB,aACVtB,EAAUwS,oBAAoB,6BAC9BxS,EAAUxB,iBAAiB,SAlB/B3pC,EAAW0uB,UAAW,EACtB+uB,IAEAroC,EAAOpS,MAAQF,GAAUA,EAAOpC,QAAUoC,EAAOpC,OAAOsC,MAASF,EAAOpC,OAAOsC,SAE/EoS,EAAO6oC,QAAUA,kCCZzB,WACI,YAEA,IAAItuC,GAAaxM,QAAQ9E,OAAO,wBAAyB,uBAEzDsR,GAAWrH,UAAU,uBACjB,WACI,OACIV,SAAU,IACVrE,OACIP,MAAO,YACPk7C,MAAO,aAEX/mC,YAAa,+CACbhC,WAAY,oCAKxBxF,EAAWwF,WAAW,kCAClB,SAAU,WAAQ,SAAU,eAAoB,SAAAC,EAAAW,EAAAV,EAAA9Q,GAM5C,QAAA05C,KACQ7oC,EAAO8oC,OAAS/6C,QAAQ0rB,WAAWzZ,EAAO8oC,QAAQ9oC,EAAO8oC,QALjE9oC,EAAO6oC,QAAUA,kCCtB7B,WACI,YAEA,IAAItuC,GAAaxM,QAAQ9E,OAAO,uBAEhCsR,GAAWwF,WAAW,6BAA6B,SAAU,SAAQ,aAAQ,YAAqB,SAAAC,EAAAtS,EAAA9C,EAAAmrC,GAiB9F,QAAAsS,KACItS,EAAUuS,kBACVvS,EAAUsB,aACVtB,EAAUwS,oBAAoB,0BAC9BxS,EAAUxB,iBAAiB,SAG/B,QAAAwU,KACI/oC,EAAOgpC,iBACPhpC,EAAOgpC,cAAc1+C,KAAO0V,EAAOpS,MAAMtD,KACzC0V,EAAOgpC,cAAcC,YAAcjpC,EAAOpS,MAAMS,QAChD2R,EAAOgpC,cAAcr6C,OAASqR,EAAOpS,MAAMe,OAE3CqR,EAAOgpC,cAAcE,kBAAoB,aAIzClpC,EAAOgpC,cAAcG,kBAAoB,aAK7C,QAAAjpB,KACIlgB,EAAO2hB,WAAY,EAGvB,QAAA6mB,MAzCA59C,EAAW0uB,UAAW,EACtBtZ,EAAO3D,WAAY,EACnBgsC,IAEAroC,EAAOpS,MAAQF,GAAUA,EAAOpC,QAAUoC,EAAOpC,OAAOsC,MAASF,EAAOpC,OAAOsC,SAC/EoS,EAAOgpC,cAAgB,KAEvBhpC,EAAOkgB,UAAYA,EACnBlgB,EAAOwoC,QAAUA,EAEjBO,oCCjBR,WACI,YAEA,IAAIxuC,GAAaxM,QAAQ9E,OAAO,2BAEhCsR,GAAWwF,WAAW,iCAAiC,SAAU,SAAQ,aAAQ,WAAoB,YAAW,SAAAC,EAAAtS,EAAA9C,EAAAoX,EAAA+zB,GAW5G,QAAAsS,KACItS,EAAUuS,kBACVvS,EAAUsB,aACVtB,EAAUwS,oBAAoB,8BAC9BxS,EAAUxB,iBAAiB,SAb/Bv0B,EAAOgC,SAAWA,EAClBpX,EAAW0uB,UAAW,EACtB+uB,IAEAroC,EAAOpS,MAAQF,GAAUA,EAAOpC,QAAUoC,EAAOpC,OAAOsC,MAASF,EAAOpC,OAAOsC,yCClBvF,SAAA3E,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,+BACA,myBAiBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,mCACA,o4BAoBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,mCACA,gnBAcA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,+CACA,iqBAeA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uBACA,8+CA4BA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,+BACA;;;C/H9IA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAA2/C,OAAArgD,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IgIAA,WACI,YAYA,SAAAqgD,KACI,OACI72C,SAAU,IACVrE,OACIm7C,OAAQ,cAEZC,kBAAkB,EAClB1R,aAAc,WACd91B,YAAa,qBACbhC,YAAY,WAAU,SAAU,WAAQ,YAAmB,kBAAiB,SAAAY,EAAAX,EAAAjT,EAAA0R,EAAA+qC,GAkFxE,QAAAC,KACI,GAAIC,GAASC,GAAGC,UAAU,gBAAgB,GACtCC,EAAYF,GAAGC,UAAU,WAAW,GACpCE,EAAqBH,GAAGvQ,OAAO,aAAa,GAAG,GAAI2Q,UAAUzmC,MAEjEqmC,IAAGvQ,OAAO,cAAc4Q,QAAQ,WAAW,GAE3CH,EAAUhkC,QAAQ,SAAUnQ,EAAMuM,GAC9B,GAAIgoC,GAAgBv0C,EAAMq0C,UACtBn3C,EAAU+2C,GAAGvQ,OAAO1jC,GACpB2Y,EAAIs7B,GAAGr6B,UAAU1c,EAAQyX,KAAK,cAActX,UAAU,EAE1DH,GACKyX,KAAK,YAAa,aAAe6/B,OAAe,GAARjoC,EAAmB,IAAM,KAAO6nC,EAAe,KACvF1Q,OAAO,QACP/uB,KAAK,QAAS,IAEnBzX,EACKu3C,aACAxpB,SAAS,KACTtW,KAAK,YAAa,aAAe6/B,OAAe,GAARjoC,EAAmB,IAAM,KAAOoM,EAAI,KAEjFs7B,GAAGvQ,OAAOsQ,EAAOznC,IACZoI,KAAK,KAAM4/B,EAAQ3mC,OAAS,GAC5B+G,KAAK,IAAK,MAWvB,QAAA+/B,GAA6BC,GACzB,MAAO,QAAUb,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,IAClDq4C,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,IACvCq4C,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,KACtCq4C,EAAgBa,GAAO,KAAKl5C,MAAM,IAAM,GAAK,IAOxD,QAAAm5C,KACIC,EAAGC,OAAO3kC,QAAQ,SAAUnQ,EAAMuM,GAC9BvM,EAAK20C,MAAQ30C,EAAK20C,OAASD,EAAoB1wB,EAAOzX,MAjI9D,GAAIsoC,GAAK/gD,KACLihD,EAAQ,KACRC,EAAY,KACZhxB,EAAS1tB,EAAE4I,IAAI40C,EAAiB,SAAUmB,EAASN,GACnD,MAAOA,IAGXE,GAAG97C,KAAO87C,EAAGjB,YAERiB,EAAGjB,YAAc7+C,OAASivB,EAAOjvB,SAClC8/C,EAAG97C,KAAO87C,EAAGjB,OAAOtxC,MAAM,EAAG,IAMjCuyC,EAAGC,OAASD,EAAG97C,KAAK,GAAGwG,OAGvBq1C,IAEMX,GAAGiB,MAAOC,cAAgB,WAC5B,MAAOlB,IAAGiB,MAAME,UAAUpkB,MAAMhN,EAAO9kB,IAAIw1C,KAG/CpqC,EAAOQ,OAAO,kBAAmB,SAAUuqC,GACvCR,EAAG97C,KAAOs8C,MAEVT,IAEIG,IACAC,EAAUM,MAAMT,EAAG97C,MAAMjE,KAAKigD,GAC9BA,EAAMQ,YAUdC,GAAGC,SAAS,WA0BR,MAzBAV,GAAQS,GAAGE,OAAOC,mBACb3Q,QAAQl/B,IAAK,GAAIgX,MAAO,EAAGC,OAAQ,EAAGzP,MAAM,KAC5CoL,EAAE,SAAU3a,GAAK,MAAOA,GAAE63C,QAC1Bj9B,EAAE,SAAU5a,GAAK,MAAOA,GAAEtC,QAC1Bo6C,YAAW,GACXC,WAAU,GACVC,WAAU,GACVC,YAAiB/B,GAAGnxC,OAAO,MAC3BmoB,SAAS,GACTrd,OAAO,KACP+mC,MAAM,SAAS52C,GACZ,MAAOA,GAAE42C,OAAeV,GAAGiB,MAAOC,gBAAgBnkB,UAG1D+jB,EAAMkB,QAAQC,SAAQ,GACtBnB,EAAMoB,OAAO,8BAEbnB,EAAYf,GAAGvQ,OAAOz4B,EAAStR,IAAI,IAC9B+pC,OAAO,kBACP4R,MAAMT,EAAG97C,MACT4X,MAAM,SAAU,KAChB7b,KAAKigD,GAIHA,GACR,WACCA,EAAMqB,SAASrpC,GAAG,eAAgB,WAC9B1V,EAAS08C,EAAwB,KAGrC18C,EAAS08C,EAAwB,QAvFjD17C,QAAQ9E,OAAO,mBACViK,UAAU,cAAem2C,+BCJlC,WACI,YAEAt7C,SAAQ9E,OAAO,aACX,eACA,gBACA,eACA,gDCdR,WACI,YAYA,SAAA8iD,KACI,OACIv5C,SAAU,IACVrE,OACIm7C,OAAQ,aACR0C,YAAa,mBAEjBjqC,YAAa,iCACbhC,YAAY,WAAU,SAAU,WAAQ,kBAAyB,SAAAY,EAAAX,EAAAjT,EAAAy8C,GAK7D,QAAAyC,KACI,GAAIC,GAAqB9wC,EAAEuF,GAAU5B,KAAK,4BAE1CmtC,GAAmBh3C,KAAK,SAAU+M,EAAOvM,GACrC0F,EAAE1F,GACG8L,IAAI,QAASxB,EAAOspC,OAAOrnC,GAAOooC,OAAS3wB,EAAOzX,IAClDlD,KAAK,YACLyC,IAAI,mBAAoBxB,EAAOspC,OAAOrnC,GAAOooC,OAAS3wB,EAAOzX,MAI1E,QAAAxG,KACI,GAAI0wC,GAAe/wC,EAAEuF,GAAU5B,KAAK,qBAEpCotC,GAAaj3C,KAAK,SAAU+M,EAAOvM,GAC/B3I,EAAS,WACLqO,EAAE1F,GAAMgN,SAAS,YAClB,IAAMT,KAIjB,QAAAmqC,KACIpsC,EAAOspC,OAAOzjC,QAAQ,SAAUnQ,EAAMuM,GAClCvM,EAAK20C,MAAQ30C,EAAK20C,OAAS3wB,EAAOzX,GAClCvM,EAAK4M,SAAW5M,EAAK4M,WAAY,IA5BzC,GAAIoX,GAAS1tB,EAAE4I,IAAI40C,EAAiB,SAAUmB,GAC1C,MAAOA,GAAQ,KAAK0B,KA+BxBrsC,GAAOQ,OAAO,SAAU,WACpBzT,EAAS,WACL0O,IACAwwC,KACD,GACHG,MACD,GAEHpsC,EAAOQ,OAAO,cAAe,SAAUkB,EAAUgtB,GAC7B,GAAZhtB,GAAoBA,GAAYgtB,GAChC3hC,EAASk/C,EAAiB,KAIlCl/C,EAAS,WACL0O,IACAwwC,KACD,GACHG,OA9DZr+C,QAAQ9E,OAAO,sBACViK,UAAU,iBAAkB64C,+BCXrC,WACI,YAYA,SAAAO,KACI,OACI95C,SAAU,IACVrE,OACIm7C,OAAQ,aACRmC,UAAW,YACXD,UAAW,YACXe,QAAS,eAEbhD,kBAAkB,EAClB1R,aAAc,YACd91B,YAAa,uBACbhC,YAAY,WAAU,SAAU,WAAQ,YAAmB,kBAAiB,SAAAY,EAAAX,EAAAjT,EAAA0R,EAAA+qC,GAsGxE,QAAAgD,GAAsBC,EAASC,GAC3B,GAAIC,GAAQD,EAAS,GAAKA,EAAS,GAC/BE,EAAUH,EAAQ,GAAKA,EAAQ,GAC/BhV,GAAWgV,EAAQ,GAAKA,EAAQ,IAAIE,IAAU,CAElDvxC,GAAEuF,EAAS,IAAI5B,KAAK,kBACfyC,IAAI,UAAW,WACZ,MAAOi2B,GAAU,EAAI,IAGzBA,GAEJr8B,EAAEuF,EAAS,IAAI5B,KAAK,mBACfyC,IAAI,OAAQ,WACT,MAAOirC,GAAQ,GAAGE,EAAQ,IAAM,MAEnCnrC,IAAI,QAAS,WACV,MAAOorC,GAAQD,EAAQ,IAAM,MAIzC,QAAAE,GAAiBpC,EAAOqC,GA4BpB,QAAAC,GAAiBC,GAEbC,EAAcD,EAASC,MACvBC,EAAcF,EAASE,MACvBC,EAAcH,EAASG,SAAWD,EAAMtC,QAAQwC,OAChDC,EAAcL,EAASK,SAAWJ,EAAMrC,QAAQwC,OAChDE,EAAcN,EAAS/B,OAGvBsC,EAASL,EAAMtC,QACf4C,EAASP,EAAMrC,QAGf6C,EAAaP,EAAMtC,QAAQwC,SAASp1C,QACpC01C,EAAaT,EAAMrC,QAAQwC,SAASp1C,QAGpC21C,EAAcF,EACdG,EAAYC,EAAOjD,QACnBkD,EAAgBD,EAAO96C,YAGvBw6C,EAAOQ,OACPP,EAAOO,OAIX,QAAAC,GAAmBZ,EAAQV,EAAU9B,EAAO73C,GAyBxC,MAxBIq6C,GAAO,GAAKV,EAAS,KACrBU,EAAO,GAAKV,EAAS,GACjBiB,EAAY,KAAOjB,EAAS,IAAM9B,IAAUgD,EAC5CR,EAAO,IAAOV,EAAS,GAAKU,EAAO,IAEnCA,EAAO,GAAKO,EAAY,GACxB56C,EAAY/G,EAAEiiD,MAAMH,KAIxBV,EAAO,GAAKV,EAAS,KACrBU,EAAO,GAAKV,EAAS,GACjBiB,EAAY,KAAOjB,EAAS,IAAM9B,IAAUgD,EAC5CR,EAAO,IAAOA,EAAO,GAAKV,EAAS,IAEnCU,EAAO,GAAKO,EAAY,GACxB56C,EAAY/G,EAAEiiD,MAAMH,KAI5BD,EAAO96C,UAAUA,GACjB46C,EAAc3hD,EAAEiiD,MAAMb,GACtBQ,EAAY5hD,EAAEiiD,MAAMrD,GACpBkD,EAAgB9hD,EAAEiiD,MAAMl7C,GACjBq6C,EAGX,QAAAc,KACIL,EAAOjD,MAAM,GACbiD,EAAO96C,WAAW,EAAE,IACpBw6C,EAAOH,OAAOK,GACdI,EAAOz/B,EAAEm/B,GAAQl/B,EAAEm/B,GACnBV,EAAItiD,KAAKqjD,GAIb,QAAAM,KAIkC,IAApBxE,GAAG7+C,MAAO8/C,OAChBwD,IACAF,MAEAf,EAAQa,EAAUT,EAAOH,SAAUK,EAAkB9D,GAAG7+C,MAAO8/C,MAAajB,GAAG7+C,MAAOiI,YACtFu6C,KAGJd,EAAae,EAAOH,SAAUK,GAoBlC,QAAAY,GAAc/6B,GACV,GAAIvgB,GAAY86C,EAAO96C,WAET,WAAVugB,EACAvgB,EAAU,IAAM,GAEhBA,EAAU,IAAM,GAGpB86C,EAAO96C,UAAUA,GACjB86C,EAAO/iD,MAAMgiD,GAGjB,QAAAwB,GAAqBC,GACjB,GAAI3D,GAAQiD,EAAOjD,QAAS73C,EAAY86C,EAAO96C,WAC/C,SAASw7C,EAAM,GAAKx7C,EAAU,IAAM63C,GAAQ2D,EAAM,GAAKx7C,EAAU,IAAM63C,GAG3E,QAAA2D,GAAeD,GACX,GAAI1D,GAAQiD,EAAOjD,QAAS73C,EAAY86C,EAAO96C,WAC/C,QAAQu7C,EAAY,GAAK1D,EAAQ73C,EAAU,GAAIu7C,EAAY,GAAK1D,EAAQ73C,EAAU,IAGtF,QAAAy7C,KACI,OAAa7E,GAAG7+C,MAAOuoB,SACnB,IAAK,IAAIg7B,EAAK,QAAU,MACxB,KAAK,IAAIA,EAAK,OAAS,MACvB,KAAK,KAAKI,EAAQ,KAAO,MACzB,KAAK,KAAKA,EAAQ,QAK1B,QAAAL,KACIjB,EAAQM,GACRH,IACAO,EAAOjD,MAAM,GACbiD,EAAO96C,WAAW,EAAE,IACpB66C,EAAY,EACZE,GAAiB,EAAE,GAjKvB,GAAIY,GAAc,EAGdzB,EAAc,KACdC,EAAc,KACdC,EAAc,KACdE,EAAc,KACdC,EAAc,KACdR,EAAcA,EAGdS,EAAS,KACTC,EAAS,KAGTC,EAAa,KACbC,EAAa,KAGbG,EAASlE,GAAGgF,SAASC,OACrBjB,EAAc,KACdC,EAAY,KACZE,EAAgB,IAEpBf,GAAQtC,GAkFRgE,EAAU,SAASn7B,GACf,GAAIu7B,IAAW/B,EAAI,GAAG,GAAG/C,UAAUjpC,MAAQ,EAAGgsC,EAAI,GAAG,GAAG/C,UAAUzmC,OAAS,GACvEwrC,EAAajB,EAAO96C,YAAag8C,EAAeT,EAAYO,EAElD,QAAVv7B,EACIs6B,EAAYc,GAAab,EAAOjD,MAAMgD,EAAY,IAElDA,EAAY,GAAGC,EAAOjD,MAAMgD,EAAY,GAGhD,IAAIoB,GAAUT,EAAMQ,EACpBlB,GAAO96C,WAAW+7C,EAAW,GAAKD,EAAQ,GAAKG,EAAQ,GAAIF,EAAW,GAAKD,EAAQ,GAAKG,EAAQ,KAEhGnB,EAAO/iD,MAAMgiD,IA8CjBe,EAAOz/B,EAAEm/B,GACJl/B,EAAEm/B,GACFkB,aAAa,EAAGA,IAChBjsC,GAAG,OAAQ0rC,GAGhBrB,EAAItiD,KAAKqjD,GAAQprC,GAAG,gBAAiB2rC,GACrChzC,EAAEuF,EAAStR,IAAI,IAAIqT,SAAS,WAG5BoqC,EACKziC,KAAK,aAAa,GAClBhE,MAAM,UAAW,QACjB5D,GAAG,UAAW+rC,GACd/rC,GAAG,QAAS,aAEjB,IAAIwsC,GAAa,SAASxgD,GAGtB,IAAI,GAFAygD,GAAQC,EAAS,KAEb/kD,EAAE,EAAEA,EAAEqE,EAAKhE,OAAOL,IACtB,IAAKqE,EAAKrE,GAAGkY,SAAU,CACnB,GAAI8sC,GAAazF,GAAG9lC,IAAIpV,EAAKrE,GAAG6K,OAAQ,SAASxB,GAAU,MAAOA,GAAE2a,IAChEihC,EAAa1F,GAAGhmC,IAAIlV,EAAKrE,GAAG6K,OAAQ,SAASxB,GAAU,MAAOA,GAAE2a,GACpE+gC,IAAWA,GAAUC,EAAaD,EAAUC,EAAaD,EACzDD,GAAWA,GAAUG,EAAaH,EAAUG,EAAaH,EAGjE,OAAQA,EAAQC,GAGpBG,GAAoB,SAAS7gD,GACzBw+C,EAAQxC,EAAMwC,MACdC,EAAQzC,EAAMyC,MAEdK,EAASL,EAAMtC,QACf4C,EAASP,EAAMrC,QAEf6C,EAAawB,EAAWxgD,GAED,IAAnBo/C,EAAOjD,UACPiD,EAAOz/B,EAAEm/B,GAAQl/B,EAAEm/B,GACnBV,EAAItiD,KAAKqjD,GACTA,EAAO/iD,MAAMgiD,IAGjBN,EAAae,EAAOH,SAAUK,IAWtC,QAAArD,GAA6BC,GACzB,MAAO,QAAUb,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,IAClDq4C,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,IACvCq4C,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,KACtCq4C,EAAgBa,GAAO,KAAKl5C,MAAM,IAAM,GAAK,IAOxD,QAAAm5C,KACIC,EAAG97C,KAAKoX,QAAQ,SAAUnQ,EAAMuM,GAC5BvM,EAAK20C,MAAQ30C,EAAK20C,OAASD,EAAoB1wB,EAAOzX,MAtW9D,GAAIsoC,GAAY/gD,KACZihD,EAAY,KACZC,EAAY,KACZ+D,EAAU,KACVa,EAAoB,KACpB51B,EAAY1tB,EAAE4I,IAAI40C,EAAiB,SAAUmB,EAASN,GACtD,MAAOA,IAGXE,GAAG97C,KAAO87C,EAAGjB,WACbiB,EAAGgF,gBAEHhF,EAAGiF,WAAa,WACZ,MAAuBlhD,SAAhBi8C,EAAGiB,WAAgCjB,EAAGiB,WAGjDjB,EAAGkF,WAAa,WACZ,MAAuBnhD,SAAhBi8C,EAAGkB,WAAgClB,EAAGkB,WAGjDlB,EAAGmF,OAAS,WACJjB,GACAA,EAAQ,OAIhBlE,EAAGoF,QAAU,WACLlB,GACAA,EAAQ,QAIZlE,EAAGjB,OAAO7+C,OAASivB,EAAOjvB,SAC1B8/C,EAAG97C,KAAO87C,EAAGjB,OAAOtxC,MAAM,EAAG,IAIjCsyC,IAEMX,GAAGiB,MAAOC,cAAgB,WAC5B,MAAOlB,IAAGiB,MAAME,UAAUpkB,MAAMhN,EAAO9kB,IAAIw1C,KAG/CpqC,EAAOQ,OAAO,mBAAoB,SAAUuqC,GACxCR,EAAG97C,KAAOs8C,EAEVT,IAEIG,IACAC,EAAUM,MAAMT,EAAG97C,MAAMjE,KAAKigD,GAE1B6E,GAAmBA,EAAkB/E,EAAG97C,SAEjD,GAKHy8C,GAAGC,SAAS,WAwCR,MAvCAV,GAAQS,GAAGE,OAAOwE,YACblV,QAASl/B,IAAK,GAAIgX,MAAO,GAAIC,OAAQ,GAAIzP,KAAM,KAC/CoL,EAAE,SAAU3a,GACT,MAAOA,GAAE2a,IAEZC,EAAE,SAAU5a,GACT,MAAOA,GAAEtC,QAEZmS,OAAO,KACPusC,yBAAwB,GACxBrE,WAAU,GACVC,WAAU,GACVqE,YAAW,GACXzF,MAAM,SAAS52C,GACZ,MAAOA,GAAE42C,OAAeV,GAAGiB,MAAOC,gBAAgBnkB,UAG1D+jB,EAAMkB,QAAQC,SAAQ,GACtBnB,EAAMoB,OAAO,8BAEbpB,EAAMwC,MACD8C,WAAW,SAAUt8C,GAClB,MAAOA,GAAI,IAAO,MAG1Bg3C,EAAMyC,MACD6C,WAAW,SAAUt8C,GAClB,MAAOA,GAAEiG,QAAQ,KAGzBgxC,EAAYf,GAAGvQ,OAAOz4B,EAAStR,IAAI,IAAI+pC,OAAO,mBAC9CsR,EAAUM,MAAMT,EAAG97C,MAAM4X,MAAM,SAAU,KAAK7b,KAAKigD,GAE/CF,EAAGgC,SACHM,EAAQpC,EAAOC,GAGnBQ,GAAG8E,MAAMC,aAAaxF,EAAMQ,QAErBR,OAlHvB18C,QAAQ9E,OAAO,oBACViK,UAAU,eAAgBo5C,+BCXnC,WACI,YAYA,SAAA4D,KACI,OACI19C,SAAU,IACVrE,OACIm7C,OAAQ,aACR6G,MAAO,YACP3F,OAAQ,iBACR4F,MAAO,gBACP5rC,KAAM,eAEV+kC,kBAAkB,EAClB1R,aAAc,WACd91B,YAAa,qBACbhC,YAAY,WAAU,SAAU,WAAQ,YAAmB,kBAAiB,SAAAY,EAAAX,EAAAjT,EAAA0R,EAAA+qC,GA4FxE,QAAA6G,GAA0BC,GACtB,GAAK/F,EAAG6F,OAAU7F,EAAG4F,MAArB,CAEA,GAAII,GAAWhG,EAAG97C,KAAK+hD,OAAO,SAAUC,EAAKC,GACzC,MAAOD,GAAMC,EAAKv/C,OACnB,EAEHw4C,IAAGvQ,OAAOkX,GACLlX,OAAO,sBACP5jB,OAAO,QACPw0B,QAAQ,eAAe,GACvB3/B,KAAK,cAAe,UACpBhE,MAAM,oBAAqB,WAC3BrT,KAAKu9C,GAEVI,EAAYhH,GAAGvQ,OAAOz4B,EAAS5B,KAAK,oBAAoB1P,IAAI,IAAIgX,MAAM,UAAW,IAGrF,QAAAuqC,KACI,GAAKrG,EAAG6F,OAAU7F,EAAG4F,MAArB,CAEA,GAAIU,GAAUtG,EAAG4F,MAAQxvC,EAAS5B,KAAK,iBAAiB1P,IAAI,GAAG06C,UACzDppC,EAAS5B,KAAK,qBAAqB1P,IAAI,GAAG06C,SAE3C8G,GAAQ/vC,OAAU+vC,EAAQvtC,QAI/BqtC,EAAUtqC,MAAM,cAAewqC,EAAQ/vC,OAASypC,EAAG4F,MAAQ,EAAE,MAAM9pC,MAAM,UAAW,IAUxF,QAAA+jC,GAA6BC,GACzB,MAAO,QAAUb,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,IAClDq4C,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,IACvCq4C,EAAgBa,GAAO,KAAKl5C,MAAM,GAAK,KACtCq4C,EAAgBa,GAAO,KAAKl5C,MAAM,IAAM,GAAK,IAQxD,QAAAm5C,KACIC,EAAG97C,KAAKoX,QAAQ,SAAUnQ,EAAMuM,GAC5BvM,EAAK20C,MAAQ30C,EAAK20C,OAASD,EAAoB1wB,EAAOzX,MA/I9D,GAAIsoC,GAAmB/gD,KACnBihD,EAAmB,KACnBkG,EAAmB,KACnBjG,EAAmB,KACnBhxB,EAAmB1tB,EAAE4I,IAAI40C,EAAiB,SAAUmB,EAASN,GAC7D,MAAOA,KAEPyG,EAAmBF,CAEvBrG,GAAG97C,KAAO87C,EAAG97C,SAEb87C,EAAGuF,WAAa,WACZ,MAAqBxhD,UAAdi8C,EAAGC,QAAuBD,EAAGC,QAGpCD,EAAGjB,OAAO7+C,OAASivB,EAAOjvB,SAC1B8/C,EAAG97C,KAAO87C,EAAGjB,OAAOtxC,MAAM,EAAG,IAGjCgI,EAAOQ,OAAO,kBAAmB,SAAUkL,GACvC6+B,EAAG97C,KAAOid,EAEV4+B,IAEIG,IACAC,EAAUM,MAAMT,EAAG97C,MAAMjE,KAAKigD,GAC9B19C,EAAS+jD,MAEd,GAGHxG,IAEMX,GAAGiB,MAAOC,cAAgB,WAC5B,MAAOlB,IAAGiB,MAAME,UAAUpkB,MAAMhN,EAAO9kB,IAAIw1C,KAM/Cc,GAAGC,SAAS,WAqCR,MApCAV,GAAQS,GAAGE,OAAO2F,WACbrW,QAASl/B,IAAK,EAAGgX,MAAO,EAAGC,OAAQ,EAAGzP,KAAM,IAC5CoL,EAAE,SAAU3a,GACT,MAAO82C,GAAG4F,MAAQ18C,EAAEtC,MAAQ,OAE/Bkd,EAAE,SAAU5a,GACT,MAAOA,GAAEtC,QAEZmS,OAAOinC,EAAG/lC,MAAQ,KAClB1D,MAAMypC,EAAG/lC,MAAQ,KACjBwsC,YAAW,GACXC,eAAe,MACfC,aAAY,GACZf,MAAM5F,EAAG4F,OACTgB,WAAW,IACX9G,MAAM,SAAS52C,GACZ,MAAOA,GAAE42C,OAAeV,GAAGiB,MAAOC,gBAAgBnkB,UAG1D+jB,EAAMkB,QAAQC,SAAQ,GACtBnB,EAAMoB,OAAO,8BACbpB,EAAMqF,YAAW,GAEjBpF,EAAYf,GAAGvQ,OAAOz4B,EAAStR,IAAI,IAC9B+pC,OAAO,kBACP/uB,KAAK,SAAUkgC,EAAG/lC,MAAQ,KAC1B6F,KAAK,QAASkgC,EAAG/lC,MAAQ,KACzB6B,MAAM,UAAW,GACjB2kC,MAAMT,EAAG97C,MACTjE,KAAKigD,GAEVS,GAAG8E,MAAMC,aAAa,WAClBxF,EAAMQ,SACNl+C,EAAS+jD,KAGNrG,GACR,WACC19C,EAAS,WACL,GAAIujD,GAAW3G,GAAGvQ,OAAOz4B,EAAStR,IAAI,IAAI+pC,OAAO,kBAAkB,GAAG,EACtEiX,GAAiBC,GACjB3G,GAAGvQ,OAAOkX,GACLnG,aACAxpB,SAAS,KACTta,MAAM,UAAW,GAEtBtZ,EAAS6jD,EAAwB,YAxGrD7iD,QAAQ9E,OAAO,mBACViK,UAAU,cAAeg9C,+BCXlC,SAAAjnD,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,qBACA,kMAQA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,iCACA,wzBAwBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,uBACA,gtBAmBA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,uBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,0BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,qBACA;;;CrInFA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAA2nD,SAAAroD,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IsIKA,WACI,YAEA+E,SAAQ9E,OAAO,eACX,sBACA,iDCLR,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,oBAC5B,sBAAuB,YAAa,cAAe,eACnD,wBAAyB,aAAc,sBAG3CsR,GAAW/N,QAAO,iBAAU,SAAck6C,GACtCA,EAAe36C,MAAM,YACjBV,IAAK,qBACLgmD,MAAM,EACNtxC,WAAY,4BACZgC,YAAa,wCAiBrBxH,EAAWwF,WAAW,6BAClB,SAAU,SAAQ,aAAQ,WAAoB,YAAa,cAAa,aAC9D,gBAAe,aAAU,SAAAC,EAAAtS,EAAA9C,EAAAmC,EAAAgpC,EAAAub,EAAA1c,EAAAoD,EAAAkD,GAoC/B,QAAAmN,KACIzT,EAAWh0B,OACXm1B,EAAU2B,KAAK,QAAQ,GACvB3B,EAAU2B,KAAK,UAAW,WAC1B3B,EAAU2B,KAAK,QAAQ,GACvB3B,EAAU2B,KAAK,QAAS,cACxB3B,EAAUuB,aACVU,EAAchlC,KAAO,WACrBkoC,EAAW7F,OAcf,QAAAkc,GAA0BxlD,GACtBylD,EAAmBzlD,EAAMA,OAc7B,QAAAylD,GAA4BzlD,GACxB0lD,EAAW1lD,GAEPiU,EAAO0xC,SAASC,KAChBjkD,EAAOvB,GAAGJ,GAOlB,QAAA0lD,GAAoB1lD,GAChBiU,EAAO0xC,SAASC,IAAM3lD,EAAE+S,KAAKiB,EAAOmgC,KAAM,SAAUwR,GAChD,MAAOA,GAAI5lD,QAAUA,IAEzBiU,EAAO0xC,SAASE,SAAW5lD,EAAEwL,QAAQwI,EAAOmgC,KAAMngC,EAAO0xC,SAASC,KAClE3xC,EAAO0xC,SAASG,MAAQ9lD,EAvF5BiU,EAAOmgC,KAAOn0C,EAAE6T,OAAOyxC,EAAYQ,UAAW,SAAUH,GACpD,GAAIA,EAAIrb,WAAY,KAASqb,EAAI5c,QAAS4c,EAAI5c,OAAOnqC,EAAWmnD,MAAOJ,IACnE,MAAOA,KAIf3xC,EAAOmgC,KAAOn0C,EAAEgmD,OAAOhyC,EAAOmgC,KAAM,SAEpCngC,EAAO0xC,YACqB,aAAxBhkD,EAAO8uC,QAAQpxC,KACfqmD,EAAW/jD,EAAO8uC,QAAQpxC,MACK,aAAxBsC,EAAO8uC,QAAQpxC,MAAuBkmD,EAAYW,gBACzDR,EAAWH,EAAYW,gBAAgBlmD,OAEvCgB,EAAS,WACDukD,EAAYW,iBACZR,EAAWH,EAAYW,gBAAgBlmD,QAEtCulD,EAAYW,iBAAmBjyC,EAAOmgC,KAAK11C,OAAS,GACrDgnD,EAAWzxC,EAAOmgC,KAAK,GAAGp0C,SAKtCs8C,IAGAroC,EAAOwxC,mBAAqBA,EAE5BxxC,EAAOuxC,iBAAmBA,iCC/DtC,WACI,YAEA,IAAIh3C,GAAaxM,QAAQ9E,OAAO,yBAUhCsR,GAAWjI,SAAS,eAAe,iBAAU,SAAco0C,GAwIvD,QAAAwL,GAA0BnmD,GACtB,MAAO,YAAcA,EAGzB,QAAA+lD,KACI,MAAO9lD,GAAEC,UAAUk0C,GAGvB,QAAA8R,KACI,GAAIE,EAMJ,OAJAA,GAAanmD,EAAE+S,KAAKohC,EAAM,SAAUtsC,GAChC,MAAOA,GAAE9H,QAAUomD,IAGhBnmD,EAAEC,UAAUkmD,GAGvB,QAAAC,GAAgBC,GACZ,GAAIC,EAMJ,IAJAC,EAAYF,GACZC,EAActmD,EAAE+S,KAAKohC,EAAM,SAAUtsC,GACjC,MAAOA,GAAE9H,QAAUmmD,EAAiBG,EAAOtmD,SAG3C,KAAM,IAAI1B,OAAM,wBAA0BgoD,EAAOtmD,MAAQ,0BAG7Do0C,GAAK/qC,MACDrJ,MAAOmmD,EAAiBG,EAAOtmD,OAC/B4yB,MAAO0zB,EAAO1zB,MACd1c,MAAOowC,EAAOpwC,OAAS,IACvB8yB,OAAQsd,EAAOtd,OACfuB,QAAS+b,EAAO/b,WAAY,EAC5Bkc,YAAaxmD,EAAEC,UAAUomD,EAAOG,eAGpC9L,EAAe36C,MAAMmmD,EAAiBG,EAAOtmD,OAAQsmD,EAAOG,aAGlC,mBAAfL,IAA8C,IAAhBhS,EAAK11C,QAC1CgoD,EAAcJ,EAAOtmD,OAI7B,QAAA0mD,GAAuBrnD,GAEnB,IAAKY,EAAE+S,KAAKohC,EAAM,SAAUwR,GACxB,MAAOA,GAAI5lD,QAAUmmD,EAAiB9mD,KAEtC,KAAM,IAAIf,OAAM,wBAA0Be,EAAO,sBAGrD+mD,GAAaD,EAAiB9mD,GAUlC,QAAAmnD,GAAqBF,GACjB,IAAKA,IAAWrmD,EAAEgD,SAASqjD,GACvB,KAAM,IAAIhoD,OAAM,iBAGpB,IAAqB,OAAjBgoD,EAAOtmD,OAAmC,KAAjBsmD,EAAOtmD,MAChC,KAAM,IAAI1B,OAAM,qDAGpB,IAAIgoD,EAAOtd,SAAW/oC,EAAEytB,WAAW44B,EAAOtd,QACtC,KAAM,IAAI1qC,OAAM,gCAGpB,KAAKgoD,EAAOG,cAAgBxmD,EAAEgD,SAASqjD,EAAOG,aAC1C,KAAM,IAAInoD,OAAM,sCAIxB,QAAAqoD,GAAwBC,GAMpB,MALIA,KACAC,EAAYD,EACZE,EAAY,MAGTD,EAGX,QAAAE,GAAuBC,GAMnB,MALIA,KACAF,EAAYE,EACZH,EAAY,MAGTC,EAGX,QAAAG,GAAqB7hD,GAKjB,MAJc,QAAVA,GAA4B7C,SAAV6C,IAClB8hD,IAAc9hD,GAGX8hD,EA/OX,GAAId,GACAhS,KACAyS,EAAY,iBACZC,EAAY,KACZI,GAAY,CAOhB,OAJAzpD,MAAKkpD,cAAgBA,EACrBlpD,KAAKspD,cAAgBA,EACrBtpD,KAAKwpD,YAAcA,GAafZ,OAAQA,EAYRN,QAASA,EAYTW,cAAeA,EAafR,cAAeA,EAEfS,cAAeA,EACfI,cAAeA,EACfE,YAAaA,EAEbvhD,KAAM,WASF,OAWIqgD,QAASA,EAYTM,OAAQA,EAaRH,cAAeA,EAYfQ,cAAeA,EAEfC,cAAeA,EACfI,cAAeA,EACfE,YAAaA,oCC7IjC,WACI,YAEAjlD,SAAQ9E,OAAO,mBACX,aAAc,UACd,sBACA,mBAEA,0BACA,2BACA,4BACA,sDCXR,WACI,YAEA,IAAIsR,GAAaxM,QAAQ9E,OAAO,6BAC3B,iCAAkC,8BAC/B,sBAAuB,oBAE/BsR,GAAW/N,QAAO,sBAAU,SAAmB0mD,GAC3CA,EAAoBd,QAChBrmD,MAAO,aACPkW,MAAO,EACP0c,MAAO,4BACP6zB,aACInnD,IAAK,cACL0U,WAAY,qCACZgC,YAAa,8CACbsvC,MAAM,KAId6B,EAAoBT,cAAc,iBAYtCl4C,EAAWwF,WAAW,sCAClB,SAAU,aAAQ,YAAY,SAAiB,UAAW,WAAU,aAC1D,eAAc,iBAAwB,WAC3B,YAAa,cAAc,eAAa,gBAAA,SAAAC,EAAApV,EAAAkmC,EAAApjC,EAAAhC,EAAAqB,EAAA43C,EAAAx1C,EAAAgkD,EAAA9O,EAAA+O,EAAAC,EAAAC,EAAAC,GAqCzD,QAAAC,KACIxzC,EAAOyzC,QAAQj9C,KACX,WACI5L,EAAWwG,WAAW,0BAE1B,SAAUxD,GACN,MAAO,IAAIvD,OAAMuD,KAK7B,QAAA8lD,GAA0BhlC,GACtB1O,EAAOyzC,QAAU/kC,EAAOilC,OACxB3zC,EAAOyzC,QAAQj9C,KACX,WACI5L,EAAWwG,WAAW,0BAE1B,SAAUxD,GACN,MAAO,IAAIvD,OAAMuD,KAe7B,QAAAgmD,KAKI,GAJI5zC,EAAOunC,MACPvnC,EAAOunC,KAAKQ,gBAGZn9C,EAAWipD,OAAQ,CAEnB,GAA+B,WAA3BjpD,EAAWipD,OAAOltC,MAAqB3G,EAAOunC,KAAKuM,SACnD,MAIJlpD,GAAWipD,OAAOE,QAAU/zC,EAAO+zC,OACnC,KACI,GAAIC,GAAQjmD,QAAQkmD,OAAOrpD,EAAWipD,QACxC,MAAOvjD,GACL,KAAMA,GAGV,GAAI0jD,IAAUh0C,EAAOk0C,cAAe,CAChC,GAAIC,GAAMn0C,EAAO9P,YAAYkkD,MAAM,WAEnCd,GAAae,YAAYzpD,EAAWipD,OAChC,SAAUplD,GACFuR,EAAO9P,YAAYokD,QAAQH,KAG/Bn0C,EAAO9P,YAAY++B,MAEnBjvB,EAAOk0C,cAAgBF,EACvBh0C,EAAOu0C,SAAW9lD,EAAKrD,OACxB,SAAUwC,GACToS,EAAO9P,YAAY++B,IAAIrhC,GACvBoS,EAAO3R,QAAUgL,SAAW,SAAWzL,EAAMe,QAAUf,EAAMa,KAAK+lD,YAClE5pD,EAAWipD,OAAS9lD,QAAQ0mD,SAASz0C,EAAOk0C,mBAkBhE,QAAAQ,KACI,GAAIP,GAAMn0C,EAAO9P,YAAYkkD,MAAM,2BAE/BxpD,GAAWmnD,MAAMjiD,KAAOlF,EAAWipD,OAAO/jD,IAC1CujD,EAAYqB,YAEJh/C,KAAM9K,EAAWmnD,OAErB,SAAUtjD,GACFuR,EAAO9P,YAAYokD,QAAQH,KAG/Bn0C,EAAO9P,YAAY++B,MAEnB9/B,EAAasF,IAAIhG,EAAKiG,UACtB9J,EAAWmnD,MAAMr9C,SAAWjG,EAAKiG,SACjC9J,EAAWmnD,MAAM7gB,MAAQziC,EAAKyiC,MAC1BtmC,EAAWmnD,MAAM7gB,OACjBmT,EAASsQ,gBAAgB/pD,EAAWmnD,MAAM7gB,OAAO,KAGtD,SAAUtjC,GACT,GAAIS,EAEJ2R,GAAO9P,YAAY++B,IAAIrhC,GACvBS,EAAUgL,SAAW,SAAWzL,EAAMe,QAAUf,EAAMa,KAAK+lD,YAC3DpB,EAAU5xB,iBAAiBryB,EAAa4D,UAAU1E,GAAU,KAAM,KAAM,QAgBxF,QAAAumD,GAA0B9pD,GACtB,GAAIuD,EAEJyiC,GAAU/vB,MACNgB,YAAa,mDACbhC,WAAY,0CACZgxB,YAAajmC,EACbw0B,QAASu1B,MAAOjqD,EAAWipD,OAAOgB,SACnC/zB,KACC,SAAUg0B,GACFA,IACAzmD,EAAUgL,SAAW,yBACrB+5C,EAAU5xB,iBAAiBryB,EAAa4D,UAAU1E,GAAU,KAAM,KAAM,SAexF,QAAA0mD,GAAuBjqD,GACnB,GAAIuD,EAEJyiC,GAAU/vB,MACNgB,YAAa,gDACbhC,WAAY,uCACZgxB,YAAajmC,EACbw0B,QAASu1B,MAAOjqD,EAAWipD,OAAOgB,SACnC/zB,KACC,SAAUg0B,GACN90C,EAAOg1C,KAAKC,UAAYH,EACpBA,IACAzmD,EAAUgL,SAAW,4BACrB+5C,EAAU5xB,iBAAiBryB,EAAa4D,UAAU1E,GAAU,KAAM,KAAM,SA1MxF,IACI2R,EAAOk0C,cAAgBnmD,QAAQkmD,OAAOrpD,EAAWipD,QACnD,MAAOvjD,GACL,KAAMA,GAGV0P,EAAOu0C,SAAW3pD,EAAWipD,OAAOzoD,KAEpC2B,EAAS,WACLiT,EAAO+zC,QAAUnpD,EAAWipD,OAAOE,UAGvC/zC,EAAOk1C,QAAU/lD,EAAakG,cAAc,OAAQ,SAAU,QAC9D2K,EAAOu5B,UAAYpqC,EAAakG,cAAc,KAAM,OAEpD2K,EAAO9P,YAAcijD,EAAe,sBAAuBnzC,GAE3DA,EAAOygC,OAASz0C,EAAEgJ,KAAKhJ,EAAEmpD,KAAKxQ,EAAWE,OAAQ,YAEjDn3C,EAAO2B,IAAI,uBAAuB+lD,OAASxB,EAE3C5zC,EAAOonC,eAAiBmM,EAAcnM,eAEtCpnC,EAAO40C,iBAAmBA,EAE1B50C,EAAO+0C,cAAgBA,EAEvB/0C,EAAO0zC,iBAAmBA,EAE1B1zC,EAAOwzC,iBAAmBA,EAE1BxzC,EAAOq1C,aAAerpD,EAAEspD,SAASZ,EAAY,KAE7C10C,EAAOu1C,kBAAoBvpD,EAAEspD,SAAS1B,EAAa,oCCtE/D,WACI,YAEA,IAAIr5C,GAAaxM,QAAQ9E,OAAO,oCAShCsR,GAAWwF,WAAW,2CAClB,SAAU,aAAQ,YAAY,QAAgB,cAAe,iBAAgB,gBAAa,SAAAC,EAAApV,EAAAkmC,EAAA+jB,EAAAxB,EAAAF,EAAAI,GA0BtF,QAAAniB,KACIN,EAAUrxB,SAWd,QAAA+1C,KACQx1C,EAAOy1C,gBACHz1C,EAAO01C,SAAW11C,EAAOy1C,cAAcE,cAAkC,KAAlB31C,EAAO01C,QAAkB11C,EAAO01C,QAQvF11C,EAAO41C,gBAAiB,EACxB51C,EAAOunC,KAAKmO,OAAO1O,aAAa,UAAU,KAR1ChnC,EAAOunC,KAAKmO,OAAO1O,aAAa,UAAU,GACtChnC,EAAO01C,SAAW11C,EAAOy1C,cAAcE,aACvC31C,EAAO41C,gBAAiB,EAExB51C,EAAO41C,gBAAiB,IAiBxC,QAAAC,KACI71C,EAAOw1C,wBAEHx1C,EAAOunC,KAAKuM,UAIX9zC,EAAO9P,YAAYkkD,MAAM,qBAI9Bp0C,EAAOy1C,cAAcZ,MAAQA,EAE7BxB,EAAYyC,eACR91C,EAAOy1C,cACP,WACIz1C,EAAO9P,YAAY++B,MACnB6B,EAAUlwB,MAAK,IAEnB,SAAUhT,GACNoS,EAAO9P,YAAY++B,IAAIrhC,GACvB2lD,EAActL,aACVjoC,EAAOunC,KAAM35C,GAETmoD,KAAM,cACNC,KAAM,mBArF1Bh2C,EAAO9P,YAAcijD,EAAe,2BAA4BnzC,GAChEA,EAAOi2C,qBAAuB,SAAU1O,EAAM2O,GAC1C,MAAIl2C,GAAO41C,eACArC,EAAcnM,eAAeG,EAAM2O,OAKlDl2C,EAAO41C,gBAAiB,EACxB51C,EAAOy1C,iBAEPz1C,EAAOonC,eAAiBmM,EAAcnM,eACtCpnC,EAAOoxB,SAAWA,EAClBpxB,EAAOw1C,sBAAwBA,EAC/Bx1C,EAAO61C,QAAUA,iCC7B7B,WACI,YAEA,IAAIt7C,GAAaxM,QAAQ9E,OAAO,4BAC5B,sBAAuB,oBAE3BsR,GAAW/N,QAAO,sBAAU,yBAAqB,SAAsB0mD,EAAAiD,GACnEjD,EAAoBd,QAChBrmD,MAAO,WACPkW,MAAO,EACP0c,MAAO,iCACP6zB,aACInnD,IAAK,YACL0U,WAAY,oCACZgC,YAAa,4CACbsvC,MAAM,EACN+E,SACIC,SAAUF,EAAuBG,qBACjCC,UAAWJ,EAAuBK,6BAalDj8C,EAAWwF,WAAW,qCAClB,SAAU,iBAAQ,iBAAgB,WAAwB,YAAW,SAAAC,EAAAmzC,EAAAsD,EAAAJ,EAAAE,GAiBjE,QAAAG,KACI,GAAIvC,GAAMn0C,EAAO9P,YAAYkkD,MAAM,WAEnCuC,OAAMC,WACF52C,EAAOq2C,SACP,SAAUvkD,EAAcod,GAChBpd,EAAQhC,IAAMkQ,EAAOu2C,UACrBrnC,IAEAunC,EAAeI,eAEP/kD,QAASA,GAEb,WACIkO,EAAOq2C,SAAWrqD,EAAE8qD,QAAQ92C,EAAOq2C,SAAUvkD,GAC7Cod,KAEJ,SAAUthB,OAMtB,SAAU0C,GACFA,GACA0P,EAAO9P,YAAY++B,IAAI3+B,GAEvB0P,EAAO9P,YAAYokD,QAAQH,IAG/Bn0C,EAAO9P,YAAY++B,QAc/B,QAAA8nB,GAAkBjlD,EAASod,GACvB,GAAIpd,EAAQhC,KAAOkQ,EAAOu2C,UAA1B,CAGA,GAAIpC,GAAMn0C,EAAO9P,YAAYkkD,MAAM,WACnCqC,GAAeI,eAEP/kD,QAASA,GAEb,WACQkO,EAAO9P,YAAYokD,QAAQH,KAG/Bn0C,EAAO9P,YAAY++B,MAEnBjvB,EAAOq2C,SAAWrqD,EAAE8qD,QAAQ92C,EAAOq2C,SAAUvkD,GACzCod,GACAA,MAGR,SAAUthB,GACNoS,EAAO9P,YAAY++B,IAAIrhC,GACvBoS,EAAO3R,QAAU,SAAWT,EAAMe,QAAUf,EAAMa,KAAK+lD,eAjFnEx0C,EAAOu2C,UAAYA,EACnBv2C,EAAO9P,YAAcijD,EAAe,oBAAqBnzC,GACzDA,EAAOq2C,SAAWA,EAElBr2C,EAAO02C,YAAcA,EACrB12C,EAAO+2C,SAAWA,iCCrC9B,WACI,YAEA,IAAIx8C,GAAaxM,QAAQ9E,OAAO,2BAA4B,gBAE5DsR,GAAW/N,QAAO,uBAAU,SAAoBwqD,GAG5CA,EAAqBriD,aAAa,MAC9BsiD,eAAkB,WAClBC,0BAA6B,aAC7BC,+BAAkC,kBAElCC,8BAAiC,YACjCC,gCAAmC,qCACnCC,gCAAmC,uBACnCC,yCAA4C,gCAC5CC,oCAAuC,uBACvCC,8BAAiC,mEACjCC,mCAAsC,2BAEtCC,2BAA8B,SAC9BC,6BAAgC,WAChCC,6BAAgC,mBAChCC,kCAAqC,gBACrCC,yBAA4B,cAC5BC,4BAA+B,UAE/BC,+BAAkC,kBAClCC,sCAAyC,eACzCC,yCAA4C,kBAC5CC,0CAA6C,mBAE7CC,kCAAqC,+FAErCC,uCAA0C,gBAC1CC,+CAAkD,wBAClDC,2BAA8B,OAC9BC,2BAA8B,OAC9BC,+BAAkC,SAElCC,yBAA4B,YAC5BC,4BAA+B,wFAE/BC,2BAA8B,UAC9BC,yBAA4B,8BAE5BC,4BAA+B,eAC/BC,4BAA+B,QAC/BC,gCAAmC,YACnCC,gCAAmC,YACnCC,kCAAqC,cACrCC,kCAAqC,cACrCC,8BAAiC,UACjCC,8BAAiC,UACjCC,4BAA+B,QAC/BC,mCAAsC,eACtCC,0BAA6B,MAE7BC,MAAS,QAETC,cAAiB,uBACjBC,qBAAwB,kBAExBC,qBAAwB,iBACxBC,0BAA6B,sCAC7BC,wBAA2B,0BAC3BC,oBAAuB,gCAG3BhD,EAAqBriD,aAAa,MAC9BsiD,eAAkB,YAClBC,0BAA6B,kBAC7BC,+BAAkC,kBAElCC,8BAAiC,aACjCK,8BAAiC,mEACjCJ,gCAAmC,wDACnCC,gCAAmC,6BACnCC,yCAA4C,0BAC5CC,oCAAuC,kBAEvCE,mCAAsC,wBACtCC,2BAA8B,MAC9BC,6BAAgC,gBAChCC,6BAAgC,0BAChCC,kCAAqC,2BACrCC,yBAA4B,YAC5BC,4BAA+B,aAE/BC,+BAAkC,kBAClCC,sCAAyC,eACzCC,yCAA4C,SAC5CC,0CAA6C,iBAE7CC,kCAAqC,oIAErCC,uCAA0C,iBAC1CC,+CAAkD,0BAClDC,2BAA8B,OAC9BC,2BAA8B,OAC9BC,+BAAkC,UAElCC,yBAA4B,aAC5BC,4BAA+B,qFAE/BC,2BAA8B,iBAC9BC,yBAA4B,uCAE5BC,4BAA+B,WAC/BC,4BAA+B,0BAC/BC,gCAAmC,2BACnCC,gCAAmC,mBACnCC,kCAAqC,iBACrCC,kCAAqC,mBACrCC,8BAAiC,oBACjCC,8BAAiC,QACjCC,4BAA+B,UAC/BC,mCAAsC,uBACtCC,0BAA6B,WAE7BC,MAAS,OAETC,cAAiB,mBACjBC,qBAAwB,mBAExBC,qBAAwB,sBACxBC,0BAA6B,kCAC7BC,wBAA2B,sBAC3BC,oBAAuB,6ECnInC,WACI,YAEA,IAAIz/C,GAAaxM,QAAQ9E,OAAO,iCAShCsR,GAAWwF,WAAW,wCAClB,SAAU,aAAQ,YAAY,iBAAyB,gBAAiB,cAAa,QAAK,SAAAC,EAAApV,EAAAkmC,EAAAqiB,EAAAI,EAAAF,EAAAwB,GA2BtF,QAAAoF,KACIj6C,EAAO9P,YAAYgqD,QAWvB,QAAA9oB,KACIN,EAAUrxB,SAWd,QAAA06C,KACQ,GAAIhG,GAAMn0C,EAAO9P,YAAYkkD,MAAM,2BAEvCf,GAAY+G,4BAER,SAAUtjD,GACEkJ,EAAO9P,YAAYokD,QAAQH,IAG/Bn0C,EAAO9P,YAAY++B,OAEvB,SAAUrhC,GACNoS,EAAO9P,YAAY++B,IAAIrhC,KAavC,QAAAysD,KAGI,GAFAr6C,EAAOunC,KAAKQ,iBAER/nC,EAAOunC,KAAKuM,SAAhB,CAGA,GAAIK,GAAMn0C,EAAO9P,YAAYkkD,MAAM,YAEnCf,GAAYiH,aAEJzF,MAAO70C,EAAOvR,KAAKomD,MACnBvqD,KAAM0V,EAAOvR,KAAKnE,MAEtB,SAAUiwD,GACEv6C,EAAO9P,YAAYokD,QAAQH,KAG/Bn0C,EAAO9P,YAAY++B,MAEvB6B,EAAUlwB,MAAK,KAEnB,SAAUhT,GACNoS,EAAO9P,YAAY++B,IAAIrhC,GAEvB2lD,EAActL,aACVjoC,EAAOunC,KAAM35C,GAET4sD,KAAM,QACNC,KAAM,YAtG1Bz6C,EAAO06C,eAAgB,EACvB16C,EAAOvR,MACHomD,MAAOA,EACPvqD,KAAM,IAEV0V,EAAO9P,YAAcijD,EAAe,wBAAyBnzC,GAG7DA,EAAOi6C,QAAUA,EAEjBj6C,EAAOm6C,2BAA6BA,EACpCn6C,EAAOonC,eAAiBmM,EAAcnM,eAEtCpnC,EAAOq6C,SAAWA,EAElBr6C,EAAOoxB,SAAWA,kCCnC9B,SAAAnoC,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,mCACA,2lDAqCA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,8CACA,inKAyHA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,mDACA,6gIAsGA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,4CACA,0yFAqEA,SAAA5Z,GACA,IACAA,EAAA8E,QAAA9E,OAAA,yBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,4BAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,gDACA;;;;C/IjXA,SAAA9Z,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAkxD,KAAA5xD,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,IgJKA,WACI,YAEA+E,SAAQ9E,OAAO,WACX,kBACA,6CCLR,WACI,qBASQuD,GAAKk6C,KACM36C,MAAA,QACXV,IAAA,QACAgmD,MAAA,EACDtxC,WAAA,wBACNgC,YAAA,qCAsBO64C,GAAoBhwD,EAAUoV,EAAKtS,EAAYqoC,EAAO8kB,GA+B1D,QAACtJ,GAAAxlD,GAKDylD,EAAAzlD,EAAAA,eAEIs8C,KACAtS,EAAUuS,kBACVvS,EAAU2c,cAAA,QACb3c,EAAAoB,eAcDpB,EAAAxB,iBAA4B,iBAGpBid,GAAoBzlD,KACbA,GACViU,EAAA0xC,SAAAC,KACJjkD,EAAAvB,GAAAJ,WAOO0lD,GAAW1lD,GACfiU,EAAG0xC,SAAAC,IAAA3lD,EAAA+S,KAAAiB,EAAAmgC,KAAA,SAAAwR,GAEH,MAAOA,GAAQ5lD,QAASA,IAE3BiU,EAAA0xC,SAAAE,SAAA5lD,EAAAwL,QAAAwI,EAAAmgC,KAAAngC,EAAA0xC,SAAAC,KACJ3xC,EAAA0xC,SAAAG,MAAA9lD,SAzEiBC,EAAC6T,OAAIg7C,EAAA/I,UAAA,SAAAH,GACf,GAACA,EAAArb,UAAAqb,EAAA5c,SAAAhnC,QAAAojB,MAAAwgC,EAAA5c,OAAAnqC,EAAAmnD,MAAAJ,IACF,MAAAA,OAICD,YACED,EAAL,SAAA/jD,EAAA8uC,QAAApxC,KAAOsC,EAAA8uC,QAAApxC,KAIIyvD,EAAA5I,gBAAAlmD,OAGZs8C,IAcAroC,EAAAwxC,mBAA0BA,IACtBD,iBAAmBA,EAhE3B/kD,EAAOD,SAAQ,oBACXA,SAAqB,aAAA,SAAA,SAAA,YAAA,mBACpBtD,OAAO,gBAAO,YAAA,kBAAA,YAAA,cAAA,qCAGnBuD,OAAAA,GACIuT,WAAA,wBAA6B66C,WCRjC9Y,GAAA,SAAa33C,EAAAlB,EAAAD,oCAcGC,OAAA,mBACU,cAGdqJ,SAAK,WAAgB,iBAAA,SAAAo0C,GAgCrB,QAACwL,GAAAnmD,GAoBD,MAAA,QAAAA,EAEA,QAAC+lD,KAoBD,MAAA9lD,GAAAC,UAAAk0C,WAEQ8R,KACJ,MAAIjmD,GAAAC,UAAAD,EAAA+S,KAAAohC,EAAA,SAAAwR,GACP,MAAAA,GAAA5lD,QAAAomD,aAqCGC,GAAYC,GAEZ,GAAGV,EAKH,MAJWU,GACXV,EAAG3lD,EAAA+S,KAAAohC,EAAA,SAAAwR,GACC,MAAMA,GAAA5lD,QAAAmmD,EAAAG,EAAAtmD,SAIN,KAAM,IAAA1B,OAAA,wBAAAgoD,EAAAtmD,MAAA,6BAENqJ,MACArJ,MAAMmmD,EAAeG,EAAItmD,OACzB4yB,MAAO0zB,EAAE1zB,MACToW,OAAAsd,EAAetd,QAAUhnC,QAAOojB,KACjCmlB,QAAA+b,EAAA/b,UAAA,EAEHkc,YAAexmD,EAAAC,UAAMomD,EAAAG,iBAIjBzmD,MAAcmmD,EAAcG,EAAAtmD,OAAAsmD,EAAAG,aAC/BxmD,EAAA8I,YAAAq9C,IAAA,IAAAhS,EAAA11C,QACJgoD,EAAAJ,EAAAtmD,eAuBM0mD,GAAgBrnD,MACfumD,GAAA/jD,KACJ+jD,EAAG3lD,EAAA+S,KAAAohC,EAAA,SAAAwR,GACC,MAAOA,GAAA5lD,QAAAmmD,EAAA9mD,MAEPumD,EAGJ,KAFC/jD,GAAA,GAAAvD,OAAA,wBAAAe,EAAA,sBAKJ+mD,GAAAD,EAAA9mD,GAMDs7C,EAAA95C,SAA2B,OAAAslD,EAAA9mD,YAEnBmnD,GAAUF,GACd,IAACA,IAAArmD,EAAAgD,SAAAqjD,GAEG,KAAC,IAAOhoD,OAAK,iBAEjB,KAACgoD,EAAAtmD,OAAA,KAAAsmD,EAAAtmD,MAEG,KAAM,IAAC1B,OAAM,qDAEjB,IAACgoD,EAAAtd,SAAA/oC,EAAAytB,WAAA44B,EAAAtd,QAEG,KAAC,IAAO1qC,OAAA,gCAEZ,KAACgoD,EAAAG,cAAAxmD,EAAAgD,SAAAqjD,EAAAG,aACJ,KAAA,IAAAnoD,OAAA,sCA/LD,GAAI8nD,GAAChS,IAGL32C,MAAK4oD,OAAOA,EAGZ5oD,KAAKipD,cAAgBA,EAErBjpD,KAAKsoD,QAAOA,OACRG,cAAOA,YAEH,kBAMAH,QAAQA,EAGRG,cAAeA,EACjBG,OAAAA,EACJK,cAAAA,eChDlB/lD,GAAA,SAAAvC,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA8E,QAAA9E,OAAA,qBACA,MAAAU,GACAV,EAAA8E,QAAA9E,OAAA,wBAEAA,EAAAwD,KAAA,iBAAA,SAAAmW,GACAA,EAAAC,IAAA,2BACA","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\nexport let CurrentState: any;\r\nexport let PreviousState: any;\r\n\r\nfunction captureStateTranslations($rootScope) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            CurrentState = {\r\n                name: toState.name, \r\n                url: toState.url, \r\n                params: toParams\r\n            };\r\n\r\n            PreviousState = {\r\n                name: fromState.name, \r\n                url: fromState.url, \r\n                params: fromParams\r\n            };\r\n        }\r\n    );\r\n\r\n}\r\n\r\nfunction decorateBackStateService($delegate, $window) {\r\n    \"ngInject\";\r\n\r\n    $delegate.goBack = goBack;\r\n    $delegate.goBackAndSelect = goBackAndSelect;\r\n\r\n    return $delegate;\r\n    //////////////////////////////////////////////////\r\n\r\n    function goBack(): void {\r\n        $window.history.back()\r\n    }\r\n\r\n    function goBackAndSelect(params: any): void {\r\n        if (PreviousState != null \r\n            && PreviousState.name != null) {\r\n\r\n            let state = _.cloneDeep(PreviousState);\r\n\r\n            // Override selected parameters\r\n            state.params = _.extend(state.params, params);\r\n\r\n            $delegate.go(state.name, state.params);\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    }\r\n}\r\n\r\nfunction addBackStateDecorator($provide) {\r\n    $provide.decorator('$state', decorateBackStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting.Back', [])\r\n    .config(addBackStateDecorator)\r\n    .run(captureStateTranslations);\r\n","'use strict';\r\n\r\nexport let RedirectedStates: any = {};\r\n\r\nfunction decorateRedirectStateProvider($delegate) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n\r\n    return $delegate;\r\n    /////////////////////////////////////////////\r\n\r\n    // Specify automatic redirect from one state to another\r\n    function redirect(fromState, toState) {\r\n        RedirectedStates[fromState] = toState;  \r\n        return this;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateProviderDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateProvider);\r\n}\r\n\r\nfunction decorateRedirectStateService($delegate, $timeout) {\r\n    \"ngInject\";\r\n\r\n    $delegate.redirect = redirect;\r\n    \r\n    return $delegate;\r\n    ////////////////////////////////\r\n    \r\n    // Todo: Move this code directly to event handler?\r\n    // Todo: Nothing calls this code!!\r\n    function redirect(event, state, params) {\r\n        let toState = RedirectedStates[state.name];\r\n        if (_.isFunction(toState)) {\r\n            toState = toState(state.name, params);\r\n\r\n            if (_.isNull(toState))\r\n                throw new Error('Redirected toState cannot be null');\r\n        }\r\n\r\n        if (!!toState) {\r\n            $timeout(() => {\r\n                event.preventDefault();\r\n                $delegate.transitionTo(toState, params, {location: 'replace'});\r\n            });\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction addRedirectStateDecorator($provide) {\r\n    \"ngInject\";\r\n\r\n    $provide.decorator('$state', decorateRedirectStateService);\r\n}\r\n\r\nangular\r\n    .module('pipRouting.Redirect', ['ui.router'])\r\n    .config(addRedirectStateProviderDecorator)\r\n    .config(addRedirectStateDecorator);\r\n\r\n","'use strict';\r\n\r\nangular.module('pipRouting', [\r\n    'ui.router', 'pipRouting.Events', 'pipRouting.Back', 'pipRouting.Redirect'\r\n]);\r\n","'use strict';\r\n\r\nexport let RoutingVar: string = \"$routing\";\r\n\r\nfunction hookRoutingEvents($log, $rootScope, $state) {\r\n    \"ngInject\";\r\n\r\n    $rootScope.$on('$stateChangeStart',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            $rootScope[RoutingVar] = true;\r\n        }\r\n    );\r\n\r\n    $rootScope.$on('$stateChangeSuccess',\r\n        (event, toState, toParams, fromState, fromParams) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;                \r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateChangeError',\r\n        (event, toState, toParams, fromState, fromParams, error) => {\r\n            // Unset routing variable to disable page transition\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            $log.error('Error while switching route to ' + toState.name);\r\n            $log.error(error);\r\n\r\n            console.error('Error while switching route to ' + toState.name);\r\n            console.error(error);\r\n        }\r\n    );\r\n\r\n    // Intercept route error\r\n    $rootScope.$on('$stateNotFound',\r\n        function(event, unfoundState, fromState, fromParams) {\r\n            event.preventDefault();\r\n\r\n            $rootScope[RoutingVar] = false;\r\n\r\n            // Todo: Move to errors\r\n            $state.go('errors_missing_route',  {\r\n                    unfoundState: unfoundState,\r\n                    fromState : {\r\n                        to: fromState ? fromState.name : '',\r\n                        fromParams: fromParams\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    );\r\n\r\n}\r\n\r\nangular\r\n    .module('pipRouting.Events', [])\r\n    .run(hookRoutingEvents);\r\n\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipScope.Error', []);\r\n\r\n/*\r\n    * Error is designed to assist with error handling\r\n    * within different application scopes & controllers without overlap.\r\n    *\r\n    * A unique identification of the scope/controller is passed to the service\r\n    * when it is initialized to identify the error for that scope.\r\n    * */\r\nthisModule.factory('pipError',\r\n    function ($rootScope) {\r\n\r\n        // Initialize error scope\r\n        $rootScope.errors = {};\r\n\r\n        return createError;\r\n\r\n        //----------------------------\r\n\r\n        function initError(scope) {\r\n            $rootScope.errors[scope] = {\r\n                message: undefined,\r\n                code: undefined,\r\n                details: undefined\r\n            };\r\n        };\r\n\r\n        function errorMessage(error) {\r\n            if (_.isNull(error)) {\r\n                return null;\r\n            }\r\n\r\n            // Process regular messages\r\n            if (error.message) {\r\n                return error.message;\r\n            }\r\n\r\n            // Process server application errors\r\n            if (error.data) {\r\n                if (error.data.code) {\r\n                    // process server error codes here\r\n                    return 'ERROR_' + error.data.code;\r\n                }\r\n\r\n                if (error.data.message) {\r\n                    return error.data.message;\r\n                }\r\n            }\r\n\r\n            // Process standard HTTP errors\r\n            if (error.statusText) {\r\n                return error.statusText;\r\n            }\r\n\r\n            if (error.status) {\r\n                return 'ERROR_' + error.status;\r\n            }\r\n            \r\n            return error.data ? error.data : error;\r\n        };\r\n\r\n        function errorCode(error) {\r\n            if (_.isNull(error)) {\r\n                return null;\r\n            }\r\n\r\n            if (error.data && error.data.code) {\r\n                return error.data.code;\r\n            }\r\n\r\n            if (error.status) {\r\n                return error.status;\r\n            }\r\n            \r\n            return null;\r\n        };\r\n\r\n        function errorDetails(error) {\r\n            return error && error.data ? error.data : error;\r\n        };\r\n\r\n        function createError(scope, scopeObject) {\r\n            scope = scope || 'global';\r\n\r\n            var error = {\r\n                reset: function () {\r\n                    initError(scope);\r\n                },\r\n\r\n                empty: function() {\r\n                    var error = $rootScope.errors[scope];\r\n                    return _.isNull(error) || (_.isNull(error.message) && _.isNull(error.code));\r\n                },\r\n\r\n                get: function () {\r\n                    if ($rootScope.errors[scope]) {\r\n                        return $rootScope.errors[scope];\r\n                    }\r\n                    return '';\r\n                },\r\n\r\n                message: function () {\r\n                    if ($rootScope.errors[scope]) {\r\n                        return $rootScope.errors[scope].message;\r\n                    }\r\n                    return null;\r\n                },\r\n\r\n                code: function () {\r\n                    if ($rootScope.errors[scope]) {\r\n                        return $rootScope.errors[scope].code;\r\n                    }\r\n                    return null;\r\n                },\r\n\r\n                details: function () {\r\n                    if ($rootScope.errors[scope]) {\r\n                        return $rootScope.errors[scope].details;\r\n                    }\r\n                    return null;\r\n                },\r\n\r\n                set: function (error) {\r\n                    if (error) {\r\n                        //pipAssert.isObject(error, \"Setting error: error should be an object\");\r\n\r\n                        $rootScope.errors[scope] = {\r\n                            message: errorMessage(error),\r\n                            code: errorCode(error),\r\n                            details: errorDetails(error)\r\n                        };\r\n                        console.error($rootScope.errors[scope]);\r\n                    } else {\r\n                        initError(scope);\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Assign error into scope\r\n            if (_.isObject(scopeObject)) scopeObject.error = error;\r\n\r\n            return error;\r\n        };\r\n    }\r\n);\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipScope.Transaction', ['pipTranslate']);\r\n\r\nthisModule.run(function($injector) {\r\n    var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n    if (pipTranslate) {\r\n        pipTranslate.setTranslations('en', {\r\n            'ENTERING': 'Entering...',\r\n            'PROCESSING': 'Processing...',\r\n            'LOADING': 'Loading...',\r\n            'SAVING': 'Saving...'\r\n        });\r\n\r\n        pipTranslate.setTranslations('ru', {\r\n            'ENTERING': '  ...',\r\n            'PROCESSING': '...',\r\n            'LOADING': '...',\r\n            'SAVING': '...'\r\n        });   \r\n    }\r\n    \r\n});\r\n\r\n/*\r\n    * Transaction is designed to assist with transaction processing\r\n    * within different application scopes & controllers without overlap.\r\n    *\r\n    * A unique identification of the scope/controller is passed to the service\r\n    * when it is initialized to identify the error for that scope.\r\n    * \r\n    * Transaction is also integrated with Error service. So you don't need to double it\r\n    * */\r\nthisModule.factory('pipTransaction',\r\n    function ($rootScope, pipError) {\r\n\r\n        // Initialize transaction scope\r\n        $rootScope.transactions = {};\r\n\r\n        return createTransaction;\r\n\r\n        //---------------------------------\r\n\r\n        function initTransaction(scope) {\r\n            $rootScope.transactions[scope] = {\r\n                id: undefined,\r\n                operation: undefined\r\n            };\r\n        }\r\n        \r\n        function createTransaction(scope, scopeObject) {\r\n            scope = scope || 'global';\r\n\r\n            var error = pipError(scope);\r\n            var transaction = {\r\n                error: error,\r\n\r\n                reset: function () {\r\n                    initTransaction(\"\");\r\n                    error.reset();\r\n                },\r\n\r\n                busy: function() {\r\n                    var transaction = $rootScope.transactions[scope];\r\n                    return transaction != null && transaction.id;\r\n                },\r\n\r\n                failed: function() {\r\n                    return !error.empty();\r\n                },\r\n\r\n                aborted: function(id) {\r\n                    var transaction = $rootScope.transactions[scope];\r\n                    return _.isNull(transaction) || transaction.id != id;\r\n                },\r\n\r\n                get: function () {\r\n                    if (_.isNull($rootScope.transactions[scope])) {\r\n                        initTransaction(scope);\r\n                    }\r\n                    return $rootScope.transactions[scope];\r\n                },\r\n\r\n                id: function () {\r\n                    var transaction = $rootScope.transactions[scope];\r\n                    return transaction ? transaction.id : null;\r\n                },\r\n\r\n                operation: function () {\r\n                    var transaction = $rootScope.transactions[scope];\r\n                    return transaction ? transaction.operation : null;\r\n                },\r\n\r\n                errorMessage: function () {\r\n                    return error.message();\r\n                },\r\n\r\n                begin: function (operation) {\r\n                    var transaction = $rootScope.transactions[scope];\r\n                    // Transaction already in progress\r\n                    if (transaction != null && transaction.id) {\r\n                        return null;\r\n                    }                      \r\n\r\n                    transaction = $rootScope.transactions[scope] = {\r\n                        id: new Date().getTime(),\r\n                        operation: operation || 'PROCESSING'\r\n                    };\r\n                    error.reset();\r\n\r\n                    return transaction.id;\r\n                },\r\n\r\n                abort: function() {\r\n                    var transaction = $rootScope.transactions[scope];\r\n                    if (transaction) {\r\n                        transaction.id = null;\r\n                    }\r\n                    error.reset();\r\n                },\r\n\r\n                end: function (err) {\r\n                    if (err) error.set(err);\r\n                    else error.reset();\r\n\r\n                    var transaction = $rootScope.transactions[scope];\r\n                    if (transaction != null) {\r\n                        transaction.id = null;\r\n                    }                      \r\n                }\r\n            };\r\n\r\n            if (_.isObject(scopeObject)) {\r\n                scopeObject.error = error;\r\n                scopeObject.transaction = transaction;\r\n            }\r\n\r\n            return transaction;\r\n        }\r\n    }\r\n);\r\n","'use strict';\r\n\r\nangular.module('pipServices', [\r\n    'pipScope',\r\n    'pipTranslate',\r\n    'pipRouting',\r\n    'pipTimer',\r\n    'pipSession',\r\n    'pipIdentity',\r\n    'pipSystemInfo',\r\n    'pipFormat',\r\n    'pipScroll',\r\n    'pipPageReset',        \r\n    'pipTags'\r\n]);\r\n","'use strict';\r\n\r\nexport const IdentityRootVar = \"$identity\";\r\nexport const IdentityChangedEvent = \"pipIdentityChanged\";\r\n\r\nexport interface IIdentity {\r\n    id: string;\r\n    full_name: string;\r\n    details: string;\r\n    email: string;\r\n    photo_url: string;\r\n}\r\n\r\nexport interface IIdentityService {\r\n    identity: IIdentity;\r\n}\r\n\r\nexport interface IIdentityProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    identity: IIdentity;\r\n}\r\n\r\nclass IdentityService implements IIdentityService {\r\n    private _identity: IIdentity;\r\n    private _setRootVar: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean,\r\n        identity: IIdentity,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._identity = identity;\r\n        this._rootScope = $rootScope;\r\n\r\n        this.setRootVar();\r\n    }\r\n\r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[IdentityRootVar] = this._identity;\r\n    }\r\n\r\n    public get identity(): IIdentity {\r\n        return this._identity;\r\n    }\r\n\r\n    public set identity(value: IIdentity) {\r\n        this._identity = value;\r\n        this.setRootVar();\r\n        this._rootScope.$broadcast(IdentityChangedEvent, this._identity);\r\n    }\r\n}\r\n\r\nclass IdentityProvider implements IdentityProvider {\r\n    private _setRootVar = true;\r\n    private _identity: IIdentity = null;\r\n    private _service: IIdentityService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get identity(): any {\r\n        return this._identity;  \r\n    }\r\n\r\n    public set identity(value: any) {\r\n        this._identity = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module('pipIdentity', [])\r\n    .provider('pipIdentity', IdentityProvider);\r\n","'use strict';\r\n\r\nexport const SessionRootVar = \"$session\";\r\nexport const SessionOpenedEvent = \"pipSessionOpened\";\r\nexport const SessionClosedEvent = \"pipSessionClosed\";\r\n\r\nexport interface ISessionService {\r\n    session: any;\r\n    isOpened: boolean;\r\n\r\n    open(session: any): void;\r\n    close(): void;\r\n}\r\n\r\nexport interface ISessionProvider extends ng.IServiceProvider {\r\n    setRootVar: boolean;\r\n    session: any;\r\n}\r\n\r\nclass SessionService implements ISessionService {\r\n    private _setRootVar: boolean;\r\n    private _session: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        setRootVar: boolean, \r\n        session: any, \r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._session = session;\r\n        this._rootScope = $rootScope;\r\n\r\n        this.setRootVar();\r\n    }\r\n    \r\n    private setRootVar(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[SessionRootVar] = this._session;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;\r\n    }\r\n\r\n    public get isOpened(): boolean {\r\n        return this._session != null;\r\n    }\r\n\r\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\r\n        if (session == null)\r\n            throw new Error(\"Session cannot be null\");\r\n\r\n        this._session = session;\r\n        this.setRootVar();\r\n        this._rootScope.$broadcast(SessionOpenedEvent, session);\r\n    }\r\n\r\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\r\n        let oldSession = this._session;\r\n\r\n        this._session = null;\r\n        this.setRootVar();\r\n        this._rootScope.$broadcast(SessionClosedEvent, oldSession);\r\n    }\r\n}\r\n\r\nclass SessionProvider implements ISessionProvider {\r\n    private _setRootVar = true;\r\n    private _session: any = null;\r\n    private _service: ISessionService = null;\r\n\r\n    public constructor() { }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get session(): any {\r\n        return this._session;  \r\n    }\r\n\r\n    public set session(value: any) {\r\n        this._session = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular.module('pipSession', ['pipPageReset'])\r\n    .provider('pipSession', SessionProvider); \r\n","'use strict';\r\n\r\nangular.module('pipTranslate', [\r\n    'LocalStorageModule', 'pipTranslate.Service', 'pipTranslate.Filter', 'pipTranslate.Directive'\r\n]);\r\n","'use strict';\r\n\r\nfunction pipTranslateDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslate',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.text(value);\r\n        }\r\n    };\r\n}\r\n\r\nfunction pipTranslateHtmlDirective(pipTranslate): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n            key1: '@pipTranslateHtml',\r\n            key2: '@key'\r\n        },\r\n        link: (scope: any, element: any, attrs: any) => {\r\n            let key = scope.key1 || scope.key2;\r\n            let value = pipTranslate.translate(key);\r\n            element.html(value);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipTranslate.Directive', [])\r\n    .directive('pipTranslate', pipTranslateDirective)\r\n    .directive('pipTranslateHtml', pipTranslateHtmlDirective);\r\n","'use strict';\r\n\r\nfunction translateFilter(pipTranslate) {\r\n    \"ngInject\";\r\n\r\n    return function (key) {\r\n        return pipTranslate.translate(key) || key;\r\n    }\r\n}\r\n\r\nfunction optionalTranslateFilter($injector) {\r\n    \"ngInject\";\r\n\r\n    let pipTranslate = $injector.has('pipTranslate') \r\n        ? $injector.get('pipTranslate') : null;\r\n\r\n    return function (key) {\r\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate.Filter', [])\r\n    .filter('translate', translateFilter);\r\n","'use strict';\r\n\r\nexport const LanguageRootVar = \"$language\";\r\nexport const LanguageChangedEvent = \"pipLanguageChanged\";    \r\n\r\nexport interface ITranslateService {\r\n    language: string;\r\n\r\n    use(language: string): string;\r\n    setTranslations(language: string, translations: any): void;\r\n\r\n    translate(key: string): string;\r\n    translateArray(keys: string[]): string[];\r\n    translateSet(keys: string[], keyProp: string, valueProp: string): any[];\r\n    translateObjects(items: any[], keyProp: string, valueProp: string): any[];\r\n    translateWithPrefix(prefix: string, key: string);\r\n    translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n    translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string);\r\n}\r\n\r\nexport interface ITranslateProvider extends ITranslateService, ng.IServiceProvider {\r\n\r\n}\r\n\r\nclass Translation implements ITranslateService {\r\n    protected _language = 'en';\r\n    protected _translations = {\r\n        en: {\r\n            'en': 'English',\r\n            'ru': 'Russian',\r\n            'es': 'Spanish',\r\n            'pt': 'Portuguese',\r\n            'de': 'German',\r\n            'fr': 'French'\r\n        },\r\n        ru: {\r\n            'en': '',\r\n            'ru': '',\r\n            'es': '',\r\n            'pt': '',\r\n            'de': '',\r\n            'fr': ''\r\n        }\r\n    };\r\n\r\n    public constructor() {}\r\n\r\n    public get language(): string { return this._language; }\r\n    public set language(value: string) { this._language = value; }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this._language = language;\r\n        return this._language;\r\n    }\r\n\r\n    // Set translation strings for specific language\r\n    public setTranslations(language: string, translations: any): void {\r\n        let map = this._translations[language] || {};\r\n        this._translations[language] = _.extend(map, translations);\r\n    }\r\n\r\n    // Translate a string by key using set language\r\n    public translate(key: string): string {\r\n        if (_.isNull(key) || _.isUndefined(key)) return '';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    }\r\n\r\n    // Translate an array of strings\r\n    public translateArray(keys: string[]): string[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (k) {\r\n            let key = k || '';\r\n            values.push(translations[key] || key);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings into array of objects (set)\r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values: any[] = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate a collection of objects\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        if (_.isNull(items) || items.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'name';\r\n        valueProp = valueProp || 'nameLocal';\r\n\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(items, function (item) {\r\n            let key = item[keyProp] || '';\r\n\r\n            item[valueProp] = translations[key] || key;\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Translate a string by key  with prefix using set language todo\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        prefix = prefix ? prefix + '_' : '';\r\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\r\n        if (key == null) return '';\r\n        let translations = this._translations[this._language] || {};\r\n        return translations[key] || key;\r\n    };\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {}; \r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + '_' + key] || key;\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        if (_.isNull(keys) || keys.length == 0) return [];\r\n\r\n        keyProp = keyProp || 'id';\r\n        valueProp = valueProp || 'name';\r\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\r\n\r\n        let values = [];\r\n        let translations = this._translations[this._language] || {};\r\n\r\n        _.each(keys, function (key) {\r\n            let value: any = {};\r\n            key = key || '';\r\n\r\n            value[keyProp] = key;\r\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\r\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\r\n\r\n            values.push(value);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n\r\nclass TranslateService {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _storage: any;\r\n\r\n    public constructor(\r\n        translation: Translation,\r\n        setRootVar: boolean,\r\n        persist: boolean,\r\n        $rootScope: ng.IRootScopeService,\r\n        localStorageService: any\r\n    ) {\r\n        this._setRootVar = setRootVar;\r\n        this._persist = persist;\r\n        this._translation = translation;\r\n        this._rootScope = $rootScope;\r\n        this._storage = localStorageService;\r\n\r\n        if (this._persist) {\r\n            this._translation.language = localStorageService.get('language') \r\n                || this._translation.language;\r\n        }\r\n\r\n        this.save();\r\n    }\r\n\r\n    private save(): void {\r\n        if (this._setRootVar)\r\n            this._rootScope[LanguageRootVar] = this._translation.language;\r\n\r\n        if (this._persist)\r\n            this._storage.set('language', this._translation.language);\r\n    }\r\n\r\n    public get language(): string {\r\n        return this._translation.language;\r\n    }\r\n\r\n    public set language(value: string) {\r\n        if (value != this._translation.language) {\r\n            this._translation.language = value;\r\n            \r\n            this.save();                \r\n            this._rootScope.$broadcast(LanguageChangedEvent, value);\r\n        }\r\n    }\r\n\r\n    public use(language: string): string {\r\n        if (language != null)\r\n            this.language = language;\r\n        return this.language;\r\n    }\r\n\r\n    public setTranslations(language: string, translations: any): void {\r\n        return this._translation.setTranslations(language, translations);\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        return this._translation.translate(key);\r\n    }\r\n\r\n    public translateArray(keys: string[]): string[] {\r\n        return this._translation.translateArray(keys);\r\n    }\r\n    \r\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateSet(keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\r\n        return this._translation.translateObjects(items, keyProp, valueProp);\r\n    }\r\n\r\n    public translateWithPrefix(prefix: string, key: string) {\r\n        return this._translation.translateWithPrefix(prefix, key);\r\n    }\r\n\r\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\r\n    }\r\n\r\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\r\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\r\n    }\r\n}\r\n\r\nclass TranslateProvider extends Translation implements ITranslateProvider {\r\n    private _translation: Translation;\r\n    private _setRootVar: boolean;\r\n    private _persist: boolean;\r\n    private _service: TranslateService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get setRootVar(): boolean {\r\n        return this._setRootVar;  \r\n    }\r\n\r\n    public set setRootVar(value: boolean) {\r\n        this._setRootVar = !!value;\r\n    }\r\n\r\n    public get persist(): boolean {\r\n        return this._persist;  \r\n    }\r\n\r\n    public set persist(value: boolean) {\r\n        this._persist = !!value;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: ng.IRootScopeService, \r\n        localStorageService: any\r\n    ): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, localStorageService);\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTranslate.Service', [])\r\n    .provider('pipTranslate', TranslateProvider);\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipCodes', []);\r\n\r\nthisModule.factory('pipCodes', function () {\r\n    \r\n    return {\r\n        hash: hash,\r\n        verification: verification\r\n    }\r\n\r\n    // Simple version of string hashcode\r\n    function hash(value) {\r\n        if (value == null) return 0;\r\n        var result = 0;\r\n        for (var i = 0; i < value.length; i++) {\r\n            result += value.charCodeAt(i);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Generates random big number for verification codes\r\n    function verification() {\r\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\r\n    }\r\n\r\n});\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipFormat', []);\r\n\r\nthisModule.factory('pipFormat', function () {\r\n\r\n    // Creates a sample line from a text\r\n    function sample(value, maxLength) {\r\n        if (!value || value == '') return '';\r\n\r\n        var length = value.indexOf('\\n');\r\n        length = length >= 0 ? length : value.length;\r\n        length = length < maxLength ? value.length : maxLength;\r\n\r\n        return value.substring(0, length);\r\n    }\r\n\r\n    function strRepeat(str, qty) {\r\n        if (qty < 1) return '';\r\n        var result = '';\r\n        while (qty > 0) {\r\n            if (qty & 1) result += str;\r\n            qty >>= 1, str += str;\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    var sprintf = (function sprintf(...args: any[]) {\r\n        function get_type(variable) {\r\n            return toString.call(variable).slice(8, -1).toLowerCase();\r\n        }\r\n\r\n        var str_repeat = strRepeat;\r\n\r\n        var str_format: any = function() {\r\n            if (!str_format.cache.hasOwnProperty(arguments[0])) {\r\n                str_format.cache[arguments[0]] = str_format.parse(arguments[0]);\r\n            }\r\n            return str_format.format.call(null, str_format.cache[arguments[0]], arguments);\r\n        };\r\n\r\n        str_format.format = function(parse_tree, argv) {\r\n            var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;\r\n            for (i = 0; i < tree_length; i++) {\r\n                node_type = get_type(parse_tree[i]);\r\n                if (node_type === 'string') {\r\n                    output.push(parse_tree[i]);\r\n                }\r\n                else if (node_type === 'array') {\r\n                    match = parse_tree[i]; // convenience purposes only\r\n                    if (match[2]) { // keyword argument\r\n                        arg = argv[cursor];\r\n                        for (k = 0; k < match[2].length; k++) {\r\n                            if (!arg.hasOwnProperty(match[2][k])) {\r\n                                throw new Error(sprintf('[_.sprintf] property \"%s\" does not exist', match[2][k]));\r\n                            }\r\n                            arg = arg[match[2][k]];\r\n                        }\r\n                    } else if (match[1]) { // positional argument (explicit)\r\n                        arg = argv[match[1]];\r\n                    }\r\n                    else { // positional argument (implicit)\r\n                        arg = argv[cursor++];\r\n                    }\r\n\r\n                    if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {\r\n                        throw new Error(sprintf('[_.sprintf] expecting number but found %s', get_type(arg)));\r\n                    }\r\n                    switch (match[8]) {\r\n                        case 'b': arg = arg.toString(2); break;\r\n                        case 'c': arg = String.fromCharCode(arg); break;\r\n                        case 'd': arg = parseInt(arg, 10); break;\r\n                        case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                        case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                        case 'o': arg = arg.toString(8); break;\r\n                        case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                        case 'u': arg = Math.abs(arg); break;\r\n                        case 'x': arg = arg.toString(16); break;\r\n                        case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                    }\r\n                    arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);\r\n                    pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                    pad_length = match[6] - String(arg).length;\r\n                    pad = match[6] ? str_repeat(pad_character, pad_length) : '';\r\n                    output.push(match[5] ? arg + pad : pad + arg);\r\n                }\r\n            }\r\n            return output.join('');\r\n        };\r\n\r\n        str_format.cache = {};\r\n\r\n        str_format.parse = function(fmt) {\r\n            var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\r\n            while (_fmt) {\r\n                if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                    parse_tree.push(match[0]);\r\n                }\r\n                else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                    parse_tree.push('%');\r\n                }\r\n                else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                    if (match[2]) {\r\n                        arg_names |= 1;\r\n                        var field_list = [], replacement_field = match[2], field_match = [];\r\n                        if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                            field_list.push(field_match[1]);\r\n                            while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                                if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                    field_list.push(field_match[1]);\r\n                                }\r\n                                else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                    field_list.push(field_match[1]);\r\n                                }\r\n                                else {\r\n                                    throw new Error('[_.sprintf] huh?');\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            throw new Error('[_.sprintf] huh?');\r\n                        }\r\n                        match[2] = field_list;\r\n                    }\r\n                    else {\r\n                        arg_names |= 2;\r\n                    }\r\n                    if (arg_names === 3) {\r\n                        throw new Error('[_.sprintf] mixing positional and named placeholders is not (yet) supported');\r\n                    }\r\n                    parse_tree.push(match);\r\n                }\r\n                else {\r\n                    throw new Error('[_.sprintf] huh?');\r\n                }\r\n                _fmt = _fmt.substring(match[0].length);\r\n            }\r\n            return parse_tree;\r\n        };\r\n\r\n        return str_format;\r\n    })();\r\n\r\n    return {\r\n        sprintf: sprintf,\r\n        format: sprintf,\r\n        sample: sample\r\n    };\r\n});\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipPageReset', []);\r\n\r\nthisModule.factory('pipPageReset', function($rootScope, $timeout) {\r\n\r\n    $rootScope.$on('pipResetPage', resetAll);\r\n\r\n    return {\r\n        resetPartial: resetPartial,\r\n        resetFull: resetFull,\r\n        resetAll: resetAll,\r\n        reset: reset\r\n    };\r\n\r\n    //------------------------------------------\r\n\r\n    function resetPartial() {\r\n        reset(false, true);\r\n    }\r\n\r\n    function resetFull() {\r\n        reset(true, false);\r\n    }\r\n\r\n    function resetAll() {\r\n        reset(true, true);\r\n    }\r\n\r\n    function reset(full, partial) {\r\n        full = full !== undefined ? !!full : true;\r\n        partial = partial !== undefined ? !!partial : true;\r\n\r\n        if (full || partial) {\r\n            $rootScope.$reset = full;\r\n            $rootScope.$partialReset = partial;\r\n            $timeout(function() {\r\n                $rootScope.$reset = false;\r\n                $rootScope.$partialReset = false;\r\n            }, 0);\r\n        }\r\n    }\r\n\r\n});\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipScroll', []);\r\n\r\nthisModule.factory('pipScroll', function () {\r\n    return {\r\n        scrollTo: scrollTo\r\n    };\r\n    \r\n    //-------------------------------------\r\n\r\n    function scrollTo(parentElement, childElement, animationDuration) {\r\n        if(!parentElement || !childElement) return;\r\n        if (animationDuration == undefined) animationDuration = 300;\r\n\r\n        setTimeout(function () {\r\n            if (!$(childElement).position()) return;\r\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\r\n            if (modDiff < 20) return;\r\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\r\n            if (animationDuration > 0)\r\n                $(parentElement).animate({\r\n                    scrollTop: scrollTo + 'px'\r\n                }, animationDuration);\r\n        }, 100);\r\n    }\r\n\r\n});\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipSystemInfo', []);\r\n\r\nthisModule.factory('pipSystemInfo', function ($rootScope, $window) {\r\n\r\n    return {\r\n        getBrowserName: getBrowserName,\r\n        getBrowserVersion: getBrowserVersion,\r\n        getPlatform: getPlatform,\r\n        isDesktop: isDesktop,\r\n        isMobile: isMobile,\r\n        isCordova: isCordova,\r\n        getOS: getOS,            \r\n        isSupported: isSupported\r\n    };\r\n\r\n    // todo add support for iPhone\r\n    function getBrowserName() {\r\n        var ua = $window.navigator.userAgent;\r\n\r\n        if (ua.search(/Edge/) > -1) return \"edge\";\r\n        if (ua.search(/MSIE/) > -1) return \"ie\";\r\n        if (ua.search(/Trident/) > -1) return \"ie\";\r\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\r\n        if (ua.search(/Opera/) > -1) return \"opera\";\r\n        if (ua.search(/OPR/) > -1) return \"opera\";\r\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\r\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\r\n        if (ua.search(/Safari/) > -1) return \"safari\";\r\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\r\n        \r\n        return \"unknown\";\r\n    }\r\n\r\n    function getBrowserVersion() {\r\n        var browser, version;\r\n        var ua = $window.navigator.userAgent;\r\n\r\n        browser = getBrowserName();\r\n\r\n        switch (browser) {\r\n            case \"edge\":\r\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\r\n                break;\r\n            case \"ie\":\r\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\r\n                break;\r\n            case \"ie11\":\r\n                browser = \"ie\";\r\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\r\n                break;\r\n            case \"firefox\":\r\n                version = ua.split(\"Firefox/\")[1];\r\n                break;\r\n            case \"opera\":\r\n                version = ua.split(\"Version/\")[1];\r\n                break;\r\n            case \"operaWebkit\":\r\n                version = ua.split(\"OPR/\")[1];\r\n                break;\r\n            case \"yabrowser\":\r\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"chrome\":\r\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"safari\":\r\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\r\n                break;\r\n            case \"maxthon\":\r\n                version = ua.split(\"Maxthon/\")[1];\r\n                break;\r\n        }\r\n\r\n        return version;\r\n    }\r\n    \r\n    function getPlatform() {\r\n        var ua = $window.navigator.userAgent;\r\n\r\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \r\n            return 'mobile';\r\n\r\n        return 'desktop';\r\n    }\r\n\r\n    function isDesktop() {\r\n        return getPlatform() == 'desktop';\r\n    }\r\n\r\n    function isMobile() {\r\n        return getPlatform() == 'mobile';\r\n    }\r\n\r\n    // Todo: complete implementation\r\n    function isCordova() {\r\n        return null;\r\n    }\r\n\r\n    function getOS() {\r\n        var ua = $window.navigator.userAgent;\r\n\r\n        try {\r\n            var osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris'),\r\n            osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\r\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\r\n        } catch (err) {\r\n            return 'unknown'\r\n        }\r\n    }\r\n\r\n    // Todo: Move to errors\r\n    function isSupported(supported) {\r\n        if (!supported) supported = {\r\n            edge: 11,\r\n            ie: 11,\r\n            firefox: 43, //4, for testing\r\n            opera: 35,\r\n            chrome: 47\r\n        };\r\n\r\n        var browser = getBrowserName();\r\n        var version = getBrowserVersion();\r\n        version = version.split(\".\")[0]\r\n\r\n        if (browser && supported[browser] && version >= supported[browser]) \r\n            return true;\r\n\r\n        return true;\r\n    };\r\n\r\n});\r\n\r\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipTags', []);\r\n\r\nthisModule.factory('pipTags', function () {\r\n        \r\n    return {\r\n        equal: equal,\r\n        normalizeOne: normalizeOne,\r\n        normalizeAll: normalizeAll,\r\n        normalize: normalizeAll,\r\n        compressOne: compressOne,\r\n        compressAll: compressAll,\r\n        compress: compressAll,\r\n        extract: extract\r\n    };\r\n\r\n    //------------------------------\r\n\r\n    function normalizeOne(tag) {\r\n        return tag \r\n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\r\n            : null;\r\n    }\r\n\r\n    function compressOne(tag) {\r\n        return tag\r\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\r\n            : null;\r\n    }\r\n\r\n    function equal(tag1, tag2) {\r\n        if (tag1 == null && tag2 == null)\r\n            return true;\r\n        if (tag1 == null || tag2 == null)\r\n            return false;\r\n        return compressOne(tag1) == compressOne(tag2);\r\n    }\r\n\r\n    function normalizeAll(tags) {\r\n        if (_.isString(tags)) {\r\n            tags = tags.split(/( |,|;)+/);\r\n        }\r\n\r\n        tags = _.map(tags, function (tag) {\r\n            return normalizeOne(tag);\r\n        });\r\n\r\n        return tags;\r\n    }\r\n\r\n    function compressAll(tags) {\r\n        if (_.isString(tags))\r\n            tags = tags.split(/( |,|;)+/);\r\n\r\n        tags = _.map(tags, function (tag) {\r\n            return compressOne(tag);\r\n        });\r\n\r\n        return tags;\r\n    };\r\n\r\n    function extract(entity, searchFields) {\r\n        var tags = normalizeAll(entity.tags);\r\n\r\n        _.each(searchFields, function (field) {\r\n            var text = entity[field] || '';\r\n\r\n            if (text != '') {\r\n                var hashTags = text.match(/#\\w+/g);\r\n                tags = tags.concat(normalizeAll(hashTags));\r\n            }\r\n        });\r\n\r\n        return _.uniq(tags);\r\n    }\r\n});\r\n","'use strict';\r\n\r\nexport interface ITimerService {\r\n    isStarted: boolean;\r\n\r\n    addEvent(event: string, timeout: number): void;\r\n    removeEvent(event: string): void;\r\n    clearEvents(): void;\r\n\r\n    start(): void;\r\n    stop(): void;\r\n}\r\n\r\nclass TimerEvent {\r\n    event: string;\r\n    timeout: number;\r\n    interval: any;\r\n}\r\n\r\nlet DefaultEvents: TimerEvent[] = [\r\n    <TimerEvent> { event: 'pipAutoPullChanges', timeout: 60000 }, // 1 min\r\n    <TimerEvent> { event: 'pipAutoUpdatePage', timeout: 15000 }, // 15 sec\r\n    <TimerEvent> { event: 'pipAutoUpdateCollection', timeout: 300000 } // 5 min\r\n]\r\n\r\nclass TimerService {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _interval: ng.IIntervalService;        \r\n    private _started = false;\r\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\r\n\r\n    public constructor($rootScope, $interval) {\r\n        this._rootScope = $rootScope;\r\n        this._interval = $interval;\r\n    }\r\n\r\n    public get isStarted() {\r\n        return this._started;\r\n    }\r\n\r\n    public addEvent(event: string, timeout: number): void {\r\n        var existingEvent = _.find(this._events, (e) => e.event == event);\r\n        if (existingEvent != null) return;\r\n\r\n        let newEvent = <TimerEvent> {\r\n            event: event,\r\n            timeout: timeout\r\n        };\r\n        this._events.push(newEvent);\r\n\r\n        if (this._started)\r\n            this.startEvent(newEvent);\r\n    }\r\n\r\n    public removeEvent(event: string): void {\r\n        for (let i = this._events.length - 1; i >= 0; i--) {\r\n            let existingEvent = this._events[i];\r\n            if (existingEvent.event == event) {\r\n                this.stopEvent(existingEvent);\r\n                this._events.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearEvents(): void {\r\n        this.stop();\r\n        this._events = [];\r\n    }\r\n\r\n    private startEvent(event: TimerEvent): void {\r\n        event.interval = this._interval(\r\n            () => { this._rootScope.$broadcast(event.event) },\r\n            event.timeout\r\n        )\r\n    }\r\n\r\n    private stopEvent(event: TimerEvent): void {\r\n        if (event.interval != null) {\r\n            try {\r\n                this._interval.cancel(event.interval);\r\n            } catch (ex) {\r\n                // Do nothing\r\n            }\r\n            event.interval = null;\r\n        }\r\n    }\r\n\r\n    public start(): void {\r\n        if (this._started) return;\r\n\r\n        _.each(this._events, (event) => {\r\n            this.startEvent(event);\r\n        });\r\n\r\n        this._started = true;\r\n    }\r\n\r\n    public stop(): void {\r\n        _.each(this._events, (event) => {\r\n            this.stopEvent(event);\r\n        });\r\n\r\n        this._started = false;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipTimer', [])\r\n    .service('pipTimer', TimerService);\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipButtons', [\r\n        'pipToggleButtons',\r\n        'pipRefreshButton',\r\n        'pipFabTooltipVisibility'\r\n    ]);\r\n\r\n})();\r\n\r\n","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipFabTooltipVisibility\", []);\r\n\r\n    thisModule.directive(\"pipFabTooltipVisibility\", function ($parse, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            controller: function($scope, $attrs) {\r\n                var trigGetter = $parse($attrs.pipFabTooltipVisibility),\r\n                    showGetter = $parse($attrs.pipFabShowTooltip),\r\n                    showSetter = showGetter.assign;\r\n\r\n                $scope.$watch(trigGetter, function(isOpen) {\r\n                    if (isOpen) {\r\n                        $timeout(function() {\r\n                            showSetter($scope, isOpen);\r\n                        }, 600);\r\n                    } else {\r\n                        showSetter($scope, isOpen);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipRefreshButton', ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRefreshButton',\r\n        function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                template: String() +\r\n                '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"onClick($event)\" aria-label=\"REFRESH\">' +\r\n                '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\r\n                '<span class=\"pip-refresh-text\"></span>' +\r\n                '</md-button>',\r\n                replace: false,\r\n                link: function ($scope, $element, $attrs: any) {\r\n                    var width, text, show,\r\n                        textGetter = $parse($attrs.pipText),\r\n                        visibleGetter = $parse($attrs.pipVisible),\r\n                        refreshGetter = $parse($attrs.pipRefresh),\r\n                        $button = $element.children('.md-button'),\r\n                        $text = $button.children('.pip-refresh-text');\r\n\r\n                    show = function () {\r\n                        // Set a new text\r\n                        text = textGetter($scope);\r\n                        $text.text(text);\r\n\r\n                        // Show button\r\n                        $button.show();\r\n\r\n                        // Adjust position\r\n                        width = $button.width();\r\n                        $button.css('margin-left', '-' + width / 2 + 'px');\r\n                    };\r\n\r\n                    function hide() {\r\n                        $button.hide();\r\n                    }\r\n\r\n                    $scope.onClick = function () {\r\n                        refreshGetter($scope);\r\n                    };\r\n\r\n                    $scope.$watch(visibleGetter, function (newValue) {\r\n                        if (newValue) {\r\n                            show();\r\n                        } else {\r\n                            hide();\r\n                        }\r\n                    });\r\n\r\n                    $scope.$watch(textGetter, function (newValue) {\r\n                        $text.text(newValue);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipToggleButtons', ['pipButtons.Templates']);\r\n\r\n    thisModule.directive('pipToggleButtons',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    buttons: '=pipButtons',\r\n                    currentButtonValue: '=ngModel',\r\n                    currentButton: '=?pipButtonObject',\r\n                    change: '&ngChange'\r\n                },\r\n                templateUrl: 'toggle_buttons/toggle_buttons.html',\r\n                controller: function ($scope, $element, $attrs, $mdMedia, $timeout) {\r\n                    var index;\r\n\r\n                    $scope.$mdMedia = $mdMedia;\r\n                    $scope.class = $attrs.class || '';\r\n\r\n                    if (!$scope.buttons || _.isArray($scope.buttons) && $scope.buttons.length === 0) {\r\n                        $scope.buttons = [];\r\n                    }\r\n\r\n                    index = _.indexOf($scope.buttons, _.find($scope.buttons, {id: $scope.currentButtonValue}));\r\n                    $scope.currentButtonIndex = index < 0 ? 0 : index;\r\n                    $scope.currentButton = $scope.buttons.length > 0 ? $scope.buttons[$scope.currentButtonIndex]\r\n                        : $scope.currentButton;\r\n\r\n                    $scope.buttonSelected = function (index) {\r\n                        if ($scope.disabled()) {\r\n                            return;\r\n                        }\r\n\r\n                        $scope.currentButtonIndex = index;\r\n                        $scope.currentButton = $scope.buttons[$scope.currentButtonIndex];\r\n                        $scope.currentButtonValue = $scope.currentButton.id || index;\r\n\r\n                        $timeout(function () {\r\n                            if ($scope.change) {\r\n                                $scope.change();\r\n                            }\r\n                        });\r\n                    };\r\n\r\n                    $scope.enterSpacePress = function (event) {\r\n                        $scope.buttonSelected(event.index);\r\n                    };\r\n\r\n                    $scope.disabled = function () {\r\n                        if ($scope.ngDisabled) {\r\n                            return $scope.ngDisabled();\r\n                        }\r\n                    };\r\n                },\r\n                link: function (scope, elem) {\r\n                    elem\r\n                        .on('focusin', function () {\r\n                            elem.addClass('focused-container');\r\n                        })\r\n                        .on('focusout', function () {\r\n                            elem.removeClass('focused-container');\r\n                        });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/toggle_buttons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{class}}\" pip-selected=\"bufButtonIndex\" pip-enter-space-press=\"enterSpacePress($event)\"\\n' +\n    '     ng-if=\"$mdMedia(\\'gt-xs\\')\">\\n' +\n    '    <md-button tabindex=\"-1\" ng-repeat=\"button in buttons\"\\n' +\n    '               ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : currentButtonIndex == $index}\"\\n' +\n    '               ng-attr-style=\"{{ \\'background-color:\\' + (currentButtonIndex == $index ? button.backgroundColor : \\'\\') + \\'!important\\' }}\"\\n' +\n    '               class=\"pip-selectable pip-chip-button flex\" ng-click=\"buttonSelected($index, $event)\"\\n' +\n    '               ng-disabled=\"button.disabled || disabled()\">\\n' +\n    '        {{button.name || button.title | translate}}\\n' +\n    '        <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<md-input-container class=\"md-block\" ng-if=\"$mdMedia(\\'xs\\')\">\\n' +\n    '    <md-select ng-model=\"currentButtonIndex\" ng-disabled=\"disabled()\" aria-label=\"DROPDOWN\" md-on-close=\"buttonSelected(currentButtonIndex)\">\\n' +\n    '        <md-option ng-repeat=\"action in buttons\" value=\"{{ ::$index }}\">\\n' +\n    '            {{ (action.title || action.name) | translate }}\\n' +\n    '            <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span>\\n' +\n    '        </md-option>\\n' +\n    '    </md-select>\\n' +\n    '</md-input-container>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.js.map\n","/**\r\n * @file Card layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipLayout.Card', []);\r\n\r\n    thisModule.directive('pipCard', function() {\r\n        return {\r\n           restrict: 'EA',\r\n           //controller: 'pipCardController'\r\n            link: function($scope: any, $element, $attrs: any) {\r\n                // Add class to the element\r\n                $element.addClass('pip-card');\r\n\r\n                // Resize every time window is resized\r\n                $scope.$on('pipWindowResized', resize);\r\n\r\n                // Resize right away to avoid flicking\r\n                resize();\r\n\r\n                // Resize the element right away\r\n                setTimeout(resize, 100);\r\n\r\n                return;\r\n\r\n                //---------------\r\n\r\n                function resize() {\r\n                    var\r\n                        $mainBody = $('.pip-main-body'),\r\n                        cardContainer = $('.pip-card-container'),\r\n                        windowWidth = $('pip-main').width(),\r\n                        maxWidth = $mainBody.width(),\r\n                        maxHeight = $mainBody.height(),\r\n                        minWidth = $attrs.minWidth ? Math.floor($attrs.minWidth) : null,\r\n                        minHeight = $attrs.minHeight ? Math.floor($attrs.minHeight) : null,\r\n                        width = $attrs.width ? Math.floor($attrs.width) : null,\r\n                        height = $attrs.height ? Math.floor($attrs.height) : null,\r\n                        left, top;\r\n\r\n                    // Full-screen on phone\r\n                    if (windowWidth <= 768) {\r\n                        minWidth = null;\r\n                        minHeight = null;\r\n                        width = null;\r\n                        height = null;\r\n                        maxWidth = null;\r\n                        maxHeight = null;\r\n                    }\r\n                    // Card view with adjustable margins on tablet and desktop\r\n                    else {\r\n                        // Set margin and maximum dimensions\r\n                        var space = windowWidth > 1200 ? 24 : 16;\r\n                        maxWidth -= space * 2;\r\n                        maxHeight -= space * 2;\r\n\r\n                        // Set minimum dimensions\r\n                        minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n                        minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n                        // Set regular dimensions\r\n                        width = width ? Math.min(width, maxWidth) : null;\r\n                        height = height ? Math.min(height, maxHeight) : null;\r\n                    }\r\n\r\n                    // Set dimensions\r\n                    $element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n                    $element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n                    $element.css('width', width ? width + 'px' : '');\r\n                    $element.css('height', height ? height + 'px' : '');\r\n\r\n                    if (!cardContainer.hasClass('pip-outer-scroll'))\r\n                    {\r\n                        $element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n                        $element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n                        var\r\n                            $header = $element.find('.pip-header:visible'),\r\n                            $footer = $element.find('.pip-footer:visible'),\r\n                            $body = $element.find('.pip-body'),\r\n                            maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n                        if ($header.length > 0)\r\n                            maxBodyHeight -= $header.outerHeight(true);\r\n                        if ($footer.length > 0)\r\n                            maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n                        $body.css('max-height', maxBodyHeight + 'px');\r\n                    } else {\r\n                        cardContainer.addClass('pip-scroll');\r\n                        if (windowWidth <= 768) {\r\n                            left = 0;\r\n                            top = 0;\r\n                        } else {\r\n                            left = cardContainer.width() / 2 - $element.width() / 2 - 16;\r\n                            top = Math.max(cardContainer.height() / 2 - $element.height() / 2 - 16, 0);\r\n                        }\r\n\r\n                        $element.css('left', left);\r\n                        $element.css('top', top);\r\n                        setTimeout(function () {\r\n                            $element.css('display', 'flex');\r\n                        }, 100);\r\n                    }\r\n\r\n                    // Notify child controls that layout was resized\r\n                    $scope.$broadcast('pipLayoutResized');\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Dialog layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipLayout.Dialog', []);\r\n\r\n    thisModule.directive('pipDialog', function() {\r\n        return {\r\n           restrict: 'EAC',\r\n           controller: 'pipDialogController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipDialogController', \r\n        function($element, $attrs) {\r\n            // Add class to the element\r\n            $element.addClass('pip-dialog');\r\n            // Set width\r\n            $element.css('width', $attrs.width);\r\n\r\n            return;\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Document layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipLayout.Document', []);\r\n\r\n    thisModule.directive('pipDocument', function() {\r\n        return {\r\n           restrict: 'EA',\r\n           controller: 'pipDocumentController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipDocumentController', \r\n        function($scope, $element, $attrs) {\r\n            // Add class to the element\r\n            $element.addClass('pip-document');\r\n        }\r\n    );    \r\n\r\n})();\r\n","/**\r\n * @file Registration of all application layouts\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipLayout', [\r\n        'pipLayout.Main', 'pipLayout.Simple', 'pipLayout.Card', 'pipLayout.Document',\r\n        'pipLayout.Tiles', 'pipLayout.Dialog', 'pipLayout.Media'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Top-level application container\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipLayout.Main', []);\r\n\r\n    thisModule.directive('pipMain', function() {\r\n        return {\r\n           restrict: 'EA',\r\n           controller: 'pipMainController' \r\n        }\r\n    });\r\n\r\n    thisModule.directive('pipMainBody', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           link: function($scope, $element) {\r\n                $element.addClass('pip-main-body');\r\n           }\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipMainController',\r\n        function($scope, $element, $rootScope, pipMedia) {\r\n            var $window: any = $(window);\r\n\r\n            // Add CSS class\r\n            $element.addClass('pip-main');\r\n\r\n            pipMedia().addResizeListener($element[0], resize);\r\n\r\n            // Handle window resize events\r\n            //$window.bind('resize', resize);\r\n\r\n            // Unbind when scope is removed\r\n            $scope.$on('$destroy', function() {\r\n                pipMedia().removeResizeListener($element[0]);\r\n                //$window.unbind('resize', resize);\r\n            });\r\n\r\n            // Resize window from request\r\n            //$rootScope.$on('pipResizeWindow', function(event) {\r\n            //    // Trigger a bit latter t allow full initialization\r\n            //    // Do not remove! Otherwise, sizes in layouts calculated incorrectly\r\n            //    setTimeout(resize, 0);\r\n            //});\r\n\r\n            // Allow to finish initialization of all controllers\r\n            //setTimeout(resize, 0);\r\n\r\n            return;\r\n            \r\n            //---------------\r\n\r\n            function resize() {\r\n                $rootScope.$broadcast('pipWindowResized');\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","import size = require(\"lodash/size\");\r\n/**\r\n * @file Media service to detect the width of pip-main container\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipLayout.Media', []);\r\n\r\n    thisModule.service('pipMedia',\r\n        function ($rootScope, $timeout) {\r\n\r\n            var elementWidth = null,\r\n                sizes = {\r\n                    'xs': false,\r\n                    'gt-xs': false,\r\n                    'sm': false,\r\n                    'gt-sm': false,\r\n                    'md': false,\r\n                    'gt-md': false,\r\n                    'lg': false,\r\n                    'gt-lg': false,\r\n                    'xl': false\r\n                },\r\n                boundaries = {\r\n                    'xs': [0, 768],\r\n                    'sm': [769, 1199],\r\n                    'md': [1200, 1399],\r\n                    'lg': [1400, 1919],\r\n                    'xl': [1920, '-']\r\n                },\r\n                attachEvent = (<any>document).attachEvent,\r\n                isIE = navigator.userAgent.match(/Trident/);\r\n            \r\n            return function (size) {\r\n                if (size) {\r\n                    return sizes[size];\r\n                } else {\r\n                    return {\r\n                        addResizeListener: addResizeListener,\r\n                        removeResizeListener: removeResizeListener,\r\n                        getBoundaries: getBoundaries\r\n                    };\r\n                }\r\n            };\r\n\r\n            function getBoundaries (size) {\r\n                return boundaries[size];\r\n            }\r\n\r\n            function requestFrame(fn) {\r\n                var raf = window.requestAnimationFrame || (<any>window).mozRequestAnimationFrame || (<any>window).webkitRequestAnimationFrame ||\r\n                    function(fn){ return window.setTimeout(fn, 20); };\r\n\r\n                return raf(fn);\r\n            }\r\n\r\n            function cancelFrame() {\r\n                var cancel = window.cancelAnimationFrame || (<any>window).mozCancelAnimationFrame || (<any>window).webkitCancelAnimationFrame ||\r\n                    window.clearTimeout;\r\n                return function(id){ return cancel(id); };\r\n            }\r\n\r\n            function resizeListener(e) {\r\n                var win = e.target || e.srcElement;\r\n                if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n                win.__resizeRAF__ = requestFrame(function(){\r\n                    var trigger = win.__resizeTrigger__;\r\n                    trigger.__resizeListeners__.forEach(function(fn){\r\n                        fn.call(trigger, e);\r\n                    });\r\n                });\r\n            }\r\n\r\n            function objectLoad(e) {\r\n                this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n                this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n            }\r\n\r\n            function addResizeListener(element, fn) {\r\n                if (!element.__resizeListeners__) {\r\n                    element.__resizeListeners__ = [];\r\n                    if (attachEvent) {\r\n                        element.__resizeTrigger__ = element;\r\n                        element.attachEvent('onresize', resizeListener);\r\n                    }\r\n                    else {\r\n                        if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n                        var obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n                        obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n                        obj.__resizeElement__ = element;\r\n                        obj.onload = objectLoad;\r\n                        obj.type = 'text/html';\r\n                        if (isIE) element.appendChild(obj);\r\n                        obj.data = 'about:blank';\r\n                        if (!isIE) element.appendChild(obj);\r\n                    }\r\n                }\r\n                setSizes();\r\n                if (fn) element.__resizeListeners__.push(fn);\r\n                element.__resizeListeners__.push(setSizes);\r\n            }\r\n\r\n            function removeResizeListener(element, fn) {\r\n                if (fn) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\r\n                if (!element.__resizeListeners__.length) {\r\n                    if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n                    else {\r\n                        element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n                        element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n                    }\r\n                }\r\n            }\r\n\r\n            function updateClasses() {\r\n                $.each(sizes, function (name, size) {\r\n                    $('body')[size ? 'addClass': 'removeClass']('pip-' + name);\r\n                });\r\n            }\r\n\r\n            function setSizes() {\r\n                elementWidth = $('.pip-main').innerWidth();\r\n                sizes['xs'] = elementWidth <= boundaries['xs'][1];\r\n                sizes['gt-xs'] = elementWidth >= boundaries['sm'][0];\r\n                sizes['sm'] = elementWidth >= boundaries['sm'][0] && elementWidth <= boundaries['sm'][1];\r\n                sizes['gt-sm'] = elementWidth >= boundaries['md'][0];\r\n                sizes['md'] = elementWidth >= boundaries['md'][0] && elementWidth <= boundaries['md'][1];\r\n                sizes['gt-md'] = elementWidth >= boundaries['lg'][0];\r\n                sizes['lg'] = elementWidth >= boundaries['lg'][0] && elementWidth <= boundaries['lg'][1];\r\n                sizes['gt-lg'] = elementWidth >= boundaries['xl'][0];\r\n                sizes['xl'] = sizes['gt-lg'];\r\n\r\n                updateClasses();\r\n\r\n                $timeout(function () {\r\n                    $rootScope.$apply();\r\n                });\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Simple layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipLayout.Simple', []);\r\n\r\n    thisModule.directive('pipSimple', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           link: function($scope, $element, $attrs) {\r\n                $element.addClass('pip-simple');\r\n           }\r\n       };\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Tiles layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global $, angular, Masonry */\r\n\r\ndeclare var Masonry: any;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipLayout.Tiles', ['wu.masonry']);\r\n\r\n    thisModule.directive('pipTiles', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: false,\r\n           transclude: true,\r\n           template:\r\n               function($element, $attrs: any) {\r\n                   if (convertToBoolean($attrs.pipInfinite)) {\r\n                       return  String()\r\n                       + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                       + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                       + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                       + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                       + '</div>';\r\n                   } else {\r\n                       return String()\r\n                           + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                           + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                           + ' masonry-options=\"tilesOptions\">'\r\n                           + '</div>';\r\n                   }\r\n               },\r\n           controller: function($scope: any) {\r\n                $scope.tilesOptions = {\r\n                    gutter: 8,//16\r\n                    isFitWidth: false,\r\n                    isResizeBound: false,\r\n                    transitionDuration: 0 // '0.2s'\r\n                };\r\n           },\r\n           link: pipTilesController \r\n        };\r\n    });\r\n\r\n    function pipTilesController($scope: any, $element, $attrs: any) {\r\n        var\r\n            columnWidth = $attrs.columnWidth ? Math.floor($attrs.columnWidth) : 440,\r\n            container = $element.children('.pip-tiles-container'),\r\n            prevContainerWidth = null,\r\n            masonry = Masonry.data(container[0]);\r\n        \r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Insert sizer\r\n        var sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        sizer.appendTo(container);\r\n\r\n        // Resize every time window is resized\r\n        $scope.$on('pipWindowResized', function () {\r\n            resize(false);\r\n        });\r\n\r\n        // Resize the element right away\r\n        resize(true);\r\n\r\n        return;\r\n\r\n        //---------------------\r\n\r\n        function resize(force) {\r\n            var\r\n                width = $('.pip-main').width(),\r\n                containerWidth;\r\n            \r\n            console.log('width', width);\r\n\r\n            if (width > 767) {\r\n                width = width - 24 * 2;\r\n\r\n                var columns = Math.floor(width / columnWidth);\r\n                containerWidth = (columnWidth + 16) * columns - 16;\r\n\r\n                if (containerWidth > width) {\r\n                    columns--;\r\n                    containerWidth = (columnWidth + 16) * columns - 16;\r\n                }\r\n\r\n                if (columns < 1) {\r\n                    containerWidth = width;\r\n                    sizer.css('width', containerWidth + 'px');\r\n                } else {\r\n                    sizer.css('width', columnWidth + 'px');\r\n                }\r\n\r\n                // +10 to avoid precision related error\r\n                container.css('width', (containerWidth + 10) + 'px');\r\n                container.removeClass('pip-mobile');\r\n            } else {\r\n                width = width - 16 * 2;\r\n                containerWidth = width;\r\n\r\n                sizer.css('width', containerWidth + 'px');\r\n                // +10 to avoid precision related error\r\n                container.css('width', (containerWidth + 10) + 'px');\r\n                container.addClass('pip-mobile');\r\n            }\r\n\r\n            // Manually call layout on tile container\r\n            if (prevContainerWidth != containerWidth || force) {\r\n                prevContainerWidth = containerWidth;\r\n                masonry.layout();\r\n\r\n                // Notify child controls that layout was resized\r\n                $scope.$broadcast('pipLayoutResized');\r\n            }\r\n        }\r\n    }\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value) {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    };\r\n\r\n})();\r\n","/**\r\n * @file Split layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSplit', []);\r\n\r\n    thisModule.run( function($rootScope, pipSplit) {\r\n        // Intercept routes\r\n        $rootScope.$on('$stateChangeStart',\r\n            function(event, toState, toParams, fromState, fromParams) {\r\n                // Split animation\r\n                var splitElements = $('.pip-split');\r\n                \r\n                if (splitElements.length > 0) {\r\n                    splitElements.removeClass('pip-transition-forward');\r\n                    splitElements.removeClass('pip-transition-back');\r\n                    if (toState.name != fromState.name) {\r\n                        if (pipSplit.forwardTransition(toState, fromState)) {\r\n                            splitElements.addClass('pip-transition-forward');\r\n                        } else {\r\n                            splitElements.addClass('pip-transition-back');\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n    });\r\n\r\n    thisModule.provider('pipSplit', function(): any {\r\n        var transitionSequences = [];\r\n\r\n        this.addTransitionSequence = addTransitionSequence;\r\n\r\n        this.$get = function () {\r\n            return {\r\n                forwardTransition: forwardTransition\r\n            };\r\n        };\r\n\r\n        return;\r\n\r\n        //----------------------------\r\n\r\n        function addTransitionSequence(sequence) {\r\n            if (!_.isArray(sequence) || sequence.length == 0) {\r\n                throw new Error('Transition sequence must be an array of state names');\r\n            }\r\n\r\n            transitionSequences.push(sequence);\r\n        }\r\n\r\n        function forwardTransition(toState, fromState) {\r\n            var i, toIndex, fromIndex;\r\n\r\n            for (i = 0; i < transitionSequences.length; i++) {\r\n                toIndex = transitionSequences[i].indexOf(toState.name),\r\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\r\n\r\n                if (toIndex > -1) {\r\n                    return toIndex > fromIndex;\r\n                }\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Registration of all WebUI list controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipBehaviors', [\r\n        'pipFocused',\r\n        'pipSelected',\r\n        'pipInfiniteScroll',\r\n        'pipUnsavedChanges',\r\n        'pipDraggable'\r\n    ]);\r\n    \r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipDraggable\", []);\r\n\r\n    thisModule.service('pipDraggable', function () {\r\n\r\n        var scope = this;\r\n        scope.inputEvent = function (event) {\r\n            if (angular.isDefined(event.touches)) {\r\n                return event.touches[0];\r\n            }\r\n            //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\r\n            else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\r\n                return event.originalEvent.touches[0];\r\n            }\r\n            return event;\r\n        };\r\n\r\n    });\r\n\r\n    thisModule.directive('pipDrag',\r\n        function ($rootScope, $parse, $document, $window, pipDraggable) {\r\n            return {\r\n\r\n                restrict: 'A',\r\n                link: function (scope: any, element, attrs: any) {\r\n                    scope.value = attrs.ngDrag;\r\n                    var LONG_PRESS = 50; // 50ms for longpress\r\n                    var offset, _centerAnchor = false, _mx, _my, _tx, _ty, _mrx, _mry;\r\n                    var _hasTouch = ('ontouchstart' in window) || (<any>window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\r\n                    var _pressEvents = 'touchstart mousedown';\r\n                    var _moveEvents = 'touchmove mousemove';\r\n                    var _releaseEvents = 'touchend mouseup';\r\n                    var _dragHandle;\r\n\r\n                    // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\r\n                    var _myid = scope.$id;\r\n                    var _data = null;\r\n\r\n                    var _dragOffset = null;\r\n\r\n                    var _dragEnabled = false;\r\n\r\n                    var _pressTimer = null;\r\n\r\n                    var _elementStyle: any = {};\r\n\r\n                    var onDragStartCallback = $parse(attrs.pipDragStart) || null;\r\n                    var onDragStopCallback = $parse(attrs.pipDragStop) || null;\r\n                    var onDragSuccessCallback = $parse(attrs.pipDragSuccess) || null;\r\n                    var allowTransform = angular.isDefined(attrs.allowTransform) ? scope.$eval(attrs.allowTransform) : false;\r\n\r\n                    var getDragData = $parse(attrs.pipDragData);\r\n                    var\r\n                        verticalScroll = toBoolean(attrs.pipVerticalScroll) || true,\r\n                        horizontalScroll = toBoolean(attrs.pipHorizontalScroll) || true,\r\n                        activationDistance = parseFloat(attrs.pipActivationDistance) || 75,\r\n                        scrollDistance = parseFloat(attrs.pipScrollDistance) || 50,\r\n                        scrollParent = false,\r\n\r\n                        scrollContainer = angular.element(window),\r\n                        scrollContainerGetter = $parse(attrs.pipScrollContainer);\r\n\r\n                    // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\r\n                    var _deregisterRootMoveListener = angular.noop;\r\n\r\n                    initialize();\r\n\r\n                    return;\r\n\r\n                    //-----------------------------------\r\n\r\n                    function initialize() {\r\n                        element.attr('pip-draggable', 'false'); // prevent native drag\r\n                        // check to see if drag handle(s) was specified\r\n                        // if querySelectorAll is available, we use this instead of find\r\n                        // as JQLite find is limited to tagnames\r\n                        let dragHandles: any;\r\n                        if (element[0].querySelectorAll) {\r\n                            dragHandles = angular.element(element[0].querySelectorAll('[pip-drag-handle]'));\r\n                        } else {\r\n                            dragHandles = element.find('[pip-drag-handle]');\r\n                        }\r\n                        if (dragHandles.length) {\r\n                            _dragHandle = dragHandles;\r\n                        }\r\n                        toggleListeners(true);\r\n\r\n                        // Initialize scroll container\r\n                        if (scrollParent) {\r\n                            scrollContainer = angular.element(element.parent());\r\n                        } else if (attrs.pipScrollContainer) {\r\n                            scrollContainer = angular.element(scrollContainerGetter(scope));\r\n                        } else {\r\n                            scrollContainer = angular.element(window);\r\n                        }\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function toggleListeners(enable) {\r\n                        if (!enable)return;\r\n                        // add listeners.\r\n\r\n                        scope.$on('$destroy', onDestroy);\r\n                        scope.$watch(attrs.pipDrag, onEnableChange);\r\n                        scope.$watch(attrs.pipCenterAnchor, onCenterAnchor);\r\n                        // wire up touch events\r\n                        if (_dragHandle) {\r\n                            // handle(s) specified, use those to initiate drag\r\n                            _dragHandle.on(_pressEvents, onpress);\r\n                        } else {\r\n                            // no handle(s) specified, use the element as the handle\r\n                            element.on(_pressEvents, onpress);\r\n                        }\r\n                        if (!_hasTouch && element[0].nodeName.toLowerCase() == \"img\") {\r\n                            element.on('mousedown', function () {\r\n                                return false;\r\n                            }); // prevent native drag for images\r\n                        }\r\n                    }\r\n                    \r\n                    function onDestroy(enable) {\r\n                        toggleListeners(false);\r\n                    }\r\n\r\n                    function onEnableChange(newVal, oldVal) {\r\n                        _dragEnabled = (newVal);\r\n                    }\r\n\r\n                    function onCenterAnchor(newVal, oldVal) {\r\n                        if (angular.isDefined(newVal))\r\n                            _centerAnchor = (newVal || 'true');\r\n                    }\r\n\r\n                    function isClickableElement(evt) {\r\n                        return (\r\n                            angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\r\n                        );\r\n                    }\r\n\r\n                    /*\r\n                     * When the element is clicked start the drag behaviour\r\n                     * On touch devices as a small delay so as not to prevent native window scrolling\r\n                     */\r\n                    function onpress(evt) {\r\n                        if (!_dragEnabled)return;\r\n\r\n                        if (isClickableElement(evt)) {\r\n                            return;\r\n                        }\r\n\r\n                        if (evt.type == \"mousedown\" && evt.button != 0) {\r\n                            // Do not start dragging on right-click\r\n                            return;\r\n                        }\r\n\r\n                        saveElementStyles();\r\n\r\n                        if (_hasTouch) {\r\n                            cancelPress();\r\n                            _pressTimer = setTimeout(function () {\r\n                                cancelPress();\r\n                                onlongpress(evt);\r\n                            }, LONG_PRESS);\r\n                            $document.on(_moveEvents, cancelPress);\r\n                            $document.on(_releaseEvents, cancelPress);\r\n                        } else {\r\n                            onlongpress(evt);\r\n                        }\r\n\r\n                    }\r\n\r\n                    function saveElementStyles() {\r\n                        _elementStyle.left = element.css('css') || 0;\r\n                        _elementStyle.top = element.css('top') || 0;\r\n                        _elementStyle.position = element.css('position');\r\n                        _elementStyle.width = element.css('width');    \r\n                    }\r\n\r\n                    function cancelPress() {\r\n                        clearTimeout(_pressTimer);\r\n                        $document.off(_moveEvents, cancelPress);\r\n                        $document.off(_releaseEvents, cancelPress);\r\n                    }\r\n\r\n                    function onlongpress(evt) {\r\n                        if (!_dragEnabled)return;\r\n                        evt.preventDefault();\r\n\r\n                        offset = element[0].getBoundingClientRect();\r\n                        if (allowTransform)\r\n                            _dragOffset = offset;\r\n                        else {\r\n                            _dragOffset = {left: document.body.scrollLeft, top: document.body.scrollTop};\r\n                        }\r\n\r\n\r\n                        element.centerX = element[0].offsetWidth / 2;\r\n                        element.centerY = element[0].offsetHeight / 2;\r\n\r\n                        _mx = pipDraggable.inputEvent(evt).pageX;\r\n                        _my = pipDraggable.inputEvent(evt).pageY;\r\n                        _mrx = _mx - offset.left;\r\n                        _mry = _my - offset.top;\r\n                        if (_centerAnchor) {\r\n                            _tx = _mx - element.centerX - $window.pageXOffset;\r\n                            _ty = _my - element.centerY - $window.pageYOffset;\r\n                        } else {\r\n                            _tx = _mx - _mrx - $window.pageXOffset;\r\n                            _ty = _my - _mry - $window.pageYOffset;\r\n                        }\r\n\r\n                        $document.on(_moveEvents, onmove);\r\n                        $document.on(_releaseEvents, onrelease);\r\n                        // This event is used to receive manually triggered mouse move events\r\n                        // jqLite unfortunately only supports triggerHandler(...)\r\n                        // See http://api.jquery.com/triggerHandler/\r\n                        // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\r\n                        _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', function (event, origEvent) {\r\n                            onmove(origEvent);\r\n                        });\r\n                    }\r\n\r\n                    function onmove(evt) {\r\n                        if (!_dragEnabled)return;\r\n                        evt.preventDefault();\r\n\r\n                        if (!element.hasClass('pip-dragging')) {\r\n                            _data = getDragData(scope);\r\n                            element.addClass('pip-dragging');\r\n                            $rootScope.$broadcast('draggable:start', {\r\n                                x: _mx,\r\n                                y: _my,\r\n                                tx: _tx,\r\n                                ty: _ty,\r\n                                event: evt,\r\n                                element: element,\r\n                                data: _data\r\n                            });\r\n\r\n                            if (onDragStartCallback) {\r\n                                scope.$apply(function () {\r\n                                    onDragStartCallback(scope, {$data: _data, $event: evt});\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        _mx = pipDraggable.inputEvent(evt).pageX;\r\n                        _my = pipDraggable.inputEvent(evt).pageY;\r\n\r\n                        if (horizontalScroll || verticalScroll) {\r\n                            dragToScroll();\r\n                        }\r\n\r\n                        if (_centerAnchor) {\r\n                            _tx = _mx - element.centerX - _dragOffset.left;\r\n                            _ty = _my - element.centerY - _dragOffset.top;\r\n                        } else {\r\n                            _tx = _mx - _mrx - _dragOffset.left;\r\n                            _ty = _my - _mry - _dragOffset.top;\r\n                        }\r\n\r\n                        moveElement(_tx, _ty);\r\n\r\n                        $rootScope.$broadcast('draggable:move', {\r\n                            x: _mx,\r\n                            y: _my,\r\n                            tx: _tx,\r\n                            ty: _ty,\r\n                            event: evt,\r\n                            element: element,\r\n                            data: _data,\r\n                            uid: _myid,\r\n                            dragOffset: _dragOffset\r\n                        });\r\n                    }\r\n\r\n                    function onrelease(evt) {\r\n                        if (!_dragEnabled)\r\n                            return;\r\n                        evt.preventDefault();\r\n                        $rootScope.$broadcast('draggable:end', {\r\n                            x: _mx,\r\n                            y: _my,\r\n                            tx: _tx,\r\n                            ty: _ty,\r\n                            event: evt,\r\n                            element: element,\r\n                            data: _data,\r\n                            callback: onDragComplete,\r\n                            uid: _myid\r\n                        });\r\n                        element.removeClass('pip-dragging');\r\n                        element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\r\n                        reset();\r\n                        $document.off(_moveEvents, onmove);\r\n                        $document.off(_releaseEvents, onrelease);\r\n\r\n                        if (onDragStopCallback) {\r\n                            scope.$apply(function () {\r\n                                onDragStopCallback(scope, {$data: _data, $event: evt});\r\n                            });\r\n                        }\r\n\r\n                        _deregisterRootMoveListener();\r\n                    }\r\n\r\n                    function onDragComplete(evt) {\r\n                        if (!onDragSuccessCallback)return;\r\n\r\n                        scope.$apply(function () {\r\n                            onDragSuccessCallback(scope, {$data: _data, $event: evt});\r\n                        });\r\n                    }\r\n\r\n                    function reset() {\r\n                        if (allowTransform)\r\n                            element.css({transform: '', 'z-index': '', '-webkit-transform': '', '-ms-transform': ''});\r\n                        else {\r\n                            element.css({'position': _elementStyle.position, top: _elementStyle.top, left: _elementStyle.left, 'z-index': '', width: _elementStyle.width});\r\n                        }\r\n                    }\r\n\r\n                    function moveElement(x, y) {\r\n                        var eWidth = element.css('width');\r\n                        if (allowTransform) {\r\n                            element.css({\r\n                                transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                                'z-index': 99999,\r\n                                '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n                                '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n                            });\r\n                        } else {\r\n                            element.css({\r\n                                'left': x + 'px',\r\n                                'top': y + 'px',\r\n                                'position': 'fixed',\r\n                                'z-index': 100,\r\n                                width: eWidth\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    function dragToScroll() {\r\n                        var scrollX = 0, scrollY = 0,\r\n                            offset = function (element) {\r\n                                return element.offset() || {left: 0, top: 0};\r\n                            };\r\n\r\n                        if (horizontalScroll) {\r\n                            var\r\n                                containerLeft = offset(scrollContainer).left,\r\n                                containerWidth = scrollContainer.innerWidth(),\r\n                                containerRight = containerLeft + containerWidth;\r\n\r\n                            if ((_mx - containerLeft) < activationDistance) {\r\n                                scrollX = -scrollDistance;\r\n                            }\r\n                            else if ((containerRight - _mx) < activationDistance) {\r\n                                scrollX = scrollDistance;\r\n                            }\r\n                        }\r\n\r\n                        if (verticalScroll) {\r\n                            var\r\n                                containerTop = offset(scrollContainer).top,\r\n                                containerHeight = scrollContainer.innerHeight(),\r\n                                containerBottom = containerTop + containerHeight;\r\n\r\n                            if ((_my - containerTop) < activationDistance) {\r\n                                scrollY = -scrollDistance + 30;\r\n                            }\r\n                            else if ((containerBottom - _my) < activationDistance) {\r\n                                scrollY = scrollDistance - 30;\r\n                            }\r\n                        }\r\n                        if (scrollX !== 0 || scrollY !== 0) {\r\n                            var\r\n                                containerScrollLeft = scrollContainer.scrollLeft(),\r\n                                containerScrollTop = scrollContainer.scrollTop();\r\n\r\n                            scrollContainer.scrollLeft(containerScrollLeft + scrollX);\r\n                            scrollContainer.scrollTop(containerScrollTop + scrollY);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    thisModule.directive('pipDrop', \r\n        function ($parse, $timeout, $window, $document, pipDraggable) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: any, element, attrs: any) {\r\n                scope.value = attrs.pipDrop;\r\n                scope.isTouching = false;\r\n\r\n                var _lastDropTouch = null;\r\n                var _myid = scope.$id;\r\n                var _dropEnabled = false;\r\n\r\n                var onDropCallback = $parse(attrs.pipDropSuccess);// || function(){};\r\n                var onDragStartCallback = $parse(attrs.pipDragStart);\r\n                var onDragStopCallback = $parse(attrs.pipDragStop);\r\n                var onDragMoveCallback = $parse(attrs.pipDragMove);\r\n\r\n                initialize();\r\n\r\n                return;\r\n\r\n                //----------------------\r\n\r\n                function initialize() {\r\n                    toggleListeners(true);\r\n                }\r\n\r\n                function toggleListeners(enable) {\r\n                    // remove listeners\r\n                    if (!enable)return;\r\n                    // add listeners.\r\n                    scope.$watch(attrs.pipDrop, onEnableChange);\r\n                    scope.$on('$destroy', onDestroy);\r\n                    scope.$on('draggable:start', onDragStart);\r\n                    scope.$on('draggable:move', onDragMove);\r\n                    scope.$on('draggable:end', onDragEnd);\r\n                }\r\n\r\n                function onDestroy(enable) {\r\n                    toggleListeners(false);\r\n                }\r\n\r\n                function onEnableChange(newVal, oldVal) {\r\n                    _dropEnabled = newVal;\r\n                }\r\n\r\n                function onDragStart(evt, obj) {\r\n                    if (!_dropEnabled)return;\r\n                    isTouching(obj.x, obj.y, obj.element);\r\n\r\n                    if (attrs.pipDragStart) {\r\n                        $timeout(function () {\r\n                            onDragStartCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function onDragMove(evt, obj) {\r\n                    if (!_dropEnabled)return;\r\n                    isTouching(obj.x, obj.y, obj.element);\r\n\r\n                    if (attrs.pipDragMove) {\r\n                        $timeout(function () {\r\n                            onDragMoveCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function onDragEnd(evt, obj) {\r\n                    // don't listen to drop events if this is the element being dragged\r\n                    // only update the styles and return\r\n                    if (!_dropEnabled || _myid === obj.uid) {\r\n                        updateDragStyles(false, obj.element);\r\n                        return;\r\n                    }\r\n\r\n                    if (isTouching(obj.x, obj.y, obj.element)) {\r\n                        // call the pipDraggable pipDragSuccess element callback\r\n                        if (obj.callback) {\r\n                            obj.callback(obj);\r\n                        }\r\n\r\n                        if (attrs.pipDropSuccess) {\r\n                            $timeout(function () {\r\n                                onDropCallback(scope, {\r\n                                    $data: obj.data,\r\n                                    $event: obj,\r\n                                    $target: scope.$eval(scope.value)\r\n                                });\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    if (attrs.pipDragStop) {\r\n                        $timeout(function () {\r\n                            onDragStopCallback(scope, {$data: obj.data, $event: obj});\r\n                        });\r\n                    }\r\n\r\n                    updateDragStyles(false, obj.element);\r\n                }\r\n\r\n                function isTouching(mouseX, mouseY, dragElement) {\r\n                    var touching = hitTest(mouseX, mouseY);\r\n                    scope.isTouching = touching;\r\n                    if (touching) {\r\n                        _lastDropTouch = element;\r\n                    }\r\n                    updateDragStyles(touching, dragElement);\r\n                    return touching;\r\n                }\r\n\r\n                function updateDragStyles(touching, dragElement) {\r\n                    if (touching) {\r\n                        element.addClass('pip-drag-enter');\r\n                        dragElement.addClass('pip-drag-over');\r\n                    } else if (_lastDropTouch == element) {\r\n                        _lastDropTouch = null;\r\n                        element.removeClass('pip-drag-enter');\r\n                        dragElement.removeClass('pip-drag-over');\r\n                    }\r\n                };\r\n\r\n                function hitTest(x, y) {\r\n                    var bounds = element[0].getBoundingClientRect();\r\n                    x -= $document[0].body.scrollLeft + $document[0].documentElement.scrollLeft;\r\n                    y -= $document[0].body.scrollTop + $document[0].documentElement.scrollTop;\r\n                    return x >= bounds.left\r\n                        && x <= bounds.right\r\n                        && y <= bounds.bottom\r\n                        && y >= bounds.top;\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    //thisModule.directive('pipDragClone', function ($parse, $timeout, pipDraggable) {\r\n    //    return {\r\n    //        restrict: 'A',\r\n    //        link: function (scope, element, attrs) {\r\n    //            var img, _allowClone = true;\r\n    //            var _dragOffset = null;\r\n    //            scope.clonedData = {};\r\n    //            initialize();\r\n    //            return;\r\n\r\n    //            function initialize() {\r\n//\r\n    //                img = element.find('img');\r\n    //                element.attr('pip-draggable', 'false');\r\n    //                img.attr('draggable', 'false');\r\n    //                reset();\r\n    //                toggleListeners(true);\r\n    //            }\r\n//\r\n//\r\n    //            function toggleListeners(enable) {\r\n    //                // remove listeners\r\n//\r\n    //                if (!enable)return;\r\n    //                // add listeners.\r\n    //                scope.$on('draggable:start', onDragStart);\r\n    //                scope.$on('draggable:move', onDragMove);\r\n    //                scope.$on('draggable:end', onDragEnd);\r\n    //                preventContextMenu();\r\n//\r\n    //            }\r\n\r\n    //            function preventContextMenu() {\r\n    //                //  element.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                img.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                //  element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //                img.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n    //            }\r\n\r\n    //            function onDragStart(evt, obj, elm) {\r\n    //                _allowClone = true;\r\n    //                if (angular.isDefined(obj.data.allowClone)) {\r\n    //                    _allowClone = obj.data.allowClone;\r\n    //                }\r\n    //                if (_allowClone) {\r\n    //                    scope.$apply(function () {\r\n    //                        scope.clonedData = obj.data;\r\n    //                    });\r\n    //                    element.css('width', obj.element[0].offsetWidth);\r\n    //                    element.css('height', obj.element[0].offsetHeight);\r\n//\r\n    //                    moveElement(obj.tx, obj.ty);\r\n    //                }\r\n//\r\n    //            }\r\n\r\n    //            function onDragMove(evt, obj) {\r\n    //                if (_allowClone) {\r\n//\r\n    //                    _tx = obj.tx + obj.dragOffset.left;\r\n    //                    _ty = obj.ty + obj.dragOffset.top;\r\n//\r\n    //                    moveElement(_tx, _ty);\r\n    //                }\r\n    //            }\r\n\r\n    //            function onDragEnd(evt, obj) {\r\n    //                //moveElement(obj.tx,obj.ty);\r\n    //                if (_allowClone) {\r\n    //                    reset();\r\n    //                }\r\n    //            }\r\n//\r\n    //            function reset() {\r\n    //                element.css({left: 0, top: 0, position: 'fixed', 'z-index': -1, visibility: 'hidden'});\r\n    //            }\r\n\r\n    //            function moveElement(x, y) {\r\n    //                element.css({\r\n    //                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n    //                    'z-index': 99999,\r\n    //                    'visibility': 'visible',\r\n    //                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\r\n    //                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\r\n    //                    //,margin: '0'  don't monkey with the margin,\r\n    //                });\r\n    //            }\r\n//\r\n    //            function absorbEvent_(event) {\r\n    //                var e = event;//.originalEvent;\r\n    //                e.preventDefault && e.preventDefault();\r\n    //                e.stopPropagation && e.stopPropagation();\r\n    //                e.cancelBubble = true;\r\n    //                e.returnValue = false;\r\n    //                return false;\r\n    //            }\r\n//\r\n    //        }\r\n    //    };\r\n    //});\r\n\r\n    thisModule.directive('pipPreventDrag', function ($parse, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope: any, element, attrs: any) {\r\n                initialize();\r\n\r\n                return;\r\n                //---------------------\r\n\r\n                function initialize() {\r\n                    element.attr('pip-draggable', 'false');\r\n                    toggleListeners(true);\r\n                }\r\n\r\n                function toggleListeners(enable) {\r\n                    // remove listeners\r\n                    if (!enable)return;\r\n                    // add listeners.\r\n                    element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\r\n                }\r\n\r\n                function absorbEvent_(event) {\r\n                    var e = event.originalEvent;\r\n                    e.preventDefault && e.preventDefault();\r\n                    e.stopPropagation && e.stopPropagation();\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n                    return false;\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    thisModule.directive('pipCancelDrag', function () {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, element, attrs) {\r\n                element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\r\n            }\r\n        };\r\n    });\r\n})();\r\n\r\n","/**\r\n * @file Keyboard navigation over few focusable controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipFocused\", []);\r\n\r\n    thisModule.directive('pipFocused', function($timeout, $mdConstant) {\r\n        return {\r\n            require: \"?ngModel\",\r\n            link: function ($scope: any, $element, $attrs: any) {\r\n                var controls, controlsLength,\r\n                    withHidden = $attrs.pipWithHidden;\r\n\r\n                $timeout(init);\r\n                $element.on('keydown', keydownListener);\r\n\r\n                $scope.$watch($attrs.ngModel, function () {\r\n                    $timeout(init);\r\n                }, true);\r\n\r\n                function init() {\r\n                    var selector = withHidden ? '.pip-focusable' : '.pip-focusable:visible';\r\n                    controls = $element.find(selector);\r\n                    controlsLength = controls.length;\r\n\r\n                    // add needed event listeners\r\n                    controls.on('focus', function () {\r\n                        $element.addClass('pip-focused-container');\r\n                        $(this).addClass('md-focused');\r\n                    }).on('focusout', function () {\r\n                        $element.removeClass('pip-focused-container');\r\n                    });\r\n                }\r\n\r\n                function keydownListener(e) {\r\n                    var keyCode = e.which || e.keyCode;\r\n\r\n                    // Check control keyCode\r\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\r\n\r\n                        e.preventDefault();\r\n\r\n                        var \r\n                            increment = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                            moveToControl = controls.index(controls.filter(\".md-focused\")) + increment;\r\n\r\n                        // Move focus to next control\r\n                        if (moveToControl >= 0 && moveToControl < controlsLength) {\r\n                            controls[moveToControl].focus();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n\r\n","/**\r\n * @file Infinite scrolling behavior\r\n * @description\r\n * Modified from https://github.com/sroze/ngInfiniteScroll\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipInfiniteScroll\", []);\r\n\r\n    thisModule.directive('pipInfiniteScroll', \r\n        function($rootScope, $window, $interval, $parse) {\r\n            var THROTTLE_MILLISECONDS = 500;\r\n\r\n            return {\r\n                scope: {\r\n                    pipInfiniteScroll: '&',\r\n                    pipScrollContainer: '=',\r\n                    pipScrollDistance: '=',\r\n                    pipScrollDisabled: '=',\r\n                    pipScrollUseDocumentBottom: '=',\r\n                    pipScrollListenForEvent: '@'\r\n                },\r\n                link: function($scope: any, $element, $attrs: any) {\r\n                    var \r\n                        checkWhenEnabled = null,\r\n                        scrollContainer,\r\n                        immediateCheck = true,\r\n                        scrollDistance = null,\r\n                        scrollEnabled = null, \r\n                        unregisterEventListener = null,\r\n                        useDocumentBottom = false, \r\n                        windowElement = angular.element($window);\r\n                    \r\n                    function height(element) {\r\n                        element = element[0] || element;\r\n                        if (isNaN(element.offsetHeight)) {\r\n                            return element.document.documentElement.clientHeight;\r\n                        } else {\r\n                            return element.offsetHeight;\r\n                        }\r\n                    };\r\n\r\n                    function offsetTop(element) {\r\n                        if (!element[0].getBoundingClientRect || element.css('none')) {\r\n                            return;\r\n                        }\r\n                        return element[0].getBoundingClientRect().top + pageYOffset(element);\r\n                    };\r\n\r\n                    function pageYOffset(element) {\r\n                        element = element[0] || element;\r\n                        if (isNaN(window.pageYOffset)) {\r\n                            return element.document.documentElement.scrollTop;\r\n                        } else {\r\n                            return element.ownerDocument.defaultView.pageYOffset;\r\n                        }\r\n                    };\r\n\r\n                    var onContainerScroll = function() {\r\n                        var \r\n                            containerBottom, \r\n                            containerTopOffset, \r\n                            elementBottom, \r\n                            remaining, \r\n                            shouldScroll;\r\n                                                \r\n                        if (scrollContainer === windowElement) {\r\n                            containerBottom = height(scrollContainer) + pageYOffset(scrollContainer[0].document.documentElement);\r\n                            elementBottom = offsetTop($element) + height($element);\r\n                        } else {\r\n                            containerBottom = height(scrollContainer);\r\n                            containerTopOffset = 0;\r\n                            if (offsetTop(scrollContainer) !== void 0) {\r\n                                containerTopOffset = offsetTop(scrollContainer);\r\n                            }\r\n                            elementBottom = offsetTop($element) - containerTopOffset + height($element);\r\n                        }\r\n\r\n                        if (useDocumentBottom) {\r\n                            elementBottom = height(($element[0].ownerDocument || $element[0].document).documentElement);\r\n                        }\r\n\r\n                        remaining = elementBottom - containerBottom;\r\n                        shouldScroll = remaining <= height(scrollContainer) * scrollDistance + 1;\r\n                        \r\n                        if (shouldScroll) {\r\n                            checkWhenEnabled = true;\r\n                            if (scrollEnabled) {\r\n                                if ($scope.$$phase || $rootScope.$$phase) {\r\n                                    return $scope.pipInfiniteScroll();\r\n                                } else {\r\n                                    return $scope.$apply($scope.pipInfiniteScroll);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return checkWhenEnabled = false;\r\n                        }\r\n                    };\r\n\r\n                    if (THROTTLE_MILLISECONDS != null) {\r\n                        onContainerScroll = _.throttle(onContainerScroll, THROTTLE_MILLISECONDS);                    \r\n                    }\r\n\r\n                    $scope.$on('$destroy', function() {\r\n                        scrollContainer.unbind('scroll', onContainerScroll);\r\n                        if (unregisterEventListener != null) {\r\n                            unregisterEventListener();\r\n                            return unregisterEventListener = null;\r\n                        }\r\n                    });\r\n\r\n                    function handleScrollDistance(v) {\r\n                        return scrollDistance = parseFloat(v) || 0;\r\n                    };\r\n                    $scope.$watch('pipScrollDistance', handleScrollDistance);\r\n                    handleScrollDistance($scope.pipScrollDistance);\r\n                    \r\n                    function handleScrollDisabled(v) {\r\n                        scrollEnabled = !v;\r\n                        if (scrollEnabled && checkWhenEnabled) {\r\n                            checkWhenEnabled = false;\r\n                            return onContainerScroll();\r\n                        }\r\n                    };\r\n                    $scope.$watch('pipScrollDisabled', handleScrollDisabled);\r\n                    handleScrollDisabled($scope.pipScrollDisabled);\r\n\r\n                    function handleScrollUseDocumentBottom(v) {\r\n                        return useDocumentBottom = v;\r\n                    };\r\n                    $scope.$watch('pipScrollUseDocumentBottom', handleScrollUseDocumentBottom);\r\n                    handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\r\n\r\n                    function changeContainer(newContainer) {\r\n                        if (scrollContainer != null) {\r\n                            scrollContainer.unbind('scroll', onContainerScroll);\r\n                        }\r\n\r\n                        scrollContainer = newContainer;\r\n                        if (newContainer != null) {\r\n                            return scrollContainer.bind('scroll', onContainerScroll);\r\n                        }\r\n                    };\r\n\r\n                    changeContainer(windowElement);\r\n                    if ($scope.pipScrollListenForEvent) {\r\n                        unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, onContainerScroll);\r\n                    }\r\n\r\n                    function handleScrollContainer(newContainer) {\r\n                        if ((newContainer == null) || newContainer.length === 0) {\r\n                            return;\r\n                        }\r\n                        if (newContainer instanceof HTMLElement) {\r\n                            newContainer = angular.element(newContainer);\r\n                        } else if (typeof newContainer.append === 'function') {\r\n                            newContainer = angular.element(newContainer[newContainer.length - 1]);\r\n                        } else if (typeof newContainer === 'string') {\r\n                            newContainer = $element.parents().find(newContainer);\r\n                        }\r\n\r\n                        if (newContainer != null && (!Array.isArray(newContainer) ||\r\n                            (Array.isArray(newContainer) && newContainer.length > 0))) {\r\n                            return changeContainer(newContainer);\r\n                        } else {\r\n                            throw new Error(\"Invalid pip-scroll-container attribute.\");\r\n                        }\r\n                    };\r\n                    $scope.$watch('pipScrollContainer', function (newContainer) {\r\n                        if (newContainer !== scrollContainer)\r\n                            handleScrollContainer(newContainer);\r\n                    });\r\n                    handleScrollContainer($scope.pipScrollContainer || []);\r\n                    \r\n                    if ($attrs.pipScrollParent != null) {\r\n                        changeContainer(angular.element($element.parent()));\r\n                    }\r\n                    if ($attrs.pipScrolImmediateCheck != null) {\r\n                        immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\r\n                    }\r\n                    \r\n                    return $interval((function() {\r\n                        if (immediateCheck) {\r\n                            return onContainerScroll();\r\n                        }\r\n                    }), 0, 1);\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Keyboard navigation with scrolling over non-focusable controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipSelected\", []);\r\n\r\n    thisModule.directive('pipSelected',function ($parse, $mdConstant, $timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function ($scope: any, $element, $attrs: any) {\r\n                var\r\n                    indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null,\r\n                    indexSetter = indexGetter ? indexGetter.assign : null,\r\n                    idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null,\r\n                    idSetter = idGetter ? idGetter.assign : null,\r\n                    changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null,\r\n                    enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null,\r\n                    noScroll = toBoolean($attrs.pipNoScroll),\r\n                    modifier = toBoolean($attrs.pipSkipHidden) ? ':visible' : '',\r\n                    className = toBoolean($attrs.pipTreeList) ? '.pip-selectable-tree' : '.pip-selectable',\r\n                    selectedIndex = indexGetter($scope),\r\n                    currentElementTabinex = $element.attr('tabindex'),\r\n                    pipSelectedWatch = $attrs.pipSelectedWatch,\r\n                    isScrolled = false;\r\n\r\n                // Set tabindex if it's not set yet\r\n                $element.attr('tabindex', currentElementTabinex || 0);\r\n\r\n                // Watch selected item index\r\n                if (!toBoolean($attrs.pipTreeList)) {\r\n                    $scope.$watch(indexGetter, function(newSelectedIndex) {\r\n                        selectItem({itemIndex: newSelectedIndex});\r\n                    });\r\n                } else {\r\n                    $scope.$watch(idGetter, function(newSelectedId) {\r\n                        setTimeout(function () {\r\n                            selectItem({itemId: newSelectedId, raiseEvent: true});\r\n                        }, 0);\r\n                    });\r\n                }\r\n\r\n                // Watch resync selection\r\n                if (pipSelectedWatch) {\r\n                    $scope.$watch(pipSelectedWatch, function() {\r\n                        // Delay update to allow ng-repeat to update DOM\r\n                        setTimeout(function() {\r\n                            selectedIndex = indexGetter($scope);\r\n                            selectItem({itemIndex: selectedIndex});\r\n                        }, 100);\r\n                    });\r\n                }\r\n\r\n                // Select item defined by index\r\n                selectItem({itemIndex: selectedIndex, items: $element.find(className)});\r\n\r\n                // Converts value into boolean\r\n                function toBoolean(value) {\r\n                    if (value == null) return false;\r\n                    if (!value) return false;\r\n                    value = value.toString().toLowerCase();\r\n                    return value == '1' || value == 'true';\r\n                };\r\n                \r\n                // Functions and listeners\r\n\r\n                function selectItem(itemParams) {\r\n                    console.log('selectItem');\r\n                    if (isScrolled) return;\r\n                    var itemIndex = itemParams.itemIndex,\r\n                        itemId = itemParams.itemId,\r\n                        items = itemParams.items || $element.find(className + modifier),\r\n                        itemsLength = items.length,\r\n                        item = (function () {\r\n                            if (itemParams.item) return itemParams.item;\r\n                            if (itemIndex === undefined && itemIndex === -1) {\r\n                                itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\r\n                            }\r\n                            if (itemIndex >= 0 && itemIndex < itemsLength) {\r\n                                return items[itemIndex]\r\n                            }\r\n                        }()),\r\n                        raiseEvent = itemParams.raiseEvent;\r\n\r\n                    if (item) {\r\n                        $element.find(className).removeClass('selected md-focused');\r\n                        item = angular.element(item)\r\n                            .addClass('selected md-focused')\r\n                            .focus(); // todo   ,   \r\n                        if (!noScroll) scrollToItem(item);\r\n                        if (raiseEvent) defineSelectedIndex(items);\r\n                    }\r\n                };\r\n\r\n                function defineSelectedIndex(items) {\r\n                    var oldSelectedIndex = selectedIndex;\r\n                    selectedIndex = -1;\r\n                    for (var index = 0; index < items.length; index++) {\r\n                        if ($(items[index]).hasClass('selected')) {\r\n                            selectedIndex = index;\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // Execute callback to notify about item select\r\n                    if (oldSelectedIndex != selectedIndex && selectedIndex !== -1) {\r\n                        $scope.$apply(updateIndex);\r\n                    }\r\n\r\n                    function updateIndex() {\r\n                        var selectedItem = angular.element(items[selectedIndex]),\r\n                            selectedId = selectedItem.attr('pip-id');\r\n\r\n                        if (indexSetter) indexSetter($scope, selectedIndex);\r\n                        if (idSetter) idSetter($scope, selectedId);\r\n                        if (changeGetter) {\r\n                            changeGetter($scope, {\r\n                                $event: {\r\n                                    target: $element,\r\n                                    item: selectedItem,\r\n                                    index: selectedIndex,\r\n                                    id: selectedId,\r\n                                    newIndex: selectedIndex,\r\n                                    oldIndex: oldSelectedIndex\r\n                                }\r\n                            });\r\n                        }\r\n                    };\r\n                };\r\n\r\n                function scrollToItem($item) {\r\n                    if (noScroll) return;\r\n\r\n                    var\r\n                        containerTop = $element.offset().top,\r\n                        containerHeight = $element.height(),\r\n                        containerBottom = containerTop + containerHeight,\r\n                        itemTop = $item.offset().top,\r\n                        itemHeight = $item.outerHeight(true),\r\n                        itemBottom = itemTop + itemHeight,\r\n                        containerScrollTop = $element.scrollTop();\r\n\r\n                        isScrolled = true;\r\n                        setTimeout(function () {\r\n                            isScrolled = false;\r\n                        }, 100);\r\n\r\n                    if (containerTop > itemTop) {\r\n                        $element.scrollTop(containerScrollTop + itemTop - containerTop);\r\n                    }\r\n                    else if (containerBottom < itemBottom) {\r\n                        $element.scrollTop(containerScrollTop + itemBottom - containerBottom);\r\n                    }\r\n\r\n                };\r\n\r\n                $element.on('click touchstart', className, function (event) {\r\n                    selectItem({item: event.currentTarget, raiseEvent: true});\r\n                });\r\n\r\n                $element.on('keydown', function (e) {\r\n                    var keyCode = e.which || e.keyCode;\r\n\r\n                    // Check control keyCode\r\n                    if (keyCode == $mdConstant.KEY_CODE.ENTER || keyCode == $mdConstant.KEY_CODE.SPACE) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n\r\n                        if (enterSpaceGetter) {\r\n                            enterSpaceGetter($scope, {\r\n                                $event: {\r\n                                    target: $element,\r\n                                    index: selectedIndex,\r\n                                    item: $element.find('.selected')\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    } else\r\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW || keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\r\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\r\n\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n\r\n                        // Get next selectable control index\r\n                        var items = $element.find(className + modifier),\r\n                            inc = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\r\n                            newSelectedIndex = selectedIndex + inc;\r\n\r\n                        // Set next control as selected\r\n                        selectItem({itemIndex: newSelectedIndex, items: items, raiseEvent: true});\r\n                    }\r\n                });\r\n\r\n                $element.on('focusin', function (event) {\r\n                    // Choose selected element\r\n                    var items,\r\n                        selectedItem = $element.find(className + '.selected');\r\n\r\n                    selectedItem.addClass('md-focused');\r\n\r\n                    // If there are not selected elements then pick the first one\r\n                    if (selectedItem.length === 0) {\r\n                        selectedIndex = indexGetter($scope);\r\n                        items = $element.find(className + modifier);\r\n                        selectItem({itemIndex: selectedIndex || 0, items: items, raiseEvent: true});\r\n                    }\r\n                });\r\n\r\n                $element.on('focusout', function (event) {\r\n                    $element.find(className + '.md-focused' + modifier).removeClass('md-focused');\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function(){\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipUnsavedChanges\", []);\r\n\r\n    thisModule.directive(\"pipUnsavedChanges\", function ($window, $rootScope) {\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\r\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\r\n                afterLeave: '&pipUnsavedChangesAfterLeave'\r\n            },\r\n            link: function($scope: any) {\r\n\r\n                $window.onbeforeunload = function() {\r\n                    if ($scope.unsavedChangesAvailable()) {\r\n                        $rootScope.$routing = false;\r\n                        return $scope.unsavedChangesMessage;\r\n                    }\r\n                };\r\n\r\n                var unbindFunc = $scope.$on('$stateChangeStart', function(event) {\r\n                    if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\r\n                        $rootScope.$routing = false;\r\n                        event.preventDefault();\r\n                    } else {\r\n                        _.isFunction($scope.afterLeave) && $scope.afterLeave();\r\n                    }\r\n                });\r\n\r\n                $scope.$on('$destroy', function() {\r\n                    $window.onbeforeunload = null;\r\n                    unbindFunc();\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\r\n\r\n    thisModule.directive('pipColorPicker',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: 'pipColorPickerController'\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipColorPickerController',\r\n        function ($scope, $element, $attrs, $timeout) {\r\n            var\r\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n            $scope.class = $attrs.class || '';\r\n\r\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\r\n                $scope.colors = DEFAULT_COLORS;\r\n            }\r\n\r\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\r\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\r\n\r\n            $scope.disabled = function () {\r\n                if ($scope.ngDisabled) {\r\n                    return $scope.ngDisabled();\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            $scope.selectColor = function (index) {\r\n                if ($scope.disabled()) {\r\n                    return;\r\n                }\r\n                $scope.currentColorIndex = index;\r\n\r\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\r\n\r\n                $timeout(function () {\r\n                    $scope.$apply();\r\n                });\r\n\r\n                if ($scope.colorChange) {\r\n                    $scope.colorChange();\r\n                }\r\n            };\r\n\r\n            $scope.enterSpacePress = function (event) {\r\n                $scope.selectColor(event.index);\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipControls', [\r\n        'pipMarkdown',\r\n        'pipColorPicker',\r\n        'pipRoutingProgress',\r\n        'pipPopover',\r\n        'pipImageSlider',\r\n        'pipToasts',\r\n        'pipControls.Translate'\r\n    ]);\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\n    thisModule.directive('pipImageSlider',\r\n        function () {\r\n            return {\r\n                scope: {\r\n                    sliderIndex: '=pipImageIndex'\r\n                },\r\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\r\n                    var blocks,\r\n                        index = 0, newIndex,\r\n                        direction,\r\n                        type = $parse($attrs.pipAnimationType)($scope),\r\n                        DEFAULT_INTERVAL = 4500,\r\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\r\n                        timePromises,\r\n                        throttled;\r\n\r\n                    $element.addClass('pip-image-slider');\r\n                    $element.addClass('pip-animation-' + type);\r\n\r\n                    $scope.swipeStart = 0;\r\n                    /*\r\n                     if ($swipe)\r\n                     $swipe.bind($element, {\r\n                     'start': function(coords) {\r\n                     if (coords) $scope.swipeStart = coords.x;\r\n                     else $scope.swipeStart = 0;\r\n                     },\r\n                     'end': function(coords) {\r\n                     var delta;\r\n                     if (coords) {\r\n                     delta = $scope.swipeStart - coords.x;\r\n                     if (delta > 150)  $scope.nextBlock();\r\n                     if (delta < -150)  $scope.prevBlock();\r\n                     $scope.swipeStart = 0;\r\n                     } else $scope.swipeStart = 0;\r\n                     }\r\n                     });\r\n                     */\r\n                    setIndex();\r\n\r\n                    $timeout(function () {\r\n                        blocks = $element.find('.pip-animation-block');\r\n                        if (blocks.length > 0) {\r\n                            $(blocks[0]).addClass('pip-show');\r\n                        }\r\n                    });\r\n\r\n                    startInterval();\r\n                    throttled = _.throttle(function () {\r\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\r\n                        index = newIndex;\r\n                        setIndex();\r\n                    }, 700);\r\n\r\n                    $scope.nextBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                        direction = 'next';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.prevBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\r\n                        direction = 'prev';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.slideTo = function (nextIndex) {\r\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\r\n                            return;\r\n                        }\r\n\r\n                        restartInterval();\r\n                        newIndex = nextIndex;\r\n                        direction = nextIndex > index ? 'next' : 'prev';\r\n                        throttled();\r\n                    };\r\n                    \r\n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\r\n\r\n                    function setIndex() {\r\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\r\n                    }\r\n\r\n                    function startInterval() {\r\n                        timePromises = $interval(function () {\r\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                            direction = 'next';\r\n                            throttled();\r\n                        }, interval || DEFAULT_INTERVAL);\r\n                    }\r\n\r\n                    function stopInterval() {\r\n                        $interval.cancel(timePromises);\r\n                    }\r\n\r\n                    $element.on('$destroy', function () {\r\n                        stopInterval();\r\n                        $pipImageSlider.removeSlider($attrs.id);\r\n                    });\r\n\r\n                    function restartInterval() {\r\n                        stopInterval();\r\n                        startInterval();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider.Service', []);\r\n\r\n    thisModule.service('$pipImageSlider',\r\n        function ($timeout) {\r\n\r\n            var ANIMATION_DURATION = 550,\r\n                sliders = {};\r\n\r\n            return {\r\n                nextCarousel: nextCarousel,\r\n                prevCarousel: prevCarousel,\r\n                toBlock: toBlock,\r\n                registerSlider: register,\r\n                removeSlider: remove,\r\n                getSliderScope: getSlider\r\n            };\r\n\r\n            function register(sliderId, sliderScope) {\r\n                sliders[sliderId] = sliderScope;\r\n            }\r\n            \r\n            function remove(sliderId) {\r\n                delete sliders[sliderId];\r\n            }\r\n\r\n            function getSlider(sliderId) {\r\n                return sliders[sliderId];\r\n            }\r\n\r\n            function nextCarousel(nextBlock, prevBlock) {\r\n                nextBlock.addClass('pip-next');\r\n                \r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function prevCarousel(nextBlock, prevBlock) {\r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\r\n                var prevBlock = $(blocks[oldIndex]),\r\n                    blockIndex = nextIndex,\r\n                    nextBlock = $(blocks[blockIndex]);\r\n\r\n                if (type === 'carousel') {\r\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                    if (direction && (direction === 'prev' || direction === 'next')) {\r\n                        if (direction === 'prev') {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    } else {\r\n                        if (nextIndex && nextIndex < oldIndex) {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    }\r\n                } else {\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderButton', []);\r\n\r\n    thisModule.directive('pipSliderButton',\r\n        function () {\r\n            return {\r\n                scope: {},\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var type = $parse($attrs.pipButtonType)($scope),\r\n                        sliderId = $parse($attrs.pipSliderId)($scope);\r\n\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || !type) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId)[type + 'Block']();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderIndicator', []);\r\n\r\n    thisModule.directive('pipSliderIndicator',\r\n        function () {\r\n            return {\r\n                scope: false,\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\r\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\r\n\r\n                    $element.css('cursor', 'pointer');\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || slideTo && slideTo < 0) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId).slideTo(slideTo);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ndeclare var marked: any;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\r\n\r\n    thisModule.run(function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            pipTranslate.setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': ':',\r\n                'checklist': '',\r\n                'documents': '',\r\n                'pictures': '',\r\n                'location': '',\r\n                'time': ''\r\n            });\r\n        }\r\n    });\r\n\r\n    thisModule.directive('pipMarkdown',\r\n        function ($parse, $injector) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                link: function ($scope: any, $element, $attrs: any) {\r\n                    var\r\n                        textGetter = $parse($attrs.pipText),\r\n                        listGetter = $parse($attrs.pipList),\r\n                        clampGetter = $parse($attrs.pipLineCount);\r\n\r\n                    function describeAttachments(array) {\r\n                        var attachString = '',\r\n                            attachTypes = [];\r\n\r\n                        _.each(array, function (attach) {\r\n                            if (attach.type && attach.type !== 'text') {\r\n                                if (attachString.length === 0 && pipTranslate) {\r\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                                }\r\n\r\n                                if (attachTypes.indexOf(attach.type) < 0) {\r\n                                    attachTypes.push(attach.type);\r\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                                    if (pipTranslate)\r\n                                        attachString += pipTranslate.translate(attach.type);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        return attachString;\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function bindText(value) {\r\n                        var textString, isClamped, height, options, obj;\r\n\r\n                        if (_.isArray(value)) {\r\n                            obj = _.find(value, function (item: any) {\r\n                                return item.type === 'text' && item.text;\r\n                            });\r\n\r\n                            textString = obj ? obj.text : describeAttachments(value);\r\n                        } else {\r\n                            textString = value;\r\n                        }\r\n\r\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\r\n                        isClamped = isClamped && textString && textString.length > 0;\r\n                        options = {\r\n                            gfm: true,\r\n                            tables: true,\r\n                            breaks: true,\r\n                            sanitize: true,\r\n                            pedantic: true,\r\n                            smartLists: true,\r\n                            smartypents: false\r\n                        };\r\n                        textString = marked(textString || '', options);\r\n                        if (isClamped) {\r\n                            height = 1.5 * clampGetter();\r\n                        }\r\n                        // Assign value as HTML\r\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\r\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\r\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\r\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n                        $element.find('a').attr('target', 'blank');\r\n                        if (!listGetter() && isClamped) {\r\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\r\n                        }\r\n                    }\r\n\r\n                    // Fill the text\r\n                    bindText(textGetter($scope));\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(textGetter, function (newValue) {\r\n                            bindText(newValue);\r\n                        });\r\n                    }\r\n\r\n                    $scope.$on('pipWindowResized', function () {\r\n                        bindText(textGetter($scope));\r\n                    });\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-markdown');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\n    thisModule.directive('pipPopover', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: true,\r\n            templateUrl: 'popover/popover.html',\r\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\r\n                var backdropElement, content;\r\n\r\n                backdropElement = $('.pip-popover-backdrop');\r\n                backdropElement.on('click keydown scroll', backdropClick);\r\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n                $timeout(function () {\r\n                    position();\r\n                    if ($scope.params.template) {\r\n                        content = $compile($scope.params.template)($scope);\r\n                        $element.find('.pip-popover').append(content);\r\n                    }\r\n\r\n                    init();\r\n                });\r\n\r\n                $timeout(function () {\r\n                    calcHeight();\r\n                }, 200);\r\n\r\n                $scope.onPopoverClick = onPopoverClick;\r\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \r\n\r\n                $rootScope.$on('pipPopoverResize', onResize);\r\n                $(window).resize(onResize);\r\n\r\n                function init() {\r\n                    backdropElement.addClass('opened');\r\n                    $('.pip-popover-backdrop').focus();\r\n                    if ($scope.params.timeout) {\r\n                        $timeout(function () {\r\n                            closePopover();\r\n                        }, $scope.params.timeout);\r\n                    }\r\n                }\r\n\r\n                function backdropClick() {\r\n                    if ($scope.params.cancelCallback) {\r\n                        $scope.params.cancelCallback();\r\n                    }\r\n\r\n                    closePopover();\r\n                }\r\n\r\n                function closePopover() {\r\n                    backdropElement.removeClass('opened');\r\n                    $timeout(function () {\r\n                        backdropElement.remove();\r\n                    }, 100);\r\n                }\r\n\r\n                function onPopoverClick($e) {\r\n                    $e.stopPropagation();\r\n                }\r\n\r\n                function position() {\r\n                    if ($scope.params.element) {\r\n                        var element = $($scope.params.element),\r\n                            pos = element.offset(),\r\n                            width = element.width(),\r\n                            height = element.height(),\r\n                            docWidth = $(document).width(),\r\n                            docHeight = $(document).height(),\r\n                            popover = backdropElement.find('.pip-popover');\r\n\r\n                        if (pos) {\r\n                            popover\r\n                                .css('max-width', docWidth - (docWidth - pos.left))\r\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                                .css('left', pos.left - popover.width() + width / 2)\r\n                                .css('top', pos.top + height + 16);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function calcHeight() {\r\n                    if ($scope.params.calcHeight === false) { return; }\r\n\r\n                    var popover = backdropElement.find('.pip-popover'),\r\n                        title = popover.find('.pip-title'),\r\n                        footer = popover.find('.pip-footer'),\r\n                        content = popover.find('.pip-content'),\r\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n\r\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n                }\r\n\r\n                function onResize() {\r\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n                    position();\r\n                    calcHeight();\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover.Service', []);\r\n\r\n    thisModule.service('pipPopoverService',\r\n        function ($compile, $rootScope, $timeout) {\r\n            var popoverTemplate;\r\n\r\n            popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n\r\n            return {\r\n                show: onShow,\r\n                hide: onHide,\r\n                resize: onResize\r\n            };\r\n\r\n            function onShow(p) {\r\n                var element, scope, params, content;\r\n\r\n                element = $('body');\r\n                if (element.find('md-backdrop').length > 0) { return; }\r\n                onHide();\r\n                scope = $rootScope.$new();\r\n                params = p && _.isObject(p) ? p : {};\r\n                scope.params = params;\r\n                scope.locals = params.locals;\r\n                content = $compile(popoverTemplate)(scope);\r\n                element.append(content);\r\n            }\r\n\r\n            function onHide() {\r\n                var backdropElement = $('.pip-popover-backdrop');\r\n\r\n                backdropElement.removeClass('opened');\r\n                $timeout(function () {\r\n                    backdropElement.remove();\r\n                }, 100);\r\n            }\r\n\r\n            function onResize() {\r\n                $rootScope.$broadcast('pipPopoverResize');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipRoutingProgress', ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRoutingProgress', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                    showProgress: '&',\r\n                    logoUrl: '@'\r\n                },\r\n            templateUrl: 'progress/routing_progress.html',\r\n            controller: 'pipRoutingProgressController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipRoutingProgressController',\r\n        function ($scope, $element, $attrs) {\r\n            var  image = $element.children('img');          \r\n\r\n            loadProgressImage();\r\n\r\n            return;\r\n\r\n            function loadProgressImage() {\r\n                if ($scope.logoUrl) {\r\n                    image.attr('src', $scope.logoUrl);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate']);\r\n\r\n    thisModule.controller('pipToastController',\r\n        function ($scope, $mdToast, toast, $injector) {\r\n            var pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \r\n                ? $injector.get('pipErrorDetailsDialog') : null;\r\n\r\n            // if (toast.type && sounds['toast_' + toast.type]) {\r\n            //     sounds['toast_' + toast.type].play();\r\n            // }\r\n\r\n            $scope.message = toast.message;\r\n            $scope.actions = toast.actions;\r\n            $scope.toast = toast;\r\n            \r\n            if (toast.actions.length === 0) {\r\n                $scope.actionLenght = 0;\r\n            } else if (toast.actions.length === 1) {\r\n                $scope.actionLenght = toast.actions[0].toString().length;\r\n            } else {\r\n                $scope.actionLenght = null;\r\n            }\r\n\r\n            $scope.showDetails = pipErrorDetailsDialog != null;\r\n            $scope.onDetails = function () {\r\n                $mdToast.hide();\r\n\r\n                if (pipErrorDetailsDialog) {\r\n                    pipErrorDetailsDialog.show(\r\n                        {\r\n                            error: $scope.toast.error,\r\n                            ok: 'Ok'\r\n                        },\r\n                        angular.noop,\r\n                        angular.noop\r\n                    );\r\n                }\r\n            };\r\n\r\n            $scope.onAction = function (action) {\r\n                $mdToast.hide(\r\n                    {\r\n                        action: action,\r\n                        id: toast.id,\r\n                        message: toast.message\r\n                    });\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.service('pipToasts',\r\n        function ($rootScope, $mdToast) {\r\n            var\r\n                SHOW_TIMEOUT = 20000,\r\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\r\n                toasts = [],\r\n                currentToast,\r\n                sounds = {};\r\n\r\n            /** pre-load sounds for notifications */\r\n                // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\r\n                // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\r\n                // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\r\n\r\n                // Remove error toasts when page is changed\r\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\r\n            $rootScope.$on('pipSessionClosed', onClearToasts);\r\n            $rootScope.$on('pipIdentityChanged', onClearToasts);\r\n\r\n            return {\r\n                showNotification: showNotification,\r\n                showMessage: showMessage,\r\n                showError: showError,\r\n                hideAllToasts: hideAllToasts,\r\n                clearToasts: clearToasts,\r\n                removeToastsById: removeToastsById,\r\n                getToastById: getToastById\r\n            };\r\n\r\n            // Take the next from queue and show it\r\n            function showNextToast() {\r\n                var toast;\r\n\r\n                if (toasts.length > 0) {\r\n                    toast = toasts[0];\r\n                    toasts.splice(0, 1);\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            // Show toast\r\n            function showToast(toast) {\r\n                currentToast = toast;\r\n\r\n                $mdToast.show({\r\n                    templateUrl: 'toast/toast.html',\r\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: 'pipToastController',\r\n                    locals: {\r\n                        toast: currentToast,\r\n                        sounds: sounds\r\n                    }\r\n                })\r\n                    .then(\r\n                    function showToastOkResult(action) {\r\n                        if (currentToast.successCallback) {\r\n                            currentToast.successCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    },\r\n                    function showToastCancelResult(action) {\r\n                        if (currentToast.cancelCallback) {\r\n                            currentToast.cancelCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    }\r\n                );\r\n            }\r\n\r\n            function addToast(toast) {\r\n                if (currentToast && toast.type !== 'error') {\r\n                    toasts.push(toast);\r\n                } else {\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            function removeToasts(type) {\r\n                var result = [];\r\n\r\n                _.each(toasts, function (toast) {\r\n                    if (!toast.type || toast.type !== type) {\r\n                        result.push(toast);\r\n                    }\r\n                });\r\n                toasts = _.cloneDeep(result);\r\n            }\r\n\r\n            function removeToastsById(id) {\r\n                _.remove(toasts, {id: id});\r\n            }\r\n\r\n            function getToastById(id) {\r\n                return _.find(toasts, {id: id});\r\n            }\r\n\r\n            function onStateChangeSuccess() {\r\n                toasts = _.reject(toasts, function (toast) {\r\n                    return toast.type === 'error';\r\n                });\r\n\r\n                if (currentToast && currentToast.type === 'error') {\r\n                    $mdToast.cancel();\r\n                    showNextToast();\r\n                }\r\n            }\r\n\r\n            function onClearToasts() {\r\n                clearToasts();\r\n            }\r\n\r\n            // Show new notification toast at the top right\r\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\r\n                // pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'showNotification: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'showNotification: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'notification',\r\n                    message: message,\r\n                    actions: actions || ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback,\r\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\r\n                });\r\n            }\r\n\r\n            // Show new message toast at the top right\r\n            function showMessage(message, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showMessage:successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'message',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Show error toast at the bottom right after error occured\r\n            function showError(message, successCallback, cancelCallback, id, error) {\r\n                // pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showError: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    error: error,\r\n                    type: 'error',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Hide and clear all toast when user signs out\r\n            function hideAllToasts() {\r\n                $mdToast.cancel();\r\n                toasts = [];\r\n            }\r\n\r\n            // Clear toasts by type\r\n            function clearToasts(type?: any) {\r\n                if (type) {\r\n                    // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n                    removeToasts(type);\r\n                } else {\r\n                    $mdToast.cancel();\r\n                    toasts = [];\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{class}}\" pip-selected=\"currentColorIndex\" pip-enter-space-press=\"enterSpacePress($event)\">\\n' +\n    '    <li tabindex=\"-1\" ng-repeat=\"color in colors track by color\">\\n' +\n    '        <md-button  tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"selectColor($index)\" aria-label=\"color\" ng-disabled=\"disabled()\">\\n' +\n    '            <md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == currentColor ? \\'circle\\' : \\'radio-off\\' }}\">\\n' +\n    '            </md-icon>\\n' +\n    '        </md-button>\\n' +\n    '    </li>\\n' +\n    '</ul>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"params.templateUrl\" class=\\'pip-popover flex layout-column\\'\\n' +\n    '     ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\">\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<div ng-if=\"params.template\" class=\\'pip-popover\\' ng-click=\"onPopoverClick($event)\">\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\"\\n' +\n    '        ng-show=\"showProgress()\">\\n' +\n    '     <!--ng-show=\"$routing || $reset || toolInitialized\">-->\\n' +\n    '    <div class=\"loader\">\\n' +\n    '        <svg class=\"circular\" viewBox=\"25 25 50 50\">\\n' +\n    '            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\\n' +\n    '        </svg>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <img src=\"\"  height=\"40\" width=\"40\" class=\"pip-img\">\\n' +\n    '\\n' +\n    '    <md-progress-circular md-diameter=\"96\"\\n' +\n    '                          class=\"fix-ie\"></md-progress-circular>\\n' +\n    '\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\"\\n' +\n    '          ng-class=\"{\\'pip-error\\': toast.type==\\'error\\',\\n' +\n    '          \\'pip-column-toast\\': toast.type == \\'error\\' || toast.actions.length > 1 || actionLenght > 4,\\n' +\n    '          \\'pip-no-action-toast\\': actionLenght == 0}\"\\n' +\n    '          style=\"height:initial; max-height: initial; \">\\n' +\n    '\\n' +\n    '    <span class=\"flex-var pip-text\" ng-bind-html=\"message\"></span>\\n' +\n    '    <div class=\"layout-row layout-align-end-start\" class=\"pip-actions\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\">\\n' +\n    '        <md-button class=\"flex-fixed pip-toast-button\" ng-if=\"toast.type==\\'error\\' && toast.error && showDetails\" ng-click=\"onDetails()\">Details</md-button>\\n' +\n    '        <md-button class=\"flex-fixed pip-toast-button\"\\n' +\n    '                   ng-click=\"onAction(action)\"\\n' +\n    '                   ng-repeat=\"action in actions\"\\n' +\n    '                   aria-label=\"{{::action| translate}}\">\\n' +\n    '            {{::action| translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '</md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.js.map\n","/**\r\n * @file Registration of all WebUI list controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipLists', [\r\n\t    'pipTagList'\r\n    ]);\r\n    \r\n})();","/**\r\n * @file Tag list control\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n * @todo\r\n * - Improve samples in sampler app\r\n * - What's pipType and pipTypeLocal? Give better name\r\n * - Do not use ng-if, instead generate template statically\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTagList', ['pipList.Translate']);\r\n\r\n    /**\r\n     * pipTags - set of tags\r\n     * pipType - additional type tag\r\n     * pipTypeLocal - additional translated type tag\r\n     */\r\n    thisModule.directive('pipTagList',\r\n        function ($parse) {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipTags: '=',\r\n                    pipType: '=',\r\n                    pipTypeLocal: '='\r\n                },\r\n                templateUrl: 'tag_list/tag_list.html',\r\n                controller: function ($scope, $element, $attrs) {\r\n                    var tagsGetter;\r\n\r\n                    tagsGetter = $parse($attrs.pipTags);\r\n                    $element.css('display', 'block');\r\n                    // Set tags\r\n                    $scope.tags = tagsGetter($scope);\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(tagsGetter, function () {\r\n                            $scope.tags = tagsGetter($scope);\r\n                        });\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-tag-list');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/tag_list.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\"\\n' +\n    '     ng-if=\"pipType && !pipTypeLocal\">\\n' +\n    '\\n' +\n    '    <span>{{pipType.toUpperCase() | translate | uppercase}}</span>\\n' +\n    '</div>\\n' +\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\"\\n' +\n    '     ng-if=\"pipType && pipTypeLocal\">\\n' +\n    '\\n' +\n    '    <span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span>\\n' +\n    '</div>\\n' +\n    '<div class=\"pip-chip rm4\" ng-repeat=\"tag in pipTags\">\\n' +\n    '    <span>{{::tag}}</span>\\n' +\n    '</div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.js.map\n","'use strict';\r\n\r\nangular.module('pipDateTime', [\r\n    'pipDateTime.Service', 'pipDateTime.Filter'\r\n]);\r\n","'use strict';\r\n\r\nfunction formatTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";\r\n\r\n    return function (value: any, format: string): string {\r\n        return pipDateTime.formatTime(value, format);\r\n    }\r\n}\r\n\r\nfunction formatDateOptionalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, format: string): string {\r\n        return pipDateTime.formatDateOptional(value, format);\r\n    }\r\n}\r\n\r\nfunction formatLongDateFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDate(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDate(value);\r\n    }\r\n}\r\n\r\nfunction formatMonthFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any) {\r\n        return pipDateTime.formatMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongMonth(value);\r\n    }\r\n}\r\n\r\nfunction formatYearFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatYear(value);\r\n    }\r\n}\r\n\r\nfunction formatWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortTime(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongTime(value);\r\n    }\r\n}\r\n\r\nfunction formatShortDayOfWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDayOfWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDayOfWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatDateNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatDateNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatTimeNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatTimeNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatLongTimeNumberFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongTimeNumber(value);\r\n    }\r\n}\r\n\r\nfunction formatLongMonthDayFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatShortMonthDayFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortMonthDay(value);\r\n    }\r\n}\r\n\r\nfunction formatDateRangeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value1: any, value2: any): string {\r\n        return pipDateTime.formatDateRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatDateTimeRangeFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value1: any, value2: any): string {\r\n        return pipDateTime.formatDateTimeRange(value1, value2);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatShortISOWeekFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatShortISOWeek(value);\r\n    }\r\n}\r\n\r\nfunction formatISOWeekOrdinalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatISOWeekOrdinal(value);\r\n    }\r\n}\r\n\r\nfunction formatDateYFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatLongDateYFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatLongDateY(value);\r\n    }\r\n}\r\n\r\nfunction formatMillisecondsToSecondsFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.formatMillisecondsToSeconds(value);\r\n    }\r\n}\r\n\r\nfunction formatElapsedIntervalFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any, start: any): string {\r\n        return pipDateTime.formatElapsedInterval(value, start);\r\n    }\r\n}\r\n\r\nfunction getDateJSONFilter(pipDateTime: any) {\r\n    \"ngInject\";  \r\n\r\n    return function (value: any): string {\r\n        return pipDateTime.getDateJSON(value);\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipDateTime.Filter', [])\r\n    .filter('formatTime', formatTimeFilter)\r\n    .filter('formatDateOptional', formatDateOptionalFilter)\r\n    .filter('formatShortDate', formatShortDateFilter)\r\n    .filter('formatLongDate', formatLongDateFilter)\r\n    .filter('formatMonth', formatMonthFilter)\r\n    .filter('formatLongMonth', formatLongMonthFilter)\r\n    .filter('formatYear', formatYearFilter)\r\n    .filter('formatWeek', formatWeekFilter)\r\n    .filter('formatShortWeek', formatShortWeekFilter)\r\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\r\n    .filter('formatLongDateTime', formatLongDateTimeFilter)\r\n    .filter('formatShortTime', formatShortTimeFilter)\r\n    .filter('formatLongTime', formatLongTimeFilter)\r\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\r\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\r\n    .filter('formatDateNumber', formatDateNumberFilter)\r\n    .filter('formatLongDateNumber', formatLongDateNumberFilter)\r\n    .filter('formatTimeNumber', formatTimeNumberFilter)\r\n    .filter('formatLongTimeNumber', formatLongTimeNumberFilter)\r\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\r\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\r\n    .filter('formatDateRange', formatDateRangeFilter)\r\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\r\n    .filter('formatISOWeek', formatISOWeekFilter)\r\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\r\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\r\n    .filter('formatDateY', formatDateYFilter)\r\n    .filter('formatLongDateY', formatLongDateYFilter)\r\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\r\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\r\n","'use strict';\r\n\r\nexport interface IDateTimeService {\r\n    formatTime(value: any, format: string): string;\r\n    formatDateOptional(value: any, format: string): string;\r\n    formatShortDate(value: any): string;\r\n    formatLongDate(value: any): string;\r\n    formatMonth(value: any): string;\r\n    formatLongMonth(value: any): string;\r\n    formatYear(value: any): string;\r\n    formatWeek(value: any): string;\r\n    formatShortWeek(value: any): string;\r\n    formatShortDateTime(value: any): string;\r\n    formatLongDateTime(value: any): string;\r\n    formatShortTime(value: any): string;\r\n    formatLongTime(value: any): string;\r\n    formatShortDayOfWeek(value: any): string;\r\n    formatLongDayOfWeek(value: any): string;\r\n    formatDateNumber(value: any): string;\r\n    formatLongDateNumber(value: any): string;\r\n    formatTimeNumber(value: any): string;\r\n    formatLongTimeNumber(value: any): string;\r\n    formatLongMonthDay(value: any): string;\r\n    formatShortMonthDay(value: any): string;\r\n    formatDateRange(value1: any, value2: any): string;\r\n    formatDateTimeRange(value1: any, value2: any): string;\r\n    formatISOWeek(value: any): string;\r\n    formatShortISOWeek(value: any): string;\r\n    formatISOWeekOrdinal(value: any): string;\r\n    formatDateY(value: any): string;\r\n    formatLongDateY(value: any): string;\r\n    formatMillisecondsToSeconds(value: any): string;\r\n    formatElapsedInterval(value: any, start: any): string;\r\n    getDateJSON(date: any): string;\r\n    getNextStart(value: any, category: string): any;\r\n    getPrevStart(value: any, category: string): any;\r\n    getNowStart(category: string): any;\r\n    addHours(value: any, hours: number): any;\r\n    toStartDay(value: any): any;\r\n    toEndDay(value: any, offset: number): any;\r\n    toStartWeek(value: any): any;\r\n    toEndWeek(value: any, offset: number): any;\r\n    toStartMonth(value: any): any;\r\n    toEndMonth(value: any, offset: number): any;\r\n    toStartYear(value: any): any;\r\n    toEndYear(value: any, offset: number): any;\r\n\r\n}    \r\n\r\nexport interface IDateTimeProvider extends IDateTimeService, ng.IServiceProvider {\r\n\r\n}    \r\n\r\nclass DateTime implements IDateTimeService{\r\n    protected _momentRanged = new Array('year','month','week','isoweek', 'day');\r\n    protected _defaultFormat = 'LL'\r\n\r\n    private isUndefinedOrNull(value: any): boolean {\r\n        return angular.isUndefined(value) || value === null;\r\n    }\r\n\r\n    private getRange(value: string): string {\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return 'day';\r\n        }\r\n\r\n        let index = this._momentRanged.indexOf(value)\r\n\r\n        if (index < 0) {\r\n            return 'day'\r\n        } else {\r\n            return this._momentRanged[index];\r\n        }\r\n    }\r\n\r\n    private getOperationRange(value: string): string {\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return 'day';\r\n        }\r\n\r\n        let range = value == 'isoweek' ? 'week' : value,\r\n            index = this._momentRanged.indexOf(range)\r\n\r\n        if (index < 0) {\r\n            return 'day'\r\n        } else {\r\n            return this._momentRanged[index];\r\n        }\r\n    }\r\n\r\n    private formatDateTime(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            formatTpl: string;\r\n        \r\n            if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        formatTpl = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n        return date.format(formatTpl);\r\n    }\r\n\r\n    private formatDateTimeY(value: any, basicFormat: string): string {\r\n        var date: any,\r\n            nowDate: any,\r\n            formatMoment: string;\r\n        \r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }\r\n\r\n        nowDate = moment();\r\n        formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\r\n\r\n        if (nowDate.year() == date.year()) {\r\n            formatMoment = formatMoment.replace(/Y/g,'').replace(/^\\W|\\W$|\\W\\W/,'');\r\n        }\r\n\r\n        return date.format(formatMoment);\r\n    }\r\n\r\n        private formatDay(value: any, basicFormat: string): string {\r\n            var date: any,\r\n                format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\r\n                formatMonthYearless = format.replace(/Y/g,'').replace(/^\\W|\\W$|\\W\\W/,'').replace(/M/g,'');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n\r\n            return date.format(formatMonthYearless);\r\n        }\r\n\r\n        private formatMonthDay(value: any, basicFormat: string): string {\r\n            var date: any,\r\n                format = basicFormat ? basicFormat : this._defaultFormat,\r\n                formatLL = moment.localeData().longDateFormat(format),\r\n                formatYearlessLL = formatLL.replace(/Y/g,'').replace(/^\\W|\\W$|\\W\\W/,'');\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n\r\n            return date.format(formatYearlessLL);\r\n        }\r\n\r\n        private formatRange(value1: any, value2: any, basicFormat: string): string {\r\n            var dateStart: any, \r\n                dateEnd: any,\r\n                format = basicFormat ? basicFormat : this._defaultFormat;\r\n\r\n            if (this.isUndefinedOrNull(value1)) { \r\n                dateStart = null;\r\n            } else { \r\n                dateStart = moment(value1);\r\n            }\r\n            if (this.isUndefinedOrNull(value2)) {\r\n                dateEnd = null;\r\n            } else { \r\n                dateEnd = moment(value2);\r\n            }\r\n\r\n            if (dateStart === null && dateEnd === null) return '';\r\n\r\n            if  (dateStart === null) {\r\n                return dateEnd.format(basicFormat);\r\n            } else if (dateEnd === null || dateStart.isSame(dateEnd)) {\r\n                return dateStart.format(basicFormat);;\r\n            }\r\n\r\n            if (dateStart.isAfter(dateEnd)) {\r\n                // todo localization\r\n                throw new Error('Date range error. Start date is more than end date.');\r\n            }\r\n\r\n            if (dateStart.year() == dateEnd.year()) {\r\n                if (dateStart.month() == dateEnd.month()) {\r\n                    return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n                } else {\r\n                    return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\r\n                }\r\n            } else {\r\n                return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\r\n            }                \r\n        }\r\n\r\n    private toStartRange(value: any, range: string): any {\r\n        var date: any;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }       \r\n\r\n        return date.startOf(range).toDate();    \r\n    }\r\n\r\n    private toEndRange(value: any, range: string, offset: number): any {\r\n        var date: any, \r\n            result: any,\r\n            mssOffset: number;\r\n\r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n\r\n        if (!angular.isNumber(offset)) {\r\n            mssOffset = 0;\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid()) {\r\n            return '';\r\n        }       \r\n\r\n        if (mssOffset) {\r\n            result = date.startOf(range).add(mssOffset, 'milliseconds');\r\n        } else {\r\n            result = date.startOf(range);\r\n        }\r\n\r\n        return date.startOf(range).toDate();    \r\n    }\r\n\r\n    public constructor() {};        \r\n\r\n    // formating functions \r\n    // -------------------\r\n\r\n    // todo Optional\r\n    public formatTime(value: any, format: string): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n    // todo Optional\r\n    public formatDateOptional(value: any, format: string): string {\r\n        return this.formatDateTime(value, 'L');\r\n    }\r\n    \r\n    public formatShortDate(value: any): string {\r\n        return this.formatDateTime(value, 'L');\r\n    }\r\n\r\n    public formatLongDate(value: any): string {\r\n        return this.formatDateTime(value, 'LL');\r\n    }\r\n\r\n    public formatMonth(value: any): string {\r\n        return this.formatDateTime(value, 'MM');\r\n    }\r\n\r\n    public formatLongMonth(value: any): string {\r\n        return this.formatDateTime(value, 'MMMM');\r\n    }\r\n\r\n    public formatYear(value: any): string {\r\n        return this.formatDateTime(value, 'YYYY');\r\n    }\r\n\r\n    public formatWeek(value: any): string {\r\n        return this.formatDateTime(value, 'ww');\r\n    }\r\n\r\n    public formatShortWeek(value: any): string {\r\n        return this.formatDateTime(value, 'w');\r\n    }\r\n\r\n    public formatShortDateTime(value: any): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n\r\n    public formatLongDateTime(value: any): string {\r\n        return this.formatDateTime(value, 'LLLL');\r\n    }\r\n\r\n    public formatShortTime(value: any): string {\r\n        return this.formatDateTime(value, 'LT');\r\n    }\r\n\r\n    public formatLongTime(value: any): string {\r\n        return this.formatDateTime(value, 'LTS');\r\n    }\r\n\r\n    public formatShortDayOfWeek(value: any): string {\r\n        return this.formatDateTime(value, 'dd');\r\n    }\r\n\r\n    public formatLongDayOfWeek(value: any): string {\r\n        return this.formatDateTime(value, 'dddd');\r\n    }\r\n\r\n    // numeric month writing formats\r\n    // --------------\r\n\r\n    // numeric month writing \r\n    public formatDateNumber(value: any): string {\r\n        return this.formatDateTime(value, 'l');\r\n    }\r\n    // numeric month writing \r\n    public formatLongDateNumber(value: any): string {\r\n        return this.formatDateTime(value, 'll');\r\n    }  \r\n\r\n    public formatTimeNumber(value: any): string {\r\n        return this.formatDateTime(value, 'LLL');\r\n    }\r\n\r\n    public formatLongTimeNumber(value: any): string {\r\n        return this.formatDateTime(value, 'LLLL');\r\n    }\r\n\r\n    public formatLongMonthDay(value: any): string {\r\n        return this.formatMonthDay(value, 'LL');\r\n    }\r\n\r\n    public formatShortMonthDay(value: any): string {\r\n        return this.formatMonthDay(value, 'L');        \r\n    }  \r\n\r\n    public formatDateRange(value1: any, value2: any): string {\r\n        return this.formatRange(value1, value2, 'LL');\r\n    } \r\n\r\n    public formatDateTimeRange(value1: any, value2: any): string {\r\n        return this.formatRange(value1, value2, 'LLL');\r\n    }    \r\n\r\n    // iso function\r\n    // --------------\r\n\r\n    public formatISOWeek(value: any): string {\r\n        return this.formatDateTime(value, 'WW');\r\n    }\r\n\r\n    public formatShortISOWeek(value: any): string {\r\n        return this.formatDateTime(value, 'W');\r\n    }\r\n\r\n    public formatISOWeekOrdinal(value: any): string {\r\n        return this.formatDateTime(value, 'Wo');\r\n    }        \r\n    // special formats \r\n    // --------------\r\n\r\n    // year option displays if the current year is not equal to, the date of \r\n    public formatDateY(value: any): string {\r\n        return this.formatDateTimeY(value, 'L');\r\n    }\r\n\r\n    // year option displays if the current year is not equal to, the date of\r\n    public formatLongDateY(value: any): string {\r\n        return this.formatDateTimeY(value, 'LL');\r\n    }\r\n\r\n    // todo\r\n    public formatMillisecondsToSeconds(value: any): string {\r\n        return '';\r\n    }\r\n\r\n    // todo\r\n    public formatElapsedInterval(value: any, start: any): string {\r\n        var date: any, \r\n            nowDate: any;\r\n        \r\n        if (this.isUndefinedOrNull(value)) {\r\n            return '';\r\n        }\r\n        if (this.isUndefinedOrNull(start)) {\r\n            nowDate = moment();\r\n        } else {\r\n            nowDate = moment(start);\r\n        }\r\n\r\n        date = moment(value);\r\n        if (!date.isValid() || !nowDate.isValid()) {\r\n            return '';\r\n        }\r\n\r\n            return moment(date).fromNow(nowDate);           \r\n    }\r\n\r\n    public getDateJSON(date: any): string {\r\n        return JSON.stringify(moment(date));                \r\n    }\r\n\r\n    // navigation functions \r\n    // ------------------\r\n\r\n    public getNextStart(value: any, category: string): any {\r\n            var date: any, \r\n                range: string, \r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(category);\r\n            result = moment(date).startOf(range).add(this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public getPrevStart(value: any, category: string): any {\r\n            var date: any, \r\n                range: string, \r\n                result: any;\r\n\r\n            if (this.isUndefinedOrNull(value)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(category);\r\n            result = moment(date).startOf(range).add(-1, this.getOperationRange(range));\r\n\r\n            return result.toDate();\r\n        }\r\n\r\n        public getNowStart(category: string): any {\r\n            var date: any, \r\n                range: string, \r\n                result: any;\r\n\r\n            date = moment();\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            range = this.getRange(category) \r\n            result = moment(date).startOf(range);\r\n\r\n            return result.toDate();\r\n        }  \r\n\r\n        public addHours(value: any, hours: number): any {\r\n            var date: any;\r\n\r\n            if (this.isUndefinedOrNull(value) || !angular.isNumber(hours)) {\r\n                return '';\r\n            }\r\n\r\n            date = moment(value);\r\n            if (!date.isValid()) {\r\n                return '';\r\n            }\r\n\r\n            return date.add(hours, 'hours').toDate();\r\n        }  \r\n\r\n        public toStartDay(value: any): any {\r\n            return this.toStartRange(value, 'day');\r\n        }  \r\n\r\n        public toEndDay(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'day', offset);\r\n        }  \r\n\r\n        public toStartWeek(value: any): any {\r\n            return this.toStartRange(value, 'week');\r\n        }  \r\n\r\n        public toEndWeek(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'week', offset);\r\n        }  \r\n\r\n        public toStartMonth(value: any): any {\r\n            return this.toStartRange(value, 'month');\r\n        }  \r\n\r\n        public toEndMonth(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'month', offset);\r\n        }  \r\n\r\n        public toStartYear(value: any): any {\r\n            return this.toStartRange(value, 'year');\r\n        }  \r\n\r\n        public toEndYear(value: any, offset: number): any {\r\n            return this.toEndRange(value, 'year', offset);\r\n        }  \r\n\r\n}\r\n\r\nclass DateTimeService {\r\n    private _datetime: DateTime;\r\n\r\n    public constructor(\r\n        datetime: DateTime,\r\n    ) {\r\n        this._datetime = datetime;\r\n    }\r\n\r\n    // todo Optional\r\n    public formatTime(value: any, format: string): string {\r\n        return this._datetime.formatTime(value, format);\r\n    }\r\n    // todo Optional\r\n    public formatDateOptional(value: any, format: string): string {\r\n        return this._datetime.formatDateOptional(value, format);\r\n    }\r\n\r\n    public formatShortDate(value: any): string {\r\n        return this._datetime.formatShortDate(value);\r\n    }\r\n\r\n    public formatLongDate(value: any): string {\r\n        return this._datetime.formatLongDate(value);\r\n    }\r\n\r\n    public formatMonth(value: any): string {\r\n        return this._datetime.formatMonth(value);\r\n    }\r\n\r\n    public formatLongMonth(value: any): string {\r\n        return this._datetime.formatLongMonth(value);\r\n    }\r\n\r\n    public formatYear(value: any): string {\r\n        return this._datetime.formatYear(value);\r\n    }\r\n\r\n    public formatWeek(value: any): string {\r\n        return this._datetime.formatWeek(value);\r\n    }\r\n\r\n    public formatShortWeek(value: any): string {\r\n        return this._datetime.formatShortWeek(value);\r\n    }\r\n\r\n    public formatShortDateTime(value: any): string {\r\n        return this._datetime.formatShortDateTime(value);\r\n    }\r\n\r\n    public formatLongDateTime(value: any): string {\r\n        return this._datetime.formatLongDateTime(value);\r\n    }\r\n\r\n    public formatShortTime(value: any): string {\r\n        return this._datetime.formatShortTime(value);\r\n    }\r\n\r\n    public formatLongTime(value: any): string {\r\n        return this._datetime.formatLongTime(value);\r\n    }\r\n\r\n    public formatShortDayOfWeek(value: any): string {\r\n        return this._datetime.formatShortDayOfWeek(value);\r\n    }\r\n\r\n    public formatLongDayOfWeek(value: any): string {\r\n        return this._datetime.formatLongDayOfWeek(value);\r\n    }\r\n\r\n    // numeric month writing formats\r\n    // --------------\r\n\r\n    // numeric month writing \r\n    public formatDateNumber(value: any): string {\r\n        return this._datetime.formatDateNumber(value);\r\n    }\r\n    // numeric month writing \r\n    public formatLongDateNumber(value: any): string {\r\n        return this._datetime.formatLongDateNumber(value);\r\n    }  \r\n\r\n    public formatTimeNumber(value: any): string {\r\n        return this._datetime.formatTimeNumber(value);\r\n    }\r\n\r\n    public formatLongTimeNumber(value: any): string {\r\n        return this._datetime.formatLongTimeNumber(value);\r\n    }\r\n\r\n    public formatLongMonthDay(value: any): string {\r\n        return this._datetime.formatLongMonthDay(value);\r\n    }\r\n\r\n    public formatShortMonthDay(value: any): string {\r\n        return this._datetime.formatShortMonthDay(value);        \r\n    }  \r\n\r\n    public formatDateRange(value1: any, value2: any): string {\r\n        return this._datetime.formatDateRange(value1, value2);\r\n    } \r\n\r\n    public formatDateTimeRange(value1: any, value2: any): string {\r\n        return this._datetime.formatDateTimeRange(value1, value2);\r\n    }    \r\n\r\n    // iso function\r\n    // --------------\r\n\r\n    public formatISOWeek(value: any): string {\r\n        return this._datetime.formatISOWeek(value);\r\n    }\r\n\r\n    public formatShortISOWeek(value: any): string {\r\n        return this._datetime.formatShortISOWeek(value);\r\n    }\r\n\r\n    public formatISOWeekOrdinal(value: any): string {\r\n        return this._datetime.formatISOWeekOrdinal(value);\r\n    }        \r\n    // special formats \r\n    // --------------\r\n\r\n    // year option displays if the current year is not equal to, the date of \r\n    public formatDateY(value: any): string {\r\n        return this._datetime.formatDateY(value);\r\n    }\r\n\r\n    // year option displays if the current year is not equal to, the date of\r\n    public formatLongDateY(value: any): string {\r\n        return this._datetime.formatLongDateY(value);\r\n    }\r\n\r\n    // todo\r\n    public formatMillisecondsToSeconds(value: any) {\r\n        return this._datetime.formatMillisecondsToSeconds(value);\r\n    }\r\n\r\n    // todo\r\n    public formatElapsedInterval(value: any, start: any): string {\r\n        return this._datetime.formatElapsedInterval(value, start);         \r\n    }\r\n\r\n    public getDateJSON(date: any): string {\r\n        return this._datetime.getDateJSON(date);                \r\n    }\r\n\r\n    // navigation functions \r\n    // ------------------\r\n\r\n    public getNextStart(value: any, category: string): any {\r\n        return this._datetime.getNextStart(value, category);\r\n    }\r\n\r\n    public getPrevStart(value: any, category: string): any {\r\n        return this._datetime.getPrevStart(value, category);\r\n    }\r\n\r\n    public getNowStart(category: string): any {\r\n        return this._datetime.getNowStart(category);\r\n    }\r\n\r\n    public addHours(value: any, hours: number): any {\r\n        return this._datetime.addHours(value, hours);\r\n    } \r\n\r\n    public toStartDay(value: any): any {\r\n        return this._datetime.toStartDay(value);\r\n    } \r\n\r\n    public toEndDay(value: any, offset: number): any {\r\n        return this._datetime.toEndDay(value, offset);\r\n    } \r\n\r\n    public toStartWeek(value: any): any {\r\n        return this._datetime.toStartWeek(value);\r\n    } \r\n\r\n    public toEndWeek(value: any, offset: number): any {\r\n        return this._datetime.toEndWeek(value, offset);\r\n    } \r\n\r\n    public toStartMonth(value: any): any {\r\n        return this._datetime.toStartMonth(value);\r\n    } \r\n\r\n    public toEndMonth(value: any, offset: number): any {\r\n        return this._datetime.toEndMonth(value, offset);\r\n    } \r\n\r\n    public toStartYear(value: any): any {\r\n        return this._datetime.toStartYear(value);\r\n    } \r\n\r\n    public toEndYear(value: any, offset: number): any {\r\n        return this._datetime.toEndYear(value, offset);\r\n    }  \r\n\r\n}\r\n\r\nclass DateTimeProvider extends DateTime implements IDateTimeProvider {\r\n    private _translation: DateTime;\r\n    private _service: DateTimeService;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public $get(): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) \r\n            this._service = new DateTimeService(this);\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipDateTime.Service', [])\r\n    .provider('pipDateTime', DateTimeProvider);\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDate', ['pipDates.Templates']);\r\n\r\n    thisModule.directive('pipDate',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    ngChange: '&'\r\n                },\r\n                templateUrl: 'date_directive/date.html',\r\n                controller: 'pipDateController'\r\n            };\r\n        }\r\n    );\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipDateController',\r\n        function ($scope, $element, $injector) { //pipTranslate\r\n            var value,\r\n                localeDate: any = moment.localeData(),\r\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\r\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\r\n                momentShortDays = localeDate._weekdaysMin,\r\n                momentFirstDayOfWeek = localeDate._week.dow;\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    DAY: 'Day',\r\n                    MONTH: 'Month',\r\n                    YEAR: 'Year'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    DAY: '',\r\n                    MONTH: '',\r\n                    YEAR: ''                    \r\n                });\r\n                $scope.dayLabel = pipTranslate.translate('DAY');\r\n                $scope.monthLabel = pipTranslate.translate('MONTH');\r\n                $scope.yearLabel = pipTranslate.translate('YEAR');\r\n            } else {\r\n                $scope.dayLabel = 'Day';\r\n                $scope.monthLabel = 'Month';                \r\n                $scope.yearLabel = 'Year';\r\n\r\n            }\r\n\r\n            function dayList(month, year) {\r\n                var count = 31, days = [], i;\r\n\r\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                    count = 30;\r\n                } else if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n\r\n                for (i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n                }\r\n\r\n                return days;\r\n            }\r\n\r\n            function monthList() {\r\n                var months = [], i;\r\n\r\n                for (i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: momentMonths[i-1]\r\n                    });\r\n                }\r\n\r\n                return months;\r\n            }\r\n\r\n            function yearList() {\r\n                var i,\r\n                    currentYear = new Date().getFullYear(),\r\n                    startYear = $scope.timeMode === 'future' ? currentYear : currentYear - 100,\r\n                    endYear = $scope.timeMode === 'past' ? currentYear : currentYear + 100,\r\n                    years = [];\r\n\r\n                if ($scope.timeMode === 'past') {\r\n                    for (i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n\r\n                return years;\r\n            }\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                if ($scope.days.length !== days.length) {\r\n                    if ($scope.day > days.length) {\r\n                        $scope.day = days.length;\r\n                    }\r\n\r\n                    $scope.days = days;\r\n                }\r\n            }\r\n\r\n            function getValue(v) {\r\n                var value = v ? _.isDate(v) ? v : new Date(v) : null,\r\n                    day = value ? value.getDate() : null,\r\n                    month = value ? value.getMonth() + 1 : null,\r\n                    year = value ? value.getFullYear() : null;\r\n\r\n                // Update day list if month and year were changed\r\n                if ($scope.month !== month && $scope.year !== year) {\r\n                    $scope.days = dayList($scope.month, $scope.year);\r\n                }\r\n\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n            }\r\n\r\n            function setValue() {\r\n                var value;\r\n\r\n                if ($scope.day && $scope.month && $scope.year) {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    $scope.model = value;\r\n                    $scope.ngChange();\r\n                }\r\n            }\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                adjustDay();\r\n                setValue();\r\n            };\r\n\r\n            // Set initial values\r\n            value = $scope.model ? _.isDate($scope.model) ? $scope.model : new Date($scope.model) : null;\r\n            $scope.day = value ? value.getDate() : null;\r\n            $scope.month = value ? value.getMonth() + 1 : null;\r\n            $scope.year = value ? value.getFullYear() : null;\r\n\r\n\r\n\r\n            $scope.days = dayList($scope.month, $scope.year);\r\n            $scope.months = monthList();\r\n            $scope.years = yearList();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue) {\r\n                getValue(newValue);\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipDateRange', ['pipDates.Templates']);\r\n\r\n    thisModule.directive('pipDateRange',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    timeMode: '@pipTimeMode',\r\n                    disabled: '&ngDisabled',\r\n                    model: '=ngModel',\r\n                    pipChanged: '&',\r\n                    pipDateRangeType: '@',\r\n                    pipDateFormat: '@',\r\n                    pipNoLine: '@'\r\n                },\r\n                templateUrl: 'date_range_directive/date_range.html',\r\n                controller: 'pipDateRangeController'\r\n            };\r\n        });\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipDateRangeController',\r\n        function ($scope, $element, $mdMedia, $rootScope, $injector) { //pipTranslate, \r\n            var currentDate,\r\n                currentYear,\r\n                currentMonth,\r\n                currentDay,\r\n                prevState: any = {}, \r\n                currentState: any = {},\r\n                localeDate: any = moment.localeData(),\r\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\r\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\r\n                momentShortDays = localeDate._weekdaysMin,\r\n                momentFirstDayOfWeek = localeDate._week.dow;\r\n\r\n            // var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            // if (pipTranslate) {\r\n            //     pipTranslate.setTranslations('en', {\r\n            //         EVENT_NEW_START_TIME: 'Start time',\r\n            //         EVENT_NEW_END_TIME: 'End time'\r\n            //     });\r\n            //     pipTranslate.setTranslations('ru', {\r\n            //         EVENT_NEW_START_TIME: '',\r\n            //         EVENT_NEW_END_TIME: ''                \r\n            //     });\r\n            //     $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\r\n            //             : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n            //     $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\r\n            //             : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            // } else {\r\n            //     $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\r\n            //     $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \r\n            // }\r\n\r\n            currentDate = new Date();\r\n            currentYear = currentDate.getUTCFullYear();\r\n            currentMonth = currentDate.getUTCMonth() + 1;\r\n            currentDay = currentDate.getUTCDate();\r\n\r\n            $scope.onDayChanged = function () {\r\n                setValue();\r\n            };\r\n\r\n            $scope.onMonthChanged = function () {\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    var date, dayOfWeek;\r\n\r\n                    date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                    dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onYearChanged = function () {\r\n                var date, dayOfWeek;\r\n\r\n                date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            $scope.onWeekChange = function () {\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    adjustWeek();\r\n                    correctWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            };\r\n\r\n            // visibility\r\n            $scope.isDay = function () {\r\n                return $scope.pipDateRangeType === 'daily';\r\n            };\r\n\r\n            $scope.isWeek = function () {\r\n                return $scope.pipDateRangeType === 'weekly';\r\n            };\r\n\r\n            $scope.isMonth = function () {\r\n                return $scope.pipDateRangeType === 'daily' ||\r\n                    $scope.pipDateRangeType === 'weekly' ||\r\n                    $scope.pipDateRangeType === 'monthly';\r\n            };\r\n\r\n            $scope.onChange = function () {\r\n                if ($scope.pipChanged) {\r\n                    $scope.pipChanged();\r\n                }\r\n            };\r\n\r\n            function setCurrent() {\r\n                currentState.day = $scope.day;\r\n                currentState.month = $scope.month;\r\n                currentState.year = $scope.year;\r\n                currentState.week = $scope.week;\r\n                currentState.dateRangeType = $scope.pipDateRangeType;\r\n                currentState.model = $scope.model;\r\n            }\r\n\r\n            function fillLists() {\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n                $scope.months = monthList();\r\n                $scope.shortMonths = monthList();\r\n                $scope.years = yearList();\r\n\r\n            }\r\n\r\n            function correctWeek() {\r\n                if (!prevState.model || prevState.model && prevState.model.getTime() >= $scope.model.getTime()) {\r\n                    // if shift week -> increase month\r\n                    if ($scope.weeks && $scope.weeks[$scope.week] && $scope.weeks[$scope.week].id <= 0) {\r\n                        if ($scope.month < 12) {\r\n                            $scope.month += 1;\r\n                        } else {\r\n                            $scope.month = 1;\r\n                            $scope.year += 1;\r\n                        }\r\n                        fillLists();\r\n                    }\r\n                }\r\n            }\r\n\r\n            function init() {\r\n                var value;\r\n\r\n                value = $scope.model ? new Date($scope.model) : null;\r\n                $scope.day = value ? value.getUTCDate() : null;\r\n                $scope.month = value ? value.getUTCMonth() + 1 : null;\r\n                $scope.year = value ? value.getUTCFullYear() : null;\r\n                $scope.week = value ? getWeekByDate($scope.day, $scope.month - 1, $scope.year) : null;\r\n\r\n                fillLists();\r\n\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    correctWeek();\r\n                    adjustWeek();\r\n                } else {\r\n                    adjustDay();\r\n                }\r\n                setValue();\r\n            }\r\n\r\n            // Set initial values\r\n            $scope.$mdMedia = $mdMedia;\r\n\r\n            init();\r\n\r\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\r\n\r\n            // React on changes\r\n            $scope.$watch('model', function (newValue, oldValue) {\r\n                if (newValue !== oldValue) {\r\n                    getValue(newValue);\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            $scope.$watch('pipDateRangeType', function (newValue, oldValue) {\r\n                if (newValue !== oldValue && oldValue) {\r\n                    init();\r\n                }\r\n            });\r\n\r\n            $scope.onYearClick = function () {\r\n                if (!$scope.year) {\r\n                    $scope.year = currentYear;\r\n                }\r\n            };\r\n\r\n            $scope.onMonthClick = function () {\r\n                if (!$scope.month) {\r\n                    $scope.month = currentMonth;\r\n                }\r\n            };\r\n\r\n            $scope.onDayClick = function () {\r\n                if (!$scope.year) {\r\n                    $scope.day = currentDay;\r\n                }\r\n            };\r\n            // ---------------------------------------------------------------------------------------\r\n\r\n            function getCountDay(month, year) {\r\n                var count = 31;\r\n\r\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n                    count = 30;\r\n                } else if (month === 2) {\r\n                    if (year) {\r\n                        // Calculate leap year (primitive)\r\n                        count = year % 4 === 0 ? 29 : 28;\r\n                    } else {\r\n                        count = 28;\r\n                    }\r\n                }\r\n\r\n                return count;\r\n            }\r\n\r\n            function dayList(month, year) {\r\n                var count, days, i, ln;\r\n\r\n              //  ln = $rootScope.$language || 'en';\r\n                count = getCountDay(month, year);\r\n                $scope.nameDays = [];\r\n                days = [];\r\n                for (i = 1; i <= count; i++) {\r\n                    days.push(i);\r\n                    $scope.nameDays.push(momentShortDays[moment([year, month - 1, i]).weekday()]);\r\n                }\r\n\r\n                return days;\r\n            }\r\n\r\n            function getWeekByDate(day, month, year) {\r\n                var date, dayOfWeek, startWeek;\r\n\r\n                date = new Date(Date.UTC(year, month, day));\r\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\r\n\r\n                if (dayOfWeek === 1) {\r\n                    startWeek = day;\r\n                } else {\r\n                    startWeek = day + 1 - dayOfWeek;\r\n                }\r\n\r\n                return startWeek;\r\n            }\r\n\r\n            function getWeek(day, countDay, countPrevMonthDay) {\r\n                var endDay, startDay;\r\n\r\n                endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\r\n                startDay = day > 0 ? day : countPrevMonthDay + day;\r\n\r\n                return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\r\n            }\r\n\r\n            function weekList(month, year) { //    \r\n                var weeks, countDay, countPrevMonthDay, startWeek;\r\n\r\n                weeks = [];  //        \r\n                countDay = getCountDay(month, year);\r\n                startWeek = getWeekByDate(1, month - 1, year);\r\n\r\n                countPrevMonthDay = month - 1 ? getCountDay(month - 1, year) : getCountDay(12, year - 1);\r\n                while (startWeek < countDay + 1) {\r\n                    weeks.push({\r\n                        id: startWeek,\r\n                        name: getWeek(startWeek, countDay, countPrevMonthDay)\r\n                    });\r\n                    startWeek = startWeek + 7;\r\n                }\r\n\r\n                return weeks;\r\n            }\r\n\r\n            function monthList() {\r\n                var months = [], i;\r\n\r\n                for (i = 1; i <= 12; i++) {\r\n                    months.push({\r\n                        id: i,\r\n                        name: momentMonths[i-1]\r\n                    });\r\n                }\r\n\r\n                return months;\r\n            }\r\n\r\n            function yearList() {\r\n                var startYear, i,\r\n                    endYear,\r\n                    years = [];\r\n\r\n                switch ($scope.timeMode) {\r\n                    case 'future':\r\n                        startYear = currentYear;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    case 'past':\r\n                        startYear = currentYear - 100;\r\n                        endYear = currentYear;\r\n                        break;\r\n                    case 'now':\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 100;\r\n                        break;\r\n                    default:\r\n                        startYear = currentYear - 50;\r\n                        endYear = currentYear + 50;\r\n                        break;\r\n                }\r\n                if ($scope.timeMode === 'future') {\r\n                    for (i = startYear; i <= endYear; i++) {\r\n                        years.push(i);\r\n                    }\r\n                } else {\r\n                    for (i = endYear; i >= startYear; i--) {\r\n                        years.push(i);\r\n                    }\r\n                }\r\n\r\n                return years;\r\n            }\r\n\r\n            function adjustDay() {\r\n                var days = dayList($scope.month, $scope.year);\r\n\r\n                switch ($scope.pipDateRangeType) {\r\n                    case 'monthly':\r\n                        $scope.day = 1;\r\n                        break;\r\n                    case 'yearly':\r\n                        $scope.month = 1;\r\n                        $scope.day = 1;\r\n                        break;\r\n                    default:\r\n                        if ($scope.days.length !== days.length) {\r\n                            if ($scope.day > days.length) {\r\n                                $scope.day = days.length;\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n                $scope.days = days;\r\n            }\r\n\r\n            function adjustWeek() {\r\n                var weeks;\r\n\r\n                weeks = weekList($scope.month, $scope.year);\r\n                $scope.week = getWeekByDate($scope.week, $scope.month - 1, $scope.year);\r\n                $scope.weeks = weeks;\r\n            }\r\n\r\n            function getValue(v) {\r\n                var value, day, month, year, week;\r\n\r\n                value = v ? new Date(v) : null;\r\n                // Define values\r\n                day = value ? value.getUTCDate() : null;\r\n                month = value ? value.getUTCMonth() + 1 : null;\r\n                year = value ? value.getUTCFullYear() : null;\r\n                week = value ? getWeekByDate(day, month - 1, year) : null;\r\n                // Exit if nothing to update\r\n                if ($scope.day === day && $scope.month === month && $scope.year === year && $scope.week === week) {\r\n                    return;\r\n                }\r\n                // Assign values to scope\r\n                $scope.day = day;\r\n                $scope.month = month;\r\n                $scope.year = year;\r\n                $scope.week = week;\r\n\r\n                // Define data sources\r\n                $scope.days = dayList($scope.month, $scope.year);\r\n                $scope.weeks = weekList($scope.month, $scope.year);\r\n            }\r\n\r\n            function setValue() {\r\n                var value;\r\n\r\n                if ($scope.pipDateRangeType === 'weekly') {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.week, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                } else {\r\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\r\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\r\n                    $scope.model = value;\r\n                }\r\n\r\n                prevState = _.cloneDeep(currentState);\r\n                setCurrent();\r\n                $scope.onChange();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","'use strict';\r\n\r\nangular.module('pipDates', [\r\n    'pipDate',\r\n    'pipTimeRange',\r\n    'pipDateTime',\r\n    'pipTimeRangeEdit',\r\n    'pipDateRange',\r\n    'pipDates.Translate'\r\n]);\r\n","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDates.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTimeRange', []);\r\n\r\n    thisModule.directive('pipTimeRange',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipEndDate: '='\r\n                },\r\n                templateUrl: 'time_range_directive/time_range.html',\r\n                link: function ($scope: any, $element, $attrs) {\r\n\r\n                    function getDateJSON(value) {\r\n                        return value ? new Date(value) : null;\r\n                    }\r\n\r\n                    function defineStartDate() {\r\n                        if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\r\n                            $scope.data.start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate\r\n                                : getDateJSON($scope.pipStartDate);\r\n                        }\r\n                    }\r\n\r\n                    function defineEndDate() {\r\n                        if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\r\n                            $scope.data.end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate\r\n                                : getDateJSON($scope.pipEndDate);\r\n                        }\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    $scope.data = {};\r\n                    $scope.data.start = null;\r\n                    $scope.data.end = null;\r\n                    defineStartDate();\r\n                    defineEndDate();\r\n\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch('pipStartDate',\r\n                            function () {\r\n                                $scope.data.start = null;\r\n                                defineStartDate();\r\n                            }\r\n                        );\r\n                        $scope.$watch('pipEndDate',\r\n                            function () {\r\n                                $scope.data.end = null;\r\n                                defineEndDate();\r\n                            }\r\n                        );\r\n                    }\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-time-range');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTimeRangeEdit', []);\r\n\r\n    thisModule.directive('pipTimeRangeEdit',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    pipStartDate: '=',\r\n                    pipChanged: '&',\r\n                    pipEndDate: '=',\r\n                    pipStartLabel: '@',\r\n                    pipEndLabel: '@',\r\n                    disabled: '&ngDisabled',\r\n                    pipSize: '='\r\n                },\r\n                templateUrl: 'time_range_edit_directive/time_range_edit.html',\r\n                controller: 'pipTimeRangeEditController'\r\n            };\r\n        }\r\n    );\r\n\r\n    // Todo: Remove dependency on Translate. Use moment localization\r\n    thisModule.controller('pipTimeRangeEditController',\r\n        function ($scope, $element, $attrs, $injector, pipDateTime) { //pipTranslate\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.setTranslations('en', {\r\n                    EVENT_NEW_START_TIME: 'Start time',\r\n                    EVENT_NEW_END_TIME: 'End time'\r\n                });\r\n                pipTranslate.setTranslations('ru', {\r\n                    EVENT_NEW_START_TIME: '',\r\n                    EVENT_NEW_END_TIME: ''                \r\n                });\r\n                $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\r\n                        : pipTranslate.translate('EVENT_NEW_START_TIME');\r\n                $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\r\n                        : pipTranslate.translate('EVENT_NEW_END_TIME');\r\n            } else {\r\n                $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\r\n                $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \r\n            }\r\n\r\n            function getDateJSON(value) {\r\n                return value ? new Date(value) : null;\r\n            }\r\n\r\n            function setDuration() {\r\n                var start, end;\r\n\r\n                if (!$scope.data.startDate || !$scope.data.endDate) {\r\n                    return null;\r\n                }\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n\r\n                return end - start;\r\n            }\r\n\r\n            function validateStartDate() {\r\n                var date, start, end;\r\n\r\n                //     ,   \r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                // c     -  \r\n                if (!$scope.data.startTime) {\r\n                    if (!$scope.data.endTime) {\r\n                        date = new Date();\r\n                        date = date.getTime() - pipDateTime.toStartDay(date);\r\n                        $scope.data.startTime = Math.floor(date / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.startTime = $scope.data.endTime === 0 ? 0 : $scope.data.endTime - 30;\r\n                    }\r\n                }\r\n\r\n                //     ,   \r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n\r\n                //   ,   .       \r\n                if ($scope.data.duration) {\r\n                    end = new Date(start.getTime() + $scope.data.duration);\r\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\r\n                    end = end.getTime() - $scope.data.endDate.getTime();\r\n                    $scope.data.endTime = Math.floor(end / (30 * 60 * 1000)) * 30;\r\n                } else {\r\n                    //     \r\n                    end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n                    if (start >= end) {\r\n                        //    ,    \r\n                        $scope.data.endDate = pipDateTime.toStartDay(new Date(start.getTime() + 30 * 60000));\r\n                        $scope.data.endTime = ($scope.data.startTime + 30) % 1440;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function validateEndDate() {\r\n                var date, start, end;\r\n\r\n                //     ,   \r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                // c     -  \r\n                if (!$scope.data.endTime) {\r\n                    if (!$scope.data.startTime) {\r\n                        date = new Date();\r\n                        date = date.getTime() - pipDateTime.toStartDay(date);\r\n                        $scope.data.endTime = Math.floor(date / (30 * 60 * 1000)) * 30;\r\n                    } else {\r\n                        $scope.data.endTime = $scope.data.startTime === 1410 ? 1410 : $scope.data.startTime + 30;\r\n                    }\r\n                }\r\n\r\n                //  y   ,   \r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startTime = null;\r\n\r\n                    return;\r\n                }\r\n\r\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\r\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\r\n\r\n                if (start >= end) {\r\n                    //    ,    \r\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date(end.getTime() - 30 * 60000));\r\n                    $scope.data.startTime = $scope.data.endTime % 1440 === 0 ? 1410 : $scope.data.endTime - 30;\r\n                }\r\n\r\n                $scope.data.duration = setDuration();\r\n            }\r\n\r\n            function setDate() {\r\n                var time;\r\n\r\n                $scope.data.bind = false;\r\n\r\n                if ($scope.data.startDate) {\r\n                    time = $scope.data.startTime ? $scope.data.startTime * 60 * 1000 : 0;\r\n                    $scope.pipStartDate = new Date($scope.data.startDate.getTime() + time);\r\n                }\r\n\r\n                if ($scope.data.endDate) {\r\n                    time = $scope.data.endTime ? $scope.data.endTime * 60 * 1000 : 0;\r\n                    $scope.pipEndDate = new Date($scope.data.endDate.getTime() + time);\r\n                }\r\n\r\n                $scope.data.bind = true;\r\n            }\r\n\r\n            function defineDate() {\r\n                var start, end;\r\n\r\n                if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\r\n                    start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate : null;\r\n\r\n                    if (!start) {\r\n                        start = getDateJSON($scope.pipStartDate);\r\n                    }\r\n\r\n                    $scope.data.startDate = pipDateTime.toStartDay(start);\r\n                    $scope.data.startTime = (<any>new Date(start) - $scope.data.startDate) / (60 * 1000);\r\n                }\r\n\r\n                if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\r\n                    end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate : null;\r\n\r\n                    if (!start) {\r\n                        end = getDateJSON($scope.pipEndDate);\r\n                    }\r\n\r\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\r\n                    $scope.data.endTime = (<any>new Date(end) - $scope.data.endDate) / (60 * 1000);\r\n                }\r\n\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n            }\r\n\r\n            function getTimeInterval() {\r\n                var result, i, j, minutes;\r\n\r\n                result = [];\r\n                for (i = 0; i < 24; i++) {\r\n                    for (j = 0; j < 2; j++) {\r\n                        minutes = j * 30;\r\n                        result.push({\r\n                            id: i * 60 + minutes,\r\n                            time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\r\n                        });\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            }\r\n\r\n            function initDate() {\r\n                $scope.data.startDate = null;\r\n                $scope.data.startTime = null;\r\n                $scope.data.endDate = null;\r\n                $scope.data.endTime = null;\r\n                $scope.data.duration = null;\r\n            }\r\n\r\n            // initialize data\r\n            $scope.intervalTimeCollection = getTimeInterval();\r\n            $scope.data = {};\r\n            initDate();\r\n            defineDate();\r\n\r\n            // process function\r\n            $scope.onChangeStartDate = function () {\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndDate = function () {\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeStartTime = function () {\r\n                if (!$scope.data.startDate) {\r\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date());\r\n                }\r\n                validateStartDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.onChangeEndTime = function () {\r\n                if (!$scope.data.endDate) {\r\n                    $scope.data.endDate = pipDateTime.toStartDay(new Date());\r\n                }\r\n\r\n                validateEndDate();\r\n                $scope.data.duration = setDuration();\r\n                setDate();\r\n                $scope.pipChanged();\r\n            };\r\n\r\n            $scope.isDisabled = function () {\r\n                if ($scope.disabled) {\r\n                    return $scope.disabled();\r\n                }\r\n\r\n                return false;\r\n            };\r\n\r\n            $scope.$watchGroup([$scope.pipStartDate, $scope.pipEndDate], function () {\r\n                if ($scope.data.bind) {\r\n                    initDate();\r\n                    defineDate();\r\n                }\r\n            });\r\n\r\n            $scope.$watch($scope.disabled, function (newValue) {\r\n                $scope.disableControls = newValue;\r\n            });\r\n\r\n            // Add class\r\n            $element.addClass('pip-time-range-edit');\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_directive/date.html',\n    '<!--\\n' +\n    '@file Date control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\">\\n' +\n    '\t<md-input-container class=\"input-container flex\">\\n' +\n    '\t\t<md-select class=\"pip-date-day flex\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"day\" placeholder=\"{{dayLabel}}\" ng-change=\"onDayChanged()\">\\n' +\n    '\t\t\t<md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{:: opt }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '\t<div class=\"input-container-separator flex-fixed\"></div>\\n' +\n    '\t<md-input-container class=\"input-container flex\">\\n' +\n    '\t\t<md-select class=\"pip-date-monthflex\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"month\" placeholder=\"{{monthLabel}}\" ng-change=\"onMonthChanged()\">\\n' +\n    '\t\t\t<md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{:: opt.name }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '\t<div class=\"input-container-separator flex-fixed\"></div>\\n' +\n    '\t<md-input-container class=\"input-container flex\">\\n' +\n    '\t\t<md-select class=\"pip-date-year flex\" ng-disabled=\"disableControls\"\\n' +\n    '\t\t\t\t   ng-model=\"year\" placeholder=\"{{yearLabel}}\" ng-change=\"onYearChanged()\">\\n' +\n    '\t\t\t<md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{:: opt }}</md-option>\\n' +\n    '\t\t</md-select>\\n' +\n    '\t</md-input-container>\\n' +\n    '</div>\\n' +\n    '\t\t\t\t\t');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range_directive/date_range.html',\n    '<!--\\n' +\n    '@file Date range control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\">\\n' +\n    '    <md-input-container ng-show=\"isDay()\" class=\"input-container pip-day flex\"\\n' +\n    '            ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-day\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onDayClick()\"\\n' +\n    '                   ng-model=\"day\"\\n' +\n    '                   ng-change=\"onDayChanged()\"\\n' +\n    '                   placeholder=\"{{dayLabel}}\"\\n' +\n    '                   aria-label=\"DAY\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt \">\\n' +\n    '               {{nameDays[$index]}} {{ opt }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <md-input-container ng-show=\"isWeek()\" class=\"input-container flex\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-week\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   ng-model=\"week\"\\n' +\n    '                   ng-change=\"onWeekChange()\"\\n' +\n    '                   placeholder=\"{{weekLabel}}\"\\n' +\n    '                   aria-label=\"WEEK\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in weeks track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container >\\n' +\n    '    <div class=\"flex-fixed\"\\n' +\n    '         ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\':  $mdMedia(\\'xs\\')}\"\\n' +\n    '         ng-show=\"isDay() || isWeek()\">\\n' +\n    '    </div>\\n' +\n    '    <md-input-container ng-show=\"isMonth() && !monthFormatShort \" class=\"input-container flex\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-month\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onMonthClick()\"\\n' +\n    '                   ng-model=\"month\"\\n' +\n    '                   ng-change=\"onMonthChanged()\"\\n' +\n    '                   placeholder=\"{{monthLabel}}\"\\n' +\n    '                   aria-label=\"MONTH\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <md-input-container ng-show=\"isMonth() && monthFormatShort\" class=\"flex input-container\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-month\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onMonthClick()\"\\n' +\n    '                   ng-model=\"month\"\\n' +\n    '                   ng-change=\"onMonthChanged()\"\\n' +\n    '                   placeholder=\"{{monthLabel}}\"\\n' +\n    '                   aria-label=\"MONTH\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt.id\" ng-repeat=\"opt in shortMonths track by opt.id\">\\n' +\n    '                {{ opt.name }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <div class=\"flex-fixed\"\\n' +\n    '         ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\':  $mdMedia(\\'xs\\')}\"\\n' +\n    '         ng-show=\"isMonth()\">\\n' +\n    '    </div>\\n' +\n    '    <md-input-container class=\"input-container flex\"\\n' +\n    '                        ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\">\\n' +\n    '        <md-select class=\"select-year\"\\n' +\n    '                   ng-class=\"{\\'pip-no-line\\' : pipNoLine}\"\\n' +\n    '                   ng-disable=\"{{disableControls}}\"\\n' +\n    '                   md-on-open=\"onYearClick()\"\\n' +\n    '                   ng-model=\"year\"\\n' +\n    '                   ng-change=\"onYearChanged()\"\\n' +\n    '                   placeholder=\"{{yearLabel}}\"\\n' +\n    '                   aria-label=\"YEAR\">\\n' +\n    '\\n' +\n    '            <md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">\\n' +\n    '                {{ opt }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_directive/time_range.html',\n    '<p>\\n' +\n    '    <span ng-if=\"data.start != null\">{{data.start | formatShortDateTime}}</span>\\n' +\n    '    <span  class=\"separator\" ng-if=\"data.start && data.end\"> - </span>\\n' +\n    '    <span ng-if=\"data.end != null\">{{data.end | formatShortDateTime}}</span>\\n' +\n    '</p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit_directive/time_range_edit.html',\n    '<!--\\n' +\n    '@file Time edit control content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\">\\n' +\n    '    <div flex=\"47\" class=\"start-time-container \">\\n' +\n    '        <p class=\"text-caption text-grey\">{{startLabel}}</p>\\n' +\n    '\\n' +\n    '        <div class=\"layout-row layout-align-space-between-center\">\\n' +\n    '            <div class=\"pip-datepicker-container\" flex=\"49\">\\n' +\n    '                <md-datepicker ng-model=\"data.startDate\"\\n' +\n    '                               xmd-placeholder=\"{{startLabel}}\"\\n' +\n    '                               ng-change=\"onChangeStartDate()\"\\n' +\n    '                               ng-disabled=\"isDisabled()\"\\n' +\n    '                               aria-label=\"START-DATE\">\\n' +\n    '                </md-datepicker>\\n' +\n    '            </div>\\n' +\n    '            <div flex>\\n' +\n    '                <md-input-container class=\"input-container\">\\n' +\n    '                    <md-select aria-label=\"START-TIME\" ng-model=\"data.startTime\" ng-disabled=\"isDisabled()\"\\n' +\n    '                               ng-change=\"onChangeStartTime()\">\\n' +\n    '                        <md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}\\n' +\n    '                        </md-option>\\n' +\n    '                    </md-select>\\n' +\n    '                </md-input-container>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div flex=\"47\" class=\"end-time-container\">\\n' +\n    '        <p class=\"text-caption text-grey\">{{endLabel}}</p>\\n' +\n    '\\n' +\n    '        <div class=\"layout-row layout-align-space-between-center\">\\n' +\n    '            <div class=\"pip-datepicker-container flex-49\">\\n' +\n    '                <md-datepicker ng-model=\"data.endDate\"\\n' +\n    '                               xmd-placeholder=\"{{endLabel}}\"\\n' +\n    '                               ng-disabled=\"isDisabled()\"\\n' +\n    '                               ng-change=\"onChangeEndDate()\"\\n' +\n    '                               aria-label=\"END-DATE\">\\n' +\n    '                </md-datepicker>\\n' +\n    '            </div>\\n' +\n    '            <div flex>\\n' +\n    '                <md-input-container class=\"input-container\">\\n' +\n    '                    <md-select aria-label=\"END-TIME\" ng-model=\"data.endTime\" ng-change=\"onChangeEndTime()\"\\n' +\n    '                               ng-disabled=\"isDisabled()\">\\n' +\n    '                        <md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{\\n' +\n    '                            opt.time }}\\n' +\n    '                        </md-option>\\n' +\n    '                    </md-select>\\n' +\n    '                </md-input-container>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.js.map\n","/**\r\n * @file Confirmation dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipConfirmationDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipConfirmationDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'confirmation/confirmation.html',\r\n                        controller: 'pipConfirmationDialogController',\r\n                        locals: { params: params },\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function () {\r\n                        if (successCallback) {\r\n                            successCallback();\r\n                        }\r\n                    }, function () {\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipConfirmationDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'CONFIRM_TITLE': 'Confirm'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'CONFIRM_TITLE': ''\r\n                });\r\n\r\n                $scope.title = params.title || 'CONFIRM_TITLE';\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'CANCEL';\r\n            } else {\r\n                $scope.title = params.title || 'Confirm';\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'Cancel';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Registration of dialogs\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipDialogs', [\r\n        'pipInformationDialog',\r\n        'pipConfirmationDialog',\r\n        'pipOptionsDialog',\r\n        'pipOptionsBigDialog',\r\n        'pipErrorDetailsDialog'\r\n    ]);\r\n\r\n})();\r\n\r\n","/**\r\n * @file Error details dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrorDetailsDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipErrorDetailsDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'error_details/error_details.html',\r\n                        controller: 'pipErrorDetailsDialogController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                        .then(function () {\r\n                            if (successCallback) {\r\n                                successCallback();\r\n                            }\r\n                        }, function () {\r\n                            if (cancelCallback) {\r\n                                cancelCallback();\r\n                            }\r\n                        });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipErrorDetailsDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            \r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            \r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'ERROR_DETAILS': 'Error details',\r\n                    'CODE': 'Error code',\r\n                    'PATH': 'Path',\r\n                    'ERROR': 'Error',\r\n                    'METHOD': 'Method',\r\n                    'MESSAGE': 'Message',\r\n                    'DISMISS': 'Dismiss'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'ERROR_DETAILS': ' ',\r\n                    'CODE': ' ',\r\n                    'PATH': '',\r\n                    'ERROR': '',\r\n                    'METHOD': '',\r\n                    'MESSAGE': ''\r\n                });\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'CANCEL';\r\n                $scope.errorDetails = 'ERROR_DETAILS';\r\n                $scope.dismissButton = 'DISMISS';\r\n                $scope.errorMessage = 'MESSAGE';\r\n                $scope.errorCode = 'CODE';\r\n                $scope.errorMethod = 'METHOD';\r\n                $scope.errorPath = 'PATH';\r\n                $scope.errorText = 'ERROR';                \r\n            } else {\r\n                $scope.ok = params.ok || 'OK';\r\n                $scope.cancel = params.cancel || 'Cancel';\r\n                $scope.errorDetails = 'Error details';\r\n                $scope.dismissButton = 'Dismiss';\r\n                $scope.errorMessage = 'Message';\r\n                $scope.errorCode = 'Code';\r\n                $scope.errorMethod = 'Method';\r\n                $scope.errorPath = 'Path';\r\n                $scope.error = 'Error';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme\r\n            $scope.error = params.error;\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Information dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipInformationDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipInformationDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, callback) {\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'information/information.html',\r\n                        controller: 'pipInformationDialogController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                        .then(function () {\r\n                            if (callback) {\r\n                                callback();\r\n                            }\r\n                        });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipInformationDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var content = params.message, item;\r\n\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'INFORMATION_TITLE': 'Information'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'INFORMATION_TITLE': ''\r\n                });\r\n\r\n                $scope.title = params.title || 'INFORMATION_TITLE';\r\n                $scope.ok = params.ok || 'OK';\r\n                content = pipTranslate.translate(content);\r\n            } else {\r\n                $scope.title = params.title || 'Information';\r\n                $scope.ok = params.ok || 'OK';\r\n            }\r\n\r\n            var pipFormat = $injector.has('pipFormat') ? $injector.get('pipFormat') : null;\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n            if (params.item && pipFormat) {\r\n                item = _.truncate(params.item, 25);\r\n                content = pipFormat.sprintf(content, item);\r\n                console.log('content2', content);\r\n            }\r\n            $scope.content = content;\r\n\r\n            $scope.onOk = function () {\r\n                $mdDialog.hide();\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Options dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n * - Remove deleted hack in the controller\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipOptionsDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipOptionsDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    if (params.event) {\r\n                        params.event.stopPropagation();\r\n                        params.event.preventDefault();\r\n                    }\r\n\r\n                    function focusToggleControl() {\r\n                        if (params.event && params.event.currentTarget) {\r\n                            params.event.currentTarget.focus();\r\n                        }\r\n                    }\r\n\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'options/options.html',\r\n                        controller: 'pipOptionsDialogController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function (option) {\r\n                        focusToggleControl();\r\n\r\n                        if (successCallback) {\r\n                            successCallback(option);\r\n                        }\r\n                    }, function () {\r\n                        focusToggleControl();\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipOptionsDialogController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'OPTIONS_TITLE': 'Choose Option'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'OPTIONS_TITLE': ' '\r\n                });\r\n\r\n                $scope.title = params.title || 'OPTIONS_TITLE';\r\n                $scope.applyButtonTitle = params.appleButtonTitle || 'SELECT';\r\n            } else {\r\n                $scope.title = params.title || 'Choose Option';\r\n                $scope.applyButtonTitle = params.appleButtonTitle || 'Select';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.options = params.options;\r\n            $scope.selectedOption = _.find(params.options, {active: true}) || {};\r\n            $scope.selectedOptionName = $scope.selectedOption.name;\r\n            $scope.deleted = params.deleted;\r\n            $scope.deletedTitle = params.deletedTitle;\r\n            $scope.onOptionSelect = function (event, option) {\r\n                event.stopPropagation();\r\n                $scope.selectedOptionName = option.name;\r\n            };\r\n            \r\n            $scope.onKeyPress = function (event) {\r\n                if (event.keyCode === 32 || event.keyCode === 13) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    $scope.onSelect();\r\n                }\r\n            };\r\n\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n\r\n            $scope.onSelect = function () {\r\n                var option;\r\n\r\n                option = _.find(params.options, {name: $scope.selectedOptionName});\r\n                $mdDialog.hide({option: option, deleted: $scope.deleted});\r\n            };\r\n\r\n            // Setting focus to input control\r\n            function focusInput() {\r\n                var list;\r\n\r\n                list = $('.pip-options-dialog .pip-list');\r\n                list.focus();\r\n            }\r\n\r\n            setTimeout(focusInput, 500);\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Options dialog\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n * @todo\r\n * - Improve sample in sampler app\r\n * - Remove deleted hack in the controller\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipOptionsBigDialog',\r\n        ['ngMaterial', 'pipDialogs.Translate', 'pipDialogs.Templates']);\r\n\r\n    thisModule.factory('pipOptionsBigDialog',\r\n        function ($mdDialog) {\r\n            return {\r\n                show: function (params, successCallback, cancelCallback) {\r\n                    if (params.event) {\r\n                        params.event.stopPropagation();\r\n                        params.event.preventDefault();\r\n                    }\r\n\r\n                    function focusToggleControl() {\r\n                        if (params.event && params.event.currentTarget) {\r\n                            params.event.currentTarget.focus();\r\n                        }\r\n                    }\r\n\r\n                    $mdDialog.show({\r\n                        targetEvent: params.event,\r\n                        templateUrl: 'options/options_big.html',\r\n                        controller: 'pipOptionsDialogBigController',\r\n                        locals: {params: params},\r\n                        clickOutsideToClose: true\r\n                    })\r\n                    .then(function (option) {\r\n                        focusToggleControl();\r\n\r\n                        if (successCallback) {\r\n                            successCallback(option);\r\n                        }\r\n                    }, function () {\r\n                        focusToggleControl();\r\n                        if (cancelCallback) {\r\n                            cancelCallback();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipOptionsDialogBigController',\r\n        function ($scope, $rootScope, $mdDialog, $injector, params) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n            if (pipTranslate) {\r\n                pipTranslate.translations('en', {\r\n                    'OPTIONS_TITLE': 'Choose Option'\r\n                });\r\n                pipTranslate.translations('ru', {\r\n                    'OPTIONS_TITLE': ' '\r\n                });\r\n\r\n                $scope.title = params.title || 'OPTIONS_TITLE';\r\n                $scope.applyButtonTitle = params.applyButtonTitle || 'SELECT';\r\n            } else {\r\n                $scope.title = params.title || 'Choose Option';\r\n                $scope.applyButtonTitle = params.applyButtonTitle || 'Select';\r\n            }\r\n\r\n            $scope.theme = $rootScope.$theme;\r\n            $scope.options = params.options;\r\n            $scope.noActions = params.noActions || false;\r\n            $scope.noTitle = params.noTitle || false;\r\n            $scope.hint = params.hint || '';\r\n            $scope.selectedOption = _.find(params.options, {active: true}) || {};\r\n            $scope.selectedOptionName = $scope.selectedOption.name;\r\n            $scope.optionIndex = _.findIndex(params.options, $scope.selectedOption);\r\n\r\n            $scope.deleted = params.deleted;\r\n            $scope.deletedTitle = params.deletedTitle;\r\n\r\n            $scope.onOptionSelect = function (event, option) {\r\n                event.stopPropagation();\r\n                $scope.selectedOptionName = option.name;\r\n\r\n                if ($scope.noActions) {\r\n                    $scope.onSelect();\r\n                }\r\n            };\r\n\r\n            $scope.onSelected = function () {\r\n                $scope.selectedOptionName = $scope.options[$scope.optionIndex].name;\r\n\r\n                if ($scope.noActions) {\r\n                    // $scope.onSelect();\r\n                }\r\n            };\r\n\r\n            $scope.onKeyUp = function (event, index) {\r\n                if (event.keyCode === 32 || event.keyCode === 13) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    if (index !== undefined && index > -1 && index < $scope.options.length) {\r\n                        $scope.selectedOptionName = $scope.options[index].name;\r\n                        $scope.onSelect();\r\n                    }\r\n                }\r\n            };\r\n            $scope.onCancel = function () {\r\n                $mdDialog.cancel();\r\n            };\r\n            $scope.onSelect = function () {\r\n                var option;\r\n\r\n                option = _.find($scope.options, {name: $scope.selectedOptionName});\r\n                $mdDialog.hide({option: option, deleted: $scope.deleted});\r\n            };\r\n            // Setting focus to input control\r\n            function focusInput() {\r\n                var list;\r\n\r\n                list = $('.pip-options-dialog .pip-list');\r\n                list.focus();\r\n            }\r\n\r\n            setTimeout(focusInput, 500);\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/confirmation.html',\n    '<!--\\n' +\n    '@file Confirmation dialog template\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{::theme}}\">\\n' +\n    '    <div class=\"pip-header\">\\n' +\n    '        <h3>{{:: title}}</h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button ng-click=\"onCancel()\">{{:: cancel}}</md-button>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onOk()\">{{:: ok}}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/error_details.html',\n    '<!--\\n' +\n    '@file Confirmation dialog template\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-header\">\\n' +\n    '            <h3>{{::errorDetails | translate}}</h3>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\"\\n' +\n    '             ng-if=\"error.code || (error.data && error.data.code)\">\\n' +\n    '            {{::errorCode | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.code || (error.data && error.data.code)\">\\n' +\n    '            {{error.code || error.data.code}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\"\\n' +\n    '             ng-if=\"error.path || (error.data && error.data.path)\">\\n' +\n    '            {{::errorPath | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.path || (error.data && error.data.path)\">\\n' +\n    '            {{error.path || error.data.path}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\"\\n' +\n    '             ng-if=\"error.error || (error.data && error.data.error)\">\\n' +\n    '            {{::errorText | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.error || (error.data && error.data.error)\">\\n' +\n    '            {{error.error || error.data.error}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\"\\n' +\n    '             ng-if=\"error.method || (error.data && error.data.method)\">\\n' +\n    '            {{::errorMethod | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"error.method || (error.data && error.data.method)\">\\n' +\n    '            {{error.method || error.data.method}}\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\"\\n' +\n    '             ng-if=\"error.message || (error.data && error.data.message)\">\\n' +\n    '            {{::errorMessage | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row layout-align-start-center text-subhead1\"\\n' +\n    '             ng-if=\"error.message || (error.data && error.data.message)\">\\n' +\n    '            {{error.message || error.data.message}}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent m0\" ng-click=\"onOk()\">{{::dismissButton | translate}}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/information.html',\n    '<!--\\n' +\n    '@file Information dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\"\\n' +\n    '           width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <div class=\"pip-header\">\\n' +\n    '        <h3 >{{ title | translate }}</h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            {{ content }}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onOk()\">{{ ok | translate }}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/options.html',\n    '<!--\\n' +\n    '@file Options dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\"\\n' +\n    '           min-width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\">\\n' +\n    '        <div class=\"pip-header\" >\\n' +\n    '            <h3>{{::title | translate}}</h3>\\n' +\n    '            <div ng-show=\"deletedTitle\" class=\"header-option text-subhead1 divider-bottom\">\\n' +\n    '                <md-checkbox ng-model=\"deleted\" aria-label=\"CHECKBOX\">{{::deletedTitle | translate}}</md-checkbox>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <md-radio-group ng-model=\"selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\"\\n' +\n    '                            ng-keypress=\"onKeyPress($event)\" tabindex=\"0\">\\n' +\n    '                <div ng-repeat=\"option in options\" class=\"pip-list-item\" md-ink-ripple\\n' +\n    '                     ui-event=\"{ click: \\'onOptionSelect($event, option)\\' }\"\\n' +\n    '                     ng-class=\"{ selected: option.name == selectedOptionName }\">\\n' +\n    '                    <div class=\"pip-list-item item-padding\">\\n' +\n    '                        <md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{option.icon}}\" ng-if=\"option.icon\">\\n' +\n    '                        </md-icon>\\n' +\n    '                        <div class=\"pip-option-title\">\\n' +\n    '                            {{::option.title | translate}}\\n' +\n    '                        </div>\\n' +\n    '                        <md-radio-button ng-value=\"option.name\" tabindex=\"-1\"\\n' +\n    '                                         aria-label=\"{{::option.title | translate}}\">\\n' +\n    '                        </md-radio-button>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                </div>\\n' +\n    '            </md-radio-group>\\n' +\n    '        </div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"pip-cancel\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button>\\n' +\n    '            <md-button class=\"pip-submit md-accent\" ng-click=\"onSelect()\">{{::applyButtonTitle | translate}}</md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/options_big.html',\n    '<!--\\n' +\n    '@file Options dialog content\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\"\\n' +\n    '           min-width=\"400\" md-theme=\"{{theme}}\">\\n' +\n    '    <md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !noActions}\">\\n' +\n    '        <div class=\"pip-header\" ng-class=\"{\\'header-hint\\': noTitle && hint}\">\\n' +\n    '            <h3 class=\"m0\" ng-if=\"!noTitle\">\\n' +\n    '                {{::title | translate}}\\n' +\n    '            </h3>\\n' +\n    '            <div ng-show=\"noTitle && hint\" class=\"dialog-hint layout-row layout-align-start-center\">\\n' +\n    '                <div class=\"hint-icon-container flex-fixed\" >\\n' +\n    '                    <md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon>\\n' +\n    '                </div>\\n' +\n    '                <div>{{::hint | translate}}</div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"content-divider\" ng-if=\"!noTitle\"></div>\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <div class=\"spacer8\" ng-if=\"noTitle && hint\"></div>\\n' +\n    '            <md-list class=\"pip-menu  pip-ref-list\"\\n' +\n    '                     pip-selected=\"optionIndex\" index=\"{{optionIndex }}\"\\n' +\n    '                     pip-select=\"onSelected($event)\">\\n' +\n    '\\n' +\n    '                <md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\"\\n' +\n    '                              ng-class=\"{\\'selected md-focused\\' : option.name == selectedOptionName,\\n' +\n    '                              \\'divider-bottom\\': $index != options.length - 1}\"\\n' +\n    '                              md-ink-ripple\\n' +\n    '                              ng-keyup=\"onKeyUp($event, $index)\"\\n' +\n    '                              ng-repeat=\"option in options\" >\\n' +\n    '\\n' +\n    '                    <div class=\"pip-content  content-stretch\" ng-click=\"onOptionSelect($event, option)\">\\n' +\n    '                        <p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">\\n' +\n    '                            {{::option.title | translate}}\\n' +\n    '                        </p>\\n' +\n    '                        <div class=\"pip-subtitle spacer-right\"\\n' +\n    '                             style=\"height: inherit\"\\n' +\n    '                             ng-if=\"option.subtitle\">\\n' +\n    '                            {{::option.subtitle | translate}}\\n' +\n    '                        </div>\\n' +\n    '                        <div class=\"pip-subtitle spacer-right\"\\n' +\n    '                             style=\"height: inherit\" ng-if=\"option.text\"\\n' +\n    '                             ng-bind-html=\"option.text | translate\">\\n' +\n    '                        </div>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                </md-list-item>\\n' +\n    '\\n' +\n    '            </md-list>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"spacer8\" ng-if=\"noActions\"></div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '\\n' +\n    '    <div class=\"pip-footer\" ng-if=\"!noActions\">\\n' +\n    '        <div>\\n' +\n    '            <md-button class=\"pip-cancel\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button>\\n' +\n    '            <md-button class=\"pip-submit md-accent\" ng-click=\"onSelect()\" style=\"margin-right: -6px\">\\n' +\n    '                {{::applyButtonTitle | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.js.map\n","'use strict';\r\n\r\nvar thisModule = angular.module('pipActions.Service', []);\r\n\r\nthisModule.provider('pipActions', function (): any {\r\n    var config = {\r\n        // Primary global actions visible on the screen\r\n        primaryGlobalActions: [],\r\n        // Primary local actions visible on the screen\r\n        primaryLocalActions: [],\r\n\r\n        // Secondary global actions available in popup\r\n        secondaryGlobalActions: [],\r\n        // Secondary local actions available in popup\r\n        secondaryLocalActions: []\r\n    };\r\n\r\n    // Configure global parameters\r\n    this.globalActions = globalActions;\r\n    this.globalPrimaryActions = globalPrimaryActions;\r\n    this.globalSecondaryActions = globalSecondaryActions;\r\n\r\n    // Get the service instance\r\n    this.$get = function ($rootScope) {\r\n        return {\r\n            config: getConfig,\r\n            \r\n            show: showLocalActions,\r\n            hide: hideLocalActions,\r\n            count: updateActionCount,\r\n        };\r\n\r\n        // ----------------------\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show actions\r\n        function hideLocalActions() {\r\n            config.primaryLocalActions = [];\r\n            config.secondaryLocalActions = [];\r\n\r\n            sendConfigEvent();\r\n        }\r\n\r\n        function showLocalActions(primaryActions, secondaryActions) {\r\n            config.primaryLocalActions = primaryActions || [];\r\n            config.secondaryLocalActions = secondaryActions || [];\r\n\r\n            sendConfigEvent();\r\n        }\r\n\r\n        // Todo: Why do we need that? it's needs for count badge \r\n        function updateActionCount(actionName, count) {\r\n            // Update global actions\r\n            _.each(config.primaryGlobalActions, function (action) {\r\n                if (action.name === actionName) {\r\n                    action.count = count;\r\n                }\r\n            });\r\n            // Update local action\r\n            _.each(config.primaryLocalActions, function (action) {\r\n                if (action.name === actionName) {\r\n                    action.count = count;\r\n                }\r\n            });\r\n            sendConfigEvent();\r\n        }\r\n\r\n        function sendConfigEvent() {\r\n            $rootScope.$broadcast('pipActionsChanged', config);\r\n        }\r\n    };\r\n\r\n    function globalActions(primaryActions, secondaryActions) {\r\n        config.primaryGlobalActions = primaryActions || [];\r\n        config.secondaryGlobalActions = secondaryActions || [];\r\n    }\r\n\r\n    function globalPrimaryActions(primaryActions) {\r\n        config.primaryGlobalActions = primaryActions || [];\r\n    }\r\n\r\n    function globalSecondaryActions(secondaryActions) {\r\n        config.secondaryGlobalActions = secondaryActions || [];\r\n    }\r\n\r\n});\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPrimaryActions',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipActions.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipPrimaryActions', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                localActions: '=pipLocalActions',\r\n                globalActions: '=pipGlobalActions'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'actions/primary_actions.html';\r\n            },\r\n            controller: 'pipPrimaryActionsController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipPrimaryActionsController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-primary-actions');\r\n\r\n            $scope.config = pipActions.config();\r\n\r\n            if ($scope.localActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.primaryLocalActions = $scope.localActions[0];\r\n            }\r\n\r\n            if ($scope.globalActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.primaryGlobalActions = $scope.globalActions[0];\r\n            }\r\n\r\n            $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n            $scope.actionHidden = actionHidden;\r\n            $scope.actionCount = actionCount;\r\n\r\n            $scope.onActionClick = onActionClick;\r\n\r\n            function onActionsChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function actionHidden(action) {\r\n                return action.access && !action.access(action);\r\n            }\r\n\r\n            function actionCount(action) {\r\n                if (action.count === null || action.count <= 0) {\r\n                    return '';\r\n                }\r\n                if (action.count > 99) {\r\n                    return '!';\r\n                }\r\n\r\n                return action.count;\r\n            }\r\n\r\n            function calcActions(actions) {\r\n                var count = 0;\r\n\r\n                _.each(actions, function (action) {\r\n                    if (!actionHidden(action)) {\r\n                        count++;\r\n                    }\r\n                });\r\n\r\n                return count;\r\n            }\r\n\r\n            function secondaryActionsVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function secondaryDividerVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function onActionClick(action, $mdOpenMenu) {\r\n                if (!action || action.divider) {\r\n                    return;\r\n                }\r\n\r\n                if (action.close) {\r\n                    $scope.originatorEv = null;\r\n                }\r\n\r\n                if (action.menu) {\r\n                    $mdOpenMenu($scope.originatorEv);\r\n                    return;\r\n                }\r\n\r\n                if (action.callback) {\r\n                    action.callback();\r\n                    return;\r\n                }\r\n\r\n                if (action.href) {\r\n                    $window.location.href = action.href;\r\n                    return;\r\n                }\r\n\r\n                if (action.url) {\r\n                    $location.url(action.url);\r\n                    return;\r\n                }\r\n\r\n                if (action.state) {\r\n                    if ($injector.has('$state')) {\r\n                        var $state = $injector.get('$state');\r\n                        $state.go(action.state, action.stateParams);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (action.event) {\r\n                    $rootScope.$broadcast(action.event);\r\n                } else {\r\n                    // Otherwise raise notification\r\n                    $rootScope.$broadcast('pipActionClicked', action.name);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSecondaryActions',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipActions.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipSecondaryActions', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                title: '=pipTitle',\r\n                showMenu: '=pipShowMenu',\r\n                localActions: '=pipLocalActions',\r\n                globalActions: '=pipGlobalActions',\r\n                partyAvatarUrl: '=pipPartyAvatarUrl'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'actions/secondary_actions.html';\r\n            },\r\n            controller: 'pipSecondaryActionsController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSecondaryActionsController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-secondary-actions');\r\n\r\n            $scope.config = pipActions.config();\r\n\r\n            if ($scope.localActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.secondaryLocalActions = $scope.localActions[1];\r\n            }\r\n\r\n            if ($scope.globalActions) {\r\n                pipActions.showLocalActions();\r\n                $scope.config.secondaryGlobalActions = $scope.globalActions[0];\r\n            }\r\n\r\n            $rootScope.$on('pipActionsChanged', onActionsChanged);\r\n\r\n            $scope.actionHidden = actionHidden;\r\n            $scope.actionCount = actionCount;\r\n            $scope.secondaryActionsVisible = secondaryActionsVisible;\r\n            $scope.secondaryDividerVisible = secondaryDividerVisible;\r\n\r\n            $scope.onActionClick = onActionClick;\r\n\r\n            $scope.openMenu = openMenu;\r\n\r\n            function openMenu($mdOpenMenu, ev) {\r\n                $scope.originatorEv = ev;\r\n                $mdOpenMenu(ev);\r\n            }\r\n\r\n            function onActionsChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function actionHidden(action) {\r\n                return action.access && !action.access(action);\r\n            }\r\n\r\n            function actionCount(action) {\r\n                if (action.count === null || action.count <= 0) {\r\n                    return '';\r\n                }\r\n                if (action.count > 99) {\r\n                    return '!';\r\n                }\r\n\r\n                return action.count;\r\n            }\r\n\r\n            function calcActions(actions) {\r\n                var count = 0;\r\n\r\n                _.each(actions, function (action) {\r\n                    if (!actionHidden(action)) {\r\n                        count++;\r\n                    }\r\n                });\r\n\r\n                return count;\r\n            }\r\n\r\n            function secondaryActionsVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 ||\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function secondaryDividerVisible() {\r\n                return calcActions($scope.config.secondaryGlobalActions) > 0 &&\r\n                    calcActions($scope.config.secondaryLocalActions) > 0;\r\n            }\r\n\r\n            function onActionClick(action, $mdOpenMenu) {\r\n                if (!action || action.divider) {\r\n                    return;\r\n                }\r\n\r\n                if (action.close) {\r\n                    $scope.originatorEv = null;\r\n                }\r\n\r\n                if (action.menu) {\r\n                    $mdOpenMenu($scope.originatorEv);\r\n                    return;\r\n                }\r\n\r\n                if (action.callback) {\r\n                    action.callback();\r\n                    return;\r\n                }\r\n\r\n                if (action.href) {\r\n                    $window.location.href = action.href;\r\n                    return;\r\n                }\r\n\r\n                if (action.url) {\r\n                    $location.url(action.url);\r\n                    return;\r\n                }\r\n\r\n                if (action.state) {\r\n                    if ($injector.has('$state')) {\r\n                        var $state = $injector.get('$state');\r\n                        $state.go(action.state, action.stateParams);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (action.event) {\r\n                    $rootScope.$broadcast(action.event);\r\n                } else {\r\n                    // Otherwise raise notification\r\n                    $rootScope.$broadcast('pipActionClicked', action.name);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar',\r\n        ['ngMaterial', 'pipNav.Templates', 'pipAppBar.Service']);\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipAppbar', function () {\r\n        return {\r\n            restrict: 'E',\r\n            transclude: true,\r\n            scope: true,\r\n            templateUrl: 'appbar/appbar.html',\r\n            controller: 'pipAppBarController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipAppBarController',\r\n        function ($scope, $element, $rootScope, pipAppBar) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-appbar');\r\n            $element.addClass('color-primary-bg');\r\n            \r\n            $scope.$emit('pipResizeWindow');\r\n\r\n            $scope.config = pipAppBar.config();\r\n\r\n            $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n            function onAppBarChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar.Part', ['pipAppBar.Service']);\r\n\r\n    // Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n    thisModule.directive('pipAppbarPart', function (ngIfDirective) {\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: any, $element, $attrs: any) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = function () {\r\n                    return $scope.visible;\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: 'pipAppBarPartController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipAppBarPartController',\r\n        function ($scope, $element, $attrs, $rootScope, pipAppBar) {\r\n            var partName = '' + $attrs.pipAppbarPart;\r\n            var partValue = null;\r\n\r\n            // Break part apart\r\n            var pos = partName.indexOf(':');\r\n            if (pos > 0) {\r\n                partValue = partName.substr(pos + 1);\r\n                partName = partName.substr(0, pos);\r\n            }\r\n\r\n            onAppBarChanged(null, pipAppBar.config());\r\n\r\n            $rootScope.$on('pipAppBarChanged', onAppBarChanged);\r\n\r\n            function onAppBarChanged(event, config) {\r\n                var parts = config.parts || {};\r\n                var currentPartValue = parts[partName];\r\n\r\n                // Set visible variable to switch ngIf\r\n                var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\r\n\r\n                if (visible != $scope.visible)\r\n                    $scope.visible = visible;\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipAppBar.Service', []);\r\n\r\n    thisModule.provider('pipAppBar', function (): any {\r\n        var config = {\r\n            // Theme to be applied to the header\r\n            theme: 'default',\r\n            cssClass: '',\r\n            ngClasses: {},\r\n            // Parts of the appbar\r\n            parts: {},\r\n            showAppBar: true\r\n        };\r\n\r\n        // Configure global parameters\r\n        this.theme = theme;\r\n        this.parts = initParts;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                cssClass: cssClass,\r\n\r\n                part: getOrSetPart,\r\n                parts: getOrSetParts,\r\n                \r\n                show: showAppBar,\r\n                hide: hideAppBar,\r\n                showShadow: showShadow,\r\n                showShadowSm: showShadowSm,\r\n                showShadowSmXs: showShadowSmXs,\r\n                hideShadow: hideShadow\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function getConfig() {\r\n                return config;\r\n            }\r\n\r\n            // Todo: Do we need that \"hack\"?\r\n            function cssClass(newCssClass) {\r\n                if (newCssClass != undefined) {\r\n                    config.cssClass = newCssClass;\r\n                    sendConfigEvent();\r\n                }\r\n\r\n                return config.cssClass;\r\n            }\r\n\r\n            // Show, show appbar \r\n            function showAppBar() {\r\n                config.showAppBar = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            // Show, hide appbar \r\n            function hideAppBar() {\r\n                config.showAppBar = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            // Show, hide appbar shadow\r\n            function showShadowSm() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = true;\r\n                config.ngClasses['pip-shadow-xs'] = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showShadowSmXs() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = true;\r\n                config.ngClasses['pip-shadow-xs'] = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showShadow() {\r\n                config.ngClasses['pip-shadow'] = true;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function hideShadow() {\r\n                config.ngClasses['pip-shadow'] = false;\r\n                config.ngClasses['pip-shadow-sm'] = false;\r\n                config.ngClasses['pip-shadow-xs'] = false;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function getOrSetPart(name, value) {\r\n                if (!_.isString(name))\r\n                    throw new Error(\"Part name has to be a string\");\r\n\r\n                if (value != undefined) {\r\n                    if (config.parts[name] != value) {\r\n                        config.parts[name] = value;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts[name];\r\n            }\r\n\r\n            function getOrSetParts(parts) {\r\n                if (_.isObject(parts)) {\r\n                    if (!_.isEqual(config.parts, parts)) {\r\n                        config.parts = parts;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts;\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipAppBarChanged', config);\r\n            }\r\n        };\r\n\r\n        function theme(theme) {\r\n            config.theme = theme || config.theme;\r\n\r\n            return config.theme;\r\n        }\r\n\r\n        function initParts(parts) {\r\n            if (_.isObject(parts)) {\r\n                config.parts = parts;\r\n            }\r\n            return config.parts;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","import { BreadcrumbConfig } from './breadcrumb_service';\r\nimport { IBreadcrumbService } from './breadcrumb_service';\r\nimport { BreadcrumbChangedEvent } from './breadcrumb_service';\r\nimport { BreadcrumbBackEvent } from './breadcrumb_service';\r\n\r\nclass BreadcrumbController {\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _window: ng.IWindowService;\r\n    \r\n    public config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope,\r\n        $element: any, \r\n        $attrs: any, \r\n        $rootScope: ng.IRootScopeService,\r\n        $window: ng.IWindowService,\r\n        $state: ng.ui.IStateService,\r\n        pipBreadcrumb: IBreadcrumbService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._rootScope = $rootScope;\r\n        this._window = $window;\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, this.onBreadcrumbChanged);\r\n        $rootScope.$on(BreadcrumbBackEvent, this.onBreadcrumbBack);\r\n    }\r\n\r\n    private onBreadcrumbChanged(event, config) {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack() {\r\n        let items = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let backCallback = (<any>items[items.length - 1]).click;\r\n            if (_.isFunction(backCallback)) \r\n                backCallback();\r\n            else\r\n                this._window.history.back();\r\n        } else\r\n            this._window.history.back();\r\n    }\r\n\r\n    public onBreadcrumbClick(item) {\r\n        if (_.isFunction(item.click))\r\n            item.click(item);\r\n    }\r\n\r\n    public onSearchOpen() {\r\n        this._rootScope.$broadcast('pipSearchOpen');\r\n    }\r\n}\r\n\r\nfunction breadcrumbDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {},\r\n        replace: false,\r\n        templateUrl: function (element, attr) {\r\n            return 'breadcrumb/breadcrumb.html';\r\n        },\r\n        controller: BreadcrumbController,\r\n        controllerAs: 'vm'\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipBreadcrumb', [\r\n        'ngMaterial',\r\n        'pipNav.Templates',\r\n        'pipNav.Translate',\r\n        'pipBreadcrumb.Service'\r\n    ])\r\n    .directive('pipBreadcrumb', breadcrumbDirective);\r\n","export let BreadcrumbChangedEvent = \"pipBreadcrumbChanged\";\r\nexport let BreadcrumbBackEvent = \"pipBreadcrumbBack\";\r\n\r\nexport class BreadcrumbItem {\r\n    title: string;\r\n    click: () => void;\r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n}\r\n\r\nexport interface IBreadcrumbService {\r\n    config: BreadcrumbConfig;\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n}\r\n\r\nexport interface IBreadcrumbProvider extends ng.IServiceProvider {\r\n    text: string;\r\n}\r\n\r\nclass BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: BreadcrumbConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendEvent();\r\n    }\r\n\r\n    public sendEvent() {\r\n        this._rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass BreadcrumbProvider implements IBreadcrumbProvider {\r\n    private _config: BreadcrumbConfig = { \r\n        text: null,\r\n        items: null,\r\n        criteria: null\r\n    };\r\n    private _service: IBreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): any {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipBreadcrumb.Service', [])\r\n    .provider('pipBreadcrumb', BreadcrumbProvider);\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDropdown', ['pipNav.Templates']);\r\n\r\n    thisModule.directive('pipDropdown',\r\n        function ($mdMedia) {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    actions: '=pipActions',\r\n                    showDropdown: '&pipShow',\r\n                    activeIndex: '=pipActiveIndex',\r\n                    select: '=pipDropdownSelect'\r\n                },\r\n                templateUrl: 'dropdown/dropdown.html',\r\n                controller:\r\n                    function ($scope, $element, $attrs, localStorageService) {\r\n                        // Todo: Remove dependency on local storage or make it optional\r\n                        $scope.class = ($attrs.class || '') + ' md-' + localStorageService.get('theme') + '-theme';\r\n                        //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n                        $scope.$mdMedia = $mdMedia;\r\n                        $scope.actions = ($scope.actions && _.isArray($scope.actions)) ? $scope.actions : [];\r\n                        $scope.activeIndex = $scope.activeIndex || 0;\r\n\r\n                        $scope.disabled = function () {\r\n                            if ($scope.ngDisabled()) {\r\n                                return $scope.ngDisabled();\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        };\r\n\r\n                        $scope.onSelect = function (index) {\r\n                            $scope.activeIndex = index;\r\n                            if ($scope.select) {\r\n                                $scope.select($scope.actions[index], $scope.activeIndex);\r\n                            }\r\n                        };\r\n\r\n                        $scope.show = function () {\r\n                            if ($scope.showDropdown()) {\r\n                                return $scope.showDropdown();\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        };\r\n\r\n                    }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nmodule pip.nav {\r\n    'use strict';\r\n\r\n    class LanguagePickerController {\r\n        private _translate: any;\r\n        private _timeout: ng.ITimeoutService;\r\n\r\n        public constructor(\r\n            $scope: any, \r\n            $element: any, \r\n            $attrs: any, \r\n            $rootScope: ng.IRootScopeService, \r\n            $timeout: ng.ITimeoutService,\r\n            $injector: any\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._timeout = $timeout;\r\n            this._translate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.languages = $scope.languages;\r\n\r\n            // Todo: Where is this event coming from? Why not through service or attribute?\r\n            $rootScope.$on('pipSetLanguages', this.setLanguages);\r\n        }\r\n\r\n        public languages: string[] = ['en', 'ru'];\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(lang) {\r\n            this.languages = lang.length > 0 ? lang : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language) {\r\n            if (this._translate != null) {\r\n                this._timeout(() => {\r\n                    this._translate.language = this.language;\r\n                }, 0);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function languagePickerDirective() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                languages: '=languages',\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'language_picker/language_picker.html';\r\n            },\r\n            controller: LanguagePickerController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .directive('pipLanguagePicker', languagePickerDirective);\r\n}\r\n","/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\nmodule pip.nav {\r\n    'use strict';\r\n\r\n    angular.module('pipNav', [\r\n        'pipNav.Service',\r\n\r\n        'pipDropdown',\r\n        'pipTabs',\r\n\r\n        'pipAppBar',\r\n        'pipNavIcon',\r\n        'pipBreadcrumb',\r\n        'pipPrimaryActions', \r\n        'pipSecondaryActions',\r\n        'pipSideNav',\r\n        'pipNavMenu',\r\n        'pipNavHeader',\r\n        'pipStickySideNav',\r\n        'pipStickyNavMenu',\r\n        'pipStickyNavHeader'\r\n    ]);\r\n    \r\n}\r\n\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavHeader', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipNavHeader.Service']);\r\n\r\n    // Main application nav-header directive\r\n    thisModule.directive('pipNavHeader', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               title: '=pipTitle',\r\n               subtitle: '=pipSubTitle',\r\n               imageUrl: '=pipImage',\r\n               imageCss: '=pipImageCss'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'nav_header/nav_header.html',\r\n           controller: 'pipNavHeaderController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipNavHeaderController', \r\n        function ($scope, $element, $rootScope, $timeout, pipNavHeader) {\r\n           \r\n            var \r\n                image = null, \r\n                imageBlock = $element.find('.pip-nav-header-user'),\r\n                $image;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-header');\r\n\r\n            $rootScope.$on('pipIdentityChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavHeaderImageChanged', onIdentityChanged);\r\n\r\n            $scope.onUserClick = onUserClick;\r\n\r\n            $timeout(function() {\r\n                $image = $element.find('.pip-nav-header-user-image')\r\n                onIdentityChanged();\r\n                $image.load(function ($event) {\r\n                    image = $($event.target);\r\n                    setImageMarginCSS(imageBlock, image);\r\n                });                \r\n            }, 10);\r\n\r\n            return;\r\n\r\n            //------------------------\r\n            function setImageMarginCSS(container, image) {\r\n                var cssParams = {},\r\n                    containerWidth = container.width ? container.width() : container.clientWidth, \r\n                    containerHeight = container.height ? container.height() : container.clientHeight, \r\n                    imageWidth = image[0].naturalWidth || image.width,\r\n                    imageHeight = image[0].naturalHeight || image.height,\r\n                    margin = 0;\r\n\r\n                if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                    margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                    cssParams['margin-left'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + containerHeight + 'px';\r\n                    cssParams['width'] = '' + imageWidth * containerHeight/imageHeight + 'px';\r\n                    cssParams['margin-top'] = '';\r\n                } else {\r\n                    margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                    cssParams['margin-top'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + imageHeight * containerWidth/imageWidth + 'px';\r\n                    cssParams['width'] = '' + containerWidth + 'px';\r\n                    cssParams['margin-left'] = '';\r\n                }\r\n\r\n                image.css(cssParams);\r\n            };\r\n                        \r\n            function onIdentityChanged() {\r\n                var url: string,\r\n                    config = pipNavHeader.config();\r\n\r\n                url = $scope.imageUrl ? $scope.imageUrl : config.defaultImageUrl;\r\n                if (url) {\r\n                    console.log('url', url);\r\n                    $image.attr('src', url);\r\n                } else {\r\n                    console.log('display none');\r\n                    imageBlock.css('display', 'none');\r\n                }\r\n                \r\n            }\r\n\r\n            function onUserClick() {\r\n                $rootScope.$broadcast('pipNavUserClicked');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavIcon',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavIcon.Service']);\r\n\r\n    thisModule.directive('pipNavIcon', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                type: '=pipType',\r\n                imageUrl: '=pipImageUrl'\r\n            },\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'nav_icon/nav_icon.html';\r\n            },\r\n            controller: 'pipNavIconController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipNavIconController',\r\n        function ($scope, $element, $attrs, $rootScope, $window, pipNavIcon) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-icon');\r\n\r\n            $scope.config = pipNavIcon.config();\r\n\r\n            $rootScope.$on('pipNavIconChanged', onNavIconChanged);\r\n\r\n            $scope.onNavIconClick = onNavIconClick;\r\n\r\n            function onNavIconChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onNavIconClick() {\r\n                var breadcrumb, backCallback;\r\n\r\n                if (_.isFunction($scope.config.callback)) {\r\n                    // Execute nav icon callback\r\n                    $scope.config.callback();\r\n                } else if ($scope.config.event) {\r\n                    $rootScope.$broadcast($scope.config.event);\r\n                } else if ($scope.config.type == 'menu') {\r\n                    $rootScope.$broadcast('pipOpenSideNav');\r\n                } else if ($scope.config.type == 'back') {\r\n                    $window.history.back();\r\n                } else {\r\n                    $rootScope.$broadcast('pipNavIconClicked');\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavIcon.Service', []);\r\n\r\n    thisModule.provider('pipNavIcon', function (): any {\r\n        var config = {\r\n            // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n            type: 'menu',\r\n            // Image url\r\n            imageUrl: null,\r\n            // Icon name\r\n            iconName: 'back',\r\n            // Handle nav icon click event\r\n            callback: null,\r\n            // Event name\r\n            event: null\r\n        };\r\n\r\n        this.config = getConfig;\r\n        this.clear = clear;\r\n        this.menu = setMenu;\r\n        this.back = setBack;\r\n        this.icon = setIcon;\r\n        this.image = setImage;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                hide: hide,\r\n                menu: showMenu,\r\n                back: showBack,\r\n                icon: showIcon,\r\n                image: showImage\r\n            };\r\n\r\n            // ----------------------\r\n            \r\n            function hide() {\r\n                clear();\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showMenu(callbackOrEvent) {\r\n                setMenu(callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showIcon(iconName, callbackOrEvent) {\r\n                setIcon(iconName, callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showBack(callbackOrEvent) {\r\n                setBack(callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function showImage(imageUrl, callbackOrEvent) {\r\n                setImage(imageUrl, callbackOrEvent);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipNavIconChanged', config);\r\n            }\r\n\r\n        };\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show navigation icon\r\n        function clear() {\r\n            config.type = 'none';\r\n            config.callback = null;\r\n            config.event = null;\r\n        }\r\n\r\n        function setMenu(callbackOrEvent) {\r\n            config.type = 'menu';\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setIcon(iconName, callbackOrEvent) {\r\n            config.type = 'icon';\r\n            config.iconName = iconName;\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setBack(callbackOrEvent) {\r\n            config.type = 'back';\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n        function setImage(imageUrl, callbackOrEvent) {\r\n            config.type = 'image';\r\n            config.imageUrl = imageUrl;\r\n            config.callback = null;\r\n            config.event = null;\r\n\r\n            if (_.isFunction(callbackOrEvent))\r\n                config.callback = callbackOrEvent;\r\n            if (_.isString(callbackOrEvent))\r\n                config.event = callbackOrEvent;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavMenu', \r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavMenu.Service']);\r\n\r\n    // Main application navmenu directive\r\n    thisModule.directive('pipNavMenu', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               config: '=pipLinks'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'nav_menu/nav_menu.html',\r\n           controller: 'pipNavMenuController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipNavMenuController', \r\n        function ($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-nav-menu');\r\n\r\n            $scope.config = $scope.config || pipNavMenu.get();\r\n\r\n            $rootScope.$on('pipNavMenuChanged', onConfigChanged);\r\n\r\n            $scope.itemVisible = itemVisible;\r\n            $scope.onLinkClick = onLinkClick;\r\n            $scope.isSectionEmpty = isSectionEmpty;\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n            \r\n            function itemVisible(item) {\r\n                return item && item.access && !item.access(item);\r\n            }\r\n\r\n            function isSectionEmpty(linkCollection) {\r\n                var result = true;\r\n                _.each(linkCollection, function(link){\r\n                    if (!itemVisible(link))\r\n                        result = false;\r\n                });\r\n                return result;\r\n            }\r\n\r\n            function onConfigChanged(event, config) {\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onLinkClick(event, link) {\r\n                event.stopPropagation();\r\n\r\n                if (!link) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                if (link.href) {\r\n                    if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $window.location.href = link.href;\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.url) {\r\n                    if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $location.url(link.url);\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.state) {\r\n                    var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n                    \r\n                    if ($state != null && $state.current.name === link.state) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        if ($injector.has('$state')) {\r\n                            var $state = $injector.get('$state');\r\n                            $state.go(link.state, link.stateParams);\r\n                        }\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.event)\r\n                    $rootScope.$broadcast(link.event, link);\r\n\r\n                pipSideNav.close();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","'use strict';\r\n\r\nimport { IBreadcrumbService } from './breadcrumb/breadcrumb_service';\r\n\r\nexport interface INavService {\r\n    appBar: any;\r\n    navIcon: any; \r\n    breadcrumb: IBreadcrumbService;\r\n    actions: any;\r\n    search: any;\r\n    sideNav: any;\r\n    navHeader: any;\r\n    navMenu: any;   \r\n}\r\n\r\nclass NavService implements INavService {\r\n    public constructor($injector) {\r\n        \"ngInject\";\r\n\r\n        this.appBar = $injector.has('pipAppBar') ? $injector.get('pipAppBar') : null;\r\n        this.navIcon = $injector.has('pipNavIcon') ? $injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? $injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? $injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? $injector.get('pipSearch') : null;\r\n        this.sideNav = $injector.has('pipSideNav') ? $injector.get('pipSideNav') : null;\r\n        this.navHeader = $injector.has('pipNavHeader') ? $injector.get('pipNavHeader') : null;\r\n        this.navMenu = $injector.has('pipNavMenu') ? $injector.get('pipNavMenu') : null;    \r\n    }\r\n\r\n    public appBar: any;\r\n    public navIcon: any;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: any;\r\n    public search: any;\r\n    public sideNav: any;        \r\n    public navHeader: any;\r\n    public navMenu: any;    \r\n}\r\n\r\nangular.module('pipNav.Service', [])\r\n    .service('pipNavService', NavService);\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavHeader.Service', []);\r\n\r\n    thisModule.provider('pipNavHeader', function (): any {\r\n        var config = {\r\n            // Image url\r\n            defaultImageUrl: null,\r\n        };\r\n\r\n        this.config = getConfig;\r\n        this.clear = clear;\r\n        this.image = setImage;\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            return {\r\n                config: getConfig,\r\n                image: showImage\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function showImage(imageUrl) {\r\n                setImage(imageUrl);\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipNavHeaderImageChanged', config);\r\n            }\r\n\r\n        };\r\n\r\n        function getConfig() {\r\n            return config;\r\n        }\r\n\r\n        // Show navigation icon\r\n        function clear() {\r\n            config.defaultImageUrl = null;\r\n        }\r\n\r\n        function setImage(imageUrl) {\r\n            config.defaultImageUrl = imageUrl;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipNavMenu.Service', []);\r\n\r\n    thisModule.provider('pipNavMenu', function (): any {\r\n        var config = [],\r\n            collapsed = true,\r\n            sectionIcon: string;\r\n\r\n        this.sections = init;\r\n        this.sectionIcon = setOrGetIcon;\r\n        this.collapsed = setOrGetCollapsed;\r\n\r\n        this.$get = function ($rootScope, $mdSidenav) {\r\n            return {\r\n                get: getConfig,\r\n                set: setConfig,\r\n                setCounter: setCounter,\r\n                collapsed: setOrGetCollapsed,\r\n                icon: setOrGetIcon\r\n            };\r\n            \r\n            //---------------------\r\n\r\n            function getConfig() {\r\n\r\n                return config;  \r\n            }\r\n\r\n            function setConfig(newConfig) {\r\n                init(newConfig);\r\n                $rootScope.$broadcast('pipNavMenuChanged', config);\r\n\r\n                return config;  \r\n            }\r\n\r\n            function setCounter(linkTitle: string, counter: number) {\r\n                if (!linkTitle || !angular.isNumber(counter)) { return; }\r\n\r\n                let section: any, menuItem: any;\r\n\r\n                section = _.find(config, function(s) {\r\n                    let item = _.find(s.links, {title: linkTitle});\r\n                    if (item) {\r\n                        return item;\r\n                    } else { return false };\r\n                });\r\n\r\n                menuItem = _.find(section.links, {title: linkTitle});\r\n                menuItem.count = counter;\r\n                setConfig(config);\r\n            }\r\n        };\r\n\r\n        function setOrGetIcon(value: string) {\r\n            if (_.isString(value)) {\r\n                sectionIcon = value;\r\n            }\r\n\r\n            return sectionIcon;\r\n        }\r\n\r\n        function setOrGetCollapsed(value: boolean) {\r\n            if (value !== undefined) {\r\n                collapsed = value;\r\n            }\r\n\r\n            return collapsed;\r\n        }\r\n\r\n        function init(newConfig) {\r\n            if (_.isArray(newConfig)) {\r\n                config = newConfig;\r\n            }\r\n\r\n            return config;\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav.Part', ['pipSideNav.Service']);\r\n\r\n    // Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n    thisModule.directive('pipSidenavPart', function (ngIfDirective) {\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function($scope: any, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = function() { return $scope.visible };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: 'pipSideNavPartController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSideNavPartController',\r\n        function ($scope, $element, $attrs, $rootScope, pipSideNav) {\r\n            var partName = '' + $attrs.pipSidenavPart;\r\n            var partValue = null;\r\n\r\n            // Break part apart\r\n            var pos = partName.indexOf(':');\r\n            if (pos > 0) {\r\n                partValue = partName.substr(pos + 1);\r\n                partName = partName.substr(0, pos);\r\n            }\r\n\r\n            onSideNavChanged(null, pipSideNav.config())\r\n\r\n            $rootScope.$on('pipSideNavChanged', onSideNavChanged);\r\n\r\n            function onSideNavChanged(event, config) {\r\n                var parts = config.parts || {};\r\n                var currentPartValue = config[partName];\r\n                // Set visible variable to switch ngIf\r\n                $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav.Service', []);\r\n\r\n    thisModule.provider('pipSideNav', function (): any {\r\n        var config = {\r\n            // Theme to be applied to the header\r\n            theme: 'default',\r\n            // Parts of the sidenav\r\n            parts: []\r\n        },\r\n        sideNavId = 'pip-sidenav'; // sidenav identificatior\r\n\r\n        this.id = id; \r\n        this.theme = theme;\r\n        this.parts = initParts;\r\n\r\n        this.$get = function ($rootScope, $mdSidenav) {\r\n            $rootScope.$on('pipOpenSideNav', open);\r\n            $rootScope.$on('pipCloseSideNav', close);\r\n\r\n            return {\r\n                config: getConfig,\r\n                //theme: setTheme,\r\n                part: getOrSetPart,\r\n                parts: getOrSetParts,\r\n                id: getOrSetId,\r\n                open: open,\r\n                close: close,\r\n                toggle: toggle\r\n            };\r\n\r\n            //---------------------\r\n\r\n            function getConfig() {\r\n                return config;  \r\n            }\r\n                            \r\n            function getOrSetPart(name, value) {\r\n                if (!_.isString(name))\r\n                    throw new Error(\"Part name has to be a string\");\r\n\r\n                if (value != undefined) {\r\n                    if (config.parts[name] != value) {\r\n                        config.parts[name] = value;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts[name];\r\n            }\r\n\r\n            function getOrSetId(id) {\r\n                if (_.isString(id)) {\r\n                    if (sideNavId !== id) {\r\n                        sideNavId = id;\r\n                    }\r\n                }\r\n\r\n                return sideNavId;\r\n            }\r\n\r\n            function getOrSetParts(parts) {\r\n                if (_.isObject(parts)) {\r\n                    if (!_.isEqual(config.parts, parts)) {\r\n                        config.parts = parts;\r\n                        sendConfigEvent();\r\n                    }\r\n                }\r\n\r\n                return config.parts;\r\n            }\r\n                            \r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipSideNavChanged', config);\r\n            }\r\n\r\n            function open(event) {\r\n                console.log('open pip', sideNavId);\r\n                $mdSidenav(sideNavId).open();\r\n            }\r\n                 \r\n            function close(event) {\r\n                console.log('close pip', sideNavId);\r\n                $mdSidenav(sideNavId).close();   \r\n            }                \r\n\r\n            function toggle() {\r\n                console.log('toggle pip', sideNavId);\r\n                $mdSidenav(sideNavId).toggle();   \r\n                $rootScope.$broadcast('pipSideNavToggle', config);\r\n            }\r\n        };\r\n\r\n        function id(id) {\r\n            sideNavId = id || sideNavId;\r\n\r\n            return sideNavId;\r\n        }\r\n\r\n        function theme(theme) {\r\n            config.theme = theme || config.theme;\r\n\r\n            return config.theme;\r\n        }\r\n\r\n        function initParts(parts) {\r\n            if (_.isObject(parts)) {\r\n                config.parts = parts;\r\n            }\r\n\r\n            return config.parts;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSearchBar',\r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipSearch.Service']);\r\n\r\n    thisModule.run(function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate && pipTranslate.setTranslations) {\r\n            pipTranslate.setTranslations('en', {\r\n                'APPBAR_SEARCH': 'Search'\r\n            });\r\n\r\n            pipTranslate.setTranslations('ru', {\r\n                'APPBAR_SEARCH': ''\r\n            });\r\n        }\r\n    });\r\n\r\n    // Main application header directive\r\n    thisModule.directive('pipSearchBar', function () {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {},\r\n            replace: false,\r\n            templateUrl: function (element, attr) {\r\n                return 'search_bar/search_bar.html';\r\n            },\r\n            controller: 'pipSearchBarController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipSearchBarController',\r\n        function ($scope, $element, $attrs, $rootScope, pipSearch) {\r\n            // Apply class and call resize\r\n            $element.addClass('pip-search-bar');\r\n\r\n            $scope.config = pipSearch.config();\r\n\r\n            $scope.searchEnabled = false;\r\n            $scope.search = {text: ''};\r\n\r\n            $rootScope.$on('pipSearchChanged', onSearchBarChanged);\r\n\r\n            $scope.onSearchEnable = onSearchEnable;\r\n            $scope.onSearchClick = onSearchClick;\r\n            $scope.onSearchClear = onSearchClear;\r\n            $scope.onSearchKeyDown = onSearchKeyDown;\r\n\r\n            function onSearchBarChanged(event, config) {\r\n                $scope.config = config;\r\n                $scope.searchEnabled = false;\r\n                $scope.search.text = '';\r\n            }\r\n\r\n            function focusSearchText() {\r\n                var element;\r\n\r\n                setTimeout(function () {\r\n                    element = $('.pip-search-text');\r\n                    if (element.length > 0) {\r\n                        element.focus();\r\n                    }\r\n                }, 0);\r\n            }\r\n\r\n            function onSearchEnable() {\r\n                $scope.search.text = $scope.config.criteria;\r\n                $scope.searchEnabled = true;\r\n                focusSearchText();\r\n            }\r\n\r\n            function onSearchClick() {\r\n                var searchText = $scope.search.text;\r\n\r\n                $scope.search.text = '';\r\n                $scope.searchEnabled = false;\r\n\r\n                if ($scope.config.callback) {\r\n                    $scope.config.callback(searchText);\r\n                } else {\r\n                    $rootScope.$broadcast('pipSearchBarSearchClicked', searchText);\r\n                }\r\n            }\r\n\r\n            function onSearchClear() {\r\n                if ($scope.search.text) {\r\n                    $scope.search.text = '';\r\n\r\n                    focusSearchText();\r\n                } else {\r\n                    $scope.searchEnabled = false;\r\n                    onSearchClick();\r\n                }\r\n            }\r\n\r\n            function onSearchKeyDown(event) {\r\n                // Enter pressed\r\n                if (event.keyCode === 13) {\r\n                    $scope.onSearchClick();\r\n\r\n                    return;\r\n                }\r\n                // ESC pressed\r\n                if (event.keyCode === 27) {\r\n                    $scope.searchEnabled = false;\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSearch.Service', []);\r\n\r\n    thisModule.provider('pipSearch', function (): any {\r\n        var config = {\r\n            // Search visible\r\n            visible: false,\r\n            // Search criteria\r\n            criteria: '',\r\n            // History for search autocomplete\r\n            history: [],\r\n            // Callback for search\r\n            callback: null,\r\n        };\r\n\r\n        // Get the service instance\r\n        this.$get = function ($rootScope) {\r\n            $rootScope.$on('pipSearchOpen', open);\r\n            $rootScope.$on('pipSearchClose', close);\r\n\r\n            return {\r\n                config: getConfig,\r\n                set: setSearch,\r\n                clear: clearSearch,\r\n                criteria: updateCriteria,\r\n                history: updateHistory,\r\n            };\r\n\r\n            // ----------------------\r\n\r\n            function getConfig() {\r\n                return config;\r\n            }\r\n\r\n            function setSearch(callback, criteria, history) {\r\n                config.callback = callback;\r\n                config.criteria = criteria;\r\n                config.history = history;\r\n\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function clearSearch() {\r\n                config.callback = null;\r\n                config.criteria = null;\r\n\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function open(event) {\r\n                config.visible = true;\r\n                sendConfigEvent();                \r\n            }\r\n                 \r\n            function close(event) {\r\n                config.visible = false;\r\n                sendConfigEvent();                \r\n            }                \r\n\r\n            function toggle() {\r\n                config.visible = !config.visible;\r\n                sendConfigEvent();                \r\n            }                   \r\n\r\n            function updateCriteria(criteria) {\r\n                config.criteria = criteria;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function updateHistory(history) {\r\n                config.history = history;\r\n                sendConfigEvent();\r\n            }\r\n\r\n            function sendConfigEvent() {\r\n                $rootScope.$broadcast('pipSearchChanged', config);\r\n            }\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSideNav', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipSideNav.Part', 'pipSideNav.Service']);\r\n\r\n    // Main application sidenav directive\r\n    thisModule.directive('pipSidenav', function() {\r\n       return {\r\n           restrict: 'E',\r\n           transclude: true,\r\n           scope: true,\r\n           templateUrl: 'sidenav/sidenav.html',\r\n           controller: 'pipSideNavController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipSideNavController', \r\n        function ($scope, $element, $rootScope, pipSideNav) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sidenav');\r\n            pipSideNav.id('pip-sidenav');\r\n\r\n            $rootScope.$on('pipNavIconClicked', onNavIconClick);\r\n            //$rootScope.$on('pipSideNavChanged', onConfigChanged);\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n\r\n            function onNavIconClick(event) {\r\n                pipSideNav.open();\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickyNavHeader', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipNavHeader.Service']);\r\n\r\n    // Main application nav-header directive\r\n    thisModule.directive('pipStickyNavHeader', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               title: '=pipTitle',\r\n               subtitle: '=pipSubTitle',\r\n               imageUrl: '=pipImage',\r\n               imageCss: '=pipImageCss'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'sticky_nav_header/sticky_nav_header.html',\r\n           controller: 'pipStickyNavHeaderController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipStickyNavHeaderController', \r\n        function ($scope, $element, $rootScope, $timeout, pipNavHeader) {\r\n           \r\n            var \r\n                image = null, \r\n                imageBlock = $element.find('.pip-sticky-nav-header-user'),\r\n                $image;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            $rootScope.$on('pipIdentityChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavHeaderImageChanged', onIdentityChanged);\r\n            $rootScope.$on('pipNavExpanded', resizeImage);\r\n            $scope.onUserClick = onUserClick;\r\n\r\n            $timeout(function() {\r\n                $image = $element.find('.pip-sticky-nav-header-user-image');\r\n                onIdentityChanged();\r\n                $image.load(function ($event) {\r\n                    image = $($event.target);\r\n                    setImageMarginCSS(imageBlock, image);\r\n                });                \r\n            }, 10);\r\n\r\n            return;\r\n\r\n            function resizeImage() {\r\n                if (!image) {\r\n                    image = $element.find('.pip-sticky-nav-header-user-image')\r\n                } \r\n                $timeout(function() {\r\n                    setImageMarginCSS(imageBlock, image);\r\n                }, 400);\r\n            }\r\n\r\n            //------------------------\r\n            function setImageMarginCSS(container, image) {\r\n                var cssParams = {},\r\n                    containerWidth = container.width ? container.width() : container.clientWidth, \r\n                    containerHeight = container.height ? container.height() : container.clientHeight, \r\n                    imageWidth = image[0].naturalWidth || image.width,\r\n                    imageHeight = image[0].naturalHeight || image.height,\r\n                    margin = 0;\r\n\r\n                if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                    margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                    cssParams['margin-left'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + containerHeight + 'px';\r\n                    cssParams['width'] = '' + imageWidth * containerHeight/imageHeight + 'px';\r\n                    cssParams['margin-top'] = '';\r\n                } else {\r\n                    margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                    cssParams['margin-top'] = '' + margin + 'px';\r\n                    cssParams['height'] = '' + imageHeight * containerWidth/imageWidth + 'px';\r\n                    cssParams['width'] = '' + containerWidth + 'px';\r\n                    cssParams['margin-left'] = '';\r\n                }\r\n\r\n                image.css(cssParams);\r\n            };\r\n                        \r\n            function onIdentityChanged() {\r\n                var url: string,\r\n                    config = pipNavHeader.config();\r\n\r\n                url = $scope.imageUrl ? $scope.imageUrl : config.defaultImageUrl;\r\n                if (url) {\r\n                    $image.attr('src', url);\r\n                } else {\r\n                    imageBlock.css('display', 'none');\r\n                }\r\n                \r\n            }\r\n\r\n            function onUserClick() {\r\n                $rootScope.$broadcast('pipNavUserClicked');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickyNavMenu', \r\n        ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates', 'pipNavMenu.Service']);\r\n\r\n    // Main application navmenu directive\r\n    thisModule.directive('pipStickyNavMenu', function() {\r\n       return {\r\n           restrict: 'EA',\r\n           scope: {\r\n               config: '=pipLinks',\r\n               collapsed: '=pipCollapsed'\r\n           },\r\n           replace: false,\r\n           templateUrl: 'sticky_nav_menu/sticky_nav_menu.html',\r\n           controller: 'pipStickyNavMenuController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipStickyNavMenuController', \r\n        function ($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\r\n\r\n            var pipSdeNavElement = $element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n            $scope.config = $scope.config || pipNavMenu.get();\r\n            setCollapsible();\r\n            $scope.expanded = true;\r\n            pipNavMenu.set($scope.config);\r\n            // todo set from services\r\n            $scope.defaultIicon = 'icons:folder';\r\n\r\n\r\n            $rootScope.$on('pipNavMenuChanged', onConfigChanged);\r\n\r\n            $scope.itemVisible = itemVisible;\r\n            $scope.onLinkClick = onLinkClick;\r\n            $scope.isSectionEmpty = isSectionEmpty;\r\n            $scope.onExpand = onExpand;\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n\r\n            function setCollapsible() {\r\n                var collapsed;\r\n                if (angular.isFunction($scope.collapsed)) {\r\n                    collapsed = $scope.collapsed();\r\n                } else {\r\n                    collapsed = $scope.collapsed !== false && $scope.collapsed !== 'false';\r\n                }\r\n\r\n                $scope.collapsibled = collapsed;\r\n                pipNavMenu.collapsed(collapsed);\r\n            }\r\n\r\n            function onExpand() {\r\n                $scope.expanded = !$scope.expanded;\r\n\r\n                if ($scope.expanded) {\r\n                    pipSdeNavElement.removeClass('pip-sticky-nav-small');\r\n                } else {\r\n                    pipSdeNavElement.addClass('pip-sticky-nav-small');\r\n                }\r\n                $rootScope.$broadcast('pipNavExpanded', $scope.expanded);\r\n            }\r\n            \r\n            function itemVisible(item) {\r\n                return item && item.access && !item.access(item);\r\n            }\r\n\r\n            function isSectionEmpty(linkCollection) {\r\n                var result = true;\r\n                _.each(linkCollection, function(link){\r\n                    if (!itemVisible(link))\r\n                        result = false;\r\n                });\r\n                return result;\r\n            }\r\n\r\n            function onConfigChanged(event, config) {\r\n                $scope.isCollapsed = pipNavMenu.collapsed();\r\n                $scope.config = config;\r\n            }\r\n\r\n            function onLinkClick(event, link) {\r\n                event.stopPropagation();\r\n\r\n                if (!link) {\r\n                    pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                if (link.href) {\r\n                    if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $window.location.href = link.href;\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.url) {\r\n                    if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        $location.url(link.url);\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.state) {\r\n                    var $state = $injector.has('$state') ? $injector.get('$state') : null;\r\n                    \r\n                    if ($state != null && $state.current.name === link.state) {\r\n                        pipSideNav.close();\r\n                        return;\r\n                    }\r\n\r\n                    pipSideNav.close();\r\n                    $timeout(function() {\r\n                        if ($injector.has('$state')) {\r\n                            var $state = $injector.get('$state');\r\n                            $state.go(link.state, link.stateParams);\r\n                        }\r\n                    }, 300);\r\n\r\n                    return;\r\n                }\r\n                else if (link.event)\r\n                    $rootScope.$broadcast(link.event, link);\r\n\r\n                pipSideNav.close();\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipStickySideNav', \r\n        ['ngMaterial', 'pipNav.Templates', 'pipSideNav.Part', 'pipSideNav.Service']);\r\n\r\n    // Main application sidenav directive\r\n    thisModule.directive('pipStickySidenav', function() {\r\n       return {\r\n           restrict: 'E',\r\n           transclude: true,\r\n           scope: true,\r\n           templateUrl: 'sticky_sidenav/sticky_sidenav.html',\r\n           controller: 'pipStickySideNavController'\r\n       };\r\n    });\r\n\r\n    thisModule.controller('pipStickySideNavController', \r\n        function ($scope, $element, $rootScope, pipSideNav, $mdMedia) {\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-sidenav');\r\n            $scope.$mdMedia = $mdMedia;\r\n\r\n            $rootScope.$on('pipNavIconClicked', onNavIconClick);\r\n            $rootScope.$on('pipSideNavToggle', onNavToggle);\r\n\r\n            pipSideNav.id('pip-sticky-sidenav');\r\n\r\n            return;\r\n            \r\n            //------------------------\r\n\r\n            function onNavIconClick(event) {\r\n                pipSideNav.open();\r\n            }\r\n\r\n            function onNavToggle(event) {\r\n                console.log('onNavToggle')\r\n                $element.addClass('overflow-visible');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipTabs\", ['pipNav.Templates']);\r\n\r\n    thisModule.directive('pipTabs',\r\n        function () {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    tabs: '=pipTabs',\r\n                    showTabs: '&pipShowTabs',\r\n                    showTabsShadow: '&pipTabsShadow',\r\n                    activeIndex: '=pipActiveIndex',\r\n                    select: '=pipTabsSelect'\r\n                },\r\n                templateUrl: 'tabs/tabs.html',\r\n                controller:\r\n                    function ($scope, $element, $attrs, $mdMedia, localStorageService, $injector) {\r\n                        // Todo: Remove dependency on local storage or made it optional\r\n                        $scope.class = ($attrs.class || '') + ' md-' + localStorageService.get('theme') + '-theme';\r\n                        $scope.$mdMedia = $mdMedia;\r\n                        $scope.tabs = ($scope.tabs && _.isArray($scope.tabs)) ? $scope.tabs : [];\r\n\r\n                        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n                        if (pipTranslate) {\r\n                            if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\r\n                                pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\r\n                            } else {\r\n                                pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\r\n                            }\r\n                        }\r\n\r\n                        $scope.activeIndex = $scope.activeIndex || 0;\r\n                        $scope.activeTab = $scope.activeIndex;\r\n\r\n                        $scope.disabled = function () {\r\n                            if ($scope.ngDisabled) {\r\n                                return $scope.ngDisabled();\r\n                            }\r\n                        };\r\n\r\n                        $scope.tabDisabled = function (index) {\r\n                            return ($scope.disabled() && $scope.activeIndex != index);\r\n                        };\r\n\r\n                        $scope.onSelect = function (index) {\r\n                            if ($scope.disabled()) return;\r\n\r\n                            $scope.activeIndex = index;\r\n                            $scope.activeTab = $scope.activeIndex;\r\n                            if ($scope.select) {\r\n                                $scope.select($scope.tabs[$scope.activeIndex], $scope.activeIndex);\r\n                            }\r\n                        };\r\n\r\n                        $scope.showShadow = function () {\r\n                            if ($scope.showTabsShadow) {\r\n                                return $scope.showTabsShadow();\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        };\r\n\r\n                        $scope.show = function () {\r\n                            if ($scope.showTabs) {\r\n                                return $scope.showTabs();\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        };\r\n                    }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/primary_actions.html',\n    '<md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryLocalActions\">\\n' +\n    '    <md-button class=\"pip-primary-actions-action md-icon-button\"\\n' +\n    '                ng-class=\"{ \\'pip-primary-actions-hide-sm\\': action.hideSmall,\\n' +\n    '                            \\'pip-primary-actions-show-sm\\': action.showSmall }\"\\n' +\n    '                ng-click=\"onActionClick(action, $mdOpenMenu);\"\\n' +\n    '                ng-hide=\"actionHidden(action)\"\\n' +\n    '                aria-label=\"{{action.tooltip | translate}}\">\\n' +\n    '        <!--<md-tooltip ng-if=\"action.tooltip\">{{action.tooltip | translate}}</md-tooltip>-->\\n' +\n    '        <div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">\\n' +\n    '            {{actionCount(action)}}\\n' +\n    '        </div>\\n' +\n    '        <md-icon md-svg-icon=\"{{action.icon}}\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-menu-content width=\"3\" >\\n' +\n    '        <md-menu-item ng-repeat-start=\"subAction in action.subActions\"\\n' +\n    '                        ng-if=\"!subAction.divider\"\\n' +\n    '                        ng-hide=\"actionHidden(subAction)\">\\n' +\n    '            <md-button ng-hide=\"subAction.divider\"\\n' +\n    '                        ng-click=\"onActionClick(subAction)\">\\n' +\n    '                {{subAction.title | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end></md-menu-divider>\\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '\\n' +\n    '<md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryGlobalActions\">\\n' +\n    '    <md-button class=\"pip-primary-actions-action md-icon-button\"\\n' +\n    '               ng-class=\"{ \\'pip-primary-actions-hide-sm\\': action.hideSmall,\\n' +\n    '                            \\'pip-primary-actions-show-sm\\': action.showSmall }\"\\n' +\n    '               ng-click=\"onActionClick(action, $mdOpenMenu);\"\\n' +\n    '               ng-hide=\"actionHidden(action)\"\\n' +\n    '               aria-label=\"{{action.tooltip | translate}}\">\\n' +\n    '        <!--<md-tooltip ng-if=\"action.tooltip\">{{action.tooltip | translate}}</md-tooltip>-->\\n' +\n    '        <div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">\\n' +\n    '            {{actionCount(action)}}\\n' +\n    '        </div>\\n' +\n    '        <md-icon md-svg-icon=\"{{action.icon}}\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-menu-content width=\"3\" >\\n' +\n    '        <md-menu-item ng-repeat-start=\"subAction in action.subActions\"\\n' +\n    '                      ng-if=\"!subAction.divider\"\\n' +\n    '                      ng-hide=\"actionHidden(subAction)\">\\n' +\n    '            <md-button ng-hide=\"subAction.divider\"\\n' +\n    '                       ng-click=\"onActionClick(subAction)\">\\n' +\n    '                {{subAction.title | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end></md-menu-divider>\\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/secondary_actions.html',\n    '<md-menu ng-if=\"secondaryActionsVisible()\"\\n' +\n    '    md-position-mode=\"target-right target\">\\n' +\n    '    <md-button class=\"md-icon-button\"\\n' +\n    '        ng-click=\"onSecondaryActionClick(); openMenu($mdOpenMenu, $event);\"\\n' +\n    '        aria-label=\"open actions\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:vdots\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-menu-content width=\"3\">\\n' +\n    '        <!-- Local secondary actions -->\\n' +\n    '        <md-menu-item ng-repeat-start=\"action in config.secondaryLocalActions\"\\n' +\n    '            ng-if=\"!action.divider\"\\n' +\n    '            ng-hide=\"actionHidden(action)\">\\n' +\n    '            <md-button ng-hide=\"action.divider\"\\n' +\n    '                ng-click=\"onActionClick(action)\">\\n' +\n    '                {{action.title | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"action.divider\" ng-repeat-end></md-menu-divider>\\n' +\n    '\\n' +\n    '        <md-menu-divider ng-if=\"secondaryDividerVisible()\" >\\n' +\n    '\\n' +\n    '        </md-menu-divider>\\n' +\n    '        <!-- Global secondary actions -->\\n' +\n    '        <md-menu-item ng-repeat-start=\"action in config.secondaryGlobalActions\"\\n' +\n    '            ng-if=\"!action.divider\"\\n' +\n    '            ng-hide=\"actionHidden(action)\">\\n' +\n    '            <md-button ng-hide=\"action.divider\"\\n' +\n    '                ng-click=\"onActionClick(action)\">\\n' +\n    '                {{action.title | translate}}\\n' +\n    '            </md-button>                    \\n' +\n    '        </md-menu-item>\\n' +\n    '        <md-menu-divider ng-if=\"action.divider\" ng-repeat-end>\\n' +\n    '        </md-menu-divider>                        \\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/appbar.html',\n    '<!--\\n' +\n    '@file App Bar component\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-toolbar md-theme-watch=\"true\" ng-if=\"!$partialReset && config.showAppBar\" ng-class=\"config.ngClasses\"\\n' +\n    '            class=\"{{ config.cssClass }}\" ng-transclude>\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/breadcrumb.html',\n    '<div>\\n' +\n    '    <div class=\"hide-xs text-overflow\">\\n' +\n    '        <!-- Search criteria -->\\n' +\n    '        <span ng-if=\"vm.config.criteria\"\\n' +\n    '            ng-click=\"vm.onSearchOpen()\">{{vm.config.criteria}} -</span>\\n' +\n    '        <!-- Breadcrumb navigation -->\\n' +\n    '        <span class=\"pip-breadcrumb-item\"\\n' +\n    '            ng-if=\"vm.config.items && vm.config.items.length > 0\"\\n' +\n    '            ng-repeat-start=\"item in vm.config.items\"\\n' +\n    '            ng-click=\"vm.onBreadcrumbClick(item)\"\\n' +\n    '            ng-init=\"stepWidth = 100/(vm.config.items.length + 1)\"\\n' +\n    '            ng-class=\"{\\'cursor-pointer\\': !$last}\"\\n' +\n    '            ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\">\\n' +\n    '            {{item.title | translate}}\\n' +\n    '        </span>\\n' +\n    '        <md-icon ng-repeat-end md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon>\\n' +\n    '        <!-- Text title -->\\n' +\n    '        <span class=\"pip-title\" ng-if=\"vm.config.text\">{{vm.config.text | translate}}</span>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <!-- Mobile breadcrumb dropdown -->\\n' +\n    '    <md-menu xmd-offset=\"0 48\" class=\"hide-gt-xs\">\\n' +\n    '        <span class=\"pip-mobile-breadcrumb layout-row\"\\n' +\n    '            ng-click=\"$mdOpenMenu()\"\\n' +\n    '            md-ink-ripple\\n' +\n    '            aria-label=\"open breadcrumb\">\\n' +\n    '            <span class=\"text-overflow\">\\n' +\n    '                <!-- Search criteria -->\\n' +\n    '                <span ng-if=\"vm.config.criteria\"\\n' +\n    '                    ng-click=\"vm.onSearchOpen()\">{{vm.config.criteria}} -</span>\\n' +\n    '                <span ng-if=\"vm.config.text\">    \\n' +\n    '                    {{vm.config.text | translate}}\\n' +\n    '                </span>   \\n' +\n    '                <span ng-if=\"vm.config.items && vm.config.items.length > 0\">    \\n' +\n    '                    {{vm.config.items[vm.config.items.length - 1].title | translate}}\\n' +\n    '                </span>                   \\n' +\n    '            </span>\\n' +\n    '            <md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '        </span>\\n' +\n    '        <md-menu-content width=\"3\">\\n' +\n    '            <md-menu-item  ng-repeat=\"item in vm.config.items\" ng-if=\"vm.config.items && vm.config.items.length > 0\">\\n' +\n    '                <md-button ng-click=\"vm.onBreadcrumbClick(item)\"><span>{{item.title | translate}}</span></md-button>\\n' +\n    '            </md-menu-item>\\n' +\n    '            <md-menu-item  ng-if=\"vm.config.text\">\\n' +\n    '                <md-button><span class=\"text-grey\">{{vm.config.text | translate}}</span></md-button>\\n' +\n    '            </md-menu-item>\\n' +\n    '        </md-menu-content>\\n' +\n    '    </md-menu>\\n' +\n    '\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{class}}\" ng-if=\"show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $mdMedia(\\'xs\\')}\">\\n' +\n    '    <div class=\"pip-divider\"></div>\\n' +\n    '        <md-select ng-model=\"selectedIndex\" ng-disabled=\"disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple md-on-close=\"onSelect(selectedIndex)\">\\n' +\n    '            <md-option ng-repeat=\"action in actions\" value=\"{{ ::$index }}\" ng-selected=\"activeIndex == $index ? true : false\">\\n' +\n    '                {{ (action.title || action.name) | translate }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '</md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language_picker/language_picker.html',\n    '<md-menu md-position-mode=\"target-right target\">\\n' +\n    '    <span class=\"pip-language\"\\n' +\n    '        ng-click=\"$mdOpenMenu()\"\\n' +\n    '        aria-label=\"language selection\">\\n' +\n    '        {{vm.language | translate}}\\n' +\n    '        <md-icon md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '    </span>\\n' +\n    '    <md-menu-content width=\"3\">\\n' +\n    '        <md-menu-item ng-repeat=\"language in vm.languages\">\\n' +\n    '            <md-button ng-click=\"vm.onLanguageClick(lang)\">{{language | translate}}</md-button>\\n' +\n    '        </md-menu-item>\\n' +\n    '    </md-menu-content>\\n' +\n    '</md-menu>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('nav_header/nav_header.html',\n    '<md-toolbar md-theme=\"{{ $theme }}\" ng-hide=\"!title\" class=\"layout-row layout-align-start-center\">\\n' +\n    '\\n' +\n    '    <md-button class=\"pip-nav-header-user md-icon-button\"\\n' +\n    '                ng-click=\"onUserClick()\"\\n' +\n    '                aria-label=\"current user\">\\n' +\n    '\\n' +\n    '        <img  src=\"\" class=\"pip-nav-header-user-image\" ng-class=\"imageCss\"></img>\\n' +\n    '    </md-button>\\n' +\n    '    \\n' +\n    '    <div class=\"pip-nav-header-user-text\">\\n' +\n    '        <a class=\"pip-nav-header-user-pri\"\\n' +\n    '            ng-click=\"onUserClick()\">\\n' +\n    '            {{ title }}\\n' +\n    '        </a>\\n' +\n    '        <div class=\"pip-nav-header-user-sec\">\\n' +\n    '            {{ subtitle | translate }}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('nav_icon/nav_icon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\"\\n' +\n    '            ng-if=\"config.type != \\'none\\'\"\\n' +\n    '            ng-class=\"config.class\"\\n' +\n    '            ng-click=\"onNavIconClick()\"\\n' +\n    '            aria-label=\"menu\">\\n' +\n    '    <!-- Menu icon -->\\n' +\n    '    <md-icon ng-if=\"config.type==\\'menu\\'\"\\n' +\n    '        md-svg-icon=\"icons:menu\"></md-icon>\\n' +\n    '    <!-- Image -->\\n' +\n    '    <img ng-src=\"{{config.imageUrl}}\" ng-if=\"config.type==\\'image\\'\" height=\"24\" width=\"24\">\\n' +\n    '    <!--<pip-avatar ng-if=\"config.navIconType==\\'menu\\' && (getParty() && !getUser(\\'owner\\'))\"\\n' +\n    '                pip-rebind-avatar=\"true\"\\n' +\n    '                pip-rebind=\"true\"\\n' +\n    '                pip-image-url=\"partyAvatarUrl\"\\n' +\n    '                pip-party-id=\"getParty(\\'id\\')\" class=\"pip-face\"\\n' +\n    '                pip-party-name=\"getParty(\\'name\\')\">\\n' +\n    '    </pip-avatar>-->\\n' +\n    '    <!-- Back icon -->\\n' +\n    '    <md-icon ng-if=\"config.type==\\'back\\'\"\\n' +\n    '        md-svg-icon=\"icons:arrow-left\"></md-icon>\\n' +\n    '    <!--Icon -->\\n' +\n    '    <md-icon ng-if=\"config.type==\\'icon\\'\"\\n' +\n    '             md-svg-icon=\"icons:{{config.iconName}}\"></md-icon>\\n' +\n    '</md-button>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('nav_menu/nav_menu.html',\n    '<md-list>\\n' +\n    '    <div class=\"pip-section\" ng-repeat=\"section in config\"\\n' +\n    '        ng-hide=\"section.access && !section.access(section)\">\\n' +\n    '        \\n' +\n    '        <md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider>\\n' +\n    '        <md-subheader ng-show=\"section.title\">{{::section.title | translate}}</md-subheader>\\n' +\n    '        \\n' +\n    '        <md-list-item class=\"pip-focusable no-border\" \\n' +\n    '            ng-repeat=\"link in section.links\"\\n' +\n    '            ng-click=\"onLinkClick($event, link)\"\\n' +\n    '            ng-hide=\"link.access && !link.access(link)\">\\n' +\n    '            <md-icon md-svg-icon=\"{{link.icon}}\" \\n' +\n    '                ng-hide=\"!link.icon\" \\n' +\n    '                class=\"tm0 bm0\"></md-icon>\\n' +\n    '            <p>{{::link.title | translate}}</p>\\n' +\n    '        </md-list-item>\\n' +\n    '    </div>\\n' +\n    '</md-list>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search_bar/search_bar.html',\n    '<div class=\"md-toolbar-tools layout-row\" ng-if=\"searchEnabled\">\\n' +\n    '    <md-button class=\"md-icon-button\" \\n' +\n    '        aria-label=\"start search\" \\n' +\n    '        ng-click=\"onSearchClick()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:search\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <input class=\"pip-search-text flex\"\\n' +\n    '        type=\"search\"\\n' +\n    '        ng-model=\"search.text\" \\n' +\n    '        ng-keydown=\"onSearchKeyDown($event)\" />\\n' +\n    '    <md-button class=\"md-icon-button\" \\n' +\n    '        aria-label=\"clear search\" \\n' +\n    '        ng-click=\"onSearchClear()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:cross-circle\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '<div class=\"md-toolbar-tools layout-row layout-align-end-center\"  ng-if=\"!searchEnabled\">\\n' +\n    '    <md-button class=\"md-icon-button\"\\n' +\n    '               aria-label=\"start search\"\\n' +\n    '               ng-click=\"onSearchEnable()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:search\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/sidenav.html',\n    '<!--\\n' +\n    '@file Side Nav component\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-sidenav class=\"md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg\"\\n' +\n    '    md-component-id=\"pip-sidenav\" ng-if=\"!$partialReset\" pip-focused ng-transclude>\\n' +\n    '</md-sidenav>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sticky_nav_header/sticky_nav_header.html',\n    '<md-toolbar md-theme=\"{{ $theme }}\" ng-hide=\"!title\" class=\"layout-row layout-align-start-center\">\\n' +\n    '\\n' +\n    '    <md-button class=\"pip-sticky-nav-header-user md-icon-button flex-fixed\"\\n' +\n    '                ng-click=\"onUserClick()\"\\n' +\n    '                aria-label=\"current user\">\\n' +\n    '\\n' +\n    '        <img  src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"imageCss\"></img>\\n' +\n    '    </md-button>\\n' +\n    '    \\n' +\n    '    <div class=\"pip-sticky-nav-header-user-text\">\\n' +\n    '        <div class=\"pip-sticky-nav-header-user-pri\"\\n' +\n    '            ng-click=\"onUserClick()\">\\n' +\n    '            {{ title }}\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-sticky-nav-header-user-sec\">\\n' +\n    '            {{ subtitle | translate }}\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sticky_nav_menu/sticky_nav_menu.html',\n    '<md-list>\\n' +\n    '    <md-list-item class=\"pip-focusable no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"onExpand()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:chevron-left\" ng-if=\"expanded\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\\n' +\n    '        <md-icon md-svg-icon=\"icons:chevron-right\" ng-if=\"!expanded\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\\n' +\n    '    </md-list-item>    \\n' +\n    '    <div class=\"pip-section\" ng-repeat=\"section in config\"\\n' +\n    '        ng-hide=\"section.access && !section.access(section)\">\\n' +\n    '\\n' +\n    '        <md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider>\\n' +\n    '        <md-subheader ng-show=\"section.title\" style=\"height: 48px;\">\\n' +\n    '             <!--|| !expanded && section.icon-->\\n' +\n    '            <span ng-if=\"expanded\" class=\"pip-sticky-nav-menu-title\"> \\n' +\n    '                {{::section.title | translate}}\\n' +\n    '            </span>\\n' +\n    '            <md-icon md-svg-icon=\"{{section.icon}}\" ng-if=\"!expanded && section.icon\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\\n' +\n    '            <md-icon md-svg-icon=\"{{defaultIicon}}\" ng-if=\"!expanded && !section.icon\" class=\"pip-sticky-nav-menu-icon\"></md-icon>\\n' +\n    '        </md-subheader>\\n' +\n    '        \\n' +\n    '        <md-list-item class=\"pip-focusable no-border pip-sticky-nav-menu-item\" \\n' +\n    '            ng-repeat=\"link in section.links\"\\n' +\n    '            ng-click=\"onLinkClick($event, link)\"\\n' +\n    '            ng-hide=\"link.access && !link.access(link)\">\\n' +\n    '\\n' +\n    '                <div class=\"pip-sticky-nav-menu-icon-block\">\\n' +\n    '                    <md-icon md-svg-icon=\"{{link.icon}}\" \\n' +\n    '                        ng-hide=\"!link.icon\" \\n' +\n    '                        class=\"pip-sticky-nav-menu-icon flex-fixed\">\\n' +\n    '                    </md-icon>\\n' +\n    '                </div>\\n' +\n    '                <p class=\"pip-sticky-nav-menu-title\">{{::link.title | translate}}</p>\\n' +\n    '\\n' +\n    '                <!--<div class=\"flex pip-sticky-nav-menu-expander\"></div>-->\\n' +\n    '                <div class=\"pip-sticky-nav-menu-badge color-badge-bg flex-fixed\" ng-if=\"link.count\">\\n' +\n    '                    {{link.count}} \\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '        </md-list-item>\\n' +\n    '    </div>\\n' +\n    '</md-list>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sticky_sidenav/sticky_sidenav.html',\n    '<!--\\n' +\n    '@file Sticky Side Nav component\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$mdMedia(\\'gt-xs\\')\" \\n' +\n    '    md-component-id=\"pip-sticky-sidenav\" ng-if=\"!$partialReset\" pip-focused ng-transclude>\\n' +\n    '</md-sidenav>\\n' +\n    '\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/tabs.html',\n    '<md-toolbar class=\"pip-nav {{ class }}\" ng-class=\"{\\'pip-visible\\': show(), \\'pip-shadow\\': showShadow()}\">\\n' +\n    '    <md-tabs ng-if=\"$mdMedia(\\'gt-xs\\')\" md-selected=\"activeTab\" ng-class=\"{\\'disabled\\': disabled()}\"\\n' +\n    '             md-stretch-tabs=\"true\" md-dynamic-height=\"true\">\\n' +\n    '        <md-tab ng-repeat=\"tab in tabs track by $index\" ng-disabled=\"tabDisabled($index)\"\\n' +\n    '                md-on-select=\"onSelect($index)\">\\n' +\n    '            <md-tab-label>\\n' +\n    '                {{::tab.nameLocal }}\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">\\n' +\n    '                    {{::tab.newCounts }}\\n' +\n    '                </div>\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div>\\n' +\n    '            </md-tab-label>\\n' +\n    '        </md-tab>\\n' +\n    '    </md-tabs>\\n' +\n    '    <div class=\"md-subhead pip-tabs-content color-primary-bg  \" ng-if=\"$mdMedia(\\'xs\\')\">\\n' +\n    '        <div class=\"pip-divider position-top m0\"></div>\\n' +\n    '        <md-select ng-model=\"activeIndex\" ng-disabled=\"disabled()\"\\n' +\n    '                   md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple\\n' +\n    '                   md-on-close=\"onSelect(activeIndex)\">\\n' +\n    '            <md-option ng-repeat=\"tab in tabs track by $index\" value=\"{{ ::$index }}\">\\n' +\n    '                {{ ::tab.nameLocal }}\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">\\n' +\n    '                    {{ ::tab.newCounts }}\\n' +\n    '                </div>\\n' +\n    '                <div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div>\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </div>\\n' +\n    '</md-toolbar>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.js.map\n","(function () {\r\n    'use strict';\r\n    angular.module('pipTheme.Bootbarn', [\r\n        'pipTheme.Bootbarn.Warm',\r\n        'pipTheme.Bootbarn.Cool',\r\n        'pipTheme.Bootbarn.Monochrome'\r\n    ]);\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Bootbarn.Cool', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     'bootbarn-cool': 'Cool'\r\n        // });\r\n\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     'bootbarn-cool': ''\r\n        // });\r\n        \r\n        var coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(69, 90, 100, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\r\n\r\n        var coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n            '300': 'rgba(69, 90, 100, .54)',\r\n            '500': 'rgba(69, 90, 100, 1)',\r\n            'contrastLightColors': ['500', '300']\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\r\n\r\n\r\n        var coolAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            'A700': 'rgba(76, 175, 80, 1)',\r\n            'contrastLightColors': ['A700']\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\r\n\r\n        $mdThemingProvider.theme('bootbarn-cool')\r\n            .primaryPalette('bootbarn-cool-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('bootbarn-cool-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('bootbarn-cool-accent', {\r\n                'default': 'A700'\r\n            });\r\n\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Bootbarn.Monochrome', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     'bootbarn-monochrome': 'Monochrome'\r\n        // });\r\n\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     'bootbarn-monochrome': ''\r\n        // });\r\n        \r\n        var monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(38, 50, 56, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\r\n\r\n        var monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\r\n            '300': 'rgba(38, 50, 56, .54)',\r\n            '500': 'rgba(38, 50, 56, 1)',\r\n            'contrastLightColors': ['500', '300']\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\r\n\r\n\r\n        var monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n            'A700': 'rgba(76, 175, 80, 1)',\r\n            'contrastLightColors': ['A700']\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\r\n\r\n        $mdThemingProvider.theme('bootbarn-monochrome')\r\n            .primaryPalette('bootbarn-monochrome-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('bootbarn-monochrome-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('bootbarn-monochrome-accent', {\r\n                'default': 'A700'\r\n            });\r\n\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Bootbarn.Warm', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     'bootbarn-warm': 'Warm'\r\n        // });\r\n\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     'bootbarn-warm': ''\r\n        // });\r\n\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n        var warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n                'A100': 'rgba(250, 250, 250, 1)',\r\n                'A200': 'rgba(177, 55, 34, 1)'\r\n            })\r\n            ;\r\n        $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\r\n\r\n        var warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\r\n            '300': 'rgba(177, 55, 34, .54)',\r\n            '500': 'rgba(177, 55, 34, 1)',\r\n            'contrastLightColors': ['500', '300']\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\r\n\r\n\r\n        var warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n            'A700': 'rgba(127, 148, 92, 1)',\r\n            'contrastLightColors': ['A700']\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\r\n\r\n        var warmErrorPalette = $mdThemingProvider.extendPalette('red', {\r\n            'A200': 'rgba(255, 87, 34, 1)',\r\n            'contrastLightColors': ['A200']\r\n        });\r\n        $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\r\n\r\n        $mdThemingProvider.theme('bootbarn-warm')\r\n            .primaryPalette('bootbarn-warm-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('bootbarn-warm-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('bootbarn-warm-error', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('bootbarn-warm-accent', {\r\n                'default': 'A700'\r\n            });\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Default', ['pipTheme.Blue', 'pipTheme.Pink',\r\n        'pipTheme.Amber', 'pipTheme.Orange', 'pipTheme.Green', 'pipTheme.Navy', 'pipTheme.Grey']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme'\r\n        // });\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: ''\r\n        // });\r\n\r\n        $mdThemingProvider.setDefaultTheme('default');\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Amber', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     amber: 'Amber'\r\n        // });\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     amber: ''\r\n        // });\r\n\r\n        var orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(255, 152, 0, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\r\n\r\n        var orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n            '800': 'rgba(255, 152, 0, 1)',\r\n            '900': 'rgba(255, 152, 0, .54);'\r\n        });\r\n        $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\r\n\r\n        $mdThemingProvider.theme('amber')\r\n            .primaryPalette('orange-primary', {\r\n                'default': '800',\r\n                'hue-1': '900'\r\n            })\r\n            .backgroundPalette('orange-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('orange', {\r\n                'default': '900'\r\n            });\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n        \r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Black', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        // });\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: ''\r\n        // });\r\n        \r\n        registerDarkTheme('dark');\r\n        registerBlackTheme('black');\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n        function registerDarkTheme(themeName) {\r\n            var darkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n                '600': 'rgba(48, 48, 48, 1)',\r\n                '700': 'rgba(255, 255, 255, 0.54)',\r\n                '800': 'rgba(66, 66, 66, 1)'\r\n            });\r\n            $mdThemingProvider.definePalette('dark-background', darkBackgroundPalette);\r\n\r\n            var darkAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n                '600': 'rgba(0, 200, 83, 1)'\r\n            });\r\n            $mdThemingProvider.definePalette('dark-accent', darkAccentPalette);\r\n\r\n            $mdThemingProvider.theme(themeName)\r\n                .primaryPalette('dark-background', {\r\n                    'default': '900',\r\n                    'hue-1': '700'\r\n                })\r\n                .backgroundPalette('dark-background', {\r\n                    'default': '800',  // background\r\n                    'hue-1': '900',  // tiles dialog\r\n                    'hue-2': 'A700'   // app bar\r\n                })\r\n                .warnPalette('red', {\r\n                    'default': 'A200'\r\n                })\r\n                .accentPalette('dark-accent', {\r\n                    'default': '600'\r\n                });\r\n        }\r\n\r\n        function registerBlackTheme(themeName) {\r\n            var blackBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n                '600': 'rgba(48, 48, 48, 1)',\r\n                '700': 'rgba(255, 255, 255, 0.54)',\r\n                '800': 'rgba(66, 66, 66, 1)',\r\n                '500': 'rgba(38, 50, 56, 1)'\r\n            });\r\n            $mdThemingProvider.definePalette('black-background', blackBackgroundPalette);\r\n\r\n            var blackAccentPalette = $mdThemingProvider.extendPalette('blue-grey', {\r\n                '700': 'rgba(255, 255, 255, 0.54)'\r\n            });\r\n            $mdThemingProvider.definePalette('black-accent', blackAccentPalette);\r\n\r\n            $mdThemingProvider.theme(themeName)\r\n                .primaryPalette('black-accent', {\r\n                    'default': '900',\r\n                    'hue-1': '700'\r\n                })\r\n                .backgroundPalette('black-background', {\r\n                    'default': '800',  // background\r\n                    'hue-1': '500',  // tiles dialog\r\n                    'hue-2': '800'   // app bar\r\n                })\r\n                .warnPalette('red', {\r\n                    'default': 'A200'\r\n                })\r\n                .accentPalette('black-accent', {\r\n                    'default': '600'\r\n                });\r\n        }\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Blue', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     blue: 'Blue',\r\n        // });\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     blue: ''\r\n        // });\r\n\r\n        registerBlueTheme('default');\r\n        registerBlueTheme('blue');\r\n\r\n        $mdThemingProvider.setDefaultTheme('default');\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n        function registerBlueTheme(themeName) {\r\n            var bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\r\n                'contrastDefaultColor': 'light',\r\n                'contrastDarkColors': undefined\r\n            });\r\n            $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\r\n\r\n            var blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n                'A100': 'rgba(250, 250, 250, 1)',\r\n                'A200': 'rgba(33, 150, 243, 1)'\r\n            });\r\n            $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\r\n\r\n            var blueAccentPalette = $mdThemingProvider.extendPalette('green', {\r\n                '600': 'rgba(0, 200, 83, 1)'\r\n            });\r\n            $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\r\n\r\n            $mdThemingProvider.theme(themeName)\r\n                .primaryPalette('blue-primary', {\r\n                    'default': '500',\r\n                    'hue-1': '300'\r\n                })\r\n                .backgroundPalette('blue-background', {\r\n                    'default': '50',  // background\r\n                    'hue-1': 'A200',  // tiles dialog\r\n                    'hue-2': 'A700'   // app bar\r\n                })\r\n                .warnPalette('red', {\r\n                    'default': 'A200'\r\n                })\r\n                .accentPalette('blue-accent', {\r\n                    'default': '600'\r\n                });\r\n        }\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Green', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     green: 'Green'\r\n        // });\r\n\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     green: ''\r\n        // });\r\n\r\n        var greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(76, 175, 80, 1)'\r\n        });\r\n        $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\r\n\r\n        var greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\r\n            '300': '#9ed4a1',\r\n            'contrastLightColors': ['500', '300']\r\n        });\r\n        $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\r\n\r\n\r\n        var greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\r\n            'contrastLightColors': ['A700']\r\n        });\r\n        $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\r\n\r\n        $mdThemingProvider.theme('green')\r\n            .primaryPalette('green-primary', {\r\n                'default': '500',\r\n                'hue-1': '300'\r\n            })\r\n            .backgroundPalette('green-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('green-accent', {\r\n                'default': 'A700'\r\n            });\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Grey', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     grey: 'Grey'\r\n        // });\r\n        \r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     grey: ''\r\n        // });\r\n\r\n        var thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(255, 152, 0, 1)',\r\n            'A400': '#a9b9c0',\r\n            '500': '#607D8B',\r\n            'A700': '#90A4AE',\r\n            //'800': '',\r\n            'contrastDefaultColor': 'dark',\r\n            'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\r\n        });\r\n        $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\r\n\r\n\r\n        $mdThemingProvider.theme('grey')\r\n            .primaryPalette('third-party', {\r\n                'default': '500',\r\n                'hue-1': 'A400'\r\n            })\r\n            .backgroundPalette('third-party', {\r\n                'default': '50',  // background\r\n                'hue-1': '500',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('third-party', {\r\n                'default': 'A700'\r\n            });\r\n        \r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Navy', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     navy: 'Navy'\r\n        // });\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     navy: '-'\r\n        // });\r\n\r\n        var greyPalette = $mdThemingProvider.extendPalette('grey', {\r\n            '700': 'rgba(86, 97, 125, 1)',\r\n            '800': 'rgba(86, 97, 125, .54)',\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n        });\r\n        $mdThemingProvider.definePalette('grey', greyPalette);\r\n\r\n        var tealPalette = $mdThemingProvider.extendPalette('teal', {\r\n            'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\r\n        });\r\n        $mdThemingProvider.definePalette('teal', tealPalette);\r\n\r\n        $mdThemingProvider.theme('navy')\r\n            .primaryPalette('grey', {\r\n                'default': '700',\r\n                'hue-1': '800'\r\n            })\r\n            .backgroundPalette('grey', {\r\n                'default': '50',  // background\r\n                'hue-1': '700',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('teal', {\r\n                'default': 'A700'\r\n            });\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Orange', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     orange: 'Orange'\r\n        // });\r\n\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     orange: ''\r\n        // });\r\n\r\n        var RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(255, 112, 67, 1)',\r\n            'contrastLightColors': ['600', '700', '800', '900', 'A200']\r\n        });\r\n        $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\r\n\r\n        var RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\r\n            '800': 'rgba(255, 112, 67, 1)',\r\n            '900': 'rgba(255, 152, 67, .54)',\r\n            'A100': 'rgba(255, 171, 64, 1)',\r\n            'contrastLightColors': ['800', '900', 'A100']\r\n        });\r\n        $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\r\n\r\n        $mdThemingProvider.theme('orange')\r\n            .primaryPalette('red-primary', {\r\n                'default': '800',\r\n                'hue-1': '900'\r\n            })\r\n            .backgroundPalette('red-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('red-primary', {\r\n                'default': 'A100'\r\n            });\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme.Pink', ['ngMaterial']);\r\n\r\n    thisModule.config(config);\r\n\r\n    function config($mdThemingProvider) {\r\n        // pipTranslateProvider.translations('en', {\r\n        //     THEME: 'Theme',\r\n        //     pink: 'Pink'\r\n        // });\r\n        // pipTranslateProvider.translations('ru', {\r\n        //     THEME: '',\r\n        //     pink: '',\r\n\r\n        // });\r\n\r\n        var PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\r\n            'A100': 'rgba(250, 250, 250, 1)',\r\n            'A200': 'rgba(188, 86, 121, 1)',\r\n            'contrastDefaultColor': 'dark',\r\n            'contrastLightColors': ['A200', 'A700']\r\n        });\r\n        $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\r\n\r\n        var PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\r\n            '600': 'rgba(255, 128, 171, 1)',\r\n            '700': 'rgba(188, 86, 121, .54)',\r\n            '900': 'rgba(188, 86, 121, 1)',\r\n            'contrastDefaultColor': 'light'\r\n        });\r\n        $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\r\n\r\n        $mdThemingProvider.theme('pink')\r\n            .primaryPalette('pink-primary', {\r\n                'default': '900',\r\n                'hue-1': '700'\r\n            })\r\n            .backgroundPalette('pink-background', {\r\n                'default': '50',  // background\r\n                'hue-1': 'A200',  // tiles dialog\r\n                'hue-2': 'A700'   // app bar\r\n            })\r\n            .warnPalette('red', {\r\n                'default': 'A200'\r\n            })\r\n            .accentPalette('pink-primary', {\r\n                'default': '600'\r\n            });\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipTheme', ['LocalStorageModule', 'ngMaterial']);\r\n\r\n    thisModule.run(run);\r\n\r\n    function run (pipTheme) {\r\n        pipTheme.theme();\r\n    }\r\n    \r\n    thisModule.provider('pipTheme', function(): any {\r\n        var \r\n            theme = 'default',\r\n            persist = true,\r\n            setRoot = true;\r\n\r\n        this.use = initTheme;\r\n        this.init = initTheme;\r\n        this.persist = initPersist;\r\n        this.setRoot = initSetRoot;\r\n\r\n        this.$get = function ($rootScope, $timeout, localStorageService, $mdTheming) {\r\n            // Read theme from persistent storage\r\n            if (persist)\r\n                theme = localStorageService.get('theme') || theme;\r\n\r\n            // Set root variable\r\n            if (setRoot) \r\n                $rootScope.$theme = theme;\r\n\r\n            // Switch material theme\r\n            //$('body').attr('md-theme',  $rootScope.$theme).addClass(\"{{ $theme }}\");\r\n            \r\n            // Resetting root scope to force update language on the screen\r\n            function resetContent(fullReset, partialReset) {\r\n                fullReset = fullReset !== undefined ? !!fullReset : false;\r\n                partialReset = partialReset !== undefined ? !!partialReset : false;\r\n\r\n                $rootScope.$reset = fullReset;\r\n                $rootScope.$partialReset = partialReset;\r\n                $timeout(function() {\r\n                    $rootScope.$reset = false;\r\n                    $rootScope.$partialReset = false;\r\n                }, 0);\r\n            }\r\n\r\n            function getOrSetTheme(newTheme, fullReset, partialReset) {\r\n                if (newTheme != null && newTheme != theme) {\r\n                    if (!(theme in $mdTheming.THEMES))\r\n                        throw new Error('Theme ' + theme + ' is not registered. Please, register it first with $mdThemingProvider');\r\n\r\n                    theme = newTheme;\r\n                    \r\n                    if (persist)\r\n                        localStorageService.set('theme', theme);\r\n                    if (setRoot)\r\n                        $rootScope.$theme = theme;\r\n                    \r\n                    // Switch material theme\r\n                    //$('body').attr('md-theme', \"{{ $theme }}\").addClass(\"{{ $theme }}\");\r\n\r\n                    // Resetting content.\r\n                    resetContent(fullReset, partialReset);\r\n\r\n                    // Sending notification\r\n                    $rootScope.$broadcast('pipThemeChanged', newTheme);\r\n                }\r\n                return theme;\r\n            }\r\n\r\n            return {\r\n                use: getOrSetTheme,\r\n                theme: getOrSetTheme\r\n            }\r\n        };\r\n\r\n        // Initialize theme selection\r\n        function initTheme(newTheme) {\r\n            if (newTheme != null)\r\n                theme = newTheme;\r\n            return theme;\r\n        }\r\n\r\n        // Initialize persistence flag\r\n        function initPersist(newPersist) {\r\n            if (newPersist != null)\r\n                persist = newPersist;\r\n            return persist;\r\n        }\r\n\r\n        // Initialize set root flag\r\n        function initSetRoot(newSetRoot) {\r\n            if (newSetRoot != null)\r\n                setRoot = newSetRoot;\r\n            return setRoot;  \r\n        }\r\n\r\n    });\r\n    \r\n})();\r\n","/**\r\n * @file Errors string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Strings', ['pipTranslate']);\r\n\r\n    thisModule.run(function($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        if (pipTranslate == null) return;\r\n\r\n        // Set translation strings for the module\r\n        pipTranslate.translations('en', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n                                            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n                                          'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n                                          'technologies. Download on of these great browsers and you\\'ll be on your way:',\r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\r\n\r\n        });\r\n\r\n        pipTranslate.translations('ru', {\r\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\r\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\r\n            'ERROR_ROUTE_CONTINUE': 'Continue',\r\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\r\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\r\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\r\n\r\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\r\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\r\n            'ERROR_UNKNOWN_CLOSE': 'Close',\r\n            'ERROR_UNKNOWN_DETAILS': 'Details',\r\n\r\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\r\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\r\n            'a short period. We\\'ll be back soon. Thank for your patience.',\r\n            'ERROR_AVAILABLE_CLOSE': 'Close',\r\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\r\n\r\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\r\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\r\n            'ERROR_RESPONDING_RETRY': 'Retry',\r\n\r\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\r\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\r\n            'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\r\n            'technologies. Download on of these great browsers and you\\'ll be on your way:',            \r\n            'ERROR_UNSUPPORTED_O': 'Opera',\r\n            'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\r\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\r\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\r\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\r\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\r\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\r\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\r\n\r\n        });\r\n    });\r\n\r\n})();","/**\r\n * @file Registration of all error handling components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipErrors', [\r\n        'pipErrors.Pages',\r\n        'pipNoConnectionPanel',\r\n        'pipClearErrors',\r\n\t    'pipFormErrors'\r\n    ]);\r\n    \r\n})();","/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Pages', [\r\n        'ngMaterial', \r\n        'pipErrors.Strings', 'pipErrors.NoConnection', 'pipErrors.MissingRoute', 'pipErrors.Unsupported',\r\n        'pipErrors.Unknown', 'pipErrors.Maintenance', 'pipErrors.Translate', 'pipErrors.Templates'\r\n    ]);\r\n\r\n    thisModule.config(\r\n        function ($stateProvider) {\r\n            // Configure module routes\r\n            $stateProvider\r\n                .state('errors_no_connection', {\r\n                    url: '/errors/no_connection',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorNoConnectionController',\r\n                    templateUrl: 'no_connection/no_connection.html'\r\n                })\r\n                .state('errors_maintenance', {\r\n                    url: '/errors/maintenance',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorMaintenanceController',\r\n                    templateUrl: 'maintenance/maintenance.html'\r\n                })\r\n                .state('errors_missing_route', {\r\n                    url: '/errors/missing_route',\r\n                    params: {\r\n                        unfoundState: null,\r\n                        fromState: null\r\n                    },\r\n                    controller: 'pipErrorMissingRouteController',\r\n                    templateUrl: 'missing_route/missing_route.html'\r\n                })\r\n                .state('errors_unsupported', {\r\n                    url: '/errors/unsupported',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnsupportedController',\r\n                    templateUrl: 'unsupported/unsupported.html'\r\n                })\r\n                .state('errors_unknown', {\r\n                    url: '/errors/unknown',\r\n                    params: {\r\n                        error: null\r\n                    },\r\n                    controller: 'pipErrorUnknownController',\r\n                    templateUrl: 'unknown/unknown.html'\r\n                });\r\n        });\r\n\r\n})();","/**\r\n * @file Special error handling for forms\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipClearErrors', []);\r\n\r\n    thisModule.directive('pipClearErrors', function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['ngModel', '^?form'],\r\n            link: function ($scope, $element, $attrs: any, $ctrls) {\r\n                var \r\n                    fieldController = $ctrls[0],\r\n                    formController = $ctrls[1];\r\n\r\n                $scope.$watch($attrs.ngModel, function (newValue) {\r\n                    clearFieldErrors();\r\n                    clearFormErrors();\r\n                });\r\n\r\n                //-------------------\r\n\r\n                function clearFieldErrors() {\r\n                    var errors = fieldController.$error;\r\n\r\n                    for (var prop in errors) {\r\n                        if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\r\n                            fieldController.$setValidity(prop, true);\r\n                        }\r\n                    };\r\n                }\r\n\r\n                function clearFormErrors() {\r\n                    formController.$serverError = {};\r\n                };\r\n            }\r\n        };\r\n    });\r\n\r\n})();","/**\r\n * @file Form error utilities\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n *\r\n */\r\n \r\n /* global _, angular */\r\n \r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFormErrors', []);\r\n\r\n    thisModule.factory('pipFormErrors', function ($rootScope) {\r\n\t\treturn {\r\n\t\t\terrorsWithHint: errorsWithHint,\r\n            //submittedErrors: submittedErrors,\r\n            //submittedErrorsWithHint: submittedErrorsWithHint,\r\n            //dirtyErrors: dirtyErrors,\r\n            //dirtyErrorsWithHint: dirtyErrorsWithHint,\r\n            //touchedErrors: touchedErrors,            \r\n            touchedErrorsWithHint: touchedErrorsWithHint,\r\n            resetFormErrors: resetFormErrors,\r\n            setFormError: setFormError,\r\n            resetFieldsErrors: resetFieldsErrors\r\n\t\t};\r\n\t\t//-------------------\r\n\r\n        function errorsWithHint(field) {\r\n            if (field == null) return;\r\n\t\t\t\r\n            return _.isEmpty(field.$error) ? { hint: true } : field.$error;\r\n        };\r\n\t\t\r\n//         function submittedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function submittedErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (form.$submitted) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function dirtyErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n// \r\n//         function dirtyErrorsWithHint(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n// \r\n//             if (field.$dirty || form.$dirty) {\r\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n//             }\r\n//             return { hint: true };\r\n//         };\r\n// \r\n//         function touchedErrors(form, field) {\r\n//             if (form == null) throw new Error('Form is not set');\r\n//             if (field == null) throw new Error('Field is not set');\r\n//             \r\n//             if (field.$touched || form.$dirty)\r\n//                 return field.$error;\r\n//             return {};\r\n//         };\r\n\r\n        function touchedErrorsWithHint(form, field) {\r\n            if (form == null) return;\r\n            if (field == null) return;\r\n\r\n            if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\r\n                var result = _.isEmpty(field.$error) ? { hint: true} : field.$error;\r\n                return result;\r\n            }\r\n            return { hint: true };\r\n        };\r\n\r\n        function resetFormErrors(form, errors) {\r\n            form.$setPristine();\r\n            form.$setUntouched();\r\n\r\n            if (errors) {\r\n                form.$setDirty();\r\n                form.$setSubmitted();\r\n            }\r\n\r\n            form.$serverError = {};\r\n        };\r\n        \r\n        function resetFieldsErrors(form, field) {\r\n            if (!form) return;\r\n            if (field && form[field] && form[field].$error) {\r\n                 form[field].$error = {};\r\n            } else {\r\n                for (var prop in form) {\r\n                    if (form[prop] && form[prop].$error) {\r\n                        form[prop].$error = {};\r\n                    };\r\n                }\r\n                if (form && form.$error) form.$error = {};\r\n            }\r\n        };\r\n        \r\n        function setFormError(form, error, errorFieldMap) {\r\n            if (error == null) return;\r\n            // Prepare form server errors\r\n            form.$serverError = form.$serverError || {};\r\n            // Prepare error code\r\n            var code = error.code || (error.data || {}).code || null;\r\n            if (!code && error.status) code = error.status;\r\n\r\n            if (code) {\r\n                var \r\n                    errorName = 'ERROR_' + code,\r\n                    field = errorFieldMap ? errorFieldMap[code] : null;\r\n                // Set server error to fields\r\n                if (field && form[field] && form[field].$setValidity) {\r\n                    form[field].$setValidity(errorName, false);\r\n                    return;\r\n                }\r\n\r\n                // Set server error to form\r\n                if (field == 'form') {\r\n                    form.$serverError[errorName] = true;\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // if undefined error for this form or code === undefined/null, go to unhandled error page\r\n            if (error.data && error.data.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.data.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            // Set as undefined error\r\n            if (error.message) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.message;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            if (error.name) {\r\n                form.$serverError['ERROR_UNKNOWN'] = error.name;\r\n                goToUnhandledErrorPage(error);\r\n                return;\r\n            }\r\n\r\n            form.$serverError['ERROR_UNKNOWN'] = error;\r\n            goToUnhandledErrorPage(error);\r\n        };\r\n\r\n        function goToUnhandledErrorPage(error) {\r\n            $rootScope.$emit('pipUnhandledInternalError', {\r\n                error: error\r\n            });\r\n        };\r\n        \r\n\t});\r\n\r\n})();","/**\r\n * @file Maintenance error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Maintenance', []);\r\n\r\n    thisModule.controller('pipErrorMaintenanceController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.timeoutInterval = $scope.error && $scope.error.config &&\r\n                        $scope.error.config.params && $scope.error.config.params.interval ? $scope.error.config.params.interval : 0;\r\n\r\n        $scope.onClose = onClose;\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_AVAILABLE_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Missing route error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.MissingRoute', []);\r\n\r\n    thisModule.controller('pipErrorMissingRouteController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        appHeader();\r\n        $rootScope.$routing = false;\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.fromState : {};\r\n        $scope.unfoundState = $state && $state.params ?  $state.params.unfoundState : {};\r\n        $scope.url = $scope.unfoundState && $scope.unfoundState.to ? $state.href($scope.unfoundState.to, $scope.unfoundState.toParams, {absolute: true}) : '';\r\n        $scope.urlBack = $scope.fromState && $scope.fromState.to ? $state.href($scope.fromState.to, $scope.fromState.fromParams, {absolute: true}) : '';\r\n\r\n        $scope.onContinue = onContinue;\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_ROUTE_PAGE_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function onContinue() {\r\n            // Todo: Go to default state '/'\r\n            //pipAuthState.goToAuthorized();\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file No connection error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.NoConnection', []);\r\n\r\n    thisModule.controller('pipErrorNoConnectionController', function ($scope, $state, $rootScope, $window, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        $scope.onRetry = onRetry;\r\n\r\n        return;\r\n\r\n        function onRetry() {\r\n            $window.history.back();\r\n        };\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_RESPONDING_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n    });\r\n\r\n\r\n})();\r\n","/**\r\n * @file No Connection Error panel\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global _, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module(\"pipNoConnectionPanel\", ['pipErrors.Translate']);\r\n\r\n    thisModule.directive('pipNoConnectionPanel',\r\n        function () {\r\n            return {\r\n                restrict: 'E',\r\n                scope: {\r\n                    error: '=pipError',\r\n                    retry: '=pipRetry'\r\n                },\r\n                templateUrl: 'no_connection_panel/no_connection_panel.html',\r\n                controller: 'pipNoConnectionPanelController'\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.controller('pipNoConnectionPanelController',\r\n        function ($scope, $element, $attrs, pipTranslate) {\r\n\r\n            $scope.onRetry = onRetry;\r\n\r\n            return;\r\n\r\n            function onRetry() {\r\n                if ($scope.retry && angular.isFunction($scope.retry)) $scope.retry();\r\n            };\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/**\r\n * @file Unknown error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unknown', []);\r\n\r\n    thisModule.controller('pipErrorUnknownController', function ($scope, $state, $rootScope, pipAppBar) {\r\n\r\n        $rootScope.$routing = false;\r\n        $scope.isCordova = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n        $scope.error_details = null;\r\n\r\n        $scope.onDetails = onDetails;\r\n        $scope.onClose = onClose;\r\n\r\n        parseError();\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_UNKNOWN_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n        function parseError() {\r\n            $scope.error_details = {};\r\n            $scope.error_details.code = $scope.error.code;\r\n            $scope.error_details.description = $scope.error.message;\r\n            $scope.error_details.status = $scope.error.status;\r\n\r\n            $scope.error_details.server_stacktrace = function () {\r\n\r\n            };\r\n\r\n            $scope.error_details.client_stacktrace = function () {\r\n\r\n            };\r\n        };\r\n\r\n        function onDetails() {\r\n            $scope.showError = true;\r\n        };\r\n\r\n        function onClose() {\r\n\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Unsupported error controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipErrors.Unsupported', []);\r\n\r\n    thisModule.controller('pipErrorUnsupportedController', function ($scope, $state, $rootScope, $mdMedia, pipAppBar) {\r\n\r\n        $scope.$mdMedia = $mdMedia;\r\n        $rootScope.$routing = false;\r\n        appHeader();\r\n\r\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\r\n\r\n        return;\r\n\r\n        // Todo: Made dependencies optional\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showShadow();\r\n            pipAppBar.showTitleBreadcrumb('ERROR_UNSUPPORTED_TITLE', []);\r\n            pipAppBar.showLocalActions(null, []);\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/maintenance.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/maintenance.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_AVAILABLE_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_AVAILABLE_SUBTITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\" ng-if=\"timeoutInterval\">\\n' +\n    '        {{::\\'ERROR_AVAILABLE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-error-actions h48 layout-column layout-align-center-center\"\\n' +\n    '         ng-if=\"isCordova\">\\n' +\n    '        <md-button class=\"md-accent\" ng-click=\"onClose($event)\" aria-label=\"CLOSE\" >\\n' +\n    '            {{::\\'ERROR_AVAILABLE_CLOSE\\' | translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/missing_route.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/invalid_route.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_ROUTE_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_ROUTE_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-actions h48 layout-column layout-align-center-center\">\\n' +\n    '        <md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"onContinue($event)\">\\n' +\n    '            {{::\\'ERROR_ROUTE_CONTINUE\\' | translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{url}}\">\\n' +\n    '        {{::\\'ERROR_ROUTE_TRY_AGAIN\\' | translate }}: {{url}}\\n' +\n    '    </a></div>\\n' +\n    '    <div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{urlBack}}\">\\n' +\n    '        {{::\\'ERROR_ROUTE_GO_BACK\\' | translate }}: {{urlBack}}\\n' +\n    '    </a></div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/no_connection.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/no_response.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_RESPONDING_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_RESPONDING_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-actions h48 layout-column layout-align-center-center\">\\n' +\n    '        <md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">\\n' +\n    '            {{::\\'ERROR_RESPONDING_RETRY\\' | translate}}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/no_connection_panel.html',\n    '    <div class=\"pip-empty pip-error layout-column layout-align-center-center flex\">\\n' +\n    '        <img src=\"images/no_response.svg\" class=\"pip-pic block\" >\\n' +\n    '        \\n' +\n    '            <div class=\"pip-error-text\">{{::\\'ERROR_RESPONDING_TITLE\\' | translate}}</div>\\n' +\n    '            <div class=\"pip-error-subtext\">{{::\\'ERROR_RESPONDING_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '            <div class=\"pip-error-actions h48 layout-column layout-align-center-center\">\\n' +\n    '                <md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">\\n' +\n    '                    {{::\\'ERROR_RESPONDING_RETRY\\' | translate}}\\n' +\n    '                </md-button>\\n' +\n    '            </div>\\n' +\n    '    </div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/unknown.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '    <div style=\"background-image: url(\\'images/unknown_error.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_UNKNOWN_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">{{::\\'ERROR_UNKNOWN_SUBTITLE\\' | translate}}</div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-subtext\" ng-if=\"showError && error_details && error_details.status\">\\n' +\n    '        <div ng-if=\"error_details.code\">Code: {{error_details.code}}</div>\\n' +\n    '        <div ng-if=\"error_details.description\">Description: {{error_details.description}}</div>\\n' +\n    '        <div ng-if=\"error_details.status\">HTTP status: {{error_details.status}}</div>\\n' +\n    '        <div ng-if=\"error_details.server_stacktrace\">Server stacktrace: {{error_details.server_stacktrace}}</div>\\n' +\n    '        <div ng-if=\"error_details.client_stacktrace\">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-error-actions layout-column layout-align-center-center\">\\n' +\n    '        <div class=\"h48\" ng-if=\"isCordova\">\\n' +\n    '            <md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"onClose($event)\">\\n' +\n    '                {{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"h48\">\\n' +\n    '            <md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"onDetails($event)\">\\n' +\n    '                {{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/unsupported.html',\n    '<div class=\"pip-error pip-empty layout-column flex layout-align-center-center\">\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-text\">{{::\\'ERROR_UNSUPPORTED_TITLE\\' | translate}}</div>\\n' +\n    '    <div class=\"pip-error-subtext\">\\n' +\n    '        {{::\\'ERROR_UNSUPPORTED_SUBTITLE\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"$mdMedia(\\'gt-xs\\')\">\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"https://www.mozilla.org/ru/firefox/new/\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '            <div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '            <div class=\"h64 tp16 bp16\">\\n' +\n    '                <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                   href=\"http://www.opera.com/ru/download\">\\n' +\n    '                    {{::\\'ERROR_UNSUPPORTED_O\\' | translate}}\\n' +\n    '                </a>\\n' +\n    '                <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <div class=\"pip-error-details\" ng-if=\"$mdMedia(\\'xs\\')\">\\n' +\n    '        <div class=\"layout-row layout-align-center-center\">\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"https://www.mozilla.org/ru/firefox/new/\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"tm16 layout-row layout-align-center-center\">\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '            <div class=\"pip-error-details-item layout-column layout-align-center-center\">\\n' +\n    '                <div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div>\\n' +\n    '                <div class=\"h64 tp16 bp16\">\\n' +\n    '                    <a class=\"text-body2 m0\" target=\"_blank\"\\n' +\n    '                       href=\"http://www.opera.com/ru/download\">\\n' +\n    '                        {{::\\'ERROR_UNSUPPORTED_O\\' | translate}}\\n' +\n    '                    </a>\\n' +\n    '                    <p class=\"text-body1 m0\"> {{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p>\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.js.map\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipBarCharts\r\n     *\r\n     * @description\r\n     * Bar chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipBarCharts', [])\r\n        .directive('pipBarChart', pipBarChart);\r\n\r\n    function pipBarChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'barChart',\r\n            templateUrl: 'bar/bar_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm = this;\r\n                var chart = null;\r\n                var chartElem = null;\r\n                var colors = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n\r\n                vm.data = vm.series || [];\r\n\r\n                if ((vm.series || []).length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                //colors = _.sample(colors, colors.length);\r\n\r\n                // sets legend params\r\n                vm.legend = vm.data[0].values;\r\n                \r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                $scope.$watch('barChart.series', function (updatedSeries) {\r\n                    vm.data = updatedSeries || [];\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n                        chart.update();\r\n                        // Todo: the method does not exist\r\n                        //intervalUpdate(chart.update, 10);\r\n                    }\r\n                });\r\n\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(function () {\r\n                    chart = nv.models.discreteBarChart()\r\n                        .margin({top: 10, right: 0, bottom: 0, left: -50})\r\n                        .x(function (d) { return d.label; })\r\n                        .y(function (d) { return d.value; })\r\n                        .showValues(true)\r\n                        .showXAxis(false)\r\n                        .showYAxis(false)\r\n                        .valueFormat(<any>d3.format('d'))\r\n                        .duration(0)\r\n                        .height(270)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('No data for this moment...');\r\n\r\n                    chartElem = d3.select($element.get(0))\r\n                        .select('.bar-chart svg')\r\n                        .datum(vm.data)\r\n                        .style('height', 270)\r\n                        .call(chart);\r\n\r\n                    //nv.utils.windowResize(chart.update);\r\n\r\n                    return chart;\r\n                }, function () {\r\n                    chart.dispatch.on('beforeUpdate', function () {\r\n                        $timeout(configBarWidthAndLabel, 0);\r\n                    });\r\n\r\n                    $timeout(configBarWidthAndLabel, 0);\r\n                });\r\n\r\n                /**\r\n                 * Aligns value label according to parent container size.\r\n                 * @return {void}\r\n                 */\r\n                function configBarWidthAndLabel() {\r\n                    var labels = d3.selectAll('.nv-bar text')[0],\r\n                        chartBars = d3.selectAll('.nv-bar')[0],\r\n                        parentHeight = (<any>d3.select('.nvd3-svg')[0][0]).getBBox().height;\r\n\r\n                    d3.select('.bar-chart').classed('visible', true);\r\n\r\n                    chartBars.forEach(function (item, index) {\r\n                        var barSize = (<any>item).getBBox(),\r\n                            element = d3.select(item),\r\n                            y = d3.transform(element.attr('transform')).translate[1];\r\n                        \r\n                        element\r\n                            .attr('transform', 'translate(' + Number(index * (38 + 8) + 50) + ', ' + parentHeight + ')')\r\n                            .select('rect')\r\n                            .attr('width', 38);\r\n\r\n                        element\r\n                            .transition()\r\n                            .duration(1000)\r\n                            .attr('transform', 'translate(' + Number(index * (38 + 8) + 50) + ', ' + y + ')');\r\n\r\n                        d3.select(labels[index])\r\n                            .attr('dy', barSize.height / 2)\r\n                            .attr('x', 19);\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    vm.legend.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","/**\r\n * @file Registration of chart WebUI controls\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipCharts', [\r\n        'pipBarCharts',\r\n        'pipLineCharts',\r\n        'pipPieCharts',\r\n        'pipChartLegends'\r\n    ]);\r\n\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipLegends\r\n     *\r\n     * @description\r\n     * Legend of charts\r\n     */\r\n    angular.module('pipChartLegends', [])\r\n        .directive('pipChartLegend', pipChartLegend);\r\n\r\n    function pipChartLegend() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                interactive: '=pipInteractive'\r\n            },\r\n            templateUrl: 'legend/interactive_legend.html',\r\n            controller: function ($element, $scope, $timeout, $mdColorPalette) {\r\n                var colors = _.map($mdColorPalette, function (palette) {\r\n                    return palette[500].hex;\r\n                });\r\n\r\n                function colorCheckboxes() {\r\n                    var checkboxContainers = $($element).find('md-checkbox .md-container');\r\n                    \r\n                    checkboxContainers.each(function (index, item) {\r\n                        $(item)\r\n                            .css('color', $scope.series[index].color || colors[index])\r\n                            .find('.md-icon')\r\n                            .css('background-color', $scope.series[index].color || colors[index]);\r\n                    });\r\n                }\r\n\r\n                function animate() {\r\n                    var legendTitles = $($element).find('.chart-legend-item');\r\n\r\n                    legendTitles.each(function (index, item) {\r\n                        $timeout(function () {\r\n                            $(item).addClass('visible');\r\n                        }, 200 * index);\r\n                    });\r\n                }\r\n                \r\n                function prepareSeries() {\r\n                    $scope.series.forEach(function (item, index) {\r\n                        item.color = item.color || colors[index];\r\n                        item.disabled = item.disabled || false;\r\n                    });   \r\n                }\r\n\r\n                $scope.$watch('series', function () {\r\n                    $timeout(function () {\r\n                        animate();\r\n                        colorCheckboxes();\r\n                    }, 0);\r\n                    prepareSeries();\r\n                }, true);\r\n\r\n                $scope.$watch('interactive', function (newValue, oldValue) {\r\n                    if (newValue == true && newValue != oldValue) {\r\n                        $timeout(colorCheckboxes, 0);\r\n                    }\r\n                });\r\n\r\n                $timeout(function () {\r\n                    animate();\r\n                    colorCheckboxes();\r\n                }, 0);\r\n                prepareSeries();\r\n            }\r\n        };\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipLineCharts\r\n     *\r\n     * @description\r\n     * Line chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipLineCharts', [])\r\n        .directive('pipLineChart', pipLineChart);\r\n\r\n    function pipLineChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                showYAxis: '=pipYAxis',\r\n                showXAxis: '=pipXAxis',\r\n                dynamic: '=pipDynamic'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'lineChart',\r\n            templateUrl: 'line/line_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm        = this;\r\n                var chart     = null;\r\n                var chartElem = null;\r\n                var setZoom = null;\r\n                var updateZoomOptions = null;\r\n                var colors    = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n\r\n                vm.data = vm.series || [];\r\n                vm.sourceEvents = [];\r\n                \r\n                vm.isVisibleX = function () {\r\n                    return vm.showXAxis == undefined ? true : vm.showXAxis; \r\n                };\r\n\r\n                vm.isVisibleY = function () {\r\n                    return vm.showYAxis == undefined ? true : vm.showYAxis;\r\n                };\r\n\r\n                vm.zoomIn = function () {\r\n                    if (setZoom) {\r\n                        setZoom('in');\r\n                    }\r\n                };\r\n\r\n                vm.zoomOut = function () {\r\n                    if (setZoom) {\r\n                        setZoom('out');\r\n                    }\r\n                };\r\n                \r\n                if (vm.series.length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                $scope.$watch('lineChart.series', function (updatedSeries) {\r\n                    vm.data = updatedSeries;\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n\r\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\r\n                    }\r\n                }, true);\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(function () {\r\n                    chart = nv.models.lineChart()\r\n                        .margin({ top: 20, right: 20, bottom: 30, left: 30 })\r\n                        .x(function (d) {\r\n                            return d.x;\r\n                        })\r\n                        .y(function (d) {\r\n                            return d.value;\r\n                        })\r\n                        .height(270)\r\n                        .useInteractiveGuideline(true)\r\n                        .showXAxis(true)\r\n                        .showYAxis(true)\r\n                        .showLegend(false)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('No data for this moment...');\r\n\r\n                    chart.yAxis\r\n                        .tickFormat(function (d) {\r\n                            return d / 1000 + 'k';\r\n                        });\r\n\r\n                    chart.xAxis\r\n                        .tickFormat(function (d) {\r\n                            return d.toFixed(2);\r\n                        });\r\n\r\n                    chartElem = d3.select($element.get(0)).select('.line-chart svg');\r\n                    chartElem.datum(vm.data).style('height', 270).call(chart);\r\n\r\n                    if (vm.dynamic) {\r\n                        addZoom(chart, chartElem);\r\n                    }\r\n\r\n                    nv.utils.windowResize(chart.update);\r\n\r\n                    return chart;\r\n                });\r\n\r\n                function updateScroll(domains, boundary) {\r\n                    var bDiff = boundary[1] - boundary[0],\r\n                        domDiff = domains[1] - domains[0],\r\n                        isEqual = (domains[1] - domains[0])/bDiff === 1;\r\n\r\n                    $($element[0]).find('.visual-scroll')\r\n                        .css('opacity', function () {\r\n                            return isEqual ? 0 : 1;\r\n                        });\r\n\r\n                    if (isEqual) return;\r\n                    \r\n                    $($element[0]).find('.scrolled-block')\r\n                        .css('left', function () {\r\n                            return domains[0]/bDiff * 100 + '%';\r\n                        })\r\n                        .css('width', function () {\r\n                            return domDiff/bDiff * 100 + '%';\r\n                        });\r\n                }\r\n\r\n                function addZoom(chart, svg) {\r\n                    // scaleExtent\r\n                    var scaleExtent = 4;\r\n\r\n                    // parameters\r\n                    var yAxis       = null;\r\n                    var xAxis       = null;\r\n                    var xDomain     = null;\r\n                    var yDomain     = null;\r\n                    var redraw      = null;\r\n                    var svg         = svg;\r\n\r\n                    // scales\r\n                    var xScale = null;\r\n                    var yScale = null;\r\n\r\n                    // min/max boundaries\r\n                    var x_boundary = null;\r\n                    var y_boundary = null;\r\n\r\n                    // create d3 zoom handler\r\n                    var d3zoom = d3.behavior.zoom();\r\n                    var prevXDomain = null;\r\n                    var prevScale = null;\r\n                    var prevTranslate = null;\r\n\r\n                    setData(chart);\r\n\r\n                    function setData(newChart) {\r\n                        // parameters\r\n                        yAxis       = newChart.yAxis;\r\n                        xAxis       = newChart.xAxis;\r\n                        xDomain     = newChart.xDomain || xAxis.scale().domain;\r\n                        yDomain     = newChart.yDomain || yAxis.scale().domain;\r\n                        redraw      = newChart.update;\r\n\r\n                        // scales\r\n                        xScale = xAxis.scale();\r\n                        yScale = yAxis.scale();\r\n\r\n                        // min/max boundaries\r\n                        x_boundary = xAxis.scale().domain().slice();\r\n                        y_boundary = yAxis.scale().domain().slice();\r\n\r\n                        // create d3 zoom handler\r\n                        prevXDomain = x_boundary;\r\n                        prevScale = d3zoom.scale();\r\n                        prevTranslate = d3zoom.translate();\r\n\r\n                        // ensure nice axis\r\n                        xScale.nice();\r\n                        yScale.nice();\r\n                    }\r\n\r\n                    // fix domain\r\n                    function fixDomain(domain, boundary, scale, translate) {\r\n                        if (domain[0] < boundary[0]) {\r\n                            domain[0] = boundary[0];\r\n                            if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\r\n                                domain[1] += (boundary[0] - domain[0]);\r\n                            } else {\r\n                                domain[1] = prevXDomain[1];\r\n                                translate = _.clone(prevTranslate);\r\n                            }\r\n\r\n                        }\r\n                        if (domain[1] > boundary[1]) {\r\n                            domain[1] = boundary[1];\r\n                            if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\r\n                                domain[0] -= (domain[1] - boundary[1]);\r\n                            } else {\r\n                                domain[0] = prevXDomain[0];\r\n                                translate = _.clone(prevTranslate);\r\n                            }\r\n                        }\r\n\r\n                        d3zoom.translate(translate);\r\n                        prevXDomain = _.clone(domain);\r\n                        prevScale = _.clone(scale);\r\n                        prevTranslate = _.clone(translate);\r\n                        return domain;\r\n                    }\r\n\r\n                    function updateChart() {\r\n                        d3zoom.scale(1);\r\n                        d3zoom.translate([0,0]);\r\n                        xScale.domain(x_boundary);\r\n                        d3zoom.x(xScale).y(yScale);\r\n                        svg.call(d3zoom);\r\n                    }\r\n\r\n                    // zoom event handler\r\n                    function zoomed() {\r\n                        // Switch off vertical zooming temporary\r\n                        // yDomain(yScale.domain());\r\n\r\n                        if ((<any>d3.event).scale === 1) {\r\n                            unzoomed();\r\n                            updateChart();\r\n                        } else {\r\n                            xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\r\n                            redraw();\r\n                        }\r\n\r\n                        updateScroll(xScale.domain(), x_boundary);\r\n                    }\r\n\r\n                    //\r\n                    setZoom = function(which) {\r\n                        var center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\r\n                        var translate0 = d3zoom.translate(), coordinates0 = coordinates(center0);\r\n\r\n                        if (which === 'in') {\r\n                            if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\r\n                        } else {\r\n                            if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\r\n                        }\r\n\r\n                        var center1 = point(coordinates0);\r\n                        d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\r\n\r\n                        d3zoom.event(svg);\r\n                    };\r\n\r\n                    function step(which) {\r\n                        var translate = d3zoom.translate();\r\n\r\n                        if (which === 'right') {\r\n                            translate[0] -= 20;\r\n                        } else {\r\n                            translate[0] += 20;\r\n                        }\r\n\r\n                        d3zoom.translate(translate);\r\n                        d3zoom.event(svg);\r\n                    }\r\n\r\n                    function coordinates(point) {\r\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\r\n                        return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\r\n                    }\r\n\r\n                    function point(coordinates) {\r\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\r\n                        return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\r\n                    }\r\n\r\n                    function keypress() {\r\n                        switch((<any>d3.event).keyCode) {\r\n                            case 39: step('right'); break;\r\n                            case 37: step('left'); break;\r\n                            case 107: setZoom('in'); break;\r\n                            case 109: setZoom('out');\r\n                        }\r\n                    }\r\n\r\n                    // zoom event handler\r\n                    function unzoomed() {\r\n                        xDomain(x_boundary);\r\n                        redraw();\r\n                        d3zoom.scale(1);\r\n                        d3zoom.translate([0,0]);\r\n                        prevScale = 1;\r\n                        prevTranslate = [0,0];\r\n                    }\r\n\r\n                    // initialize wrapper\r\n                    d3zoom.x(xScale)\r\n                        .y(yScale)\r\n                        .scaleExtent([1, scaleExtent])\r\n                        .on('zoom', zoomed);\r\n\r\n                    // add handler\r\n                    svg.call(d3zoom).on('dblclick.zoom', unzoomed);\r\n                    $($element.get(0)).addClass('dynamic');\r\n\r\n                    // add keyboard handlers\r\n                    svg\r\n                        .attr('focusable', false)\r\n                        .style('outline', 'none')\r\n                        .on('keydown', keypress)\r\n                        .on('focus', function () {});\r\n\r\n                    var getXMinMax = function(data) {\r\n                        var maxVal, minVal = null;\r\n\r\n                        for(var i=0;i<data.length;i++) {\r\n                            if (!data[i].disabled) {\r\n                                var tempMinVal = d3.max(data[i].values, function(d: any) { return d.x;} );\r\n                                var tempMaxVal = d3.min(data[i].values, function(d: any) { return d.x;} );\r\n                                minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\r\n                                maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\r\n                            }\r\n                        }\r\n                        return [maxVal, minVal];\r\n                    };\r\n\r\n                    updateZoomOptions = function(data) {\r\n                        yAxis = chart.yAxis;\r\n                        xAxis = chart.xAxis;\r\n\r\n                        xScale = xAxis.scale();\r\n                        yScale = yAxis.scale();\r\n\r\n                        x_boundary = getXMinMax(data);\r\n\r\n                        if (d3zoom.scale() === 1) {\r\n                            d3zoom.x(xScale).y(yScale);\r\n                            svg.call(d3zoom);\r\n                            d3zoom.event(svg);\r\n                        }\r\n\r\n                        updateScroll(xScale.domain(), x_boundary);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    vm.data.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc module\r\n     * @name pipPieCharts\r\n     *\r\n     * @description\r\n     * Line chart on top of Rickshaw charts\r\n     */\r\n    angular.module('pipPieCharts', [])\r\n        .directive('pipPieChart', pipPieChart);\r\n\r\n    function pipPieChart() {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                series: '=pipSeries',\r\n                donut: '=pipDonut',\r\n                legend: '=pipShowLegend',\r\n                total: '=pipShowTotal',\r\n                size: '=pipPieSize'\r\n            },\r\n            bindToController: true,\r\n            controllerAs: 'pieChart',\r\n            templateUrl: 'pie/pie_chart.html',\r\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\r\n                var vm               = this;\r\n                var chart            = null;\r\n                var titleElem        = null;\r\n                var chartElem        = null;\r\n                var colors           = _.map($mdColorPalette, function (palette, color) {\r\n                    return color;\r\n                });\r\n                var resizeTitleLabel = resizeTitleLabelUnwrap;\r\n\r\n                vm.data = vm.data || [];\r\n\r\n                vm.showLegend = function () {\r\n                    return vm.legend !== undefined ? vm.legend: true;\r\n                };\r\n\r\n                if (vm.series.length > colors.length) {\r\n                    vm.data = vm.series.slice(0, 9);\r\n                }\r\n\r\n                $scope.$watch('pieChart.series', function (newVal) {\r\n                    vm.data = newVal;\r\n\r\n                    generateParameterColor();\r\n\r\n                    if (chart) {\r\n                        chartElem.datum(vm.data).call(chart);\r\n                        $timeout(resizeTitleLabel);\r\n                    }\r\n                }, true);\r\n\r\n                // Sets colors of items\r\n                generateParameterColor();\r\n\r\n                (<any>d3.scale).paletteColors = function () {\r\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\r\n                };\r\n\r\n                /**\r\n                 * Instantiate chart\r\n                 */\r\n                nv.addGraph(function () {\r\n                    chart = nv.models.pieChart()\r\n                        .margin({ top: 0, right: 0, bottom: 0, left: 0 })\r\n                        .x(function (d) {\r\n                            return vm.donut ? d.value : null;\r\n                        })\r\n                        .y(function (d) {\r\n                            return d.value;\r\n                        })\r\n                        .height(vm.size || 250)\r\n                        .width(vm.size || 250)\r\n                        .showLabels(true)\r\n                        .labelThreshold(.001)\r\n                        .growOnHover(false)\r\n                        .donut(vm.donut)\r\n                        .donutRatio(0.5)\r\n                        .color(function(d) {\r\n                            return d.color || (<any>d3.scale).paletteColors().range();\r\n                        });\r\n\r\n                    chart.tooltip.enabled(false);\r\n                    chart.noData('No data for this moment...');\r\n                    chart.showLegend(false);\r\n\r\n                    chartElem = d3.select($element.get(0))\r\n                        .select('.pie-chart svg')\r\n                        .attr('height', vm.size || 250)\r\n                        .attr('width', vm.size || 250)\r\n                        .style('opacity', 0)\r\n                        .datum(vm.data)\r\n                        .call(chart);\r\n\r\n                    nv.utils.windowResize(function () {\r\n                        chart.update();\r\n                        $timeout(resizeTitleLabel);\r\n                    });\r\n\r\n                    return chart;\r\n                }, function () {\r\n                    $timeout(function () {\r\n                        var svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0];\r\n                        renderTotalLabel(svgElem);\r\n                        d3.select(svgElem)\r\n                            .transition()\r\n                            .duration(1000)\r\n                            .style('opacity', 1);\r\n                        \r\n                        $timeout(resizeTitleLabelUnwrap, 800);\r\n                    });\r\n                });\r\n\r\n                function renderTotalLabel(svgElem) {\r\n                    if (!vm.total && !vm.donut) return;\r\n\r\n                    var totalVal = vm.data.reduce(function (sum, curr) {\r\n                        return sum + curr.value;\r\n                    }, 0);\r\n                    \r\n                    d3.select(svgElem)\r\n                        .select('.nv-pie:not(.nvd3)')\r\n                        .append('text')\r\n                        .classed('label-total', true)\r\n                        .attr('text-anchor', 'middle')\r\n                        .style('dominant-baseline', 'central')\r\n                        .text(totalVal);\r\n\r\n                    titleElem = d3.select($element.find('text.label-total').get(0)).style('opacity', 0);\r\n                }\r\n\r\n                function resizeTitleLabelUnwrap() {\r\n                    if (!vm.total && !vm.donut) return;\r\n\r\n                    var boxSize = vm.donut ? $element.find('.nv-pieLabels').get(0).getBBox()\r\n                        : $element.find('.nvd3.nv-pieChart').get(0).getBBox();\r\n\r\n                    if (!boxSize.width || !boxSize.height) {\r\n                        return;\r\n                    }\r\n\r\n                    titleElem.style('font-size', ~~boxSize.width / (vm.donut ? 2:2.5)).style('opacity', 1);\r\n                }\r\n\r\n                /**\r\n                 * Converts palette color name into RGBA color representation.\r\n                 * Should by replaced by palette for charts.\r\n                 *\r\n                 * @param {string} color    Name of color from AM palette\r\n                 * @returns {string} RGBa format\r\n                 */\r\n                function materialColorToRgba(color) {\r\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\r\n                        + $mdColorPalette[color][500].value[1] + ','\r\n                        + $mdColorPalette[color][500].value[2] + ','\r\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\r\n                }\r\n\r\n\r\n                /**\r\n                 * Helpful method\r\n                 * @private\r\n                 */\r\n                function generateParameterColor() {\r\n                    vm.data.forEach(function (item, index) {\r\n                        item.color = item.color || materialColorToRgba(colors[index]);\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n})();","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar/bar_chart.html',\n    '<div class=\"bar-chart flex-auto layout-column\">\\n' +\n    '    <svg class=\"flex-auto\"></svg>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<pip-chart-legend pip-series=\"barChart.legend\" pip-interactive=\"false\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('legend/interactive_legend.html',\n    '<div >\\n' +\n    '    <div class=\"chart-legend-item\" ng-repeat=\"item in series\">\\n' +\n    '        <md-checkbox class=\"lp16 m8\"\\n' +\n    '                     ng-model=\"item.disabled\"\\n' +\n    '                     ng-true-value=\"false\"\\n' +\n    '                     ng-false-value=\"true\"\\n' +\n    '                     ng-if=\"interactive\"\\n' +\n    '                     aria-label=\"{{ item.label }}\">\\n' +\n    '            <p class=\"legend-item-value\"\\n' +\n    '               ng-style=\"{\\'background-color\\': item.color}\">\\n' +\n    '                {{ item.value }}\\n' +\n    '            </p>\\n' +\n    '            <p class=\"legend-item-label\">{{:: item.label || item.key }}</p>\\n' +\n    '        </md-checkbox>\\n' +\n    '\\n' +\n    '        <div ng-if=\"!interactive\">\\n' +\n    '            <span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span>\\n' +\n    '            <span>{{:: item.label || item.key}}</span>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line/line_chart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\">\\n' +\n    '    <svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': lineChart.isVisibleX(), \\'visible-y-axis\\': lineChart.isVisibleY()}\">\\n' +\n    '    </svg>\\n' +\n    '    <div class=\"visual-scroll\">\\n' +\n    '        <div class=\"scrolled-block\"></div>\\n' +\n    '    </div>\\n' +\n    '    <md-button class=\"md-fab md-mini minus-button\" ng-click=\"lineChart.zoomOut()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:minus-circle\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '    <md-button class=\"md-fab md-mini plus-button\" ng-click=\"lineChart.zoomIn()\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:plus-circle\"></md-icon>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<pip-chart-legend pip-series=\"lineChart.data\" pip-interactive=\"false\"></pip-chart-legend>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie/pie_chart.html',\n    '<div class=\"pie-chart\" class=\"layout-column flex-auto\" ng-class=\"{\\'circle\\': !pieChart.donut}\">\\n' +\n    '    <svg class=\"flex-auto\"></svg>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<pip-chart-legend pip-series=\"pieChart.data\" pip-interactive=\"false\" ng-if=\"pieChart.showLegend()\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.js.map\n","/**\r\n * @file Registration of settings components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipSettings', [\r\n        'pipSettings.Service',\r\n        'pipSettings.Page'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Define controller for a settings tab\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSettings.Page', [\r\n        'pipSettings.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\r\n        'pipSettings.Templates', 'pipNavIcon', 'pipActions.Service'\r\n    ]);\r\n\r\n    thisModule.config(function ($stateProvider) {\r\n        $stateProvider.state('settings', {\r\n            url: '/settings?party_id',\r\n            auth: true,\r\n            controller: 'pipSettingsPageController',\r\n            templateUrl: 'settings_page/settings_page.html'\r\n        });\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipSettings.Page:pipSettingsPageController\r\n     *\r\n     * @description\r\n     * The controller is used for the whole settings tabs and provides\r\n     * navigation menu on the left and load content into right panel.\r\n     * This component is integrated with `'pipAppBar'` component and adapt the tabs header.\r\n     * The component has predefined states `'settings.base_info'` and `'settings.active_sessions'`. Each of these states\r\n     * require user's authorization.\r\n     *\r\n     * @requires pipAppBar\r\n     */\r\n    thisModule.controller('pipSettingsPageController',\r\n        function ($scope, $state, $rootScope, $timeout, pipAppBar, pipSettings, pipActions,\r\n                  pipBreadcrumb, pipNavIcon) {\r\n\r\n            $scope.tabs = _.filter(pipSettings.getTabs(), function (tab: any) {\r\n                if (tab.visible === true && (tab.access ? tab.access($rootScope.$user, tab) : true)) {\r\n                    return tab;\r\n                }\r\n            });\r\n\r\n            $scope.tabs = _.sortBy($scope.tabs, 'index');\r\n\r\n            $scope.selected = {};\r\n            if ($state.current.name !== 'settings') {\r\n                initSelect($state.current.name);\r\n            } else if ($state.current.name === 'settings' && pipSettings.getDefaultTab()) {\r\n                initSelect(pipSettings.getDefaultTab().state);\r\n            } else {\r\n                $timeout(function () {\r\n                    if (pipSettings.getDefaultTab()) {\r\n                        initSelect(pipSettings.getDefaultTab().state);\r\n                    }\r\n                    if (!pipSettings.getDefaultTab() && $scope.tabs.length > 0) {\r\n                        initSelect($scope.tabs[0].state);\r\n                    }\r\n                });\r\n            }\r\n\r\n            appHeader();\r\n\r\n            /** @see onNavigationSelect */\r\n            $scope.onNavigationSelect = onNavigationSelect;\r\n            /** @see onDropdownSelect */\r\n            $scope.onDropdownSelect = onDropdownSelect;\r\n\r\n            /**\r\n             * Config header panel\r\n             */\r\n            function appHeader() {\r\n                pipActions.hide();\r\n                pipAppBar.part('menu', true);\r\n                pipAppBar.part('actions', 'primary');\r\n                pipAppBar.part('icon', true);\r\n                pipAppBar.part('title', 'breadcrumb');\r\n                pipAppBar.hideShadow();\r\n                pipBreadcrumb.text = 'Settings';\r\n                pipNavIcon.menu();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Page:pipSettingsPageController\r\n             * @name pipSettings.Page:pipSettingsPageController:onDropdownSelect\r\n             *\r\n             * @description\r\n             * Method changes selected tab in the navigation menu and transfer to selected tab(state).\r\n             * It used on mobile screens.\r\n             *\r\n             * @param {Object} state    State configuration object\r\n             */\r\n            function onDropdownSelect(state) {\r\n                onNavigationSelect(state.state);\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Page:pipSettingsPageController\r\n             * @name pipSettings.Page:pipSettingsPageController:onNavigationSelect\r\n             *\r\n             * @description\r\n             * Method changes selected tab in the navigation menu and transfer to selected tab(state).\r\n             * It uses on screens more than mobile.\r\n             *\r\n             * @param {string} state    Name of new state\r\n             */\r\n            function onNavigationSelect(state) {\r\n                initSelect(state);\r\n\r\n                if ($scope.selected.tab) {\r\n                    $state.go(state);\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Establish selected tab\r\n             */\r\n            function initSelect(state) {\r\n                $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\r\n                    return tab.state === state;\r\n                });\r\n                $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\r\n                $scope.selected.tabId = state;\r\n            }\r\n        });\r\n\r\n})();\r\n","/**\r\n * @file Service for settings component\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSettings.Service', []);\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name pipSettings.Service:pipSettingsProvider\r\n     *\r\n     * @description\r\n     * Service provides an interface to manage 'Settings' component behaviour.\r\n     * It is available on config and run phases.\r\n     */\r\n    thisModule.provider('pipSettings', function ($stateProvider) { // pipAuthStateProvider\r\n\r\n        var defaultTab,\r\n            tabs = [],\r\n            titleText = 'SETTINGS_TITLE',\r\n            titleLogo = null,\r\n            isNavIcon = true;\r\n\r\n        // Configure global parameters\r\n        this.showTitleText = showTitleText;\r\n        this.showTitleLogo = showTitleLogo;\r\n        this.showNavIcon = showNavIcon;\r\n\r\n        return {\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:addTab\r\n             *\r\n             * @description\r\n             * Register new tab in 'Settings' component. Before adding a tab this method validates passed object.\r\n             *\r\n             * @param {Object} tabObj  Configuration object for new tab.\r\n             */\r\n            addTab: addTab,\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:getTabs\r\n             *\r\n             * @description\r\n             * Method returns collection of registered tabs.\r\n             *\r\n             * @returns {Array<Object>} Collection of tabs.\r\n             */\r\n            getTabs: getTabs,\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:setDefaultTab\r\n             *\r\n             * @description\r\n             * Establish a tab which is available by default (after chose this component in menu).\r\n             *\r\n             * @param {string} name     Name of the default state for this component.\r\n             */\r\n            setDefaultTab: setDefaultTab,\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipSettings.Service:pipSettingsProvider\r\n             * @name pipSettings.Service.pipSettingsProvider:getDefaultTab\r\n             *\r\n             * @description\r\n             * Method returns an config object for tabs established as default (it will be opened when app transeferred to\r\n             * abstract state 'settings').\r\n             *\r\n             * @returns {Array<Object>} Collection of tabs.\r\n             */\r\n            getDefaultTab: getDefaultTab,\r\n                    \r\n            showTitleText: showTitleText,\r\n            showTitleLogo: showTitleLogo,\r\n            showNavIcon: showNavIcon,\r\n\r\n            $get: function () {\r\n                /**\r\n                 * @ngdoc service\r\n                 * @name pipSettings.Service:pipSettings\r\n                 *\r\n                 * @description\r\n                 * Service provides an interface to manage 'Settings' component behaviour.\r\n                 * It is available on config and run phases.\r\n                 */\r\n                return {\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:getTabs\r\n                     *\r\n                     * @description\r\n                     * Method returns collection of registered tabs.\r\n                     *\r\n                     * @returns {Array<Object>} Collection of tabs.\r\n                     */\r\n                    getTabs: getTabs,\r\n\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:addTab\r\n                     *\r\n                     * @description\r\n                     * Register new tab in 'Settings' component. Before adding a tab this method validates passed object.\r\n                     *\r\n                     * @param {Object} tabObj  Configuration object for new tab.\r\n                     */\r\n                    addTab: addTab,\r\n\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:getDefaultTab\r\n                     *\r\n                     * @description\r\n                     * Method returns an config object for tabs established as default (it will be opened when app transeferred to\r\n                     * abstract state 'settings').\r\n                     *\r\n                     * @returns {Array<Object>} Collection of tabs.\r\n                     */\r\n                    getDefaultTab: getDefaultTab,\r\n\r\n                    /**\r\n                     * @ngdoc method\r\n                     * @methodOf pipSettings.Service:pipSettings\r\n                     * @name pipSettings.Service.pipSettings:setDefaultTab\r\n                     *\r\n                     * @description\r\n                     * Establish a tab which is available by default (after chose this component in menu).\r\n                     *\r\n                     * @param {string} name     Name of the default state for this component.\r\n                     */\r\n                    setDefaultTab: setDefaultTab,\r\n\r\n                    showTitleText: showTitleText,\r\n                    showTitleLogo: showTitleLogo,\r\n                    showNavIcon: showNavIcon\r\n                };\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Appends component abstract state prefix to passed state\r\n         */\r\n        function getFullStateName(state) {\r\n            return 'settings.' + state;\r\n        }\r\n\r\n        function getTabs() {\r\n            return _.cloneDeep(tabs);\r\n        }\r\n\r\n        function getDefaultTab() {\r\n            var defaultTab;\r\n\r\n            defaultTab = _.find(tabs, function (p) {\r\n                return p.state === defaultTab;\r\n            });\r\n\r\n            return _.cloneDeep(defaultTab);\r\n        }\r\n\r\n        function addTab(tabObj) {\r\n            var existingTab;\r\n\r\n            validateTab(tabObj);\r\n            existingTab = _.find(tabs, function (p) {\r\n                return p.state === getFullStateName(tabObj.state);\r\n            });\r\n            if (existingTab) {\r\n                throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n            }\r\n\r\n            tabs.push({\r\n                state: getFullStateName(tabObj.state),\r\n                title: tabObj.title,\r\n                index: tabObj.index || 100000,\r\n                access: tabObj.access,\r\n                visible: tabObj.visible !== false,\r\n                stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n            });\r\n\r\n            $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n            // if we just added first state and no default state is specified\r\n            if (typeof defaultTab === 'undefined' && tabs.length === 1) {\r\n                setDefaultTab(tabObj.state);\r\n            }\r\n        }\r\n\r\n        function setDefaultTab(name) {\r\n            // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n            if (!_.find(tabs, function (tab) {\r\n                return tab.state === getFullStateName(name);\r\n            })) {\r\n                throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n            }\r\n\r\n            defaultTab = getFullStateName(name);\r\n            \r\n            //$stateProvider.go(defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n        }\r\n\r\n        /**\r\n         * Validates passed tab config object\r\n         * If passed tab is not valid it will throw an error\r\n         */\r\n        function validateTab(tabObj) {\r\n            if (!tabObj || !_.isObject(tabObj)) {\r\n                throw new Error('Invalid object');\r\n            }\r\n\r\n            if (tabObj.state === null || tabObj.state === '') {\r\n                throw new Error('Tab should have valid Angular UI router state name');\r\n            }\r\n\r\n            if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n                throw new Error('\"access\" should be a function');\r\n            }\r\n\r\n            if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n                throw new Error('Invalid state configuration object');\r\n            }\r\n        }\r\n\r\n        function showTitleText (newTitleText) {\r\n            if (newTitleText) {\r\n                titleText = newTitleText;\r\n                titleLogo = null;\r\n            }\r\n\r\n            return titleText;\r\n        }\r\n\r\n        function showTitleLogo(newTitleLogo) {\r\n            if (newTitleLogo) {\r\n                titleLogo = newTitleLogo;\r\n                titleText = null;\r\n            }\r\n\r\n            return titleLogo;\r\n        }\r\n\r\n        function showNavIcon(value) {\r\n            if (value !== null && value !== undefined) {\r\n                isNavIcon = !!value;\r\n            }\r\n\r\n            return isNavIcon;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Settings tab logic\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipUserSettings', [\r\n        'ngMaterial', 'pipData',\r\n        'pipSettings.Service',\r\n        'pipSettings.Page',\r\n\r\n        'pipUserSettings.Strings',\r\n        'pipUserSettings.Sessions',\r\n        'pipUserSettings.BasicInfo',\r\n        'pipSettings.Templates'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Settings basic info controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.BasicInfo',\r\n        ['pipUserSettings.ChangePassword', 'pipUserSettings.VerifyEmail', \r\n            'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'basic_info',\r\n            index: 1,\r\n            title: 'SETTINGS_BASIC_INFO_TITLE',\r\n            stateConfig: {\r\n                url: '/basic_info',\r\n                controller: 'pipUserSettingsBasicInfoController',\r\n                templateUrl: 'user_settings/user_settings_basic_info.html',\r\n                auth: true\r\n            }\r\n        });\r\n\r\n        pipSettingsProvider.setDefaultTab('basic_info');\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n     *\r\n     * @description\r\n     * Controller for the predefined 'basic_info' state.\r\n     * Provides sync changes user's profile with remote profile.\r\n     * On state exit everything is saved on the server.\r\n     */\r\n    thisModule.controller('pipUserSettingsBasicInfoController',\r\n        function ($scope, $rootScope, $mdDialog, $state, $window, $timeout, $mdTheming,\r\n                  pipTranslate, pipTransaction, pipTheme,\r\n                  pipToasts, pipDataUser, pipDataParty, pipFormErrors) {\r\n\r\n            try {\r\n                $scope.originalParty = angular.toJson($rootScope.$party);\r\n            } catch (err) {\r\n                throw err;\r\n            }\r\n\r\n            $scope.nameCopy = $rootScope.$party.name;\r\n\r\n            $timeout(function () {\r\n                $scope.loc_pos = $rootScope.$party.loc_pos;\r\n            });\r\n\r\n            $scope.genders = pipTranslate.translateSet(['male', 'female', 'n/s']);\r\n            $scope.languages = pipTranslate.translateSet(['ru', 'en']);\r\n\r\n            $scope.transaction = pipTransaction('settings.basic_info', $scope);\r\n\r\n            $scope.themes = _.keys(_.omit($mdTheming.THEMES, 'default'));\r\n\r\n            $state.get('settings.basic_info').onExit = saveChanges;\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onChangePassword */\r\n            $scope.onChangePassword = onChangePassword;\r\n            /** @see onVerifyEmail */\r\n            $scope.onVerifyEmail = onVerifyEmail;\r\n            /** @see onPictureCreated */\r\n            $scope.onPictureCreated = onPictureCreated;\r\n            /** @see onPictureChanged */\r\n            $scope.onPictureChanged = onPictureChanged;\r\n            /** @see updateUser */\r\n            $scope.onChangeUser = _.debounce(updateUser, 2000);\r\n            /** @see saveChanges */\r\n            $scope.onChangeBasicInfo = _.debounce(saveChanges, 2000);\r\n\r\n            function onPictureChanged() {\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            function onPictureCreated($event) {\r\n                $scope.picture = $event.sender;\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeBasicInfo\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the input information.\r\n             * It is updated user's party profile. Also it updates user's profile in $rootScope.\r\n             */\r\n            function saveChanges() {\r\n                if ($scope.form) {\r\n                    $scope.form.$setSubmitted();\r\n                }\r\n\r\n                if ($rootScope.$party) {\r\n\r\n                    if ($rootScope.$party.type === 'person' && $scope.form.$invalid) {\r\n                        return;\r\n                    }\r\n\r\n                    // Check to avoid unnecessary savings\r\n                    $rootScope.$party.loc_pos = $scope.loc_pos;\r\n                    try {\r\n                        var party = angular.toJson($rootScope.$party);\r\n                    } catch (err) {\r\n                        throw err;\r\n                    }\r\n\r\n                    if (party !== $scope.originalParty) {\r\n                        var tid = $scope.transaction.begin('UPDATING');\r\n\r\n                        pipDataParty.updateParty($rootScope.$party,\r\n                            function (data) {\r\n                                if ($scope.transaction.aborted(tid)) {\r\n                                    return;\r\n                                }\r\n                                $scope.transaction.end();\r\n\r\n                                $scope.originalParty = party;\r\n                                $scope.nameCopy = data.name;\r\n                            }, function (error) {\r\n                                $scope.transaction.end(error);\r\n                                $scope.message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                                $rootScope.$party = angular.fromJson($scope.originalParty);\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeUser\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the user's profile information.\r\n             * Also it updates user's profile in $rootScope.\r\n             */\r\n            function updateUser() {\r\n                var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                if ($rootScope.$user.id === $rootScope.$party.id) {\r\n                    pipDataUser.updateUser(\r\n                        {\r\n                            item: $rootScope.$user\r\n                        },\r\n                        function (data) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                            pipTranslate.use(data.language);\r\n                            $rootScope.$user.language = data.language;\r\n                            $rootScope.$user.theme = data.theme;\r\n                            if ($rootScope.$user.theme) {\r\n                                pipTheme.setCurrentTheme($rootScope.$user.theme, true);\r\n                            }\r\n\r\n                        }, function (error) {\r\n                            var message;\r\n                            \r\n                            $scope.transaction.end(error);\r\n                            message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangePassword\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onChangePassword(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_change_password.html',\r\n                    controller: 'pipUserSettingsChangePasswordController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        if (answer) {\r\n                            message = String() + 'RESET_PWD_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    });\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onVerifyEmail\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onVerifyEmail(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_verify_email.html',\r\n                    controller: 'pipUserSettingsVerifyEmailController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        $scope.user.email_ver = answer;\r\n                        if (answer) {\r\n                            message = String() + 'VERIFY_EMAIL_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings change password controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.ChangePassword', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n     *\r\n     * @description\r\n     * Controller for dialog panel of password change.\r\n     */\r\n    thisModule.controller('pipUserSettingsChangePasswordController',\r\n        function ($scope, $rootScope, $mdDialog, email, pipDataUser, pipTransaction, pipFormErrors) {\r\n\r\n            $scope.transaction = pipTransaction('settings.change_password', $scope);\r\n            $scope.errorsRepeatWithHint = function (form, formPart) {\r\n                if ($scope.showRepeatHint) {\r\n                    return pipFormErrors.errorsWithHint(form, formPart);\r\n                }\r\n\r\n                return {};\r\n            };\r\n            $scope.showRepeatHint = true;\r\n            $scope.changePasData = {};\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            $scope.onCancel = onCancel;\r\n            $scope.onCheckRepeatPassword = onCheckRepeatPassword;\r\n            $scope.onApply = onApply;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCheckRepeatPassword\r\n             *\r\n             * @description\r\n             * Validates a password typed into password fields.\r\n             */\r\n            function onCheckRepeatPassword() {\r\n                if ($scope.changePasData) {\r\n                    if ($scope.repeat === $scope.changePasData.new_password || $scope.repeat === '' || !$scope.repeat) {\r\n                        $scope.form.repeat.$setValidity('repeat', true);\r\n                        if ($scope.repeat === $scope.changePasData.new_password) {\r\n                            $scope.showRepeatHint = false;\r\n                        } else {\r\n                            $scope.showRepeatHint = true;\r\n                        }\r\n                    } else {\r\n                        $scope.showRepeatHint = true;\r\n                        $scope.form.repeat.$setValidity('repeat', false);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onApply\r\n             *\r\n             * @description\r\n             * Approves password change and sends request to the server on password change.\r\n             */\r\n            function onApply() {\r\n                $scope.onCheckRepeatPassword();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n\r\n                if (!$scope.transaction.begin('CHANGE_PASSWORD')) {\r\n                    return;\r\n                }\r\n\r\n                $scope.changePasData.email = email;\r\n\r\n                pipDataUser.changePassword(\r\n                    $scope.changePasData,\r\n                    function () {\r\n                        $scope.transaction.end();\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1107: 'oldPassword',\r\n                                1105: 'newPassword'\r\n                            }\r\n                        );\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings sessions controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Sessions', [\r\n        'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider, pipDataSessionProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'sessions',\r\n            index: 3,\r\n            title: 'SETTINGS_ACTIVE_SESSIONS_TITLE',\r\n            stateConfig: {\r\n                url: '/sessions',\r\n                controller: 'pipUserSettingsSessionsController',\r\n                templateUrl: 'user_settings/user_settings_sessions.html',\r\n                auth: true,\r\n                resolve: {\r\n                    sessions: pipDataSessionProvider.readSessionsResolver,\r\n                    sessionId: pipDataSessionProvider.readSessionIdResolver\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n     *\r\n     * @description\r\n     * Controller provides an interface for managing active sessions.\r\n     */\r\n    thisModule.controller('pipUserSettingsSessionsController',\r\n        function ($scope, pipTransaction, pipDataSession, sessions, sessionId) {\r\n\r\n            $scope.sessionId = sessionId;\r\n            $scope.transaction = pipTransaction('settings.sessions', $scope);\r\n            $scope.sessions = sessions;\r\n\r\n            $scope.onRemoveAll = onRemoveAll;\r\n            $scope.onRemove = onRemove;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemoveAll\r\n             *\r\n             * @description\r\n             * Closes all active session.\r\n             */\r\n            function onRemoveAll() {\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n\r\n                async.eachSeries(\r\n                    $scope.sessions,\r\n                    function (session: any, callback) {\r\n                        if (session.id == $scope.sessionId) {\r\n                            callback();\r\n                        } else {\r\n                            pipDataSession.removeSession(\r\n                                {\r\n                                    session: session\r\n                                },\r\n                                function () {\r\n                                    $scope.sessions = _.without($scope.sessions, session);\r\n                                    callback();\r\n                                },\r\n                                function (error) {\r\n                                    callback;\r\n                                }\r\n                            );\r\n                        }\r\n                    },\r\n                    function (err) {\r\n                        if (err) {\r\n                            $scope.transaction.end(err);\r\n                        }\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n                    });                \r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemove\r\n             *\r\n             * @description\r\n             * Closes passed session.\r\n             *\r\n             * @param {Object} session  Session configuration object\r\n             */\r\n            function onRemove(session, callback) {\r\n                if (session.id === $scope.sessionId) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n                pipDataSession.removeSession(\r\n                    {\r\n                        session: session\r\n                    },\r\n                    function () {\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n\r\n                        $scope.sessions = _.without($scope.sessions, session);\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        $scope.message = 'ERROR_' + error.status || error.data.status_code;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* eslint-disable quote-props */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Strings', ['pipTranslate']);\r\n\r\n    thisModule.config(function (pipTranslateProvider) {\r\n\r\n        // Set translation strings for the module\r\n        pipTranslateProvider.translations('en', {\r\n            'SETTINGS_TITLE': 'Settings',\r\n            'SETTINGS_BASIC_INFO_TITLE': 'Basic info',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'Active sessions',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'Full name',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'Please, verify your email address.',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'Verify email address',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'Your password was changed on ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'Change your password',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'Please, use your real name to let other people know who you are.',\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'Few words about yourself',\r\n\r\n            'SETTINGS_BASIC_INFO_GENDER': 'Gender',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'Birthday',\r\n            'SETTINGS_BASIC_INFO_LOCATION': 'Current location',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'Primary email',\r\n            'SETTINGS_BASIC_INFO_FROM': 'User since ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': 'User ID',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'Change password',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'New password',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'Repeat password',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Current password',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': ' If you notice any unfamiliar devices or locations, click' +\r\n            '\"Close Session\" to end the session.',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'Close session',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'Close active sessions',\r\n            'SETTINGS_ACTIVE_SESSION_OS': 'OS: ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'active',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': 'Blacklist',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Parties from blacklist will not be able to send you invitations and ' +\r\n            'private messages.',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Unblock',\r\n            'SETTINGS_BLACKLIST_EMPTY': 'You have no blocked parties',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': 'Contact info',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': 'Email',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'Add email',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'Add phone',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'Add address',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'Add account',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'Add URL',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'Address',\r\n            'SETTINGS_CONTACT_INFO_PHONE': 'Phone',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Account name',\r\n            'SETTINGS_CONTACT_INFO_URL': 'URL',\r\n\r\n            'THEME': 'Theme',\r\n\r\n            'HINT_PASSWORD': 'Minimum 6 characters',\r\n            'HINT_REPEAT_PASSWORD': 'Repeat password',\r\n\r\n            'ERROR_WRONG_PASSWORD': 'Wrong password',\r\n            'ERROR_IDENTICAL_PASSWORDS': 'Old and new passwords are identical',\r\n            'REPEAT_PASSWORD_INVALID': 'Password does not match',\r\n            'ERROR_EMAIL_INVALID': 'Please, enter a valid email'\r\n        });\r\n\r\n        pipTranslateProvider.translations('ru', {\r\n            'SETTINGS_TITLE': '',\r\n            'SETTINGS_BASIC_INFO_TITLE': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': ' ',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': ',   ,     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': ',     ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': '  .',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': '    ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': ' ',\r\n\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': '   ',\r\n            'SETTINGS_BASIC_INFO_GENDER': '',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': ' ',\r\n            'SETTINGS_BASIC_INFO_LOCATION': ' ',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': '  . ',\r\n            'SETTINGS_BASIC_INFO_FROM': ' ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': ' ',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': ' ',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': '',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': ' ',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': '   -    ' +\r\n            ',   \" \",   .',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': ' ',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': '  ',\r\n            'SETTINGS_ACTIVE_SESSION_OS': ': ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': '',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': '',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': '     ' +\r\n            '      .',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': '',\r\n            'SETTINGS_BLACKLIST_EMPTY': '    ',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': '',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': '  ',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': '  . ',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': ' ',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': ' -',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': '',\r\n            'SETTINGS_CONTACT_INFO_PHONE': '',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': '  ',\r\n            'SETTINGS_CONTACT_INFO_URL': ' ',\r\n\r\n            'THEME': '',\r\n\r\n            'HINT_PASSWORD': ' 6 ',\r\n            'HINT_REPEAT_PASSWORD': ' ',\r\n\r\n            'ERROR_WRONG_PASSWORD': ' ',\r\n            'ERROR_IDENTICAL_PASSWORDS': '    ',\r\n            'REPEAT_PASSWORD_INVALID': '  ',\r\n            'ERROR_EMAIL_INVALID': ',   .'\r\n        });\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Settings verify email controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.VerifyEmail', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n     *\r\n     * @description\r\n     * Controller for verify email dialog panel.\r\n     */\r\n    thisModule.controller('pipUserSettingsVerifyEmailController',\r\n        function ($scope, $rootScope, $mdDialog, pipTransaction, pipFormErrors, pipDataUser, email) {\r\n\r\n            $scope.emailVerified = false;\r\n            $scope.data = {\r\n                email: email,\r\n                code: ''\r\n            };\r\n            $scope.transaction = pipTransaction('settings.verify_email', $scope);\r\n\r\n            /** @see onAbort */\r\n            $scope.onAbort = onAbort;\r\n            /** @see onRequestVerificationClick*/\r\n            $scope.onRequestVerificationClick = onRequestVerificationClick;\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onVerify */\r\n            $scope.onVerify = onVerify;\r\n            /** @see onCancel */\r\n            $scope.onCancel = onCancel;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onAbort\r\n             *\r\n             * @description\r\n             * Aborts a verify request.\r\n             */\r\n            function onAbort() {\r\n                $scope.transaction.abort();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onRequestVerificationClick\r\n             *\r\n             * @description\r\n             * Sends request to verify entered email.\r\n             */\r\n            function onRequestVerificationClick() {\r\n                    var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                pipDataUser.requestEmailVerification(\r\n                    {},                         \r\n                    function (result) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n                        }, \r\n                        function (error) {\r\n                            $scope.transaction.end(error);\r\n                        }\r\n                    );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onVerify\r\n             *\r\n             * @description\r\n             * Initiates request on verify email on the server.\r\n             */\r\n            function onVerify() {\r\n                $scope.form.$setSubmitted();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('Verifying');\r\n\r\n                pipDataUser.verifyEmail(\r\n                    {\r\n                        email: $scope.data.email,\r\n                        code: $scope.data.code\r\n                    }, \r\n                    function (verifyData) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1106: 'email',\r\n                                1103: 'code'\r\n                            }\r\n                        );\r\n\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('settings_page/settings_page.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar>\\n' +\n    '<pip-document width=\"800\" min-height=\"400\"\\n' +\n    '              class=\"pip-settings\">\\n' +\n    '\\n' +\n    '    <div class=\"pip-menu-container\"\\n' +\n    '         ng-hide=\"manager === false || !tabs || tabs.length < 1\">\\n' +\n    '        <md-list class=\"pip-menu pip-simple-list hide-xs\"\\n' +\n    '                 pip-selected=\"selected.tabIndex\"\\n' +\n    '                 pip-selected-watch=\"selected.navId\"\\n' +\n    '                 pip-select=\"onNavigationSelect($event.id)\">\\n' +\n    '            <md-list-item class=\"pip-simple-list-item pip-selectable flex\"\\n' +\n    '                          ng-repeat=\"tab in tabs track by tab.state\" ng-if=\"$party.id == $user.id ||\\n' +\n    '                          tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\'\\n' +\n    '                          || tab.state ==\\'settings.blacklist\\'\"\\n' +\n    '                          md-ink-ripple\\n' +\n    '                          pip-id=\"{{:: tab.state }}\">\\n' +\n    '                <p>{{::tab.title | translate}}</p>\\n' +\n    '            </md-list-item>\\n' +\n    '        </md-list>\\n' +\n    '\\n' +\n    '        <div class=\"pip-content-container\" ng-if=\"selected.tab\">\\n' +\n    '            <pip-dropdown class=\"hide-gt-xs\"\\n' +\n    '                          pip-actions=\"tabs\"\\n' +\n    '                          pip-dropdown-select=\"onDropdownSelect\"\\n' +\n    '                          pip-active-index=\"selected.tabIndex\"></pip-dropdown>\\n' +\n    '\\n' +\n    '            <div class=\"pip-body tp24-flex layout-column\" ui-view></div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"layout-column layout-align-center-center flex\"\\n' +\n    '         ng-show=\"manager === false || !tabs || tabs.length < 1\">\\n' +\n    '        {{::\\'ERROR_400\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '</pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_basic_info.html',\n    '<form name=\"form\" class=\"w-stretch\" novalidate>\\n' +\n    '    <md-progress-linear class=\"pip-progress-top\"\\n' +\n    '                        ng-show=\"transaction.busy()\"\\n' +\n    '                        md-mode=\"indeterminate\"></md-progress-linear>\\n' +\n    '    <div class=\"layout-row bm12\">\\n' +\n    '        <div class=\"md-tile-left\">\\n' +\n    '            <pip-avatar-edit pip-party-id=\"$party.id\"\\n' +\n    '                             pip-created=\"onPictureCreated($event)\"\\n' +\n    '                             pip-changed=\"onPictureChanged($control, $event)\">\\n' +\n    '            </pip-avatar-edit>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"md-tile-content tp0 layout-align-center\">\\n' +\n    '            <h3 class=\"tm16 bm8 text-one-line\">{{ nameCopy }}</h3>\\n' +\n    '\\n' +\n    '            <p class=\"text-primary text-overflow m0\">\\n' +\n    '                {{::\\'SETTINGS_BASIC_INFO_FROM\\' | translate}}\\n' +\n    '                {{$user.signup | formatLongDate }}\\n' +\n    '            </p>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\">\\n' +\n    '        <label>{{::\\'SETTINGS_BASIC_INFO_FULL_NAME\\' | translate}}</label>\\n' +\n    '        <input name=\"fullName\" step=\"any\" type=\"text\" tabindex=\"0\" required\\n' +\n    '               ng-model=\"$party.name\"\\n' +\n    '               ng-disabled=\"transaction.busy()\"\\n' +\n    '               ng-change=\"onChangeBasicInfo()\"/>\\n' +\n    '\\n' +\n    '        <div class=\"hint\"\\n' +\n    '             ng-if=\"errorsWithHint(form, form.fullName).hint\">\\n' +\n    '            {{::\\'ERROR_FULLNAME_INVALID\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block bm0\">\\n' +\n    '        <label>{{::\\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\\' | translate}}</label>\\n' +\n    '        <input name=\"email\" type=\"email\" required\\n' +\n    '               ng-model=\"$party.email\"\\n' +\n    '               ng-change=\"onChangeBasicInfo()\"\\n' +\n    '               pip-email-unique=\"{{$party.email}}\"/>\\n' +\n    '\\n' +\n    '        <div class=\"hint\"\\n' +\n    '             ng-if=\"errorsWithHint(form, form.email).hint && !$user.email_ver\">\\n' +\n    '            {{::\\'SETTINGS_BASIC_INFO_VERIFY_HINT\\' | translate}}\\n' +\n    '        </div>\\n' +\n    '        <div ng-messages=\"errorsWithHint(form.email)\" ng-hide=\" $party.type ==\\'team\\'\">\\n' +\n    '            <div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div>\\n' +\n    '            <div ng-message=\"emailUnique\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div>\\n' +\n    '        </div>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-button class=\"md-raised bm16 tm8 rm8\"\\n' +\n    '               ng-click=\"onVerifyEmail($event)\"\\n' +\n    '               ng-hide=\"$user.email_ver || $party.type ==\\'team\\'\">\\n' +\n    '        {{::\\'SETTINGS_BASIC_INFO_VERIFY_CODE\\' | translate}}\\n' +\n    '    </md-button>\\n' +\n    '\\n' +\n    '    <md-button ng-click=\"onChangePassword($event)\" class=\"md-raised bm16 tm8\" ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        {{::\\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\\' | translate}}\\n' +\n    '    </md-button>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block flex\">\\n' +\n    '        <label>{{::\\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\\' | translate }}</label>\\n' +\n    '        <textarea ng-model=\"$party.about\" columns=\"1\"\\n' +\n    '                  ng-change=\"onChangeBasicInfo()\"></textarea>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        <label>{{::\\'GENDER\\' | translate}}</label>\\n' +\n    '        <md-select ng-model=\"$party.gender\" ng-change=\"onChangeBasicInfo()\"\\n' +\n    '                   placeholder=\"{{\\'GENDER\\' | translate}}\">\\n' +\n    '            <md-option ng-value=\"gender.id\" ng-repeat=\"gender in genders\">{{gender.name}}</md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <div ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        <p class=\"text-caption text-grey tm0 bm0\">{{::\\'SETTINGS_BASIC_INFO_BIRTHDAY\\' | translate}}</p>\\n' +\n    '        <pip-date ng-model=\"$party.birthday\"\\n' +\n    '                  ng-change=\"onChangeBasicInfo()\"\\n' +\n    '                  pip-time-mode=\"past\\n' +\n    '                  time-mode=\"past\"></pip-date>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\"\\n' +\n    '                        ng-hide=\"$party.type ==\\'team\\'\">\\n' +\n    '        <label>{{::\\'LANGUAGE\\' | translate}}</label>\\n' +\n    '        <md-select placeholder=\"{{\\'LANGUAGE\\' | translate}}\"\\n' +\n    '                   ng-model=\"$user.language\"\\n' +\n    '                   ng-change=\"onChangeUser()\">\\n' +\n    '            <md-option ng-value=\"language.id\"\\n' +\n    '                       ng-repeat=\"language in languages\">\\n' +\n    '                {{language.name}}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '\\n' +\n    '    <md-input-container class=\"md-block\"\\n' +\n    '                        ng-if=\"$party.type !=\\'team\\'\">\\n' +\n    '        <label>{{::\\'THEME\\' | translate}}</label>\\n' +\n    '        <md-select class=\"w-stretch theme-text-primary\"\\n' +\n    '                   ng-model=\"$user.theme\"\\n' +\n    '                   ng-change=\"onChangeUser()\"\\n' +\n    '                   ng-disabled=\"transaction.busy()\">\\n' +\n    '            <md-option ng-value=\"theme\"\\n' +\n    '                       ng-repeat=\"theme in themes\"\\n' +\n    '                       ng-selected=\"$theme == theme ? true : false\">\\n' +\n    '                {{ theme | translate }}\\n' +\n    '            </md-option>\\n' +\n    '        </md-select>\\n' +\n    '    </md-input-container>\\n' +\n    '    <pip-location-edit class=\"map-edit bm24-flex\"\\n' +\n    '                       ng-hide=\"$party.type ==\\'team\\'\"\\n' +\n    '                       pip-changed=\"onChangeBasicInfo()\"\\n' +\n    '                       pip-location-name=\"$party.loc_name\"\\n' +\n    '                       pip-location-pos=\"loc_pos\">\\n' +\n    '    </pip-location-edit>\\n' +\n    '</form>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_change_password.html',\n    '<md-dialog class=\"pip-dialog layout-column\"  width=\"440\">\\n' +\n    '    <form name=\"form\" ng-submit=\"onApply()\" >\\n' +\n    '    <div class=\"pip-header\">\\n' +\n    '        <h3 class=\"m0\">\\n' +\n    '            {{::\\'SETTINGS_CHANGE_PASSWORD_TITLE\\' | translate : module}}\\n' +\n    '        </h3>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '            <div class=\"text-error bm8\"\\n' +\n    '                 ng-messages=\"form.$serverError\">\\n' +\n    '                <div ng-message=\"ERROR_UNKNOWN\">\\n' +\n    '                    {{ form.$serverError.ERROR_UNKNOWN | translate }}\\n' +\n    '                </div>\\n' +\n    '            </div>\\n' +\n    '\\n' +\n    '            <md-input-container class=\"md-block\">\\n' +\n    '                <label>{{::\\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\\' | translate }}</label>\\n' +\n    '                <input name=\"oldPassword\" type=\"password\"\\n' +\n    '                       ng-model=\"changePasData.old_password\"\\n' +\n    '                       ng-required=\"change_password.$submitted\"\\n' +\n    '                       pip-clear-errors/>\\n' +\n    '\\n' +\n    '                <div ng-messages=\"errorsWithHint(form, form.oldPassword)\">\\n' +\n    '                    <div ng-message=\"required\">\\n' +\n    '                        {{::\\'ERROR_REQUIRED\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                    <div ng-message=\"ERROR_1107\">\\n' +\n    '                        {{::\\'ERROR_WRONG_PASSWORD\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '            </md-input-container>\\n' +\n    '\\n' +\n    '            <md-input-container class=\"md-block\">\\n' +\n    '                <label>{{\\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\\' | translate }}</label>\\n' +\n    '                <input name=\"newPassword\" type=\"password\"\\n' +\n    '                       ng-model=\"changePasData.new_password\"\\n' +\n    '                       ng-change=\"onCheckRepeatPassword()\"\\n' +\n    '                       ng-required=\"change_password.$submitted\"\\n' +\n    '                       ng-minlength=\"6\"\\n' +\n    '                       pip-clear-errors/>\\n' +\n    '                <div class=\"hint\"\\n' +\n    '                     ng-if=\"errorsWithHint(form, form.newPassword).hint\">\\n' +\n    '                    {{ \\'HINT_PASSWORD\\' | translate }}\\n' +\n    '                </div>\\n' +\n    '                <div ng-messages=\"errorsWithHint(form, form.newPassword)\">\\n' +\n    '                    <div ng-message=\"required\">\\n' +\n    '                        {{::\\'ERROR_REQUIRED\\' | translate}}\\n' +\n    '                    </div>\\n' +\n    '                    <div ng-message=\"minlength\">\\n' +\n    '                        {{::\\'HINT_PASSWORD\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                    <div ng-message=\"ERROR_1105\">\\n' +\n    '                        {{::\\'ERROR_IDENTICAL_PASSWORDS\\' | translate }}\\n' +\n    '                    </div>\\n' +\n    '                </div>\\n' +\n    '            </md-input-container>\\n' +\n    '\\n' +\n    '            <md-input-container class=\"md-block\">\\n' +\n    '                <label>{{ \\'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\\' | translate }}</label>\\n' +\n    '                <input name=\"repeat\"  type=\"password\"\\n' +\n    '                       ng-model=\"repeat\"\\n' +\n    '                       ng-change=\"onCheckRepeatPassword()\"\\n' +\n    '                       ng-required=\"change_password.$submitted\"\\n' +\n    '                       ng-minlength=\"6\" />\\n' +\n    '\\n' +\n    '                <div class=\"hint\"\\n' +\n    '                     ng-if=\"errorsRepeatWithHint(form.repeat).hint\">\\n' +\n    '                    {{::\\'HINT_REPEAT_PASSWORD\\' | translate }}\\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '                <div ng-messages=\"errorsRepeatWithHint(form.repeat)\">\\n' +\n    '                    <div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div>\\n' +\n    '                    <div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div>\\n' +\n    '                    <div ng-message=\"repeat\">{{::\\'REPEAT_PASSWORD_INVALID\\' | translate }}</div>\\n' +\n    '                </div>\\n' +\n    '\\n' +\n    '            </md-input-container>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <div>\\n' +\n    '            <md-button aria-label=\"xxx\"\\n' +\n    '                       ng-click=\"onCancel()\">\\n' +\n    '                {{::\\'CANCEL\\' | translate }}\\n' +\n    '            </md-button>\\n' +\n    '            <md-button type=\"submit\" class=\"md-accent\" aria-label=\"xxx\">\\n' +\n    '                {{::\\'APPLY\\' | translate : module}}\\n' +\n    '            </md-button>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    </form>\\n' +\n    '</md-dialog>\\n' +\n    '\\n' +\n    '\\n' +\n    '\\n' +\n    '\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_sessions.html',\n    '\\n' +\n    '    <md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\">\\n' +\n    '    </md-progress-linear>\\n' +\n    '    <div class=\"pip-details-title pip-sessions\">\\n' +\n    '        <p class=\"pip-title bm16\">\\n' +\n    '            {{::\\'SETTINGS_ACTIVE_SESSIONS_TITLE\\' | translate}}\\n' +\n    '        </p>\\n' +\n    '\\n' +\n    '        <p class=\"pip-subtitle\">\\n' +\n    '            {{::\\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\\' | translate}}\\n' +\n    '        </p>\\n' +\n    '    </div>\\n' +\n    '\\n' +\n    '\\n' +\n    '<md-list class=\"w-stretch\">\\n' +\n    '    <div ng-repeat=\"session in sessions\" >\\n' +\n    '        <div class=\"layout-row\"\\n' +\n    '             ng-init=\"showBlock = session.id != sessionId\"\\n' +\n    '             ng-click=\"showBlock = !showBlock\" >\\n' +\n    '            <p class=\"m0 text-subhead2 text-overflow max-w50-stretch\">\\n' +\n    '                {{::session.client}}\\n' +\n    '            </p>\\n' +\n    '            <p class=\"m0 lp4 text-body1 color-secondary-text flex\">\\n' +\n    '                {{::\\'SETTINGS_ACTIVE_SESSION_ACTIVE\\' | translate}}\\n' +\n    '            </p>\\n' +\n    '            <p class=\"m0 text-body1 color-secondary-text\">\\n' +\n    '                {{::country}}\\n' +\n    '                <md-icon ng-if=\"showBlock\" md-svg-icon=\"icons:triangle-up\"></md-icon>\\n' +\n    '                <md-icon ng-if=\"!showBlock\" md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '            </p>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"layout-row bm8 bp8\" ng-class=\"{\\'divider-bottom\\':!$last}\" >\\n' +\n    '            <div class=\"flex-50\">\\n' +\n    '                <p class=\"m0 bm4 text-body1 text-overflow color-secondary-text \">\\n' +\n    '                    {{session.last_req | date : \\'medium\\'}}\\n' +\n    '                </p>\\n' +\n    '                <p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\"\\n' +\n    '                   ng-show=\"showBlock\">\\n' +\n    '                    {{::\\'SETTINGS_ACTIVE_SESSION_OS\\' | translate}}{{::session.platform}}</p>\\n' +\n    '                <p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\"\\n' +\n    '                   ng-show=\"showBlock\">\\n' +\n    '                    {{::\\'SETTINGS_ACTIVE_SESSION_IP\\' | translate}}{{::session.address}}\\n' +\n    '                </p>\\n' +\n    '                <md-button class=\"md-raised\"\\n' +\n    '                           ng-show=\"showBlock && session.id != sessionId\"\\n' +\n    '                           ng-click=\"onRemove(session)\">\\n' +\n    '                    {{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\\' | translate}}\\n' +\n    '                </md-button>\\n' +\n    '            </div>\\n' +\n    '\\n' +\n    '            <pip-location-ip class=\"map-edit flex-50\" ng-if=\"showBlock\"\\n' +\n    '                             pip-ipaddress=\"session.address\"\\n' +\n    '                             pip-extra-info=\"country = extraInfo.country\">\\n' +\n    '            </pip-location-ip>\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '    </div>\\n' +\n    '</md-list>\\n' +\n    '<div class=\"layout-row layout-align-end-center\">\\n' +\n    '    <md-button class=\"md-raised\"\\n' +\n    '               ng-show=\"sessions.length > 1\"\\n' +\n    '               ng-click=\"onRemoveAll()\">\\n' +\n    '        {{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\\' | translate}}\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_verify_email.html',\n    '<md-dialog class=\"pip-dialog layout-column\"  width=\"440\">\\n' +\n    '    <div class=\"pip-body\">\\n' +\n    '        <div class=\"pip-content\">\\n' +\n    '                <md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\" >\\n' +\n    '                </md-progress-linear>\\n' +\n    '\\n' +\n    '                <h2>{{::\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2>\\n' +\n    '\\n' +\n    '                <p class=\"title-padding\">{{::\\'VERIFY_EMAIL_TEXT_1\\' | translate}} </p>\\n' +\n    '\\n' +\n    '                <form name=\\'form\\' novalidate>\\n' +\n    '                    <div ng-messages=\"form.$serverError\" class=\"text-error bm8\">\\n' +\n    '                        <div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div>\\n' +\n    '                    </div>\\n' +\n    '\\n' +\n    '                    <md-input-container class=\"display  bp4 md-block\" >\\n' +\n    '                        <label>{{::\\'EMAIL\\' | translate}}</label>\\n' +\n    '                        <input name=\"email\" type=\"email\" ng-model=\"data.email\" required step=\"any\"\\n' +\n    '                               pip-clear-errors  tabindex=\"1\"\\n' +\n    '                               ng-disabled=\"transaction.busy()\"\\n' +\n    '                               pip-test=\"input-email\"/>\\n' +\n    '                        <div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint\">{{::\\'HINT_EMAIL\\' | translate}}</div>\\n' +\n    '                        <div ng-messages=\"errorsWithHint(form, form.email)\"\\n' +\n    '                             xng-if=\"!form.email.$pristine\">\\n' +\n    '                            <div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div>\\n' +\n    '                            <div ng-message=\"ERROR_1106\">{{::\\'ERROR_USER_NOT_FOUND\\' | translate}}</div>\\n' +\n    '                        </div>\\n' +\n    '                    </md-input-container>\\n' +\n    '\\n' +\n    '                    <md-input-container class=\"md-block\">\\n' +\n    '                        <label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label>\\n' +\n    '                        <input name=\"code\" ng-disabled=\"transaction.busy()\" tabindex=\"0\"\\n' +\n    '                               ng-model=\"data.code\" required pip-clear-errors/>\\n' +\n    '                        <div ng-messages=\"errorsWithHint(form, form.code)\">\\n' +\n    '                            <div ng-message=\"required\"> {{::\\'ERROR_CODE_INVALID\\' | translate }}</div>\\n' +\n    '                            <div ng-message=\"ERROR_1103\"> {{::\\'ERROR_CODE_WRONG\\' | translate }}</div>\\n' +\n    '                        </div>\\n' +\n    '                    </md-input-container>\\n' +\n    '\\n' +\n    '                    <p>\\n' +\n    '                        {{::\\'VERIFY_EMAIL_TEXT_21\\' | translate}}\\n' +\n    '                        <a ng-click=\"onRequestVerificationClick()\" class=\"pointer\" tabindex=\"0\">{{::\\'VERIFY_EMAIL_RESEND\\' | translate}}</a>\\n' +\n    '                        {{::\\'VERIFY_EMAIL_TEXT_22\\' | translate}}\\n' +\n    '                    </p>\\n' +\n    '                </form>\\n' +\n    '            </div>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-footer\">\\n' +\n    '            <md-button ng-click=\"onCancel()\" ng-hide=\"transaction.busy()\" aria-label=\"xxx\">\\n' +\n    '                {{::\\'CANCEL\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '            <md-button class=\"md-accent\" ng-click=\"onVerify()\" ng-hide=\"transaction.busy()\" tabindex=\"0\" aria-label=\"xxx\"\\n' +\n    '                ng-disabled=\"data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)\">\\n' +\n    '                {{::\\'VERIFY\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '            <md-button class=\"md-warn\" ng-show=\"transaction.busy()\" ng-click=\"transaction.abort()\" tabindex=\"0\" aria-label=\"xxx\">\\n' +\n    '                {{::\\'CANCEL\\' | translate}}\\n' +\n    '            </md-button>\\n' +\n    '\\n' +\n    '        </div>\\n' +\n    '</md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.js.map\n","/**\r\n * @file Registration of all help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp', [\r\n        'pipHelp.Service',\r\n        'pipHelp.Page'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Page template for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp.Page', ['ui.router', 'pipHelp.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\r\n        'pipHelp.Templates'])\r\n        .config(config)\r\n        .controller('pipHelpPageController', HelpPageController);\r\n\r\n    function config($stateProvider) {\r\n        $stateProvider.state('help', {\r\n            url: '/help',\r\n            auth: false,\r\n            controller: 'pipHelpPageController',\r\n            templateUrl: 'help_page/help_page.html'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipHelp.Page.pipHelpPageController\r\n     *\r\n     * @description\r\n     * The controller is used for the root Help component.\r\n     * It manages available tabs provide navigation through those ones.\r\n     *\r\n     * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L40 View source}\r\n     *\r\n     *\r\n     * @param {Object} $rootScope   Root scope object\r\n     * @param {Object} $scope       Scope for the current controller\r\n     * @param {Object} $state       UI Router service\r\n     * @param {Object} pipAppBar    Service provides an interface to manage on application bar header.\r\n     * @param {Object} pipHelp      Service to manage this component behaviour\r\n     */\r\n    function HelpPageController($rootScope, $scope, $state, pipAppBar, pipHelp) {\r\n\r\n        $scope.tabs = _.filter(pipHelp.getTabs(), function (tab: any) {\r\n            if (tab.visible && (tab.access !== angular.noop ? tab.access($rootScope.$user, tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n        $scope.selected = {};\r\n\r\n        if ($state.current.name !== 'help') {\r\n            initSelect($state.current.name);\r\n        } else {\r\n            initSelect(pipHelp.getDefaultTab().state);\r\n        }\r\n\r\n        appHeader();\r\n\r\n        $scope.onNavigationSelect = onNavigationSelect;\r\n        $scope.onDropdownSelect = onDropdownSelect;\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onDropdownSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L72 View source}\r\n         *\r\n         * @param {Object} state    State configuration object\r\n         */\r\n        function onDropdownSelect(state) {\r\n            onNavigationSelect(state.state);\r\n        }\r\n\r\n        /**\r\n         * Config appBar due to this page\r\n         */\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showTitleText('Help');\r\n            pipAppBar.showShadowSm();\r\n            pipAppBar.showLocalActions(null, []);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onNavigationSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L98 View source}\r\n         *\r\n         * @param {string} state    Name of the target state.\r\n         */\r\n        function onNavigationSelect(state) {\r\n            initSelect(state);\r\n\r\n            if ($scope.selected.tab) {\r\n                $state.go(state);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set selected item for highlighting in the nav menu\r\n         */\r\n        function initSelect(state) {\r\n            $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\r\n                return tab.state === state;\r\n            });\r\n\r\n            $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\r\n            $scope.selected.tabId = state;\r\n        }\r\n    }\r\n})();\r\n","/**\r\n * @file Service for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name pipHelp.Service.pipHelp\r\n     *\r\n     * @description\r\n     * This service is provided an interface to manage the Help component.\r\n     * It is available on the config and run application phases. On the both phases the interface is the same.\r\n     * This module requires the '$state' module.\r\n     */\r\n    angular.module('pipHelp.Service', ['ui.router'])\r\n        .provider('pipHelp',\r\n            function ($stateProvider): any {\r\n                var defaultTab,\r\n                    tabs = [];\r\n\r\n                /** @see addTab */\r\n                this.addTab = addTab;\r\n\r\n                /** @see setDefaultTab */\r\n                this.setDefaultTab = setDefaultTab;\r\n\r\n                /** @see getTabs */\r\n                this.getTabs = getTabs;\r\n\r\n                /** @see getDefaultTab */\r\n                this.getDefaultTab = getDefaultTab;\r\n\r\n                this.$get = function () {\r\n                    return {\r\n                        /** @see getTabs */\r\n                        getTabs: getTabs,\r\n\r\n                        /** @see getDefaultTab */\r\n                        getDefaultTab: getDefaultTab,\r\n\r\n                        /** @see addTab */\r\n                        addTab: addTab,\r\n\r\n                        /** @see setDefaultTab */\r\n                        setDefaultTab: setDefaultTab\r\n                    };\r\n                };\r\n\r\n                /**\r\n                 * This method build the full name of state within the abstract 'help' state\r\n                 */\r\n                function getFullStateName(state) {\r\n                    return 'help.' + state;\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getTabs\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method returns asset of all tabs registered in the Help component.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L79 View source}\r\n                 *\r\n                 * @returns {Array<Object>} List of registered states\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getTabs();\r\n                 * </pre>\r\n                 */\r\n                function getTabs() {\r\n                    return _.cloneDeep(tabs);\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method return name of the default state.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L101 View source}\r\n                 *\r\n                 * @returns {string} Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getDefaultTab();\r\n                 * </pre>\r\n                 */\r\n                function getDefaultTab() {\r\n                    return _.cloneDeep(_.find(tabs, function (tab) {\r\n                        return tab.state === defaultTab;\r\n                    }));\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#addTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method allows add new tab into navigation menu. It accepts config object to define new state\r\n                 * with needed params.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L139 View source}\r\n                 *\r\n                 * @param {Object} tabObj Configuration object contains settings for another tab\r\n                 * @param {Object.<string>} tabObj.state   Name of tab state which is available via UI router\r\n                 * @param {Object.<string>} tabObj.title   Tab title in the navigation menu.\r\n                 * @param {Object.<boolean>} tabObj.access If it is true it will be available only for logged in users\r\n                 * @param {Object.<boolean>} tabObj.visible If it is true the tab will be visible\r\n                 * @param {Object.<Object>} tabObj.stateConfig  Configuration object in format like UI Router state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 *  // on the config phase\r\n                 *  pipHelpProvider.addTab({\r\n                 *      state: 'test',\r\n                 *      title: 'Test help tab',\r\n                 *      auth: true,\r\n                 *      stateConfig: {\r\n                 *          url: '/test',\r\n                 *          templateUrl: 'help/help_test1.html'\r\n                 *      }\r\n                 *  });\r\n                 * </pre>\r\n                 */\r\n                function addTab(tabObj) {\r\n                    var tab;\r\n\r\n                    validateTab(tabObj);\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(tabObj.state);\r\n                    });\r\n                    if (tab) {\r\n                        throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n                    }\r\n\r\n                    tabs.push({\r\n                        state: getFullStateName(tabObj.state),\r\n                        title: tabObj.title,\r\n                        access: tabObj.access || angular.noop,\r\n                        visible: tabObj.visible || true,\r\n                        stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n                    });\r\n\r\n                    $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n                    // if we just added first state and no default state is specified\r\n                    if (_.isUndefined(defaultTab) && tabs.length === 1) {\r\n                        setDefaultTab(tabObj.state);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#setDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method establishes passed state as default which is redirected at after transfer on abstract\r\n                 * state\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L185 View source}\r\n                 *\r\n                 * @param {Object} name     Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * pipHelpProvider.setDefaultTab('test');\r\n                 * </pre>\r\n                 */\r\n                function setDefaultTab(name) {\r\n                    var tab, error;\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(name);\r\n                    });\r\n                    if (!tab) {\r\n                        error = new Error('Tab with state name \"' + name + '\" is not registered');\r\n                        throw error;\r\n                    }\r\n\r\n                    defaultTab = getFullStateName(name);\r\n\r\n                    $stateProvider.redirect('help', getFullStateName(name));\r\n                }\r\n\r\n                /**\r\n                 * This method validates passed state.\r\n                 * If it is incorrect it will throw an error.\r\n                 */\r\n                function validateTab(tabObj) {\r\n                    if (!tabObj || !_.isObject(tabObj)) {\r\n                        throw new Error('Invalid object');\r\n                    }\r\n\r\n                    if (!tabObj.state || tabObj.state === '') {\r\n                        throw new Error('Tab should have valid Angular UI router state name');\r\n                    }\r\n\r\n                    if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n                        throw new Error('\"access\" should be a function');\r\n                    }\r\n\r\n                    if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n                        throw new Error('Invalid state configuration object');\r\n                    }\r\n                }\r\n            });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/help_page.html',\n    '<!--\\n' +\n    '@file Help page\\n' +\n    '@copyright Digital Living Software Corp. 2014-2016\\n' +\n    '-->\\n' +\n    '\\n' +\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar>\\n' +\n    '\\n' +\n    '<pip-document width=\"800\" min-height=\"400\">\\n' +\n    '    <div class=\"pip-menu-container pip-help\"\\n' +\n    '         ng-if=\"manager !== false\">\\n' +\n    '        <md-list class=\"pip-menu pip-simple-list hide-xs\"\\n' +\n    '                 pip-selected=\"selected.tabIndex\"\\n' +\n    '                 pip-selected-watch=\"selected.navId\"\\n' +\n    '                 pip-select=\"onNavigationSelect($event.id)\">\\n' +\n    '            <md-list-item class=\"pip-simple-list-item pip-selectable\"\\n' +\n    '                          ng-repeat=\"tab in tabs track by tab.state\"\\n' +\n    '                          md-ink-ripple\\n' +\n    '                          pip-id=\"{{::tab.state }}\">\\n' +\n    '                <p> {{::tab.title | translate}} </p>\\n' +\n    '            </md-list-item>\\n' +\n    '        </md-list>\\n' +\n    '\\n' +\n    '        <div class=\"pip-content-container\">\\n' +\n    '            <pip-dropdown class=\"hide-gt-xs\"\\n' +\n    '                          pip-actions=\"tabs\"\\n' +\n    '                          pip-dropdown-select=\"onDropdownSelect\"\\n' +\n    '                          pip-active-index=\"selected.tabIndex\"></pip-dropdown>\\n' +\n    '            <div class=\"pip-body layout-column flex\" ui-view></div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"layout-column layout-align-center-center flex\"\\n' +\n    '         ng-if=\"manager === false\">\\n' +\n    '        {{::\\'ERROR_400\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '</pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.js.map\n"]}